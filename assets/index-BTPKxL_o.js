var jLe=Object.defineProperty;var zLe=(e,t,n)=>t in e?jLe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Rs=(e,t,n)=>zLe(e,typeof t!="symbol"?t+"":t,n);function ULe(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var vt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function HLe(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Cme={exports:{}},ZM={},Ame={exports:{}},Rn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bA=Symbol.for("react.element"),VLe=Symbol.for("react.portal"),WLe=Symbol.for("react.fragment"),qLe=Symbol.for("react.strict_mode"),GLe=Symbol.for("react.profiler"),YLe=Symbol.for("react.provider"),KLe=Symbol.for("react.context"),XLe=Symbol.for("react.forward_ref"),QLe=Symbol.for("react.suspense"),JLe=Symbol.for("react.memo"),ZLe=Symbol.for("react.lazy"),Vee=Symbol.iterator;function e4e(e){return e===null||typeof e!="object"?null:(e=Vee&&e[Vee]||e["@@iterator"],typeof e=="function"?e:null)}var kme={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ime=Object.assign,Rme={};function Dx(e,t,n){this.props=e,this.context=t,this.refs=Rme,this.updater=n||kme}Dx.prototype.isReactComponent={};Dx.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Dx.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function $me(){}$me.prototype=Dx.prototype;function zU(e,t,n){this.props=e,this.context=t,this.refs=Rme,this.updater=n||kme}var UU=zU.prototype=new $me;UU.constructor=zU;Ime(UU,Dx.prototype);UU.isPureReactComponent=!0;var Wee=Array.isArray,Dme=Object.prototype.hasOwnProperty,HU={current:null},Mme={key:!0,ref:!0,__self:!0,__source:!0};function Pme(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)Dme.call(t,r)&&!Mme.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:bA,type:e,key:o,ref:s,props:i,_owner:HU.current}}function t4e(e,t){return{$$typeof:bA,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function VU(e){return typeof e=="object"&&e!==null&&e.$$typeof===bA}function n4e(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var qee=/\/+/g;function v4(e,t){return typeof e=="object"&&e!==null&&e.key!=null?n4e(""+e.key):t.toString(36)}function hI(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case bA:case VLe:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+v4(s,0):r,Wee(i)?(n="",e!=null&&(n=e.replace(qee,"$&/")+"/"),hI(i,t,n,"",function(u){return u})):i!=null&&(VU(i)&&(i=t4e(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(qee,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",Wee(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+v4(o,a);s+=hI(o,t,n,l,i)}else if(l=e4e(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+v4(o,a++),s+=hI(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function yk(e,t,n){if(e==null)return e;var r=[],i=0;return hI(e,r,"","",function(o){return t.call(n,o,i++)}),r}function r4e(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Oa={current:null},fI={transition:null},i4e={ReactCurrentDispatcher:Oa,ReactCurrentBatchConfig:fI,ReactCurrentOwner:HU};function Nme(){throw Error("act(...) is not supported in production builds of React.")}Rn.Children={map:yk,forEach:function(e,t,n){yk(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return yk(e,function(){t++}),t},toArray:function(e){return yk(e,function(t){return t})||[]},only:function(e){if(!VU(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Rn.Component=Dx;Rn.Fragment=WLe;Rn.Profiler=GLe;Rn.PureComponent=zU;Rn.StrictMode=qLe;Rn.Suspense=QLe;Rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i4e;Rn.act=Nme;Rn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Ime({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=HU.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Dme.call(t,l)&&!Mme.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:bA,type:e.type,key:i,ref:o,props:r,_owner:s}};Rn.createContext=function(e){return e={$$typeof:KLe,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:YLe,_context:e},e.Consumer=e};Rn.createElement=Pme;Rn.createFactory=function(e){var t=Pme.bind(null,e);return t.type=e,t};Rn.createRef=function(){return{current:null}};Rn.forwardRef=function(e){return{$$typeof:XLe,render:e}};Rn.isValidElement=VU;Rn.lazy=function(e){return{$$typeof:ZLe,_payload:{_status:-1,_result:e},_init:r4e}};Rn.memo=function(e,t){return{$$typeof:JLe,type:e,compare:t===void 0?null:t}};Rn.startTransition=function(e){var t=fI.transition;fI.transition={};try{e()}finally{fI.transition=t}};Rn.unstable_act=Nme;Rn.useCallback=function(e,t){return Oa.current.useCallback(e,t)};Rn.useContext=function(e){return Oa.current.useContext(e)};Rn.useDebugValue=function(){};Rn.useDeferredValue=function(e){return Oa.current.useDeferredValue(e)};Rn.useEffect=function(e,t){return Oa.current.useEffect(e,t)};Rn.useId=function(){return Oa.current.useId()};Rn.useImperativeHandle=function(e,t,n){return Oa.current.useImperativeHandle(e,t,n)};Rn.useInsertionEffect=function(e,t){return Oa.current.useInsertionEffect(e,t)};Rn.useLayoutEffect=function(e,t){return Oa.current.useLayoutEffect(e,t)};Rn.useMemo=function(e,t){return Oa.current.useMemo(e,t)};Rn.useReducer=function(e,t,n){return Oa.current.useReducer(e,t,n)};Rn.useRef=function(e){return Oa.current.useRef(e)};Rn.useState=function(e){return Oa.current.useState(e)};Rn.useSyncExternalStore=function(e,t,n){return Oa.current.useSyncExternalStore(e,t,n)};Rn.useTransition=function(){return Oa.current.useTransition()};Rn.version="18.3.1";Ame.exports=Rn;var O=Ame.exports;const Nn=hu(O),o4e=ULe({__proto__:null,default:Nn},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s4e=O,a4e=Symbol.for("react.element"),l4e=Symbol.for("react.fragment"),u4e=Object.prototype.hasOwnProperty,c4e=s4e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d4e={key:!0,ref:!0,__self:!0,__source:!0};function Ome(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)u4e.call(t,r)&&!d4e.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:a4e,type:e,key:o,ref:s,props:i,_owner:c4e.current}}ZM.Fragment=l4e;ZM.jsx=Ome;ZM.jsxs=Ome;Cme.exports=ZM;var k=Cme.exports,c8={},Lme={exports:{}},fu={},Fme={exports:{}},Bme={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,z){var F=L.length;L.push(z);e:for(;0<F;){var j=F-1>>>1,W=L[j];if(0<i(W,z))L[j]=z,L[F]=W,F=j;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var z=L[0],F=L.pop();if(F!==z){L[0]=F;e:for(var j=0,W=L.length,B=W>>>1;j<B;){var H=2*(j+1)-1,V=L[H],G=H+1,ne=L[G];if(0>i(V,F))G<W&&0>i(ne,V)?(L[j]=ne,L[G]=F,j=G):(L[j]=V,L[H]=F,j=H);else if(G<W&&0>i(ne,F))L[j]=ne,L[G]=F,j=G;else break e}}return z}function i(L,z){var F=L.sortIndex-z.sortIndex;return F!==0?F:L.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,d=null,h=3,f=!1,p=!1,m=!1,g=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(L){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=L)r(u),z.sortIndex=z.expirationTime,t(l,z);else break;z=n(u)}}function _(L){if(m=!1,b(L),!p)if(n(l)!==null)p=!0,M(x);else{var z=n(u);z!==null&&N(_,z.startTime-L)}}function x(L,z){p=!1,m&&(m=!1,y(S),S=-1),f=!0;var F=h;try{for(b(z),d=n(l);d!==null&&(!(d.expirationTime>z)||L&&!D());){var j=d.callback;if(typeof j=="function"){d.callback=null,h=d.priorityLevel;var W=j(d.expirationTime<=z);z=e.unstable_now(),typeof W=="function"?d.callback=W:d===n(l)&&r(l),b(z)}else r(l);d=n(l)}if(d!==null)var B=!0;else{var H=n(u);H!==null&&N(_,H.startTime-z),B=!1}return B}finally{d=null,h=F,f=!1}}var w=!1,E=null,S=-1,T=5,C=-1;function D(){return!(e.unstable_now()-C<T)}function $(){if(E!==null){var L=e.unstable_now();C=L;var z=!0;try{z=E(!0,L)}finally{z?I():(w=!1,E=null)}}else w=!1}var I;if(typeof v=="function")I=function(){v($)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,A=R.port2;R.port1.onmessage=$,I=function(){A.postMessage(null)}}else I=function(){g($,0)};function M(L){E=L,w||(w=!0,I())}function N(L,z){S=g(function(){L(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){p||f||(p=!0,M(x))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(L){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var F=h;h=z;try{return L()}finally{h=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,z){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var F=h;h=L;try{return z()}finally{h=F}},e.unstable_scheduleCallback=function(L,z,F){var j=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?j+F:j):F=j,L){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=F+W,L={id:c++,callback:z,priorityLevel:L,startTime:F,expirationTime:W,sortIndex:-1},F>j?(L.sortIndex=F,t(u,L),n(l)===null&&L===n(u)&&(m?(y(S),S=-1):m=!0,N(_,F-j))):(L.sortIndex=W,t(l,L),p||f||(p=!0,M(x))),L},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(L){var z=h;return function(){var F=h;h=z;try{return L.apply(this,arguments)}finally{h=F}}}})(Bme);Fme.exports=Bme;var h4e=Fme.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f4e=O,Jl=h4e;function tt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jme=new Set,LT={};function Lv(e,t){_w(e,t),_w(e+"Capture",t)}function _w(e,t){for(LT[e]=t,e=0;e<t.length;e++)jme.add(t[e])}var up=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d8=Object.prototype.hasOwnProperty,p4e=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gee={},Yee={};function m4e(e){return d8.call(Yee,e)?!0:d8.call(Gee,e)?!1:p4e.test(e)?Yee[e]=!0:(Gee[e]=!0,!1)}function g4e(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function y4e(e,t,n,r){if(t===null||typeof t>"u"||g4e(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function La(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var ms={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ms[e]=new La(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ms[t]=new La(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ms[e]=new La(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ms[e]=new La(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ms[e]=new La(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ms[e]=new La(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ms[e]=new La(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ms[e]=new La(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ms[e]=new La(e,5,!1,e.toLowerCase(),null,!1,!1)});var WU=/[\-:]([a-z])/g;function qU(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(WU,qU);ms[t]=new La(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(WU,qU);ms[t]=new La(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(WU,qU);ms[t]=new La(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ms[e]=new La(e,1,!1,e.toLowerCase(),null,!1,!1)});ms.xlinkHref=new La("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ms[e]=new La(e,1,!1,e.toLowerCase(),null,!0,!0)});function GU(e,t,n,r){var i=ms.hasOwnProperty(t)?ms[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(y4e(t,n,i,r)&&(n=null),r||i===null?m4e(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Op=f4e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vk=Symbol.for("react.element"),b1=Symbol.for("react.portal"),w1=Symbol.for("react.fragment"),YU=Symbol.for("react.strict_mode"),h8=Symbol.for("react.profiler"),zme=Symbol.for("react.provider"),Ume=Symbol.for("react.context"),KU=Symbol.for("react.forward_ref"),f8=Symbol.for("react.suspense"),p8=Symbol.for("react.suspense_list"),XU=Symbol.for("react.memo"),pm=Symbol.for("react.lazy"),Hme=Symbol.for("react.offscreen"),Kee=Symbol.iterator;function Q_(e){return e===null||typeof e!="object"?null:(e=Kee&&e[Kee]||e["@@iterator"],typeof e=="function"?e:null)}var di=Object.assign,b4;function XE(e){if(b4===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);b4=t&&t[1]||""}return`
`+b4+e}var w4=!1;function x4(e,t){if(!e||w4)return"";w4=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{w4=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?XE(e):""}function v4e(e){switch(e.tag){case 5:return XE(e.type);case 16:return XE("Lazy");case 13:return XE("Suspense");case 19:return XE("SuspenseList");case 0:case 2:case 15:return e=x4(e.type,!1),e;case 11:return e=x4(e.type.render,!1),e;case 1:return e=x4(e.type,!0),e;default:return""}}function m8(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case w1:return"Fragment";case b1:return"Portal";case h8:return"Profiler";case YU:return"StrictMode";case f8:return"Suspense";case p8:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ume:return(e.displayName||"Context")+".Consumer";case zme:return(e._context.displayName||"Context")+".Provider";case KU:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case XU:return t=e.displayName||null,t!==null?t:m8(e.type)||"Memo";case pm:t=e._payload,e=e._init;try{return m8(e(t))}catch{}}return null}function b4e(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return m8(t);case 8:return t===YU?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function gg(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vme(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function w4e(e){var t=Vme(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function bk(e){e._valueTracker||(e._valueTracker=w4e(e))}function Wme(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Vme(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function MR(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function g8(e,t){var n=t.checked;return di({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Xee(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=gg(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function qme(e,t){t=t.checked,t!=null&&GU(e,"checked",t,!1)}function y8(e,t){qme(e,t);var n=gg(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?v8(e,t.type,n):t.hasOwnProperty("defaultValue")&&v8(e,t.type,gg(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Qee(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function v8(e,t,n){(t!=="number"||MR(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var QE=Array.isArray;function U1(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+gg(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function b8(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(tt(91));return di({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Jee(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(tt(92));if(QE(n)){if(1<n.length)throw Error(tt(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:gg(n)}}function Gme(e,t){var n=gg(t.value),r=gg(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Zee(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Yme(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function w8(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Yme(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var wk,Kme=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(wk=wk||document.createElement("div"),wk.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=wk.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function FT(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var zS={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},x4e=["Webkit","ms","Moz","O"];Object.keys(zS).forEach(function(e){x4e.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),zS[t]=zS[e]})});function Xme(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||zS.hasOwnProperty(e)&&zS[e]?(""+t).trim():t+"px"}function Qme(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Xme(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var _4e=di({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function x8(e,t){if(t){if(_4e[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(tt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(tt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(tt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(tt(62))}}function _8(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var E8=null;function QU(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var S8=null,H1=null,V1=null;function ete(e){if(e=_A(e)){if(typeof S8!="function")throw Error(tt(280));var t=e.stateNode;t&&(t=iP(t),S8(e.stateNode,e.type,t))}}function Jme(e){H1?V1?V1.push(e):V1=[e]:H1=e}function Zme(){if(H1){var e=H1,t=V1;if(V1=H1=null,ete(e),t)for(e=0;e<t.length;e++)ete(t[e])}}function ege(e,t){return e(t)}function tge(){}var _4=!1;function nge(e,t,n){if(_4)return e(t,n);_4=!0;try{return ege(e,t,n)}finally{_4=!1,(H1!==null||V1!==null)&&(tge(),Zme())}}function BT(e,t){var n=e.stateNode;if(n===null)return null;var r=iP(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(tt(231,t,typeof n));return n}var T8=!1;if(up)try{var J_={};Object.defineProperty(J_,"passive",{get:function(){T8=!0}}),window.addEventListener("test",J_,J_),window.removeEventListener("test",J_,J_)}catch{T8=!1}function E4e(e,t,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var US=!1,PR=null,NR=!1,C8=null,S4e={onError:function(e){US=!0,PR=e}};function T4e(e,t,n,r,i,o,s,a,l){US=!1,PR=null,E4e.apply(S4e,arguments)}function C4e(e,t,n,r,i,o,s,a,l){if(T4e.apply(this,arguments),US){if(US){var u=PR;US=!1,PR=null}else throw Error(tt(198));NR||(NR=!0,C8=u)}}function Fv(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function rge(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function tte(e){if(Fv(e)!==e)throw Error(tt(188))}function A4e(e){var t=e.alternate;if(!t){if(t=Fv(e),t===null)throw Error(tt(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return tte(i),e;if(o===r)return tte(i),t;o=o.sibling}throw Error(tt(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(tt(189))}}if(n.alternate!==r)throw Error(tt(190))}if(n.tag!==3)throw Error(tt(188));return n.stateNode.current===n?e:t}function ige(e){return e=A4e(e),e!==null?oge(e):null}function oge(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=oge(e);if(t!==null)return t;e=e.sibling}return null}var sge=Jl.unstable_scheduleCallback,nte=Jl.unstable_cancelCallback,k4e=Jl.unstable_shouldYield,I4e=Jl.unstable_requestPaint,Pi=Jl.unstable_now,R4e=Jl.unstable_getCurrentPriorityLevel,JU=Jl.unstable_ImmediatePriority,age=Jl.unstable_UserBlockingPriority,OR=Jl.unstable_NormalPriority,$4e=Jl.unstable_LowPriority,lge=Jl.unstable_IdlePriority,eP=null,rh=null;function D4e(e){if(rh&&typeof rh.onCommitFiberRoot=="function")try{rh.onCommitFiberRoot(eP,e,void 0,(e.current.flags&128)===128)}catch{}}var Vc=Math.clz32?Math.clz32:N4e,M4e=Math.log,P4e=Math.LN2;function N4e(e){return e>>>=0,e===0?32:31-(M4e(e)/P4e|0)|0}var xk=64,_k=4194304;function JE(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function LR(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=JE(a):(o&=s,o!==0&&(r=JE(o)))}else s=n&~i,s!==0?r=JE(s):o!==0&&(r=JE(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Vc(t),i=1<<n,r|=e[n],t&=~i;return r}function O4e(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function L4e(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Vc(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=O4e(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function A8(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function uge(){var e=xk;return xk<<=1,!(xk&4194240)&&(xk=64),e}function E4(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function wA(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Vc(t),e[t]=n}function F4e(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Vc(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function ZU(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Vc(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var pr=0;function cge(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var dge,eH,hge,fge,pge,k8=!1,Ek=[],Ym=null,Km=null,Xm=null,jT=new Map,zT=new Map,_m=[],B4e="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rte(e,t){switch(e){case"focusin":case"focusout":Ym=null;break;case"dragenter":case"dragleave":Km=null;break;case"mouseover":case"mouseout":Xm=null;break;case"pointerover":case"pointerout":jT.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zT.delete(t.pointerId)}}function Z_(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=_A(t),t!==null&&eH(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function j4e(e,t,n,r,i){switch(t){case"focusin":return Ym=Z_(Ym,e,t,n,r,i),!0;case"dragenter":return Km=Z_(Km,e,t,n,r,i),!0;case"mouseover":return Xm=Z_(Xm,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return jT.set(o,Z_(jT.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,zT.set(o,Z_(zT.get(o)||null,e,t,n,r,i)),!0}return!1}function mge(e){var t=my(e.target);if(t!==null){var n=Fv(t);if(n!==null){if(t=n.tag,t===13){if(t=rge(n),t!==null){e.blockedOn=t,pge(e.priority,function(){hge(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pI(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=I8(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);E8=r,n.target.dispatchEvent(r),E8=null}else return t=_A(n),t!==null&&eH(t),e.blockedOn=n,!1;t.shift()}return!0}function ite(e,t,n){pI(e)&&n.delete(t)}function z4e(){k8=!1,Ym!==null&&pI(Ym)&&(Ym=null),Km!==null&&pI(Km)&&(Km=null),Xm!==null&&pI(Xm)&&(Xm=null),jT.forEach(ite),zT.forEach(ite)}function eE(e,t){e.blockedOn===t&&(e.blockedOn=null,k8||(k8=!0,Jl.unstable_scheduleCallback(Jl.unstable_NormalPriority,z4e)))}function UT(e){function t(i){return eE(i,e)}if(0<Ek.length){eE(Ek[0],e);for(var n=1;n<Ek.length;n++){var r=Ek[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ym!==null&&eE(Ym,e),Km!==null&&eE(Km,e),Xm!==null&&eE(Xm,e),jT.forEach(t),zT.forEach(t),n=0;n<_m.length;n++)r=_m[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<_m.length&&(n=_m[0],n.blockedOn===null);)mge(n),n.blockedOn===null&&_m.shift()}var W1=Op.ReactCurrentBatchConfig,FR=!0;function U4e(e,t,n,r){var i=pr,o=W1.transition;W1.transition=null;try{pr=1,tH(e,t,n,r)}finally{pr=i,W1.transition=o}}function H4e(e,t,n,r){var i=pr,o=W1.transition;W1.transition=null;try{pr=4,tH(e,t,n,r)}finally{pr=i,W1.transition=o}}function tH(e,t,n,r){if(FR){var i=I8(e,t,n,r);if(i===null)M4(e,t,r,BR,n),rte(e,r);else if(j4e(i,e,t,n,r))r.stopPropagation();else if(rte(e,r),t&4&&-1<B4e.indexOf(e)){for(;i!==null;){var o=_A(i);if(o!==null&&dge(o),o=I8(e,t,n,r),o===null&&M4(e,t,r,BR,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else M4(e,t,r,null,n)}}var BR=null;function I8(e,t,n,r){if(BR=null,e=QU(r),e=my(e),e!==null)if(t=Fv(e),t===null)e=null;else if(n=t.tag,n===13){if(e=rge(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return BR=e,null}function gge(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(R4e()){case JU:return 1;case age:return 4;case OR:case $4e:return 16;case lge:return 536870912;default:return 16}default:return 16}}var Mm=null,nH=null,mI=null;function yge(){if(mI)return mI;var e,t=nH,n=t.length,r,i="value"in Mm?Mm.value:Mm.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return mI=i.slice(e,1<r?1-r:void 0)}function gI(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Sk(){return!0}function ote(){return!1}function pu(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Sk:ote,this.isPropagationStopped=ote,this}return di(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Sk)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Sk)},persist:function(){},isPersistent:Sk}),t}var Mx={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rH=pu(Mx),xA=di({},Mx,{view:0,detail:0}),V4e=pu(xA),S4,T4,tE,tP=di({},xA,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:iH,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==tE&&(tE&&e.type==="mousemove"?(S4=e.screenX-tE.screenX,T4=e.screenY-tE.screenY):T4=S4=0,tE=e),S4)},movementY:function(e){return"movementY"in e?e.movementY:T4}}),ste=pu(tP),W4e=di({},tP,{dataTransfer:0}),q4e=pu(W4e),G4e=di({},xA,{relatedTarget:0}),C4=pu(G4e),Y4e=di({},Mx,{animationName:0,elapsedTime:0,pseudoElement:0}),K4e=pu(Y4e),X4e=di({},Mx,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Q4e=pu(X4e),J4e=di({},Mx,{data:0}),ate=pu(J4e),Z4e={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eFe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tFe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nFe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=tFe[e])?!!t[e]:!1}function iH(){return nFe}var rFe=di({},xA,{key:function(e){if(e.key){var t=Z4e[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=gI(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?eFe[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:iH,charCode:function(e){return e.type==="keypress"?gI(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gI(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),iFe=pu(rFe),oFe=di({},tP,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lte=pu(oFe),sFe=di({},xA,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:iH}),aFe=pu(sFe),lFe=di({},Mx,{propertyName:0,elapsedTime:0,pseudoElement:0}),uFe=pu(lFe),cFe=di({},tP,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),dFe=pu(cFe),hFe=[9,13,27,32],oH=up&&"CompositionEvent"in window,HS=null;up&&"documentMode"in document&&(HS=document.documentMode);var fFe=up&&"TextEvent"in window&&!HS,vge=up&&(!oH||HS&&8<HS&&11>=HS),ute=" ",cte=!1;function bge(e,t){switch(e){case"keyup":return hFe.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wge(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var x1=!1;function pFe(e,t){switch(e){case"compositionend":return wge(t);case"keypress":return t.which!==32?null:(cte=!0,ute);case"textInput":return e=t.data,e===ute&&cte?null:e;default:return null}}function mFe(e,t){if(x1)return e==="compositionend"||!oH&&bge(e,t)?(e=yge(),mI=nH=Mm=null,x1=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vge&&t.locale!=="ko"?null:t.data;default:return null}}var gFe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dte(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!gFe[e.type]:t==="textarea"}function xge(e,t,n,r){Jme(r),t=jR(t,"onChange"),0<t.length&&(n=new rH("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var VS=null,HT=null;function yFe(e){Dge(e,0)}function nP(e){var t=S1(e);if(Wme(t))return e}function vFe(e,t){if(e==="change")return t}var _ge=!1;if(up){var A4;if(up){var k4="oninput"in document;if(!k4){var hte=document.createElement("div");hte.setAttribute("oninput","return;"),k4=typeof hte.oninput=="function"}A4=k4}else A4=!1;_ge=A4&&(!document.documentMode||9<document.documentMode)}function fte(){VS&&(VS.detachEvent("onpropertychange",Ege),HT=VS=null)}function Ege(e){if(e.propertyName==="value"&&nP(HT)){var t=[];xge(t,HT,e,QU(e)),nge(yFe,t)}}function bFe(e,t,n){e==="focusin"?(fte(),VS=t,HT=n,VS.attachEvent("onpropertychange",Ege)):e==="focusout"&&fte()}function wFe(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return nP(HT)}function xFe(e,t){if(e==="click")return nP(t)}function _Fe(e,t){if(e==="input"||e==="change")return nP(t)}function EFe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ed=typeof Object.is=="function"?Object.is:EFe;function VT(e,t){if(ed(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d8.call(t,i)||!ed(e[i],t[i]))return!1}return!0}function pte(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mte(e,t){var n=pte(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=pte(n)}}function Sge(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Sge(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Tge(){for(var e=window,t=MR();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=MR(e.document)}return t}function sH(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function SFe(e){var t=Tge(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Sge(n.ownerDocument.documentElement,n)){if(r!==null&&sH(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=mte(n,o);var s=mte(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var TFe=up&&"documentMode"in document&&11>=document.documentMode,_1=null,R8=null,WS=null,$8=!1;function gte(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$8||_1==null||_1!==MR(r)||(r=_1,"selectionStart"in r&&sH(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),WS&&VT(WS,r)||(WS=r,r=jR(R8,"onSelect"),0<r.length&&(t=new rH("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=_1)))}function Tk(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var E1={animationend:Tk("Animation","AnimationEnd"),animationiteration:Tk("Animation","AnimationIteration"),animationstart:Tk("Animation","AnimationStart"),transitionend:Tk("Transition","TransitionEnd")},I4={},Cge={};up&&(Cge=document.createElement("div").style,"AnimationEvent"in window||(delete E1.animationend.animation,delete E1.animationiteration.animation,delete E1.animationstart.animation),"TransitionEvent"in window||delete E1.transitionend.transition);function rP(e){if(I4[e])return I4[e];if(!E1[e])return e;var t=E1[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Cge)return I4[e]=t[n];return e}var Age=rP("animationend"),kge=rP("animationiteration"),Ige=rP("animationstart"),Rge=rP("transitionend"),$ge=new Map,yte="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gg(e,t){$ge.set(e,t),Lv(t,[e])}for(var R4=0;R4<yte.length;R4++){var $4=yte[R4],CFe=$4.toLowerCase(),AFe=$4[0].toUpperCase()+$4.slice(1);Gg(CFe,"on"+AFe)}Gg(Age,"onAnimationEnd");Gg(kge,"onAnimationIteration");Gg(Ige,"onAnimationStart");Gg("dblclick","onDoubleClick");Gg("focusin","onFocus");Gg("focusout","onBlur");Gg(Rge,"onTransitionEnd");_w("onMouseEnter",["mouseout","mouseover"]);_w("onMouseLeave",["mouseout","mouseover"]);_w("onPointerEnter",["pointerout","pointerover"]);_w("onPointerLeave",["pointerout","pointerover"]);Lv("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Lv("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Lv("onBeforeInput",["compositionend","keypress","textInput","paste"]);Lv("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Lv("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Lv("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ZE="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kFe=new Set("cancel close invalid load scroll toggle".split(" ").concat(ZE));function vte(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,C4e(r,t,void 0,e),e.currentTarget=null}function Dge(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;vte(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;vte(i,a,u),o=l}}}if(NR)throw e=C8,NR=!1,C8=null,e}function jr(e,t){var n=t[O8];n===void 0&&(n=t[O8]=new Set);var r=e+"__bubble";n.has(r)||(Mge(t,e,2,!1),n.add(r))}function D4(e,t,n){var r=0;t&&(r|=4),Mge(n,e,r,t)}var Ck="_reactListening"+Math.random().toString(36).slice(2);function WT(e){if(!e[Ck]){e[Ck]=!0,jme.forEach(function(n){n!=="selectionchange"&&(kFe.has(n)||D4(n,!1,e),D4(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ck]||(t[Ck]=!0,D4("selectionchange",!1,t))}}function Mge(e,t,n,r){switch(gge(t)){case 1:var i=U4e;break;case 4:i=H4e;break;default:i=tH}n=i.bind(null,t,n,e),i=void 0,!T8||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function M4(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=my(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}nge(function(){var u=o,c=QU(n),d=[];e:{var h=$ge.get(e);if(h!==void 0){var f=rH,p=e;switch(e){case"keypress":if(gI(n)===0)break e;case"keydown":case"keyup":f=iFe;break;case"focusin":p="focus",f=C4;break;case"focusout":p="blur",f=C4;break;case"beforeblur":case"afterblur":f=C4;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=ste;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=q4e;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=aFe;break;case Age:case kge:case Ige:f=K4e;break;case Rge:f=uFe;break;case"scroll":f=V4e;break;case"wheel":f=dFe;break;case"copy":case"cut":case"paste":f=Q4e;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=lte}var m=(t&4)!==0,g=!m&&e==="scroll",y=m?h!==null?h+"Capture":null:h;m=[];for(var v=u,b;v!==null;){b=v;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,y!==null&&(_=BT(v,y),_!=null&&m.push(qT(v,_,b)))),g)break;v=v.return}0<m.length&&(h=new f(h,p,null,n,c),d.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",h&&n!==E8&&(p=n.relatedTarget||n.fromElement)&&(my(p)||p[cp]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=u,p=p?my(p):null,p!==null&&(g=Fv(p),p!==g||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=u),f!==p)){if(m=ste,_="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(m=lte,_="onPointerLeave",y="onPointerEnter",v="pointer"),g=f==null?h:S1(f),b=p==null?h:S1(p),h=new m(_,v+"leave",f,n,c),h.target=g,h.relatedTarget=b,_=null,my(c)===u&&(m=new m(y,v+"enter",p,n,c),m.target=b,m.relatedTarget=g,_=m),g=_,f&&p)t:{for(m=f,y=p,v=0,b=m;b;b=Nb(b))v++;for(b=0,_=y;_;_=Nb(_))b++;for(;0<v-b;)m=Nb(m),v--;for(;0<b-v;)y=Nb(y),b--;for(;v--;){if(m===y||y!==null&&m===y.alternate)break t;m=Nb(m),y=Nb(y)}m=null}else m=null;f!==null&&bte(d,h,f,m,!1),p!==null&&g!==null&&bte(d,g,p,m,!0)}}e:{if(h=u?S1(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var x=vFe;else if(dte(h))if(_ge)x=_Fe;else{x=wFe;var w=bFe}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(x=xFe);if(x&&(x=x(e,u))){xge(d,x,n,c);break e}w&&w(e,h,u),e==="focusout"&&(w=h._wrapperState)&&w.controlled&&h.type==="number"&&v8(h,"number",h.value)}switch(w=u?S1(u):window,e){case"focusin":(dte(w)||w.contentEditable==="true")&&(_1=w,R8=u,WS=null);break;case"focusout":WS=R8=_1=null;break;case"mousedown":$8=!0;break;case"contextmenu":case"mouseup":case"dragend":$8=!1,gte(d,n,c);break;case"selectionchange":if(TFe)break;case"keydown":case"keyup":gte(d,n,c)}var E;if(oH)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else x1?bge(e,n)&&(S="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(vge&&n.locale!=="ko"&&(x1||S!=="onCompositionStart"?S==="onCompositionEnd"&&x1&&(E=yge()):(Mm=c,nH="value"in Mm?Mm.value:Mm.textContent,x1=!0)),w=jR(u,S),0<w.length&&(S=new ate(S,e,null,n,c),d.push({event:S,listeners:w}),E?S.data=E:(E=wge(n),E!==null&&(S.data=E)))),(E=fFe?pFe(e,n):mFe(e,n))&&(u=jR(u,"onBeforeInput"),0<u.length&&(c=new ate("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=E))}Dge(d,t)})}function qT(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jR(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=BT(e,n),o!=null&&r.unshift(qT(e,o,i)),o=BT(e,t),o!=null&&r.push(qT(e,o,i))),e=e.return}return r}function Nb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function bte(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=BT(n,o),l!=null&&s.unshift(qT(n,l,a))):i||(l=BT(n,o),l!=null&&s.push(qT(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var IFe=/\r\n?/g,RFe=/\u0000|\uFFFD/g;function wte(e){return(typeof e=="string"?e:""+e).replace(IFe,`
`).replace(RFe,"")}function Ak(e,t,n){if(t=wte(t),wte(e)!==t&&n)throw Error(tt(425))}function zR(){}var D8=null,M8=null;function P8(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var N8=typeof setTimeout=="function"?setTimeout:void 0,$Fe=typeof clearTimeout=="function"?clearTimeout:void 0,xte=typeof Promise=="function"?Promise:void 0,DFe=typeof queueMicrotask=="function"?queueMicrotask:typeof xte<"u"?function(e){return xte.resolve(null).then(e).catch(MFe)}:N8;function MFe(e){setTimeout(function(){throw e})}function P4(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),UT(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);UT(t)}function Qm(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _te(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Px=Math.random().toString(36).slice(2),Hd="__reactFiber$"+Px,GT="__reactProps$"+Px,cp="__reactContainer$"+Px,O8="__reactEvents$"+Px,PFe="__reactListeners$"+Px,NFe="__reactHandles$"+Px;function my(e){var t=e[Hd];if(t)return t;for(var n=e.parentNode;n;){if(t=n[cp]||n[Hd]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=_te(e);e!==null;){if(n=e[Hd])return n;e=_te(e)}return t}e=n,n=e.parentNode}return null}function _A(e){return e=e[Hd]||e[cp],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function S1(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(tt(33))}function iP(e){return e[GT]||null}var L8=[],T1=-1;function Yg(e){return{current:e}}function Yr(e){0>T1||(e.current=L8[T1],L8[T1]=null,T1--)}function Or(e,t){T1++,L8[T1]=e.current,e.current=t}var yg={},ra=Yg(yg),hl=Yg(!1),qy=yg;function Ew(e,t){var n=e.type.contextTypes;if(!n)return yg;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function fl(e){return e=e.childContextTypes,e!=null}function UR(){Yr(hl),Yr(ra)}function Ete(e,t,n){if(ra.current!==yg)throw Error(tt(168));Or(ra,t),Or(hl,n)}function Pge(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(tt(108,b4e(e)||"Unknown",i));return di({},n,r)}function HR(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||yg,qy=ra.current,Or(ra,e),Or(hl,hl.current),!0}function Ste(e,t,n){var r=e.stateNode;if(!r)throw Error(tt(169));n?(e=Pge(e,t,qy),r.__reactInternalMemoizedMergedChildContext=e,Yr(hl),Yr(ra),Or(ra,e)):Yr(hl),Or(hl,n)}var Sf=null,oP=!1,N4=!1;function Nge(e){Sf===null?Sf=[e]:Sf.push(e)}function OFe(e){oP=!0,Nge(e)}function Kg(){if(!N4&&Sf!==null){N4=!0;var e=0,t=pr;try{var n=Sf;for(pr=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Sf=null,oP=!1}catch(i){throw Sf!==null&&(Sf=Sf.slice(e+1)),sge(JU,Kg),i}finally{pr=t,N4=!1}}return null}var C1=[],A1=0,VR=null,WR=0,_u=[],Eu=0,Gy=null,Mf=1,Pf="";function W0(e,t){C1[A1++]=WR,C1[A1++]=VR,VR=e,WR=t}function Oge(e,t,n){_u[Eu++]=Mf,_u[Eu++]=Pf,_u[Eu++]=Gy,Gy=e;var r=Mf;e=Pf;var i=32-Vc(r)-1;r&=~(1<<i),n+=1;var o=32-Vc(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Mf=1<<32-Vc(t)+i|n<<i|r,Pf=o+e}else Mf=1<<o|n<<i|r,Pf=e}function aH(e){e.return!==null&&(W0(e,1),Oge(e,1,0))}function lH(e){for(;e===VR;)VR=C1[--A1],C1[A1]=null,WR=C1[--A1],C1[A1]=null;for(;e===Gy;)Gy=_u[--Eu],_u[Eu]=null,Pf=_u[--Eu],_u[Eu]=null,Mf=_u[--Eu],_u[Eu]=null}var Wl=null,jl=null,Zr=!1,Cc=null;function Lge(e,t){var n=Iu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Tte(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Wl=e,jl=Qm(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Wl=e,jl=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Gy!==null?{id:Mf,overflow:Pf}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Iu(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Wl=e,jl=null,!0):!1;default:return!1}}function F8(e){return(e.mode&1)!==0&&(e.flags&128)===0}function B8(e){if(Zr){var t=jl;if(t){var n=t;if(!Tte(e,t)){if(F8(e))throw Error(tt(418));t=Qm(n.nextSibling);var r=Wl;t&&Tte(e,t)?Lge(r,n):(e.flags=e.flags&-4097|2,Zr=!1,Wl=e)}}else{if(F8(e))throw Error(tt(418));e.flags=e.flags&-4097|2,Zr=!1,Wl=e}}}function Cte(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Wl=e}function kk(e){if(e!==Wl)return!1;if(!Zr)return Cte(e),Zr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!P8(e.type,e.memoizedProps)),t&&(t=jl)){if(F8(e))throw Fge(),Error(tt(418));for(;t;)Lge(e,t),t=Qm(t.nextSibling)}if(Cte(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(tt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){jl=Qm(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}jl=null}}else jl=Wl?Qm(e.stateNode.nextSibling):null;return!0}function Fge(){for(var e=jl;e;)e=Qm(e.nextSibling)}function Sw(){jl=Wl=null,Zr=!1}function uH(e){Cc===null?Cc=[e]:Cc.push(e)}var LFe=Op.ReactCurrentBatchConfig;function nE(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(tt(309));var r=n.stateNode}if(!r)throw Error(tt(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(tt(284));if(!n._owner)throw Error(tt(290,e))}return e}function Ik(e,t){throw e=Object.prototype.toString.call(t),Error(tt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ate(e){var t=e._init;return t(e._payload)}function Bge(e){function t(y,v){if(e){var b=y.deletions;b===null?(y.deletions=[v],y.flags|=16):b.push(v)}}function n(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function r(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function i(y,v){return y=tg(y,v),y.index=0,y.sibling=null,y}function o(y,v,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<v?(y.flags|=2,v):b):(y.flags|=2,v)):(y.flags|=1048576,v)}function s(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,v,b,_){return v===null||v.tag!==6?(v=U4(b,y.mode,_),v.return=y,v):(v=i(v,b),v.return=y,v)}function l(y,v,b,_){var x=b.type;return x===w1?c(y,v,b.props.children,_,b.key):v!==null&&(v.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===pm&&Ate(x)===v.type)?(_=i(v,b.props),_.ref=nE(y,v,b),_.return=y,_):(_=EI(b.type,b.key,b.props,null,y.mode,_),_.ref=nE(y,v,b),_.return=y,_)}function u(y,v,b,_){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=H4(b,y.mode,_),v.return=y,v):(v=i(v,b.children||[]),v.return=y,v)}function c(y,v,b,_,x){return v===null||v.tag!==7?(v=Ry(b,y.mode,_,x),v.return=y,v):(v=i(v,b),v.return=y,v)}function d(y,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=U4(""+v,y.mode,b),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case vk:return b=EI(v.type,v.key,v.props,null,y.mode,b),b.ref=nE(y,null,v),b.return=y,b;case b1:return v=H4(v,y.mode,b),v.return=y,v;case pm:var _=v._init;return d(y,_(v._payload),b)}if(QE(v)||Q_(v))return v=Ry(v,y.mode,b,null),v.return=y,v;Ik(y,v)}return null}function h(y,v,b,_){var x=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return x!==null?null:a(y,v,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case vk:return b.key===x?l(y,v,b,_):null;case b1:return b.key===x?u(y,v,b,_):null;case pm:return x=b._init,h(y,v,x(b._payload),_)}if(QE(b)||Q_(b))return x!==null?null:c(y,v,b,_,null);Ik(y,b)}return null}function f(y,v,b,_,x){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(b)||null,a(v,y,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case vk:return y=y.get(_.key===null?b:_.key)||null,l(v,y,_,x);case b1:return y=y.get(_.key===null?b:_.key)||null,u(v,y,_,x);case pm:var w=_._init;return f(y,v,b,w(_._payload),x)}if(QE(_)||Q_(_))return y=y.get(b)||null,c(v,y,_,x,null);Ik(v,_)}return null}function p(y,v,b,_){for(var x=null,w=null,E=v,S=v=0,T=null;E!==null&&S<b.length;S++){E.index>S?(T=E,E=null):T=E.sibling;var C=h(y,E,b[S],_);if(C===null){E===null&&(E=T);break}e&&E&&C.alternate===null&&t(y,E),v=o(C,v,S),w===null?x=C:w.sibling=C,w=C,E=T}if(S===b.length)return n(y,E),Zr&&W0(y,S),x;if(E===null){for(;S<b.length;S++)E=d(y,b[S],_),E!==null&&(v=o(E,v,S),w===null?x=E:w.sibling=E,w=E);return Zr&&W0(y,S),x}for(E=r(y,E);S<b.length;S++)T=f(E,y,S,b[S],_),T!==null&&(e&&T.alternate!==null&&E.delete(T.key===null?S:T.key),v=o(T,v,S),w===null?x=T:w.sibling=T,w=T);return e&&E.forEach(function(D){return t(y,D)}),Zr&&W0(y,S),x}function m(y,v,b,_){var x=Q_(b);if(typeof x!="function")throw Error(tt(150));if(b=x.call(b),b==null)throw Error(tt(151));for(var w=x=null,E=v,S=v=0,T=null,C=b.next();E!==null&&!C.done;S++,C=b.next()){E.index>S?(T=E,E=null):T=E.sibling;var D=h(y,E,C.value,_);if(D===null){E===null&&(E=T);break}e&&E&&D.alternate===null&&t(y,E),v=o(D,v,S),w===null?x=D:w.sibling=D,w=D,E=T}if(C.done)return n(y,E),Zr&&W0(y,S),x;if(E===null){for(;!C.done;S++,C=b.next())C=d(y,C.value,_),C!==null&&(v=o(C,v,S),w===null?x=C:w.sibling=C,w=C);return Zr&&W0(y,S),x}for(E=r(y,E);!C.done;S++,C=b.next())C=f(E,y,S,C.value,_),C!==null&&(e&&C.alternate!==null&&E.delete(C.key===null?S:C.key),v=o(C,v,S),w===null?x=C:w.sibling=C,w=C);return e&&E.forEach(function($){return t(y,$)}),Zr&&W0(y,S),x}function g(y,v,b,_){if(typeof b=="object"&&b!==null&&b.type===w1&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case vk:e:{for(var x=b.key,w=v;w!==null;){if(w.key===x){if(x=b.type,x===w1){if(w.tag===7){n(y,w.sibling),v=i(w,b.props.children),v.return=y,y=v;break e}}else if(w.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===pm&&Ate(x)===w.type){n(y,w.sibling),v=i(w,b.props),v.ref=nE(y,w,b),v.return=y,y=v;break e}n(y,w);break}else t(y,w);w=w.sibling}b.type===w1?(v=Ry(b.props.children,y.mode,_,b.key),v.return=y,y=v):(_=EI(b.type,b.key,b.props,null,y.mode,_),_.ref=nE(y,v,b),_.return=y,y=_)}return s(y);case b1:e:{for(w=b.key;v!==null;){if(v.key===w)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(y,v.sibling),v=i(v,b.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else t(y,v);v=v.sibling}v=H4(b,y.mode,_),v.return=y,y=v}return s(y);case pm:return w=b._init,g(y,v,w(b._payload),_)}if(QE(b))return p(y,v,b,_);if(Q_(b))return m(y,v,b,_);Ik(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(y,v.sibling),v=i(v,b),v.return=y,y=v):(n(y,v),v=U4(b,y.mode,_),v.return=y,y=v),s(y)):n(y,v)}return g}var Tw=Bge(!0),jge=Bge(!1),qR=Yg(null),GR=null,k1=null,cH=null;function dH(){cH=k1=GR=null}function hH(e){var t=qR.current;Yr(qR),e._currentValue=t}function j8(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function q1(e,t){GR=e,cH=k1=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(al=!0),e.firstContext=null)}function Fu(e){var t=e._currentValue;if(cH!==e)if(e={context:e,memoizedValue:t,next:null},k1===null){if(GR===null)throw Error(tt(308));k1=e,GR.dependencies={lanes:0,firstContext:e}}else k1=k1.next=e;return t}var gy=null;function fH(e){gy===null?gy=[e]:gy.push(e)}function zge(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,fH(t)):(n.next=i.next,i.next=n),t.interleaved=n,dp(e,r)}function dp(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var mm=!1;function pH(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Uge(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Gf(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Jm(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Kn&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,dp(e,n)}return i=r.interleaved,i===null?(t.next=t,fH(r)):(t.next=i.next,i.next=t),r.interleaved=t,dp(e,n)}function yI(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ZU(e,n)}}function kte(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function YR(e,t,n,r){var i=e.updateQueue;mm=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,c=u=l=null,a=o;do{var h=a.lane,f=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(h=t,f=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,h=typeof p=="function"?p.call(f,d,h):p,h==null)break e;d=di({},d,h);break e;case 2:mm=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=d):c=c.next=f,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Ky|=s,e.lanes=s,e.memoizedState=d}}function Ite(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(tt(191,i));i.call(r)}}}var EA={},ih=Yg(EA),YT=Yg(EA),KT=Yg(EA);function yy(e){if(e===EA)throw Error(tt(174));return e}function mH(e,t){switch(Or(KT,t),Or(YT,e),Or(ih,EA),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:w8(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=w8(t,e)}Yr(ih),Or(ih,t)}function Cw(){Yr(ih),Yr(YT),Yr(KT)}function Hge(e){yy(KT.current);var t=yy(ih.current),n=w8(t,e.type);t!==n&&(Or(YT,e),Or(ih,n))}function gH(e){YT.current===e&&(Yr(ih),Yr(YT))}var si=Yg(0);function KR(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var O4=[];function yH(){for(var e=0;e<O4.length;e++)O4[e]._workInProgressVersionPrimary=null;O4.length=0}var vI=Op.ReactCurrentDispatcher,L4=Op.ReactCurrentBatchConfig,Yy=0,ci=null,Zi=null,xo=null,XR=!1,qS=!1,XT=0,FFe=0;function $s(){throw Error(tt(321))}function vH(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ed(e[n],t[n]))return!1;return!0}function bH(e,t,n,r,i,o){if(Yy=o,ci=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,vI.current=e===null||e.memoizedState===null?UFe:HFe,e=n(r,i),qS){o=0;do{if(qS=!1,XT=0,25<=o)throw Error(tt(301));o+=1,xo=Zi=null,t.updateQueue=null,vI.current=VFe,e=n(r,i)}while(qS)}if(vI.current=QR,t=Zi!==null&&Zi.next!==null,Yy=0,xo=Zi=ci=null,XR=!1,t)throw Error(tt(300));return e}function wH(){var e=XT!==0;return XT=0,e}function Pd(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xo===null?ci.memoizedState=xo=e:xo=xo.next=e,xo}function Bu(){if(Zi===null){var e=ci.alternate;e=e!==null?e.memoizedState:null}else e=Zi.next;var t=xo===null?ci.memoizedState:xo.next;if(t!==null)xo=t,Zi=e;else{if(e===null)throw Error(tt(310));Zi=e,e={memoizedState:Zi.memoizedState,baseState:Zi.baseState,baseQueue:Zi.baseQueue,queue:Zi.queue,next:null},xo===null?ci.memoizedState=xo=e:xo=xo.next=e}return xo}function QT(e,t){return typeof t=="function"?t(e):t}function F4(e){var t=Bu(),n=t.queue;if(n===null)throw Error(tt(311));n.lastRenderedReducer=e;var r=Zi,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((Yy&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,ci.lanes|=c,Ky|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,ed(r,t.memoizedState)||(al=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,ci.lanes|=o,Ky|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function B4(e){var t=Bu(),n=t.queue;if(n===null)throw Error(tt(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);ed(o,t.memoizedState)||(al=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Vge(){}function Wge(e,t){var n=ci,r=Bu(),i=t(),o=!ed(r.memoizedState,i);if(o&&(r.memoizedState=i,al=!0),r=r.queue,xH(Yge.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||xo!==null&&xo.memoizedState.tag&1){if(n.flags|=2048,JT(9,Gge.bind(null,n,r,i,t),void 0,null),$o===null)throw Error(tt(349));Yy&30||qge(n,t,i)}return i}function qge(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ci.updateQueue,t===null?(t={lastEffect:null,stores:null},ci.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Gge(e,t,n,r){t.value=n,t.getSnapshot=r,Kge(t)&&Xge(e)}function Yge(e,t,n){return n(function(){Kge(t)&&Xge(e)})}function Kge(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ed(e,n)}catch{return!0}}function Xge(e){var t=dp(e,1);t!==null&&Wc(t,e,1,-1)}function Rte(e){var t=Pd();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:QT,lastRenderedState:e},t.queue=e,e=e.dispatch=zFe.bind(null,ci,e),[t.memoizedState,e]}function JT(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ci.updateQueue,t===null?(t={lastEffect:null,stores:null},ci.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Qge(){return Bu().memoizedState}function bI(e,t,n,r){var i=Pd();ci.flags|=e,i.memoizedState=JT(1|t,n,void 0,r===void 0?null:r)}function sP(e,t,n,r){var i=Bu();r=r===void 0?null:r;var o=void 0;if(Zi!==null){var s=Zi.memoizedState;if(o=s.destroy,r!==null&&vH(r,s.deps)){i.memoizedState=JT(t,n,o,r);return}}ci.flags|=e,i.memoizedState=JT(1|t,n,o,r)}function $te(e,t){return bI(8390656,8,e,t)}function xH(e,t){return sP(2048,8,e,t)}function Jge(e,t){return sP(4,2,e,t)}function Zge(e,t){return sP(4,4,e,t)}function e0e(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function t0e(e,t,n){return n=n!=null?n.concat([e]):null,sP(4,4,e0e.bind(null,t,e),n)}function _H(){}function n0e(e,t){var n=Bu();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&vH(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function r0e(e,t){var n=Bu();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&vH(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function i0e(e,t,n){return Yy&21?(ed(n,t)||(n=uge(),ci.lanes|=n,Ky|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,al=!0),e.memoizedState=n)}function BFe(e,t){var n=pr;pr=n!==0&&4>n?n:4,e(!0);var r=L4.transition;L4.transition={};try{e(!1),t()}finally{pr=n,L4.transition=r}}function o0e(){return Bu().memoizedState}function jFe(e,t,n){var r=eg(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},s0e(e))a0e(t,n);else if(n=zge(e,t,n,r),n!==null){var i=Ia();Wc(n,e,r,i),l0e(n,t,r)}}function zFe(e,t,n){var r=eg(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(s0e(e))a0e(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ed(a,s)){var l=t.interleaved;l===null?(i.next=i,fH(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=zge(e,t,i,r),n!==null&&(i=Ia(),Wc(n,e,r,i),l0e(n,t,r))}}function s0e(e){var t=e.alternate;return e===ci||t!==null&&t===ci}function a0e(e,t){qS=XR=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function l0e(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ZU(e,n)}}var QR={readContext:Fu,useCallback:$s,useContext:$s,useEffect:$s,useImperativeHandle:$s,useInsertionEffect:$s,useLayoutEffect:$s,useMemo:$s,useReducer:$s,useRef:$s,useState:$s,useDebugValue:$s,useDeferredValue:$s,useTransition:$s,useMutableSource:$s,useSyncExternalStore:$s,useId:$s,unstable_isNewReconciler:!1},UFe={readContext:Fu,useCallback:function(e,t){return Pd().memoizedState=[e,t===void 0?null:t],e},useContext:Fu,useEffect:$te,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,bI(4194308,4,e0e.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bI(4194308,4,e,t)},useInsertionEffect:function(e,t){return bI(4,2,e,t)},useMemo:function(e,t){var n=Pd();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Pd();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=jFe.bind(null,ci,e),[r.memoizedState,e]},useRef:function(e){var t=Pd();return e={current:e},t.memoizedState=e},useState:Rte,useDebugValue:_H,useDeferredValue:function(e){return Pd().memoizedState=e},useTransition:function(){var e=Rte(!1),t=e[0];return e=BFe.bind(null,e[1]),Pd().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ci,i=Pd();if(Zr){if(n===void 0)throw Error(tt(407));n=n()}else{if(n=t(),$o===null)throw Error(tt(349));Yy&30||qge(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,$te(Yge.bind(null,r,o,e),[e]),r.flags|=2048,JT(9,Gge.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Pd(),t=$o.identifierPrefix;if(Zr){var n=Pf,r=Mf;n=(r&~(1<<32-Vc(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=XT++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=FFe++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},HFe={readContext:Fu,useCallback:n0e,useContext:Fu,useEffect:xH,useImperativeHandle:t0e,useInsertionEffect:Jge,useLayoutEffect:Zge,useMemo:r0e,useReducer:F4,useRef:Qge,useState:function(){return F4(QT)},useDebugValue:_H,useDeferredValue:function(e){var t=Bu();return i0e(t,Zi.memoizedState,e)},useTransition:function(){var e=F4(QT)[0],t=Bu().memoizedState;return[e,t]},useMutableSource:Vge,useSyncExternalStore:Wge,useId:o0e,unstable_isNewReconciler:!1},VFe={readContext:Fu,useCallback:n0e,useContext:Fu,useEffect:xH,useImperativeHandle:t0e,useInsertionEffect:Jge,useLayoutEffect:Zge,useMemo:r0e,useReducer:B4,useRef:Qge,useState:function(){return B4(QT)},useDebugValue:_H,useDeferredValue:function(e){var t=Bu();return Zi===null?t.memoizedState=e:i0e(t,Zi.memoizedState,e)},useTransition:function(){var e=B4(QT)[0],t=Bu().memoizedState;return[e,t]},useMutableSource:Vge,useSyncExternalStore:Wge,useId:o0e,unstable_isNewReconciler:!1};function xc(e,t){if(e&&e.defaultProps){t=di({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function z8(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:di({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var aP={isMounted:function(e){return(e=e._reactInternals)?Fv(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ia(),i=eg(e),o=Gf(r,i);o.payload=t,n!=null&&(o.callback=n),t=Jm(e,o,i),t!==null&&(Wc(t,e,i,r),yI(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ia(),i=eg(e),o=Gf(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Jm(e,o,i),t!==null&&(Wc(t,e,i,r),yI(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ia(),r=eg(e),i=Gf(n,r);i.tag=2,t!=null&&(i.callback=t),t=Jm(e,i,r),t!==null&&(Wc(t,e,r,n),yI(t,e,r))}};function Dte(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!VT(n,r)||!VT(i,o):!0}function u0e(e,t,n){var r=!1,i=yg,o=t.contextType;return typeof o=="object"&&o!==null?o=Fu(o):(i=fl(t)?qy:ra.current,r=t.contextTypes,o=(r=r!=null)?Ew(e,i):yg),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=aP,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Mte(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&aP.enqueueReplaceState(t,t.state,null)}function U8(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},pH(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Fu(o):(o=fl(t)?qy:ra.current,i.context=Ew(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(z8(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&aP.enqueueReplaceState(i,i.state,null),YR(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Aw(e,t){try{var n="",r=t;do n+=v4e(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function j4(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function H8(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var WFe=typeof WeakMap=="function"?WeakMap:Map;function c0e(e,t,n){n=Gf(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ZR||(ZR=!0,Z8=r),H8(e,t)},n}function d0e(e,t,n){n=Gf(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){H8(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){H8(e,t),typeof r!="function"&&(Zm===null?Zm=new Set([this]):Zm.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Pte(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new WFe;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=o5e.bind(null,e,t,n),t.then(e,e))}function Nte(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ote(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Gf(-1,1),t.tag=2,Jm(n,t,1))),n.lanes|=1),e)}var qFe=Op.ReactCurrentOwner,al=!1;function ba(e,t,n,r){t.child=e===null?jge(t,null,n,r):Tw(t,e.child,n,r)}function Lte(e,t,n,r,i){n=n.render;var o=t.ref;return q1(t,i),r=bH(e,t,n,r,o,i),n=wH(),e!==null&&!al?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,hp(e,t,i)):(Zr&&n&&aH(t),t.flags|=1,ba(e,t,r,i),t.child)}function Fte(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!RH(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,h0e(e,t,o,r,i)):(e=EI(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:VT,n(s,r)&&e.ref===t.ref)return hp(e,t,i)}return t.flags|=1,e=tg(o,r),e.ref=t.ref,e.return=t,t.child=e}function h0e(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(VT(o,r)&&e.ref===t.ref)if(al=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(al=!0);else return t.lanes=e.lanes,hp(e,t,i)}return V8(e,t,n,r,i)}function f0e(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Or(R1,Nl),Nl|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Or(R1,Nl),Nl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Or(R1,Nl),Nl|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Or(R1,Nl),Nl|=r;return ba(e,t,i,n),t.child}function p0e(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function V8(e,t,n,r,i){var o=fl(n)?qy:ra.current;return o=Ew(t,o),q1(t,i),n=bH(e,t,n,r,o,i),r=wH(),e!==null&&!al?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,hp(e,t,i)):(Zr&&r&&aH(t),t.flags|=1,ba(e,t,n,i),t.child)}function Bte(e,t,n,r,i){if(fl(n)){var o=!0;HR(t)}else o=!1;if(q1(t,i),t.stateNode===null)wI(e,t),u0e(t,n,r),U8(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Fu(u):(u=fl(n)?qy:ra.current,u=Ew(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Mte(t,s,r,u),mm=!1;var h=t.memoizedState;s.state=h,YR(t,r,s,i),l=t.memoizedState,a!==r||h!==l||hl.current||mm?(typeof c=="function"&&(z8(t,n,c,r),l=t.memoizedState),(a=mm||Dte(t,n,a,r,h,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Uge(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:xc(t.type,a),s.props=u,d=t.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Fu(l):(l=fl(n)?qy:ra.current,l=Ew(t,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||h!==l)&&Mte(t,s,r,l),mm=!1,h=t.memoizedState,s.state=h,YR(t,r,s,i);var p=t.memoizedState;a!==d||h!==p||hl.current||mm?(typeof f=="function"&&(z8(t,n,f,r),p=t.memoizedState),(u=mm||Dte(t,n,u,r,h,p,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return W8(e,t,n,r,o,i)}function W8(e,t,n,r,i,o){p0e(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&Ste(t,n,!1),hp(e,t,o);r=t.stateNode,qFe.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Tw(t,e.child,null,o),t.child=Tw(t,null,a,o)):ba(e,t,a,o),t.memoizedState=r.state,i&&Ste(t,n,!0),t.child}function m0e(e){var t=e.stateNode;t.pendingContext?Ete(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ete(e,t.context,!1),mH(e,t.containerInfo)}function jte(e,t,n,r,i){return Sw(),uH(i),t.flags|=256,ba(e,t,n,r),t.child}var q8={dehydrated:null,treeContext:null,retryLane:0};function G8(e){return{baseLanes:e,cachePool:null,transitions:null}}function g0e(e,t,n){var r=t.pendingProps,i=si.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Or(si,i&1),e===null)return B8(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=cP(s,r,0,null),e=Ry(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=G8(n),t.memoizedState=q8,e):EH(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return GFe(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=tg(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=tg(a,o):(o=Ry(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?G8(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=q8,r}return o=e.child,e=o.sibling,r=tg(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function EH(e,t){return t=cP({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Rk(e,t,n,r){return r!==null&&uH(r),Tw(t,e.child,null,n),e=EH(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function GFe(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=j4(Error(tt(422))),Rk(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=cP({mode:"visible",children:r.children},i,0,null),o=Ry(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Tw(t,e.child,null,s),t.child.memoizedState=G8(s),t.memoizedState=q8,o);if(!(t.mode&1))return Rk(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(tt(419)),r=j4(o,r,void 0),Rk(e,t,s,r)}if(a=(s&e.childLanes)!==0,al||a){if(r=$o,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,dp(e,i),Wc(r,e,i,-1))}return IH(),r=j4(Error(tt(421))),Rk(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=s5e.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,jl=Qm(i.nextSibling),Wl=t,Zr=!0,Cc=null,e!==null&&(_u[Eu++]=Mf,_u[Eu++]=Pf,_u[Eu++]=Gy,Mf=e.id,Pf=e.overflow,Gy=t),t=EH(t,r.children),t.flags|=4096,t)}function zte(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),j8(e.return,t,n)}function z4(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function y0e(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ba(e,t,r.children,n),r=si.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zte(e,n,t);else if(e.tag===19)zte(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Or(si,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&KR(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),z4(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&KR(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}z4(t,!0,n,null,o);break;case"together":z4(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function wI(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function hp(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ky|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(tt(153));if(t.child!==null){for(e=t.child,n=tg(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=tg(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function YFe(e,t,n){switch(t.tag){case 3:m0e(t),Sw();break;case 5:Hge(t);break;case 1:fl(t.type)&&HR(t);break;case 4:mH(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Or(qR,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Or(si,si.current&1),t.flags|=128,null):n&t.child.childLanes?g0e(e,t,n):(Or(si,si.current&1),e=hp(e,t,n),e!==null?e.sibling:null);Or(si,si.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return y0e(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Or(si,si.current),r)break;return null;case 22:case 23:return t.lanes=0,f0e(e,t,n)}return hp(e,t,n)}var v0e,Y8,b0e,w0e;v0e=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Y8=function(){};b0e=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,yy(ih.current);var o=null;switch(n){case"input":i=g8(e,i),r=g8(e,r),o=[];break;case"select":i=di({},i,{value:void 0}),r=di({},r,{value:void 0}),o=[];break;case"textarea":i=b8(e,i),r=b8(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=zR)}x8(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(LT.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(LT.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&jr("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};w0e=function(e,t,n,r){n!==r&&(t.flags|=4)};function rE(e,t){if(!Zr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ds(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function KFe(e,t,n){var r=t.pendingProps;switch(lH(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ds(t),null;case 1:return fl(t.type)&&UR(),Ds(t),null;case 3:return r=t.stateNode,Cw(),Yr(hl),Yr(ra),yH(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(kk(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Cc!==null&&(n9(Cc),Cc=null))),Y8(e,t),Ds(t),null;case 5:gH(t);var i=yy(KT.current);if(n=t.type,e!==null&&t.stateNode!=null)b0e(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(tt(166));return Ds(t),null}if(e=yy(ih.current),kk(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Hd]=t,r[GT]=o,e=(t.mode&1)!==0,n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<ZE.length;i++)jr(ZE[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":Xee(r,o),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},jr("invalid",r);break;case"textarea":Jee(r,o),jr("invalid",r)}x8(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Ak(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Ak(r.textContent,a,e),i=["children",""+a]):LT.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&jr("scroll",r)}switch(n){case"input":bk(r),Qee(r,o,!0);break;case"textarea":bk(r),Zee(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=zR)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Yme(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Hd]=t,e[GT]=r,v0e(e,t,!1,!1),t.stateNode=e;e:{switch(s=_8(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<ZE.length;i++)jr(ZE[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":Xee(e,r),i=g8(e,r),jr("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=di({},r,{value:void 0}),jr("invalid",e);break;case"textarea":Jee(e,r),i=b8(e,r),jr("invalid",e);break;default:i=r}x8(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Qme(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Kme(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&FT(e,l):typeof l=="number"&&FT(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(LT.hasOwnProperty(o)?l!=null&&o==="onScroll"&&jr("scroll",e):l!=null&&GU(e,o,l,s))}switch(n){case"input":bk(e),Qee(e,r,!1);break;case"textarea":bk(e),Zee(e);break;case"option":r.value!=null&&e.setAttribute("value",""+gg(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?U1(e,!!r.multiple,o,!1):r.defaultValue!=null&&U1(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=zR)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ds(t),null;case 6:if(e&&t.stateNode!=null)w0e(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(tt(166));if(n=yy(KT.current),yy(ih.current),kk(t)){if(r=t.stateNode,n=t.memoizedProps,r[Hd]=t,(o=r.nodeValue!==n)&&(e=Wl,e!==null))switch(e.tag){case 3:Ak(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ak(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Hd]=t,t.stateNode=r}return Ds(t),null;case 13:if(Yr(si),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Zr&&jl!==null&&t.mode&1&&!(t.flags&128))Fge(),Sw(),t.flags|=98560,o=!1;else if(o=kk(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(tt(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(tt(317));o[Hd]=t}else Sw(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ds(t),o=!1}else Cc!==null&&(n9(Cc),Cc=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||si.current&1?io===0&&(io=3):IH())),t.updateQueue!==null&&(t.flags|=4),Ds(t),null);case 4:return Cw(),Y8(e,t),e===null&&WT(t.stateNode.containerInfo),Ds(t),null;case 10:return hH(t.type._context),Ds(t),null;case 17:return fl(t.type)&&UR(),Ds(t),null;case 19:if(Yr(si),o=t.memoizedState,o===null)return Ds(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)rE(o,!1);else{if(io!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=KR(e),s!==null){for(t.flags|=128,rE(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Or(si,si.current&1|2),t.child}e=e.sibling}o.tail!==null&&Pi()>kw&&(t.flags|=128,r=!0,rE(o,!1),t.lanes=4194304)}else{if(!r)if(e=KR(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),rE(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Zr)return Ds(t),null}else 2*Pi()-o.renderingStartTime>kw&&n!==1073741824&&(t.flags|=128,r=!0,rE(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Pi(),t.sibling=null,n=si.current,Or(si,r?n&1|2:n&1),t):(Ds(t),null);case 22:case 23:return kH(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Nl&1073741824&&(Ds(t),t.subtreeFlags&6&&(t.flags|=8192)):Ds(t),null;case 24:return null;case 25:return null}throw Error(tt(156,t.tag))}function XFe(e,t){switch(lH(t),t.tag){case 1:return fl(t.type)&&UR(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Cw(),Yr(hl),Yr(ra),yH(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return gH(t),null;case 13:if(Yr(si),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(tt(340));Sw()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Yr(si),null;case 4:return Cw(),null;case 10:return hH(t.type._context),null;case 22:case 23:return kH(),null;case 24:return null;default:return null}}var $k=!1,Vs=!1,QFe=typeof WeakSet=="function"?WeakSet:Set,$t=null;function I1(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){vi(e,t,r)}else n.current=null}function K8(e,t,n){try{n()}catch(r){vi(e,t,r)}}var Ute=!1;function JFe(e,t){if(D8=FR,e=Tge(),sH(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,d=e,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===e)break t;if(h===n&&++u===i&&(a=s),h===o&&++c===r&&(l=s),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(M8={focusedElem:e,selectionRange:n},FR=!1,$t=t;$t!==null;)if(t=$t,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$t=e;else for(;$t!==null;){t=$t;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,g=p.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:xc(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(tt(163))}}catch(_){vi(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,$t=e;break}$t=t.return}return p=Ute,Ute=!1,p}function GS(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&K8(t,n,o)}i=i.next}while(i!==r)}}function lP(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function X8(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function x0e(e){var t=e.alternate;t!==null&&(e.alternate=null,x0e(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Hd],delete t[GT],delete t[O8],delete t[PFe],delete t[NFe])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function _0e(e){return e.tag===5||e.tag===3||e.tag===4}function Hte(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_0e(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Q8(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=zR));else if(r!==4&&(e=e.child,e!==null))for(Q8(e,t,n),e=e.sibling;e!==null;)Q8(e,t,n),e=e.sibling}function J8(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(J8(e,t,n),e=e.sibling;e!==null;)J8(e,t,n),e=e.sibling}var Xo=null,Ec=!1;function rm(e,t,n){for(n=n.child;n!==null;)E0e(e,t,n),n=n.sibling}function E0e(e,t,n){if(rh&&typeof rh.onCommitFiberUnmount=="function")try{rh.onCommitFiberUnmount(eP,n)}catch{}switch(n.tag){case 5:Vs||I1(n,t);case 6:var r=Xo,i=Ec;Xo=null,rm(e,t,n),Xo=r,Ec=i,Xo!==null&&(Ec?(e=Xo,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Xo.removeChild(n.stateNode));break;case 18:Xo!==null&&(Ec?(e=Xo,n=n.stateNode,e.nodeType===8?P4(e.parentNode,n):e.nodeType===1&&P4(e,n),UT(e)):P4(Xo,n.stateNode));break;case 4:r=Xo,i=Ec,Xo=n.stateNode.containerInfo,Ec=!0,rm(e,t,n),Xo=r,Ec=i;break;case 0:case 11:case 14:case 15:if(!Vs&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&K8(n,t,s),i=i.next}while(i!==r)}rm(e,t,n);break;case 1:if(!Vs&&(I1(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){vi(n,t,a)}rm(e,t,n);break;case 21:rm(e,t,n);break;case 22:n.mode&1?(Vs=(r=Vs)||n.memoizedState!==null,rm(e,t,n),Vs=r):rm(e,t,n);break;default:rm(e,t,n)}}function Vte(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new QFe),t.forEach(function(r){var i=a5e.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function pc(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:Xo=a.stateNode,Ec=!1;break e;case 3:Xo=a.stateNode.containerInfo,Ec=!0;break e;case 4:Xo=a.stateNode.containerInfo,Ec=!0;break e}a=a.return}if(Xo===null)throw Error(tt(160));E0e(o,s,i),Xo=null,Ec=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){vi(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)S0e(t,e),t=t.sibling}function S0e(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pc(t,e),Id(e),r&4){try{GS(3,e,e.return),lP(3,e)}catch(m){vi(e,e.return,m)}try{GS(5,e,e.return)}catch(m){vi(e,e.return,m)}}break;case 1:pc(t,e),Id(e),r&512&&n!==null&&I1(n,n.return);break;case 5:if(pc(t,e),Id(e),r&512&&n!==null&&I1(n,n.return),e.flags&32){var i=e.stateNode;try{FT(i,"")}catch(m){vi(e,e.return,m)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&qme(i,o),_8(a,s);var u=_8(a,o);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];c==="style"?Qme(i,d):c==="dangerouslySetInnerHTML"?Kme(i,d):c==="children"?FT(i,d):GU(i,c,d,u)}switch(a){case"input":y8(i,o);break;case"textarea":Gme(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var f=o.value;f!=null?U1(i,!!o.multiple,f,!1):h!==!!o.multiple&&(o.defaultValue!=null?U1(i,!!o.multiple,o.defaultValue,!0):U1(i,!!o.multiple,o.multiple?[]:"",!1))}i[GT]=o}catch(m){vi(e,e.return,m)}}break;case 6:if(pc(t,e),Id(e),r&4){if(e.stateNode===null)throw Error(tt(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){vi(e,e.return,m)}}break;case 3:if(pc(t,e),Id(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{UT(t.containerInfo)}catch(m){vi(e,e.return,m)}break;case 4:pc(t,e),Id(e);break;case 13:pc(t,e),Id(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(CH=Pi())),r&4&&Vte(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Vs=(u=Vs)||c,pc(t,e),Vs=u):pc(t,e),Id(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for($t=e,c=e.child;c!==null;){for(d=$t=c;$t!==null;){switch(h=$t,f=h.child,h.tag){case 0:case 11:case 14:case 15:GS(4,h,h.return);break;case 1:I1(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(m){vi(r,n,m)}}break;case 5:I1(h,h.return);break;case 22:if(h.memoizedState!==null){qte(d);continue}}f!==null?(f.return=h,$t=f):qte(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Xme("display",s))}catch(m){vi(e,e.return,m)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){vi(e,e.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:pc(t,e),Id(e),r&4&&Vte(e);break;case 21:break;default:pc(t,e),Id(e)}}function Id(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(_0e(n)){var r=n;break e}n=n.return}throw Error(tt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(FT(i,""),r.flags&=-33);var o=Hte(e);J8(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Hte(e);Q8(e,a,s);break;default:throw Error(tt(161))}}catch(l){vi(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ZFe(e,t,n){$t=e,T0e(e)}function T0e(e,t,n){for(var r=(e.mode&1)!==0;$t!==null;){var i=$t,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||$k;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Vs;a=$k;var u=Vs;if($k=s,(Vs=l)&&!u)for($t=i;$t!==null;)s=$t,l=s.child,s.tag===22&&s.memoizedState!==null?Gte(i):l!==null?(l.return=s,$t=l):Gte(i);for(;o!==null;)$t=o,T0e(o),o=o.sibling;$t=i,$k=a,Vs=u}Wte(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,$t=o):Wte(e)}}function Wte(e){for(;$t!==null;){var t=$t;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Vs||lP(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Vs)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:xc(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Ite(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ite(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&UT(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(tt(163))}Vs||t.flags&512&&X8(t)}catch(h){vi(t,t.return,h)}}if(t===e){$t=null;break}if(n=t.sibling,n!==null){n.return=t.return,$t=n;break}$t=t.return}}function qte(e){for(;$t!==null;){var t=$t;if(t===e){$t=null;break}var n=t.sibling;if(n!==null){n.return=t.return,$t=n;break}$t=t.return}}function Gte(e){for(;$t!==null;){var t=$t;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{lP(4,t)}catch(l){vi(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){vi(t,i,l)}}var o=t.return;try{X8(t)}catch(l){vi(t,o,l)}break;case 5:var s=t.return;try{X8(t)}catch(l){vi(t,s,l)}}}catch(l){vi(t,t.return,l)}if(t===e){$t=null;break}var a=t.sibling;if(a!==null){a.return=t.return,$t=a;break}$t=t.return}}var e5e=Math.ceil,JR=Op.ReactCurrentDispatcher,SH=Op.ReactCurrentOwner,Pu=Op.ReactCurrentBatchConfig,Kn=0,$o=null,Vi=null,cs=0,Nl=0,R1=Yg(0),io=0,ZT=null,Ky=0,uP=0,TH=0,YS=null,tl=null,CH=0,kw=1/0,_f=null,ZR=!1,Z8=null,Zm=null,Dk=!1,Pm=null,e$=0,KS=0,e9=null,xI=-1,_I=0;function Ia(){return Kn&6?Pi():xI!==-1?xI:xI=Pi()}function eg(e){return e.mode&1?Kn&2&&cs!==0?cs&-cs:LFe.transition!==null?(_I===0&&(_I=uge()),_I):(e=pr,e!==0||(e=window.event,e=e===void 0?16:gge(e.type)),e):1}function Wc(e,t,n,r){if(50<KS)throw KS=0,e9=null,Error(tt(185));wA(e,n,r),(!(Kn&2)||e!==$o)&&(e===$o&&(!(Kn&2)&&(uP|=n),io===4&&Em(e,cs)),pl(e,r),n===1&&Kn===0&&!(t.mode&1)&&(kw=Pi()+500,oP&&Kg()))}function pl(e,t){var n=e.callbackNode;L4e(e,t);var r=LR(e,e===$o?cs:0);if(r===0)n!==null&&nte(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&nte(n),t===1)e.tag===0?OFe(Yte.bind(null,e)):Nge(Yte.bind(null,e)),DFe(function(){!(Kn&6)&&Kg()}),n=null;else{switch(cge(r)){case 1:n=JU;break;case 4:n=age;break;case 16:n=OR;break;case 536870912:n=lge;break;default:n=OR}n=M0e(n,C0e.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function C0e(e,t){if(xI=-1,_I=0,Kn&6)throw Error(tt(327));var n=e.callbackNode;if(G1()&&e.callbackNode!==n)return null;var r=LR(e,e===$o?cs:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=t$(e,r);else{t=r;var i=Kn;Kn|=2;var o=k0e();($o!==e||cs!==t)&&(_f=null,kw=Pi()+500,Iy(e,t));do try{r5e();break}catch(a){A0e(e,a)}while(!0);dH(),JR.current=o,Kn=i,Vi!==null?t=0:($o=null,cs=0,t=io)}if(t!==0){if(t===2&&(i=A8(e),i!==0&&(r=i,t=t9(e,i))),t===1)throw n=ZT,Iy(e,0),Em(e,r),pl(e,Pi()),n;if(t===6)Em(e,r);else{if(i=e.current.alternate,!(r&30)&&!t5e(i)&&(t=t$(e,r),t===2&&(o=A8(e),o!==0&&(r=o,t=t9(e,o))),t===1))throw n=ZT,Iy(e,0),Em(e,r),pl(e,Pi()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(tt(345));case 2:q0(e,tl,_f);break;case 3:if(Em(e,r),(r&130023424)===r&&(t=CH+500-Pi(),10<t)){if(LR(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ia(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=N8(q0.bind(null,e,tl,_f),t);break}q0(e,tl,_f);break;case 4:if(Em(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-Vc(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=Pi()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*e5e(r/1960))-r,10<r){e.timeoutHandle=N8(q0.bind(null,e,tl,_f),r);break}q0(e,tl,_f);break;case 5:q0(e,tl,_f);break;default:throw Error(tt(329))}}}return pl(e,Pi()),e.callbackNode===n?C0e.bind(null,e):null}function t9(e,t){var n=YS;return e.current.memoizedState.isDehydrated&&(Iy(e,t).flags|=256),e=t$(e,t),e!==2&&(t=tl,tl=n,t!==null&&n9(t)),e}function n9(e){tl===null?tl=e:tl.push.apply(tl,e)}function t5e(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ed(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Em(e,t){for(t&=~TH,t&=~uP,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Vc(t),r=1<<n;e[n]=-1,t&=~r}}function Yte(e){if(Kn&6)throw Error(tt(327));G1();var t=LR(e,0);if(!(t&1))return pl(e,Pi()),null;var n=t$(e,t);if(e.tag!==0&&n===2){var r=A8(e);r!==0&&(t=r,n=t9(e,r))}if(n===1)throw n=ZT,Iy(e,0),Em(e,t),pl(e,Pi()),n;if(n===6)throw Error(tt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,q0(e,tl,_f),pl(e,Pi()),null}function AH(e,t){var n=Kn;Kn|=1;try{return e(t)}finally{Kn=n,Kn===0&&(kw=Pi()+500,oP&&Kg())}}function Xy(e){Pm!==null&&Pm.tag===0&&!(Kn&6)&&G1();var t=Kn;Kn|=1;var n=Pu.transition,r=pr;try{if(Pu.transition=null,pr=1,e)return e()}finally{pr=r,Pu.transition=n,Kn=t,!(Kn&6)&&Kg()}}function kH(){Nl=R1.current,Yr(R1)}function Iy(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,$Fe(n)),Vi!==null)for(n=Vi.return;n!==null;){var r=n;switch(lH(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&UR();break;case 3:Cw(),Yr(hl),Yr(ra),yH();break;case 5:gH(r);break;case 4:Cw();break;case 13:Yr(si);break;case 19:Yr(si);break;case 10:hH(r.type._context);break;case 22:case 23:kH()}n=n.return}if($o=e,Vi=e=tg(e.current,null),cs=Nl=t,io=0,ZT=null,TH=uP=Ky=0,tl=YS=null,gy!==null){for(t=0;t<gy.length;t++)if(n=gy[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}gy=null}return e}function A0e(e,t){do{var n=Vi;try{if(dH(),vI.current=QR,XR){for(var r=ci.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}XR=!1}if(Yy=0,xo=Zi=ci=null,qS=!1,XT=0,SH.current=null,n===null||n.return===null){io=1,ZT=t,Vi=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=cs,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=Nte(s);if(f!==null){f.flags&=-257,Ote(f,s,a,o,t),f.mode&1&&Pte(o,u,t),t=f,l=u;var p=t.updateQueue;if(p===null){var m=new Set;m.add(l),t.updateQueue=m}else p.add(l);break e}else{if(!(t&1)){Pte(o,u,t),IH();break e}l=Error(tt(426))}}else if(Zr&&a.mode&1){var g=Nte(s);if(g!==null){!(g.flags&65536)&&(g.flags|=256),Ote(g,s,a,o,t),uH(Aw(l,a));break e}}o=l=Aw(l,a),io!==4&&(io=2),YS===null?YS=[o]:YS.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=c0e(o,l,t);kte(o,y);break e;case 1:a=l;var v=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Zm===null||!Zm.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var _=d0e(o,a,t);kte(o,_);break e}}o=o.return}while(o!==null)}R0e(n)}catch(x){t=x,Vi===n&&n!==null&&(Vi=n=n.return);continue}break}while(!0)}function k0e(){var e=JR.current;return JR.current=QR,e===null?QR:e}function IH(){(io===0||io===3||io===2)&&(io=4),$o===null||!(Ky&268435455)&&!(uP&268435455)||Em($o,cs)}function t$(e,t){var n=Kn;Kn|=2;var r=k0e();($o!==e||cs!==t)&&(_f=null,Iy(e,t));do try{n5e();break}catch(i){A0e(e,i)}while(!0);if(dH(),Kn=n,JR.current=r,Vi!==null)throw Error(tt(261));return $o=null,cs=0,io}function n5e(){for(;Vi!==null;)I0e(Vi)}function r5e(){for(;Vi!==null&&!k4e();)I0e(Vi)}function I0e(e){var t=D0e(e.alternate,e,Nl);e.memoizedProps=e.pendingProps,t===null?R0e(e):Vi=t,SH.current=null}function R0e(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=XFe(n,t),n!==null){n.flags&=32767,Vi=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{io=6,Vi=null;return}}else if(n=KFe(n,t,Nl),n!==null){Vi=n;return}if(t=t.sibling,t!==null){Vi=t;return}Vi=t=e}while(t!==null);io===0&&(io=5)}function q0(e,t,n){var r=pr,i=Pu.transition;try{Pu.transition=null,pr=1,i5e(e,t,n,r)}finally{Pu.transition=i,pr=r}return null}function i5e(e,t,n,r){do G1();while(Pm!==null);if(Kn&6)throw Error(tt(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(tt(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(F4e(e,o),e===$o&&(Vi=$o=null,cs=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Dk||(Dk=!0,M0e(OR,function(){return G1(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Pu.transition,Pu.transition=null;var s=pr;pr=1;var a=Kn;Kn|=4,SH.current=null,JFe(e,n),S0e(n,e),SFe(M8),FR=!!D8,M8=D8=null,e.current=n,ZFe(n),I4e(),Kn=a,pr=s,Pu.transition=o}else e.current=n;if(Dk&&(Dk=!1,Pm=e,e$=i),o=e.pendingLanes,o===0&&(Zm=null),D4e(n.stateNode),pl(e,Pi()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ZR)throw ZR=!1,e=Z8,Z8=null,e;return e$&1&&e.tag!==0&&G1(),o=e.pendingLanes,o&1?e===e9?KS++:(KS=0,e9=e):KS=0,Kg(),null}function G1(){if(Pm!==null){var e=cge(e$),t=Pu.transition,n=pr;try{if(Pu.transition=null,pr=16>e?16:e,Pm===null)var r=!1;else{if(e=Pm,Pm=null,e$=0,Kn&6)throw Error(tt(331));var i=Kn;for(Kn|=4,$t=e.current;$t!==null;){var o=$t,s=o.child;if($t.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for($t=u;$t!==null;){var c=$t;switch(c.tag){case 0:case 11:case 15:GS(8,c,o)}var d=c.child;if(d!==null)d.return=c,$t=d;else for(;$t!==null;){c=$t;var h=c.sibling,f=c.return;if(x0e(c),c===u){$t=null;break}if(h!==null){h.return=f,$t=h;break}$t=f}}}var p=o.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(m!==null)}}$t=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,$t=s;else e:for(;$t!==null;){if(o=$t,o.flags&2048)switch(o.tag){case 0:case 11:case 15:GS(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,$t=y;break e}$t=o.return}}var v=e.current;for($t=v;$t!==null;){s=$t;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,$t=b;else e:for(s=v;$t!==null;){if(a=$t,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:lP(9,a)}}catch(x){vi(a,a.return,x)}if(a===s){$t=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,$t=_;break e}$t=a.return}}if(Kn=i,Kg(),rh&&typeof rh.onPostCommitFiberRoot=="function")try{rh.onPostCommitFiberRoot(eP,e)}catch{}r=!0}return r}finally{pr=n,Pu.transition=t}}return!1}function Kte(e,t,n){t=Aw(n,t),t=c0e(e,t,1),e=Jm(e,t,1),t=Ia(),e!==null&&(wA(e,1,t),pl(e,t))}function vi(e,t,n){if(e.tag===3)Kte(e,e,n);else for(;t!==null;){if(t.tag===3){Kte(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zm===null||!Zm.has(r))){e=Aw(n,e),e=d0e(t,e,1),t=Jm(t,e,1),e=Ia(),t!==null&&(wA(t,1,e),pl(t,e));break}}t=t.return}}function o5e(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ia(),e.pingedLanes|=e.suspendedLanes&n,$o===e&&(cs&n)===n&&(io===4||io===3&&(cs&130023424)===cs&&500>Pi()-CH?Iy(e,0):TH|=n),pl(e,t)}function $0e(e,t){t===0&&(e.mode&1?(t=_k,_k<<=1,!(_k&130023424)&&(_k=4194304)):t=1);var n=Ia();e=dp(e,t),e!==null&&(wA(e,t,n),pl(e,n))}function s5e(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),$0e(e,n)}function a5e(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(tt(314))}r!==null&&r.delete(t),$0e(e,n)}var D0e;D0e=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||hl.current)al=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return al=!1,YFe(e,t,n);al=!!(e.flags&131072)}else al=!1,Zr&&t.flags&1048576&&Oge(t,WR,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;wI(e,t),e=t.pendingProps;var i=Ew(t,ra.current);q1(t,n),i=bH(null,t,r,e,i,n);var o=wH();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,fl(r)?(o=!0,HR(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,pH(t),i.updater=aP,t.stateNode=i,i._reactInternals=t,U8(t,r,e,n),t=W8(null,t,r,!0,o,n)):(t.tag=0,Zr&&o&&aH(t),ba(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(wI(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=u5e(r),e=xc(r,e),i){case 0:t=V8(null,t,r,e,n);break e;case 1:t=Bte(null,t,r,e,n);break e;case 11:t=Lte(null,t,r,e,n);break e;case 14:t=Fte(null,t,r,xc(r.type,e),n);break e}throw Error(tt(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xc(r,i),V8(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xc(r,i),Bte(e,t,r,i,n);case 3:e:{if(m0e(t),e===null)throw Error(tt(387));r=t.pendingProps,o=t.memoizedState,i=o.element,Uge(e,t),YR(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Aw(Error(tt(423)),t),t=jte(e,t,r,n,i);break e}else if(r!==i){i=Aw(Error(tt(424)),t),t=jte(e,t,r,n,i);break e}else for(jl=Qm(t.stateNode.containerInfo.firstChild),Wl=t,Zr=!0,Cc=null,n=jge(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Sw(),r===i){t=hp(e,t,n);break e}ba(e,t,r,n)}t=t.child}return t;case 5:return Hge(t),e===null&&B8(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,P8(r,i)?s=null:o!==null&&P8(r,o)&&(t.flags|=32),p0e(e,t),ba(e,t,s,n),t.child;case 6:return e===null&&B8(t),null;case 13:return g0e(e,t,n);case 4:return mH(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Tw(t,null,r,n):ba(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xc(r,i),Lte(e,t,r,i,n);case 7:return ba(e,t,t.pendingProps,n),t.child;case 8:return ba(e,t,t.pendingProps.children,n),t.child;case 12:return ba(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Or(qR,r._currentValue),r._currentValue=s,o!==null)if(ed(o.value,s)){if(o.children===i.children&&!hl.current){t=hp(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Gf(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),j8(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(tt(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),j8(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}ba(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,q1(t,n),i=Fu(i),r=r(i),t.flags|=1,ba(e,t,r,n),t.child;case 14:return r=t.type,i=xc(r,t.pendingProps),i=xc(r.type,i),Fte(e,t,r,i,n);case 15:return h0e(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xc(r,i),wI(e,t),t.tag=1,fl(r)?(e=!0,HR(t)):e=!1,q1(t,n),u0e(t,r,i),U8(t,r,i,n),W8(null,t,r,!0,e,n);case 19:return y0e(e,t,n);case 22:return f0e(e,t,n)}throw Error(tt(156,t.tag))};function M0e(e,t){return sge(e,t)}function l5e(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Iu(e,t,n,r){return new l5e(e,t,n,r)}function RH(e){return e=e.prototype,!(!e||!e.isReactComponent)}function u5e(e){if(typeof e=="function")return RH(e)?1:0;if(e!=null){if(e=e.$$typeof,e===KU)return 11;if(e===XU)return 14}return 2}function tg(e,t){var n=e.alternate;return n===null?(n=Iu(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function EI(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")RH(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case w1:return Ry(n.children,i,o,t);case YU:s=8,i|=8;break;case h8:return e=Iu(12,n,t,i|2),e.elementType=h8,e.lanes=o,e;case f8:return e=Iu(13,n,t,i),e.elementType=f8,e.lanes=o,e;case p8:return e=Iu(19,n,t,i),e.elementType=p8,e.lanes=o,e;case Hme:return cP(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case zme:s=10;break e;case Ume:s=9;break e;case KU:s=11;break e;case XU:s=14;break e;case pm:s=16,r=null;break e}throw Error(tt(130,e==null?e:typeof e,""))}return t=Iu(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Ry(e,t,n,r){return e=Iu(7,e,r,t),e.lanes=n,e}function cP(e,t,n,r){return e=Iu(22,e,r,t),e.elementType=Hme,e.lanes=n,e.stateNode={isHidden:!1},e}function U4(e,t,n){return e=Iu(6,e,null,t),e.lanes=n,e}function H4(e,t,n){return t=Iu(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function c5e(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=E4(0),this.expirationTimes=E4(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=E4(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function $H(e,t,n,r,i,o,s,a,l){return e=new c5e(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Iu(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},pH(o),e}function d5e(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:b1,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function P0e(e){if(!e)return yg;e=e._reactInternals;e:{if(Fv(e)!==e||e.tag!==1)throw Error(tt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(fl(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(tt(171))}if(e.tag===1){var n=e.type;if(fl(n))return Pge(e,n,t)}return t}function N0e(e,t,n,r,i,o,s,a,l){return e=$H(n,r,!0,e,i,o,s,a,l),e.context=P0e(null),n=e.current,r=Ia(),i=eg(n),o=Gf(r,i),o.callback=t??null,Jm(n,o,i),e.current.lanes=i,wA(e,i,r),pl(e,r),e}function dP(e,t,n,r){var i=t.current,o=Ia(),s=eg(i);return n=P0e(n),t.context===null?t.context=n:t.pendingContext=n,t=Gf(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Jm(i,t,s),e!==null&&(Wc(e,i,s,o),yI(e,i,s)),s}function n$(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Xte(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function DH(e,t){Xte(e,t),(e=e.alternate)&&Xte(e,t)}function h5e(){return null}var O0e=typeof reportError=="function"?reportError:function(e){console.error(e)};function MH(e){this._internalRoot=e}hP.prototype.render=MH.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(tt(409));dP(e,t,null,null)};hP.prototype.unmount=MH.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xy(function(){dP(null,e,null,null)}),t[cp]=null}};function hP(e){this._internalRoot=e}hP.prototype.unstable_scheduleHydration=function(e){if(e){var t=fge();e={blockedOn:null,target:e,priority:t};for(var n=0;n<_m.length&&t!==0&&t<_m[n].priority;n++);_m.splice(n,0,e),n===0&&mge(e)}};function PH(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function fP(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Qte(){}function f5e(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=n$(s);o.call(u)}}var s=N0e(t,r,e,0,null,!1,!1,"",Qte);return e._reactRootContainer=s,e[cp]=s.current,WT(e.nodeType===8?e.parentNode:e),Xy(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=n$(l);a.call(u)}}var l=$H(e,0,!1,null,null,!1,!1,"",Qte);return e._reactRootContainer=l,e[cp]=l.current,WT(e.nodeType===8?e.parentNode:e),Xy(function(){dP(t,l,n,r)}),l}function pP(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=n$(s);a.call(l)}}dP(t,s,e,i)}else s=f5e(n,t,e,i,r);return n$(s)}dge=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=JE(t.pendingLanes);n!==0&&(ZU(t,n|1),pl(t,Pi()),!(Kn&6)&&(kw=Pi()+500,Kg()))}break;case 13:Xy(function(){var r=dp(e,1);if(r!==null){var i=Ia();Wc(r,e,1,i)}}),DH(e,1)}};eH=function(e){if(e.tag===13){var t=dp(e,134217728);if(t!==null){var n=Ia();Wc(t,e,134217728,n)}DH(e,134217728)}};hge=function(e){if(e.tag===13){var t=eg(e),n=dp(e,t);if(n!==null){var r=Ia();Wc(n,e,t,r)}DH(e,t)}};fge=function(){return pr};pge=function(e,t){var n=pr;try{return pr=e,t()}finally{pr=n}};S8=function(e,t,n){switch(t){case"input":if(y8(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=iP(r);if(!i)throw Error(tt(90));Wme(r),y8(r,i)}}}break;case"textarea":Gme(e,n);break;case"select":t=n.value,t!=null&&U1(e,!!n.multiple,t,!1)}};ege=AH;tge=Xy;var p5e={usingClientEntryPoint:!1,Events:[_A,S1,iP,Jme,Zme,AH]},iE={findFiberByHostInstance:my,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},m5e={bundleType:iE.bundleType,version:iE.version,rendererPackageName:iE.rendererPackageName,rendererConfig:iE.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Op.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ige(e),e===null?null:e.stateNode},findFiberByHostInstance:iE.findFiberByHostInstance||h5e,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mk=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mk.isDisabled&&Mk.supportsFiber)try{eP=Mk.inject(m5e),rh=Mk}catch{}}fu.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=p5e;fu.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!PH(t))throw Error(tt(200));return d5e(e,t,null,n)};fu.createRoot=function(e,t){if(!PH(e))throw Error(tt(299));var n=!1,r="",i=O0e;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=$H(e,1,!1,null,null,n,!1,r,i),e[cp]=t.current,WT(e.nodeType===8?e.parentNode:e),new MH(t)};fu.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(tt(188)):(e=Object.keys(e).join(","),Error(tt(268,e)));return e=ige(t),e=e===null?null:e.stateNode,e};fu.flushSync=function(e){return Xy(e)};fu.hydrate=function(e,t,n){if(!fP(t))throw Error(tt(200));return pP(null,e,t,!0,n)};fu.hydrateRoot=function(e,t,n){if(!PH(e))throw Error(tt(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=O0e;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=N0e(t,null,e,1,n??null,i,!1,o,s),e[cp]=t.current,WT(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new hP(t)};fu.render=function(e,t,n){if(!fP(t))throw Error(tt(200));return pP(null,e,t,!1,n)};fu.unmountComponentAtNode=function(e){if(!fP(e))throw Error(tt(40));return e._reactRootContainer?(Xy(function(){pP(null,null,e,!1,function(){e._reactRootContainer=null,e[cp]=null})}),!0):!1};fu.unstable_batchedUpdates=AH;fu.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!fP(n))throw Error(tt(200));if(e==null||e._reactInternals===void 0)throw Error(tt(38));return pP(e,t,n,!1,r)};fu.version="18.3.1-next-f1338f8080-20240426";function L0e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(L0e)}catch(e){console.error(e)}}L0e(),Lme.exports=fu;var SA=Lme.exports;const eS=hu(SA);var Jte=SA;c8.createRoot=Jte.createRoot,c8.hydrateRoot=Jte.hydrateRoot;var Vd=function(){return Vd=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Vd.apply(this,arguments)};function TA(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function g5e(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var SI="right-scroll-bar-position",TI="width-before-scroll-bar",y5e="with-scroll-bars-hidden",v5e="--removed-body-scroll-bar-size";function V4(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function b5e(e,t){var n=O.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var w5e=typeof window<"u"?O.useLayoutEffect:O.useEffect,Zte=new WeakMap;function x5e(e,t){var n=b5e(null,function(r){return e.forEach(function(i){return V4(i,r)})});return w5e(function(){var r=Zte.get(n);if(r){var i=new Set(r),o=new Set(e),s=n.current;i.forEach(function(a){o.has(a)||V4(a,null)}),o.forEach(function(a){i.has(a)||V4(a,s)})}Zte.set(n,e)},[e]),n}function _5e(e){return e}function E5e(e,t){t===void 0&&(t=_5e);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var s=t(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var l=function(){var c=s;s=[],c.forEach(o)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(c){s.push(c),u()},filter:function(c){return s=s.filter(c),n}}}};return i}function S5e(e){e===void 0&&(e={});var t=E5e(null);return t.options=Vd({async:!0,ssr:!1},e),t}var F0e=function(e){var t=e.sideCar,n=TA(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return O.createElement(r,Vd({},n))};F0e.isSideCarExport=!0;function T5e(e,t){return e.useMedium(t),F0e}var B0e=S5e(),W4=function(){},mP=O.forwardRef(function(e,t){var n=O.useRef(null),r=O.useState({onScrollCapture:W4,onWheelCapture:W4,onTouchMoveCapture:W4}),i=r[0],o=r[1],s=e.forwardProps,a=e.children,l=e.className,u=e.removeScrollBar,c=e.enabled,d=e.shards,h=e.sideCar,f=e.noIsolation,p=e.inert,m=e.allowPinchZoom,g=e.as,y=g===void 0?"div":g,v=e.gapMode,b=TA(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,x=x5e([n,t]),w=Vd(Vd({},b),i);return O.createElement(O.Fragment,null,c&&O.createElement(_,{sideCar:B0e,removeScrollBar:u,shards:d,noIsolation:f,inert:p,setCallbacks:o,allowPinchZoom:!!m,lockRef:n,gapMode:v}),s?O.cloneElement(O.Children.only(a),Vd(Vd({},w),{ref:x})):O.createElement(y,Vd({},w,{className:l,ref:x}),a))});mP.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};mP.classNames={fullWidth:TI,zeroRight:SI};var C5e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function A5e(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=C5e();return t&&e.setAttribute("nonce",t),e}function k5e(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function I5e(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var R5e=function(){var e=0,t=null;return{add:function(n){e==0&&(t=A5e())&&(k5e(t,n),I5e(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},$5e=function(){var e=R5e();return function(t,n){O.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},j0e=function(){var e=$5e(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},D5e={left:0,top:0,right:0,gap:0},q4=function(e){return parseInt(e||"",10)||0},M5e=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[q4(n),q4(r),q4(i)]},P5e=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return D5e;var t=M5e(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},N5e=j0e(),Y1="data-scroll-locked",O5e=function(e,t,n,r){var i=e.left,o=e.top,s=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(y5e,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Y1,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(SI,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(TI,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(SI," .").concat(SI,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(TI," .").concat(TI,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Y1,`] {
    `).concat(v5e,": ").concat(a,`px;
  }
`)},ene=function(){var e=parseInt(document.body.getAttribute(Y1)||"0",10);return isFinite(e)?e:0},L5e=function(){O.useEffect(function(){return document.body.setAttribute(Y1,(ene()+1).toString()),function(){var e=ene()-1;e<=0?document.body.removeAttribute(Y1):document.body.setAttribute(Y1,e.toString())}},[])},F5e=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;L5e();var o=O.useMemo(function(){return P5e(i)},[i]);return O.createElement(N5e,{styles:O5e(o,!t,i,n?"":"!important")})},r9=!1;if(typeof window<"u")try{var Pk=Object.defineProperty({},"passive",{get:function(){return r9=!0,!0}});window.addEventListener("test",Pk,Pk),window.removeEventListener("test",Pk,Pk)}catch{r9=!1}var Ob=r9?{passive:!1}:!1,B5e=function(e){return e.tagName==="TEXTAREA"},z0e=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!B5e(e)&&n[t]==="visible")},j5e=function(e){return z0e(e,"overflowY")},z5e=function(e){return z0e(e,"overflowX")},tne=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=U0e(e,r);if(i){var o=H0e(e,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},U5e=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},H5e=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},U0e=function(e,t){return e==="v"?j5e(t):z5e(t)},H0e=function(e,t){return e==="v"?U5e(t):H5e(t)},V5e=function(e,t){return e==="h"&&t==="rtl"?-1:1},W5e=function(e,t,n,r,i){var o=V5e(e,window.getComputedStyle(t).direction),s=o*r,a=n.target,l=t.contains(a),u=!1,c=s>0,d=0,h=0;do{var f=H0e(e,a),p=f[0],m=f[1],g=f[2],y=m-g-o*p;(p||y)&&U0e(e,a)&&(d+=y,h+=p),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(c&&Math.abs(d)<1||!c&&Math.abs(h)<1)&&(u=!0),u},Nk=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},nne=function(e){return[e.deltaX,e.deltaY]},rne=function(e){return e&&"current"in e?e.current:e},q5e=function(e,t){return e[0]===t[0]&&e[1]===t[1]},G5e=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Y5e=0,Lb=[];function K5e(e){var t=O.useRef([]),n=O.useRef([0,0]),r=O.useRef(),i=O.useState(Y5e++)[0],o=O.useState(j0e)[0],s=O.useRef(e);O.useEffect(function(){s.current=e},[e]),O.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var m=g5e([e.lockRef.current],(e.shards||[]).map(rne),!0).filter(Boolean);return m.forEach(function(g){return g.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var a=O.useCallback(function(m,g){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!s.current.allowPinchZoom;var y=Nk(m),v=n.current,b="deltaX"in m?m.deltaX:v[0]-y[0],_="deltaY"in m?m.deltaY:v[1]-y[1],x,w=m.target,E=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in m&&E==="h"&&w.type==="range")return!1;var S=tne(E,w);if(!S)return!0;if(S?x=E:(x=E==="v"?"h":"v",S=tne(E,w)),!S)return!1;if(!r.current&&"changedTouches"in m&&(b||_)&&(r.current=x),!x)return!0;var T=r.current||x;return W5e(T,g,m,T==="h"?b:_)},[]),l=O.useCallback(function(m){var g=m;if(!(!Lb.length||Lb[Lb.length-1]!==o)){var y="deltaY"in g?nne(g):Nk(g),v=t.current.filter(function(x){return x.name===g.type&&(x.target===g.target||g.target===x.shadowParent)&&q5e(x.delta,y)})[0];if(v&&v.should){g.cancelable&&g.preventDefault();return}if(!v){var b=(s.current.shards||[]).map(rne).filter(Boolean).filter(function(x){return x.contains(g.target)}),_=b.length>0?a(g,b[0]):!s.current.noIsolation;_&&g.cancelable&&g.preventDefault()}}},[]),u=O.useCallback(function(m,g,y,v){var b={name:m,delta:g,target:y,should:v,shadowParent:X5e(y)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(_){return _!==b})},1)},[]),c=O.useCallback(function(m){n.current=Nk(m),r.current=void 0},[]),d=O.useCallback(function(m){u(m.type,nne(m),m.target,a(m,e.lockRef.current))},[]),h=O.useCallback(function(m){u(m.type,Nk(m),m.target,a(m,e.lockRef.current))},[]);O.useEffect(function(){return Lb.push(o),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Ob),document.addEventListener("touchmove",l,Ob),document.addEventListener("touchstart",c,Ob),function(){Lb=Lb.filter(function(m){return m!==o}),document.removeEventListener("wheel",l,Ob),document.removeEventListener("touchmove",l,Ob),document.removeEventListener("touchstart",c,Ob)}},[]);var f=e.removeScrollBar,p=e.inert;return O.createElement(O.Fragment,null,p?O.createElement(o,{styles:G5e(i)}):null,f?O.createElement(F5e,{gapMode:e.gapMode}):null)}function X5e(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Q5e=T5e(B0e,K5e);var Iw=O.forwardRef(function(e,t){return O.createElement(mP,Vd({},e,{ref:t,sideCar:Q5e}))});Iw.classNames=mP.classNames;function Rr(e){return Object.keys(e)}function G4(e){return e&&typeof e=="object"&&!Array.isArray(e)}function NH(e,t){const n={...e},r=t;return G4(e)&&G4(t)&&Object.keys(t).forEach(i=>{G4(r[i])&&i in e?n[i]=NH(n[i],r[i]):n[i]=r[i]}),n}function J5e(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function Z5e(e){var t;return typeof e!="string"||!e.includes("var(--mantine-scale)")?e:(t=e.match(/^calc\((.*?)\)$/))==null?void 0:t[1].split("*")[0].trim()}function eC(e){const t=Z5e(e);return typeof t=="number"?t:typeof t=="string"?t.includes("calc")||t.includes("var")?t:t.includes("px")?Number(t.replace("px","")):t.includes("rem")?Number(t.replace("rem",""))*16:t.includes("em")?Number(t.replace("em",""))*16:Number(t):NaN}function Y4(e){return e==="0rem"?"0rem":`calc(${e} * var(--mantine-scale))`}function V0e(e,{shouldScale:t=!1}={}){function n(r){if(r===0||r==="0")return`0${e}`;if(typeof r=="number"){const i=`${r/16}${e}`;return t?Y4(i):i}if(typeof r=="string"){if(r===""||r.startsWith("calc(")||r.startsWith("clamp(")||r.includes("rgba("))return r;if(r.includes(","))return r.split(",").map(o=>n(o)).join(",");if(r.includes(" "))return r.split(" ").map(o=>n(o)).join(" ");if(r.includes(e))return t?Y4(r):r;const i=r.replace("px","");if(!Number.isNaN(Number(i))){const o=`${Number(i)/16}${e}`;return t?Y4(o):o}}return r}return n}const _e=V0e("rem",{shouldScale:!0}),r$=V0e("em");function Xg(e){return Object.keys(e).reduce((t,n)=>(e[n]!==void 0&&(t[n]=e[n]),t),{})}function W0e(e){if(typeof e=="number")return!0;if(typeof e=="string"){if(e.startsWith("calc(")||e.startsWith("var(")||e.includes(" ")&&e.trim()!=="")return!0;const t=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return e.trim().split(/\s+/).every(r=>t.test(r))}return!1}function Lp(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==O.Fragment:!1}function Oo(e){const t=O.createContext(null);return[({children:i,value:o})=>k.jsx(t.Provider,{value:o,children:i}),()=>{const i=O.useContext(t);if(i===null)throw new Error(e);return i}]}function Qg(e=null){const t=O.createContext(e);return[({children:i,value:o})=>k.jsx(t.Provider,{value:o,children:i}),()=>O.useContext(t)]}function i$(e,t){return n=>{if(typeof n!="string"||n.trim().length===0)throw new Error(t);return`${e}-${n}`}}function o$(e,t){let n=e;for(;(n=n.parentElement)&&!n.matches(t););return n}function e6e(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].disabled)return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].disabled)return r}return e}function t6e(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].disabled)return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].disabled)return r}return e}function n6e(e,t,n){return o$(e,n)===o$(t,n)}function OH({parentSelector:e,siblingSelector:t,onKeyDown:n,loop:r=!0,activateOnFocus:i=!1,dir:o="rtl",orientation:s}){return a=>{var p;n==null||n(a);const l=Array.from(((p=o$(a.currentTarget,e))==null?void 0:p.querySelectorAll(t))||[]).filter(m=>n6e(a.currentTarget,m,e)),u=l.findIndex(m=>a.currentTarget===m),c=t6e(u,l,r),d=e6e(u,l,r),h=o==="rtl"?d:c,f=o==="rtl"?c:d;switch(a.key){case"ArrowRight":{s==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[h].focus(),i&&l[h].click());break}case"ArrowLeft":{s==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[f].focus(),i&&l[f].click());break}case"ArrowUp":{s==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[d].focus(),i&&l[d].click());break}case"ArrowDown":{s==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[c].focus(),i&&l[c].click());break}case"Home":{a.stopPropagation(),a.preventDefault(),!l[0].disabled&&l[0].focus();break}case"End":{a.stopPropagation(),a.preventDefault();const m=l.length-1;!l[m].disabled&&l[m].focus();break}}}}const r6e={app:100,modal:200,popover:300,overlay:400,max:9999};function Tl(e){return r6e[e]}const s$=()=>{};function i6e(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||s$:n=>{var r;n.key==="Escape"&&(e(n),(r=t.onTrigger)==null||r.call(t))}}function pn(e,t="size",n=!0){if(e!==void 0)return W0e(e)?n?_e(e):e:`var(--${t}-${e})`}function ei(e){return pn(e,"mantine-spacing")}function mr(e){return e===void 0?"var(--mantine-radius-default)":pn(e,"mantine-radius")}function ds(e){return pn(e,"mantine-font-size")}function q0e(e){return pn(e,"mantine-line-height",!1)}function LH(e){if(e)return pn(e,"mantine-shadow",!1)}function ll(e,t){return n=>{e==null||e(n),t==null||t(n)}}function FH(e,t){return e in t?eC(t[e]):eC(e)}function tC(e,t){const n=e.map(r=>({value:r,px:FH(r,t)}));return n.sort((r,i)=>r.px-i.px),n}function Nc(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function o6e(e,t,n){var r;return n?Array.from(((r=o$(n,t))==null?void 0:r.querySelectorAll(e))||[]).findIndex(i=>i===n):null}function s6e(){const[e,t]=O.useState(-1);return[e,{setHovered:t,resetHovered:()=>t(-1)}]}function Nf(e,t,n){return t===void 0&&n===void 0?e:t!==void 0&&n===void 0?Math.max(e,t):Math.min(t===void 0&&n!==void 0?e:Math.max(e,t),n)}function K1(e="mantine-"){return`${e}${Math.random().toString(36).slice(2,11)}`}function Sm(e){const t=O.useRef(e);return O.useEffect(()=>{t.current=e}),O.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}const a6e=()=>{};function gP(e,t){const n=typeof t=="number"?t:t.delay,r=typeof t=="number"?!1:t.flushOnUnmount,i=Sm(e),o=O.useRef(0),s=Object.assign(O.useCallback((...a)=>{window.clearTimeout(o.current);const l=()=>{o.current!==0&&(o.current=0,i(...a))};s.flush=l,o.current=window.setTimeout(l,n)},[i,n]),{flush:a6e});return O.useEffect(()=>()=>{window.clearTimeout(o.current),r&&s.flush()},[s,r]),s}const ine=["mousedown","touchstart"];function l6e(e,t,n){const r=O.useRef(null);return O.useEffect(()=>{const i=o=>{const{target:s}=o??{};if(Array.isArray(n)){const a=(s==null?void 0:s.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(s)&&s.tagName!=="HTML";n.every(u=>!!u&&!o.composedPath().includes(u))&&!a&&e()}else r.current&&!r.current.contains(s)&&e()};return(t||ine).forEach(o=>document.addEventListener(o,i)),()=>{(t||ine).forEach(o=>document.removeEventListener(o,i))}},[r,e,n]),r}function u6e(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function c6e(e,t){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function G0e(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,i]=O.useState(n?t:c6e(e)),o=O.useRef(null);return O.useEffect(()=>{if("matchMedia"in window)return o.current=window.matchMedia(e),i(o.current.matches),u6e(o.current,s=>i(s.matches))},[e]),r}function d6e(e,t){return G0e("(prefers-color-scheme: dark)",e==="dark",t)?"dark":"light"}const Bv=typeof document<"u"?O.useLayoutEffect:O.useEffect;function xh(e,t){const n=O.useRef(!1);O.useEffect(()=>()=>{n.current=!1},[]),O.useEffect(()=>{if(n.current)return e();n.current=!0},t)}function Y0e({opened:e,shouldReturnFocus:t=!0}){const n=O.useRef(null),r=()=>{var i;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((i=n.current)==null||i.focus({preventScroll:!0}))};return xh(()=>{let i=-1;const o=s=>{s.key==="Tab"&&window.clearTimeout(i)};return document.addEventListener("keydown",o),e?n.current=document.activeElement:t&&(i=window.setTimeout(r,10)),()=>{window.clearTimeout(i),document.removeEventListener("keydown",o)}},[e,t]),r}const h6e=/input|select|textarea|button|object/,K0e="a, input, select, textarea, button, object, [tabindex]";function f6e(e){return e.style.display==="none"}function p6e(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let n=e;for(;n&&!(n===document.body||n.nodeType===11);){if(f6e(n))return!1;n=n.parentNode}return!0}function X0e(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function i9(e){const t=e.nodeName.toLowerCase(),n=!Number.isNaN(X0e(e));return(h6e.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||n)&&p6e(e)}function Q0e(e){const t=X0e(e);return(Number.isNaN(t)||t>=0)&&i9(e)}function m6e(e){return Array.from(e.querySelectorAll(K0e)).filter(Q0e)}function g6e(e,t){const n=m6e(e);if(!n.length){t.preventDefault();return}const r=n[t.shiftKey?0:n.length-1],i=e.getRootNode();let o=r===i.activeElement||e===i.activeElement;const s=i.activeElement;if(s.tagName==="INPUT"&&s.getAttribute("type")==="radio"&&(o=n.filter(c=>c.getAttribute("type")==="radio"&&c.getAttribute("name")===s.getAttribute("name")).includes(r)),!o)return;t.preventDefault();const l=n[t.shiftKey?n.length-1:0];l&&l.focus()}function y6e(e=!0){const t=O.useRef(null),n=i=>{let o=i.querySelector("[data-autofocus]");if(!o){const s=Array.from(i.querySelectorAll(K0e));o=s.find(Q0e)||s.find(i9)||null,!o&&i9(i)&&(o=i)}o&&o.focus({preventScroll:!0})},r=O.useCallback(i=>{e&&i!==null&&t.current!==i&&(i?(setTimeout(()=>{i.getRootNode()&&n(i)}),t.current=i):t.current=null)},[e]);return O.useEffect(()=>{if(!e)return;t.current&&setTimeout(()=>n(t.current));const i=o=>{o.key==="Tab"&&t.current&&g6e(t.current,o)};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[e]),r}const v6e=e=>(e+1)%1e6;function b6e(){const[,e]=O.useReducer(v6e,0);return e}const w6e=Nn.useId||(()=>{});function x6e(){const e=w6e();return e?`mantine-${e.replace(/:/g,"")}`:""}function Fa(e){const t=x6e(),[n,r]=O.useState(t);return Bv(()=>{r(K1())},[]),typeof e=="string"?e:typeof window>"u"?t:n}function J0e(e,t,n){O.useEffect(()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)),[e,t])}function a$(e,t){if(typeof e=="function")return e(t);typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function Z0e(...e){const t=new Map;return n=>{if(e.forEach(r=>{const i=a$(r,n);i&&t.set(r,i)}),t.size>0)return()=>{e.forEach(r=>{const i=t.get(r);i?i():a$(r,null)}),t.clear()}}}function ho(...e){return O.useCallback(Z0e(...e),e)}function _6e(e,t,n="ltr"){const r=O.useRef(null),i=O.useRef(!1),o=O.useRef(!1),s=O.useRef(0),[a,l]=O.useState(!1);return O.useEffect(()=>{i.current=!0},[]),O.useEffect(()=>{const u=r.current,c=({x:b,y:_})=>{cancelAnimationFrame(s.current),s.current=requestAnimationFrame(()=>{if(i.current&&u){u.style.userSelect="none";const x=u.getBoundingClientRect();if(x.width&&x.height){const w=Nf((b-x.left)/x.width,0,1);e({x:n==="ltr"?w:1-w,y:Nf((_-x.top)/x.height,0,1)})}}})},d=()=>{document.addEventListener("mousemove",g),document.addEventListener("mouseup",p),document.addEventListener("touchmove",v),document.addEventListener("touchend",p)},h=()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",p),document.removeEventListener("touchmove",v),document.removeEventListener("touchend",p)},f=()=>{!o.current&&i.current&&(o.current=!0,typeof(t==null?void 0:t.onScrubStart)=="function"&&t.onScrubStart(),l(!0),d())},p=()=>{o.current&&i.current&&(o.current=!1,l(!1),h(),setTimeout(()=>{typeof(t==null?void 0:t.onScrubEnd)=="function"&&t.onScrubEnd()},0))},m=b=>{f(),b.preventDefault(),g(b)},g=b=>c({x:b.clientX,y:b.clientY}),y=b=>{b.cancelable&&b.preventDefault(),f(),v(b)},v=b=>{b.cancelable&&b.preventDefault(),c({x:b.changedTouches[0].clientX,y:b.changedTouches[0].clientY})};return u==null||u.addEventListener("mousedown",m),u==null||u.addEventListener("touchstart",y,{passive:!1}),()=>{u&&(u.removeEventListener("mousedown",m),u.removeEventListener("touchstart",y))}},[n,e]),{ref:r,active:a}}function Mo({value:e,defaultValue:t,finalValue:n,onChange:r=()=>{}}){const[i,o]=O.useState(t!==void 0?t:n),s=(a,...l)=>{o(a),r==null||r(a,...l)};return e!==void 0?[e,r,!0]:[i,s,!1]}function yP(e,t){return G0e("(prefers-reduced-motion: reduce)",e,t)}const E6e={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function CA(e){const t=O.useRef(0),n=O.useRef(null),[r,i]=O.useState(E6e),o=O.useMemo(()=>typeof window<"u"?new ResizeObserver(s=>{const a=s[0];a&&(cancelAnimationFrame(t.current),t.current=requestAnimationFrame(()=>{n.current&&i(a.contentRect)}))}):null,[]);return O.useEffect(()=>(n.current&&(o==null||o.observe(n.current,e)),()=>{o==null||o.disconnect(),t.current&&cancelAnimationFrame(t.current)}),[n.current]),[n,r]}function S6e(e){const[t,{width:n,height:r}]=CA(e);return{ref:t,width:n,height:r}}function BH(e=!1,t){const{onOpen:n,onClose:r}=t||{},[i,o]=O.useState(e),s=O.useCallback(()=>{o(u=>u||(n==null||n(),!0))},[n]),a=O.useCallback(()=>{o(u=>u&&(r==null||r(),!1))},[r]),l=O.useCallback(()=>{i?a():s()},[a,s,i]);return[i,{open:s,close:a,toggle:l}]}function T6e(e){const t=O.useRef(void 0);return O.useEffect(()=>{t.current=e},[e]),t.current}function C6e(e,t){const n=Sm(e),r=O.useRef(null),i=O.useRef(null),o=O.useRef(!0),s=O.useRef(t),a=O.useRef(-1),l=()=>window.clearTimeout(a.current),u=O.useCallback((...h)=>{n(...h),r.current=h,i.current=h,o.current=!1},[n]),c=O.useCallback(()=>{r.current&&r.current!==i.current?(u(...r.current),a.current=window.setTimeout(c,s.current)):o.current=!0},[u]),d=O.useCallback((...h)=>{o.current?(u(...h),a.current=window.setTimeout(c,s.current)):r.current=h},[u,c]);return O.useEffect(()=>{s.current=t},[t]),[d,l]}function A6e(e,t){const[n,r]=O.useState(e),[i,o]=C6e(r,t);return O.useEffect(()=>o,[]),[n,i]}function k6e(e,t){window.dispatchEvent(new CustomEvent(e,{detail:t}))}function I6e(e){function t(r){const i=Object.keys(r).reduce((o,s)=>(o[`${e}:${s}`]=a=>r[s](a.detail),o),{});Bv(()=>(Object.keys(i).forEach(o=>{window.removeEventListener(o,i[o]),window.addEventListener(o,i[o])}),()=>Object.keys(i).forEach(o=>{window.removeEventListener(o,i[o])})),[i])}function n(r){return(...i)=>k6e(`${e}:${String(r)}`,i[0])}return[t,n]}var R6e={};function $6e(){return typeof process<"u"&&R6e?"production":"development"}function one(e,t){return t.length===0?e:t.reduce((n,r)=>Math.abs(r-e)<Math.abs(n-e)?r:n)}function vP(e){var n;const t=Nn.version;return typeof Nn.version!="string"||t.startsWith("18.")?e==null?void 0:e.ref:(n=e==null?void 0:e.props)==null?void 0:n.ref}function eye(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=eye(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Li(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=eye(e))&&(r&&(r+=" "),r+=t);return r}const D6e={};function M6e(e){const t={};return e.forEach(n=>{Object.entries(n).forEach(([r,i])=>{t[r]?t[r]=Li(t[r],i):t[r]=i})}),t}function bP({theme:e,classNames:t,props:n,stylesCtx:r}){const o=(Array.isArray(t)?t:[t]).map(s=>typeof s=="function"?s(e,n,r):s||D6e);return M6e(o)}function l$({theme:e,styles:t,props:n,stylesCtx:r}){return(Array.isArray(t)?t:[t]).reduce((o,s)=>typeof s=="function"?{...o,...s(e,n,r)}:{...o,...s},{})}const jH=O.createContext(null);function Fp(){const e=O.useContext(jH);if(!e)throw new Error("[@mantine/core] MantineProvider was not found in tree");return e}function P6e(){return Fp().cssVariablesResolver}function N6e(){return Fp().classNamesPrefix}function wP(){return Fp().getStyleNonce}function O6e(){return Fp().withStaticClasses}function L6e(){return Fp().headless}function F6e(){var e;return(e=Fp().stylesTransform)==null?void 0:e.sx}function B6e(){var e;return(e=Fp().stylesTransform)==null?void 0:e.styles}function tye(){return Fp().env||"default"}function j6e(e){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(e)}function z6e(e){let t=e.replace("#","");if(t.length===3){const s=t.split("");t=[s[0],s[0],s[1],s[1],s[2],s[2]].join("")}if(t.length===8){const s=parseInt(t.slice(6,8),16)/255;return{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:s}}const n=parseInt(t,16),r=n>>16&255,i=n>>8&255,o=n&255;return{r,g:i,b:o,a:1}}function U6e(e){const[t,n,r,i]=e.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:t,g:n,b:r,a:i||1}}function H6e(e){const t=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,n=e.match(t);if(!n)return{r:0,g:0,b:0,a:1};const r=parseInt(n[1],10),i=parseInt(n[2],10)/100,o=parseInt(n[3],10)/100,s=n[5]?parseFloat(n[5]):void 0,a=(1-Math.abs(2*o-1))*i,l=r/60,u=a*(1-Math.abs(l%2-1)),c=o-a/2;let d,h,f;return l>=0&&l<1?(d=a,h=u,f=0):l>=1&&l<2?(d=u,h=a,f=0):l>=2&&l<3?(d=0,h=a,f=u):l>=3&&l<4?(d=0,h=u,f=a):l>=4&&l<5?(d=u,h=0,f=a):(d=a,h=0,f=u),{r:Math.round((d+c)*255),g:Math.round((h+c)*255),b:Math.round((f+c)*255),a:s||1}}function zH(e){return j6e(e)?z6e(e):e.startsWith("rgb")?U6e(e):e.startsWith("hsl")?H6e(e):{r:0,g:0,b:0,a:1}}function Ok(e,t){if(e.startsWith("var("))return`color-mix(in srgb, ${e}, black ${t*100}%)`;const{r:n,g:r,b:i,a:o}=zH(e),s=1-t,a=l=>Math.round(l*s);return`rgba(${a(n)}, ${a(r)}, ${a(i)}, ${o})`}function nC(e,t){return typeof e.primaryShade=="number"?e.primaryShade:t==="dark"?e.primaryShade.dark:e.primaryShade.light}function K4(e){return e<=.03928?e/12.92:((e+.055)/1.055)**2.4}function V6e(e){const t=e.match(/oklch\((.*?)%\s/);return t?parseFloat(t[1]):null}function W6e(e){if(e.startsWith("oklch("))return(V6e(e)||0)/100;const{r:t,g:n,b:r}=zH(e),i=t/255,o=n/255,s=r/255,a=K4(i),l=K4(o),u=K4(s);return .2126*a+.7152*l+.0722*u}function oE(e,t=.179){return e.startsWith("var(")?!1:W6e(e)>t}function Oh({color:e,theme:t,colorScheme:n}){if(typeof e!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof e}`);if(e==="bright")return{color:e,value:n==="dark"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:oE(n==="dark"?t.white:t.black,t.luminanceThreshold),variable:"--mantine-color-bright"};if(e==="dimmed")return{color:e,value:n==="dark"?t.colors.dark[2]:t.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:oE(n==="dark"?t.colors.dark[2]:t.colors.gray[6],t.luminanceThreshold),variable:"--mantine-color-dimmed"};if(e==="white"||e==="black")return{color:e,value:e==="white"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:oE(e==="white"?t.white:t.black,t.luminanceThreshold),variable:`--mantine-color-${e}`};const[r,i]=e.split("."),o=i?Number(i):void 0,s=r in t.colors;if(s){const a=o!==void 0?t.colors[r][o]:t.colors[r][nC(t,n||"light")];return{color:r,value:a,shade:o,isThemeColor:s,isLight:oE(a,t.luminanceThreshold),variable:i?`--mantine-color-${r}-${o}`:`--mantine-color-${r}-filled`}}return{color:e,value:e,isThemeColor:s,isLight:oE(e,t.luminanceThreshold),shade:o,variable:void 0}}function $r(e,t){const n=Oh({color:e||t.primaryColor,theme:t});return n.variable?`var(${n.variable})`:e}function o9(e,t){const n={from:(e==null?void 0:e.from)||t.defaultGradient.from,to:(e==null?void 0:e.to)||t.defaultGradient.to,deg:(e==null?void 0:e.deg)??t.defaultGradient.deg??0},r=$r(n.from,t),i=$r(n.to,t);return`linear-gradient(${n.deg}deg, ${r} 0%, ${i} 100%)`}function Nd(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";if(e.startsWith("var(")){const o=(1-t)*100;return`color-mix(in srgb, ${e}, transparent ${o}%)`}if(e.startsWith("oklch"))return e.includes("/")?e.replace(/\/\s*[\d.]+\s*\)/,`/ ${t})`):e.replace(")",` / ${t})`);const{r:n,g:r,b:i}=zH(e);return`rgba(${n}, ${r}, ${i}, ${t})`}const Fb=Nd,q6e=({color:e,theme:t,variant:n,gradient:r,autoContrast:i})=>{const o=Oh({color:e,theme:t}),s=typeof i=="boolean"?i:t.autoContrast;if(n==="filled"){const a=s&&o.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return o.isThemeColor?o.shade===void 0?{background:`var(--mantine-color-${e}-filled)`,hover:`var(--mantine-color-${e}-filled-hover)`,color:a,border:`${_e(1)} solid transparent`}:{background:`var(--mantine-color-${o.color}-${o.shade})`,hover:`var(--mantine-color-${o.color}-${o.shade===9?8:o.shade+1})`,color:a,border:`${_e(1)} solid transparent`}:{background:e,hover:Ok(e,.1),color:a,border:`${_e(1)} solid transparent`}}if(n==="light"){if(o.isThemeColor){if(o.shade===void 0)return{background:`var(--mantine-color-${e}-light)`,hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${_e(1)} solid transparent`};const a=t.colors[o.color][o.shade];return{background:Nd(a,.1),hover:Nd(a,.12),color:`var(--mantine-color-${o.color}-${Math.min(o.shade,6)})`,border:`${_e(1)} solid transparent`}}return{background:Nd(e,.1),hover:Nd(e,.12),color:e,border:`${_e(1)} solid transparent`}}if(n==="outline")return o.isThemeColor?o.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${e}-outline-hover)`,color:`var(--mantine-color-${e}-outline)`,border:`${_e(1)} solid var(--mantine-color-${e}-outline)`}:{background:"transparent",hover:Nd(t.colors[o.color][o.shade],.05),color:`var(--mantine-color-${o.color}-${o.shade})`,border:`${_e(1)} solid var(--mantine-color-${o.color}-${o.shade})`}:{background:"transparent",hover:Nd(e,.05),color:e,border:`${_e(1)} solid ${e}`};if(n==="subtle"){if(o.isThemeColor){if(o.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${_e(1)} solid transparent`};const a=t.colors[o.color][o.shade];return{background:"transparent",hover:Nd(a,.12),color:`var(--mantine-color-${o.color}-${Math.min(o.shade,6)})`,border:`${_e(1)} solid transparent`}}return{background:"transparent",hover:Nd(e,.12),color:e,border:`${_e(1)} solid transparent`}}return n==="transparent"?o.isThemeColor?o.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${e}-light-color)`,border:`${_e(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${o.color}-${Math.min(o.shade,6)})`,border:`${_e(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:e,border:`${_e(1)} solid transparent`}:n==="white"?o.isThemeColor?o.shade===void 0?{background:"var(--mantine-color-white)",hover:Ok(t.white,.01),color:`var(--mantine-color-${e}-filled)`,border:`${_e(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:Ok(t.white,.01),color:`var(--mantine-color-${o.color}-${o.shade})`,border:`${_e(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:Ok(t.white,.01),color:e,border:`${_e(1)} solid transparent`}:n==="gradient"?{background:o9(r,t),hover:o9(r,t),color:"var(--mantine-color-white)",border:"none"}:n==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${_e(1)} solid var(--mantine-color-default-border)`}:{}},G6e={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},sne="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",UH={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:G6e,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:q6e,autoContrast:!1,luminanceThreshold:.3,fontFamily:sne,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:sne,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:_e(34),lineHeight:"1.3"},h2:{fontSize:_e(26),lineHeight:"1.35"},h3:{fontSize:_e(22),lineHeight:"1.4"},h4:{fontSize:_e(18),lineHeight:"1.45"},h5:{fontSize:_e(16),lineHeight:"1.5"},h6:{fontSize:_e(14),lineHeight:"1.5"}}},fontSizes:{xs:_e(12),sm:_e(14),md:_e(16),lg:_e(18),xl:_e(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:_e(2),sm:_e(4),md:_e(8),lg:_e(16),xl:_e(32)},spacing:{xs:_e(10),sm:_e(12),md:_e(16),lg:_e(20),xl:_e(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${_e(1)} ${_e(3)} rgba(0, 0, 0, 0.05), 0 ${_e(1)} ${_e(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${_e(1)} ${_e(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${_e(10)} ${_e(15)} ${_e(-5)}, rgba(0, 0, 0, 0.04) 0 ${_e(7)} ${_e(7)} ${_e(-5)}`,md:`0 ${_e(1)} ${_e(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${_e(20)} ${_e(25)} ${_e(-5)}, rgba(0, 0, 0, 0.04) 0 ${_e(10)} ${_e(10)} ${_e(-5)}`,lg:`0 ${_e(1)} ${_e(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${_e(28)} ${_e(23)} ${_e(-7)}, rgba(0, 0, 0, 0.04) 0 ${_e(12)} ${_e(12)} ${_e(-7)}`,xl:`0 ${_e(1)} ${_e(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${_e(36)} ${_e(28)} ${_e(-7)}, rgba(0, 0, 0, 0.04) 0 ${_e(17)} ${_e(17)} ${_e(-7)}`},other:{},components:{}};function ane(e){return e==="auto"||e==="dark"||e==="light"}function Y6e({key:e="mantine-color-scheme-value"}={}){let t;return{get:n=>{if(typeof window>"u")return n;try{const r=window.localStorage.getItem(e);return ane(r)?r:n}catch{return n}},set:n=>{try{window.localStorage.setItem(e,n)}catch(r){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",r)}},subscribe:n=>{t=r=>{r.storageArea===window.localStorage&&r.key===e&&ane(r.newValue)&&n(r.newValue)},window.addEventListener("storage",t)},unsubscribe:()=>{window.removeEventListener("storage",t)},clear:()=>{window.localStorage.removeItem(e)}}}const K6e="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color",lne="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function X4(e){return e<0||e>9?!1:parseInt(e.toString(),10)===e}function une(e){if(!(e.primaryColor in e.colors))throw new Error(K6e);if(typeof e.primaryShade=="object"&&(!X4(e.primaryShade.dark)||!X4(e.primaryShade.light)))throw new Error(lne);if(typeof e.primaryShade=="number"&&!X4(e.primaryShade))throw new Error(lne)}function X6e(e,t){var r;if(!t)return une(e),e;const n=NH(e,t);return t.fontFamily&&!((r=t.headings)!=null&&r.fontFamily)&&(n.headings.fontFamily=t.fontFamily),une(n),n}const HH=O.createContext(null),Q6e=()=>O.useContext(HH)||UH;function Gi(){const e=O.useContext(HH);if(!e)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return e}function nye({theme:e,children:t,inherit:n=!0}){const r=Q6e(),i=O.useMemo(()=>X6e(n?r:UH,e),[e,r,n]);return k.jsx(HH.Provider,{value:i,children:t})}nye.displayName="@mantine/core/MantineThemeProvider";function J6e(){const e=Gi(),t=wP(),n=Rr(e.breakpoints).reduce((r,i)=>{const o=e.breakpoints[i].includes("px"),s=eC(e.breakpoints[i]),a=o?`${s-.1}px`:r$(s-.1),l=o?`${s}px`:r$(s);return`${r}@media (max-width: ${a}) {.mantine-visible-from-${i} {display: none !important;}}@media (min-width: ${l}) {.mantine-hidden-from-${i} {display: none !important;}}`},"");return k.jsx("style",{"data-mantine-styles":"classes",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:n}})}function Q4(e){return Object.entries(e).map(([t,n])=>`${t}: ${n};`).join("")}function sE(e,t){return(Array.isArray(e)?e:[e]).reduce((r,i)=>`${i}{${r}}`,t)}function Z6e(e,t){const n=Q4(e.variables),r=n?sE(t,n):"",i=Q4(e.dark),o=Q4(e.light),s=i?sE(t===":host"?`${t}([data-mantine-color-scheme="dark"])`:`${t}[data-mantine-color-scheme="dark"]`,i):"",a=o?sE(t===":host"?`${t}([data-mantine-color-scheme="light"])`:`${t}[data-mantine-color-scheme="light"]`,o):"";return`${r}${s}${a}`}function jv({color:e,theme:t,autoContrast:n}){return(typeof n=="boolean"?n:t.autoContrast)&&Oh({color:e||t.primaryColor,theme:t}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function cne(e,t){return jv({color:e.colors[e.primaryColor][nC(e,t)],theme:e,autoContrast:null})}function Lk({theme:e,color:t,colorScheme:n,name:r=t,withColorValues:i=!0}){if(!e.colors[t])return{};if(n==="light"){const a=nC(e,"light"),l={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-filled)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${a===9?8:a+1})`,[`--mantine-color-${r}-light`]:Fb(e.colors[t][a],.1),[`--mantine-color-${r}-light-hover`]:Fb(e.colors[t][a],.12),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-outline-hover`]:Fb(e.colors[t][a],.05)};return i?{[`--mantine-color-${r}-0`]:e.colors[t][0],[`--mantine-color-${r}-1`]:e.colors[t][1],[`--mantine-color-${r}-2`]:e.colors[t][2],[`--mantine-color-${r}-3`]:e.colors[t][3],[`--mantine-color-${r}-4`]:e.colors[t][4],[`--mantine-color-${r}-5`]:e.colors[t][5],[`--mantine-color-${r}-6`]:e.colors[t][6],[`--mantine-color-${r}-7`]:e.colors[t][7],[`--mantine-color-${r}-8`]:e.colors[t][8],[`--mantine-color-${r}-9`]:e.colors[t][9],...l}:l}const o=nC(e,"dark"),s={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-4)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${o})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${o===9?8:o+1})`,[`--mantine-color-${r}-light`]:Fb(e.colors[t][Math.max(0,o-2)],.15),[`--mantine-color-${r}-light-hover`]:Fb(e.colors[t][Math.max(0,o-2)],.2),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${Math.max(o-5,0)})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${Math.max(o-4,0)})`,[`--mantine-color-${r}-outline-hover`]:Fb(e.colors[t][Math.max(o-4,0)],.05)};return i?{[`--mantine-color-${r}-0`]:e.colors[t][0],[`--mantine-color-${r}-1`]:e.colors[t][1],[`--mantine-color-${r}-2`]:e.colors[t][2],[`--mantine-color-${r}-3`]:e.colors[t][3],[`--mantine-color-${r}-4`]:e.colors[t][4],[`--mantine-color-${r}-5`]:e.colors[t][5],[`--mantine-color-${r}-6`]:e.colors[t][6],[`--mantine-color-${r}-7`]:e.colors[t][7],[`--mantine-color-${r}-8`]:e.colors[t][8],[`--mantine-color-${r}-9`]:e.colors[t][9],...s}:s}function eBe(e){return!!e&&typeof e=="object"&&"mantine-virtual-color"in e}function Bb(e,t,n){Rr(t).forEach(r=>Object.assign(e,{[`--mantine-${n}-${r}`]:t[r]}))}const rye=e=>{const t=nC(e,"light"),n=e.defaultRadius in e.radius?e.radius[e.defaultRadius]:_e(e.defaultRadius),r={variables:{"--mantine-scale":e.scale.toString(),"--mantine-cursor-type":e.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":e.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":e.fontSmoothing?"grayscale":"unset","--mantine-color-white":e.white,"--mantine-color-black":e.black,"--mantine-line-height":e.lineHeights.md,"--mantine-font-family":e.fontFamily,"--mantine-font-family-monospace":e.fontFamilyMonospace,"--mantine-font-family-headings":e.headings.fontFamily,"--mantine-heading-font-weight":e.headings.fontWeight,"--mantine-heading-text-wrap":e.headings.textWrap,"--mantine-radius-default":n,"--mantine-primary-color-filled":`var(--mantine-color-${e.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${e.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${e.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${e.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${e.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":cne(e,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":e.black,"--mantine-color-body":e.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-${t})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":cne(e,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};Bb(r.variables,e.breakpoints,"breakpoint"),Bb(r.variables,e.spacing,"spacing"),Bb(r.variables,e.fontSizes,"font-size"),Bb(r.variables,e.lineHeights,"line-height"),Bb(r.variables,e.shadows,"shadow"),Bb(r.variables,e.radius,"radius"),e.colors[e.primaryColor].forEach((o,s)=>{r.variables[`--mantine-primary-color-${s}`]=`var(--mantine-color-${e.primaryColor}-${s})`}),Rr(e.colors).forEach(o=>{const s=e.colors[o];if(eBe(s)){Object.assign(r.light,Lk({theme:e,name:s.name,color:s.light,colorScheme:"light",withColorValues:!0})),Object.assign(r.dark,Lk({theme:e,name:s.name,color:s.dark,colorScheme:"dark",withColorValues:!0}));return}s.forEach((a,l)=>{r.variables[`--mantine-color-${o}-${l}`]=a}),Object.assign(r.light,Lk({theme:e,color:o,colorScheme:"light",withColorValues:!1})),Object.assign(r.dark,Lk({theme:e,color:o,colorScheme:"dark",withColorValues:!1}))});const i=e.headings.sizes;return Rr(i).forEach(o=>{r.variables[`--mantine-${o}-font-size`]=i[o].fontSize,r.variables[`--mantine-${o}-line-height`]=i[o].lineHeight,r.variables[`--mantine-${o}-font-weight`]=i[o].fontWeight||e.headings.fontWeight}),r};function tBe({theme:e,generator:t}){const n=rye(e),r=t==null?void 0:t(e);return r?NH(n,r):n}const J4=rye(UH);function nBe(e){const t={variables:{},light:{},dark:{}};return Rr(e.variables).forEach(n=>{J4.variables[n]!==e.variables[n]&&(t.variables[n]=e.variables[n])}),Rr(e.light).forEach(n=>{J4.light[n]!==e.light[n]&&(t.light[n]=e.light[n])}),Rr(e.dark).forEach(n=>{J4.dark[n]!==e.dark[n]&&(t.dark[n]=e.dark[n])}),t}function rBe(e){return`
  ${e}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${e}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function iye({cssVariablesSelector:e,deduplicateCssVariables:t}){const n=Gi(),r=wP(),i=P6e(),o=tBe({theme:n,generator:i}),s=e===":root"&&t,a=s?nBe(o):o,l=Z6e(a,e);return l?k.jsx("style",{"data-mantine-styles":!0,nonce:r==null?void 0:r(),dangerouslySetInnerHTML:{__html:`${l}${s?"":rBe(e)}`}}):null}iye.displayName="@mantine/CssVariables";function iBe(){const e=console.error;console.error=(...t)=>{t.length>1&&typeof t[0]=="string"&&t[0].toLowerCase().includes("extra attributes from the server")&&typeof t[1]=="string"&&t[1].toLowerCase().includes("data-mantine-color-scheme")||e(...t)}}function jb(e,t){var i,o;const n=typeof window<"u"&&"matchMedia"in window&&((i=window.matchMedia("(prefers-color-scheme: dark)"))==null?void 0:i.matches),r=e!=="auto"?e:n?"dark":"light";(o=t())==null||o.setAttribute("data-mantine-color-scheme",r)}function oBe({manager:e,defaultColorScheme:t,getRootElement:n,forceColorScheme:r}){const i=O.useRef(null),[o,s]=O.useState(()=>e.get(t)),a=r||o,l=O.useCallback(c=>{r||(jb(c,n),s(c),e.set(c))},[e.set,a,r]),u=O.useCallback(()=>{s(t),jb(t,n),e.clear()},[e.clear,t]);return O.useEffect(()=>(e.subscribe(l),e.unsubscribe),[e.subscribe,e.unsubscribe]),Bv(()=>{jb(e.get(t),n)},[]),O.useEffect(()=>{var d;if(r)return jb(r,n),()=>{};r===void 0&&jb(o,n),typeof window<"u"&&"matchMedia"in window&&(i.current=window.matchMedia("(prefers-color-scheme: dark)"));const c=h=>{o==="auto"&&jb(h.matches?"dark":"light",n)};return(d=i.current)==null||d.addEventListener("change",c),()=>{var h;return(h=i.current)==null?void 0:h.removeEventListener("change",c)}},[o,r]),{colorScheme:a,setColorScheme:l,clearColorScheme:u}}function sBe({respectReducedMotion:e,getRootElement:t}){Bv(()=>{var n;e&&((n=t())==null||n.setAttribute("data-respect-reduced-motion","true"))},[e])}iBe();function oye({theme:e,children:t,getStyleNonce:n,withStaticClasses:r=!0,withGlobalClasses:i=!0,deduplicateCssVariables:o=!0,withCssVariables:s=!0,cssVariablesSelector:a=":root",classNamesPrefix:l="mantine",colorSchemeManager:u=Y6e(),defaultColorScheme:c="light",getRootElement:d=()=>document.documentElement,cssVariablesResolver:h,forceColorScheme:f,stylesTransform:p,env:m}){const{colorScheme:g,setColorScheme:y,clearColorScheme:v}=oBe({defaultColorScheme:c,forceColorScheme:f,manager:u,getRootElement:d});return sBe({respectReducedMotion:(e==null?void 0:e.respectReducedMotion)||!1,getRootElement:d}),k.jsx(jH.Provider,{value:{colorScheme:g,setColorScheme:y,clearColorScheme:v,getRootElement:d,classNamesPrefix:l,getStyleNonce:n,cssVariablesResolver:h,cssVariablesSelector:a,withStaticClasses:r,stylesTransform:p,env:m},children:k.jsxs(nye,{theme:e,children:[s&&k.jsx(iye,{cssVariablesSelector:a,deduplicateCssVariables:o}),i&&k.jsx(J6e,{}),t]})})}oye.displayName="@mantine/core/MantineProvider";function zv({classNames:e,styles:t,props:n,stylesCtx:r}){const i=Gi();return{resolvedClassNames:bP({theme:i,classNames:e,props:n,stylesCtx:r||void 0}),resolvedStyles:l$({theme:i,styles:t,props:n,stylesCtx:r||void 0})}}const aBe={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function lBe({theme:e,options:t,unstyled:n}){return Li((t==null?void 0:t.focusable)&&!n&&(e.focusClassName||aBe[e.focusRing]),(t==null?void 0:t.active)&&!n&&e.activeClassName)}function uBe({selector:e,stylesCtx:t,options:n,props:r,theme:i}){return bP({theme:i,classNames:n==null?void 0:n.classNames,props:(n==null?void 0:n.props)||r,stylesCtx:t})[e]}function dne({selector:e,stylesCtx:t,theme:n,classNames:r,props:i}){return bP({theme:n,classNames:r,props:i,stylesCtx:t})[e]}function cBe({rootSelector:e,selector:t,className:n}){return e===t?n:void 0}function dBe({selector:e,classes:t,unstyled:n}){return n?void 0:t[e]}function hBe({themeName:e,classNamesPrefix:t,selector:n,withStaticClass:r}){return r===!1?[]:e.map(i=>`${t}-${i}-${n}`)}function fBe({themeName:e,theme:t,selector:n,props:r,stylesCtx:i}){return e.map(o=>{var s,a;return(a=bP({theme:t,classNames:(s=t.components[o])==null?void 0:s.classNames,props:r,stylesCtx:i}))==null?void 0:a[n]})}function pBe({options:e,classes:t,selector:n,unstyled:r}){return e!=null&&e.variant&&!r?t[`${n}--${e.variant}`]:void 0}function mBe({theme:e,options:t,themeName:n,selector:r,classNamesPrefix:i,classNames:o,classes:s,unstyled:a,className:l,rootSelector:u,props:c,stylesCtx:d,withStaticClasses:h,headless:f,transformedStyles:p}){return Li(lBe({theme:e,options:t,unstyled:a||f}),fBe({theme:e,themeName:n,selector:r,props:c,stylesCtx:d}),pBe({options:t,classes:s,selector:r,unstyled:a}),dne({selector:r,stylesCtx:d,theme:e,classNames:o,props:c}),dne({selector:r,stylesCtx:d,theme:e,classNames:p,props:c}),uBe({selector:r,stylesCtx:d,options:t,props:c,theme:e}),cBe({rootSelector:u,selector:r,className:l}),dBe({selector:r,classes:s,unstyled:a||f}),h&&!f&&hBe({themeName:n,classNamesPrefix:i,selector:r,withStaticClass:t==null?void 0:t.withStaticClass}),t==null?void 0:t.className)}function gBe({theme:e,themeName:t,props:n,stylesCtx:r,selector:i}){return t.map(o=>{var s;return l$({theme:e,styles:(s=e.components[o])==null?void 0:s.styles,props:n,stylesCtx:r})[i]}).reduce((o,s)=>({...o,...s}),{})}function s9({style:e,theme:t}){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...s9({style:r,theme:t})}),{}):typeof e=="function"?e(t):e??{}}function yBe(e){return e.reduce((t,n)=>(n&&Object.keys(n).forEach(r=>{t[r]={...t[r],...Xg(n[r])}}),t),{})}function vBe({vars:e,varsResolver:t,theme:n,props:r,stylesCtx:i,selector:o,themeName:s,headless:a}){var l;return(l=yBe([a?{}:t==null?void 0:t(n,r,i),...s.map(u=>{var c,d,h;return(h=(d=(c=n.components)==null?void 0:c[u])==null?void 0:d.vars)==null?void 0:h.call(d,n,r,i)}),e==null?void 0:e(n,r,i)]))==null?void 0:l[o]}function bBe({theme:e,themeName:t,selector:n,options:r,props:i,stylesCtx:o,rootSelector:s,styles:a,style:l,vars:u,varsResolver:c,headless:d,withStylesTransform:h}){return{...!h&&gBe({theme:e,themeName:t,props:i,stylesCtx:o,selector:n}),...!h&&l$({theme:e,styles:a,props:i,stylesCtx:o})[n],...!h&&l$({theme:e,styles:r==null?void 0:r.styles,props:(r==null?void 0:r.props)||i,stylesCtx:o})[n],...vBe({theme:e,props:i,stylesCtx:o,vars:u,varsResolver:c,selector:n,themeName:t,headless:d}),...s===n?s9({style:l,theme:e}):null,...s9({style:r==null?void 0:r.style,theme:e})}}function wBe({props:e,stylesCtx:t,themeName:n}){var s;const r=Gi(),i=(s=B6e())==null?void 0:s();return{getTransformedStyles:a=>i?[...a.map(u=>i(u,{props:e,theme:r,ctx:t})),...n.map(u=>{var c;return i((c=r.components[u])==null?void 0:c.styles,{props:e,theme:r,ctx:t})})].filter(Boolean):[],withStylesTransform:!!i}}function kt({name:e,classes:t,props:n,stylesCtx:r,className:i,style:o,rootSelector:s="root",unstyled:a,classNames:l,styles:u,vars:c,varsResolver:d}){const h=Gi(),f=N6e(),p=O6e(),m=L6e(),g=(Array.isArray(e)?e:[e]).filter(b=>b),{withStylesTransform:y,getTransformedStyles:v}=wBe({props:n,stylesCtx:r,themeName:g});return(b,_)=>({className:mBe({theme:h,options:_,themeName:g,selector:b,classNamesPrefix:f,classNames:l,classes:t,unstyled:a,className:i,rootSelector:s,props:n,stylesCtx:r,withStaticClasses:p,headless:m,transformedStyles:v([_==null?void 0:_.styles,u])}),style:bBe({theme:h,themeName:g,selector:b,options:_,props:n,stylesCtx:r,rootSelector:s,styles:u,style:o,vars:c,varsResolver:d,headless:m,withStylesTransform:y})})}function Nx(e,t){return typeof e=="boolean"?e:t.autoContrast}function hne(e){const t=document.createElement("style");return t.setAttribute("data-mantine-styles","inline"),t.innerHTML="*, *::before, *::after {transition: none !important;}",t.setAttribute("data-mantine-disable-transition","true"),e&&t.setAttribute("nonce",e),document.head.appendChild(t),()=>document.querySelectorAll("[data-mantine-disable-transition]").forEach(r=>r.remove())}function sye({keepTransitions:e}={}){const t=O.useRef(s$),n=O.useRef(-1),r=O.useContext(jH),i=wP(),o=O.useRef(i==null?void 0:i());if(!r)throw new Error("[@mantine/core] MantineProvider was not found in tree");const s=d=>{r.setColorScheme(d),t.current=e?()=>{}:hne(o.current),window.clearTimeout(n.current),n.current=window.setTimeout(()=>{var h;(h=t.current)==null||h.call(t)},10)},a=()=>{r.clearColorScheme(),t.current=e?()=>{}:hne(o.current),window.clearTimeout(n.current),n.current=window.setTimeout(()=>{var d;(d=t.current)==null||d.call(t)},10)},l=d6e("light",{getInitialValueInEffect:!1}),u=r.colorScheme==="auto"?l:r.colorScheme,c=O.useCallback(()=>s(u==="light"?"dark":"light"),[s,u]);return O.useEffect(()=>()=>{var d;(d=t.current)==null||d.call(t),window.clearTimeout(n.current)},[]),{colorScheme:r.colorScheme,setColorScheme:s,clearColorScheme:a,toggleColorScheme:c}}function Ee(e,t,n){var s;const r=Gi(),i=(s=r.components[e])==null?void 0:s.defaultProps,o=typeof i=="function"?i(r):i;return{...t,...o,...Xg(n)}}function Z4(e){return Rr(e).reduce((t,n)=>e[n]!==void 0?`${t}${J5e(n)}:${e[n]};`:t,"").trim()}function xBe({selector:e,styles:t,media:n,container:r}){const i=t?Z4(t):"",o=Array.isArray(n)?n.map(a=>`@media${a.query}{${e}{${Z4(a.styles)}}}`):[],s=Array.isArray(r)?r.map(a=>`@container ${a.query}{${e}{${Z4(a.styles)}}}`):[];return`${i?`${e}{${i}}`:""}${o.join("")}${s.join("")}`.trim()}function Uv(e){const t=wP();return k.jsx("style",{"data-mantine-styles":"inline",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:xBe(e)}})}function Hv(e){const{m:t,mx:n,my:r,mt:i,mb:o,ml:s,mr:a,me:l,ms:u,p:c,px:d,py:h,pt:f,pb:p,pl:m,pr:g,pe:y,ps:v,bd:b,bg:_,c:x,opacity:w,ff:E,fz:S,fw:T,lts:C,ta:D,lh:$,fs:I,tt:R,td:A,w:M,miw:N,maw:L,h:z,mih:F,mah:j,bgsz:W,bgp:B,bgr:H,bga:V,pos:G,top:ne,left:X,bottom:te,right:se,inset:ve,display:pe,flex:Ge,hiddenFrom:Ne,visibleFrom:Ke,lightHidden:Je,darkHidden:Ae,sx:$e,...Ze}=e;return{styleProps:Xg({m:t,mx:n,my:r,mt:i,mb:o,ml:s,mr:a,me:l,ms:u,p:c,px:d,py:h,pt:f,pb:p,pl:m,pr:g,pe:y,ps:v,bd:b,bg:_,c:x,opacity:w,ff:E,fz:S,fw:T,lts:C,ta:D,lh:$,fs:I,tt:R,td:A,w:M,miw:N,maw:L,h:z,mih:F,mah:j,bgsz:W,bgp:B,bgr:H,bga:V,pos:G,top:ne,left:X,bottom:te,right:se,inset:ve,display:pe,flex:Ge,hiddenFrom:Ne,visibleFrom:Ke,lightHidden:Je,darkHidden:Ae,sx:$e}),rest:Ze}}const _Be={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"size",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function VH(e,t){const n=Oh({color:e,theme:t});return n.color==="dimmed"?"var(--mantine-color-dimmed)":n.color==="bright"?"var(--mantine-color-bright)":n.variable?`var(${n.variable})`:n.color}function EBe(e,t){const n=Oh({color:e,theme:t});return n.isThemeColor&&n.shade===void 0?`var(--mantine-color-${n.color}-text)`:VH(e,t)}function SBe(e,t){if(typeof e=="number")return _e(e);if(typeof e=="string"){const[n,r,...i]=e.split(" ").filter(s=>s.trim()!=="");let o=`${_e(n)}`;return r&&(o+=` ${r}`),i.length>0&&(o+=` ${VH(i.join(" "),t)}`),o.trim()}return e}const fne={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function TBe(e){return typeof e=="string"&&e in fne?fne[e]:e}const CBe=["h1","h2","h3","h4","h5","h6"];function ABe(e,t){return typeof e=="string"&&e in t.fontSizes?`var(--mantine-font-size-${e})`:typeof e=="string"&&CBe.includes(e)?`var(--mantine-${e}-font-size)`:typeof e=="number"||typeof e=="string"?_e(e):e}function kBe(e){return e}const IBe=["h1","h2","h3","h4","h5","h6"];function RBe(e,t){return typeof e=="string"&&e in t.lineHeights?`var(--mantine-line-height-${e})`:typeof e=="string"&&IBe.includes(e)?`var(--mantine-${e}-line-height)`:e}function $Be(e){return typeof e=="number"?_e(e):e}function DBe(e,t){if(typeof e=="number")return _e(e);if(typeof e=="string"){const n=e.replace("-","");if(!(n in t.spacing))return _e(e);const r=`--mantine-spacing-${n}`;return e.startsWith("-")?`calc(var(${r}) * -1)`:`var(${r})`}return e}const eF={color:VH,textColor:EBe,fontSize:ABe,spacing:DBe,identity:kBe,size:$Be,lineHeight:RBe,fontFamily:TBe,border:SBe};function pne(e){return e.replace("(min-width: ","").replace("em)","")}function MBe({media:e,...t}){const r=Object.keys(e).sort((i,o)=>Number(pne(i))-Number(pne(o))).map(i=>({query:i,styles:e[i]}));return{...t,media:r}}function PBe(e){if(typeof e!="object"||e===null)return!1;const t=Object.keys(e);return!(t.length===1&&t[0]==="base")}function NBe(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function OBe(e){return typeof e=="object"&&e!==null?Rr(e).filter(t=>t!=="base"):[]}function LBe(e,t){return typeof e=="object"&&e!==null&&t in e?e[t]:e}function aye({styleProps:e,data:t,theme:n}){return MBe(Rr(e).reduce((r,i)=>{if(i==="hiddenFrom"||i==="visibleFrom"||i==="sx")return r;const o=t[i],s=Array.isArray(o.property)?o.property:[o.property],a=NBe(e[i]);if(!PBe(e[i]))return s.forEach(u=>{r.inlineStyles[u]=eF[o.type](a,n)}),r;r.hasResponsiveStyles=!0;const l=OBe(e[i]);return s.forEach(u=>{a&&(r.styles[u]=eF[o.type](a,n)),l.forEach(c=>{const d=`(min-width: ${n.breakpoints[c]})`;r.media[d]={...r.media[d],[u]:eF[o.type](LBe(e[i],c),n)}})}),r},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function AA(){return`__m__-${O.useId().replace(/:/g,"")}`}function WH(e,t){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...WH(r,t)}),{}):typeof e=="function"?e(t):e??{}}function lye(e){return e.startsWith("data-")?e:`data-${e}`}function FBe(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return r===void 0||r===""||r===!1||r===null||(t[lye(n)]=e[n]),t},{})}function uye(e){return e?typeof e=="string"?{[lye(e)]:!0}:Array.isArray(e)?[...e].reduce((t,n)=>({...t,...uye(n)}),{}):FBe(e):null}function a9(e,t){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...a9(r,t)}),{}):typeof e=="function"?e(t):e??{}}function BBe({theme:e,style:t,vars:n,styleProps:r}){const i=a9(t,e),o=a9(n,e);return{...i,...o,...r}}const cye=O.forwardRef(({component:e,style:t,__vars:n,className:r,variant:i,mod:o,size:s,hiddenFrom:a,visibleFrom:l,lightHidden:u,darkHidden:c,renderRoot:d,__size:h,...f},p)=>{var S;const m=Gi(),g=e||"div",{styleProps:y,rest:v}=Hv(f),b=F6e(),_=(S=b==null?void 0:b())==null?void 0:S(y.sx),x=AA(),w=aye({styleProps:y,theme:m,data:_Be}),E={ref:p,style:BBe({theme:m,style:t,vars:n,styleProps:w.inlineStyles}),className:Li(r,_,{[x]:w.hasResponsiveStyles,"mantine-light-hidden":u,"mantine-dark-hidden":c,[`mantine-hidden-from-${a}`]:a,[`mantine-visible-from-${l}`]:l}),"data-variant":i,"data-size":W0e(s)?void 0:s||void 0,size:h,...uye(o),...v};return k.jsxs(k.Fragment,{children:[w.hasResponsiveStyles&&k.jsx(Uv,{selector:`.${x}`,styles:w.styles,media:w.media}),typeof d=="function"?d(E):k.jsx(g,{...E})]})});cye.displayName="@mantine/core/Box";const ge=cye;function dye(e){return e}function hye(e){const t=e;return n=>{const r=O.forwardRef((i,o)=>k.jsx(t,{...n,...i,ref:o}));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r}}function We(e){const t=O.forwardRef(e);return t.extend=dye,t.withProps=n=>{const r=O.forwardRef((i,o)=>k.jsx(t,{...n,...i,ref:o}));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r},t}function Yi(e){const t=O.forwardRef(e);return t.withProps=n=>{const r=O.forwardRef((i,o)=>k.jsx(t,{...n,...i,ref:o}));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r},t.extend=dye,t}const jBe=O.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function Jg(){return O.useContext(jBe)}function zBe(e){if(!e||typeof e=="string")return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function tF(e){return e!=null&&e.current?e.current.scrollHeight:"auto"}const aE=typeof window<"u"&&window.requestAnimationFrame;function UBe({transitionDuration:e,transitionTimingFunction:t="ease",onTransitionEnd:n=()=>{},opened:r}){const i=O.useRef(null),o=0,s={display:"none",height:0,overflow:"hidden"},[a,l]=O.useState(r?{}:s),u=p=>{SA.flushSync(()=>l(p))},c=p=>{u(m=>({...m,...p}))};function d(p){const m=e||zBe(p);return{transition:`height ${m}ms ${t}, opacity ${m}ms ${t}`}}xh(()=>{typeof aE=="function"&&aE(r?()=>{c({willChange:"height",display:"block",overflow:"hidden"}),aE(()=>{const p=tF(i);c({...d(p),height:p})})}:()=>{const p=tF(i);c({...d(p),willChange:"height",height:p}),aE(()=>c({height:o,overflow:"hidden"}))})},[r]);const h=p=>{if(!(p.target!==i.current||p.propertyName!=="height"))if(r){const m=tF(i);m===a.height?u({}):c({height:m}),n()}else a.height===o&&(u(s),n())};function f({style:p={},refKey:m="ref",...g}={}){const y=g[m];return{"aria-hidden":!r,...g,[m]:Z0e(i,y),onTransitionEnd:h,style:{boxSizing:"border-box",...p,...a}}}return f}const HBe={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},xP=We((e,t)=>{const{children:n,in:r,transitionDuration:i,transitionTimingFunction:o,style:s,onTransitionEnd:a,animateOpacity:l,...u}=Ee("Collapse",HBe,e),c=Gi(),d=yP(),f=(c.respectReducedMotion?d:!1)?0:i,p=UBe({opened:r,transitionDuration:f,transitionTimingFunction:o,onTransitionEnd:a});return f===0?r?k.jsx(ge,{...u,children:n}):null:k.jsx(ge,{...p({style:{opacity:r||!l?1:0,transition:l?`opacity ${f}ms ${o}`:"none",...WH(s,c)},ref:t,...u}),children:n})});xP.displayName="@mantine/core/Collapse";function _P(){return typeof window<"u"}function Ox(e){return fye(e)?(e.nodeName||"").toLowerCase():"#document"}function ml(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Lh(e){var t;return(t=(fye(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function fye(e){return _P()?e instanceof Node||e instanceof ml(e).Node:!1}function zr(e){return _P()?e instanceof Element||e instanceof ml(e).Element:!1}function Zl(e){return _P()?e instanceof HTMLElement||e instanceof ml(e).HTMLElement:!1}function l9(e){return!_P()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ml(e).ShadowRoot}function kA(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=ju(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function VBe(e){return["table","td","th"].includes(Ox(e))}function EP(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function qH(e){const t=SP(),n=zr(e)?ju(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function WBe(e){let t=fp(e);for(;Zl(t)&&!vg(t);){if(qH(t))return t;if(EP(t))return null;t=fp(t)}return null}function SP(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function vg(e){return["html","body","#document"].includes(Ox(e))}function ju(e){return ml(e).getComputedStyle(e)}function TP(e){return zr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function fp(e){if(Ox(e)==="html")return e;const t=e.assignedSlot||e.parentNode||l9(e)&&e.host||Lh(e);return l9(t)?t.host:t}function pye(e){const t=fp(e);return vg(t)?e.ownerDocument?e.ownerDocument.body:e.body:Zl(t)&&kA(t)?t:pye(t)}function Yf(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=pye(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),s=ml(i);if(o){const a=u9(s);return t.concat(s,s.visualViewport||[],kA(i)?i:[],a&&n?Yf(a):[])}return t.concat(i,Yf(i,[],n))}function u9(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function mne(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function rC(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&l9(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function mye(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function gye(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function qBe(e){return KBe()?!1:!gne()&&e.width===0&&e.height===0||gne()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function GBe(){return/apple/i.test(navigator.vendor)}function gne(){const e=/android/i;return e.test(mye())||e.test(gye())}function YBe(){return mye().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function KBe(){return gye().includes("jsdom/")}function c9(e,t){const n=["mouse","pen"];return n.push("",void 0),n.includes(e)}function XBe(e){return"nativeEvent"in e}function QBe(e){return e.matches("html,body")}function vy(e){return(e==null?void 0:e.ownerDocument)||document}function nF(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function a1(e){return"composedPath"in e?e.composedPath()[0]:e.target}const JBe="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function ZBe(e){return Zl(e)&&e.matches(JBe)}const td=Math.min,Ws=Math.max,u$=Math.round,Fk=Math.floor,oh=e=>({x:e,y:e}),e8e={left:"right",right:"left",bottom:"top",top:"bottom"},t8e={start:"end",end:"start"};function d9(e,t,n){return Ws(e,td(t,n))}function pp(e,t){return typeof e=="function"?e(t):e}function nd(e){return e.split("-")[0]}function Lx(e){return e.split("-")[1]}function GH(e){return e==="x"?"y":"x"}function YH(e){return e==="y"?"height":"width"}function mp(e){return["top","bottom"].includes(nd(e))?"y":"x"}function KH(e){return GH(mp(e))}function n8e(e,t,n){n===void 0&&(n=!1);const r=Lx(e),i=KH(e),o=YH(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=c$(s)),[s,c$(s)]}function r8e(e){const t=c$(e);return[h9(e),t,h9(t)]}function h9(e){return e.replace(/start|end/g,t=>t8e[t])}function i8e(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:s;default:return[]}}function o8e(e,t,n,r){const i=Lx(e);let o=i8e(nd(e),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),t&&(o=o.concat(o.map(h9)))),o}function c$(e){return e.replace(/left|right|bottom|top/g,t=>e8e[t])}function s8e(e){return{top:0,right:0,bottom:0,left:0,...e}}function XH(e){return typeof e!="number"?s8e(e):{top:e,right:e,bottom:e,left:e}}function Rw(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function yne(e,t,n){let{reference:r,floating:i}=e;const o=mp(t),s=KH(t),a=YH(s),l=nd(t),u=o==="y",c=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let f;switch(l){case"top":f={x:c,y:r.y-i.height};break;case"bottom":f={x:c,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:d};break;case"left":f={x:r.x-i.width,y:d};break;default:f={x:r.x,y:r.y}}switch(Lx(t)){case"start":f[s]-=h*(n&&u?-1:1);break;case"end":f[s]+=h*(n&&u?-1:1);break}return f}const a8e=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:d}=yne(u,r,l),h=r,f={},p=0;for(let m=0;m<a.length;m++){const{name:g,fn:y}=a[m],{x:v,y:b,data:_,reset:x}=await y({x:c,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:f,rects:u,platform:s,elements:{reference:e,floating:t}});c=v??c,d=b??d,f={...f,[g]:{...f[g],..._}},x&&p<=50&&(p++,typeof x=="object"&&(x.placement&&(h=x.placement),x.rects&&(u=x.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):x.rects),{x:c,y:d}=yne(u,h,l)),m=-1)}return{x:c,y:d,placement:h,strategy:i,middlewareData:f}};async function QH(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=pp(t,e),p=XH(f),g=a[h?d==="floating"?"reference":"floating":d],y=Rw(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(g)))==null||n?g:g.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),v=d==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),_=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},x=Rw(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:b,strategy:l}):v);return{top:(y.top-x.top+p.top)/_.y,bottom:(x.bottom-y.bottom+p.bottom)/_.y,left:(y.left-x.left+p.left)/_.x,right:(x.right-y.right+p.right)/_.x}}const l8e=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=t,{element:u,padding:c=0}=pp(e,t)||{};if(u==null)return{};const d=XH(c),h={x:n,y:r},f=KH(i),p=YH(f),m=await s.getDimensions(u),g=f==="y",y=g?"top":"left",v=g?"bottom":"right",b=g?"clientHeight":"clientWidth",_=o.reference[p]+o.reference[f]-h[f]-o.floating[p],x=h[f]-o.reference[f],w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let E=w?w[b]:0;(!E||!await(s.isElement==null?void 0:s.isElement(w)))&&(E=a.floating[b]||o.floating[p]);const S=_/2-x/2,T=E/2-m[p]/2-1,C=td(d[y],T),D=td(d[v],T),$=C,I=E-m[p]-D,R=E/2-m[p]/2+S,A=d9($,R,I),M=!l.arrow&&Lx(i)!=null&&R!==A&&o.reference[p]/2-(R<$?C:D)-m[p]/2<0,N=M?R<$?R-$:R-I:0;return{[f]:h[f]+N,data:{[f]:A,centerOffset:R-A-N,...M&&{alignmentOffset:N}},reset:M}}}),u8e=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...g}=pp(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const y=nd(i),v=mp(a),b=nd(a)===a,_=await(l.isRTL==null?void 0:l.isRTL(u.floating)),x=h||(b||!m?[c$(a)]:r8e(a)),w=p!=="none";!h&&w&&x.push(...o8e(a,m,p,_));const E=[a,...x],S=await QH(t,g),T=[];let C=((r=o.flip)==null?void 0:r.overflows)||[];if(c&&T.push(S[y]),d){const R=n8e(i,s,_);T.push(S[R[0]],S[R[1]])}if(C=[...C,{placement:i,overflows:T}],!T.every(R=>R<=0)){var D,$;const R=(((D=o.flip)==null?void 0:D.index)||0)+1,A=E[R];if(A)return{data:{index:R,overflows:C},reset:{placement:A}};let M=($=C.filter(N=>N.overflows[0]<=0).sort((N,L)=>N.overflows[1]-L.overflows[1])[0])==null?void 0:$.placement;if(!M)switch(f){case"bestFit":{var I;const N=(I=C.filter(L=>{if(w){const z=mp(L.placement);return z===v||z==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(z=>z>0).reduce((z,F)=>z+F,0)]).sort((L,z)=>L[1]-z[1])[0])==null?void 0:I[0];N&&(M=N);break}case"initialPlacement":M=a;break}if(i!==M)return{reset:{placement:M}}}return{}}}};function yye(e){const t=td(...e.map(o=>o.left)),n=td(...e.map(o=>o.top)),r=Ws(...e.map(o=>o.right)),i=Ws(...e.map(o=>o.bottom));return{x:t,y:n,width:r-t,height:i-n}}function c8e(e){const t=e.slice().sort((i,o)=>i.y-o.y),n=[];let r=null;for(let i=0;i<t.length;i++){const o=t[i];!r||o.y-r.y>r.height/2?n.push([o]):n[n.length-1].push(o),r=o}return n.map(i=>Rw(yye(i)))}const d8e=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:i,platform:o,strategy:s}=t,{padding:a=2,x:l,y:u}=pp(e,t),c=Array.from(await(o.getClientRects==null?void 0:o.getClientRects(r.reference))||[]),d=c8e(c),h=Rw(yye(c)),f=XH(a);function p(){if(d.length===2&&d[0].left>d[1].right&&l!=null&&u!=null)return d.find(g=>l>g.left-f.left&&l<g.right+f.right&&u>g.top-f.top&&u<g.bottom+f.bottom)||h;if(d.length>=2){if(mp(n)==="y"){const C=d[0],D=d[d.length-1],$=nd(n)==="top",I=C.top,R=D.bottom,A=$?C.left:D.left,M=$?C.right:D.right,N=M-A,L=R-I;return{top:I,bottom:R,left:A,right:M,width:N,height:L,x:A,y:I}}const g=nd(n)==="left",y=Ws(...d.map(C=>C.right)),v=td(...d.map(C=>C.left)),b=d.filter(C=>g?C.left===v:C.right===y),_=b[0].top,x=b[b.length-1].bottom,w=v,E=y,S=E-w,T=x-_;return{top:_,bottom:x,left:w,right:E,width:S,height:T,x:w,y:_}}return h}const m=await o.getElementRects({reference:{getBoundingClientRect:p},floating:r.floating,strategy:s});return i.reference.x!==m.reference.x||i.reference.y!==m.reference.y||i.reference.width!==m.reference.width||i.reference.height!==m.reference.height?{reset:{rects:m}}:{}}}};async function h8e(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=nd(n),a=Lx(n),l=mp(n)==="y",u=["left","top"].includes(s)?-1:1,c=o&&l?-1:1,d=pp(t,e);let{mainAxis:h,crossAxis:f,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof p=="number"&&(f=a==="end"?p*-1:p),l?{x:f*c,y:h*u}:{x:h*u,y:f*c}}const f8e=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=t,l=await h8e(t,e);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},p8e=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:g=>{let{x:y,y:v}=g;return{x:y,y:v}}},...l}=pp(e,t),u={x:n,y:r},c=await QH(t,l),d=mp(nd(i)),h=GH(d);let f=u[h],p=u[d];if(o){const g=h==="y"?"top":"left",y=h==="y"?"bottom":"right",v=f+c[g],b=f-c[y];f=d9(v,f,b)}if(s){const g=d==="y"?"top":"left",y=d==="y"?"bottom":"right",v=p+c[g],b=p-c[y];p=d9(v,p,b)}const m=a.fn({...t,[h]:f,[d]:p});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[h]:o,[d]:s}}}}}},m8e=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=t,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=pp(e,t),c={x:n,y:r},d=mp(i),h=GH(d);let f=c[h],p=c[d];const m=pp(a,t),g=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const b=h==="y"?"height":"width",_=o.reference[h]-o.floating[b]+g.mainAxis,x=o.reference[h]+o.reference[b]-g.mainAxis;f<_?f=_:f>x&&(f=x)}if(u){var y,v;const b=h==="y"?"width":"height",_=["top","left"].includes(nd(i)),x=o.reference[d]-o.floating[b]+(_&&((y=s.offset)==null?void 0:y[d])||0)+(_?0:g.crossAxis),w=o.reference[d]+o.reference[b]+(_?0:((v=s.offset)==null?void 0:v[d])||0)-(_?g.crossAxis:0);p<x?p=x:p>w&&(p=w)}return{[h]:f,[d]:p}}}},g8e=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:o,platform:s,elements:a}=t,{apply:l=()=>{},...u}=pp(e,t),c=await QH(t,u),d=nd(i),h=Lx(i),f=mp(i)==="y",{width:p,height:m}=o.floating;let g,y;d==="top"||d==="bottom"?(g=d,y=h===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(y=d,g=h==="end"?"top":"bottom");const v=m-c.top-c.bottom,b=p-c.left-c.right,_=td(m-c[g],v),x=td(p-c[y],b),w=!t.middlewareData.shift;let E=_,S=x;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(S=b),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(E=v),w&&!h){const C=Ws(c.left,0),D=Ws(c.right,0),$=Ws(c.top,0),I=Ws(c.bottom,0);f?S=p-2*(C!==0||D!==0?C+D:Ws(c.left,c.right)):E=m-2*($!==0||I!==0?$+I:Ws(c.top,c.bottom))}await l({...t,availableWidth:S,availableHeight:E});const T=await s.getDimensions(a.floating);return p!==T.width||m!==T.height?{reset:{rects:!0}}:{}}}};function vye(e){const t=ju(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Zl(e),o=i?e.offsetWidth:n,s=i?e.offsetHeight:r,a=u$(n)!==o||u$(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function JH(e){return zr(e)?e:e.contextElement}function X1(e){const t=JH(e);if(!Zl(t))return oh(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=vye(t);let s=(o?u$(n.width):n.width)/r,a=(o?u$(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const y8e=oh(0);function bye(e){const t=ml(e);return!SP()||!t.visualViewport?y8e:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function v8e(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ml(e)?!1:t}function Qy(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=JH(e);let s=oh(1);t&&(r?zr(r)&&(s=X1(r)):s=X1(e));const a=v8e(o,n,r)?bye(o):oh(0);let l=(i.left+a.x)/s.x,u=(i.top+a.y)/s.y,c=i.width/s.x,d=i.height/s.y;if(o){const h=ml(o),f=r&&zr(r)?ml(r):r;let p=h,m=u9(p);for(;m&&r&&f!==p;){const g=X1(m),y=m.getBoundingClientRect(),v=ju(m),b=y.left+(m.clientLeft+parseFloat(v.paddingLeft))*g.x,_=y.top+(m.clientTop+parseFloat(v.paddingTop))*g.y;l*=g.x,u*=g.y,c*=g.x,d*=g.y,l+=b,u+=_,p=ml(m),m=u9(p)}}return Rw({width:c,height:d,x:l,y:u})}function ZH(e,t){const n=TP(e).scrollLeft;return t?t.left+n:Qy(Lh(e)).left+n}function wye(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:ZH(e,r)),o=r.top+t.scrollTop;return{x:i,y:o}}function b8e(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",s=Lh(r),a=t?EP(t.floating):!1;if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},u=oh(1);const c=oh(0),d=Zl(r);if((d||!d&&!o)&&((Ox(r)!=="body"||kA(s))&&(l=TP(r)),Zl(r))){const f=Qy(r);u=X1(r),c.x=f.x+r.clientLeft,c.y=f.y+r.clientTop}const h=s&&!d&&!o?wye(s,l,!0):oh(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x+h.x,y:n.y*u.y-l.scrollTop*u.y+c.y+h.y}}function w8e(e){return Array.from(e.getClientRects())}function x8e(e){const t=Lh(e),n=TP(e),r=e.ownerDocument.body,i=Ws(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Ws(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+ZH(e);const a=-n.scrollTop;return ju(r).direction==="rtl"&&(s+=Ws(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function _8e(e,t){const n=ml(e),r=Lh(e),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const u=SP();(!u||u&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function E8e(e,t){const n=Qy(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=Zl(e)?X1(e):oh(1),s=e.clientWidth*o.x,a=e.clientHeight*o.y,l=i*o.x,u=r*o.y;return{width:s,height:a,x:l,y:u}}function vne(e,t,n){let r;if(t==="viewport")r=_8e(e,n);else if(t==="document")r=x8e(Lh(e));else if(zr(t))r=E8e(t,n);else{const i=bye(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Rw(r)}function xye(e,t){const n=fp(e);return n===t||!zr(n)||vg(n)?!1:ju(n).position==="fixed"||xye(n,t)}function S8e(e,t){const n=t.get(e);if(n)return n;let r=Yf(e,[],!1).filter(a=>zr(a)&&Ox(a)!=="body"),i=null;const o=ju(e).position==="fixed";let s=o?fp(e):e;for(;zr(s)&&!vg(s);){const a=ju(s),l=qH(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||kA(s)&&!l&&xye(e,s))?r=r.filter(c=>c!==s):i=a,s=fp(s)}return t.set(e,r),r}function T8e(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s=[...n==="clippingAncestors"?EP(t)?[]:S8e(t,this._c):[].concat(n),r],a=s[0],l=s.reduce((u,c)=>{const d=vne(t,c,i);return u.top=Ws(d.top,u.top),u.right=td(d.right,u.right),u.bottom=td(d.bottom,u.bottom),u.left=Ws(d.left,u.left),u},vne(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function C8e(e){const{width:t,height:n}=vye(e);return{width:t,height:n}}function A8e(e,t,n){const r=Zl(t),i=Lh(t),o=n==="fixed",s=Qy(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=oh(0);if(r||!r&&!o)if((Ox(t)!=="body"||kA(i))&&(a=TP(t)),r){const h=Qy(t,!0,o,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else i&&(l.x=ZH(i));const u=i&&!r&&!o?wye(i,a):oh(0),c=s.left+a.scrollLeft-l.x-u.x,d=s.top+a.scrollTop-l.y-u.y;return{x:c,y:d,width:s.width,height:s.height}}function rF(e){return ju(e).position==="static"}function bne(e,t){if(!Zl(e)||ju(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Lh(e)===n&&(n=n.ownerDocument.body),n}function _ye(e,t){const n=ml(e);if(EP(e))return n;if(!Zl(e)){let i=fp(e);for(;i&&!vg(i);){if(zr(i)&&!rF(i))return i;i=fp(i)}return n}let r=bne(e,t);for(;r&&VBe(r)&&rF(r);)r=bne(r,t);return r&&vg(r)&&rF(r)&&!qH(r)?n:r||WBe(e)||n}const k8e=async function(e){const t=this.getOffsetParent||_ye,n=this.getDimensions,r=await n(e.floating);return{reference:A8e(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function I8e(e){return ju(e).direction==="rtl"}const R8e={convertOffsetParentRelativeRectToViewportRelativeRect:b8e,getDocumentElement:Lh,getClippingRect:T8e,getOffsetParent:_ye,getElementRects:k8e,getClientRects:w8e,getDimensions:C8e,getScale:X1,isElement:zr,isRTL:I8e};function Eye(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function $8e(e,t){let n=null,r;const i=Lh(e);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const u=e.getBoundingClientRect(),{left:c,top:d,width:h,height:f}=u;if(a||t(),!h||!f)return;const p=Fk(d),m=Fk(i.clientWidth-(c+h)),g=Fk(i.clientHeight-(d+f)),y=Fk(c),b={rootMargin:-p+"px "+-m+"px "+-g+"px "+-y+"px",threshold:Ws(0,td(1,l))||1};let _=!0;function x(w){const E=w[0].intersectionRatio;if(E!==l){if(!_)return s();E?s(!1,E):r=setTimeout(()=>{s(!1,1e-7)},1e3)}E===1&&!Eye(u,e.getBoundingClientRect())&&s(),_=!1}try{n=new IntersectionObserver(x,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(x,b)}n.observe(e)}return s(!0),o}function D8e(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=JH(e),c=i||o?[...u?Yf(u):[],...Yf(t)]:[];c.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),o&&y.addEventListener("resize",n)});const d=u&&a?$8e(u,n):null;let h=-1,f=null;s&&(f=new ResizeObserver(y=>{let[v]=y;v&&v.target===u&&f&&(f.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=f)==null||b.observe(t)})),n()}),u&&!l&&f.observe(u),f.observe(t));let p,m=l?Qy(e):null;l&&g();function g(){const y=Qy(e);m&&!Eye(m,y)&&n(),m=y,p=requestAnimationFrame(g)}return n(),()=>{var y;c.forEach(v=>{i&&v.removeEventListener("scroll",n),o&&v.removeEventListener("resize",n)}),d==null||d(),(y=f)==null||y.disconnect(),f=null,l&&cancelAnimationFrame(p)}}const M8e=f8e,P8e=p8e,N8e=u8e,O8e=g8e,wne=l8e,L8e=d8e,F8e=m8e,B8e=(e,t,n)=>{const r=new Map,i={platform:R8e,...n},o={...i.platform,_c:r};return a8e(e,t,{...i,platform:o})};var CI=typeof document<"u"?O.useLayoutEffect:O.useEffect;function d$(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!d$(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!d$(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Sye(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function xne(e,t){const n=Sye(e);return Math.round(t*n)/n}function iF(e){const t=O.useRef(e);return CI(()=>{t.current=e}),t}function j8e(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:u}=e,[c,d]=O.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,f]=O.useState(r);d$(h,r)||f(r);const[p,m]=O.useState(null),[g,y]=O.useState(null),v=O.useCallback(L=>{L!==w.current&&(w.current=L,m(L))},[]),b=O.useCallback(L=>{L!==E.current&&(E.current=L,y(L))},[]),_=o||p,x=s||g,w=O.useRef(null),E=O.useRef(null),S=O.useRef(c),T=l!=null,C=iF(l),D=iF(i),$=iF(u),I=O.useCallback(()=>{if(!w.current||!E.current)return;const L={placement:t,strategy:n,middleware:h};D.current&&(L.platform=D.current),B8e(w.current,E.current,L).then(z=>{const F={...z,isPositioned:$.current!==!1};R.current&&!d$(S.current,F)&&(S.current=F,SA.flushSync(()=>{d(F)}))})},[h,t,n,D,$]);CI(()=>{u===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,d(L=>({...L,isPositioned:!1})))},[u]);const R=O.useRef(!1);CI(()=>(R.current=!0,()=>{R.current=!1}),[]),CI(()=>{if(_&&(w.current=_),x&&(E.current=x),_&&x){if(C.current)return C.current(_,x,I);I()}},[_,x,I,C,T]);const A=O.useMemo(()=>({reference:w,floating:E,setReference:v,setFloating:b}),[v,b]),M=O.useMemo(()=>({reference:_,floating:x}),[_,x]),N=O.useMemo(()=>{const L={position:n,left:0,top:0};if(!M.floating)return L;const z=xne(M.floating,c.x),F=xne(M.floating,c.y);return a?{...L,transform:"translate("+z+"px, "+F+"px)",...Sye(M.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:F}},[n,a,M.floating,c.x,c.y]);return O.useMemo(()=>({...c,update:I,refs:A,elements:M,floatingStyles:N}),[c,I,A,M,N])}const z8e=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?wne({element:r.current,padding:i}).fn(n):{}:r?wne({element:r,padding:i}).fn(n):{}}}},Tye=(e,t)=>({...M8e(e),options:[e,t]}),eV=(e,t)=>({...P8e(e),options:[e,t]}),_ne=(e,t)=>({...F8e(e),options:[e,t]}),h$=(e,t)=>({...N8e(e),options:[e,t]}),U8e=(e,t)=>({...O8e(e),options:[e,t]}),XS=(e,t)=>({...L8e(e),options:[e,t]}),Cye=(e,t)=>({...z8e(e),options:[e,t]});function H8e(e){return O.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})},e)}const Aye={...o4e},V8e=Aye.useInsertionEffect,W8e=V8e||(e=>e());function kf(e){const t=O.useRef(()=>{});return W8e(()=>{t.current=e}),O.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}var sh=typeof document<"u"?O.useLayoutEffect:O.useEffect;let Ene=!1,q8e=0;const Sne=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+q8e++;function G8e(){const[e,t]=O.useState(()=>Ene?Sne():void 0);return sh(()=>{e==null&&t(Sne())},[]),O.useEffect(()=>{Ene=!0},[]),e}const Y8e=Aye.useId,kye=Y8e||G8e;function K8e(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(i=>i!==n))||[])}}}const X8e=O.createContext(null),Q8e=O.createContext(null),tV=()=>{var e;return((e=O.useContext(X8e))==null?void 0:e.id)||null},nV=()=>O.useContext(Q8e);function rV(e){return"data-floating-ui-"+e}function oF(e){const t=O.useRef(e);return sh(()=>{t.current=e}),t}const Tne=rV("safe-polygon");function AI(e,t,n){return n&&!c9(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}function J8e(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:i,events:o,elements:s}=e,{enabled:a=!0,delay:l=0,handleClose:u=null,mouseOnly:c=!1,restMs:d=0,move:h=!0}=t,f=nV(),p=tV(),m=oF(u),g=oF(l),y=oF(n),v=O.useRef(),b=O.useRef(-1),_=O.useRef(),x=O.useRef(-1),w=O.useRef(!0),E=O.useRef(!1),S=O.useRef(()=>{}),T=O.useRef(!1),C=O.useCallback(()=>{var N;const L=(N=i.current.openEvent)==null?void 0:N.type;return(L==null?void 0:L.includes("mouse"))&&L!=="mousedown"},[i]);O.useEffect(()=>{if(!a)return;function N(L){let{open:z}=L;z||(clearTimeout(b.current),clearTimeout(x.current),w.current=!0,T.current=!1)}return o.on("openchange",N),()=>{o.off("openchange",N)}},[a,o]),O.useEffect(()=>{if(!a||!m.current||!n)return;function N(z){C()&&r(!1,z,"hover")}const L=vy(s.floating).documentElement;return L.addEventListener("mouseleave",N),()=>{L.removeEventListener("mouseleave",N)}},[s.floating,n,r,a,m,C]);const D=O.useCallback(function(N,L,z){L===void 0&&(L=!0),z===void 0&&(z="hover");const F=AI(g.current,"close",v.current);F&&!_.current?(clearTimeout(b.current),b.current=window.setTimeout(()=>r(!1,N,z),F)):L&&(clearTimeout(b.current),r(!1,N,z))},[g,r]),$=kf(()=>{S.current(),_.current=void 0}),I=kf(()=>{if(E.current){const N=vy(s.floating).body;N.style.pointerEvents="",N.removeAttribute(Tne),E.current=!1}}),R=kf(()=>i.current.openEvent?["click","mousedown"].includes(i.current.openEvent.type):!1);O.useEffect(()=>{if(!a)return;function N(j){if(clearTimeout(b.current),w.current=!1,c&&!c9(v.current)||d>0&&!AI(g.current,"open"))return;const W=AI(g.current,"open",v.current);W?b.current=window.setTimeout(()=>{y.current||r(!0,j,"hover")},W):n||r(!0,j,"hover")}function L(j){if(R())return;S.current();const W=vy(s.floating);if(clearTimeout(x.current),T.current=!1,m.current&&i.current.floatingContext){n||clearTimeout(b.current),_.current=m.current({...i.current.floatingContext,tree:f,x:j.clientX,y:j.clientY,onClose(){I(),$(),R()||D(j,!0,"safe-polygon")}});const H=_.current;W.addEventListener("mousemove",H),S.current=()=>{W.removeEventListener("mousemove",H)};return}(v.current==="touch"?!rC(s.floating,j.relatedTarget):!0)&&D(j)}function z(j){R()||i.current.floatingContext&&(m.current==null||m.current({...i.current.floatingContext,tree:f,x:j.clientX,y:j.clientY,onClose(){I(),$(),R()||D(j)}})(j))}if(zr(s.domReference)){var F;const j=s.domReference;return n&&j.addEventListener("mouseleave",z),(F=s.floating)==null||F.addEventListener("mouseleave",z),h&&j.addEventListener("mousemove",N,{once:!0}),j.addEventListener("mouseenter",N),j.addEventListener("mouseleave",L),()=>{var W;n&&j.removeEventListener("mouseleave",z),(W=s.floating)==null||W.removeEventListener("mouseleave",z),h&&j.removeEventListener("mousemove",N),j.removeEventListener("mouseenter",N),j.removeEventListener("mouseleave",L)}}},[s,a,e,c,d,h,D,$,I,r,n,y,f,g,m,i,R]),sh(()=>{var N;if(a&&n&&(N=m.current)!=null&&N.__options.blockPointerEvents&&C()){E.current=!0;const z=s.floating;if(zr(s.domReference)&&z){var L;const F=vy(s.floating).body;F.setAttribute(Tne,"");const j=s.domReference,W=f==null||(L=f.nodesRef.current.find(B=>B.id===p))==null||(L=L.context)==null?void 0:L.elements.floating;return W&&(W.style.pointerEvents=""),F.style.pointerEvents="none",j.style.pointerEvents="auto",z.style.pointerEvents="auto",()=>{F.style.pointerEvents="",j.style.pointerEvents="",z.style.pointerEvents=""}}}},[a,n,p,s,f,m,C]),sh(()=>{n||(v.current=void 0,T.current=!1,$(),I())},[n,$,I]),O.useEffect(()=>()=>{$(),clearTimeout(b.current),clearTimeout(x.current),I()},[a,s.domReference,$,I]);const A=O.useMemo(()=>{function N(L){v.current=L.pointerType}return{onPointerDown:N,onPointerEnter:N,onMouseMove(L){const{nativeEvent:z}=L;function F(){!w.current&&!y.current&&r(!0,z,"hover")}c&&!c9(v.current)||n||d===0||T.current&&L.movementX**2+L.movementY**2<2||(clearTimeout(x.current),v.current==="touch"?F():(T.current=!0,x.current=window.setTimeout(F,d)))}}},[c,r,n,y,d]),M=O.useMemo(()=>({onMouseEnter(){clearTimeout(b.current)},onMouseLeave(N){R()||D(N.nativeEvent,!1)}}),[D,R]);return O.useMemo(()=>a?{reference:A,floating:M}:{},[a,A,M])}const f9=()=>{},Iye=O.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:f9,setState:f9,isInstantPhase:!1}),Z8e=()=>O.useContext(Iye);function e9e(e){const{children:t,delay:n,timeoutMs:r=0}=e,[i,o]=O.useReducer((l,u)=>({...l,...u}),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),s=O.useRef(null),a=O.useCallback(l=>{o({currentId:l})},[]);return sh(()=>{i.currentId?s.current===null?s.current=i.currentId:i.isInstantPhase||o({isInstantPhase:!0}):(i.isInstantPhase&&o({isInstantPhase:!1}),s.current=null)},[i.currentId,i.isInstantPhase]),O.createElement(Iye.Provider,{value:O.useMemo(()=>({...i,setState:o,setCurrentId:a}),[i,a])},t)}function t9e(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,floatingId:i}=e,{id:o,enabled:s=!0}=t,a=o??i,l=Z8e(),{currentId:u,setCurrentId:c,initialDelay:d,setState:h,timeoutMs:f}=l;return sh(()=>{s&&u&&(h({delay:{open:1,close:AI(d,"close")}}),u!==a&&r(!1))},[s,a,r,h,u,d]),sh(()=>{function p(){r(!1),h({delay:d,currentId:null})}if(s&&u&&!n&&u===a){if(f){const m=window.setTimeout(p,f);return()=>{clearTimeout(m)}}p()}},[s,n,h,u,a,r,d,f]),sh(()=>{s&&(c===f9||!n||c(a))},[s,n,c,a]),l}function sF(e,t){let n=e.filter(i=>{var o;return i.parentId===t&&((o=i.context)==null?void 0:o.open)}),r=n;for(;r.length;)r=e.filter(i=>{var o;return(o=r)==null?void 0:o.some(s=>{var a;return i.parentId===s.id&&((a=i.context)==null?void 0:a.open)})}),n=n.concat(r);return n}const n9e="data-floating-ui-focusable",r9e={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},i9e={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Cne=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function o9e(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,elements:i,dataRef:o}=e,{enabled:s=!0,escapeKey:a=!0,outsidePress:l=!0,outsidePressEvent:u="pointerdown",referencePress:c=!1,referencePressEvent:d="pointerdown",ancestorScroll:h=!1,bubbles:f,capture:p}=t,m=nV(),g=kf(typeof l=="function"?l:()=>!1),y=typeof l=="function"?g:l,v=O.useRef(!1),b=O.useRef(!1),{escapeKey:_,outsidePress:x}=Cne(f),{escapeKey:w,outsidePress:E}=Cne(p),S=O.useRef(!1),T=kf(A=>{var M;if(!n||!s||!a||A.key!=="Escape"||S.current)return;const N=(M=o.current.floatingContext)==null?void 0:M.nodeId,L=m?sF(m.nodesRef.current,N):[];if(!_&&(A.stopPropagation(),L.length>0)){let z=!0;if(L.forEach(F=>{var j;if((j=F.context)!=null&&j.open&&!F.context.dataRef.current.__escapeKeyBubbles){z=!1;return}}),!z)return}r(!1,XBe(A)?A.nativeEvent:A,"escape-key")}),C=kf(A=>{var M;const N=()=>{var L;T(A),(L=a1(A))==null||L.removeEventListener("keydown",N)};(M=a1(A))==null||M.addEventListener("keydown",N)}),D=kf(A=>{var M;const N=v.current;v.current=!1;const L=b.current;if(b.current=!1,u==="click"&&L||N||typeof y=="function"&&!y(A))return;const z=a1(A),F="["+rV("inert")+"]",j=vy(i.floating).querySelectorAll(F);let W=zr(z)?z:null;for(;W&&!vg(W);){const G=fp(W);if(vg(G)||!zr(G))break;W=G}if(j.length&&zr(z)&&!QBe(z)&&!rC(z,i.floating)&&Array.from(j).every(G=>!rC(W,G)))return;if(Zl(z)&&R){const G=z.clientWidth>0&&z.scrollWidth>z.clientWidth,ne=z.clientHeight>0&&z.scrollHeight>z.clientHeight;let X=ne&&A.offsetX>z.clientWidth;if(ne&&ju(z).direction==="rtl"&&(X=A.offsetX<=z.offsetWidth-z.clientWidth),X||G&&A.offsetY>z.clientHeight)return}const B=(M=o.current.floatingContext)==null?void 0:M.nodeId,H=m&&sF(m.nodesRef.current,B).some(G=>{var ne;return nF(A,(ne=G.context)==null?void 0:ne.elements.floating)});if(nF(A,i.floating)||nF(A,i.domReference)||H)return;const V=m?sF(m.nodesRef.current,B):[];if(V.length>0){let G=!0;if(V.forEach(ne=>{var X;if((X=ne.context)!=null&&X.open&&!ne.context.dataRef.current.__outsidePressBubbles){G=!1;return}}),!G)return}r(!1,A,"outside-press")}),$=kf(A=>{var M;const N=()=>{var L;D(A),(L=a1(A))==null||L.removeEventListener(u,N)};(M=a1(A))==null||M.addEventListener(u,N)});O.useEffect(()=>{if(!n||!s)return;o.current.__escapeKeyBubbles=_,o.current.__outsidePressBubbles=x;let A=-1;function M(j){r(!1,j,"ancestor-scroll")}function N(){window.clearTimeout(A),S.current=!0}function L(){A=window.setTimeout(()=>{S.current=!1},SP()?5:0)}const z=vy(i.floating);a&&(z.addEventListener("keydown",w?C:T,w),z.addEventListener("compositionstart",N),z.addEventListener("compositionend",L)),y&&z.addEventListener(u,E?$:D,E);let F=[];return h&&(zr(i.domReference)&&(F=Yf(i.domReference)),zr(i.floating)&&(F=F.concat(Yf(i.floating))),!zr(i.reference)&&i.reference&&i.reference.contextElement&&(F=F.concat(Yf(i.reference.contextElement)))),F=F.filter(j=>{var W;return j!==((W=z.defaultView)==null?void 0:W.visualViewport)}),F.forEach(j=>{j.addEventListener("scroll",M,{passive:!0})}),()=>{a&&(z.removeEventListener("keydown",w?C:T,w),z.removeEventListener("compositionstart",N),z.removeEventListener("compositionend",L)),y&&z.removeEventListener(u,E?$:D,E),F.forEach(j=>{j.removeEventListener("scroll",M)}),window.clearTimeout(A)}},[o,i,a,y,u,n,r,h,s,_,x,T,w,C,D,E,$]),O.useEffect(()=>{v.current=!1},[y,u]);const I=O.useMemo(()=>({onKeyDown:T,[r9e[d]]:A=>{c&&r(!1,A.nativeEvent,"reference-press")}}),[T,r,c,d]),R=O.useMemo(()=>({onKeyDown:T,onMouseDown(){b.current=!0},onMouseUp(){b.current=!0},[i9e[u]]:()=>{v.current=!0}}),[T,u]);return O.useMemo(()=>s?{reference:I,floating:R}:{},[s,I,R])}function s9e(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=kye(),o=O.useRef({}),[s]=O.useState(()=>K8e()),a=tV()!=null,[l,u]=O.useState(r.reference),c=kf((f,p,m)=>{o.current.openEvent=f?p:void 0,s.emit("openchange",{open:f,event:p,reason:m,nested:a}),n==null||n(f,p,m)}),d=O.useMemo(()=>({setPositionReference:u}),[]),h=O.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return O.useMemo(()=>({dataRef:o,open:t,onOpenChange:c,elements:h,events:s,floatingId:i,refs:d}),[t,c,h,s,i,d])}function iV(e){e===void 0&&(e={});const{nodeId:t}=e,n=s9e({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[o,s]=O.useState(null),[a,l]=O.useState(null),c=(i==null?void 0:i.domReference)||o,d=O.useRef(null),h=nV();sh(()=>{c&&(d.current=c)},[c]);const f=j8e({...e,elements:{...i,...a&&{reference:a}}}),p=O.useCallback(b=>{const _=zr(b)?{getBoundingClientRect:()=>b.getBoundingClientRect(),contextElement:b}:b;l(_),f.refs.setReference(_)},[f.refs]),m=O.useCallback(b=>{(zr(b)||b===null)&&(d.current=b,s(b)),(zr(f.refs.reference.current)||f.refs.reference.current===null||b!==null&&!zr(b))&&f.refs.setReference(b)},[f.refs]),g=O.useMemo(()=>({...f.refs,setReference:m,setPositionReference:p,domReference:d}),[f.refs,m,p]),y=O.useMemo(()=>({...f.elements,domReference:c}),[f.elements,c]),v=O.useMemo(()=>({...f,...r,refs:g,elements:y,nodeId:t}),[f,g,y,t,r]);return sh(()=>{r.dataRef.current.floatingContext=v;const b=h==null?void 0:h.nodesRef.current.find(_=>_.id===t);b&&(b.context=v)}),O.useMemo(()=>({...f,context:v,refs:g,elements:y}),[f,g,y,v])}function a9e(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:i,dataRef:o,elements:s}=e,{enabled:a=!0,visibleOnly:l=!0}=t,u=O.useRef(!1),c=O.useRef(),d=O.useRef(!0);O.useEffect(()=>{if(!a)return;const f=ml(s.domReference);function p(){!n&&Zl(s.domReference)&&s.domReference===mne(vy(s.domReference))&&(u.current=!0)}function m(){d.current=!0}return f.addEventListener("blur",p),f.addEventListener("keydown",m,!0),()=>{f.removeEventListener("blur",p),f.removeEventListener("keydown",m,!0)}},[s.domReference,n,a]),O.useEffect(()=>{if(!a)return;function f(p){let{reason:m}=p;(m==="reference-press"||m==="escape-key")&&(u.current=!0)}return i.on("openchange",f),()=>{i.off("openchange",f)}},[i,a]),O.useEffect(()=>()=>{clearTimeout(c.current)},[]);const h=O.useMemo(()=>({onPointerDown(f){qBe(f.nativeEvent)||(d.current=!1)},onMouseLeave(){u.current=!1},onFocus(f){if(u.current)return;const p=a1(f.nativeEvent);if(l&&zr(p))try{if(GBe()&&YBe())throw Error();if(!p.matches(":focus-visible"))return}catch{if(!d.current&&!ZBe(p))return}r(!0,f.nativeEvent,"focus")},onBlur(f){u.current=!1;const p=f.relatedTarget,m=f.nativeEvent,g=zr(p)&&p.hasAttribute(rV("focus-guard"))&&p.getAttribute("data-type")==="outside";c.current=window.setTimeout(()=>{var y;const v=mne(s.domReference?s.domReference.ownerDocument:document);!p&&v===s.domReference||rC((y=o.current.floatingContext)==null?void 0:y.refs.floating.current,v)||rC(s.domReference,v)||g||r(!1,m,"focus")})}}),[o,s.domReference,r,l]);return O.useMemo(()=>a?{reference:h}:{},[a,h])}const Ane="active",kne="selected";function aF(e,t,n){const r=new Map,i=n==="item";let o=e;if(i&&e){const{[Ane]:s,[kne]:a,...l}=e;o=l}return{...n==="floating"&&{tabIndex:-1,[n9e]:""},...o,...t.map(s=>{const a=s?s[n]:null;return typeof a=="function"?e?a(e):null:a}).concat(e).reduce((s,a)=>(a&&Object.entries(a).forEach(l=>{let[u,c]=l;if(!(i&&[Ane,kne].includes(u)))if(u.indexOf("on")===0){if(r.has(u)||r.set(u,[]),typeof c=="function"){var d;(d=r.get(u))==null||d.push(c),s[u]=function(){for(var h,f=arguments.length,p=new Array(f),m=0;m<f;m++)p[m]=arguments[m];return(h=r.get(u))==null?void 0:h.map(g=>g(...p)).find(g=>g!==void 0)}}}else s[u]=c}),s),{})}}function l9e(e){e===void 0&&(e=[]);const t=e.map(a=>a==null?void 0:a.reference),n=e.map(a=>a==null?void 0:a.floating),r=e.map(a=>a==null?void 0:a.item),i=O.useCallback(a=>aF(a,e,"reference"),t),o=O.useCallback(a=>aF(a,e,"floating"),n),s=O.useCallback(a=>aF(a,e,"item"),r);return O.useMemo(()=>({getReferenceProps:i,getFloatingProps:o,getItemProps:s}),[i,o,s])}const u9e=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function c9e(e,t){var n;t===void 0&&(t={});const{open:r,floatingId:i}=e,{enabled:o=!0,role:s="dialog"}=t,a=(n=u9e.get(s))!=null?n:s,l=kye(),c=tV()!=null,d=O.useMemo(()=>a==="tooltip"||s==="label"?{["aria-"+(s==="label"?"labelledby":"describedby")]:r?i:void 0}:{"aria-expanded":r?"true":"false","aria-haspopup":a==="alertdialog"?"dialog":a,"aria-controls":r?i:void 0,...a==="listbox"&&{role:"combobox"},...a==="menu"&&{id:l},...a==="menu"&&c&&{role:"menuitem"},...s==="select"&&{"aria-autocomplete":"none"},...s==="combobox"&&{"aria-autocomplete":"list"}},[a,i,c,r,l,s]),h=O.useMemo(()=>{const p={id:i,...a&&{role:a}};return a==="tooltip"||s==="label"?p:{...p,...a==="menu"&&{"aria-labelledby":l}}},[a,i,l,s]),f=O.useCallback(p=>{let{active:m,selected:g}=p;const y={role:"option",...m&&{id:i+"-option"}};switch(s){case"select":return{...y,"aria-selected":m&&g};case"combobox":return{...y,...m&&{"aria-selected":!0}}}return{}},[i,s]);return O.useMemo(()=>o?{reference:d,floating:h,item:f}:{},[o,d,h,f])}const[d9e,Qu]=Oo("ScrollArea.Root component was not found in tree");function $w(e,t){const n=Sm(t);Bv(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}const h9e=O.forwardRef((e,t)=>{const{style:n,...r}=e,i=Qu(),[o,s]=O.useState(0),[a,l]=O.useState(0),u=!!(o&&a);return $w(i.scrollbarX,()=>{var d;const c=((d=i.scrollbarX)==null?void 0:d.offsetHeight)||0;i.onCornerHeightChange(c),l(c)}),$w(i.scrollbarY,()=>{var d;const c=((d=i.scrollbarY)==null?void 0:d.offsetWidth)||0;i.onCornerWidthChange(c),s(c)}),u?k.jsx("div",{...r,ref:t,style:{...n,width:o,height:a}}):null}),f9e=O.forwardRef((e,t)=>{const n=Qu(),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?k.jsx(h9e,{...e,ref:t}):null}),p9e={scrollHideDelay:1e3,type:"hover"},Rye=O.forwardRef((e,t)=>{const n=Ee("ScrollAreaRoot",p9e,e),{type:r,scrollHideDelay:i,scrollbars:o,...s}=n,[a,l]=O.useState(null),[u,c]=O.useState(null),[d,h]=O.useState(null),[f,p]=O.useState(null),[m,g]=O.useState(null),[y,v]=O.useState(0),[b,_]=O.useState(0),[x,w]=O.useState(!1),[E,S]=O.useState(!1),T=ho(t,C=>l(C));return k.jsx(d9e,{value:{type:r,scrollHideDelay:i,scrollArea:a,viewport:u,onViewportChange:c,content:d,onContentChange:h,scrollbarX:f,onScrollbarXChange:p,scrollbarXEnabled:x,onScrollbarXEnabledChange:w,scrollbarY:m,onScrollbarYChange:g,scrollbarYEnabled:E,onScrollbarYEnabledChange:S,onCornerWidthChange:v,onCornerHeightChange:_},children:k.jsx(ge,{...s,ref:T,__vars:{"--sa-corner-width":o!=="xy"?"0px":`${y}px`,"--sa-corner-height":o!=="xy"?"0px":`${b}px`}})})});Rye.displayName="@mantine/core/ScrollAreaRoot";function $ye(e,t){const n=e/t;return Number.isNaN(n)?0:n}function CP(e){const t=$ye(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function Dye(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function m9e(e,[t,n]){return Math.min(n,Math.max(t,e))}function Ine(e,t,n="ltr"){const r=CP(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-i,s=t.content-t.viewport,a=o-r,l=n==="ltr"?[0,s]:[s*-1,0],u=m9e(e,l);return Dye([0,s],[0,a])(u)}function g9e(e,t,n,r="ltr"){const i=CP(n),o=i/2,s=t||o,a=i-s,l=n.scrollbar.paddingStart+s,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,c=n.content-n.viewport,d=r==="ltr"?[0,c]:[c*-1,0];return Dye([l,u],d)(e)}function Mye(e,t){return e>0&&e<t}function f$(e){return e?parseInt(e,10):0}function $y(e,t,{checkForDefaultPrevented:n=!0}={}){return r=>{e==null||e(r),(n===!1||!r.defaultPrevented)&&(t==null||t(r))}}const[y9e,Pye]=Oo("ScrollAreaScrollbar was not found in tree"),Nye=O.forwardRef((e,t)=>{const{sizes:n,hasThumb:r,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:s,onThumbPositionChange:a,onDragScroll:l,onWheelScroll:u,onResize:c,...d}=e,h=Qu(),[f,p]=O.useState(null),m=ho(t,S=>p(S)),g=O.useRef(null),y=O.useRef(""),{viewport:v}=h,b=n.content-n.viewport,_=Sm(u),x=Sm(a),w=gP(c,10),E=S=>{if(g.current){const T=S.clientX-g.current.left,C=S.clientY-g.current.top;l({x:T,y:C})}};return O.useEffect(()=>{const S=T=>{const C=T.target;(f==null?void 0:f.contains(C))&&_(T,b)};return document.addEventListener("wheel",S,{passive:!1}),()=>document.removeEventListener("wheel",S,{passive:!1})},[v,f,b,_]),O.useEffect(x,[n,x]),$w(f,w),$w(h.content,w),k.jsx(y9e,{value:{scrollbar:f,hasThumb:r,onThumbChange:Sm(i),onThumbPointerUp:Sm(o),onThumbPositionChange:x,onThumbPointerDown:Sm(s)},children:k.jsx("div",{...d,ref:m,"data-mantine-scrollbar":!0,style:{position:"absolute",...d.style},onPointerDown:$y(e.onPointerDown,S=>{S.preventDefault(),S.button===0&&(S.target.setPointerCapture(S.pointerId),g.current=f.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",E(S))}),onPointerMove:$y(e.onPointerMove,E),onPointerUp:$y(e.onPointerUp,S=>{const T=S.target;T.hasPointerCapture(S.pointerId)&&(S.preventDefault(),T.releasePointerCapture(S.pointerId))}),onLostPointerCapture:()=>{document.body.style.webkitUserSelect=y.current,g.current=null}})})}),Oye=O.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,style:i,...o}=e,s=Qu(),[a,l]=O.useState(),u=O.useRef(null),c=ho(t,u,s.onScrollbarXChange);return O.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),k.jsx(Nye,{"data-orientation":"horizontal",...o,ref:c,sizes:n,style:{...i,"--sa-thumb-width":`${CP(n)}px`},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(s.viewport){const f=s.viewport.scrollLeft+d.deltaX;e.onWheelScroll(f),Mye(f,h)&&d.preventDefault()}},onResize:()=>{u.current&&s.viewport&&a&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:f$(a.paddingLeft),paddingEnd:f$(a.paddingRight)}})}})});Oye.displayName="@mantine/core/ScrollAreaScrollbarX";const Lye=O.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,style:i,...o}=e,s=Qu(),[a,l]=O.useState(),u=O.useRef(null),c=ho(t,u,s.onScrollbarYChange);return O.useEffect(()=>{u.current&&l(window.getComputedStyle(u.current))},[]),k.jsx(Nye,{...o,"data-orientation":"vertical",ref:c,sizes:n,style:{"--sa-thumb-height":`${CP(n)}px`,...i},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(s.viewport){const f=s.viewport.scrollTop+d.deltaY;e.onWheelScroll(f),Mye(f,h)&&d.preventDefault()}},onResize:()=>{u.current&&s.viewport&&a&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:f$(a.paddingTop),paddingEnd:f$(a.paddingBottom)}})}})});Lye.displayName="@mantine/core/ScrollAreaScrollbarY";const AP=O.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,{dir:i}=Jg(),o=Qu(),s=O.useRef(null),a=O.useRef(0),[l,u]=O.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=$ye(l.viewport,l.content),d={...r,sizes:l,onSizesChange:u,hasThumb:c>0&&c<1,onThumbChange:f=>{s.current=f},onThumbPointerUp:()=>{a.current=0},onThumbPointerDown:f=>{a.current=f}},h=(f,p)=>g9e(f,a.current,l,p);return n==="horizontal"?k.jsx(Oye,{...d,ref:t,onThumbPositionChange:()=>{if(o.viewport&&s.current){const f=o.viewport.scrollLeft,p=Ine(f,l,i);s.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:f=>{o.viewport&&(o.viewport.scrollLeft=f)},onDragScroll:f=>{o.viewport&&(o.viewport.scrollLeft=h(f,i))}}):n==="vertical"?k.jsx(Lye,{...d,ref:t,onThumbPositionChange:()=>{if(o.viewport&&s.current){const f=o.viewport.scrollTop,p=Ine(f,l);l.scrollbar.size===0?s.current.style.setProperty("--thumb-opacity","0"):s.current.style.setProperty("--thumb-opacity","1"),s.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:f=>{o.viewport&&(o.viewport.scrollTop=f)},onDragScroll:f=>{o.viewport&&(o.viewport.scrollTop=h(f))}}):null});AP.displayName="@mantine/core/ScrollAreaScrollbarVisible";const oV=O.forwardRef((e,t)=>{const n=Qu(),{forceMount:r,...i}=e,[o,s]=O.useState(!1),a=e.orientation==="horizontal",l=gP(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,c=n.viewport.offsetHeight<n.viewport.scrollHeight;s(a?u:c)}},10);return $w(n.viewport,l),$w(n.content,l),r||o?k.jsx(AP,{"data-state":o?"visible":"hidden",...i,ref:t}):null});oV.displayName="@mantine/core/ScrollAreaScrollbarAuto";const Fye=O.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Qu(),[o,s]=O.useState(!1);return O.useEffect(()=>{const{scrollArea:a}=i;let l=0;if(a){const u=()=>{window.clearTimeout(l),s(!0)},c=()=>{l=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",c),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",c)}}},[i.scrollArea,i.scrollHideDelay]),n||o?k.jsx(oV,{"data-state":o?"visible":"hidden",...r,ref:t}):null});Fye.displayName="@mantine/core/ScrollAreaScrollbarHover";const v9e=O.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Qu(),o=e.orientation==="horizontal",[s,a]=O.useState("hidden"),l=gP(()=>a("idle"),100);return O.useEffect(()=>{if(s==="idle"){const u=window.setTimeout(()=>a("hidden"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[s,i.scrollHideDelay]),O.useEffect(()=>{const{viewport:u}=i,c=o?"scrollLeft":"scrollTop";if(u){let d=u[c];const h=()=>{const f=u[c];d!==f&&(a("scrolling"),l()),d=f};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[i.viewport,o,l]),n||s!=="hidden"?k.jsx(AP,{"data-state":s==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:$y(e.onPointerEnter,()=>a("interacting")),onPointerLeave:$y(e.onPointerLeave,()=>a("idle"))}):null}),p9=O.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Qu(),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=i,a=e.orientation==="horizontal";return O.useEffect(()=>(a?o(!0):s(!0),()=>{a?o(!1):s(!1)}),[a,o,s]),i.type==="hover"?k.jsx(Fye,{...r,ref:t,forceMount:n}):i.type==="scroll"?k.jsx(v9e,{...r,ref:t,forceMount:n}):i.type==="auto"?k.jsx(oV,{...r,ref:t,forceMount:n}):i.type==="always"?k.jsx(AP,{...r,ref:t}):null});p9.displayName="@mantine/core/ScrollAreaScrollbar";function b9e(e,t=()=>{}){let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const o={left:e.scrollLeft,top:e.scrollTop},s=n.left!==o.left,a=n.top!==o.top;(s||a)&&t(),n=o,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)}const Bye=O.forwardRef((e,t)=>{const{style:n,...r}=e,i=Qu(),o=Pye(),{onThumbPositionChange:s}=o,a=ho(t,c=>o.onThumbChange(c)),l=O.useRef(void 0),u=gP(()=>{l.current&&(l.current(),l.current=void 0)},100);return O.useEffect(()=>{const{viewport:c}=i;if(c){const d=()=>{if(u(),!l.current){const h=b9e(c,s);l.current=h,s()}};return s(),c.addEventListener("scroll",d),()=>c.removeEventListener("scroll",d)}},[i.viewport,u,s]),k.jsx("div",{"data-state":o.hasThumb?"visible":"hidden",...r,ref:a,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...n},onPointerDownCapture:$y(e.onPointerDownCapture,c=>{const h=c.target.getBoundingClientRect(),f=c.clientX-h.left,p=c.clientY-h.top;o.onThumbPointerDown({x:f,y:p})}),onPointerUp:$y(e.onPointerUp,o.onThumbPointerUp)})});Bye.displayName="@mantine/core/ScrollAreaThumb";const m9=O.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Pye();return n||i.hasThumb?k.jsx(Bye,{ref:t,...r}):null});m9.displayName="@mantine/core/ScrollAreaThumb";const jye=O.forwardRef(({children:e,style:t,...n},r)=>{const i=Qu(),o=ho(r,i.onViewportChange);return k.jsx(ge,{...n,ref:o,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...t},children:k.jsx("div",{style:{minWidth:"100%",display:"table"},ref:i.onContentChange,children:e})})});jye.displayName="@mantine/core/ScrollAreaViewport";var sV={root:"m_d57069b5",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const zye={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},w9e=(e,{scrollbarSize:t,overscrollBehavior:n})=>({root:{"--scrollarea-scrollbar-size":_e(t),"--scrollarea-over-scroll-behavior":n}}),gp=We((e,t)=>{const n=Ee("ScrollArea",zye,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,scrollbarSize:l,vars:u,type:c,scrollHideDelay:d,viewportProps:h,viewportRef:f,onScrollPositionChange:p,children:m,offsetScrollbars:g,scrollbars:y,onBottomReached:v,onTopReached:b,overscrollBehavior:_,...x}=n,[w,E]=O.useState(!1),[S,T]=O.useState(!1),[C,D]=O.useState(!1),$=kt({name:"ScrollArea",props:n,classes:sV,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:w9e}),I=O.useRef(null),R=H8e([f,I]);return O.useEffect(()=>{if(!I.current||g!=="present")return;const A=I.current,M=new ResizeObserver(()=>{const{scrollHeight:N,clientHeight:L,scrollWidth:z,clientWidth:F}=A;T(N>L),D(z>F)});return M.observe(A),()=>M.disconnect()},[I,g]),k.jsxs(Rye,{type:c==="never"?"always":c,scrollHideDelay:d,ref:t,scrollbars:y,...$("root"),...x,children:[k.jsx(jye,{...h,...$("viewport",{style:h==null?void 0:h.style}),ref:R,"data-offset-scrollbars":g===!0?"xy":g||void 0,"data-scrollbars":y||void 0,"data-horizontal-hidden":g==="present"&&!C?"true":void 0,"data-vertical-hidden":g==="present"&&!S?"true":void 0,onScroll:A=>{var z;(z=h==null?void 0:h.onScroll)==null||z.call(h,A),p==null||p({x:A.currentTarget.scrollLeft,y:A.currentTarget.scrollTop});const{scrollTop:M,scrollHeight:N,clientHeight:L}=A.currentTarget;M-(N-L)>=0&&(v==null||v()),M===0&&(b==null||b())},children:m}),(y==="xy"||y==="x")&&k.jsx(p9,{...$("scrollbar"),orientation:"horizontal","data-hidden":c==="never"||!C||void 0,forceMount:!0,onMouseEnter:()=>E(!0),onMouseLeave:()=>E(!1),children:k.jsx(m9,{...$("thumb")})}),(y==="xy"||y==="y")&&k.jsx(p9,{...$("scrollbar"),orientation:"vertical","data-hidden":c==="never"||!S||void 0,forceMount:!0,onMouseEnter:()=>E(!0),onMouseLeave:()=>E(!1),children:k.jsx(m9,{...$("thumb")})}),k.jsx(f9e,{...$("corner"),"data-hovered":w||void 0,"data-hidden":c==="never"||void 0})]})});gp.displayName="@mantine/core/ScrollArea";const aV=We((e,t)=>{const{children:n,classNames:r,styles:i,scrollbarSize:o,scrollHideDelay:s,type:a,dir:l,offsetScrollbars:u,viewportRef:c,onScrollPositionChange:d,unstyled:h,variant:f,viewportProps:p,scrollbars:m,style:g,vars:y,onBottomReached:v,onTopReached:b,..._}=Ee("ScrollAreaAutosize",zye,e);return k.jsx(ge,{..._,ref:t,style:[{display:"flex",overflow:"auto"},g],children:k.jsx(ge,{style:{display:"flex",flexDirection:"column",flex:1},children:k.jsx(gp,{classNames:r,styles:i,scrollHideDelay:s,scrollbarSize:o,type:a,dir:l,offsetScrollbars:u,viewportRef:c,onScrollPositionChange:d,unstyled:h,variant:f,viewportProps:p,vars:y,scrollbars:m,onBottomReached:v,onTopReached:b,children:n})})})});gp.classes=sV;aV.displayName="@mantine/core/ScrollAreaAutosize";aV.classes=sV;gp.Autosize=aV;var Uye={root:"m_87cf2631"};const x9e={__staticSelector:"UnstyledButton"},eu=Yi((e,t)=>{const n=Ee("UnstyledButton",x9e,e),{className:r,component:i="button",__staticSelector:o,unstyled:s,classNames:a,styles:l,style:u,...c}=n,d=kt({name:o,props:n,classes:Uye,className:r,style:u,classNames:a,styles:l,unstyled:s});return k.jsx(ge,{...d("root",{focusable:!0}),component:i,ref:t,type:i==="button"?"button":void 0,...c})});eu.classes=Uye;eu.displayName="@mantine/core/UnstyledButton";var Hye={root:"m_515a97f8"};const _9e={},lV=We((e,t)=>{const n=Ee("VisuallyHidden",_9e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,...u}=n,c=kt({name:"VisuallyHidden",classes:Hye,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a});return k.jsx(ge,{component:"span",ref:t,...c("root"),...u})});lV.classes=Hye;lV.displayName="@mantine/core/VisuallyHidden";var Vye={root:"m_1b7284a3"};const E9e={},S9e=(e,{radius:t,shadow:n})=>({root:{"--paper-radius":t===void 0?void 0:mr(t),"--paper-shadow":LH(n)}}),Fx=Yi((e,t)=>{const n=Ee("Paper",E9e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,withBorder:l,vars:u,radius:c,shadow:d,variant:h,mod:f,...p}=n,m=kt({name:"Paper",props:n,classes:Vye,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:S9e});return k.jsx(ge,{ref:t,mod:[{"data-with-border":l},f],...m("root"),variant:h,...p})});Fx.classes=Vye;Fx.displayName="@mantine/core/Paper";function Wye(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[n,r]=t.split("-"),i=n==="right"?"left":"right";return r===void 0?i:`${i}-${r}`}return t}function Rne(e,t,n,r){return e==="center"||r==="center"?{top:t}:e==="end"?{bottom:n}:e==="start"?{top:n}:{}}function $ne(e,t,n,r,i){return e==="center"||r==="center"?{left:t}:e==="end"?{[i==="ltr"?"right":"left"]:n}:e==="start"?{[i==="ltr"?"left":"right"]:n}:{}}const T9e={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function C9e({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:i,arrowX:o,arrowY:s,dir:a}){const[l,u="center"]=e.split("-"),c={width:t,height:t,transform:"rotate(45deg)",position:"absolute",[T9e[l]]:r},d=-t/2;return l==="left"?{...c,...Rne(u,s,n,i),right:d,borderLeftColor:"transparent",borderBottomColor:"transparent",clipPath:"polygon(100% 0, 0 0, 100% 100%)"}:l==="right"?{...c,...Rne(u,s,n,i),left:d,borderRightColor:"transparent",borderTopColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 100%)"}:l==="top"?{...c,...$ne(u,o,n,i,a),bottom:d,borderTopColor:"transparent",borderLeftColor:"transparent",clipPath:"polygon(0 100%, 100% 100%, 100% 0)"}:l==="bottom"?{...c,...$ne(u,o,n,i,a),top:d,borderBottomColor:"transparent",borderRightColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 0)"}:{}}const uV=O.forwardRef(({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:i,visible:o,arrowX:s,arrowY:a,style:l,...u},c)=>{const{dir:d}=Jg();return o?k.jsx("div",{...u,ref:c,style:{...l,...C9e({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:i,dir:d,arrowX:s,arrowY:a})}}):null});uV.displayName="@mantine/core/FloatingArrow";var qye={root:"m_9814e45f"};const A9e={zIndex:Tl("modal")},k9e=(e,{gradient:t,color:n,backgroundOpacity:r,blur:i,radius:o,zIndex:s})=>({root:{"--overlay-bg":t||(n!==void 0||r!==void 0)&&Nd(n||"#000",r??.6)||void 0,"--overlay-filter":i?`blur(${_e(i)})`:void 0,"--overlay-radius":o===void 0?void 0:mr(o),"--overlay-z-index":s==null?void 0:s.toString()}}),Dw=Yi((e,t)=>{const n=Ee("Overlay",A9e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,fixed:u,center:c,children:d,radius:h,zIndex:f,gradient:p,blur:m,color:g,backgroundOpacity:y,mod:v,...b}=n,_=kt({name:"Overlay",props:n,classes:qye,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:k9e});return k.jsx(ge,{ref:t,..._("root"),mod:[{center:c,fixed:u},v],...b,children:d})});Dw.classes=qye;Dw.displayName="@mantine/core/Overlay";function lF(e){const t=document.createElement("div");return t.setAttribute("data-portal","true"),typeof e.className=="string"&&t.classList.add(...e.className.split(" ").filter(Boolean)),typeof e.style=="object"&&Object.assign(t.style,e.style),typeof e.id=="string"&&t.setAttribute("id",e.id),t}function I9e({target:e,reuseTargetNode:t,...n}){if(e)return typeof e=="string"?document.querySelector(e)||lF(n):e;if(t){const r=document.querySelector("[data-mantine-shared-portal-node]");if(r)return r;const i=lF(n);return i.setAttribute("data-mantine-shared-portal-node","true"),document.body.appendChild(i),i}return lF(n)}const R9e={},Gye=We((e,t)=>{const{children:n,target:r,reuseTargetNode:i,...o}=Ee("Portal",R9e,e),[s,a]=O.useState(!1),l=O.useRef(null);return Bv(()=>(a(!0),l.current=I9e({target:r,reuseTargetNode:i,...o}),a$(t,l.current),!r&&!i&&l.current&&document.body.appendChild(l.current),()=>{!r&&!i&&l.current&&document.body.removeChild(l.current)}),[r]),!s||!l.current?null:SA.createPortal(k.jsx(k.Fragment,{children:n}),l.current)});Gye.displayName="@mantine/core/Portal";const Zg=We(({withinPortal:e=!0,children:t,...n},r)=>tye()==="test"||!e?k.jsx(k.Fragment,{children:t}):k.jsx(Gye,{ref:r,...n,children:t}));Zg.displayName="@mantine/core/OptionalPortal";const lE=e=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${e==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),Bk={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...lE("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...lE("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...lE("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...lE("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...lE("top"),common:{transformOrigin:"top right"}}},Dne={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function $9e({transition:e,state:t,duration:n,timingFunction:r}){const i={WebkitBackfaceVisibility:"hidden",willChange:"transform, opacity",transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof e=="string"?e in Bk?{transitionProperty:Bk[e].transitionProperty,...i,...Bk[e].common,...Bk[e][Dne[t]]}:{}:{transitionProperty:e.transitionProperty,...i,...e.common,...e[Dne[t]]}}function D9e({duration:e,exitDuration:t,timingFunction:n,mounted:r,onEnter:i,onExit:o,onEntered:s,onExited:a,enterDelay:l,exitDelay:u}){const c=Gi(),d=yP(),h=c.respectReducedMotion?d:!1,[f,p]=O.useState(h?0:e),[m,g]=O.useState(r?"entered":"exited"),y=O.useRef(-1),v=O.useRef(-1),b=O.useRef(-1),_=w=>{const E=w?i:o,S=w?s:a;window.clearTimeout(y.current);const T=h?0:w?e:t;p(T),T===0?(typeof E=="function"&&E(),typeof S=="function"&&S(),g(w?"entered":"exited")):b.current=requestAnimationFrame(()=>{eS.flushSync(()=>{g(w?"pre-entering":"pre-exiting")}),b.current=requestAnimationFrame(()=>{typeof E=="function"&&E(),g(w?"entering":"exiting"),y.current=window.setTimeout(()=>{typeof S=="function"&&S(),g(w?"entered":"exited")},T)})})},x=w=>{if(window.clearTimeout(v.current),typeof(w?l:u)!="number"){_(w);return}v.current=window.setTimeout(()=>{_(w)},w?l:u)};return xh(()=>{x(r)},[r]),O.useEffect(()=>()=>{window.clearTimeout(y.current),cancelAnimationFrame(b.current)},[]),{transitionDuration:f,transitionStatus:m,transitionTimingFunction:n||"ease"}}function Fh({keepMounted:e,transition:t="fade",duration:n=250,exitDuration:r=n,mounted:i,children:o,timingFunction:s="ease",onExit:a,onEntered:l,onEnter:u,onExited:c,enterDelay:d,exitDelay:h}){const f=tye(),{transitionDuration:p,transitionStatus:m,transitionTimingFunction:g}=D9e({mounted:i,exitDuration:r,duration:n,timingFunction:s,onExit:a,onEntered:l,onEnter:u,onExited:c,enterDelay:d,exitDelay:h});return p===0||f==="test"?i?k.jsx(k.Fragment,{children:o({})}):e?o({display:"none"}):null:m==="exited"?e?o({display:"none"}):null:k.jsx(k.Fragment,{children:o($9e({transition:t,duration:p,state:m,timingFunction:g}))})}Fh.displayName="@mantine/core/Transition";const[M9e,Yye]=Oo("Popover component was not found in the tree");function IA({children:e,active:t=!0,refProp:n="ref",innerRef:r}){const i=y6e(t),o=ho(i,r);return Lp(e)?O.cloneElement(e,{[n]:o}):e}function Kye(e){return k.jsx(lV,{tabIndex:-1,"data-autofocus":!0,...e})}IA.displayName="@mantine/core/FocusTrap";Kye.displayName="@mantine/core/FocusTrapInitialFocus";IA.InitialFocus=Kye;var Xye={dropdown:"m_38a85659",arrow:"m_a31dc6c1",overlay:"m_3d7bc908"};const P9e={},cV=We((e,t)=>{var g,y,v,b;const n=Ee("PopoverDropdown",P9e,e),{className:r,style:i,vars:o,children:s,onKeyDownCapture:a,variant:l,classNames:u,styles:c,...d}=n,h=Yye(),f=Y0e({opened:h.opened,shouldReturnFocus:h.returnFocus}),p=h.withRoles?{"aria-labelledby":h.getTargetId(),id:h.getDropdownId(),role:"dialog",tabIndex:-1}:{},m=ho(t,h.floating);return h.disabled?null:k.jsx(Zg,{...h.portalProps,withinPortal:h.withinPortal,children:k.jsx(Fh,{mounted:h.opened,...h.transitionProps,transition:((g=h.transitionProps)==null?void 0:g.transition)||"fade",duration:((y=h.transitionProps)==null?void 0:y.duration)??150,keepMounted:h.keepMounted,exitDuration:typeof((v=h.transitionProps)==null?void 0:v.exitDuration)=="number"?h.transitionProps.exitDuration:(b=h.transitionProps)==null?void 0:b.duration,children:_=>k.jsx(IA,{active:h.trapFocus&&h.opened,innerRef:m,children:k.jsxs(ge,{...p,...d,variant:l,onKeyDownCapture:i6e(()=>{var x,w;(x=h.onClose)==null||x.call(h),(w=h.onDismiss)==null||w.call(h)},{active:h.closeOnEscape,onTrigger:f,onKeyDown:a}),"data-position":h.placement,"data-fixed":h.floatingStrategy==="fixed"||void 0,...h.getStyles("dropdown",{className:r,props:n,classNames:u,styles:c,style:[{..._,zIndex:h.zIndex,top:h.y??0,left:h.x??0,width:h.width==="target"?void 0:_e(h.width)},h.resolvedStyles.dropdown,c==null?void 0:c.dropdown,i]}),children:[s,k.jsx(uV,{ref:h.arrowRef,arrowX:h.arrowX,arrowY:h.arrowY,visible:h.withArrow,position:h.placement,arrowSize:h.arrowSize,arrowRadius:h.arrowRadius,arrowOffset:h.arrowOffset,arrowPosition:h.arrowPosition,...h.getStyles("arrow",{props:n,classNames:u,styles:c})})]})})})})});cV.classes=Xye;cV.displayName="@mantine/core/PopoverDropdown";const N9e={refProp:"ref",popupType:"dialog"},Qye=We((e,t)=>{const{children:n,refProp:r,popupType:i,...o}=Ee("PopoverTarget",N9e,e);if(!Lp(n))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const s=o,a=Yye(),l=ho(a.reference,vP(n),t),u=a.withRoles?{"aria-haspopup":i,"aria-expanded":a.opened,"aria-controls":a.getDropdownId(),id:a.getTargetId()}:{};return O.cloneElement(n,{...s,...u,...a.targetProps,className:Li(a.targetProps.className,s.className,n.props.className),[r]:l,...a.controlled?null:{onClick:a.onToggle}})});Qye.displayName="@mantine/core/PopoverTarget";function Jye({opened:e,floating:t,position:n,positionDependencies:r}){const[i,o]=O.useState(0);O.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current&&e)return D8e(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference.current,t.refs.floating.current,e,i,n]),xh(()=>{t.update()},r),xh(()=>{o(s=>s+1)},[e])}function O9e(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function L9e(e,t){const n=O9e(e.middlewares),r=[Tye(e.offset)];return n.shift&&r.push(eV(typeof n.shift=="boolean"?{limiter:_ne(),padding:5}:{limiter:_ne(),padding:5,...n.shift})),n.flip&&r.push(typeof n.flip=="boolean"?h$():h$(n.flip)),n.inline&&r.push(typeof n.inline=="boolean"?XS():XS(n.inline)),r.push(Cye({element:e.arrowRef,padding:e.arrowOffset})),(n.size||e.width==="target")&&r.push(U8e({...typeof n.size=="boolean"?{}:n.size,apply({rects:i,availableWidth:o,availableHeight:s,...a}){var c;const u=((c=t().refs.floating.current)==null?void 0:c.style)??{};n.size&&(typeof n.size=="object"&&n.size.apply?n.size.apply({rects:i,availableWidth:o,availableHeight:s,...a}):Object.assign(u,{maxWidth:`${o}px`,maxHeight:`${s}px`})),e.width==="target"&&Object.assign(u,{width:`${i.reference.width}px`})}})),r}function F9e(e){const[t,n]=Mo({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),r=O.useRef(t),i=()=>{t&&n(!1)},o=()=>n(!t),s=iV({strategy:e.strategy,placement:e.position,middleware:L9e(e,()=>s)});return Jye({opened:t,position:e.position,positionDependencies:e.positionDependencies||[],floating:s}),xh(()=>{var a;(a=e.onPositionChange)==null||a.call(e,s.placement)},[s.placement]),xh(()=>{var a,l;t!==r.current&&(t?(l=e.onOpen)==null||l.call(e):(a=e.onClose)==null||a.call(e)),r.current=t},[t,e.onClose,e.onOpen]),{floating:s,controlled:typeof e.opened=="boolean",opened:t,onClose:i,onToggle:o}}const B9e={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,withOverlay:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:Tl("popover"),__staticSelector:"Popover",width:"max-content"},j9e=(e,{radius:t,shadow:n})=>({dropdown:{"--popover-radius":t===void 0?void 0:mr(t),"--popover-shadow":LH(n)}});function hs(e){var ut,ee,he,xe,Me,je;const t=Ee("Popover",B9e,e),{children:n,position:r,offset:i,onPositionChange:o,positionDependencies:s,opened:a,transitionProps:l,onExitTransitionEnd:u,onEnterTransitionEnd:c,width:d,middlewares:h,withArrow:f,arrowSize:p,arrowOffset:m,arrowRadius:g,arrowPosition:y,unstyled:v,classNames:b,styles:_,closeOnClickOutside:x,withinPortal:w,portalProps:E,closeOnEscape:S,clickOutsideEvents:T,trapFocus:C,onClose:D,onDismiss:$,onOpen:I,onChange:R,zIndex:A,radius:M,shadow:N,id:L,defaultOpened:z,__staticSelector:F,withRoles:j,disabled:W,returnFocus:B,variant:H,keepMounted:V,vars:G,floatingStrategy:ne,withOverlay:X,overlayProps:te,...se}=t,ve=kt({name:F,props:t,classes:Xye,classNames:b,styles:_,unstyled:v,rootSelector:"dropdown",vars:G,varsResolver:j9e}),{resolvedStyles:pe}=zv({classNames:b,styles:_,props:t}),Ge=O.useRef(null),[Ne,Ke]=O.useState(null),[Je,Ae]=O.useState(null),{dir:$e}=Jg(),Ze=Fa(L),lt=F9e({middlewares:h,width:d,position:Wye($e,r),offset:typeof i=="number"?i+(f?p/2:0):i,arrowRef:Ge,arrowOffset:m,onPositionChange:o,positionDependencies:s,opened:a,defaultOpened:z,onChange:R,onOpen:I,onClose:D,onDismiss:$,strategy:ne});l6e(()=>{x&&(lt.onClose(),$==null||$())},T,[Ne,Je]);const gt=O.useCallback(ft=>{Ke(ft),lt.floating.refs.setReference(ft)},[lt.floating.refs.setReference]),st=O.useCallback(ft=>{Ae(ft),lt.floating.refs.setFloating(ft)},[lt.floating.refs.setFloating]),ht=O.useCallback(()=>{var ft;(ft=l==null?void 0:l.onExited)==null||ft.call(l),u==null||u()},[l==null?void 0:l.onExited,u]),Oe=O.useCallback(()=>{var ft;(ft=l==null?void 0:l.onEntered)==null||ft.call(l),c==null||c()},[l==null?void 0:l.onEntered,c]);return k.jsxs(M9e,{value:{returnFocus:B,disabled:W,controlled:lt.controlled,reference:gt,floating:st,x:lt.floating.x,y:lt.floating.y,arrowX:(he=(ee=(ut=lt.floating)==null?void 0:ut.middlewareData)==null?void 0:ee.arrow)==null?void 0:he.x,arrowY:(je=(Me=(xe=lt.floating)==null?void 0:xe.middlewareData)==null?void 0:Me.arrow)==null?void 0:je.y,opened:lt.opened,arrowRef:Ge,transitionProps:{...l,onExited:ht,onEntered:Oe},width:d,withArrow:f,arrowSize:p,arrowOffset:m,arrowRadius:g,arrowPosition:y,placement:lt.floating.placement,trapFocus:C,withinPortal:w,portalProps:E,zIndex:A,radius:M,shadow:N,closeOnEscape:S,onDismiss:$,onClose:lt.onClose,onToggle:lt.onToggle,getTargetId:()=>`${Ze}-target`,getDropdownId:()=>`${Ze}-dropdown`,withRoles:j,targetProps:se,__staticSelector:F,classNames:b,styles:_,unstyled:v,variant:H,keepMounted:V,getStyles:ve,resolvedStyles:pe,floatingStrategy:ne},children:[n,X&&k.jsx(Fh,{transition:"fade",mounted:lt.opened,duration:(l==null?void 0:l.duration)||250,exitDuration:(l==null?void 0:l.exitDuration)||250,children:ft=>k.jsx(Zg,{withinPortal:w,children:k.jsx(Dw,{...te,...ve("overlay",{className:te==null?void 0:te.className,style:[ft,te==null?void 0:te.style]})})})})]})}hs.Target=Qye;hs.Dropdown=cV;hs.displayName="@mantine/core/Popover";hs.extend=e=>e;var Oc={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const Zye=O.forwardRef(({className:e,...t},n)=>k.jsxs(ge,{component:"span",className:Li(Oc.barsLoader,e),...t,ref:n,children:[k.jsx("span",{className:Oc.bar}),k.jsx("span",{className:Oc.bar}),k.jsx("span",{className:Oc.bar})]}));Zye.displayName="@mantine/core/Bars";const eve=O.forwardRef(({className:e,...t},n)=>k.jsxs(ge,{component:"span",className:Li(Oc.dotsLoader,e),...t,ref:n,children:[k.jsx("span",{className:Oc.dot}),k.jsx("span",{className:Oc.dot}),k.jsx("span",{className:Oc.dot})]}));eve.displayName="@mantine/core/Dots";const tve=O.forwardRef(({className:e,...t},n)=>k.jsx(ge,{component:"span",className:Li(Oc.ovalLoader,e),...t,ref:n}));tve.displayName="@mantine/core/Oval";const nve={bars:Zye,oval:tve,dots:eve},z9e={loaders:nve,type:"oval"},U9e=(e,{size:t,color:n})=>({root:{"--loader-size":pn(t,"loader-size"),"--loader-color":n?$r(n,e):void 0}}),Bh=We((e,t)=>{const n=Ee("Loader",z9e,e),{size:r,color:i,type:o,vars:s,className:a,style:l,classNames:u,styles:c,unstyled:d,loaders:h,variant:f,children:p,...m}=n,g=kt({name:"Loader",props:n,classes:Oc,className:a,style:l,classNames:u,styles:c,unstyled:d,vars:s,varsResolver:U9e});return p?k.jsx(ge,{...g("root"),ref:t,...m,children:p}):k.jsx(ge,{...g("root"),ref:t,component:h[o],variant:f,size:r,...m})});Bh.defaultLoaders=nve;Bh.classes=Oc;Bh.displayName="@mantine/core/Loader";var Bx={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21",groupSection:"m_437b6484"};const Mne={orientation:"horizontal"},H9e=(e,{borderWidth:t})=>({group:{"--ai-border-width":_e(t)}}),dV=We((e,t)=>{const n=Ee("ActionIconGroup",Mne,e),{className:r,style:i,classNames:o,styles:s,unstyled:a,orientation:l,vars:u,borderWidth:c,variant:d,mod:h,...f}=Ee("ActionIconGroup",Mne,e),p=kt({name:"ActionIconGroup",props:n,classes:Bx,className:r,style:i,classNames:o,styles:s,unstyled:a,vars:u,varsResolver:H9e,rootSelector:"group"});return k.jsx(ge,{...p("group"),ref:t,variant:d,mod:[{"data-orientation":l},h],role:"group",...f})});dV.classes=Bx;dV.displayName="@mantine/core/ActionIconGroup";const Pne={},V9e=(e,{radius:t,color:n,gradient:r,variant:i,autoContrast:o,size:s})=>{const a=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:i||"filled",autoContrast:o});return{groupSection:{"--section-height":pn(s,"section-height"),"--section-padding-x":pn(s,"section-padding-x"),"--section-fz":ds(s),"--section-radius":t===void 0?void 0:mr(t),"--section-bg":n||i?a.background:void 0,"--section-color":a.color,"--section-bd":n||i?a.border:void 0}}},hV=We((e,t)=>{const n=Ee("ActionIconGroupSection",Pne,e),{className:r,style:i,classNames:o,styles:s,unstyled:a,vars:l,variant:u,gradient:c,radius:d,autoContrast:h,...f}=Ee("ActionIconGroupSection",Pne,e),p=kt({name:"ActionIconGroupSection",props:n,classes:Bx,className:r,style:i,classNames:o,styles:s,unstyled:a,vars:l,varsResolver:V9e,rootSelector:"groupSection"});return k.jsx(ge,{...p("groupSection"),ref:t,variant:u,...f})});hV.classes=Bx;hV.displayName="@mantine/core/ActionIconGroupSection";const W9e={},q9e=(e,{size:t,radius:n,variant:r,gradient:i,color:o,autoContrast:s})=>{const a=e.variantColorResolver({color:o||e.primaryColor,theme:e,gradient:i,variant:r||"filled",autoContrast:s});return{root:{"--ai-size":pn(t,"ai-size"),"--ai-radius":n===void 0?void 0:mr(n),"--ai-bg":o||r?a.background:void 0,"--ai-hover":o||r?a.hover:void 0,"--ai-hover-color":o||r?a.hoverColor:void 0,"--ai-color":a.color,"--ai-bd":o||r?a.border:void 0}}},e0=Yi((e,t)=>{const n=Ee("ActionIcon",W9e,e),{className:r,unstyled:i,variant:o,classNames:s,styles:a,style:l,loading:u,loaderProps:c,size:d,color:h,radius:f,__staticSelector:p,gradient:m,vars:g,children:y,disabled:v,"data-disabled":b,autoContrast:_,mod:x,...w}=n,E=kt({name:["ActionIcon",p],props:n,className:r,style:l,classes:Bx,classNames:s,styles:a,unstyled:i,vars:g,varsResolver:q9e});return k.jsxs(eu,{...E("root",{active:!v&&!u&&!b}),...w,unstyled:i,variant:o,size:d,disabled:v||u,ref:t,mod:[{loading:u,disabled:v||b},x],children:[k.jsx(Fh,{mounted:!!u,transition:"slide-down",duration:150,children:S=>k.jsx(ge,{component:"span",...E("loader",{style:S}),"aria-hidden":!0,children:k.jsx(Bh,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...c})})}),k.jsx(ge,{component:"span",mod:{loading:u},...E("icon"),children:y})]})});e0.classes=Bx;e0.displayName="@mantine/core/ActionIcon";e0.Group=dV;e0.GroupSection=hV;const rve=O.forwardRef(({size:e="var(--cb-icon-size, 70%)",style:t,...n},r)=>k.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...t,width:e,height:e},ref:r,...n,children:k.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));rve.displayName="@mantine/core/CloseIcon";var ive={root:"m_86a44da5","root--subtle":"m_220c80f2"};const G9e={variant:"subtle"},Y9e=(e,{size:t,radius:n,iconSize:r})=>({root:{"--cb-size":pn(t,"cb-size"),"--cb-radius":n===void 0?void 0:mr(n),"--cb-icon-size":_e(r)}}),t0=Yi((e,t)=>{const n=Ee("CloseButton",G9e,e),{iconSize:r,children:i,vars:o,radius:s,className:a,classNames:l,style:u,styles:c,unstyled:d,"data-disabled":h,disabled:f,variant:p,icon:m,mod:g,__staticSelector:y,...v}=n,b=kt({name:y||"CloseButton",props:n,className:a,style:u,classes:ive,classNames:l,styles:c,unstyled:d,vars:o,varsResolver:Y9e});return k.jsxs(eu,{ref:t,...v,unstyled:d,variant:p,disabled:f,mod:[{disabled:f||h},g],...b("root",{variant:p,active:!f&&!h}),children:[m||k.jsx(rve,{}),i]})});t0.classes=ive;t0.displayName="@mantine/core/CloseButton";function K9e(e){return O.Children.toArray(e).filter(Boolean)}var ove={root:"m_4081bf90"};const X9e={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},Q9e=(e,{grow:t,preventGrowOverflow:n,gap:r,align:i,justify:o,wrap:s},{childWidth:a})=>({root:{"--group-child-width":t&&n?a:void 0,"--group-gap":ei(r),"--group-align":i,"--group-justify":o,"--group-wrap":s}}),Dr=We((e,t)=>{const n=Ee("Group",X9e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,children:l,gap:u,align:c,justify:d,wrap:h,grow:f,preventGrowOverflow:p,vars:m,variant:g,__size:y,mod:v,...b}=n,_=K9e(l),x=_.length,w=ei(u??"md"),S={childWidth:`calc(${100/x}% - (${w} - ${w} / ${x}))`},T=kt({name:"Group",props:n,stylesCtx:S,className:i,style:o,classes:ove,classNames:r,styles:s,unstyled:a,vars:m,varsResolver:Q9e});return k.jsx(ge,{...T("root"),ref:t,variant:g,mod:[{grow:f},v],size:y,...b,children:_})});Dr.classes=ove;Dr.displayName="@mantine/core/Group";const[J9e,Bp]=Oo("ModalBase component was not found in tree");function Z9e({opened:e,transitionDuration:t}){const[n,r]=O.useState(e),i=O.useRef(-1),s=yP()?0:t;return O.useEffect(()=>(e?(r(!0),window.clearTimeout(i.current)):s===0?r(!1):i.current=window.setTimeout(()=>r(!1),s),()=>window.clearTimeout(i.current)),[e,s]),n}function eje({id:e,transitionProps:t,opened:n,trapFocus:r,closeOnEscape:i,onClose:o,returnFocus:s}){const a=Fa(e),[l,u]=O.useState(!1),[c,d]=O.useState(!1),h=typeof(t==null?void 0:t.duration)=="number"?t==null?void 0:t.duration:200,f=Z9e({opened:n,transitionDuration:h});return J0e("keydown",p=>{var m;p.key==="Escape"&&i&&n&&((m=p.target)==null?void 0:m.getAttribute("data-mantine-stop-propagation"))!=="true"&&o()},{capture:!0}),Y0e({opened:n,shouldReturnFocus:r&&s}),{_id:a,titleMounted:l,bodyMounted:c,shouldLockScroll:f,setTitleMounted:u,setBodyMounted:d}}const sve=O.forwardRef(({keepMounted:e,opened:t,onClose:n,id:r,transitionProps:i,onExitTransitionEnd:o,onEnterTransitionEnd:s,trapFocus:a,closeOnEscape:l,returnFocus:u,closeOnClickOutside:c,withinPortal:d,portalProps:h,lockScroll:f,children:p,zIndex:m,shadow:g,padding:y,__vars:v,unstyled:b,removeScrollProps:_,...x},w)=>{const{_id:E,titleMounted:S,bodyMounted:T,shouldLockScroll:C,setTitleMounted:D,setBodyMounted:$}=eje({id:r,transitionProps:i,opened:t,trapFocus:a,closeOnEscape:l,onClose:n,returnFocus:u}),{key:I,...R}=_||{};return k.jsx(Zg,{...h,withinPortal:d,children:k.jsx(J9e,{value:{opened:t,onClose:n,closeOnClickOutside:c,onExitTransitionEnd:o,onEnterTransitionEnd:s,transitionProps:{...i,keepMounted:e},getTitleId:()=>`${E}-title`,getBodyId:()=>`${E}-body`,titleMounted:S,bodyMounted:T,setTitleMounted:D,setBodyMounted:$,trapFocus:a,closeOnEscape:l,zIndex:m,unstyled:b},children:k.jsx(Iw,{enabled:C&&f,...R,children:k.jsx(ge,{ref:w,...x,__vars:{...v,"--mb-z-index":(m||Tl("modal")).toString(),"--mb-shadow":LH(g),"--mb-padding":ei(y)},children:p})},I)})})});sve.displayName="@mantine/core/ModalBase";function tje(){const e=Bp();return O.useEffect(()=>(e.setBodyMounted(!0),()=>e.setBodyMounted(!1)),[]),e.getBodyId()}var Mw={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};const ave=O.forwardRef(({className:e,...t},n)=>{const r=tje(),i=Bp();return k.jsx(ge,{ref:n,...t,id:r,className:Li({[Mw.body]:!i.unstyled},e)})});ave.displayName="@mantine/core/ModalBaseBody";const lve=O.forwardRef(({className:e,onClick:t,...n},r)=>{const i=Bp();return k.jsx(t0,{ref:r,...n,onClick:o=>{i.onClose(),t==null||t(o)},className:Li({[Mw.close]:!i.unstyled},e),unstyled:i.unstyled})});lve.displayName="@mantine/core/ModalBaseCloseButton";const uve=O.forwardRef(({transitionProps:e,className:t,innerProps:n,onKeyDown:r,style:i,...o},s)=>{const a=Bp();return k.jsx(Fh,{mounted:a.opened,transition:"pop",...a.transitionProps,onExited:()=>{var l,u,c;(l=a.onExitTransitionEnd)==null||l.call(a),(c=(u=a.transitionProps)==null?void 0:u.onExited)==null||c.call(u)},onEntered:()=>{var l,u,c;(l=a.onEnterTransitionEnd)==null||l.call(a),(c=(u=a.transitionProps)==null?void 0:u.onEntered)==null||c.call(u)},...e,children:l=>k.jsx("div",{...n,className:Li({[Mw.inner]:!a.unstyled},n.className),children:k.jsx(IA,{active:a.opened&&a.trapFocus,innerRef:s,children:k.jsx(Fx,{...o,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":a.bodyMounted?a.getBodyId():void 0,"aria-labelledby":a.titleMounted?a.getTitleId():void 0,style:[i,l],className:Li({[Mw.content]:!a.unstyled},t),unstyled:a.unstyled,children:o.children})})})})});uve.displayName="@mantine/core/ModalBaseContent";const cve=O.forwardRef(({className:e,...t},n)=>{const r=Bp();return k.jsx(ge,{component:"header",ref:n,className:Li({[Mw.header]:!r.unstyled},e),...t})});cve.displayName="@mantine/core/ModalBaseHeader";const nje={duration:200,timingFunction:"ease",transition:"fade"};function rje(e){const t=Bp();return{...nje,...t.transitionProps,...e}}const dve=O.forwardRef(({onClick:e,transitionProps:t,style:n,visible:r,...i},o)=>{const s=Bp(),a=rje(t);return k.jsx(Fh,{mounted:r!==void 0?r:s.opened,...a,transition:"fade",children:l=>k.jsx(Dw,{ref:o,fixed:!0,style:[n,l],zIndex:s.zIndex,unstyled:s.unstyled,onClick:u=>{e==null||e(u),s.closeOnClickOutside&&s.onClose()},...i})})});dve.displayName="@mantine/core/ModalBaseOverlay";function ije(){const e=Bp();return O.useEffect(()=>(e.setTitleMounted(!0),()=>e.setTitleMounted(!1)),[]),e.getTitleId()}const hve=O.forwardRef(({className:e,...t},n)=>{const r=ije(),i=Bp();return k.jsx(ge,{component:"h2",ref:n,className:Li({[Mw.title]:!i.unstyled},e),...t,id:r})});hve.displayName="@mantine/core/ModalBaseTitle";function oje({children:e}){return k.jsx(k.Fragment,{children:e})}const[sje,aje]=Qg({size:"sm"}),lje={},fve=We((e,t)=>{const n=Ee("InputClearButton",lje,e),{size:r,variant:i,vars:o,classNames:s,styles:a,...l}=n,u=aje(),{resolvedClassNames:c,resolvedStyles:d}=zv({classNames:s,styles:a,props:n});return k.jsx(t0,{variant:i||"transparent",ref:t,size:r||(u==null?void 0:u.size)||"sm",classNames:c,styles:d,__staticSelector:"InputClearButton",...l})});fve.displayName="@mantine/core/InputClearButton";const[uje,jx]=Qg({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var Ju={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const Nne={},cje=(e,{size:t})=>({description:{"--input-description-size":t===void 0?void 0:`calc(${ds(t)} - ${_e(2)})`}}),kP=We((e,t)=>{const n=Ee("InputDescription",Nne,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,size:u,__staticSelector:c,__inheritStyles:d=!0,variant:h,...f}=Ee("InputDescription",Nne,n),p=jx(),m=kt({name:["InputWrapper",c],props:n,classes:Ju,className:i,style:o,classNames:r,styles:s,unstyled:a,rootSelector:"description",vars:l,varsResolver:cje}),g=d&&(p==null?void 0:p.getStyles)||m;return k.jsx(ge,{component:"p",ref:t,variant:h,size:u,...g("description",p!=null&&p.getStyles?{className:i,style:o}:void 0),...f})});kP.classes=Ju;kP.displayName="@mantine/core/InputDescription";const dje={},hje=(e,{size:t})=>({error:{"--input-error-size":t===void 0?void 0:`calc(${ds(t)} - ${_e(2)})`}}),IP=We((e,t)=>{const n=Ee("InputError",dje,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,size:u,__staticSelector:c,__inheritStyles:d=!0,variant:h,...f}=n,p=kt({name:["InputWrapper",c],props:n,classes:Ju,className:i,style:o,classNames:r,styles:s,unstyled:a,rootSelector:"error",vars:l,varsResolver:hje}),m=jx(),g=d&&(m==null?void 0:m.getStyles)||p;return k.jsx(ge,{component:"p",ref:t,variant:h,size:u,...g("error",m!=null&&m.getStyles?{className:i,style:o}:void 0),...f})});IP.classes=Ju;IP.displayName="@mantine/core/InputError";const One={labelElement:"label"},fje=(e,{size:t})=>({label:{"--input-label-size":ds(t),"--input-asterisk-color":void 0}}),RP=We((e,t)=>{const n=Ee("InputLabel",One,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,labelElement:u,size:c,required:d,htmlFor:h,onMouseDown:f,children:p,__staticSelector:m,variant:g,mod:y,...v}=Ee("InputLabel",One,n),b=kt({name:["InputWrapper",m],props:n,classes:Ju,className:i,style:o,classNames:r,styles:s,unstyled:a,rootSelector:"label",vars:l,varsResolver:fje}),_=jx(),x=(_==null?void 0:_.getStyles)||b;return k.jsxs(ge,{...x("label",_!=null&&_.getStyles?{className:i,style:o}:void 0),component:u,variant:g,size:c,ref:t,htmlFor:u==="label"?h:void 0,mod:[{required:d},y],onMouseDown:w=>{f==null||f(w),!w.defaultPrevented&&w.detail>1&&w.preventDefault()},...v,children:[p,d&&k.jsx("span",{...x("required"),"aria-hidden":!0,children:" *"})]})});RP.classes=Ju;RP.displayName="@mantine/core/InputLabel";const Lne={},fV=We((e,t)=>{const n=Ee("InputPlaceholder",Lne,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,__staticSelector:u,variant:c,error:d,mod:h,...f}=Ee("InputPlaceholder",Lne,n),p=kt({name:["InputPlaceholder",u],props:n,classes:Ju,className:i,style:o,classNames:r,styles:s,unstyled:a,rootSelector:"placeholder"});return k.jsx(ge,{...p("placeholder"),mod:[{error:!!d},h],component:"span",variant:c,ref:t,...f})});fV.classes=Ju;fV.displayName="@mantine/core/InputPlaceholder";function pje(e,{hasDescription:t,hasError:n}){const r=e.findIndex(l=>l==="input"),i=e.slice(0,r),o=e.slice(r+1),s=t&&i.includes("description")||n&&i.includes("error");return{offsetBottom:t&&o.includes("description")||n&&o.includes("error"),offsetTop:s}}const mje={labelElement:"label",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},gje=(e,{size:t})=>({label:{"--input-label-size":ds(t),"--input-asterisk-color":void 0},error:{"--input-error-size":t===void 0?void 0:`calc(${ds(t)} - ${_e(2)})`},description:{"--input-description-size":t===void 0?void 0:`calc(${ds(t)} - ${_e(2)})`}}),pV=We((e,t)=>{const n=Ee("InputWrapper",mje,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,size:u,variant:c,__staticSelector:d,inputContainer:h,inputWrapperOrder:f,label:p,error:m,description:g,labelProps:y,descriptionProps:v,errorProps:b,labelElement:_,children:x,withAsterisk:w,id:E,required:S,__stylesApiProps:T,mod:C,...D}=n,$=kt({name:["InputWrapper",d],props:T||n,classes:Ju,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:gje}),I={size:u,variant:c,__staticSelector:d},R=Fa(E),A=typeof w=="boolean"?w:S,M=(b==null?void 0:b.id)||`${R}-error`,N=(v==null?void 0:v.id)||`${R}-description`,L=R,z=!!m&&typeof m!="boolean",F=!!g,j=`${z?M:""} ${F?N:""}`,W=j.trim().length>0?j.trim():void 0,B=(y==null?void 0:y.id)||`${R}-label`,H=p&&k.jsx(RP,{labelElement:_,id:B,htmlFor:L,required:A,...I,...y,children:p},"label"),V=F&&k.jsx(kP,{...v,...I,size:(v==null?void 0:v.size)||I.size,id:(v==null?void 0:v.id)||N,children:g},"description"),G=k.jsx(O.Fragment,{children:h(x)},"input"),ne=z&&O.createElement(IP,{...b,...I,size:(b==null?void 0:b.size)||I.size,key:"error",id:(b==null?void 0:b.id)||M},m),X=f.map(te=>{switch(te){case"label":return H;case"input":return G;case"description":return V;case"error":return ne;default:return null}});return k.jsx(uje,{value:{getStyles:$,describedBy:W,inputId:L,labelId:B,...pje(f,{hasDescription:F,hasError:z})},children:k.jsx(ge,{ref:t,variant:c,size:u,mod:[{error:!!m},C],...$("root"),...D,children:X})})});pV.classes=Ju;pV.displayName="@mantine/core/InputWrapper";const yje={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},vje=(e,t,n)=>({wrapper:{"--input-margin-top":n.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":n.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":pn(t.size,"input-height"),"--input-fz":ds(t.size),"--input-radius":t.radius===void 0?void 0:mr(t.radius),"--input-left-section-width":t.leftSectionWidth!==void 0?_e(t.leftSectionWidth):void 0,"--input-right-section-width":t.rightSectionWidth!==void 0?_e(t.rightSectionWidth):void 0,"--input-padding-y":t.multiline?pn(t.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":t.leftSectionPointerEvents,"--input-right-section-pointer-events":t.rightSectionPointerEvents}}),Er=Yi((e,t)=>{const n=Ee("Input",yje,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,required:l,__staticSelector:u,__stylesApiProps:c,size:d,wrapperProps:h,error:f,disabled:p,leftSection:m,leftSectionProps:g,leftSectionWidth:y,rightSection:v,rightSectionProps:b,rightSectionWidth:_,rightSectionPointerEvents:x,leftSectionPointerEvents:w,variant:E,vars:S,pointer:T,multiline:C,radius:D,id:$,withAria:I,withErrorStyles:R,mod:A,inputSize:M,__clearSection:N,__clearable:L,__defaultRightSection:z,...F}=n,{styleProps:j,rest:W}=Hv(F),B=jx(),H={offsetBottom:B==null?void 0:B.offsetBottom,offsetTop:B==null?void 0:B.offsetTop},V=kt({name:["Input",u],props:c||n,classes:Ju,className:i,style:o,classNames:r,styles:s,unstyled:a,stylesCtx:H,rootSelector:"wrapper",vars:S,varsResolver:vje}),G=I?{required:l,disabled:p,"aria-invalid":!!f,"aria-describedby":B==null?void 0:B.describedBy,id:(B==null?void 0:B.inputId)||$}:{},ne=v||L&&N||z;return k.jsx(sje,{value:{size:d||"sm"},children:k.jsxs(ge,{...V("wrapper"),...j,...h,mod:[{error:!!f&&R,pointer:T,disabled:p,multiline:C,"data-with-right-section":!!ne,"data-with-left-section":!!m},A],variant:E,size:d,children:[m&&k.jsx("div",{...g,"data-position":"left",...V("section",{className:g==null?void 0:g.className,style:g==null?void 0:g.style}),children:m}),k.jsx(ge,{component:"input",...W,...G,ref:t,required:l,mod:{disabled:p,error:!!f&&R},variant:E,__size:M,...V("input")}),ne&&k.jsx("div",{...b,"data-position":"right",...V("section",{className:b==null?void 0:b.className,style:b==null?void 0:b.style}),children:ne})]})})});Er.classes=Ju;Er.Wrapper=pV;Er.Label=RP;Er.Error=IP;Er.Description=kP;Er.Placeholder=fV;Er.ClearButton=fve;Er.displayName="@mantine/core/Input";function bje(e,t,n){const r=Ee(e,t,n),{label:i,description:o,error:s,required:a,classNames:l,styles:u,className:c,unstyled:d,__staticSelector:h,__stylesApiProps:f,errorProps:p,labelProps:m,descriptionProps:g,wrapperProps:y,id:v,size:b,style:_,inputContainer:x,inputWrapperOrder:w,withAsterisk:E,variant:S,vars:T,mod:C,...D}=r,{styleProps:$,rest:I}=Hv(D),R={label:i,description:o,error:s,required:a,classNames:l,className:c,__staticSelector:h,__stylesApiProps:f||r,errorProps:p,labelProps:m,descriptionProps:g,unstyled:d,styles:u,size:b,style:_,inputContainer:x,inputWrapperOrder:w,withAsterisk:E,variant:S,id:v,mod:C,...y};return{...I,classNames:l,styles:u,unstyled:d,wrapperProps:{...R,...$},inputProps:{required:a,classNames:l,styles:u,unstyled:d,size:b,__staticSelector:h,__stylesApiProps:f||r,error:s,variant:S,id:v}}}const wje={__staticSelector:"InputBase",withAria:!0},Zu=Yi((e,t)=>{const{inputProps:n,wrapperProps:r,...i}=bje("InputBase",wje,e);return k.jsx(Er.Wrapper,{...r,children:k.jsx(Er,{...n,...i,ref:t})})});Zu.classes={...Er.classes,...Er.Wrapper.classes};Zu.displayName="@mantine/core/InputBase";const xje={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"identity",property:"alignItems"},justify:{type:"identity",property:"justifyContent"},wrap:{type:"identity",property:"flexWrap"},direction:{type:"identity",property:"flexDirection"}};var pve={root:"m_8bffd616"};const _je={},Rt=Yi((e,t)=>{const n=Ee("Flex",_je,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,gap:u,rowGap:c,columnGap:d,align:h,justify:f,wrap:p,direction:m,...g}=n,y=kt({name:"Flex",classes:pve,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l}),v=Gi(),b=AA(),_=aye({styleProps:{gap:u,rowGap:c,columnGap:d,align:h,justify:f,wrap:p,direction:m},theme:v,data:xje});return k.jsxs(k.Fragment,{children:[_.hasResponsiveStyles&&k.jsx(Uv,{selector:`.${b}`,styles:_.styles,media:_.media}),k.jsx(ge,{ref:t,...y("root",{className:b,style:Xg(_.inlineStyles)}),...g})]})});Rt.classes=pve;Rt.displayName="@mantine/core/Flex";const[Eje,mV]=Oo("Accordion component was not found in the tree");function $P({style:e,size:t=16,...n}){return k.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:_e(t),height:_e(t),display:"block"},...n,children:k.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}$P.displayName="@mantine/core/AccordionChevron";const[Sje,mve]=Oo("Accordion.Item component was not found in the tree");var RA={root:"m_9bdbb667",panel:"m_df78851f",content:"m_4ba554d4",itemTitle:"m_8fa820a0",control:"m_4ba585b8","control--default":"m_6939a5e9","control--contained":"m_4271d21b",label:"m_df3ffa0f",chevron:"m_3f35ae96",icon:"m_9bd771fe",item:"m_9bd7b098","item--default":"m_fe19b709","item--contained":"m_1f921b3b","item--filled":"m_2cdf939a","item--separated":"m_9f59b069"};const Tje={},gV=We((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,chevron:a,icon:l,onClick:u,onKeyDown:c,children:d,disabled:h,mod:f,...p}=Ee("AccordionControl",Tje,e),{value:m}=mve(),g=mV(),y=g.isItemActive(m),v=typeof g.order=="number",b=`h${g.order}`,_=k.jsxs(eu,{...p,...g.getStyles("control",{className:r,classNames:n,style:i,styles:o,variant:g.variant}),unstyled:g.unstyled,mod:["accordion-control",{active:y,"chevron-position":g.chevronPosition,disabled:h},f],ref:t,onClick:x=>{u==null||u(x),g.onChange(m)},type:"button",disabled:h,"aria-expanded":y,"aria-controls":g.getRegionId(m),id:g.getControlId(m),onKeyDown:OH({siblingSelector:"[data-accordion-control]",parentSelector:"[data-accordion]",activateOnFocus:!1,loop:g.loop,orientation:"vertical",onKeyDown:c}),children:[k.jsx(ge,{component:"span",mod:{rotate:!g.disableChevronRotation&&y,position:g.chevronPosition},...g.getStyles("chevron",{classNames:n,styles:o}),children:a||g.chevron}),k.jsx("span",{...g.getStyles("label",{classNames:n,styles:o}),children:d}),l&&k.jsx(ge,{component:"span",mod:{"chevron-position":g.chevronPosition},...g.getStyles("icon",{classNames:n,styles:o}),children:l})]});return v?k.jsx(b,{...g.getStyles("itemTitle",{classNames:n,styles:o}),children:_}):_});gV.displayName="@mantine/core/AccordionControl";gV.classes=RA;const Cje={},yV=We((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,value:a,mod:l,...u}=Ee("AccordionItem",Cje,e),c=mV();return k.jsx(Sje,{value:{value:a},children:k.jsx(ge,{ref:t,mod:[{active:c.isItemActive(a)},l],...c.getStyles("item",{className:r,classNames:n,styles:o,style:i,variant:c.variant}),...u})})});yV.displayName="@mantine/core/AccordionItem";yV.classes=RA;const Aje={},vV=We((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,children:a,...l}=Ee("AccordionPanel",Aje,e),{value:u}=mve(),c=mV();return k.jsx(xP,{ref:t,...c.getStyles("panel",{className:r,classNames:n,style:i,styles:o}),...l,in:c.isItemActive(u),transitionDuration:c.transitionDuration??200,role:"region",id:c.getRegionId(u),"aria-labelledby":c.getControlId(u),children:k.jsx("div",{...c.getStyles("content",{classNames:n,styles:o}),children:a})})});vV.displayName="@mantine/core/AccordionPanel";vV.classes=RA;const kje={multiple:!1,disableChevronRotation:!1,chevronPosition:"right",variant:"default",chevron:k.jsx($P,{})},Ije=(e,{transitionDuration:t,chevronSize:n,radius:r})=>({root:{"--accordion-transition-duration":t===void 0?void 0:`${t}ms`,"--accordion-chevron-size":n===void 0?void 0:_e(n),"--accordion-radius":r===void 0?void 0:mr(r)}});function Hs(e){const t=Ee("Accordion",kje,e),{classNames:n,className:r,style:i,styles:o,unstyled:s,vars:a,children:l,multiple:u,value:c,defaultValue:d,onChange:h,id:f,loop:p,transitionDuration:m,disableChevronRotation:g,chevronPosition:y,chevronSize:v,order:b,chevron:_,variant:x,radius:w,...E}=t,S=Fa(f),[T,C]=Mo({value:c,defaultValue:d,finalValue:u?[]:null,onChange:h}),D=R=>Array.isArray(T)?T.includes(R):R===T,$=R=>{const A=Array.isArray(T)?T.includes(R)?T.filter(M=>M!==R):[...T,R]:R===T?null:R;C(A)},I=kt({name:"Accordion",classes:RA,props:t,className:r,style:i,classNames:n,styles:o,unstyled:s,vars:a,varsResolver:Ije});return k.jsx(Eje,{value:{isItemActive:D,onChange:$,getControlId:i$(`${S}-control`,"Accordion.Item component was rendered with invalid value or without value"),getRegionId:i$(`${S}-panel`,"Accordion.Item component was rendered with invalid value or without value"),transitionDuration:m,disableChevronRotation:g,chevronPosition:y,order:b,chevron:_,loop:p,getStyles:I,variant:x,unstyled:s},children:k.jsx(ge,{...I("root"),id:S,...E,variant:x,"data-accordion":!0,children:l})})}const Rje=e=>e;Hs.extend=Rje;Hs.withProps=hye(Hs);Hs.classes=RA;Hs.displayName="@mantine/core/Accordion";Hs.Item=yV;Hs.Panel=vV;Hs.Control=gV;Hs.Chevron=$P;var gve={root:"m_7f854edf"};const $je={position:{bottom:0,right:0},zIndex:Tl("modal"),withinPortal:!0},Dje=(e,{zIndex:t,position:n})=>({root:{"--affix-z-index":t==null?void 0:t.toString(),"--affix-top":ei(n==null?void 0:n.top),"--affix-left":ei(n==null?void 0:n.left),"--affix-bottom":ei(n==null?void 0:n.bottom),"--affix-right":ei(n==null?void 0:n.right)}}),bV=We((e,t)=>{const n=Ee("Affix",$je,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,portalProps:u,zIndex:c,withinPortal:d,position:h,...f}=n,p=kt({name:"Affix",classes:gve,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:Dje});return k.jsx(Zg,{...u,withinPortal:d,children:k.jsx(ge,{ref:t,...p("root"),...f})})});bV.classes=gve;bV.displayName="@mantine/core/Affix";var yve={root:"m_66836ed3",wrapper:"m_a5d60502",body:"m_667c2793",title:"m_6a03f287",label:"m_698f4f23",icon:"m_667f2a6a",message:"m_7fa78076",closeButton:"m_87f54839"};const Mje={},Pje=(e,{radius:t,color:n,variant:r,autoContrast:i})=>{const o=e.variantColorResolver({color:n||e.primaryColor,theme:e,variant:r||"light",autoContrast:i});return{root:{"--alert-radius":t===void 0?void 0:mr(t),"--alert-bg":n||r?o.background:void 0,"--alert-color":o.color,"--alert-bd":n||r?o.border:void 0}}},Kf=We((e,t)=>{const n=Ee("Alert",Mje,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,radius:u,color:c,title:d,children:h,id:f,icon:p,withCloseButton:m,onClose:g,closeButtonLabel:y,variant:v,autoContrast:b,..._}=n,x=kt({name:"Alert",classes:yve,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:Pje}),w=Fa(f),E=d&&`${w}-title`||void 0,S=`${w}-body`;return k.jsx(ge,{id:w,...x("root",{variant:v}),variant:v,ref:t,..._,role:"alert","aria-describedby":S,"aria-labelledby":E,children:k.jsxs("div",{...x("wrapper"),children:[p&&k.jsx("div",{...x("icon"),children:p}),k.jsxs("div",{...x("body"),children:[d&&k.jsx("div",{...x("title"),"data-with-close-button":m||void 0,children:k.jsx("span",{id:E,...x("label"),children:d})}),h&&k.jsx("div",{id:S,...x("message"),"data-variant":v,children:h})]}),m&&k.jsx(t0,{...x("closeButton"),onClick:g,variant:"transparent",size:16,iconSize:16,"aria-label":y,unstyled:a})]})})});Kf.classes=yve;Kf.displayName="@mantine/core/Alert";var vve={root:"m_b6d8b162"};function Nje(e){if(e==="start")return"start";if(e==="end"||e)return"end"}const Oje={inherit:!1},Lje=(e,{variant:t,lineClamp:n,gradient:r,size:i,color:o})=>({root:{"--text-fz":ds(i),"--text-lh":q0e(i),"--text-gradient":t==="gradient"?o9(r,e):void 0,"--text-line-clamp":typeof n=="number"?n.toString():void 0,"--text-color":o?$r(o,e):void 0}}),Fe=Yi((e,t)=>{const n=Ee("Text",Oje,e),{lineClamp:r,truncate:i,inline:o,inherit:s,gradient:a,span:l,__staticSelector:u,vars:c,className:d,style:h,classNames:f,styles:p,unstyled:m,variant:g,mod:y,size:v,...b}=n,_=kt({name:["Text",u],props:n,classes:vve,className:d,style:h,classNames:f,styles:p,unstyled:m,vars:c,varsResolver:Lje});return k.jsx(ge,{..._("root",{focusable:!0}),ref:t,component:l?"span":"p",variant:g,mod:[{"data-truncate":Nje(i),"data-line-clamp":typeof r=="number","data-inline":o,"data-inherit":s},y],size:v,...b})});Fe.classes=vve;Fe.displayName="@mantine/core/Text";var bve={root:"m_849cf0da"};const Fje={underline:"hover"},Vv=Yi((e,t)=>{const{underline:n,className:r,unstyled:i,mod:o,...s}=Ee("Anchor",Fje,e);return k.jsx(Fe,{component:"a",ref:t,className:Li({[bve.root]:!i},r),...s,mod:[{underline:n},o],__staticSelector:"Anchor",unstyled:i})});Vv.classes=bve;Vv.displayName="@mantine/core/Anchor";const[Bje,zx]=Oo("AppShell was not found in tree");var n0={root:"m_89ab340",navbar:"m_45252eee",aside:"m_9cdde9a",header:"m_3b16f56b",main:"m_8983817",footer:"m_3840c879",section:"m_6dcfc7c7"};const jje={},wV=We((e,t)=>{const n=Ee("AppShellAside",jje,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,withBorder:u,zIndex:c,mod:d,...h}=n,f=zx();return f.disabled?null:k.jsx(ge,{component:"aside",ref:t,mod:[{"with-border":u??f.withBorder},d],...f.getStyles("aside",{className:i,classNames:r,styles:s,style:o}),...h,__vars:{"--app-shell-aside-z-index":`calc(${c??f.zIndex} + 1)`}})});wV.classes=n0;wV.displayName="@mantine/core/AppShellAside";const zje={},xV=We((e,t)=>{var p;const n=Ee("AppShellFooter",zje,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,withBorder:u,zIndex:c,mod:d,...h}=n,f=zx();return f.disabled?null:k.jsx(ge,{component:"footer",ref:t,mod:[{"with-border":u??f.withBorder},d],...f.getStyles("footer",{className:Li({[Iw.classNames.zeroRight]:f.offsetScrollbars},i),classNames:r,styles:s,style:o}),...h,__vars:{"--app-shell-footer-z-index":(p=c??f.zIndex)==null?void 0:p.toString()}})});xV.classes=n0;xV.displayName="@mantine/core/AppShellFooter";const Uje={},_V=We((e,t)=>{var p;const n=Ee("AppShellHeader",Uje,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,withBorder:u,zIndex:c,mod:d,...h}=n,f=zx();return f.disabled?null:k.jsx(ge,{component:"header",ref:t,mod:[{"with-border":u??f.withBorder},d],...f.getStyles("header",{className:Li({[Iw.classNames.zeroRight]:f.offsetScrollbars},i),classNames:r,styles:s,style:o}),...h,__vars:{"--app-shell-header-z-index":(p=c??f.zIndex)==null?void 0:p.toString()}})});_V.classes=n0;_V.displayName="@mantine/core/AppShellHeader";const Hje={},EV=We((e,t)=>{const n=Ee("AppShellMain",Hje,e),{classNames:r,className:i,style:o,styles:s,vars:a,...l}=n,u=zx();return k.jsx(ge,{component:"main",ref:t,...u.getStyles("main",{className:i,style:o,classNames:r,styles:s}),...l})});EV.classes=n0;EV.displayName="@mantine/core/AppShellMain";function $A(e){return typeof e=="object"?e.base:e}function DA(e){const t=typeof e=="object"&&e!==null&&typeof e.base<"u"&&Object.keys(e).length===1;return typeof e=="number"||typeof e=="string"||t}function MA(e){return!(typeof e!="object"||e===null||Object.keys(e).length===1&&"base"in e)}function Vje({baseStyles:e,minMediaStyles:t,maxMediaStyles:n,aside:r,theme:i}){var l,u,c;const o=r==null?void 0:r.width,s="translateX(var(--app-shell-aside-width))",a="translateX(calc(var(--app-shell-aside-width) * -1))";if(r!=null&&r.breakpoint&&!((l=r==null?void 0:r.collapsed)!=null&&l.mobile)&&(n[r==null?void 0:r.breakpoint]=n[r==null?void 0:r.breakpoint]||{},n[r==null?void 0:r.breakpoint]["--app-shell-aside-width"]="100%",n[r==null?void 0:r.breakpoint]["--app-shell-aside-offset"]="0px"),DA(o)){const d=_e($A(o));e["--app-shell-aside-width"]=d,e["--app-shell-aside-offset"]=d}if(MA(o)&&(typeof o.base<"u"&&(e["--app-shell-aside-width"]=_e(o.base),e["--app-shell-aside-offset"]=_e(o.base)),Rr(o).forEach(d=>{d!=="base"&&(t[d]=t[d]||{},t[d]["--app-shell-aside-width"]=_e(o[d]),t[d]["--app-shell-aside-offset"]=_e(o[d]))})),(u=r==null?void 0:r.collapsed)!=null&&u.desktop){const d=r.breakpoint;t[d]=t[d]||{},t[d]["--app-shell-aside-transform"]=s,t[d]["--app-shell-aside-transform-rtl"]=a,t[d]["--app-shell-aside-offset"]="0px !important"}if((c=r==null?void 0:r.collapsed)!=null&&c.mobile){const d=FH(r.breakpoint,i.breakpoints)-.1;n[d]=n[d]||{},n[d]["--app-shell-aside-width"]="100%",n[d]["--app-shell-aside-offset"]="0px",n[d]["--app-shell-aside-transform"]=s,n[d]["--app-shell-aside-transform-rtl"]=a}}function Wje({baseStyles:e,minMediaStyles:t,footer:n}){const r=n==null?void 0:n.height,i="translateY(var(--app-shell-footer-height))",o=(n==null?void 0:n.offset)??!0;if(DA(r)){const s=_e($A(r));e["--app-shell-footer-height"]=s,o&&(e["--app-shell-footer-offset"]=s)}MA(r)&&(typeof r.base<"u"&&(e["--app-shell-footer-height"]=_e(r.base),o&&(e["--app-shell-footer-offset"]=_e(r.base))),Rr(r).forEach(s=>{s!=="base"&&(t[s]=t[s]||{},t[s]["--app-shell-footer-height"]=_e(r[s]),o&&(t[s]["--app-shell-footer-offset"]=_e(r[s])))})),n!=null&&n.collapsed&&(e["--app-shell-footer-transform"]=i,e["--app-shell-footer-offset"]="0px !important")}function qje({baseStyles:e,minMediaStyles:t,header:n}){const r=n==null?void 0:n.height,i="translateY(calc(var(--app-shell-header-height) * -1))",o=(n==null?void 0:n.offset)??!0;if(DA(r)){const s=_e($A(r));e["--app-shell-header-height"]=s,o&&(e["--app-shell-header-offset"]=s)}MA(r)&&(typeof r.base<"u"&&(e["--app-shell-header-height"]=_e(r.base),o&&(e["--app-shell-header-offset"]=_e(r.base))),Rr(r).forEach(s=>{s!=="base"&&(t[s]=t[s]||{},t[s]["--app-shell-header-height"]=_e(r[s]),o&&(t[s]["--app-shell-header-offset"]=_e(r[s])))})),n!=null&&n.collapsed&&(e["--app-shell-header-transform"]=i,e["--app-shell-header-offset"]="0px !important")}function Gje({baseStyles:e,minMediaStyles:t,maxMediaStyles:n,navbar:r,theme:i}){var l,u,c;const o=r==null?void 0:r.width,s="translateX(calc(var(--app-shell-navbar-width) * -1))",a="translateX(var(--app-shell-navbar-width))";if(r!=null&&r.breakpoint&&!((l=r==null?void 0:r.collapsed)!=null&&l.mobile)&&(n[r==null?void 0:r.breakpoint]=n[r==null?void 0:r.breakpoint]||{},n[r==null?void 0:r.breakpoint]["--app-shell-navbar-width"]="100%",n[r==null?void 0:r.breakpoint]["--app-shell-navbar-offset"]="0px"),DA(o)){const d=_e($A(o));e["--app-shell-navbar-width"]=d,e["--app-shell-navbar-offset"]=d}if(MA(o)&&(typeof o.base<"u"&&(e["--app-shell-navbar-width"]=_e(o.base),e["--app-shell-navbar-offset"]=_e(o.base)),Rr(o).forEach(d=>{d!=="base"&&(t[d]=t[d]||{},t[d]["--app-shell-navbar-width"]=_e(o[d]),t[d]["--app-shell-navbar-offset"]=_e(o[d]))})),(u=r==null?void 0:r.collapsed)!=null&&u.desktop){const d=r.breakpoint;t[d]=t[d]||{},t[d]["--app-shell-navbar-transform"]=s,t[d]["--app-shell-navbar-transform-rtl"]=a,t[d]["--app-shell-navbar-offset"]="0px !important"}if((c=r==null?void 0:r.collapsed)!=null&&c.mobile){const d=FH(r.breakpoint,i.breakpoints)-.1;n[d]=n[d]||{},n[d]["--app-shell-navbar-width"]="100%",n[d]["--app-shell-navbar-offset"]="0px",n[d]["--app-shell-navbar-transform"]=s,n[d]["--app-shell-navbar-transform-rtl"]=a}}function uF(e){return Number(e)===0?"0px":ei(e)}function Yje({padding:e,baseStyles:t,minMediaStyles:n}){DA(e)&&(t["--app-shell-padding"]=uF($A(e))),MA(e)&&(e.base&&(t["--app-shell-padding"]=uF(e.base)),Rr(e).forEach(r=>{r!=="base"&&(n[r]=n[r]||{},n[r]["--app-shell-padding"]=uF(e[r]))}))}function Kje({navbar:e,header:t,footer:n,aside:r,padding:i,theme:o}){const s={},a={},l={};Gje({baseStyles:l,minMediaStyles:s,maxMediaStyles:a,navbar:e,theme:o}),Vje({baseStyles:l,minMediaStyles:s,maxMediaStyles:a,aside:r,theme:o}),qje({baseStyles:l,minMediaStyles:s,header:t}),Wje({baseStyles:l,minMediaStyles:s,footer:n}),Yje({baseStyles:l,minMediaStyles:s,padding:i});const u=tC(Rr(s),o.breakpoints).map(h=>({query:`(min-width: ${r$(h.px)})`,styles:s[h.value]})),c=tC(Rr(a),o.breakpoints).map(h=>({query:`(max-width: ${r$(h.px)})`,styles:a[h.value]})),d=[...u,...c];return{baseStyles:l,media:d}}function Xje({navbar:e,header:t,aside:n,footer:r,padding:i}){const o=Gi(),s=Fp(),{media:a,baseStyles:l}=Kje({navbar:e,header:t,footer:r,aside:n,padding:i,theme:o});return k.jsx(Uv,{media:a,styles:l,selector:s.cssVariablesSelector})}const Qje={},SV=We((e,t)=>{const n=Ee("AppShellNavbar",Qje,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,withBorder:u,zIndex:c,mod:d,...h}=n,f=zx();return f.disabled?null:k.jsx(ge,{component:"nav",ref:t,mod:[{"with-border":u??f.withBorder},d],...f.getStyles("navbar",{className:i,classNames:r,styles:s,style:o}),...h,__vars:{"--app-shell-navbar-z-index":`calc(${c??f.zIndex} + 1)`}})});SV.classes=n0;SV.displayName="@mantine/core/AppShellNavbar";const Jje={},TV=Yi((e,t)=>{const n=Ee("AppShellSection",Jje,e),{classNames:r,className:i,style:o,styles:s,vars:a,grow:l,mod:u,...c}=n,d=zx();return k.jsx(ge,{ref:t,mod:[{grow:l},u],...d.getStyles("section",{className:i,style:o,classNames:r,styles:s}),...c})});TV.classes=n0;TV.displayName="@mantine/core/AppShellSection";function Zje({transitionDuration:e,disabled:t}){const[n,r]=O.useState(!0),i=O.useRef(-1),o=O.useRef(-1);return J0e("resize",()=>{r(!0),clearTimeout(i.current),i.current=window.setTimeout(()=>O.startTransition(()=>{r(!1)}),200)}),Bv(()=>{r(!0),clearTimeout(o.current),o.current=window.setTimeout(()=>O.startTransition(()=>{r(!1)}),e||0)},[t,e]),n}const e7e={withBorder:!0,padding:0,transitionDuration:200,transitionTimingFunction:"ease",zIndex:Tl("app")},t7e=(e,{transitionDuration:t,transitionTimingFunction:n})=>({root:{"--app-shell-transition-duration":`${t}ms`,"--app-shell-transition-timing-function":n}}),br=We((e,t)=>{const n=Ee("AppShell",e7e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,navbar:u,withBorder:c,padding:d,transitionDuration:h,transitionTimingFunction:f,header:p,zIndex:m,layout:g,disabled:y,aside:v,footer:b,offsetScrollbars:_=g!=="alt",mod:x,...w}=n,E=kt({name:"AppShell",classes:n0,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:t7e}),S=Zje({disabled:y,transitionDuration:h});return k.jsxs(Bje,{value:{getStyles:E,withBorder:c,zIndex:m,disabled:y,offsetScrollbars:_},children:[k.jsx(Xje,{navbar:u,header:p,aside:v,footer:b,padding:d}),k.jsx(ge,{ref:t,...E("root"),mod:[{resizing:S,layout:g,disabled:y},x],...w})]})});br.classes=n0;br.displayName="@mantine/core/AppShell";br.Navbar=SV;br.Header=_V;br.Main=EV;br.Aside=wV;br.Footer=xV;br.Section=TV;function wve(e){return typeof e=="string"?{value:e,label:e}:"value"in e&&!("label"in e)?{value:e.value,label:e.value,disabled:e.disabled}:typeof e=="number"?{value:e.toString(),label:e.toString()}:"group"in e?{group:e.group,items:e.items.map(t=>wve(t))}:e}function xve(e){return e?e.map(t=>wve(t)):[]}function CV(e){return e.reduce((t,n)=>"group"in n?{...t,...CV(n.items)}:(t[n.value]=n,t),{})}var vl={dropdown:"m_88b62a41",search:"m_985517d8",options:"m_b2821a6e",option:"m_92253aa5",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2"};const n7e={error:null},r7e=(e,{size:t,color:n})=>({chevron:{"--combobox-chevron-size":pn(t,"combobox-chevron-size"),"--combobox-chevron-color":n?$r(n,e):void 0}}),AV=We((e,t)=>{const n=Ee("ComboboxChevron",n7e,e),{size:r,error:i,style:o,className:s,classNames:a,styles:l,unstyled:u,vars:c,mod:d,...h}=n,f=kt({name:"ComboboxChevron",classes:vl,props:n,style:o,className:s,classNames:a,styles:l,unstyled:u,vars:c,varsResolver:r7e,rootSelector:"chevron"});return k.jsx(ge,{component:"svg",...h,...f("chevron"),size:r,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:i},d],ref:t,children:k.jsx("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});AV.classes=vl;AV.displayName="@mantine/core/ComboboxChevron";const[i7e,ec]=Oo("Combobox component was not found in tree"),_ve=O.forwardRef(({size:e,onMouseDown:t,onClick:n,onClear:r,...i},o)=>k.jsx(Er.ClearButton,{ref:o,tabIndex:-1,"aria-hidden":!0,...i,onMouseDown:s=>{s.preventDefault(),t==null||t(s)},onClick:s=>{r(),n==null||n(s)}}));_ve.displayName="@mantine/core/ComboboxClearButton";const o7e={},kV=We((e,t)=>{const{classNames:n,styles:r,className:i,style:o,hidden:s,...a}=Ee("ComboboxDropdown",o7e,e),l=ec();return k.jsx(hs.Dropdown,{...a,ref:t,role:"presentation","data-hidden":s||void 0,...l.getStyles("dropdown",{className:i,style:o,classNames:n,styles:r})})});kV.classes=vl;kV.displayName="@mantine/core/ComboboxDropdown";const s7e={refProp:"ref"},Eve=We((e,t)=>{const{children:n,refProp:r}=Ee("ComboboxDropdownTarget",s7e,e);if(ec(),!Lp(n))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return k.jsx(hs.Target,{ref:t,refProp:r,children:n})});Eve.displayName="@mantine/core/ComboboxDropdownTarget";const a7e={},IV=We((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...a}=Ee("ComboboxEmpty",a7e,e),l=ec();return k.jsx(ge,{ref:t,...l.getStyles("empty",{className:r,classNames:n,styles:o,style:i}),...a})});IV.classes=vl;IV.displayName="@mantine/core/ComboboxEmpty";function RV({onKeyDown:e,withKeyboardNavigation:t,withAriaAttributes:n,withExpandedAttribute:r,targetType:i,autoComplete:o}){const s=ec(),[a,l]=O.useState(null),u=d=>{if(e==null||e(d),!s.readOnly&&t){if(d.nativeEvent.isComposing)return;if(d.nativeEvent.code==="ArrowDown"&&(d.preventDefault(),s.store.dropdownOpened?l(s.store.selectNextOption()):(s.store.openDropdown("keyboard"),l(s.store.selectActiveOption()),s.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),d.nativeEvent.code==="ArrowUp"&&(d.preventDefault(),s.store.dropdownOpened?l(s.store.selectPreviousOption()):(s.store.openDropdown("keyboard"),l(s.store.selectActiveOption()),s.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),d.nativeEvent.code==="Enter"||d.nativeEvent.code==="NumpadEnter"){if(d.nativeEvent.keyCode===229)return;const h=s.store.getSelectedOptionIndex();s.store.dropdownOpened&&h!==-1?(d.preventDefault(),s.store.clickSelectedOption()):i==="button"&&(d.preventDefault(),s.store.openDropdown("keyboard"))}d.key==="Escape"&&s.store.closeDropdown("keyboard"),d.nativeEvent.code==="Space"&&i==="button"&&(d.preventDefault(),s.store.toggleDropdown("keyboard"))}};return{...n?{"aria-haspopup":"listbox","aria-expanded":r&&!!(s.store.listId&&s.store.dropdownOpened)||void 0,"aria-controls":s.store.dropdownOpened?s.store.listId:void 0,"aria-activedescendant":s.store.dropdownOpened&&a||void 0,autoComplete:o,"data-expanded":s.store.dropdownOpened||void 0,"data-mantine-stop-propagation":s.store.dropdownOpened||void 0}:{},onKeyDown:u}}const l7e={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},Sve=We((e,t)=>{const{children:n,refProp:r,withKeyboardNavigation:i,withAriaAttributes:o,withExpandedAttribute:s,targetType:a,autoComplete:l,...u}=Ee("ComboboxEventsTarget",l7e,e);if(!Lp(n))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const c=ec(),d=RV({targetType:a,withAriaAttributes:o,withKeyboardNavigation:i,withExpandedAttribute:s,onKeyDown:n.props.onKeyDown,autoComplete:l});return O.cloneElement(n,{...d,...u,[r]:ho(t,c.store.targetRef,vP(n))})});Sve.displayName="@mantine/core/ComboboxEventsTarget";const u7e={},$V=We((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...a}=Ee("ComboboxFooter",u7e,e),l=ec();return k.jsx(ge,{ref:t,...l.getStyles("footer",{className:r,classNames:n,style:i,styles:o}),...a,onMouseDown:u=>{u.preventDefault()}})});$V.classes=vl;$V.displayName="@mantine/core/ComboboxFooter";const c7e={},DV=We((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,children:a,label:l,...u}=Ee("ComboboxGroup",c7e,e),c=ec();return k.jsxs(ge,{ref:t,...c.getStyles("group",{className:r,classNames:n,style:i,styles:o}),...u,children:[l&&k.jsx("div",{...c.getStyles("groupLabel",{classNames:n,styles:o}),children:l}),a]})});DV.classes=vl;DV.displayName="@mantine/core/ComboboxGroup";const d7e={},MV=We((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...a}=Ee("ComboboxHeader",d7e,e),l=ec();return k.jsx(ge,{ref:t,...l.getStyles("header",{className:r,classNames:n,style:i,styles:o}),...a,onMouseDown:u=>{u.preventDefault()}})});MV.classes=vl;MV.displayName="@mantine/core/ComboboxHeader";function Tve({value:e,valuesDivider:t=",",...n}){return k.jsx("input",{type:"hidden",value:Array.isArray(e)?e.join(t):e||"",...n})}Tve.displayName="@mantine/core/ComboboxHiddenInput";const h7e={},PV=We((e,t)=>{const n=Ee("ComboboxOption",h7e,e),{classNames:r,className:i,style:o,styles:s,vars:a,onClick:l,id:u,active:c,onMouseDown:d,onMouseOver:h,disabled:f,selected:p,mod:m,...g}=n,y=ec(),v=O.useId(),b=u||v;return k.jsx(ge,{...y.getStyles("option",{className:i,classNames:r,styles:s,style:o}),...g,ref:t,id:b,mod:["combobox-option",{"combobox-active":c,"combobox-disabled":f,"combobox-selected":p},m],role:"option",onClick:_=>{var x;f?_.preventDefault():((x=y.onOptionSubmit)==null||x.call(y,n.value,n),l==null||l(_))},onMouseDown:_=>{_.preventDefault(),d==null||d(_)},onMouseOver:_=>{y.resetSelectionOnOptionHover&&y.store.resetSelectedOption(),h==null||h(_)}})});PV.classes=vl;PV.displayName="@mantine/core/ComboboxOption";const f7e={},NV=We((e,t)=>{const n=Ee("ComboboxOptions",f7e,e),{classNames:r,className:i,style:o,styles:s,id:a,onMouseDown:l,labelledBy:u,...c}=n,d=ec(),h=Fa(a);return O.useEffect(()=>{d.store.setListId(h)},[h]),k.jsx(ge,{ref:t,...d.getStyles("options",{className:i,style:o,classNames:r,styles:s}),...c,id:h,role:"listbox","aria-labelledby":u,onMouseDown:f=>{f.preventDefault(),l==null||l(f)}})});NV.classes=vl;NV.displayName="@mantine/core/ComboboxOptions";const p7e={withAriaAttributes:!0,withKeyboardNavigation:!0},OV=We((e,t)=>{const n=Ee("ComboboxSearch",p7e,e),{classNames:r,styles:i,unstyled:o,vars:s,withAriaAttributes:a,onKeyDown:l,withKeyboardNavigation:u,size:c,...d}=n,h=ec(),f=h.getStyles("search"),p=RV({targetType:"input",withAriaAttributes:a,withKeyboardNavigation:u,withExpandedAttribute:!1,onKeyDown:l,autoComplete:"off"});return k.jsx(Er,{ref:ho(t,h.store.searchRef),classNames:[{input:f.className},r],styles:[{input:f.style},i],size:c||h.size,...p,...d,__staticSelector:"Combobox"})});OV.classes=vl;OV.displayName="@mantine/core/ComboboxSearch";const m7e={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},Cve=We((e,t)=>{const{children:n,refProp:r,withKeyboardNavigation:i,withAriaAttributes:o,withExpandedAttribute:s,targetType:a,autoComplete:l,...u}=Ee("ComboboxTarget",m7e,e);if(!Lp(n))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const c=ec(),d=RV({targetType:a,withAriaAttributes:o,withKeyboardNavigation:i,withExpandedAttribute:s,onKeyDown:n.props.onKeyDown,autoComplete:l}),h=O.cloneElement(n,{...d,...u});return k.jsx(hs.Target,{ref:ho(t,c.store.targetRef),children:h})});Cve.displayName="@mantine/core/ComboboxTarget";function g7e(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r}return e}function y7e(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r}return e}function v7e(e){for(let t=0;t<e.length;t+=1)if(!e[t].hasAttribute("data-combobox-disabled"))return t;return-1}function LV({defaultOpened:e,opened:t,onOpenedChange:n,onDropdownClose:r,onDropdownOpen:i,loop:o=!0,scrollBehavior:s="instant"}={}){const[a,l]=Mo({value:t,defaultValue:e,finalValue:!1,onChange:n}),u=O.useRef(null),c=O.useRef(-1),d=O.useRef(null),h=O.useRef(null),f=O.useRef(-1),p=O.useRef(-1),m=O.useRef(-1),g=O.useCallback((M="unknown")=>{a||(l(!0),i==null||i(M))},[l,i,a]),y=O.useCallback((M="unknown")=>{a&&(l(!1),r==null||r(M))},[l,r,a]),v=O.useCallback((M="unknown")=>{a?y(M):g(M)},[y,g,a]),b=O.useCallback(()=>{const M=document.querySelector(`#${u.current} [data-combobox-selected]`);M==null||M.removeAttribute("data-combobox-selected"),M==null||M.removeAttribute("aria-selected")},[]),_=O.useCallback(M=>{const N=document.getElementById(u.current),L=N==null?void 0:N.querySelectorAll("[data-combobox-option]");if(!L)return null;const z=M>=L.length?0:M<0?L.length-1:M;return c.current=z,L!=null&&L[z]&&!L[z].hasAttribute("data-combobox-disabled")?(b(),L[z].setAttribute("data-combobox-selected","true"),L[z].setAttribute("aria-selected","true"),L[z].scrollIntoView({block:"nearest",behavior:s}),L[z].id):null},[s,b]),x=O.useCallback(()=>{const M=document.querySelector(`#${u.current} [data-combobox-active]`);if(M){const N=document.querySelectorAll(`#${u.current} [data-combobox-option]`),L=Array.from(N).findIndex(z=>z===M);return _(L)}return _(0)},[_]),w=O.useCallback(()=>_(y7e(c.current,document.querySelectorAll(`#${u.current} [data-combobox-option]`),o)),[_,o]),E=O.useCallback(()=>_(g7e(c.current,document.querySelectorAll(`#${u.current} [data-combobox-option]`),o)),[_,o]),S=O.useCallback(()=>_(v7e(document.querySelectorAll(`#${u.current} [data-combobox-option]`))),[_]),T=O.useCallback((M="selected",N)=>{m.current=window.setTimeout(()=>{var F;const L=document.querySelectorAll(`#${u.current} [data-combobox-option]`),z=Array.from(L).findIndex(j=>j.hasAttribute(`data-combobox-${M}`));c.current=z,N!=null&&N.scrollIntoView&&((F=L[z])==null||F.scrollIntoView({block:"nearest",behavior:s}))},0)},[]),C=O.useCallback(()=>{c.current=-1,b()},[b]),D=O.useCallback(()=>{const M=document.querySelectorAll(`#${u.current} [data-combobox-option]`),N=M==null?void 0:M[c.current];N==null||N.click()},[]),$=O.useCallback(M=>{u.current=M},[]),I=O.useCallback(()=>{f.current=window.setTimeout(()=>d.current.focus(),0)},[]),R=O.useCallback(()=>{p.current=window.setTimeout(()=>h.current.focus(),0)},[]),A=O.useCallback(()=>c.current,[]);return O.useEffect(()=>()=>{window.clearTimeout(f.current),window.clearTimeout(p.current),window.clearTimeout(m.current)},[]),{dropdownOpened:a,openDropdown:g,closeDropdown:y,toggleDropdown:v,selectedOptionIndex:c.current,getSelectedOptionIndex:A,selectOption:_,selectFirstOption:S,selectActiveOption:x,selectNextOption:w,selectPreviousOption:E,resetSelectedOption:C,updateSelectedOptionIndex:T,listId:u.current,setListId:$,clickSelectedOption:D,searchRef:d,focusSearchInput:I,targetRef:h,focusTarget:R}}const b7e={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0}},w7e=(e,{size:t,dropdownPadding:n})=>({options:{"--combobox-option-fz":ds(t),"--combobox-option-padding":pn(t,"combobox-option-padding")},dropdown:{"--combobox-padding":n===void 0?void 0:_e(n),"--combobox-option-fz":ds(t),"--combobox-option-padding":pn(t,"combobox-option-padding")}});function Bn(e){const t=Ee("Combobox",b7e,e),{classNames:n,styles:r,unstyled:i,children:o,store:s,vars:a,onOptionSubmit:l,onClose:u,size:c,dropdownPadding:d,resetSelectionOnOptionHover:h,__staticSelector:f,readOnly:p,...m}=t,g=LV(),y=s||g,v=kt({name:f||"Combobox",classes:vl,props:t,classNames:n,styles:r,unstyled:i,vars:a,varsResolver:w7e}),b=()=>{u==null||u(),y.closeDropdown()};return k.jsx(i7e,{value:{getStyles:v,store:y,onOptionSubmit:l,size:c,resetSelectionOnOptionHover:h,readOnly:p},children:k.jsx(hs,{opened:y.dropdownOpened,...m,onChange:_=>!_&&b(),withRoles:!1,unstyled:i,children:o})})}const x7e=e=>e;Bn.extend=x7e;Bn.classes=vl;Bn.displayName="@mantine/core/Combobox";Bn.Target=Cve;Bn.Dropdown=kV;Bn.Options=NV;Bn.Option=PV;Bn.Search=OV;Bn.Empty=IV;Bn.Chevron=AV;Bn.Footer=$V;Bn.Header=MV;Bn.EventsTarget=Sve;Bn.DropdownTarget=Eve;Bn.Group=DV;Bn.ClearButton=_ve;Bn.HiddenInput=Tve;var Ave={root:"m_5f75b09e",body:"m_5f6e695e",labelWrapper:"m_d3ea56bb",label:"m_8ee546b8",description:"m_328f68c0",error:"m_8e8a99cc"};const kve=Ave,DP=O.forwardRef(({__staticSelector:e,__stylesApiProps:t,className:n,classNames:r,styles:i,unstyled:o,children:s,label:a,description:l,id:u,disabled:c,error:d,size:h,labelPosition:f="left",bodyElement:p="div",labelElement:m="label",variant:g,style:y,vars:v,mod:b,..._},x)=>{const w=kt({name:e,props:t,className:n,style:y,classes:Ave,classNames:r,styles:i,unstyled:o});return k.jsx(ge,{...w("root"),ref:x,__vars:{"--label-fz":ds(h),"--label-lh":pn(h,"label-lh")},mod:[{"label-position":f},b],variant:g,size:h,..._,children:k.jsxs(ge,{component:p,htmlFor:p==="label"?u:void 0,...w("body"),children:[s,k.jsxs("div",{...w("labelWrapper"),"data-disabled":c||void 0,children:[a&&k.jsx(ge,{component:m,htmlFor:m==="label"?u:void 0,...w("label"),"data-disabled":c||void 0,children:a}),l&&k.jsx(Er.Description,{size:h,__inheritStyles:!1,...w("description"),children:l}),d&&typeof d!="boolean"&&k.jsx(Er.Error,{size:h,__inheritStyles:!1,...w("error"),children:d})]})]})})});DP.displayName="@mantine/core/InlineInput";const Ive=O.createContext(null),_7e=Ive.Provider,Rve=()=>O.useContext(Ive),[E7e,S7e]=Qg();var $ve={card:"m_26775b0a"};const T7e={withBorder:!0},C7e=(e,{radius:t})=>({card:{"--card-radius":mr(t)}}),FV=We((e,t)=>{const n=Ee("CheckboxCard",T7e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,checked:u,mod:c,withBorder:d,value:h,onClick:f,defaultChecked:p,onChange:m,...g}=n,y=kt({name:"CheckboxCard",classes:$ve,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:C7e,rootSelector:"card"}),v=Rve(),b=typeof u=="boolean"?u:v?v.value.includes(h||""):void 0,[_,x]=Mo({value:b,defaultValue:p,finalValue:!1,onChange:m});return k.jsx(E7e,{value:{checked:_},children:k.jsx(eu,{ref:t,mod:[{"with-border":d,checked:_},c],...y("card"),...g,role:"checkbox","aria-checked":_,onClick:w=>{f==null||f(w),v==null||v.onChange(h||""),x(!_)}})})});FV.displayName="@mantine/core/CheckboxCard";FV.classes=$ve;function BV({children:e,role:t}){const n=jx();return n?k.jsx("div",{role:t,"aria-labelledby":n.labelId,"aria-describedby":n.describedBy,children:e}):k.jsx(k.Fragment,{children:e})}const A7e={},jV=We((e,t)=>{const{value:n,defaultValue:r,onChange:i,size:o,wrapperProps:s,children:a,readOnly:l,...u}=Ee("CheckboxGroup",A7e,e),[c,d]=Mo({value:n,defaultValue:r,finalValue:[],onChange:i}),h=f=>{const p=typeof f=="string"?f:f.currentTarget.value;!l&&d(c.includes(p)?c.filter(m=>m!==p):[...c,p])};return k.jsx(_7e,{value:{value:c,onChange:h,size:o},children:k.jsx(Er.Wrapper,{size:o,ref:t,...s,...u,labelElement:"div",__staticSelector:"CheckboxGroup",children:k.jsx(BV,{role:"group",children:a})})})});jV.classes=Er.Wrapper.classes;jV.displayName="@mantine/core/CheckboxGroup";function Dve({size:e,style:t,...n}){const r=e!==void 0?{width:_e(e),height:_e(e),...t}:t;return k.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:r,"aria-hidden":!0,...n,children:k.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function Mve({indeterminate:e,...t}){return e?k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6","aria-hidden":!0,...t,children:k.jsx("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})}):k.jsx(Dve,{...t})}var Pve={indicator:"m_5e5256ee",icon:"m_1b1c543a","indicator--outline":"m_76e20374"};const k7e={icon:Mve},I7e=(e,{radius:t,color:n,size:r,iconColor:i,variant:o,autoContrast:s})=>{const a=Oh({color:n||e.primaryColor,theme:e}),l=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{indicator:{"--checkbox-size":pn(r,"checkbox-size"),"--checkbox-radius":t===void 0?void 0:mr(t),"--checkbox-color":o==="outline"?l:$r(n,e),"--checkbox-icon-color":i?$r(i,e):Nx(s,e)?jv({color:n,theme:e,autoContrast:s}):void 0}}},zV=We((e,t)=>{const n=Ee("CheckboxIndicator",k7e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,icon:u,indeterminate:c,radius:d,color:h,iconColor:f,autoContrast:p,checked:m,mod:g,variant:y,disabled:v,...b}=n,_=u,x=kt({name:"CheckboxIndicator",classes:Pve,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:I7e,rootSelector:"indicator"}),w=S7e(),E=typeof m=="boolean"||typeof c=="boolean"?m||c:(w==null?void 0:w.checked)||!1;return k.jsx(ge,{ref:t,...x("indicator",{variant:y}),variant:y,mod:[{checked:E,disabled:v},g],...b,children:k.jsx(_,{indeterminate:c,...x("icon")})})});zV.displayName="@mantine/core/CheckboxIndicator";zV.classes=Pve;var Nve={root:"m_bf2d988c",inner:"m_26062bec",input:"m_26063560",icon:"m_bf295423","input--outline":"m_215c4542"};const R7e={labelPosition:"right",icon:Mve},$7e=(e,{radius:t,color:n,size:r,iconColor:i,variant:o,autoContrast:s})=>{const a=Oh({color:n||e.primaryColor,theme:e}),l=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{root:{"--checkbox-size":pn(r,"checkbox-size"),"--checkbox-radius":t===void 0?void 0:mr(t),"--checkbox-color":o==="outline"?l:$r(n,e),"--checkbox-icon-color":i?$r(i,e):Nx(s,e)?jv({color:n,theme:e,autoContrast:s}):void 0}}},Ys=We((e,t)=>{const n=Ee("Checkbox",R7e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,color:u,label:c,id:d,size:h,radius:f,wrapperProps:p,checked:m,labelPosition:g,description:y,error:v,disabled:b,variant:_,indeterminate:x,icon:w,rootRef:E,iconColor:S,onChange:T,autoContrast:C,mod:D,...$}=n,I=Rve(),R=h||(I==null?void 0:I.size),A=w,M=kt({name:"Checkbox",props:n,classes:Nve,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:$7e}),{styleProps:N,rest:L}=Hv($),z=Fa(d),F=I?{checked:I.value.includes(L.value),onChange:B=>{I.onChange(B),T==null||T(B)}}:{},j=O.useRef(null),W=t||j;return O.useEffect(()=>{W&&"current"in W&&W.current&&(W.current.indeterminate=x||!1)},[x,W]),k.jsx(DP,{...M("root"),__staticSelector:"Checkbox",__stylesApiProps:n,id:z,size:R,labelPosition:g,label:c,description:y,error:v,disabled:b,classNames:r,styles:s,unstyled:a,"data-checked":F.checked||m||void 0,variant:_,ref:E,mod:D,...N,...p,children:k.jsxs(ge,{...M("inner"),mod:{"data-label-position":g},children:[k.jsx(ge,{component:"input",id:z,ref:W,checked:m,disabled:b,mod:{error:!!v,indeterminate:x},...M("input",{focusable:!0,variant:_}),onChange:T,...L,...F,type:"checkbox"}),k.jsx(A,{indeterminate:x,...M("icon")})]})})});Ys.classes={...Nve,...kve};Ys.displayName="@mantine/core/Checkbox";Ys.Group=jV;Ys.Indicator=zV;Ys.Card=FV;function Pw(e){return"group"in e}function Ove({options:e,search:t,limit:n}){const r=t.trim().toLowerCase(),i=[];for(let o=0;o<e.length;o+=1){const s=e[o];if(i.length===n)return i;Pw(s)&&i.push({group:s.group,items:Ove({options:s.items,search:t,limit:n-i.length})}),Pw(s)||s.label.toLowerCase().includes(r)&&i.push(s)}return i}function D7e(e){if(e.length===0)return!0;for(const t of e)if(!("group"in t)||t.items.length>0)return!1;return!0}function Lve(e,t=new Set){if(Array.isArray(e))for(const n of e)if(Pw(n))Lve(n.items,t);else{if(typeof n.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof n.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof n.value}`);if(t.has(n.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${n.value}" was provided more than once`);t.add(n.value)}}function M7e(e,t){return Array.isArray(e)?e.includes(t):e===t}function Fve({data:e,withCheckIcon:t,value:n,checkIconPosition:r,unstyled:i,renderOption:o}){if(!Pw(e)){const a=M7e(n,e.value),l=t&&a&&k.jsx(Dve,{className:vl.optionsDropdownCheckIcon}),u=k.jsxs(k.Fragment,{children:[r==="left"&&l,k.jsx("span",{children:e.label}),r==="right"&&l]});return k.jsx(Bn.Option,{value:e.value,disabled:e.disabled,className:Li({[vl.optionsDropdownOption]:!i}),"data-reverse":r==="right"||void 0,"data-checked":a||void 0,"aria-selected":a,active:a,children:typeof o=="function"?o({option:e,checked:a}):u})}const s=e.items.map(a=>k.jsx(Fve,{data:a,value:n,unstyled:i,withCheckIcon:t,checkIconPosition:r,renderOption:o},a.value));return k.jsx(Bn.Group,{label:e.group,children:s})}function Bve({data:e,hidden:t,hiddenWhenEmpty:n,filter:r,search:i,limit:o,maxDropdownHeight:s,withScrollArea:a=!0,filterOptions:l=!0,withCheckIcon:u=!1,value:c,checkIconPosition:d,nothingFoundMessage:h,unstyled:f,labelId:p,renderOption:m,scrollAreaProps:g,"aria-label":y}){Lve(e);const b=typeof i=="string"?(r||Ove)({options:e,search:l?i:"",limit:o??1/0}):e,_=D7e(b),x=b.map(w=>k.jsx(Fve,{data:w,withCheckIcon:u,value:c,checkIconPosition:d,unstyled:f,renderOption:m},Pw(w)?w.group:w.value));return k.jsx(Bn.Dropdown,{hidden:t||n&&_,"data-composed":!0,children:k.jsxs(Bn.Options,{labelledBy:p,"aria-label":y,children:[a?k.jsx(gp.Autosize,{mah:s??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",...g,children:x}):x,_&&h&&k.jsx(Bn.Empty,{children:h})]})})}var jve={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};const P7e={},N7e=(e,{radius:t,color:n,gradient:r,variant:i,size:o,autoContrast:s})=>{const a=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:i||"filled",autoContrast:s});return{root:{"--badge-height":pn(o,"badge-height"),"--badge-padding-x":pn(o,"badge-padding-x"),"--badge-fz":pn(o,"badge-fz"),"--badge-radius":t===void 0?void 0:mr(t),"--badge-bg":n||i?a.background:void 0,"--badge-color":n||i?a.color:void 0,"--badge-bd":n||i?a.border:void 0,"--badge-dot-color":i==="dot"?$r(n,e):void 0}}},qc=Yi((e,t)=>{const n=Ee("Badge",P7e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,radius:u,color:c,gradient:d,leftSection:h,rightSection:f,children:p,variant:m,fullWidth:g,autoContrast:y,circle:v,mod:b,..._}=n,x=kt({name:"Badge",props:n,classes:jve,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:N7e});return k.jsxs(ge,{variant:m,mod:[{block:g,circle:v,"with-right-section":!!f,"with-left-section":!!h},b],...x("root",{variant:m}),ref:t,..._,children:[h&&k.jsx("span",{...x("section"),"data-position":"left",children:h}),k.jsx("span",{...x("label"),children:p}),f&&k.jsx("span",{...x("section"),"data-position":"right",children:f})]})});qc.classes=jve;qc.displayName="@mantine/core/Badge";var Ux={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844",groupSection:"m_70be2a01"};const Fne={orientation:"horizontal"},O7e=(e,{borderWidth:t})=>({group:{"--button-border-width":_e(t)}}),UV=We((e,t)=>{const n=Ee("ButtonGroup",Fne,e),{className:r,style:i,classNames:o,styles:s,unstyled:a,orientation:l,vars:u,borderWidth:c,variant:d,mod:h,...f}=Ee("ButtonGroup",Fne,e),p=kt({name:"ButtonGroup",props:n,classes:Ux,className:r,style:i,classNames:o,styles:s,unstyled:a,vars:u,varsResolver:O7e,rootSelector:"group"});return k.jsx(ge,{...p("group"),ref:t,variant:d,mod:[{"data-orientation":l},h],role:"group",...f})});UV.classes=Ux;UV.displayName="@mantine/core/ButtonGroup";const Bne={},L7e=(e,{radius:t,color:n,gradient:r,variant:i,autoContrast:o,size:s})=>{const a=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:i||"filled",autoContrast:o});return{groupSection:{"--section-height":pn(s,"section-height"),"--section-padding-x":pn(s,"section-padding-x"),"--section-fz":s!=null&&s.includes("compact")?ds(s.replace("compact-","")):ds(s),"--section-radius":t===void 0?void 0:mr(t),"--section-bg":n||i?a.background:void 0,"--section-color":a.color,"--section-bd":n||i?a.border:void 0}}},HV=We((e,t)=>{const n=Ee("ButtonGroupSection",Bne,e),{className:r,style:i,classNames:o,styles:s,unstyled:a,vars:l,variant:u,gradient:c,radius:d,autoContrast:h,...f}=Ee("ButtonGroupSection",Bne,e),p=kt({name:"ButtonGroupSection",props:n,classes:Ux,className:r,style:i,classNames:o,styles:s,unstyled:a,vars:l,varsResolver:L7e,rootSelector:"groupSection"});return k.jsx(ge,{...p("groupSection"),ref:t,variant:u,...f})});HV.classes=Ux;HV.displayName="@mantine/core/ButtonGroupSection";const F7e={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${_e(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},B7e={},j7e=(e,{radius:t,color:n,gradient:r,variant:i,size:o,justify:s,autoContrast:a})=>{const l=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:i||"filled",autoContrast:a});return{root:{"--button-justify":s,"--button-height":pn(o,"button-height"),"--button-padding-x":pn(o,"button-padding-x"),"--button-fz":o!=null&&o.includes("compact")?ds(o.replace("compact-","")):ds(o),"--button-radius":t===void 0?void 0:mr(t),"--button-bg":n||i?l.background:void 0,"--button-hover":n||i?l.hover:void 0,"--button-color":l.color,"--button-bd":n||i?l.border:void 0,"--button-hover-color":n||i?l.hoverColor:void 0}}},Kt=Yi((e,t)=>{const n=Ee("Button",B7e,e),{style:r,vars:i,className:o,color:s,disabled:a,children:l,leftSection:u,rightSection:c,fullWidth:d,variant:h,radius:f,loading:p,loaderProps:m,gradient:g,classNames:y,styles:v,unstyled:b,"data-disabled":_,autoContrast:x,mod:w,...E}=n,S=kt({name:"Button",props:n,classes:Ux,className:o,style:r,classNames:y,styles:v,unstyled:b,vars:i,varsResolver:j7e}),T=!!u,C=!!c;return k.jsxs(eu,{ref:t,...S("root",{active:!a&&!p&&!_}),unstyled:b,variant:h,disabled:a||p,mod:[{disabled:a||_,loading:p,block:d,"with-left-section":T,"with-right-section":C},w],...E,children:[k.jsx(Fh,{mounted:!!p,transition:F7e,duration:150,children:D=>k.jsx(ge,{component:"span",...S("loader",{style:D}),"aria-hidden":!0,children:k.jsx(Bh,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...m})})}),k.jsxs("span",{...S("inner"),children:[u&&k.jsx(ge,{component:"span",...S("section"),mod:{position:"left"},children:u}),k.jsx(ge,{component:"span",mod:{loading:p},...S("label"),children:l}),c&&k.jsx(ge,{component:"span",...S("section"),mod:{position:"right"},children:c})]})]})});Kt.classes=Ux;Kt.displayName="@mantine/core/Button";Kt.Group=UV;Kt.GroupSection=HV;const[z7e,U7e]=Oo("Card component was not found in tree");var VV={root:"m_e615b15f",section:"m_599a2148"};const H7e={},MP=Yi((e,t)=>{const n=Ee("CardSection",H7e,e),{classNames:r,className:i,style:o,styles:s,vars:a,withBorder:l,inheritPadding:u,mod:c,...d}=n,h=U7e();return k.jsx(ge,{ref:t,mod:[{"with-border":l,"inherit-padding":u},c],...h.getStyles("section",{className:i,style:o,styles:s,classNames:r}),...d})});MP.classes=VV;MP.displayName="@mantine/core/CardSection";const V7e={},W7e=(e,{padding:t})=>({root:{"--card-padding":ei(t)}}),Hx=Yi((e,t)=>{const n=Ee("Card",V7e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,children:u,padding:c,...d}=n,h=kt({name:"Card",props:n,classes:VV,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:W7e}),f=O.Children.toArray(u),p=f.map((m,g)=>typeof m=="object"&&m&&"type"in m&&m.type===MP?O.cloneElement(m,{"data-first-section":g===0||void 0,"data-last-section":g===f.length-1||void 0}):m);return k.jsx(z7e,{value:{getStyles:h},children:k.jsx(Fx,{ref:t,unstyled:a,...h("root"),...d,children:p})})});Hx.classes=VV;Hx.displayName="@mantine/core/Card";Hx.Section=MP;var zve={root:"m_4451eb3a"};const q7e={},zu=Yi((e,t)=>{const n=Ee("Center",q7e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,inline:u,mod:c,...d}=n,h=kt({name:"Center",props:n,classes:zve,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l});return k.jsx(ge,{ref:t,mod:[{inline:u},c],...h("root"),...d})});zu.classes=zve;zu.displayName="@mantine/core/Center";var Uve={root:"m_b183c0a2"};const G7e={},Y7e=(e,{color:t})=>({root:{"--code-bg":t?$r(t,e):void 0}}),Of=We((e,t)=>{const n=Ee("Code",G7e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,color:u,block:c,variant:d,mod:h,...f}=n,p=kt({name:"Code",props:n,classes:Uve,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:Y7e});return k.jsx(ge,{component:c?"pre":"code",variant:d,ref:t,mod:[{block:c},h],...p("root"),...f,dir:"ltr"})});Of.classes=Uve;Of.displayName="@mantine/core/Code";var Hve={root:"m_de3d2490",colorOverlay:"m_862f3d1b",shadowOverlay:"m_98ae7f22",alphaOverlay:"m_95709ac0",childrenOverlay:"m_93e74e3"};const jne={withShadow:!0},K7e=(e,{radius:t,size:n})=>({root:{"--cs-radius":t===void 0?void 0:mr(t),"--cs-size":_e(n)}}),WV=Yi((e,t)=>{const n=Ee("ColorSwatch",jne,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,color:u,size:c,radius:d,withShadow:h,children:f,variant:p,...m}=Ee("ColorSwatch",jne,n),g=kt({name:"ColorSwatch",props:n,classes:Hve,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:K7e});return k.jsxs(ge,{ref:t,variant:p,size:c,...g("root",{focusable:!0}),...m,children:[k.jsx("span",{...g("alphaOverlay")}),h&&k.jsx("span",{...g("shadowOverlay")}),k.jsx("span",{...g("colorOverlay",{style:{backgroundColor:u}})}),k.jsx("span",{...g("childrenOverlay"),children:f})]})});WV.classes=Hve;WV.displayName="@mantine/core/ColorSwatch";var Vve={root:"m_7485cace"};const X7e={},Q7e=(e,{size:t,fluid:n})=>({root:{"--container-size":n?void 0:pn(t,"container-size")}}),yp=We((e,t)=>{const n=Ee("Container",X7e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,fluid:u,mod:c,...d}=n,h=kt({name:"Container",classes:Vve,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:Q7e});return k.jsx(ge,{ref:t,mod:[{fluid:u},c],...h("root"),...d})});yp.classes=Vve;yp.displayName="@mantine/core/Container";var Wve={root:"m_3eebeb36",label:"m_9e365f20"};const J7e={orientation:"horizontal"},Z7e=(e,{color:t,variant:n,size:r})=>({root:{"--divider-color":t?$r(t,e):void 0,"--divider-border-style":n,"--divider-size":pn(r,"divider-size")}}),r0=We((e,t)=>{const n=Ee("Divider",J7e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,color:u,orientation:c,label:d,labelPosition:h,mod:f,...p}=n,m=kt({name:"Divider",classes:Wve,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:Z7e});return k.jsx(ge,{ref:t,mod:[{orientation:c,"with-label":!!d},f],...m("root"),...p,role:"separator",children:d&&k.jsx(ge,{component:"span",mod:{position:h},...m("label"),children:d})})});r0.classes=Wve;r0.displayName="@mantine/core/Divider";function qve({open:e,close:t,openDelay:n,closeDelay:r}){const i=O.useRef(-1),o=O.useRef(-1),s=()=>{window.clearTimeout(i.current),window.clearTimeout(o.current)},a=()=>{s(),n===0||n===void 0?e():i.current=window.setTimeout(e,n)},l=()=>{s(),r===0||r===void 0?t():o.current=window.setTimeout(t,r)};return O.useEffect(()=>s,[]),{openDropdown:a,closeDropdown:l}}const[zne,Gve]=Oo("Grid component was not found in tree"),g9=(e,t)=>e==="content"?"auto":e==="auto"?"0rem":e?`${100/(t/e)}%`:void 0,Une=(e,t,n)=>n||e==="auto"?"100%":e==="content"?"unset":g9(e,t),Hne=(e,t)=>{if(e)return e==="auto"||t?"1":"auto"},Vne=(e,t)=>e===0?"0":e?`${100/(t/e)}%`:void 0;function eze({span:e,order:t,offset:n,selector:r}){var f;const i=Gi(),o=Gve(),s=o.breakpoints||i.breakpoints,l=Nc(e)===void 0?12:Nc(e),u=Xg({"--col-order":(f=Nc(t))==null?void 0:f.toString(),"--col-flex-grow":Hne(l,o.grow),"--col-flex-basis":g9(l,o.columns),"--col-width":l==="content"?"auto":void 0,"--col-max-width":Une(l,o.columns,o.grow),"--col-offset":Vne(Nc(n),o.columns)}),c=Rr(s).reduce((p,m)=>{var g;return p[m]||(p[m]={}),typeof t=="object"&&t[m]!==void 0&&(p[m]["--col-order"]=(g=t[m])==null?void 0:g.toString()),typeof e=="object"&&e[m]!==void 0&&(p[m]["--col-flex-grow"]=Hne(e[m],o.grow),p[m]["--col-flex-basis"]=g9(e[m],o.columns),p[m]["--col-width"]=e[m]==="content"?"auto":void 0,p[m]["--col-max-width"]=Une(e[m],o.columns,o.grow)),typeof n=="object"&&n[m]!==void 0&&(p[m]["--col-offset"]=Vne(n[m],o.columns)),p},{}),h=tC(Rr(c),s).filter(p=>Rr(c[p.value]).length>0).map(p=>({query:o.type==="container"?`mantine-grid (min-width: ${s[p.value]})`:`(min-width: ${s[p.value]})`,styles:c[p.value]}));return k.jsx(Uv,{styles:u,media:o.type==="container"?void 0:h,container:o.type==="container"?h:void 0,selector:r})}var qV={container:"m_8478a6da",root:"m_410352e9",inner:"m_dee7bd2f",col:"m_96bdd299"};const tze={span:12},GV=We((e,t)=>{const n=Ee("GridCol",tze,e),{classNames:r,className:i,style:o,styles:s,vars:a,span:l,order:u,offset:c,...d}=n,h=Gve(),f=AA();return k.jsxs(k.Fragment,{children:[k.jsx(eze,{selector:`.${f}`,span:l,order:u,offset:c}),k.jsx(ge,{ref:t,...h.getStyles("col",{className:Li(i,f),style:o,classNames:r,styles:s}),...d})]})});GV.classes=qV;GV.displayName="@mantine/core/GridCol";function Wne({gutter:e,selector:t,breakpoints:n,type:r}){const i=Gi(),o=n||i.breakpoints,s=Xg({"--grid-gutter":ei(Nc(e))}),a=Rr(o).reduce((c,d)=>(c[d]||(c[d]={}),typeof e=="object"&&e[d]!==void 0&&(c[d]["--grid-gutter"]=ei(e[d])),c),{}),u=tC(Rr(a),o).filter(c=>Rr(a[c.value]).length>0).map(c=>({query:r==="container"?`mantine-grid (min-width: ${o[c.value]})`:`(min-width: ${o[c.value]})`,styles:a[c.value]}));return k.jsx(Uv,{styles:s,media:r==="container"?void 0:u,container:r==="container"?u:void 0,selector:t})}const nze={gutter:"md",grow:!1,columns:12},rze=(e,{justify:t,align:n,overflow:r})=>({root:{"--grid-justify":t,"--grid-align":n,"--grid-overflow":r}}),Qd=We((e,t)=>{const n=Ee("Grid",nze,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,grow:u,gutter:c,columns:d,align:h,justify:f,children:p,breakpoints:m,type:g,...y}=n,v=kt({name:"Grid",classes:qV,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:rze}),b=AA();return g==="container"&&m?k.jsxs(zne,{value:{getStyles:v,grow:u,columns:d||12,breakpoints:m,type:g},children:[k.jsx(Wne,{selector:`.${b}`,...n}),k.jsx("div",{...v("container"),children:k.jsx(ge,{ref:t,...v("root",{className:b}),...y,children:k.jsx("div",{...v("inner"),children:p})})})]}):k.jsxs(zne,{value:{getStyles:v,grow:u,columns:d||12,breakpoints:m,type:g},children:[k.jsx(Wne,{selector:`.${b}`,...n}),k.jsx(ge,{ref:t,...v("root",{className:b}),...y,children:k.jsx("div",{...v("inner"),children:p})})]})});Qd.classes=qV;Qd.displayName="@mantine/core/Grid";Qd.Col=GV;const[ize,Yve]=Oo("HoverCard component was not found in the tree"),oze={};function Kve(e){const{children:t,onMouseEnter:n,onMouseLeave:r,...i}=Ee("HoverCardDropdown",oze,e),o=Yve(),s=ll(n,o.openDropdown),a=ll(r,o.closeDropdown);return k.jsx(hs.Dropdown,{onMouseEnter:s,onMouseLeave:a,...i,children:t})}Kve.displayName="@mantine/core/HoverCardDropdown";const sze={refProp:"ref"},Xve=O.forwardRef((e,t)=>{const{children:n,refProp:r,eventPropsWrapperName:i,...o}=Ee("HoverCardTarget",sze,e);if(!Lp(n))throw new Error("HoverCard.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const s=Yve(),a=ll(n.props.onMouseEnter,s.openDropdown),l=ll(n.props.onMouseLeave,s.closeDropdown),u={onMouseEnter:a,onMouseLeave:l};return k.jsx(hs.Target,{refProp:r,ref:t,...o,children:O.cloneElement(n,i?{[i]:u}:u)})});Xve.displayName="@mantine/core/HoverCardTarget";const aze={openDelay:0,closeDelay:150,initiallyOpened:!1};function Dy(e){const{children:t,onOpen:n,onClose:r,openDelay:i,closeDelay:o,initiallyOpened:s,...a}=Ee("HoverCard",aze,e),[l,{open:u,close:c}]=BH(s,{onClose:r,onOpen:n}),{openDropdown:d,closeDropdown:h}=qve({open:u,close:c,openDelay:i,closeDelay:o});return k.jsx(ize,{value:{openDropdown:d,closeDropdown:h},children:k.jsx(hs,{...a,opened:l,__staticSelector:"HoverCard",children:t})})}Dy.displayName="@mantine/core/HoverCard";Dy.Target=Xve;Dy.Dropdown=Kve;Dy.extend=e=>e;var Qve={root:"m_9e117634"};const lze={},uze=(e,{radius:t,fit:n})=>({root:{"--image-radius":t===void 0?void 0:mr(t),"--image-object-fit":n}}),i0=Yi((e,t)=>{const n=Ee("Image",lze,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,onError:u,src:c,radius:d,fit:h,fallbackSrc:f,mod:p,...m}=n,[g,y]=O.useState(!c);O.useEffect(()=>y(!c),[c]);const v=kt({name:"Image",classes:Qve,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:uze});return g&&f?k.jsx(ge,{component:"img",ref:t,src:f,...v("root"),onError:u,mod:["fallback",p],...m}):k.jsx(ge,{component:"img",ref:t,...v("root"),src:c,onError:b=>{u==null||u(b),y(!0)},mod:p,...m})});i0.classes=Qve;i0.displayName="@mantine/core/Image";function p$(){return p$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p$.apply(null,arguments)}function YV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var cze=O.useLayoutEffect,dze=function(t){var n=Nn.useRef(t);return cze(function(){n.current=t}),n},qne=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},hze=function(t,n){var r=Nn.useRef();return Nn.useCallback(function(i){t.current=i,r.current&&qne(r.current,null),r.current=n,n&&qne(n,i)},[n])},Gne={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},fze=function(t){Object.keys(Gne).forEach(function(n){t.style.setProperty(n,Gne[n],"important")})},Yne=fze,fa=null,Kne=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function pze(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),fa||(fa=document.createElement("textarea"),fa.setAttribute("tabindex","-1"),fa.setAttribute("aria-hidden","true"),Yne(fa)),fa.parentNode===null&&document.body.appendChild(fa);var i=e.paddingSize,o=e.borderSize,s=e.sizingStyle,a=s.boxSizing;Object.keys(s).forEach(function(h){var f=h;fa.style[f]=s[f]}),Yne(fa),fa.value=t;var l=Kne(fa,e);fa.value=t,l=Kne(fa,e),fa.value="x";var u=fa.scrollHeight-i,c=u*n;a==="border-box"&&(c=c+i+o),l=Math.max(c,l);var d=u*r;return a==="border-box"&&(d=d+i+o),l=Math.min(d,l),[l,u]}var Xne=function(){},mze=function(t,n){return t.reduce(function(r,i){return r[i]=n[i],r},{})},gze=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],yze=!!document.documentElement.currentStyle,vze=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=mze(gze,n),i=r.boxSizing;if(i==="")return null;yze&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var o=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),s=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:o,borderSize:s}},bze=vze;function Jve(e,t,n){var r=dze(n);O.useLayoutEffect(function(){var i=function(s){return r.current(s)};if(e)return e.addEventListener(t,i),function(){return e.removeEventListener(t,i)}},[])}var wze=function(t){Jve(window,"resize",t)},xze=function(t){Jve(document.fonts,"loadingdone",t)},_ze=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],Eze=function(t,n){var r=t.cacheMeasurements,i=t.maxRows,o=t.minRows,s=t.onChange,a=s===void 0?Xne:s,l=t.onHeightChange,u=l===void 0?Xne:l,c=YV(t,_ze),d=c.value!==void 0,h=O.useRef(null),f=hze(h,n),p=O.useRef(0),m=O.useRef(),g=function(){var b=h.current,_=r&&m.current?m.current:bze(b);if(_){m.current=_;var x=pze(_,b.value||b.placeholder||"x",o,i),w=x[0],E=x[1];p.current!==w&&(p.current=w,b.style.setProperty("height",w+"px","important"),u(w,{rowHeight:E}))}},y=function(b){d||g(),a(b)};return O.useLayoutEffect(g),wze(g),xze(g),O.createElement("textarea",p$({},c,{onChange:y,ref:f}))},Sze=O.forwardRef(Eze);const Tze={},KV=We((e,t)=>{const{autosize:n,maxRows:r,minRows:i,__staticSelector:o,resize:s,...a}=Ee("Textarea",Tze,e),l=n&&$6e()!=="test",u=l?{maxRows:r,minRows:i}:{};return k.jsx(Zu,{component:l?Sze:"textarea",ref:t,...a,__staticSelector:o||"Textarea",multiline:!0,"data-no-overflow":n&&r===void 0||void 0,__vars:{"--input-resize":s},...u})});KV.classes=Zu.classes;KV.displayName="@mantine/core/Textarea";const[Cze,Aze]=Oo("List component was not found in tree");var XV={root:"m_abbac491",item:"m_abb6bec2",itemWrapper:"m_75cd9f71",itemIcon:"m_60f83e5b"};const kze={},QV=We((e,t)=>{const n=Ee("ListItem",kze,e),{classNames:r,className:i,style:o,styles:s,vars:a,icon:l,children:u,mod:c,...d}=n,h=Aze(),f=l||h.icon,p={classNames:r,styles:s};return k.jsx(ge,{...h.getStyles("item",{...p,className:i,style:o}),component:"li",mod:[{"with-icon":!!f,centered:h.center},c],ref:t,...d,children:k.jsxs("div",{...h.getStyles("itemWrapper",p),children:[f&&k.jsx("span",{...h.getStyles("itemIcon",p),children:f}),k.jsx("span",{...h.getStyles("itemLabel",p),children:u})]})})});QV.classes=XV;QV.displayName="@mantine/core/ListItem";const Ize={type:"unordered"},Rze=(e,{size:t,spacing:n})=>({root:{"--list-fz":ds(t),"--list-lh":q0e(t),"--list-spacing":ei(n)}}),Gc=We((e,t)=>{const n=Ee("List",Ize,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,children:u,type:c,withPadding:d,icon:h,spacing:f,center:p,listStyleType:m,mod:g,...y}=n,v=kt({name:"List",classes:XV,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:Rze});return k.jsx(Cze,{value:{center:p,icon:h,getStyles:v},children:k.jsx(ge,{...v("root",{style:{listStyleType:m}}),component:c==="unordered"?"ul":"ol",mod:[{"with-padding":d},g],ref:t,...y,children:u})})});Gc.classes=XV;Gc.displayName="@mantine/core/List";Gc.Item=QV;var Zve={root:"m_6e45937b",loader:"m_e8eb006c",overlay:"m_df587f17"};const Qne={transitionProps:{transition:"fade",duration:0},overlayProps:{backgroundOpacity:.75},zIndex:Tl("overlay")},$ze=(e,{zIndex:t})=>({root:{"--lo-z-index":t==null?void 0:t.toString()}}),Uu=We((e,t)=>{const n=Ee("LoadingOverlay",Qne,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,transitionProps:u,loaderProps:c,overlayProps:d,visible:h,zIndex:f,...p}=n,m=Gi(),g=kt({name:"LoadingOverlay",classes:Zve,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:$ze}),y={...Qne.overlayProps,...d};return k.jsx(Fh,{transition:"fade",...u,mounted:!!h,children:v=>k.jsxs(ge,{...g("root",{style:v}),ref:t,...p,children:[k.jsx(Bh,{...g("loader"),unstyled:a,...c}),k.jsx(Dw,{...y,...g("overlay"),darkHidden:!0,unstyled:a,color:(d==null?void 0:d.color)||m.white}),k.jsx(Dw,{...y,...g("overlay"),lightHidden:!0,unstyled:a,color:(d==null?void 0:d.color)||m.colors.dark[5]})]})})});Uu.classes=Zve;Uu.displayName="@mantine/core/LoadingOverlay";const[Dze,PA]=Oo("Menu component was not found in the tree");var Vx={dropdown:"m_dc9b7c9f",label:"m_9bfac126",divider:"m_efdf90cb",item:"m_99ac2aa1",itemLabel:"m_5476e0d3",itemSection:"m_8b75e504"};const Mze={},JV=We((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...a}=Ee("MenuDivider",Mze,e),l=PA();return k.jsx(ge,{ref:t,...l.getStyles("divider",{className:r,style:i,styles:o,classNames:n}),...a})});JV.classes=Vx;JV.displayName="@mantine/core/MenuDivider";const Pze={},ZV=We((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,onMouseEnter:a,onMouseLeave:l,onKeyDown:u,children:c,...d}=Ee("MenuDropdown",Pze,e),h=O.useRef(null),f=PA(),p=ll(u,y=>{var v,b;(y.key==="ArrowUp"||y.key==="ArrowDown")&&(y.preventDefault(),(b=(v=h.current)==null?void 0:v.querySelectorAll("[data-menu-item]:not(:disabled)")[0])==null||b.focus())}),m=ll(a,()=>(f.trigger==="hover"||f.trigger==="click-hover")&&f.openDropdown()),g=ll(l,()=>(f.trigger==="hover"||f.trigger==="click-hover")&&f.closeDropdown());return k.jsxs(hs.Dropdown,{...d,onMouseEnter:m,onMouseLeave:g,role:"menu","aria-orientation":"vertical",ref:ho(t,h),...f.getStyles("dropdown",{className:r,style:i,styles:o,classNames:n,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:p,children:[f.withInitialFocusPlaceholder&&k.jsx("div",{tabIndex:-1,"data-autofocus":!0,"data-mantine-stop-propagation":!0,style:{outline:0}}),c]})});ZV.classes=Vx;ZV.displayName="@mantine/core/MenuDropdown";const Nze={},eW=Yi((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,color:a,closeMenuOnClick:l,leftSection:u,rightSection:c,children:d,disabled:h,"data-disabled":f,...p}=Ee("MenuItem",Nze,e),m=PA(),g=Gi(),{dir:y}=Jg(),v=O.useRef(null),b=m.getItemIndex(v.current),_=p,x=ll(_.onMouseLeave,()=>m.setHovered(-1)),w=ll(_.onMouseEnter,()=>m.setHovered(m.getItemIndex(v.current))),E=ll(_.onClick,()=>{f||(typeof l=="boolean"?l&&m.closeDropdownImmediately():m.closeOnItemClick&&m.closeDropdownImmediately())}),S=ll(_.onFocus,()=>m.setHovered(m.getItemIndex(v.current))),T=a?g.variantColorResolver({color:a,theme:g,variant:"light"}):void 0,C=a?Oh({color:a,theme:g}):null;return k.jsxs(eu,{...p,unstyled:m.unstyled,tabIndex:m.menuItemTabIndex,onFocus:S,...m.getStyles("item",{className:r,style:i,styles:o,classNames:n}),ref:ho(v,t),role:"menuitem",disabled:h,"data-menu-item":!0,"data-disabled":h||f||void 0,"data-hovered":m.hovered===b?!0:void 0,"data-mantine-stop-propagation":!0,onMouseEnter:w,onMouseLeave:x,onClick:E,onKeyDown:OH({siblingSelector:"[data-menu-item]:not([data-disabled])",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:m.loop,dir:y,orientation:"vertical",onKeyDown:_.onKeyDown}),__vars:{"--menu-item-color":C!=null&&C.isThemeColor&&(C==null?void 0:C.shade)===void 0?`var(--mantine-color-${C.color}-6)`:T==null?void 0:T.color,"--menu-item-hover":T==null?void 0:T.hover},children:[u&&k.jsx("div",{...m.getStyles("itemSection",{styles:o,classNames:n}),"data-position":"left",children:u}),d&&k.jsx("div",{...m.getStyles("itemLabel",{styles:o,classNames:n}),children:d}),c&&k.jsx("div",{...m.getStyles("itemSection",{styles:o,classNames:n}),"data-position":"right",children:c})]})});eW.classes=Vx;eW.displayName="@mantine/core/MenuItem";const Oze={},tW=We((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...a}=Ee("MenuLabel",Oze,e),l=PA();return k.jsx(ge,{ref:t,...l.getStyles("label",{className:r,style:i,styles:o,classNames:n}),...a})});tW.classes=Vx;tW.displayName="@mantine/core/MenuLabel";const Lze={refProp:"ref"},ebe=O.forwardRef((e,t)=>{const{children:n,refProp:r,...i}=Ee("MenuTarget",Lze,e);if(!Lp(n))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const o=PA(),s=n.props,a=ll(s.onClick,()=>{o.trigger==="click"?o.toggleDropdown():o.trigger==="click-hover"&&(o.setOpenedViaClick(!0),o.opened||o.openDropdown())}),l=ll(s.onMouseEnter,()=>(o.trigger==="hover"||o.trigger==="click-hover")&&o.openDropdown()),u=ll(s.onMouseLeave,()=>{(o.trigger==="hover"||o.trigger==="click-hover"&&!o.openedViaClick)&&o.closeDropdown()});return k.jsx(hs.Target,{refProp:r,popupType:"menu",ref:t,...i,children:O.cloneElement(n,{onClick:a,onMouseEnter:l,onMouseLeave:u,"data-expanded":o.opened?!0:void 0})})});ebe.displayName="@mantine/core/MenuTarget";const Fze={trapFocus:!0,closeOnItemClick:!0,withInitialFocusPlaceholder:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function Zo(e){const t=Ee("Menu",Fze,e),{children:n,onOpen:r,onClose:i,opened:o,defaultOpened:s,trapFocus:a,onChange:l,closeOnItemClick:u,loop:c,closeOnEscape:d,trigger:h,openDelay:f,closeDelay:p,classNames:m,styles:g,unstyled:y,variant:v,vars:b,menuItemTabIndex:_,keepMounted:x,withInitialFocusPlaceholder:w,...E}=t,S=kt({name:"Menu",classes:Vx,props:t,classNames:m,styles:g,unstyled:y}),[T,{setHovered:C,resetHovered:D}]=s6e(),[$,I]=Mo({value:o,defaultValue:s,finalValue:!1,onChange:l}),[R,A]=O.useState(!1),M=()=>{I(!1),A(!1),$&&(i==null||i())},N=()=>{I(!0),!$&&(r==null||r())},L=()=>{$?M():N()},{openDropdown:z,closeDropdown:F}=qve({open:N,close:M,closeDelay:p,openDelay:f}),j=H=>o6e("[data-menu-item]","[data-menu-dropdown]",H),{resolvedClassNames:W,resolvedStyles:B}=zv({classNames:m,styles:g,props:t});return xh(()=>{D()},[$]),k.jsx(Dze,{value:{getStyles:S,opened:$,toggleDropdown:L,getItemIndex:j,hovered:T,setHovered:C,openedViaClick:R,setOpenedViaClick:A,closeOnItemClick:u,closeDropdown:h==="click"?M:F,openDropdown:h==="click"?N:z,closeDropdownImmediately:M,loop:c,trigger:h,unstyled:y,menuItemTabIndex:_,withInitialFocusPlaceholder:w},children:k.jsx(hs,{...E,opened:$,onChange:L,defaultOpened:s,trapFocus:x?!1:a,closeOnEscape:d,__staticSelector:"Menu",classNames:W,styles:B,unstyled:y,variant:v,keepMounted:x,children:n})})}Zo.extend=e=>e;Zo.withProps=hye(Zo);Zo.classes=Vx;Zo.displayName="@mantine/core/Menu";Zo.Item=eW;Zo.Label=tW;Zo.Dropdown=ZV;Zo.Target=ebe;Zo.Divider=JV;const[Bze,Wx]=Oo("Modal component was not found in tree");var jp={root:"m_9df02822",content:"m_54c44539",inner:"m_1f958f16",header:"m_d0e2b9cd"};const jze={},PP=We((e,t)=>{const n=Ee("ModalBody",jze,e),{classNames:r,className:i,style:o,styles:s,vars:a,...l}=n,u=Wx();return k.jsx(ave,{ref:t,...u.getStyles("body",{classNames:r,style:o,styles:s,className:i}),...l})});PP.classes=jp;PP.displayName="@mantine/core/ModalBody";const zze={},NP=We((e,t)=>{const n=Ee("ModalCloseButton",zze,e),{classNames:r,className:i,style:o,styles:s,vars:a,...l}=n,u=Wx();return k.jsx(lve,{ref:t,...u.getStyles("close",{classNames:r,style:o,styles:s,className:i}),...l})});NP.classes=jp;NP.displayName="@mantine/core/ModalCloseButton";const Uze={},OP=We((e,t)=>{const n=Ee("ModalContent",Uze,e),{classNames:r,className:i,style:o,styles:s,vars:a,children:l,__hidden:u,...c}=n,d=Wx(),h=d.scrollAreaComponent||oje;return k.jsx(uve,{...d.getStyles("content",{className:i,style:o,styles:s,classNames:r}),innerProps:d.getStyles("inner",{className:i,style:o,styles:s,classNames:r}),"data-full-screen":d.fullScreen||void 0,"data-modal-content":!0,"data-hidden":u||void 0,ref:t,...c,children:k.jsx(h,{style:{maxHeight:d.fullScreen?"100dvh":`calc(100dvh - (${_e(d.yOffset)} * 2))`},children:l})})});OP.classes=jp;OP.displayName="@mantine/core/ModalContent";const Hze={},LP=We((e,t)=>{const n=Ee("ModalHeader",Hze,e),{classNames:r,className:i,style:o,styles:s,vars:a,...l}=n,u=Wx();return k.jsx(cve,{ref:t,...u.getStyles("header",{classNames:r,style:o,styles:s,className:i}),...l})});LP.classes=jp;LP.displayName="@mantine/core/ModalHeader";const Vze={},FP=We((e,t)=>{const n=Ee("ModalOverlay",Vze,e),{classNames:r,className:i,style:o,styles:s,vars:a,...l}=n,u=Wx();return k.jsx(dve,{ref:t,...u.getStyles("overlay",{classNames:r,style:o,styles:s,className:i}),...l})});FP.classes=jp;FP.displayName="@mantine/core/ModalOverlay";const Wze={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Tl("modal"),transitionProps:{duration:200,transition:"fade-down"},yOffset:"5dvh"},qze=(e,{radius:t,size:n,yOffset:r,xOffset:i})=>({root:{"--modal-radius":t===void 0?void 0:mr(t),"--modal-size":pn(n,"modal-size"),"--modal-y-offset":_e(r),"--modal-x-offset":_e(i)}}),BP=We((e,t)=>{const n=Ee("ModalRoot",Wze,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,yOffset:u,scrollAreaComponent:c,radius:d,fullScreen:h,centered:f,xOffset:p,__staticSelector:m,...g}=n,y=kt({name:m,classes:jp,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:qze});return k.jsx(Bze,{value:{yOffset:u,scrollAreaComponent:c,getStyles:y,fullScreen:h},children:k.jsx(sve,{ref:t,...y("root"),"data-full-screen":h||void 0,"data-centered":f||void 0,unstyled:a,...g})})});BP.classes=jp;BP.displayName="@mantine/core/ModalRoot";const[Gze,Yze]=Qg();function tbe({children:e}){const[t,n]=O.useState([]),[r,i]=O.useState(Tl("modal"));return k.jsx(Gze,{value:{stack:t,addModal:(o,s)=>{n(a=>[...new Set([...a,o])]),i(a=>typeof s=="number"&&typeof a=="number"?Math.max(a,s):a)},removeModal:o=>n(s=>s.filter(a=>a!==o)),getZIndex:o=>`calc(${r} + ${t.indexOf(o)} + 1)`,currentId:t[t.length-1],maxZIndex:r},children:e})}tbe.displayName="@mantine/core/ModalStack";const Kze={},jP=We((e,t)=>{const n=Ee("ModalTitle",Kze,e),{classNames:r,className:i,style:o,styles:s,vars:a,...l}=n,u=Wx();return k.jsx(hve,{ref:t,...u.getStyles("title",{classNames:r,style:o,styles:s,className:i}),...l})});jP.classes=jp;jP.displayName="@mantine/core/ModalTitle";const Xze={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Tl("modal"),transitionProps:{duration:200,transition:"fade-down"},withOverlay:!0,withCloseButton:!0},li=We((e,t)=>{const{title:n,withOverlay:r,overlayProps:i,withCloseButton:o,closeButtonProps:s,children:a,radius:l,opened:u,stackId:c,zIndex:d,...h}=Ee("Modal",Xze,e),f=Yze(),p=!!n||o,m=f&&c?{closeOnEscape:f.currentId===c,trapFocus:f.currentId===c,zIndex:f.getZIndex(c)}:{},g=r===!1?!1:c&&f?f.currentId===c:u;return O.useEffect(()=>{f&&c&&(u?f.addModal(c,d||Tl("modal")):f.removeModal(c))},[u,c,d]),k.jsxs(BP,{ref:t,radius:l,opened:u,zIndex:f&&c?f.getZIndex(c):d,...h,...m,children:[r&&k.jsx(FP,{visible:g,transitionProps:f&&c?{duration:0}:void 0,...i}),k.jsxs(OP,{radius:l,__hidden:f&&c&&u?c!==f.currentId:!1,children:[p&&k.jsxs(LP,{children:[n&&k.jsx(jP,{children:n}),o&&k.jsx(NP,{...s})]}),k.jsx(PP,{children:a})]})]})});li.classes=jp;li.displayName="@mantine/core/Modal";li.Root=BP;li.Overlay=FP;li.Content=OP;li.Body=PP;li.Header=LP;li.Title=jP;li.CloseButton=NP;li.Stack=tbe;const[Qze,nW]=Qg(),[Jze,Zze]=Qg();var zP={root:"m_7cda1cd6","root--default":"m_44da308b","root--contrast":"m_e3a01f8",label:"m_1e0e6180",remove:"m_ae386778",group:"m_1dcfd90b"};const eUe={},tUe=(e,{gap:t},{size:n})=>({group:{"--pg-gap":t!==void 0?pn(t):pn(n,"pg-gap")}}),rW=We((e,t)=>{const n=Ee("PillGroup",eUe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,size:u,disabled:c,...d}=n,h=nW(),f=(h==null?void 0:h.size)||u||void 0,p=kt({name:"PillGroup",classes:zP,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:tUe,stylesCtx:{size:f},rootSelector:"group"});return k.jsx(Jze,{value:{size:f,disabled:c},children:k.jsx(ge,{ref:t,size:f,...p("group"),...d})})});rW.classes=zP;rW.displayName="@mantine/core/PillGroup";const nUe={variant:"default"},rUe=(e,{radius:t},{size:n})=>({root:{"--pill-fz":pn(n,"pill-fz"),"--pill-height":pn(n,"pill-height"),"--pill-radius":t===void 0?void 0:mr(t)}}),iC=We((e,t)=>{const n=Ee("Pill",nUe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,variant:u,children:c,withRemoveButton:d,onRemove:h,removeButtonProps:f,radius:p,size:m,disabled:g,mod:y,...v}=n,b=Zze(),_=nW(),x=m||(b==null?void 0:b.size)||void 0,w=(_==null?void 0:_.variant)==="filled"?"contrast":u||"default",E=kt({name:"Pill",classes:zP,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:rUe,stylesCtx:{size:x}});return k.jsxs(ge,{component:"span",ref:t,variant:w,size:x,...E("root",{variant:w}),mod:[{"with-remove":d&&!g,disabled:g||(b==null?void 0:b.disabled)},y],...v,children:[k.jsx("span",{...E("label"),children:c}),d&&k.jsx(t0,{variant:"transparent",radius:p,tabIndex:-1,"aria-hidden":!0,unstyled:a,...f,...E("remove",{className:f==null?void 0:f.className,style:f==null?void 0:f.style}),onMouseDown:S=>{var T;S.preventDefault(),S.stopPropagation(),(T=f==null?void 0:f.onMouseDown)==null||T.call(f,S)},onClick:S=>{var T;S.stopPropagation(),h==null||h(),(T=f==null?void 0:f.onClick)==null||T.call(f,S)}})]})});iC.classes=zP;iC.displayName="@mantine/core/Pill";iC.Group=rW;var nbe={field:"m_45c4369d"};const iUe={type:"visible"},iW=We((e,t)=>{const n=Ee("PillsInputField",iUe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,type:u,disabled:c,id:d,pointer:h,mod:f,...p}=n,m=nW(),g=jx(),y=kt({name:"PillsInputField",classes:nbe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,rootSelector:"field"}),v=c||(m==null?void 0:m.disabled);return k.jsx(ge,{component:"input",ref:ho(t,m==null?void 0:m.fieldRef),"data-type":u,disabled:v,mod:[{disabled:v,pointer:h},f],...y("field"),...p,id:(g==null?void 0:g.inputId)||d,"aria-invalid":m==null?void 0:m.hasError,"aria-describedby":g==null?void 0:g.describedBy,type:"text",onMouseDown:b=>!h&&b.stopPropagation()})});iW.classes=nbe;iW.displayName="@mantine/core/PillsInputField";const oUe={},m$=We((e,t)=>{const n=Ee("PillsInput",oUe,e),{children:r,onMouseDown:i,onClick:o,size:s,disabled:a,__staticSelector:l,error:u,variant:c,...d}=n,h=O.useRef(null);return k.jsx(Qze,{value:{fieldRef:h,size:s,disabled:a,hasError:!!u,variant:c},children:k.jsx(Zu,{size:s,error:u,variant:c,component:"div",ref:t,onMouseDown:f=>{var p;f.preventDefault(),i==null||i(f),(p=h.current)==null||p.focus()},onClick:f=>{var m;f.preventDefault();const p=f.currentTarget.closest("fieldset");p!=null&&p.disabled||((m=h.current)==null||m.focus(),o==null||o(f))},...d,multiline:!0,disabled:a,__staticSelector:l||"PillsInput",withAria:!1,children:r})})});m$.displayName="@mantine/core/PillsInput";m$.Field=iW;function sUe({data:e,value:t}){const n=t.map(i=>i.trim().toLowerCase());return e.reduce((i,o)=>(Pw(o)?i.push({group:o.group,items:o.items.filter(s=>n.indexOf(s.value.toLowerCase().trim())===-1)}):n.indexOf(o.value.toLowerCase().trim())===-1&&i.push(o),i),[])}const aUe={maxValues:1/0,withCheckIcon:!0,checkIconPosition:"left",hiddenInputValuesDivider:","},oW=We((e,t)=>{const n=Ee("MultiSelect",aUe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,size:u,value:c,defaultValue:d,onChange:h,onKeyDown:f,variant:p,data:m,dropdownOpened:g,defaultDropdownOpened:y,onDropdownOpen:v,onDropdownClose:b,selectFirstOptionOnChange:_,onOptionSubmit:x,comboboxProps:w,filter:E,limit:S,withScrollArea:T,maxDropdownHeight:C,searchValue:D,defaultSearchValue:$,onSearchChange:I,readOnly:R,disabled:A,onFocus:M,onBlur:N,onPaste:L,radius:z,rightSection:F,rightSectionWidth:j,rightSectionPointerEvents:W,rightSectionProps:B,leftSection:H,leftSectionWidth:V,leftSectionPointerEvents:G,leftSectionProps:ne,inputContainer:X,inputWrapperOrder:te,withAsterisk:se,labelProps:ve,descriptionProps:pe,errorProps:Ge,wrapperProps:Ne,description:Ke,label:Je,error:Ae,maxValues:$e,searchable:Ze,nothingFoundMessage:lt,withCheckIcon:gt,checkIconPosition:st,hidePickedOptions:ht,withErrorStyles:Oe,name:ut,form:ee,id:he,clearable:xe,clearButtonProps:Me,hiddenInputProps:je,placeholder:ft,hiddenInputValuesDivider:jt,required:Gt,mod:Dt,renderOption:ct,onRemove:Ft,onClear:rr,scrollAreaProps:In,chevronColor:Ci,...ii}=n,Ai=Fa(he),xs=xve(m),Tr=CV(xs),Gn=LV({opened:g,defaultOpened:y,onDropdownOpen:v,onDropdownClose:()=>{b==null||b(),Gn.resetSelectedOption()}}),{styleProps:za,rest:{type:_s,autoComplete:Ua,...Ki}}=Hv(ii),[$n,ur]=Mo({value:c,defaultValue:d,finalValue:[],onChange:h}),[ca,Cr]=Mo({value:D,defaultValue:$,finalValue:"",onChange:I}),Br=fn=>{Cr(fn),Gn.resetSelectedOption()},Es=kt({name:"MultiSelect",classes:{},props:n,classNames:r,styles:s,unstyled:a}),{resolvedClassNames:Xi,resolvedStyles:ki}=zv({props:n,styles:s,classNames:r}),af=fn=>{f==null||f(fn),fn.key===" "&&!Ze&&(fn.preventDefault(),Gn.toggleDropdown()),fn.key==="Backspace"&&ca.length===0&&$n.length>0&&(Ft==null||Ft($n[$n.length-1]),ur($n.slice(0,$n.length-1)))},lf=$n.map((fn,mo)=>{var ac,lc;return k.jsx(iC,{withRemoveButton:!R&&!((ac=Tr[fn])!=null&&ac.disabled),onRemove:()=>{ur($n.filter(uc=>fn!==uc)),Ft==null||Ft(fn)},unstyled:a,disabled:A,...Es("pill"),children:((lc=Tr[fn])==null?void 0:lc.label)||fn},`${fn}-${mo}`)});O.useEffect(()=>{_&&Gn.selectFirstOption()},[_,$n]);const Il=k.jsx(Bn.ClearButton,{...Me,onClear:()=>{rr==null||rr(),ur([]),Br("")}}),Sd=sUe({data:xs,value:$n}),jo=xe&&$n.length>0&&!A&&!R;return k.jsxs(k.Fragment,{children:[k.jsxs(Bn,{store:Gn,classNames:Xi,styles:ki,unstyled:a,size:u,readOnly:R,__staticSelector:"MultiSelect",onOptionSubmit:fn=>{x==null||x(fn),Br(""),Gn.updateSelectedOptionIndex("selected"),$n.includes(Tr[fn].value)?(ur($n.filter(mo=>mo!==Tr[fn].value)),Ft==null||Ft(Tr[fn].value)):$n.length<$e&&ur([...$n,Tr[fn].value])},...w,children:[k.jsx(Bn.DropdownTarget,{children:k.jsx(m$,{...za,__staticSelector:"MultiSelect",classNames:Xi,styles:ki,unstyled:a,size:u,className:i,style:o,variant:p,disabled:A,radius:z,__defaultRightSection:k.jsx(Bn.Chevron,{size:u,error:Ae,unstyled:a,color:Ci}),__clearSection:Il,__clearable:jo,rightSection:F,rightSectionPointerEvents:W||(Il?"all":"none"),rightSectionWidth:j,rightSectionProps:B,leftSection:H,leftSectionWidth:V,leftSectionPointerEvents:G,leftSectionProps:ne,inputContainer:X,inputWrapperOrder:te,withAsterisk:se,labelProps:ve,descriptionProps:pe,errorProps:Ge,wrapperProps:Ne,description:Ke,label:Je,error:Ae,multiline:!0,withErrorStyles:Oe,__stylesApiProps:{...n,rightSectionPointerEvents:W||(jo?"all":"none"),multiline:!0},pointer:!Ze,onClick:()=>Ze?Gn.openDropdown():Gn.toggleDropdown(),"data-expanded":Gn.dropdownOpened||void 0,id:Ai,required:Gt,mod:Dt,children:k.jsxs(iC.Group,{disabled:A,unstyled:a,...Es("pillsList"),children:[lf,k.jsx(Bn.EventsTarget,{autoComplete:Ua,children:k.jsx(m$.Field,{...Ki,ref:t,id:Ai,placeholder:ft,type:!Ze&&!ft?"hidden":"visible",...Es("inputField"),unstyled:a,onFocus:fn=>{M==null||M(fn),Ze&&Gn.openDropdown()},onBlur:fn=>{N==null||N(fn),Gn.closeDropdown(),Br("")},onKeyDown:af,value:ca,onChange:fn=>{Br(fn.currentTarget.value),Ze&&Gn.openDropdown(),_&&Gn.selectFirstOption()},disabled:A,readOnly:R||!Ze,pointer:!Ze})})]})})}),k.jsx(Bve,{data:ht?Sd:xs,hidden:R||A,filter:E,search:ca,limit:S,hiddenWhenEmpty:!lt,withScrollArea:T,maxDropdownHeight:C,filterOptions:Ze,value:$n,checkIconPosition:st,withCheckIcon:gt,nothingFoundMessage:lt,unstyled:a,labelId:Je?`${Ai}-label`:void 0,"aria-label":Je?void 0:ii["aria-label"],renderOption:ct,scrollAreaProps:In})]}),k.jsx(Bn.HiddenInput,{name:ut,valuesDivider:jt,value:$n,form:ee,disabled:A,...je})]})});oW.classes={...Zu.classes,...Bn.classes};oW.displayName="@mantine/core/MultiSelect";var rbe={root:"m_f0824112",description:"m_57492dcc",section:"m_690090b5",label:"m_1f6ac4c4",body:"m_f07af9d2",children:"m_e17b862f",chevron:"m_1fd8a00b"};const lUe={},uUe=(e,{variant:t,color:n,childrenOffset:r,autoContrast:i})=>{const o=e.variantColorResolver({color:n||e.primaryColor,theme:e,variant:t||"light",autoContrast:i});return{root:{"--nl-bg":n||t?o.background:void 0,"--nl-hover":n||t?o.hover:void 0,"--nl-color":n||t?o.color:void 0},children:{"--nl-offset":ei(r)}}},UP=Yi((e,t)=>{const n=Ee("NavLink",lUe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,opened:u,defaultOpened:c,onChange:d,children:h,onClick:f,active:p,disabled:m,leftSection:g,rightSection:y,label:v,description:b,disableRightSectionRotation:_,noWrap:x,childrenOffset:w,onKeyDown:E,autoContrast:S,mod:T,...C}=n,D=kt({name:"NavLink",props:n,classes:rbe,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:uUe}),[$,I]=Mo({value:u,defaultValue:c,finalValue:!1,onChange:d}),R=!!h,A=M=>{f==null||f(M),R&&(M.preventDefault(),I(!$))};return k.jsxs(k.Fragment,{children:[k.jsxs(eu,{...D("root"),component:"a",ref:t,onClick:A,onKeyDown:M=>{E==null||E(M),M.nativeEvent.code==="Space"&&R&&(M.preventDefault(),I(!$))},unstyled:a,mod:[{disabled:m,active:p,expanded:$},T],...C,children:[g&&k.jsx(ge,{component:"span",...D("section"),mod:{position:"left"},children:g}),k.jsxs(ge,{...D("body"),mod:{"no-wrap":x},children:[k.jsx(ge,{component:"span",...D("label"),children:v}),k.jsx(ge,{component:"span",mod:{active:p},...D("description"),children:b})]}),(R||y)&&k.jsx(ge,{...D("section"),component:"span",mod:{rotate:$&&!_,position:"right"},children:R?y||k.jsx($P,{...D("chevron")}):y})]}),R&&k.jsx(xP,{in:$,...D("collapse"),children:k.jsx("div",{...D("children"),children:h})})]})});UP.classes=rbe;UP.displayName="@mantine/core/NavLink";var ibe={root:"m_a513464",icon:"m_a4ceffb",loader:"m_b0920b15",body:"m_a49ed24",title:"m_3feedf16",description:"m_3d733a3a",closeButton:"m_919a4d88"};const cUe={withCloseButton:!0},dUe=(e,{radius:t,color:n})=>({root:{"--notification-radius":t===void 0?void 0:mr(t),"--notification-color":n?$r(n,e):void 0}}),sW=We((e,t)=>{const n=Ee("Notification",cUe,e),{className:r,color:i,radius:o,loading:s,withCloseButton:a,withBorder:l,title:u,icon:c,children:d,onClose:h,closeButtonProps:f,classNames:p,style:m,styles:g,unstyled:y,variant:v,vars:b,mod:_,loaderProps:x,...w}=n,E=kt({name:"Notification",classes:ibe,props:n,className:r,style:m,classNames:p,styles:g,unstyled:y,vars:b,varsResolver:dUe});return k.jsxs(ge,{...E("root"),mod:[{"data-with-icon":!!c||s,"data-with-border":l},_],ref:t,variant:v,...w,role:"alert",children:[c&&!s&&k.jsx("div",{...E("icon"),children:c}),s&&k.jsx(Bh,{size:28,color:i,...x,...E("loader")}),k.jsxs("div",{...E("body"),children:[u&&k.jsx("div",{...E("title"),children:u}),k.jsx(ge,{...E("description"),mod:{"data-with-title":!!u},children:d})]}),a&&k.jsx(t0,{iconSize:16,color:"gray",...f,unstyled:y,onClick:h,...E("closeButton")})]})});sW.classes=ibe;sW.displayName="@mantine/core/Notification";function obe(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}var oC;(function(e){e.event="event",e.props="prop"})(oC||(oC={}));function Tm(){}function hUe(e){var t,n=void 0;return function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return t&&r.length===t.length&&r.every(function(o,s){return o===t[s]})||(t=r,n=e.apply(void 0,r)),n}}function sC(e){return!!(e||"").match(/\d/)}function Q1(e){return e==null}function fUe(e){return typeof e=="number"&&isNaN(e)}function sbe(e){return Q1(e)||fUe(e)||typeof e=="number"&&!isFinite(e)}function abe(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function pUe(e){switch(e){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function mUe(e,t,n){var r=pUe(n),i=e.search(/[1-9]/);return i=i===-1?e.length:i,e.substring(0,i)+e.substring(i,e.length).replace(r,"$1"+t)}function gUe(e){var t=O.useRef(e);t.current=e;var n=O.useRef(function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return t.current.apply(t,r)});return n.current}function aW(e,t){t===void 0&&(t=!0);var n=e[0]==="-",r=n&&t;e=e.replace("-","");var i=e.split("."),o=i[0],s=i[1]||"";return{beforeDecimal:o,afterDecimal:s,hasNegation:n,addNegation:r}}function yUe(e){if(!e)return e;var t=e[0]==="-";t&&(e=e.substring(1,e.length));var n=e.split("."),r=n[0].replace(/^0+/,"")||"0",i=n[1]||"";return(t?"-":"")+r+(i?"."+i:"")}function lbe(e,t,n){for(var r="",i=n?"0":"",o=0;o<=t-1;o++)r+=e[o]||i;return r}function Jne(e,t){return Array(t+1).join(e)}function ube(e){var t=e+"",n=t[0]==="-"?"-":"";n&&(t=t.substring(1));var r=t.split(/[eE]/g),i=r[0],o=r[1];if(o=Number(o),!o)return n+i;i=i.replace(".","");var s=1+o,a=i.length;return s<0?i="0."+Jne("0",Math.abs(s))+i:s>=a?i=i+Jne("0",s-a):i=(i.substring(0,s)||"0")+"."+i.substring(s),n+i}function Zne(e,t,n){if(["","-"].indexOf(e)!==-1)return e;var r=(e.indexOf(".")!==-1||n)&&t,i=aW(e),o=i.beforeDecimal,s=i.afterDecimal,a=i.hasNegation,l=parseFloat("0."+(s||"0")),u=s.length<=t?"0."+s:l.toFixed(t),c=u.split("."),d=o;o&&Number(c[0])&&(d=o.split("").reverse().reduce(function(m,g,y){return m.length>y?(Number(m[0])+Number(g)).toString()+m.substring(1,m.length):g+m},c[0]));var h=lbe(c[1]||"",t,n),f=a?"-":"",p=r?".":"";return""+f+d+p+h}function oy(e,t){if(e.value=e.value,e!==null){if(e.createTextRange){var n=e.createTextRange();return n.move("character",t),n.select(),!0}return e.selectionStart||e.selectionStart===0?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}}var cbe=hUe(function(e,t){for(var n=0,r=0,i=e.length,o=t.length;e[n]===t[n]&&n<i;)n++;for(;e[i-1-r]===t[o-1-r]&&o-r>n&&i-r>n;)r++;return{from:{start:n,end:i-r},to:{start:n,end:o-r}}}),vUe=function(e,t){var n=Math.min(e.selectionStart,t);return{from:{start:n,end:e.selectionEnd},to:{start:n,end:t}}};function bUe(e,t,n){return Math.min(Math.max(e,t),n)}function cF(e){return Math.max(e.selectionStart,e.selectionEnd)}function wUe(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function xUe(e){return{from:{start:0,end:0},to:{start:0,end:e.length},lastValue:""}}function _Ue(e){var t=e.currentValue,n=e.formattedValue,r=e.currentValueIndex,i=e.formattedValueIndex;return t[r]===n[i]}function EUe(e,t,n,r,i,o,s){s===void 0&&(s=_Ue);var a=i.findIndex(function(_){return _}),l=e.slice(0,a);!t&&!n.startsWith(l)&&(t=l,n=l+n,r=r+l.length);for(var u=n.length,c=e.length,d={},h=new Array(u),f=0;f<u;f++){h[f]=-1;for(var p=0,m=c;p<m;p++){var g=s({currentValue:n,lastValue:t,formattedValue:e,currentValueIndex:f,formattedValueIndex:p});if(g&&d[p]!==!0){h[f]=p,d[p]=!0;break}}}for(var y=r;y<u&&(h[y]===-1||!o(n[y]));)y++;var v=y===u||h[y]===-1?c:h[y];for(y=r-1;y>0&&h[y]===-1;)y--;var b=y===-1||h[y]===-1?0:h[y]+1;return b>v?v:r-b<v-r?b:v}function ere(e,t,n,r){var i=e.length;if(t=bUe(t,0,i),r==="left"){for(;t>=0&&!n[t];)t--;t===-1&&(t=n.indexOf(!0))}else{for(;t<=i&&!n[t];)t++;t>i&&(t=n.lastIndexOf(!0))}return t===-1&&(t=i),t}function SUe(e){for(var t=Array.from({length:e.length+1}).map(function(){return!0}),n=0,r=t.length;n<r;n++)t[n]=!!(sC(e[n])||sC(e[n-1]));return t}function dbe(e,t,n,r,i,o){o===void 0&&(o=Tm);var s=gUe(function(p,m){var g,y;return sbe(p)?(y="",g=""):typeof p=="number"||m?(y=typeof p=="number"?ube(p):p,g=r(y)):(y=i(p,void 0),g=r(y)),{formattedValue:g,numAsString:y}}),a=O.useState(function(){return s(Q1(e)?t:e,n)}),l=a[0],u=a[1],c=function(p,m){p.formattedValue!==l.formattedValue&&u({formattedValue:p.formattedValue,numAsString:p.value}),o(p,m)},d=e,h=n;Q1(e)&&(d=l.numAsString,h=!0);var f=s(d,h);return O.useMemo(function(){u(f)},[f.formattedValue]),[l,c]}function TUe(e){return e.replace(/[^0-9]/g,"")}function CUe(e){return e}function AUe(e){var t=e.type;t===void 0&&(t="text");var n=e.displayType;n===void 0&&(n="input");var r=e.customInput,i=e.renderText,o=e.getInputRef,s=e.format;s===void 0&&(s=CUe);var a=e.removeFormatting;a===void 0&&(a=TUe);var l=e.defaultValue,u=e.valueIsNumericString,c=e.onValueChange,d=e.isAllowed,h=e.onChange;h===void 0&&(h=Tm);var f=e.onKeyDown;f===void 0&&(f=Tm);var p=e.onMouseUp;p===void 0&&(p=Tm);var m=e.onFocus;m===void 0&&(m=Tm);var g=e.onBlur;g===void 0&&(g=Tm);var y=e.value,v=e.getCaretBoundary;v===void 0&&(v=SUe);var b=e.isValidInputCharacter;b===void 0&&(b=sC);var _=e.isCharacterSame,x=obe(e,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),w=dbe(y,l,!!u,s,a,c),E=w[0],S=E.formattedValue,T=E.numAsString,C=w[1],D=O.useRef(),$=O.useRef({formattedValue:S,numAsString:T}),I=function(Ae,$e){$.current={formattedValue:Ae.formattedValue,numAsString:Ae.value},C(Ae,$e)},R=O.useState(!1),A=R[0],M=R[1],N=O.useRef(null),L=O.useRef({setCaretTimeout:null,focusTimeout:null});O.useEffect(function(){return M(!0),function(){clearTimeout(L.current.setCaretTimeout),clearTimeout(L.current.focusTimeout)}},[]);var z=s,F=function(Ae,$e){var Ze=parseFloat($e);return{formattedValue:Ae,value:$e,floatValue:isNaN(Ze)?void 0:Ze}},j=function(Ae,$e,Ze){Ae.selectionStart===0&&Ae.selectionEnd===Ae.value.length||(oy(Ae,$e),L.current.setCaretTimeout=setTimeout(function(){Ae.value===Ze&&Ae.selectionStart!==$e&&oy(Ae,$e)},0))},W=function(Ae,$e,Ze){return ere(Ae,$e,v(Ae),Ze)},B=function(Ae,$e,Ze){var lt=v($e),gt=EUe($e,S,Ae,Ze,lt,b,_);return gt=ere($e,gt,lt),gt},H=function(Ae){var $e=Ae.formattedValue;$e===void 0&&($e="");var Ze=Ae.input,lt=Ae.source,gt=Ae.event,st=Ae.numAsString,ht;if(Ze){var Oe=Ae.inputValue||Ze.value,ut=cF(Ze);Ze.value=$e,ht=B(Oe,$e,ut),ht!==void 0&&j(Ze,ht,$e)}$e!==S&&I(F($e,st),{event:gt,source:lt})};O.useEffect(function(){var Ae=$.current,$e=Ae.formattedValue,Ze=Ae.numAsString;(S!==$e||T!==Ze)&&I(F(S,T),{event:void 0,source:oC.props})},[S,T]);var V=N.current?cF(N.current):void 0,G=typeof window<"u"?O.useLayoutEffect:O.useEffect;G(function(){var Ae=N.current;if(S!==$.current.formattedValue&&Ae){var $e=B($.current.formattedValue,S,V);Ae.value=S,j(Ae,$e,S)}},[S]);var ne=function(Ae,$e,Ze){var lt=$e.target,gt=D.current?vUe(D.current,lt.selectionEnd):cbe(S,Ae),st=Object.assign(Object.assign({},gt),{lastValue:S}),ht=a(Ae,st),Oe=z(ht);if(ht=a(Oe,void 0),d&&!d(F(Oe,ht))){var ut=$e.target,ee=cF(ut),he=B(Ae,S,ee);return ut.value=S,j(ut,he,S),!1}return H({formattedValue:Oe,numAsString:ht,inputValue:Ae,event:$e,source:Ze,input:$e.target}),!0},X=function(Ae,$e){$e===void 0&&($e=0);var Ze=Ae.selectionStart,lt=Ae.selectionEnd;D.current={selectionStart:Ze,selectionEnd:lt+$e}},te=function(Ae){var $e=Ae.target,Ze=$e.value,lt=ne(Ze,Ae,oC.event);lt&&h(Ae),D.current=void 0},se=function(Ae){var $e=Ae.target,Ze=Ae.key,lt=$e.selectionStart,gt=$e.selectionEnd,st=$e.value;st===void 0&&(st="");var ht;Ze==="ArrowLeft"||Ze==="Backspace"?ht=Math.max(lt-1,0):Ze==="ArrowRight"?ht=Math.min(lt+1,st.length):Ze==="Delete"&&(ht=lt);var Oe=0;Ze==="Delete"&&lt===gt&&(Oe=1);var ut=Ze==="ArrowLeft"||Ze==="ArrowRight";if(ht===void 0||lt!==gt&&!ut){f(Ae),X($e,Oe);return}var ee=ht;if(ut){var he=Ze==="ArrowLeft"?"left":"right";ee=W(st,ht,he),ee!==ht&&Ae.preventDefault()}else Ze==="Delete"&&!b(st[ht])?ee=W(st,ht,"right"):Ze==="Backspace"&&!b(st[ht])&&(ee=W(st,ht,"left"));ee!==ht&&j($e,ee,st),f(Ae),X($e,Oe)},ve=function(Ae){var $e=Ae.target,Ze=function(){var lt=$e.selectionStart,gt=$e.selectionEnd,st=$e.value;if(st===void 0&&(st=""),lt===gt){var ht=W(st,lt);ht!==lt&&j($e,ht,st)}};Ze(),requestAnimationFrame(function(){Ze()}),p(Ae),X($e)},pe=function(Ae){Ae.persist&&Ae.persist();var $e=Ae.target,Ze=Ae.currentTarget;N.current=$e,L.current.focusTimeout=setTimeout(function(){var lt=$e.selectionStart,gt=$e.selectionEnd,st=$e.value;st===void 0&&(st="");var ht=W(st,lt);ht!==lt&&!(lt===0&&gt===st.length)&&j($e,ht,st),m(Object.assign(Object.assign({},Ae),{currentTarget:Ze}))},0)},Ge=function(Ae){N.current=null,clearTimeout(L.current.focusTimeout),clearTimeout(L.current.setCaretTimeout),g(Ae)},Ne=A&&wUe()?"numeric":void 0,Ke=Object.assign({inputMode:Ne},x,{type:t,value:S,onChange:te,onKeyDown:se,onMouseUp:ve,onFocus:pe,onBlur:Ge});if(n==="text")return i?Nn.createElement(Nn.Fragment,null,i(S,x)||null):Nn.createElement("span",Object.assign({},x,{ref:o}),S);if(r){var Je=r;return Nn.createElement(Je,Object.assign({},Ke,{ref:o}))}return Nn.createElement("input",Object.assign({},Ke,{ref:o}))}function tre(e,t){var n=t.decimalScale,r=t.fixedDecimalScale,i=t.prefix;i===void 0&&(i="");var o=t.suffix;o===void 0&&(o="");var s=t.allowNegative,a=t.thousandsGroupStyle;if(a===void 0&&(a="thousand"),e===""||e==="-")return e;var l=HP(t),u=l.thousandSeparator,c=l.decimalSeparator,d=n!==0&&e.indexOf(".")!==-1||n&&r,h=aW(e,s),f=h.beforeDecimal,p=h.afterDecimal,m=h.addNegation;return n!==void 0&&(p=lbe(p,n,!!r)),u&&(f=mUe(f,u,a)),i&&(f=i+f),o&&(p=p+o),m&&(f="-"+f),e=f+(d&&c||"")+p,e}function HP(e){var t=e.decimalSeparator;t===void 0&&(t=".");var n=e.thousandSeparator,r=e.allowedDecimalSeparators;return n===!0&&(n=","),r||(r=[t,"."]),{decimalSeparator:t,thousandSeparator:n,allowedDecimalSeparators:r}}function kUe(e,t){e===void 0&&(e="");var n=new RegExp("(-)"),r=new RegExp("(-)(.)*(-)"),i=n.test(e),o=r.test(e);return e=e.replace(/-/g,""),i&&!o&&t&&(e="-"+e),e}function IUe(e,t){return new RegExp("(^-)|[0-9]|"+abe(e),"g")}function RUe(e,t,n){return e===""?!0:!(t!=null&&t.match(/\d/))&&!(n!=null&&n.match(/\d/))&&typeof e=="string"&&!isNaN(Number(e))}function $Ue(e,t,n){var r;t===void 0&&(t=xUe(e));var i=n.allowNegative,o=n.prefix;o===void 0&&(o="");var s=n.suffix;s===void 0&&(s="");var a=n.decimalScale,l=t.from,u=t.to,c=u.start,d=u.end,h=HP(n),f=h.allowedDecimalSeparators,p=h.decimalSeparator,m=e[d]===p;if(sC(e)&&(e===o||e===s)&&t.lastValue==="")return e;if(d-c===1&&f.indexOf(e[c])!==-1){var g=a===0?"":p;e=e.substring(0,c)+g+e.substring(c+1,e.length)}var y=function(N,L,z){var F=!1,j=!1;o.startsWith("-")?F=!1:N.startsWith("--")?(F=!1,j=!0):s.startsWith("-")&&N.length===s.length?F=!1:N[0]==="-"&&(F=!0);var W=F?1:0;return j&&(W=2),W&&(N=N.substring(W),L-=W,z-=W),{value:N,start:L,end:z,hasNegation:F}},v=y(e,c,d),b=v.hasNegation;r=v,e=r.value,c=r.start,d=r.end;var _=y(t.lastValue,l.start,l.end),x=_.start,w=_.end,E=_.value,S=e.substring(c,d);e.length&&E.length&&(x>E.length-s.length||w<o.length)&&!(S&&s.startsWith(S))&&(e=E);var T=0;e.startsWith(o)?T+=o.length:c<o.length&&(T=c),e=e.substring(T),d-=T;var C=e.length,D=e.length-s.length;e.endsWith(s)?C=D:(d>D||d>e.length-s.length)&&(C=d),e=e.substring(0,C),e=kUe(b?"-"+e:e,i),e=(e.match(IUe(p))||[]).join("");var $=e.indexOf(p);e=e.replace(new RegExp(abe(p),"g"),function(N,L){return L===$?".":""});var I=aW(e,i),R=I.beforeDecimal,A=I.afterDecimal,M=I.addNegation;return u.end-u.start<l.end-l.start&&R===""&&m&&!parseFloat(A)&&(e=M?"-":""),e}function DUe(e,t){var n=t.prefix;n===void 0&&(n="");var r=t.suffix;r===void 0&&(r="");var i=Array.from({length:e.length+1}).map(function(){return!0}),o=e[0]==="-";i.fill(!1,0,n.length+(o?1:0));var s=e.length;return i.fill(!1,s-r.length+1,s+1),i}function MUe(e){var t=HP(e),n=t.thousandSeparator,r=t.decimalSeparator,i=e.prefix;i===void 0&&(i="");var o=e.allowNegative;if(o===void 0&&(o=!0),n===r)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+n+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+r+` (default value for decimalSeparator is .)
     `);return i.startsWith("-")&&o&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+i+`
      allowNegative: `+o+`
    `),o=!1),Object.assign(Object.assign({},e),{allowNegative:o})}function PUe(e){e=MUe(e),e.decimalSeparator,e.allowedDecimalSeparators,e.thousandsGroupStyle;var t=e.suffix,n=e.allowNegative,r=e.allowLeadingZeros,i=e.onKeyDown;i===void 0&&(i=Tm);var o=e.onBlur;o===void 0&&(o=Tm);var s=e.thousandSeparator,a=e.decimalScale,l=e.fixedDecimalScale,u=e.prefix;u===void 0&&(u="");var c=e.defaultValue,d=e.value,h=e.valueIsNumericString,f=e.onValueChange,p=obe(e,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),m=HP(e),g=m.decimalSeparator,y=m.allowedDecimalSeparators,v=function(M){return tre(M,e)},b=function(M,N){return $Ue(M,N,e)},_=Q1(d)?c:d,x=h??RUe(_,u,t);Q1(d)?Q1(c)||(x=x||typeof c=="number"):x=x||typeof d=="number";var w=function(M){return sbe(M)?M:(typeof M=="number"&&(M=ube(M)),x&&typeof a=="number"?Zne(M,a,!!l):M)},E=dbe(w(d),w(c),!!x,v,b,f),S=E[0],T=S.numAsString,C=S.formattedValue,D=E[1],$=function(M){var N=M.target,L=M.key,z=N.selectionStart,F=N.selectionEnd,j=N.value;if(j===void 0&&(j=""),(L==="Backspace"||L==="Delete")&&F<u.length){M.preventDefault();return}if(z!==F){i(M);return}L==="Backspace"&&j[0]==="-"&&z===u.length+1&&n&&oy(N,1),a&&l&&(L==="Backspace"&&j[z-1]===g?(oy(N,z-1),M.preventDefault()):L==="Delete"&&j[z]===g&&M.preventDefault()),y!=null&&y.includes(L)&&j[z]===g&&oy(N,z+1);var W=s===!0?",":s;L==="Backspace"&&j[z-1]===W&&oy(N,z-1),L==="Delete"&&j[z]===W&&oy(N,z+1),i(M)},I=function(M){var N=T;if(N.match(/\d/g)||(N=""),r||(N=yUe(N)),l&&a&&(N=Zne(N,a,l)),N!==T){var L=tre(N,e);D({formattedValue:L,value:N,floatValue:parseFloat(N)},{event:M,source:oC.event})}o(M)},R=function(M){return M===g?!0:sC(M)},A=function(M){var N=M.currentValue,L=M.lastValue,z=M.formattedValue,F=M.currentValueIndex,j=M.formattedValueIndex,W=N[F],B=z[j],H=cbe(L,N),V=H.to,G=function(ne){return b(ne).indexOf(".")+u.length};return d===0&&l&&a&&N[V.start]===g&&G(N)<F&&G(z)>j?!1:F>=V.start&&F<V.end&&y&&y.includes(W)&&B===g?!0:W===B};return Object.assign(Object.assign({},p),{value:C,valueIsNumericString:!1,isValidInputCharacter:R,isCharacterSame:A,onValueChange:D,format:v,removeFormatting:b,getCaretBoundary:function(M){return DUe(M,e)},onKeyDown:$,onBlur:I})}function NUe(e){var t=PUe(e);return Nn.createElement(AUe,Object.assign({},t))}function nre({direction:e,style:t,...n}){return k.jsx("svg",{style:{width:"var(--ni-chevron-size)",height:"var(--ni-chevron-size)",transform:e==="up"?"rotate(180deg)":void 0,...t},viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,children:k.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}var y9={root:"m_e2f5cd4e",controls:"m_95e17d22",control:"m_80b4b171"};const OUe=/^(0\.0*|-0(\.0*)?)$/,LUe=/^-?0\d+(\.\d+)?\.?$/;function v9(e){return typeof e=="string"&&e!==""&&!Number.isNaN(Number(e))}function dF(e){return typeof e=="number"?e<Number.MAX_SAFE_INTEGER:e===""||v9(e)&&Number(e)<Number.MAX_SAFE_INTEGER}function FUe(e){return e.toString().replace(".","").length}function BUe(e,t){return(typeof e=="number"?e<Number.MAX_SAFE_INTEGER:!Number.isNaN(Number(e)))&&!Number.isNaN(e)&&FUe(t)<14&&t!==""}function rre(e,t,n){if(e===void 0)return!0;const r=t===void 0||e>=t,i=n===void 0||e<=n;return r&&i}const jUe={step:1,clampBehavior:"blur",allowDecimal:!0,allowNegative:!0,withKeyboardEvents:!0,allowLeadingZeros:!0,trimLeadingZeroesOnBlur:!0,startValue:0},zUe=(e,{size:t})=>({controls:{"--ni-chevron-size":pn(t,"ni-chevron-size")}}),lW=We((e,t)=>{const n=Ee("NumberInput",jUe,e),{className:r,classNames:i,styles:o,unstyled:s,vars:a,onChange:l,onValueChange:u,value:c,defaultValue:d,max:h,min:f,step:p,hideControls:m,rightSection:g,isAllowed:y,clampBehavior:v,onBlur:b,allowDecimal:_,decimalScale:x,onKeyDown:w,onKeyDownCapture:E,handlersRef:S,startValue:T,disabled:C,rightSectionPointerEvents:D,allowNegative:$,readOnly:I,size:R,rightSectionWidth:A,stepHoldInterval:M,stepHoldDelay:N,allowLeadingZeros:L,withKeyboardEvents:z,trimLeadingZeroesOnBlur:F,...j}=n,W=kt({name:"NumberInput",classes:y9,props:n,classNames:i,styles:o,unstyled:s,vars:a,varsResolver:zUe}),{resolvedClassNames:B,resolvedStyles:H}=zv({classNames:i,styles:o,props:n}),[V,G]=Mo({value:c,defaultValue:d,finalValue:"",onChange:l}),ne=N!==void 0&&M!==void 0,X=O.useRef(null),te=O.useRef(null),se=O.useRef(0),ve=(Oe,ut)=>{ut.source==="event"&&G(BUe(Oe.floatValue,Oe.value)&&!OUe.test(Oe.value)&&!(L&&LUe.test(Oe.value))?Oe.floatValue:Oe.value),u==null||u(Oe,ut)},pe=Oe=>{const ut=String(Oe).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return ut?Math.max(0,(ut[1]?ut[1].length:0)-(ut[2]?+ut[2]:0)):0},Ge=Oe=>{X.current&&typeof Oe<"u"&&X.current.setSelectionRange(Oe,Oe)},Ne=O.useRef(s$);Ne.current=()=>{if(!dF(V))return;let Oe;const ut=pe(V),ee=pe(p),he=Math.max(ut,ee),xe=10**he;if(!v9(V)&&(typeof V!="number"||Number.isNaN(V)))Oe=Nf(T,f,h);else if(h!==void 0){const je=(Math.round(Number(V)*xe)+Math.round(p*xe))/xe;Oe=je<=h?je:h}else Oe=(Math.round(Number(V)*xe)+Math.round(p*xe))/xe;const Me=Oe.toFixed(he);G(parseFloat(Me)),u==null||u({floatValue:parseFloat(Me),formattedValue:Me,value:Me},{source:"increment"}),setTimeout(()=>{var je;return Ge((je=X.current)==null?void 0:je.value.length)},0)};const Ke=O.useRef(s$);Ke.current=()=>{if(!dF(V))return;let Oe;const ut=f!==void 0?f:$?Number.MIN_SAFE_INTEGER:0,ee=pe(V),he=pe(p),xe=Math.max(ee,he),Me=10**xe;if(!v9(V)&&typeof V!="number"||Number.isNaN(V))Oe=Nf(T,ut,h);else{const ft=(Math.round(Number(V)*Me)-Math.round(p*Me))/Me;Oe=ut!==void 0&&ft<ut?ut:ft}const je=Oe.toFixed(xe);G(parseFloat(je)),u==null||u({floatValue:parseFloat(je),formattedValue:je,value:je},{source:"decrement"}),setTimeout(()=>{var ft;return Ge((ft=X.current)==null?void 0:ft.value.length)},0)};const Je=Oe=>{w==null||w(Oe),!(I||!z)&&(Oe.key==="ArrowUp"&&(Oe.preventDefault(),Ne.current()),Oe.key==="ArrowDown"&&(Oe.preventDefault(),Ke.current()))},Ae=Oe=>{if(E==null||E(Oe),Oe.key==="Backspace"){const ut=X.current;ut.selectionStart===0&&ut.selectionStart===ut.selectionEnd&&(Oe.preventDefault(),window.setTimeout(()=>Ge(0),0))}},$e=Oe=>{let ut=V;if(v==="blur"&&typeof ut=="number"&&(ut=Nf(ut,f,h)),F&&typeof ut=="string"&&pe(ut)<15){const ee=ut.toString().replace(/^0+/,""),he=parseFloat(ee);ut=Number.isNaN(he)||he>Number.MAX_SAFE_INTEGER?ee:Nf(he,f,h)}V!==ut&&G(ut),b==null||b(Oe)};a$(S,{increment:Ne.current,decrement:Ke.current});const Ze=Oe=>{Oe?Ne.current():Ke.current(),se.current+=1},lt=Oe=>{if(Ze(Oe),ne){const ut=typeof M=="number"?M:M(se.current);te.current=window.setTimeout(()=>lt(Oe),ut)}},gt=(Oe,ut)=>{var ee;Oe.preventDefault(),(ee=X.current)==null||ee.focus(),Ze(ut),ne&&(te.current=window.setTimeout(()=>lt(ut),N))},st=()=>{te.current&&window.clearTimeout(te.current),te.current=null,se.current=0},ht=k.jsxs("div",{...W("controls"),children:[k.jsx(eu,{...W("control"),tabIndex:-1,"aria-hidden":!0,disabled:C||typeof V=="number"&&h!==void 0&&V>=h,mod:{direction:"up"},onMouseDown:Oe=>Oe.preventDefault(),onPointerDown:Oe=>{gt(Oe,!0)},onPointerUp:st,onPointerLeave:st,children:k.jsx(nre,{direction:"up"})}),k.jsx(eu,{...W("control"),tabIndex:-1,"aria-hidden":!0,disabled:C||typeof V=="number"&&f!==void 0&&V<=f,mod:{direction:"down"},onMouseDown:Oe=>Oe.preventDefault(),onPointerDown:Oe=>{gt(Oe,!1)},onPointerUp:st,onPointerLeave:st,children:k.jsx(nre,{direction:"down"})})]});return k.jsx(Zu,{component:NUe,allowNegative:$,className:Li(y9.root,r),size:R,...j,readOnly:I,disabled:C,value:V,getInputRef:ho(t,X),onValueChange:ve,rightSection:m||I||!dF(V)?g:g||ht,classNames:B,styles:H,unstyled:s,__staticSelector:"NumberInput",decimalScale:_?x:0,onKeyDown:Je,onKeyDownCapture:Ae,rightSectionPointerEvents:D??(C?"none":void 0),rightSectionWidth:A??`var(--ni-right-section-width-${R||"sm"})`,allowLeadingZeros:L,onBlur:$e,isAllowed:Oe=>v==="strict"?y?y(Oe)&&rre(Oe.floatValue,f,h):rre(Oe.floatValue,f,h):y?y(Oe):!0})});lW.classes={...Zu.classes,...y9};lW.displayName="@mantine/core/NumberInput";const[UUe,hbe]=Oo("Progress.Root component was not found in tree");var NA={root:"m_db6d6462",section:"m_2242eb65","stripes-animation":"m_81a374bd",label:"m_91e40b74"};const HUe={},uW=We((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...a}=Ee("ProgressLabel",HUe,e),l=hbe();return k.jsx(ge,{ref:t,...l.getStyles("label",{className:r,style:i,classNames:n,styles:o}),...a})});uW.classes=NA;uW.displayName="@mantine/core/ProgressLabel";const VUe={},WUe=(e,{size:t,radius:n,transitionDuration:r})=>({root:{"--progress-size":pn(t,"progress-size"),"--progress-radius":n===void 0?void 0:mr(n),"--progress-transition-duration":typeof r=="number"?`${r}ms`:void 0}}),VP=We((e,t)=>{const n=Ee("ProgressRoot",VUe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,autoContrast:u,transitionDuration:c,...d}=n,h=kt({name:"Progress",classes:NA,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:WUe});return k.jsx(UUe,{value:{getStyles:h,autoContrast:u},children:k.jsx(ge,{ref:t,...h("root"),...d})})});VP.classes=NA;VP.displayName="@mantine/core/ProgressRoot";const qUe={withAria:!0},WP=We((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,value:a,withAria:l,color:u,striped:c,animated:d,mod:h,...f}=Ee("ProgressSection",qUe,e),p=hbe(),m=Gi(),g=l?{role:"progressbar","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":a,"aria-valuetext":`${a}%`}:{};return k.jsx(ge,{ref:t,...p.getStyles("section",{className:r,classNames:n,styles:o,style:i}),...f,...g,mod:[{striped:c||d,animated:d},h],__vars:{"--progress-section-width":`${a}%`,"--progress-section-color":$r(u,m),"--progress-label-color":Nx(p.autoContrast,m)?jv({color:u,theme:m,autoContrast:p.autoContrast}):void 0}})});WP.classes=NA;WP.displayName="@mantine/core/ProgressSection";const GUe={},qx=We((e,t)=>{const n=Ee("Progress",GUe,e),{value:r,classNames:i,styles:o,vars:s,color:a,striped:l,animated:u,"aria-label":c,...d}=n,{resolvedClassNames:h,resolvedStyles:f}=zv({classNames:i,styles:o,props:n});return k.jsx(VP,{ref:t,classNames:h,styles:f,vars:s,...d,children:k.jsx(WP,{value:r,color:a,striped:l,animated:u,"aria-label":c})})});qx.classes=NA;qx.displayName="@mantine/core/Progress";qx.Section=WP;qx.Root=VP;qx.Label=uW;const[YUe,fbe]=Qg(),[KUe,XUe]=Qg();var pbe={card:"m_9dc8ae12"};const QUe={withBorder:!0},JUe=(e,{radius:t})=>({card:{"--card-radius":mr(t)}}),cW=We((e,t)=>{const n=Ee("RadioCard",QUe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,checked:u,mod:c,withBorder:d,value:h,onClick:f,name:p,onKeyDown:m,...g}=n,y=kt({name:"RadioCard",classes:pbe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:JUe,rootSelector:"card"}),{dir:v}=Jg(),b=fbe(),_=typeof u=="boolean"?u:(b==null?void 0:b.value)===h||!1,x=p||(b==null?void 0:b.name),w=E=>{if(m==null||m(E),["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes(E.nativeEvent.code)){E.preventDefault();const S=Array.from(document.querySelectorAll(`[role="radio"][name="${x||"__mantine"}"]`)),T=S.findIndex($=>$===E.target),C=T+1>=S.length?0:T+1,D=T-1<0?S.length-1:T-1;E.nativeEvent.code==="ArrowDown"&&(S[C].focus(),S[C].click()),E.nativeEvent.code==="ArrowUp"&&(S[D].focus(),S[D].click()),E.nativeEvent.code==="ArrowLeft"&&(S[v==="ltr"?D:C].focus(),S[v==="ltr"?D:C].click()),E.nativeEvent.code==="ArrowRight"&&(S[v==="ltr"?C:D].focus(),S[v==="ltr"?C:D].click())}};return k.jsx(KUe,{value:{checked:_},children:k.jsx(eu,{ref:t,mod:[{"with-border":d,checked:_},c],...y("card"),...g,role:"radio","aria-checked":_,name:x,onClick:E=>{f==null||f(E),b==null||b.onChange(h||"")},onKeyDown:w})})});cW.displayName="@mantine/core/RadioCard";cW.classes=pbe;const ZUe={},dW=We((e,t)=>{const{value:n,defaultValue:r,onChange:i,size:o,wrapperProps:s,children:a,name:l,readOnly:u,...c}=Ee("RadioGroup",ZUe,e),d=Fa(l),[h,f]=Mo({value:n,defaultValue:r,finalValue:"",onChange:i}),p=m=>!u&&f(typeof m=="string"?m:m.currentTarget.value);return k.jsx(YUe,{value:{value:h,onChange:p,size:o,name:d},children:k.jsx(Er.Wrapper,{size:o,ref:t,...s,...c,labelElement:"div",__staticSelector:"RadioGroup",children:k.jsx(BV,{role:"radiogroup",children:a})})})});dW.classes=Er.Wrapper.classes;dW.displayName="@mantine/core/RadioGroup";function mbe({size:e,style:t,...n}){return k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 5 5",style:{width:_e(e),height:_e(e),...t},"aria-hidden":!0,...n,children:k.jsx("circle",{cx:"2.5",cy:"2.5",r:"2.5",fill:"currentColor"})})}var gbe={indicator:"m_717d7ff6",icon:"m_3e4da632","indicator--outline":"m_2980836c"};const eHe={icon:mbe},tHe=(e,{radius:t,color:n,size:r,iconColor:i,variant:o,autoContrast:s})=>{const a=Oh({color:n||e.primaryColor,theme:e}),l=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{indicator:{"--radio-size":pn(r,"radio-size"),"--radio-radius":t===void 0?void 0:mr(t),"--radio-color":o==="outline"?l:$r(n,e),"--radio-icon-size":pn(r,"radio-icon-size"),"--radio-icon-color":i?$r(i,e):Nx(s,e)?jv({color:n,theme:e,autoContrast:s}):void 0}}},hW=We((e,t)=>{const n=Ee("RadioIndicator",eHe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,icon:u,radius:c,color:d,iconColor:h,autoContrast:f,checked:p,mod:m,variant:g,disabled:y,...v}=n,b=u,_=kt({name:"RadioIndicator",classes:gbe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:tHe,rootSelector:"indicator"}),x=XUe(),w=typeof p=="boolean"?p:(x==null?void 0:x.checked)||!1;return k.jsx(ge,{ref:t,..._("indicator",{variant:g}),variant:g,mod:[{checked:w,disabled:y},m],...v,children:k.jsx(b,{..._("icon")})})});hW.displayName="@mantine/core/RadioIndicator";hW.classes=gbe;var ybe={root:"m_f3f1af94",inner:"m_89c4f5e4",icon:"m_f3ed6b2b",radio:"m_8a3dbb89","radio--outline":"m_1bfe9d39"};const nHe={labelPosition:"right"},rHe=(e,{size:t,radius:n,color:r,iconColor:i,variant:o,autoContrast:s})=>{const a=Oh({color:r||e.primaryColor,theme:e}),l=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{root:{"--radio-size":pn(t,"radio-size"),"--radio-radius":n===void 0?void 0:mr(n),"--radio-color":o==="outline"?l:$r(r,e),"--radio-icon-color":i?$r(i,e):Nx(s,e)?jv({color:r,theme:e,autoContrast:s}):void 0,"--radio-icon-size":pn(t,"radio-icon-size")}}},ql=We((e,t)=>{const n=Ee("Radio",nHe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,id:u,size:c,label:d,labelPosition:h,description:f,error:p,radius:m,color:g,variant:y,disabled:v,wrapperProps:b,icon:_=mbe,rootRef:x,iconColor:w,onChange:E,mod:S,...T}=n,C=kt({name:"Radio",classes:ybe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:rHe}),D=fbe(),$=(D==null?void 0:D.size)??c,I=n.size?c:$,{styleProps:R,rest:A}=Hv(T),M=Fa(u),N=D?{checked:D.value===A.value,name:A.name??D.name,onChange:L=>{D.onChange(L),E==null||E(L)}}:{};return k.jsx(DP,{...C("root"),__staticSelector:"Radio",__stylesApiProps:n,id:M,size:I,labelPosition:h,label:d,description:f,error:p,disabled:v,classNames:r,styles:s,unstyled:a,"data-checked":N.checked||void 0,variant:y,ref:x,mod:S,...R,...b,children:k.jsxs(ge,{...C("inner"),mod:{"label-position":h},children:[k.jsx(ge,{...C("radio",{focusable:!0,variant:y}),onChange:E,...A,...N,component:"input",mod:{error:!!p},ref:t,id:M,disabled:v,type:"radio"}),k.jsx(_,{...C("icon"),"aria-hidden":!0})]})})});ql.classes=ybe;ql.displayName="@mantine/core/Radio";ql.Group=dW;ql.Card=cW;ql.Indicator=hW;const iHe={duration:100,transition:"fade"};function oHe(e,t){return{...iHe,...t,...e}}function sHe({offset:e,position:t,defaultOpened:n}){const[r,i]=O.useState(n),o=O.useRef(null),{x:s,y:a,elements:l,refs:u,update:c,placement:d}=iV({placement:t,middleware:[eV({crossAxis:!0,padding:5,rootBoundary:"document"})]}),h=d.includes("right")?e:t.includes("left")?e*-1:0,f=d.includes("bottom")?e:t.includes("top")?e*-1:0,p=O.useCallback(({clientX:m,clientY:g})=>{u.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x:m,y:g,left:m+h,top:g+f,right:m,bottom:g}}})},[l.reference]);return O.useEffect(()=>{if(u.floating.current){const m=o.current;m.addEventListener("mousemove",p);const g=Yf(u.floating.current);return g.forEach(y=>{y.addEventListener("scroll",c)}),()=>{m.removeEventListener("mousemove",p),g.forEach(y=>{y.removeEventListener("scroll",c)})}}},[l.reference,u.floating.current,c,p,r]),{handleMouseMove:p,x:s,y:a,opened:r,setOpened:i,boundaryRef:o,floating:u.setFloating}}var qP={tooltip:"m_1b3c8819",arrow:"m_f898399f"};const aHe={refProp:"ref",withinPortal:!0,offset:10,defaultOpened:!1,position:"right",zIndex:Tl("popover")},lHe=(e,{radius:t,color:n})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:mr(t),"--tooltip-bg":n?$r(n,e):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),fW=We((e,t)=>{const n=Ee("TooltipFloating",aHe,e),{children:r,refProp:i,withinPortal:o,style:s,className:a,classNames:l,styles:u,unstyled:c,radius:d,color:h,label:f,offset:p,position:m,multiline:g,zIndex:y,disabled:v,defaultOpened:b,variant:_,vars:x,portalProps:w,...E}=n,S=Gi(),T=kt({name:"TooltipFloating",props:n,classes:qP,className:a,style:s,classNames:l,styles:u,unstyled:c,rootSelector:"tooltip",vars:x,varsResolver:lHe}),{handleMouseMove:C,x:D,y:$,opened:I,boundaryRef:R,floating:A,setOpened:M}=sHe({offset:p,position:m,defaultOpened:b});if(!Lp(r))throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const N=ho(R,vP(r),t),L=r.props,z=j=>{var W;(W=L.onMouseEnter)==null||W.call(L,j),C(j),M(!0)},F=j=>{var W;(W=L.onMouseLeave)==null||W.call(L,j),M(!1)};return k.jsxs(k.Fragment,{children:[k.jsx(Zg,{...w,withinPortal:o,children:k.jsx(ge,{...E,...T("tooltip",{style:{...WH(s,S),zIndex:y,display:!v&&I?"block":"none",top:($&&Math.round($))??"",left:(D&&Math.round(D))??""}}),variant:_,ref:A,mod:{multiline:g},children:f})}),O.cloneElement(r,{...L,[i]:N,onMouseEnter:z,onMouseLeave:F})]})});fW.classes=qP;fW.displayName="@mantine/core/TooltipFloating";const vbe=O.createContext(!1),uHe=vbe.Provider,cHe=()=>O.useContext(vbe),dHe={openDelay:0,closeDelay:0};function pW(e){const{openDelay:t,closeDelay:n,children:r}=Ee("TooltipGroup",dHe,e);return k.jsx(uHe,{value:!0,children:k.jsx(e9e,{delay:{open:t,close:n},children:r})})}pW.displayName="@mantine/core/TooltipGroup";pW.extend=e=>e;function hHe(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function fHe(e){const t=hHe(e.middlewares),n=[Tye(e.offset)];return t.shift&&n.push(eV(typeof t.shift=="boolean"?{padding:8}:{padding:8,...t.shift})),t.flip&&n.push(typeof t.flip=="boolean"?h$():h$(t.flip)),n.push(Cye({element:e.arrowRef,padding:e.arrowOffset})),t.inline?n.push(typeof t.inline=="boolean"?XS():XS(t.inline)):e.inline&&n.push(XS()),n}function pHe(e){var w,E,S;const[t,n]=O.useState(e.defaultOpened),i=typeof e.opened=="boolean"?e.opened:t,o=cHe(),s=Fa(),a=O.useCallback(T=>{n(T),T&&v(s)},[s]),{x:l,y:u,context:c,refs:d,update:h,placement:f,middlewareData:{arrow:{x:p,y:m}={}}}=iV({strategy:e.strategy,placement:e.position,open:i,onOpenChange:a,middleware:fHe(e)}),{delay:g,currentId:y,setCurrentId:v}=t9e(c,{id:s}),{getReferenceProps:b,getFloatingProps:_}=l9e([J8e(c,{enabled:(w=e.events)==null?void 0:w.hover,delay:o?g:{open:e.openDelay,close:e.closeDelay},mouseOnly:!((E=e.events)!=null&&E.touch)}),a9e(c,{enabled:(S=e.events)==null?void 0:S.focus,visibleOnly:!0}),c9e(c,{role:"tooltip"}),o9e(c,{enabled:typeof e.opened>"u"})]);Jye({opened:i,position:e.position,positionDependencies:e.positionDependencies,floating:{refs:d,update:h}}),xh(()=>{var T;(T=e.onPositionChange)==null||T.call(e,f)},[f]);const x=i&&y&&y!==s;return{x:l,y:u,arrowX:p,arrowY:m,reference:d.setReference,floating:d.setFloating,getFloatingProps:_,getReferenceProps:b,isGroupPhase:x,opened:i,placement:f}}const ire={position:"top",refProp:"ref",withinPortal:!0,inline:!1,defaultOpened:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:Tl("popover"),positionDependencies:[],middlewares:{flip:!0,shift:!0,inline:!1}},mHe=(e,{radius:t,color:n})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:mr(t),"--tooltip-bg":n?$r(n,e):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),Ur=We((e,t)=>{const n=Ee("Tooltip",ire,e),{children:r,position:i,refProp:o,label:s,openDelay:a,closeDelay:l,onPositionChange:u,opened:c,defaultOpened:d,withinPortal:h,radius:f,color:p,classNames:m,styles:g,unstyled:y,style:v,className:b,withArrow:_,arrowSize:x,arrowOffset:w,arrowRadius:E,arrowPosition:S,offset:T,transitionProps:C,multiline:D,events:$,zIndex:I,disabled:R,positionDependencies:A,onClick:M,onMouseEnter:N,onMouseLeave:L,inline:z,variant:F,keepMounted:j,vars:W,portalProps:B,mod:H,floatingStrategy:V,middlewares:G,...ne}=Ee("Tooltip",ire,n),{dir:X}=Jg(),te=O.useRef(null),se=pHe({position:Wye(X,i),closeDelay:l,openDelay:a,onPositionChange:u,opened:c,defaultOpened:d,events:$,arrowRef:te,arrowOffset:w,offset:typeof T=="number"?T+(_?x/2:0):T,positionDependencies:[...A,r],inline:z,strategy:V,middlewares:G}),ve=kt({name:"Tooltip",props:n,classes:qP,className:b,style:v,classNames:m,styles:g,unstyled:y,rootSelector:"tooltip",vars:W,varsResolver:mHe});if(!Lp(r))throw new Error("[@mantine/core] Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const pe=ho(se.reference,vP(r),t),Ge=oHe(C,{duration:100,transition:"fade"}),Ne=r.props;return k.jsxs(k.Fragment,{children:[k.jsx(Zg,{...B,withinPortal:h,children:k.jsx(Fh,{...Ge,keepMounted:j,mounted:!R&&!!se.opened,duration:se.isGroupPhase?10:Ge.duration,children:Ke=>k.jsxs(ge,{...ne,"data-fixed":V==="fixed"||void 0,variant:F,mod:[{multiline:D},H],...se.getFloatingProps({ref:se.floating,className:ve("tooltip").className,style:{...ve("tooltip").style,...Ke,zIndex:I,top:se.y??0,left:se.x??0}}),children:[s,k.jsx(uV,{ref:te,arrowX:se.arrowX,arrowY:se.arrowY,visible:_,position:se.placement,arrowSize:x,arrowOffset:w,arrowRadius:E,arrowPosition:S,...ve("arrow")})]})})}),O.cloneElement(r,se.getReferenceProps({onClick:M,onMouseEnter:N,onMouseLeave:L,onMouseMove:n.onMouseMove,onPointerDown:n.onPointerDown,onPointerEnter:n.onPointerEnter,className:Li(b,Ne.className),...Ne,[o]:pe}))]})});Ur.classes=qP;Ur.displayName="@mantine/core/Tooltip";Ur.Floating=fW;Ur.Group=pW;const gHe={searchable:!1,withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},Gx=We((e,t)=>{const n=Ee("Select",gHe,e),{classNames:r,styles:i,unstyled:o,vars:s,dropdownOpened:a,defaultDropdownOpened:l,onDropdownClose:u,onDropdownOpen:c,onFocus:d,onBlur:h,onClick:f,onChange:p,data:m,value:g,defaultValue:y,selectFirstOptionOnChange:v,onOptionSubmit:b,comboboxProps:_,readOnly:x,disabled:w,filter:E,limit:S,withScrollArea:T,maxDropdownHeight:C,size:D,searchable:$,rightSection:I,checkIconPosition:R,withCheckIcon:A,nothingFoundMessage:M,name:N,form:L,searchValue:z,defaultSearchValue:F,onSearchChange:j,allowDeselect:W,error:B,rightSectionPointerEvents:H,id:V,clearable:G,clearButtonProps:ne,hiddenInputProps:X,renderOption:te,onClear:se,autoComplete:ve,scrollAreaProps:pe,__defaultRightSection:Ge,__clearSection:Ne,__clearable:Ke,chevronColor:Je,...Ae}=n,$e=O.useMemo(()=>xve(m),[m]),Ze=O.useMemo(()=>CV($e),[$e]),lt=Fa(V),[gt,st,ht]=Mo({value:g,defaultValue:y,finalValue:null,onChange:p}),Oe=typeof gt=="string"?Ze[gt]:void 0,ut=T6e(Oe),[ee,he]=Mo({value:z,defaultValue:F,finalValue:Oe?Oe.label:"",onChange:j}),xe=LV({opened:a,defaultOpened:l,onDropdownOpen:()=>{c==null||c(),xe.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{u==null||u(),xe.resetSelectedOption()}}),Me=Dt=>{he(Dt),xe.resetSelectedOption()},{resolvedClassNames:je,resolvedStyles:ft}=zv({props:n,styles:i,classNames:r});O.useEffect(()=>{v&&xe.selectFirstOption()},[v,gt]),O.useEffect(()=>{g===null&&Me(""),typeof g=="string"&&Oe&&((ut==null?void 0:ut.value)!==Oe.value||(ut==null?void 0:ut.label)!==Oe.label)&&Me(Oe.label)},[g,Oe]);const jt=k.jsx(Bn.ClearButton,{...ne,onClear:()=>{st(null,null),Me(""),se==null||se()}}),Gt=G&&!!gt&&!w&&!x;return k.jsxs(k.Fragment,{children:[k.jsxs(Bn,{store:xe,__staticSelector:"Select",classNames:je,styles:ft,unstyled:o,readOnly:x,onOptionSubmit:Dt=>{b==null||b(Dt);const ct=W&&Ze[Dt].value===gt?null:Ze[Dt],Ft=ct?ct.value:null;Ft!==gt&&st(Ft,ct),!ht&&Me(typeof Ft=="string"&&(ct==null?void 0:ct.label)||""),xe.closeDropdown()},size:D,..._,children:[k.jsx(Bn.Target,{targetType:$?"input":"button",autoComplete:ve,children:k.jsx(Zu,{id:lt,ref:t,__defaultRightSection:k.jsx(Bn.Chevron,{size:D,error:B,unstyled:o,color:Je}),__clearSection:jt,__clearable:Gt,rightSection:I,rightSectionPointerEvents:H||(Gt?"all":"none"),...Ae,size:D,__staticSelector:"Select",disabled:w,readOnly:x||!$,value:ee,onChange:Dt=>{Me(Dt.currentTarget.value),xe.openDropdown(),v&&xe.selectFirstOption()},onFocus:Dt=>{$&&xe.openDropdown(),d==null||d(Dt)},onBlur:Dt=>{var ct;$&&xe.closeDropdown(),Me(gt!=null&&((ct=Ze[gt])==null?void 0:ct.label)||""),h==null||h(Dt)},onClick:Dt=>{$?xe.openDropdown():xe.toggleDropdown(),f==null||f(Dt)},classNames:je,styles:ft,unstyled:o,pointer:!$,error:B})}),k.jsx(Bve,{data:$e,hidden:x||w,filter:E,search:ee,limit:S,hiddenWhenEmpty:!M,withScrollArea:T,maxDropdownHeight:C,filterOptions:$&&(Oe==null?void 0:Oe.label)!==ee,value:gt,checkIconPosition:R,withCheckIcon:A,nothingFoundMessage:M,unstyled:o,labelId:Ae.label?`${lt}-label`:void 0,"aria-label":Ae.label?void 0:Ae["aria-label"],renderOption:te,scrollAreaProps:pe})]}),k.jsx(Bn.HiddenInput,{value:gt,name:N,form:L,disabled:w,...X})]})});Gx.classes={...Zu.classes,...Bn.classes};Gx.displayName="@mantine/core/Select";function yHe({spacing:e,verticalSpacing:t,cols:n,selector:r}){var c;const i=Gi(),o=t===void 0?e:t,s=Xg({"--sg-spacing-x":ei(Nc(e)),"--sg-spacing-y":ei(Nc(o)),"--sg-cols":(c=Nc(n))==null?void 0:c.toString()}),a=Rr(i.breakpoints).reduce((d,h)=>(d[h]||(d[h]={}),typeof e=="object"&&e[h]!==void 0&&(d[h]["--sg-spacing-x"]=ei(e[h])),typeof o=="object"&&o[h]!==void 0&&(d[h]["--sg-spacing-y"]=ei(o[h])),typeof n=="object"&&n[h]!==void 0&&(d[h]["--sg-cols"]=n[h]),d),{}),u=tC(Rr(a),i.breakpoints).filter(d=>Rr(a[d.value]).length>0).map(d=>({query:`(min-width: ${i.breakpoints[d.value]})`,styles:a[d.value]}));return k.jsx(Uv,{styles:s,media:u,selector:r})}function hF(e){return typeof e=="object"&&e!==null?Rr(e):[]}function vHe(e){return e.sort((t,n)=>eC(t)-eC(n))}function bHe({spacing:e,verticalSpacing:t,cols:n}){const r=Array.from(new Set([...hF(e),...hF(t),...hF(n)]));return vHe(r)}function wHe({spacing:e,verticalSpacing:t,cols:n,selector:r}){var u;const i=t===void 0?e:t,o=Xg({"--sg-spacing-x":ei(Nc(e)),"--sg-spacing-y":ei(Nc(i)),"--sg-cols":(u=Nc(n))==null?void 0:u.toString()}),s=bHe({spacing:e,verticalSpacing:t,cols:n}),a=s.reduce((c,d)=>(c[d]||(c[d]={}),typeof e=="object"&&e[d]!==void 0&&(c[d]["--sg-spacing-x"]=ei(e[d])),typeof i=="object"&&i[d]!==void 0&&(c[d]["--sg-spacing-y"]=ei(i[d])),typeof n=="object"&&n[d]!==void 0&&(c[d]["--sg-cols"]=n[d]),c),{}),l=s.map(c=>({query:`simple-grid (min-width: ${c})`,styles:a[c]}));return k.jsx(Uv,{styles:o,container:l,selector:r})}var bbe={container:"m_925c2d2c",root:"m_2415a157"};const xHe={cols:1,spacing:"md",type:"media"},mW=We((e,t)=>{const n=Ee("SimpleGrid",xHe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,cols:u,verticalSpacing:c,spacing:d,type:h,...f}=n,p=kt({name:"SimpleGrid",classes:bbe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l}),m=AA();return h==="container"?k.jsxs(k.Fragment,{children:[k.jsx(wHe,{...n,selector:`.${m}`}),k.jsx("div",{...p("container"),children:k.jsx(ge,{ref:t,...p("root",{className:m}),...f})})]}):k.jsxs(k.Fragment,{children:[k.jsx(yHe,{...n,selector:`.${m}`}),k.jsx(ge,{ref:t,...p("root",{className:m}),...f})]})});mW.classes=bbe;mW.displayName="@mantine/core/SimpleGrid";const[_He,GP]=Oo("SliderProvider was not found in tree"),wbe=O.forwardRef(({size:e,disabled:t,variant:n,color:r,thumbSize:i,radius:o,...s},a)=>{const{getStyles:l}=GP();return k.jsx(ge,{tabIndex:-1,variant:n,size:e,ref:a,...l("root"),...s})});wbe.displayName="@mantine/core/SliderRoot";const xbe=O.forwardRef(({max:e,min:t,value:n,position:r,label:i,dragging:o,onMouseDown:s,onKeyDownCapture:a,labelTransitionProps:l,labelAlwaysOn:u,thumbLabel:c,onFocus:d,onBlur:h,showLabelOnHover:f,isHovered:p,children:m=null,disabled:g},y)=>{const{getStyles:v}=GP(),[b,_]=O.useState(!1),x=u||o||b||f&&p;return k.jsxs(ge,{tabIndex:0,role:"slider","aria-label":c,"aria-valuemax":e,"aria-valuemin":t,"aria-valuenow":n,ref:y,__vars:{"--slider-thumb-offset":`${r}%`},...v("thumb",{focusable:!0}),mod:{dragging:o,disabled:g},onFocus:w=>{_(!0),typeof d=="function"&&d(w)},onBlur:w=>{_(!1),typeof h=="function"&&h(w)},onTouchStart:s,onMouseDown:s,onKeyDownCapture:a,onClick:w=>w.stopPropagation(),children:[m,k.jsx(Fh,{mounted:i!=null&&!!x,transition:"fade",duration:0,...l,children:w=>k.jsx("div",{...v("label",{style:w}),children:i})})]})});xbe.displayName="@mantine/core/SliderThumb";function _be({value:e,min:t,max:n}){const r=(e-t)/(n-t)*100;return Math.min(Math.max(r,0),100)}function EHe({mark:e,offset:t,value:n,inverted:r=!1}){return r?typeof t=="number"&&e.value<=t||e.value>=n:typeof t=="number"?e.value>=t&&e.value<=n:e.value<=n}function Ebe({marks:e,min:t,max:n,disabled:r,value:i,offset:o,inverted:s}){const{getStyles:a}=GP();if(!e)return null;const l=e.map((u,c)=>O.createElement(ge,{...a("markWrapper"),__vars:{"--mark-offset":`${_be({value:u.value,min:t,max:n})}%`},key:c},k.jsx(ge,{...a("mark"),mod:{filled:EHe({mark:u,value:i,offset:o,inverted:s}),disabled:r}}),u.label&&k.jsx("div",{...a("markLabel"),children:u.label})));return k.jsx("div",{children:l})}Ebe.displayName="@mantine/core/SliderMarks";function Sbe({filled:e,children:t,offset:n,disabled:r,marksOffset:i,inverted:o,containerProps:s,...a}){const{getStyles:l}=GP();return k.jsx(ge,{...l("trackContainer"),mod:{disabled:r},...s,children:k.jsxs(ge,{...l("track"),mod:{inverted:o,disabled:r},children:[k.jsx(ge,{mod:{inverted:o,disabled:r},__vars:{"--slider-bar-width":`calc(${e}% + var(--slider-size))`,"--slider-bar-offset":`calc(${n}% - var(--slider-size))`},...l("bar")}),t,k.jsx(Ebe,{...a,offset:i,disabled:r,inverted:o})]})})}Sbe.displayName="@mantine/core/SliderTrack";function SHe({value:e,containerWidth:t,min:n,max:r,step:i,precision:o}){const a=(t?Math.min(Math.max(e,0),t)/t:e)*(r-n),l=(a!==0?Math.round(a/i)*i:0)+n,u=Math.max(l,n);return o!==void 0?Number(u.toFixed(o)):u}function jk(e,t){return parseFloat(e.toFixed(t))}function THe(e){if(!e)return 0;const t=e.toString().split(".");return t.length>1?t[1].length:0}function fF(e,t){const r=[...t].sort((i,o)=>i.value-o.value).find(i=>i.value>e);return r?r.value:e}function pF(e,t){const r=[...t].sort((i,o)=>o.value-i.value).find(i=>i.value<e);return r?r.value:e}function ore(e){const t=[...e].sort((n,r)=>n.value-r.value);return t.length>0?t[0].value:0}function sre(e){const t=[...e].sort((n,r)=>n.value-r.value);return t.length>0?t[t.length-1].value:100}var Tbe={root:"m_dd36362e",label:"m_c9357328",thumb:"m_c9a9a60a",trackContainer:"m_a8645c2",track:"m_c9ade57f",bar:"m_38aeed47",markWrapper:"m_b7b0423a",mark:"m_dd33bc19",markLabel:"m_68c77a5b"};const CHe={radius:"xl",min:0,max:100,step:1,marks:[],label:e=>e,labelTransitionProps:{transition:"fade",duration:0},labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},AHe=(e,{size:t,color:n,thumbSize:r,radius:i})=>({root:{"--slider-size":pn(t,"slider-size"),"--slider-color":n?$r(n,e):void 0,"--slider-radius":i===void 0?void 0:mr(i),"--slider-thumb-size":r!==void 0?_e(r):"calc(var(--slider-size) * 2)"}}),gW=We((e,t)=>{const n=Ee("Slider",CHe,e),{classNames:r,styles:i,value:o,onChange:s,onChangeEnd:a,size:l,min:u,max:c,step:d,precision:h,defaultValue:f,name:p,marks:m,label:g,labelTransitionProps:y,labelAlwaysOn:v,thumbLabel:b,showLabelOnHover:_,thumbChildren:x,disabled:w,unstyled:E,scale:S,inverted:T,className:C,style:D,vars:$,hiddenInputProps:I,restrictToMarks:R,thumbProps:A,...M}=n,N=kt({name:"Slider",props:n,classes:Tbe,classNames:r,className:C,styles:i,style:D,vars:$,varsResolver:AHe,unstyled:E}),{dir:L}=Jg(),[z,F]=O.useState(!1),[j,W]=Mo({value:typeof o=="number"?Nf(o,u,c):o,defaultValue:typeof f=="number"?Nf(f,u,c):f,finalValue:Nf(0,u,c),onChange:s}),B=O.useRef(j),H=O.useRef(null),V=O.useRef(null),G=_be({value:j,min:u,max:c}),ne=S(j),X=typeof g=="function"?g(ne):g,te=h??THe(d),se=O.useCallback(({x:Ne})=>{if(!w){const Ke=SHe({value:Ne,min:u,max:c,step:d,precision:te});W(R&&(m!=null&&m.length)?one(Ke,m.map(Je=>Je.value)):Ke),B.current=Ke}},[w,u,c,d,te,W,m,R]),{ref:ve,active:pe}=_6e(se,{onScrubEnd:()=>!w&&(a==null?void 0:a(R&&(m!=null&&m.length)?one(B.current,m.map(Ne=>Ne.value)):B.current))},L),Ge=Ne=>{var Ke,Je,Ae,$e,Ze,lt;if(!w)switch(Ne.key){case"ArrowUp":{if(Ne.preventDefault(),(Ke=V.current)==null||Ke.focus(),R&&m){const st=fF(j,m);W(st),a==null||a(st);break}const gt=jk(Math.min(Math.max(j+d,u),c),te);W(gt),a==null||a(gt);break}case"ArrowRight":{if(Ne.preventDefault(),(Je=V.current)==null||Je.focus(),R&&m){const st=L==="rtl"?pF(j,m):fF(j,m);W(st),a==null||a(st);break}const gt=jk(Math.min(Math.max(L==="rtl"?j-d:j+d,u),c),te);W(gt),a==null||a(gt);break}case"ArrowDown":{if(Ne.preventDefault(),(Ae=V.current)==null||Ae.focus(),R&&m){const st=pF(j,m);W(st),a==null||a(st);break}const gt=jk(Math.min(Math.max(j-d,u),c),te);W(gt),a==null||a(gt);break}case"ArrowLeft":{if(Ne.preventDefault(),($e=V.current)==null||$e.focus(),R&&m){const st=L==="rtl"?fF(j,m):pF(j,m);W(st),a==null||a(st);break}const gt=jk(Math.min(Math.max(L==="rtl"?j+d:j-d,u),c),te);W(gt),a==null||a(gt);break}case"Home":{if(Ne.preventDefault(),(Ze=V.current)==null||Ze.focus(),R&&m){W(ore(m)),a==null||a(ore(m));break}W(u),a==null||a(u);break}case"End":{if(Ne.preventDefault(),(lt=V.current)==null||lt.focus(),R&&m){W(sre(m)),a==null||a(sre(m));break}W(c),a==null||a(c);break}}};return k.jsx(_He,{value:{getStyles:N},children:k.jsxs(wbe,{...M,ref:ho(t,H),onKeyDownCapture:Ge,onMouseDownCapture:()=>{var Ne;return(Ne=H.current)==null?void 0:Ne.focus()},size:l,disabled:w,children:[k.jsx(Sbe,{inverted:T,offset:0,filled:G,marks:m,min:u,max:c,value:ne,disabled:w,containerProps:{ref:ve,onMouseEnter:_?()=>F(!0):void 0,onMouseLeave:_?()=>F(!1):void 0},children:k.jsx(xbe,{max:c,min:u,value:ne,position:G,dragging:pe,label:X,ref:V,labelTransitionProps:y,labelAlwaysOn:v,thumbLabel:b,showLabelOnHover:_,isHovered:z,disabled:w,...A,children:x})}),k.jsx("input",{type:"hidden",name:p,value:ne,...I})]})})});gW.classes=Tbe;gW.displayName="@mantine/core/Slider";const kHe={},Gl=We((e,t)=>{const{w:n,h:r,miw:i,mih:o,...s}=Ee("Space",kHe,e);return k.jsx(ge,{ref:t,...s,w:n,miw:i??n,h:r,mih:o??r})});Gl.displayName="@mantine/core/Space";var Cbe={root:"m_559cce2d",content:"m_b912df4e",control:"m_b9131032"};const IHe={maxHeight:100,initialState:!1},RHe=(e,{transitionDuration:t})=>({root:{"--spoiler-transition-duration":t!==void 0?`${t}ms`:void 0}}),yW=We((e,t)=>{const n=Ee("Spoiler",IHe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,initialState:u,maxHeight:c,hideLabel:d,showLabel:h,children:f,controlRef:p,transitionDuration:m,id:g,expanded:y,onExpandedChange:v,...b}=n,_=kt({name:"Spoiler",classes:Cbe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:RHe}),x=Fa(g),w=`${x}-region`,[E,S]=Mo({value:y,defaultValue:u,finalValue:!1,onChange:v}),{ref:T,height:C}=S6e(),D=E?d:h,$=D!==null&&c<C;return k.jsxs(ge,{..._("root"),id:x,ref:t,"data-has-spoiler":$||void 0,...b,children:[$&&k.jsx(Vv,{component:"button",type:"button",ref:p,onClick:()=>S(!E),"aria-expanded":E,"aria-controls":w,..._("control"),children:D}),k.jsx("div",{..._("content",{style:{maxHeight:E?C?_e(C):void 0:_e(c)}}),"data-reduce-motion":!0,role:"region",id:w,children:k.jsx("div",{ref:T,children:f})})]})});yW.classes=Cbe;yW.displayName="@mantine/core/Spoiler";var Abe={root:"m_6d731127"};const $He={gap:"md",align:"stretch",justify:"flex-start"},DHe=(e,{gap:t,align:n,justify:r})=>({root:{"--stack-gap":ei(t),"--stack-align":n,"--stack-justify":r}}),tu=We((e,t)=>{const n=Ee("Stack",$He,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,align:u,justify:c,gap:d,variant:h,...f}=n,p=kt({name:"Stack",props:n,classes:Abe,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:DHe});return k.jsx(ge,{ref:t,...p("root"),variant:h,...f})});tu.classes=Abe;tu.displayName="@mantine/core/Stack";const kbe=O.createContext(null),MHe=kbe.Provider,PHe=()=>O.useContext(kbe),NHe={},vW=We((e,t)=>{const{value:n,defaultValue:r,onChange:i,size:o,wrapperProps:s,children:a,readOnly:l,...u}=Ee("SwitchGroup",NHe,e),[c,d]=Mo({value:n,defaultValue:r,finalValue:[],onChange:i}),h=f=>{const p=f.currentTarget.value;!l&&d(c.includes(p)?c.filter(m=>m!==p):[...c,p])};return k.jsx(MHe,{value:{value:c,onChange:h,size:o},children:k.jsx(Er.Wrapper,{size:o,ref:t,...s,...u,labelElement:"div",__staticSelector:"SwitchGroup",children:k.jsx(BV,{role:"group",children:a})})})});vW.classes=Er.Wrapper.classes;vW.displayName="@mantine/core/SwitchGroup";var Ibe={root:"m_5f93f3bb",input:"m_926b4011",track:"m_9307d992",thumb:"m_93039a1d",trackLabel:"m_8277e082"};const OHe={labelPosition:"right"},LHe=(e,{radius:t,color:n,size:r})=>({root:{"--switch-radius":t===void 0?void 0:mr(t),"--switch-height":pn(r,"switch-height"),"--switch-width":pn(r,"switch-width"),"--switch-thumb-size":pn(r,"switch-thumb-size"),"--switch-label-font-size":pn(r,"switch-label-font-size"),"--switch-track-label-padding":pn(r,"switch-track-label-padding"),"--switch-color":n?$r(n,e):void 0}}),ng=We((e,t)=>{const n=Ee("Switch",OHe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,color:u,label:c,offLabel:d,onLabel:h,id:f,size:p,radius:m,wrapperProps:g,thumbIcon:y,checked:v,defaultChecked:b,onChange:_,labelPosition:x,description:w,error:E,disabled:S,variant:T,rootRef:C,mod:D,...$}=n,I=PHe(),R=p||(I==null?void 0:I.size),A=kt({name:"Switch",props:n,classes:Ibe,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:LHe}),{styleProps:M,rest:N}=Hv($),L=Fa(f),z=I?{checked:I.value.includes(N.value),onChange:I.onChange}:{},[F,j]=Mo({value:z.checked??v,defaultValue:b,finalValue:!1});return k.jsxs(DP,{...A("root"),__staticSelector:"Switch",__stylesApiProps:n,id:L,size:R,labelPosition:x,label:c,description:w,error:E,disabled:S,bodyElement:"label",labelElement:"span",classNames:r,styles:s,unstyled:a,"data-checked":z.checked||v||void 0,variant:T,ref:C,mod:D,...M,...g,children:[k.jsx("input",{...N,disabled:S,checked:F,"data-checked":z.checked||v||void 0,onChange:W=>{var B;I?(B=z.onChange)==null||B.call(z,W):_==null||_(W),j(W.currentTarget.checked)},id:L,ref:t,type:"checkbox",role:"switch",...A("input")}),k.jsxs(ge,{"aria-hidden":"true",mod:{error:E,"label-position":x,"without-labels":!h&&!d},...A("track"),children:[k.jsx(ge,{component:"span",mod:"reduce-motion",...A("thumb"),children:y}),k.jsx("span",{...A("trackLabel"),children:F?h:d})]})]})});ng.classes={...Ibe,...kve};ng.displayName="@mantine/core/Switch";ng.Group=vW;const[FHe,BHe]=Oo("Table component was not found in the tree");var OA={table:"m_b23fa0ef",th:"m_4e7aa4f3",tr:"m_4e7aa4fd",td:"m_4e7aa4ef",tbody:"m_b2404537",thead:"m_b242d975",caption:"m_9e5a3ac7",scrollContainer:"m_a100c15",scrollContainerInner:"m_62259741"};function jHe(e,t){if(!t)return;const n={};return t.columnBorder&&e.withColumnBorders&&(n["data-with-column-border"]=!0),t.rowBorder&&e.withRowBorders&&(n["data-with-row-border"]=!0),t.striped&&e.striped&&(n["data-striped"]=e.striped),t.highlightOnHover&&e.highlightOnHover&&(n["data-hover"]=!0),t.captionSide&&e.captionSide&&(n["data-side"]=e.captionSide),t.stickyHeader&&e.stickyHeader&&(n["data-sticky"]=!0),n}function Wv(e,t){const n=`Table${e.charAt(0).toUpperCase()}${e.slice(1)}`,r=We((i,o)=>{const s=Ee(n,{},i),{classNames:a,className:l,style:u,styles:c,...d}=s,h=BHe();return k.jsx(ge,{component:e,ref:o,...jHe(h,t),...h.getStyles(e,{className:l,classNames:a,style:u,styles:c,props:s}),...d})});return r.displayName=`@mantine/core/${n}`,r.classes=OA,r}const b9=Wv("th",{columnBorder:!0}),Rbe=Wv("td",{columnBorder:!0}),kI=Wv("tr",{rowBorder:!0,striped:!0,highlightOnHover:!0}),$be=Wv("thead",{stickyHeader:!0}),Dbe=Wv("tbody"),Mbe=Wv("tfoot"),Pbe=Wv("caption",{captionSide:!0});function bW({data:e}){return k.jsxs(k.Fragment,{children:[e.caption&&k.jsx(Pbe,{children:e.caption}),e.head&&k.jsx($be,{children:k.jsx(kI,{children:e.head.map((t,n)=>k.jsx(b9,{children:t},n))})}),e.body&&k.jsx(Dbe,{children:e.body.map((t,n)=>k.jsx(kI,{children:t.map((r,i)=>k.jsx(Rbe,{children:r},i))},n))}),e.foot&&k.jsx(Mbe,{children:k.jsx(kI,{children:e.foot.map((t,n)=>k.jsx(b9,{children:t},n))})})]})}bW.displayName="@mantine/core/TableDataRenderer";const zHe={type:"scrollarea"},UHe=(e,{minWidth:t,type:n})=>({scrollContainer:{"--table-min-width":_e(t),"--table-overflow":n==="native"?"auto":void 0}}),wW=We((e,t)=>{const n=Ee("TableScrollContainer",zHe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,children:u,minWidth:c,type:d,...h}=n,f=kt({name:"TableScrollContainer",classes:OA,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:UHe,rootSelector:"scrollContainer"});return k.jsx(ge,{component:d==="scrollarea"?gp:"div",...d==="scrollarea"?{offsetScrollbars:"x"}:{},ref:t,...f("scrollContainer"),...h,children:k.jsx("div",{...f("scrollContainerInner"),children:u})})});wW.classes=OA;wW.displayName="@mantine/core/TableScrollContainer";const HHe={withRowBorders:!0,verticalSpacing:7},VHe=(e,{layout:t,captionSide:n,horizontalSpacing:r,verticalSpacing:i,borderColor:o,stripedColor:s,highlightOnHoverColor:a,striped:l,highlightOnHover:u,stickyHeaderOffset:c,stickyHeader:d})=>({table:{"--table-layout":t,"--table-caption-side":n,"--table-horizontal-spacing":ei(r),"--table-vertical-spacing":ei(i),"--table-border-color":o?$r(o,e):void 0,"--table-striped-color":l&&s?$r(s,e):void 0,"--table-highlight-on-hover-color":u&&a?$r(a,e):void 0,"--table-sticky-header-offset":d?_e(c):void 0}}),Mt=We((e,t)=>{const n=Ee("Table",HHe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,horizontalSpacing:u,verticalSpacing:c,captionSide:d,stripedColor:h,highlightOnHoverColor:f,striped:p,highlightOnHover:m,withColumnBorders:g,withRowBorders:y,withTableBorder:v,borderColor:b,layout:_,variant:x,data:w,children:E,stickyHeader:S,stickyHeaderOffset:T,mod:C,tabularNums:D,...$}=n,I=kt({name:"Table",props:n,className:i,style:o,classes:OA,classNames:r,styles:s,unstyled:a,rootSelector:"table",vars:l,varsResolver:VHe});return k.jsx(FHe,{value:{getStyles:I,stickyHeader:S,striped:p===!0?"odd":p||void 0,highlightOnHover:m,withColumnBorders:g,withRowBorders:y,captionSide:d||"bottom"},children:k.jsx(ge,{component:"table",variant:x,ref:t,mod:[{"data-with-table-border":v,"data-tabular-nums":D},C],...I("table"),...$,children:E||!!w&&k.jsx(bW,{data:w})})})});Mt.classes=OA;Mt.displayName="@mantine/core/Table";Mt.Td=Rbe;Mt.Th=b9;Mt.Tr=kI;Mt.Thead=$be;Mt.Tbody=Dbe;Mt.Tfoot=Mbe;Mt.Caption=Pbe;Mt.ScrollContainer=wW;Mt.DataRenderer=bW;const[WHe,xW]=Oo("Tabs component was not found in the tree");var LA={root:"m_89d60db1","list--default":"m_576c9d4",list:"m_89d33d6d",panel:"m_b0c91715",tab:"m_4ec4dce6",tabSection:"m_fc420b1f","tab--default":"m_539e827b","list--outline":"m_6772fbd5","tab--outline":"m_b59ab47c","tab--pills":"m_c3381914"};const qHe={},_W=We((e,t)=>{const n=Ee("TabsList",qHe,e),{children:r,className:i,grow:o,justify:s,classNames:a,styles:l,style:u,mod:c,...d}=n,h=xW();return k.jsx(ge,{...d,...h.getStyles("list",{className:i,style:u,classNames:a,styles:l,props:n,variant:h.variant}),ref:t,role:"tablist",variant:h.variant,mod:[{grow:o,orientation:h.orientation,placement:h.orientation==="vertical"&&h.placement,inverted:h.inverted},c],"aria-orientation":h.orientation,__vars:{"--tabs-justify":s},children:r})});_W.classes=LA;_W.displayName="@mantine/core/TabsList";const GHe={},EW=We((e,t)=>{const n=Ee("TabsPanel",GHe,e),{children:r,className:i,value:o,classNames:s,styles:a,style:l,mod:u,keepMounted:c,...d}=n,h=xW(),f=h.value===o,p=h.keepMounted||c||f?r:null;return k.jsx(ge,{...d,...h.getStyles("panel",{className:i,classNames:s,styles:a,style:[l,f?void 0:{display:"none"}],props:n}),ref:t,mod:[{orientation:h.orientation},u],role:"tabpanel",id:h.getPanelId(o),"aria-labelledby":h.getTabId(o),children:p})});EW.classes=LA;EW.displayName="@mantine/core/TabsPanel";const YHe={},SW=We((e,t)=>{const n=Ee("TabsTab",YHe,e),{className:r,children:i,rightSection:o,leftSection:s,value:a,onClick:l,onKeyDown:u,disabled:c,color:d,style:h,classNames:f,styles:p,vars:m,mod:g,tabIndex:y,...v}=n,b=Gi(),{dir:_}=Jg(),x=xW(),w=a===x.value,E=T=>{x.onChange(x.allowTabDeactivation&&a===x.value?null:a),l==null||l(T)},S={classNames:f,styles:p,props:n};return k.jsxs(eu,{...v,...x.getStyles("tab",{className:r,style:h,variant:x.variant,...S}),disabled:c,unstyled:x.unstyled,variant:x.variant,mod:[{active:w,disabled:c,orientation:x.orientation,inverted:x.inverted,placement:x.orientation==="vertical"&&x.placement},g],ref:t,role:"tab",id:x.getTabId(a),"aria-selected":w,tabIndex:y!==void 0?y:w||x.value===null?0:-1,"aria-controls":x.getPanelId(a),onClick:E,__vars:{"--tabs-color":d?$r(d,b):void 0},onKeyDown:OH({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:x.activateTabWithKeyboard,loop:x.loop,orientation:x.orientation||"horizontal",dir:_,onKeyDown:u}),children:[s&&k.jsx("span",{...x.getStyles("tabSection",S),"data-position":"left",children:s}),i&&k.jsx("span",{...x.getStyles("tabLabel",S),children:i}),o&&k.jsx("span",{...x.getStyles("tabSection",S),"data-position":"right",children:o})]})});SW.classes=LA;SW.displayName="@mantine/core/TabsTab";const are="Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value",KHe={keepMounted:!0,orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,allowTabDeactivation:!1,unstyled:!1,inverted:!1,variant:"default",placement:"left"},XHe=(e,{radius:t,color:n,autoContrast:r})=>({root:{"--tabs-radius":mr(t),"--tabs-color":$r(n,e),"--tabs-text-color":Nx(r,e)?jv({color:n,theme:e,autoContrast:r}):void 0}}),Fn=We((e,t)=>{const n=Ee("Tabs",KHe,e),{defaultValue:r,value:i,onChange:o,orientation:s,children:a,loop:l,id:u,activateTabWithKeyboard:c,allowTabDeactivation:d,variant:h,color:f,radius:p,inverted:m,placement:g,keepMounted:y,classNames:v,styles:b,unstyled:_,className:x,style:w,vars:E,autoContrast:S,mod:T,...C}=n,D=Fa(u),[$,I]=Mo({value:i,defaultValue:r,finalValue:null,onChange:o}),R=kt({name:"Tabs",props:n,classes:LA,className:x,style:w,classNames:v,styles:b,unstyled:_,vars:E,varsResolver:XHe});return k.jsx(WHe,{value:{placement:g,value:$,orientation:s,id:D,loop:l,activateTabWithKeyboard:c,getTabId:i$(`${D}-tab`,are),getPanelId:i$(`${D}-panel`,are),onChange:I,allowTabDeactivation:d,variant:h,color:f,radius:p,inverted:m,keepMounted:y,unstyled:_,getStyles:R},children:k.jsx(ge,{ref:t,id:D,variant:h,mod:[{orientation:s,inverted:s==="horizontal"&&m,placement:s==="vertical"&&g},T],...R("root"),...C,children:a})})});Fn.classes=LA;Fn.displayName="@mantine/core/Tabs";Fn.Tab=SW;Fn.Panel=EW;Fn.List=_W;const QHe={},Lf=We((e,t)=>{const n=Ee("TextInput",QHe,e);return k.jsx(Zu,{component:"input",ref:t,...n,__staticSelector:"TextInput"})});Lf.classes=Zu.classes;Lf.displayName="@mantine/core/TextInput";const JHe=["h1","h2","h3","h4","h5","h6"],ZHe=["xs","sm","md","lg","xl"];function eVe(e,t){const n=t!==void 0?t:`h${e}`;return JHe.includes(n)?{fontSize:`var(--mantine-${n}-font-size)`,fontWeight:`var(--mantine-${n}-font-weight)`,lineHeight:`var(--mantine-${n}-line-height)`}:ZHe.includes(n)?{fontSize:`var(--mantine-font-size-${n})`,fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}:{fontSize:_e(n),fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}}var Nbe={root:"m_8a5d1357"};const tVe={order:1},nVe=(e,{order:t,size:n,lineClamp:r,textWrap:i})=>{const o=eVe(t,n);return{root:{"--title-fw":o.fontWeight,"--title-lh":o.lineHeight,"--title-fz":o.fontSize,"--title-line-clamp":typeof r=="number"?r.toString():void 0,"--title-text-wrap":i}}},wi=We((e,t)=>{const n=Ee("Title",tVe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,order:l,vars:u,size:c,variant:d,lineClamp:h,textWrap:f,mod:p,...m}=n,g=kt({name:"Title",props:n,classes:Nbe,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:nVe});return[1,2,3,4,5,6].includes(l)?k.jsx(ge,{...g("root"),component:`h${l}`,variant:d,ref:t,mod:[{order:l,"data-line-clamp":typeof h=="number"},p],size:c,...m}):null});wi.classes=Nbe;wi.displayName="@mantine/core/Title";function rVe(e){let t=e,n=!1;const r=new Set;return{getState(){return t},updateState(i){t=typeof i=="function"?i(t):i},setState(i){this.updateState(i),r.forEach(o=>o(t))},initialize(i){n||(t=i,n=!0)},subscribe(i){return r.add(i),()=>r.delete(i)}}}function iVe(e){return O.useSyncExternalStore(e.subscribe,()=>e.getState(),()=>e.getState())}function oVe(e,t,n){const r=[],i=[],o={};for(const s of e){const a=s.position||t;o[a]=o[a]||0,o[a]+=1,o[a]<=n?i.push(s):r.push(s)}return{notifications:i,queue:r}}const sVe=()=>rVe({notifications:[],queue:[],defaultPosition:"bottom-right",limit:5}),qv=sVe(),aVe=(e=qv)=>iVe(e);function Yx(e,t){const n=e.getState(),r=t([...n.notifications,...n.queue]),i=oVe(r,n.defaultPosition,n.limit);e.setState({notifications:i.notifications,queue:i.queue,limit:n.limit,defaultPosition:n.defaultPosition})}function lVe(e,t=qv){const n=e.id||K1();return Yx(t,r=>e.id&&r.some(i=>i.id===e.id)?r:[...r,{...e,id:n}]),n}function Obe(e,t=qv){return Yx(t,n=>n.filter(r=>{var i;return r.id===e?((i=r.onClose)==null||i.call(r,r),!1):!0})),e}function uVe(e,t=qv){return Yx(t,n=>n.map(r=>r.id===e.id?{...r,...e}:r)),e.id}function cVe(e=qv){Yx(e,()=>[])}function dVe(e=qv){Yx(e,t=>t.slice(0,e.getState().limit))}const Gv={show:lVe,hide:Obe,update:uVe,clean:cVe,cleanQueue:dVe,updateState:Yx};function w9(e,t){return w9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},w9(e,t)}function Lbe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,w9(e,t)}var Fbe={exports:{}},hVe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",fVe=hVe,pVe=fVe;function Bbe(){}function jbe(){}jbe.resetWarningCache=Bbe;var mVe=function(){function e(r,i,o,s,a,l){if(l!==pVe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:jbe,resetWarningCache:Bbe};return n.PropTypes=n,n};Fbe.exports=mVe();var YP=Fbe.exports;const g$=hu(YP),lre={disabled:!1},y$=Nn.createContext(null);var gVe=function(t){return t.scrollTop},tS="unmounted",G0="exited",Y0="entering",l1="entered",x9="exiting",zp=function(e){Lbe(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?a?(l=G0,o.appearStatus=Y0):l=l1:r.unmountOnExit||r.mountOnEnter?l=tS:l=G0,o.state={status:l},o.nextCallback=null,o}t.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===tS?{status:G0}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==Y0&&s!==l1&&(o=Y0):(s===Y0||s===l1)&&(o=x9)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Y0){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:eS.findDOMNode(this);s&&gVe(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===G0&&this.setState({status:tS})},n.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[eS.findDOMNode(this),a],u=l[0],c=l[1],d=this.getTimeouts(),h=a?d.appear:d.enter;if(!i&&!s||lre.disabled){this.safeSetState({status:l1},function(){o.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:Y0},function(){o.props.onEntering(u,c),o.onTransitionEnd(h,function(){o.safeSetState({status:l1},function(){o.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:eS.findDOMNode(this);if(!o||lre.disabled){this.safeSetState({status:G0},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:x9},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:G0},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:eS.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===tS)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=YV(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Nn.createElement(y$.Provider,{value:null},typeof s=="function"?s(i,a):Nn.cloneElement(Nn.Children.only(s),a))},t}(Nn.Component);zp.contextType=y$;zp.propTypes={};function zb(){}zp.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:zb,onEntering:zb,onEntered:zb,onExit:zb,onExiting:zb,onExited:zb};zp.UNMOUNTED=tS;zp.EXITED=G0;zp.ENTERING=Y0;zp.ENTERED=l1;zp.EXITING=x9;function yVe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TW(e,t){var n=function(o){return t&&O.isValidElement(o)?t(o):o},r=Object.create(null);return e&&O.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function vVe(e,t){e=e||{},t=t||{};function n(c){return c in t?t[c]:e[c]}var r=Object.create(null),i=[];for(var o in e)o in t?i.length&&(r[o]=i,i=[]):i.push(o);var s,a={};for(var l in t){if(r[l])for(s=0;s<r[l].length;s++){var u=r[l][s];a[r[l][s]]=n(u)}a[l]=n(l)}for(s=0;s<i.length;s++)a[i[s]]=n(i[s]);return a}function by(e,t,n){return n[t]!=null?n[t]:e.props[t]}function bVe(e,t){return TW(e.children,function(n){return O.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:by(n,"appear",e),enter:by(n,"enter",e),exit:by(n,"exit",e)})})}function wVe(e,t,n){var r=TW(e.children),i=vVe(t,r);return Object.keys(i).forEach(function(o){var s=i[o];if(O.isValidElement(s)){var a=o in t,l=o in r,u=t[o],c=O.isValidElement(u)&&!u.props.in;l&&(!a||c)?i[o]=O.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:by(s,"exit",e),enter:by(s,"enter",e)}):!l&&a&&!c?i[o]=O.cloneElement(s,{in:!1}):l&&a&&O.isValidElement(u)&&(i[o]=O.cloneElement(s,{onExited:n.bind(null,s),in:u.props.in,exit:by(s,"exit",e),enter:by(s,"enter",e)}))}}),i}var xVe=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},_Ve={component:"div",childFactory:function(t){return t}},gm=function(e){Lbe(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var s=o.handleExited.bind(yVe(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,o){var s=o.children,a=o.handleExited,l=o.firstRender;return{children:l?bVe(i,a):wVe(i,s,a),firstRender:!1}},n.handleExited=function(i,o){var s=TW(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(a){var l=p$({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,o=i.component,s=i.childFactory,a=YV(i,["component","childFactory"]),l=this.state.contextValue,u=xVe(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,o===null?Nn.createElement(y$.Provider,{value:l},u):Nn.createElement(y$.Provider,{value:l},Nn.createElement(o,a,u))},t}(Nn.Component);gm.propTypes={};gm.defaultProps=_Ve;const zbe=["bottom-center","bottom-left","bottom-right","top-center","top-left","top-right"];function EVe(e,t){return e.reduce((n,r)=>(n[r.position||t].push(r),n),zbe.reduce((n,r)=>(n[r]=[],n),{}))}const ure={left:"translateX(-100%)",right:"translateX(100%)","top-center":"translateY(-100%)","bottom-center":"translateY(100%)"},SVe={left:"translateX(0)",right:"translateX(0)","top-center":"translateY(0)","bottom-center":"translateY(0)"};function TVe({state:e,maxHeight:t,position:n,transitionDuration:r}){const[i,o]=n.split("-"),s=o==="center"?`${i}-center`:o,a={opacity:0,maxHeight:t,transform:ure[s],transitionDuration:`${r}ms, ${r}ms, ${r}ms`,transitionTimingFunction:"cubic-bezier(.51,.3,0,1.21), cubic-bezier(.51,.3,0,1.21), linear",transitionProperty:"opacity, transform, max-height"},l={opacity:1,transform:SVe[s]},u={opacity:0,maxHeight:0,transform:ure[s]};return{...a,...{entering:l,entered:l,exiting:u,exited:u}[e]}}function CVe(e,t){return typeof t=="number"?t:t===!1||e===!1?!1:e}const Ube=O.forwardRef(({data:e,onHide:t,autoClose:n,...r},i)=>{const{autoClose:o,message:s,...a}=e,l=CVe(n,e.autoClose),u=O.useRef(-1),c=()=>window.clearTimeout(u.current),d=()=>{t(e.id),c()},h=()=>{typeof l=="number"&&(u.current=window.setTimeout(d,l))};return O.useEffect(()=>{var f;(f=e.onOpen)==null||f.call(e,e)},[]),O.useEffect(()=>(h(),c),[l]),k.jsx(sW,{...r,...a,onClose:d,ref:i,onMouseEnter:c,onMouseLeave:h,children:s})});Ube.displayName="@mantine/notifications/NotificationContainer";var Hbe={root:"m_b37d9ac7",notification:"m_5ed0edd0"};const AVe=zp,kVe={position:"bottom-right",autoClose:4e3,transitionDuration:250,containerWidth:440,notificationMaxHeight:200,limit:5,zIndex:Tl("overlay"),store:qv,withinPortal:!0},IVe=(e,{zIndex:t,containerWidth:n})=>({root:{"--notifications-z-index":t==null?void 0:t.toString(),"--notifications-container-width":_e(n)}}),Up=We((e,t)=>{const n=Ee("Notifications",kVe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,position:u,autoClose:c,transitionDuration:d,containerWidth:h,notificationMaxHeight:f,limit:p,zIndex:m,store:g,portalProps:y,withinPortal:v,...b}=n,_=Gi(),x=aVe(g),w=b6e(),E=yP(),S=O.useRef({}),T=O.useRef(0),D=(_.respectReducedMotion?E:!1)?1:d,$=kt({name:"Notifications",classes:Hbe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:IVe});O.useEffect(()=>{g==null||g.updateState(A=>({...A,limit:p||5,defaultPosition:u}))},[p,u]),xh(()=>{x.notifications.length>T.current&&setTimeout(()=>w(),0),T.current=x.notifications.length},[x.notifications]);const I=EVe(x.notifications,u),R=zbe.reduce((A,M)=>(A[M]=I[M].map(({style:N,...L})=>k.jsx(AVe,{timeout:D,onEnter:()=>S.current[L.id].offsetHeight,nodeRef:{current:S.current[L.id]},children:z=>k.jsx(Ube,{ref:F=>{S.current[L.id]=F},data:L,onHide:F=>Obe(F,g),autoClose:c,...$("notification",{style:{...TVe({state:z,position:M,transitionDuration:D,maxHeight:f}),...N}})})},L.id)),A),{});return k.jsxs(Zg,{withinPortal:v,...y,children:[k.jsx(ge,{...$("root"),"data-position":"top-center",ref:t,...b,children:k.jsx(gm,{children:R["top-center"]})}),k.jsx(ge,{...$("root"),"data-position":"top-left",...b,children:k.jsx(gm,{children:R["top-left"]})}),k.jsx(ge,{...$("root",{className:Iw.classNames.fullWidth}),"data-position":"top-right",...b,children:k.jsx(gm,{children:R["top-right"]})}),k.jsx(ge,{...$("root",{className:Iw.classNames.fullWidth}),"data-position":"bottom-right",...b,children:k.jsx(gm,{children:R["bottom-right"]})}),k.jsx(ge,{...$("root"),"data-position":"bottom-left",...b,children:k.jsx(gm,{children:R["bottom-left"]})}),k.jsx(ge,{...$("root"),"data-position":"bottom-center",...b,children:k.jsx(gm,{children:R["bottom-center"]})})]})});Up.classes=Hbe;Up.displayName="@mantine/notifications/Notifications";Up.show=Gv.show;Up.hide=Gv.hide;Up.update=Gv.update;Up.clean=Gv.clean;Up.cleanQueue=Gv.cleanQueue;Up.updateState=Gv.updateState;const Vbe=O.createContext({storageEngine:void 0,setStorageEngine:()=>{}}),Si=()=>O.useContext(Vbe);function RVe({children:e}){const[t,n]=O.useState(void 0),r=O.useMemo(()=>({storageEngine:t,setStorageEngine:n}),[t]);return k.jsx(Vbe.Provider,{value:r,children:e})}var CW={};Object.defineProperty(CW,"__esModule",{value:!0});CW.parse=LVe;CW.serialize=FVe;const $Ve=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,DVe=/^[\u0021-\u003A\u003C-\u007E]*$/,MVe=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,PVe=/^[\u0020-\u003A\u003D-\u007E]*$/,NVe=Object.prototype.toString,OVe=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function LVe(e,t){const n=new OVe,r=e.length;if(r<2)return n;const i=(t==null?void 0:t.decode)||BVe;let o=0;do{const s=e.indexOf("=",o);if(s===-1)break;const a=e.indexOf(";",o),l=a===-1?r:a;if(s>l){o=e.lastIndexOf(";",s-1)+1;continue}const u=cre(e,o,s),c=dre(e,s,u),d=e.slice(u,c);if(n[d]===void 0){let h=cre(e,s+1,l),f=dre(e,l,h);const p=i(e.slice(h,f));n[d]=p}o=l+1}while(o<r);return n}function cre(e,t,n){do{const r=e.charCodeAt(t);if(r!==32&&r!==9)return t}while(++t<n);return n}function dre(e,t,n){for(;t>n;){const r=e.charCodeAt(--t);if(r!==32&&r!==9)return t+1}return n}function FVe(e,t,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!$Ve.test(e))throw new TypeError(`argument name is invalid: ${e}`);const i=r(t);if(!DVe.test(i))throw new TypeError(`argument val is invalid: ${t}`);let o=e+"="+i;if(!n)return o;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);o+="; Max-Age="+n.maxAge}if(n.domain){if(!MVe.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);o+="; Domain="+n.domain}if(n.path){if(!PVe.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);o+="; Path="+n.path}if(n.expires){if(!jVe(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);o+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(o+="; HttpOnly"),n.secure&&(o+="; Secure"),n.partitioned&&(o+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"none":o+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return o}function BVe(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function jVe(e){return NVe.call(e)==="[object Date]"}/**
 * react-router v7.4.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var hre="popstate";function zVe(e={}){function t(r,i){let{pathname:o,search:s,hash:a}=r.location;return _9("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:aC(i)}return HVe(t,n,null,e)}function ni(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Hu(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function UVe(){return Math.random().toString(36).substring(2,10)}function fre(e,t){return{usr:e.state,key:e.key,idx:t}}function _9(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Kx(t):t,state:n,key:t&&t.key||r||UVe()}}function aC({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Kx(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function HVe(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a="POP",l=null,u=c();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function c(){return(s.state||{idx:null}).idx}function d(){a="POP";let g=c(),y=g==null?null:g-u;u=g,l&&l({action:a,location:m.location,delta:y})}function h(g,y){a="PUSH";let v=_9(m.location,g,y);u=c()+1;let b=fre(v,u),_=m.createHref(v);try{s.pushState(b,"",_)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;i.location.assign(_)}o&&l&&l({action:a,location:m.location,delta:1})}function f(g,y){a="REPLACE";let v=_9(m.location,g,y);u=c();let b=fre(v,u),_=m.createHref(v);s.replaceState(b,"",_),o&&l&&l({action:a,location:m.location,delta:0})}function p(g){let y=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof g=="string"?g:aC(g);return v=v.replace(/ $/,"%20"),ni(y,`No window.location.(origin|href) available to create URL for href: ${v}`),new URL(v,y)}let m={get action(){return a},get location(){return e(i,s)},listen(g){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(hre,d),l=g,()=>{i.removeEventListener(hre,d),l=null}},createHref(g){return t(i,g)},createURL:p,encodeLocation(g){let y=p(g);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:f,go(g){return s.go(g)}};return m}function Wbe(e,t,n="/"){return VVe(e,t,n,!1)}function VVe(e,t,n,r){let i=typeof t=="string"?Kx(t):t,o=vp(i.pathname||"/",n);if(o==null)return null;let s=qbe(e);WVe(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let u=nWe(o);a=eWe(s[l],u,r)}return a}function qbe(e,t=[],n=[],r=""){let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(ni(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let u=Xf([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(ni(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),qbe(o.children,t,c,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:JVe(u,o.index),routesMeta:c})};return e.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of Gbe(o.path))i(o,s,l)}),t}function Gbe(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=Gbe(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function WVe(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:ZVe(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var qVe=/^:[\w-]+$/,GVe=3,YVe=2,KVe=1,XVe=10,QVe=-2,pre=e=>e==="*";function JVe(e,t){let n=e.split("/"),r=n.length;return n.some(pre)&&(r+=QVe),t&&(r+=YVe),n.filter(i=>!pre(i)).reduce((i,o)=>i+(qVe.test(o)?GVe:o===""?KVe:XVe),r)}function ZVe(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function eWe(e,t,n=!1){let{routesMeta:r}=e,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=o==="/"?t:t.slice(o.length)||"/",d=v$({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=v$({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:Xf([o,d.pathname]),pathnameBase:sWe(Xf([o,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(o=Xf([o,d.pathnameBase]))}return s}function v$(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=tWe(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:c,isOptional:d},h)=>{if(c==="*"){let p=a[h]||"";s=o.slice(0,o.length-p.length).replace(/(.)\/+$/,"$1")}const f=a[h];return d&&!f?u[c]=void 0:u[c]=(f||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:e}}function tWe(e,t=!1,n=!0){Hu(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function nWe(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Hu(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function vp(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function rWe(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Kx(e):e;return{pathname:n?n.startsWith("/")?n:iWe(n,t):t,search:aWe(r),hash:lWe(i)}}function iWe(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function mF(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function oWe(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function AW(e){let t=oWe(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function kW(e,t,n,r=!1){let i;typeof e=="string"?i=Kx(e):(i={...e},ni(!i.pathname||!i.pathname.includes("?"),mF("?","pathname","search",i)),ni(!i.pathname||!i.pathname.includes("#"),mF("#","pathname","hash",i)),ni(!i.search||!i.search.includes("#"),mF("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let d=t.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?t[d]:"/"}let l=rWe(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var Xf=e=>e.join("/").replace(/\/\/+/g,"/"),sWe=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),aWe=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,lWe=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function uWe(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Ybe=["POST","PUT","PATCH","DELETE"];new Set(Ybe);var cWe=["GET",...Ybe];new Set(cWe);var Xx=O.createContext(null);Xx.displayName="DataRouter";var KP=O.createContext(null);KP.displayName="DataRouterState";var Kbe=O.createContext({isTransitioning:!1});Kbe.displayName="ViewTransition";var dWe=O.createContext(new Map);dWe.displayName="Fetchers";var hWe=O.createContext(null);hWe.displayName="Await";var hd=O.createContext(null);hd.displayName="Navigation";var FA=O.createContext(null);FA.displayName="Location";var tc=O.createContext({outlet:null,matches:[],isDataRoute:!1});tc.displayName="Route";var IW=O.createContext(null);IW.displayName="RouteError";function RW(e,{relative:t}={}){ni(Qx(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=O.useContext(hd),{hash:i,pathname:o,search:s}=BA(e,{relative:t}),a=o;return n!=="/"&&(a=o==="/"?n:Xf([n,o])),r.createHref({pathname:a,search:s,hash:i})}function Qx(){return O.useContext(FA)!=null}function nc(){return ni(Qx(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(FA).location}var Xbe="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Qbe(e){O.useContext(hd).static||O.useLayoutEffect(e)}function mu(){let{isDataRoute:e}=O.useContext(tc);return e?CWe():fWe()}function fWe(){ni(Qx(),"useNavigate() may be used only in the context of a <Router> component.");let e=O.useContext(Xx),{basename:t,navigator:n}=O.useContext(hd),{matches:r}=O.useContext(tc),{pathname:i}=nc(),o=JSON.stringify(AW(r)),s=O.useRef(!1);return Qbe(()=>{s.current=!0}),O.useCallback((l,u={})=>{if(Hu(s.current,Xbe),!s.current)return;if(typeof l=="number"){n.go(l);return}let c=kW(l,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:Xf([t,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[t,n,o,i,e])}var pWe=O.createContext(null);function mWe(e){let t=O.useContext(tc).outlet;return t&&O.createElement(pWe.Provider,{value:e},t)}function ia(){let{matches:e}=O.useContext(tc),t=e[e.length-1];return t?t.params:{}}function BA(e,{relative:t}={}){let{matches:n}=O.useContext(tc),{pathname:r}=nc(),i=JSON.stringify(AW(n));return O.useMemo(()=>kW(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function Jbe(e,t){return Zbe(e,t)}function Zbe(e,t,n,r){var v;ni(Qx(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=O.useContext(hd),{matches:s}=O.useContext(tc),a=s[s.length-1],l=a?a.params:{},u=a?a.pathname:"/",c=a?a.pathnameBase:"/",d=a&&a.route;{let b=d&&d.path||"";e1e(u,!d||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let h=nc(),f;if(t){let b=typeof t=="string"?Kx(t):t;ni(c==="/"||((v=b.pathname)==null?void 0:v.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${b.pathname}" was given in the \`location\` prop.`),f=b}else f=h;let p=f.pathname||"/",m=p;if(c!=="/"){let b=c.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(b.length).join("/")}let g=!o&&n&&n.matches&&n.matches.length>0?n.matches:Wbe(e,{pathname:m});Hu(d||g!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),Hu(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=wWe(g&&g.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Xf([c,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Xf([c,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,n,r);return t&&y?O.createElement(FA.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},y):y}function gWe(){let e=TWe(),t=uWe(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:o},"ErrorBoundary")," or"," ",O.createElement("code",{style:o},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),n?O.createElement("pre",{style:i},n):null,s)}var yWe=O.createElement(gWe,null),vWe=class extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?O.createElement(tc.Provider,{value:this.props.routeContext},O.createElement(IW.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function bWe({routeContext:e,match:t,children:n}){let r=O.useContext(Xx);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),O.createElement(tc.Provider,{value:e},n)}function wWe(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,o=n==null?void 0:n.errors;if(o!=null){let l=i.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id])!==void 0);ni(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let s=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let u=i[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=l),u.route.id){let{loaderData:c,errors:d}=n,h=u.route.loader&&!c.hasOwnProperty(u.route.id)&&(!d||d[u.route.id]===void 0);if(u.route.lazy||h){s=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,u,c)=>{let d,h=!1,f=null,p=null;n&&(d=o&&u.route.id?o[u.route.id]:void 0,f=u.route.errorElement||yWe,s&&(a<0&&c===0?(e1e("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,p=null):a===c&&(h=!0,p=u.route.hydrateFallbackElement||null)));let m=t.concat(i.slice(0,c+1)),g=()=>{let y;return d?y=f:h?y=p:u.route.Component?y=O.createElement(u.route.Component,null):u.route.element?y=u.route.element:y=l,O.createElement(bWe,{match:u,routeContext:{outlet:l,matches:m,isDataRoute:n!=null},children:y})};return n&&(u.route.ErrorBoundary||u.route.errorElement||c===0)?O.createElement(vWe,{location:n.location,revalidation:n.revalidation,component:f,error:d,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}function $W(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xWe(e){let t=O.useContext(Xx);return ni(t,$W(e)),t}function _We(e){let t=O.useContext(KP);return ni(t,$W(e)),t}function EWe(e){let t=O.useContext(tc);return ni(t,$W(e)),t}function DW(e){let t=EWe(e),n=t.matches[t.matches.length-1];return ni(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function SWe(){return DW("useRouteId")}function TWe(){var r;let e=O.useContext(IW),t=_We("useRouteError"),n=DW("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function CWe(){let{router:e}=xWe("useNavigate"),t=DW("useNavigate"),n=O.useRef(!1);return Qbe(()=>{n.current=!0}),O.useCallback(async(i,o={})=>{Hu(n.current,Xbe),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...o}))},[e,t])}var mre={};function e1e(e,t,n){!t&&!mre[e]&&(mre[e]=!0,Hu(!1,n))}O.memo(AWe);function AWe({routes:e,future:t,state:n}){return Zbe(e,void 0,n,t)}function MW({to:e,replace:t,state:n,relative:r}){ni(Qx(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=O.useContext(hd);Hu(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=O.useContext(tc),{pathname:s}=nc(),a=mu(),l=kW(e,AW(o),s,r==="path"),u=JSON.stringify(l);return O.useEffect(()=>{a(JSON.parse(u),{replace:t,state:n,relative:r})},[a,u,r,t,n]),null}function kWe(e){return mWe(e.context)}function K0(e){ni(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function IWe({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){ni(!Qx(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),a=O.useMemo(()=>({basename:s,navigator:i,static:o,future:{}}),[s,i,o]);typeof n=="string"&&(n=Kx(n));let{pathname:l="/",search:u="",hash:c="",state:d=null,key:h="default"}=n,f=O.useMemo(()=>{let p=vp(l,s);return p==null?null:{location:{pathname:p,search:u,hash:c,state:d,key:h},navigationType:r}},[s,l,u,c,d,h,r]);return Hu(f!=null,`<Router basename="${s}"> is not able to match the URL "${l}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),f==null?null:O.createElement(hd.Provider,{value:a},O.createElement(FA.Provider,{children:t,value:f}))}function RWe({children:e,location:t}){return Jbe(E9(e),t)}function E9(e,t=[]){let n=[];return O.Children.forEach(e,(r,i)=>{if(!O.isValidElement(r))return;let o=[...t,i];if(r.type===O.Fragment){n.push.apply(n,E9(r.props.children,o));return}ni(r.type===K0,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ni(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=E9(r.props.children,o)),n.push(s)}),n}var II="get",RI="application/x-www-form-urlencoded";function XP(e){return e!=null&&typeof e.tagName=="string"}function $We(e){return XP(e)&&e.tagName.toLowerCase()==="button"}function DWe(e){return XP(e)&&e.tagName.toLowerCase()==="form"}function MWe(e){return XP(e)&&e.tagName.toLowerCase()==="input"}function PWe(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function NWe(e,t){return e.button===0&&(!t||t==="_self")&&!PWe(e)}function S9(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function OWe(e,t){let n=S9(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(o=>{n.append(i,o)})}),n}var zk=null;function LWe(){if(zk===null)try{new FormData(document.createElement("form"),0),zk=!1}catch{zk=!0}return zk}var FWe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gF(e){return e!=null&&!FWe.has(e)?(Hu(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${RI}"`),null):e}function BWe(e,t){let n,r,i,o,s;if(DWe(e)){let a=e.getAttribute("action");r=a?vp(a,t):null,n=e.getAttribute("method")||II,i=gF(e.getAttribute("enctype"))||RI,o=new FormData(e)}else if($We(e)||MWe(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?vp(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||II,i=gF(e.getAttribute("formenctype"))||gF(a.getAttribute("enctype"))||RI,o=new FormData(a,e),!LWe()){let{name:u,type:c,value:d}=e;if(c==="image"){let h=u?`${u}.`:"";o.append(`${h}x`,"0"),o.append(`${h}y`,"0")}else u&&o.append(u,d)}}else{if(XP(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=II,r=null,i=RI,s=e}return o&&i==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}function PW(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function jWe(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zWe(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function UWe(e,t,n){let r=await Promise.all(e.map(async i=>{let o=t.routes[i.route.id];if(o){let s=await jWe(o,n);return s.links?s.links():[]}return[]}));return qWe(r.flat(1).filter(zWe).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function gre(e,t,n,r,i,o){let s=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var c;return n[u].pathname!==l.pathname||((c=n[u].route.path)==null?void 0:c.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return o==="assets"?t.filter((l,u)=>s(l,u)||a(l,u)):o==="data"?t.filter((l,u)=>{var d;let c=r.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(s(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function HWe(e,t,{includeHydrateFallback:n}={}){return VWe(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function VWe(e){return[...new Set(e)]}function WWe(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function qWe(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let o=JSON.stringify(WWe(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function GWe(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&vp(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function t1e(){let e=O.useContext(Xx);return PW(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function YWe(){let e=O.useContext(KP);return PW(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var NW=O.createContext(void 0);NW.displayName="FrameworkContext";function n1e(){let e=O.useContext(NW);return PW(e,"You must render this element inside a <HydratedRouter> element"),e}function KWe(e,t){let n=O.useContext(NW),[r,i]=O.useState(!1),[o,s]=O.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:d}=t,h=O.useRef(null);O.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let m=y=>{y.forEach(v=>{s(v.isIntersecting)})},g=new IntersectionObserver(m,{threshold:.5});return h.current&&g.observe(h.current),()=>{g.disconnect()}}},[e]),O.useEffect(()=>{if(r){let m=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(m)}}},[r]);let f=()=>{i(!0)},p=()=>{i(!1),s(!1)};return n?e!=="intent"?[o,h,{}]:[o,h,{onFocus:uE(a,f),onBlur:uE(l,p),onMouseEnter:uE(u,f),onMouseLeave:uE(c,p),onTouchStart:uE(d,f)}]:[!1,h,{}]}function uE(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function XWe({page:e,...t}){let{router:n}=t1e(),r=O.useMemo(()=>Wbe(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?O.createElement(JWe,{page:e,matches:r,...t}):null}function QWe(e){let{manifest:t,routeModules:n}=n1e(),[r,i]=O.useState([]);return O.useEffect(()=>{let o=!1;return UWe(e,t,n).then(s=>{o||i(s)}),()=>{o=!0}},[e,t,n]),r}function JWe({page:e,matches:t,...n}){let r=nc(),{manifest:i,routeModules:o}=n1e(),{basename:s}=t1e(),{loaderData:a,matches:l}=YWe(),u=O.useMemo(()=>gre(e,t,l,i,r,"data"),[e,t,l,i,r]),c=O.useMemo(()=>gre(e,t,l,i,r,"assets"),[e,t,l,i,r]),d=O.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let p=new Set,m=!1;if(t.forEach(y=>{var b;let v=i.routes[y.route.id];!v||!v.hasLoader||(!u.some(_=>_.route.id===y.route.id)&&y.route.id in a&&((b=o[y.route.id])!=null&&b.shouldRevalidate)||v.hasClientLoader?m=!0:p.add(y.route.id))}),p.size===0)return[];let g=GWe(e,s);return m&&p.size>0&&g.searchParams.set("_routes",t.filter(y=>p.has(y.route.id)).map(y=>y.route.id).join(",")),[g.pathname+g.search]},[s,a,r,i,u,t,e,o]),h=O.useMemo(()=>HWe(c,i),[c,i]),f=QWe(c);return O.createElement(O.Fragment,null,d.map(p=>O.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...n})),h.map(p=>O.createElement("link",{key:p,rel:"modulepreload",href:p,...n})),f.map(({key:p,link:m})=>O.createElement("link",{key:p,...m})))}function ZWe(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var r1e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{r1e&&(window.__reactRouterVersion="7.4.1")}catch{}function eqe({basename:e,children:t,window:n}){let r=O.useRef();r.current==null&&(r.current=zVe({window:n,v5Compat:!0}));let i=r.current,[o,s]=O.useState({action:i.action,location:i.location}),a=O.useCallback(l=>{O.startTransition(()=>s(l))},[s]);return O.useLayoutEffect(()=>i.listen(a),[i,a]),O.createElement(IWe,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:i})}var i1e=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,o1e=O.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:c,viewTransition:d,...h},f){let{basename:p}=O.useContext(hd),m=typeof u=="string"&&i1e.test(u),g,y=!1;if(typeof u=="string"&&m&&(g=u,r1e))try{let T=new URL(window.location.href),C=u.startsWith("//")?new URL(T.protocol+u):new URL(u),D=vp(C.pathname,p);C.origin===T.origin&&D!=null?u=D+C.search+C.hash:y=!0}catch{Hu(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=RW(u,{relative:i}),[b,_,x]=KWe(r,h),w=iqe(u,{replace:s,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:d});function E(T){t&&t(T),T.defaultPrevented||w(T)}let S=O.createElement("a",{...h,...x,href:g||v,onClick:y||o?t:E,ref:ZWe(f,_),target:l,"data-discover":!m&&n==="render"?"true":void 0});return b&&!m?O.createElement(O.Fragment,null,S,O.createElement(XWe,{page:v})):S});o1e.displayName="Link";var tqe=O.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:s,viewTransition:a,children:l,...u},c){let d=BA(s,{relative:u.relative}),h=nc(),f=O.useContext(KP),{navigator:p,basename:m}=O.useContext(hd),g=f!=null&&uqe(d)&&a===!0,y=p.encodeLocation?p.encodeLocation(d).pathname:d.pathname,v=h.pathname,b=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;n||(v=v.toLowerCase(),b=b?b.toLowerCase():null,y=y.toLowerCase()),b&&m&&(b=vp(b,m)||b);const _=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let x=v===y||!i&&v.startsWith(y)&&v.charAt(_)==="/",w=b!=null&&(b===y||!i&&b.startsWith(y)&&b.charAt(y.length)==="/"),E={isActive:x,isPending:w,isTransitioning:g},S=x?t:void 0,T;typeof r=="function"?T=r(E):T=[r,x?"active":null,w?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let C=typeof o=="function"?o(E):o;return O.createElement(o1e,{...u,"aria-current":S,className:T,ref:c,style:C,to:s,viewTransition:a},typeof l=="function"?l(E):l)});tqe.displayName="NavLink";var nqe=O.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:o,method:s=II,action:a,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:d,...h},f)=>{let p=aqe(),m=lqe(a,{relative:u}),g=s.toLowerCase()==="get"?"get":"post",y=typeof a=="string"&&i1e.test(a),v=b=>{if(l&&l(b),b.defaultPrevented)return;b.preventDefault();let _=b.nativeEvent.submitter,x=(_==null?void 0:_.getAttribute("formmethod"))||s;p(_||b.currentTarget,{fetcherKey:t,method:x,navigate:n,replace:i,state:o,relative:u,preventScrollReset:c,viewTransition:d})};return O.createElement("form",{ref:f,method:g,action:m,onSubmit:r?l:v,...h,"data-discover":!y&&e==="render"?"true":void 0})});nqe.displayName="Form";function rqe(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function s1e(e){let t=O.useContext(Xx);return ni(t,rqe(e)),t}function iqe(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:s}={}){let a=mu(),l=nc(),u=BA(e,{relative:o});return O.useCallback(c=>{if(NWe(c,t)){c.preventDefault();let d=n!==void 0?n:aC(l)===aC(u);a(e,{replace:d,state:r,preventScrollReset:i,relative:o,viewTransition:s})}},[l,a,u,n,r,t,e,i,o,s])}function jh(e){Hu(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=O.useRef(S9(e)),n=O.useRef(!1),r=nc(),i=O.useMemo(()=>OWe(r.search,n.current?null:t.current),[r.search]),o=mu(),s=O.useCallback((a,l)=>{const u=S9(typeof a=="function"?a(i):a);n.current=!0,o("?"+u,l)},[o,i]);return[i,s]}var oqe=0,sqe=()=>`__${String(++oqe)}__`;function aqe(){let{router:e}=s1e("useSubmit"),{basename:t}=O.useContext(hd),n=SWe();return O.useCallback(async(r,i={})=>{let{action:o,method:s,encType:a,formData:l,body:u}=BWe(r,t);if(i.navigate===!1){let c=i.fetcherKey||sqe();await e.fetch(c,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function lqe(e,{relative:t}={}){let{basename:n}=O.useContext(hd),r=O.useContext(tc);ni(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...BA(e||".",{relative:t})},s=nc();if(e==null){o.search=s.search;let a=new URLSearchParams(o.search),l=a.getAll("index");if(l.some(c=>c==="")){a.delete("index"),l.filter(d=>d).forEach(d=>a.append("index",d));let c=a.toString();o.search=c?`?${c}`:""}}return(!e||e===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Xf([n,o.pathname])),aC(o)}function uqe(e,t={}){let n=O.useContext(Kbe);ni(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=s1e("useViewTransitionState"),i=BA(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=vp(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=vp(n.nextLocation.pathname,r)||n.nextLocation.pathname;return v$(i.pathname,s)!=null||v$(i.pathname,o)!=null}new TextEncoder;const OW=O.createContext(null);OW.displayName="@mantine/modals/ModalsContext";function cqe(){const e=O.useContext(OW);if(!e)throw new Error("[@mantine/modals] useModals hook was called outside of context, wrap your app with ModalsProvider component");return e}function dqe({id:e,cancelProps:t,confirmProps:n,labels:r={cancel:"",confirm:""},closeOnConfirm:i=!0,closeOnCancel:o=!0,groupProps:s,onCancel:a,onConfirm:l,children:u}){const{cancel:c,confirm:d}=r,h=cqe(),f=m=>{typeof(t==null?void 0:t.onClick)=="function"&&(t==null||t.onClick(m)),typeof a=="function"&&a(),o&&h.closeModal(e)},p=m=>{typeof(n==null?void 0:n.onClick)=="function"&&(n==null||n.onClick(m)),typeof l=="function"&&l(),i&&h.closeModal(e)};return k.jsxs(k.Fragment,{children:[u&&k.jsx(ge,{mb:"md",children:u}),k.jsxs(Dr,{mt:u?0:"md",justify:"flex-end",...s,children:[k.jsx(Kt,{variant:"default",...t,onClick:f,children:(t==null?void 0:t.children)||c}),k.jsx(Kt,{...n,onClick:p,children:(n==null?void 0:n.children)||d})]})]})}const[hqe,LW]=I6e("mantine-modals"),yre=e=>{const t=e.modalId||K1();return LW("openConfirmModal")({...e,modalId:t}),t};LW("closeModal");LW("closeAllModals");function vre(e,t){var n,r,i,o;t&&e.type==="confirm"&&((r=(n=e.props).onCancel)==null||r.call(n)),(o=(i=e.props).onClose)==null||o.call(i)}function fqe(e,t){var n;switch(t.type){case"OPEN":return{current:t.modal,modals:[...e.modals,t.modal]};case"CLOSE":{const r=e.modals.find(o=>o.id===t.modalId);if(!r)return e;vre(r,t.canceled);const i=e.modals.filter(o=>o.id!==t.modalId);return{current:i[i.length-1]||e.current,modals:i}}case"CLOSE_ALL":return e.modals.length?(e.modals.concat().reverse().forEach(r=>{vre(r,t.canceled)}),{current:e.current,modals:[]}):e;case"UPDATE":{const{modalId:r,newProps:i}=t,o=e.modals.map(a=>a.id!==r?a:a.type==="content"||a.type==="confirm"?{...a,props:{...a.props,...i}}:a.type==="context"?{...a,props:{...a.props,...i,innerProps:{...a.props.innerProps,...i.innerProps}}}:a),s=((n=e.current)==null?void 0:n.id)===r&&o.find(a=>a.id===r)||e.current;return{...e,modals:o,current:s}}default:return e}}function pqe(e){if(!e)return{confirmProps:{},modalProps:{}};const{id:t,children:n,onCancel:r,onConfirm:i,closeOnConfirm:o,closeOnCancel:s,cancelProps:a,confirmProps:l,groupProps:u,labels:c,...d}=e;return{confirmProps:{id:t,children:n,onCancel:r,onConfirm:i,closeOnConfirm:o,closeOnCancel:s,cancelProps:a,confirmProps:l,groupProps:u,labels:c},modalProps:{id:t,...d}}}function mqe({children:e,modalProps:t,labels:n,modals:r}){const[i,o]=O.useReducer(fqe,{modals:[],current:null}),s=O.useRef(i);s.current=i;const a=O.useCallback(v=>{o({type:"CLOSE_ALL",canceled:v})},[s,o]),l=O.useCallback(({modalId:v,...b})=>{const _=v||K1();return o({type:"OPEN",modal:{id:_,type:"content",props:b}}),_},[o]),u=O.useCallback(({modalId:v,...b})=>{const _=v||K1();return o({type:"OPEN",modal:{id:_,type:"confirm",props:b}}),_},[o]),c=O.useCallback((v,{modalId:b,..._})=>{const x=b||K1();return o({type:"OPEN",modal:{id:x,type:"context",props:_,ctx:v}}),x},[o]),d=O.useCallback((v,b)=>{o({type:"CLOSE",modalId:v,canceled:b})},[s,o]),h=O.useCallback(({modalId:v,...b})=>{o({type:"UPDATE",modalId:v,newProps:b})},[o]),f=O.useCallback(({modalId:v,...b})=>{o({type:"UPDATE",modalId:v,newProps:b})},[o]);hqe({openModal:l,openConfirmModal:u,openContextModal:({modal:v,...b})=>c(v,b),closeModal:d,closeContextModal:d,closeAllModals:a,updateModal:h,updateContextModal:f});const p={modalProps:t||{},modals:i.modals,openModal:l,openConfirmModal:u,openContextModal:c,closeModal:d,closeContextModal:d,closeAll:a,updateModal:h,updateContextModal:f},m=()=>{const v=s.current.current;switch(v==null?void 0:v.type){case"context":{const{innerProps:b,..._}=v.props,x=r[v.ctx];return{modalProps:_,content:k.jsx(x,{innerProps:b,context:p,id:v.id})}}case"confirm":{const{modalProps:b,confirmProps:_}=pqe(v.props);return{modalProps:b,content:k.jsx(dqe,{..._,id:v.id,labels:v.props.labels||n})}}case"content":{const{children:b,..._}=v.props;return{modalProps:_,content:b}}default:return{modalProps:{},content:null}}},{modalProps:g,content:y}=m();return k.jsxs(OW.Provider,{value:p,children:[k.jsx(li,{zIndex:Tl("modal")+1,...t,...g,opened:i.modals.length>0,onClose:()=>{var v;return d((v=i.current)==null?void 0:v.id)},children:y}),e]})}/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var gqe={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=(e,t,n,r)=>{const i=O.forwardRef(({color:o="currentColor",size:s=24,stroke:a=2,title:l,className:u,children:c,...d},h)=>O.createElement("svg",{ref:h,...gqe[e],width:s,height:s,className:["tabler-icon",`tabler-icon-${t}`,u].join(" "),...e==="filled"?{fill:o}:{strokeWidth:a,stroke:o},...d},[l&&O.createElement("title",{key:"svg-title"},l),...r.map(([f,p])=>O.createElement(f,p)),...Array.isArray(c)?c:[c]]));return i.displayName=`${n}`,i};/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var yqe=rn("outline","adjustments-horizontal","IconAdjustmentsHorizontal",[["path",{d:"M14 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M4 6l8 0",key:"svg-1"}],["path",{d:"M16 6l4 0",key:"svg-2"}],["path",{d:"M8 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-3"}],["path",{d:"M4 12l2 0",key:"svg-4"}],["path",{d:"M10 12l10 0",key:"svg-5"}],["path",{d:"M17 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-6"}],["path",{d:"M4 18l11 0",key:"svg-7"}],["path",{d:"M19 18l1 0",key:"svg-8"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var vqe=rn("outline","alert-circle","IconAlertCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var QS=rn("outline","alert-triangle","IconAlertTriangle",[["path",{d:"M12 9v4",key:"svg-0"}],["path",{d:"M10.363 3.591l-8.106 13.534a1.914 1.914 0 0 0 1.636 2.871h16.214a1.914 1.914 0 0 0 1.636 -2.87l-8.106 -13.536a1.914 1.914 0 0 0 -3.274 0z",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var bre=rn("outline","arrow-left","IconArrowLeft",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M5 12l6 6",key:"svg-1"}],["path",{d:"M5 12l6 -6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var wre=rn("outline","arrow-right","IconArrowRight",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var bqe=rn("outline","arrows-shuffle","IconArrowsShuffle",[["path",{d:"M18 4l3 3l-3 3",key:"svg-0"}],["path",{d:"M18 20l3 -3l-3 -3",key:"svg-1"}],["path",{d:"M3 7h3a5 5 0 0 1 5 5a5 5 0 0 0 5 5h5",key:"svg-2"}],["path",{d:"M21 7h-5a4.978 4.978 0 0 0 -3 1m-4 8a4.984 4.984 0 0 1 -3 1h-3",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var wqe=rn("outline","at","IconAt",[["path",{d:"M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M16 12v1.5a2.5 2.5 0 0 0 5 0v-1.5a9 9 0 1 0 -5.5 8.28",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var xqe=rn("outline","brain","IconBrain",[["path",{d:"M15.5 13a3.5 3.5 0 0 0 -3.5 3.5v1a3.5 3.5 0 0 0 7 0v-1.8",key:"svg-0"}],["path",{d:"M8.5 13a3.5 3.5 0 0 1 3.5 3.5v1a3.5 3.5 0 0 1 -7 0v-1.8",key:"svg-1"}],["path",{d:"M17.5 16a3.5 3.5 0 0 0 0 -7h-.5",key:"svg-2"}],["path",{d:"M19 9.3v-2.8a3.5 3.5 0 0 0 -7 0",key:"svg-3"}],["path",{d:"M6.5 16a3.5 3.5 0 0 1 0 -7h.5",key:"svg-4"}],["path",{d:"M5 9.3v-2.8a3.5 3.5 0 0 1 7 0v10",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var _qe=rn("outline","brand-python","IconBrandPython",[["path",{d:"M12 9h-7a2 2 0 0 0 -2 2v4a2 2 0 0 0 2 2h3",key:"svg-0"}],["path",{d:"M12 15h7a2 2 0 0 0 2 -2v-4a2 2 0 0 0 -2 -2h-3",key:"svg-1"}],["path",{d:"M8 9v-4a2 2 0 0 1 2 -2h4a2 2 0 0 1 2 2v5a2 2 0 0 1 -2 2h-4a2 2 0 0 0 -2 2v5a2 2 0 0 0 2 2h4a2 2 0 0 0 2 -2v-4",key:"svg-2"}],["path",{d:"M11 6l0 .01",key:"svg-3"}],["path",{d:"M13 18l0 .01",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Eqe=rn("outline","bubble-text","IconBubbleText",[["path",{d:"M7 10h10",key:"svg-0"}],["path",{d:"M9 14h5",key:"svg-1"}],["path",{d:"M12.4 3a5.34 5.34 0 0 1 4.906 3.239a5.333 5.333 0 0 1 -1.195 10.6a4.26 4.26 0 0 1 -5.28 1.863l-3.831 2.298v-3.134a2.668 2.668 0 0 1 -1.795 -3.773a4.8 4.8 0 0 1 2.908 -8.933a5.33 5.33 0 0 1 4.287 -2.16",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Sqe=rn("outline","chart-donut-2","IconChartDonut2",[["path",{d:"M12 3v5m4 4h5",key:"svg-0"}],["path",{d:"M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-1"}],["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var a1e=rn("outline","chart-histogram","IconChartHistogram",[["path",{d:"M3 3v18h18",key:"svg-0"}],["path",{d:"M20 18v3",key:"svg-1"}],["path",{d:"M16 16v5",key:"svg-2"}],["path",{d:"M12 13v8",key:"svg-3"}],["path",{d:"M8 16v5",key:"svg-4"}],["path",{d:"M3 11c6 0 5 -5 9 -5s3 5 9 5",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var jA=rn("outline","check","IconCheck",[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Tqe=rn("outline","chevron-down","IconChevronDown",[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Cqe=rn("outline","code-plus","IconCodePlus",[["path",{d:"M9 12h6",key:"svg-0"}],["path",{d:"M12 9v6",key:"svg-1"}],["path",{d:"M6 19a2 2 0 0 1 -2 -2v-4l-1 -1l1 -1v-4a2 2 0 0 1 2 -2",key:"svg-2"}],["path",{d:"M18 19a2 2 0 0 0 2 -2v-4l1 -1l-1 -1v-4a2 2 0 0 0 -2 -2",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Aqe=rn("outline","database-export","IconDatabaseExport",[["path",{d:"M4 6c0 1.657 3.582 3 8 3s8 -1.343 8 -3s-3.582 -3 -8 -3s-8 1.343 -8 3",key:"svg-0"}],["path",{d:"M4 6v6c0 1.657 3.582 3 8 3c1.118 0 2.183 -.086 3.15 -.241",key:"svg-1"}],["path",{d:"M20 12v-6",key:"svg-2"}],["path",{d:"M4 12v6c0 1.657 3.582 3 8 3c.157 0 .312 -.002 .466 -.005",key:"svg-3"}],["path",{d:"M16 19h6",key:"svg-4"}],["path",{d:"M19 16l3 3l-3 3",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var kqe=rn("outline","dots-vertical","IconDotsVertical",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Iqe=rn("outline","dots","IconDots",[["path",{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var l1e=rn("outline","external-link","IconExternalLink",[["path",{d:"M12 6h-6a2 2 0 0 0 -2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-6",key:"svg-0"}],["path",{d:"M11 13l9 -9",key:"svg-1"}],["path",{d:"M15 4h5v5",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Rqe=rn("outline","hourglass-empty","IconHourglassEmpty",[["path",{d:"M6 20v-2a6 6 0 1 1 12 0v2a1 1 0 0 1 -1 1h-10a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M6 4v2a6 6 0 1 0 12 0v-2a1 1 0 0 0 -1 -1h-10a1 1 0 0 0 -1 1z",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var $qe=rn("outline","html","IconHtml",[["path",{d:"M13 16v-8l2 5l2 -5v8",key:"svg-0"}],["path",{d:"M1 16v-8",key:"svg-1"}],["path",{d:"M5 8v8",key:"svg-2"}],["path",{d:"M1 12h4",key:"svg-3"}],["path",{d:"M7 8h4",key:"svg-4"}],["path",{d:"M9 8v8",key:"svg-5"}],["path",{d:"M20 8v8h3",key:"svg-6"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var FW=rn("outline","info-circle","IconInfoCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 9h.01",key:"svg-1"}],["path",{d:"M11 12h1v4h1",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Dqe=rn("outline","layout-columns","IconLayoutColumns",[["path",{d:"M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M12 4l0 16",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var u1e=rn("outline","list-check","IconListCheck",[["path",{d:"M3.5 5.5l1.5 1.5l2.5 -2.5",key:"svg-0"}],["path",{d:"M3.5 11.5l1.5 1.5l2.5 -2.5",key:"svg-1"}],["path",{d:"M3.5 17.5l1.5 1.5l2.5 -2.5",key:"svg-2"}],["path",{d:"M11 6l9 0",key:"svg-3"}],["path",{d:"M11 12l9 0",key:"svg-4"}],["path",{d:"M11 18l9 0",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Mqe=rn("outline","mail","IconMail",[["path",{d:"M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z",key:"svg-0"}],["path",{d:"M3 7l9 6l9 -6",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Pqe=rn("outline","moon-stars","IconMoonStars",[["path",{d:"M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z",key:"svg-0"}],["path",{d:"M17 4a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2",key:"svg-1"}],["path",{d:"M19 11h2m-1 -1v2",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Nqe=rn("outline","number-123","IconNumber123",[["path",{d:"M3 10l2 -2v8",key:"svg-0"}],["path",{d:"M9 8h3a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 0 -1 1v2a1 1 0 0 0 1 1h3",key:"svg-1"}],["path",{d:"M17 8h2.5a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1 -1.5 1.5h-1.5h1.5a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1 -1.5 1.5h-2.5",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Oqe=rn("outline","package-import","IconPackageImport",[["path",{d:"M12 21l-8 -4.5v-9l8 -4.5l8 4.5v4.5",key:"svg-0"}],["path",{d:"M12 12l8 -4.5",key:"svg-1"}],["path",{d:"M12 12v9",key:"svg-2"}],["path",{d:"M12 12l-8 -4.5",key:"svg-3"}],["path",{d:"M22 18h-7",key:"svg-4"}],["path",{d:"M18 15l-3 3l3 3",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Lqe=rn("outline","pencil","IconPencil",[["path",{d:"M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4",key:"svg-0"}],["path",{d:"M13.5 6.5l4 4",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Fqe=rn("outline","player-play","IconPlayerPlay",[["path",{d:"M7 4v16l13 -8z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var c1e=rn("outline","progress","IconProgress",[["path",{d:"M10 20.777a8.942 8.942 0 0 1 -2.48 -.969",key:"svg-0"}],["path",{d:"M14 3.223a9.003 9.003 0 0 1 0 17.554",key:"svg-1"}],["path",{d:"M4.579 17.093a8.961 8.961 0 0 1 -1.227 -2.592",key:"svg-2"}],["path",{d:"M3.124 10.5c.16 -.95 .468 -1.85 .9 -2.675l.169 -.305",key:"svg-3"}],["path",{d:"M6.907 4.579a8.954 8.954 0 0 1 3.093 -1.356",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Bqe=rn("outline","radio","IconRadio",[["path",{d:"M14 3l-9.371 3.749a1 1 0 0 0 -.629 .928v11.323a1 1 0 0 0 1 1h14a1 1 0 0 0 1 -1v-11a1 1 0 0 0 -1 -1h-14.5",key:"svg-0"}],["path",{d:"M4 12h16",key:"svg-1"}],["path",{d:"M7 12v-2",key:"svg-2"}],["path",{d:"M17 16v.01",key:"svg-3"}],["path",{d:"M13 16v.01",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var jqe=rn("outline","refresh","IconRefresh",[["path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4",key:"svg-0"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var zqe=rn("outline","schema","IconSchema",[["path",{d:"M5 2h5v4h-5z",key:"svg-0"}],["path",{d:"M15 10h5v4h-5z",key:"svg-1"}],["path",{d:"M5 18h5v4h-5z",key:"svg-2"}],["path",{d:"M5 10h5v4h-5z",key:"svg-3"}],["path",{d:"M10 12h5",key:"svg-4"}],["path",{d:"M7.5 6v4",key:"svg-5"}],["path",{d:"M7.5 14v4",key:"svg-6"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Uqe=rn("outline","search","IconSearch",[["path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Hqe=rn("outline","select","IconSelect",[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M9 11l3 3l3 -3",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var d1e=rn("outline","settings","IconSettings",[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Vqe=rn("outline","squares","IconSquares",[["path",{d:"M8 10a2 2 0 0 1 2 -2h9a2 2 0 0 1 2 2v9a2 2 0 0 1 -2 2h-9a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M16 8v-3a2 2 0 0 0 -2 -2h-9a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h3",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Wqe=rn("outline","sun","IconSun",[["path",{d:"M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M3 12h1m8 -9v1m8 8h1m-9 8v1m-6.4 -15.4l.7 .7m12.1 -.7l-.7 .7m0 11.4l.7 .7m-12.1 -.7l-.7 .7",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var h1e=rn("outline","table-export","IconTableExport",[["path",{d:"M12.5 21h-7.5a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v7.5",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}],["path",{d:"M16 19h6",key:"svg-3"}],["path",{d:"M19 16l3 3l-3 3",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var qqe=rn("outline","table","IconTable",[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14z",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var f1e=rn("outline","trash-x","IconTrashX",[["path",{d:"M4 7h16",key:"svg-0"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-1"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-2"}],["path",{d:"M10 12l4 4m0 -4l-4 4",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var BW=rn("outline","user-plus","IconUserPlus",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M16 19h6",key:"svg-1"}],["path",{d:"M19 16v6",key:"svg-2"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var xre=rn("outline","user","IconUser",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Jx=rn("outline","x","IconX",[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Gqe=rn("filled","brand-google-filled","IconBrandGoogleFilled",[["path",{d:"M12 2a9.96 9.96 0 0 1 6.29 2.226a1 1 0 0 1 .04 1.52l-1.51 1.362a1 1 0 0 1 -1.265 .06a6 6 0 1 0 2.103 6.836l.001 -.004h-3.66a1 1 0 0 1 -.992 -.883l-.007 -.117v-2a1 1 0 0 1 1 -1h6.945a1 1 0 0 1 .994 .89c.04 .367 .061 .737 .061 1.11c0 5.523 -4.477 10 -10 10s-10 -4.477 -10 -10s4.477 -10 10 -10z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Yqe=rn("filled","player-pause-filled","IconPlayerPauseFilled",[["path",{d:"M9 4h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h2a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2z",key:"svg-0"}],["path",{d:"M17 4h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h2a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2z",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Kqe=rn("filled","player-play-filled","IconPlayerPlayFilled",[["path",{d:"M6 4v16a1 1 0 0 0 1.524 .852l13 -8a1 1 0 0 0 0 -1.704l-13 -8a1 1 0 0 0 -1.524 .852z",key:"svg-0"}]]);function p1e(e){const t=e.split("/")||[];return t[t.length-1].replace(/\.[^\.]+$/,"").replace(".","_").replace(" ","_").replace("/","_")}const hi="/reVISit_study/";function _re(e){const t=[],n=String(e||"");let r=n.indexOf(","),i=0,o=!1;for(;!o;){r===-1&&(r=n.length,o=!0);const s=n.slice(i,r).trim();(s||!o)&&t.push(s),i=r+1,r=n.indexOf(",",i)}return t}function m1e(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Xqe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Qqe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Jqe={};function Ere(e,t){return(Jqe.jsx?Qqe:Xqe).test(e)}const Zqe=/[ \t\n\f\r]/g;function eGe(e){return typeof e=="object"?e.type==="text"?Sre(e.value):!1:Sre(e)}function Sre(e){return e.replace(Zqe,"")===""}let zA=class{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}};zA.prototype.normal={};zA.prototype.property={};zA.prototype.space=void 0;function g1e(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new zA(n,r,t)}function lC(e){return e.toLowerCase()}let Cl=class{constructor(t,n){this.attribute=n,this.property=t}};Cl.prototype.attribute="";Cl.prototype.booleanish=!1;Cl.prototype.boolean=!1;Cl.prototype.commaOrSpaceSeparated=!1;Cl.prototype.commaSeparated=!1;Cl.prototype.defined=!1;Cl.prototype.mustUseProperty=!1;Cl.prototype.number=!1;Cl.prototype.overloadedBoolean=!1;Cl.prototype.property="";Cl.prototype.spaceSeparated=!1;Cl.prototype.space=void 0;let tGe=0;const mn=Yv(),Ui=Yv(),y1e=Yv(),rt=Yv(),Pr=Yv(),J1=Yv(),Dl=Yv();function Yv(){return 2**++tGe}const T9=Object.freeze(Object.defineProperty({__proto__:null,boolean:mn,booleanish:Ui,commaOrSpaceSeparated:Dl,commaSeparated:J1,number:rt,overloadedBoolean:y1e,spaceSeparated:Pr},Symbol.toStringTag,{value:"Module"})),yF=Object.keys(T9);let jW=class extends Cl{constructor(t,n,r,i){let o=-1;if(super(t,n),Tre(this,"space",i),typeof r=="number")for(;++o<yF.length;){const s=yF[o];Tre(this,yF[o],(r&T9[s])===T9[s])}}};jW.prototype.defined=!0;function Tre(e,t,n){n&&(e[t]=n)}function Zx(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const o=new jW(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[lC(r)]=r,n[lC(o.attribute)]=r}return new zA(t,n,e.space)}const v1e=Zx({properties:{ariaActiveDescendant:null,ariaAtomic:Ui,ariaAutoComplete:null,ariaBusy:Ui,ariaChecked:Ui,ariaColCount:rt,ariaColIndex:rt,ariaColSpan:rt,ariaControls:Pr,ariaCurrent:null,ariaDescribedBy:Pr,ariaDetails:null,ariaDisabled:Ui,ariaDropEffect:Pr,ariaErrorMessage:null,ariaExpanded:Ui,ariaFlowTo:Pr,ariaGrabbed:Ui,ariaHasPopup:null,ariaHidden:Ui,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Pr,ariaLevel:rt,ariaLive:null,ariaModal:Ui,ariaMultiLine:Ui,ariaMultiSelectable:Ui,ariaOrientation:null,ariaOwns:Pr,ariaPlaceholder:null,ariaPosInSet:rt,ariaPressed:Ui,ariaReadOnly:Ui,ariaRelevant:null,ariaRequired:Ui,ariaRoleDescription:Pr,ariaRowCount:rt,ariaRowIndex:rt,ariaRowSpan:rt,ariaSelected:Ui,ariaSetSize:rt,ariaSort:null,ariaValueMax:rt,ariaValueMin:rt,ariaValueNow:rt,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function b1e(e,t){return t in e?e[t]:t}function w1e(e,t){return b1e(e,t.toLowerCase())}const nGe=Zx({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:J1,acceptCharset:Pr,accessKey:Pr,action:null,allow:null,allowFullScreen:mn,allowPaymentRequest:mn,allowUserMedia:mn,alt:null,as:null,async:mn,autoCapitalize:null,autoComplete:Pr,autoFocus:mn,autoPlay:mn,blocking:Pr,capture:null,charSet:null,checked:mn,cite:null,className:Pr,cols:rt,colSpan:null,content:null,contentEditable:Ui,controls:mn,controlsList:Pr,coords:rt|J1,crossOrigin:null,data:null,dateTime:null,decoding:null,default:mn,defer:mn,dir:null,dirName:null,disabled:mn,download:y1e,draggable:Ui,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:mn,formTarget:null,headers:Pr,height:rt,hidden:mn,high:rt,href:null,hrefLang:null,htmlFor:Pr,httpEquiv:Pr,id:null,imageSizes:null,imageSrcSet:null,inert:mn,inputMode:null,integrity:null,is:null,isMap:mn,itemId:null,itemProp:Pr,itemRef:Pr,itemScope:mn,itemType:Pr,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:mn,low:rt,manifest:null,max:null,maxLength:rt,media:null,method:null,min:null,minLength:rt,multiple:mn,muted:mn,name:null,nonce:null,noModule:mn,noValidate:mn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:mn,optimum:rt,pattern:null,ping:Pr,placeholder:null,playsInline:mn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:mn,referrerPolicy:null,rel:Pr,required:mn,reversed:mn,rows:rt,rowSpan:rt,sandbox:Pr,scope:null,scoped:mn,seamless:mn,selected:mn,shadowRootClonable:mn,shadowRootDelegatesFocus:mn,shadowRootMode:null,shape:null,size:rt,sizes:null,slot:null,span:rt,spellCheck:Ui,src:null,srcDoc:null,srcLang:null,srcSet:null,start:rt,step:null,style:null,tabIndex:rt,target:null,title:null,translate:null,type:null,typeMustMatch:mn,useMap:null,value:Ui,width:rt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Pr,axis:null,background:null,bgColor:null,border:rt,borderColor:null,bottomMargin:rt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:mn,declare:mn,event:null,face:null,frame:null,frameBorder:null,hSpace:rt,leftMargin:rt,link:null,longDesc:null,lowSrc:null,marginHeight:rt,marginWidth:rt,noResize:mn,noHref:mn,noShade:mn,noWrap:mn,object:null,profile:null,prompt:null,rev:null,rightMargin:rt,rules:null,scheme:null,scrolling:Ui,standby:null,summary:null,text:null,topMargin:rt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:rt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:mn,disableRemotePlayback:mn,prefix:null,property:null,results:rt,security:null,unselectable:null},space:"html",transform:w1e}),rGe=Zx({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Dl,accentHeight:rt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:rt,amplitude:rt,arabicForm:null,ascent:rt,attributeName:null,attributeType:null,azimuth:rt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:rt,by:null,calcMode:null,capHeight:rt,className:Pr,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:rt,diffuseConstant:rt,direction:null,display:null,dur:null,divisor:rt,dominantBaseline:null,download:mn,dx:null,dy:null,edgeMode:null,editable:null,elevation:rt,enableBackground:null,end:null,event:null,exponent:rt,externalResourcesRequired:null,fill:null,fillOpacity:rt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:J1,g2:J1,glyphName:J1,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:rt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:rt,horizOriginX:rt,horizOriginY:rt,id:null,ideographic:rt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:rt,k:rt,k1:rt,k2:rt,k3:rt,k4:rt,kernelMatrix:Dl,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:rt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:rt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:rt,overlineThickness:rt,paintOrder:null,panose1:null,path:null,pathLength:rt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Pr,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:rt,pointsAtY:rt,pointsAtZ:rt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Dl,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Dl,rev:Dl,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Dl,requiredFeatures:Dl,requiredFonts:Dl,requiredFormats:Dl,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:rt,specularExponent:rt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:rt,strikethroughThickness:rt,string:null,stroke:null,strokeDashArray:Dl,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:rt,strokeOpacity:rt,strokeWidth:null,style:null,surfaceScale:rt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Dl,tabIndex:rt,tableValues:null,target:null,targetX:rt,targetY:rt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Dl,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:rt,underlineThickness:rt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:rt,values:null,vAlphabetic:rt,vMathematical:rt,vectorEffect:null,vHanging:rt,vIdeographic:rt,version:null,vertAdvY:rt,vertOriginX:rt,vertOriginY:rt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:rt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:b1e}),x1e=Zx({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),_1e=Zx({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:w1e}),E1e=Zx({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),iGe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},oGe=/[A-Z]/g,Cre=/-[a-z]/g,sGe=/^data[-\w.:]+$/i;function zW(e,t){const n=lC(t);let r=t,i=Cl;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&sGe.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(Cre,lGe);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!Cre.test(o)){let s=o.replace(oGe,aGe);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}i=jW}return new i(r,t)}function aGe(e){return"-"+e.toLowerCase()}function lGe(e){return e.charAt(1).toUpperCase()}const QP=g1e([v1e,nGe,x1e,_1e,E1e],"html"),e_=g1e([v1e,rGe,x1e,_1e,E1e],"svg");function Are(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function S1e(e){return e.join(" ").trim()}var UW={},kre=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,uGe=/\n/g,cGe=/^\s*/,dGe=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,hGe=/^:\s*/,fGe=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,pGe=/^[;\s]*/,mGe=/^\s+|\s+$/g,gGe=`
`,Ire="/",Rre="*",sy="",yGe="comment",vGe="declaration",bGe=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(p){var m=p.match(uGe);m&&(n+=m.length);var g=p.lastIndexOf(gGe);r=~g?p.length-g:r+p.length}function o(){var p={line:n,column:r};return function(m){return m.position=new s(p),u(),m}}function s(p){this.start=p,this.end={line:n,column:r},this.source=t.source}s.prototype.content=e;function a(p){var m=new Error(t.source+":"+n+":"+r+": "+p);if(m.reason=p,m.filename=t.source,m.line=n,m.column=r,m.source=e,!t.silent)throw m}function l(p){var m=p.exec(e);if(m){var g=m[0];return i(g),e=e.slice(g.length),m}}function u(){l(cGe)}function c(p){var m;for(p=p||[];m=d();)m!==!1&&p.push(m);return p}function d(){var p=o();if(!(Ire!=e.charAt(0)||Rre!=e.charAt(1))){for(var m=2;sy!=e.charAt(m)&&(Rre!=e.charAt(m)||Ire!=e.charAt(m+1));)++m;if(m+=2,sy===e.charAt(m-1))return a("End of comment missing");var g=e.slice(2,m-2);return r+=2,i(g),e=e.slice(m),r+=2,p({type:yGe,comment:g})}}function h(){var p=o(),m=l(dGe);if(m){if(d(),!l(hGe))return a("property missing ':'");var g=l(fGe),y=p({type:vGe,property:$re(m[0].replace(kre,sy)),value:g?$re(g[0].replace(kre,sy)):sy});return l(pGe),y}}function f(){var p=[];c(p);for(var m;m=h();)m!==!1&&(p.push(m),c(p));return p}return u(),f()};function $re(e){return e?e.replace(mGe,sy):sy}var wGe=vt&&vt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(UW,"__esModule",{value:!0});UW.default=_Ge;var xGe=wGe(bGe);function _Ge(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,xGe.default)(e),i=typeof t=="function";return r.forEach(function(o){if(o.type==="declaration"){var s=o.property,a=o.value;i?t(s,a,o):a&&(n=n||{},n[s]=a)}}),n}var JP={};Object.defineProperty(JP,"__esModule",{value:!0});JP.camelCase=void 0;var EGe=/^--[a-zA-Z0-9_-]+$/,SGe=/-([a-z])/g,TGe=/^[^-]+$/,CGe=/^-(webkit|moz|ms|o|khtml)-/,AGe=/^-(ms)-/,kGe=function(e){return!e||TGe.test(e)||EGe.test(e)},IGe=function(e,t){return t.toUpperCase()},Dre=function(e,t){return"".concat(t,"-")},RGe=function(e,t){return t===void 0&&(t={}),kGe(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(AGe,Dre):e=e.replace(CGe,Dre),e.replace(SGe,IGe))};JP.camelCase=RGe;var $Ge=vt&&vt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},DGe=$Ge(UW),MGe=JP;function C9(e,t){var n={};return!e||typeof e!="string"||(0,DGe.default)(e,function(r,i){r&&i&&(n[(0,MGe.camelCase)(r,t)]=i)}),n}C9.default=C9;var PGe=C9;const NGe=hu(PGe),ZP=T1e("end"),zh=T1e("start");function T1e(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function OGe(e){const t=zh(e),n=ZP(e);if(t&&n)return{start:t,end:n}}function LGe(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Mre(e.position):"start"in e||"end"in e?Mre(e):"line"in e||"column"in e?A9(e):""}function A9(e){return Pre(e&&e.line)+":"+Pre(e&&e.column)}function Mre(e){return A9(e&&e.start)+"-"+A9(e&&e.end)}function Pre(e){return e&&typeof e=="number"?e:1}class la extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},s=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?i=t:!o.cause&&t&&(s=!0,i=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?o.ruleId=r:(o.source=r.slice(0,l),o.ruleId=r.slice(l+1))}if(!o.place&&o.ancestors&&o.ancestors){const l=o.ancestors[o.ancestors.length-1];l&&(o.place=l.position)}const a=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=a?a.line:void 0,this.name=LGe(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=s&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}}la.prototype.file="";la.prototype.name="";la.prototype.reason="";la.prototype.message="";la.prototype.stack="";la.prototype.column=void 0;la.prototype.line=void 0;la.prototype.ancestors=void 0;la.prototype.cause=void 0;la.prototype.fatal=void 0;la.prototype.place=void 0;la.prototype.ruleId=void 0;la.prototype.source=void 0;const HW={}.hasOwnProperty,FGe=new Map,BGe=/[A-Z]/g,jGe=new Set(["table","tbody","thead","tfoot","tr"]),zGe=new Set(["td","th"]),C1e="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function UGe(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=XGe(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=KGe(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?e_:QP,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=A1e(i,e,void 0);return o&&typeof o!="string"?o:i.create(e,i.Fragment,{children:o||void 0},void 0)}function A1e(e,t,n){if(t.type==="element")return HGe(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return VGe(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return qGe(e,t,n);if(t.type==="mdxjsEsm")return WGe(e,t);if(t.type==="root")return GGe(e,t,n);if(t.type==="text")return YGe(e,t)}function HGe(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=e_,e.schema=i),e.ancestors.push(t);const o=I1e(e,t.tagName,!1),s=QGe(e,t);let a=WW(e,t);return jGe.has(t.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!eGe(l):!0})),k1e(e,s,o,t),VW(s,a),e.ancestors.pop(),e.schema=r,e.create(t,o,s,n)}function VGe(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}uC(e,t.position)}function WGe(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);uC(e,t.position)}function qGe(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=e_,e.schema=i),e.ancestors.push(t);const o=t.name===null?e.Fragment:I1e(e,t.name,!0),s=JGe(e,t),a=WW(e,t);return k1e(e,s,o,t),VW(s,a),e.ancestors.pop(),e.schema=r,e.create(t,o,s,n)}function GGe(e,t,n){const r={};return VW(r,WW(e,t)),e.create(t,e.Fragment,r,n)}function YGe(e,t){return t.value}function k1e(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function VW(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function KGe(e,t,n){return r;function r(i,o,s,a){const u=Array.isArray(s.children)?n:t;return a?u(o,s,a):u(o,s)}}function XGe(e,t){return n;function n(r,i,o,s){const a=Array.isArray(o.children),l=zh(r);return t(i,o,s,a,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function QGe(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&HW.call(t.properties,i)){const o=ZGe(e,i,t.properties[i]);if(o){const[s,a]=o;e.tableCellAlignToStyle&&s==="align"&&typeof a=="string"&&zGe.has(t.tagName)?r=a:n[s]=a}}if(r){const o=n.style||(n.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function JGe(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const o=r.data.estree.body[0];o.type;const s=o.expression;s.type;const a=s.properties[0];a.type,Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else uC(e,t.position);else{const i=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const a=r.value.data.estree.body[0];a.type,o=e.evaluater.evaluateExpression(a.expression)}else uC(e,t.position);else o=r.value===null?!0:r.value;n[i]=o}return n}function WW(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:FGe;for(;++r<t.children.length;){const o=t.children[r];let s;if(e.passKeys){const l=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(l){const u=i.get(l)||0;s=l+"-"+u,i.set(l,u+1)}}const a=A1e(e,o,s);a!==void 0&&n.push(a)}return n}function ZGe(e,t,n){const r=zW(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?m1e(n):S1e(n)),r.property==="style"){let i=typeof n=="object"?n:eYe(e,String(n));return e.stylePropertyNameCase==="css"&&(i=tYe(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?iGe[r.property]||r.property:r.attribute,n]}}function eYe(e,t){try{return NGe(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new la("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=C1e+"#cannot-parse-style-attribute",i}}function I1e(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let o=-1,s;for(;++o<i.length;){const a=Ere(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};s=s?{type:"MemberExpression",object:s,property:a,computed:!!(o&&a.type==="Literal"),optional:!1}:a}r=s}else r=Ere(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return HW.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);uC(e)}function uC(e,t){const n=new la("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=C1e+"#cannot-handle-mdx-estrees-without-createevaluater",n}function tYe(e){const t={};let n;for(n in e)HW.call(e,n)&&(t[nYe(n)]=e[n]);return t}function nYe(e){let t=e.replace(BGe,rYe);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function rYe(e){return"-"+e.toLowerCase()}const vF={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},iYe={};function oYe(e,t){const n=iYe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return R1e(e,r,i)}function R1e(e,t,n){if(sYe(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Nre(e.children,t,n)}return Array.isArray(e)?Nre(e,t,n):""}function Nre(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=R1e(e[i],t,n);return r.join("")}function sYe(e){return!!(e&&typeof e=="object")}const Ore=document.createElement("i");function qW(e){const t="&"+e+";";Ore.innerHTML=t;const n=Ore.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function cC(e,t,n,r){const i=e.length;let o=0,s;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),e.splice(...s);else for(n&&e.splice(t,n);o<r.length;)s=r.slice(o,o+1e4),s.unshift(t,0),e.splice(...s),o+=1e4,t+=1e4}function aYe(e,t){return e.length>0?(cC(e,e.length,0,t),e):t}function lYe(e,t,n,r){const i=e.length;let o=0,s;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),e.splice(...s);else for(n&&e.splice(t,n);o<r.length;)s=r.slice(o,o+1e4),s.unshift(t,0),e.splice(...s),o+=1e4,t+=1e4}const Lre={}.hasOwnProperty;function uYe(e){const t={};let n=-1;for(;++n<e.length;)cYe(t,e[n]);return t}function cYe(e,t){let n;for(n in t){const i=(Lre.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let s;if(o)for(s in o){Lre.call(i,s)||(i[s]=[]);const a=o[s];dYe(i[s],Array.isArray(a)?a:a?[a]:[])}}}function dYe(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);lYe(e,0,0,r)}function GW(e){return e!==null&&e<-2}function Fre(e){return e===-2||e===-1||e===32}function YW(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return s;function s(l){return Fre(l)?(e.enter(n),a(l)):t(l)}function a(l){return Fre(l)&&o++<i?(e.consume(l),a):(e.exit(n),t(l))}}const hYe={tokenize:fYe};function fYe(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),YW(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),o(a)}function o(a){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(a)}function s(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return GW(a)?(e.consume(a),e.exit("chunkText"),o):(e.consume(a),s)}}const pYe={tokenize:mYe},Bre={tokenize:gYe};function mYe(e){const t=this,n=[];let r=0,i,o,s;return a;function a(b){if(r<n.length){const _=n[r];return t.containerState=_[1],e.attempt(_[0].continuation,l,u)(b)}return u(b)}function l(b){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&v();const _=t.events.length;let x=_,w;for(;x--;)if(t.events[x][0]==="exit"&&t.events[x][1].type==="chunkFlow"){w=t.events[x][1].end;break}y(r);let E=_;for(;E<t.events.length;)t.events[E][1].end={...w},E++;return cC(t.events,x+1,0,t.events.slice(_)),t.events.length=E,u(b)}return a(b)}function u(b){if(r===n.length){if(!i)return h(b);if(i.currentConstruct&&i.currentConstruct.concrete)return p(b);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Bre,c,d)(b)}function c(b){return i&&v(),y(r),h(b)}function d(b){return t.parser.lazy[t.now().line]=r!==n.length,s=t.now().offset,p(b)}function h(b){return t.containerState={},e.attempt(Bre,f,p)(b)}function f(b){return r++,n.push([t.currentConstruct,t.containerState]),h(b)}function p(b){if(b===null){i&&v(),y(0),e.consume(b);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),m(b)}function m(b){if(b===null){g(e.exit("chunkFlow"),!0),y(0),e.consume(b);return}return GW(b)?(e.consume(b),g(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(b),m)}function g(b,_){const x=t.sliceStream(b);if(_&&x.push(null),b.previous=o,o&&(o.next=b),o=b,i.defineSkip(b.start),i.write(x),t.parser.lazy[b.start.line]){let w=i.events.length;for(;w--;)if(i.events[w][1].start.offset<s&&(!i.events[w][1].end||i.events[w][1].end.offset>s))return;const E=t.events.length;let S=E,T,C;for(;S--;)if(t.events[S][0]==="exit"&&t.events[S][1].type==="chunkFlow"){if(T){C=t.events[S][1].end;break}T=!0}for(y(r),w=E;w<t.events.length;)t.events[w][1].end={...C},w++;cC(t.events,S+1,0,t.events.slice(E)),t.events.length=w}}function y(b){let _=n.length;for(;_-- >b;){const x=n[_];t.containerState=x[1],x[0].exit.call(t,e)}n.length=b}function v(){i.write([null]),o=void 0,i=void 0,t.containerState._closeFlow=void 0}}function gYe(e,t,n){return YW(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function t_(e,t,n,r){const i=e.length;let o=0,s;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),e.splice(...s);else for(n&&e.splice(t,n);o<r.length;)s=r.slice(o,o+1e4),s.unshift(t,0),e.splice(...s),o+=1e4,t+=1e4}function Ac(e,t){return e.length>0?(t_(e,e.length,0,t),e):t}function yYe(e){return e!==null&&(e<0||e===32)}const vYe=$1e(new RegExp("\\p{P}|\\p{S}","u")),bYe=$1e(/\s/);function $1e(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function jre(e){if(e===null||yYe(e)||bYe(e))return 1;if(vYe(e))return 2}function D1e(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const k9={name:"attention",resolveAll:wYe,tokenize:xYe};function wYe(e,t){let n=-1,r,i,o,s,a,l,u,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const d={...e[r][1].end},h={...e[n][1].start};zre(d,-l),zre(h,l),s={type:l>1?"strongSequence":"emphasisSequence",start:d,end:{...e[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:h},o={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...s.start},end:{...a.end}},e[r][1].end={...s.start},e[n][1].start={...a.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=Ac(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=Ac(u,[["enter",i,t],["enter",s,t],["exit",s,t],["enter",o,t]]),u=Ac(u,D1e(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=Ac(u,[["exit",o,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,u=Ac(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,t_(e,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function xYe(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=jre(r);let o;return s;function s(l){return o=l,e.enter("attentionSequence"),a(l)}function a(l){if(l===o)return e.consume(l),a;const u=e.exit("attentionSequence"),c=jre(l),d=!c||c===2&&i||n.includes(l),h=!i||i===2&&c||n.includes(r);return u._open=!!(o===42?d:d&&(i||!h)),u._close=!!(o===42?h:h&&(c||!d)),t(l)}}function zre(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Wd=n_(/[A-Za-z]/),Lc=n_(/[\dA-Za-z]/),_Ye=n_(/[#-'*+\--9=?A-Z^-~]/);function EYe(e){return e!==null&&(e<32||e===127)}const I9=n_(/\d/),SYe=n_(/[\dA-Fa-f]/),TYe=n_(/[!-/:-@[-`{-~]/);function Tn(e){return e!==null&&e<-2}function Nu(e){return e!==null&&(e<0||e===32)}function dr(e){return e===-2||e===-1||e===32}function n_(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}const CYe={name:"autolink",tokenize:AYe};function AYe(e,t,n){let r=0;return i;function i(f){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(f){return Wd(f)?(e.consume(f),s):f===64?n(f):u(f)}function s(f){return f===43||f===45||f===46||Lc(f)?(r=1,a(f)):u(f)}function a(f){return f===58?(e.consume(f),r=0,l):(f===43||f===45||f===46||Lc(f))&&r++<32?(e.consume(f),a):(r=0,u(f))}function l(f){return f===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),t):f===null||f===32||f===60||EYe(f)?n(f):(e.consume(f),l)}function u(f){return f===64?(e.consume(f),c):_Ye(f)?(e.consume(f),u):n(f)}function c(f){return Lc(f)?d(f):n(f)}function d(f){return f===46?(e.consume(f),r=0,c):f===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),t):h(f)}function h(f){if((f===45||Lc(f))&&r++<63){const p=f===45?h:d;return e.consume(f),p}return n(f)}}function Ni(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return s;function s(l){return dr(l)?(e.enter(n),a(l)):t(l)}function a(l){return dr(l)&&o++<i?(e.consume(l),a):(e.exit(n),t(l))}}const eN={partial:!0,tokenize:kYe};function kYe(e,t,n){return r;function r(o){return dr(o)?Ni(e,i,"linePrefix")(o):i(o)}function i(o){return o===null||Tn(o)?t(o):n(o)}}const M1e={continuation:{tokenize:RYe},exit:$Ye,name:"blockQuote",tokenize:IYe};function IYe(e,t,n){const r=this;return i;function i(s){if(s===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),o}return n(s)}function o(s){return dr(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function RYe(e,t,n){const r=this;return i;function i(s){return dr(s)?Ni(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):o(s)}function o(s){return e.attempt(M1e,t,n)(s)}}function $Ye(e){e.exit("blockQuote")}const P1e={name:"characterEscape",tokenize:DYe};function DYe(e,t,n){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),i}function i(o){return TYe(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const N1e={name:"characterReference",tokenize:MYe};function MYe(e,t,n){const r=this;let i=0,o,s;return a;function a(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),l}function l(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),o=31,s=Lc,c(d))}function u(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,s=SYe,c):(e.enter("characterReferenceValue"),o=7,s=I9,c(d))}function c(d){if(d===59&&i){const h=e.exit("characterReferenceValue");return s===Lc&&!qW(r.sliceSerialize(h))?n(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return s(d)&&i++<o?(e.consume(d),c):n(d)}}const Ure={partial:!0,tokenize:NYe},Hre={concrete:!0,name:"codeFenced",tokenize:PYe};function PYe(e,t,n){const r=this,i={partial:!0,tokenize:x};let o=0,s=0,a;return l;function l(w){return u(w)}function u(w){const E=r.events[r.events.length-1];return o=E&&E[1].type==="linePrefix"?E[2].sliceSerialize(E[1],!0).length:0,a=w,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(w)}function c(w){return w===a?(s++,e.consume(w),c):s<3?n(w):(e.exit("codeFencedFenceSequence"),dr(w)?Ni(e,d,"whitespace")(w):d(w))}function d(w){return w===null||Tn(w)?(e.exit("codeFencedFence"),r.interrupt?t(w):e.check(Ure,m,_)(w)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(w))}function h(w){return w===null||Tn(w)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(w)):dr(w)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Ni(e,f,"whitespace")(w)):w===96&&w===a?n(w):(e.consume(w),h)}function f(w){return w===null||Tn(w)?d(w):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(w))}function p(w){return w===null||Tn(w)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(w)):w===96&&w===a?n(w):(e.consume(w),p)}function m(w){return e.attempt(i,_,g)(w)}function g(w){return e.enter("lineEnding"),e.consume(w),e.exit("lineEnding"),y}function y(w){return o>0&&dr(w)?Ni(e,v,"linePrefix",o+1)(w):v(w)}function v(w){return w===null||Tn(w)?e.check(Ure,m,_)(w):(e.enter("codeFlowValue"),b(w))}function b(w){return w===null||Tn(w)?(e.exit("codeFlowValue"),v(w)):(e.consume(w),b)}function _(w){return e.exit("codeFenced"),t(w)}function x(w,E,S){let T=0;return C;function C(A){return w.enter("lineEnding"),w.consume(A),w.exit("lineEnding"),D}function D(A){return w.enter("codeFencedFence"),dr(A)?Ni(w,$,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):$(A)}function $(A){return A===a?(w.enter("codeFencedFenceSequence"),I(A)):S(A)}function I(A){return A===a?(T++,w.consume(A),I):T>=s?(w.exit("codeFencedFenceSequence"),dr(A)?Ni(w,R,"whitespace")(A):R(A)):S(A)}function R(A){return A===null||Tn(A)?(w.exit("codeFencedFence"),E(A)):S(A)}}}function NYe(e,t,n){const r=this;return i;function i(s){return s===null?n(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),o)}function o(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}const bF={name:"codeIndented",tokenize:LYe},OYe={partial:!0,tokenize:FYe};function LYe(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),Ni(e,o,"linePrefix",5)(u)}function o(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?s(u):n(u)}function s(u){return u===null?l(u):Tn(u)?e.attempt(OYe,s,l)(u):(e.enter("codeFlowValue"),a(u))}function a(u){return u===null||Tn(u)?(e.exit("codeFlowValue"),s(u)):(e.consume(u),a)}function l(u){return e.exit("codeIndented"),t(u)}}function FYe(e,t,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):Tn(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):Ni(e,o,"linePrefix",5)(s)}function o(s){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(s):Tn(s)?i(s):n(s)}}const BYe={name:"codeText",previous:zYe,resolve:jYe,tokenize:UYe};function jYe(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function zYe(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function UYe(e,t,n){let r=0,i,o;return s;function s(d){return e.enter("codeText"),e.enter("codeTextSequence"),a(d)}function a(d){return d===96?(e.consume(d),r++,a):(e.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===32?(e.enter("space"),e.consume(d),e.exit("space"),l):d===96?(o=e.enter("codeTextSequence"),i=0,c(d)):Tn(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(d))}function u(d){return d===null||d===32||d===96||Tn(d)?(e.exit("codeTextData"),l(d)):(e.consume(d),u)}function c(d){return d===96?(e.consume(d),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(d)):(o.type="codeTextData",u(d))}}let HYe=class{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&cE(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),cE(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),cE(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);cE(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);cE(this.left,n.reverse())}}};function cE(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function VYe(e){const t={};let n=-1,r,i,o,s,a,l,u;const c=new HYe(e);for(;++n<c.length;){for(;n in t;)n=t[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,o=0,o<l.length&&l[o][1].type==="lineEndingBlank"&&(o+=2),o<l.length&&l[o][1].type==="content"))for(;++o<l.length&&l[o][1].type!=="content";)l[o][1].type==="chunkText"&&(l[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,WYe(c,n)),n=t[n],u=!0);else if(r[1]._container){for(o=n,i=void 0;o--;)if(s=c.get(o),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=o);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(r[1].end={...c.get(i)[1].start},a=c.slice(i,n),a.unshift(r),c.splice(i,n-i+1,a))}}return t_(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function WYe(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const o=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const a=s.events,l=[],u={};let c,d,h=-1,f=n,p=0,m=0;const g=[m];for(;f;){for(;e.get(++i)[1]!==f;);o.push(i),f._tokenizer||(c=r.sliceStream(f),f.next||c.push(null),d&&s.defineSkip(f.start),f._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(c),f._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),d=f,f=f.next}for(f=n;++h<a.length;)a[h][0]==="exit"&&a[h-1][0]==="enter"&&a[h][1].type===a[h-1][1].type&&a[h][1].start.line!==a[h][1].end.line&&(m=h+1,g.push(m),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(s.events=[],f?(f._tokenizer=void 0,f.previous=void 0):g.pop(),h=g.length;h--;){const y=a.slice(g[h],g[h+1]),v=o.pop();l.push([v,v+y.length-1]),e.splice(v,2,y)}for(l.reverse(),h=-1;++h<l.length;)u[p+l[h][0]]=p+l[h][1],p+=l[h][1]-l[h][0]-1;return u}const qYe={resolve:YYe,tokenize:KYe},GYe={partial:!0,tokenize:XYe};function YYe(e){return VYe(e),e}function KYe(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?o(a):Tn(a)?e.check(GYe,s,o)(a):(e.consume(a),i)}function o(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function s(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function XYe(e,t,n){const r=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),Ni(e,o,"linePrefix")}function o(s){if(s===null||Tn(s))return n(s);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}}function Vre(e){return e!==null&&(e<32||e===127)}function QYe(e){return e!==null&&e<-2}function JYe(e){return e!==null&&(e<0||e===32)}function O1e(e,t,n,r,i,o,s,a,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return d;function d(y){return y===60?(e.enter(r),e.enter(i),e.enter(o),e.consume(y),e.exit(o),h):y===null||y===32||y===41||Vre(y)?n(y):(e.enter(r),e.enter(s),e.enter(a),e.enter("chunkString",{contentType:"string"}),m(y))}function h(y){return y===62?(e.enter(o),e.consume(y),e.exit(o),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),f(y))}function f(y){return y===62?(e.exit("chunkString"),e.exit(a),h(y)):y===null||y===60||QYe(y)?n(y):(e.consume(y),y===92?p:f)}function p(y){return y===60||y===62||y===92?(e.consume(y),f):f(y)}function m(y){return!c&&(y===null||y===41||JYe(y))?(e.exit("chunkString"),e.exit(a),e.exit(s),e.exit(r),t(y)):c<u&&y===40?(e.consume(y),c++,m):y===41?(e.consume(y),c--,m):y===null||y===32||y===40||Vre(y)?n(y):(e.consume(y),y===92?g:m)}function g(y){return y===40||y===41||y===92?(e.consume(y),m):m(y)}}function Wre(e){return e!==null&&e<-2}function ZYe(e){return e===-2||e===-1||e===32}function L1e(e,t,n,r,i,o){const s=this;let a=0,l;return u;function u(f){return e.enter(r),e.enter(i),e.consume(f),e.exit(i),e.enter(o),c}function c(f){return a>999||f===null||f===91||f===93&&!l||f===94&&!a&&"_hiddenFootnoteSupport"in s.parser.constructs?n(f):f===93?(e.exit(o),e.enter(i),e.consume(f),e.exit(i),e.exit(r),t):Wre(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),d(f))}function d(f){return f===null||f===91||f===93||Wre(f)||a++>999?(e.exit("chunkString"),c(f)):(e.consume(f),l||(l=!ZYe(f)),f===92?h:d)}function h(f){return f===91||f===92||f===93?(e.consume(f),a++,d):d(f)}}function qre(e){return e!==null&&e<-2}function Gre(e){return e===-2||e===-1||e===32}function eKe(e,t,n,r){const i=Number.POSITIVE_INFINITY;let o=0;return s;function s(l){return Gre(l)?(e.enter(n),a(l)):t(l)}function a(l){return Gre(l)&&o++<i?(e.consume(l),a):(e.exit(n),t(l))}}function F1e(e,t,n,r,i,o){let s;return a;function a(h){return h===34||h===39||h===40?(e.enter(r),e.enter(i),e.consume(h),e.exit(i),s=h===40?41:h,l):n(h)}function l(h){return h===s?(e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):(e.enter(o),u(h))}function u(h){return h===s?(e.exit(o),l(s)):h===null?n(h):qre(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),eKe(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(h))}function c(h){return h===s||h===null||qre(h)?(e.exit("chunkString"),u(h)):(e.consume(h),h===92?d:c)}function d(h){return h===s||h===92?(e.consume(h),c):c(h)}}function tKe(e){return e!==null&&e<-2}function R9(e){return e===-2||e===-1||e===32}function nKe(e,t,n,r){const i=Number.POSITIVE_INFINITY;let o=0;return s;function s(l){return R9(l)?(e.enter(n),a(l)):t(l)}function a(l){return R9(l)&&o++<i?(e.consume(l),a):(e.exit(n),t(l))}}function JS(e,t){let n;return r;function r(i){return tKe(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):R9(i)?nKe(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}function KW(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const rKe={name:"definition",tokenize:oKe},iKe={partial:!0,tokenize:sKe};function oKe(e,t,n){const r=this;let i;return o;function o(f){return e.enter("definition"),s(f)}function s(f){return L1e.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(f)}function a(f){return i=KW(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),f===58?(e.enter("definitionMarker"),e.consume(f),e.exit("definitionMarker"),l):n(f)}function l(f){return Nu(f)?JS(e,u)(f):u(f)}function u(f){return O1e(e,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(f)}function c(f){return e.attempt(iKe,d,d)(f)}function d(f){return dr(f)?Ni(e,h,"whitespace")(f):h(f)}function h(f){return f===null||Tn(f)?(e.exit("definition"),r.parser.defined.push(i),t(f)):n(f)}}function sKe(e,t,n){return r;function r(a){return Nu(a)?JS(e,i)(a):n(a)}function i(a){return F1e(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function o(a){return dr(a)?Ni(e,s,"whitespace")(a):s(a)}function s(a){return a===null||Tn(a)?t(a):n(a)}}const aKe={name:"hardBreakEscape",tokenize:lKe};function lKe(e,t,n){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),i}function i(o){return Tn(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const uKe={name:"headingAtx",resolve:cKe,tokenize:dKe};function cKe(e,t){let n=e.length-2,r=3,i,o;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},o={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},t_(e,r,n-r+1,[["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t]])),e}function dKe(e,t,n){let r=0;return i;function i(c){return e.enter("atxHeading"),o(c)}function o(c){return e.enter("atxHeadingSequence"),s(c)}function s(c){return c===35&&r++<6?(e.consume(c),s):c===null||Nu(c)?(e.exit("atxHeadingSequence"),a(c)):n(c)}function a(c){return c===35?(e.enter("atxHeadingSequence"),l(c)):c===null||Tn(c)?(e.exit("atxHeading"),t(c)):dr(c)?Ni(e,a,"whitespace")(c):(e.enter("atxHeadingText"),u(c))}function l(c){return c===35?(e.consume(c),l):(e.exit("atxHeadingSequence"),a(c))}function u(c){return c===null||c===35||Nu(c)?(e.exit("atxHeadingText"),a(c)):(e.consume(c),u)}}const hKe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Yre=["pre","script","style","textarea"],fKe={concrete:!0,name:"htmlFlow",resolveTo:gKe,tokenize:yKe},pKe={partial:!0,tokenize:bKe},mKe={partial:!0,tokenize:vKe};function gKe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function yKe(e,t,n){const r=this;let i,o,s,a,l;return u;function u(B){return c(B)}function c(B){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(B),d}function d(B){return B===33?(e.consume(B),h):B===47?(e.consume(B),o=!0,m):B===63?(e.consume(B),i=3,r.interrupt?t:F):Wd(B)?(e.consume(B),s=String.fromCharCode(B),g):n(B)}function h(B){return B===45?(e.consume(B),i=2,f):B===91?(e.consume(B),i=5,a=0,p):Wd(B)?(e.consume(B),i=4,r.interrupt?t:F):n(B)}function f(B){return B===45?(e.consume(B),r.interrupt?t:F):n(B)}function p(B){const H="CDATA[";return B===H.charCodeAt(a++)?(e.consume(B),a===H.length?r.interrupt?t:$:p):n(B)}function m(B){return Wd(B)?(e.consume(B),s=String.fromCharCode(B),g):n(B)}function g(B){if(B===null||B===47||B===62||Nu(B)){const H=B===47,V=s.toLowerCase();return!H&&!o&&Yre.includes(V)?(i=1,r.interrupt?t(B):$(B)):hKe.includes(s.toLowerCase())?(i=6,H?(e.consume(B),y):r.interrupt?t(B):$(B)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(B):o?v(B):b(B))}return B===45||Lc(B)?(e.consume(B),s+=String.fromCharCode(B),g):n(B)}function y(B){return B===62?(e.consume(B),r.interrupt?t:$):n(B)}function v(B){return dr(B)?(e.consume(B),v):C(B)}function b(B){return B===47?(e.consume(B),C):B===58||B===95||Wd(B)?(e.consume(B),_):dr(B)?(e.consume(B),b):C(B)}function _(B){return B===45||B===46||B===58||B===95||Lc(B)?(e.consume(B),_):x(B)}function x(B){return B===61?(e.consume(B),w):dr(B)?(e.consume(B),x):b(B)}function w(B){return B===null||B===60||B===61||B===62||B===96?n(B):B===34||B===39?(e.consume(B),l=B,E):dr(B)?(e.consume(B),w):S(B)}function E(B){return B===l?(e.consume(B),l=null,T):B===null||Tn(B)?n(B):(e.consume(B),E)}function S(B){return B===null||B===34||B===39||B===47||B===60||B===61||B===62||B===96||Nu(B)?x(B):(e.consume(B),S)}function T(B){return B===47||B===62||dr(B)?b(B):n(B)}function C(B){return B===62?(e.consume(B),D):n(B)}function D(B){return B===null||Tn(B)?$(B):dr(B)?(e.consume(B),D):n(B)}function $(B){return B===45&&i===2?(e.consume(B),M):B===60&&i===1?(e.consume(B),N):B===62&&i===4?(e.consume(B),j):B===63&&i===3?(e.consume(B),F):B===93&&i===5?(e.consume(B),z):Tn(B)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(pKe,W,I)(B)):B===null||Tn(B)?(e.exit("htmlFlowData"),I(B)):(e.consume(B),$)}function I(B){return e.check(mKe,R,W)(B)}function R(B){return e.enter("lineEnding"),e.consume(B),e.exit("lineEnding"),A}function A(B){return B===null||Tn(B)?I(B):(e.enter("htmlFlowData"),$(B))}function M(B){return B===45?(e.consume(B),F):$(B)}function N(B){return B===47?(e.consume(B),s="",L):$(B)}function L(B){if(B===62){const H=s.toLowerCase();return Yre.includes(H)?(e.consume(B),j):$(B)}return Wd(B)&&s.length<8?(e.consume(B),s+=String.fromCharCode(B),L):$(B)}function z(B){return B===93?(e.consume(B),F):$(B)}function F(B){return B===62?(e.consume(B),j):B===45&&i===2?(e.consume(B),F):$(B)}function j(B){return B===null||Tn(B)?(e.exit("htmlFlowData"),W(B)):(e.consume(B),j)}function W(B){return e.exit("htmlFlow"),t(B)}}function vKe(e,t,n){const r=this;return i;function i(s){return Tn(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),o):n(s)}function o(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}function bKe(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(eN,t,n)}}const wKe={name:"htmlText",tokenize:xKe};function xKe(e,t,n){const r=this;let i,o,s;return a;function a(F){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(F),l}function l(F){return F===33?(e.consume(F),u):F===47?(e.consume(F),x):F===63?(e.consume(F),b):Wd(F)?(e.consume(F),S):n(F)}function u(F){return F===45?(e.consume(F),c):F===91?(e.consume(F),o=0,p):Wd(F)?(e.consume(F),v):n(F)}function c(F){return F===45?(e.consume(F),f):n(F)}function d(F){return F===null?n(F):F===45?(e.consume(F),h):Tn(F)?(s=d,N(F)):(e.consume(F),d)}function h(F){return F===45?(e.consume(F),f):d(F)}function f(F){return F===62?M(F):F===45?h(F):d(F)}function p(F){const j="CDATA[";return F===j.charCodeAt(o++)?(e.consume(F),o===j.length?m:p):n(F)}function m(F){return F===null?n(F):F===93?(e.consume(F),g):Tn(F)?(s=m,N(F)):(e.consume(F),m)}function g(F){return F===93?(e.consume(F),y):m(F)}function y(F){return F===62?M(F):F===93?(e.consume(F),y):m(F)}function v(F){return F===null||F===62?M(F):Tn(F)?(s=v,N(F)):(e.consume(F),v)}function b(F){return F===null?n(F):F===63?(e.consume(F),_):Tn(F)?(s=b,N(F)):(e.consume(F),b)}function _(F){return F===62?M(F):b(F)}function x(F){return Wd(F)?(e.consume(F),w):n(F)}function w(F){return F===45||Lc(F)?(e.consume(F),w):E(F)}function E(F){return Tn(F)?(s=E,N(F)):dr(F)?(e.consume(F),E):M(F)}function S(F){return F===45||Lc(F)?(e.consume(F),S):F===47||F===62||Nu(F)?T(F):n(F)}function T(F){return F===47?(e.consume(F),M):F===58||F===95||Wd(F)?(e.consume(F),C):Tn(F)?(s=T,N(F)):dr(F)?(e.consume(F),T):M(F)}function C(F){return F===45||F===46||F===58||F===95||Lc(F)?(e.consume(F),C):D(F)}function D(F){return F===61?(e.consume(F),$):Tn(F)?(s=D,N(F)):dr(F)?(e.consume(F),D):T(F)}function $(F){return F===null||F===60||F===61||F===62||F===96?n(F):F===34||F===39?(e.consume(F),i=F,I):Tn(F)?(s=$,N(F)):dr(F)?(e.consume(F),$):(e.consume(F),R)}function I(F){return F===i?(e.consume(F),i=void 0,A):F===null?n(F):Tn(F)?(s=I,N(F)):(e.consume(F),I)}function R(F){return F===null||F===34||F===39||F===60||F===61||F===96?n(F):F===47||F===62||Nu(F)?T(F):(e.consume(F),R)}function A(F){return F===47||F===62||Nu(F)?T(F):n(F)}function M(F){return F===62?(e.consume(F),e.exit("htmlTextData"),e.exit("htmlText"),t):n(F)}function N(F){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(F),e.exit("lineEnding"),L}function L(F){return dr(F)?Ni(e,z,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):z(F)}function z(F){return e.enter("htmlTextData"),s(F)}}const XW={name:"labelEnd",resolveAll:TKe,resolveTo:CKe,tokenize:AKe},_Ke={tokenize:kKe},EKe={tokenize:IKe},SKe={tokenize:RKe};function TKe(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&t_(e,0,e.length,n),e}function CKe(e,t){let n=e.length,r=0,i,o,s,a;for(;n--;)if(i=e[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[o][1].start},end:{...e[s][1].end}},c={type:"labelText",start:{...e[o+r+2][1].end},end:{...e[s-2][1].start}};return a=[["enter",l,t],["enter",u,t]],a=Ac(a,e.slice(o+1,o+r+3)),a=Ac(a,[["enter",c,t]]),a=Ac(a,D1e(t.parser.constructs.insideSpan.null,e.slice(o+r+4,s-3),t)),a=Ac(a,[["exit",c,t],e[s-2],e[s-1],["exit",u,t]]),a=Ac(a,e.slice(s+1)),a=Ac(a,[["exit",l,t]]),t_(e,o,e.length,a),e}function AKe(e,t,n){const r=this;let i=r.events.length,o,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return a;function a(h){return o?o._inactive?d(h):(s=r.parser.defined.includes(KW(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),l):n(h)}function l(h){return h===40?e.attempt(_Ke,c,s?c:d)(h):h===91?e.attempt(EKe,c,s?u:d)(h):s?c(h):d(h)}function u(h){return e.attempt(SKe,c,d)(h)}function c(h){return t(h)}function d(h){return o._balanced=!0,n(h)}}function kKe(e,t,n){return r;function r(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),i}function i(d){return Nu(d)?JS(e,o)(d):o(d)}function o(d){return d===41?c(d):O1e(e,s,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function s(d){return Nu(d)?JS(e,l)(d):c(d)}function a(d){return n(d)}function l(d){return d===34||d===39||d===40?F1e(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):c(d)}function u(d){return Nu(d)?JS(e,c)(d):c(d)}function c(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),t):n(d)}}function IKe(e,t,n){const r=this;return i;function i(a){return L1e.call(r,e,o,s,"reference","referenceMarker","referenceString")(a)}function o(a){return r.parser.defined.includes(KW(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function s(a){return n(a)}}function RKe(e,t,n){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),i}function i(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const $Ke={name:"labelStartImage",resolveAll:XW.resolveAll,tokenize:DKe};function DKe(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),o}function o(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),s):n(a)}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const MKe={name:"labelStartLink",resolveAll:XW.resolveAll,tokenize:PKe};function PKe(e,t,n){const r=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),o}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const wF={name:"lineEnding",tokenize:NKe};function NKe(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Ni(e,t,"linePrefix")}}const $I={name:"thematicBreak",tokenize:OKe};function OKe(e,t,n){let r=0,i;return o;function o(u){return e.enter("thematicBreak"),s(u)}function s(u){return i=u,a(u)}function a(u){return u===i?(e.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||Tn(u))?(e.exit("thematicBreak"),t(u)):n(u)}function l(u){return u===i?(e.consume(u),r++,l):(e.exit("thematicBreakSequence"),dr(u)?Ni(e,a,"whitespace")(u):a(u))}}const Ya={continuation:{tokenize:jKe},exit:UKe,name:"list",tokenize:BKe},LKe={partial:!0,tokenize:HKe},FKe={partial:!0,tokenize:zKe};function BKe(e,t,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return a;function a(f){const p=r.containerState.type||(f===42||f===43||f===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||f===r.containerState.marker:I9(f)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),f===42||f===45?e.check($I,n,u)(f):u(f);if(!r.interrupt||f===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(f)}return n(f)}function l(f){return I9(f)&&++s<10?(e.consume(f),l):(!r.interrupt||s<2)&&(r.containerState.marker?f===r.containerState.marker:f===41||f===46)?(e.exit("listItemValue"),u(f)):n(f)}function u(f){return e.enter("listItemMarker"),e.consume(f),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||f,e.check(eN,r.interrupt?n:c,e.attempt(LKe,h,d))}function c(f){return r.containerState.initialBlankLine=!0,o++,h(f)}function d(f){return dr(f)?(e.enter("listItemPrefixWhitespace"),e.consume(f),e.exit("listItemPrefixWhitespace"),h):n(f)}function h(f){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(f)}}function jKe(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(eN,i,o);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ni(e,t,"listItemIndent",r.containerState.size+1)(a)}function o(a){return r.containerState.furtherBlankLines||!dr(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(FKe,t,s)(a))}function s(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ni(e,e.attempt(Ya,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function zKe(e,t,n){const r=this;return Ni(e,i,"listItemIndent",r.containerState.size+1);function i(o){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(o):n(o)}}function UKe(e){e.exit(this.containerState.type)}function HKe(e,t,n){const r=this;return Ni(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const s=r.events[r.events.length-1];return!dr(o)&&s&&s[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const Kre={name:"setextUnderline",resolveTo:VKe,tokenize:WKe};function VKe(e,t){let n=e.length,r,i,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const s={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",o?(e.splice(i,0,["enter",s,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end={...e[o][1].end}):e[r][1]=s,e.push(["exit",s,t]),e}function WKe(e,t,n){const r=this;let i;return o;function o(u){let c=r.events.length,d;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){d=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(e.enter("setextHeadingLine"),i=u,s(u)):n(u)}function s(u){return e.enter("setextHeadingLineSequence"),a(u)}function a(u){return u===i?(e.consume(u),a):(e.exit("setextHeadingLineSequence"),dr(u)?Ni(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||Tn(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const qKe={tokenize:GKe};function GKe(e){const t=this,n=e.attempt(eN,r,e.attempt(this.parser.constructs.flowInitial,i,YW(e,e.attempt(this.parser.constructs.flow,i,e.attempt(qYe,i)),"linePrefix")));return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const YKe={resolveAll:j1e()},KKe=B1e("string"),XKe=B1e("text");function B1e(e){return{resolveAll:j1e(e==="text"?QKe:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],o=n.attempt(i,s,a);return s;function s(c){return u(c)?o(c):a(c)}function a(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),l}function l(c){return u(c)?(n.exit("data"),o(c)):(n.consume(c),l)}function u(c){if(c===null)return!0;const d=i[c];let h=-1;if(d)for(;++h<d.length;){const f=d[h];if(!f.previous||f.previous.call(r,r.previous))return!0}return!1}}}function j1e(e){return t;function t(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return e?e(n,r):n}}function QKe(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let o=i.length,s=-1,a=0,l;for(;o--;){const u=i[o];if(typeof u=="string"){for(s=u.length;u.charCodeAt(s-1)===32;)a++,s--;if(s)break;s=-1}else if(u===-2)l=!0,a++;else if(u!==-1){o++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(a=0),a){const u={type:n===e.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?s:r.start._bufferIndex+s,_index:r.start._index+o,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const JKe={42:Ya,43:Ya,45:Ya,48:Ya,49:Ya,50:Ya,51:Ya,52:Ya,53:Ya,54:Ya,55:Ya,56:Ya,57:Ya,62:M1e},ZKe={91:rKe},eXe={[-2]:bF,[-1]:bF,32:bF},tXe={35:uKe,42:$I,45:[Kre,$I],60:fKe,61:Kre,95:$I,96:Hre,126:Hre},nXe={38:N1e,92:P1e},rXe={[-5]:wF,[-4]:wF,[-3]:wF,33:$Ke,38:N1e,42:k9,60:[CYe,wKe],91:MKe,92:[aKe,P1e],93:XW,95:k9,96:BYe},iXe={null:[k9,YKe]},oXe={null:[42,95]},sXe={null:[]},aXe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:oXe,contentInitial:ZKe,disable:sXe,document:JKe,flow:tXe,flowInitial:eXe,insideSpan:iXe,string:nXe,text:rXe},Symbol.toStringTag,{value:"Module"}));function lXe(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}function uXe(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let s=[],a=[];const l={attempt:E(x),check:E(w),consume:v,enter:b,exit:_,interrupt:E(w,{interrupt:!0})},u={code:null,containerState:{},defineSkip:m,events:[],now:p,parser:e,previous:null,sliceSerialize:h,sliceStream:f,write:d};let c=t.tokenize.call(u,l);return t.resolveAll&&o.push(t),u;function d(D){return s=aYe(s,D),g(),s[s.length-1]!==null?[]:(S(t,0),u.events=lXe(o,u.events,u),u.events)}function h(D,$){return dXe(f(D),$)}function f(D){return cXe(s,D)}function p(){const{_bufferIndex:D,_index:$,line:I,column:R,offset:A}=r;return{_bufferIndex:D,_index:$,line:I,column:R,offset:A}}function m(D){i[D.line]=D.column,C()}function g(){let D;for(;r._index<s.length;){const $=s[r._index];if(typeof $=="string")for(D=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===D&&r._bufferIndex<$.length;)y($.charCodeAt(r._bufferIndex));else y($)}}function y(D){c=c(D)}function v(D){GW(D)?(r.line++,r.column=1,r.offset+=D===-3?2:1,C()):D!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=D}function b(D,$){const I=$||{};return I.type=D,I.start=p(),u.events.push(["enter",I,u]),a.push(I),I}function _(D){const $=a.pop();return $.end=p(),u.events.push(["exit",$,u]),$}function x(D,$){S(D,$.from)}function w(D,$){$.restore()}function E(D,$){return I;function I(R,A,M){let N,L,z,F;return Array.isArray(R)?W(R):"tokenize"in R?W([R]):j(R);function j(G){return ne;function ne(X){const te=X!==null&&G[X],se=X!==null&&G.null,ve=[...Array.isArray(te)?te:te?[te]:[],...Array.isArray(se)?se:se?[se]:[]];return W(ve)(X)}}function W(G){return N=G,L=0,G.length===0?M:B(G[L])}function B(G){return ne;function ne(X){return F=T(),z=G,G.partial||(u.currentConstruct=G),G.name&&u.parser.constructs.disable.null.includes(G.name)?V():G.tokenize.call($?Object.assign(Object.create(u),$):u,l,H,V)(X)}}function H(G){return D(z,F),A}function V(G){return F.restore(),++L<N.length?B(N[L]):M}}}function S(D,$){D.resolveAll&&!o.includes(D)&&o.push(D),D.resolve&&cC(u.events,$,u.events.length-$,D.resolve(u.events.slice($),u)),D.resolveTo&&(u.events=D.resolveTo(u.events,u))}function T(){const D=p(),$=u.previous,I=u.currentConstruct,R=u.events.length,A=Array.from(a);return{from:R,restore:M};function M(){r=D,u.previous=$,u.currentConstruct=I,u.events.length=R,a=A,C()}}function C(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function cXe(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex;let s;if(n===i)s=[e[n].slice(r,o)];else{if(s=e.slice(n,i),r>-1){const a=s[0];typeof a=="string"?s[0]=a.slice(r):s.shift()}o>0&&s.push(e[i].slice(0,o))}return s}function dXe(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const o=e[n];let s;if(typeof o=="string")s=o;else switch(o){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&i)continue;s=" ";break}default:s=String.fromCharCode(o)}i=o===-2,r.push(s)}return r.join("")}function hXe(e){const r={constructs:uYe([aXe,...(e||{}).extensions||[]]),content:i(hYe),defined:[],document:i(pYe),flow:i(qKe),lazy:{},string:i(KKe),text:i(XKe)};return r;function i(o){return s;function s(a){return uXe(r,o,a)}}}class fXe{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&dE(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),dE(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),dE(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);dE(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);dE(this.left,n.reverse())}}}function dE(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function pXe(e){const t={};let n=-1,r,i,o,s,a,l,u;const c=new fXe(e);for(;++n<c.length;){for(;n in t;)n=t[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,o=0,o<l.length&&l[o][1].type==="lineEndingBlank"&&(o+=2),o<l.length&&l[o][1].type==="content"))for(;++o<l.length&&l[o][1].type!=="content";)l[o][1].type==="chunkText"&&(l[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,mXe(c,n)),n=t[n],u=!0);else if(r[1]._container){for(o=n,i=void 0;o--;)if(s=c.get(o),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=o);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(r[1].end={...c.get(i)[1].start},a=c.slice(i,n),a.unshift(r),c.splice(i,n-i+1,a))}}return cC(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function mXe(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const o=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const a=s.events,l=[],u={};let c,d,h=-1,f=n,p=0,m=0;const g=[m];for(;f;){for(;e.get(++i)[1]!==f;);o.push(i),f._tokenizer||(c=r.sliceStream(f),f.next||c.push(null),d&&s.defineSkip(f.start),f._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(c),f._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),d=f,f=f.next}for(f=n;++h<a.length;)a[h][0]==="exit"&&a[h-1][0]==="enter"&&a[h][1].type===a[h-1][1].type&&a[h][1].start.line!==a[h][1].end.line&&(m=h+1,g.push(m),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(s.events=[],f?(f._tokenizer=void 0,f.previous=void 0):g.pop(),h=g.length;h--;){const y=a.slice(g[h],g[h+1]),v=o.pop();l.push([v,v+y.length-1]),e.splice(v,2,y)}for(l.reverse(),h=-1;++h<l.length;)u[p+l[h][0]]=p+l[h][1],p+=l[h][1]-l[h][0]-1;return u}function gXe(e){for(;!pXe(e););return e}const Xre=/[\0\t\n\r]/g;function yXe(){let e=1,t="",n=!0,r;return i;function i(o,s,a){const l=[];let u,c,d,h,f;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(s||void 0).decode(o)),d=0,t="",n&&(o.charCodeAt(0)===65279&&d++,n=void 0);d<o.length;){if(Xre.lastIndex=d,u=Xre.exec(o),h=u&&u.index!==void 0?u.index:o.length,f=o.charCodeAt(h),!u){t=o.slice(d);break}if(f===10&&d===h&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<h&&(l.push(o.slice(d,h)),e+=h-d),f){case 0:{l.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,l.push(-2);e++<c;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}d=h+1}return a&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}function vXe(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function bXe(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}const wXe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function xXe(e){return e.replace(wXe,_Xe)}function _Xe(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return bXe(n.slice(o?2:1),o?16:10)}return qW(n)||e}function xF(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}function DI(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Qre(e.position):"start"in e||"end"in e?Qre(e):"line"in e||"column"in e?$9(e):""}function $9(e){return Jre(e&&e.line)+":"+Jre(e&&e.column)}function Qre(e){return $9(e&&e.start)+"-"+$9(e&&e.end)}function Jre(e){return e&&typeof e=="number"?e:1}const z1e={}.hasOwnProperty;function EXe(e,t,n){return typeof t!="string"&&(n=t,t=void 0),SXe(n)(gXe(hXe(n).document().write(yXe()(e,t,!0))))}function SXe(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(Ze),autolinkProtocol:T,autolinkEmail:T,atxHeading:o(Ke),blockQuote:o(se),characterEscape:T,characterReference:T,codeFenced:o(ve),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:o(ve,s),codeText:o(pe,s),codeTextData:T,data:T,codeFlowValue:T,definition:o(Ge),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:o(Ne),hardBreakEscape:o(Je),hardBreakTrailing:o(Je),htmlFlow:o(Ae,s),htmlFlowData:T,htmlText:o(Ae,s),htmlTextData:T,image:o($e),label:s,link:o(Ze),listItem:o(gt),listItemValue:h,listOrdered:o(lt,d),listUnordered:o(lt),paragraph:o(st),reference:B,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:o(Ke),strong:o(ht),thematicBreak:o(ut)},exit:{atxHeading:l(),atxHeadingSequence:x,autolink:l(),autolinkEmail:te,autolinkProtocol:X,blockQuote:l(),characterEscapeValue:C,characterReferenceMarkerHexadecimal:V,characterReferenceMarkerNumeric:V,characterReferenceValue:G,characterReference:ne,codeFenced:l(g),codeFencedFence:m,codeFencedFenceInfo:f,codeFencedFenceMeta:p,codeFlowValue:C,codeIndented:l(y),codeText:l(A),codeTextData:C,data:C,definition:l(),definitionDestinationString:_,definitionLabelString:v,definitionTitleString:b,emphasis:l(),hardBreakEscape:l($),hardBreakTrailing:l($),htmlFlow:l(I),htmlFlowData:C,htmlText:l(R),htmlTextData:C,image:l(N),label:z,labelText:L,lineEnding:D,link:l(M),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:H,resourceDestinationString:F,resourceTitleString:j,resource:W,setextHeading:l(S),setextHeadingLineSequence:E,setextHeadingText:w,strong:l(),thematicBreak:l()}};U1e(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(ee){let he={type:"root",children:[]};const xe={stack:[he],tokenStack:[],config:t,enter:a,exit:u,buffer:s,resume:c,data:n},Me=[];let je=-1;for(;++je<ee.length;)if(ee[je][1].type==="listOrdered"||ee[je][1].type==="listUnordered")if(ee[je][0]==="enter")Me.push(je);else{const ft=Me.pop();je=i(ee,ft,je)}for(je=-1;++je<ee.length;){const ft=t[ee[je][0]];z1e.call(ft,ee[je][1].type)&&ft[ee[je][1].type].call(Object.assign({sliceSerialize:ee[je][2].sliceSerialize},xe),ee[je][1])}if(xe.tokenStack.length>0){const ft=xe.tokenStack[xe.tokenStack.length-1];(ft[1]||Zre).call(xe,void 0,ft[0])}for(he.position={start:im(ee.length>0?ee[0][1].start:{line:1,column:1,offset:0}),end:im(ee.length>0?ee[ee.length-2][1].end:{line:1,column:1,offset:0})},je=-1;++je<t.transforms.length;)he=t.transforms[je](he)||he;return he}function i(ee,he,xe){let Me=he-1,je=-1,ft=!1,jt,Gt,Dt,ct;for(;++Me<=xe;){const Ft=ee[Me];switch(Ft[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ft[0]==="enter"?je++:je--,ct=void 0;break}case"lineEndingBlank":{Ft[0]==="enter"&&(jt&&!ct&&!je&&!Dt&&(Dt=Me),ct=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:ct=void 0}if(!je&&Ft[0]==="enter"&&Ft[1].type==="listItemPrefix"||je===-1&&Ft[0]==="exit"&&(Ft[1].type==="listUnordered"||Ft[1].type==="listOrdered")){if(jt){let rr=Me;for(Gt=void 0;rr--;){const In=ee[rr];if(In[1].type==="lineEnding"||In[1].type==="lineEndingBlank"){if(In[0]==="exit")continue;Gt&&(ee[Gt][1].type="lineEndingBlank",ft=!0),In[1].type="lineEnding",Gt=rr}else if(!(In[1].type==="linePrefix"||In[1].type==="blockQuotePrefix"||In[1].type==="blockQuotePrefixWhitespace"||In[1].type==="blockQuoteMarker"||In[1].type==="listItemIndent"))break}Dt&&(!Gt||Dt<Gt)&&(jt._spread=!0),jt.end=Object.assign({},Gt?ee[Gt][1].start:Ft[1].end),ee.splice(Gt||Me,0,["exit",jt,Ft[2]]),Me++,xe++}if(Ft[1].type==="listItemPrefix"){const rr={type:"listItem",_spread:!1,start:Object.assign({},Ft[1].start),end:void 0};jt=rr,ee.splice(Me,0,["enter",rr,Ft[2]]),Me++,xe++,Dt=void 0,ct=!0}}}return ee[he][1]._spread=ft,xe}function o(ee,he){return xe;function xe(Me){a.call(this,ee(Me),Me),he&&he.call(this,Me)}}function s(){this.stack.push({type:"fragment",children:[]})}function a(ee,he,xe){this.stack[this.stack.length-1].children.push(ee),this.stack.push(ee),this.tokenStack.push([he,xe||void 0]),ee.position={start:im(he.start),end:void 0}}function l(ee){return he;function he(xe){ee&&ee.call(this,xe),u.call(this,xe)}}function u(ee,he){const xe=this.stack.pop(),Me=this.tokenStack.pop();if(Me)Me[0].type!==ee.type&&(he?he.call(this,ee,Me[0]):(Me[1]||Zre).call(this,ee,Me[0]));else throw new Error("Cannot close `"+ee.type+"` ("+DI({start:ee.start,end:ee.end})+"): its not open");xe.position.end=im(ee.end)}function c(){return oYe(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function h(ee){if(this.data.expectingFirstListItemValue){const he=this.stack[this.stack.length-2];he.start=Number.parseInt(this.sliceSerialize(ee),10),this.data.expectingFirstListItemValue=void 0}}function f(){const ee=this.resume(),he=this.stack[this.stack.length-1];he.lang=ee}function p(){const ee=this.resume(),he=this.stack[this.stack.length-1];he.meta=ee}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function g(){const ee=this.resume(),he=this.stack[this.stack.length-1];he.value=ee.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const ee=this.resume(),he=this.stack[this.stack.length-1];he.value=ee.replace(/(\r?\n|\r)$/g,"")}function v(ee){const he=this.resume(),xe=this.stack[this.stack.length-1];xe.label=he,xe.identifier=xF(this.sliceSerialize(ee)).toLowerCase()}function b(){const ee=this.resume(),he=this.stack[this.stack.length-1];he.title=ee}function _(){const ee=this.resume(),he=this.stack[this.stack.length-1];he.url=ee}function x(ee){const he=this.stack[this.stack.length-1];if(!he.depth){const xe=this.sliceSerialize(ee).length;he.depth=xe}}function w(){this.data.setextHeadingSlurpLineEnding=!0}function E(ee){const he=this.stack[this.stack.length-1];he.depth=this.sliceSerialize(ee).codePointAt(0)===61?1:2}function S(){this.data.setextHeadingSlurpLineEnding=void 0}function T(ee){const xe=this.stack[this.stack.length-1].children;let Me=xe[xe.length-1];(!Me||Me.type!=="text")&&(Me=Oe(),Me.position={start:im(ee.start),end:void 0},xe.push(Me)),this.stack.push(Me)}function C(ee){const he=this.stack.pop();he.value+=this.sliceSerialize(ee),he.position.end=im(ee.end)}function D(ee){const he=this.stack[this.stack.length-1];if(this.data.atHardBreak){const xe=he.children[he.children.length-1];xe.position.end=im(ee.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(he.type)&&(T.call(this,ee),C.call(this,ee))}function $(){this.data.atHardBreak=!0}function I(){const ee=this.resume(),he=this.stack[this.stack.length-1];he.value=ee}function R(){const ee=this.resume(),he=this.stack[this.stack.length-1];he.value=ee}function A(){const ee=this.resume(),he=this.stack[this.stack.length-1];he.value=ee}function M(){const ee=this.stack[this.stack.length-1];if(this.data.inReference){const he=this.data.referenceType||"shortcut";ee.type+="Reference",ee.referenceType=he,delete ee.url,delete ee.title}else delete ee.identifier,delete ee.label;this.data.referenceType=void 0}function N(){const ee=this.stack[this.stack.length-1];if(this.data.inReference){const he=this.data.referenceType||"shortcut";ee.type+="Reference",ee.referenceType=he,delete ee.url,delete ee.title}else delete ee.identifier,delete ee.label;this.data.referenceType=void 0}function L(ee){const he=this.sliceSerialize(ee),xe=this.stack[this.stack.length-2];xe.label=xXe(he),xe.identifier=xF(he).toLowerCase()}function z(){const ee=this.stack[this.stack.length-1],he=this.resume(),xe=this.stack[this.stack.length-1];if(this.data.inReference=!0,xe.type==="link"){const Me=ee.children;xe.children=Me}else xe.alt=he}function F(){const ee=this.resume(),he=this.stack[this.stack.length-1];he.url=ee}function j(){const ee=this.resume(),he=this.stack[this.stack.length-1];he.title=ee}function W(){this.data.inReference=void 0}function B(){this.data.referenceType="collapsed"}function H(ee){const he=this.resume(),xe=this.stack[this.stack.length-1];xe.label=he,xe.identifier=xF(this.sliceSerialize(ee)).toLowerCase(),this.data.referenceType="full"}function V(ee){this.data.characterReferenceType=ee.type}function G(ee){const he=this.sliceSerialize(ee),xe=this.data.characterReferenceType;let Me;xe?(Me=vXe(he,xe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Me=qW(he);const je=this.stack[this.stack.length-1];je.value+=Me}function ne(ee){const he=this.stack.pop();he.position.end=im(ee.end)}function X(ee){C.call(this,ee);const he=this.stack[this.stack.length-1];he.url=this.sliceSerialize(ee)}function te(ee){C.call(this,ee);const he=this.stack[this.stack.length-1];he.url="mailto:"+this.sliceSerialize(ee)}function se(){return{type:"blockquote",children:[]}}function ve(){return{type:"code",lang:null,meta:null,value:""}}function pe(){return{type:"inlineCode",value:""}}function Ge(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ne(){return{type:"emphasis",children:[]}}function Ke(){return{type:"heading",depth:0,children:[]}}function Je(){return{type:"break"}}function Ae(){return{type:"html",value:""}}function $e(){return{type:"image",title:null,url:"",alt:null}}function Ze(){return{type:"link",title:null,url:"",children:[]}}function lt(ee){return{type:"list",ordered:ee.type==="listOrdered",start:null,spread:ee._spread,children:[]}}function gt(ee){return{type:"listItem",spread:ee._spread,checked:null,children:[]}}function st(){return{type:"paragraph",children:[]}}function ht(){return{type:"strong",children:[]}}function Oe(){return{type:"text",value:""}}function ut(){return{type:"thematicBreak"}}}function im(e){return{line:e.line,column:e.column,offset:e.offset}}function U1e(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?U1e(e,r):TXe(e,r)}}function TXe(e,t){let n;for(n in t)if(z1e.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Zre(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+DI({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+DI({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+DI({start:t.start,end:t.end})+") is still open")}function CXe(e){const t=this;t.parser=n;function n(r){return EXe(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function AXe(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function kXe(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function IXe(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function RXe(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function $Xe(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const eie=DXe(/[\dA-Za-z]/);function DXe(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function r_(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const o=e.charCodeAt(n);let s="";if(o===37&&eie(e.charCodeAt(n+1))&&eie(e.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(s=String.fromCharCode(o));else if(o>55295&&o<57344){const a=e.charCodeAt(n+1);o<56320&&a>56319&&a<57344?(s=String.fromCharCode(o,a),i=1):s=""}else s=String.fromCharCode(o);s&&(t.push(e.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function MXe(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=r_(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let s,a=e.footnoteCounts.get(r);a===void 0?(a=0,e.footnoteOrder.push(r),s=e.footnoteOrder.length):s=o+1,a+=1,e.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function PXe(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function NXe(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function H1e(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function OXe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return H1e(e,t);const i={src:r_(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,o),e.applyData(t,o)}function LXe(e,t){const n={src:r_(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function FXe(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function BXe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return H1e(e,t);const i={href:r_(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function jXe(e,t){const n={href:r_(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function zXe(e,t,n){const r=e.all(t),i=n?UXe(n):V1e(t),o={},s=[];if(typeof t.checked=="boolean"){const c=r[0];let d;c&&c.type==="element"&&c.tagName==="p"?d=c:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const c=r[a];(i||a!==0||c.type!=="element"||c.tagName!=="p")&&s.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?s.push(...c.children):s.push(c)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:o,children:s};return e.patch(t,u),e.applyData(t,u)}function UXe(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=V1e(n[r])}return t}function V1e(e){const t=e.spread;return t??e.children.length>1}function HXe(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)}function VXe(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function WXe(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function qXe(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function GXe(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=zh(t.children[1]),l=ZP(t.children[t.children.length-1]);a&&l&&(s.position={start:a,end:l}),i.push(s)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)}function YXe(e,t,n){const r=n?n.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,a=s?s.length:t.children.length;let l=-1;const u=[];for(;++l<a;){const d=t.children[l],h={},f=s?s[l]:void 0;f&&(h.align=f);let p={type:"element",tagName:o,properties:h,children:[]};d&&(p.children=e.all(d),e.patch(d,p),p=e.applyData(d,p)),u.push(p)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,c),e.applyData(t,c)}function KXe(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const tie=9,nie=32;function XXe(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const o=[];for(;r;)o.push(rie(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return o.push(rie(t.slice(i),i>0,!1)),o.join("")}function rie(e,t,n){let r=0,i=e.length;if(t){let o=e.codePointAt(r);for(;o===tie||o===nie;)r++,o=e.codePointAt(r)}if(n){let o=e.codePointAt(i-1);for(;o===tie||o===nie;)i--,o=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function QXe(e,t){const n={type:"text",value:XXe(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function JXe(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const ZXe={blockquote:AXe,break:kXe,code:IXe,delete:RXe,emphasis:$Xe,footnoteReference:MXe,heading:PXe,html:NXe,imageReference:OXe,image:LXe,inlineCode:FXe,linkReference:BXe,link:jXe,listItem:zXe,list:HXe,paragraph:VXe,root:WXe,strong:qXe,table:GXe,tableCell:KXe,tableRow:YXe,text:QXe,thematicBreak:JXe,toml:Uk,yaml:Uk,definition:Uk,footnoteDefinition:Uk};function Uk(){}const W1e=-1,tN=0,ZS=1,b$=2,QW=3,JW=4,ZW=5,eq=6,q1e=7,G1e=8,iie=typeof self=="object"?self:globalThis,eQe=(e,t)=>{const n=(i,o)=>(e.set(o,i),i),r=i=>{if(e.has(i))return e.get(i);const[o,s]=t[i];switch(o){case tN:case W1e:return n(s,i);case ZS:{const a=n([],i);for(const l of s)a.push(r(l));return a}case b$:{const a=n({},i);for(const[l,u]of s)a[r(l)]=r(u);return a}case QW:return n(new Date(s),i);case JW:{const{source:a,flags:l}=s;return n(new RegExp(a,l),i)}case ZW:{const a=n(new Map,i);for(const[l,u]of s)a.set(r(l),r(u));return a}case eq:{const a=n(new Set,i);for(const l of s)a.add(r(l));return a}case q1e:{const{name:a,message:l}=s;return n(new iie[a](l),i)}case G1e:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:a}=new Uint8Array(s);return n(new DataView(a),s)}}return n(new iie[o](s),i)};return r},oie=e=>eQe(new Map,e)(0),Ub="",{toString:tQe}={},{keys:nQe}=Object,hE=e=>{const t=typeof e;if(t!=="object"||!e)return[tN,t];const n=tQe.call(e).slice(8,-1);switch(n){case"Array":return[ZS,Ub];case"Object":return[b$,Ub];case"Date":return[QW,Ub];case"RegExp":return[JW,Ub];case"Map":return[ZW,Ub];case"Set":return[eq,Ub];case"DataView":return[ZS,n]}return n.includes("Array")?[ZS,n]:n.includes("Error")?[q1e,n]:[b$,n]},Hk=([e,t])=>e===tN&&(t==="function"||t==="symbol"),rQe=(e,t,n,r)=>{const i=(s,a)=>{const l=r.push(s)-1;return n.set(a,l),l},o=s=>{if(n.has(s))return n.get(s);let[a,l]=hE(s);switch(a){case tN:{let c=s;switch(l){case"bigint":a=G1e,c=s.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);c=null;break;case"undefined":return i([W1e],s)}return i([a,c],s)}case ZS:{if(l){let h=s;return l==="DataView"?h=new Uint8Array(s.buffer):l==="ArrayBuffer"&&(h=new Uint8Array(s)),i([l,[...h]],s)}const c=[],d=i([a,c],s);for(const h of s)c.push(o(h));return d}case b$:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(t&&"toJSON"in s)return o(s.toJSON());const c=[],d=i([a,c],s);for(const h of nQe(s))(e||!Hk(hE(s[h])))&&c.push([o(h),o(s[h])]);return d}case QW:return i([a,s.toISOString()],s);case JW:{const{source:c,flags:d}=s;return i([a,{source:c,flags:d}],s)}case ZW:{const c=[],d=i([a,c],s);for(const[h,f]of s)(e||!(Hk(hE(h))||Hk(hE(f))))&&c.push([o(h),o(f)]);return d}case eq:{const c=[],d=i([a,c],s);for(const h of s)(e||!Hk(hE(h)))&&c.push(o(h));return d}}const{message:u}=s;return i([a,{name:l,message:u}],s)};return o},sie=(e,{json:t,lossy:n}={})=>{const r=[];return rQe(!(t||n),!!t,new Map,r)(e),r},Nw=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?oie(sie(e,t)):structuredClone(e):(e,t)=>oie(sie(e,t));function iQe(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function oQe(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function sQe(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||iQe,r=e.options.footnoteBackLabel||oQe,i=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const c=e.all(u),d=String(u.identifier).toUpperCase(),h=r_(d.toLowerCase());let f=0;const p=[],m=e.footnoteCounts.get(d);for(;m!==void 0&&++f<=m;){p.length>0&&p.push({type:"text",value:" "});let v=typeof n=="string"?n:n(l,f);typeof v=="string"&&(v={type:"text",value:v}),p.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(f>1?"-"+f:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,f),className:["data-footnote-backref"]},children:Array.isArray(v)?v:[v]})}const g=c[c.length-1];if(g&&g.type==="element"&&g.tagName==="p"){const v=g.children[g.children.length-1];v&&v.type==="text"?v.value+=" ":g.children.push({type:"text",value:" "}),g.children.push(...p)}else c.push(...p);const y={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(c,!0)};e.patch(u,y),a.push(y)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...Nw(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const Y1e=function(e){if(e==null)return cQe;if(typeof e=="function")return nN(e);if(typeof e=="object")return Array.isArray(e)?aQe(e):lQe(e);if(typeof e=="string")return uQe(e);throw new Error("Expected function, string, or object as test")};function aQe(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Y1e(e[n]);return nN(r);function r(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}function lQe(e){const t=e;return nN(n);function n(r){const i=r;let o;for(o in e)if(i[o]!==t[o])return!1;return!0}}function uQe(e){return nN(t);function t(n){return n&&n.type===e}}function nN(e){return t;function t(n,r,i){return!!(dQe(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function cQe(){return!0}function dQe(e){return e!==null&&typeof e=="object"&&"type"in e}const K1e=[],hQe=!0,aie=!1,fQe="skip";function pQe(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const o=Y1e(i),s=r?-1:1;a(e,void 0,[])();function a(l,u,c){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const f=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(l.type+(f?"<"+f+">":""))+")"})}return h;function h(){let f=K1e,p,m,g;if((!t||o(l,u,c[c.length-1]||void 0))&&(f=mQe(n(l,c)),f[0]===aie))return f;if("children"in l&&l.children){const y=l;if(y.children&&f[0]!==fQe)for(m=(r?y.children.length:-1)+s,g=c.concat(y);m>-1&&m<y.children.length;){const v=y.children[m];if(p=a(v,m,g)(),p[0]===aie)return p;m=typeof p[1]=="number"?p[1]:m+s}}return f}}}function mQe(e){return Array.isArray(e)?e:typeof e=="number"?[hQe,e]:e==null?K1e:[e]}function tq(e,t,n,r){let i,o,s;typeof t=="function"&&typeof n!="function"?(o=void 0,s=t,i=n):(o=t,s=n,i=r),pQe(e,o,a,i);function a(l,u){const c=u[u.length-1],d=c?c.children.indexOf(l):void 0;return s(l,d,c)}}const D9={}.hasOwnProperty,gQe={};function yQe(e,t){const n=t||gQe,r=new Map,i=new Map,o=new Map,s={...ZXe,...n.handlers},a={all:u,applyData:bQe,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:s,one:l,options:n,patch:vQe,wrap:xQe};return tq(e,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const d=c.type==="definition"?r:i,h=String(c.identifier).toUpperCase();d.has(h)||d.set(h,c)}}),a;function l(c,d){const h=c.type,f=a.handlers[h];if(D9.call(a.handlers,h)&&f)return f(a,c,d);if(a.options.passThrough&&a.options.passThrough.includes(h)){if("children"in c){const{children:m,...g}=c,y=Nw(g);return y.children=a.all(c),y}return Nw(c)}return(a.options.unknownHandler||wQe)(a,c,d)}function u(c){const d=[];if("children"in c){const h=c.children;let f=-1;for(;++f<h.length;){const p=a.one(h[f],c);if(p){if(f&&h[f-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=lie(p.value)),!Array.isArray(p)&&p.type==="element")){const m=p.children[0];m&&m.type==="text"&&(m.value=lie(m.value))}Array.isArray(p)?d.push(...p):d.push(p)}}}return d}}function vQe(e,t){e.position&&(t.position=OGe(e))}function bQe(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,o=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&o&&Object.assign(n.properties,Nw(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function wQe(e,t){const n=t.data||{},r="value"in t&&!(D9.call(n,"hProperties")||D9.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function xQe(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function lie(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function uie(e,t){const n=yQe(e,t),r=n.one(e,void 0),i=sQe(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function _Qe(e,t){return e&&"run"in e?async function(n,r){const i=uie(n,{file:r,...t});await e.run(i,r)}:function(n,r){return uie(n,{file:r,...e||t})}}function cie(e){if(e)throw e}var MI=Object.prototype.hasOwnProperty,X1e=Object.prototype.toString,die=Object.defineProperty,hie=Object.getOwnPropertyDescriptor,fie=function(t){return typeof Array.isArray=="function"?Array.isArray(t):X1e.call(t)==="[object Array]"},pie=function(t){if(!t||X1e.call(t)!=="[object Object]")return!1;var n=MI.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&MI.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||MI.call(t,i)},mie=function(t,n){die&&n.name==="__proto__"?die(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},gie=function(t,n){if(n==="__proto__")if(MI.call(t,n)){if(hie)return hie(t,n).value}else return;return t[n]},EQe=function e(){var t,n,r,i,o,s,a=arguments[0],l=1,u=arguments.length,c=!1;for(typeof a=="boolean"&&(c=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<u;++l)if(t=arguments[l],t!=null)for(n in t)r=gie(a,n),i=gie(t,n),a!==i&&(c&&i&&(pie(i)||(o=fie(i)))?(o?(o=!1,s=r&&fie(r)?r:[]):s=r&&pie(r)?r:{},mie(a,{name:n,newValue:e(c,s,i)})):typeof i<"u"&&mie(a,{name:n,newValue:i}));return a};const _F=hu(EQe);function M9(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function SQe(){const e=[],t={run:n,use:r};return t;function n(...i){let o=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);a(null,...i);function a(l,...u){const c=e[++o];let d=-1;if(l){s(l);return}for(;++d<i.length;)(u[d]===null||u[d]===void 0)&&(u[d]=i[d]);i=u,c?TQe(c,a)(...u):s(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function TQe(e,t){let n;return r;function r(...s){const a=e.length>s.length;let l;a&&s.push(i);try{l=e.apply(this,s)}catch(u){const c=u;if(a&&n)throw c;return i(c)}a||(l&&l.then&&typeof l.then=="function"?l.then(o,i):l instanceof Error?i(l):o(l))}function i(s,...a){n||(n=!0,t(s,...a))}function o(s){i(null,s)}}const Od={basename:CQe,dirname:AQe,extname:kQe,join:IQe,sep:"/"};function CQe(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');UA(e);let n=0,r=-1,i=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let s=-1,a=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else s<0&&(o=!0,s=i+1),a>-1&&(e.codePointAt(i)===t.codePointAt(a--)?a<0&&(r=i):(a=-1,r=s));return n===r?r=s:r<0&&(r=e.length),e.slice(n,r)}function AQe(e){if(UA(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function kQe(e){UA(e);let t=e.length,n=-1,r=0,i=-1,o=0,s;for(;t--;){const a=e.codePointAt(t);if(a===47){if(s){r=t+1;break}continue}n<0&&(s=!0,n=t+1),a===46?i<0?i=t:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function IQe(...e){let t=-1,n;for(;++t<e.length;)UA(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":RQe(n)}function RQe(e){UA(e);const t=e.codePointAt(0)===47;let n=$Qe(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function $Qe(e,t){let n="",r=0,i=-1,o=0,s=-1,a,l;for(;++s<=e.length;){if(s<e.length)a=e.codePointAt(s);else{if(a===47)break;a=47}if(a===47){if(!(i===s-1||o===1))if(i!==s-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,o=0;continue}}else if(n.length>0){n="",r=0,i=s,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,s):n=e.slice(i+1,s),r=s-i-1;i=s,o=0}else a===46&&o>-1?o++:o=-1}return n}function UA(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const DQe={cwd:MQe};function MQe(){return"/"}function P9(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function PQe(e){if(typeof e=="string")e=new URL(e);else if(!P9(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return NQe(e)}function NQe(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const EF=["history","path","basename","stem","extname","dirname"];class Q1e{constructor(t){let n;t?P9(t)?n={path:t}:typeof t=="string"||OQe(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":DQe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<EF.length;){const o=EF[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)EF.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Od.basename(this.path):void 0}set basename(t){TF(t,"basename"),SF(t,"basename"),this.path=Od.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Od.dirname(this.path):void 0}set dirname(t){yie(this.basename,"dirname"),this.path=Od.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Od.extname(this.path):void 0}set extname(t){if(SF(t,"extname"),yie(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Od.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){P9(t)&&(t=PQe(t)),TF(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Od.basename(this.path,this.extname):void 0}set stem(t){TF(t,"stem"),SF(t,"stem"),this.path=Od.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new la(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function SF(e,t){if(e&&e.includes(Od.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Od.sep+"`")}function TF(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function yie(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function OQe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const LQe=function(e){const r=this.constructor.prototype,i=r[e],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o},FQe={}.hasOwnProperty;class nq extends LQe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=SQe()}copy(){const t=new nq;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(_F(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(kF("data",this.frozen),this.namespace[t]=n,this):FQe.call(this.namespace,t)&&this.namespace[t]||void 0:t?(kF("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Vk(t),r=this.parser||this.Parser;return CF("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),CF("process",this.parser||this.Parser),AF("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,s){const a=Vk(t),l=r.parse(a);r.run(l,a,function(c,d,h){if(c||!d||!h)return u(c);const f=d,p=r.stringify(f,h);zQe(p)?h.value=p:h.result=p,u(c,h)});function u(c,d){c||!d?s(c):o?o(d):n(void 0,d)}}}processSync(t){let n=!1,r;return this.freeze(),CF("processSync",this.parser||this.Parser),AF("processSync",this.compiler||this.Compiler),this.process(t,i),bie("processSync","process",n),r;function i(o,s){n=!0,cie(o),r=s}}run(t,n,r){vie(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(s,a){const l=Vk(n);i.run(t,l,u);function u(c,d,h){const f=d||t;c?a(c):s?s(f):r(void 0,f,h)}}}runSync(t,n){let r=!1,i;return this.run(t,n,o),bie("runSync","run",r),i;function o(s,a){cie(s),i=a,r=!0}}stringify(t,n){this.freeze();const r=Vk(n),i=this.compiler||this.Compiler;return AF("stringify",i),vie(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(kF("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):s(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...d]=u;l(c,d)}else s(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function s(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(u.plugins),u.settings&&(i.settings=_F(!0,i.settings,u.settings))}function a(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const d=u[c];o(d)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,c){let d=-1,h=-1;for(;++d<r.length;)if(r[d][0]===u){h=d;break}if(h===-1)r.push([u,...c]);else if(c.length>0){let[f,...p]=c;const m=r[h][1];M9(m)&&M9(f)&&(f=_F(!0,m,f)),r[h]=[u,f,...p]}}}}const BQe=new nq().freeze();function CF(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function AF(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function kF(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function vie(e){if(!M9(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function bie(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Vk(e){return jQe(e)?e:new Q1e(e)}function jQe(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function zQe(e){return typeof e=="string"||UQe(e)}function UQe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const HQe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",wie=[],xie={allowDangerousHtml:!0},VQe=/^(https?|ircs?|mailto|xmpp)$/i,WQe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function qQe(e){const t=GQe(e),n=YQe(e);return KQe(t.runSync(t.parse(n),n),e)}function GQe(e){const t=e.rehypePlugins||wie,n=e.remarkPlugins||wie,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...xie}:xie;return BQe().use(CXe).use(n).use(_Qe,r).use(t)}function YQe(e){const t=e.children||"",n=new Q1e;return typeof t=="string"&&(n.value=t),n}function KQe(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,o=t.disallowedElements,s=t.skipHtml,a=t.unwrapDisallowed,l=t.urlTransform||XQe;for(const c of WQe)Object.hasOwn(t,c.from)&&(""+c.from+(c.to?"use `"+c.to+"` instead":"remove it")+HQe+c.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),tq(e,u),UGe(e,{Fragment:k.Fragment,components:i,ignoreInvalidStyle:!0,jsx:k.jsx,jsxs:k.jsxs,passKeys:!0,passNode:!0});function u(c,d,h){if(c.type==="raw"&&h&&typeof d=="number")return s?h.children.splice(d,1):h.children[d]={type:"text",value:c.value},d;if(c.type==="element"){let f;for(f in vF)if(Object.hasOwn(vF,f)&&Object.hasOwn(c.properties,f)){const p=c.properties[f],m=vF[f];(m===null||m.includes(c.tagName))&&(c.properties[f]=l(String(p||""),f,c))}}if(c.type==="element"){let f=n?!n.includes(c.tagName):o?o.includes(c.tagName):!1;if(!f&&r&&typeof d=="number"&&(f=!r(c,d,h)),f&&h&&typeof d=="number")return a&&c.children?h.children.splice(d,1,...c.children):h.children.splice(d,1),d}}}function XQe(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||VQe.test(e.slice(0,t))?e:""}const _ie=/[#.]/g;function QQe(e,t){const n=e||"",r={};let i=0,o,s;for(;i<n.length;){_ie.lastIndex=i;const a=_ie.exec(n),l=n.slice(i,a?a.index:n.length);l&&(o?o==="#"?r.id=l:Array.isArray(r.className)?r.className.push(l):r.className=[l]:s=l,i+=l.length),a&&(o=a[0],i++)}return{type:"element",tagName:s||t||"div",properties:r,children:[]}}function J1e(e,t,n){const r=n?tJe(n):void 0;function i(o,s,...a){let l;if(o==null){l={type:"root",children:[]};const u=s;a.unshift(u)}else{l=QQe(o,t);const u=l.tagName.toLowerCase(),c=r?r.get(u):void 0;if(l.tagName=c||u,JQe(s))a.unshift(s);else for(const[d,h]of Object.entries(s))ZQe(e,l.properties,d,h)}for(const u of a)N9(l.children,u);return l.type==="element"&&l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}return i}function JQe(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,n=Object.keys(e);for(const r of n){const i=t[r];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const o=i;for(const s of o)if(typeof s!="number"&&typeof s!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function ZQe(e,t,n,r){const i=zW(e,n);let o;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;o=r}else typeof r=="boolean"?o=r:typeof r=="string"?i.spaceSeparated?o=Are(r):i.commaSeparated?o=_re(r):i.commaOrSpaceSeparated?o=Are(_re(r).join(" ")):o=Eie(i,i.property,r):Array.isArray(r)?o=[...r]:o=i.property==="style"?eJe(r):String(r);if(Array.isArray(o)){const s=[];for(const a of o)s.push(Eie(i,i.property,a));o=s}i.property==="className"&&Array.isArray(t.className)&&(o=t.className.concat(o)),t[i.property]=o}}function N9(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const n of t)N9(e,n);else if(typeof t=="object"&&"type"in t)t.type==="root"?N9(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function Eie(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||lC(n)===lC(t)))return!0}return n}function eJe(e){const t=[];for(const[n,r]of Object.entries(e))t.push([n,r].join(": "));return t.join("; ")}function tJe(e){const t=new Map;for(const n of e)t.set(n.toLowerCase(),n);return t}const nJe=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],rJe=J1e(QP,"div"),iJe=J1e(e_,"g",nJe);function oJe(e){const t=String(e),n=[];return{toOffset:i,toPoint:r};function r(o){if(typeof o=="number"&&o>-1&&o<=t.length){let s=0;for(;;){let a=n[s];if(a===void 0){const l=Sie(t,n[s-1]);a=l===-1?t.length+1:l+1,n[s]=a}if(a>o)return{line:s+1,column:o-(s>0?n[s-1]:0)+1,offset:o};s++}}}function i(o){if(o&&typeof o.line=="number"&&typeof o.column=="number"&&!Number.isNaN(o.line)&&!Number.isNaN(o.column)){for(;n.length<o.line;){const a=n[n.length-1],l=Sie(t,a),u=l===-1?t.length+1:l+1;if(a===u)break;n.push(u)}const s=(o.line>1?n[o.line-2]:0)+o.column-1;if(s<n[o.line-1])return s}}}function Sie(e,t){const n=e.indexOf("\r",t),r=e.indexOf(`
`,t);return r===-1?n:n===-1||n+1===r?r:n<r?n:r}const wy={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Z1e={}.hasOwnProperty,sJe=Object.prototype;function aJe(e,t){const n=t||{};return rq({file:n.file||void 0,location:!1,schema:n.space==="svg"?e_:QP,verbose:n.verbose||!1},e)}function rq(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},PI(e,r,n),n}case"#document":case"#document-fragment":{const r=t,i="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:ewe(e,t.childNodes),data:{quirksMode:i}},e.file&&e.location){const o=String(e.file),s=oJe(o),a=s.toPoint(0),l=s.toPoint(o.length);n.position={start:a,end:l}}return n}case"#documentType":{const r=t;return n={type:"doctype"},PI(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},PI(e,r,n),n}default:return n=lJe(e,t),n}}function ewe(e,t){let n=-1;const r=[];for(;++n<t.length;){const i=rq(e,t[n]);r.push(i)}return r}function lJe(e,t){const n=e.schema;e.schema=t.namespaceURI===wy.svg?e_:QP;let r=-1;const i={};for(;++r<t.attrs.length;){const a=t.attrs[r],l=(a.prefix?a.prefix+":":"")+a.name;Z1e.call(sJe,l)||(i[l]=a.value)}const s=(e.schema.space==="svg"?iJe:rJe)(t.tagName,i,ewe(e,t.childNodes));if(PI(e,t,s),s.tagName==="template"){const a=t,l=a.sourceCodeLocation,u=l&&l.startTag&&$1(l.startTag),c=l&&l.endTag&&$1(l.endTag),d=rq(e,a.content);u&&c&&e.file&&(d.position={start:u.end,end:c.start}),s.content=d}return e.schema=n,s}function PI(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=uJe(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function uJe(e,t,n){const r=$1(n);if(t.type==="element"){const i=t.children[t.children.length-1];if(r&&!n.endTag&&i&&i.position&&i.position.end&&(r.end=Object.assign({},i.position.end)),e.verbose){const o={};let s;if(n.attrs)for(s in n.attrs)Z1e.call(n.attrs,s)&&(o[zW(e.schema,s).property]=$1(n.attrs[s]));n.startTag;const a=$1(n.startTag),l=n.endTag?$1(n.endTag):void 0,u={opening:a};l&&(u.closing=l),u.properties=o,t.data={position:u}}}return r}function $1(e){const t=Tie({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=Tie({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function Tie(e){return e.line&&e.column?e:void 0}class HA{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}}HA.prototype.property={};HA.prototype.normal={};HA.prototype.space=null;function twe(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new HA(n,r,t)}function O9(e){return e.toLowerCase()}let rc=class{constructor(t,n){this.property=t,this.attribute=n}};rc.prototype.space=null;rc.prototype.boolean=!1;rc.prototype.booleanish=!1;rc.prototype.overloadedBoolean=!1;rc.prototype.number=!1;rc.prototype.commaSeparated=!1;rc.prototype.spaceSeparated=!1;rc.prototype.commaOrSpaceSeparated=!1;rc.prototype.mustUseProperty=!1;rc.prototype.defined=!1;let cJe=0;const gn=Kv(),Hi=Kv(),nwe=Kv(),it=Kv(),Nr=Kv(),Z1=Kv(),Ml=Kv();function Kv(){return 2**++cJe}const L9=Object.freeze(Object.defineProperty({__proto__:null,boolean:gn,booleanish:Hi,commaOrSpaceSeparated:Ml,commaSeparated:Z1,number:it,overloadedBoolean:nwe,spaceSeparated:Nr},Symbol.toStringTag,{value:"Module"})),IF=Object.keys(L9);class iq extends rc{constructor(t,n,r,i){let o=-1;if(super(t,n),Cie(this,"space",i),typeof r=="number")for(;++o<IF.length;){const s=IF[o];Cie(this,IF[o],(r&L9[s])===L9[s])}}}iq.prototype.defined=!0;function Cie(e,t,n){n&&(e[t]=n)}const dJe={}.hasOwnProperty;function i_(e){const t={},n={};let r;for(r in e.properties)if(dJe.call(e.properties,r)){const i=e.properties[r],o=new iq(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[O9(r)]=r,n[O9(o.attribute)]=r}return new HA(t,n,e.space)}const rwe=i_({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),iwe=i_({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function owe(e,t){return t in e?e[t]:t}function swe(e,t){return owe(e,t.toLowerCase())}const awe=i_({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:swe,properties:{xmlns:null,xmlnsXLink:null}}),lwe=i_({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Hi,ariaAutoComplete:null,ariaBusy:Hi,ariaChecked:Hi,ariaColCount:it,ariaColIndex:it,ariaColSpan:it,ariaControls:Nr,ariaCurrent:null,ariaDescribedBy:Nr,ariaDetails:null,ariaDisabled:Hi,ariaDropEffect:Nr,ariaErrorMessage:null,ariaExpanded:Hi,ariaFlowTo:Nr,ariaGrabbed:Hi,ariaHasPopup:null,ariaHidden:Hi,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Nr,ariaLevel:it,ariaLive:null,ariaModal:Hi,ariaMultiLine:Hi,ariaMultiSelectable:Hi,ariaOrientation:null,ariaOwns:Nr,ariaPlaceholder:null,ariaPosInSet:it,ariaPressed:Hi,ariaReadOnly:Hi,ariaRelevant:null,ariaRequired:Hi,ariaRoleDescription:Nr,ariaRowCount:it,ariaRowIndex:it,ariaRowSpan:it,ariaSelected:Hi,ariaSetSize:it,ariaSort:null,ariaValueMax:it,ariaValueMin:it,ariaValueNow:it,ariaValueText:null,role:null}}),hJe=i_({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:swe,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Z1,acceptCharset:Nr,accessKey:Nr,action:null,allow:null,allowFullScreen:gn,allowPaymentRequest:gn,allowUserMedia:gn,alt:null,as:null,async:gn,autoCapitalize:null,autoComplete:Nr,autoFocus:gn,autoPlay:gn,blocking:Nr,capture:null,charSet:null,checked:gn,cite:null,className:Nr,cols:it,colSpan:null,content:null,contentEditable:Hi,controls:gn,controlsList:Nr,coords:it|Z1,crossOrigin:null,data:null,dateTime:null,decoding:null,default:gn,defer:gn,dir:null,dirName:null,disabled:gn,download:nwe,draggable:Hi,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:gn,formTarget:null,headers:Nr,height:it,hidden:gn,high:it,href:null,hrefLang:null,htmlFor:Nr,httpEquiv:Nr,id:null,imageSizes:null,imageSrcSet:null,inert:gn,inputMode:null,integrity:null,is:null,isMap:gn,itemId:null,itemProp:Nr,itemRef:Nr,itemScope:gn,itemType:Nr,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:gn,low:it,manifest:null,max:null,maxLength:it,media:null,method:null,min:null,minLength:it,multiple:gn,muted:gn,name:null,nonce:null,noModule:gn,noValidate:gn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:gn,optimum:it,pattern:null,ping:Nr,placeholder:null,playsInline:gn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:gn,referrerPolicy:null,rel:Nr,required:gn,reversed:gn,rows:it,rowSpan:it,sandbox:Nr,scope:null,scoped:gn,seamless:gn,selected:gn,shadowRootClonable:gn,shadowRootDelegatesFocus:gn,shadowRootMode:null,shape:null,size:it,sizes:null,slot:null,span:it,spellCheck:Hi,src:null,srcDoc:null,srcLang:null,srcSet:null,start:it,step:null,style:null,tabIndex:it,target:null,title:null,translate:null,type:null,typeMustMatch:gn,useMap:null,value:Hi,width:it,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Nr,axis:null,background:null,bgColor:null,border:it,borderColor:null,bottomMargin:it,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:gn,declare:gn,event:null,face:null,frame:null,frameBorder:null,hSpace:it,leftMargin:it,link:null,longDesc:null,lowSrc:null,marginHeight:it,marginWidth:it,noResize:gn,noHref:gn,noShade:gn,noWrap:gn,object:null,profile:null,prompt:null,rev:null,rightMargin:it,rules:null,scheme:null,scrolling:Hi,standby:null,summary:null,text:null,topMargin:it,valueType:null,version:null,vAlign:null,vLink:null,vSpace:it,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:gn,disableRemotePlayback:gn,prefix:null,property:null,results:it,security:null,unselectable:null}}),fJe=i_({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:owe,properties:{about:Ml,accentHeight:it,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:it,amplitude:it,arabicForm:null,ascent:it,attributeName:null,attributeType:null,azimuth:it,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:it,by:null,calcMode:null,capHeight:it,className:Nr,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:it,diffuseConstant:it,direction:null,display:null,dur:null,divisor:it,dominantBaseline:null,download:gn,dx:null,dy:null,edgeMode:null,editable:null,elevation:it,enableBackground:null,end:null,event:null,exponent:it,externalResourcesRequired:null,fill:null,fillOpacity:it,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Z1,g2:Z1,glyphName:Z1,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:it,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:it,horizOriginX:it,horizOriginY:it,id:null,ideographic:it,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:it,k:it,k1:it,k2:it,k3:it,k4:it,kernelMatrix:Ml,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:it,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:it,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:it,overlineThickness:it,paintOrder:null,panose1:null,path:null,pathLength:it,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Nr,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:it,pointsAtY:it,pointsAtZ:it,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ml,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ml,rev:Ml,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ml,requiredFeatures:Ml,requiredFonts:Ml,requiredFormats:Ml,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:it,specularExponent:it,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:it,strikethroughThickness:it,string:null,stroke:null,strokeDashArray:Ml,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:it,strokeOpacity:it,strokeWidth:null,style:null,surfaceScale:it,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ml,tabIndex:it,tableValues:null,target:null,targetX:it,targetY:it,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ml,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:it,underlineThickness:it,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:it,values:null,vAlphabetic:it,vMathematical:it,vectorEffect:null,vHanging:it,vIdeographic:it,version:null,vertAdvY:it,vertOriginX:it,vertOriginY:it,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:it,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),pJe=/^data[-\w.:]+$/i,Aie=/-[a-z]/g,mJe=/[A-Z]/g;function gJe(e,t){const n=O9(t);let r=t,i=rc;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&pJe.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(Aie,vJe);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!Aie.test(o)){let s=o.replace(mJe,yJe);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}i=iq}return new i(r,t)}function yJe(e){return"-"+e.toLowerCase()}function vJe(e){return e.charAt(1).toUpperCase()}const bJe=twe([iwe,rwe,awe,lwe,hJe],"html"),uwe=twe([iwe,rwe,awe,lwe,fJe],"svg"),kie={}.hasOwnProperty;function cwe(e,t){const n=t||{};function r(i,...o){let s=r.invalid;const a=r.handlers;if(i&&kie.call(i,e)){const l=String(i[e]);s=kie.call(a,l)?a[l]:r.unknown}if(s)return s.call(this,i,...o)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const wJe={},xJe={}.hasOwnProperty,dwe=cwe("type",{handlers:{root:EJe,element:kJe,text:CJe,comment:AJe,doctype:TJe}});function _Je(e,t){const r=(t||wJe).space;return dwe(e,r==="svg"?uwe:bJe)}function EJe(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=oq(e.children,n,t),o_(e,n),n}function SJe(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=oq(e.children,n,t),o_(e,n),n}function TJe(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return o_(e,t),t}function CJe(e){const t={nodeName:"#text",value:e.value,parentNode:null};return o_(e,t),t}function AJe(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return o_(e,t),t}function kJe(e,t){const n=t;let r=n;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=uwe);const i=[];let o;if(e.properties){for(o in e.properties)if(o!=="children"&&xJe.call(e.properties,o)){const l=IJe(r,o,e.properties[o]);l&&i.push(l)}}const s=r.space,a={nodeName:e.tagName,tagName:e.tagName,attrs:i,namespaceURI:wy[s],childNodes:[],parentNode:null};return a.childNodes=oq(e.children,a,r),o_(e,a),e.tagName==="template"&&e.content&&(a.content=SJe(e.content,r)),a}function IJe(e,t,n){const r=gJe(e,t);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?m1e(n):S1e(n));const i={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const o=i.name.indexOf(":");o<0?i.prefix="":(i.name=i.name.slice(o+1),i.prefix=r.attribute.slice(0,o)),i.namespace=wy[r.space]}return i}function oq(e,t,n){let r=-1;const i=[];if(e)for(;++r<e.length;){const o=dwe(e[r],n);o.parentNode=t,i.push(o)}return i}function o_(e,t){const n=e.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const RJe=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],$Je=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Xr="";var re;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(re||(re={}));const Ga={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function hwe(e){return e>=55296&&e<=57343}function DJe(e){return e>=56320&&e<=57343}function MJe(e,t){return(e-55296)*1024+9216+t}function fwe(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function pwe(e){return e>=64976&&e<=65007||$Je.has(e)}var Ce;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(Ce||(Ce={}));const PJe=65536;class NJe{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=PJe,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,n){const{line:r,col:i,offset:o}=this,s=i+n,a=o+n;return{code:t,startLine:r,endLine:r,startCol:s,endCol:s,startOffset:a,endOffset:a}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(DJe(n))return this.pos++,this._addGap(),MJe(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,re.EOF;return this._err(Ce.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,re.EOF;const r=this.html.charCodeAt(n);return r===re.CARRIAGE_RETURN?re.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,re.EOF;let t=this.html.charCodeAt(this.pos);return t===re.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,re.LINE_FEED):t===re.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,hwe(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===re.LINE_FEED||t===re.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){fwe(t)?this._err(Ce.controlCharacterInInputStream):pwe(t)&&this._err(Ce.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var En;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(En||(En={}));function mwe(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const gwe=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),OJe=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var RF;const LJe=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),FJe=(RF=String.fromCodePoint)!==null&&RF!==void 0?RF:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function BJe(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=LJe.get(e))!==null&&t!==void 0?t:e}var So;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(So||(So={}));const jJe=32;var Nm;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(Nm||(Nm={}));function F9(e){return e>=So.ZERO&&e<=So.NINE}function zJe(e){return e>=So.UPPER_A&&e<=So.UPPER_F||e>=So.LOWER_A&&e<=So.LOWER_F}function UJe(e){return e>=So.UPPER_A&&e<=So.UPPER_Z||e>=So.LOWER_A&&e<=So.LOWER_Z||F9(e)}function HJe(e){return e===So.EQUALS||UJe(e)}var vo;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(vo||(vo={}));var If;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(If||(If={}));class ywe{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=vo.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=If.Strict}startEntity(t){this.decodeMode=t,this.state=vo.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case vo.EntityStart:return t.charCodeAt(n)===So.NUM?(this.state=vo.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=vo.NamedEntity,this.stateNamedEntity(t,n));case vo.NumericStart:return this.stateNumericStart(t,n);case vo.NumericDecimal:return this.stateNumericDecimal(t,n);case vo.NumericHex:return this.stateNumericHex(t,n);case vo.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|jJe)===So.LOWER_X?(this.state=vo.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=vo.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,i){if(n!==r){const o=r-n;this.result=this.result*Math.pow(i,o)+parseInt(t.substr(n,o),i),this.consumed+=o}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(F9(i)||zJe(i))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(F9(i))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===So.SEMI)this.consumed+=1;else if(this.decodeMode===If.Strict)return 0;return this.emitCodePoint(BJe(this.result),this.consumed),this.errors&&(t!==So.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let i=r[this.treeIndex],o=(i&Nm.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const s=t.charCodeAt(n);if(this.treeIndex=VJe(r,i,this.treeIndex+Math.max(1,o),s),this.treeIndex<0)return this.result===0||this.decodeMode===If.Attribute&&(o===0||HJe(s))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],o=(i&Nm.VALUE_LENGTH)>>14,o!==0){if(s===So.SEMI)return this.emitNamedEntityData(this.treeIndex,o,this.consumed+this.excess);this.decodeMode!==If.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,i=(r[n]&Nm.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[t]&~Nm.VALUE_LENGTH:i[t+1],r),n===3&&this.emitCodePoint(i[t+2],r),r}end(){var t;switch(this.state){case vo.NamedEntity:return this.result!==0&&(this.decodeMode!==If.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case vo.NumericDecimal:return this.emitNumericEntity(0,2);case vo.NumericHex:return this.emitNumericEntity(0,3);case vo.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case vo.EntityStart:return 0}}}function vwe(e){let t="";const n=new ywe(e,r=>t+=FJe(r));return function(i,o){let s=0,a=0;for(;(a=i.indexOf("&",a))>=0;){t+=i.slice(s,a),n.startEntity(o);const u=n.write(i,a+1);if(u<0){s=a+n.end();break}s=a+u,a=u===0?s+1:s}const l=t+i.slice(s);return t="",l}}function VJe(e,t,n,r){const i=(t&Nm.BRANCH_LENGTH)>>7,o=t&Nm.JUMP_TABLE;if(i===0)return o!==0&&r===o?n:-1;if(o){const l=r-o;return l<0||l>=i?-1:e[n+l]-1}let s=n,a=s+i-1;for(;s<=a;){const l=s+a>>>1,u=e[l];if(u<r)s=l+1;else if(u>r)a=l-1;else return e[l+i]}return-1}vwe(gwe);vwe(OJe);var Ve;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(Ve||(Ve={}));var My;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(My||(My={}));var Su;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(Su||(Su={}));var we;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(we||(we={}));var U;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(U||(U={}));const WJe=new Map([[we.A,U.A],[we.ADDRESS,U.ADDRESS],[we.ANNOTATION_XML,U.ANNOTATION_XML],[we.APPLET,U.APPLET],[we.AREA,U.AREA],[we.ARTICLE,U.ARTICLE],[we.ASIDE,U.ASIDE],[we.B,U.B],[we.BASE,U.BASE],[we.BASEFONT,U.BASEFONT],[we.BGSOUND,U.BGSOUND],[we.BIG,U.BIG],[we.BLOCKQUOTE,U.BLOCKQUOTE],[we.BODY,U.BODY],[we.BR,U.BR],[we.BUTTON,U.BUTTON],[we.CAPTION,U.CAPTION],[we.CENTER,U.CENTER],[we.CODE,U.CODE],[we.COL,U.COL],[we.COLGROUP,U.COLGROUP],[we.DD,U.DD],[we.DESC,U.DESC],[we.DETAILS,U.DETAILS],[we.DIALOG,U.DIALOG],[we.DIR,U.DIR],[we.DIV,U.DIV],[we.DL,U.DL],[we.DT,U.DT],[we.EM,U.EM],[we.EMBED,U.EMBED],[we.FIELDSET,U.FIELDSET],[we.FIGCAPTION,U.FIGCAPTION],[we.FIGURE,U.FIGURE],[we.FONT,U.FONT],[we.FOOTER,U.FOOTER],[we.FOREIGN_OBJECT,U.FOREIGN_OBJECT],[we.FORM,U.FORM],[we.FRAME,U.FRAME],[we.FRAMESET,U.FRAMESET],[we.H1,U.H1],[we.H2,U.H2],[we.H3,U.H3],[we.H4,U.H4],[we.H5,U.H5],[we.H6,U.H6],[we.HEAD,U.HEAD],[we.HEADER,U.HEADER],[we.HGROUP,U.HGROUP],[we.HR,U.HR],[we.HTML,U.HTML],[we.I,U.I],[we.IMG,U.IMG],[we.IMAGE,U.IMAGE],[we.INPUT,U.INPUT],[we.IFRAME,U.IFRAME],[we.KEYGEN,U.KEYGEN],[we.LABEL,U.LABEL],[we.LI,U.LI],[we.LINK,U.LINK],[we.LISTING,U.LISTING],[we.MAIN,U.MAIN],[we.MALIGNMARK,U.MALIGNMARK],[we.MARQUEE,U.MARQUEE],[we.MATH,U.MATH],[we.MENU,U.MENU],[we.META,U.META],[we.MGLYPH,U.MGLYPH],[we.MI,U.MI],[we.MO,U.MO],[we.MN,U.MN],[we.MS,U.MS],[we.MTEXT,U.MTEXT],[we.NAV,U.NAV],[we.NOBR,U.NOBR],[we.NOFRAMES,U.NOFRAMES],[we.NOEMBED,U.NOEMBED],[we.NOSCRIPT,U.NOSCRIPT],[we.OBJECT,U.OBJECT],[we.OL,U.OL],[we.OPTGROUP,U.OPTGROUP],[we.OPTION,U.OPTION],[we.P,U.P],[we.PARAM,U.PARAM],[we.PLAINTEXT,U.PLAINTEXT],[we.PRE,U.PRE],[we.RB,U.RB],[we.RP,U.RP],[we.RT,U.RT],[we.RTC,U.RTC],[we.RUBY,U.RUBY],[we.S,U.S],[we.SCRIPT,U.SCRIPT],[we.SEARCH,U.SEARCH],[we.SECTION,U.SECTION],[we.SELECT,U.SELECT],[we.SOURCE,U.SOURCE],[we.SMALL,U.SMALL],[we.SPAN,U.SPAN],[we.STRIKE,U.STRIKE],[we.STRONG,U.STRONG],[we.STYLE,U.STYLE],[we.SUB,U.SUB],[we.SUMMARY,U.SUMMARY],[we.SUP,U.SUP],[we.TABLE,U.TABLE],[we.TBODY,U.TBODY],[we.TEMPLATE,U.TEMPLATE],[we.TEXTAREA,U.TEXTAREA],[we.TFOOT,U.TFOOT],[we.TD,U.TD],[we.TH,U.TH],[we.THEAD,U.THEAD],[we.TITLE,U.TITLE],[we.TR,U.TR],[we.TRACK,U.TRACK],[we.TT,U.TT],[we.U,U.U],[we.UL,U.UL],[we.SVG,U.SVG],[we.VAR,U.VAR],[we.WBR,U.WBR],[we.XMP,U.XMP]]);function s_(e){var t;return(t=WJe.get(e))!==null&&t!==void 0?t:U.UNKNOWN}const Xe=U,qJe={[Ve.HTML]:new Set([Xe.ADDRESS,Xe.APPLET,Xe.AREA,Xe.ARTICLE,Xe.ASIDE,Xe.BASE,Xe.BASEFONT,Xe.BGSOUND,Xe.BLOCKQUOTE,Xe.BODY,Xe.BR,Xe.BUTTON,Xe.CAPTION,Xe.CENTER,Xe.COL,Xe.COLGROUP,Xe.DD,Xe.DETAILS,Xe.DIR,Xe.DIV,Xe.DL,Xe.DT,Xe.EMBED,Xe.FIELDSET,Xe.FIGCAPTION,Xe.FIGURE,Xe.FOOTER,Xe.FORM,Xe.FRAME,Xe.FRAMESET,Xe.H1,Xe.H2,Xe.H3,Xe.H4,Xe.H5,Xe.H6,Xe.HEAD,Xe.HEADER,Xe.HGROUP,Xe.HR,Xe.HTML,Xe.IFRAME,Xe.IMG,Xe.INPUT,Xe.LI,Xe.LINK,Xe.LISTING,Xe.MAIN,Xe.MARQUEE,Xe.MENU,Xe.META,Xe.NAV,Xe.NOEMBED,Xe.NOFRAMES,Xe.NOSCRIPT,Xe.OBJECT,Xe.OL,Xe.P,Xe.PARAM,Xe.PLAINTEXT,Xe.PRE,Xe.SCRIPT,Xe.SECTION,Xe.SELECT,Xe.SOURCE,Xe.STYLE,Xe.SUMMARY,Xe.TABLE,Xe.TBODY,Xe.TD,Xe.TEMPLATE,Xe.TEXTAREA,Xe.TFOOT,Xe.TH,Xe.THEAD,Xe.TITLE,Xe.TR,Xe.TRACK,Xe.UL,Xe.WBR,Xe.XMP]),[Ve.MATHML]:new Set([Xe.MI,Xe.MO,Xe.MN,Xe.MS,Xe.MTEXT,Xe.ANNOTATION_XML]),[Ve.SVG]:new Set([Xe.TITLE,Xe.FOREIGN_OBJECT,Xe.DESC]),[Ve.XLINK]:new Set,[Ve.XML]:new Set,[Ve.XMLNS]:new Set},B9=new Set([Xe.H1,Xe.H2,Xe.H3,Xe.H4,Xe.H5,Xe.H6]);we.STYLE,we.SCRIPT,we.XMP,we.IFRAME,we.NOEMBED,we.NOFRAMES,we.PLAINTEXT;var le;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(le||(le={}));const Oi={DATA:le.DATA,RCDATA:le.RCDATA,RAWTEXT:le.RAWTEXT,SCRIPT_DATA:le.SCRIPT_DATA,PLAINTEXT:le.PLAINTEXT,CDATA_SECTION:le.CDATA_SECTION};function GJe(e){return e>=re.DIGIT_0&&e<=re.DIGIT_9}function nS(e){return e>=re.LATIN_CAPITAL_A&&e<=re.LATIN_CAPITAL_Z}function YJe(e){return e>=re.LATIN_SMALL_A&&e<=re.LATIN_SMALL_Z}function um(e){return YJe(e)||nS(e)}function Iie(e){return um(e)||GJe(e)}function Wk(e){return e+32}function bwe(e){return e===re.SPACE||e===re.LINE_FEED||e===re.TABULATION||e===re.FORM_FEED}function Rie(e){return bwe(e)||e===re.SOLIDUS||e===re.GREATER_THAN_SIGN}function KJe(e){return e===re.NULL?Ce.nullCharacterReference:e>1114111?Ce.characterReferenceOutsideUnicodeRange:hwe(e)?Ce.surrogateCharacterReference:pwe(e)?Ce.noncharacterCharacterReference:fwe(e)||e===re.CARRIAGE_RETURN?Ce.controlCharacterReference:null}class XJe{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=le.DATA,this.returnState=le.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new NJe(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new ywe(gwe,(r,i)=>{this.preprocessor.pos=this.entityStartPos+i-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(Ce.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err(Ce.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const i=KJe(r);i&&this._err(i,1)}}:void 0)}_err(t,n=0){var r,i;(i=(r=this.handler).onParseError)===null||i===void 0||i.call(r,this.preprocessor.getError(t,n))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:En.START_TAG,tagName:"",tagID:U.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:En.END_TAG,tagName:"",tagID:U.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:En.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:En.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(mwe(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const i=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(Ce.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=s_(t.tagName),t.type===En.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(Ce.endTagWithAttributes),t.selfClosing&&this._err(Ce.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case En.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case En.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case En.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:En.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,n)}_emitCodePoint(t){const n=bwe(t)?En.WHITESPACE_CHARACTER:t===re.NULL?En.NULL_CHARACTER:En.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(En.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=le.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?If.Attribute:If.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===le.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===le.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===le.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case le.DATA:{this._stateData(t);break}case le.RCDATA:{this._stateRcdata(t);break}case le.RAWTEXT:{this._stateRawtext(t);break}case le.SCRIPT_DATA:{this._stateScriptData(t);break}case le.PLAINTEXT:{this._statePlaintext(t);break}case le.TAG_OPEN:{this._stateTagOpen(t);break}case le.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case le.TAG_NAME:{this._stateTagName(t);break}case le.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case le.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case le.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case le.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case le.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case le.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case le.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case le.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case le.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case le.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case le.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case le.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case le.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case le.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case le.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case le.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case le.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case le.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case le.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case le.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case le.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case le.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case le.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case le.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case le.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case le.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case le.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case le.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case le.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case le.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case le.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case le.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case le.BOGUS_COMMENT:{this._stateBogusComment(t);break}case le.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case le.COMMENT_START:{this._stateCommentStart(t);break}case le.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case le.COMMENT:{this._stateComment(t);break}case le.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case le.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case le.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case le.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case le.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case le.COMMENT_END:{this._stateCommentEnd(t);break}case le.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case le.DOCTYPE:{this._stateDoctype(t);break}case le.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case le.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case le.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case le.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case le.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case le.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case le.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case le.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case le.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case le.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case le.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case le.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case le.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case le.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case le.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case le.CDATA_SECTION:{this._stateCdataSection(t);break}case le.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case le.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case le.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case le.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case re.LESS_THAN_SIGN:{this.state=le.TAG_OPEN;break}case re.AMPERSAND:{this._startCharacterReference();break}case re.NULL:{this._err(Ce.unexpectedNullCharacter),this._emitCodePoint(t);break}case re.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case re.AMPERSAND:{this._startCharacterReference();break}case re.LESS_THAN_SIGN:{this.state=le.RCDATA_LESS_THAN_SIGN;break}case re.NULL:{this._err(Ce.unexpectedNullCharacter),this._emitChars(Xr);break}case re.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case re.LESS_THAN_SIGN:{this.state=le.RAWTEXT_LESS_THAN_SIGN;break}case re.NULL:{this._err(Ce.unexpectedNullCharacter),this._emitChars(Xr);break}case re.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case re.LESS_THAN_SIGN:{this.state=le.SCRIPT_DATA_LESS_THAN_SIGN;break}case re.NULL:{this._err(Ce.unexpectedNullCharacter),this._emitChars(Xr);break}case re.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case re.NULL:{this._err(Ce.unexpectedNullCharacter),this._emitChars(Xr);break}case re.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(um(t))this._createStartTagToken(),this.state=le.TAG_NAME,this._stateTagName(t);else switch(t){case re.EXCLAMATION_MARK:{this.state=le.MARKUP_DECLARATION_OPEN;break}case re.SOLIDUS:{this.state=le.END_TAG_OPEN;break}case re.QUESTION_MARK:{this._err(Ce.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=le.BOGUS_COMMENT,this._stateBogusComment(t);break}case re.EOF:{this._err(Ce.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(Ce.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=le.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(um(t))this._createEndTagToken(),this.state=le.TAG_NAME,this._stateTagName(t);else switch(t){case re.GREATER_THAN_SIGN:{this._err(Ce.missingEndTagName),this.state=le.DATA;break}case re.EOF:{this._err(Ce.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(Ce.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=le.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:{this.state=le.BEFORE_ATTRIBUTE_NAME;break}case re.SOLIDUS:{this.state=le.SELF_CLOSING_START_TAG;break}case re.GREATER_THAN_SIGN:{this.state=le.DATA,this.emitCurrentTagToken();break}case re.NULL:{this._err(Ce.unexpectedNullCharacter),n.tagName+=Xr;break}case re.EOF:{this._err(Ce.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(nS(t)?Wk(t):t)}}_stateRcdataLessThanSign(t){t===re.SOLIDUS?this.state=le.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=le.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){um(t)?(this.state=le.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=le.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=le.BEFORE_ATTRIBUTE_NAME,!1;case re.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=le.SELF_CLOSING_START_TAG,!1;case re.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=le.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=le.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===re.SOLIDUS?this.state=le.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=le.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){um(t)?(this.state=le.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=le.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=le.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case re.SOLIDUS:{this.state=le.SCRIPT_DATA_END_TAG_OPEN;break}case re.EXCLAMATION_MARK:{this.state=le.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=le.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){um(t)?(this.state=le.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=le.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=le.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===re.HYPHEN_MINUS?(this.state=le.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=le.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===re.HYPHEN_MINUS?(this.state=le.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=le.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case re.HYPHEN_MINUS:{this.state=le.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case re.LESS_THAN_SIGN:{this.state=le.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case re.NULL:{this._err(Ce.unexpectedNullCharacter),this._emitChars(Xr);break}case re.EOF:{this._err(Ce.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case re.HYPHEN_MINUS:{this.state=le.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case re.LESS_THAN_SIGN:{this.state=le.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case re.NULL:{this._err(Ce.unexpectedNullCharacter),this.state=le.SCRIPT_DATA_ESCAPED,this._emitChars(Xr);break}case re.EOF:{this._err(Ce.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=le.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case re.HYPHEN_MINUS:{this._emitChars("-");break}case re.LESS_THAN_SIGN:{this.state=le.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case re.GREATER_THAN_SIGN:{this.state=le.SCRIPT_DATA,this._emitChars(">");break}case re.NULL:{this._err(Ce.unexpectedNullCharacter),this.state=le.SCRIPT_DATA_ESCAPED,this._emitChars(Xr);break}case re.EOF:{this._err(Ce.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=le.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===re.SOLIDUS?this.state=le.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:um(t)?(this._emitChars("<"),this.state=le.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=le.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){um(t)?(this.state=le.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=le.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=le.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(Ga.SCRIPT,!1)&&Rie(this.preprocessor.peek(Ga.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Ga.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=le.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=le.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case re.HYPHEN_MINUS:{this.state=le.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case re.LESS_THAN_SIGN:{this.state=le.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case re.NULL:{this._err(Ce.unexpectedNullCharacter),this._emitChars(Xr);break}case re.EOF:{this._err(Ce.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case re.HYPHEN_MINUS:{this.state=le.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case re.LESS_THAN_SIGN:{this.state=le.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case re.NULL:{this._err(Ce.unexpectedNullCharacter),this.state=le.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Xr);break}case re.EOF:{this._err(Ce.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=le.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case re.HYPHEN_MINUS:{this._emitChars("-");break}case re.LESS_THAN_SIGN:{this.state=le.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case re.GREATER_THAN_SIGN:{this.state=le.SCRIPT_DATA,this._emitChars(">");break}case re.NULL:{this._err(Ce.unexpectedNullCharacter),this.state=le.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Xr);break}case re.EOF:{this._err(Ce.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=le.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===re.SOLIDUS?(this.state=le.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=le.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(Ga.SCRIPT,!1)&&Rie(this.preprocessor.peek(Ga.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Ga.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=le.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=le.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:break;case re.SOLIDUS:case re.GREATER_THAN_SIGN:case re.EOF:{this.state=le.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case re.EQUALS_SIGN:{this._err(Ce.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=le.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=le.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:case re.SOLIDUS:case re.GREATER_THAN_SIGN:case re.EOF:{this._leaveAttrName(),this.state=le.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case re.EQUALS_SIGN:{this._leaveAttrName(),this.state=le.BEFORE_ATTRIBUTE_VALUE;break}case re.QUOTATION_MARK:case re.APOSTROPHE:case re.LESS_THAN_SIGN:{this._err(Ce.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case re.NULL:{this._err(Ce.unexpectedNullCharacter),this.currentAttr.name+=Xr;break}default:this.currentAttr.name+=String.fromCodePoint(nS(t)?Wk(t):t)}}_stateAfterAttributeName(t){switch(t){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:break;case re.SOLIDUS:{this.state=le.SELF_CLOSING_START_TAG;break}case re.EQUALS_SIGN:{this.state=le.BEFORE_ATTRIBUTE_VALUE;break}case re.GREATER_THAN_SIGN:{this.state=le.DATA,this.emitCurrentTagToken();break}case re.EOF:{this._err(Ce.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=le.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:break;case re.QUOTATION_MARK:{this.state=le.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case re.APOSTROPHE:{this.state=le.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case re.GREATER_THAN_SIGN:{this._err(Ce.missingAttributeValue),this.state=le.DATA,this.emitCurrentTagToken();break}default:this.state=le.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case re.QUOTATION_MARK:{this.state=le.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case re.AMPERSAND:{this._startCharacterReference();break}case re.NULL:{this._err(Ce.unexpectedNullCharacter),this.currentAttr.value+=Xr;break}case re.EOF:{this._err(Ce.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case re.APOSTROPHE:{this.state=le.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case re.AMPERSAND:{this._startCharacterReference();break}case re.NULL:{this._err(Ce.unexpectedNullCharacter),this.currentAttr.value+=Xr;break}case re.EOF:{this._err(Ce.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:{this._leaveAttrValue(),this.state=le.BEFORE_ATTRIBUTE_NAME;break}case re.AMPERSAND:{this._startCharacterReference();break}case re.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=le.DATA,this.emitCurrentTagToken();break}case re.NULL:{this._err(Ce.unexpectedNullCharacter),this.currentAttr.value+=Xr;break}case re.QUOTATION_MARK:case re.APOSTROPHE:case re.LESS_THAN_SIGN:case re.EQUALS_SIGN:case re.GRAVE_ACCENT:{this._err(Ce.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case re.EOF:{this._err(Ce.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:{this._leaveAttrValue(),this.state=le.BEFORE_ATTRIBUTE_NAME;break}case re.SOLIDUS:{this._leaveAttrValue(),this.state=le.SELF_CLOSING_START_TAG;break}case re.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=le.DATA,this.emitCurrentTagToken();break}case re.EOF:{this._err(Ce.eofInTag),this._emitEOFToken();break}default:this._err(Ce.missingWhitespaceBetweenAttributes),this.state=le.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case re.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=le.DATA,this.emitCurrentTagToken();break}case re.EOF:{this._err(Ce.eofInTag),this._emitEOFToken();break}default:this._err(Ce.unexpectedSolidusInTag),this.state=le.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case re.GREATER_THAN_SIGN:{this.state=le.DATA,this.emitCurrentComment(n);break}case re.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case re.NULL:{this._err(Ce.unexpectedNullCharacter),n.data+=Xr;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(Ga.DASH_DASH,!0)?(this._createCommentToken(Ga.DASH_DASH.length+1),this.state=le.COMMENT_START):this._consumeSequenceIfMatch(Ga.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Ga.DOCTYPE.length+1),this.state=le.DOCTYPE):this._consumeSequenceIfMatch(Ga.CDATA_START,!0)?this.inForeignNode?this.state=le.CDATA_SECTION:(this._err(Ce.cdataInHtmlContent),this._createCommentToken(Ga.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=le.BOGUS_COMMENT):this._ensureHibernation()||(this._err(Ce.incorrectlyOpenedComment),this._createCommentToken(2),this.state=le.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case re.HYPHEN_MINUS:{this.state=le.COMMENT_START_DASH;break}case re.GREATER_THAN_SIGN:{this._err(Ce.abruptClosingOfEmptyComment),this.state=le.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=le.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case re.HYPHEN_MINUS:{this.state=le.COMMENT_END;break}case re.GREATER_THAN_SIGN:{this._err(Ce.abruptClosingOfEmptyComment),this.state=le.DATA,this.emitCurrentComment(n);break}case re.EOF:{this._err(Ce.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=le.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case re.HYPHEN_MINUS:{this.state=le.COMMENT_END_DASH;break}case re.LESS_THAN_SIGN:{n.data+="<",this.state=le.COMMENT_LESS_THAN_SIGN;break}case re.NULL:{this._err(Ce.unexpectedNullCharacter),n.data+=Xr;break}case re.EOF:{this._err(Ce.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case re.EXCLAMATION_MARK:{n.data+="!",this.state=le.COMMENT_LESS_THAN_SIGN_BANG;break}case re.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=le.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===re.HYPHEN_MINUS?this.state=le.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=le.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===re.HYPHEN_MINUS?this.state=le.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=le.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==re.GREATER_THAN_SIGN&&t!==re.EOF&&this._err(Ce.nestedComment),this.state=le.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case re.HYPHEN_MINUS:{this.state=le.COMMENT_END;break}case re.EOF:{this._err(Ce.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=le.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case re.GREATER_THAN_SIGN:{this.state=le.DATA,this.emitCurrentComment(n);break}case re.EXCLAMATION_MARK:{this.state=le.COMMENT_END_BANG;break}case re.HYPHEN_MINUS:{n.data+="-";break}case re.EOF:{this._err(Ce.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=le.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case re.HYPHEN_MINUS:{n.data+="--!",this.state=le.COMMENT_END_DASH;break}case re.GREATER_THAN_SIGN:{this._err(Ce.incorrectlyClosedComment),this.state=le.DATA,this.emitCurrentComment(n);break}case re.EOF:{this._err(Ce.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=le.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:{this.state=le.BEFORE_DOCTYPE_NAME;break}case re.GREATER_THAN_SIGN:{this.state=le.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case re.EOF:{this._err(Ce.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ce.missingWhitespaceBeforeDoctypeName),this.state=le.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(nS(t))this._createDoctypeToken(String.fromCharCode(Wk(t))),this.state=le.DOCTYPE_NAME;else switch(t){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:break;case re.NULL:{this._err(Ce.unexpectedNullCharacter),this._createDoctypeToken(Xr),this.state=le.DOCTYPE_NAME;break}case re.GREATER_THAN_SIGN:{this._err(Ce.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=le.DATA;break}case re.EOF:{this._err(Ce.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=le.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:{this.state=le.AFTER_DOCTYPE_NAME;break}case re.GREATER_THAN_SIGN:{this.state=le.DATA,this.emitCurrentDoctype(n);break}case re.NULL:{this._err(Ce.unexpectedNullCharacter),n.name+=Xr;break}case re.EOF:{this._err(Ce.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(nS(t)?Wk(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:break;case re.GREATER_THAN_SIGN:{this.state=le.DATA,this.emitCurrentDoctype(n);break}case re.EOF:{this._err(Ce.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Ga.PUBLIC,!1)?this.state=le.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Ga.SYSTEM,!1)?this.state=le.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(Ce.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=le.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:{this.state=le.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case re.QUOTATION_MARK:{this._err(Ce.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=le.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case re.APOSTROPHE:{this._err(Ce.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=le.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case re.GREATER_THAN_SIGN:{this._err(Ce.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=le.DATA,this.emitCurrentDoctype(n);break}case re.EOF:{this._err(Ce.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ce.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=le.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:break;case re.QUOTATION_MARK:{n.publicId="",this.state=le.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case re.APOSTROPHE:{n.publicId="",this.state=le.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case re.GREATER_THAN_SIGN:{this._err(Ce.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=le.DATA,this.emitCurrentDoctype(n);break}case re.EOF:{this._err(Ce.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ce.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=le.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case re.QUOTATION_MARK:{this.state=le.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case re.NULL:{this._err(Ce.unexpectedNullCharacter),n.publicId+=Xr;break}case re.GREATER_THAN_SIGN:{this._err(Ce.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=le.DATA;break}case re.EOF:{this._err(Ce.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case re.APOSTROPHE:{this.state=le.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case re.NULL:{this._err(Ce.unexpectedNullCharacter),n.publicId+=Xr;break}case re.GREATER_THAN_SIGN:{this._err(Ce.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=le.DATA;break}case re.EOF:{this._err(Ce.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:{this.state=le.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case re.GREATER_THAN_SIGN:{this.state=le.DATA,this.emitCurrentDoctype(n);break}case re.QUOTATION_MARK:{this._err(Ce.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=le.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case re.APOSTROPHE:{this._err(Ce.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=le.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case re.EOF:{this._err(Ce.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ce.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=le.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:break;case re.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=le.DATA;break}case re.QUOTATION_MARK:{n.systemId="",this.state=le.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case re.APOSTROPHE:{n.systemId="",this.state=le.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case re.EOF:{this._err(Ce.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ce.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=le.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:{this.state=le.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case re.QUOTATION_MARK:{this._err(Ce.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=le.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case re.APOSTROPHE:{this._err(Ce.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=le.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case re.GREATER_THAN_SIGN:{this._err(Ce.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=le.DATA,this.emitCurrentDoctype(n);break}case re.EOF:{this._err(Ce.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ce.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=le.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:break;case re.QUOTATION_MARK:{n.systemId="",this.state=le.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case re.APOSTROPHE:{n.systemId="",this.state=le.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case re.GREATER_THAN_SIGN:{this._err(Ce.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=le.DATA,this.emitCurrentDoctype(n);break}case re.EOF:{this._err(Ce.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ce.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=le.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case re.QUOTATION_MARK:{this.state=le.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case re.NULL:{this._err(Ce.unexpectedNullCharacter),n.systemId+=Xr;break}case re.GREATER_THAN_SIGN:{this._err(Ce.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=le.DATA;break}case re.EOF:{this._err(Ce.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case re.APOSTROPHE:{this.state=le.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case re.NULL:{this._err(Ce.unexpectedNullCharacter),n.systemId+=Xr;break}case re.GREATER_THAN_SIGN:{this._err(Ce.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=le.DATA;break}case re.EOF:{this._err(Ce.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:break;case re.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=le.DATA;break}case re.EOF:{this._err(Ce.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ce.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=le.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case re.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=le.DATA;break}case re.NULL:{this._err(Ce.unexpectedNullCharacter);break}case re.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case re.RIGHT_SQUARE_BRACKET:{this.state=le.CDATA_SECTION_BRACKET;break}case re.EOF:{this._err(Ce.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===re.RIGHT_SQUARE_BRACKET?this.state=le.CDATA_SECTION_END:(this._emitChars("]"),this.state=le.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case re.GREATER_THAN_SIGN:{this.state=le.DATA;break}case re.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=le.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(re.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&Iie(this.preprocessor.peek(1))?le.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){Iie(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===re.SEMICOLON&&this._err(Ce.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const wwe=new Set([U.DD,U.DT,U.LI,U.OPTGROUP,U.OPTION,U.P,U.RB,U.RP,U.RT,U.RTC]),$ie=new Set([...wwe,U.CAPTION,U.COLGROUP,U.TBODY,U.TD,U.TFOOT,U.TH,U.THEAD,U.TR]),w$=new Set([U.APPLET,U.CAPTION,U.HTML,U.MARQUEE,U.OBJECT,U.TABLE,U.TD,U.TEMPLATE,U.TH]),QJe=new Set([...w$,U.OL,U.UL]),JJe=new Set([...w$,U.BUTTON]),Die=new Set([U.ANNOTATION_XML,U.MI,U.MN,U.MO,U.MS,U.MTEXT]),Mie=new Set([U.DESC,U.FOREIGN_OBJECT,U.TITLE]),ZJe=new Set([U.TR,U.TEMPLATE,U.HTML]),eZe=new Set([U.TBODY,U.TFOOT,U.THEAD,U.TEMPLATE,U.HTML]),tZe=new Set([U.TABLE,U.TEMPLATE,U.HTML]),nZe=new Set([U.TD,U.TH]);class rZe{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=U.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===U.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===Ve.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const i=this._indexOf(t)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,r),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==Ve.HTML);this.shortenToLength(n<0?0:n)}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(n<0?0:n)}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r<0?0:r)}popUntilNumberedHeaderPopped(){this.popUntilPopped(B9,Ve.HTML)}popUntilTableCellPopped(){this.popUntilPopped(nZe,Ve.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(tZe,Ve.HTML)}clearBackToTableBodyContext(){this.clearBackTo(eZe,Ve.HTML)}clearBackToTableRowContext(){this.clearBackTo(ZJe,Ve.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===U.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===U.HTML}hasInDynamicScope(t,n){for(let r=this.stackTop;r>=0;r--){const i=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case Ve.HTML:{if(i===t)return!0;if(n.has(i))return!1;break}case Ve.SVG:{if(Mie.has(i))return!1;break}case Ve.MATHML:{if(Die.has(i))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,w$)}hasInListItemScope(t){return this.hasInDynamicScope(t,QJe)}hasInButtonScope(t){return this.hasInDynamicScope(t,JJe)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case Ve.HTML:{if(B9.has(n))return!0;if(w$.has(n))return!1;break}case Ve.SVG:{if(Mie.has(n))return!1;break}case Ve.MATHML:{if(Die.has(n))return!1;break}}}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===Ve.HTML)switch(this.tagIDs[n]){case t:return!0;case U.TABLE:case U.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===Ve.HTML)switch(this.tagIDs[t]){case U.TBODY:case U.THEAD:case U.TFOOT:return!0;case U.TABLE:case U.HTML:return!1}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===Ve.HTML)switch(this.tagIDs[n]){case t:return!0;case U.OPTION:case U.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;wwe.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;$ie.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==t&&$ie.has(this.currentTagId);)this.pop()}}const $F=3;var zd;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(zd||(zd={}));const Pie={type:zd.Marker};class iZe{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],i=n.length,o=this.treeAdapter.getTagName(t),s=this.treeAdapter.getNamespaceURI(t);for(let a=0;a<this.entries.length;a++){const l=this.entries[a];if(l.type===zd.Marker)break;const{element:u}=l;if(this.treeAdapter.getTagName(u)===o&&this.treeAdapter.getNamespaceURI(u)===s){const c=this.treeAdapter.getAttrList(u);c.length===i&&r.push({idx:a,attrs:c})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<$F)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<$F)return;const i=new Map(n.map(s=>[s.name,s.value]));let o=0;for(let s=0;s<r.length;s++){const a=r[s];a.attrs.every(l=>i.get(l.name)===l.value)&&(o+=1,o>=$F&&this.entries.splice(a.idx,1))}}insertMarker(){this.entries.unshift(Pie)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:zd.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:zd.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n>=0&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(Pie);t>=0?this.entries.splice(0,t+1):this.entries.length=0}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===zd.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===zd.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===zd.Element&&n.element===t)}}const cm={createDocument(){return{nodeName:"#document",mode:Su.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const i=e.childNodes.find(o=>o.nodeName==="#documentType");if(i)i.name=t,i.publicId=n,i.systemId=r;else{const o={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};cm.appendChild(e,o)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(cm.isTextNode(n)){n.value+=t;return}}cm.appendChild(e,cm.createTextNode(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&cm.isTextNode(r)?r.value+=t:cm.insertBefore(e,cm.createTextNode(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},xwe="html",oZe="about:legacy-compat",sZe="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",_we=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],aZe=[..._we,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],lZe=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),Ewe=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],uZe=[...Ewe,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function Nie(e,t){return t.some(n=>e.startsWith(n))}function cZe(e){return e.name===xwe&&e.publicId===null&&(e.systemId===null||e.systemId===oZe)}function dZe(e){if(e.name!==xwe)return Su.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===sZe)return Su.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),lZe.has(n))return Su.QUIRKS;let r=t===null?aZe:_we;if(Nie(n,r))return Su.QUIRKS;if(r=t===null?Ewe:uZe,Nie(n,r))return Su.LIMITED_QUIRKS}return Su.NO_QUIRKS}const Oie={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},hZe="definitionurl",fZe="definitionURL",pZe=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),mZe=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:Ve.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:Ve.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:Ve.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:Ve.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:Ve.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:Ve.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:Ve.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:Ve.XML}],["xml:space",{prefix:"xml",name:"space",namespace:Ve.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:Ve.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:Ve.XMLNS}]]),gZe=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),yZe=new Set([U.B,U.BIG,U.BLOCKQUOTE,U.BODY,U.BR,U.CENTER,U.CODE,U.DD,U.DIV,U.DL,U.DT,U.EM,U.EMBED,U.H1,U.H2,U.H3,U.H4,U.H5,U.H6,U.HEAD,U.HR,U.I,U.IMG,U.LI,U.LISTING,U.MENU,U.META,U.NOBR,U.OL,U.P,U.PRE,U.RUBY,U.S,U.SMALL,U.SPAN,U.STRONG,U.STRIKE,U.SUB,U.SUP,U.TABLE,U.TT,U.U,U.UL,U.VAR]);function vZe(e){const t=e.tagID;return t===U.FONT&&e.attrs.some(({name:r})=>r===My.COLOR||r===My.SIZE||r===My.FACE)||yZe.has(t)}function Swe(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===hZe){e.attrs[t].name=fZe;break}}function Twe(e){for(let t=0;t<e.attrs.length;t++){const n=pZe.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function sq(e){for(let t=0;t<e.attrs.length;t++){const n=mZe.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function bZe(e){const t=gZe.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=s_(e.tagName))}function wZe(e,t){return t===Ve.MATHML&&(e===U.MI||e===U.MO||e===U.MN||e===U.MS||e===U.MTEXT)}function xZe(e,t,n){if(t===Ve.MATHML&&e===U.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===My.ENCODING){const i=n[r].value.toLowerCase();return i===Oie.TEXT_HTML||i===Oie.APPLICATION_XML}}return t===Ve.SVG&&(e===U.FOREIGN_OBJECT||e===U.DESC||e===U.TITLE)}function _Ze(e,t,n,r){return(!r||r===Ve.HTML)&&xZe(e,t,n)||(!r||r===Ve.MATHML)&&wZe(e,t)}const EZe="hidden",SZe=8,TZe=3;var ue;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(ue||(ue={}));const CZe={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},Cwe=new Set([U.TABLE,U.TBODY,U.TFOOT,U.THEAD,U.TR]),Lie={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:cm,onParseError:null};class Fie{constructor(t,n,r=null,i=null){this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=ue.INITIAL,this.originalInsertionMode=ue.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...Lie,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new XJe(this.options,this),this.activeFormattingElements=new iZe(this.treeAdapter),this.fragmentContextID=r?s_(this.treeAdapter.getTagName(r)):U.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new rZe(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...Lie,...n};t??(t=r.treeAdapter.createElement(we.TEMPLATE,Ve.HTML,[]));const i=r.treeAdapter.createElement("documentmock",Ve.HTML,[]),o=new this(r,i,t);return o.fragmentContextID===U.TEMPLATE&&o.tmplInsertionModeStack.unshift(ue.IN_TEMPLATE),o._initTokenizerForFragmentParsing(),o._insertFakeRootElement(),o._resetInsertionMode(),o._findFormInFragmentContext(),o}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var i;if(!this.onParseError)return;const o=(i=t.location)!==null&&i!==void 0?i:CZe,s={code:n,startLine:o.startLine,startCol:o.startCol,startOffset:o.startOffset,endLine:r?o.startLine:o.endLine,endCol:r?o.startCol:o.endCol,endOffset:r?o.startOffset:o.endOffset};this.onParseError(s)}onItemPush(t,n,r){var i,o;(o=(i=this.treeAdapter).onItemPush)===null||o===void 0||o.call(i,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(i=(r=this.treeAdapter).onItemPop)===null||i===void 0||i.call(r,t,this.openElements.current),n){let o,s;this.openElements.stackTop===0&&this.fragmentContext?(o=this.fragmentContext,s=this.fragmentContextID):{current:o,currentTagId:s}=this.openElements,this._setContextModes(o,s)}}_setContextModes(t,n){const r=t===this.document||this.treeAdapter.getNamespaceURI(t)===Ve.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,Ve.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=ue.TEXT}switchToPlaintextParsing(){this.insertionMode=ue.TEXT,this.originalInsertionMode=ue.IN_BODY,this.tokenizer.state=Oi.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===we.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==Ve.HTML))switch(this.fragmentContextID){case U.TITLE:case U.TEXTAREA:{this.tokenizer.state=Oi.RCDATA;break}case U.STYLE:case U.XMP:case U.IFRAME:case U.NOEMBED:case U.NOFRAMES:case U.NOSCRIPT:{this.tokenizer.state=Oi.RAWTEXT;break}case U.SCRIPT:{this.tokenizer.state=Oi.SCRIPT_DATA;break}case U.PLAINTEXT:{this.tokenizer.state=Oi.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",i=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,i),t.location){const s=this.treeAdapter.getChildNodes(this.document).find(a=>this.treeAdapter.isDocumentTypeNode(a));s&&this.treeAdapter.setNodeSourceCodeLocation(s,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,Ve.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,Ve.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(we.HTML,Ve.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,U.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const i=this.treeAdapter.getChildNodes(n),o=r?i.lastIndexOf(r):i.length,s=i[o-1];if(this.treeAdapter.getNodeSourceCodeLocation(s)){const{endLine:l,endCol:u,endOffset:c}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(s,{endLine:l,endCol:u,endOffset:c})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(s,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,i=this.treeAdapter.getTagName(t),o=n.type===En.END_TAG&&i===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,o)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===U.SVG&&this.treeAdapter.getTagName(n)===we.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===Ve.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===U.MGLYPH||t.tagID===U.MALIGNMARK)&&!this._isIntegrationPoint(r,n,Ve.HTML)}_processToken(t){switch(t.type){case En.CHARACTER:{this.onCharacter(t);break}case En.NULL_CHARACTER:{this.onNullCharacter(t);break}case En.COMMENT:{this.onComment(t);break}case En.DOCTYPE:{this.onDoctype(t);break}case En.START_TAG:{this._processStartTag(t);break}case En.END_TAG:{this.onEndTag(t);break}case En.EOF:{this.onEof(t);break}case En.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const i=this.treeAdapter.getNamespaceURI(n),o=this.treeAdapter.getAttrList(n);return _Ze(t,i,o,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===zd.Marker||this.openElements.contains(i.element)),r=n<0?t-1:n-1;for(let i=r;i>=0;i--){const o=this.activeFormattingElements.entries[i];this._insertElement(o.token,this.treeAdapter.getNamespaceURI(o.element)),o.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=ue.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(U.P),this.openElements.popUntilTagNamePopped(U.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case U.TR:{this.insertionMode=ue.IN_ROW;return}case U.TBODY:case U.THEAD:case U.TFOOT:{this.insertionMode=ue.IN_TABLE_BODY;return}case U.CAPTION:{this.insertionMode=ue.IN_CAPTION;return}case U.COLGROUP:{this.insertionMode=ue.IN_COLUMN_GROUP;return}case U.TABLE:{this.insertionMode=ue.IN_TABLE;return}case U.BODY:{this.insertionMode=ue.IN_BODY;return}case U.FRAMESET:{this.insertionMode=ue.IN_FRAMESET;return}case U.SELECT:{this._resetInsertionModeForSelect(t);return}case U.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case U.HTML:{this.insertionMode=this.headElement?ue.AFTER_HEAD:ue.BEFORE_HEAD;return}case U.TD:case U.TH:{if(t>0){this.insertionMode=ue.IN_CELL;return}break}case U.HEAD:{if(t>0){this.insertionMode=ue.IN_HEAD;return}break}}this.insertionMode=ue.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===U.TEMPLATE)break;if(r===U.TABLE){this.insertionMode=ue.IN_SELECT_IN_TABLE;return}}this.insertionMode=ue.IN_SELECT}_isElementCausesFosterParenting(t){return Cwe.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case U.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===Ve.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case U.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return qJe[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){itt(this,t);return}switch(this.insertionMode){case ue.INITIAL:{fE(this,t);break}case ue.BEFORE_HTML:{eT(this,t);break}case ue.BEFORE_HEAD:{tT(this,t);break}case ue.IN_HEAD:{nT(this,t);break}case ue.IN_HEAD_NO_SCRIPT:{rT(this,t);break}case ue.AFTER_HEAD:{iT(this,t);break}case ue.IN_BODY:case ue.IN_CAPTION:case ue.IN_CELL:case ue.IN_TEMPLATE:{kwe(this,t);break}case ue.TEXT:case ue.IN_SELECT:case ue.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case ue.IN_TABLE:case ue.IN_TABLE_BODY:case ue.IN_ROW:{DF(this,t);break}case ue.IN_TABLE_TEXT:{Pwe(this,t);break}case ue.IN_COLUMN_GROUP:{x$(this,t);break}case ue.AFTER_BODY:{_$(this,t);break}case ue.AFTER_AFTER_BODY:{NI(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){rtt(this,t);return}switch(this.insertionMode){case ue.INITIAL:{fE(this,t);break}case ue.BEFORE_HTML:{eT(this,t);break}case ue.BEFORE_HEAD:{tT(this,t);break}case ue.IN_HEAD:{nT(this,t);break}case ue.IN_HEAD_NO_SCRIPT:{rT(this,t);break}case ue.AFTER_HEAD:{iT(this,t);break}case ue.TEXT:{this._insertCharacters(t);break}case ue.IN_TABLE:case ue.IN_TABLE_BODY:case ue.IN_ROW:{DF(this,t);break}case ue.IN_COLUMN_GROUP:{x$(this,t);break}case ue.AFTER_BODY:{_$(this,t);break}case ue.AFTER_AFTER_BODY:{NI(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){j9(this,t);return}switch(this.insertionMode){case ue.INITIAL:case ue.BEFORE_HTML:case ue.BEFORE_HEAD:case ue.IN_HEAD:case ue.IN_HEAD_NO_SCRIPT:case ue.AFTER_HEAD:case ue.IN_BODY:case ue.IN_TABLE:case ue.IN_CAPTION:case ue.IN_COLUMN_GROUP:case ue.IN_TABLE_BODY:case ue.IN_ROW:case ue.IN_CELL:case ue.IN_SELECT:case ue.IN_SELECT_IN_TABLE:case ue.IN_TEMPLATE:case ue.IN_FRAMESET:case ue.AFTER_FRAMESET:{j9(this,t);break}case ue.IN_TABLE_TEXT:{pE(this,t);break}case ue.AFTER_BODY:{MZe(this,t);break}case ue.AFTER_AFTER_BODY:case ue.AFTER_AFTER_FRAMESET:{PZe(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case ue.INITIAL:{NZe(this,t);break}case ue.BEFORE_HEAD:case ue.IN_HEAD:case ue.IN_HEAD_NO_SCRIPT:case ue.AFTER_HEAD:{this._err(t,Ce.misplacedDoctype);break}case ue.IN_TABLE_TEXT:{pE(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,Ce.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?ott(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case ue.INITIAL:{fE(this,t);break}case ue.BEFORE_HTML:{OZe(this,t);break}case ue.BEFORE_HEAD:{FZe(this,t);break}case ue.IN_HEAD:{fd(this,t);break}case ue.IN_HEAD_NO_SCRIPT:{zZe(this,t);break}case ue.AFTER_HEAD:{HZe(this,t);break}case ue.IN_BODY:{ua(this,t);break}case ue.IN_TABLE:{Ow(this,t);break}case ue.IN_TABLE_TEXT:{pE(this,t);break}case ue.IN_CAPTION:{zet(this,t);break}case ue.IN_COLUMN_GROUP:{uq(this,t);break}case ue.IN_TABLE_BODY:{oN(this,t);break}case ue.IN_ROW:{sN(this,t);break}case ue.IN_CELL:{Vet(this,t);break}case ue.IN_SELECT:{Lwe(this,t);break}case ue.IN_SELECT_IN_TABLE:{qet(this,t);break}case ue.IN_TEMPLATE:{Yet(this,t);break}case ue.AFTER_BODY:{Xet(this,t);break}case ue.IN_FRAMESET:{Qet(this,t);break}case ue.AFTER_FRAMESET:{Zet(this,t);break}case ue.AFTER_AFTER_BODY:{ttt(this,t);break}case ue.AFTER_AFTER_FRAMESET:{ntt(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?stt(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case ue.INITIAL:{fE(this,t);break}case ue.BEFORE_HTML:{LZe(this,t);break}case ue.BEFORE_HEAD:{BZe(this,t);break}case ue.IN_HEAD:{jZe(this,t);break}case ue.IN_HEAD_NO_SCRIPT:{UZe(this,t);break}case ue.AFTER_HEAD:{VZe(this,t);break}case ue.IN_BODY:{iN(this,t);break}case ue.TEXT:{$et(this,t);break}case ue.IN_TABLE:{dC(this,t);break}case ue.IN_TABLE_TEXT:{pE(this,t);break}case ue.IN_CAPTION:{Uet(this,t);break}case ue.IN_COLUMN_GROUP:{Het(this,t);break}case ue.IN_TABLE_BODY:{z9(this,t);break}case ue.IN_ROW:{Owe(this,t);break}case ue.IN_CELL:{Wet(this,t);break}case ue.IN_SELECT:{Fwe(this,t);break}case ue.IN_SELECT_IN_TABLE:{Get(this,t);break}case ue.IN_TEMPLATE:{Ket(this,t);break}case ue.AFTER_BODY:{jwe(this,t);break}case ue.IN_FRAMESET:{Jet(this,t);break}case ue.AFTER_FRAMESET:{ett(this,t);break}case ue.AFTER_AFTER_BODY:{NI(this,t);break}}}onEof(t){switch(this.insertionMode){case ue.INITIAL:{fE(this,t);break}case ue.BEFORE_HTML:{eT(this,t);break}case ue.BEFORE_HEAD:{tT(this,t);break}case ue.IN_HEAD:{nT(this,t);break}case ue.IN_HEAD_NO_SCRIPT:{rT(this,t);break}case ue.AFTER_HEAD:{iT(this,t);break}case ue.IN_BODY:case ue.IN_TABLE:case ue.IN_CAPTION:case ue.IN_COLUMN_GROUP:case ue.IN_TABLE_BODY:case ue.IN_ROW:case ue.IN_CELL:case ue.IN_SELECT:case ue.IN_SELECT_IN_TABLE:{Dwe(this,t);break}case ue.TEXT:{Det(this,t);break}case ue.IN_TABLE_TEXT:{pE(this,t);break}case ue.IN_TEMPLATE:{Bwe(this,t);break}case ue.AFTER_BODY:case ue.IN_FRAMESET:case ue.AFTER_FRAMESET:case ue.AFTER_AFTER_BODY:case ue.AFTER_AFTER_FRAMESET:{lq(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===re.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case ue.IN_HEAD:case ue.IN_HEAD_NO_SCRIPT:case ue.AFTER_HEAD:case ue.TEXT:case ue.IN_COLUMN_GROUP:case ue.IN_SELECT:case ue.IN_SELECT_IN_TABLE:case ue.IN_FRAMESET:case ue.AFTER_FRAMESET:{this._insertCharacters(t);break}case ue.IN_BODY:case ue.IN_CAPTION:case ue.IN_CELL:case ue.IN_TEMPLATE:case ue.AFTER_BODY:case ue.AFTER_AFTER_BODY:case ue.AFTER_AFTER_FRAMESET:{Awe(this,t);break}case ue.IN_TABLE:case ue.IN_TABLE_BODY:case ue.IN_ROW:{DF(this,t);break}case ue.IN_TABLE_TEXT:{Mwe(this,t);break}}}}function AZe(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):$we(e,t),n}function kZe(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[r])&&(n=i)}return n||(e.openElements.shortenToLength(r<0?0:r),e.activeFormattingElements.removeEntry(t)),n}function IZe(e,t,n){let r=t,i=e.openElements.getCommonAncestor(t);for(let o=0,s=i;s!==n;o++,s=i){i=e.openElements.getCommonAncestor(s);const a=e.activeFormattingElements.getElementEntry(s),l=a&&o>=TZe;!a||l?(l&&e.activeFormattingElements.removeEntry(a),e.openElements.remove(s)):(s=RZe(e,a),r===t&&(e.activeFormattingElements.bookmark=a),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(s,r),r=s)}return r}function RZe(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function $Ze(e,t,n){const r=e.treeAdapter.getTagName(t),i=s_(r);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(n);else{const o=e.treeAdapter.getNamespaceURI(t);i===U.TEMPLATE&&o===Ve.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function DZe(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:i}=n,o=e.treeAdapter.createElement(i.tagName,r,i.attrs);e._adoptNodes(t,o),e.treeAdapter.appendChild(t,o),e.activeFormattingElements.insertElementAfterBookmark(o,i),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,o,i.tagID)}function aq(e,t){for(let n=0;n<SZe;n++){const r=AZe(e,t);if(!r)break;const i=kZe(e,r);if(!i)break;e.activeFormattingElements.bookmark=r;const o=IZe(e,i,r.element),s=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(o),s&&$Ze(e,s,o),DZe(e,i,r)}}function j9(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function MZe(e,t){e._appendCommentNode(t,e.openElements.items[0])}function PZe(e,t){e._appendCommentNode(t,e.document)}function lq(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(r);if(i&&!i.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const o=e.openElements.items[1],s=e.treeAdapter.getNodeSourceCodeLocation(o);s&&!s.endTag&&e._setEndLocation(o,t)}}}}function NZe(e,t){e._setDocumentType(t);const n=t.forceQuirks?Su.QUIRKS:dZe(t);cZe(t)||e._err(t,Ce.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=ue.BEFORE_HTML}function fE(e,t){e._err(t,Ce.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,Su.QUIRKS),e.insertionMode=ue.BEFORE_HTML,e._processToken(t)}function OZe(e,t){t.tagID===U.HTML?(e._insertElement(t,Ve.HTML),e.insertionMode=ue.BEFORE_HEAD):eT(e,t)}function LZe(e,t){const n=t.tagID;(n===U.HTML||n===U.HEAD||n===U.BODY||n===U.BR)&&eT(e,t)}function eT(e,t){e._insertFakeRootElement(),e.insertionMode=ue.BEFORE_HEAD,e._processToken(t)}function FZe(e,t){switch(t.tagID){case U.HTML:{ua(e,t);break}case U.HEAD:{e._insertElement(t,Ve.HTML),e.headElement=e.openElements.current,e.insertionMode=ue.IN_HEAD;break}default:tT(e,t)}}function BZe(e,t){const n=t.tagID;n===U.HEAD||n===U.BODY||n===U.HTML||n===U.BR?tT(e,t):e._err(t,Ce.endTagWithoutMatchingOpenElement)}function tT(e,t){e._insertFakeElement(we.HEAD,U.HEAD),e.headElement=e.openElements.current,e.insertionMode=ue.IN_HEAD,e._processToken(t)}function fd(e,t){switch(t.tagID){case U.HTML:{ua(e,t);break}case U.BASE:case U.BASEFONT:case U.BGSOUND:case U.LINK:case U.META:{e._appendElement(t,Ve.HTML),t.ackSelfClosing=!0;break}case U.TITLE:{e._switchToTextParsing(t,Oi.RCDATA);break}case U.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,Oi.RAWTEXT):(e._insertElement(t,Ve.HTML),e.insertionMode=ue.IN_HEAD_NO_SCRIPT);break}case U.NOFRAMES:case U.STYLE:{e._switchToTextParsing(t,Oi.RAWTEXT);break}case U.SCRIPT:{e._switchToTextParsing(t,Oi.SCRIPT_DATA);break}case U.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=ue.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(ue.IN_TEMPLATE);break}case U.HEAD:{e._err(t,Ce.misplacedStartTagForHeadElement);break}default:nT(e,t)}}function jZe(e,t){switch(t.tagID){case U.HEAD:{e.openElements.pop(),e.insertionMode=ue.AFTER_HEAD;break}case U.BODY:case U.BR:case U.HTML:{nT(e,t);break}case U.TEMPLATE:{Xv(e,t);break}default:e._err(t,Ce.endTagWithoutMatchingOpenElement)}}function Xv(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==U.TEMPLATE&&e._err(t,Ce.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(U.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,Ce.endTagWithoutMatchingOpenElement)}function nT(e,t){e.openElements.pop(),e.insertionMode=ue.AFTER_HEAD,e._processToken(t)}function zZe(e,t){switch(t.tagID){case U.HTML:{ua(e,t);break}case U.BASEFONT:case U.BGSOUND:case U.HEAD:case U.LINK:case U.META:case U.NOFRAMES:case U.STYLE:{fd(e,t);break}case U.NOSCRIPT:{e._err(t,Ce.nestedNoscriptInHead);break}default:rT(e,t)}}function UZe(e,t){switch(t.tagID){case U.NOSCRIPT:{e.openElements.pop(),e.insertionMode=ue.IN_HEAD;break}case U.BR:{rT(e,t);break}default:e._err(t,Ce.endTagWithoutMatchingOpenElement)}}function rT(e,t){const n=t.type===En.EOF?Ce.openElementsLeftAfterEof:Ce.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=ue.IN_HEAD,e._processToken(t)}function HZe(e,t){switch(t.tagID){case U.HTML:{ua(e,t);break}case U.BODY:{e._insertElement(t,Ve.HTML),e.framesetOk=!1,e.insertionMode=ue.IN_BODY;break}case U.FRAMESET:{e._insertElement(t,Ve.HTML),e.insertionMode=ue.IN_FRAMESET;break}case U.BASE:case U.BASEFONT:case U.BGSOUND:case U.LINK:case U.META:case U.NOFRAMES:case U.SCRIPT:case U.STYLE:case U.TEMPLATE:case U.TITLE:{e._err(t,Ce.abandonedHeadElementChild),e.openElements.push(e.headElement,U.HEAD),fd(e,t),e.openElements.remove(e.headElement);break}case U.HEAD:{e._err(t,Ce.misplacedStartTagForHeadElement);break}default:iT(e,t)}}function VZe(e,t){switch(t.tagID){case U.BODY:case U.HTML:case U.BR:{iT(e,t);break}case U.TEMPLATE:{Xv(e,t);break}default:e._err(t,Ce.endTagWithoutMatchingOpenElement)}}function iT(e,t){e._insertFakeElement(we.BODY,U.BODY),e.insertionMode=ue.IN_BODY,rN(e,t)}function rN(e,t){switch(t.type){case En.CHARACTER:{kwe(e,t);break}case En.WHITESPACE_CHARACTER:{Awe(e,t);break}case En.COMMENT:{j9(e,t);break}case En.START_TAG:{ua(e,t);break}case En.END_TAG:{iN(e,t);break}case En.EOF:{Dwe(e,t);break}}}function Awe(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function kwe(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function WZe(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function qZe(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function GZe(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,Ve.HTML),e.insertionMode=ue.IN_FRAMESET)}function YZe(e,t){e.openElements.hasInButtonScope(U.P)&&e._closePElement(),e._insertElement(t,Ve.HTML)}function KZe(e,t){e.openElements.hasInButtonScope(U.P)&&e._closePElement(),B9.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,Ve.HTML)}function XZe(e,t){e.openElements.hasInButtonScope(U.P)&&e._closePElement(),e._insertElement(t,Ve.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function QZe(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(U.P)&&e._closePElement(),e._insertElement(t,Ve.HTML),n||(e.formElement=e.openElements.current))}function JZe(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const i=e.openElements.tagIDs[r];if(n===U.LI&&i===U.LI||(n===U.DD||n===U.DT)&&(i===U.DD||i===U.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==U.ADDRESS&&i!==U.DIV&&i!==U.P&&e._isSpecialElement(e.openElements.items[r],i))break}e.openElements.hasInButtonScope(U.P)&&e._closePElement(),e._insertElement(t,Ve.HTML)}function ZZe(e,t){e.openElements.hasInButtonScope(U.P)&&e._closePElement(),e._insertElement(t,Ve.HTML),e.tokenizer.state=Oi.PLAINTEXT}function eet(e,t){e.openElements.hasInScope(U.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(U.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,Ve.HTML),e.framesetOk=!1}function tet(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(we.A);n&&(aq(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,Ve.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function net(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Ve.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function ret(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(U.NOBR)&&(aq(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,Ve.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function iet(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Ve.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function oet(e,t){e.treeAdapter.getDocumentMode(e.document)!==Su.QUIRKS&&e.openElements.hasInButtonScope(U.P)&&e._closePElement(),e._insertElement(t,Ve.HTML),e.framesetOk=!1,e.insertionMode=ue.IN_TABLE}function Iwe(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Ve.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function Rwe(e){const t=mwe(e,My.TYPE);return t!=null&&t.toLowerCase()===EZe}function set(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Ve.HTML),Rwe(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function aet(e,t){e._appendElement(t,Ve.HTML),t.ackSelfClosing=!0}function uet(e,t){e.openElements.hasInButtonScope(U.P)&&e._closePElement(),e._appendElement(t,Ve.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function cet(e,t){t.tagName=we.IMG,t.tagID=U.IMG,Iwe(e,t)}function det(e,t){e._insertElement(t,Ve.HTML),e.skipNextNewLine=!0,e.tokenizer.state=Oi.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=ue.TEXT}function het(e,t){e.openElements.hasInButtonScope(U.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,Oi.RAWTEXT)}function fet(e,t){e.framesetOk=!1,e._switchToTextParsing(t,Oi.RAWTEXT)}function Bie(e,t){e._switchToTextParsing(t,Oi.RAWTEXT)}function pet(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Ve.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===ue.IN_TABLE||e.insertionMode===ue.IN_CAPTION||e.insertionMode===ue.IN_TABLE_BODY||e.insertionMode===ue.IN_ROW||e.insertionMode===ue.IN_CELL?ue.IN_SELECT_IN_TABLE:ue.IN_SELECT}function met(e,t){e.openElements.currentTagId===U.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,Ve.HTML)}function get(e,t){e.openElements.hasInScope(U.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,Ve.HTML)}function yet(e,t){e.openElements.hasInScope(U.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(U.RTC),e._insertElement(t,Ve.HTML)}function vet(e,t){e._reconstructActiveFormattingElements(),Swe(t),sq(t),t.selfClosing?e._appendElement(t,Ve.MATHML):e._insertElement(t,Ve.MATHML),t.ackSelfClosing=!0}function bet(e,t){e._reconstructActiveFormattingElements(),Twe(t),sq(t),t.selfClosing?e._appendElement(t,Ve.SVG):e._insertElement(t,Ve.SVG),t.ackSelfClosing=!0}function jie(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Ve.HTML)}function ua(e,t){switch(t.tagID){case U.I:case U.S:case U.B:case U.U:case U.EM:case U.TT:case U.BIG:case U.CODE:case U.FONT:case U.SMALL:case U.STRIKE:case U.STRONG:{net(e,t);break}case U.A:{tet(e,t);break}case U.H1:case U.H2:case U.H3:case U.H4:case U.H5:case U.H6:{KZe(e,t);break}case U.P:case U.DL:case U.OL:case U.UL:case U.DIV:case U.DIR:case U.NAV:case U.MAIN:case U.MENU:case U.ASIDE:case U.CENTER:case U.FIGURE:case U.FOOTER:case U.HEADER:case U.HGROUP:case U.DIALOG:case U.DETAILS:case U.ADDRESS:case U.ARTICLE:case U.SEARCH:case U.SECTION:case U.SUMMARY:case U.FIELDSET:case U.BLOCKQUOTE:case U.FIGCAPTION:{YZe(e,t);break}case U.LI:case U.DD:case U.DT:{JZe(e,t);break}case U.BR:case U.IMG:case U.WBR:case U.AREA:case U.EMBED:case U.KEYGEN:{Iwe(e,t);break}case U.HR:{uet(e,t);break}case U.RB:case U.RTC:{get(e,t);break}case U.RT:case U.RP:{yet(e,t);break}case U.PRE:case U.LISTING:{XZe(e,t);break}case U.XMP:{het(e,t);break}case U.SVG:{bet(e,t);break}case U.HTML:{WZe(e,t);break}case U.BASE:case U.LINK:case U.META:case U.STYLE:case U.TITLE:case U.SCRIPT:case U.BGSOUND:case U.BASEFONT:case U.TEMPLATE:{fd(e,t);break}case U.BODY:{qZe(e,t);break}case U.FORM:{QZe(e,t);break}case U.NOBR:{ret(e,t);break}case U.MATH:{vet(e,t);break}case U.TABLE:{oet(e,t);break}case U.INPUT:{set(e,t);break}case U.PARAM:case U.TRACK:case U.SOURCE:{aet(e,t);break}case U.IMAGE:{cet(e,t);break}case U.BUTTON:{eet(e,t);break}case U.APPLET:case U.OBJECT:case U.MARQUEE:{iet(e,t);break}case U.IFRAME:{fet(e,t);break}case U.SELECT:{pet(e,t);break}case U.OPTION:case U.OPTGROUP:{met(e,t);break}case U.NOEMBED:case U.NOFRAMES:{Bie(e,t);break}case U.FRAMESET:{GZe(e,t);break}case U.TEXTAREA:{det(e,t);break}case U.NOSCRIPT:{e.options.scriptingEnabled?Bie(e,t):jie(e,t);break}case U.PLAINTEXT:{ZZe(e,t);break}case U.COL:case U.TH:case U.TD:case U.TR:case U.HEAD:case U.FRAME:case U.TBODY:case U.TFOOT:case U.THEAD:case U.CAPTION:case U.COLGROUP:break;default:jie(e,t)}}function wet(e,t){if(e.openElements.hasInScope(U.BODY)&&(e.insertionMode=ue.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function xet(e,t){e.openElements.hasInScope(U.BODY)&&(e.insertionMode=ue.AFTER_BODY,jwe(e,t))}function _et(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function Eet(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(U.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(U.FORM):n&&e.openElements.remove(n))}function Tet(e){e.openElements.hasInButtonScope(U.P)||e._insertFakeElement(we.P,U.P),e._closePElement()}function Cet(e){e.openElements.hasInListItemScope(U.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(U.LI),e.openElements.popUntilTagNamePopped(U.LI))}function Aet(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function ket(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function Iet(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function Ret(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(we.BR,U.BR),e.openElements.pop(),e.framesetOk=!1}function $we(e,t){const n=t.tagName,r=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const o=e.openElements.items[i],s=e.openElements.tagIDs[i];if(r===s&&(r!==U.UNKNOWN||e.treeAdapter.getTagName(o)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(o,s))break}}function iN(e,t){switch(t.tagID){case U.A:case U.B:case U.I:case U.S:case U.U:case U.EM:case U.TT:case U.BIG:case U.CODE:case U.FONT:case U.NOBR:case U.SMALL:case U.STRIKE:case U.STRONG:{aq(e,t);break}case U.P:{Tet(e);break}case U.DL:case U.UL:case U.OL:case U.DIR:case U.DIV:case U.NAV:case U.PRE:case U.MAIN:case U.MENU:case U.ASIDE:case U.BUTTON:case U.CENTER:case U.FIGURE:case U.FOOTER:case U.HEADER:case U.HGROUP:case U.DIALOG:case U.ADDRESS:case U.ARTICLE:case U.DETAILS:case U.SEARCH:case U.SECTION:case U.SUMMARY:case U.LISTING:case U.FIELDSET:case U.BLOCKQUOTE:case U.FIGCAPTION:{_et(e,t);break}case U.LI:{Cet(e);break}case U.DD:case U.DT:{Aet(e,t);break}case U.H1:case U.H2:case U.H3:case U.H4:case U.H5:case U.H6:{ket(e);break}case U.BR:{Ret(e);break}case U.BODY:{wet(e,t);break}case U.HTML:{xet(e,t);break}case U.FORM:{Eet(e);break}case U.APPLET:case U.OBJECT:case U.MARQUEE:{Iet(e,t);break}case U.TEMPLATE:{Xv(e,t);break}default:$we(e,t)}}function Dwe(e,t){e.tmplInsertionModeStack.length>0?Bwe(e,t):lq(e,t)}function $et(e,t){var n;t.tagID===U.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function Det(e,t){e._err(t,Ce.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function DF(e,t){if(Cwe.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=ue.IN_TABLE_TEXT,t.type){case En.CHARACTER:{Pwe(e,t);break}case En.WHITESPACE_CHARACTER:{Mwe(e,t);break}}else VA(e,t)}function Met(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,Ve.HTML),e.insertionMode=ue.IN_CAPTION}function Pet(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Ve.HTML),e.insertionMode=ue.IN_COLUMN_GROUP}function Net(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(we.COLGROUP,U.COLGROUP),e.insertionMode=ue.IN_COLUMN_GROUP,uq(e,t)}function Oet(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Ve.HTML),e.insertionMode=ue.IN_TABLE_BODY}function Let(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(we.TBODY,U.TBODY),e.insertionMode=ue.IN_TABLE_BODY,oN(e,t)}function Fet(e,t){e.openElements.hasInTableScope(U.TABLE)&&(e.openElements.popUntilTagNamePopped(U.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function Bet(e,t){Rwe(t)?e._appendElement(t,Ve.HTML):VA(e,t),t.ackSelfClosing=!0}function jet(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,Ve.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function Ow(e,t){switch(t.tagID){case U.TD:case U.TH:case U.TR:{Let(e,t);break}case U.STYLE:case U.SCRIPT:case U.TEMPLATE:{fd(e,t);break}case U.COL:{Net(e,t);break}case U.FORM:{jet(e,t);break}case U.TABLE:{Fet(e,t);break}case U.TBODY:case U.TFOOT:case U.THEAD:{Oet(e,t);break}case U.INPUT:{Bet(e,t);break}case U.CAPTION:{Met(e,t);break}case U.COLGROUP:{Pet(e,t);break}default:VA(e,t)}}function dC(e,t){switch(t.tagID){case U.TABLE:{e.openElements.hasInTableScope(U.TABLE)&&(e.openElements.popUntilTagNamePopped(U.TABLE),e._resetInsertionMode());break}case U.TEMPLATE:{Xv(e,t);break}case U.BODY:case U.CAPTION:case U.COL:case U.COLGROUP:case U.HTML:case U.TBODY:case U.TD:case U.TFOOT:case U.TH:case U.THEAD:case U.TR:break;default:VA(e,t)}}function VA(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,rN(e,t),e.fosterParentingEnabled=n}function Mwe(e,t){e.pendingCharacterTokens.push(t)}function Pwe(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function pE(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)VA(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const Nwe=new Set([U.CAPTION,U.COL,U.COLGROUP,U.TBODY,U.TD,U.TFOOT,U.TH,U.THEAD,U.TR]);function zet(e,t){const n=t.tagID;Nwe.has(n)?e.openElements.hasInTableScope(U.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(U.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=ue.IN_TABLE,Ow(e,t)):ua(e,t)}function Uet(e,t){const n=t.tagID;switch(n){case U.CAPTION:case U.TABLE:{e.openElements.hasInTableScope(U.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(U.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=ue.IN_TABLE,n===U.TABLE&&dC(e,t));break}case U.BODY:case U.COL:case U.COLGROUP:case U.HTML:case U.TBODY:case U.TD:case U.TFOOT:case U.TH:case U.THEAD:case U.TR:break;default:iN(e,t)}}function uq(e,t){switch(t.tagID){case U.HTML:{ua(e,t);break}case U.COL:{e._appendElement(t,Ve.HTML),t.ackSelfClosing=!0;break}case U.TEMPLATE:{fd(e,t);break}default:x$(e,t)}}function Het(e,t){switch(t.tagID){case U.COLGROUP:{e.openElements.currentTagId===U.COLGROUP&&(e.openElements.pop(),e.insertionMode=ue.IN_TABLE);break}case U.TEMPLATE:{Xv(e,t);break}case U.COL:break;default:x$(e,t)}}function x$(e,t){e.openElements.currentTagId===U.COLGROUP&&(e.openElements.pop(),e.insertionMode=ue.IN_TABLE,e._processToken(t))}function oN(e,t){switch(t.tagID){case U.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,Ve.HTML),e.insertionMode=ue.IN_ROW;break}case U.TH:case U.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(we.TR,U.TR),e.insertionMode=ue.IN_ROW,sN(e,t);break}case U.CAPTION:case U.COL:case U.COLGROUP:case U.TBODY:case U.TFOOT:case U.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=ue.IN_TABLE,Ow(e,t));break}default:Ow(e,t)}}function z9(e,t){const n=t.tagID;switch(t.tagID){case U.TBODY:case U.TFOOT:case U.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=ue.IN_TABLE);break}case U.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=ue.IN_TABLE,dC(e,t));break}case U.BODY:case U.CAPTION:case U.COL:case U.COLGROUP:case U.HTML:case U.TD:case U.TH:case U.TR:break;default:dC(e,t)}}function sN(e,t){switch(t.tagID){case U.TH:case U.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,Ve.HTML),e.insertionMode=ue.IN_CELL,e.activeFormattingElements.insertMarker();break}case U.CAPTION:case U.COL:case U.COLGROUP:case U.TBODY:case U.TFOOT:case U.THEAD:case U.TR:{e.openElements.hasInTableScope(U.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=ue.IN_TABLE_BODY,oN(e,t));break}default:Ow(e,t)}}function Owe(e,t){switch(t.tagID){case U.TR:{e.openElements.hasInTableScope(U.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=ue.IN_TABLE_BODY);break}case U.TABLE:{e.openElements.hasInTableScope(U.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=ue.IN_TABLE_BODY,z9(e,t));break}case U.TBODY:case U.TFOOT:case U.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(U.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=ue.IN_TABLE_BODY,z9(e,t));break}case U.BODY:case U.CAPTION:case U.COL:case U.COLGROUP:case U.HTML:case U.TD:case U.TH:break;default:dC(e,t)}}function Vet(e,t){const n=t.tagID;Nwe.has(n)?(e.openElements.hasInTableScope(U.TD)||e.openElements.hasInTableScope(U.TH))&&(e._closeTableCell(),sN(e,t)):ua(e,t)}function Wet(e,t){const n=t.tagID;switch(n){case U.TD:case U.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=ue.IN_ROW);break}case U.TABLE:case U.TBODY:case U.TFOOT:case U.THEAD:case U.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),Owe(e,t));break}case U.BODY:case U.CAPTION:case U.COL:case U.COLGROUP:case U.HTML:break;default:iN(e,t)}}function Lwe(e,t){switch(t.tagID){case U.HTML:{ua(e,t);break}case U.OPTION:{e.openElements.currentTagId===U.OPTION&&e.openElements.pop(),e._insertElement(t,Ve.HTML);break}case U.OPTGROUP:{e.openElements.currentTagId===U.OPTION&&e.openElements.pop(),e.openElements.currentTagId===U.OPTGROUP&&e.openElements.pop(),e._insertElement(t,Ve.HTML);break}case U.HR:{e.openElements.currentTagId===U.OPTION&&e.openElements.pop(),e.openElements.currentTagId===U.OPTGROUP&&e.openElements.pop(),e._appendElement(t,Ve.HTML),t.ackSelfClosing=!0;break}case U.INPUT:case U.KEYGEN:case U.TEXTAREA:case U.SELECT:{e.openElements.hasInSelectScope(U.SELECT)&&(e.openElements.popUntilTagNamePopped(U.SELECT),e._resetInsertionMode(),t.tagID!==U.SELECT&&e._processStartTag(t));break}case U.SCRIPT:case U.TEMPLATE:{fd(e,t);break}}}function Fwe(e,t){switch(t.tagID){case U.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===U.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===U.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===U.OPTGROUP&&e.openElements.pop();break}case U.OPTION:{e.openElements.currentTagId===U.OPTION&&e.openElements.pop();break}case U.SELECT:{e.openElements.hasInSelectScope(U.SELECT)&&(e.openElements.popUntilTagNamePopped(U.SELECT),e._resetInsertionMode());break}case U.TEMPLATE:{Xv(e,t);break}}}function qet(e,t){const n=t.tagID;n===U.CAPTION||n===U.TABLE||n===U.TBODY||n===U.TFOOT||n===U.THEAD||n===U.TR||n===U.TD||n===U.TH?(e.openElements.popUntilTagNamePopped(U.SELECT),e._resetInsertionMode(),e._processStartTag(t)):Lwe(e,t)}function Get(e,t){const n=t.tagID;n===U.CAPTION||n===U.TABLE||n===U.TBODY||n===U.TFOOT||n===U.THEAD||n===U.TR||n===U.TD||n===U.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(U.SELECT),e._resetInsertionMode(),e.onEndTag(t)):Fwe(e,t)}function Yet(e,t){switch(t.tagID){case U.BASE:case U.BASEFONT:case U.BGSOUND:case U.LINK:case U.META:case U.NOFRAMES:case U.SCRIPT:case U.STYLE:case U.TEMPLATE:case U.TITLE:{fd(e,t);break}case U.CAPTION:case U.COLGROUP:case U.TBODY:case U.TFOOT:case U.THEAD:{e.tmplInsertionModeStack[0]=ue.IN_TABLE,e.insertionMode=ue.IN_TABLE,Ow(e,t);break}case U.COL:{e.tmplInsertionModeStack[0]=ue.IN_COLUMN_GROUP,e.insertionMode=ue.IN_COLUMN_GROUP,uq(e,t);break}case U.TR:{e.tmplInsertionModeStack[0]=ue.IN_TABLE_BODY,e.insertionMode=ue.IN_TABLE_BODY,oN(e,t);break}case U.TD:case U.TH:{e.tmplInsertionModeStack[0]=ue.IN_ROW,e.insertionMode=ue.IN_ROW,sN(e,t);break}default:e.tmplInsertionModeStack[0]=ue.IN_BODY,e.insertionMode=ue.IN_BODY,ua(e,t)}}function Ket(e,t){t.tagID===U.TEMPLATE&&Xv(e,t)}function Bwe(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(U.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):lq(e,t)}function Xet(e,t){t.tagID===U.HTML?ua(e,t):_$(e,t)}function jwe(e,t){var n;if(t.tagID===U.HTML){if(e.fragmentContext||(e.insertionMode=ue.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===U.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else _$(e,t)}function _$(e,t){e.insertionMode=ue.IN_BODY,rN(e,t)}function Qet(e,t){switch(t.tagID){case U.HTML:{ua(e,t);break}case U.FRAMESET:{e._insertElement(t,Ve.HTML);break}case U.FRAME:{e._appendElement(t,Ve.HTML),t.ackSelfClosing=!0;break}case U.NOFRAMES:{fd(e,t);break}}}function Jet(e,t){t.tagID===U.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==U.FRAMESET&&(e.insertionMode=ue.AFTER_FRAMESET))}function Zet(e,t){switch(t.tagID){case U.HTML:{ua(e,t);break}case U.NOFRAMES:{fd(e,t);break}}}function ett(e,t){t.tagID===U.HTML&&(e.insertionMode=ue.AFTER_AFTER_FRAMESET)}function ttt(e,t){t.tagID===U.HTML?ua(e,t):NI(e,t)}function NI(e,t){e.insertionMode=ue.IN_BODY,rN(e,t)}function ntt(e,t){switch(t.tagID){case U.HTML:{ua(e,t);break}case U.NOFRAMES:{fd(e,t);break}}}function rtt(e,t){t.chars=Xr,e._insertCharacters(t)}function itt(e,t){e._insertCharacters(t),e.framesetOk=!1}function zwe(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==Ve.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function ott(e,t){if(vZe(t))zwe(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===Ve.MATHML?Swe(t):r===Ve.SVG&&(bZe(t),Twe(t)),sq(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function stt(e,t){if(t.tagID===U.P||t.tagID===U.BR){zwe(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===Ve.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(r);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(n);break}}}we.AREA,we.BASE,we.BASEFONT,we.BGSOUND,we.BR,we.COL,we.EMBED,we.FRAME,we.HR,we.IMG,we.INPUT,we.KEYGEN,we.LINK,we.META,we.PARAM,we.SOURCE,we.TRACK,we.WBR;const att=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,ltt=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),zie={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function Uwe(e,t){const n=vtt(e),r=cwe("type",{handlers:{root:utt,element:ctt,text:dtt,comment:Vwe,doctype:htt,raw:ptt},unknown:mtt}),i={parser:n?new Fie(zie):Fie.getFragmentParser(void 0,zie),handle(a){r(a,i)},stitches:!1,options:t||{}};r(e,i),a_(i,zh());const o=n?i.parser.document:i.parser.getFragment(),s=aJe(o,{file:i.options.file});return i.stitches&&tq(s,"comment",function(a,l,u){const c=a;if(c.value.stitch&&u&&l!==void 0){const d=u.children;return d[l]=c.value.stitch,l}}),s.type==="root"&&s.children.length===1&&s.children[0].type===e.type?s.children[0]:s}function Hwe(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function utt(e,t){Hwe(e.children,t)}function ctt(e,t){gtt(e,t),Hwe(e.children,t),ytt(e,t)}function dtt(e,t){t.parser.tokenizer.state>4&&(t.parser.tokenizer.state=0);const n={type:En.CHARACTER,chars:e.value,location:WA(e)};a_(t,zh(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function htt(e,t){const n={type:En.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:WA(e)};a_(t,zh(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function ftt(e,t){t.stitches=!0;const n=btt(e);if("children"in e&&"children"in n){const r=Uwe({type:"root",children:e.children},t.options);n.children=r.children}Vwe({type:"comment",value:{stitch:n}},t)}function Vwe(e,t){const n=e.value,r={type:En.COMMENT,data:n,location:WA(e)};a_(t,zh(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function ptt(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,Wwe(t,zh(e)),t.parser.tokenizer.write(t.options.tagfilter?e.value.replace(att,"&lt;$1$2"):e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=t.parser.tokenizer._consume();t.parser.tokenizer._callState(n)}}function mtt(e,t){const n=e;if(t.options.passThrough&&t.options.passThrough.includes(n.type))ftt(n,t);else{let r="";throw ltt.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function a_(e,t){Wwe(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=Oi.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function Wwe(e,t){if(t&&t.offset!==void 0){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function gtt(e,t){const n=e.tagName.toLowerCase();if(t.parser.tokenizer.state===Oi.PLAINTEXT)return;a_(t,zh(e));const r=t.parser.openElements.current;let i="namespaceURI"in r?r.namespaceURI:wy.html;i===wy.html&&n==="svg"&&(i=wy.svg);const o=_Je({...e,children:[]},{space:i===wy.svg?"svg":"html"}),s={type:En.START_TAG,tagName:n,tagID:s_(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in o?o.attrs:[],location:WA(e)};t.parser.currentToken=s,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=n}function ytt(e,t){const n=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&RJe.includes(n)||t.parser.tokenizer.state===Oi.PLAINTEXT)return;a_(t,ZP(e));const r={type:En.END_TAG,tagName:n,tagID:s_(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:WA(e)};t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken),n===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===Oi.RCDATA||t.parser.tokenizer.state===Oi.RAWTEXT||t.parser.tokenizer.state===Oi.SCRIPT_DATA)&&(t.parser.tokenizer.state=Oi.DATA)}function vtt(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName.toLowerCase()==="html"))}function WA(e){const t=zh(e)||{line:void 0,column:void 0,offset:void 0},n=ZP(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function btt(e){return"children"in e?Nw({...e,children:[]}):Nw(e)}function wtt(e){return function(t,n){return Uwe(t,{...e,file:n})}}function gs({text:e,required:t}){const n={img({node:i,width:o,height:s,...a}){return k.jsx(i0,{...a,h:s,w:o,ref:void 0})},p({node:i,...o}){return k.jsx(Fe,{...o,pb:8,fw:"inherit",ref:void 0})},h1({node:i,...o}){return k.jsx(wi,{...o,order:1,...o,pb:12})},h2({node:i,...o}){return k.jsx(wi,{...o,order:2,...o,pb:12})},h3({node:i,...o}){return k.jsx(wi,{...o,order:3,...o,pb:12})},h4({node:i,...o}){return k.jsx(wi,{...o,order:4,...o,pb:12})},h5({node:i,...o}){return k.jsx(wi,{...o,order:5,...o,pb:12})},h6({node:i,...o}){return k.jsx(wi,{...o,order:6,...o,pb:12})},a({node:i,...o}){return k.jsx(Vv,{...o,ref:void 0})},ul({node:i,...o}){return k.jsx(Gc,{withPadding:!0,...o,pb:8})},ol({node:i,type:o,...s}){return k.jsx(Gc,{type:"ordered",withPadding:!0,...s,pb:8})}};return k.jsx(qQe,{components:n,rehypePlugins:[wtt],children:e+(t?'<span style="color: #fa5252; margin-left: 4px">*</span>':"")})}function OI({issues:e,type:t}){const n=`
    ${t==="error"?"There was an issue loading the study config. Please check the following issues:":"There were some warnings while loading the study config. Please check the following warnings:"}

    ${e.map(r=>`- You have ${t==="error"?"an error":"a warning"} at ${r.instancePath||"root"}: ${r.message} - ${JSON.stringify(r.params)}  `).join(`
`)}
  `.replace(/\n\s+/g,`
`);return k.jsx(gs,{text:n})}const Hb=14;function xtt({completed:e,inProgress:t,rejected:n}){return k.jsxs(Rt,{ml:4,gap:4,children:[k.jsx(Ur,{label:"Completed",children:k.jsx(qc,{variant:"light",color:"green",leftSection:k.jsx(jA,{width:Hb,height:Hb,style:{paddingTop:1}}),pb:1,children:e})}),k.jsx(Ur,{label:"In Progress",children:k.jsx(qc,{variant:"light",color:"orange",leftSection:k.jsx(c1e,{width:Hb,height:Hb,style:{paddingTop:1}}),pb:1,children:t})}),k.jsx(Ur,{label:"Rejected",children:k.jsx(qc,{variant:"light",color:"red",leftSection:k.jsx(Jx,{width:Hb,height:Hb,style:{paddingTop:1}}),pb:1,children:n})})]})}const _tt={},Ett=Object.freeze(Object.defineProperty({__proto__:null,default:_tt},Symbol.toStringTag,{value:"Module"})),qwe=HLe(Ett);var Stt=qwe;function Ttt(e,t){var n,r="",i=0,o=!0,s=0,a;function l(){return a=e.charAt(s),s++,a}for(l(),a==="-"&&(r="-",l());a>="0"&&a<="9";)o&&(a=="0"?i++:o=!1),r+=a,l();if(o&&i--,a===".")for(r+=".";l()&&a>="0"&&a<="9";)r+=a;if(a==="e"||a==="E")for(r+=a,l(),(a==="-"||a==="+")&&(r+=a,l());a>="0"&&a<="9";)r+=a,l();for(;a&&a<=" ";)l();if(t&&(a===","||a==="}"||a==="]"||a==="#"||a==="/"&&(e[s]==="/"||e[s]==="*"))&&(a=0),n=+r,!(a||i||!isFinite(n)))return n}function Ctt(e,t){return Object.defineProperty&&Object.defineProperty(e,"__COMMENTS__",{enumerable:!1,writable:!0}),e.__COMMENTS__=t||{}}function Att(e){Object.defineProperty(e,"__COMMENTS__",{value:void 0})}function ktt(e){return e.__COMMENTS__}function Itt(e){if(!e)return"";var t=e.split(`
`),n,r,i,o;for(i=0;i<t.length;i++)for(n=t[i],o=n.length,r=0;r<o;r++){var s=n[r];if(s==="#")break;if(s==="/"&&(n[r+1]==="/"||n[r+1]==="*")){n[r+1]==="*"&&(i=t.length);break}else if(s>" "){t[i]="# "+n;break}}return t.join(`
`)}var aN={EOL:Stt.EOL||`
`,tryParseNumber:Ttt,createComment:Ctt,removeComment:Att,getComment:ktt,forceComment:Itt},Rtt="3.2.1";function $tt(e,t){if(Object.prototype.toString.apply(e)!=="[object Array]"){if(e)throw new Error("dsf option must contain an array!");return Uie}else if(e.length===0)return Uie;var n=[];function r(i){return{}.toString.call(i)==="[object Function]"}return e.forEach(function(i){if(!i.name||!r(i.parse)||!r(i.stringify))throw new Error("extension does not match the DSF interface");n.push(function(){try{if(t=="parse")return i.parse.apply(null,arguments);if(t=="stringify"){var o=i.stringify.apply(null,arguments);if(o!==void 0&&(typeof o!="string"||o.length===0||o[0]==='"'||[].some.call(o,function(s){return Mtt(s)})))throw new Error("value may not be empty, start with a quote or contain a punctuator character except colon: "+o);return o}else throw new Error("Invalid type")}catch(s){throw new Error("DSF-"+i.name+" failed; "+s.message)}})}),Dtt.bind(null,n)}function Dtt(e,t){if(e)for(var n=0;n<e.length;n++){var r=e[n](t);if(r!==void 0)return r}}function Uie(){}function Mtt(e){return e==="{"||e==="}"||e==="["||e==="]"||e===","}function Gwe(){return{name:"math",parse:function(e){switch(e){case"+inf":case"inf":case"+Inf":case"Inf":return 1/0;case"-inf":case"-Inf":return-1/0;case"nan":case"NaN":return NaN}},stringify:function(e){if(typeof e=="number"){if(1/e===-1/0)return"-0";if(e===1/0)return"Inf";if(e===-1/0)return"-Inf";if(isNaN(e))return"NaN"}}}}Gwe.description="support for Inf/inf, -Inf/-inf, Nan/naN and -0";function Ywe(e){var t=e&&e.out;return{name:"hex",parse:function(n){if(/^0x[0-9A-Fa-f]+$/.test(n))return parseInt(n,16)},stringify:function(n){if(t&&Number.isInteger(n))return"0x"+n.toString(16)}}}Ywe.description="parse hexadecimal numbers prefixed with 0x";function Kwe(){return{name:"date",parse:function(e){if(/^\d{4}-\d{2}-\d{2}$/.test(e)||/^\d{4}-\d{2}-\d{2}T\d{2}\:\d{2}\:\d{2}(?:.\d+)(?:Z|[+-]\d{2}:\d{2})$/.test(e)){var t=Date.parse(e);if(!isNaN(t))return new Date(t)}},stringify:function(e){if(Object.prototype.toString.call(e)==="[object Date]"){var t=e.toISOString();return t.indexOf("T00:00:00.000Z",t.length-14)!==-1?t.substr(0,10):t}}}}Kwe.description="support ISO dates";var cq={loadDsf:$tt,std:{math:Gwe,hex:Ywe,date:Kwe}},Ptt=function(e,t){var n=aN,r=cq,i,o,s,a={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},l,u;function c(){o=0,s=" "}function d(R){return R==="{"||R==="}"||R==="["||R==="]"||R===","||R===":"}function h(R){var A,M=0,N=1;for(A=o-1;A>0&&i[A]!==`
`;A--,M++);for(;A>0;A--)i[A]===`
`&&N++;throw new Error(R+" at line "+N+","+M+" >>>"+i.substr(o-M,20)+" ...")}function f(){return s=i.charAt(o),o++,s}function p(R){return i.charAt(o+R)}function m(R){for(var A="",M=s;f();){if(s===M)return f(),R&&M==="'"&&s==="'"&&A.length===0?(f(),g()):A;if(s==="\\")if(f(),s==="u"){for(var N=0,L=0;L<4;L++){f();var z=s.charCodeAt(0),F;s>="0"&&s<="9"?F=z-48:s>="a"&&s<="f"?F=z-97+10:s>="A"&&s<="F"?F=z-65+10:h("Bad \\u char "+s),N=N*16+F}A+=String.fromCharCode(N)}else if(typeof a[s]=="string")A+=a[s];else break;else s===`
`||s==="\r"?h("Bad string containing newline"):A+=s}h("Bad string")}function g(){for(var R="",A=0,M=0;;){var N=p(-M-5);if(!N||N===`
`)break;M++}function L(){for(var z=M;s&&s<=" "&&s!==`
`&&z-- >0;)f()}for(;s&&s<=" "&&s!==`
`;)f();for(s===`
`&&(f(),L());;){if(!s)h("Bad multiline string");else if(s==="'"){if(A++,f(),A===3)return R.slice(-1)===`
`&&(R=R.slice(0,-1)),R;continue}else for(;A>0;)R+="'",A--;s===`
`?(R+=`
`,f(),L()):(s!=="\r"&&(R+=s),f())}}function y(){if(s==='"'||s==="'")return m(!1);for(var R="",A=o,M=-1;;){if(s===":")return R?M>=0&&M!==R.length&&(o=A+M,h("Found whitespace in your key name (use quotes to include)")):h("Found ':' but no key name (for an empty key name use quotes)"),R;s<=" "?s?M<0&&(M=R.length):h("Found EOF while looking for a key name (check your syntax)"):d(s)?h("Found '"+s+"' where a key name was expected (check your syntax or use quotes if the key name includes {}[],: or whitespace)"):R+=s,f()}}function v(){for(;s;){for(;s&&s<=" ";)f();if(s==="#"||s==="/"&&p(0)==="/")for(;s&&s!==`
`;)f();else if(s==="/"&&p(0)==="*"){for(f(),f();s&&!(s==="*"&&p(0)==="/");)f();s&&(f(),f())}else break}}function b(){var R=s;for(d(s)&&h("Found a punctuator character '"+s+"' when expecting a quoteless string (check your syntax)");;){f();var A=s==="\r"||s===`
`||s==="";if(A||s===","||s==="}"||s==="]"||s==="#"||s==="/"&&(p(0)==="/"||p(0)==="*")){var M=R[0];switch(M){case"f":if(R.trim()==="false")return!1;break;case"n":if(R.trim()==="null")return null;break;case"t":if(R.trim()==="true")return!0;break;default:if(M==="-"||M>="0"&&M<="9"){var N=n.tryParseNumber(R);if(N!==void 0)return N}}if(A){R=R.trim();var L=u(R);return L!==void 0?L:R}}R+=s}}function _(R,A){var M;for(R--,M=o-2;M>R&&i[M]<=" "&&i[M]!==`
`;M--);i[M]===`
`&&M--,i[M]==="\r"&&M--;var N=i.substr(R,M-R+1);for(M=0;M<N.length;M++)if(N[M]>" "){var L=N.indexOf(`
`);if(L>=0){var z=[N.substr(0,L),N.substr(L+1)];return A&&z[0].trim().length===0&&z.shift(),z}else return[N]}return[]}function x(R){function A(N,L){var z,F,j,W;switch(typeof N){case"string":N.indexOf(L)>=0&&(W=N);break;case"object":if(Object.prototype.toString.apply(N)==="[object Array]")for(z=0,j=N.length;z<j;z++)W=A(N[z],L)||W;else for(F in N)Object.prototype.hasOwnProperty.call(N,F)&&(W=A(N[F],L)||W)}return W}function M(N){var L=A(R,N);return L?"found '"+N+`' in a string value, your mistake could be with:
  > `+L+`
  (unquoted strings contain everything up to the next line!)`:""}return M("}")||M("]")}function w(){var R=[],A,M,N;try{if(l&&(A=n.createComment(R,{a:[]})),f(),M=o,v(),A&&(N=_(M,!0).join(`
`)),s==="]")return f(),A&&(A.e=[N]),R;for(;s;){if(R.push(S()),M=o,v(),s===","&&(f(),M=o,v()),A){var L=_(M);A.a.push([N||"",L[0]||""]),N=L[1]}if(s==="]")return f(),A&&(A.a[A.a.length-1][1]+=N||""),R;v()}h("End of input while parsing an array (missing ']')")}catch(z){throw z.hint=z.hint||x(R),z}}function E(R){var A="",M={},N,L,z;try{if(l&&(N=n.createComment(M,{c:{},o:[]})),R?L=1:(f(),L=o),v(),N&&(z=_(L,!0).join(`
`)),s==="}"&&!R)return N&&(N.e=[z]),f(),M;for(;s;){if(A=y(),v(),s!==":"&&h("Expected ':' instead of '"+s+"'"),f(),M[A]=S(),L=o,v(),s===","&&(f(),L=o,v()),N){var F=_(L);N.c[A]=[z||"",F[0]||""],z=F[1],N.o.push(A)}if(s==="}"&&!R)return f(),N&&(N.c[A][1]+=z||""),M;v()}if(R)return M;h("End of input while parsing an object (missing '}')")}catch(j){throw j.hint=j.hint||x(M),j}}function S(){switch(v(),s){case"{":return E();case"[":return w();case"'":case'"':return m(!0);default:return b()}}function T(R,A){var M=o;if(v(),s&&h("Syntax error, found trailing characters"),l){var N=A.join(`
`),L=_(M).join(`
`);if(L||N){var z=n.createComment(R,n.getComment(R));z.r=[N,L]}}return R}function C(){v();var R=l?_(1):null;switch(s){case"{":return T(E(),R);case"[":return T(w(),R);default:return T(S(),R)}}function D(){v();var R=l?_(1):null;switch(s){case"{":return T(E(),R);case"[":return T(w(),R)}try{return T(E(!0),R)}catch(A){c();try{return T(S(),R)}catch{throw A}}}if(typeof e!="string")throw new Error("source is not a string");var $=null,I=!0;return t&&typeof t=="object"&&(l=t.keepWsc,$=t.dsf,I=t.legacyRoot!==!1),u=r.loadDsf($,"parse"),i=e,c(),I?D():C()},Ntt=function(e,t){var n=aN,r=cq,i={obj:["{","}"],arr:["[","]"],key:["",""],qkey:['"','"'],col:[":",""],com:[",",""],str:["",""],qstr:['"','"'],mstr:["'''","'''"],num:["",""],lit:["",""],dsf:["",""],esc:["\\",""],uni:["\\u",""],rem:["",""]},o=n.EOL,s="  ",a=!1,l=!1,u=!1,c=!1,d=0,h=1,f="",p=null,m=!1,g=i;if(t&&typeof t=="object"){t.quotes=t.quotes==="always"?"strings":t.quotes,(t.eol===`
`||t.eol===`\r
`)&&(o=t.eol),a=t.keepWsc,d=t.condense||0,l=t.bracesSameLine,u=t.quotes==="all"||t.quotes==="keys",c=t.quotes==="all"||t.quotes==="strings"||t.separator===!0,c||t.multiline=="off"?h=0:h=t.multiline=="no-tabs"?2:1,f=t.separator===!0?g.com[0]:"",p=t.dsf,m=t.sortProps,typeof t.space=="number"?s=new Array(t.space+1).join(" "):typeof t.space=="string"&&(s=t.space),t.colors===!0&&(g={obj:["\x1B[37m{\x1B[0m","\x1B[37m}\x1B[0m"],arr:["\x1B[37m[\x1B[0m","\x1B[37m]\x1B[0m"],key:["\x1B[33m","\x1B[0m"],qkey:['\x1B[33m"','"\x1B[0m'],col:["\x1B[37m:\x1B[0m",""],com:["\x1B[37m,\x1B[0m",""],str:["\x1B[37;1m","\x1B[0m"],qstr:['\x1B[37;1m"','"\x1B[0m'],mstr:["\x1B[37;1m'''","'''\x1B[0m"],num:["\x1B[36;1m","\x1B[0m"],lit:["\x1B[36m","\x1B[0m"],dsf:["\x1B[37m","\x1B[0m"],esc:["\x1B[31m\\","\x1B[0m"],uni:["\x1B[31m\\u","\x1B[0m"],rem:["\x1B[35m","\x1B[0m"]});var y,v=Object.keys(i);for(y=v.length-1;y>=0;y--){var b=v[y];g[b].push(i[b][0].length,i[b][1].length)}}var _,x="---\u2028--\uFEFF-",w=new RegExp('[\\\\\\"\0-'+x+"]","g"),E=new RegExp(`^\\s|^"|^'|^#|^\\/\\*|^\\/\\/|^\\{|^\\}|^\\[|^\\]|^:|^,|\\s$|[\0-`+x+"]","g"),S=new RegExp("'''|^[\\s]+$|[\0-"+(h===2?"	":"\b")+"\v\f-"+x+"]","g"),T=new RegExp("^(true|false|null)\\s*((,|\\]|\\}|#|//|/\\*).*)?$"),C={"\b":"b","	":"t","\n":"n","\f":"f","\r":"r",'"':'"',"\\":"\\"},D=/[,\{\[\}\]\s:#"']|\/\/|\/\*/,$="",I=0;function R(W,B){return I+=W[0].length+W[1].length-W[2]-W[3],W[0]+B+W[1]}function A(W){return W.replace(w,function(B){var H=C[B];return typeof H=="string"?R(g.esc,H):R(g.uni,("0000"+B.charCodeAt(0).toString(16)).slice(-4))})}function M(W,B,H,V){return W?(E.lastIndex=0,T.lastIndex=0,c||H||E.test(W)||n.tryParseNumber(W,!0)!==void 0||T.test(W)?(w.lastIndex=0,S.lastIndex=0,w.test(W)?!S.test(W)&&!V&&h?N(W,B):R(g.qstr,A(W)):R(g.qstr,W)):R(g.str,W)):R(g.qstr,"")}function N(W,B){var H,V=W.replace(/\r/g,"").split(`
`);if(B+=s,V.length===1)return R(g.mstr,V[0]);var G=o+B+g.mstr[0];for(H=0;H<V.length;H++)G+=o,V[H]&&(G+=B+V[H]);return G+o+B+g.mstr[1]}function L(W){return W?u||D.test(W)?(w.lastIndex=0,R(g.qkey,w.test(W)?A(W):W)):R(g.key,W):'""'}function z(W,B,H,V){function G(ct){return ct&&ct[ct[0]==="\r"?1:0]===`
`}function ne(ct){return ct&&!G(ct)}function X(ct,Ft,rr){if(!ct)return"";ct=n.forceComment(ct);var In,Ci=ct.length;for(In=0;In<Ci&&ct[In]<=" ";In++);return rr&&In>0&&(ct=ct.substr(In)),In<Ci?Ft+R(g.rem,ct):ct}var te=_(W);if(te!==void 0)return R(g.dsf,te);switch(typeof W){case"string":return M(W,$,B,V);case"number":return isFinite(W)?R(g.num,String(W)):R(g.lit,"null");case"boolean":return R(g.lit,String(W));case"object":if(!W)return R(g.lit,"null");var se;a&&(se=n.getComment(W));var ve=Object.prototype.toString.apply(W)==="[object Array]",pe=$;$+=s;var Ge=o+pe,Ne=o+$,Ke=H||l?"":Ge,Je=[],Ae,$e=d?[]:null,Ze=c,lt=h,gt=f?"":g.com[0],st=0,ht,Oe,ut,ee,he,xe,Me,je,ft;if(ve){for(ht=0,Oe=W.length;ht<Oe;ht++){if(Ae=ht<Oe-1,se?(xe=se.a[ht]||[],Me=ne(xe[1]),Je.push(X(xe[0],`
`)+Ne),$e&&(xe[0]||xe[1]||Me)&&($e=null)):Je.push(Ne),I=0,ee=W[ht],Je.push(z(ee,se?Me:!1,!0)+(Ae?f:"")),$e){switch(typeof ee){case"string":I=0,c=!0,h=0,$e.push(z(ee,!1,!0)+(Ae?g.com[0]:"")),c=Ze,h=lt;break;case"object":if(ee){$e=null;break}default:$e.push(Je[Je.length-1]+(Ae?gt:""));break}Ae&&(I+=g.com[0].length-g.com[2]),st+=I}se&&xe[1]&&Je.push(X(xe[1],Me?" ":`
`,Me))}Oe===0?se&&se.e&&Je.push(X(se.e[0],`
`)+Ge):Je.push(Ge),Je.length===0?je=R(g.arr,""):(je=Ke+R(g.arr,Je.join("")),$e&&(ft=$e.join(" "),ft.length-st<=d&&(je=R(g.arr,ft))))}else{var jt=se?se.o.slice():[],Gt=[];for(ut in W)Object.prototype.hasOwnProperty.call(W,ut)&&jt.indexOf(ut)<0&&Gt.push(ut);m&&Gt.sort();var Dt=jt.concat(Gt);for(ht=0,Oe=Dt.length;ht<Oe;ht++)if(Ae=ht<Oe-1,ut=Dt[ht],se?(xe=se.c[ut]||[],Me=ne(xe[1]),Je.push(X(xe[0],`
`)+Ne),$e&&(xe[0]||xe[1]||Me)&&($e=null)):Je.push(Ne),I=0,ee=W[ut],he=z(ee,se&&Me),Je.push(L(ut)+g.col[0]+(G(he)?"":" ")+he+(Ae?f:"")),se&&xe[1]&&Je.push(X(xe[1],Me?" ":`
`,Me)),$e){switch(typeof ee){case"string":I=0,c=!0,h=0,he=z(ee,!1),c=Ze,h=lt,$e.push(L(ut)+g.col[0]+" "+he+(Ae?g.com[0]:""));break;case"object":if(ee){$e=null;break}default:$e.push(Je[Je.length-1]+(Ae?gt:""));break}I+=g.col[0].length-g.col[2],Ae&&(I+=g.com[0].length-g.com[2]),st+=I}Oe===0?se&&se.e&&Je.push(X(se.e[0],`
`)+Ge):Je.push(Ge),Je.length===0?je=R(g.obj,""):(je=Ke+R(g.obj,Je.join("")),$e&&(ft=$e.join(" "),ft.length-st<=d&&(je=R(g.obj,ft))))}return $=pe,je}}_=r.loadDsf(p,"stringify");var F="",j=a?j=(n.getComment(e)||{}).r:null;return j&&j[0]&&(F=j[0]+`
`),F+=z(e,null,!0,!0),j&&(F+=j[1]||""),F},ew=aN;function oT(e,t,n){var r;return e&&(r={b:e}),t&&((r=r||{}).a=t),n&&((r=r||{}).x=n),r}function U9(e,t){if(!(e===null||typeof e!="object")){var n=ew.getComment(e);n&&ew.removeComment(e);var r,i,o,s;if(Object.prototype.toString.apply(e)==="[object Array]"){for(s={a:{}},r=0,i=e.length;r<i;r++)Hie(s.a,r,n.a[r],U9(e[r]))&&(o=!0);!o&&n.e&&(s.e=oT(n.e[0],n.e[1]),o=!0)}else{s={s:{}};var a,l=Object.keys(e);for(n&&n.o?(a=[],n.o.concat(l).forEach(function(c){Object.prototype.hasOwnProperty.call(e,c)&&a.indexOf(c)<0&&a.push(c)})):a=l,s.o=a,r=0,i=a.length;r<i;r++){var u=a[r];Hie(s.s,u,n.c[u],U9(e[u]))&&(o=!0)}!o&&n.e&&(s.e=oT(n.e[0],n.e[1]),o=!0)}return t&&n&&n.r&&(s.r=oT(n.r[0],n.r[1])),o?s:void 0}}function Ott(){var e="";return[].forEach.call(arguments,function(t){t&&t.trim()!==""&&(e&&(e+="; "),e+=t.trim())}),e}function Ltt(e,t){var n=[];if(H9(e,t,n,[]),n.length>0){var r=E$(t,null,1);r+=`
# Orphaned comments:
`,n.forEach(function(i){r+=("# "+i.path.join("/")+": "+Ott(i.b,i.a,i.e)).replace(`
`,"\\n ")+`
`}),E$(t,r,1)}}function Hie(e,t,n,r){var i=oT(n?n[0]:void 0,n?n[1]:void 0,r);return i&&(e[t]=i),i}function sT(e,t){var n=oT(t.b,t.a);return n.path=e,n}function aT(e,t,n){if(e){var r,i;if(e.a)for(r=0,i=e.a.length;r<i;r++){var o=n.slice().concat([r]),s=e.a[r];s&&(t.push(sT(o,s)),aT(s.x,t,o))}else e.o&&e.o.forEach(function(a){var l=n.slice().concat([a]),u=e.s[a];u&&(t.push(sT(l,u)),aT(u.x,t,l))});e.e&&t.push(sT(n,e.e))}}function H9(e,t,n,r){if(e){if(t===null||typeof t!="object"){aT(e,n,r);return}var i,o=ew.createComment(t);if(r.length===0&&e.r&&(o.r=[e.r.b,e.r.a]),Object.prototype.toString.apply(t)==="[object Array]"){o.a=[];var s=e.a||{};for(var a in s)if(s.hasOwnProperty(a)){i=parseInt(a);var l=e.a[a];if(l){var u=r.slice().concat([i]);i<t.length?(o.a[i]=[l.b,l.a],H9(l.x,t[i],n,u)):(n.push(sT(u,l)),aT(l.x,n,u))}}i===0&&e.e&&(o.e=[e.e.b,e.e.a])}else o.c={},o.o=[],(e.o||[]).forEach(function(c){var d=r.slice().concat([c]),h=e.s[c];Object.prototype.hasOwnProperty.call(t,c)?(o.o.push(c),h&&(o.c[c]=[h.b,h.a],H9(h.x,t[c],n,d))):h&&(n.push(sT(d,h)),aT(h.x,n,d))}),e.e&&(o.e=[e.e.b,e.e.a])}}function E$(e,t,n){var r=ew.createComment(e,ew.getComment(e));return r.r||(r.r=["",""]),(t||t==="")&&(r.r[n]=ew.forceComment(t)),r.r[n]||""}var Ftt={extract:function(e){return U9(e,!0)},merge:Ltt,header:function(e,t){return E$(e,t,0)},footer:function(e,t){return E$(e,t,1)}};/*!
 * Hjson v3.2.1
 * https://hjson.github.io
 *
 * Copyright 2014-2017 Christian Zangl, MIT license
 * Details and documentation:
 * https://github.com/hjson/hjson-js
 *
 * This code is based on the the JSON version by Douglas Crockford:
 * https://github.com/douglascrockford/JSON-js (json_parse.js, json2.js)
 */var Vie=aN,Btt=Rtt,Wie=Ptt,qie=Ntt,jtt=Ftt,ztt=cq,Utt={parse:Wie,stringify:qie,endOfLine:function(){return Vie.EOL},setEndOfLine:function(e){(e===`
`||e===`\r
`)&&(Vie.EOL=e)},version:Btt,rt:{parse:function(e,t){return(t=t||{}).keepWsc=!0,Wie(e,t)},stringify:function(e,t){return(t=t||{}).keepWsc=!0,qie(e,t)}},comments:jtt,dsf:ztt.std};const Htt=()=>{};var Gie={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xwe=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Vtt=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=e[n++],s=e[n++],a=e[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},dq={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const o=e[i],s=i+1<e.length,a=s?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=o>>2,d=(o&3)<<4|a>>4;let h=(a&15)<<2|u>>6,f=u&63;l||(f=64,s||(h=64)),r.push(n[c],n[d],n[h],n[f])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Xwe(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Vtt(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,o==null||a==null||u==null||d==null)throw new Wtt;const h=o<<2|a>>4;if(r.push(h),u!==64){const f=a<<4&240|u>>2;if(r.push(f),d!==64){const p=u<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Wtt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qtt=function(e){const t=Xwe(e);return dq.encodeByteArray(t,!0)},S$=function(e){return qtt(e).replace(/\./g,"")},Qwe=function(e){try{return dq.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jwe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gtt=()=>Jwe().__FIREBASE_DEFAULTS__,Ytt=()=>{if(typeof process>"u"||typeof Gie>"u")return;const e=Gie.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Ktt=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Qwe(e[1]);return t&&JSON.parse(t)},lN=()=>{try{return Htt()||Gtt()||Ytt()||Ktt()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Zwe=e=>{var t,n;return(n=(t=lN())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},Xtt=e=>{const t=Zwe(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},exe=()=>{var e;return(e=lN())===null||e===void 0?void 0:e.config},txe=e=>{var t;return(t=lN())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qtt(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[S$(JSON.stringify(n)),S$(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Jtt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(oa())}function Ztt(){var e;const t=(e=lN())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ent(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tnt(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function nnt(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rnt(){const e=oa();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function int(){return!Ztt()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hq(){try{return typeof indexedDB=="object"}catch{return!1}}function ont(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const snt="FirebaseError";class Uh extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=snt,Object.setPrototypeOf(this,Uh.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,l_.prototype.create)}}class l_{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?ant(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Uh(i,a,r)}}function ant(e,t){return e.replace(lnt,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const lnt=/\{\$([^}]+)}/g;function unt(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Jy(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const o=e[i],s=t[i];if(Yie(o)&&Yie(s)){if(!Jy(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Yie(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function cnt(e,t){const n=new dnt(e,t);return n.subscribe.bind(n)}class dnt{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");hnt(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=MF),i.error===void 0&&(i.error=MF),i.complete===void 0&&(i.complete=MF);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hnt(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function MF(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fnt=1e3,pnt=2,mnt=4*60*60*1e3,gnt=.5;function ynt(e,t=fnt,n=pnt){const r=t*Math.pow(n,e),i=Math.round(gnt*r*(Math.random()-.5)*2);return Math.min(mnt,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(e){return e&&e._delegate?e._delegate:e}class _h{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vnt=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new hC;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(wnt(t))try{this.getOrInitializeService({instanceIdentifier:X0})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=X0){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=X0){return this.instances.has(t)}getOptions(t=X0){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&t(s,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:bnt(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=X0){return this.component?this.component.multipleInstances?t:X0:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function bnt(e){return e===X0?void 0:e}function wnt(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xnt{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new vnt(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mn;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Mn||(Mn={}));const _nt={debug:Mn.DEBUG,verbose:Mn.VERBOSE,info:Mn.INFO,warn:Mn.WARN,error:Mn.ERROR,silent:Mn.SILENT},Ent=Mn.INFO,Snt={[Mn.DEBUG]:"log",[Mn.VERBOSE]:"log",[Mn.INFO]:"info",[Mn.WARN]:"warn",[Mn.ERROR]:"error"},Tnt=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=Snt[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class uN{constructor(t){this.name=t,this._logLevel=Ent,this._logHandler=Tnt,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?_nt[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mn.DEBUG,...t),this._logHandler(this,Mn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mn.VERBOSE,...t),this._logHandler(this,Mn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mn.INFO,...t),this._logHandler(this,Mn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mn.WARN,...t),this._logHandler(this,Mn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mn.ERROR,...t),this._logHandler(this,Mn.ERROR,...t)}}const Cnt=(e,t)=>t.some(n=>e instanceof n);let Kie,Xie;function Ant(){return Kie||(Kie=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function knt(){return Xie||(Xie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nxe=new WeakMap,V9=new WeakMap,rxe=new WeakMap,PF=new WeakMap,fq=new WeakMap;function Int(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(rg(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&nxe.set(n,e)}).catch(()=>{}),fq.set(t,e),t}function Rnt(e){if(V9.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});V9.set(e,t)}let W9={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return V9.get(e);if(t==="objectStoreNames")return e.objectStoreNames||rxe.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rg(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function $nt(e){W9=e(W9)}function Dnt(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(NF(this),t,...n);return rxe.set(r,t.sort?t.sort():[t]),rg(r)}:knt().includes(e)?function(...t){return e.apply(NF(this),t),rg(nxe.get(this))}:function(...t){return rg(e.apply(NF(this),t))}}function Mnt(e){return typeof e=="function"?Dnt(e):(e instanceof IDBTransaction&&Rnt(e),Cnt(e,Ant())?new Proxy(e,W9):e)}function rg(e){if(e instanceof IDBRequest)return Int(e);if(PF.has(e))return PF.get(e);const t=Mnt(e);return t!==e&&(PF.set(e,t),fq.set(t,e)),t}const NF=e=>fq.get(e);function Pnt(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=rg(s);return r&&s.addEventListener("upgradeneeded",l=>{r(rg(s.result),l.oldVersion,l.newVersion,rg(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const Nnt=["get","getKey","getAll","getAllKeys","count"],Ont=["put","add","delete","clear"],OF=new Map;function Qie(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(OF.get(t))return OF.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Ont.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Nnt.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return OF.set(t,o),o}$nt(e=>({...e,get:(t,n,r)=>Qie(t,n)||e.get(t,n,r),has:(t,n)=>!!Qie(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lnt{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Fnt(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Fnt(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const q9="@firebase/app",Jie="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bp=new uN("@firebase/app"),Bnt="@firebase/app-compat",jnt="@firebase/analytics-compat",znt="@firebase/analytics",Unt="@firebase/app-check-compat",Hnt="@firebase/app-check",Vnt="@firebase/auth",Wnt="@firebase/auth-compat",qnt="@firebase/database",Gnt="@firebase/data-connect",Ynt="@firebase/database-compat",Knt="@firebase/functions",Xnt="@firebase/functions-compat",Qnt="@firebase/installations",Jnt="@firebase/installations-compat",Znt="@firebase/messaging",ert="@firebase/messaging-compat",trt="@firebase/performance",nrt="@firebase/performance-compat",rrt="@firebase/remote-config",irt="@firebase/remote-config-compat",ort="@firebase/storage",srt="@firebase/storage-compat",art="@firebase/firestore",lrt="@firebase/vertexai",urt="@firebase/firestore-compat",crt="firebase",drt="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G9="[DEFAULT]",hrt={[q9]:"fire-core",[Bnt]:"fire-core-compat",[znt]:"fire-analytics",[jnt]:"fire-analytics-compat",[Hnt]:"fire-app-check",[Unt]:"fire-app-check-compat",[Vnt]:"fire-auth",[Wnt]:"fire-auth-compat",[qnt]:"fire-rtdb",[Gnt]:"fire-data-connect",[Ynt]:"fire-rtdb-compat",[Knt]:"fire-fn",[Xnt]:"fire-fn-compat",[Qnt]:"fire-iid",[Jnt]:"fire-iid-compat",[Znt]:"fire-fcm",[ert]:"fire-fcm-compat",[trt]:"fire-perf",[nrt]:"fire-perf-compat",[rrt]:"fire-rc",[irt]:"fire-rc-compat",[ort]:"fire-gcs",[srt]:"fire-gcs-compat",[art]:"fire-fst",[urt]:"fire-fst-compat",[lrt]:"fire-vertex","fire-js":"fire-js",[crt]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T$=new Map,frt=new Map,Y9=new Map;function Zie(e,t){try{e.container.addComponent(t)}catch(n){bp.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function wp(e){const t=e.name;if(Y9.has(t))return bp.debug(`There were multiple attempts to register component ${t}.`),!1;Y9.set(t,e);for(const n of T$.values())Zie(n,e);for(const n of frt.values())Zie(n,e);return!0}function u_(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Fl(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const prt={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ig=new l_("app","Firebase",prt);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mrt{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _h("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ig.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv=drt;function ixe(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:G9,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw ig.create("bad-app-name",{appName:String(i)});if(n||(n=exe()),!n)throw ig.create("no-options");const o=T$.get(i);if(o){if(Jy(n,o.options)&&Jy(r,o.config))return o;throw ig.create("duplicate-app",{appName:i})}const s=new xnt(i);for(const l of Y9.values())s.addComponent(l);const a=new mrt(n,r,s);return T$.set(i,a),a}function pq(e=G9){const t=T$.get(e);if(!t&&e===G9&&exe())return ixe();if(!t)throw ig.create("no-app",{appName:e});return t}function Yc(e,t,n){var r;let i=(r=hrt[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${t}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),bp.warn(a.join(" "));return}wp(new _h(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const grt="firebase-heartbeat-database",yrt=1,fC="firebase-heartbeat-store";let LF=null;function oxe(){return LF||(LF=Pnt(grt,yrt,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(fC)}catch(n){console.warn(n)}}}}).catch(e=>{throw ig.create("idb-open",{originalErrorMessage:e.message})})),LF}async function vrt(e){try{const n=(await oxe()).transaction(fC),r=await n.objectStore(fC).get(sxe(e));return await n.done,r}catch(t){if(t instanceof Uh)bp.warn(t.message);else{const n=ig.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});bp.warn(n.message)}}}async function eoe(e,t){try{const r=(await oxe()).transaction(fC,"readwrite");await r.objectStore(fC).put(t,sxe(e)),await r.done}catch(n){if(n instanceof Uh)bp.warn(n.message);else{const r=ig.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});bp.warn(r.message)}}}function sxe(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const brt=1024,wrt=30;class xrt{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ert(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=toe();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>wrt){const s=Srt(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){bp.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=toe(),{heartbeatsToSend:r,unsentEntries:i}=_rt(this._heartbeatsCache.heartbeats),o=S$(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return bp.warn(n),""}}}function toe(){return new Date().toISOString().substring(0,10)}function _rt(e,t=brt){const n=[];let r=e.slice();for(const i of e){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),noe(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),noe(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Ert{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hq()?ont().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await vrt(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return eoe(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return eoe(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function noe(e){return S$(JSON.stringify({version:2,heartbeats:e})).length}function Srt(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Trt(e){wp(new _h("platform-logger",t=>new Lnt(t),"PRIVATE")),wp(new _h("heartbeat",t=>new xrt(t),"PRIVATE")),Yc(q9,Jie,e),Yc(q9,Jie,"esm2017"),Yc("fire-js","")}Trt("");var Crt="firebase",Art="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yc(Crt,Art,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const axe="firebasestorage.googleapis.com",lxe="storageBucket",krt=2*60*1e3,Irt=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends Uh{constructor(t,n,r=0){super(FF(t),`Firebase Storage: ${n} (${FF(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ti.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return FF(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ei;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ei||(Ei={}));function FF(e){return"storage/"+e}function mq(){const e="An unknown error occurred, please check the error payload for server response.";return new Ti(Ei.UNKNOWN,e)}function Rrt(e){return new Ti(Ei.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function $rt(e){return new Ti(Ei.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Drt(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ti(Ei.UNAUTHENTICATED,e)}function Mrt(){return new Ti(Ei.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Prt(e){return new Ti(Ei.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function Nrt(){return new Ti(Ei.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ort(){return new Ti(Ei.CANCELED,"User canceled the upload/download.")}function Lrt(e){return new Ti(Ei.INVALID_URL,"Invalid URL '"+e+"'.")}function Frt(e){return new Ti(Ei.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function Brt(){return new Ti(Ei.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+lxe+"' property when initializing the app?")}function jrt(){return new Ti(Ei.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function zrt(){return new Ti(Ei.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Urt(e){return new Ti(Ei.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function K9(e){return new Ti(Ei.INVALID_ARGUMENT,e)}function uxe(){return new Ti(Ei.APP_DELETED,"The Firebase app was deleted.")}function Hrt(e){return new Ti(Ei.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function lT(e,t){return new Ti(Ei.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function mE(e){throw new Ti(Ei.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=Ca.makeFromUrl(t,n)}catch{return new Ca(t,"")}if(r.path==="")return r;throw Frt(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(_){_.path.charAt(_.path.length-1)==="/"&&(_.path_=_.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function u(_){_.path_=decodeURIComponent(_.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",f=new RegExp(`^https?://${d}/${c}/b/${i}/o${h}`,"i"),p={bucket:1,path:3},m=n===axe?"(?:storage.googleapis.com|storage.cloud.google.com)":n,g="([^?#]*)",y=new RegExp(`^https?://${m}/${i}/${g}`,"i"),b=[{regex:a,indices:l,postModify:o},{regex:f,indices:p,postModify:u},{regex:y,indices:{bucket:1,path:2},postModify:u}];for(let _=0;_<b.length;_++){const x=b[_],w=x.regex.exec(t);if(w){const E=w[x.indices.bucket];let S=w[x.indices.path];S||(S=""),r=new Ca(E,S),x.postModify(r);break}}if(r==null)throw Lrt(t);return r}}class Vrt{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wrt(e,t,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let u=!1;function c(...g){u||(u=!0,t.apply(null,g))}function d(g){i=setTimeout(()=>{i=null,e(f,l())},g)}function h(){o&&clearTimeout(o)}function f(g,...y){if(u){h();return}if(g){h(),c.call(null,g,...y);return}if(l()||s){h(),c.call(null,g,...y);return}r<64&&(r*=2);let b;a===1?(a=2,b=0):b=(r+Math.random())*1e3,d(b)}let p=!1;function m(g){p||(p=!0,h(),!u&&(i!==null?(g||(a=2),clearTimeout(i),d(0)):g||(a=1)))}return d(0),o=setTimeout(()=>{s=!0,m(!0)},n),m}function qrt(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Grt(e){return e!==void 0}function Yrt(e){return typeof e=="object"&&!Array.isArray(e)}function gq(e){return typeof e=="string"||e instanceof String}function roe(e){return yq()&&e instanceof Blob}function yq(){return typeof Blob<"u"}function X9(e,t,n,r){if(r<t)throw K9(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw K9(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function cxe(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Py;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Py||(Py={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Krt(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,o=t.indexOf(e)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xrt{constructor(t,n,r,i,o,s,a,l,u,c,d,h=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new qk(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===Py.NO_ERROR,l=o.getStatus();if(!a||Krt(l,this.additionalRetryCodes_)&&this.retry){const c=o.getErrorCode()===Py.ABORT;r(!1,new qk(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new qk(u,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Grt(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=mq();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?uxe():Ort();s(l)}else{const l=Nrt();s(l)}};this.canceled_?n(!1,new qk(!1,null,!0)):this.backoffId_=Wrt(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&qrt(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class qk{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function Qrt(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function Jrt(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function Zrt(e,t){t&&(e["X-Firebase-GMPID"]=t)}function eit(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function tit(e,t,n,r,i,o,s=!0){const a=cxe(e.urlParams),l=e.url+a,u=Object.assign({},e.headers);return Zrt(u,t),Qrt(u,n),Jrt(u,o),eit(u,r),new Xrt(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nit(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function rit(...e){const t=nit();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(yq())return new Blob(e);throw new Ti(Ei.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function iit(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oit(e){if(typeof atob>"u")throw Urt("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class BF{constructor(t,n){this.data=t,this.contentType=n||null}}function sit(e,t){switch(e){case Jd.RAW:return new BF(dxe(t));case Jd.BASE64:case Jd.BASE64URL:return new BF(hxe(e,t));case Jd.DATA_URL:return new BF(lit(t),uit(t))}throw mq()}function dxe(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const o=r,s=e.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function ait(e){let t;try{t=decodeURIComponent(e)}catch{throw lT(Jd.DATA_URL,"Malformed data URL.")}return dxe(t)}function hxe(e,t){switch(e){case Jd.BASE64:{const i=t.indexOf("-")!==-1,o=t.indexOf("_")!==-1;if(i||o)throw lT(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Jd.BASE64URL:{const i=t.indexOf("+")!==-1,o=t.indexOf("/")!==-1;if(i||o)throw lT(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=oit(t)}catch(i){throw i.message.includes("polyfill")?i:lT(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class fxe{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw lT(Jd.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=cit(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function lit(e){const t=new fxe(e);return t.base64?hxe(Jd.BASE64,t.rest):ait(t.rest)}function uit(e){return new fxe(e).contentType}function cit(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(t,n){let r=0,i="";roe(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,n){if(roe(this.data_)){const r=this.data_,i=iit(r,t,n);return i===null?null:new Cm(i)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new Cm(r,!0)}}static getBlob(...t){if(yq()){const n=t.map(r=>r instanceof Cm?r.data_:r);return new Cm(rit.apply(null,n))}else{const n=t.map(s=>gq(s)?sit(Jd.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new Cm(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vq(e){let t;try{t=JSON.parse(e)}catch{return null}return Yrt(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dit(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function hit(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function pxe(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fit(e,t){return t}class pa{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||fit}}let Gk=null;function pit(e){return!gq(e)||e.length<2?e:pxe(e)}function mxe(){if(Gk)return Gk;const e=[];e.push(new pa("bucket")),e.push(new pa("generation")),e.push(new pa("metageneration")),e.push(new pa("name","fullPath",!0));function t(o,s){return pit(s)}const n=new pa("name");n.xform=t,e.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new pa("size");return i.xform=r,e.push(i),e.push(new pa("timeCreated")),e.push(new pa("updated")),e.push(new pa("md5Hash",null,!0)),e.push(new pa("cacheControl",null,!0)),e.push(new pa("contentDisposition",null,!0)),e.push(new pa("contentEncoding",null,!0)),e.push(new pa("contentLanguage",null,!0)),e.push(new pa("contentType",null,!0)),e.push(new pa("metadata","customMetadata",!0)),Gk=e,Gk}function mit(e,t){function n(){const r=e.bucket,i=e.fullPath,o=new Ca(r,i);return t._makeStorageReference(o)}Object.defineProperty(e,"ref",{get:n})}function git(e,t,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,t[s.server])}return mit(r,e),r}function gxe(e,t,n){const r=vq(t);return r===null?null:git(e,r,n)}function yit(e,t,n,r){const i=vq(t);if(i===null||!gq(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(u=>{const c=e.bucket,d=e.fullPath,h="/b/"+s(c)+"/o/"+s(d),f=GA(h,n,r),p=cxe({alt:"media",token:u});return f+p})[0]}function vit(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ioe="prefixes",ooe="items";function bit(e,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[ioe])for(const i of n[ioe]){const o=i.replace(/\/$/,""),s=e._makeStorageReference(new Ca(t,o));r.prefixes.push(s)}if(n[ooe])for(const i of n[ooe]){const o=e._makeStorageReference(new Ca(t,i.name));r.items.push(o)}return r}function wit(e,t,n){const r=vq(n);return r===null?null:bit(e,t,r)}class cN{constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bq(e){if(!e)throw mq()}function xit(e,t){function n(r,i){const o=gxe(e,i,t);return bq(o!==null),o}return n}function _it(e,t){function n(r,i){const o=wit(e,t,i);return bq(o!==null),o}return n}function Eit(e,t){function n(r,i){const o=gxe(e,i,t);return bq(o!==null),yit(o,i,e.host,e._protocol)}return n}function wq(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Mrt():i=Drt():n.getStatus()===402?i=$rt(e.bucket):n.getStatus()===403?i=Prt(e.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return t}function yxe(e){const t=wq(e);function n(r,i){let o=t(r,i);return r.getStatus()===404&&(o=Rrt(e.path)),o.serverResponse=i.serverResponse,o}return n}function Sit(e,t,n,r,i){const o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);const s=t.bucketOnlyServerUrl(),a=GA(s,e.host,e._protocol),l="GET",u=e.maxOperationRetryTime,c=new cN(a,l,_it(e,t.bucket),u);return c.urlParams=o,c.errorHandler=wq(t),c}function Tit(e,t,n){const r=t.fullServerUrl(),i=GA(r,e.host,e._protocol),o="GET",s=e.maxOperationRetryTime,a=new cN(i,o,Eit(e,n),s);return a.errorHandler=yxe(t),a}function Cit(e,t){const n=t.fullServerUrl(),r=GA(n,e.host,e._protocol),i="DELETE",o=e.maxOperationRetryTime;function s(l,u){}const a=new cN(r,i,s,o);return a.successCodes=[200,204],a.errorHandler=yxe(t),a}function Ait(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function kit(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=Ait(null,t)),r}function Iit(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let b="";for(let _=0;_<2;_++)b=b+Math.random().toString().slice(2);return b}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const u=kit(t,r,i),c=vit(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",f=Cm.getBlob(d,r,h);if(f===null)throw jrt();const p={name:u.fullPath},m=GA(o,e.host,e._protocol),g="POST",y=e.maxUploadRetryTime,v=new cN(m,g,xit(e,n),y);return v.urlParams=p,v.headers=s,v.body=f.uploadData(),v.errorHandler=wq(t),v}class Rit{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Py.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Py.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Py.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i){if(this.sent_)throw mE("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw mE("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw mE("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw mE("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw mE("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class $it extends Rit{initXhr(){this.xhr_.responseType="text"}}function dN(){return new $it}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(t,n){this._service=t,n instanceof Ca?this._location=n:this._location=Ca.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Zy(t,n)}get root(){const t=new Ca(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return pxe(this._location.path)}get storage(){return this._service}get parent(){const t=dit(this._location.path);if(t===null)return null;const n=new Ca(this._location.bucket,t);return new Zy(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw Hrt(t)}}function Dit(e,t,n){e._throwIfRoot("uploadBytes");const r=Iit(e.storage,e._location,mxe(),new Cm(t,!0),n);return e.storage.makeRequestWithTokens(r,dN).then(i=>({metadata:i,ref:e}))}function Mit(e){const t={prefixes:[],items:[]};return vxe(e,t).then(()=>t)}async function vxe(e,t,n){const i=await Pit(e,{pageToken:n});t.prefixes.push(...i.prefixes),t.items.push(...i.items),i.nextPageToken!=null&&await vxe(e,t,i.nextPageToken)}function Pit(e,t){t!=null&&typeof t.maxResults=="number"&&X9("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=Sit(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,dN)}function Nit(e){e._throwIfRoot("getDownloadURL");const t=Tit(e.storage,e._location,mxe());return e.storage.makeRequestWithTokens(t,dN).then(n=>{if(n===null)throw zrt();return n})}function Oit(e){e._throwIfRoot("deleteObject");const t=Cit(e.storage,e._location);return e.storage.makeRequestWithTokens(t,dN)}function Lit(e,t){const n=hit(e._location.path,t),r=new Ca(e._location.bucket,n);return new Zy(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fit(e){return/^[A-Za-z]+:\/\//.test(e)}function Bit(e,t){return new Zy(e,t)}function bxe(e,t){if(e instanceof xq){const n=e;if(n._bucket==null)throw Brt();const r=new Zy(n,n._bucket);return t!=null?bxe(r,t):r}else return t!==void 0?Lit(e,t):e}function jit(e,t){if(t&&Fit(t)){if(e instanceof xq)return Bit(e,t);throw K9("To use ref(service, url), the first argument must be a Storage instance.")}else return bxe(e,t)}function soe(e,t){const n=t==null?void 0:t[lxe];return n==null?null:Ca.makeFromBucketSpec(n,e)}function zit(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i=="string"?i:Qtt(i,e.app.options.projectId))}class xq{constructor(t,n,r,i,o){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=axe,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=krt,this._maxUploadRetryTime=Irt,this._requests=new Set,i!=null?this._bucket=Ca.makeFromBucketSpec(i,this._host):this._bucket=soe(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Ca.makeFromBucketSpec(this._url,t):this._bucket=soe(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){X9("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){X9("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Fl(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Zy(this,t)}_makeRequest(t,n,r,i,o=!0){if(this._deleted)return new Vrt(uxe());{const s=tit(t,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const aoe="@firebase/storage",loe="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wxe="storage";function Yk(e,t,n){return e=Lr(e),Dit(e,t,n)}function gE(e){return e=Lr(e),Mit(e)}function Kk(e){return e=Lr(e),Nit(e)}function uoe(e){return e=Lr(e),Oit(e)}function $l(e,t){return e=Lr(e),jit(e,t)}function coe(e=pq(),t){e=Lr(e);const r=u_(e,wxe).getImmediate({identifier:t}),i=Xtt("storage");return i&&Uit(r,...i),r}function Uit(e,t,n,r={}){zit(e,t,n,r)}function Hit(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new xq(n,r,i,t,Qv)}function Vit(){wp(new _h(wxe,Hit,"PUBLIC").setMultipleInstances(!0)),Yc(aoe,loe,""),Yc(aoe,loe,"esm2017")}Vit();var doe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var og,xxe;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(E,S){function T(){}T.prototype=S.prototype,E.D=S.prototype,E.prototype=new T,E.prototype.constructor=E,E.C=function(C,D,$){for(var I=Array(arguments.length-2),R=2;R<arguments.length;R++)I[R-2]=arguments[R];return S.prototype[D].apply(C,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,S,T){T||(T=0);var C=Array(16);if(typeof S=="string")for(var D=0;16>D;++D)C[D]=S.charCodeAt(T++)|S.charCodeAt(T++)<<8|S.charCodeAt(T++)<<16|S.charCodeAt(T++)<<24;else for(D=0;16>D;++D)C[D]=S[T++]|S[T++]<<8|S[T++]<<16|S[T++]<<24;S=E.g[0],T=E.g[1],D=E.g[2];var $=E.g[3],I=S+($^T&(D^$))+C[0]+3614090360&4294967295;S=T+(I<<7&4294967295|I>>>25),I=$+(D^S&(T^D))+C[1]+3905402710&4294967295,$=S+(I<<12&4294967295|I>>>20),I=D+(T^$&(S^T))+C[2]+606105819&4294967295,D=$+(I<<17&4294967295|I>>>15),I=T+(S^D&($^S))+C[3]+3250441966&4294967295,T=D+(I<<22&4294967295|I>>>10),I=S+($^T&(D^$))+C[4]+4118548399&4294967295,S=T+(I<<7&4294967295|I>>>25),I=$+(D^S&(T^D))+C[5]+1200080426&4294967295,$=S+(I<<12&4294967295|I>>>20),I=D+(T^$&(S^T))+C[6]+2821735955&4294967295,D=$+(I<<17&4294967295|I>>>15),I=T+(S^D&($^S))+C[7]+4249261313&4294967295,T=D+(I<<22&4294967295|I>>>10),I=S+($^T&(D^$))+C[8]+1770035416&4294967295,S=T+(I<<7&4294967295|I>>>25),I=$+(D^S&(T^D))+C[9]+2336552879&4294967295,$=S+(I<<12&4294967295|I>>>20),I=D+(T^$&(S^T))+C[10]+4294925233&4294967295,D=$+(I<<17&4294967295|I>>>15),I=T+(S^D&($^S))+C[11]+2304563134&4294967295,T=D+(I<<22&4294967295|I>>>10),I=S+($^T&(D^$))+C[12]+1804603682&4294967295,S=T+(I<<7&4294967295|I>>>25),I=$+(D^S&(T^D))+C[13]+4254626195&4294967295,$=S+(I<<12&4294967295|I>>>20),I=D+(T^$&(S^T))+C[14]+2792965006&4294967295,D=$+(I<<17&4294967295|I>>>15),I=T+(S^D&($^S))+C[15]+1236535329&4294967295,T=D+(I<<22&4294967295|I>>>10),I=S+(D^$&(T^D))+C[1]+4129170786&4294967295,S=T+(I<<5&4294967295|I>>>27),I=$+(T^D&(S^T))+C[6]+3225465664&4294967295,$=S+(I<<9&4294967295|I>>>23),I=D+(S^T&($^S))+C[11]+643717713&4294967295,D=$+(I<<14&4294967295|I>>>18),I=T+($^S&(D^$))+C[0]+3921069994&4294967295,T=D+(I<<20&4294967295|I>>>12),I=S+(D^$&(T^D))+C[5]+3593408605&4294967295,S=T+(I<<5&4294967295|I>>>27),I=$+(T^D&(S^T))+C[10]+38016083&4294967295,$=S+(I<<9&4294967295|I>>>23),I=D+(S^T&($^S))+C[15]+3634488961&4294967295,D=$+(I<<14&4294967295|I>>>18),I=T+($^S&(D^$))+C[4]+3889429448&4294967295,T=D+(I<<20&4294967295|I>>>12),I=S+(D^$&(T^D))+C[9]+568446438&4294967295,S=T+(I<<5&4294967295|I>>>27),I=$+(T^D&(S^T))+C[14]+3275163606&4294967295,$=S+(I<<9&4294967295|I>>>23),I=D+(S^T&($^S))+C[3]+4107603335&4294967295,D=$+(I<<14&4294967295|I>>>18),I=T+($^S&(D^$))+C[8]+1163531501&4294967295,T=D+(I<<20&4294967295|I>>>12),I=S+(D^$&(T^D))+C[13]+2850285829&4294967295,S=T+(I<<5&4294967295|I>>>27),I=$+(T^D&(S^T))+C[2]+4243563512&4294967295,$=S+(I<<9&4294967295|I>>>23),I=D+(S^T&($^S))+C[7]+1735328473&4294967295,D=$+(I<<14&4294967295|I>>>18),I=T+($^S&(D^$))+C[12]+2368359562&4294967295,T=D+(I<<20&4294967295|I>>>12),I=S+(T^D^$)+C[5]+4294588738&4294967295,S=T+(I<<4&4294967295|I>>>28),I=$+(S^T^D)+C[8]+2272392833&4294967295,$=S+(I<<11&4294967295|I>>>21),I=D+($^S^T)+C[11]+1839030562&4294967295,D=$+(I<<16&4294967295|I>>>16),I=T+(D^$^S)+C[14]+4259657740&4294967295,T=D+(I<<23&4294967295|I>>>9),I=S+(T^D^$)+C[1]+2763975236&4294967295,S=T+(I<<4&4294967295|I>>>28),I=$+(S^T^D)+C[4]+1272893353&4294967295,$=S+(I<<11&4294967295|I>>>21),I=D+($^S^T)+C[7]+4139469664&4294967295,D=$+(I<<16&4294967295|I>>>16),I=T+(D^$^S)+C[10]+3200236656&4294967295,T=D+(I<<23&4294967295|I>>>9),I=S+(T^D^$)+C[13]+681279174&4294967295,S=T+(I<<4&4294967295|I>>>28),I=$+(S^T^D)+C[0]+3936430074&4294967295,$=S+(I<<11&4294967295|I>>>21),I=D+($^S^T)+C[3]+3572445317&4294967295,D=$+(I<<16&4294967295|I>>>16),I=T+(D^$^S)+C[6]+76029189&4294967295,T=D+(I<<23&4294967295|I>>>9),I=S+(T^D^$)+C[9]+3654602809&4294967295,S=T+(I<<4&4294967295|I>>>28),I=$+(S^T^D)+C[12]+3873151461&4294967295,$=S+(I<<11&4294967295|I>>>21),I=D+($^S^T)+C[15]+530742520&4294967295,D=$+(I<<16&4294967295|I>>>16),I=T+(D^$^S)+C[2]+3299628645&4294967295,T=D+(I<<23&4294967295|I>>>9),I=S+(D^(T|~$))+C[0]+4096336452&4294967295,S=T+(I<<6&4294967295|I>>>26),I=$+(T^(S|~D))+C[7]+1126891415&4294967295,$=S+(I<<10&4294967295|I>>>22),I=D+(S^($|~T))+C[14]+2878612391&4294967295,D=$+(I<<15&4294967295|I>>>17),I=T+($^(D|~S))+C[5]+4237533241&4294967295,T=D+(I<<21&4294967295|I>>>11),I=S+(D^(T|~$))+C[12]+1700485571&4294967295,S=T+(I<<6&4294967295|I>>>26),I=$+(T^(S|~D))+C[3]+2399980690&4294967295,$=S+(I<<10&4294967295|I>>>22),I=D+(S^($|~T))+C[10]+4293915773&4294967295,D=$+(I<<15&4294967295|I>>>17),I=T+($^(D|~S))+C[1]+2240044497&4294967295,T=D+(I<<21&4294967295|I>>>11),I=S+(D^(T|~$))+C[8]+1873313359&4294967295,S=T+(I<<6&4294967295|I>>>26),I=$+(T^(S|~D))+C[15]+4264355552&4294967295,$=S+(I<<10&4294967295|I>>>22),I=D+(S^($|~T))+C[6]+2734768916&4294967295,D=$+(I<<15&4294967295|I>>>17),I=T+($^(D|~S))+C[13]+1309151649&4294967295,T=D+(I<<21&4294967295|I>>>11),I=S+(D^(T|~$))+C[4]+4149444226&4294967295,S=T+(I<<6&4294967295|I>>>26),I=$+(T^(S|~D))+C[11]+3174756917&4294967295,$=S+(I<<10&4294967295|I>>>22),I=D+(S^($|~T))+C[2]+718787259&4294967295,D=$+(I<<15&4294967295|I>>>17),I=T+($^(D|~S))+C[9]+3951481745&4294967295,E.g[0]=E.g[0]+S&4294967295,E.g[1]=E.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,E.g[2]=E.g[2]+D&4294967295,E.g[3]=E.g[3]+$&4294967295}r.prototype.u=function(E,S){S===void 0&&(S=E.length);for(var T=S-this.blockSize,C=this.B,D=this.h,$=0;$<S;){if(D==0)for(;$<=T;)i(this,E,$),$+=this.blockSize;if(typeof E=="string"){for(;$<S;)if(C[D++]=E.charCodeAt($++),D==this.blockSize){i(this,C),D=0;break}}else for(;$<S;)if(C[D++]=E[$++],D==this.blockSize){i(this,C),D=0;break}}this.h=D,this.o+=S},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var S=1;S<E.length-8;++S)E[S]=0;var T=8*this.o;for(S=E.length-8;S<E.length;++S)E[S]=T&255,T/=256;for(this.u(E),E=Array(16),S=T=0;4>S;++S)for(var C=0;32>C;C+=8)E[T++]=this.g[S]>>>C&255;return E};function o(E,S){var T=a;return Object.prototype.hasOwnProperty.call(T,E)?T[E]:T[E]=S(E)}function s(E,S){this.h=S;for(var T=[],C=!0,D=E.length-1;0<=D;D--){var $=E[D]|0;C&&$==S||(T[D]=$,C=!1)}this.g=T}var a={};function l(E){return-128<=E&&128>E?o(E,function(S){return new s([S|0],0>S?-1:0)}):new s([E|0],0>E?-1:0)}function u(E){if(isNaN(E)||!isFinite(E))return d;if(0>E)return g(u(-E));for(var S=[],T=1,C=0;E>=T;C++)S[C]=E/T|0,T*=4294967296;return new s(S,0)}function c(E,S){if(E.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(E.charAt(0)=="-")return g(c(E.substring(1),S));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=u(Math.pow(S,8)),C=d,D=0;D<E.length;D+=8){var $=Math.min(8,E.length-D),I=parseInt(E.substring(D,D+$),S);8>$?($=u(Math.pow(S,$)),C=C.j($).add(u(I))):(C=C.j(T),C=C.add(u(I)))}return C}var d=l(0),h=l(1),f=l(16777216);e=s.prototype,e.m=function(){if(m(this))return-g(this).m();for(var E=0,S=1,T=0;T<this.g.length;T++){var C=this.i(T);E+=(0<=C?C:4294967296+C)*S,S*=4294967296}return E},e.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(p(this))return"0";if(m(this))return"-"+g(this).toString(E);for(var S=u(Math.pow(E,6)),T=this,C="";;){var D=_(T,S).g;T=y(T,D.j(S));var $=((0<T.g.length?T.g[0]:T.h)>>>0).toString(E);if(T=D,p(T))return $+C;for(;6>$.length;)$="0"+$;C=$+C}},e.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function p(E){if(E.h!=0)return!1;for(var S=0;S<E.g.length;S++)if(E.g[S]!=0)return!1;return!0}function m(E){return E.h==-1}e.l=function(E){return E=y(this,E),m(E)?-1:p(E)?0:1};function g(E){for(var S=E.g.length,T=[],C=0;C<S;C++)T[C]=~E.g[C];return new s(T,~E.h).add(h)}e.abs=function(){return m(this)?g(this):this},e.add=function(E){for(var S=Math.max(this.g.length,E.g.length),T=[],C=0,D=0;D<=S;D++){var $=C+(this.i(D)&65535)+(E.i(D)&65535),I=($>>>16)+(this.i(D)>>>16)+(E.i(D)>>>16);C=I>>>16,$&=65535,I&=65535,T[D]=I<<16|$}return new s(T,T[T.length-1]&-2147483648?-1:0)};function y(E,S){return E.add(g(S))}e.j=function(E){if(p(this)||p(E))return d;if(m(this))return m(E)?g(this).j(g(E)):g(g(this).j(E));if(m(E))return g(this.j(g(E)));if(0>this.l(f)&&0>E.l(f))return u(this.m()*E.m());for(var S=this.g.length+E.g.length,T=[],C=0;C<2*S;C++)T[C]=0;for(C=0;C<this.g.length;C++)for(var D=0;D<E.g.length;D++){var $=this.i(C)>>>16,I=this.i(C)&65535,R=E.i(D)>>>16,A=E.i(D)&65535;T[2*C+2*D]+=I*A,v(T,2*C+2*D),T[2*C+2*D+1]+=$*A,v(T,2*C+2*D+1),T[2*C+2*D+1]+=I*R,v(T,2*C+2*D+1),T[2*C+2*D+2]+=$*R,v(T,2*C+2*D+2)}for(C=0;C<S;C++)T[C]=T[2*C+1]<<16|T[2*C];for(C=S;C<2*S;C++)T[C]=0;return new s(T,0)};function v(E,S){for(;(E[S]&65535)!=E[S];)E[S+1]+=E[S]>>>16,E[S]&=65535,S++}function b(E,S){this.g=E,this.h=S}function _(E,S){if(p(S))throw Error("division by zero");if(p(E))return new b(d,d);if(m(E))return S=_(g(E),S),new b(g(S.g),g(S.h));if(m(S))return S=_(E,g(S)),new b(g(S.g),S.h);if(30<E.g.length){if(m(E)||m(S))throw Error("slowDivide_ only works with positive integers.");for(var T=h,C=S;0>=C.l(E);)T=x(T),C=x(C);var D=w(T,1),$=w(C,1);for(C=w(C,2),T=w(T,2);!p(C);){var I=$.add(C);0>=I.l(E)&&(D=D.add(T),$=I),C=w(C,1),T=w(T,1)}return S=y(E,D.j(S)),new b(D,S)}for(D=d;0<=E.l(S);){for(T=Math.max(1,Math.floor(E.m()/S.m())),C=Math.ceil(Math.log(T)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),$=u(T),I=$.j(S);m(I)||0<I.l(E);)T-=C,$=u(T),I=$.j(S);p($)&&($=h),D=D.add($),E=y(E,I)}return new b(D,E)}e.A=function(E){return _(this,E).h},e.and=function(E){for(var S=Math.max(this.g.length,E.g.length),T=[],C=0;C<S;C++)T[C]=this.i(C)&E.i(C);return new s(T,this.h&E.h)},e.or=function(E){for(var S=Math.max(this.g.length,E.g.length),T=[],C=0;C<S;C++)T[C]=this.i(C)|E.i(C);return new s(T,this.h|E.h)},e.xor=function(E){for(var S=Math.max(this.g.length,E.g.length),T=[],C=0;C<S;C++)T[C]=this.i(C)^E.i(C);return new s(T,this.h^E.h)};function x(E){for(var S=E.g.length+1,T=[],C=0;C<S;C++)T[C]=E.i(C)<<1|E.i(C-1)>>>31;return new s(T,E.h)}function w(E,S){var T=S>>5;S%=32;for(var C=E.g.length-T,D=[],$=0;$<C;$++)D[$]=0<S?E.i($+T)>>>S|E.i($+T+1)<<32-S:E.i($+T);return new s(D,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,xxe=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,og=s}).apply(typeof doe<"u"?doe:typeof self<"u"?self:typeof window<"u"?window:{});var Xk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _xe,rS,Exe,LI,Q9,Sxe,Txe,Cxe;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(P,q,Y){return P==Array.prototype||P==Object.prototype||(P[q]=Y.value),P};function n(P){P=[typeof globalThis=="object"&&globalThis,P,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xk=="object"&&Xk];for(var q=0;q<P.length;++q){var Y=P[q];if(Y&&Y.Math==Math)return Y}throw Error("Cannot find global object")}var r=n(this);function i(P,q){if(q)e:{var Y=r;P=P.split(".");for(var Z=0;Z<P.length-1;Z++){var be=P[Z];if(!(be in Y))break e;Y=Y[be]}P=P[P.length-1],Z=Y[P],q=q(Z),q!=Z&&q!=null&&t(Y,P,{configurable:!0,writable:!0,value:q})}}function o(P,q){P instanceof String&&(P+="");var Y=0,Z=!1,be={next:function(){if(!Z&&Y<P.length){var Te=Y++;return{value:q(Te,P[Te]),done:!1}}return Z=!0,{done:!0,value:void 0}}};return be[Symbol.iterator]=function(){return be},be}i("Array.prototype.values",function(P){return P||function(){return o(this,function(q,Y){return Y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(P){var q=typeof P;return q=q!="object"?q:P?Array.isArray(P)?"array":q:"null",q=="array"||q=="object"&&typeof P.length=="number"}function u(P){var q=typeof P;return q=="object"&&P!=null||q=="function"}function c(P,q,Y){return P.call.apply(P.bind,arguments)}function d(P,q,Y){if(!P)throw Error();if(2<arguments.length){var Z=Array.prototype.slice.call(arguments,2);return function(){var be=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(be,Z),P.apply(q,be)}}return function(){return P.apply(q,arguments)}}function h(P,q,Y){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,h.apply(null,arguments)}function f(P,q){var Y=Array.prototype.slice.call(arguments,1);return function(){var Z=Y.slice();return Z.push.apply(Z,arguments),P.apply(this,Z)}}function p(P,q){function Y(){}Y.prototype=q.prototype,P.aa=q.prototype,P.prototype=new Y,P.prototype.constructor=P,P.Qb=function(Z,be,Te){for(var mt=Array(arguments.length-2),Ar=2;Ar<arguments.length;Ar++)mt[Ar-2]=arguments[Ar];return q.prototype[be].apply(Z,mt)}}function m(P){const q=P.length;if(0<q){const Y=Array(q);for(let Z=0;Z<q;Z++)Y[Z]=P[Z];return Y}return[]}function g(P,q){for(let Y=1;Y<arguments.length;Y++){const Z=arguments[Y];if(l(Z)){const be=P.length||0,Te=Z.length||0;P.length=be+Te;for(let mt=0;mt<Te;mt++)P[be+mt]=Z[mt]}else P.push(Z)}}class y{constructor(q,Y){this.i=q,this.j=Y,this.h=0,this.g=null}get(){let q;return 0<this.h?(this.h--,q=this.g,this.g=q.next,q.next=null):q=this.i(),q}}function v(P){return/^[\s\xa0]*$/.test(P)}function b(){var P=a.navigator;return P&&(P=P.userAgent)?P:""}function _(P){return _[" "](P),P}_[" "]=function(){};var x=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function w(P,q,Y){for(const Z in P)q.call(Y,P[Z],Z,P)}function E(P,q){for(const Y in P)q.call(void 0,P[Y],Y,P)}function S(P){const q={};for(const Y in P)q[Y]=P[Y];return q}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(P,q){let Y,Z;for(let be=1;be<arguments.length;be++){Z=arguments[be];for(Y in Z)P[Y]=Z[Y];for(let Te=0;Te<T.length;Te++)Y=T[Te],Object.prototype.hasOwnProperty.call(Z,Y)&&(P[Y]=Z[Y])}}function D(P){var q=1;P=P.split(":");const Y=[];for(;0<q&&P.length;)Y.push(P.shift()),q--;return P.length&&Y.push(P.join(":")),Y}function $(P){a.setTimeout(()=>{throw P},0)}function I(){var P=z;let q=null;return P.g&&(q=P.g,P.g=P.g.next,P.g||(P.h=null),q.next=null),q}class R{constructor(){this.h=this.g=null}add(q,Y){const Z=A.get();Z.set(q,Y),this.h?this.h.next=Z:this.g=Z,this.h=Z}}var A=new y(()=>new M,P=>P.reset());class M{constructor(){this.next=this.g=this.h=null}set(q,Y){this.h=q,this.g=Y,this.next=null}reset(){this.next=this.g=this.h=null}}let N,L=!1,z=new R,F=()=>{const P=a.Promise.resolve(void 0);N=()=>{P.then(j)}};var j=()=>{for(var P;P=I();){try{P.h.call(P.g)}catch(Y){$(Y)}var q=A;q.j(P),100>q.h&&(q.h++,P.next=q.g,q.g=P)}L=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(P,q){this.type=P,this.g=this.target=q,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var H=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var P=!1,q=Object.defineProperty({},"passive",{get:function(){P=!0}});try{const Y=()=>{};a.addEventListener("test",Y,q),a.removeEventListener("test",Y,q)}catch{}return P}();function V(P,q){if(B.call(this,P?P.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,P){var Y=this.type=P.type,Z=P.changedTouches&&P.changedTouches.length?P.changedTouches[0]:null;if(this.target=P.target||P.srcElement,this.g=q,q=P.relatedTarget){if(x){e:{try{_(q.nodeName);var be=!0;break e}catch{}be=!1}be||(q=null)}}else Y=="mouseover"?q=P.fromElement:Y=="mouseout"&&(q=P.toElement);this.relatedTarget=q,Z?(this.clientX=Z.clientX!==void 0?Z.clientX:Z.pageX,this.clientY=Z.clientY!==void 0?Z.clientY:Z.pageY,this.screenX=Z.screenX||0,this.screenY=Z.screenY||0):(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0),this.button=P.button,this.key=P.key||"",this.ctrlKey=P.ctrlKey,this.altKey=P.altKey,this.shiftKey=P.shiftKey,this.metaKey=P.metaKey,this.pointerId=P.pointerId||0,this.pointerType=typeof P.pointerType=="string"?P.pointerType:G[P.pointerType]||"",this.state=P.state,this.i=P,P.defaultPrevented&&V.aa.h.call(this)}}p(V,B);var G={2:"touch",3:"pen",4:"mouse"};V.prototype.h=function(){V.aa.h.call(this);var P=this.i;P.preventDefault?P.preventDefault():P.returnValue=!1};var ne="closure_listenable_"+(1e6*Math.random()|0),X=0;function te(P,q,Y,Z,be){this.listener=P,this.proxy=null,this.src=q,this.type=Y,this.capture=!!Z,this.ha=be,this.key=++X,this.da=this.fa=!1}function se(P){P.da=!0,P.listener=null,P.proxy=null,P.src=null,P.ha=null}function ve(P){this.src=P,this.g={},this.h=0}ve.prototype.add=function(P,q,Y,Z,be){var Te=P.toString();P=this.g[Te],P||(P=this.g[Te]=[],this.h++);var mt=Ge(P,q,Z,be);return-1<mt?(q=P[mt],Y||(q.fa=!1)):(q=new te(q,this.src,Te,!!Z,be),q.fa=Y,P.push(q)),q};function pe(P,q){var Y=q.type;if(Y in P.g){var Z=P.g[Y],be=Array.prototype.indexOf.call(Z,q,void 0),Te;(Te=0<=be)&&Array.prototype.splice.call(Z,be,1),Te&&(se(q),P.g[Y].length==0&&(delete P.g[Y],P.h--))}}function Ge(P,q,Y,Z){for(var be=0;be<P.length;++be){var Te=P[be];if(!Te.da&&Te.listener==q&&Te.capture==!!Y&&Te.ha==Z)return be}return-1}var Ne="closure_lm_"+(1e6*Math.random()|0),Ke={};function Je(P,q,Y,Z,be){if(Array.isArray(q)){for(var Te=0;Te<q.length;Te++)Je(P,q[Te],Y,Z,be);return null}return Y=ut(Y),P&&P[ne]?P.K(q,Y,u(Z)?!!Z.capture:!1,be):Ae(P,q,Y,!1,Z,be)}function Ae(P,q,Y,Z,be,Te){if(!q)throw Error("Invalid event type");var mt=u(be)?!!be.capture:!!be,Ar=ht(P);if(Ar||(P[Ne]=Ar=new ve(P)),Y=Ar.add(q,Y,Z,mt,Te),Y.proxy)return Y;if(Z=$e(),Y.proxy=Z,Z.src=P,Z.listener=Y,P.addEventListener)H||(be=mt),be===void 0&&(be=!1),P.addEventListener(q.toString(),Z,be);else if(P.attachEvent)P.attachEvent(gt(q.toString()),Z);else if(P.addListener&&P.removeListener)P.addListener(Z);else throw Error("addEventListener and attachEvent are unavailable.");return Y}function $e(){function P(Y){return q.call(P.src,P.listener,Y)}const q=st;return P}function Ze(P,q,Y,Z,be){if(Array.isArray(q))for(var Te=0;Te<q.length;Te++)Ze(P,q[Te],Y,Z,be);else Z=u(Z)?!!Z.capture:!!Z,Y=ut(Y),P&&P[ne]?(P=P.i,q=String(q).toString(),q in P.g&&(Te=P.g[q],Y=Ge(Te,Y,Z,be),-1<Y&&(se(Te[Y]),Array.prototype.splice.call(Te,Y,1),Te.length==0&&(delete P.g[q],P.h--)))):P&&(P=ht(P))&&(q=P.g[q.toString()],P=-1,q&&(P=Ge(q,Y,Z,be)),(Y=-1<P?q[P]:null)&&lt(Y))}function lt(P){if(typeof P!="number"&&P&&!P.da){var q=P.src;if(q&&q[ne])pe(q.i,P);else{var Y=P.type,Z=P.proxy;q.removeEventListener?q.removeEventListener(Y,Z,P.capture):q.detachEvent?q.detachEvent(gt(Y),Z):q.addListener&&q.removeListener&&q.removeListener(Z),(Y=ht(q))?(pe(Y,P),Y.h==0&&(Y.src=null,q[Ne]=null)):se(P)}}}function gt(P){return P in Ke?Ke[P]:Ke[P]="on"+P}function st(P,q){if(P.da)P=!0;else{q=new V(q,this);var Y=P.listener,Z=P.ha||P.src;P.fa&&lt(P),P=Y.call(Z,q)}return P}function ht(P){return P=P[Ne],P instanceof ve?P:null}var Oe="__closure_events_fn_"+(1e9*Math.random()>>>0);function ut(P){return typeof P=="function"?P:(P[Oe]||(P[Oe]=function(q){return P.handleEvent(q)}),P[Oe])}function ee(){W.call(this),this.i=new ve(this),this.M=this,this.F=null}p(ee,W),ee.prototype[ne]=!0,ee.prototype.removeEventListener=function(P,q,Y,Z){Ze(this,P,q,Y,Z)};function he(P,q){var Y,Z=P.F;if(Z)for(Y=[];Z;Z=Z.F)Y.push(Z);if(P=P.M,Z=q.type||q,typeof q=="string")q=new B(q,P);else if(q instanceof B)q.target=q.target||P;else{var be=q;q=new B(Z,P),C(q,be)}if(be=!0,Y)for(var Te=Y.length-1;0<=Te;Te--){var mt=q.g=Y[Te];be=xe(mt,Z,!0,q)&&be}if(mt=q.g=P,be=xe(mt,Z,!0,q)&&be,be=xe(mt,Z,!1,q)&&be,Y)for(Te=0;Te<Y.length;Te++)mt=q.g=Y[Te],be=xe(mt,Z,!1,q)&&be}ee.prototype.N=function(){if(ee.aa.N.call(this),this.i){var P=this.i,q;for(q in P.g){for(var Y=P.g[q],Z=0;Z<Y.length;Z++)se(Y[Z]);delete P.g[q],P.h--}}this.F=null},ee.prototype.K=function(P,q,Y,Z){return this.i.add(String(P),q,!1,Y,Z)},ee.prototype.L=function(P,q,Y,Z){return this.i.add(String(P),q,!0,Y,Z)};function xe(P,q,Y,Z){if(q=P.i.g[String(q)],!q)return!0;q=q.concat();for(var be=!0,Te=0;Te<q.length;++Te){var mt=q[Te];if(mt&&!mt.da&&mt.capture==Y){var Ar=mt.listener,Vo=mt.ha||mt.src;mt.fa&&pe(P.i,mt),be=Ar.call(Vo,Z)!==!1&&be}}return be&&!Z.defaultPrevented}function Me(P,q,Y){if(typeof P=="function")Y&&(P=h(P,Y));else if(P&&typeof P.handleEvent=="function")P=h(P.handleEvent,P);else throw Error("Invalid listener argument");return 2147483647<Number(q)?-1:a.setTimeout(P,q||0)}function je(P){P.g=Me(()=>{P.g=null,P.i&&(P.i=!1,je(P))},P.l);const q=P.h;P.h=null,P.m.apply(null,q)}class ft extends W{constructor(q,Y){super(),this.m=q,this.l=Y,this.h=null,this.i=!1,this.g=null}j(q){this.h=arguments,this.g?this.i=!0:je(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jt(P){W.call(this),this.h=P,this.g={}}p(jt,W);var Gt=[];function Dt(P){w(P.g,function(q,Y){this.g.hasOwnProperty(Y)&&lt(q)},P),P.g={}}jt.prototype.N=function(){jt.aa.N.call(this),Dt(this)},jt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ct=a.JSON.stringify,Ft=a.JSON.parse,rr=class{stringify(P){return a.JSON.stringify(P,void 0)}parse(P){return a.JSON.parse(P,void 0)}};function In(){}In.prototype.h=null;function Ci(P){return P.h||(P.h=P.i())}function ii(){}var Ai={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xs(){B.call(this,"d")}p(xs,B);function Tr(){B.call(this,"c")}p(Tr,B);var Gn={},za=null;function _s(){return za=za||new ee}Gn.La="serverreachability";function Ua(P){B.call(this,Gn.La,P)}p(Ua,B);function Ki(P){const q=_s();he(q,new Ua(q))}Gn.STAT_EVENT="statevent";function $n(P,q){B.call(this,Gn.STAT_EVENT,P),this.stat=q}p($n,B);function ur(P){const q=_s();he(q,new $n(q,P))}Gn.Ma="timingevent";function ca(P,q){B.call(this,Gn.Ma,P),this.size=q}p(ca,B);function Cr(P,q){if(typeof P!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){P()},q)}function Br(){this.g=!0}Br.prototype.xa=function(){this.g=!1};function Es(P,q,Y,Z,be,Te){P.info(function(){if(P.g)if(Te)for(var mt="",Ar=Te.split("&"),Vo=0;Vo<Ar.length;Vo++){var Xn=Ar[Vo].split("=");if(1<Xn.length){var ks=Xn[0];Xn=Xn[1];var Is=ks.split("_");mt=2<=Is.length&&Is[1]=="type"?mt+(ks+"="+Xn+"&"):mt+(ks+"=redacted&")}}else mt=null;else mt=Te;return"XMLHTTP REQ ("+Z+") [attempt "+be+"]: "+q+`
`+Y+`
`+mt})}function Xi(P,q,Y,Z,be,Te,mt){P.info(function(){return"XMLHTTP RESP ("+Z+") [ attempt "+be+"]: "+q+`
`+Y+`
`+Te+" "+mt})}function ki(P,q,Y,Z){P.info(function(){return"XMLHTTP TEXT ("+q+"): "+lf(P,Y)+(Z?" "+Z:"")})}function af(P,q){P.info(function(){return"TIMEOUT: "+q})}Br.prototype.info=function(){};function lf(P,q){if(!P.g)return q;if(!q)return null;try{var Y=JSON.parse(q);if(Y){for(P=0;P<Y.length;P++)if(Array.isArray(Y[P])){var Z=Y[P];if(!(2>Z.length)){var be=Z[1];if(Array.isArray(be)&&!(1>be.length)){var Te=be[0];if(Te!="noop"&&Te!="stop"&&Te!="close")for(var mt=1;mt<be.length;mt++)be[mt]=""}}}}return ct(Y)}catch{return q}}var Il={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Sd={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jo;function fn(){}p(fn,In),fn.prototype.g=function(){return new XMLHttpRequest},fn.prototype.i=function(){return{}},jo=new fn;function mo(P,q,Y,Z){this.j=P,this.i=q,this.l=Y,this.R=Z||1,this.U=new jt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ac}function ac(){this.i=null,this.g="",this.h=!1}var lc={},uc={};function uf(P,q,Y){P.L=1,P.v=wn(He(q)),P.m=Y,P.P=!0,Ss(P,null)}function Ss(P,q){P.F=Date.now(),Ts(P),P.A=He(P.v);var Y=P.A,Z=P.R;Array.isArray(Z)||(Z=[String(Z)]),Ib(Y.i,"t",Z),P.C=0,Y=P.j.J,P.h=new ac,P.g=jee(P.j,Y?q:null,!P.m),0<P.O&&(P.M=new ft(h(P.Y,P,P.g),P.O)),q=P.U,Y=P.g,Z=P.ca;var be="readystatechange";Array.isArray(be)||(be&&(Gt[0]=be.toString()),be=Gt);for(var Te=0;Te<be.length;Te++){var mt=Je(Y,be[Te],Z||q.handleEvent,!1,q.h||q);if(!mt)break;q.g[mt.key]=mt}q=P.H?S(P.H):{},P.m?(P.u||(P.u="POST"),q["Content-Type"]="application/x-www-form-urlencoded",P.g.ea(P.A,P.u,P.m,q)):(P.u="GET",P.g.ea(P.A,P.u,null,q)),Ki(),Es(P.i,P.u,P.A,P.l,P.R,P.m)}mo.prototype.ca=function(P){P=P.target;const q=this.M;q&&Ln(P)==3?q.j():this.Y(P)},mo.prototype.Y=function(P){try{if(P==this.g)e:{const Is=Ln(this.g);var q=this.g.Ba();const Pb=this.g.Z();if(!(3>Is)&&(Is!=3||this.g&&(this.h.h||this.g.oa()||yr(this.g)))){this.J||Is!=4||q==7||(q==8||0>=Pb?Ki(3):Ki(2)),zo(this);var Y=this.g.Z();this.X=Y;t:if(em(this)){var Z=yr(this.g);P="";var be=Z.length,Te=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Cs(this),da(this);var mt="";break t}this.h.i=new a.TextDecoder}for(q=0;q<be;q++)this.h.h=!0,P+=this.h.i.decode(Z[q],{stream:!(Te&&q==be-1)});Z.length=0,this.h.g+=P,this.C=0,mt=this.h.g}else mt=this.g.oa();if(this.o=Y==200,Xi(this.i,this.u,this.A,this.l,this.R,Is,Y),this.o){if(this.T&&!this.K){t:{if(this.g){var Ar,Vo=this.g;if((Ar=Vo.g?Vo.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Ar)){var Xn=Ar;break t}}Xn=null}if(Y=Xn)ki(this.i,this.l,Y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,dc(this,Y);else{this.o=!1,this.s=3,ur(12),Cs(this),da(this);break e}}if(this.P){Y=!0;let fc;for(;!this.J&&this.C<mt.length;)if(fc=cc(this,mt),fc==uc){Is==4&&(this.s=4,ur(14),Y=!1),ki(this.i,this.l,null,"[Incomplete Response]");break}else if(fc==lc){this.s=4,ur(15),ki(this.i,this.l,mt,"[Invalid Chunk]"),Y=!1;break}else ki(this.i,this.l,fc,null),dc(this,fc);if(em(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Is!=4||mt.length!=0||this.h.h||(this.s=1,ur(16),Y=!1),this.o=this.o&&Y,!Y)ki(this.i,this.l,mt,"[Invalid Chunked Response]"),Cs(this),da(this);else if(0<mt.length&&!this.W){this.W=!0;var ks=this.j;ks.g==this&&ks.ba&&!ks.M&&(ks.j.info("Great, no buffering proxy detected. Bytes received: "+mt.length),g4(ks),ks.M=!0,ur(11))}}else ki(this.i,this.l,mt,null),dc(this,mt);Is==4&&Cs(this),this.o&&!this.J&&(Is==4?Oee(this.j,this):(this.o=!1,Ts(this)))}else Kr(this.g),Y==400&&0<mt.indexOf("Unknown SID")?(this.s=3,ur(12)):(this.s=0,ur(13)),Cs(this),da(this)}}}catch{}finally{}};function em(P){return P.g?P.u=="GET"&&P.L!=2&&P.j.Ca:!1}function cc(P,q){var Y=P.C,Z=q.indexOf(`
`,Y);return Z==-1?uc:(Y=Number(q.substring(Y,Z)),isNaN(Y)?lc:(Z+=1,Z+Y>q.length?uc:(q=q.slice(Z,Z+Y),P.C=Z+Y,q)))}mo.prototype.cancel=function(){this.J=!0,Cs(this)};function Ts(P){P.S=Date.now()+P.I,cf(P,P.I)}function cf(P,q){if(P.B!=null)throw Error("WatchDog timer not null");P.B=Cr(h(P.ba,P),q)}function zo(P){P.B&&(a.clearTimeout(P.B),P.B=null)}mo.prototype.ba=function(){this.B=null;const P=Date.now();0<=P-this.S?(af(this.i,this.A),this.L!=2&&(Ki(),ur(17)),Cs(this),this.s=2,da(this)):cf(this,this.S-P)};function da(P){P.j.G==0||P.J||Oee(P.j,P)}function Cs(P){zo(P);var q=P.M;q&&typeof q.ma=="function"&&q.ma(),P.M=null,Dt(P.U),P.g&&(q=P.g,P.g=null,q.abort(),q.ma())}function dc(P,q){try{var Y=P.j;if(Y.G!=0&&(Y.g==P||hf(Y.h,P))){if(!P.K&&hf(Y.h,P)&&Y.G==3){try{var Z=Y.Da.g.parse(q)}catch{Z=null}if(Array.isArray(Z)&&Z.length==3){var be=Z;if(be[0]==0){e:if(!Y.u){if(Y.g)if(Y.g.F+3e3<P.F)pk(Y),qa(Y);else break e;m4(Y),ur(18)}}else Y.za=be[1],0<Y.za-Y.T&&37500>be[2]&&Y.F&&Y.v==0&&!Y.C&&(Y.C=Cr(h(Y.Za,Y),6e3));if(1>=tm(Y.h)&&Y.ca){try{Y.ca()}catch{}Y.ca=void 0}}else R0(Y,11)}else if((P.K||Y.g==P)&&pk(Y),!v(q))for(be=Y.Da.g.parse(q),q=0;q<be.length;q++){let Xn=be[q];if(Y.T=Xn[0],Xn=Xn[1],Y.G==2)if(Xn[0]=="c"){Y.K=Xn[1],Y.ia=Xn[2];const ks=Xn[3];ks!=null&&(Y.la=ks,Y.j.info("VER="+Y.la));const Is=Xn[4];Is!=null&&(Y.Aa=Is,Y.j.info("SVER="+Y.Aa));const Pb=Xn[5];Pb!=null&&typeof Pb=="number"&&0<Pb&&(Z=1.5*Pb,Y.L=Z,Y.j.info("backChannelRequestTimeoutMs_="+Z)),Z=Y;const fc=P.g;if(fc){const gk=fc.g?fc.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gk){var Te=Z.h;Te.g||gk.indexOf("spdy")==-1&&gk.indexOf("quic")==-1&&gk.indexOf("h2")==-1||(Te.j=Te.l,Te.g=new Set,Te.h&&(Q(Te,Te.h),Te.h=null))}if(Z.D){const y4=fc.g?fc.g.getResponseHeader("X-HTTP-Session-Id"):null;y4&&(Z.ya=y4,Lt(Z.I,Z.D,y4))}}Y.G=3,Y.l&&Y.l.ua(),Y.ba&&(Y.R=Date.now()-P.F,Y.j.info("Handshake RTT: "+Y.R+"ms")),Z=Y;var mt=P;if(Z.qa=Bee(Z,Z.J?Z.ia:null,Z.W),mt.K){ce(Z.h,mt);var Ar=mt,Vo=Z.L;Vo&&(Ar.I=Vo),Ar.B&&(zo(Ar),Ts(Ar)),Z.g=mt}else Pee(Z);0<Y.i.length&&k0(Y)}else Xn[0]!="stop"&&Xn[0]!="close"||R0(Y,7);else Y.G==3&&(Xn[0]=="stop"||Xn[0]=="close"?Xn[0]=="stop"?R0(Y,7):ha(Y):Xn[0]!="noop"&&Y.l&&Y.l.ta(Xn),Y.v=0)}}Ki(4)}catch{}}var Ha=class{constructor(P,q){this.g=P,this.map=q}};function df(P){this.l=P||10,a.PerformanceNavigationTiming?(P=a.performance.getEntriesByType("navigation"),P=0<P.length&&(P[0].nextHopProtocol=="hq"||P[0].nextHopProtocol=="h2")):P=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=P?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Td(P){return P.h?!0:P.g?P.g.size>=P.j:!1}function tm(P){return P.h?1:P.g?P.g.size:0}function hf(P,q){return P.h?P.h==q:P.g?P.g.has(q):!1}function Q(P,q){P.g?P.g.add(q):P.h=q}function ce(P,q){P.h&&P.h==q?P.h=null:P.g&&P.g.has(q)&&P.g.delete(q)}df.prototype.cancel=function(){if(this.i=ie(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const P of this.g.values())P.cancel();this.g.clear()}};function ie(P){if(P.h!=null)return P.i.concat(P.h.D);if(P.g!=null&&P.g.size!==0){let q=P.i;for(const Y of P.g.values())q=q.concat(Y.D);return q}return m(P.i)}function me(P){if(P.V&&typeof P.V=="function")return P.V();if(typeof Map<"u"&&P instanceof Map||typeof Set<"u"&&P instanceof Set)return Array.from(P.values());if(typeof P=="string")return P.split("");if(l(P)){for(var q=[],Y=P.length,Z=0;Z<Y;Z++)q.push(P[Z]);return q}q=[],Y=0;for(Z in P)q[Y++]=P[Z];return q}function ye(P){if(P.na&&typeof P.na=="function")return P.na();if(!P.V||typeof P.V!="function"){if(typeof Map<"u"&&P instanceof Map)return Array.from(P.keys());if(!(typeof Set<"u"&&P instanceof Set)){if(l(P)||typeof P=="string"){var q=[];P=P.length;for(var Y=0;Y<P;Y++)q.push(Y);return q}q=[],Y=0;for(const Z in P)q[Y++]=Z;return q}}}function fe(P,q){if(P.forEach&&typeof P.forEach=="function")P.forEach(q,void 0);else if(l(P)||typeof P=="string")Array.prototype.forEach.call(P,q,void 0);else for(var Y=ye(P),Z=me(P),be=Z.length,Te=0;Te<be;Te++)q.call(void 0,Z[Te],Y&&Y[Te],P)}var De=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ze(P,q){if(P){P=P.split("&");for(var Y=0;Y<P.length;Y++){var Z=P[Y].indexOf("="),be=null;if(0<=Z){var Te=P[Y].substring(0,Z);be=P[Y].substring(Z+1)}else Te=P[Y];q(Te,be?decodeURIComponent(be.replace(/\+/g," ")):"")}}}function Ue(P){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,P instanceof Ue){this.h=P.h,nt(this,P.j),this.o=P.o,this.g=P.g,Ct(this,P.s),this.l=P.l;var q=P.i,Y=new Va;Y.i=q.i,q.g&&(Y.g=new Map(q.g),Y.h=q.h),un(this,Y),this.m=P.m}else P&&(q=String(P).match(De))?(this.h=!1,nt(this,q[1]||"",!0),this.o=Hn(q[2]||""),this.g=Hn(q[3]||"",!0),Ct(this,q[4]),this.l=Hn(q[5]||"",!0),un(this,q[6]||"",!0),this.m=Hn(q[7]||"")):(this.h=!1,this.i=new Va(null,this.h))}Ue.prototype.toString=function(){var P=[],q=this.j;q&&P.push(Dn(q,yu,!0),":");var Y=this.g;return(Y||q=="file")&&(P.push("//"),(q=this.o)&&P.push(Dn(q,yu,!0),"@"),P.push(encodeURIComponent(String(Y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Y=this.s,Y!=null&&P.push(":",String(Y))),(Y=this.l)&&(this.g&&Y.charAt(0)!="/"&&P.push("/"),P.push(Dn(Y,Y.charAt(0)=="/"?T0:yo,!0))),(Y=this.i.toString())&&P.push("?",Y),(Y=this.m)&&P.push("#",Dn(Y,kb)),P.join("")};function He(P){return new Ue(P)}function nt(P,q,Y){P.j=Y?Hn(q,!0):q,P.j&&(P.j=P.j.replace(/:$/,""))}function Ct(P,q){if(q){if(q=Number(q),isNaN(q)||0>q)throw Error("Bad port number "+q);P.s=q}else P.s=null}function un(P,q,Y){q instanceof Va?(P.i=q,C0(P.i,P.h)):(Y||(q=Dn(q,ff)),P.i=new Va(q,P.h))}function Lt(P,q,Y){P.i.set(q,Y)}function wn(P){return Lt(P,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),P}function Hn(P,q){return P?q?decodeURI(P.replace(/%25/g,"%2525")):decodeURIComponent(P):""}function Dn(P,q,Y){return typeof P=="string"?(P=encodeURI(P).replace(q,go),Y&&(P=P.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P):null}function go(P){return P=P.charCodeAt(0),"%"+(P>>4&15).toString(16)+(P&15).toString(16)}var yu=/[#\/\?@]/g,yo=/[#\?:]/g,T0=/[#\?]/g,ff=/[#\?@]/g,kb=/#/g;function Va(P,q){this.h=this.g=null,this.i=P||null,this.j=!!q}function As(P){P.g||(P.g=new Map,P.h=0,P.i&&ze(P.i,function(q,Y){P.add(decodeURIComponent(q.replace(/\+/g," ")),Y)}))}e=Va.prototype,e.add=function(P,q){As(this),this.i=null,P=Wa(this,P);var Y=this.g.get(P);return Y||this.g.set(P,Y=[]),Y.push(q),this.h+=1,this};function Uo(P,q){As(P),q=Wa(P,q),P.g.has(q)&&(P.i=null,P.h-=P.g.get(q).length,P.g.delete(q))}function pf(P,q){return As(P),q=Wa(P,q),P.g.has(q)}e.forEach=function(P,q){As(this),this.g.forEach(function(Y,Z){Y.forEach(function(be){P.call(q,be,Z,this)},this)},this)},e.na=function(){As(this);const P=Array.from(this.g.values()),q=Array.from(this.g.keys()),Y=[];for(let Z=0;Z<q.length;Z++){const be=P[Z];for(let Te=0;Te<be.length;Te++)Y.push(q[Z])}return Y},e.V=function(P){As(this);let q=[];if(typeof P=="string")pf(this,P)&&(q=q.concat(this.g.get(Wa(this,P))));else{P=Array.from(this.g.values());for(let Y=0;Y<P.length;Y++)q=q.concat(P[Y])}return q},e.set=function(P,q){return As(this),this.i=null,P=Wa(this,P),pf(this,P)&&(this.h-=this.g.get(P).length),this.g.set(P,[q]),this.h+=1,this},e.get=function(P,q){return P?(P=this.V(P),0<P.length?String(P[0]):q):q};function Ib(P,q,Y){Uo(P,q),0<Y.length&&(P.i=null,P.g.set(Wa(P,q),m(Y)),P.h+=Y.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const P=[],q=Array.from(this.g.keys());for(var Y=0;Y<q.length;Y++){var Z=q[Y];const Te=encodeURIComponent(String(Z)),mt=this.V(Z);for(Z=0;Z<mt.length;Z++){var be=Te;mt[Z]!==""&&(be+="="+encodeURIComponent(String(mt[Z]))),P.push(be)}}return this.i=P.join("&")};function Wa(P,q){return q=String(q),P.j&&(q=q.toLowerCase()),q}function C0(P,q){q&&!P.j&&(As(P),P.i=null,P.g.forEach(function(Y,Z){var be=Z.toLowerCase();Z!=be&&(Uo(this,Z),Ib(this,be,Y))},P)),P.j=q}function nm(P,q){const Y=new Br;if(a.Image){const Z=new Image;Z.onload=f(Ho,Y,"TestLoadImage: loaded",!0,q,Z),Z.onerror=f(Ho,Y,"TestLoadImage: error",!1,q,Z),Z.onabort=f(Ho,Y,"TestLoadImage: abort",!1,q,Z),Z.ontimeout=f(Ho,Y,"TestLoadImage: timeout",!1,q,Z),a.setTimeout(function(){Z.ontimeout&&Z.ontimeout()},1e4),Z.src=P}else q(!1)}function hc(P,q){const Y=new Br,Z=new AbortController,be=setTimeout(()=>{Z.abort(),Ho(Y,"TestPingServer: timeout",!1,q)},1e4);fetch(P,{signal:Z.signal}).then(Te=>{clearTimeout(be),Te.ok?Ho(Y,"TestPingServer: ok",!0,q):Ho(Y,"TestPingServer: server error",!1,q)}).catch(()=>{clearTimeout(be),Ho(Y,"TestPingServer: error",!1,q)})}function Ho(P,q,Y,Z,be){try{be&&(be.onload=null,be.onerror=null,be.onabort=null,be.ontimeout=null),Z(Y)}catch{}}function Rb(){this.g=new rr}function A0(P,q,Y){const Z=Y||"";try{fe(P,function(be,Te){let mt=be;u(be)&&(mt=ct(be)),q.push(Z+Te+"="+encodeURIComponent(mt))})}catch(be){throw q.push(Z+"type="+encodeURIComponent("_badmap")),be}}function vu(P){this.l=P.Ub||null,this.j=P.eb||!1}p(vu,In),vu.prototype.g=function(){return new Cd(this.l,this.j)},vu.prototype.i=function(P){return function(){return P}}({});function Cd(P,q){ee.call(this),this.D=P,this.o=q,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}p(Cd,ee),e=Cd.prototype,e.open=function(P,q){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=P,this.A=q,this.readyState=1,Ad(this)},e.send=function(P){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const q={headers:this.u,method:this.B,credentials:this.m,cache:void 0};P&&(q.body=P),(this.D||a).fetch(new Request(this.A,q)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mf(this)),this.readyState=0},e.Sa=function(P){if(this.g&&(this.l=P,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=P.headers,this.readyState=2,Ad(this)),this.g&&(this.readyState=3,Ad(this),this.g)))if(this.responseType==="arraybuffer")P.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in P){if(this.j=P.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$b(this)}else P.text().then(this.Ra.bind(this),this.ga.bind(this))};function $b(P){P.j.read().then(P.Pa.bind(P)).catch(P.ga.bind(P))}e.Pa=function(P){if(this.g){if(this.o&&P.value)this.response.push(P.value);else if(!this.o){var q=P.value?P.value:new Uint8Array(0);(q=this.v.decode(q,{stream:!P.done}))&&(this.response=this.responseText+=q)}P.done?mf(this):Ad(this),this.readyState==3&&$b(this)}},e.Ra=function(P){this.g&&(this.response=this.responseText=P,mf(this))},e.Qa=function(P){this.g&&(this.response=P,mf(this))},e.ga=function(){this.g&&mf(this)};function mf(P){P.readyState=4,P.l=null,P.j=null,P.v=null,Ad(P)}e.setRequestHeader=function(P,q){this.u.append(P,q)},e.getResponseHeader=function(P){return this.h&&this.h.get(P.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const P=[],q=this.h.entries();for(var Y=q.next();!Y.done;)Y=Y.value,P.push(Y[0]+": "+Y[1]),Y=q.next();return P.join(`\r
`)};function Ad(P){P.onreadystatechange&&P.onreadystatechange.call(P)}Object.defineProperty(Cd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(P){this.m=P?"include":"same-origin"}});function oe(P){let q="";return w(P,function(Y,Z){q+=Z,q+=":",q+=Y,q+=`\r
`}),q}function K(P,q,Y){e:{for(Z in Y){var Z=!1;break e}Z=!0}Z||(Y=oe(Y),typeof P=="string"?Y!=null&&encodeURIComponent(String(Y)):Lt(P,q,Y))}function J(P){ee.call(this),this.headers=new Map,this.o=P||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}p(J,ee);var de=/^https?$/i,at=["POST","PUT"];e=J.prototype,e.Ha=function(P){this.J=P},e.ea=function(P,q,Y,Z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+P);q=q?q.toUpperCase():"GET",this.D=P,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jo.g(),this.v=this.o?Ci(this.o):Ci(jo),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(q,String(P),!0),this.B=!1}catch(Te){yt(this,Te);return}if(P=Y||"",Y=new Map(this.headers),Z)if(Object.getPrototypeOf(Z)===Object.prototype)for(var be in Z)Y.set(be,Z[be]);else if(typeof Z.keys=="function"&&typeof Z.get=="function")for(const Te of Z.keys())Y.set(Te,Z.get(Te));else throw Error("Unknown input type for opt_headers: "+String(Z));Z=Array.from(Y.keys()).find(Te=>Te.toLowerCase()=="content-type"),be=a.FormData&&P instanceof a.FormData,!(0<=Array.prototype.indexOf.call(at,q,void 0))||Z||be||Y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Te,mt]of Y)this.g.setRequestHeader(Te,mt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Jt(this),this.u=!0,this.g.send(P),this.u=!1}catch(Te){yt(this,Te)}};function yt(P,q){P.h=!1,P.g&&(P.j=!0,P.g.abort(),P.j=!1),P.l=q,P.m=5,Yt(P),Wt(P)}function Yt(P){P.A||(P.A=!0,he(P,"complete"),he(P,"error"))}e.abort=function(P){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=P||7,he(this,"complete"),he(this,"abort"),Wt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wt(this,!0)),J.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?an(this):this.bb())},e.bb=function(){an(this)};function an(P){if(P.h&&typeof s<"u"&&(!P.v[1]||Ln(P)!=4||P.Z()!=2)){if(P.u&&Ln(P)==4)Me(P.Ea,0,P);else if(he(P,"readystatechange"),Ln(P)==4){P.h=!1;try{const mt=P.Z();e:switch(mt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var q=!0;break e;default:q=!1}var Y;if(!(Y=q)){var Z;if(Z=mt===0){var be=String(P.D).match(De)[1]||null;!be&&a.self&&a.self.location&&(be=a.self.location.protocol.slice(0,-1)),Z=!de.test(be?be.toLowerCase():"")}Y=Z}if(Y)he(P,"complete"),he(P,"success");else{P.m=6;try{var Te=2<Ln(P)?P.g.statusText:""}catch{Te=""}P.l=Te+" ["+P.Z()+"]",Yt(P)}}finally{Wt(P)}}}}function Wt(P,q){if(P.g){Jt(P);const Y=P.g,Z=P.v[0]?()=>{}:null;P.g=null,P.v=null,q||he(P,"ready");try{Y.onreadystatechange=Z}catch{}}}function Jt(P){P.I&&(a.clearTimeout(P.I),P.I=null)}e.isActive=function(){return!!this.g};function Ln(P){return P.g?P.g.readyState:0}e.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(P){if(this.g){var q=this.g.responseText;return P&&q.indexOf(P)==0&&(q=q.substring(P.length)),Ft(q)}};function yr(P){try{if(!P.g)return null;if("response"in P.g)return P.g.response;switch(P.H){case"":case"text":return P.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in P.g)return P.g.mozResponseArrayBuffer}return null}catch{return null}}function Kr(P){const q={};P=(P.g&&2<=Ln(P)&&P.g.getAllResponseHeaders()||"").split(`\r
`);for(let Z=0;Z<P.length;Z++){if(v(P[Z]))continue;var Y=D(P[Z]);const be=Y[0];if(Y=Y[1],typeof Y!="string")continue;Y=Y.trim();const Te=q[be]||[];q[be]=Te,Te.push(Y)}E(q,function(Z){return Z.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function pi(P,q,Y){return Y&&Y.internalChannelParams&&Y.internalChannelParams[P]||q}function Qi(P){this.Aa=0,this.i=[],this.j=new Br,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=pi("failFast",!1,P),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=pi("baseRetryDelayMs",5e3,P),this.cb=pi("retryDelaySeedMs",1e4,P),this.Wa=pi("forwardChannelMaxRetries",2,P),this.wa=pi("forwardChannelRequestTimeoutMs",2e4,P),this.pa=P&&P.xmlHttpFactory||void 0,this.Xa=P&&P.Tb||void 0,this.Ca=P&&P.useFetchStreams||!1,this.L=void 0,this.J=P&&P.supportsCrossDomainXhr||!1,this.K="",this.h=new df(P&&P.concurrentRequestLimit),this.Da=new Rb,this.P=P&&P.fastHandshake||!1,this.O=P&&P.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=P&&P.Rb||!1,P&&P.xa&&this.j.xa(),P&&P.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&P&&P.detectBufferingProxy||!1,this.ja=void 0,P&&P.longPollingTimeout&&0<P.longPollingTimeout&&(this.ja=P.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Qi.prototype,e.la=8,e.G=1,e.connect=function(P,q,Y,Z){ur(0),this.W=P,this.H=q||{},Y&&Z!==void 0&&(this.H.OSID=Y,this.H.OAID=Z),this.F=this.X,this.I=Bee(this,null,this.W),k0(this)};function ha(P){if(kd(P),P.G==3){var q=P.U++,Y=He(P.I);if(Lt(Y,"SID",P.K),Lt(Y,"RID",q),Lt(Y,"TYPE","terminate"),X_(P,Y),q=new mo(P,P.j,q),q.L=2,q.v=wn(He(Y)),Y=!1,a.navigator&&a.navigator.sendBeacon)try{Y=a.navigator.sendBeacon(q.v.toString(),"")}catch{}!Y&&a.Image&&(new Image().src=q.v,Y=!0),Y||(q.g=jee(q.j,null),q.g.ea(q.v)),q.F=Date.now(),Ts(q)}Fee(P)}function qa(P){P.g&&(g4(P),P.g.cancel(),P.g=null)}function kd(P){qa(P),P.u&&(a.clearTimeout(P.u),P.u=null),pk(P),P.h.cancel(),P.s&&(typeof P.s=="number"&&a.clearTimeout(P.s),P.s=null)}function k0(P){if(!Td(P.h)&&!P.s){P.s=!0;var q=P.Ga;N||F(),L||(N(),L=!0),z.add(q,P),P.B=0}}function Db(P,q){return tm(P.h)>=P.h.j-(P.s?1:0)?!1:P.s?(P.i=q.D.concat(P.i),!0):P.G==1||P.G==2||P.B>=(P.Va?0:P.Wa)?!1:(P.s=Cr(h(P.Ga,P,q),Lee(P,P.B)),P.B++,!0)}e.Ga=function(P){if(this.s)if(this.s=null,this.G==1){if(!P){this.U=Math.floor(1e5*Math.random()),P=this.U++;const be=new mo(this,this.j,P);let Te=this.o;if(this.S&&(Te?(Te=S(Te),C(Te,this.S)):Te=this.S),this.m!==null||this.O||(be.H=Te,Te=null),this.P)e:{for(var q=0,Y=0;Y<this.i.length;Y++){t:{var Z=this.i[Y];if("__data__"in Z.map&&(Z=Z.map.__data__,typeof Z=="string")){Z=Z.length;break t}Z=void 0}if(Z===void 0)break;if(q+=Z,4096<q){q=Y;break e}if(q===4096||Y===this.i.length-1){q=Y+1;break e}}q=1e3}else q=1e3;q=Mee(this,be,q),Y=He(this.I),Lt(Y,"RID",P),Lt(Y,"CVER",22),this.D&&Lt(Y,"X-HTTP-Session-Id",this.D),X_(this,Y),Te&&(this.O?q="headers="+encodeURIComponent(String(oe(Te)))+"&"+q:this.m&&K(Y,this.m,Te)),Q(this.h,be),this.Ua&&Lt(Y,"TYPE","init"),this.P?(Lt(Y,"$req",q),Lt(Y,"SID","null"),be.T=!0,uf(be,Y,null)):uf(be,Y,q),this.G=2}}else this.G==3&&(P?I0(this,P):this.i.length==0||Td(this.h)||I0(this))};function I0(P,q){var Y;q?Y=q.l:Y=P.U++;const Z=He(P.I);Lt(Z,"SID",P.K),Lt(Z,"RID",Y),Lt(Z,"AID",P.T),X_(P,Z),P.m&&P.o&&K(Z,P.m,P.o),Y=new mo(P,P.j,Y,P.B+1),P.m===null&&(Y.H=P.o),q&&(P.i=q.D.concat(P.i)),q=Mee(P,Y,1e3),Y.I=Math.round(.5*P.wa)+Math.round(.5*P.wa*Math.random()),Q(P.h,Y),uf(Y,Z,q)}function X_(P,q){P.H&&w(P.H,function(Y,Z){Lt(q,Z,Y)}),P.l&&fe({},function(Y,Z){Lt(q,Z,Y)})}function Mee(P,q,Y){Y=Math.min(P.i.length,Y);var Z=P.l?h(P.l.Na,P.l,P):null;e:{var be=P.i;let Te=-1;for(;;){const mt=["count="+Y];Te==-1?0<Y?(Te=be[0].g,mt.push("ofs="+Te)):Te=0:mt.push("ofs="+Te);let Ar=!0;for(let Vo=0;Vo<Y;Vo++){let Xn=be[Vo].g;const ks=be[Vo].map;if(Xn-=Te,0>Xn)Te=Math.max(0,be[Vo].g-100),Ar=!1;else try{A0(ks,mt,"req"+Xn+"_")}catch{Z&&Z(ks)}}if(Ar){Z=mt.join("&");break e}}}return P=P.i.splice(0,Y),q.D=P,Z}function Pee(P){if(!P.g&&!P.u){P.Y=1;var q=P.Fa;N||F(),L||(N(),L=!0),z.add(q,P),P.v=0}}function m4(P){return P.g||P.u||3<=P.v?!1:(P.Y++,P.u=Cr(h(P.Fa,P),Lee(P,P.v)),P.v++,!0)}e.Fa=function(){if(this.u=null,Nee(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var P=2*this.R;this.j.info("BP detection timer enabled: "+P),this.A=Cr(h(this.ab,this),P)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ur(10),qa(this),Nee(this))};function g4(P){P.A!=null&&(a.clearTimeout(P.A),P.A=null)}function Nee(P){P.g=new mo(P,P.j,"rpc",P.Y),P.m===null&&(P.g.H=P.o),P.g.O=0;var q=He(P.qa);Lt(q,"RID","rpc"),Lt(q,"SID",P.K),Lt(q,"AID",P.T),Lt(q,"CI",P.F?"0":"1"),!P.F&&P.ja&&Lt(q,"TO",P.ja),Lt(q,"TYPE","xmlhttp"),X_(P,q),P.m&&P.o&&K(q,P.m,P.o),P.L&&(P.g.I=P.L);var Y=P.g;P=P.ia,Y.L=1,Y.v=wn(He(q)),Y.m=null,Y.P=!0,Ss(Y,P)}e.Za=function(){this.C!=null&&(this.C=null,qa(this),m4(this),ur(19))};function pk(P){P.C!=null&&(a.clearTimeout(P.C),P.C=null)}function Oee(P,q){var Y=null;if(P.g==q){pk(P),g4(P),P.g=null;var Z=2}else if(hf(P.h,q))Y=q.D,ce(P.h,q),Z=1;else return;if(P.G!=0){if(q.o)if(Z==1){Y=q.m?q.m.length:0,q=Date.now()-q.F;var be=P.B;Z=_s(),he(Z,new ca(Z,Y)),k0(P)}else Pee(P);else if(be=q.s,be==3||be==0&&0<q.X||!(Z==1&&Db(P,q)||Z==2&&m4(P)))switch(Y&&0<Y.length&&(q=P.h,q.i=q.i.concat(Y)),be){case 1:R0(P,5);break;case 4:R0(P,10);break;case 3:R0(P,6);break;default:R0(P,2)}}}function Lee(P,q){let Y=P.Ta+Math.floor(Math.random()*P.cb);return P.isActive()||(Y*=2),Y*q}function R0(P,q){if(P.j.info("Error code "+q),q==2){var Y=h(P.fb,P),Z=P.Xa;const be=!Z;Z=new Ue(Z||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||nt(Z,"https"),wn(Z),be?nm(Z.toString(),Y):hc(Z.toString(),Y)}else ur(2);P.G=0,P.l&&P.l.sa(q),Fee(P),kd(P)}e.fb=function(P){P?(this.j.info("Successfully pinged google.com"),ur(2)):(this.j.info("Failed to ping google.com"),ur(1))};function Fee(P){if(P.G=0,P.ka=[],P.l){const q=ie(P.h);(q.length!=0||P.i.length!=0)&&(g(P.ka,q),g(P.ka,P.i),P.h.i.length=0,m(P.i),P.i.length=0),P.l.ra()}}function Bee(P,q,Y){var Z=Y instanceof Ue?He(Y):new Ue(Y);if(Z.g!="")q&&(Z.g=q+"."+Z.g),Ct(Z,Z.s);else{var be=a.location;Z=be.protocol,q=q?q+"."+be.hostname:be.hostname,be=+be.port;var Te=new Ue(null);Z&&nt(Te,Z),q&&(Te.g=q),be&&Ct(Te,be),Y&&(Te.l=Y),Z=Te}return Y=P.D,q=P.ya,Y&&q&&Lt(Z,Y,q),Lt(Z,"VER",P.la),X_(P,Z),Z}function jee(P,q,Y){if(q&&!P.J)throw Error("Can't create secondary domain capable XhrIo object.");return q=P.Ca&&!P.pa?new J(new vu({eb:Y})):new J(P.pa),q.Ha(P.J),q}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function zee(){}e=zee.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function mk(){}mk.prototype.g=function(P,q){return new Rl(P,q)};function Rl(P,q){ee.call(this),this.g=new Qi(q),this.l=P,this.h=q&&q.messageUrlParams||null,P=q&&q.messageHeaders||null,q&&q.clientProtocolHeaderRequired&&(P?P["X-Client-Protocol"]="webchannel":P={"X-Client-Protocol":"webchannel"}),this.g.o=P,P=q&&q.initMessageHeaders||null,q&&q.messageContentType&&(P?P["X-WebChannel-Content-Type"]=q.messageContentType:P={"X-WebChannel-Content-Type":q.messageContentType}),q&&q.va&&(P?P["X-WebChannel-Client-Profile"]=q.va:P={"X-WebChannel-Client-Profile":q.va}),this.g.S=P,(P=q&&q.Sb)&&!v(P)&&(this.g.m=P),this.v=q&&q.supportsCrossDomainXhr||!1,this.u=q&&q.sendRawJson||!1,(q=q&&q.httpSessionIdParam)&&!v(q)&&(this.g.D=q,P=this.h,P!==null&&q in P&&(P=this.h,q in P&&delete P[q])),this.j=new Mb(this)}p(Rl,ee),Rl.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rl.prototype.close=function(){ha(this.g)},Rl.prototype.o=function(P){var q=this.g;if(typeof P=="string"){var Y={};Y.__data__=P,P=Y}else this.u&&(Y={},Y.__data__=ct(P),P=Y);q.i.push(new Ha(q.Ya++,P)),q.G==3&&k0(q)},Rl.prototype.N=function(){this.g.l=null,delete this.j,ha(this.g),delete this.g,Rl.aa.N.call(this)};function Uee(P){xs.call(this),P.__headers__&&(this.headers=P.__headers__,this.statusCode=P.__status__,delete P.__headers__,delete P.__status__);var q=P.__sm__;if(q){e:{for(const Y in q){P=Y;break e}P=void 0}(this.i=P)&&(P=this.i,q=q!==null&&P in q?q[P]:void 0),this.data=q}else this.data=P}p(Uee,xs);function Hee(){Tr.call(this),this.status=1}p(Hee,Tr);function Mb(P){this.g=P}p(Mb,zee),Mb.prototype.ua=function(){he(this.g,"a")},Mb.prototype.ta=function(P){he(this.g,new Uee(P))},Mb.prototype.sa=function(P){he(this.g,new Hee)},Mb.prototype.ra=function(){he(this.g,"b")},mk.prototype.createWebChannel=mk.prototype.g,Rl.prototype.send=Rl.prototype.o,Rl.prototype.open=Rl.prototype.m,Rl.prototype.close=Rl.prototype.close,Cxe=function(){return new mk},Txe=function(){return _s()},Sxe=Gn,Q9={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Il.NO_ERROR=0,Il.TIMEOUT=8,Il.HTTP_ERROR=6,LI=Il,Sd.COMPLETE="complete",Exe=Sd,ii.EventType=Ai,Ai.OPEN="a",Ai.CLOSE="b",Ai.ERROR="c",Ai.MESSAGE="d",ee.prototype.listen=ee.prototype.K,rS=ii,J.prototype.listenOnce=J.prototype.L,J.prototype.getLastError=J.prototype.Ka,J.prototype.getLastErrorCode=J.prototype.Ba,J.prototype.getStatus=J.prototype.Z,J.prototype.getResponseJson=J.prototype.Oa,J.prototype.getResponseText=J.prototype.oa,J.prototype.send=J.prototype.ea,J.prototype.setWithCredentials=J.prototype.Ha,_xe=J}).apply(typeof Xk<"u"?Xk:typeof self<"u"?self:typeof window<"u"?window:{});const hoe="@firebase/firestore",foe="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Qa.UNAUTHENTICATED=new Qa(null),Qa.GOOGLE_CREDENTIALS=new Qa("google-credentials-uid"),Qa.FIRST_PARTY=new Qa("first-party-uid"),Qa.MOCK_USER=new Qa("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c_="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev=new uN("@firebase/firestore");function u1(){return ev.logLevel}function It(e,...t){if(ev.logLevel<=Mn.DEBUG){const n=t.map(_q);ev.debug(`Firestore (${c_}): ${e}`,...n)}}function xp(e,...t){if(ev.logLevel<=Mn.ERROR){const n=t.map(_q);ev.error(`Firestore (${c_}): ${e}`,...n)}}function pC(e,...t){if(ev.logLevel<=Mn.WARN){const n=t.map(_q);ev.warn(`Firestore (${c_}): ${e}`,...n)}}function _q(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(e="Unexpected state"){const t=`FIRESTORE (${c_}) INTERNAL ASSERTION FAILED: `+e;throw xp(t),new Error(t)}function lr(e,t){e||nn()}function hn(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class St extends Uh{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wit{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class qit{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Qa.UNAUTHENTICATED))}shutdown(){}}class Git{constructor(t){this.t=t,this.currentUser=Qa.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){lr(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Qf;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Qf,t.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{It("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(It("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Qf)}},0),s()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(It("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(lr(typeof r.accessToken=="string"),new Wit(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return lr(t===null||typeof t=="string"),new Qa(t)}}class Yit{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Qa.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Kit{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new Yit(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Qa.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class poe{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Xit{constructor(t,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Fl(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,n){lr(this.o===void 0);const r=o=>{o.error!=null&&It("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,It("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>r(o))};const i=o=>{It("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):It("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new poe(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(lr(typeof n.token=="string"),this.R=n.token,new poe(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qit(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Axe(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kxe{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Qit(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=t.charAt(i[o]%62))}return r}}function _n(e,t){return e<t?-1:e>t?1:0}function J9(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return _n(r,i);{const o=Axe(),s=Jit(o.encode(moe(e,n)),o.encode(moe(t,n)));return s!==0?s:_n(r,i)}}n+=r>65535?2:1}return _n(e.length,t.length)}function moe(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function Jit(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return _n(e[n],t[n]);return _n(e.length,t.length)}function Lw(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const goe=-62135596800,yoe=1e6;class ao{static now(){return ao.fromMillis(Date.now())}static fromDate(t){return ao.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*yoe);return new ao(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new St(Le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new St(Le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<goe)throw new St(Le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new St(Le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/yoe}_compareTo(t){return this.seconds===t.seconds?_n(this.nanoseconds,t.nanoseconds):_n(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-goe;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{static fromTimestamp(t){return new dn(t)}static min(){return new dn(new ao(0,0))}static max(){return new dn(new ao(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const voe="__name__";class Fd{constructor(t,n,r){n===void 0?n=0:n>t.length&&nn(),r===void 0?r=t.length-n:r>t.length-n&&nn(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Fd.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Fd?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const o=Fd.compareSegments(t.get(i),n.get(i));if(o!==0)return o}return _n(t.length,n.length)}static compareSegments(t,n){const r=Fd.isNumericId(t),i=Fd.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Fd.extractNumericId(t).compare(Fd.extractNumericId(n)):J9(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return og.fromString(t.substring(4,t.length-2))}}class Hr extends Fd{construct(t,n,r){return new Hr(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new St(Le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Hr(n)}static emptyPath(){return new Hr([])}}const Zit=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class is extends Fd{construct(t,n,r){return new is(t,n,r)}static isValidIdentifier(t){return Zit.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),is.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===voe}static keyField(){return new is([voe])}static fromServerFormat(t){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new St(Le.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new St(Le.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new St(Le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new St(Le.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new is(n)}static emptyPath(){return new is([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(t){this.path=t}static fromPath(t){return new qt(Hr.fromString(t))}static fromName(t){return new qt(Hr.fromString(t).popFirst(5))}static empty(){return new qt(Hr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Hr.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Hr.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new qt(new Hr(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=-1;function eot(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=dn.fromTimestamp(r===1e9?new ao(n+1,0):new ao(n,r));return new bg(i,qt.empty(),t)}function tot(e){return new bg(e.readTime,e.key,mC)}class bg{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new bg(dn.min(),qt.empty(),mC)}static max(){return new bg(dn.max(),qt.empty(),mC)}}function not(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=qt.comparator(e.documentKey,t.documentKey),n!==0?n:_n(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rot="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iot{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d_(e){if(e.code!==Le.FAILED_PRECONDITION||e.message!==rot)throw e;It("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&nn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Be((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Be?n:Be.resolve(n)}catch(n){return Be.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Be.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Be.reject(n)}static resolve(t){return new Be((n,r)=>{n(t)})}static reject(t){return new Be((n,r)=>{r(t)})}static waitFor(t){return new Be((n,r)=>{let i=0,o=0,s=!1;t.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(t){let n=Be.resolve(!1);for(const r of t)n=n.next(i=>i?Be.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(t,n){return new Be((r,i)=>{const o=t.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(t[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(t,n){return new Be((r,i)=>{const o=()=>{t()===!0?n().next(()=>{o()},i):r()};o()})}}function oot(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function h_(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}hN.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eq=-1;function fN(e){return e==null}function C$(e){return e===0&&1/e==-1/0}function sot(e){return typeof e=="number"&&Number.isInteger(e)&&!C$(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ixe="";function aot(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=boe(t)),t=lot(e.get(n),t);return boe(t)}function lot(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const o=e.charAt(i);switch(o){case"\0":n+="";break;case Ixe:n+="";break;default:n+=o}}return n}function boe(e){return e+Ixe+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function woe(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function o0(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Rxe(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(t,n){this.comparator=t,this.root=n||Qo.EMPTY}insert(t,n){return new fi(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Qo.BLACK,null,null))}remove(t){return new fi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qo.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Qk(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Qk(this.root,t,this.comparator,!1)}getReverseIterator(){return new Qk(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Qk(this.root,t,this.comparator,!0)}}class Qk{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=n?r(t.key,n):1,n&&i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qo{constructor(t,n,r,i,o){this.key=t,this.value=n,this.color=r??Qo.RED,this.left=i??Qo.EMPTY,this.right=o??Qo.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,o){return new Qo(t??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const o=r(t,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(t,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Qo.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return Qo.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qo.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw nn();const t=this.left.check();if(t!==this.right.check())throw nn();return t+(this.isRed()?0:1)}}Qo.EMPTY=null,Qo.RED=!0,Qo.BLACK=!1;Qo.EMPTY=new class{constructor(){this.size=0}get key(){throw nn()}get value(){throw nn()}get color(){throw nn()}get left(){throw nn()}get right(){throw nn()}copy(t,n,r,i,o){return this}insert(t,n,r){return new Qo(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(t){this.comparator=t,this.data=new fi(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new xoe(this.data.getIterator())}getIteratorFrom(t){return new xoe(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof lo)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new lo(this.comparator);return n.data=t,n}}class xoe{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(t){this.fields=t,t.sort(is.comparator)}static empty(){return new zl([])}unionWith(t){let n=new lo(is.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new zl(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Lw(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $xe extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new $xe("Invalid base64 string: "+o):o}}(t);return new ys(n)}static fromUint8Array(t){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(t);return new ys(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return _n(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ys.EMPTY_BYTE_STRING=new ys("");const uot=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wg(e){if(lr(!!e),typeof e=="string"){let t=0;const n=uot.exec(e);if(lr(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Mi(e.seconds),nanos:Mi(e.nanos)}}function Mi(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function xg(e){return typeof e=="string"?ys.fromBase64String(e):ys.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dxe="server_timestamp",Mxe="__type__",Pxe="__previous_value__",Nxe="__local_write_time__";function Sq(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[Mxe])===null||n===void 0?void 0:n.stringValue)===Dxe}function pN(e){const t=e.mapValue.fields[Pxe];return Sq(t)?pN(t):t}function gC(e){const t=wg(e.mapValue.fields[Nxe].timestampValue);return new ao(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cot{constructor(t,n,r,i,o,s,a,l,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}const A$="(default)";class yC{constructor(t,n){this.projectId=t,this.database=n||A$}static empty(){return new yC("","")}get isDefaultDatabase(){return this.database===A$}isEqual(t){return t instanceof yC&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oxe="__type__",dot="__max__",Jk={mapValue:{}},Lxe="__vector__",k$="value";function _g(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Sq(e)?4:fot(e)?9007199254740991:hot(e)?10:11:nn()}function Eh(e,t){if(e===t)return!0;const n=_g(e);if(n!==_g(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return gC(e).isEqual(gC(t));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=wg(i.timestampValue),a=wg(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,o){return xg(i.bytesValue).isEqual(xg(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,o){return Mi(i.geoPointValue.latitude)===Mi(o.geoPointValue.latitude)&&Mi(i.geoPointValue.longitude)===Mi(o.geoPointValue.longitude)}(e,t);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Mi(i.integerValue)===Mi(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Mi(i.doubleValue),a=Mi(o.doubleValue);return s===a?C$(s)===C$(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return Lw(e.arrayValue.values||[],t.arrayValue.values||[],Eh);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(woe(s)!==woe(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Eh(s[l],a[l])))return!1;return!0}(e,t);default:return nn()}}function vC(e,t){return(e.values||[]).find(n=>Eh(n,t))!==void 0}function Fw(e,t){if(e===t)return 0;const n=_g(e),r=_g(t);if(n!==r)return _n(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _n(e.booleanValue,t.booleanValue);case 2:return function(o,s){const a=Mi(o.integerValue||o.doubleValue),l=Mi(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return _oe(e.timestampValue,t.timestampValue);case 4:return _oe(gC(e),gC(t));case 5:return J9(e.stringValue,t.stringValue);case 6:return function(o,s){const a=xg(o),l=xg(s);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=_n(a[u],l[u]);if(c!==0)return c}return _n(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,s){const a=_n(Mi(o.latitude),Mi(s.latitude));return a!==0?a:_n(Mi(o.longitude),Mi(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Eoe(e.arrayValue,t.arrayValue);case 10:return function(o,s){var a,l,u,c;const d=o.fields||{},h=s.fields||{},f=(a=d[k$])===null||a===void 0?void 0:a.arrayValue,p=(l=h[k$])===null||l===void 0?void 0:l.arrayValue,m=_n(((u=f==null?void 0:f.values)===null||u===void 0?void 0:u.length)||0,((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0);return m!==0?m:Eoe(f,p)}(e.mapValue,t.mapValue);case 11:return function(o,s){if(o===Jk.mapValue&&s===Jk.mapValue)return 0;if(o===Jk.mapValue)return 1;if(s===Jk.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=J9(l[d],c[d]);if(h!==0)return h;const f=Fw(a[l[d]],u[c[d]]);if(f!==0)return f}return _n(l.length,c.length)}(e.mapValue,t.mapValue);default:throw nn()}}function _oe(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return _n(e,t);const n=wg(e),r=wg(t),i=_n(n.seconds,r.seconds);return i!==0?i:_n(n.nanos,r.nanos)}function Eoe(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Fw(n[i],r[i]);if(o)return o}return _n(n.length,r.length)}function Bw(e){return Z9(e)}function Z9(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=wg(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return xg(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return qt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Z9(o);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Z9(n.fields[s])}`;return i+"}"}(e.mapValue):nn()}function FI(e){switch(_g(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=pN(e);return t?16+FI(t):16;case 5:return 2*e.stringValue.length;case 6:return xg(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+FI(o),0)}(e.arrayValue);case 10:case 11:return function(r){let i=0;return o0(r.fields,(o,s)=>{i+=o.length+FI(s)}),i}(e.mapValue);default:throw nn()}}function Soe(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function ej(e){return!!e&&"integerValue"in e}function Tq(e){return!!e&&"arrayValue"in e}function Toe(e){return!!e&&"nullValue"in e}function Coe(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function BI(e){return!!e&&"mapValue"in e}function hot(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[Oxe])===null||n===void 0?void 0:n.stringValue)===Lxe}function uT(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return o0(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=uT(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=uT(e.arrayValue.values[n]);return t}return Object.assign({},e)}function fot(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===dot}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(t){this.value=t}static empty(){return new rl({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!BI(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=uT(n)}setAll(t){let n=is.emptyPath(),r={},i=[];t.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=uT(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(t){const n=this.field(t.popLast());BI(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Eh(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];BI(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){o0(n,(i,o)=>t[i]=o);for(const i of r)delete t[i]}clone(){return new rl(uT(this.value))}}function Fxe(e){const t=[];return o0(e.fields,(n,r)=>{const i=new is([n]);if(BI(r)){const o=Fxe(r.mapValue).fields;if(o.length===0)t.push(i);else for(const s of o)t.push(i.child(s))}else t.push(i)}),new zl(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(t,n,r,i,o,s,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(t){return new qs(t,0,dn.min(),dn.min(),dn.min(),rl.empty(),0)}static newFoundDocument(t,n,r,i){return new qs(t,1,n,dn.min(),r,i,0)}static newNoDocument(t,n){return new qs(t,2,n,dn.min(),dn.min(),rl.empty(),0)}static newUnknownDocument(t,n){return new qs(t,3,n,dn.min(),dn.min(),rl.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(dn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=rl.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=rl.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=dn.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof qs&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new qs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let I$=class{constructor(t,n){this.position=t,this.inclusive=n}};function Aoe(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(o.field.isKeyField()?r=qt.comparator(qt.fromName(s.referenceValue),n.key):r=Fw(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function koe(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Eh(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(t,n="asc"){this.field=t,this.dir=n}}function pot(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bxe=class{};class Wi extends Bxe{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new got(t,n,r):n==="array-contains"?new bot(t,r):n==="in"?new wot(t,r):n==="not-in"?new xot(t,r):n==="array-contains-any"?new _ot(t,r):new Wi(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new yot(t,r):new vot(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Fw(n,this.value)):n!==null&&_g(this.value)===_g(n)&&this.matchesComparison(Fw(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return nn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class rd extends Bxe{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new rd(t,n)}matches(t){return jxe(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function jxe(e){return e.op==="and"}function zxe(e){return mot(e)&&jxe(e)}function mot(e){for(const t of e.filters)if(t instanceof rd)return!1;return!0}function tj(e){if(e instanceof Wi)return e.field.canonicalString()+e.op.toString()+Bw(e.value);if(zxe(e))return e.filters.map(t=>tj(t)).join(",");{const t=e.filters.map(n=>tj(n)).join(",");return`${e.op}(${t})`}}function Uxe(e,t){return e instanceof Wi?function(r,i){return i instanceof Wi&&r.op===i.op&&r.field.isEqual(i.field)&&Eh(r.value,i.value)}(e,t):e instanceof rd?function(r,i){return i instanceof rd&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&Uxe(s,i.filters[a]),!0):!1}(e,t):void nn()}function Hxe(e){return e instanceof Wi?function(n){return`${n.field.canonicalString()} ${n.op} ${Bw(n.value)}`}(e):e instanceof rd?function(n){return n.op.toString()+" {"+n.getFilters().map(Hxe).join(" ,")+"}"}(e):"Filter"}class got extends Wi{constructor(t,n,r){super(t,n,r),this.key=qt.fromName(r.referenceValue)}matches(t){const n=qt.comparator(t.key,this.key);return this.matchesComparison(n)}}class yot extends Wi{constructor(t,n){super(t,"in",n),this.keys=Vxe("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class vot extends Wi{constructor(t,n){super(t,"not-in",n),this.keys=Vxe("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function Vxe(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>qt.fromName(r.referenceValue))}class bot extends Wi{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Tq(n)&&vC(n.arrayValue,this.value)}}class wot extends Wi{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&vC(this.value.arrayValue,n)}}class xot extends Wi{constructor(t,n){super(t,"not-in",n)}matches(t){if(vC(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!vC(this.value.arrayValue,n)}}class _ot extends Wi{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Tq(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>vC(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eot{constructor(t,n=null,r=[],i=[],o=null,s=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.le=null}}function Ioe(e,t=null,n=[],r=[],i=null,o=null,s=null){return new Eot(e,t,n,r,i,o,s)}function Cq(e){const t=hn(e);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>tj(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),fN(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Bw(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Bw(r)).join(",")),t.le=n}return t.le}function Aq(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!pot(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Uxe(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!koe(e.startAt,t.startAt)&&koe(e.endAt,t.endAt)}function nj(e){return qt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(t,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Sot(e,t,n,r,i,o,s,a){return new f_(e,t,n,r,i,o,s,a)}function kq(e){return new f_(e)}function Roe(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function Wxe(e){return e.collectionGroup!==null}function cT(e){const t=hn(e);if(t.he===null){t.he=[];const n=new Set;for(const o of t.explicitOrderBy)t.he.push(o),n.add(o.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new lo(is.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(t).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||t.he.push(new bC(o,r))}),n.has(is.keyField().canonicalString())||t.he.push(new bC(is.keyField(),r))}return t.he}function ah(e){const t=hn(e);return t.Pe||(t.Pe=Tot(t,cT(e))),t.Pe}function Tot(e,t){if(e.limitType==="F")return Ioe(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new bC(i.field,o)});const n=e.endAt?new I$(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new I$(e.startAt.position,e.startAt.inclusive):null;return Ioe(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function rj(e,t){const n=e.filters.concat([t]);return new f_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function ij(e,t,n){return new f_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function mN(e,t){return Aq(ah(e),ah(t))&&e.limitType===t.limitType}function qxe(e){return`${Cq(ah(e))}|lt:${e.limitType}`}function c1(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Hxe(i)).join(", ")}]`),fN(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Bw(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Bw(i)).join(",")),`Target(${r})`}(ah(e))}; limitType=${e.limitType})`}function gN(e,t){return t.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):qt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(e,t)&&function(r,i){for(const o of cT(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=Aoe(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,cT(r),i)||r.endAt&&!function(s,a,l){const u=Aoe(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,cT(r),i))}(e,t)}function Cot(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Gxe(e){return(t,n)=>{let r=!1;for(const i of cT(e)){const o=Aot(i,t,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Aot(e,t,n){const r=e.field.isKeyField()?qt.comparator(t.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?Fw(l,u):nn()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return nn()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,t))return o}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return void(i[o]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){o0(this.inner,(n,r)=>{for(const[i,o]of r)t(i,o)})}isEmpty(){return Rxe(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kot=new fi(qt.comparator);function _p(){return kot}const Yxe=new fi(qt.comparator);function iS(...e){let t=Yxe;for(const n of e)t=t.insert(n.key,n);return t}function Kxe(e){let t=Yxe;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function xy(){return dT()}function Xxe(){return dT()}function dT(){return new Jv(e=>e.toString(),(e,t)=>e.isEqual(t))}const Iot=new fi(qt.comparator),Rot=new lo(qt.comparator);function Pn(...e){let t=Rot;for(const n of e)t=t.add(n);return t}const $ot=new lo(_n);function Dot(){return $ot}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iq(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:C$(t)?"-0":t}}function Qxe(e){return{integerValue:""+e}}function Mot(e,t){return sot(t)?Qxe(t):Iq(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(){this._=void 0}}function Pot(e,t,n){return e instanceof wC?function(i,o){const s={fields:{[Mxe]:{stringValue:Dxe},[Nxe]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Sq(o)&&(o=pN(o)),o&&(s.fields[Pxe]=o),{mapValue:s}}(n,t):e instanceof xC?Zxe(e,t):e instanceof _C?e_e(e,t):function(i,o){const s=Jxe(i,o),a=$oe(s)+$oe(i.Ie);return ej(s)&&ej(i.Ie)?Qxe(a):Iq(i.serializer,a)}(e,t)}function Not(e,t,n){return e instanceof xC?Zxe(e,t):e instanceof _C?e_e(e,t):n}function Jxe(e,t){return e instanceof R$?function(r){return ej(r)||function(o){return!!o&&"doubleValue"in o}(r)}(t)?t:{integerValue:0}:null}class wC extends yN{}class xC extends yN{constructor(t){super(),this.elements=t}}function Zxe(e,t){const n=t_e(t);for(const r of e.elements)n.some(i=>Eh(i,r))||n.push(r);return{arrayValue:{values:n}}}class _C extends yN{constructor(t){super(),this.elements=t}}function e_e(e,t){let n=t_e(t);for(const r of e.elements)n=n.filter(i=>!Eh(i,r));return{arrayValue:{values:n}}}class R$ extends yN{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function $oe(e){return Mi(e.integerValue||e.doubleValue)}function t_e(e){return Tq(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oot{constructor(t,n){this.field=t,this.transform=n}}function Lot(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof xC&&i instanceof xC||r instanceof _C&&i instanceof _C?Lw(r.elements,i.elements,Eh):r instanceof R$&&i instanceof R$?Eh(r.Ie,i.Ie):r instanceof wC&&i instanceof wC}(e.transform,t.transform)}class Fot{constructor(t,n){this.version=t,this.transformResults=n}}class Yl{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Yl}static exists(t){return new Yl(void 0,t)}static updateTime(t){return new Yl(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function jI(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class vN{}function n_e(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Rq(e.key,Yl.none()):new YA(e.key,e.data,Yl.none());{const n=e.data,r=rl.empty();let i=new lo(is.comparator);for(let o of t.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new s0(e.key,r,new zl(i.toArray()),Yl.none())}}function Bot(e,t,n){e instanceof YA?function(i,o,s){const a=i.value.clone(),l=Moe(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):e instanceof s0?function(i,o,s){if(!jI(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=Moe(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(r_e(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function hT(e,t,n,r){return e instanceof YA?function(o,s,a,l){if(!jI(o.precondition,s))return a;const u=o.value.clone(),c=Poe(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(e,t,n,r):e instanceof s0?function(o,s,a,l){if(!jI(o.precondition,s))return a;const u=Poe(o.fieldTransforms,l,s),c=s.data;return c.setAll(r_e(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(e,t,n,r):function(o,s,a){return jI(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(e,t,n)}function jot(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),o=Jxe(r.transform,i||null);o!=null&&(n===null&&(n=rl.empty()),n.set(r.field,o))}return n||null}function Doe(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Lw(r,i,(o,s)=>Lot(o,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class YA extends vN{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class s0 extends vN{constructor(t,n,r,i,o=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function r_e(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Moe(e,t,n){const r=new Map;lr(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,Not(s,a,n[i]))}return r}function Poe(e,t,n){const r=new Map;for(const i of e){const o=i.transform,s=n.data.field(i.field);r.set(i.field,Pot(o,s,t))}return r}class Rq extends vN{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zot extends vN{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uot{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(t.key)&&Bot(o,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=hT(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=hT(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=Xxe();return this.mutations.forEach(i=>{const o=t.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=n_e(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(dn.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Pn())}isEqual(t){return this.batchId===t.batchId&&Lw(this.mutations,t.mutations,(n,r)=>Doe(n,r))&&Lw(this.baseMutations,t.baseMutations,(n,r)=>Doe(n,r))}}class $q{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){lr(t.mutations.length===r.length);let i=function(){return Iot}();const o=t.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new $q(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hot{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vot{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zi,Vn;function Wot(e){switch(e){case Le.OK:return nn();case Le.CANCELLED:case Le.UNKNOWN:case Le.DEADLINE_EXCEEDED:case Le.RESOURCE_EXHAUSTED:case Le.INTERNAL:case Le.UNAVAILABLE:case Le.UNAUTHENTICATED:return!1;case Le.INVALID_ARGUMENT:case Le.NOT_FOUND:case Le.ALREADY_EXISTS:case Le.PERMISSION_DENIED:case Le.FAILED_PRECONDITION:case Le.ABORTED:case Le.OUT_OF_RANGE:case Le.UNIMPLEMENTED:case Le.DATA_LOSS:return!0;default:return nn()}}function i_e(e){if(e===void 0)return xp("GRPC error has no .code"),Le.UNKNOWN;switch(e){case zi.OK:return Le.OK;case zi.CANCELLED:return Le.CANCELLED;case zi.UNKNOWN:return Le.UNKNOWN;case zi.DEADLINE_EXCEEDED:return Le.DEADLINE_EXCEEDED;case zi.RESOURCE_EXHAUSTED:return Le.RESOURCE_EXHAUSTED;case zi.INTERNAL:return Le.INTERNAL;case zi.UNAVAILABLE:return Le.UNAVAILABLE;case zi.UNAUTHENTICATED:return Le.UNAUTHENTICATED;case zi.INVALID_ARGUMENT:return Le.INVALID_ARGUMENT;case zi.NOT_FOUND:return Le.NOT_FOUND;case zi.ALREADY_EXISTS:return Le.ALREADY_EXISTS;case zi.PERMISSION_DENIED:return Le.PERMISSION_DENIED;case zi.FAILED_PRECONDITION:return Le.FAILED_PRECONDITION;case zi.ABORTED:return Le.ABORTED;case zi.OUT_OF_RANGE:return Le.OUT_OF_RANGE;case zi.UNIMPLEMENTED:return Le.UNIMPLEMENTED;case zi.DATA_LOSS:return Le.DATA_LOSS;default:return nn()}}(Vn=zi||(zi={}))[Vn.OK=0]="OK",Vn[Vn.CANCELLED=1]="CANCELLED",Vn[Vn.UNKNOWN=2]="UNKNOWN",Vn[Vn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Vn[Vn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Vn[Vn.NOT_FOUND=5]="NOT_FOUND",Vn[Vn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Vn[Vn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Vn[Vn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Vn[Vn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Vn[Vn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Vn[Vn.ABORTED=10]="ABORTED",Vn[Vn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Vn[Vn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Vn[Vn.INTERNAL=13]="INTERNAL",Vn[Vn.UNAVAILABLE=14]="UNAVAILABLE",Vn[Vn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qot=new og([4294967295,4294967295],0);function Noe(e){const t=Axe().encode(e),n=new xxe;return n.update(t),new Uint8Array(n.digest())}function Ooe(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new og([n,r],0),new og([i,o],0)]}class Dq{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new oS(`Invalid padding: ${n}`);if(r<0)throw new oS(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new oS(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new oS(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=og.fromNumber(this.Ee)}Ae(t,n,r){let i=t.add(n.multiply(og.fromNumber(r)));return i.compare(qot)===1&&(i=new og([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const n=Noe(t),[r,i]=Ooe(n);for(let o=0;o<this.hashCount;o++){const s=this.Ae(r,i,o);if(!this.Re(s))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),s=new Dq(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(t){if(this.Ee===0)return;const n=Noe(t),[r,i]=Ooe(n);for(let o=0;o<this.hashCount;o++){const s=this.Ae(r,i,o);this.Ve(s)}}Ve(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class oS extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(t,n,r,i,o){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,KA.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new bN(dn.min(),i,new fi(_n),_p(),Pn())}}class KA{constructor(t,n,r,i,o){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new KA(r,n,Pn(),Pn(),Pn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(t,n,r,i){this.me=t,this.removedTargetIds=n,this.key=r,this.fe=i}}class o_e{constructor(t,n){this.targetId=t,this.ge=n}}class s_e{constructor(t,n,r=ys.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Loe{constructor(){this.pe=0,this.ye=Foe(),this.we=ys.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=Pn(),n=Pn(),r=Pn();return this.ye.forEach((i,o)=>{switch(o){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:nn()}}),new KA(this.we,this.Se,t,n,r)}Me(){this.be=!1,this.ye=Foe()}xe(t,n){this.be=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,lr(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class Got{constructor(t){this.ke=t,this.qe=new Map,this.Qe=_p(),this.$e=Zk(),this.Ue=Zk(),this.Ke=new fi(_n)}We(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(n,t.fe):this.ze(n,t.key,t.fe);for(const n of t.removedTargetIds)this.ze(n,t.key,t.fe)}je(t){this.forEachTarget(t,n=>{const r=this.He(n);switch(t.state){case 0:this.Je(n)&&r.Ce(t.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(t.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(t.resumeToken));break;default:nn()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(t){const n=t.targetId,r=t.ge.count,i=this.Xe(n);if(i){const o=i.target;if(nj(o))if(r===0){const s=new qt(o.path);this.ze(n,s,qs.newNoDocument(s,dn.min()))}else lr(r===1);else{const s=this.et(n);if(s!==r){const a=this.tt(t),l=a?this.nt(a,t,s):1;if(l!==0){this.Ye(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}tt(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=xg(r).toUint8Array()}catch(l){if(l instanceof $xe)return pC("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Dq(s,i,o)}catch(l){return pC(l instanceof oS?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}nt(t,n,r){return n.ge.count===r-this.st(t,n.targetId)?0:2}st(t,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.ke.it(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.mightContain(a)||(this.ze(n,o,null),i++)}),i}ot(t){const n=new Map;this.qe.forEach((o,s)=>{const a=this.Xe(s);if(a){if(o.current&&nj(a.target)){const l=new qt(a.target.path);this._t(l).has(s)||this.ut(s,l)||this.ze(s,l,qs.newNoDocument(l,t))}o.ve&&(n.set(s,o.Fe()),o.Me())}});let r=Pn();this.Ue.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Xe(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.Qe.forEach((o,s)=>s.setReadTime(t));const i=new bN(t,n,this.Ke,this.Qe,r);return this.Qe=_p(),this.$e=Zk(),this.Ue=Zk(),this.Ke=new fi(_n),i}Ge(t,n){if(!this.Je(t))return;const r=this.ut(t,n.key)?2:0;this.He(t).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(t))}ze(t,n,r){if(!this.Je(t))return;const i=this.He(t);this.ut(t,n)?i.xe(n,1):i.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(t)),this.Ue=this.Ue.insert(n,this.ct(n).add(t)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(t){this.qe.delete(t)}et(t){const n=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let n=this.qe.get(t);return n||(n=new Loe,this.qe.set(t,n)),n}ct(t){let n=this.Ue.get(t);return n||(n=new lo(_n),this.Ue=this.Ue.insert(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new lo(_n),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||It("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new Loe),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ut(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function Zk(){return new fi(qt.comparator)}function Foe(){return new fi(qt.comparator)}const Yot={asc:"ASCENDING",desc:"DESCENDING"},Kot={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xot={and:"AND",or:"OR"};class Qot{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function oj(e,t){return e.useProto3Json||fN(t)?t:{value:t}}function $$(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function a_e(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Jot(e,t){return $$(e,t.toTimestamp())}function lh(e){return lr(!!e),dn.fromTimestamp(function(n){const r=wg(n);return new ao(r.seconds,r.nanos)}(e))}function Mq(e,t){return sj(e,t).canonicalString()}function sj(e,t){const n=function(i){return new Hr(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?n:n.child(t)}function l_e(e){const t=Hr.fromString(e);return lr(f_e(t)),t}function aj(e,t){return Mq(e.databaseId,t.path)}function jF(e,t){const n=l_e(t);if(n.get(1)!==e.databaseId.projectId)throw new St(Le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new St(Le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new qt(c_e(n))}function u_e(e,t){return Mq(e.databaseId,t)}function Zot(e){const t=l_e(e);return t.length===4?Hr.emptyPath():c_e(t)}function lj(e){return new Hr(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function c_e(e){return lr(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function Boe(e,t,n){return{name:aj(e,t),fields:n.value.mapValue.fields}}function est(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:nn()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(lr(c===void 0||typeof c=="string"),ys.fromBase64String(c||"")):(lr(c===void 0||c instanceof Buffer||c instanceof Uint8Array),ys.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(u){const c=u.code===void 0?Le.UNKNOWN:i_e(u.code);return new St(c,u.message||"")}(s);n=new s_e(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=jF(e,r.document.name),o=lh(r.document.updateTime),s=r.document.createTime?lh(r.document.createTime):dn.min(),a=new rl({mapValue:{fields:r.document.fields}}),l=qs.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new zI(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=jF(e,r.document),o=r.readTime?lh(r.readTime):dn.min(),s=qs.newNoDocument(i,o),a=r.removedTargetIds||[];n=new zI([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=jF(e,r.document),o=r.removedTargetIds||[];n=new zI([],o,i,null)}else{if(!("filter"in t))return nn();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new Vot(i,o),a=r.targetId;n=new o_e(a,s)}}return n}function tst(e,t){let n;if(t instanceof YA)n={update:Boe(e,t.key,t.value)};else if(t instanceof Rq)n={delete:aj(e,t.key)};else if(t instanceof s0)n={update:Boe(e,t.key,t.data),updateMask:cst(t.fieldMask)};else{if(!(t instanceof zot))return nn();n={verify:aj(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof wC)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof xC)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof _C)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof R$)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw nn()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:Jot(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:nn()}(e,t.precondition)),n}function nst(e,t){return e&&e.length>0?(lr(t!==void 0),e.map(n=>function(i,o){let s=i.updateTime?lh(i.updateTime):lh(o);return s.isEqual(dn.min())&&(s=lh(o)),new Fot(s,i.transformResults||[])}(n,t))):[]}function rst(e,t){return{documents:[u_e(e,t.path)]}}function ist(e,t){const n={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=u_e(e,i);const o=function(u){if(u.length!==0)return h_e(rd.create(u,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:d1(h.field),direction:ast(h.dir)}}(c))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=oj(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),{ht:n,parent:i}}function ost(e){let t=Zot(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){lr(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let o=[];n.where&&(o=function(d){const h=d_e(d);return h instanceof rd&&zxe(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(h=>function(p){return new bC(h1(p.field),function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,fN(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,f=d.values||[];return new I$(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,f=d.values||[];return new I$(f,h)}(n.endAt)),Sot(t,i,s,o,a,"F",l,u)}function sst(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return nn()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function d_e(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=h1(n.unaryFilter.field);return Wi.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=h1(n.unaryFilter.field);return Wi.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=h1(n.unaryFilter.field);return Wi.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=h1(n.unaryFilter.field);return Wi.create(s,"!=",{nullValue:"NULL_VALUE"});default:return nn()}}(e):e.fieldFilter!==void 0?function(n){return Wi.create(h1(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return nn()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return rd.create(n.compositeFilter.filters.map(r=>d_e(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return nn()}}(n.compositeFilter.op))}(e):nn()}function ast(e){return Yot[e]}function lst(e){return Kot[e]}function ust(e){return Xot[e]}function d1(e){return{fieldPath:e.canonicalString()}}function h1(e){return is.fromServerFormat(e.fieldPath)}function h_e(e){return e instanceof Wi?function(n){if(n.op==="=="){if(Coe(n.value))return{unaryFilter:{field:d1(n.field),op:"IS_NAN"}};if(Toe(n.value))return{unaryFilter:{field:d1(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Coe(n.value))return{unaryFilter:{field:d1(n.field),op:"IS_NOT_NAN"}};if(Toe(n.value))return{unaryFilter:{field:d1(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:d1(n.field),op:lst(n.op),value:n.value}}}(e):e instanceof rd?function(n){const r=n.getFilters().map(i=>h_e(i));return r.length===1?r[0]:{compositeFilter:{op:ust(n.op),filters:r}}}(e):nn()}function cst(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function f_e(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(t,n,r,i,o=dn.min(),s=dn.min(),a=ys.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new Om(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Om(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Om(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Om(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dst{constructor(t){this.Tt=t}}function hst(e){const t=ost({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?ij(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fst{constructor(){this.Tn=new pst}addToCollectionParentIndex(t,n){return this.Tn.add(n),Be.resolve()}getCollectionParents(t,n){return Be.resolve(this.Tn.getEntries(n))}addFieldIndex(t,n){return Be.resolve()}deleteFieldIndex(t,n){return Be.resolve()}deleteAllFieldIndexes(t){return Be.resolve()}createTargetIndexes(t,n){return Be.resolve()}getDocumentsMatchingTarget(t,n){return Be.resolve(null)}getIndexType(t,n){return Be.resolve(0)}getFieldIndexes(t,n){return Be.resolve([])}getNextCollectionGroupToUpdate(t){return Be.resolve(null)}getMinOffset(t,n){return Be.resolve(bg.min())}getMinOffsetFromCollectionGroup(t,n){return Be.resolve(bg.min())}updateCollectionGroup(t,n,r){return Be.resolve()}updateIndexEntries(t,n){return Be.resolve()}}class pst{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new lo(Hr.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new lo(Hr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const joe={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},p_e=41943040;class Ja{static withCacheSize(t){return new Ja(t,Ja.DEFAULT_COLLECTION_PERCENTILE,Ja.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ja.DEFAULT_COLLECTION_PERCENTILE=10,Ja.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ja.DEFAULT=new Ja(p_e,Ja.DEFAULT_COLLECTION_PERCENTILE,Ja.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ja.DISABLED=new Ja(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new jw(0)}static Kn(){return new jw(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zoe="LruGarbageCollector",m_e=1048576;function Uoe([e,t],[n,r]){const i=_n(e,n);return i===0?_n(t,r):i}class mst{constructor(t){this.Hn=t,this.buffer=new lo(Uoe),this.Jn=0}Yn(){return++this.Jn}Zn(t){const n=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Uoe(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class gst{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){It(zoe,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){h_(n)?It(zoe,"Ignoring IndexedDB error during garbage collection: ",n):await d_(n)}await this.er(3e5)})}}class yst{constructor(t,n){this.tr=t,this.params=n}calculateTargetCount(t,n){return this.tr.nr(t).next(r=>Math.floor(n/100*r))}nthSequenceNumber(t,n){if(n===0)return Be.resolve(hN.ae);const r=new mst(n);return this.tr.forEachTarget(t,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(t,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(t,n,r){return this.tr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.tr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(It("LruGarbageCollector","Garbage collection skipped; disabled"),Be.resolve(joe)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(It("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),joe):this.ir(t,n))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,n){let r,i,o,s,a,l,u;const c=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(It("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,s=Date.now(),this.nthSequenceNumber(t,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(t,r,n))).next(d=>(o=d,l=Date.now(),this.removeOrphanedDocuments(t,r))).next(d=>(u=Date.now(),u1()<=Mn.DEBUG&&It("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-c}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),Be.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:d})))}}function vst(e,t){return new yst(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bst{constructor(){this.changes=new Jv(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,qs.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Be.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wst{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xst{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&hT(r.mutation,i,zl.empty(),ao.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,Pn()).next(()=>r))}getLocalViewOfDocuments(t,n,r=Pn()){const i=xy();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(o=>{let s=iS();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,n){const r=xy();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,Pn()))}populateOverlays(t,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(t,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(t,n,r,i){let o=_p();const s=dT(),a=function(){return dT()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof s0)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),hT(c.mutation,u,c.mutation.getFieldMask(),ao.now())):s.set(u.key,zl.empty())}),this.recalculateAndSaveOverlays(t,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new wst(c,(d=s.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(t,n){const r=dT();let i=new fi((s,a)=>s-a),o=Pn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||zl.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||Pn()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=Xxe();c.forEach(h=>{if(!o.has(h)){const f=n_e(n.get(h),r.get(h));f!==null&&d.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(t,u,d))}return Be.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(s){return qt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Wxe(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-o.size):Be.resolve(xy());let a=mC,l=o;return s.next(u=>Be.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(c)?Be.resolve():this.remoteDocumentCache.getEntry(t,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(t,u,o)).next(()=>this.computeViews(t,l,u,Pn())).next(c=>({batchId:a,changes:Kxe(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new qt(n)).next(r=>{let i=iS();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const o=n.collectionGroup;let s=iS();return this.indexManager.getCollectionParents(t,o).next(a=>Be.forEach(a,l=>{const u=function(d,h){return new f_(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(t,u,r,i).next(c=>{c.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,qs.newInvalidDocument(c)))});let a=iS();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&hT(c.mutation,u,zl.empty(),ao.now()),gN(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _st{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,n){return Be.resolve(this.dr.get(n))}saveBundleMetadata(t,n){return this.dr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:lh(i.createTime)}}(n)),Be.resolve()}getNamedQuery(t,n){return Be.resolve(this.Ar.get(n))}saveNamedQuery(t,n){return this.Ar.set(n.name,function(i){return{name:i.name,query:hst(i.bundledQuery),readTime:lh(i.readTime)}}(n)),Be.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Est{constructor(){this.overlays=new fi(qt.comparator),this.Rr=new Map}getOverlay(t,n){return Be.resolve(this.overlays.get(n))}getOverlays(t,n){const r=xy();return Be.forEach(n,i=>this.getOverlay(t,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,o)=>{this.Et(t,n,o)}),Be.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),Be.resolve()}getOverlaysForCollection(t,n,r){const i=xy(),o=n.length+1,s=new qt(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Be.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let o=new fi((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=xy(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=xy(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return Be.resolve(a)}Et(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Hot(n,r));let o=this.Rr.get(n);o===void 0&&(o=Pn(),this.Rr.set(n,o)),this.Rr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sst{constructor(){this.sessionToken=ys.EMPTY_BYTE_STRING}getSessionToken(t){return Be.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Be.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pq{constructor(){this.Vr=new lo(wo.mr),this.gr=new lo(wo.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,n){const r=new wo(t,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.wr(new wo(t,n))}Sr(t,n){t.forEach(r=>this.removeReference(r,n))}br(t){const n=new qt(new Hr([])),r=new wo(n,t),i=new wo(n,t+1),o=[];return this.gr.forEachInRange([r,i],s=>{this.wr(s),o.push(s.key)}),o}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const n=new qt(new Hr([])),r=new wo(n,t),i=new wo(n,t+1);let o=Pn();return this.gr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(t){const n=new wo(t,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class wo{constructor(t,n){this.key=t,this.Cr=n}static mr(t,n){return qt.comparator(t.key,n.key)||_n(t.Cr,n.Cr)}static pr(t,n){return _n(t.Cr,n.Cr)||qt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tst{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new lo(wo.mr)}checkEmpty(t){return Be.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Uot(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Mr=this.Mr.add(new wo(a.key,o)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return Be.resolve(s)}lookupMutationBatch(t,n){return Be.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.Nr(r),o=i<0?0:i;return Be.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Be.resolve(this.mutationQueue.length===0?Eq:this.Fr-1)}getAllMutationBatches(t){return Be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new wo(n,0),i=new wo(n,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,i],s=>{const a=this.Or(s.Cr);o.push(a)}),Be.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new lo(_n);return n.forEach(i=>{const o=new wo(i,0),s=new wo(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,s],a=>{r=r.add(a.Cr)})}),Be.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let o=r;qt.isDocumentKey(o)||(o=o.child(""));const s=new wo(new qt(o),0);let a=new lo(_n);return this.Mr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Cr)),!0)},s),Be.resolve(this.Br(a))}Br(t){const n=[];return t.forEach(r=>{const i=this.Or(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){lr(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return Be.forEach(n.mutations,i=>{const o=new wo(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Mr=r})}qn(t){}containsKey(t,n){const r=new wo(n,0),i=this.Mr.firstAfterOrEqual(r);return Be.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,Be.resolve()}Lr(t,n){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const n=this.Nr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cst{constructor(t){this.kr=t,this.docs=function(){return new fi(qt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return Be.resolve(r?r.document.mutableCopy():qs.newInvalidDocument(n))}getEntries(t,n){let r=_p();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():qs.newInvalidDocument(i))}),Be.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let o=_p();const s=n.path,a=new qt(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||not(tot(c),r)<=0||(i.has(c.key)||gN(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return Be.resolve(o)}getAllFromCollectionGroup(t,n,r,i){nn()}qr(t,n){return Be.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new Ast(this)}getSize(t){return Be.resolve(this.size)}}class Ast extends bst{constructor(t){super(),this.Ir=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Ir.addEntry(t,i)):this.Ir.removeEntry(r)}),Be.waitFor(n)}getFromCache(t,n){return this.Ir.getEntry(t,n)}getAllFromCache(t,n){return this.Ir.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kst{constructor(t){this.persistence=t,this.Qr=new Jv(n=>Cq(n),Aq),this.lastRemoteSnapshotVersion=dn.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Pq,this.targetCount=0,this.Kr=jw.Un()}forEachTarget(t,n){return this.Qr.forEach((r,i)=>n(i)),Be.resolve()}getLastRemoteSnapshotVersion(t){return Be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Be.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),Be.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),Be.resolve()}zn(t){this.Qr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Kr=new jw(n),this.highestTargetId=n),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,n){return this.zn(n),this.targetCount+=1,Be.resolve()}updateTargetData(t,n){return this.zn(n),Be.resolve()}removeTargetData(t,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,Be.resolve()}removeTargets(t,n,r){let i=0;const o=[];return this.Qr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Qr.delete(s),o.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),Be.waitFor(o).next(()=>i)}getTargetCount(t){return Be.resolve(this.targetCount)}getTargetData(t,n){const r=this.Qr.get(n)||null;return Be.resolve(r)}addMatchingKeys(t,n,r){return this.Ur.yr(n,r),Be.resolve()}removeMatchingKeys(t,n,r){this.Ur.Sr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(t,s))}),Be.waitFor(o)}removeMatchingKeysForTargetId(t,n){return this.Ur.br(n),Be.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Ur.vr(n);return Be.resolve(r)}containsKey(t,n){return Be.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_e{constructor(t,n){this.Wr={},this.overlays={},this.Gr=new hN(0),this.zr=!1,this.zr=!0,this.jr=new Sst,this.referenceDelegate=t(this),this.Hr=new kst(this),this.indexManager=new fst,this.remoteDocumentCache=function(i){return new Cst(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new dst(n),this.Yr=new _st(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Est,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Wr[t.toKey()];return r||(r=new Tst(n,this.referenceDelegate),this.Wr[t.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,n,r){It("MemoryPersistence","Starting transaction:",t);const i=new Ist(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(o=>this.referenceDelegate.Xr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}ei(t,n){return Be.or(Object.values(this.Wr).map(r=>()=>r.containsKey(t,n)))}}class Ist extends iot{constructor(t){super(),this.currentSequenceNumber=t}}class Nq{constructor(t){this.persistence=t,this.ti=new Pq,this.ni=null}static ri(t){return new Nq(t)}get ii(){if(this.ni)return this.ni;throw nn()}addReference(t,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),Be.resolve()}removeReference(t,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),Be.resolve()}markPotentiallyOrphaned(t,n){return this.ii.add(n.toString()),Be.resolve()}removeTarget(t,n){this.ti.br(n.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(t,n))}Zr(){this.ni=new Set}Xr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Be.forEach(this.ii,r=>{const i=qt.fromPath(r);return this.si(t,i).next(o=>{o||n.removeEntry(i,dn.min())})}).next(()=>(this.ni=null,n.apply(t)))}updateLimboDocument(t,n){return this.si(t,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(t){return 0}si(t,n){return Be.or([()=>Be.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.ei(t,n)])}}class D${constructor(t,n){this.persistence=t,this.oi=new Jv(r=>aot(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=vst(this,n)}static ri(t,n){return new D$(t,n)}Zr(){}Xr(t){return Be.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}nr(t){const n=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>n.next(i=>r+i))}sr(t){let n=0;return this.rr(t,r=>{n++}).next(()=>n)}rr(t,n){return Be.forEach(this.oi,(r,i)=>this.ar(t,r,i).next(o=>o?Be.resolve():n(i)))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.qr(t,s=>this.ar(t,s,n).next(a=>{a||(r++,o.removeEntry(s,dn.min()))})).next(()=>o.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,n){return this.oi.set(n,t.currentSequenceNumber),Be.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.oi.set(r,t.currentSequenceNumber),Be.resolve()}removeReference(t,n,r){return this.oi.set(r,t.currentSequenceNumber),Be.resolve()}updateLimboDocument(t,n){return this.oi.set(n,t.currentSequenceNumber),Be.resolve()}Jr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=FI(t.data.value)),n}ar(t,n,r){return Be.or([()=>this.persistence.ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const i=this.oi.get(n);return Be.resolve(i!==void 0&&i>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oq{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.Hi=r,this.Ji=i}static Yi(t,n){let r=Pn(),i=Pn();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Oq(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rst{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $st{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return int()?8:oot(oa())>0?6:4}()}initialize(t,n){this.ns=t,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(t,n,r,i){const o={result:null};return this.rs(t,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ss(t,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Rst;return this._s(t,n,s).next(a=>{if(o.result=a,this.Xi)return this.us(t,n,s,a.size)})}).next(()=>o.result)}us(t,n,r,i){return r.documentReadCount<this.es?(u1()<=Mn.DEBUG&&It("QueryEngine","SDK will not create cache indexes for query:",c1(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Be.resolve()):(u1()<=Mn.DEBUG&&It("QueryEngine","Query:",c1(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(u1()<=Mn.DEBUG&&It("QueryEngine","The SDK decides to create cache indexes for query:",c1(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ah(n))):Be.resolve())}rs(t,n){if(Roe(n))return Be.resolve(null);let r=ah(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ij(n,null,"F"),r=ah(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(o=>{const s=Pn(...o);return this.ns.getDocuments(t,s).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.cs(n,a);return this.ls(n,u,s,l.readTime)?this.rs(t,ij(n,null,"F")):this.hs(t,u,n,l)}))})))}ss(t,n,r,i){return Roe(n)||i.isEqual(dn.min())?Be.resolve(null):this.ns.getDocuments(t,r).next(o=>{const s=this.cs(n,o);return this.ls(n,s,r,i)?Be.resolve(null):(u1()<=Mn.DEBUG&&It("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),c1(n)),this.hs(t,s,n,eot(i,mC)).next(a=>a))})}cs(t,n){let r=new lo(Gxe(t));return n.forEach((i,o)=>{gN(t,o)&&(r=r.add(o))}),r}ls(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const o=t.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}_s(t,n,r){return u1()<=Mn.DEBUG&&It("QueryEngine","Using full collection scan to execute query:",c1(n)),this.ns.getDocumentsMatchingQuery(t,n,bg.min(),r)}hs(t,n,r,i){return this.ns.getDocumentsMatchingQuery(t,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lq="LocalStore",Dst=3e8;class Mst{constructor(t,n,r,i){this.persistence=t,this.Ps=n,this.serializer=i,this.Ts=new fi(_n),this.Is=new Jv(o=>Cq(o),Aq),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(r)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new xst(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ts))}}function Pst(e,t,n,r){return new Mst(e,t,n,r)}async function y_e(e,t){const n=hn(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.As(t),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Pn();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Rs:u,removedBatchIds:s,addedBatchIds:a}))})})}function Nst(e,t){const n=hn(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),o=n.ds.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,h=d.keys();let f=Be.resolve();return h.forEach(p=>{f=f.next(()=>c.getEntry(l,p)).next(m=>{const g=u.docVersions.get(p);lr(g!==null),m.version.compareTo(g)<0&&(d.applyToRemoteDocument(m,u),m.isValidDocument()&&(m.setReadTime(u.commitVersion),c.addEntry(m)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,t,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Pn();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function v_e(e){const t=hn(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Hr.getLastRemoteSnapshotVersion(n))}function Ost(e,t){const n=hn(e),r=t.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const a=[];t.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Hr.removeMatchingKeys(o,c.removedDocuments,d).next(()=>n.Hr.addMatchingKeys(o,c.addedDocuments,d)));let f=h.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(d)!==null?f=f.withResumeToken(ys.EMPTY_BYTE_STRING,dn.min()).withLastLimboFreeSnapshotVersion(dn.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(d,f),function(m,g,y){return m.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=Dst?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,f,c)&&a.push(n.Hr.updateTargetData(o,f))});let l=_p(),u=Pn();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(Lst(o,s,t.documentUpdates).next(c=>{l=c.Vs,u=c.fs})),!r.isEqual(dn.min())){const c=n.Hr.getLastRemoteSnapshotVersion(o).next(d=>n.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return Be.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.Ts=i,o))}function Lst(e,t,n){let r=Pn(),i=Pn();return n.forEach(o=>r=r.add(o)),t.getEntries(e,r).next(o=>{let s=_p();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(dn.min())?(t.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),s=s.insert(a,l)):It(Lq,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Vs:s,fs:i}})}function Fst(e,t){const n=hn(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=Eq),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function Bst(e,t){const n=hn(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Hr.getTargetData(r,t).next(o=>o?(i=o,Be.resolve(i)):n.Hr.allocateTargetId(r).next(s=>(i=new Om(t,s,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(t,r.targetId)),r})}async function uj(e,t,n){const r=hn(e),i=r.Ts.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!h_(s))throw s;It(Lq,`Failed to update sequence numbers for target ${t}: ${s}`)}r.Ts=r.Ts.remove(t),r.Is.delete(i.target)}function Hoe(e,t,n){const r=hn(e);let i=dn.min(),o=Pn();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const d=hn(l),h=d.Is.get(c);return h!==void 0?Be.resolve(d.Ts.get(h)):d.Hr.getTargetData(u,c)}(r,s,ah(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Ps.getDocumentsMatchingQuery(s,t,n?i:dn.min(),n?o:Pn())).next(a=>(jst(r,Cot(t),a),{documents:a,gs:o})))}function jst(e,t,n){let r=e.Es.get(t)||dn.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),e.Es.set(t,r)}class Voe{constructor(){this.activeTargetIds=Dot()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class zst{constructor(){this.ho=new Voe,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,n,r){this.Po[t]=n}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new Voe,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ust{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Woe="ConnectivityMonitor";class qoe{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){It(Woe,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){It(Woe,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e3=null;function cj(){return e3===null?e3=function(){return 268435456+Math.round(2147483648*Math.random())}():e3++,"0x"+e3.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zF="RestConnection",Hst={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Vst{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===A$?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(t,n,r,i,o){const s=cj(),a=this.bo(t,n.toUriEncodedString());It(zF,`Sending RPC '${t}' ${s}:`,a,r);const l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(l,i,o),this.vo(t,a,l,r).then(u=>(It(zF,`Received RPC '${t}' ${s}: `,u),u),u=>{throw pC(zF,`RPC '${t}' ${s} failed with error: `,u,"url: ",a,"request:",r),u})}Co(t,n,r,i,o,s){return this.So(t,n,r,i,o)}Do(t,n,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+c_}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>t[o]=i),r&&r.headers.forEach((i,o)=>t[o]=i)}bo(t,n){const r=Hst[t];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wst{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms="WebChannelConnection";class qst extends Vst{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,r,i){const o=cj();return new Promise((s,a)=>{const l=new _xe;l.setWithCredentials(!0),l.listenOnce(Exe.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case LI.NO_ERROR:const c=l.getResponseJson();It(Ms,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(c)),s(c);break;case LI.TIMEOUT:It(Ms,`RPC '${t}' ${o} timed out`),a(new St(Le.DEADLINE_EXCEEDED,"Request time out"));break;case LI.HTTP_ERROR:const d=l.getStatus();if(It(Ms,`RPC '${t}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const p=function(g){const y=g.toLowerCase().replace(/_/g,"-");return Object.values(Le).indexOf(y)>=0?y:Le.UNKNOWN}(f.status);a(new St(p,f.message))}else a(new St(Le.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new St(Le.UNAVAILABLE,"Connection failed."));break;default:nn()}}finally{It(Ms,`RPC '${t}' ${o} completed.`)}});const u=JSON.stringify(i);It(Ms,`RPC '${t}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Wo(t,n,r){const i=cj(),o=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=Cxe(),a=Txe(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");It(Ms,`Creating RPC '${t}' stream ${i}: ${c}`,l);const d=s.createWebChannel(c,l);let h=!1,f=!1;const p=new Wst({Fo:g=>{f?It(Ms,`Not sending because RPC '${t}' stream ${i} is closed:`,g):(h||(It(Ms,`Opening RPC '${t}' stream ${i} transport.`),d.open(),h=!0),It(Ms,`RPC '${t}' stream ${i} sending:`,g),d.send(g))},Mo:()=>d.close()}),m=(g,y,v)=>{g.listen(y,b=>{try{v(b)}catch(_){setTimeout(()=>{throw _},0)}})};return m(d,rS.EventType.OPEN,()=>{f||(It(Ms,`RPC '${t}' stream ${i} transport opened.`),p.Qo())}),m(d,rS.EventType.CLOSE,()=>{f||(f=!0,It(Ms,`RPC '${t}' stream ${i} transport closed`),p.Uo())}),m(d,rS.EventType.ERROR,g=>{f||(f=!0,pC(Ms,`RPC '${t}' stream ${i} transport errored:`,g),p.Uo(new St(Le.UNAVAILABLE,"The operation could not be completed")))}),m(d,rS.EventType.MESSAGE,g=>{var y;if(!f){const v=g.data[0];lr(!!v);const b=v,_=(b==null?void 0:b.error)||((y=b[0])===null||y===void 0?void 0:y.error);if(_){It(Ms,`RPC '${t}' stream ${i} received error:`,_);const x=_.status;let w=function(T){const C=zi[T];if(C!==void 0)return i_e(C)}(x),E=_.message;w===void 0&&(w=Le.INTERNAL,E="Unknown error status: "+x+" with message "+_.message),f=!0,p.Uo(new St(w,E)),d.close()}else It(Ms,`RPC '${t}' stream ${i} received:`,v),p.Ko(v)}}),m(a,Sxe.STAT_EVENT,g=>{g.stat===Q9.PROXY?It(Ms,`RPC '${t}' stream ${i} detected buffering proxy`):g.stat===Q9.NOPROXY&&It(Ms,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.$o()},0),p}}function UF(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(e){return new Qot(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_e{constructor(t,n,r=1e3,i=1.5,o=6e4){this.Ti=t,this.timerId=n,this.Go=r,this.zo=i,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&It("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Goe="PersistentStream";class w_e{constructor(t,n,r,i,o,s,a,l){this.Ti=t,this.n_=r,this.r_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new b_e(t,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():n&&n.code===Le.RESOURCE_EXHAUSTED?(xp(n.toString()),xp("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===Le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===n&&this.V_(r,i)},r=>{t(()=>{const i=new St(Le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(t,n){const r=this.R_(this.i_);this.stream=this.f_(t,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return It(Goe,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return n=>{this.Ti.enqueueAndForget(()=>this.i_===t?n():(It(Goe,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Gst extends w_e{constructor(t,n,r,i,o,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}f_(t,n){return this.connection.Wo("Listen",t,n)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const n=est(this.serializer,t),r=function(o){if(!("targetChange"in o))return dn.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?dn.min():s.readTime?lh(s.readTime):dn.min()}(t);return this.listener.p_(n,r)}y_(t){const n={};n.database=lj(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=nj(l)?{documents:rst(o,l)}:{query:ist(o,l).ht},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=a_e(o,s.resumeToken);const u=oj(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(dn.min())>0){a.readTime=$$(o,s.snapshotVersion.toTimestamp());const u=oj(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,t);const r=sst(this.serializer,t);r&&(n.labels=r),this.I_(n)}w_(t){const n={};n.database=lj(this.serializer),n.removeTarget=t,this.I_(n)}}class Yst extends w_e{constructor(t,n,r,i,o,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,n){return this.connection.Wo("Write",t,n)}g_(t){return lr(!!t.streamToken),this.lastStreamToken=t.streamToken,lr(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){lr(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const n=nst(t.writeResults,t.commitTime),r=lh(t.commitTime);return this.listener.v_(r,n)}C_(){const t={};t.database=lj(this.serializer),this.I_(t)}b_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>tst(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kst{}class Xst extends Kst{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new St(Le.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(t,sj(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new St(Le.UNKNOWN,o.toString())})}Co(t,n,r,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Co(t,sj(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new St(Le.UNKNOWN,s.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class Qst{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(xp(n),this.N_=!1):It("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="RemoteStore";class Jst{constructor(t,n,r,i,o){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(s=>{r.enqueueAndForget(async()=>{Zv(this)&&(It(tv,"Restarting streams for network reachability change."),await async function(l){const u=hn(l);u.W_.add(4),await QA(u),u.j_.set("Unknown"),u.W_.delete(4),await XA(u)}(this))})}),this.j_=new Qst(r,i)}}async function XA(e){if(Zv(e))for(const t of e.G_)await t(!0)}async function QA(e){for(const t of e.G_)await t(!1)}function x_e(e,t){const n=hn(e);n.K_.has(t.targetId)||(n.K_.set(t.targetId,t),zq(n)?jq(n):p_(n).c_()&&Bq(n,t))}function Fq(e,t){const n=hn(e),r=p_(n);n.K_.delete(t),r.c_()&&__e(n,t),n.K_.size===0&&(r.c_()?r.P_():Zv(n)&&n.j_.set("Unknown"))}function Bq(e,t){if(e.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(dn.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}p_(e).y_(t)}function __e(e,t){e.H_.Ne(t),p_(e).w_(t)}function jq(e){e.H_=new Got({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.K_.get(t)||null,it:()=>e.datastore.serializer.databaseId}),p_(e).start(),e.j_.B_()}function zq(e){return Zv(e)&&!p_(e).u_()&&e.K_.size>0}function Zv(e){return hn(e).W_.size===0}function E_e(e){e.H_=void 0}async function Zst(e){e.j_.set("Online")}async function eat(e){e.K_.forEach((t,n)=>{Bq(e,t)})}async function tat(e,t){E_e(e),zq(e)?(e.j_.q_(t),jq(e)):e.j_.set("Unknown")}async function nat(e,t,n){if(e.j_.set("Online"),t instanceof s_e&&t.state===2&&t.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.K_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.K_.delete(a),i.H_.removeTarget(a))}(e,t)}catch(r){It(tv,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await M$(e,r)}else if(t instanceof zI?e.H_.We(t):t instanceof o_e?e.H_.Ze(t):e.H_.je(t),!n.isEqual(dn.min()))try{const r=await v_e(e.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.H_.ot(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.K_.get(u);c&&o.K_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.K_.get(l);if(!c)return;o.K_.set(l,c.withResumeToken(ys.EMPTY_BYTE_STRING,c.snapshotVersion)),__e(o,l);const d=new Om(c.target,l,u,c.sequenceNumber);Bq(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){It(tv,"Failed to raise snapshot:",r),await M$(e,r)}}async function M$(e,t,n){if(!h_(t))throw t;e.W_.add(1),await QA(e),e.j_.set("Offline"),n||(n=()=>v_e(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{It(tv,"Retrying IndexedDB access"),await n(),e.W_.delete(1),await XA(e)})}function S_e(e,t){return t().catch(n=>M$(e,n,t))}async function xN(e){const t=hn(e),n=Eg(t);let r=t.U_.length>0?t.U_[t.U_.length-1].batchId:Eq;for(;rat(t);)try{const i=await Fst(t.localStore,r);if(i===null){t.U_.length===0&&n.P_();break}r=i.batchId,iat(t,i)}catch(i){await M$(t,i)}T_e(t)&&C_e(t)}function rat(e){return Zv(e)&&e.U_.length<10}function iat(e,t){e.U_.push(t);const n=Eg(e);n.c_()&&n.S_&&n.b_(t.mutations)}function T_e(e){return Zv(e)&&!Eg(e).u_()&&e.U_.length>0}function C_e(e){Eg(e).start()}async function oat(e){Eg(e).C_()}async function sat(e){const t=Eg(e);for(const n of e.U_)t.b_(n.mutations)}async function aat(e,t,n){const r=e.U_.shift(),i=$q.from(r,t,n);await S_e(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await xN(e)}async function lat(e,t){t&&Eg(e).S_&&await async function(r,i){if(function(s){return Wot(s)&&s!==Le.ABORTED}(i.code)){const o=r.U_.shift();Eg(r).h_(),await S_e(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await xN(r)}}(e,t),T_e(e)&&C_e(e)}async function Yoe(e,t){const n=hn(e);n.asyncQueue.verifyOperationInProgress(),It(tv,"RemoteStore received new credentials");const r=Zv(n);n.W_.add(3),await QA(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await XA(n)}async function uat(e,t){const n=hn(e);t?(n.W_.delete(2),await XA(n)):t||(n.W_.add(2),await QA(n),n.j_.set("Unknown"))}function p_(e){return e.J_||(e.J_=function(n,r,i){const o=hn(n);return o.M_(),new Gst(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(e.datastore,e.asyncQueue,{xo:Zst.bind(null,e),No:eat.bind(null,e),Lo:tat.bind(null,e),p_:nat.bind(null,e)}),e.G_.push(async t=>{t?(e.J_.h_(),zq(e)?jq(e):e.j_.set("Unknown")):(await e.J_.stop(),E_e(e))})),e.J_}function Eg(e){return e.Y_||(e.Y_=function(n,r,i){const o=hn(n);return o.M_(),new Yst(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(e.datastore,e.asyncQueue,{xo:()=>Promise.resolve(),No:oat.bind(null,e),Lo:lat.bind(null,e),D_:sat.bind(null,e),v_:aat.bind(null,e)}),e.G_.push(async t=>{t?(e.Y_.h_(),await xN(e)):(await e.Y_.stop(),e.U_.length>0&&(It(tv,`Stopping write stream with ${e.U_.length} pending writes`),e.U_=[]))})),e.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uq{constructor(t,n,r,i,o){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Qf,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,o){const s=Date.now()+r,a=new Uq(t,n,s,i,o);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new St(Le.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hq(e,t){if(xp("AsyncQueue",`${t}: ${e}`),h_(e))return new St(Le.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{static emptySet(t){return new tw(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||qt.comparator(n.key,r.key):(n,r)=>qt.comparator(n.key,r.key),this.keyedMap=iS(),this.sortedSet=new fi(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof tw)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new tw;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Koe{constructor(){this.Z_=new fi(qt.comparator)}track(t){const n=t.doc.key,r=this.Z_.get(n);r?t.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,t):t.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Z_=this.Z_.remove(n):t.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):nn():this.Z_=this.Z_.insert(n,t)}X_(){const t=[];return this.Z_.inorderTraversal((n,r)=>{t.push(r)}),t}}class zw{constructor(t,n,r,i,o,s,a,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new zw(t,n,tw.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&mN(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cat{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class dat{constructor(){this.queries=Xoe(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const i=hn(n),o=i.queries;i.queries=Xoe(),o.forEach((s,a)=>{for(const l of a.ta)l.onError(r)})})(this,new St(Le.ABORTED,"Firestore shutting down"))}}function Xoe(){return new Jv(e=>qxe(e),mN)}async function A_e(e,t){const n=hn(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.na()&&t.ra()&&(r=2):(o=new cat,r=t.ra()?0:1);try{switch(r){case 0:o.ea=await n.onListen(i,!0);break;case 1:o.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=Hq(s,`Initialization of query '${c1(t.query)}' failed`);return void t.onError(a)}n.queries.set(i,o),o.ta.push(t),t.sa(n.onlineState),o.ea&&t.oa(o.ea)&&Vq(n)}async function k_e(e,t){const n=hn(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const s=o.ta.indexOf(t);s>=0&&(o.ta.splice(s,1),o.ta.length===0?i=t.ra()?0:1:!o.na()&&t.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function hat(e,t){const n=hn(e);let r=!1;for(const i of t){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.ta)a.oa(i)&&(r=!0);s.ea=i}}r&&Vq(n)}function fat(e,t,n){const r=hn(e),i=r.queries.get(t);if(i)for(const o of i.ta)o.onError(n);r.queries.delete(t)}function Vq(e){e.ia.forEach(t=>{t.next()})}var dj,Qoe;(Qoe=dj||(dj={}))._a="default",Qoe.Cache="cache";class I_e{constructor(t,n,r){this.query=t,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new zw(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ua?this.la(t)&&(this.aa.next(t),n=!0):this.ha(t,this.onlineState)&&(this.Pa(t),n=!0),this.ca=t,n}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),n=!0),n}ha(t,n){if(!t.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}la(t){if(t.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(t){t=zw.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==dj.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_e{constructor(t){this.key=t}}class $_e{constructor(t){this.key=t}}class pat{constructor(t,n){this.query=t,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Pn(),this.mutatedKeys=Pn(),this.ya=Gxe(t),this.wa=new tw(this.ya)}get Sa(){return this.fa}ba(t,n){const r=n?n.Da:new Koe,i=n?n.wa:this.wa;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,d)=>{const h=i.get(c),f=gN(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let g=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),g=!0):this.va(h,f)||(r.track({type:2,doc:f}),g=!0,(l&&this.ya(f,l)>0||u&&this.ya(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),g=!0):h&&!f&&(r.track({type:1,doc:h}),g=!0,(l||u)&&(a=!0)),g&&(f?(s=s.add(f),o=m?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{wa:s,Da:r,ls:a,mutatedKeys:o}}va(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const o=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const s=t.Da.X_();s.sort((c,d)=>function(f,p){const m=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nn()}};return m(f)-m(p)}(c.type,d.type)||this.ya(c.doc,d.doc)),this.Ca(r),i=i!=null&&i;const a=n&&!i?this.Fa():[],l=this.pa.size===0&&this.current&&!i?1:0,u=l!==this.ga;return this.ga=l,s.length!==0||u?{snapshot:new zw(this.query,t.wa,o,s,t.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Koe,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Pn(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return t.forEach(r=>{this.pa.has(r)||n.push(new $_e(r))}),this.pa.forEach(r=>{t.has(r)||n.push(new R_e(r))}),n}Oa(t){this.fa=t.gs,this.pa=Pn();const n=this.ba(t.documents);return this.applyChanges(n,!0)}Na(){return zw.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Wq="SyncEngine";class mat{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class gat{constructor(t){this.key=t,this.Ba=!1}}class yat{constructor(t,n,r,i,o,s){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.La={},this.ka=new Jv(a=>qxe(a),mN),this.qa=new Map,this.Qa=new Set,this.$a=new fi(qt.comparator),this.Ua=new Map,this.Ka=new Pq,this.Wa={},this.Ga=new Map,this.za=jw.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function vat(e,t,n=!0){const r=L_e(e);let i;const o=r.ka.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=await D_e(r,t,n,!0),i}async function bat(e,t){const n=L_e(e);await D_e(n,t,!0,!1)}async function D_e(e,t,n,r){const i=await Bst(e.localStore,ah(t)),o=i.targetId,s=e.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await wat(e,t,o,s==="current",i.resumeToken)),e.isPrimaryClient&&n&&x_e(e.remoteStore,i),a}async function wat(e,t,n,r,i){e.Ha=(d,h,f)=>async function(m,g,y,v){let b=g.view.ba(y);b.ls&&(b=await Hoe(m.localStore,g.query,!1).then(({documents:E})=>g.view.ba(E,b)));const _=v&&v.targetChanges.get(g.targetId),x=v&&v.targetMismatches.get(g.targetId)!=null,w=g.view.applyChanges(b,m.isPrimaryClient,_,x);return Zoe(m,g.targetId,w.Ma),w.snapshot}(e,d,h,f);const o=await Hoe(e.localStore,t,!0),s=new pat(t,o.gs),a=s.ba(o.documents),l=KA.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=s.applyChanges(a,e.isPrimaryClient,l);Zoe(e,n,u.Ma);const c=new mat(t,n,s);return e.ka.set(t,c),e.qa.has(n)?e.qa.get(n).push(t):e.qa.set(n,[t]),u.snapshot}async function xat(e,t,n){const r=hn(e),i=r.ka.get(t),o=r.qa.get(i.targetId);if(o.length>1)return r.qa.set(i.targetId,o.filter(s=>!mN(s,t))),void r.ka.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await uj(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Fq(r.remoteStore,i.targetId),hj(r,i.targetId)}).catch(d_)):(hj(r,i.targetId),await uj(r.localStore,i.targetId,!0))}async function _at(e,t){const n=hn(e),r=n.ka.get(t),i=n.qa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Fq(n.remoteStore,r.targetId))}async function Eat(e,t,n){const r=Rat(e);try{const i=await function(s,a){const l=hn(s),u=ao.now(),c=a.reduce((f,p)=>f.add(p.key),Pn());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=_p(),m=Pn();return l.ds.getEntries(f,c).next(g=>{p=g,p.forEach((y,v)=>{v.isValidDocument()||(m=m.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,p)).next(g=>{d=g;const y=[];for(const v of a){const b=jot(v,d.get(v.key).overlayedDocument);b!=null&&y.push(new s0(v.key,b,Fxe(b.value.mapValue),Yl.exists(!0)))}return l.mutationQueue.addMutationBatch(f,u,y,a)}).next(g=>{h=g;const y=g.applyToLocalDocumentSet(d,m);return l.documentOverlayCache.saveOverlays(f,g.batchId,y)})}).then(()=>({batchId:h.batchId,changes:Kxe(d)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Wa[s.currentUser.toKey()];u||(u=new fi(_n)),u=u.insert(a,l),s.Wa[s.currentUser.toKey()]=u}(r,i.batchId,n),await JA(r,i.changes),await xN(r.remoteStore)}catch(i){const o=Hq(i,"Failed to persist write");n.reject(o)}}async function M_e(e,t){const n=hn(e);try{const r=await Ost(n.localStore,t);t.targetChanges.forEach((i,o)=>{const s=n.Ua.get(o);s&&(lr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ba=!0:i.modifiedDocuments.size>0?lr(s.Ba):i.removedDocuments.size>0&&(lr(s.Ba),s.Ba=!1))}),await JA(n,r,t)}catch(r){await d_(r)}}function Joe(e,t,n){const r=hn(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ka.forEach((o,s)=>{const a=s.view.sa(t);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=hn(s);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.ta)h.sa(a)&&(u=!0)}),u&&Vq(l)}(r.eventManager,t),i.length&&r.La.p_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Sat(e,t,n){const r=hn(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Ua.get(t),o=i&&i.key;if(o){let s=new fi(qt.comparator);s=s.insert(o,qs.newNoDocument(o,dn.min()));const a=Pn().add(o),l=new bN(dn.min(),new Map,new fi(_n),s,a);await M_e(r,l),r.$a=r.$a.remove(o),r.Ua.delete(t),qq(r)}else await uj(r.localStore,t,!1).then(()=>hj(r,t,n)).catch(d_)}async function Tat(e,t){const n=hn(e),r=t.batch.batchId;try{const i=await Nst(n.localStore,t);N_e(n,r,null),P_e(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await JA(n,i)}catch(i){await d_(i)}}async function Cat(e,t,n){const r=hn(e);try{const i=await function(s,a){const l=hn(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(lr(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,t);N_e(r,t,n),P_e(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await JA(r,i)}catch(i){await d_(i)}}function P_e(e,t){(e.Ga.get(t)||[]).forEach(n=>{n.resolve()}),e.Ga.delete(t)}function N_e(e,t,n){const r=hn(e);let i=r.Wa[r.currentUser.toKey()];if(i){const o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.Wa[r.currentUser.toKey()]=i}}function hj(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.qa.get(t))e.ka.delete(r),n&&e.La.Ja(r,n);e.qa.delete(t),e.isPrimaryClient&&e.Ka.br(t).forEach(r=>{e.Ka.containsKey(r)||O_e(e,r)})}function O_e(e,t){e.Qa.delete(t.path.canonicalString());const n=e.$a.get(t);n!==null&&(Fq(e.remoteStore,n),e.$a=e.$a.remove(t),e.Ua.delete(n),qq(e))}function Zoe(e,t,n){for(const r of n)r instanceof R_e?(e.Ka.addReference(r.key,t),Aat(e,r)):r instanceof $_e?(It(Wq,"Document no longer in limbo: "+r.key),e.Ka.removeReference(r.key,t),e.Ka.containsKey(r.key)||O_e(e,r.key)):nn()}function Aat(e,t){const n=t.key,r=n.path.canonicalString();e.$a.get(n)||e.Qa.has(r)||(It(Wq,"New document in limbo: "+n),e.Qa.add(r),qq(e))}function qq(e){for(;e.Qa.size>0&&e.$a.size<e.maxConcurrentLimboResolutions;){const t=e.Qa.values().next().value;e.Qa.delete(t);const n=new qt(Hr.fromString(t)),r=e.za.next();e.Ua.set(r,new gat(n)),e.$a=e.$a.insert(n,r),x_e(e.remoteStore,new Om(ah(kq(n.path)),r,"TargetPurposeLimboResolution",hN.ae))}}async function JA(e,t,n){const r=hn(e),i=[],o=[],s=[];r.ka.isEmpty()||(r.ka.forEach((a,l)=>{s.push(r.Ha(l,t,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=Oq.Yi(l.targetId,u);o.push(d)}}))}),await Promise.all(s),r.La.p_(i),await async function(l,u){const c=hn(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>Be.forEach(u,h=>Be.forEach(h.Hi,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>Be.forEach(h.Ji,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!h_(d))throw d;It(Lq,"Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const f=c.Ts.get(h),p=f.snapshotVersion,m=f.withLastLimboFreeSnapshotVersion(p);c.Ts=c.Ts.insert(h,m)}}}(r.localStore,o))}async function kat(e,t){const n=hn(e);if(!n.currentUser.isEqual(t)){It(Wq,"User change. New user:",t.toKey());const r=await y_e(n.localStore,t);n.currentUser=t,function(o,s){o.Ga.forEach(a=>{a.forEach(l=>{l.reject(new St(Le.CANCELLED,s))})}),o.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await JA(n,r.Rs)}}function Iat(e,t){const n=hn(e),r=n.Ua.get(t);if(r&&r.Ba)return Pn().add(r.key);{let i=Pn();const o=n.qa.get(t);if(!o)return i;for(const s of o){const a=n.ka.get(s);i=i.unionWith(a.view.Sa)}return i}}function L_e(e){const t=hn(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=M_e.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Iat.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Sat.bind(null,t),t.La.p_=hat.bind(null,t.eventManager),t.La.Ja=fat.bind(null,t.eventManager),t}function Rat(e){const t=hn(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Tat.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Cat.bind(null,t),t}class P${constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=wN(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,n){return null}nu(t,n){return null}eu(t){return Pst(this.persistence,new $st,t.initialUser,this.serializer)}Xa(t){return new g_e(Nq.ri,this.serializer)}Za(t){return new zst}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}P$.provider={build:()=>new P$};class $at extends P${constructor(t){super(),this.cacheSizeBytes=t}tu(t,n){lr(this.persistence.referenceDelegate instanceof D$);const r=this.persistence.referenceDelegate.garbageCollector;return new gst(r,t.asyncQueue,n)}Xa(t){const n=this.cacheSizeBytes!==void 0?Ja.withCacheSize(this.cacheSizeBytes):Ja.DEFAULT;return new g_e(r=>D$.ri(r,n),this.serializer)}}class fj{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Joe(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=kat.bind(null,this.syncEngine),await uat(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new dat}()}createDatastore(t){const n=wN(t.databaseInfo.databaseId),r=function(o){return new qst(o)}(t.databaseInfo);return function(o,s,a,l){return new Xst(o,s,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,o,s,a){return new Jst(r,i,o,s,a)}(this.localStore,this.datastore,t.asyncQueue,n=>Joe(this.syncEngine,n,0),function(){return qoe.D()?new qoe:new Ust}())}createSyncEngine(t,n){return function(i,o,s,a,l,u,c){const d=new yat(i,o,s,a,l,u);return c&&(d.ja=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(i){const o=hn(i);It(tv,"RemoteStore shutting down."),o.W_.add(5),await QA(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}fj.provider={build:()=>new fj};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_e{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):xp("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg="FirestoreClient";class Dat{constructor(t,n,r,i,o){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Qa.UNAUTHENTICATED,this.clientId=kxe.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{It(Sg,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(It(Sg,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Qf;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Hq(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function HF(e,t){e.asyncQueue.verifyOperationInProgress(),It(Sg,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await y_e(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function ese(e,t){e.asyncQueue.verifyOperationInProgress();const n=await B_e(e);It(Sg,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>Yoe(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>Yoe(t.remoteStore,i)),e._onlineComponents=t}async function B_e(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){It(Sg,"Using user provided OfflineComponentProvider");try{await HF(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(i){return i.name==="FirebaseError"?i.code===Le.FAILED_PRECONDITION||i.code===Le.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;pC("Error using user provided cache. Falling back to memory cache: "+n),await HF(e,new P$)}}else It(Sg,"Using default OfflineComponentProvider"),await HF(e,new $at(void 0));return e._offlineComponents}async function Gq(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(It(Sg,"Using user provided OnlineComponentProvider"),await ese(e,e._uninitializedComponentsProvider._online)):(It(Sg,"Using default OnlineComponentProvider"),await ese(e,new fj))),e._onlineComponents}function Mat(e){return B_e(e).then(t=>t.persistence)}function Pat(e){return Gq(e).then(t=>t.remoteStore)}function Nat(e){return Gq(e).then(t=>t.syncEngine)}async function j_e(e){const t=await Gq(e),n=t.eventManager;return n.onListen=vat.bind(null,t.syncEngine),n.onUnlisten=xat.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=bat.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=_at.bind(null,t.syncEngine),n}function Oat(e){return e.asyncQueue.enqueue(async()=>{const t=await Mat(e),n=await Pat(e);return t.setNetworkEnabled(!0),function(i){const o=hn(i);return o.W_.delete(0),XA(o)}(n)})}function Lat(e,t,n={}){const r=new Qf;return e.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new F_e({next:h=>{c.su(),s.enqueueAndForget(()=>k_e(o,d));const f=h.docs.has(a);!f&&h.fromCache?u.reject(new St(Le.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&l&&l.source==="server"?u.reject(new St(Le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new I_e(kq(a.path),c,{includeMetadataChanges:!0,Ta:!0});return A_e(o,d)}(await j_e(e),e.asyncQueue,t,n,r)),r.promise}function Fat(e,t,n={}){const r=new Qf;return e.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new F_e({next:h=>{c.su(),s.enqueueAndForget(()=>k_e(o,d)),h.fromCache&&l.source==="server"?u.reject(new St(Le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new I_e(a,c,{includeMetadataChanges:!0,Ta:!0});return A_e(o,d)}(await j_e(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_e(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tse=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_e(e,t,n){if(!n)throw new St(Le.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Bat(e,t,n,r){if(t===!0&&r===!0)throw new St(Le.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function nse(e){if(!qt.isDocumentKey(e))throw new St(Le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function rse(e){if(qt.isDocumentKey(e))throw new St(Le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function _N(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":nn()}function Sh(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new St(Le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_N(e);throw new St(Le.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jat="firestore.googleapis.com",ise=!0;class ose{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new St(Le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jat,this.ssl=ise}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:ise;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=p_e;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<m_e)throw new St(Le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Bat("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=z_e((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new St(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new St(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new St(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Yq{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ose({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new St(Le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new St(Le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ose(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new qit;switch(r.type){case"firstParty":return new Kit(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new St(Le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=tse.get(n);r&&(It("ComponentProvider","Removing Datastore"),tse.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new eb(this.firestore,t,this._query)}}class Ra{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sg(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ra(this.firestore,t,this._key)}}class sg extends eb{constructor(t,n,r){super(t,n,kq(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ra(this.firestore,null,new qt(t))}withConverter(t){return new sg(this.firestore,t,this._path)}}function ma(e,t,...n){if(e=Lr(e),U_e("collection","path",t),e instanceof Yq){const r=Hr.fromString(t,...n);return rse(r),new sg(e,null,r)}{if(!(e instanceof Ra||e instanceof sg))throw new St(Le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Hr.fromString(t,...n));return rse(r),new sg(e.firestore,null,r)}}function Mr(e,t,...n){if(e=Lr(e),arguments.length===1&&(t=kxe.newId()),U_e("doc","path",t),e instanceof Yq){const r=Hr.fromString(t,...n);return nse(r),new Ra(e,null,new qt(r))}{if(!(e instanceof Ra||e instanceof sg))throw new St(Le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Hr.fromString(t,...n));return nse(r),new Ra(e.firestore,e instanceof sg?e.converter:null,new qt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sse="AsyncQueue";class ase{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new b_e(this,"async_queue_retry"),this.Su=()=>{const r=UF();r&&It(sse,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=t;const n=UF();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const n=UF();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Qf;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!h_(t))throw t;It(sse,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const n=this.bu.then(()=>(this.pu=!0,t().catch(r=>{this.gu=r,this.pu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw xp("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(t,n,r){this.Du(),this.wu.indexOf(t)>-1&&(n=0);const i=Uq.createAndSchedule(this,t,n,r,o=>this.Fu(o));return this.fu.push(i),i}Du(){this.gu&&nn()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const n of this.fu)if(n.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const n=this.fu.indexOf(t);this.fu.splice(n,1)}}class tb extends Yq{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new ase,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new ase(t),this._firestoreClient=void 0,await t}}}function zat(e,t,n){n||(n=A$);const r=u_(e,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),o=r.getOptions(n);if(Jy(o,t))return i;throw new St(Le.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new St(Le.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<m_e)throw new St(Le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:t,instanceIdentifier:n})}function ZA(e){if(e._terminated)throw new St(Le.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Uat(e),e._firestoreClient}function Uat(e){var t,n,r;const i=e._freezeSettings(),o=function(a,l,u,c){return new cot(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,z_e(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Dat(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(e._componentsProvider))}function Hat(e){return Oat(ZA(e=Sh(e,tb)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Uw(ys.fromBase64String(t))}catch(n){throw new St(Le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Uw(ys.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new St(Le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new is(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kq=class{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new St(Le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new St(Le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return _n(this._lat,t._lat)||_n(this._long,t._long)}};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xq{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vat=/^__.*__$/;class Wat{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new s0(t,this.data,this.fieldMask,n,this.fieldTransforms):new YA(t,this.data,n,this.fieldTransforms)}}class H_e{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new s0(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function V_e(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nn()}}class Qq{constructor(t,n,r,i,o,s){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new Qq(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.ku({path:r,Qu:!1});return i.$u(t),i}Uu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return N$(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(V_e(this.Lu)&&Vat.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class qat{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||wN(t)}ju(t,n,r,i=!1){return new Qq({Lu:t,methodName:n,zu:r,path:is.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function SN(e){const t=e._freezeSettings(),n=wN(e._databaseId);return new qat(e._databaseId,!!t.ignoreUndefinedProperties,n)}function W_e(e,t,n,r,i,o={}){const s=e.ju(o.merge||o.mergeFields?2:0,t,n,i);Zq("Data must be an object, but it was:",s,r);const a=Y_e(r,s);let l,u;if(o.merge)l=new zl(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const d of o.mergeFields){const h=pj(t,d,n);if(!s.contains(h))throw new St(Le.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);X_e(c,h)||c.push(h)}l=new zl(c),u=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=s.fieldTransforms;return new Wat(new rl(a),l,u)}class TN extends EN{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof TN}}class Jq extends EN{_toFieldTransform(t){return new Oot(t.path,new wC)}isEqual(t){return t instanceof Jq}}function q_e(e,t,n,r){const i=e.ju(1,t,n);Zq("Data must be an object, but it was:",i,r);const o=[],s=rl.empty();o0(r,(l,u)=>{const c=eG(t,l,n);u=Lr(u);const d=i.Uu(c);if(u instanceof TN)o.push(c);else{const h=t2(u,d);h!=null&&(o.push(c),s.set(c,h))}});const a=new zl(o);return new H_e(s,a,i.fieldTransforms)}function G_e(e,t,n,r,i,o){const s=e.ju(1,t,n),a=[pj(t,r,n)],l=[i];if(o.length%2!=0)throw new St(Le.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(pj(t,o[h])),l.push(o[h+1]);const u=[],c=rl.empty();for(let h=a.length-1;h>=0;--h)if(!X_e(u,a[h])){const f=a[h];let p=l[h];p=Lr(p);const m=s.Uu(f);if(p instanceof TN)u.push(f);else{const g=t2(p,m);g!=null&&(u.push(f),c.set(f,g))}}const d=new zl(u);return new H_e(c,d,s.fieldTransforms)}function Gat(e,t,n,r=!1){return t2(n,e.ju(r?4:3,t))}function t2(e,t){if(K_e(e=Lr(e)))return Zq("Unsupported field value:",t,e),Y_e(e,t);if(e instanceof EN)return function(r,i){if(!V_e(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=t2(a,i.Ku(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(e,t)}return function(r,i){if((r=Lr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Mot(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=ao.fromDate(r);return{timestampValue:$$(i.serializer,o)}}if(r instanceof ao){const o=new ao(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$$(i.serializer,o)}}if(r instanceof Kq)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Uw)return{bytesValue:a_e(i.serializer,r._byteString)};if(r instanceof Ra){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Wu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Mq(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Xq)return function(s,a){return{mapValue:{fields:{[Oxe]:{stringValue:Lxe},[k$]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Wu("VectorValues must only contain numeric values.");return Iq(a.serializer,u)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${_N(r)}`)}(e,t)}function Y_e(e,t){const n={};return Rxe(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):o0(e,(r,i)=>{const o=t2(i,t.qu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function K_e(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ao||e instanceof Kq||e instanceof Uw||e instanceof Ra||e instanceof EN||e instanceof Xq)}function Zq(e,t,n){if(!K_e(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=_N(n);throw r==="an object"?t.Wu(e+" a custom object"):t.Wu(e+" "+r)}}function pj(e,t,n){if((t=Lr(t))instanceof e2)return t._internalPath;if(typeof t=="string")return eG(e,t);throw N$("Field path arguments must be of type string or ",e,!1,void 0,n)}const Yat=new RegExp("[~\\*/\\[\\]]");function eG(e,t,n){if(t.search(Yat)>=0)throw N$(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new e2(...t.split("."))._internalPath}catch{throw N$(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function N$(e,t,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new St(Le.INVALID_ARGUMENT,a+e+l)}function X_e(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_e{constructor(t,n,r,i,o){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ra(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Kat(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(CN("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Kat extends Q_e{data(){return super.data()}}function CN(e,t){return typeof t=="string"?eG(e,t):t instanceof e2?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xat(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new St(Le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tG{}class J_e extends tG{}function VF(e,t,...n){let r=[];t instanceof tG&&r.push(t),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof nG).length,a=o.filter(l=>l instanceof AN).length;if(s>1||s>0&&a>0)throw new St(Le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class AN extends J_e{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new AN(t,n,r)}_apply(t){const n=this._parse(t);return Z_e(t._query,n),new eb(t.firestore,t.converter,rj(t._query,n))}_parse(t){const n=SN(t.firestore);return function(o,s,a,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new St(Le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){dse(d,c);const p=[];for(const m of d)p.push(cse(l,o,m));h={arrayValue:{values:p}}}else h=cse(l,o,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||dse(d,c),h=Gat(a,s,d,c==="in"||c==="not-in");return Wi.create(u,c,h)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function lse(e,t,n){const r=t,i=CN("where",e);return AN._create(i,r,n)}class nG extends tG{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new nG(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:rd.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)Z_e(s,l),s=rj(s,l)}(t._query,n),new eb(t.firestore,t.converter,rj(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class rG extends J_e{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new rG(t,n)}_apply(t){const n=function(i,o,s){if(i.startAt!==null)throw new St(Le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new St(Le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new bC(o,s)}(t._query,this._field,this._direction);return new eb(t.firestore,t.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new f_(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,n))}}function use(e,t="asc"){const n=t,r=CN("orderBy",e);return rG._create(r,n)}function cse(e,t,n){if(typeof(n=Lr(n))=="string"){if(n==="")throw new St(Le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wxe(t)&&n.indexOf("/")!==-1)throw new St(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Hr.fromString(n));if(!qt.isDocumentKey(r))throw new St(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Soe(e,new qt(r))}if(n instanceof Ra)return Soe(e,n._key);throw new St(Le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_N(n)}.`)}function dse(e,t){if(!Array.isArray(e)||e.length===0)throw new St(Le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Z_e(e,t){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new St(Le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new St(Le.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class Qat{convertValue(t,n="none"){switch(_g(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Mi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(xg(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw nn()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return o0(t,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(t){var n,r,i;const o=(i=(r=(n=t.fields)===null||n===void 0?void 0:n[k$].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Mi(s.doubleValue));return new Xq(o)}convertGeoPoint(t){return new Kq(Mi(t.latitude),Mi(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=pN(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(gC(t));default:return null}}convertTimestamp(t){const n=wg(t);return new ao(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Hr.fromString(t);lr(f_e(r));const i=new yC(r.get(1),r.get(3)),o=new qt(r.popFirst(5));return i.isEqual(n)||xp(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eEe(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class tEe extends Q_e{constructor(t,n,r,i,o,s){super(t,n,r,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new UI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(CN("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class UI extends tEe{data(t={}){return super.data(t)}}class Jat{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new sS(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new UI(this._firestore,this._userDataWriter,r.key,r,new sS(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new St(Le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new UI(i._firestore,i._userDataWriter,a.doc.key,a.doc,new sS(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new UI(i._firestore,i._userDataWriter,a.doc.key,a.doc,new sS(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:Zat(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Zat(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nn()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(e){e=Sh(e,Ra);const t=Sh(e.firestore,tb);return Lat(ZA(t),e._key).then(n=>elt(t,e,n))}class nEe extends Qat{constructor(t){super(),this.firestore=t}convertBytes(t){return new Uw(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ra(this.firestore,null,n)}}function $0(e){e=Sh(e,eb);const t=Sh(e.firestore,tb),n=ZA(t),r=new nEe(t);return Xat(e._query),Fat(n,e._query).then(i=>new Jat(t,r,e,i))}function Ps(e,t,n){e=Sh(e,Ra);const r=Sh(e.firestore,tb),i=eEe(e.converter,t,n);return iG(r,[W_e(SN(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,Yl.none())])}function hse(e,t,n,...r){e=Sh(e,Ra);const i=Sh(e.firestore,tb),o=SN(i);let s;return s=typeof(t=Lr(t))=="string"||t instanceof e2?G_e(o,"updateDoc",e._key,t,n,r):q_e(o,"updateDoc",e._key,t),iG(i,[s.toMutation(e._key,Yl.exists(!0))])}function iG(e,t){return function(r,i){const o=new Qf;return r.asyncQueue.enqueueAndForget(async()=>Eat(await Nat(r),i,o)),o.promise}(ZA(e),t)}function elt(e,t,n){const r=n.docs.get(t._key),i=new nEe(e);return new tEe(e,i,t._key,r,new sS(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tlt{constructor(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=SN(t)}set(t,n,r){this._verifyNotCommitted();const i=WF(t,this._firestore),o=eEe(i.converter,n,r),s=W_e(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,Yl.none())),this}update(t,n,r,...i){this._verifyNotCommitted();const o=WF(t,this._firestore);let s;return s=typeof(n=Lr(n))=="string"||n instanceof e2?G_e(this._dataReader,"WriteBatch.update",o._key,n,r,i):q_e(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,Yl.exists(!0))),this}delete(t){this._verifyNotCommitted();const n=WF(t,this._firestore);return this._mutations=this._mutations.concat(new Rq(n._key,Yl.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new St(Le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function WF(e,t){if((e=Lr(e)).firestore!==t)throw new St(Le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function n3(){return new Jq("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fse(e){return ZA(e=Sh(e,tb)),new tlt(e,t=>iG(e,t))}(function(t,n=!0){(function(i){c_=i})(Qv),wp(new _h("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new tb(new Git(r.getProvider("auth-internal")),new Xit(s,r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new St(Le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yC(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Yc(hoe,foe,t),Yc(hoe,foe,"esm2017")})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj=new Map,rEe={activated:!1,tokenObservers:[]},nlt={initialized:!1,enabled:!1};function uo(e){return mj.get(e)||Object.assign({},rEe)}function rlt(e,t){return mj.set(e,t),mj.get(e)}function kN(){return nlt}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iEe="https://content-firebaseappcheck.googleapis.com/v1",ilt="exchangeRecaptchaV3Token",olt="exchangeDebugToken",pse={RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},slt=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class alt{constructor(t,n,r,i,o){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(t){this.stop();try{this.pending=new hC,this.pending.promise.catch(n=>{}),await llt(this.getNextRun(t)),this.pending.resolve(),await this.pending.promise,this.pending=new hC,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function llt(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ult={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},ul=new l_("appCheck","AppCheck",ult);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mse(e=!1){var t;return e?(t=self.grecaptcha)===null||t===void 0?void 0:t.enterprise:self.grecaptcha}function oG(e){if(!uo(e).activated)throw ul.create("use-before-activation",{appName:e.name})}function oEe(e){const t=Math.round(e/1e3),n=Math.floor(t/(3600*24)),r=Math.floor((t-n*3600*24)/3600),i=Math.floor((t-n*3600*24-r*3600)/60),o=t-n*3600*24-r*3600-i*60;let s="";return n&&(s+=r3(n)+"d:"),r&&(s+=r3(r)+"h:"),s+=r3(i)+"m:"+r3(o)+"s",s}function r3(e){return e===0?"00":e>=10?e.toString():"0"+e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sG({url:e,body:t},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const o={method:"POST",body:JSON.stringify(t),headers:r};let s;try{s=await fetch(e,o)}catch(d){throw ul.create("fetch-network-error",{originalErrorMessage:d==null?void 0:d.message})}if(s.status!==200)throw ul.create("fetch-status-error",{httpStatus:s.status});let a;try{a=await s.json()}catch(d){throw ul.create("fetch-parse-error",{originalErrorMessage:d==null?void 0:d.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw ul.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=Number(l[1])*1e3,c=Date.now();return{token:a.token,expireTimeMillis:c+u,issuedAtTimeMillis:c}}function clt(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${iEe}/projects/${n}/apps/${r}:${ilt}?key=${i}`,body:{recaptcha_v3_token:t}}}function sEe(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${iEe}/projects/${n}/apps/${r}:${olt}?key=${i}`,body:{debug_token:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dlt="firebase-app-check-database",hlt=1,EC="firebase-app-check-store",aEe="debug-token";let i3=null;function lEe(){return i3||(i3=new Promise((e,t)=>{try{const n=indexedDB.open(dlt,hlt);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var i;t(ul.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(EC,{keyPath:"compositeKey"})}}}catch(n){t(ul.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),i3)}function flt(e){return cEe(dEe(e))}function plt(e,t){return uEe(dEe(e),t)}function mlt(e){return uEe(aEe,e)}function glt(){return cEe(aEe)}async function uEe(e,t){const r=(await lEe()).transaction(EC,"readwrite"),o=r.objectStore(EC).put({compositeKey:e,value:t});return new Promise((s,a)=>{o.onsuccess=l=>{s()},r.onerror=l=>{var u;a(ul.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})}async function cEe(e){const n=(await lEe()).transaction(EC,"readonly"),i=n.objectStore(EC).get(e);return new Promise((o,s)=>{i.onsuccess=a=>{const l=a.target.result;o(l?l.value:void 0)},n.onerror=a=>{var l;s(ul.create("storage-get",{originalErrorMessage:(l=a.target.error)===null||l===void 0?void 0:l.message}))}})}function dEe(e){return`${e.options.appId}-${e.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y=new uN("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ylt(e){if(hq()){let t;try{t=await flt(e)}catch(n){_y.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return t}}function qF(e,t){return hq()?plt(e,t).catch(n=>{_y.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function vlt(){let e;try{e=await glt()}catch{}if(e)return e;{const t=crypto.randomUUID();return mlt(t).catch(n=>_y.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aG(){return kN().enabled}async function lG(){const e=kN();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function blt(){const e=Jwe(),t=kN();if(t.initialized=!0,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&e.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;t.enabled=!0;const n=new hC;t.token=n,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(vlt())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wlt={error:"UNKNOWN_ERROR"};function xlt(e){return dq.encodeString(JSON.stringify(e),!1)}async function gj(e,t=!1,n=!1){const r=e.app;oG(r);const i=uo(r);let o=i.token,s;if(o&&!D1(o)&&(i.token=void 0,o=void 0),!o){const u=await i.cachedTokenPromise;u&&(D1(u)?o=u:await qF(r,void 0))}if(!t&&o&&D1(o))return{token:o.token};let a=!1;if(aG())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=sG(sEe(r,await lG()),e.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);const u=await i.exchangeTokenPromise;return await qF(r,u),i.token=u,{token:u.token}}catch(u){return u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?_y.warn(u.message):n&&_y.error(u),GF(u)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=await uo(r).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?_y.warn(u.message):n&&_y.error(u),s=u}let l;return o?s?D1(o)?l={token:o.token,internalError:s}:l=GF(s):(l={token:o.token},i.token=o,await qF(r,o)):l=GF(s),a&&pEe(r,l),l}async function _lt(e){const t=e.app;oG(t);const{provider:n}=uo(t);if(aG()){const r=await lG(),{token:i}=await sG(sEe(t,r),e.heartbeatServiceProvider);return{token:i}}else{const{token:r}=await n.getToken();return{token:r}}}function hEe(e,t,n,r){const{app:i}=e,o=uo(i),s={next:n,error:r,type:t};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&D1(o.token)){const a=o.token;Promise.resolve().then(()=>{n({token:a.token}),gse(e)}).catch(()=>{})}o.cachedTokenPromise.then(()=>gse(e))}function fEe(e,t){const n=uo(e),r=n.tokenObservers.filter(i=>i.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function gse(e){const{app:t}=e,n=uo(t);let r=n.tokenRefresher;r||(r=Elt(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Elt(e){const{app:t}=e;return new alt(async()=>{const n=uo(t);let r;if(n.token?r=await gj(e,!0):r=await gj(e),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=uo(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},pse.RETRIAL_MIN_WAIT,pse.RETRIAL_MAX_WAIT)}function pEe(e,t){const n=uo(e).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function D1(e){return e.expireTimeMillis-Date.now()>0}function GF(e){return{token:xlt(wlt),error:e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Slt{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:t}=uo(this.app);for(const n of t)fEe(this.app,n.next);return Promise.resolve()}}function Tlt(e,t){return new Slt(e,t)}function Clt(e){return{getToken:t=>gj(e,t),getLimitedUseToken:()=>_lt(e),addTokenListener:t=>hEe(e,"INTERNAL",t),removeTokenListener:t=>fEe(e.app,t)}}const Alt="@firebase/app-check",klt="0.8.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ilt="https://www.google.com/recaptcha/api.js";function Rlt(e,t){const n=new hC,r=uo(e);r.reCAPTCHAState={initialized:n};const i=$lt(e),o=mse(!1);return o?yse(e,t,o,i,n):Plt(()=>{const s=mse(!1);if(!s)throw new Error("no recaptcha");yse(e,t,s,i,n)}),n.promise}function yse(e,t,n,r,i){n.ready(()=>{Mlt(e,t,n,r),i.resolve(n)})}function $lt(e){const t=`fire_app_check_${e.name}`,n=document.createElement("div");return n.id=t,n.style.display="none",document.body.appendChild(n),t}async function Dlt(e){oG(e);const n=await uo(e).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const o=uo(e).reCAPTCHAState;n.ready(()=>{r(n.execute(o.widgetId,{action:"fire_app_check"}))})})}function Mlt(e,t,n,r){const i=n.render(r,{sitekey:t,size:"invisible",callback:()=>{uo(e).reCAPTCHAState.succeeded=!0},"error-callback":()=>{uo(e).reCAPTCHAState.succeeded=!1}}),o=uo(e);o.reCAPTCHAState=Object.assign(Object.assign({},o.reCAPTCHAState),{widgetId:i})}function Plt(e){const t=document.createElement("script");t.src=Ilt,t.onload=e,document.head.appendChild(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uG{constructor(t){this._siteKey=t,this._throttleData=null}async getToken(){var t,n,r;Olt(this._throttleData);const i=await Dlt(this._app).catch(s=>{throw ul.create("recaptcha-error")});if(!(!((t=uo(this._app).reCAPTCHAState)===null||t===void 0)&&t.succeeded))throw ul.create("recaptcha-error");let o;try{o=await sG(clt(this._app,i),this._heartbeatServiceProvider)}catch(s){throw!((n=s.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=Nlt(Number((r=s.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),ul.create("initial-throttle",{time:oEe(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):s}return this._throttleData=null,o}initialize(t){this._app=t,this._heartbeatServiceProvider=u_(t,"heartbeat"),Rlt(t,this._siteKey).catch(()=>{})}isEqual(t){return t instanceof uG?this._siteKey===t._siteKey:!1}}function Nlt(e,t){if(e===404||e===403)return{backoffCount:1,allowRequestsAfter:Date.now()+slt,httpStatus:e};{const n=t?t.backoffCount:0,r=ynt(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:e}}}function Olt(e){if(e&&Date.now()-e.allowRequestsAfter<=0)throw ul.create("throttled",{time:oEe(e.allowRequestsAfter-Date.now()),httpStatus:e.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Llt(e=pq(),t){e=Lr(e);const n=u_(e,"app-check");if(kN().initialized||blt(),aG()&&lG().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(o.isTokenAutoRefreshEnabled===t.isTokenAutoRefreshEnabled&&o.provider.isEqual(t.provider))return i;throw ul.create("already-initialized",{appName:e.name})}const r=n.initialize({options:t});return Flt(e,t.provider,t.isTokenAutoRefreshEnabled),uo(e).isTokenAutoRefreshEnabled&&hEe(r,"INTERNAL",()=>{}),r}function Flt(e,t,n){const r=rlt(e,Object.assign({},rEe));r.activated=!0,r.provider=t,r.cachedTokenPromise=ylt(e).then(i=>(i&&D1(i)&&(r.token=i,pEe(e,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?e.automaticDataCollectionEnabled:n,r.provider.initialize(e)}const Blt="app-check",vse="app-check-internal";function jlt(){wp(new _h(Blt,e=>{const t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return Tlt(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(vse).initialize()})),wp(new _h(vse,e=>{const t=e.getProvider("app-check").getImmediate();return Clt(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),Yc(Alt,klt)}jlt();function mEe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zlt=mEe,gEe=new l_("auth","Firebase",mEe());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O$=new uN("@firebase/auth");function Ult(e,...t){O$.logLevel<=Mn.WARN&&O$.warn(`Auth (${Qv}): ${e}`,...t)}function HI(e,...t){O$.logLevel<=Mn.ERROR&&O$.error(`Auth (${Qv}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(e,...t){throw dG(e,...t)}function Kc(e,...t){return dG(e,...t)}function cG(e,t,n){const r=Object.assign(Object.assign({},zlt()),{[t]:n});return new l_("auth","Firebase",r).create(t,{appName:e.name})}function ag(e){return cG(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Hlt(e,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&Th(e,"argument-error"),cG(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function dG(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return gEe.create(e,...t)}function on(e,t,...n){if(!e)throw dG(t,...n)}function Ff(e){const t="INTERNAL ASSERTION FAILED: "+e;throw HI(t),new Error(t)}function Ep(e,t){e||Ff(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yj(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function Vlt(){return bse()==="http:"||bse()==="https:"}function bse(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wlt(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Vlt()||tnt()||"connection"in navigator)?navigator.onLine:!0}function qlt(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(t,n){this.shortDelay=t,this.longDelay=n,Ep(n>t,"Short delay should be less than long delay!"),this.isMobile=Jtt()||nnt()}get(){return Wlt()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hG(e,t){Ep(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yEe{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ff("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ff("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ff("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Glt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ylt=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Klt=new n2(3e4,6e4);function IN(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function m_(e,t,n,r,i={}){return vEe(e,i,async()=>{let o={},s={};r&&(t==="GET"?s=r:o={body:JSON.stringify(r)});const a=qA(Object.assign({key:e.config.apiKey},s)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const u=Object.assign({method:t,headers:l},o);return ent()||(u.referrerPolicy="no-referrer"),yEe.fetch()(await wEe(e,e.config.apiHost,n,a),u)})}async function vEe(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Glt),t);try{const i=new Xlt(e),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw o3(e,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw o3(e,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw o3(e,"email-already-in-use",s);if(l==="USER_DISABLED")throw o3(e,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw cG(e,c,u);Th(e,c)}}catch(i){if(i instanceof Uh)throw i;Th(e,"network-request-failed",{message:String(i)})}}async function bEe(e,t,n,r,i={}){const o=await m_(e,t,n,r,i);return"mfaPendingCredential"in o&&Th(e,"multi-factor-auth-required",{_serverResponse:o}),o}async function wEe(e,t,n,r){const i=`${t}${n}?${r}`,o=e,s=o.config.emulator?hG(e.config,i):`${e.config.apiScheme}://${i}`;return Ylt.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}class Xlt{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Kc(this.auth,"network-request-failed")),Klt.get())})}}function o3(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Kc(e,t,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qlt(e,t){return m_(e,"POST","/v1/accounts:delete",t)}async function L$(e,t){return m_(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Jlt(e,t=!1){const n=Lr(e),r=await n.getIdToken(t),i=fG(r);on(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:fT(YF(i.auth_time)),issuedAtTime:fT(YF(i.iat)),expirationTime:fT(YF(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function YF(e){return Number(e)*1e3}function fG(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return HI("JWT malformed, contained fewer than 3 sections"),null;try{const i=Qwe(n);return i?JSON.parse(i):(HI("Failed to decode base64 JWT payload"),null)}catch(i){return HI("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function wse(e){const t=fG(e);return on(t,"internal-error"),on(typeof t.exp<"u","internal-error"),on(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SC(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Uh&&Zlt(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function Zlt({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eut{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=fT(this.lastLoginAt),this.creationTime=fT(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F$(e){var t;const n=e.auth,r=await e.getIdToken(),i=await SC(e,L$(n,{idToken:r}));on(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?xEe(o.providerUserInfo):[],a=nut(e.providerData,s),l=e.isAnonymous,u=!(e.email&&o.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new vj(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(e,d)}async function tut(e){const t=Lr(e);await F$(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function nut(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function xEe(e){return e.map(t=>{var{providerId:n}=t,r=TA(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rut(e,t){const n=await vEe(e,{},async()=>{const r=qA({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,s=await wEe(e,i,"/v1/token",`key=${o}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",yEe.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function iut(e,t){return m_(e,"POST","/v2/accounts:revokeToken",IN(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){on(t.idToken,"internal-error"),on(typeof t.idToken<"u","internal-error"),on(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):wse(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){on(t.length!==0,"internal-error");const n=wse(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(on(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await rut(t,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new nw;return r&&(on(typeof r=="string","internal-error",{appName:t}),s.refreshToken=r),i&&(on(typeof i=="string","internal-error",{appName:t}),s.accessToken=i),o&&(on(typeof o=="number","internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new nw,this.toJSON())}_performRefresh(){return Ff("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(e,t){on(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Fc{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,o=TA(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new eut(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new vj(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await SC(this,this.stsTokenManager.getToken(this.auth,t));return on(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return Jlt(this,t)}reload(){return tut(this)}_assign(t){this!==t&&(on(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Fc(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){on(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await F$(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fl(this.auth.app))return Promise.reject(ag(this.auth));const t=await this.getIdToken();return await SC(this,Qlt(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,o,s,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,p=(s=n.photoURL)!==null&&s!==void 0?s:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,g=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:b,emailVerified:_,isAnonymous:x,providerData:w,stsTokenManager:E}=n;on(b&&E,t,"internal-error");const S=nw.fromJSON(this.name,E);on(typeof b=="string",t,"internal-error"),om(d,t.name),om(h,t.name),on(typeof _=="boolean",t,"internal-error"),on(typeof x=="boolean",t,"internal-error"),om(f,t.name),om(p,t.name),om(m,t.name),om(g,t.name),om(y,t.name),om(v,t.name);const T=new Fc({uid:b,auth:t,email:h,emailVerified:_,displayName:d,isAnonymous:x,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:S,createdAt:y,lastLoginAt:v});return w&&Array.isArray(w)&&(T.providerData=w.map(C=>Object.assign({},C))),g&&(T._redirectEventId=g),T}static async _fromIdTokenResponse(t,n,r=!1){const i=new nw;i.updateFromServerResponse(n);const o=new Fc({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await F$(o),o}static async _fromGetAccountInfoResponse(t,n,r){const i=n.users[0];on(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?xEe(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new nw;a.updateFromIdToken(r);const l=new Fc({uid:i.localId,auth:t,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new vj(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xse=new Map;function Bf(e){Ep(e instanceof Function,"Expected a class definition");let t=xse.get(e);return t?(Ep(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,xse.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Ee{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}_Ee.type="NONE";const _se=_Ee;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(e,t,n){return`firebase:${e}:${t}:${n}`}class rw{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=VI(this.userKey,i.apiKey,o),this.fullPersistenceKey=VI("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await L$(this.auth,{idToken:t}).catch(()=>{});return n?Fc._fromGetAccountInfoResponse(this.auth,n,t):null}return Fc._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new rw(Bf(_se),t,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||Bf(_se);const s=VI(r,t.config.apiKey,t.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){let d;if(typeof c=="string"){const h=await L$(t,{idToken:c}).catch(()=>{});if(!h)break;d=await Fc._fromGetAccountInfoResponse(t,h,c)}else d=Fc._fromJSON(t,c);u!==o&&(a=d),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new rw(o,t,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new rw(o,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ese(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(CEe(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(EEe(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(kEe(t))return"Blackberry";if(IEe(t))return"Webos";if(SEe(t))return"Safari";if((t.includes("chrome/")||TEe(t))&&!t.includes("edge/"))return"Chrome";if(AEe(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function EEe(e=oa()){return/firefox\//i.test(e)}function SEe(e=oa()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function TEe(e=oa()){return/crios\//i.test(e)}function CEe(e=oa()){return/iemobile/i.test(e)}function AEe(e=oa()){return/android/i.test(e)}function kEe(e=oa()){return/blackberry/i.test(e)}function IEe(e=oa()){return/webos/i.test(e)}function pG(e=oa()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function out(e=oa()){var t;return pG(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function sut(){return rnt()&&document.documentMode===10}function REe(e=oa()){return pG(e)||AEe(e)||IEe(e)||kEe(e)||/windows phone/i.test(e)||CEe(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $Ee(e,t=[]){let n;switch(e){case"Browser":n=Ese(oa());break;case"Worker":n=`${Ese(oa())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qv}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aut{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=o=>new Promise((s,a)=>{try{const l=t(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lut(e,t={}){return m_(e,"GET","/v2/passwordPolicy",IN(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uut=6;class cut{constructor(t){var n,r,i,o;const s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:uut,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dut{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sse(this),this.idTokenSubscription=new Sse(this),this.beforeStateQueue=new aut(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gEe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Bf(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await rw.create(this,t),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await L$(this,{idToken:t}),r=await Fc._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Fl(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(t);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return on(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await F$(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=qlt()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Fl(this.app))return Promise.reject(ag(this));const n=t?Lr(t):null;return n&&on(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&on(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Fl(this.app)?Promise.reject(ag(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Fl(this.app)?Promise.reject(ag(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bf(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await lut(this),n=new cut(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new l_("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await iut(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Bf(t)||this._popupRedirectResolver;on(n,this,"argument-error"),this.redirectPersistenceManager=await rw.create(this,[Bf(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(on(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=t.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return on(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=$Ee(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;if(Fl(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&Ult(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function r2(e){return Lr(e)}class Sse{constructor(t){this.auth=t,this.observer=null,this.addObserver=cnt(n=>this.observer=n)}get next(){return on(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mG={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hut(e){mG=e}function fut(e){return mG.loadJS(e)}function put(){return mG.gapiScript}function mut(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gut(e,t){const n=u_(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Jy(o,t??{}))return i;Th(i,"already-initialized")}return n.initialize({options:t})}function yut(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Bf);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function vut(e,t,n){const r=r2(e);on(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!1,o=DEe(t),{host:s,port:a}=but(t),l=a===null?"":`:${a}`,u={url:`${o}//${s}${l}/`},c=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){on(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),on(Jy(u,r.config.emulator)&&Jy(c,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,wut()}function DEe(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function but(e){const t=DEe(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:Tse(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:Tse(s)}}}function Tse(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function wut(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MEe{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Ff("not implemented")}_getIdTokenResponse(t){return Ff("not implemented")}_linkToIdToken(t,n){return Ff("not implemented")}_getReauthenticationResolver(t){return Ff("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iw(e,t){return bEe(e,"POST","/v1/accounts:signInWithIdp",IN(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xut="http://localhost";class nv extends MEe{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new nv(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Th("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,o=TA(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new nv(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(t){const n=this.buildRequest();return iw(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,iw(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,iw(t,n)}buildRequest(){const t={requestUri:xut,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=qA(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gG{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2 extends gG{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am extends i2{constructor(){super("facebook.com")}static credential(t){return nv._fromParams({providerId:Am.PROVIDER_ID,signInMethod:Am.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Am.credentialFromTaggedObject(t)}static credentialFromError(t){return Am.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Am.credential(t.oauthAccessToken)}catch{return null}}}Am.FACEBOOK_SIGN_IN_METHOD="facebook.com";Am.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf extends i2{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return nv._fromParams({providerId:Rf.PROVIDER_ID,signInMethod:Rf.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Rf.credentialFromTaggedObject(t)}static credentialFromError(t){return Rf.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Rf.credential(n,r)}catch{return null}}}Rf.GOOGLE_SIGN_IN_METHOD="google.com";Rf.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km extends i2{constructor(){super("github.com")}static credential(t){return nv._fromParams({providerId:km.PROVIDER_ID,signInMethod:km.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return km.credentialFromTaggedObject(t)}static credentialFromError(t){return km.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return km.credential(t.oauthAccessToken)}catch{return null}}}km.GITHUB_SIGN_IN_METHOD="github.com";km.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im extends i2{constructor(){super("twitter.com")}static credential(t,n){return nv._fromParams({providerId:Im.PROVIDER_ID,signInMethod:Im.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Im.credentialFromTaggedObject(t)}static credentialFromError(t){return Im.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Im.credential(n,r)}catch{return null}}}Im.TWITTER_SIGN_IN_METHOD="twitter.com";Im.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _ut(e,t){return bEe(e,"POST","/v1/accounts:signUp",IN(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const o=await Fc._fromIdTokenResponse(t,r,i),s=Cse(r);return new Tg({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=Cse(r);return new Tg({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function Cse(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eut(e){var t;if(Fl(e.app))return Promise.reject(ag(e));const n=r2(e);if(await n._initializationPromise,!((t=n.currentUser)===null||t===void 0)&&t.isAnonymous)return new Tg({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await _ut(n,{returnSecureToken:!0}),i=await Tg._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B$ extends Uh{constructor(t,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,B$.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new B$(t,n,r,i)}}function PEe(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?B$._fromErrorAndOperation(e,o,t,r):o})}async function Sut(e,t,n=!1){const r=await SC(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Tg._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tut(e,t,n=!1){const{auth:r}=e;if(Fl(r.app))return Promise.reject(ag(r));const i="reauthenticate";try{const o=await SC(e,PEe(r,i,t,e),n);on(o.idToken,r,"internal-error");const s=fG(o.idToken);on(s,r,"internal-error");const{sub:a}=s;return on(e.uid===a,r,"user-mismatch"),Tg._forOperation(e,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Th(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cut(e,t,n=!1){if(Fl(e.app))return Promise.reject(ag(e));const r="signIn",i=await PEe(e,r,t),o=await Tg._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}function Aut(e,t,n,r){return Lr(e).onIdTokenChanged(t,n,r)}function kut(e,t,n){return Lr(e).beforeAuthStateChanged(t,n)}function Iut(e,t,n,r){return Lr(e).onAuthStateChanged(t,n,r)}function Rut(e){return Lr(e).signOut()}const j$="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NEe{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(j$,"1"),this.storage.removeItem(j$),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ut=1e3,Dut=10;class OEe extends NEe{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=REe(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=t.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);sut()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,Dut):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},$ut)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}OEe.type="LOCAL";const Mut=OEe;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LEe extends NEe{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}LEe.type="SESSION";const FEe=LEe;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Put(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new RN(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await Put(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}RN.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yG(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nut{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=yG("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(){return window}function Out(e){uh().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BEe(){return typeof uh().WorkerGlobalScope<"u"&&typeof uh().importScripts=="function"}async function Lut(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Fut(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function But(){return BEe()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jEe="firebaseLocalStorageDb",jut=1,z$="firebaseLocalStorage",zEe="fbase_key";class o2{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function $N(e,t){return e.transaction([z$],t?"readwrite":"readonly").objectStore(z$)}function zut(){const e=indexedDB.deleteDatabase(jEe);return new o2(e).toPromise()}function bj(){const e=indexedDB.open(jEe,jut);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(z$,{keyPath:zEe})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(z$)?t(r):(r.close(),await zut(),t(await bj()))})})}async function Ase(e,t,n){const r=$N(e,!0).put({[zEe]:t,value:n});return new o2(r).toPromise()}async function Uut(e,t){const n=$N(e,!1).get(t),r=await new o2(n).toPromise();return r===void 0?null:r.value}function kse(e,t){const n=$N(e,!0).delete(t);return new o2(n).toPromise()}const Hut=800,Vut=3;class UEe{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bj(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>Vut)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return BEe()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=RN._getInstance(But()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await Lut(),!this.activeServiceWorker)return;this.sender=new Nut(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Fut()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await bj();return await Ase(t,j$,"1"),await kse(t,j$),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ase(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>Uut(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>kse(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const o=$N(i,!1).getAll();return new o2(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:o}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Hut)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}UEe.type="LOCAL";const Wut=UEe;new n2(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HEe(e,t){return t?Bf(t):(on(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vG extends MEe{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return iw(t,this._buildIdpRequest())}_linkToIdToken(t,n){return iw(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return iw(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function qut(e){return Cut(e.auth,new vG(e),e.bypassAuthState)}function Gut(e){const{auth:t,user:n}=e;return on(n,t,"internal-error"),Tut(n,new vG(e),e.bypassAuthState)}async function Yut(e){const{auth:t,user:n}=e;return on(n,t,"internal-error"),Sut(n,new vG(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VEe{constructor(t,n,r,i,o=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=t;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return qut;case"linkViaPopup":case"linkViaRedirect":return Yut;case"reauthViaPopup":case"reauthViaRedirect":return Gut;default:Th(this.auth,"internal-error")}}resolve(t){Ep(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ep(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kut=new n2(2e3,1e4);async function Xut(e,t,n){if(Fl(e.app))return Promise.reject(Kc(e,"operation-not-supported-in-this-environment"));const r=r2(e);Hlt(e,t,gG);const i=HEe(r,n);return new Ey(r,"signInViaPopup",t,i).executeNotNull()}class Ey extends VEe{constructor(t,n,r,i,o){super(t,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Ey.currentPopupAction&&Ey.currentPopupAction.cancel(),Ey.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return on(t,this.auth,"internal-error"),t}async onExecution(){Ep(this.filter.length===1,"Popup operations only handle one event");const t=yG();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Kc(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Kc(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ey.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Kc(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Kut.get())};t()}}Ey.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qut="pendingRedirect",WI=new Map;class Jut extends VEe{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=WI.get(this.auth._key());if(!t){try{const r=await Zut(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}WI.set(this.auth._key(),t)}return this.bypassAuthState||WI.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Zut(e,t){const n=nct(t),r=tct(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function ect(e,t){WI.set(e._key(),t)}function tct(e){return Bf(e._redirectPersistence)}function nct(e){return VI(Qut,e.config.apiKey,e.name)}async function rct(e,t,n=!1){if(Fl(e.app))return Promise.reject(ag(e));const r=r2(e),i=HEe(r,t),s=await new Jut(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ict=10*60*1e3;class oct{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!sct(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!WEe(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Kc(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=ict&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ise(t))}saveEventToCache(t){this.cachedEventUids.add(Ise(t)),this.lastProcessedEventTime=Date.now()}}function Ise(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function WEe({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function sct(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WEe(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function act(e,t={}){return m_(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lct=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uct=/^https?/;async function cct(e){if(e.config.emulator)return;const{authorizedDomains:t}=await act(e);for(const n of t)try{if(dct(n))return}catch{}Th(e,"unauthorized-domain")}function dct(e){const t=yj(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return s.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!uct.test(n))return!1;if(lct.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hct=new n2(3e4,6e4);function Rse(){const e=uh().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function fct(e){return new Promise((t,n)=>{var r,i,o;function s(){Rse(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Rse(),n(Kc(e,"network-request-failed"))},timeout:hct.get()})}if(!((i=(r=uh().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((o=uh().gapi)===null||o===void 0)&&o.load)s();else{const a=mut("iframefcb");return uh()[a]=()=>{gapi.load?s():n(Kc(e,"network-request-failed"))},fut(`${put()}?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw qI=null,t})}let qI=null;function pct(e){return qI=qI||fct(e),qI}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mct=new n2(5e3,15e3),gct="__/auth/iframe",yct="emulator/auth/iframe",vct={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bct=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wct(e){const t=e.config;on(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?hG(t,yct):`https://${e.config.authDomain}/${gct}`,r={apiKey:t.apiKey,appName:e.name,v:Qv},i=bct.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${qA(r).slice(1)}`}async function xct(e){const t=await pct(e),n=uh().gapi;return on(n,e,"internal-error"),t.open({where:document.body,url:wct(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vct,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Kc(e,"network-request-failed"),a=uh().setTimeout(()=>{o(s)},mct.get());function l(){uh().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ct={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ect=500,Sct=600,Tct="_blank",Cct="http://localhost";class $se{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Act(e,t,n,r=Ect,i=Sct){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},_ct),{width:r.toString(),height:i.toString(),top:o,left:s}),u=oa().toLowerCase();n&&(a=TEe(u)?Tct:n),EEe(u)&&(t=t||Cct,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(out(u)&&a!=="_self")return kct(t||"",a),new $se(null);const d=window.open(t||"",a,c);on(d,e,"popup-blocked");try{d.focus()}catch{}return new $se(d)}function kct(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ict="__/auth/handler",Rct="emulator/auth/handler",$ct=encodeURIComponent("fac");async function Dse(e,t,n,r,i,o){on(e.config.authDomain,e,"auth-domain-config-required"),on(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Qv,eventId:i};if(t instanceof gG){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",unt(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,d]of Object.entries({}))s[c]=d}if(t instanceof i2){const c=t.getScopes().filter(d=>d!=="");c.length>0&&(s.scopes=c.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await e._getAppCheckToken(),u=l?`#${$ct}=${encodeURIComponent(l)}`:"";return`${Dct(e)}?${qA(a).slice(1)}${u}`}function Dct({config:e}){return e.emulator?hG(e,Rct):`https://${e.authDomain}/${Ict}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KF="webStorageSupport";class Mct{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=FEe,this._completeRedirectFn=rct,this._overrideRedirectResult=ect}async _openPopup(t,n,r,i){var o;Ep((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await Dse(t,n,r,yj(),i);return Act(t,s,yG())}async _openRedirect(t,n,r,i){await this._originValidation(t);const o=await Dse(t,n,r,yj(),i);return Out(o),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ep(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await xct(t),r=new oct(t);return n.register("authEvent",i=>(on(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(KF,{type:KF},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[KF];s!==void 0&&n(!!s),Th(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=cct(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return REe()||SEe()||pG()}}const qEe=Mct;var Mse="@firebase/auth",Pse="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pct{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){on(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nct(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Oct(e){wp(new _h("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;on(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$Ee(e)},u=new dut(r,i,o,l);return yut(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),wp(new _h("auth-internal",t=>{const n=r2(t.getProvider("auth").getImmediate());return(r=>new Pct(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yc(Mse,Pse,Nct(e)),Yc(Mse,Pse,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lct=5*60,Fct=txe("authIdTokenMaxAge")||Lct;let Nse=null;const Bct=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Fct)return;const i=n==null?void 0:n.token;Nse!==i&&(Nse=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function U$(e=pq()){const t=u_(e,"auth");if(t.isInitialized())return t.getImmediate();const n=gut(e,{popupRedirectResolver:qEe,persistence:[Wut,Mut,FEe]}),r=txe("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=Bct(o.toString());kut(n,s,()=>s(n.currentUser)),Aut(n,a=>s(a))}}const i=Zwe("auth");return i&&vut(n,`http://${i}`),n}function jct(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}hut({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const o=Kc("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",jct().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Oct("Browser");function aS(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var GEe={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,o){function s(u,c){if(!i[u]){if(!r[u]){var d=typeof aS=="function"&&aS;if(!c&&d)return d(u,!0);if(a)return a(u,!0);var h=new Error("Cannot find module '"+u+"'");throw h.code="MODULE_NOT_FOUND",h}var f=i[u]={exports:{}};r[u][0].call(f.exports,function(p){var m=r[u][1][p];return s(m||p)},f,f.exports,n,r,i,o)}return i[u].exports}for(var a=typeof aS=="function"&&aS,l=0;l<o.length;l++)s(o[l]);return s}({1:[function(n,r,i){(function(o){var s=o.MutationObserver||o.WebKitMutationObserver,a;if(s){var l=0,u=new s(p),c=o.document.createTextNode("");u.observe(c,{characterData:!0}),a=function(){c.data=l=++l%2}}else if(!o.setImmediate&&typeof o.MessageChannel<"u"){var d=new o.MessageChannel;d.port1.onmessage=p,a=function(){d.port2.postMessage(0)}}else"document"in o&&"onreadystatechange"in o.document.createElement("script")?a=function(){var g=o.document.createElement("script");g.onreadystatechange=function(){p(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},o.document.documentElement.appendChild(g)}:a=function(){setTimeout(p,0)};var h,f=[];function p(){h=!0;for(var g,y,v=f.length;v;){for(y=f,f=[],g=-1;++g<v;)y[g]();v=f.length}h=!1}r.exports=m;function m(g){f.push(g)===1&&!h&&a()}}).call(this,typeof vt<"u"?vt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var o=n(1);function s(){}var a={},l=["REJECTED"],u=["FULFILLED"],c=["PENDING"];r.exports=d;function d(x){if(typeof x!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,x!==s&&m(this,x)}d.prototype.catch=function(x){return this.then(null,x)},d.prototype.then=function(x,w){if(typeof x!="function"&&this.state===u||typeof w!="function"&&this.state===l)return this;var E=new this.constructor(s);if(this.state!==c){var S=this.state===u?x:w;f(E,S,this.outcome)}else this.queue.push(new h(E,x,w));return E};function h(x,w,E){this.promise=x,typeof w=="function"&&(this.onFulfilled=w,this.callFulfilled=this.otherCallFulfilled),typeof E=="function"&&(this.onRejected=E,this.callRejected=this.otherCallRejected)}h.prototype.callFulfilled=function(x){a.resolve(this.promise,x)},h.prototype.otherCallFulfilled=function(x){f(this.promise,this.onFulfilled,x)},h.prototype.callRejected=function(x){a.reject(this.promise,x)},h.prototype.otherCallRejected=function(x){f(this.promise,this.onRejected,x)};function f(x,w,E){o(function(){var S;try{S=w(E)}catch(T){return a.reject(x,T)}S===x?a.reject(x,new TypeError("Cannot resolve promise with itself")):a.resolve(x,S)})}a.resolve=function(x,w){var E=g(p,w);if(E.status==="error")return a.reject(x,E.value);var S=E.value;if(S)m(x,S);else{x.state=u,x.outcome=w;for(var T=-1,C=x.queue.length;++T<C;)x.queue[T].callFulfilled(w)}return x},a.reject=function(x,w){x.state=l,x.outcome=w;for(var E=-1,S=x.queue.length;++E<S;)x.queue[E].callRejected(w);return x};function p(x){var w=x&&x.then;if(x&&(typeof x=="object"||typeof x=="function")&&typeof w=="function")return function(){w.apply(x,arguments)}}function m(x,w){var E=!1;function S($){E||(E=!0,a.reject(x,$))}function T($){E||(E=!0,a.resolve(x,$))}function C(){w(T,S)}var D=g(C);D.status==="error"&&S(D.value)}function g(x,w){var E={};try{E.value=x(w),E.status="success"}catch(S){E.status="error",E.value=S}return E}d.resolve=y;function y(x){return x instanceof this?x:a.resolve(new this(s),x)}d.reject=v;function v(x){var w=new this(s);return a.reject(w,x)}d.all=b;function b(x){var w=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=x.length,S=!1;if(!E)return this.resolve([]);for(var T=new Array(E),C=0,D=-1,$=new this(s);++D<E;)I(x[D],D);return $;function I(R,A){w.resolve(R).then(M,function(N){S||(S=!0,a.reject($,N))});function M(N){T[A]=N,++C===E&&!S&&(S=!0,a.resolve($,T))}}}d.race=_;function _(x){var w=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=x.length,S=!1;if(!E)return this.resolve([]);for(var T=-1,C=new this(s);++T<E;)D(x[T]);return C;function D($){w.resolve($).then(function(I){S||(S=!0,a.resolve(C,I))},function(I){S||(S=!0,a.reject(C,I))})}}},{1:1}],3:[function(n,r,i){(function(o){typeof o.Promise!="function"&&(o.Promise=n(2))}).call(this,typeof vt<"u"?vt:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q};function s(Q,ce){if(!(Q instanceof ce))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var l=a();function u(){try{if(!l||!l.open)return!1;var Q=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),ce=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!Q||ce)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function c(Q,ce){Q=Q||[],ce=ce||{};try{return new Blob(Q,ce)}catch(fe){if(fe.name!=="TypeError")throw fe;for(var ie=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,me=new ie,ye=0;ye<Q.length;ye+=1)me.append(Q[ye]);return me.getBlob(ce.type)}}typeof Promise>"u"&&n(3);var d=Promise;function h(Q,ce){ce&&Q.then(function(ie){ce(null,ie)},function(ie){ce(ie)})}function f(Q,ce,ie){typeof ce=="function"&&Q.then(ce),typeof ie=="function"&&Q.catch(ie)}function p(Q){return typeof Q!="string"&&(console.warn(Q+" used as a key, but it is not a string."),Q=String(Q)),Q}function m(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var g="local-forage-detect-blob-support",y=void 0,v={},b=Object.prototype.toString,_="readonly",x="readwrite";function w(Q){for(var ce=Q.length,ie=new ArrayBuffer(ce),me=new Uint8Array(ie),ye=0;ye<ce;ye++)me[ye]=Q.charCodeAt(ye);return ie}function E(Q){return new d(function(ce){var ie=Q.transaction(g,x),me=c([""]);ie.objectStore(g).put(me,"key"),ie.onabort=function(ye){ye.preventDefault(),ye.stopPropagation(),ce(!1)},ie.oncomplete=function(){var ye=navigator.userAgent.match(/Chrome\/(\d+)/),fe=navigator.userAgent.match(/Edge\//);ce(fe||!ye||parseInt(ye[1],10)>=43)}}).catch(function(){return!1})}function S(Q){return typeof y=="boolean"?d.resolve(y):E(Q).then(function(ce){return y=ce,y})}function T(Q){var ce=v[Q.name],ie={};ie.promise=new d(function(me,ye){ie.resolve=me,ie.reject=ye}),ce.deferredOperations.push(ie),ce.dbReady?ce.dbReady=ce.dbReady.then(function(){return ie.promise}):ce.dbReady=ie.promise}function C(Q){var ce=v[Q.name],ie=ce.deferredOperations.pop();if(ie)return ie.resolve(),ie.promise}function D(Q,ce){var ie=v[Q.name],me=ie.deferredOperations.pop();if(me)return me.reject(ce),me.promise}function $(Q,ce){return new d(function(ie,me){if(v[Q.name]=v[Q.name]||W(),Q.db)if(ce)T(Q),Q.db.close();else return ie(Q.db);var ye=[Q.name];ce&&ye.push(Q.version);var fe=l.open.apply(l,ye);ce&&(fe.onupgradeneeded=function(De){var ze=fe.result;try{ze.createObjectStore(Q.storeName),De.oldVersion<=1&&ze.createObjectStore(g)}catch(Ue){if(Ue.name==="ConstraintError")console.warn('The database "'+Q.name+'" has been upgraded from version '+De.oldVersion+" to version "+De.newVersion+', but the storage "'+Q.storeName+'" already exists.');else throw Ue}}),fe.onerror=function(De){De.preventDefault(),me(fe.error)},fe.onsuccess=function(){var De=fe.result;De.onversionchange=function(ze){ze.target.close()},ie(De),C(Q)}})}function I(Q){return $(Q,!1)}function R(Q){return $(Q,!0)}function A(Q,ce){if(!Q.db)return!0;var ie=!Q.db.objectStoreNames.contains(Q.storeName),me=Q.version<Q.db.version,ye=Q.version>Q.db.version;if(me&&(Q.version!==ce&&console.warn('The database "'+Q.name+`" can't be downgraded from version `+Q.db.version+" to version "+Q.version+"."),Q.version=Q.db.version),ye||ie){if(ie){var fe=Q.db.version+1;fe>Q.version&&(Q.version=fe)}return!0}return!1}function M(Q){return new d(function(ce,ie){var me=new FileReader;me.onerror=ie,me.onloadend=function(ye){var fe=btoa(ye.target.result||"");ce({__local_forage_encoded_blob:!0,data:fe,type:Q.type})},me.readAsBinaryString(Q)})}function N(Q){var ce=w(atob(Q.data));return c([ce],{type:Q.type})}function L(Q){return Q&&Q.__local_forage_encoded_blob}function z(Q){var ce=this,ie=ce._initReady().then(function(){var me=v[ce._dbInfo.name];if(me&&me.dbReady)return me.dbReady});return f(ie,Q,Q),ie}function F(Q){T(Q);for(var ce=v[Q.name],ie=ce.forages,me=0;me<ie.length;me++){var ye=ie[me];ye._dbInfo.db&&(ye._dbInfo.db.close(),ye._dbInfo.db=null)}return Q.db=null,I(Q).then(function(fe){return Q.db=fe,A(Q)?R(Q):fe}).then(function(fe){Q.db=ce.db=fe;for(var De=0;De<ie.length;De++)ie[De]._dbInfo.db=fe}).catch(function(fe){throw D(Q,fe),fe})}function j(Q,ce,ie,me){me===void 0&&(me=1);try{var ye=Q.db.transaction(Q.storeName,ce);ie(null,ye)}catch(fe){if(me>0&&(!Q.db||fe.name==="InvalidStateError"||fe.name==="NotFoundError"))return d.resolve().then(function(){if(!Q.db||fe.name==="NotFoundError"&&!Q.db.objectStoreNames.contains(Q.storeName)&&Q.version<=Q.db.version)return Q.db&&(Q.version=Q.db.version+1),R(Q)}).then(function(){return F(Q).then(function(){j(Q,ce,ie,me-1)})}).catch(ie);ie(fe)}}function W(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function B(Q){var ce=this,ie={db:null};if(Q)for(var me in Q)ie[me]=Q[me];var ye=v[ie.name];ye||(ye=W(),v[ie.name]=ye),ye.forages.push(ce),ce._initReady||(ce._initReady=ce.ready,ce.ready=z);var fe=[];function De(){return d.resolve()}for(var ze=0;ze<ye.forages.length;ze++){var Ue=ye.forages[ze];Ue!==ce&&fe.push(Ue._initReady().catch(De))}var He=ye.forages.slice(0);return d.all(fe).then(function(){return ie.db=ye.db,I(ie)}).then(function(nt){return ie.db=nt,A(ie,ce._defaultConfig.version)?R(ie):nt}).then(function(nt){ie.db=ye.db=nt,ce._dbInfo=ie;for(var Ct=0;Ct<He.length;Ct++){var un=He[Ct];un!==ce&&(un._dbInfo.db=ie.db,un._dbInfo.version=ie.version)}})}function H(Q,ce){var ie=this;Q=p(Q);var me=new d(function(ye,fe){ie.ready().then(function(){j(ie._dbInfo,_,function(De,ze){if(De)return fe(De);try{var Ue=ze.objectStore(ie._dbInfo.storeName),He=Ue.get(Q);He.onsuccess=function(){var nt=He.result;nt===void 0&&(nt=null),L(nt)&&(nt=N(nt)),ye(nt)},He.onerror=function(){fe(He.error)}}catch(nt){fe(nt)}})}).catch(fe)});return h(me,ce),me}function V(Q,ce){var ie=this,me=new d(function(ye,fe){ie.ready().then(function(){j(ie._dbInfo,_,function(De,ze){if(De)return fe(De);try{var Ue=ze.objectStore(ie._dbInfo.storeName),He=Ue.openCursor(),nt=1;He.onsuccess=function(){var Ct=He.result;if(Ct){var un=Ct.value;L(un)&&(un=N(un));var Lt=Q(un,Ct.key,nt++);Lt!==void 0?ye(Lt):Ct.continue()}else ye()},He.onerror=function(){fe(He.error)}}catch(Ct){fe(Ct)}})}).catch(fe)});return h(me,ce),me}function G(Q,ce,ie){var me=this;Q=p(Q);var ye=new d(function(fe,De){var ze;me.ready().then(function(){return ze=me._dbInfo,b.call(ce)==="[object Blob]"?S(ze.db).then(function(Ue){return Ue?ce:M(ce)}):ce}).then(function(Ue){j(me._dbInfo,x,function(He,nt){if(He)return De(He);try{var Ct=nt.objectStore(me._dbInfo.storeName);Ue===null&&(Ue=void 0);var un=Ct.put(Ue,Q);nt.oncomplete=function(){Ue===void 0&&(Ue=null),fe(Ue)},nt.onabort=nt.onerror=function(){var Lt=un.error?un.error:un.transaction.error;De(Lt)}}catch(Lt){De(Lt)}})}).catch(De)});return h(ye,ie),ye}function ne(Q,ce){var ie=this;Q=p(Q);var me=new d(function(ye,fe){ie.ready().then(function(){j(ie._dbInfo,x,function(De,ze){if(De)return fe(De);try{var Ue=ze.objectStore(ie._dbInfo.storeName),He=Ue.delete(Q);ze.oncomplete=function(){ye()},ze.onerror=function(){fe(He.error)},ze.onabort=function(){var nt=He.error?He.error:He.transaction.error;fe(nt)}}catch(nt){fe(nt)}})}).catch(fe)});return h(me,ce),me}function X(Q){var ce=this,ie=new d(function(me,ye){ce.ready().then(function(){j(ce._dbInfo,x,function(fe,De){if(fe)return ye(fe);try{var ze=De.objectStore(ce._dbInfo.storeName),Ue=ze.clear();De.oncomplete=function(){me()},De.onabort=De.onerror=function(){var He=Ue.error?Ue.error:Ue.transaction.error;ye(He)}}catch(He){ye(He)}})}).catch(ye)});return h(ie,Q),ie}function te(Q){var ce=this,ie=new d(function(me,ye){ce.ready().then(function(){j(ce._dbInfo,_,function(fe,De){if(fe)return ye(fe);try{var ze=De.objectStore(ce._dbInfo.storeName),Ue=ze.count();Ue.onsuccess=function(){me(Ue.result)},Ue.onerror=function(){ye(Ue.error)}}catch(He){ye(He)}})}).catch(ye)});return h(ie,Q),ie}function se(Q,ce){var ie=this,me=new d(function(ye,fe){if(Q<0){ye(null);return}ie.ready().then(function(){j(ie._dbInfo,_,function(De,ze){if(De)return fe(De);try{var Ue=ze.objectStore(ie._dbInfo.storeName),He=!1,nt=Ue.openKeyCursor();nt.onsuccess=function(){var Ct=nt.result;if(!Ct){ye(null);return}Q===0||He?ye(Ct.key):(He=!0,Ct.advance(Q))},nt.onerror=function(){fe(nt.error)}}catch(Ct){fe(Ct)}})}).catch(fe)});return h(me,ce),me}function ve(Q){var ce=this,ie=new d(function(me,ye){ce.ready().then(function(){j(ce._dbInfo,_,function(fe,De){if(fe)return ye(fe);try{var ze=De.objectStore(ce._dbInfo.storeName),Ue=ze.openKeyCursor(),He=[];Ue.onsuccess=function(){var nt=Ue.result;if(!nt){me(He);return}He.push(nt.key),nt.continue()},Ue.onerror=function(){ye(Ue.error)}}catch(nt){ye(nt)}})}).catch(ye)});return h(ie,Q),ie}function pe(Q,ce){ce=m.apply(this,arguments);var ie=this.config();Q=typeof Q!="function"&&Q||{},Q.name||(Q.name=Q.name||ie.name,Q.storeName=Q.storeName||ie.storeName);var me=this,ye;if(!Q.name)ye=d.reject("Invalid arguments");else{var fe=Q.name===ie.name&&me._dbInfo.db,De=fe?d.resolve(me._dbInfo.db):I(Q).then(function(ze){var Ue=v[Q.name],He=Ue.forages;Ue.db=ze;for(var nt=0;nt<He.length;nt++)He[nt]._dbInfo.db=ze;return ze});Q.storeName?ye=De.then(function(ze){if(ze.objectStoreNames.contains(Q.storeName)){var Ue=ze.version+1;T(Q);var He=v[Q.name],nt=He.forages;ze.close();for(var Ct=0;Ct<nt.length;Ct++){var un=nt[Ct];un._dbInfo.db=null,un._dbInfo.version=Ue}var Lt=new d(function(wn,Hn){var Dn=l.open(Q.name,Ue);Dn.onerror=function(go){var yu=Dn.result;yu.close(),Hn(go)},Dn.onupgradeneeded=function(){var go=Dn.result;go.deleteObjectStore(Q.storeName)},Dn.onsuccess=function(){var go=Dn.result;go.close(),wn(go)}});return Lt.then(function(wn){He.db=wn;for(var Hn=0;Hn<nt.length;Hn++){var Dn=nt[Hn];Dn._dbInfo.db=wn,C(Dn._dbInfo)}}).catch(function(wn){throw(D(Q,wn)||d.resolve()).catch(function(){}),wn})}}):ye=De.then(function(ze){T(Q);var Ue=v[Q.name],He=Ue.forages;ze.close();for(var nt=0;nt<He.length;nt++){var Ct=He[nt];Ct._dbInfo.db=null}var un=new d(function(Lt,wn){var Hn=l.deleteDatabase(Q.name);Hn.onerror=function(){var Dn=Hn.result;Dn&&Dn.close(),wn(Hn.error)},Hn.onblocked=function(){console.warn('dropInstance blocked for database "'+Q.name+'" until all open connections are closed')},Hn.onsuccess=function(){var Dn=Hn.result;Dn&&Dn.close(),Lt(Dn)}});return un.then(function(Lt){Ue.db=Lt;for(var wn=0;wn<He.length;wn++){var Hn=He[wn];C(Hn._dbInfo)}}).catch(function(Lt){throw(D(Q,Lt)||d.resolve()).catch(function(){}),Lt})})}return h(ye,ce),ye}var Ge={_driver:"asyncStorage",_initStorage:B,_support:u(),iterate:V,getItem:H,setItem:G,removeItem:ne,clear:X,length:te,key:se,keys:ve,dropInstance:pe};function Ne(){return typeof openDatabase=="function"}var Ke="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Je="~~local_forage_type~",Ae=/^~~local_forage_type~([^~]+)~/,$e="__lfsc__:",Ze=$e.length,lt="arbf",gt="blob",st="si08",ht="ui08",Oe="uic8",ut="si16",ee="si32",he="ur16",xe="ui32",Me="fl32",je="fl64",ft=Ze+lt.length,jt=Object.prototype.toString;function Gt(Q){var ce=Q.length*.75,ie=Q.length,me,ye=0,fe,De,ze,Ue;Q[Q.length-1]==="="&&(ce--,Q[Q.length-2]==="="&&ce--);var He=new ArrayBuffer(ce),nt=new Uint8Array(He);for(me=0;me<ie;me+=4)fe=Ke.indexOf(Q[me]),De=Ke.indexOf(Q[me+1]),ze=Ke.indexOf(Q[me+2]),Ue=Ke.indexOf(Q[me+3]),nt[ye++]=fe<<2|De>>4,nt[ye++]=(De&15)<<4|ze>>2,nt[ye++]=(ze&3)<<6|Ue&63;return He}function Dt(Q){var ce=new Uint8Array(Q),ie="",me;for(me=0;me<ce.length;me+=3)ie+=Ke[ce[me]>>2],ie+=Ke[(ce[me]&3)<<4|ce[me+1]>>4],ie+=Ke[(ce[me+1]&15)<<2|ce[me+2]>>6],ie+=Ke[ce[me+2]&63];return ce.length%3===2?ie=ie.substring(0,ie.length-1)+"=":ce.length%3===1&&(ie=ie.substring(0,ie.length-2)+"=="),ie}function ct(Q,ce){var ie="";if(Q&&(ie=jt.call(Q)),Q&&(ie==="[object ArrayBuffer]"||Q.buffer&&jt.call(Q.buffer)==="[object ArrayBuffer]")){var me,ye=$e;Q instanceof ArrayBuffer?(me=Q,ye+=lt):(me=Q.buffer,ie==="[object Int8Array]"?ye+=st:ie==="[object Uint8Array]"?ye+=ht:ie==="[object Uint8ClampedArray]"?ye+=Oe:ie==="[object Int16Array]"?ye+=ut:ie==="[object Uint16Array]"?ye+=he:ie==="[object Int32Array]"?ye+=ee:ie==="[object Uint32Array]"?ye+=xe:ie==="[object Float32Array]"?ye+=Me:ie==="[object Float64Array]"?ye+=je:ce(new Error("Failed to get type for BinaryArray"))),ce(ye+Dt(me))}else if(ie==="[object Blob]"){var fe=new FileReader;fe.onload=function(){var De=Je+Q.type+"~"+Dt(this.result);ce($e+gt+De)},fe.readAsArrayBuffer(Q)}else try{ce(JSON.stringify(Q))}catch(De){console.error("Couldn't convert value into a JSON string: ",Q),ce(null,De)}}function Ft(Q){if(Q.substring(0,Ze)!==$e)return JSON.parse(Q);var ce=Q.substring(ft),ie=Q.substring(Ze,ft),me;if(ie===gt&&Ae.test(ce)){var ye=ce.match(Ae);me=ye[1],ce=ce.substring(ye[0].length)}var fe=Gt(ce);switch(ie){case lt:return fe;case gt:return c([fe],{type:me});case st:return new Int8Array(fe);case ht:return new Uint8Array(fe);case Oe:return new Uint8ClampedArray(fe);case ut:return new Int16Array(fe);case he:return new Uint16Array(fe);case ee:return new Int32Array(fe);case xe:return new Uint32Array(fe);case Me:return new Float32Array(fe);case je:return new Float64Array(fe);default:throw new Error("Unkown type: "+ie)}}var rr={serialize:ct,deserialize:Ft,stringToBuffer:Gt,bufferToString:Dt};function In(Q,ce,ie,me){Q.executeSql("CREATE TABLE IF NOT EXISTS "+ce.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],ie,me)}function Ci(Q){var ce=this,ie={db:null};if(Q)for(var me in Q)ie[me]=typeof Q[me]!="string"?Q[me].toString():Q[me];var ye=new d(function(fe,De){try{ie.db=openDatabase(ie.name,String(ie.version),ie.description,ie.size)}catch(ze){return De(ze)}ie.db.transaction(function(ze){In(ze,ie,function(){ce._dbInfo=ie,fe()},function(Ue,He){De(He)})},De)});return ie.serializer=rr,ye}function ii(Q,ce,ie,me,ye,fe){Q.executeSql(ie,me,ye,function(De,ze){ze.code===ze.SYNTAX_ERR?De.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[ce.storeName],function(Ue,He){He.rows.length?fe(Ue,ze):In(Ue,ce,function(){Ue.executeSql(ie,me,ye,fe)},fe)},fe):fe(De,ze)},fe)}function Ai(Q,ce){var ie=this;Q=p(Q);var me=new d(function(ye,fe){ie.ready().then(function(){var De=ie._dbInfo;De.db.transaction(function(ze){ii(ze,De,"SELECT * FROM "+De.storeName+" WHERE key = ? LIMIT 1",[Q],function(Ue,He){var nt=He.rows.length?He.rows.item(0).value:null;nt&&(nt=De.serializer.deserialize(nt)),ye(nt)},function(Ue,He){fe(He)})})}).catch(fe)});return h(me,ce),me}function xs(Q,ce){var ie=this,me=new d(function(ye,fe){ie.ready().then(function(){var De=ie._dbInfo;De.db.transaction(function(ze){ii(ze,De,"SELECT * FROM "+De.storeName,[],function(Ue,He){for(var nt=He.rows,Ct=nt.length,un=0;un<Ct;un++){var Lt=nt.item(un),wn=Lt.value;if(wn&&(wn=De.serializer.deserialize(wn)),wn=Q(wn,Lt.key,un+1),wn!==void 0){ye(wn);return}}ye()},function(Ue,He){fe(He)})})}).catch(fe)});return h(me,ce),me}function Tr(Q,ce,ie,me){var ye=this;Q=p(Q);var fe=new d(function(De,ze){ye.ready().then(function(){ce===void 0&&(ce=null);var Ue=ce,He=ye._dbInfo;He.serializer.serialize(ce,function(nt,Ct){Ct?ze(Ct):He.db.transaction(function(un){ii(un,He,"INSERT OR REPLACE INTO "+He.storeName+" (key, value) VALUES (?, ?)",[Q,nt],function(){De(Ue)},function(Lt,wn){ze(wn)})},function(un){if(un.code===un.QUOTA_ERR){if(me>0){De(Tr.apply(ye,[Q,Ue,ie,me-1]));return}ze(un)}})})}).catch(ze)});return h(fe,ie),fe}function Gn(Q,ce,ie){return Tr.apply(this,[Q,ce,ie,1])}function za(Q,ce){var ie=this;Q=p(Q);var me=new d(function(ye,fe){ie.ready().then(function(){var De=ie._dbInfo;De.db.transaction(function(ze){ii(ze,De,"DELETE FROM "+De.storeName+" WHERE key = ?",[Q],function(){ye()},function(Ue,He){fe(He)})})}).catch(fe)});return h(me,ce),me}function _s(Q){var ce=this,ie=new d(function(me,ye){ce.ready().then(function(){var fe=ce._dbInfo;fe.db.transaction(function(De){ii(De,fe,"DELETE FROM "+fe.storeName,[],function(){me()},function(ze,Ue){ye(Ue)})})}).catch(ye)});return h(ie,Q),ie}function Ua(Q){var ce=this,ie=new d(function(me,ye){ce.ready().then(function(){var fe=ce._dbInfo;fe.db.transaction(function(De){ii(De,fe,"SELECT COUNT(key) as c FROM "+fe.storeName,[],function(ze,Ue){var He=Ue.rows.item(0).c;me(He)},function(ze,Ue){ye(Ue)})})}).catch(ye)});return h(ie,Q),ie}function Ki(Q,ce){var ie=this,me=new d(function(ye,fe){ie.ready().then(function(){var De=ie._dbInfo;De.db.transaction(function(ze){ii(ze,De,"SELECT key FROM "+De.storeName+" WHERE id = ? LIMIT 1",[Q+1],function(Ue,He){var nt=He.rows.length?He.rows.item(0).key:null;ye(nt)},function(Ue,He){fe(He)})})}).catch(fe)});return h(me,ce),me}function $n(Q){var ce=this,ie=new d(function(me,ye){ce.ready().then(function(){var fe=ce._dbInfo;fe.db.transaction(function(De){ii(De,fe,"SELECT key FROM "+fe.storeName,[],function(ze,Ue){for(var He=[],nt=0;nt<Ue.rows.length;nt++)He.push(Ue.rows.item(nt).key);me(He)},function(ze,Ue){ye(Ue)})})}).catch(ye)});return h(ie,Q),ie}function ur(Q){return new d(function(ce,ie){Q.transaction(function(me){me.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(ye,fe){for(var De=[],ze=0;ze<fe.rows.length;ze++)De.push(fe.rows.item(ze).name);ce({db:Q,storeNames:De})},function(ye,fe){ie(fe)})},function(me){ie(me)})})}function ca(Q,ce){ce=m.apply(this,arguments);var ie=this.config();Q=typeof Q!="function"&&Q||{},Q.name||(Q.name=Q.name||ie.name,Q.storeName=Q.storeName||ie.storeName);var me=this,ye;return Q.name?ye=new d(function(fe){var De;Q.name===ie.name?De=me._dbInfo.db:De=openDatabase(Q.name,"","",0),Q.storeName?fe({db:De,storeNames:[Q.storeName]}):fe(ur(De))}).then(function(fe){return new d(function(De,ze){fe.db.transaction(function(Ue){function He(Lt){return new d(function(wn,Hn){Ue.executeSql("DROP TABLE IF EXISTS "+Lt,[],function(){wn()},function(Dn,go){Hn(go)})})}for(var nt=[],Ct=0,un=fe.storeNames.length;Ct<un;Ct++)nt.push(He(fe.storeNames[Ct]));d.all(nt).then(function(){De()}).catch(function(Lt){ze(Lt)})},function(Ue){ze(Ue)})})}):ye=d.reject("Invalid arguments"),h(ye,ce),ye}var Cr={_driver:"webSQLStorage",_initStorage:Ci,_support:Ne(),iterate:xs,getItem:Ai,setItem:Gn,removeItem:za,clear:_s,length:Ua,key:Ki,keys:$n,dropInstance:ca};function Br(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Es(Q,ce){var ie=Q.name+"/";return Q.storeName!==ce.storeName&&(ie+=Q.storeName+"/"),ie}function Xi(){var Q="_localforage_support_test";try{return localStorage.setItem(Q,!0),localStorage.removeItem(Q),!1}catch{return!0}}function ki(){return!Xi()||localStorage.length>0}function af(Q){var ce=this,ie={};if(Q)for(var me in Q)ie[me]=Q[me];return ie.keyPrefix=Es(Q,ce._defaultConfig),ki()?(ce._dbInfo=ie,ie.serializer=rr,d.resolve()):d.reject()}function lf(Q){var ce=this,ie=ce.ready().then(function(){for(var me=ce._dbInfo.keyPrefix,ye=localStorage.length-1;ye>=0;ye--){var fe=localStorage.key(ye);fe.indexOf(me)===0&&localStorage.removeItem(fe)}});return h(ie,Q),ie}function Il(Q,ce){var ie=this;Q=p(Q);var me=ie.ready().then(function(){var ye=ie._dbInfo,fe=localStorage.getItem(ye.keyPrefix+Q);return fe&&(fe=ye.serializer.deserialize(fe)),fe});return h(me,ce),me}function Sd(Q,ce){var ie=this,me=ie.ready().then(function(){for(var ye=ie._dbInfo,fe=ye.keyPrefix,De=fe.length,ze=localStorage.length,Ue=1,He=0;He<ze;He++){var nt=localStorage.key(He);if(nt.indexOf(fe)===0){var Ct=localStorage.getItem(nt);if(Ct&&(Ct=ye.serializer.deserialize(Ct)),Ct=Q(Ct,nt.substring(De),Ue++),Ct!==void 0)return Ct}}});return h(me,ce),me}function jo(Q,ce){var ie=this,me=ie.ready().then(function(){var ye=ie._dbInfo,fe;try{fe=localStorage.key(Q)}catch{fe=null}return fe&&(fe=fe.substring(ye.keyPrefix.length)),fe});return h(me,ce),me}function fn(Q){var ce=this,ie=ce.ready().then(function(){for(var me=ce._dbInfo,ye=localStorage.length,fe=[],De=0;De<ye;De++){var ze=localStorage.key(De);ze.indexOf(me.keyPrefix)===0&&fe.push(ze.substring(me.keyPrefix.length))}return fe});return h(ie,Q),ie}function mo(Q){var ce=this,ie=ce.keys().then(function(me){return me.length});return h(ie,Q),ie}function ac(Q,ce){var ie=this;Q=p(Q);var me=ie.ready().then(function(){var ye=ie._dbInfo;localStorage.removeItem(ye.keyPrefix+Q)});return h(me,ce),me}function lc(Q,ce,ie){var me=this;Q=p(Q);var ye=me.ready().then(function(){ce===void 0&&(ce=null);var fe=ce;return new d(function(De,ze){var Ue=me._dbInfo;Ue.serializer.serialize(ce,function(He,nt){if(nt)ze(nt);else try{localStorage.setItem(Ue.keyPrefix+Q,He),De(fe)}catch(Ct){(Ct.name==="QuotaExceededError"||Ct.name==="NS_ERROR_DOM_QUOTA_REACHED")&&ze(Ct),ze(Ct)}})})});return h(ye,ie),ye}function uc(Q,ce){if(ce=m.apply(this,arguments),Q=typeof Q!="function"&&Q||{},!Q.name){var ie=this.config();Q.name=Q.name||ie.name,Q.storeName=Q.storeName||ie.storeName}var me=this,ye;return Q.name?ye=new d(function(fe){Q.storeName?fe(Es(Q,me._defaultConfig)):fe(Q.name+"/")}).then(function(fe){for(var De=localStorage.length-1;De>=0;De--){var ze=localStorage.key(De);ze.indexOf(fe)===0&&localStorage.removeItem(ze)}}):ye=d.reject("Invalid arguments"),h(ye,ce),ye}var uf={_driver:"localStorageWrapper",_initStorage:af,_support:Br(),iterate:Sd,getItem:Il,setItem:lc,removeItem:ac,clear:lf,length:mo,key:jo,keys:fn,dropInstance:uc},Ss=function(ce,ie){return ce===ie||typeof ce=="number"&&typeof ie=="number"&&isNaN(ce)&&isNaN(ie)},em=function(ce,ie){for(var me=ce.length,ye=0;ye<me;){if(Ss(ce[ye],ie))return!0;ye++}return!1},cc=Array.isArray||function(Q){return Object.prototype.toString.call(Q)==="[object Array]"},Ts={},cf={},zo={INDEXEDDB:Ge,WEBSQL:Cr,LOCALSTORAGE:uf},da=[zo.INDEXEDDB._driver,zo.WEBSQL._driver,zo.LOCALSTORAGE._driver],Cs=["dropInstance"],dc=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Cs),Ha={description:"",driver:da.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function df(Q,ce){Q[ce]=function(){var ie=arguments;return Q.ready().then(function(){return Q[ce].apply(Q,ie)})}}function Td(){for(var Q=1;Q<arguments.length;Q++){var ce=arguments[Q];if(ce)for(var ie in ce)ce.hasOwnProperty(ie)&&(cc(ce[ie])?arguments[0][ie]=ce[ie].slice():arguments[0][ie]=ce[ie])}return arguments[0]}var tm=function(){function Q(ce){s(this,Q);for(var ie in zo)if(zo.hasOwnProperty(ie)){var me=zo[ie],ye=me._driver;this[ie]=ye,Ts[ye]||this.defineDriver(me)}this._defaultConfig=Td({},Ha),this._config=Td({},this._defaultConfig,ce),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return Q.prototype.config=function(ie){if((typeof ie>"u"?"undefined":o(ie))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var me in ie){if(me==="storeName"&&(ie[me]=ie[me].replace(/\W/g,"_")),me==="version"&&typeof ie[me]!="number")return new Error("Database version must be a number.");this._config[me]=ie[me]}return"driver"in ie&&ie.driver?this.setDriver(this._config.driver):!0}else return typeof ie=="string"?this._config[ie]:this._config},Q.prototype.defineDriver=function(ie,me,ye){var fe=new d(function(De,ze){try{var Ue=ie._driver,He=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!ie._driver){ze(He);return}for(var nt=dc.concat("_initStorage"),Ct=0,un=nt.length;Ct<un;Ct++){var Lt=nt[Ct],wn=!em(Cs,Lt);if((wn||ie[Lt])&&typeof ie[Lt]!="function"){ze(He);return}}var Hn=function(){for(var yu=function(Va){return function(){var As=new Error("Method "+Va+" is not implemented by the current driver"),Uo=d.reject(As);return h(Uo,arguments[arguments.length-1]),Uo}},yo=0,T0=Cs.length;yo<T0;yo++){var ff=Cs[yo];ie[ff]||(ie[ff]=yu(ff))}};Hn();var Dn=function(yu){Ts[Ue]&&console.info("Redefining LocalForage driver: "+Ue),Ts[Ue]=ie,cf[Ue]=yu,De()};"_support"in ie?ie._support&&typeof ie._support=="function"?ie._support().then(Dn,ze):Dn(!!ie._support):Dn(!0)}catch(go){ze(go)}});return f(fe,me,ye),fe},Q.prototype.driver=function(){return this._driver||null},Q.prototype.getDriver=function(ie,me,ye){var fe=Ts[ie]?d.resolve(Ts[ie]):d.reject(new Error("Driver not found."));return f(fe,me,ye),fe},Q.prototype.getSerializer=function(ie){var me=d.resolve(rr);return f(me,ie),me},Q.prototype.ready=function(ie){var me=this,ye=me._driverSet.then(function(){return me._ready===null&&(me._ready=me._initDriver()),me._ready});return f(ye,ie,ie),ye},Q.prototype.setDriver=function(ie,me,ye){var fe=this;cc(ie)||(ie=[ie]);var De=this._getSupportedDrivers(ie);function ze(){fe._config.driver=fe.driver()}function Ue(Ct){return fe._extend(Ct),ze(),fe._ready=fe._initStorage(fe._config),fe._ready}function He(Ct){return function(){var un=0;function Lt(){for(;un<Ct.length;){var wn=Ct[un];return un++,fe._dbInfo=null,fe._ready=null,fe.getDriver(wn).then(Ue).catch(Lt)}ze();var Hn=new Error("No available storage method found.");return fe._driverSet=d.reject(Hn),fe._driverSet}return Lt()}}var nt=this._driverSet!==null?this._driverSet.catch(function(){return d.resolve()}):d.resolve();return this._driverSet=nt.then(function(){var Ct=De[0];return fe._dbInfo=null,fe._ready=null,fe.getDriver(Ct).then(function(un){fe._driver=un._driver,ze(),fe._wrapLibraryMethodsWithReady(),fe._initDriver=He(De)})}).catch(function(){ze();var Ct=new Error("No available storage method found.");return fe._driverSet=d.reject(Ct),fe._driverSet}),f(this._driverSet,me,ye),this._driverSet},Q.prototype.supports=function(ie){return!!cf[ie]},Q.prototype._extend=function(ie){Td(this,ie)},Q.prototype._getSupportedDrivers=function(ie){for(var me=[],ye=0,fe=ie.length;ye<fe;ye++){var De=ie[ye];this.supports(De)&&me.push(De)}return me},Q.prototype._wrapLibraryMethodsWithReady=function(){for(var ie=0,me=dc.length;ie<me;ie++)df(this,dc[ie])},Q.prototype.createInstance=function(ie){return new Q(ie)},Q}(),hf=new tm;r.exports=hf},{3:3}]},{},[4])(4)})})(GEe);var zct=GEe.exports;const f1=hu(zct),qo=[];for(let e=0;e<256;++e)qo.push((e+256).toString(16).slice(1));function Uct(e,t=0){return(qo[e[t+0]]+qo[e[t+1]]+qo[e[t+2]]+qo[e[t+3]]+"-"+qo[e[t+4]]+qo[e[t+5]]+"-"+qo[e[t+6]]+qo[e[t+7]]+"-"+qo[e[t+8]]+qo[e[t+9]]+"-"+qo[e[t+10]]+qo[e[t+11]]+qo[e[t+12]]+qo[e[t+13]]+qo[e[t+14]]+qo[e[t+15]]).toLowerCase()}let XF;const Hct=new Uint8Array(16);function Vct(){if(!XF){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");XF=crypto.getRandomValues.bind(crypto)}return XF(Hct)}const Wct=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ose={randomUUID:Wct};function H$(e,t,n){var i;if(Ose.randomUUID&&!e)return Ose.randomUUID();e=e||{};const r=e.random??((i=e.rng)==null?void 0:i.call(e))??Vct();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Uct(r)}var YEe="Expected a function",Lse=NaN,qct="[object Symbol]",Gct=/^\s+|\s+$/g,Yct=/^[-+]0x[0-9a-f]+$/i,Kct=/^0b[01]+$/i,Xct=/^0o[0-7]+$/i,Qct=parseInt,Jct=typeof vt=="object"&&vt&&vt.Object===Object&&vt,Zct=typeof self=="object"&&self&&self.Object===Object&&self,edt=Jct||Zct||Function("return this")(),tdt=Object.prototype,ndt=tdt.toString,rdt=Math.max,idt=Math.min,QF=function(){return edt.Date.now()};function odt(e,t,n){var r,i,o,s,a,l,u=0,c=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(YEe);t=Fse(t)||0,V$(n)&&(c=!!n.leading,d="maxWait"in n,o=d?rdt(Fse(n.maxWait)||0,t):o,h="trailing"in n?!!n.trailing:h);function f(w){var E=r,S=i;return r=i=void 0,u=w,s=e.apply(S,E),s}function p(w){return u=w,a=setTimeout(y,t),c?f(w):s}function m(w){var E=w-l,S=w-u,T=t-E;return d?idt(T,o-S):T}function g(w){var E=w-l,S=w-u;return l===void 0||E>=t||E<0||d&&S>=o}function y(){var w=QF();if(g(w))return v(w);a=setTimeout(y,m(w))}function v(w){return a=void 0,h&&r?f(w):(r=i=void 0,s)}function b(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function _(){return a===void 0?s:v(QF())}function x(){var w=QF(),E=g(w);if(r=arguments,i=this,l=w,E){if(a===void 0)return p(l);if(d)return a=setTimeout(y,t),f(l)}return a===void 0&&(a=setTimeout(y,t)),s}return x.cancel=b,x.flush=_,x}function sdt(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(YEe);return V$(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),odt(e,t,{leading:r,maxWait:t,trailing:i})}function V$(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function adt(e){return!!e&&typeof e=="object"}function ldt(e){return typeof e=="symbol"||adt(e)&&ndt.call(e)==qct}function Fse(e){if(typeof e=="number")return e;if(ldt(e))return Lse;if(V$(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=V$(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(Gct,"");var n=Kct.test(e);return n||Xct.test(e)?Qct(e.slice(2),n?2:8):Yct.test(e)?Lse:+e}var udt=sdt;const cdt=hu(udt);class KEe{constructor(t){Rs(this,"engine");Rs(this,"connected",!1);Rs(this,"currentParticipantId",null);this.engine=t}isConnected(){return this.connected}getEngine(){return this.engine}}async function TC(e){const t=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(o=>o.toString(16).padStart(2,"0")).join("")}function yE(e){return e.participantId!==void 0}class Tu extends KEe{constructor(){super("firebase");Rs(this,"RECAPTCHAV3TOKEN","6LdvBbsqAAAAAAGT33seMqiZR_JQWMbtGug2Cc0n");Rs(this,"firestore");Rs(this,"collectionPrefix","prod-");Rs(this,"studyCollection");Rs(this,"storage");Rs(this,"studyId","");Rs(this,"localForage",f1.createInstance({name:"currentParticipantId"}));Rs(this,"participantData",null);Rs(this,"throttleSaveAnswers",cdt(async()=>{await this._saveAnswers()},3e3));Rs(this,"userManagementData",{});const n=Utt.parse(`
{
  apiKey: "AIzaSyAAKU1PezLLa0UpfKkf-xJW9DtxYq7SlX8",
  authDomain: "data-formats-usability.firebaseapp.com",
  projectId: "data-formats-usability",
  storageBucket: "data-formats-usability.firebasestorage.app",
  messagingSenderId: "530098771238",
  appId: "1:530098771238:web:dbdae6d20be15a0b431de7"
}
`),r=ixe(n);this.firestore=zat(r,{}),this.storage=coe();try{Llt(r,{provider:new uG(this.RECAPTCHAV3TOKEN),isTokenAutoRefreshEnabled:!1})}catch{console.warn("Failed to initialize Firebase App Check")}}async connect(){try{await Hat(this.firestore),this.connected=!0}catch{console.warn("Failed to connect to Firebase")}}async initializeStudyDb(n,r){try{const i=U$();if(!i.currentUser&&(await Eut(i),!i.currentUser))throw new Error("Login failed with firebase");this.studyCollection=ma(this.firestore,`${this.collectionPrefix}${n}`),this.studyId=n;const o=await this.getCurrentConfigHash(),s=await TC(JSON.stringify(r));if(await this._pushToFirebaseStorage(`configs/${s}`,"config",r),o&&o!==s){try{await this._deleteFromFirebaseStorage("","sequenceArray")}catch{}await this.clearCurrentParticipantId()}return await this._setCurrentConfigHash(s),Promise.resolve()}catch(i){return console.warn("Failed to connect to Firebase."),Promise.reject(i)}}async initializeParticipantSession(n,r,i,o,s){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(await this.getCurrentParticipantId(s),!this.currentParticipantId)throw new Error("Participant not initialized");const a=await this._getFromFirebaseStorage(`participants/${this.currentParticipantId}`,"participantData"),l=await this.getModes(n);if(yE(a))return this.participantData=a,a;const u=await TC(JSON.stringify(i)),{currentRow:c,creationIndex:d}=await this.getSequence();return this.participantData={participantId:this.currentParticipantId,participantConfigHash:u,sequence:c,participantIndex:d,answers:{},searchParams:r,metadata:o,completed:!1,rejected:!1,participantTags:[]},l.dataCollectionEnabled&&await this._pushToFirebaseStorage(`participants/${this.currentParticipantId}`,"participantData",this.participantData),this.participantData}async getCurrentConfigHash(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=Mr(this.studyCollection,"configHash"),r=await t3(n);return r.exists()?r.data().configHash:null}async _setCurrentConfigHash(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const r=Mr(this.studyCollection,"configHash");await Ps(r,{configHash:n})}async getAllConfigsFromHash(n,r){const i=n.map(a=>{const l=$l(this.storage,`${this.collectionPrefix}${r}/configs/${a}_config`);return this._getFromFirebaseStorageByRef(l,"config")}),o=await Promise.all(i),s={};return n.forEach((a,l)=>s[a]=o[l]),s}async getCurrentParticipantId(n){const r=await this.localForage.getItem("currentParticipantId");if(n)return this.currentParticipantId=n,await this.localForage.setItem("currentParticipantId",n),n;if(r)return this.currentParticipantId=r,r;if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");return this.currentParticipantId=H$(),await this.localForage.setItem("currentParticipantId",this.currentParticipantId),this.currentParticipantId}async clearCurrentParticipantId(){return await this.localForage.removeItem("currentParticipantId")}async saveAudio(n,r){let i=null;const o=async s=>{i||(i=setTimeout(async()=>{this._pushToFirebaseStorage(`/audio/${this.currentParticipantId}`,r,s.data)},500))};n.addEventListener("dataavailable",o),n.requestData()}async saveAnswers(n){if(!this.currentParticipantId||this.participantData===null)throw new Error("Participant not initialized");this.participantData={...this.participantData,answers:n},await this.throttleSaveAnswers(n)}async _saveAnswers(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(!this.currentParticipantId||this.participantData===null)throw new Error("Participant not initialized");await this._pushToFirebaseStorage(`participants/${this.currentParticipantId}`,"participantData",this.participantData)}async setSequenceArray(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");await this._pushToFirebaseStorage("","sequenceArray",n)}async getSequenceArray(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=await this._getFromFirebaseStorage("","sequenceArray");return Array.isArray(n)?n:null}async getSequence(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const n=await this.getSequenceArray();if(!n)throw new Error("Latin square not initialized");const r=await this.getModes(this.studyId),i=Mr(this.studyCollection,"sequenceAssignment");await Ps(i,{});const o=ma(i,"sequenceAssignment"),s=Mr(o,this.currentParticipantId),a=VF(o,lse("rejected","==",!0),lse("claimed","==",!1)),l=await $0(a);if(l.docs.length>0){const y=l.docs[0],v=y.data().timestamp;r.dataCollectionEnabled&&(await Ps(y.ref,{claimed:!0}),await Ps(s,{participantId:this.currentParticipantId,timestamp:v,rejected:!1,claimed:!1,completed:null,createdTime:n3()}))}else r.dataCollectionEnabled&&await Ps(s,{participantId:this.currentParticipantId,timestamp:n3(),rejected:!1,claimed:!1,completed:null,createdTime:n3()});const u=VF(o,use("timestamp","asc")),d=(await $0(u)).docs.map(y=>y.data()),h=d.filter(y=>!y.rejected).findIndex(y=>y.participantId===this.currentParticipantId)%n.length,f=h===-1?Math.floor(Math.random()*n.length-1):h,p=n[f];if(!p)throw new Error("Latin square is empty");const g=d.sort((y,v)=>y.createdTime-v.createdTime).findIndex(y=>y.participantId===this.currentParticipantId)+1;return{currentRow:p,creationIndex:g}}async getAllParticipantNames(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=Mr(this.studyCollection,"sequenceAssignment"),r=ma(n,"sequenceAssignment");return(await $0(r)).docs.map(o=>o.id)}async getAllParticipantsData(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=$l(this.storage,`${this.collectionPrefix}${this.studyId}/participants`),r=await gE(n),i=[],o=r.items.map(async s=>{const a=await this._getFromFirebaseStorageByRef(s,"participantData");yE(a)&&i.push(a)});return await Promise.all(o),i}async getAudio(n,r){const i=coe(),o=await Kk($l(i,`${this.collectionPrefix}${this.studyId}/audio/${r}_${n}`));return new Promise(a=>{const l=new XMLHttpRequest;l.responseType="blob",l.onload=()=>{const u=l.response,c=URL.createObjectURL(u);a(c)},l.open("GET",o),l.send()})}async getParticipantData(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(this.currentParticipantId===null&&!n)throw new Error("Participant not initialized");const r=await this._getFromFirebaseStorage(`participants/${n||this.currentParticipantId}`,"participantData");return yE(r)?r:null}async getParticipantTags(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=await this.getParticipantData();if(!n)throw new Error("Participant not initialized");return n.participantTags}async addParticipantTags(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const r=await this.getParticipantData();if(!r)throw new Error("Participant not initialized");r.participantTags=[...new Set([...r.participantTags,...n])],await this._pushToFirebaseStorage(`participants/${this.currentParticipantId}`,"participantData",r)}async removeParticipantTags(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const r=await this.getParticipantData();if(!r)throw new Error("Participant not initialized");r.participantTags=r.participantTags.filter(i=>!n.includes(i)),await this._pushToFirebaseStorage(`participants/${this.currentParticipantId}`,"participantData",r)}async nextParticipant(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=H$();await this.localForage.setItem("currentParticipantId",n)}async verifyCompletion(){var s;if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const n=await this.getParticipantData();if(!n)throw new Error("Participant not initialized");const r=await this.getModes(this.studyId);if(n.completed)return!0;const i=Object.values(n.answers).map(a=>a.endTime).reduce((a,l)=>Math.max(a,l),0),o=Object.values(((s=this.participantData)==null?void 0:s.answers)||{}).map(a=>a.endTime).reduce((a,l)=>Math.max(a,l),0);if(this.participantData&&i===o){this.participantData.completed=!0,r.dataCollectionEnabled&&await this._pushToFirebaseStorage(`participants/${this.currentParticipantId}`,"participantData",this.participantData);const a=Mr(this.studyCollection,"sequenceAssignment"),l=ma(a,"sequenceAssignment"),u=Mr(l,this.currentParticipantId);return await hse(u,{completed:n3()}),!0}return!1}async getUserManagementData(n){if(Object.keys(this.userManagementData).length===0){const r=ma(this.firestore,"user-management"),i=await $0(r),o=Object.fromEntries(i.docs.map(s=>[s.id,s.data()]));this.userManagementData=o}return n in this.userManagementData?this.userManagementData[n]:null}async validateUser(n,r=!1){if(r&&(this.userManagementData={}),n!=null&&n.user){const i=await this.getUserManagementData("authentication");if(i!=null&&i.isEnabled){const o=await this.getUserManagementData("adminUsers");if(o&&o.adminUsersList){const s=Object.fromEntries(o.adminUsersList.map(l=>[l.email,l.uid]));if(n.user.email&&(s[n.user.email]===n.user.uid||s[n.user.email]===null)){if(n.user.email&&s[n.user.email]===null){const l=o.adminUsersList.find(u=>u.email===n.user.email);l&&(l.uid=n.user.uid),await Ps(Mr(this.firestore,"user-management","adminUsers"),{adminUsersList:o.adminUsersList})}return!0}return!1}}return!0}return!1}async changeAuth(n){await Ps(Mr(this.firestore,"user-management","authentication"),{isEnabled:n})}async addAdminUser(n){const r=await this.getUserManagementData("adminUsers");if(r!=null&&r.adminUsersList){const i=r.adminUsersList;i.find(s=>s.email===n.email)||(i.push({email:n.email,uid:n.uid}),await Ps(Mr(this.firestore,"user-management","adminUsers"),{adminUsersList:i}))}else await Ps(Mr(this.firestore,"user-management","adminUsers"),{adminUsersList:[{email:n.email,uid:n.uid}]})}async removeAdminUser(n){const r=await this.getUserManagementData("adminUsers");r!=null&&r.adminUsersList&&r.adminUsersList.length>1&&r.adminUsersList.find(i=>i.email===n)&&(r.adminUsersList=r==null?void 0:r.adminUsersList.filter(i=>i.email!==n),await Ps(Mr(this.firestore,"user-management","adminUsers"),{adminUsersList:r==null?void 0:r.adminUsersList}))}async getAllParticipantsDataByStudy(n){const r=$l(this.storage,`${this.collectionPrefix}${n}/participants`),i=await gE(r),o=[],s=i.items.map(async a=>{const l=await this._getFromFirebaseStorageByRef(a,"participantData");yE(l)&&o.push(l)});return await Promise.all(s),o}async rejectParticipant(n,r,i){const o=ma(this.firestore,`${this.collectionPrefix}${n}`),s=$l(this.storage,`${this.collectionPrefix}${n}/participants/${r}_participantData`),a=await this._getFromFirebaseStorageByRef(s,"participantData");try{if(!a||!yE(a)||a.rejected)return;a.rejected={reason:i,timestamp:new Date().getTime()},await this._pushToFirebaseStorageByRef(s,"participantData",a);const l=Mr(o,"sequenceAssignment"),u=ma(l,"sequenceAssignment"),c=Mr(u,r);await hse(c,{rejected:!0})}catch{console.warn("Failed to reject the participant.")}}async rejectCurrentParticipant(n,r){if(!this.currentParticipantId)throw new Error("Participant not initialized");return await this.rejectParticipant(n,this.currentParticipantId,r)}async setMode(n,r,i){const o=Mr(this.firestore,"metadata",`${this.collectionPrefix}${n}`);return await Ps(o,{[r]:i},{merge:!0})}async getModes(n){const r=Mr(this.firestore,"metadata",`${this.collectionPrefix}${n}`),i=await t3(r);if(i.exists())return i.data();const o={dataCollectionEnabled:!0,studyNavigatorEnabled:!0,analyticsInterfacePubliclyAccessible:!0};return await Ps(r,o),o}async getParticipantsStatusCounts(n){const r=ma(this.firestore,`${this.collectionPrefix}${n}`),i=Mr(r,"sequenceAssignment"),o=ma(i,"sequenceAssignment"),s=VF(o,use("timestamp","asc")),l=(await $0(s)).docs.map(p=>p.data()),u=l.filter(p=>p.completed&&!p.rejected).length,c=l.filter(p=>p.rejected).length,d=l.length-u-c,h=l.length>0?l[0].timestamp:null,f=l.length>0?l.at(-1).timestamp:null;return{completed:u,rejected:c,inProgress:d,minTime:h,maxTime:f}}async createSnapshot(n,r){const i=`${this.collectionPrefix}${n}`;if(!await this._directoryExists(i))return console.warn(`Source directory ${i} does not exist.`),{status:"FAILED",error:{message:"There is currently no data in your study. A snapshot could not be created.",title:"Failed to Create Snapshot."}};const o=new Date,s=o.getUTCFullYear(),a=(o.getUTCMonth()+1).toString().padStart(2,"0"),l=o.getUTCDate().toString().padStart(2,"0"),u=o.getUTCHours().toString().padStart(2,"0"),c=o.getUTCMinutes().toString().padStart(2,"0"),d=o.getUTCSeconds().toString().padStart(2,"0"),h=`${s}-${a}-${l}T${u}:${c}:${d}`,f=`${this.collectionPrefix}${n}-snapshot-${h}`;await this._copyDirectory(`${i}/configs`,`${f}/configs`),await this._copyDirectory(`${i}/participants`,`${f}/participants`),await this._copyDirectory(i,f),await this._copyCollection(i,f),await this._addDirectoryNameToMetadata(f);const p=[];if(r){const m=await this.removeSnapshotOrLive(i,!1);m.status==="FAILED"?p.push({title:m.error.title,message:m.error.message,color:"red"}):p.push({title:"Success!",message:"Successfully deleted live data.",color:"green"})}return p.push({message:"Successfully created snapshot",title:"Success!",color:"green"}),{status:"SUCCESS",notifications:p}}async removeSnapshotOrLive(n,r){try{const i=n.startsWith(this.collectionPrefix)?n:`${this.collectionPrefix}${n}`;return await this._deleteDirectory(`${i}/configs`),await this._deleteDirectory(`${i}/participants`),await this._deleteDirectory(i),await this._deleteCollection(i),r&&await this._removeNameFromMetadata(i),{status:"SUCCESS",notifications:[{message:"Successfully deleted snapshot or live data.",title:"Success!",color:"green"}]}}catch{return{status:"FAILED",error:{title:"Failed to delete live data or snapshot",message:"There was an unspecified error when trying to remove a snapshot or live data."}}}}async getSnapshots(n){try{const r=Mr(this.firestore,"metadata","collections"),i=await t3(r);if(i.exists()){const o=i.data();return Object.keys(o).filter(l=>l.startsWith(`${this.collectionPrefix}${n}-snapshot`)).map(l=>{const u=o[l];let c;return typeof u=="boolean"?c=l:u&&typeof u=="object"&&u.enabled===!0?c=u.name:c=null,{originalName:l,alternateName:c}}).filter(l=>l.alternateName!==null).sort((l,u)=>l.originalName.localeCompare(u.originalName)).reverse()}return[]}catch(r){throw console.error("Error listing collections with prefix:",r),r}}async restoreSnapshot(n,r){const i=`${this.collectionPrefix}${n}`,o=[];try{const s=await this.createSnapshot(n,!0);return s.status==="FAILED"?(console.warn("No live data to capture."),o.push({title:s.error.title,message:s.error.message,color:"yellow"})):o.push({title:"Success!",message:"Successfully created snapshot of live data.",color:"green"}),await this._copyDirectory(`${r}/configs`,`${i}/configs`),await this._copyDirectory(`${r}/participants`,`${i}/participants`),await this._copyDirectory(r,i),await this._copyCollection(r,i),o.push({message:"Successfully restored snapshot to live data.",title:"Success!",color:"green"}),{status:"SUCCESS",notifications:o}}catch(s){return console.error("Error trying to delete a snapshot",s),{status:"FAILED",error:{title:"Failed to restore a snapshot fully.",message:"There was an unspecified error when trying to restore this snapshot."}}}}async _addDirectoryNameToMetadata(n){try{const r=Mr(this.firestore,"metadata","collections");await Ps(r,{[n]:{enabled:!0,name:n}},{merge:!0})}catch(r){throw console.error("Error adding collection to metadata:",r),r}}async renameSnapshot(n,r){try{const i=Mr(this.firestore,"metadata","collections");return await Ps(i,{[n]:{enabled:!0,name:r}},{merge:!0}),{status:"SUCCESS",notifications:[{message:"Successfully renamed snapshot.",title:"Success!",color:"green"}]}}catch(i){return console.error("Error renaming collection in metadata",i),{status:"FAILED",error:{title:"Failed to Rename Snapshot.",message:"There was an error when trying to rename the snapshot."}}}}async _removeNameFromMetadata(n){try{const r=Mr(this.firestore,"metadata","collections"),i=await t3(r);if(i.exists()){const o=i.data();o[n]?(delete o[n],await Ps(r,o)):console.warn(`${n} does not exist in metadata.`)}else console.warn("No metadata found.")}catch(r){throw console.error("Error removing collection from metadata:",r),r}}async _deleteDirectory(n){try{const r=$l(this.storage,n),o=(await gE(r)).items.map(s=>uoe(s));await Promise.all(o)}catch(r){console.error("Error deleting files in directory:",r)}}async _copyDirectory(n,r){try{const i=$l(this.storage,n),s=(await gE(i)).items.map(a=>{const l=a.fullPath,u=l.replace(n,r);return this._copyFile(l,u)});await Promise.all(s)}catch(i){console.error("Error copying file:",i)}}async _copyFile(n,r){try{const i=$l(this.storage,n),o=$l(this.storage,r),s=await Kk(i),l=await(await fetch(s)).blob();await Yk(o,l)}catch(i){console.error("Error copying file:",i)}}async _copyCollection(n,r){const i=ma(this.firestore,n),o=Mr(i,"sequenceAssignment"),s=ma(o,"sequenceAssignment"),a=ma(this.firestore,r),l=Mr(a,"sequenceAssignment");await Ps(l,{});const u=ma(l,"sequenceAssignment"),c=await $0(s),d=fse(this.firestore);c.docs.forEach(h=>{const f=Mr(u,h.id);d.set(f,h.data())}),await d.commit()}async _deleteCollection(n){const r=ma(this.firestore,n),i=Mr(r,"sequenceAssignment"),o=ma(i,"sequenceAssignment"),s=await $0(o),a=fse(this.firestore);s.forEach(l=>{const u=Mr(o,l.id);a.delete(u)}),a.delete(i),await a.commit()}async _directoryExists(n){try{const r=$l(this.storage,n);return(await gE(r)).items.length>0}catch(r){if(r.code==="storage/object-not-found")return!1;throw console.error("Error checking if directory exists:",r),r}}_verifyStudyDatabase(n){return n!==void 0}async _getFromFirebaseStorage(n,r){const i=$l(this.storage,`${this.collectionPrefix}${this.studyId}/${n}_${r}`);let o={};try{const s=await Kk(i),l=await(await fetch(s)).text();o=JSON.parse(l)}catch{console.warn(`${n} does not have ${r} for ${this.collectionPrefix}${this.studyId}.`)}return o}async _getFromFirebaseStorageByRef(n,r){let i={};try{const o=await Kk(n),a=await(await fetch(o)).text();i=JSON.parse(a)}catch{console.warn(`${n} with type ${r} not found.`)}return i}async _pushToFirebaseStorage(n,r,i){const o=$l(this.storage,`${this.collectionPrefix}${this.studyId}/${n}_${r}`);if(i instanceof Blob)await Yk(o,i);else if(Object.keys(i).length>0){const s=new Blob([JSON.stringify(i)],{type:"application/json"});await Yk(o,s)}}async _pushToFirebaseStorageByRef(n,r,i){if(Object.keys(i).length>0){const o=new Blob([JSON.stringify(i)],{type:"application/json"});await Yk(n,o)}}async _deleteFromFirebaseStorage(n,r){const i=$l(this.storage,`${this.collectionPrefix}${this.studyId}/${n}_${r}`);await uoe(i)}}const XEe=O.createContext({user:{user:null,determiningStatus:!1,isAdmin:!1,adminVerification:!1},logout:async()=>{},triggerAuth:()=>{},verifyAdminStatus:()=>Promise.resolve(!1)}),g_=()=>O.useContext(XEe);function ddt({children:e}){const t={user:null,determiningStatus:!0,isAdmin:!1,adminVerification:!1},n={user:null,determiningStatus:!1,isAdmin:!1,adminVerification:!1},r={user:{name:"fakeName",email:"fakeEmail@fake.com",uid:"fakeUid"},determiningStatus:!1,isAdmin:!0,adminVerification:!0},[i,o]=O.useState(t),[s,a]=O.useState(!1),{storageEngine:l}=Si(),u=async()=>{const f=U$();try{await Rut(f)}catch(p){console.error(`There was an issue signing-out the user: ${p.message}`)}finally{o(n)}},c=()=>{a(!0)},d=async f=>l?await l.validateUser(f,!0):!1;O.useEffect(()=>{o(t);let f;if(l instanceof Tu)try{f=U$()}catch{console.warn("No firebase store.")}const p=async y=>{if(o(v=>({user:v.user,isAdmin:v.isAdmin,determiningStatus:!0,adminVerification:!1})),y){const v={user:y,determiningStatus:!1,isAdmin:!1,adminVerification:!0},b=await d(v);v.isAdmin=!!b,o(v)}else u()},g=(async()=>{if(l instanceof Tu){const y=await(l==null?void 0:l.getUserManagementData("authentication"));if(y!=null&&y.isEnabled){const v=Iut(f,async b=>await p(b));return()=>v()}o(r)}else l&&o(r);return()=>{}})();return()=>{g.then(y=>y())}},[l,s]);const h=O.useMemo(()=>({user:i,triggerAuth:c,logout:u,verifyAdminStatus:d}),[i]);return k.jsx(XEe.Provider,{value:h,children:i.determiningStatus?k.jsx(Uu,{visible:!0}):e})}function hdt({configName:e,config:t,url:n}){const{storageEngine:r}=Si(),[i,o]=O.useState(null);O.useEffect(()=>{r&&r.getParticipantsStatusCounts(e).then(d=>{o(d)})},[e,r]);const{minTime:s,maxTime:a}=O.useMemo(()=>{if(!i)return{minTime:null,maxTime:null};if(!i.minTime||!i.maxTime)return{minTime:null,maxTime:null};const d=typeof i.minTime=="number"?new Date(i.minTime):i.minTime.toDate(),h=typeof i.maxTime=="number"?new Date(i.maxTime):i.maxTime.toDate();return{minTime:d.toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"long",day:"numeric"}),maxTime:h.toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"long",day:"numeric"})}},[i]),[l,u]=O.useState(null);O.useEffect(()=>{r&&r.getModes(e).then(d=>{u(d)})},[e,r]);const c=O.useMemo(()=>l?l.dataCollectionEnabled?i&&(i.inProgress>0||i.completed>0)?"Collecting Data":"Ready to Collect Data":"Data Collection Disabled":"Unknown",[l,i]);return k.jsx(Hx,{shadow:"sm",radius:"md",my:"sm",withBorder:!0,children:t.errors.length>0?k.jsxs(k.Fragment,{children:[k.jsx(Fe,{fw:"bold",children:e}),k.jsxs(Rt,{align:"center",direction:"row",children:[k.jsx(QS,{color:"red"}),k.jsx(Fe,{fw:"bold",ml:8,color:"red",children:"Errors"})]}),k.jsx(OI,{issues:t.errors,type:"error"}),t.warnings.length>0&&k.jsxs(k.Fragment,{children:[k.jsxs(Rt,{align:"center",direction:"row",children:[k.jsx(QS,{color:"orange"}),k.jsx(Fe,{fw:"bold",ml:8,color:"orange",children:"Warnings"})]}),k.jsx(OI,{issues:t.warnings,type:"warning"})]})]}):k.jsxs(k.Fragment,{children:[k.jsx(Rt,{direction:"row",justify:"space-between",children:k.jsx(Fe,{fw:"bold",children:t.studyMetadata.title})}),k.jsxs(Fe,{c:"dimmed",children:[k.jsx(Fe,{span:!0,fw:500,children:"Authors: "}),t.studyMetadata.authors.join(", ")]}),k.jsx(Fe,{c:"dimmed",children:t.studyMetadata.description}),k.jsx(Fe,{c:"dimmed",ta:"right",style:{paddingRight:5},children:k.jsxs(Vv,{target:"_blank",onClick:d=>d.stopPropagation(),href:`undefined${n}`,children:["View source:"," ",n,k.jsx(l1e,{style:{width:_e(18),height:_e(18),marginLeft:_e(2),marginBottom:_e(-3)}})]})}),t.warnings.length>0&&k.jsxs(k.Fragment,{children:[k.jsxs(Rt,{align:"center",direction:"row",children:[k.jsx(QS,{color:"orange"}),k.jsx(Fe,{fw:"bold",ml:8,color:"orange",children:"Warnings"})]}),k.jsx(OI,{issues:t.warnings,type:"warning"})]}),k.jsx(r0,{my:"md"}),k.jsxs(Rt,{direction:"row",gap:"sm",children:[k.jsxs(Fe,{fw:"bold",size:"sm",opacity:.7,children:["Study Status:"," ",c]}),i&&k.jsx(xtt,{completed:i.completed,inProgress:i.inProgress,rejected:i.rejected})]}),s&&a&&k.jsxs(Fe,{c:"dimmed",mt:4,children:["Activity:"," ",s," ",""," ",a]}),k.jsxs(Rt,{direction:"row",align:"end",gap:"sm",mt:"md",children:[k.jsx(Kt,{leftSection:k.jsx(a1e,{}),style:{marginLeft:"auto"},variant:"default",component:"a",href:`${hi}analysis/stats/${n}`,children:"Analyze & Manage Study"}),k.jsx(Kt,{leftSection:k.jsx(u1e,{}),component:"a",href:`${hi}${n}`,children:"Go to Study"})]})]})},e)}function Vb({configNames:e,studyConfigs:t}){return e.map(n=>{const r=t[n];if(!r)return null;const i=p1e(n);return k.jsx(hdt,{configName:n,config:r,url:i},n)})}function fdt({globalConfig:e,studyConfigs:t}){const{storageEngine:n}=Si(),{configsList:r}=e,i=r.filter(y=>y.startsWith("demo-")),o=r.filter(y=>y.startsWith("tutorial")),s=r.filter(y=>y.startsWith("example-")),a=r.filter(y=>y.startsWith("test-")),l=r.filter(y=>y.startsWith("library-")),u=O.useMemo(()=>r.filter(y=>!y.startsWith("demo-")&&!y.startsWith("tutorial")&&!y.startsWith("example-")&&!y.startsWith("test-")&&!y.startsWith("library-")),[r]),[c,d]=O.useState({});O.useEffect(()=>{async function y(){const v={};await Promise.all(u.map(async b=>{if(n instanceof Tu){const _=await n.getModes(b);v[b]=_.analyticsInterfacePubliclyAccessible}})),d(v)}y()},[u,n]);const{user:h}=g_(),f=O.useMemo(()=>u.filter(y=>c[y]||h.isAdmin),[u,c,h]),[p]=jh(),m=O.useMemo(()=>p.get("tab")||(f.length>0?"Others":"Demos"),[f.length,p]),g=mu();return k.jsx(br.Main,{children:k.jsxs(yp,{size:"sm",px:0,children:[k.jsx(i0,{maw:150,mx:"auto",mb:"xl",radius:"md",src:`${hi}revisitAssets/revisitLogoSquare.svg`,alt:"reVISit"}),k.jsxs(Fn,{variant:"outline",defaultValue:u.length>0?"Others":"Demos",value:m,onChange:y=>g(`/?tab=${y}`),children:[k.jsxs(Fn.List,{children:[f.length>0&&k.jsx(Fn.Tab,{value:"Others",children:"Your Studies"}),k.jsx(Fn.Tab,{value:"Demos",children:"Demo Studies"}),k.jsx(Fn.Tab,{value:"Examples",children:"Example Studies"}),k.jsx(Fn.Tab,{value:"Tutorials",children:"Tutorials"}),k.jsx(Fn.Tab,{value:"Tests",children:"Tests"}),k.jsx(Fn.Tab,{value:"Libraries",children:"Libraries"})]}),f.length>0&&k.jsx(Fn.Panel,{value:"Others",children:k.jsx(Vb,{configNames:f,studyConfigs:t})}),k.jsxs(Fn.Panel,{value:"Demos",children:[k.jsx(Fe,{c:"dimmed",mt:"sm",children:"These studies show off individual features of the reVISit platform."}),k.jsx(Vb,{configNames:i,studyConfigs:t})]}),k.jsxs(Fn.Panel,{value:"Examples",children:[k.jsx(Fe,{c:"dimmed",mt:"sm",children:"These are full studies that demonstrate the capabilities of the reVISit platform."}),k.jsx(Vb,{configNames:s,studyConfigs:t})]}),k.jsxs(Fn.Panel,{value:"Tutorials",children:[k.jsx(Fe,{c:"dimmed",mt:"sm",children:"These studies are designed to help you learn how to use the reVISit platform."}),k.jsx(Vb,{configNames:o,studyConfigs:t})]}),k.jsxs(Fn.Panel,{value:"Tests",children:[k.jsx(Fe,{c:"dimmed",mt:"sm",children:"These studies exist for testing purposes."}),k.jsx(Vb,{configNames:a,studyConfigs:t})]}),k.jsxs(Fn.Panel,{value:"Libraries",children:[k.jsx(Fe,{c:"dimmed",mt:"sm",children:"Here you can see an example of every library that we publish."}),k.jsx(Vb,{configNames:l,studyConfigs:t})]})]})]})})}var QEe={exports:{}},JEe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s2=O;function pdt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mdt=typeof Object.is=="function"?Object.is:pdt,gdt=s2.useSyncExternalStore,ydt=s2.useRef,vdt=s2.useEffect,bdt=s2.useMemo,wdt=s2.useDebugValue;JEe.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=ydt(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=bdt(function(){function l(f){if(!u){if(u=!0,c=f,f=r(f),i!==void 0&&s.hasValue){var p=s.value;if(i(p,f))return d=p}return d=f}if(p=d,mdt(c,f))return p;var m=r(f);return i!==void 0&&i(p,m)?(c=f,p):(c=f,d=m)}var u=!1,c,d,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var a=gdt(e,o[0],o[1]);return vdt(function(){s.hasValue=!0,s.value=a},[a]),wdt(a),a};QEe.exports=JEe;var xdt=QEe.exports;function _dt(e){e()}function Edt(){let e=null,t=null;return{clear(){e=null,t=null},notify(){_dt(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var Bse={notify(){},get:()=>[]};function Sdt(e,t){let n,r=Bse,i=0,o=!1;function s(m){c();const g=r.subscribe(m);let y=!1;return()=>{y||(y=!0,g(),d())}}function a(){r.notify()}function l(){p.onStateChange&&p.onStateChange()}function u(){return o}function c(){i++,n||(n=e.subscribe(l),r=Edt())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=Bse)}function h(){o||(o=!0,c())}function f(){o&&(o=!1,d())}const p={addNestedSub:s,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:h,tryUnsubscribe:f,getListeners:()=>r};return p}var Tdt=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Cdt=Tdt(),Adt=()=>typeof navigator<"u"&&navigator.product==="ReactNative",kdt=Adt(),Idt=()=>Cdt||kdt?O.useLayoutEffect:O.useEffect,Rdt=Idt(),JF=Symbol.for("react-redux-context"),ZF=typeof globalThis<"u"?globalThis:{};function $dt(){if(!O.createContext)return{};const e=ZF[JF]??(ZF[JF]=new Map);let t=e.get(O.createContext);return t||(t=O.createContext(null),e.set(O.createContext,t)),t}var Cg=$dt();function Ddt(e){const{children:t,context:n,serverState:r,store:i}=e,o=O.useMemo(()=>{const l=Sdt(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),s=O.useMemo(()=>i.getState(),[i]);Rdt(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,s]);const a=n||Cg;return O.createElement(a.Provider,{value:o},t)}var Mdt=Ddt;function bG(e=Cg){return function(){return O.useContext(e)}}var ZEe=bG();function eSe(e=Cg){const t=e===Cg?ZEe:bG(e),n=()=>{const{store:r}=t();return r};return Object.assign(n,{withTypes:()=>n}),n}var Pdt=eSe();function Ndt(e=Cg){const t=e===Cg?Pdt:eSe(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var tSe=Ndt(),Odt=(e,t)=>e===t;function Ldt(e=Cg){const t=e===Cg?ZEe:bG(e),n=(r,i={})=>{const{equalityFn:o=Odt}=typeof i=="function"?{equalityFn:i}:i,s=t(),{store:a,subscription:l,getServerState:u}=s;O.useRef(!0);const c=O.useCallback({[r.name](h){return r(h)}}[r.name],[r]),d=xdt.useSyncExternalStoreWithSelector(l.addNestedSub,a.getState,u||a.getState,c,o);return O.useDebugValue(d),d};return Object.assign(n,{withTypes:()=>n}),n}var Fdt=Ldt(),Hw={},wG={},nSe={exports:{}};(function(e,t){(function(){var n="ace",r=function(){return this}();!r&&typeof window<"u"&&(r=window);var i=function(c,d,h){if(typeof c!="string"){i.original?i.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace());return}arguments.length==2&&(h=d),i.modules[c]||(i.payloads[c]=h,i.modules[c]=null)};i.modules={},i.payloads={};var o=function(c,d,h){if(typeof d=="string"){var f=l(c,d);if(f!=null)return h&&h(),f}else if(Object.prototype.toString.call(d)==="[object Array]"){for(var p=[],m=0,g=d.length;m<g;++m){var y=l(c,d[m]);if(y==null&&s.original)return;p.push(y)}return h&&h.apply(null,p)||!0}},s=function(c,d){var h=o("",c,d);return h==null&&s.original?s.original.apply(this,arguments):h},a=function(c,d){if(d.indexOf("!")!==-1){var h=d.split("!");return a(c,h[0])+"!"+a(c,h[1])}if(d.charAt(0)=="."){var f=c.split("/").slice(0,-1).join("/");for(d=f+"/"+d;d.indexOf(".")!==-1&&p!=d;){var p=d;d=d.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return d},l=function(c,d){d=a(c,d);var h=i.modules[d];if(!h){if(h=i.payloads[d],typeof h=="function"){var f={},p={id:d,uri:"",exports:f,packaged:!0},m=function(y,v){return o(d,y,v)},g=h(m,f,p);f=g||p.exports,i.modules[d]=f,delete i.payloads[d]}h=i.modules[d]=f||h}return h};function u(c){var d=r;r[c]||(r[c]={}),d=r[c],(!d.define||!d.define.packaged)&&(i.original=d.define,d.define=i,d.define.packaged=!0),(!d.require||!d.require.packaged)&&(s.original=d.require,d.require=s,d.require.packaged=!0)}u(n)})(),ace.define("ace/lib/es6-shim",["require","exports","module"],function(n,r,i){function o(s,a,l){Object.defineProperty(s,a,{value:l,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||o(String.prototype,"startsWith",function(s,a){return a=a||0,this.lastIndexOf(s,a)===a}),String.prototype.endsWith||o(String.prototype,"endsWith",function(s,a){var l=this;(a===void 0||a>l.length)&&(a=l.length),a-=s.length;var u=l.indexOf(s,a);return u!==-1&&u===a}),String.prototype.repeat||o(String.prototype,"repeat",function(s){for(var a="",l=this;s>0;)s&1&&(a+=l),(s>>=1)&&(l+=l);return a}),String.prototype.includes||o(String.prototype,"includes",function(s,a){return this.indexOf(s,a)!=-1}),Object.assign||(Object.assign=function(s){if(s==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(s),l=1;l<arguments.length;l++){var u=arguments[l];u!=null&&Object.keys(u).forEach(function(c){a[c]=u[c]})}return a}),Object.values||(Object.values=function(s){return Object.keys(s).map(function(a){return s[a]})}),Array.prototype.find||o(Array.prototype,"find",function(s){for(var a=this.length,l=arguments[1],u=0;u<a;u++){var c=this[u];if(s.call(l,c,u,this))return c}}),Array.prototype.findIndex||o(Array.prototype,"findIndex",function(s){for(var a=this.length,l=arguments[1],u=0;u<a;u++){var c=this[u];if(s.call(l,c,u,this))return u}}),Array.prototype.includes||o(Array.prototype,"includes",function(s,a){return this.indexOf(s,a)!=-1}),Array.prototype.fill||o(Array.prototype,"fill",function(s){for(var a=this,l=a.length>>>0,u=arguments[1],c=u>>0,d=c<0?Math.max(l+c,0):Math.min(c,l),h=arguments[2],f=h===void 0?l:h>>0,p=f<0?Math.max(l+f,0):Math.min(f,l);d<p;)a[d]=s,d++;return a}),Array.of||o(Array,"of",function(){return Array.prototype.slice.call(arguments)})}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],function(n,r,i){n("./es6-shim")}),ace.define("ace/lib/deep_copy",["require","exports","module"],function(n,r,i){r.deepCopy=function o(s){if(typeof s!="object"||!s)return s;var a;if(Array.isArray(s)){a=[];for(var l=0;l<s.length;l++)a[l]=o(s[l]);return a}if(Object.prototype.toString.call(s)!=="[object Object]")return s;a={};for(var l in s)a[l]=o(s[l]);return a}}),ace.define("ace/lib/lang",["require","exports","module","ace/lib/deep_copy"],function(n,r,i){r.last=function(a){return a[a.length-1]},r.stringReverse=function(a){return a.split("").reverse().join("")},r.stringRepeat=function(a,l){for(var u="";l>0;)l&1&&(u+=a),(l>>=1)&&(a+=a);return u};var o=/^\s\s*/,s=/\s\s*$/;r.stringTrimLeft=function(a){return a.replace(o,"")},r.stringTrimRight=function(a){return a.replace(s,"")},r.copyObject=function(a){var l={};for(var u in a)l[u]=a[u];return l},r.copyArray=function(a){for(var l=[],u=0,c=a.length;u<c;u++)a[u]&&typeof a[u]=="object"?l[u]=this.copyObject(a[u]):l[u]=a[u];return l},r.deepCopy=n("./deep_copy").deepCopy,r.arrayToMap=function(a){for(var l={},u=0;u<a.length;u++)l[a[u]]=1;return l},r.createMap=function(a){var l=Object.create(null);for(var u in a)l[u]=a[u];return l},r.arrayRemove=function(a,l){for(var u=0;u<=a.length;u++)l===a[u]&&a.splice(u,1)},r.escapeRegExp=function(a){return a.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},r.escapeHTML=function(a){return(""+a).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},r.getMatchOffsets=function(a,l){var u=[];return a.replace(l,function(c){u.push({offset:arguments[arguments.length-2],length:c.length})}),u},r.deferredCall=function(a){var l=null,u=function(){l=null,a()},c=function(d){return c.cancel(),l=setTimeout(u,d||0),c};return c.schedule=c,c.call=function(){return this.cancel(),a(),c},c.cancel=function(){return clearTimeout(l),l=null,c},c.isPending=function(){return l},c},r.delayedCall=function(a,l){var u=null,c=function(){u=null,a()},d=function(h){u==null&&(u=setTimeout(c,h||l))};return d.delay=function(h){u&&clearTimeout(u),u=setTimeout(c,h||l)},d.schedule=d,d.call=function(){this.cancel(),a()},d.cancel=function(){u&&clearTimeout(u),u=null},d.isPending=function(){return u},d},r.supportsLookbehind=function(){try{new RegExp("(?<=.)")}catch{return!1}return!0},r.skipEmptyMatch=function(a,l,u){return u&&a.codePointAt(l)>65535?2:1}}),ace.define("ace/lib/useragent",["require","exports","module"],function(n,r,i){r.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},r.getOS=function(){return r.isMac?r.OS.MAC:r.isLinux?r.OS.LINUX:r.OS.WINDOWS};var o=typeof navigator=="object"?navigator:{},s=(/mac|win|linux/i.exec(o.platform)||["other"])[0].toLowerCase(),a=o.userAgent||"",l=o.appName||"";r.isWin=s=="win",r.isMac=s=="mac",r.isLinux=s=="linux",r.isIE=l=="Microsoft Internet Explorer"||l.indexOf("MSAppHost")>=0?parseFloat((a.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((a.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),r.isOldIE=r.isIE&&r.isIE<9,r.isGecko=r.isMozilla=a.match(/ Gecko\/\d+/),r.isOpera=typeof opera=="object"&&Object.prototype.toString.call(window.opera)=="[object Opera]",r.isWebKit=parseFloat(a.split("WebKit/")[1])||void 0,r.isChrome=parseFloat(a.split(" Chrome/")[1])||void 0,r.isSafari=parseFloat(a.split(" Safari/")[1])&&!r.isChrome||void 0,r.isEdge=parseFloat(a.split(" Edge/")[1])||void 0,r.isAIR=a.indexOf("AdobeAIR")>=0,r.isAndroid=a.indexOf("Android")>=0,r.isChromeOS=a.indexOf(" CrOS ")>=0,r.isIOS=/iPad|iPhone|iPod/.test(a)&&!window.MSStream,r.isIOS&&(r.isMac=!0),r.isMobile=r.isIOS||r.isAndroid}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(n,r,i){var o=n("./useragent"),s="http://www.w3.org/1999/xhtml";r.buildDom=function h(f,p,m){if(typeof f=="string"&&f){var g=document.createTextNode(f);return p&&p.appendChild(g),g}if(!Array.isArray(f))return f&&f.appendChild&&p&&p.appendChild(f),f;if(typeof f[0]!="string"||!f[0]){for(var y=[],v=0;v<f.length;v++){var b=h(f[v],p,m);b&&y.push(b)}return y}var _=document.createElement(f[0]),x=f[1],w=1;x&&typeof x=="object"&&!Array.isArray(x)&&(w=2);for(var v=w;v<f.length;v++)h(f[v],_,m);return w==2&&Object.keys(x).forEach(function(E){var S=x[E];E==="class"?_.className=Array.isArray(S)?S.join(" "):S:typeof S=="function"||E=="value"||E[0]=="$"?_[E]=S:E==="ref"?m&&(m[S]=_):E==="style"?typeof S=="string"&&(_.style.cssText=S):S!=null&&_.setAttribute(E,S)}),p&&p.appendChild(_),_},r.getDocumentHead=function(h){return h||(h=document),h.head||h.getElementsByTagName("head")[0]||h.documentElement},r.createElement=function(h,f){return document.createElementNS?document.createElementNS(f||s,h):document.createElement(h)},r.removeChildren=function(h){h.innerHTML=""},r.createTextNode=function(h,f){var p=f?f.ownerDocument:document;return p.createTextNode(h)},r.createFragment=function(h){var f=h?h.ownerDocument:document;return f.createDocumentFragment()},r.hasCssClass=function(h,f){var p=(h.className+"").split(/\s+/g);return p.indexOf(f)!==-1},r.addCssClass=function(h,f){r.hasCssClass(h,f)||(h.className+=" "+f)},r.removeCssClass=function(h,f){for(var p=h.className.split(/\s+/g);;){var m=p.indexOf(f);if(m==-1)break;p.splice(m,1)}h.className=p.join(" ")},r.toggleCssClass=function(h,f){for(var p=h.className.split(/\s+/g),m=!0;;){var g=p.indexOf(f);if(g==-1)break;m=!1,p.splice(g,1)}return m&&p.push(f),h.className=p.join(" "),m},r.setCssClass=function(h,f,p){p?r.addCssClass(h,f):r.removeCssClass(h,f)},r.hasCssString=function(h,f){var p=0,m;if(f=f||document,m=f.querySelectorAll("style")){for(;p<m.length;)if(m[p++].id===h)return!0}},r.removeElementById=function(h,f){f=f||document,f.getElementById(h)&&f.getElementById(h).remove()};var a,l=[];r.useStrictCSP=function(h){a=h,h==!1?u():l||(l=[])};function u(){var h=l;l=null,h&&h.forEach(function(f){c(f[0],f[1])})}function c(h,f,p){if(!(typeof document>"u")){if(l){if(p)u();else if(p===!1)return l.push([h,f])}if(!a){var m=p;!p||!p.getRootNode?m=document:(m=p.getRootNode(),(!m||m==p)&&(m=document));var g=m.ownerDocument||m;if(f&&r.hasCssString(f,m))return null;f&&(h+=`
/*# sourceURL=ace/css/`+f+" */");var y=r.createElement("style");y.appendChild(g.createTextNode(h)),f&&(y.id=f),m==g&&(m=r.getDocumentHead(g)),m.insertBefore(y,m.firstChild)}}}if(r.importCssString=c,r.importCssStylsheet=function(h,f){r.buildDom(["link",{rel:"stylesheet",href:h}],r.getDocumentHead(f))},r.scrollbarWidth=function(h){var f=r.createElement("ace_inner");f.style.width="100%",f.style.minWidth="0px",f.style.height="200px",f.style.display="block";var p=r.createElement("ace_outer"),m=p.style;m.position="absolute",m.left="-10000px",m.overflow="hidden",m.width="200px",m.minWidth="0px",m.height="150px",m.display="block",p.appendChild(f);var g=h&&h.documentElement||document&&document.documentElement;if(!g)return 0;g.appendChild(p);var y=f.offsetWidth;m.overflow="scroll";var v=f.offsetWidth;return y===v&&(v=p.clientWidth),g.removeChild(p),y-v},r.computedStyle=function(h,f){return window.getComputedStyle(h,"")||{}},r.setStyle=function(h,f,p){h[f]!==p&&(h[f]=p)},r.HAS_CSS_ANIMATION=!1,r.HAS_CSS_TRANSFORMS=!1,r.HI_DPI=o.isWin?typeof window<"u"&&window.devicePixelRatio>=1.5:!0,o.isChromeOS&&(r.HI_DPI=!1),typeof document<"u"){var d=document.createElement("div");r.HI_DPI&&d.style.transform!==void 0&&(r.HAS_CSS_TRANSFORMS=!0),!o.isEdge&&typeof d.style.animationName<"u"&&(r.HAS_CSS_ANIMATION=!0),d=null}r.HAS_CSS_TRANSFORMS?r.translate=function(h,f,p){h.style.transform="translate("+Math.round(f)+"px, "+Math.round(p)+"px)"}:r.translate=function(h,f,p){h.style.top=Math.round(p)+"px",h.style.left=Math.round(f)+"px"}}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(n,r,i){/*
* based on code from:
*
* @license RequireJS text 0.25.0 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
* Available via the MIT or new BSD license.
* see: http://github.com/jrburke/requirejs for details
*/var o=n("./dom");r.get=function(s,a){var l=new XMLHttpRequest;l.open("GET",s,!0),l.onreadystatechange=function(){l.readyState===4&&a(l.responseText)},l.send(null)},r.loadScript=function(s,a){var l=o.getDocumentHead(),u=document.createElement("script");u.src=s,l.appendChild(u),u.onload=u.onreadystatechange=function(c,d){(d||!u.readyState||u.readyState=="loaded"||u.readyState=="complete")&&(u=u.onload=u.onreadystatechange=null,d||a())}},r.qualifyURL=function(s){var a=document.createElement("a");return a.href=s,a.href}}),ace.define("ace/lib/oop",["require","exports","module"],function(n,r,i){r.inherits=function(o,s){o.super_=s,o.prototype=Object.create(s.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}})},r.mixin=function(o,s){for(var a in s)o[a]=s[a];return o},r.implement=function(o,s){r.mixin(o,s)}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(n,r,i){var o={},s=function(){this.propagationStopped=!0},a=function(){this.defaultPrevented=!0};o._emit=o._dispatchEvent=function(l,u){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var c=this._eventRegistry[l]||[],d=this._defaultHandlers[l];if(!(!c.length&&!d)){(typeof u!="object"||!u)&&(u={}),u.type||(u.type=l),u.stopPropagation||(u.stopPropagation=s),u.preventDefault||(u.preventDefault=a),c=c.slice();for(var h=0;h<c.length&&(c[h](u,this),!u.propagationStopped);h++);if(d&&!u.defaultPrevented)return d(u,this)}},o._signal=function(l,u){var c=(this._eventRegistry||{})[l];if(c){c=c.slice();for(var d=0;d<c.length;d++)c[d](u,this)}},o.once=function(l,u){var c=this;if(this.on(l,function d(){c.off(l,d),u.apply(null,arguments)}),!u)return new Promise(function(d){u=d})},o.setDefaultHandler=function(l,u){var c=this._defaultHandlers;if(c||(c=this._defaultHandlers={_disabled_:{}}),c[l]){var d=c[l],h=c._disabled_[l];h||(c._disabled_[l]=h=[]),h.push(d);var f=h.indexOf(u);f!=-1&&h.splice(f,1)}c[l]=u},o.removeDefaultHandler=function(l,u){var c=this._defaultHandlers;if(c){var d=c._disabled_[l];if(c[l]==u)d&&this.setDefaultHandler(l,d.pop());else if(d){var h=d.indexOf(u);h!=-1&&d.splice(h,1)}}},o.on=o.addEventListener=function(l,u,c){this._eventRegistry=this._eventRegistry||{};var d=this._eventRegistry[l];return d||(d=this._eventRegistry[l]=[]),d.indexOf(u)==-1&&d[c?"unshift":"push"](u),u},o.off=o.removeListener=o.removeEventListener=function(l,u){this._eventRegistry=this._eventRegistry||{};var c=this._eventRegistry[l];if(c){var d=c.indexOf(u);d!==-1&&c.splice(d,1)}},o.removeAllListeners=function(l){l||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[l]=void 0),this._defaultHandlers&&(this._defaultHandlers[l]=void 0)},r.EventEmitter=o}),ace.define("ace/lib/report_error",["require","exports","module"],function(n,r,i){r.reportError=function(s,a){var l=new Error(s);l.data=a,typeof console=="object"&&console.error&&console.error(l),setTimeout(function(){throw l})}}),ace.define("ace/lib/default_english_messages",["require","exports","module"],function(n,r,i){var o={"autocomplete.popup.aria-roledescription":"Autocomplete suggestions","autocomplete.popup.aria-label":"Autocomplete suggestions","autocomplete.popup.item.aria-roledescription":"item","autocomplete.loading":"Loading...","editor.scroller.aria-roledescription":"editor","editor.scroller.aria-label":"Editor content, press Enter to start editing, press Escape to exit","editor.gutter.aria-roledescription":"editor gutter","editor.gutter.aria-label":"Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit","error-marker.good-state":"Looks good!","prompt.recently-used":"Recently used","prompt.other-commands":"Other commands","prompt.no-matching-commands":"No matching commands","search-box.find.placeholder":"Search for","search-box.find-all.text":"All","search-box.replace.placeholder":"Replace with","search-box.replace-next.text":"Replace","search-box.replace-all.text":"All","search-box.toggle-replace.title":"Toggle Replace mode","search-box.toggle-regexp.title":"RegExp Search","search-box.toggle-case.title":"CaseSensitive Search","search-box.toggle-whole-word.title":"Whole Word Search","search-box.toggle-in-selection.title":"Search In Selection","search-box.search-counter":"$0 of $1","text-input.aria-roledescription":"editor","text-input.aria-label":"Cursor at row $0","gutter.code-folding.range.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.closed.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.open.aria-label":"Toggle code folding, row $0","gutter.code-folding.closed.title":"Unfold code","gutter.code-folding.open.title":"Fold code","gutter.annotation.aria-label.error":"Error, read annotations row $0","gutter.annotation.aria-label.warning":"Warning, read annotations row $0","gutter.annotation.aria-label.info":"Info, read annotations row $0","inline-fold.closed.title":"Unfold code","gutter-tooltip.aria-label.error.singular":"error","gutter-tooltip.aria-label.error.plural":"errors","gutter-tooltip.aria-label.warning.singular":"warning","gutter-tooltip.aria-label.warning.plural":"warnings","gutter-tooltip.aria-label.info.singular":"information message","gutter-tooltip.aria-label.info.plural":"information messages","gutter.annotation.aria-label.security":"Security finding, read annotations row $0","gutter.annotation.aria-label.hint":"Suggestion, read annotations row $0","gutter-tooltip.aria-label.security.singular":"security finding","gutter-tooltip.aria-label.security.plural":"security findings","gutter-tooltip.aria-label.hint.singular":"suggestion","gutter-tooltip.aria-label.hint.plural":"suggestions","editor.tooltip.disable-editing":"Editing is disabled"};r.defaultEnglishMessages=o}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/report_error","ace/lib/default_english_messages"],function(n,r,i){"no use strict";var o=n("./oop"),s=n("./event_emitter").EventEmitter,a=n("./report_error").reportError,l=n("./default_english_messages").defaultEnglishMessages,u={setOptions:function(p){Object.keys(p).forEach(function(m){this.setOption(m,p[m])},this)},getOptions:function(p){var m={};if(p)Array.isArray(p)||(m=p,p=Object.keys(m));else{var g=this.$options;p=Object.keys(g).filter(function(y){return!g[y].hidden})}return p.forEach(function(y){m[y]=this.getOption(y)},this),m},setOption:function(p,m){if(this["$"+p]!==m){var g=this.$options[p];if(!g)return c('misspelled option "'+p+'"');if(g.forwardTo)return this[g.forwardTo]&&this[g.forwardTo].setOption(p,m);g.handlesSet||(this["$"+p]=m),g&&g.set&&g.set.call(this,m)}},getOption:function(p){var m=this.$options[p];return m?m.forwardTo?this[m.forwardTo]&&this[m.forwardTo].getOption(p):m&&m.get?m.get.call(this):this["$"+p]:c('misspelled option "'+p+'"')}};function c(p){typeof console<"u"&&console.warn&&console.warn.apply(console,arguments)}var d,h,f=function(){function p(){this.$defaultOptions={},d=l,h="dollarSigns"}return p.prototype.defineOptions=function(m,g,y){return m.$options||(this.$defaultOptions[g]=m.$options={}),Object.keys(y).forEach(function(v){var b=y[v];typeof b=="string"&&(b={forwardTo:b}),b.name||(b.name=v),m.$options[b.name]=b,"initialValue"in b&&(m["$"+b.name]=b.initialValue)}),o.implement(m,u),this},p.prototype.resetOptions=function(m){Object.keys(m.$options).forEach(function(g){var y=m.$options[g];"value"in y&&m.setOption(g,y.value)})},p.prototype.setDefaultValue=function(m,g,y){if(!m){for(m in this.$defaultOptions)if(this.$defaultOptions[m][g])break;if(!this.$defaultOptions[m][g])return!1}var v=this.$defaultOptions[m]||(this.$defaultOptions[m]={});v[g]&&(v.forwardTo?this.setDefaultValue(v.forwardTo,g,y):v[g].value=y)},p.prototype.setDefaultValues=function(m,g){Object.keys(g).forEach(function(y){this.setDefaultValue(m,y,g[y])},this)},p.prototype.setMessages=function(m,g){d=m,g&&g.placeholders&&(h=g.placeholders)},p.prototype.nls=function(m,g,y){d[m]||(c("No message found for the key '"+m+"' in messages with id "+d.$id+", trying to find a translation for the default string '"+g+"'."),d[g]||c("No message found for the default string '"+g+"' in the provided messages. Falling back to the default English message."));var v=d[m]||d[g]||g;return y&&(h==="dollarSigns"&&(v=v.replace(/\$(\$|[\d]+)/g,function(b,_){return _=="$"?"$":y[_]})),h==="curlyBrackets"&&(v=v.replace(/\{([^\}]+)\}/g,function(b,_){return y[_]}))),v},p}();f.prototype.warn=c,f.prototype.reportError=a,o.implement(f.prototype,s),r.AppConfig=f}),ace.define("ace/theme/textmate-css",["require","exports","module"],function(n,r,i){i.exports=`.ace-tm .ace_gutter {
  background: #f0f0f0;
  color: #333;
}

.ace-tm .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-tm .ace_fold {
    background-color: #6B72E6;
}

.ace-tm {
  background-color: #FFFFFF;
  color: black;
}

.ace-tm .ace_cursor {
  color: black;
}
        
.ace-tm .ace_invisible {
  color: rgb(191, 191, 191);
}

.ace-tm .ace_storage,
.ace-tm .ace_keyword {
  color: blue;
}

.ace-tm .ace_constant {
  color: rgb(197, 6, 11);
}

.ace-tm .ace_constant.ace_buildin {
  color: rgb(88, 72, 246);
}

.ace-tm .ace_constant.ace_language {
  color: rgb(88, 92, 246);
}

.ace-tm .ace_constant.ace_library {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_invalid {
  background-color: rgba(255, 0, 0, 0.1);
  color: red;
}

.ace-tm .ace_support.ace_function {
  color: rgb(60, 76, 114);
}

.ace-tm .ace_support.ace_constant {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_support.ace_type,
.ace-tm .ace_support.ace_class {
  color: rgb(109, 121, 222);
}

.ace-tm .ace_keyword.ace_operator {
  color: rgb(104, 118, 135);
}

.ace-tm .ace_string {
  color: rgb(3, 106, 7);
}

.ace-tm .ace_comment {
  color: rgb(76, 136, 107);
}

.ace-tm .ace_comment.ace_doc {
  color: rgb(0, 102, 255);
}

.ace-tm .ace_comment.ace_doc.ace_tag {
  color: rgb(128, 159, 191);
}

.ace-tm .ace_constant.ace_numeric {
  color: rgb(0, 0, 205);
}

.ace-tm .ace_variable {
  color: rgb(49, 132, 149);
}

.ace-tm .ace_xml-pe {
  color: rgb(104, 104, 91);
}

.ace-tm .ace_entity.ace_name.ace_function {
  color: #0000A2;
}


.ace-tm .ace_heading {
  color: rgb(12, 7, 255);
}

.ace-tm .ace_list {
  color:rgb(185, 6, 144);
}

.ace-tm .ace_meta.ace_tag {
  color:rgb(0, 22, 142);
}

.ace-tm .ace_string.ace_regex {
  color: rgb(255, 0, 0)
}

.ace-tm .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}
.ace-tm.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
.ace-tm .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-tm .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-tm .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-tm .ace_marker-layer .ace_active-line {
  background: rgba(0, 0, 0, 0.07);
}

.ace-tm .ace_gutter-active-line {
    background-color : #dcdcdc;
}

.ace-tm .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-tm .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-tm .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate-css","ace/lib/dom"],function(n,r,i){r.isDark=!1,r.cssClass="ace-tm",r.cssText=n("./textmate-css"),r.$id="ace/theme/textmate";var o=n("../lib/dom");o.importCssString(r.cssText,r.cssClass,!1)}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],function(n,r,i){"no use strict";var o=n("./lib/lang"),s=n("./lib/net"),a=n("./lib/dom"),l=n("./lib/app_config").AppConfig;i.exports=r=new l;var u={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};r.get=function(f){if(!u.hasOwnProperty(f))throw new Error("Unknown config key: "+f);return u[f]},r.set=function(f,p){if(u.hasOwnProperty(f))u[f]=p;else if(this.setDefaultValue("",f,p)==!1)throw new Error("Unknown config key: "+f);f=="useStrictCSP"&&a.useStrictCSP(p)},r.all=function(){return o.copyObject(u)},r.$modes={},r.moduleUrl=function(f,p){if(u.$moduleUrls[f])return u.$moduleUrls[f];var m=f.split("/");p=p||m[m.length-2]||"";var g=p=="snippets"?"/":"-",y=m[m.length-1];if(p=="worker"&&g=="-"){var v=new RegExp("^"+p+"[\\-_]|[\\-_]"+p+"$","g");y=y.replace(v,"")}(!y||y==p)&&m.length>1&&(y=m[m.length-2]);var b=u[p+"Path"];return b==null?b=u.basePath:g=="/"&&(p=g=""),b&&b.slice(-1)!="/"&&(b+="/"),b+p+g+y+this.get("suffix")},r.setModuleUrl=function(f,p){return u.$moduleUrls[f]=p};var c=function(f,p){if(f==="ace/theme/textmate"||f==="./theme/textmate")return p(null,n("./theme/textmate"));if(d)return d(f,p);console.error("loader is not configured")},d;r.setLoader=function(f){d=f},r.dynamicModules=Object.create(null),r.$loading={},r.$loaded={},r.loadModule=function(f,p){var m;if(Array.isArray(f))var g=f[0],y=f[1];else if(typeof f=="string")var y=f;var v=function(b){if(b&&!r.$loading[y])return p&&p(b);if(r.$loading[y]||(r.$loading[y]=[]),r.$loading[y].push(p),!(r.$loading[y].length>1)){var _=function(){c(y,function(x,w){w&&(r.$loaded[y]=w),r._emit("load.module",{name:y,module:w});var E=r.$loading[y];r.$loading[y]=null,E.forEach(function(S){S&&S(w)})})};if(!r.get("packaged"))return _();s.loadScript(r.moduleUrl(y,g),_),h()}};if(r.dynamicModules[y])r.dynamicModules[y]().then(function(b){b.default?v(b.default):v(b)});else{try{m=this.$require(y)}catch{}v(m||r.$loaded[y])}},r.$require=function(f){if(typeof i.require=="function"){var p="require";return i[p](f)}},r.setModuleLoader=function(f,p){r.dynamicModules[f]=p};var h=function(){!u.basePath&&!u.workerPath&&!u.modePath&&!u.themePath&&!Object.keys(u.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),h=function(){})};r.version="1.39.1"}),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],function(n,r,i){n("./lib/fixoldbrowsers");var o=n("./config");o.setLoader(function(u,c){n([u],function(d){c(null,d)})});var s=function(){return this||typeof window<"u"&&window}();i.exports=function(u){o.init=a,o.$require=n,u.require=n},a(!0);function a(u){if(!(!s||!s.document)){o.set("packaged",u||n.packaged||i.packaged||s.define&&(void 0).packaged);var c={},d="",h=document.currentScript||document._currentScript,f=h&&h.ownerDocument||document;h&&h.src&&(d=h.src.split(/[?#]/)[0].split("/").slice(0,-1).join("/")||"");for(var p=f.getElementsByTagName("script"),m=0;m<p.length;m++){var g=p[m],y=g.src||g.getAttribute("src");if(y){for(var v=g.attributes,b=0,_=v.length;b<_;b++){var x=v[b];x.name.indexOf("data-ace-")===0&&(c[l(x.name.replace(/^data-ace-/,""))]=x.value)}var w=y.match(/^(.*)\/ace([\-.]\w+)?\.js(\?|$)/);w&&(d=w[1])}}d&&(c.base=c.base||d,c.packaged=!0),c.basePath=c.base,c.workerPath=c.workerPath||c.base,c.modePath=c.modePath||c.base,c.themePath=c.themePath||c.base,delete c.base;for(var E in c)typeof c[E]<"u"&&o.set(E,c[E])}}function l(u){return u.replace(/-(.)/g,function(c,d){return d.toUpperCase()})}}),ace.define("ace/range",["require","exports","module"],function(n,r,i){var o=function(){function s(a,l,u,c){this.start={row:a,column:l},this.end={row:u,column:c}}return s.prototype.isEqual=function(a){return this.start.row===a.start.row&&this.end.row===a.end.row&&this.start.column===a.start.column&&this.end.column===a.end.column},s.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},s.prototype.contains=function(a,l){return this.compare(a,l)==0},s.prototype.compareRange=function(a){var l,u=a.end,c=a.start;return l=this.compare(u.row,u.column),l==1?(l=this.compare(c.row,c.column),l==1?2:l==0?1:0):l==-1?-2:(l=this.compare(c.row,c.column),l==-1?-1:l==1?42:0)},s.prototype.comparePoint=function(a){return this.compare(a.row,a.column)},s.prototype.containsRange=function(a){return this.comparePoint(a.start)==0&&this.comparePoint(a.end)==0},s.prototype.intersects=function(a){var l=this.compareRange(a);return l==-1||l==0||l==1},s.prototype.isEnd=function(a,l){return this.end.row==a&&this.end.column==l},s.prototype.isStart=function(a,l){return this.start.row==a&&this.start.column==l},s.prototype.setStart=function(a,l){typeof a=="object"?(this.start.column=a.column,this.start.row=a.row):(this.start.row=a,this.start.column=l)},s.prototype.setEnd=function(a,l){typeof a=="object"?(this.end.column=a.column,this.end.row=a.row):(this.end.row=a,this.end.column=l)},s.prototype.inside=function(a,l){return this.compare(a,l)==0?!(this.isEnd(a,l)||this.isStart(a,l)):!1},s.prototype.insideStart=function(a,l){return this.compare(a,l)==0?!this.isEnd(a,l):!1},s.prototype.insideEnd=function(a,l){return this.compare(a,l)==0?!this.isStart(a,l):!1},s.prototype.compare=function(a,l){return!this.isMultiLine()&&a===this.start.row?l<this.start.column?-1:l>this.end.column?1:0:a<this.start.row?-1:a>this.end.row?1:this.start.row===a?l>=this.start.column?0:-1:this.end.row===a?l<=this.end.column?0:1:0},s.prototype.compareStart=function(a,l){return this.start.row==a&&this.start.column==l?-1:this.compare(a,l)},s.prototype.compareEnd=function(a,l){return this.end.row==a&&this.end.column==l?1:this.compare(a,l)},s.prototype.compareInside=function(a,l){return this.end.row==a&&this.end.column==l?1:this.start.row==a&&this.start.column==l?-1:this.compare(a,l)},s.prototype.clipRows=function(a,l){if(this.end.row>l)var u={row:l+1,column:0};else if(this.end.row<a)var u={row:a,column:0};if(this.start.row>l)var c={row:l+1,column:0};else if(this.start.row<a)var c={row:a,column:0};return s.fromPoints(c||this.start,u||this.end)},s.prototype.extend=function(a,l){var u=this.compare(a,l);if(u==0)return this;if(u==-1)var c={row:a,column:l};else var d={row:a,column:l};return s.fromPoints(c||this.start,d||this.end)},s.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},s.prototype.isMultiLine=function(){return this.start.row!==this.end.row},s.prototype.clone=function(){return s.fromPoints(this.start,this.end)},s.prototype.collapseRows=function(){return this.end.column==0?new s(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new s(this.start.row,0,this.end.row,0)},s.prototype.toScreenRange=function(a){var l=a.documentToScreenPosition(this.start),u=a.documentToScreenPosition(this.end);return new s(l.row,l.column,u.row,u.column)},s.prototype.moveBy=function(a,l){this.start.row+=a,this.start.column+=l,this.end.row+=a,this.end.column+=l},s}();o.fromPoints=function(s,a){return new o(s.row,s.column,a.row,a.column)},o.comparePoints=function(s,a){return s.row-a.row||s.column-a.column},r.Range=o}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(n,r,i){for(var o=n("./oop"),s={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete","-13":"NumpadEnter",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",59:";",61:"=",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}},a={Command:224,Backspace:8,Tab:9,Return:13,Enter:13,Pause:19,Escape:27,PageUp:33,PageDown:34,End:35,Home:36,Insert:45,Delete:46,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Backquote:192,Minus:189,Equal:187,BracketLeft:219,Backslash:220,BracketRight:221,Semicolon:186,Quote:222,Comma:188,Period:190,Slash:191,Space:32,NumpadAdd:107,NumpadDecimal:110,NumpadSubtract:109,NumpadDivide:111,NumpadMultiply:106},l=0;l<10;l++)a["Digit"+l]=48+l,a["Numpad"+l]=96+l,s.PRINTABLE_KEYS[48+l]=""+l,s.FUNCTION_KEYS[96+l]="Numpad"+l;for(var l=65;l<91;l++){var u=String.fromCharCode(l+32);a["Key"+u.toUpperCase()]=l,s.PRINTABLE_KEYS[l]=u}for(var l=1;l<13;l++)a["F"+l]=111+l,s.FUNCTION_KEYS[111+l]="F"+l;var c={Shift:16,Control:17,Alt:18,Meta:224};for(var d in c)a[d]=a[d+"Left"]=a[d+"Right"]=c[d];r.$codeToKeyCode=a,s.PRINTABLE_KEYS[173]="-";for(var h in s.FUNCTION_KEYS){var f=s.FUNCTION_KEYS[h].toLowerCase();s[f]=parseInt(h,10)}for(var h in s.PRINTABLE_KEYS){var f=s.PRINTABLE_KEYS[h].toLowerCase();s[f]=parseInt(h,10)}o.mixin(s,s.MODIFIER_KEYS),o.mixin(s,s.PRINTABLE_KEYS),o.mixin(s,s.FUNCTION_KEYS),s.enter=s.return,s.escape=s.esc,s.del=s.delete,function(){for(var p=["cmd","ctrl","alt","shift"],m=Math.pow(2,p.length);m--;)s.KEY_MODS[m]=p.filter(function(g){return m&s.KEY_MODS[g]}).join("-")+"-"}(),s.KEY_MODS[0]="",s.KEY_MODS[-1]="input-",o.mixin(r,s),r.default=r,r.keyCodeToString=function(p){var m=s[p];return typeof m!="string"&&(m=String.fromCharCode(p)),m.toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(n,r,i){var o=n("./keys"),s=n("./useragent"),a=null,l=0,u;function c(){u=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){return u={passive:!1},!0}})}catch{}}function d(){return u==null&&c(),u}function h(b,_,x){this.elem=b,this.type=_,this.callback=x}h.prototype.destroy=function(){p(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var f=r.addListener=function(b,_,x,w){b.addEventListener(_,x,d()),w&&w.$toDestroy.push(new h(b,_,x))},p=r.removeListener=function(b,_,x){b.removeEventListener(_,x,d())};r.stopEvent=function(b){return r.stopPropagation(b),r.preventDefault(b),!1},r.stopPropagation=function(b){b.stopPropagation&&b.stopPropagation()},r.preventDefault=function(b){b.preventDefault&&b.preventDefault()},r.getButton=function(b){return b.type=="dblclick"?0:b.type=="contextmenu"||s.isMac&&b.ctrlKey&&!b.altKey&&!b.shiftKey?2:b.button},r.capture=function(b,_,x){var w=b&&b.ownerDocument||document;function E(S){_&&_(S),x&&x(S),p(w,"mousemove",_),p(w,"mouseup",E),p(w,"dragstart",E)}return f(w,"mousemove",_),f(w,"mouseup",E),f(w,"dragstart",E),E},r.addMouseWheelListener=function(b,_,x){f(b,"wheel",function(w){var E=.15,S=w.deltaX||0,T=w.deltaY||0;switch(w.deltaMode){case w.DOM_DELTA_PIXEL:w.wheelX=S*E,w.wheelY=T*E;break;case w.DOM_DELTA_LINE:var C=15;w.wheelX=S*C,w.wheelY=T*C;break;case w.DOM_DELTA_PAGE:var D=150;w.wheelX=S*D,w.wheelY=T*D;break}_(w)},x)},r.addMultiMouseDownListener=function(b,_,x,w,E){var S=0,T,C,D,$={2:"dblclick",3:"tripleclick",4:"quadclick"};function I(R){if(r.getButton(R)!==0?S=0:R.detail>1?(S++,S>4&&(S=1)):S=1,s.isIE){var A=Math.abs(R.clientX-T)>5||Math.abs(R.clientY-C)>5;(!D||A)&&(S=1),D&&clearTimeout(D),D=setTimeout(function(){D=null},_[S-1]||600),S==1&&(T=R.clientX,C=R.clientY)}if(R._clicks=S,x[w]("mousedown",R),S>4)S=0;else if(S>1)return x[w]($[S],R)}Array.isArray(b)||(b=[b]),b.forEach(function(R){f(R,"mousedown",I,E)})};function m(b){return 0|(b.ctrlKey?1:0)|(b.altKey?2:0)|(b.shiftKey?4:0)|(b.metaKey?8:0)}r.getModifierString=function(b){return o.KEY_MODS[m(b)]};function g(b,_,x){var w=m(_);if(!x&&_.code&&(x=o.$codeToKeyCode[_.code]||x),!s.isMac&&a){if(_.getModifierState&&(_.getModifierState("OS")||_.getModifierState("Win"))&&(w|=8),a.altGr)if((3&w)!=3)a.altGr=0;else return;if(x===18||x===17){var E=_.location;if(x===17&&E===1)a[x]==1&&(l=_.timeStamp);else if(x===18&&w===3&&E===2){var S=_.timeStamp-l;S<50&&(a.altGr=!0)}}}if(x in o.MODIFIER_KEYS&&(x=-1),!(!w&&x===13&&_.location===3&&(b(_,w,-x),_.defaultPrevented))){if(s.isChromeOS&&w&8){if(b(_,w,x),_.defaultPrevented)return;w&=-9}return!w&&!(x in o.FUNCTION_KEYS)&&!(x in o.PRINTABLE_KEYS)?!1:b(_,w,x)}}r.addCommandKeyListener=function(b,_,x){var w=null;f(b,"keydown",function(E){a[E.keyCode]=(a[E.keyCode]||0)+1;var S=g(_,E,E.keyCode);return w=E.defaultPrevented,S},x),f(b,"keypress",function(E){w&&(E.ctrlKey||E.altKey||E.shiftKey||E.metaKey)&&(r.stopEvent(E),w=null)},x),f(b,"keyup",function(E){a[E.keyCode]=null},x),a||(y(),f(window,"focus",y))};function y(){a=Object.create(null)}if(typeof window=="object"&&window.postMessage&&!s.isOldIE){var v=1;r.nextTick=function(b,_){_=_||window;var x="zero-timeout-message-"+v++,w=function(E){E.data==x&&(r.stopPropagation(E),p(_,"message",w),b())};f(_,"message",w),_.postMessage(x,"*")}}r.$idleBlocked=!1,r.onIdle=function(b,_){return setTimeout(function x(){r.$idleBlocked?setTimeout(x,100):b()},_)},r.$idleBlockId=null,r.blockIdle=function(b){r.$idleBlockId&&clearTimeout(r.$idleBlockId),r.$idleBlocked=!0,r.$idleBlockId=setTimeout(function(){r.$idleBlocked=!1},b||100)},r.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),r.nextFrame?r.nextFrame=r.nextFrame.bind(window):r.nextFrame=function(b){setTimeout(b,17)}}),ace.define("ace/clipboard",["require","exports","module"],function(n,r,i){var o;i.exports={lineMode:!1,pasteCancelled:function(){return o&&o>Date.now()-50?!0:o=!1},cancel:function(){o=Date.now()}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/config","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(n,r,i){var o=n("../lib/event"),s=n("../config").nls,a=n("../lib/useragent"),l=n("../lib/dom"),u=n("../lib/lang"),c=n("../clipboard"),d=a.isChrome<18,h=a.isIE,f=a.isChrome>63,p=400,m=n("../lib/keys"),g=m.KEY_MODS,y=a.isIOS,v=y?/\s/:/\n/,b=a.isMobile,_;_=function(x,w){var E=l.createElement("textarea");E.className="ace_text-input",E.setAttribute("wrap","off"),E.setAttribute("autocorrect","off"),E.setAttribute("autocapitalize","off"),E.setAttribute("spellcheck","false"),E.style.opacity="0",x.insertBefore(E,x.firstChild);var S=!1,T=!1,C=!1,D=!1,$="";b||(E.style.fontSize="1px");var I=!1,R=!1,A="",M=0,N=0,L=0,z=Number.MAX_SAFE_INTEGER,F=Number.MIN_SAFE_INTEGER,j=0;try{var W=document.activeElement===E}catch{}this.setNumberOfExtraLines=function(ee){if(z=Number.MAX_SAFE_INTEGER,F=Number.MIN_SAFE_INTEGER,ee<0){j=0;return}j=ee},this.setAriaLabel=function(){var ee="";if(w.$textInputAriaLabel&&(ee+="".concat(w.$textInputAriaLabel,", ")),w.session){var he=w.session.selection.cursor.row;ee+=s("text-input.aria-label","Cursor at row $0",[he+1])}E.setAttribute("aria-label",ee)},this.setAriaOptions=function(ee){ee.activeDescendant?(E.setAttribute("aria-haspopup","true"),E.setAttribute("aria-autocomplete",ee.inline?"both":"list"),E.setAttribute("aria-activedescendant",ee.activeDescendant)):(E.setAttribute("aria-haspopup","false"),E.setAttribute("aria-autocomplete","both"),E.removeAttribute("aria-activedescendant")),ee.role&&E.setAttribute("role",ee.role),ee.setLabel&&(E.setAttribute("aria-roledescription",s("text-input.aria-roledescription","editor")),this.setAriaLabel())},this.setAriaOptions({role:"textbox"}),o.addListener(E,"blur",function(ee){R||(w.onBlur(ee),W=!1)},w),o.addListener(E,"focus",function(ee){if(!R){if(W=!0,a.isEdge)try{if(!document.hasFocus())return}catch{}w.onFocus(ee),a.isEdge?setTimeout(H):H()}},w),this.$focusScroll=!1,this.focus=function(){if(this.setAriaOptions({setLabel:w.renderer.enableKeyboardAccessibility}),$||f||this.$focusScroll=="browser")return E.focus({preventScroll:!0});var ee=E.style.top;E.style.position="fixed",E.style.top="0px";try{var he=E.getBoundingClientRect().top!=0}catch{return}var xe=[];if(he)for(var Me=E.parentElement;Me&&Me.nodeType==1;)xe.push(Me),Me.setAttribute("ace_nocontext","true"),!Me.parentElement&&Me.getRootNode?Me=Me.getRootNode().host:Me=Me.parentElement;E.focus({preventScroll:!0}),he&&xe.forEach(function(je){je.removeAttribute("ace_nocontext")}),setTimeout(function(){E.style.position="",E.style.top=="0px"&&(E.style.top=ee)},0)},this.blur=function(){E.blur()},this.isFocused=function(){return W},w.on("beforeEndOperation",function(){var ee=w.curOp,he=ee&&ee.command&&ee.command.name;if(he!="insertstring"){var xe=he&&(ee.docChanged||ee.selectionChanged);C&&xe&&(A=E.value="",$e()),H()}}),w.on("changeSelection",this.setAriaLabel);var B=function(ee,he){for(var xe=he,Me=1;Me<=ee-z&&Me<2*j+1;Me++)xe+=w.session.getLine(ee-Me).length+1;return xe},H=y?function(ee){if(!(!W||S&&!ee||D)){ee||(ee="");var he=`
 ab`+ee+`cde fg
`;he!=E.value&&(E.value=A=he);var xe=4,Me=4+(ee.length||(w.selection.isEmpty()?0:1));(M!=xe||N!=Me)&&E.setSelectionRange(xe,Me),M=xe,N=Me}}:function(){if(!(C||D)&&!(!W&&!X)){C=!0;var ee=0,he=0,xe="";if(w.session){var Me=w.selection,je=Me.getRange(),ft=Me.cursor.row;ft===F+1?(z=F+1,F=z+2*j):ft===z-1?(F=z-1,z=F-2*j):(ft<z-1||ft>F+1)&&(z=ft>j?ft-j:0,F=ft>j?ft+j:2*j);for(var jt=[],Gt=z;Gt<=F;Gt++)jt.push(w.session.getLine(Gt));if(xe=jt.join(`
`),ee=B(je.start.row,je.start.column),he=B(je.end.row,je.end.column),je.start.row<z){var Dt=w.session.getLine(z-1);ee=je.start.row<z-1?0:ee,he+=Dt.length+1,xe=Dt+`
`+xe}else if(je.end.row>F){var ct=w.session.getLine(F+1);he=je.end.row>F+1?ct.length:je.end.column,he+=xe.length+1,xe=xe+`
`+ct}else b&&ft>0&&(xe=`
`+xe,he+=1,ee+=1);xe.length>p&&(ee<p&&he<p?xe=xe.slice(0,p):(xe=`
`,ee==he?ee=he=0:(ee=0,he=1)));var Ft=xe+`

`;Ft!=A&&(E.value=A=Ft,M=N=Ft.length)}if(X&&(M=E.selectionStart,N=E.selectionEnd),N!=he||M!=ee||E.selectionEnd!=N)try{E.setSelectionRange(ee,he),M=ee,N=he}catch{}C=!1}};this.resetSelection=H,W&&w.onFocus();var V=function(ee){return ee.selectionStart===0&&ee.selectionEnd>=A.length&&ee.value===A&&A&&ee.selectionEnd!==N},G=function(ee){C||(S?S=!1:V(E)?(w.selectAll(),H()):b&&E.selectionStart!=M&&H())},ne=null;this.setInputHandler=function(ee){ne=ee},this.getInputHandler=function(){return ne};var X=!1,te=function(ee,he){if(X&&(X=!1),T)return H(),ee&&w.onPaste(ee),T=!1,"";for(var xe=E.selectionStart,Me=E.selectionEnd,je=M,ft=A.length-N,jt=ee,Gt=ee.length-xe,Dt=ee.length-Me,ct=0;je>0&&A[ct]==ee[ct];)ct++,je--;for(jt=jt.slice(ct),ct=1;ft>0&&A.length-ct>M-1&&A[A.length-ct]==ee[ee.length-ct];)ct++,ft--;Gt-=ct-1,Dt-=ct-1;var Ft=jt.length-ct+1;if(Ft<0&&(je=-Ft,Ft=0),jt=jt.slice(0,Ft),!he&&!jt&&!Gt&&!je&&!ft&&!Dt)return"";D=!0;var rr=!1;return a.isAndroid&&jt==". "&&(jt="  ",rr=!0),jt&&!je&&!ft&&!Gt&&!Dt||I?w.onTextInput(jt):w.onTextInput(jt,{extendLeft:je,extendRight:ft,restoreStart:Gt,restoreEnd:Dt}),D=!1,A=ee,M=xe,N=Me,L=Dt,rr?`
`:jt},se=function(ee){if(C)return Ae();if(ee&&ee.inputType){if(ee.inputType=="historyUndo")return w.execCommand("undo");if(ee.inputType=="historyRedo")return w.execCommand("redo")}var he=E.value,xe=te(he,!0);(he.length>p+100||v.test(xe)||b&&M<1&&M==N)&&H()},ve=function(ee,he,xe){var Me=ee.clipboardData||window.clipboardData;if(!(!Me||d)){var je=h||xe?"Text":"text/plain";try{return he?Me.setData(je,he)!==!1:Me.getData(je)}catch(ft){if(!xe)return ve(ft,he,!0)}}},pe=function(ee,he){var xe=w.getCopyText();if(!xe)return o.preventDefault(ee);ve(ee,xe)?(y&&(H(xe),S=xe,setTimeout(function(){S=!1},10)),he?w.onCut():w.onCopy(),o.preventDefault(ee)):(S=!0,E.value=xe,E.select(),setTimeout(function(){S=!1,H(),he?w.onCut():w.onCopy()}))},Ge=function(ee){pe(ee,!0)},Ne=function(ee){pe(ee,!1)},Ke=function(ee){var he=ve(ee);c.pasteCancelled()||(typeof he=="string"?(he&&w.onPaste(he,ee),a.isIE&&setTimeout(H),o.preventDefault(ee)):(E.value="",T=!0))};o.addCommandKeyListener(E,function(ee,he,xe){if(!C)return w.onCommandKey(ee,he,xe)},w),o.addListener(E,"select",G,w),o.addListener(E,"input",se,w),o.addListener(E,"cut",Ge,w),o.addListener(E,"copy",Ne,w),o.addListener(E,"paste",Ke,w),(!("oncut"in E)||!("oncopy"in E)||!("onpaste"in E))&&o.addListener(x,"keydown",function(ee){if(!(a.isMac&&!ee.metaKey||!ee.ctrlKey))switch(ee.keyCode){case 67:Ne(ee);break;case 86:Ke(ee);break;case 88:Ge(ee);break}},w);var Je=function(ee){if(!(C||!w.onCompositionStart||w.$readOnly)&&(C={},!I)){ee.data&&(C.useTextareaForIME=!1),setTimeout(Ae,0),w._signal("compositionStart"),w.on("mousedown",Ze);var he=w.getSelectionRange();he.end.row=he.start.row,he.end.column=he.start.column,C.markerRange=he,C.selectionStart=M,w.onCompositionStart(C),C.useTextareaForIME?(A=E.value="",M=0,N=0):(E.msGetInputContext&&(C.context=E.msGetInputContext()),E.getInputContext&&(C.context=E.getInputContext()))}},Ae=function(){if(!(!C||!w.onCompositionUpdate||w.$readOnly)){if(I)return Ze();if(C.useTextareaForIME)w.onCompositionUpdate(E.value);else{var ee=E.value;te(ee),C.markerRange&&(C.context&&(C.markerRange.start.column=C.selectionStart=C.context.compositionStartOffset),C.markerRange.end.column=C.markerRange.start.column+N-C.selectionStart+L)}}},$e=function(ee){!w.onCompositionEnd||w.$readOnly||(C=!1,w.onCompositionEnd(),w.off("mousedown",Ze),ee&&se())};function Ze(){R=!0,E.blur(),E.focus(),R=!1}var lt=u.delayedCall(Ae,50).schedule.bind(null,null);function gt(ee){ee.keyCode==27&&E.value.length<E.selectionStart&&(C||(A=E.value),M=N=-1,H()),lt()}o.addListener(E,"compositionstart",Je,w),o.addListener(E,"compositionupdate",Ae,w),o.addListener(E,"keyup",gt,w),o.addListener(E,"keydown",lt,w),o.addListener(E,"compositionend",$e,w),this.getElement=function(){return E},this.setCommandMode=function(ee){I=ee,E.readOnly=!1},this.setReadOnly=function(ee){I||(E.readOnly=ee)},this.setCopyWithEmptySelection=function(ee){},this.onContextMenu=function(ee){X=!0,H(),w._emit("nativecontextmenu",{target:w,domEvent:ee}),this.moveToMouse(ee,!0)},this.moveToMouse=function(ee,he){$||($=E.style.cssText),E.style.cssText=(he?"z-index:100000;":"")+(a.isIE?"opacity:0.1;":"")+"text-indent: -"+(M+N)*w.renderer.characterWidth*.5+"px;";var xe=w.container.getBoundingClientRect(),Me=l.computedStyle(w.container),je=xe.top+(parseInt(Me.borderTopWidth)||0),ft=xe.left+(parseInt(Me.borderLeftWidth)||0),jt=xe.bottom-je-E.clientHeight-2,Gt=function(Dt){l.translate(E,Dt.clientX-ft-2,Math.min(Dt.clientY-je-2,jt))};Gt(ee),ee.type=="mousedown"&&(w.renderer.$isMousePressed=!0,clearTimeout(st),a.isWin&&o.capture(w.container,Gt,ht))},this.onContextMenuClose=ht;var st;function ht(){clearTimeout(st),st=setTimeout(function(){$&&(E.style.cssText=$,$=""),w.renderer.$isMousePressed=!1,w.renderer.$keepTextAreaAtCursor&&w.renderer.$moveTextAreaToCursor()},0)}var Oe=function(ee){w.textInput.onContextMenu(ee),ht()};o.addListener(E,"mouseup",Oe,w),o.addListener(E,"mousedown",function(ee){ee.preventDefault(),ht()},w),o.addListener(w.renderer.scroller,"contextmenu",Oe,w),o.addListener(E,"contextmenu",Oe,w),y&&ut(x,w,E);function ut(ee,he,xe){var Me=null,je=!1;xe.addEventListener("keydown",function(jt){Me&&clearTimeout(Me),je=!0},!0),xe.addEventListener("keyup",function(jt){Me=setTimeout(function(){je=!1},100)},!0);var ft=function(jt){if(document.activeElement===xe&&!(je||C||he.$mouseHandler.isMousePressed)&&!S){var Gt=xe.selectionStart,Dt=xe.selectionEnd,ct=null,Ft=0;if(Gt==0?ct=m.up:Gt==1?ct=m.home:Dt>N&&A[Dt]==`
`?ct=m.end:Gt<M&&A[Gt-1]==" "?(ct=m.left,Ft=g.option):Gt<M||Gt==M&&N!=M&&Gt==Dt?ct=m.left:Dt>N&&A.slice(0,Dt).split(`
`).length>2?ct=m.down:Dt>N&&A[Dt-1]==" "?(ct=m.right,Ft=g.option):(Dt>N||Dt==N&&N!=M&&Gt==Dt)&&(ct=m.right),Gt!==Dt&&(Ft|=g.shift),ct){var rr=he.onCommandKey({},Ft,ct);if(!rr&&he.commands){ct=m.keyCodeToString(ct);var In=he.commands.findKeyCommand(Ft,ct);In&&he.execCommand(In)}M=Gt,N=Dt,H("")}}};document.addEventListener("selectionchange",ft),he.on("destroy",function(){document.removeEventListener("selectionchange",ft)})}this.destroy=function(){E.parentElement&&E.parentElement.removeChild(E)}},r.TextInput=_,r.$setUserAgentForTests=function(x,w){b=x,y=w}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(n,r,i){var o=n("../lib/useragent"),s=0,a=550,l=function(){function d(h){h.$clickSelection=null;var f=h.editor;f.setDefaultHandler("mousedown",this.onMouseDown.bind(h)),f.setDefaultHandler("dblclick",this.onDoubleClick.bind(h)),f.setDefaultHandler("tripleclick",this.onTripleClick.bind(h)),f.setDefaultHandler("quadclick",this.onQuadClick.bind(h)),f.setDefaultHandler("mousewheel",this.onMouseWheel.bind(h));var p=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];p.forEach(function(m){h[m]=this[m]},this),h.selectByLines=this.extendSelectionBy.bind(h,"getLineRange"),h.selectByWords=this.extendSelectionBy.bind(h,"getWordRange")}return d.prototype.onMouseDown=function(h){var f=h.inSelection(),p=h.getDocumentPosition();this.mousedownEvent=h;var m=this.editor,g=h.getButton();if(g!==0){var y=m.getSelectionRange(),v=y.isEmpty();(v||g==1)&&m.selection.moveToPosition(p),g==2&&(m.textInput.onContextMenu(h.domEvent),o.isMozilla||h.preventDefault());return}if(this.mousedownEvent.time=Date.now(),f&&!m.isFocused()&&(m.focus(),this.$focusTimeout&&!this.$clickSelection&&!m.inMultiSelectMode)){this.setState("focusWait"),this.captureMouse(h);return}return this.captureMouse(h),this.startSelect(p,h.domEvent._clicks>1),h.preventDefault()},d.prototype.startSelect=function(h,f){h=h||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var p=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?p.selection.selectToPosition(h):f||p.selection.moveToPosition(h),f||this.select(),p.setStyle("ace_selecting"),this.setState("select"))},d.prototype.select=function(){var h,f=this.editor,p=f.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var m=this.$clickSelection.comparePoint(p);if(m==-1)h=this.$clickSelection.end;else if(m==1)h=this.$clickSelection.start;else{var g=c(this.$clickSelection,p);p=g.cursor,h=g.anchor}f.selection.setSelectionAnchor(h.row,h.column)}f.selection.selectToPosition(p),f.renderer.scrollCursorIntoView()},d.prototype.extendSelectionBy=function(h){var f,p=this.editor,m=p.renderer.screenToTextCoordinates(this.x,this.y),g=p.selection[h](m.row,m.column);if(this.$clickSelection){var y=this.$clickSelection.comparePoint(g.start),v=this.$clickSelection.comparePoint(g.end);if(y==-1&&v<=0)f=this.$clickSelection.end,(g.end.row!=m.row||g.end.column!=m.column)&&(m=g.start);else if(v==1&&y>=0)f=this.$clickSelection.start,(g.start.row!=m.row||g.start.column!=m.column)&&(m=g.end);else if(y==-1&&v==1)m=g.end,f=g.start;else{var b=c(this.$clickSelection,m);m=b.cursor,f=b.anchor}p.selection.setSelectionAnchor(f.row,f.column)}p.selection.selectToPosition(m),p.renderer.scrollCursorIntoView()},d.prototype.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting")},d.prototype.focusWait=function(){var h=u(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),f=Date.now();(h>s||f-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},d.prototype.onDoubleClick=function(h){var f=h.getDocumentPosition(),p=this.editor,m=p.session,g=m.getBracketRange(f);g?(g.isEmpty()&&(g.start.column--,g.end.column++),this.setState("select")):(g=p.selection.getWordRange(f.row,f.column),this.setState("selectByWords")),this.$clickSelection=g,this.select()},d.prototype.onTripleClick=function(h){var f=h.getDocumentPosition(),p=this.editor;this.setState("selectByLines");var m=p.getSelectionRange();m.isMultiLine()&&m.contains(f.row,f.column)?(this.$clickSelection=p.selection.getLineRange(m.start.row),this.$clickSelection.end=p.selection.getLineRange(m.end.row).end):this.$clickSelection=p.selection.getLineRange(f.row),this.select()},d.prototype.onQuadClick=function(h){var f=this.editor;f.selectAll(),this.$clickSelection=f.getSelectionRange(),this.setState("selectAll")},d.prototype.onMouseWheel=function(h){if(!h.getAccelKey()){h.getShiftKey()&&h.wheelY&&!h.wheelX&&(h.wheelX=h.wheelY,h.wheelY=0);var f=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var p=this.$lastScroll,m=h.domEvent.timeStamp,g=m-p.t,y=g?h.wheelX/g:p.vx,v=g?h.wheelY/g:p.vy;g<a&&(y=(y+p.vx)/2,v=(v+p.vy)/2);var b=Math.abs(y/v),_=!1;if(b>=1&&f.renderer.isScrollableBy(h.wheelX*h.speed,0)&&(_=!0),b<=1&&f.renderer.isScrollableBy(0,h.wheelY*h.speed)&&(_=!0),_)p.allowed=m;else if(m-p.allowed<a){var x=Math.abs(y)<=1.5*Math.abs(p.vx)&&Math.abs(v)<=1.5*Math.abs(p.vy);x?(_=!0,p.allowed=m):p.allowed=0}if(p.t=m,p.vx=y,p.vy=v,_)return f.renderer.scrollBy(h.wheelX*h.speed,h.wheelY*h.speed),h.stop()}},d}();l.prototype.selectEnd=l.prototype.selectByLinesEnd,l.prototype.selectAllEnd=l.prototype.selectByLinesEnd,l.prototype.selectByWordsEnd=l.prototype.selectByLinesEnd,r.DefaultHandlers=l;function u(d,h,f,p){return Math.sqrt(Math.pow(f-d,2)+Math.pow(p-h,2))}function c(d,h){if(d.start.row==d.end.row)var f=2*h.column-d.start.column-d.end.column;else if(d.start.row==d.end.row-1&&!d.start.column&&!d.end.column)var f=h.column-4;else var f=2*h.row-d.start.row-d.end.row;return f<0?{cursor:d.start,anchor:d.end}:{cursor:d.end,anchor:d.start}}}),ace.define("ace/lib/scroll",["require","exports","module"],function(n,r,i){r.preventParentScroll=function(s){s.stopPropagation();var a=s.currentTarget,l=a.scrollHeight>a.clientHeight;l||s.preventDefault()}}),ace.define("ace/tooltip",["require","exports","module","ace/lib/dom","ace/lib/event","ace/range","ace/lib/scroll"],function(n,r,i){var o=this&&this.__extends||function(){var m=function(g,y){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,b){v.__proto__=b}||function(v,b){for(var _ in b)Object.prototype.hasOwnProperty.call(b,_)&&(v[_]=b[_])},m(g,y)};return function(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");m(g,y);function v(){this.constructor=g}g.prototype=y===null?Object.create(y):(v.prototype=y.prototype,new v)}}(),s=this&&this.__values||function(m){var g=typeof Symbol=="function"&&Symbol.iterator,y=g&&m[g],v=0;if(y)return y.call(m);if(m&&typeof m.length=="number")return{next:function(){return m&&v>=m.length&&(m=void 0),{value:m&&m[v++],done:!m}}};throw new TypeError(g?"Object is not iterable.":"Symbol.iterator is not defined.")},a=n("./lib/dom");n("./lib/event");var l=n("./range").Range,u=n("./lib/scroll").preventParentScroll,c="ace_tooltip",d=function(){function m(g){this.isOpen=!1,this.$element=null,this.$parentNode=g}return m.prototype.$init=function(){return this.$element=a.createElement("div"),this.$element.className=c,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},m.prototype.getElement=function(){return this.$element||this.$init()},m.prototype.setText=function(g){this.getElement().textContent=g},m.prototype.setHtml=function(g){this.getElement().innerHTML=g},m.prototype.setPosition=function(g,y){this.getElement().style.left=g+"px",this.getElement().style.top=y+"px"},m.prototype.setClassName=function(g){a.addCssClass(this.getElement(),g)},m.prototype.setTheme=function(g){this.$element.className=c+" "+(g.isDark?"ace_dark ":"")+(g.cssClass||"")},m.prototype.show=function(g,y,v){g!=null&&this.setText(g),y!=null&&v!=null&&this.setPosition(y,v),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},m.prototype.hide=function(g){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=c,this.isOpen=!1)},m.prototype.getHeight=function(){return this.getElement().offsetHeight},m.prototype.getWidth=function(){return this.getElement().offsetWidth},m.prototype.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)},m}(),h=function(){function m(){this.popups=[]}return m.prototype.addPopup=function(g){this.popups.push(g),this.updatePopups()},m.prototype.removePopup=function(g){var y=this.popups.indexOf(g);y!==-1&&(this.popups.splice(y,1),this.updatePopups())},m.prototype.updatePopups=function(){var g,y,v,b;this.popups.sort(function($,I){return I.priority-$.priority});var _=[];try{for(var x=s(this.popups),w=x.next();!w.done;w=x.next()){var E=w.value,S=!0;try{for(var T=(v=void 0,s(_)),C=T.next();!C.done;C=T.next()){var D=C.value;if(this.doPopupsOverlap(D,E)){S=!1;break}}}catch($){v={error:$}}finally{try{C&&!C.done&&(b=T.return)&&b.call(T)}finally{if(v)throw v.error}}S?_.push(E):E.hide()}}catch($){g={error:$}}finally{try{w&&!w.done&&(y=x.return)&&y.call(x)}finally{if(g)throw g.error}}},m.prototype.doPopupsOverlap=function(g,y){var v=g.getElement().getBoundingClientRect(),b=y.getElement().getBoundingClientRect();return v.left<b.right&&v.right>b.left&&v.top<b.bottom&&v.bottom>b.top},m}(),f=new h;r.popupManager=f,r.Tooltip=d;var p=function(m){o(g,m);function g(y){y===void 0&&(y=document.body);var v=m.call(this,y)||this;v.timeout=void 0,v.lastT=0,v.idleTime=350,v.lastEvent=void 0,v.onMouseOut=v.onMouseOut.bind(v),v.onMouseMove=v.onMouseMove.bind(v),v.waitForHover=v.waitForHover.bind(v),v.hide=v.hide.bind(v);var b=v.getElement();return b.style.whiteSpace="pre-wrap",b.style.pointerEvents="auto",b.addEventListener("mouseout",v.onMouseOut),b.tabIndex=-1,b.addEventListener("blur",(function(){b.contains(document.activeElement)||this.hide()}).bind(v)),b.addEventListener("wheel",u),v}return g.prototype.addToEditor=function(y){y.on("mousemove",this.onMouseMove),y.on("mousedown",this.hide),y.renderer.getMouseEventTarget().addEventListener("mouseout",this.onMouseOut,!0)},g.prototype.removeFromEditor=function(y){y.off("mousemove",this.onMouseMove),y.off("mousedown",this.hide),y.renderer.getMouseEventTarget().removeEventListener("mouseout",this.onMouseOut,!0),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},g.prototype.onMouseMove=function(y,v){this.lastEvent=y,this.lastT=Date.now();var b=v.$mouseHandler.isMousePressed;if(this.isOpen){var _=this.lastEvent&&this.lastEvent.getDocumentPosition();(!this.range||!this.range.contains(_.row,_.column)||b||this.isOutsideOfText(this.lastEvent))&&this.hide()}this.timeout||b||(this.lastEvent=y,this.timeout=setTimeout(this.waitForHover,this.idleTime))},g.prototype.waitForHover=function(){this.timeout&&clearTimeout(this.timeout);var y=Date.now()-this.lastT;if(this.idleTime-y>10){this.timeout=setTimeout(this.waitForHover,this.idleTime-y);return}this.timeout=null,this.lastEvent&&!this.isOutsideOfText(this.lastEvent)&&this.$gatherData(this.lastEvent,this.lastEvent.editor)},g.prototype.isOutsideOfText=function(y){var v=y.editor,b=y.getDocumentPosition(),_=v.session.getLine(b.row);if(b.column==_.length){var x=v.renderer.pixelToScreenCoordinates(y.clientX,y.clientY),w=v.session.documentToScreenPosition(b.row,b.column);if(w.column!=x.column||w.row!=x.row)return!0}return!1},g.prototype.setDataProvider=function(y){this.$gatherData=y},g.prototype.showForRange=function(y,v,b,_){var x=10;if(!(_&&_!=this.lastEvent)&&!(this.isOpen&&document.activeElement==this.getElement())){var w=y.renderer;this.isOpen||(f.addPopup(this),this.$registerCloseEvents(),this.setTheme(w.theme)),this.isOpen=!0,this.addMarker(v,y.session),this.range=l.fromPoints(v.start,v.end);var E=w.textToScreenCoordinates(v.start.row,v.start.column),S=w.scroller.getBoundingClientRect();E.pageX<S.left&&(E.pageX=S.left);var T=this.getElement();T.innerHTML="",T.appendChild(b),T.style.maxHeight="",T.style.display="block";var C=T.clientHeight,D=T.clientWidth,$=window.innerHeight-E.pageY-w.lineHeight,I=!0;E.pageY-C<0&&E.pageY<$&&(I=!1),T.style.maxHeight=(I?E.pageY:$)-x+"px",T.style.top=I?"":E.pageY+w.lineHeight+"px",T.style.bottom=I?window.innerHeight-E.pageY+"px":"",T.style.left=Math.min(E.pageX,window.innerWidth-D-x)+"px"}},g.prototype.addMarker=function(y,v){this.marker&&this.$markerSession.removeMarker(this.marker),this.$markerSession=v,this.marker=v&&v.addMarker(y,"ace_highlight-marker","text")},g.prototype.hide=function(y){!y&&document.activeElement==this.getElement()||y&&y.target&&(y.type!="keydown"||y.ctrlKey||y.metaKey)&&this.$element.contains(y.target)||(this.lastEvent=null,this.timeout&&clearTimeout(this.timeout),this.timeout=null,this.addMarker(null),this.isOpen&&(this.$removeCloseEvents(),this.getElement().style.display="none",this.isOpen=!1,f.removePopup(this)))},g.prototype.$registerCloseEvents=function(){window.addEventListener("keydown",this.hide,!0),window.addEventListener("wheel",this.hide,!0),window.addEventListener("mousedown",this.hide,!0)},g.prototype.$removeCloseEvents=function(){window.removeEventListener("keydown",this.hide,!0),window.removeEventListener("wheel",this.hide,!0),window.removeEventListener("mousedown",this.hide,!0)},g.prototype.onMouseOut=function(y){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.lastEvent=null,this.isOpen&&(!y.relatedTarget||this.getElement().contains(y.relatedTarget)||y&&y.currentTarget.contains(y.relatedTarget)||y.relatedTarget.classList.contains("ace_content")||this.hide())},g}(d);r.HoverTooltip=p}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/tooltip","ace/config"],function(n,r,i){var o=this&&this.__extends||function(){var m=function(g,y){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,b){v.__proto__=b}||function(v,b){for(var _ in b)Object.prototype.hasOwnProperty.call(b,_)&&(v[_]=b[_])},m(g,y)};return function(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");m(g,y);function v(){this.constructor=g}g.prototype=y===null?Object.create(y):(v.prototype=y.prototype,new v)}}(),s=this&&this.__values||function(m){var g=typeof Symbol=="function"&&Symbol.iterator,y=g&&m[g],v=0;if(y)return y.call(m);if(m&&typeof m.length=="number")return{next:function(){return m&&v>=m.length&&(m=void 0),{value:m&&m[v++],done:!m}}};throw new TypeError(g?"Object is not iterable.":"Symbol.iterator is not defined.")},a=n("../lib/dom"),l=n("../lib/event"),u=n("../tooltip").Tooltip,c=n("../config").nls,d=5,h=3;r.GUTTER_TOOLTIP_LEFT_OFFSET=d,r.GUTTER_TOOLTIP_TOP_OFFSET=h;function f(m){var g=m.editor,y=g.renderer.$gutterLayer,v=new p(g,!0);m.editor.setDefaultHandler("guttermousedown",function(S){if(!(!g.isFocused()||S.getButton()!=0)){var T=y.getRegion(S);if(T!="foldWidgets"){var C=S.getDocumentPosition().row,D=g.session.selection;if(S.getShiftKey())D.selectTo(C,0);else{if(S.domEvent.detail==2)return g.selectAll(),S.preventDefault();m.$clickSelection=g.selection.getLineRange(C)}return m.setState("selectByLines"),m.captureMouse(S),S.preventDefault()}}});var b,_;function x(){var S=_.getDocumentPosition().row,T=g.session.getLength();if(S==T){var C=g.renderer.pixelToScreenCoordinates(0,_.y).row,D=_.$pos;if(C>g.session.documentToScreenRow(D.row,D.column))return w()}if(v.showTooltip(S),!!v.isOpen)if(g.on("mousewheel",w),g.on("changeSession",w),window.addEventListener("keydown",w,!0),m.$tooltipFollowsMouse)E(_);else{var $=_.getGutterRow(),I=y.$lines.get($);if(I){var R=I.element.querySelector(".ace_gutter_annotation"),A=R.getBoundingClientRect(),M=v.getElement().style;M.left=A.right-d+"px",M.top=A.bottom-h+"px"}else E(_)}}function w(S){S&&S.type==="keydown"&&(S.ctrlKey||S.metaKey)||S&&S.type==="mouseout"&&(!S.relatedTarget||v.getElement().contains(S.relatedTarget))||(b&&(b=clearTimeout(b)),v.isOpen&&(v.hideTooltip(),g.off("mousewheel",w),g.off("changeSession",w),window.removeEventListener("keydown",w,!0)))}function E(S){v.setPosition(S.x,S.y)}m.editor.setDefaultHandler("guttermousemove",function(S){var T=S.domEvent.target||S.domEvent.srcElement;if(a.hasCssClass(T,"ace_fold-widget"))return w();v.isOpen&&m.$tooltipFollowsMouse&&E(S),_=S,!b&&(b=setTimeout(function(){b=null,_&&!m.isMousePressed&&x()},50))}),l.addListener(g.renderer.$gutter,"mouseout",function(S){_=null,v.isOpen&&(b=setTimeout(function(){b=null,w(S)},50))},g)}r.GutterHandler=f;var p=function(m){o(g,m);function g(y,v){v===void 0&&(v=!1);var b=m.call(this,y.container)||this;b.editor=y,b.visibleTooltipRow;var _=b.getElement();return _.setAttribute("role","tooltip"),_.style.pointerEvents="auto",v&&(b.onMouseOut=b.onMouseOut.bind(b),_.addEventListener("mouseout",b.onMouseOut)),b}return g.prototype.onMouseOut=function(y){this.isOpen&&(!y.relatedTarget||this.getElement().contains(y.relatedTarget)||y&&y.currentTarget.contains(y.relatedTarget)||this.hideTooltip())},g.prototype.setPosition=function(y,v){var b=window.innerWidth||document.documentElement.clientWidth,_=window.innerHeight||document.documentElement.clientHeight,x=this.getWidth(),w=this.getHeight();y+=15,v+=15,y+x>b&&(y-=y+x-b),v+w>_&&(v-=20+w),u.prototype.setPosition.call(this,y,v)},Object.defineProperty(g,"annotationLabels",{get:function(){return{error:{singular:c("gutter-tooltip.aria-label.error.singular","error"),plural:c("gutter-tooltip.aria-label.error.plural","errors")},security:{singular:c("gutter-tooltip.aria-label.security.singular","security finding"),plural:c("gutter-tooltip.aria-label.security.plural","security findings")},warning:{singular:c("gutter-tooltip.aria-label.warning.singular","warning"),plural:c("gutter-tooltip.aria-label.warning.plural","warnings")},info:{singular:c("gutter-tooltip.aria-label.info.singular","information message"),plural:c("gutter-tooltip.aria-label.info.plural","information messages")},hint:{singular:c("gutter-tooltip.aria-label.hint.singular","suggestion"),plural:c("gutter-tooltip.aria-label.hint.plural","suggestions")}}},enumerable:!1,configurable:!0}),g.prototype.showTooltip=function(y){var v,b=this.editor.renderer.$gutterLayer,_=b.$annotations[y],x;_?x={displayText:Array.from(_.displayText),type:Array.from(_.type)}:x={displayText:[],type:[]};var w=b.session.getFoldLine(y);if(w&&b.$showFoldedAnnotations){for(var E={error:[],security:[],warning:[],info:[],hint:[]},S={error:1,security:2,warning:3,info:4,hint:5},T,C=y+1;C<=w.end.row;C++)if(b.$annotations[C])for(var D=0;D<b.$annotations[C].text.length;D++){var $=b.$annotations[C].type[D];E[$].push(b.$annotations[C].text[D]),(!T||S[$]<S[T])&&(T=$)}if(["error","security","warning"].includes(T)){var I="".concat(g.annotationsToSummaryString(E)," in folded code.");x.displayText.push(I),x.type.push(T+"_fold")}}if(x.displayText.length===0)return this.hideTooltip();for(var R={error:[],security:[],warning:[],info:[],hint:[]},A=b.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",C=0;C<x.displayText.length;C++){var M=a.createElement("span"),N=a.createElement("span");(v=N.classList).add.apply(v,["ace_".concat(x.type[C]),A]),N.setAttribute("aria-label","".concat(g.annotationLabels[x.type[C].replace("_fold","")].singular)),N.setAttribute("role","img"),N.appendChild(a.createTextNode(" ")),M.appendChild(N),M.appendChild(a.createTextNode(x.displayText[C])),M.appendChild(a.createElement("br")),R[x.type[C].replace("_fold","")].push(M)}var L=this.getElement();a.removeChildren(L),R.error.forEach(function(z){return L.appendChild(z)}),R.security.forEach(function(z){return L.appendChild(z)}),R.warning.forEach(function(z){return L.appendChild(z)}),R.info.forEach(function(z){return L.appendChild(z)}),R.hint.forEach(function(z){return L.appendChild(z)}),L.setAttribute("aria-live","polite"),this.isOpen||(this.setTheme(this.editor.renderer.theme),this.setClassName("ace_gutter-tooltip")),this.show(),this.visibleTooltipRow=y,this.editor._signal("showGutterTooltip",this)},g.prototype.hideTooltip=function(){this.isOpen&&(this.$element.removeAttribute("aria-live"),this.hide(),this.visibleTooltipRow=void 0,this.editor._signal("hideGutterTooltip",this))},g.annotationsToSummaryString=function(y){var v,b,_=[],x=["error","security","warning","info","hint"];try{for(var w=s(x),E=w.next();!E.done;E=w.next()){var S=E.value;if(y[S].length){var T=y[S].length===1?g.annotationLabels[S].singular:g.annotationLabels[S].plural;_.push("".concat(y[S].length," ").concat(T))}}}catch(C){v={error:C}}finally{try{E&&!E.done&&(b=w.return)&&b.call(w)}finally{if(v)throw v.error}}return _.join(", ")},g}(u);r.GutterTooltip=p}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(n,r,i){var o=n("../lib/event"),s=n("../lib/useragent"),a=function(){function l(u,c){this.speed,this.wheelX,this.wheelY,this.domEvent=u,this.editor=c,this.x=this.clientX=u.clientX,this.y=this.clientY=u.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1}return l.prototype.stopPropagation=function(){o.stopPropagation(this.domEvent),this.propagationStopped=!0},l.prototype.preventDefault=function(){o.preventDefault(this.domEvent),this.defaultPrevented=!0},l.prototype.stop=function(){this.stopPropagation(),this.preventDefault()},l.prototype.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},l.prototype.getGutterRow=function(){var u=this.getDocumentPosition().row,c=this.editor.session.documentToScreenRow(u,0),d=this.editor.session.documentToScreenRow(this.editor.renderer.$gutterLayer.$lines.get(0).row,0);return c-d},l.prototype.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var u=this.editor,c=u.getSelectionRange();if(c.isEmpty())this.$inSelection=!1;else{var d=this.getDocumentPosition();this.$inSelection=c.contains(d.row,d.column)}return this.$inSelection},l.prototype.getButton=function(){return o.getButton(this.domEvent)},l.prototype.getShiftKey=function(){return this.domEvent.shiftKey},l.prototype.getAccelKey=function(){return s.isMac?this.domEvent.metaKey:this.domEvent.ctrlKey},l}();r.MouseEvent=a}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(n,r,i){var o=n("../lib/dom"),s=n("../lib/event"),a=n("../lib/useragent"),l=200,u=200,c=5;function d(f){var p=f.editor,m=o.createElement("div");m.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",m.textContent="";var g=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];g.forEach(function(B){f[B]=this[B]},this),p.on("mousedown",this.onMouseDown.bind(f));var y=p.container,v,b,_,x,w,E,S=0,T,C,D,$,I;this.onDragStart=function(B){if(this.cancelDrag||!y.draggable){var H=this;return setTimeout(function(){H.startSelect(),H.captureMouse(B)},0),B.preventDefault()}w=p.getSelectionRange();var V=B.dataTransfer;V.effectAllowed=p.getReadOnly()?"copy":"copyMove",p.container.appendChild(m),V.setDragImage&&V.setDragImage(m,0,0),setTimeout(function(){p.container.removeChild(m)}),V.clearData(),V.setData("Text",p.session.getTextRange()),C=!0,this.setState("drag")},this.onDragEnd=function(B){if(y.draggable=!1,C=!1,this.setState(null),!p.getReadOnly()){var H=B.dataTransfer.dropEffect;!T&&H=="move"&&p.session.remove(p.getSelectionRange()),p.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(B){if(!(p.getReadOnly()||!j(B.dataTransfer)))return b=B.clientX,_=B.clientY,v||N(),S++,B.dataTransfer.dropEffect=T=W(B),s.preventDefault(B)},this.onDragOver=function(B){if(!(p.getReadOnly()||!j(B.dataTransfer)))return b=B.clientX,_=B.clientY,v||(N(),S++),z!==null&&(z=null),B.dataTransfer.dropEffect=T=W(B),s.preventDefault(B)},this.onDragLeave=function(B){if(S--,S<=0&&v)return L(),T=null,s.preventDefault(B)},this.onDrop=function(B){if(E){var H=B.dataTransfer;if(C)switch(T){case"move":w.contains(E.row,E.column)?w={start:E,end:E}:w=p.moveText(w,E);break;case"copy":w=p.moveText(w,E,!0);break}else{var V=H.getData("Text");w={start:E,end:p.session.insert(E,V)},p.focus(),T=null}return L(),s.preventDefault(B)}},s.addListener(y,"dragstart",this.onDragStart.bind(f),p),s.addListener(y,"dragend",this.onDragEnd.bind(f),p),s.addListener(y,"dragenter",this.onDragEnter.bind(f),p),s.addListener(y,"dragover",this.onDragOver.bind(f),p),s.addListener(y,"dragleave",this.onDragLeave.bind(f),p),s.addListener(y,"drop",this.onDrop.bind(f),p);function R(B,H){var V=Date.now(),G=!H||B.row!=H.row,ne=!H||B.column!=H.column;if(!$||G||ne)p.moveCursorToPosition(B),$=V,I={x:b,y:_};else{var X=h(I.x,I.y,b,_);X>c?$=null:V-$>=u&&(p.renderer.scrollCursorIntoView(),$=null)}}function A(B,H){var V=Date.now(),G=p.renderer.layerConfig.lineHeight,ne=p.renderer.layerConfig.characterWidth,X=p.renderer.scroller.getBoundingClientRect(),te={x:{left:b-X.left,right:X.right-b},y:{top:_-X.top,bottom:X.bottom-_}},se=Math.min(te.x.left,te.x.right),ve=Math.min(te.y.top,te.y.bottom),pe={row:B.row,column:B.column};se/ne<=2&&(pe.column+=te.x.left<te.x.right?-3:2),ve/G<=1&&(pe.row+=te.y.top<te.y.bottom?-1:1);var Ge=B.row!=pe.row,Ne=B.column!=pe.column,Ke=!H||B.row!=H.row;Ge||Ne&&!Ke?D?V-D>=l&&p.renderer.scrollCursorIntoView(pe):D=V:D=null}function M(){var B=E;E=p.renderer.screenToTextCoordinates(b,_),R(E,B),A(E,B)}function N(){w=p.selection.toOrientedRange(),v=p.session.addMarker(w,"ace_selection",p.getSelectionStyle()),p.clearSelection(),p.isFocused()&&p.renderer.$cursorLayer.setBlinking(!1),clearInterval(x),M(),x=setInterval(M,20),S=0,s.addListener(document,"mousemove",F)}function L(){clearInterval(x),p.session.removeMarker(v),v=null,p.selection.fromOrientedRange(w),p.isFocused()&&!C&&p.$resetCursorStyle(),w=null,E=null,S=0,D=null,$=null,s.removeListener(document,"mousemove",F)}var z=null;function F(){z==null&&(z=setTimeout(function(){z!=null&&v&&L()},20))}function j(B){var H=B.types;return!H||Array.prototype.some.call(H,function(V){return V=="text/plain"||V=="Text"})}function W(B){var H=["copy","copymove","all","uninitialized"],V=["move","copymove","linkmove","all","uninitialized"],G=a.isMac?B.altKey:B.ctrlKey,ne="uninitialized";try{ne=B.dataTransfer.effectAllowed.toLowerCase()}catch{}var X="none";return G&&H.indexOf(ne)>=0?X="copy":V.indexOf(ne)>=0?X="move":H.indexOf(ne)>=0&&(X="copy"),X}}(function(){this.dragWait=function(){var f=Date.now()-this.mousedownEvent.time;f>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var f=this.editor.container;f.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(f){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var f=this.editor,p=f.container;p.draggable=!0,f.renderer.$cursorLayer.setBlinking(!1),f.setStyle("ace_dragging");var m=a.isWin?"default":"move";f.renderer.setCursorStyle(m),this.setState("dragReady")},this.onMouseDrag=function(f){var p=this.editor.container;if(a.isIE&&this.state=="dragReady"){var m=h(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);m>3&&p.dragDrop()}if(this.state==="dragWait"){var m=h(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);m>0&&(p.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(f){if(this.$dragEnabled){this.mousedownEvent=f;var p=this.editor,m=f.inSelection(),g=f.getButton(),y=f.domEvent.detail||1;if(y===1&&g===0&&m){if(f.editor.inMultiSelectMode&&(f.getAccelKey()||f.getShiftKey()))return;this.mousedownEvent.time=Date.now();var v=f.domEvent.target||f.domEvent.srcElement;if("unselectable"in v&&(v.unselectable="on"),p.getDragDelay()){if(a.isWebKit){this.cancelDrag=!0;var b=p.container;b.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(f,this.onMouseDrag.bind(this)),f.defaultPrevented=!0}}}}).call(d.prototype);function h(f,p,m,g){return Math.sqrt(Math.pow(m-f,2)+Math.pow(g-p,2))}r.DragdropHandler=d}),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(n,r,i){var o=n("./mouse_event").MouseEvent,s=n("../lib/event"),a=n("../lib/dom");r.addTouchListeners=function(l,u){var c="scroll",d,h,f,p,m,g,y=0,v,b=0,_=0,x=0,w,E;function S(){var R=window.navigator&&window.navigator.clipboard,A=!1,M=function(){var z=u.getCopyText(),F=u.session.getUndoManager().hasUndo();E.replaceChild(a.buildDom(A?["span",!z&&N("selectall")&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],z&&N("copy")&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],z&&N("cut")&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],R&&N("paste")&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],F&&N("undo")&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],N("find")&&["span",{class:"ace_mobile-button",action:"find"},"Find"],N("openCommandPalette")&&["span",{class:"ace_mobile-button",action:"openCommandPalette"},"Palette"]]:["span"]),E.firstChild)},N=function(z){return u.commands.canExecute(z,u)},L=function(z){var F=z.target.getAttribute("action");if(F=="more"||!A)return A=!A,M();F=="paste"?R.readText().then(function(j){u.execCommand(F,j)}):F&&((F=="cut"||F=="copy")&&(R?R.writeText(u.getCopyText()):document.execCommand("copy")),u.execCommand(F)),E.firstChild.style.display="none",A=!1,F!="openCommandPalette"&&u.focus()};E=a.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(z){c="menu",z.stopPropagation(),z.preventDefault(),u.textInput.focus()},ontouchend:function(z){z.stopPropagation(),z.preventDefault(),L(z)},onclick:L},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],u.container)}function T(){if(!u.getOption("enableMobileMenu")){E&&C();return}E||S();var R=u.selection.cursor,A=u.renderer.textToScreenCoordinates(R.row,R.column),M=u.renderer.textToScreenCoordinates(0,0).pageX,N=u.renderer.scrollLeft,L=u.container.getBoundingClientRect();E.style.top=A.pageY-L.top-3+"px",A.pageX-L.left<L.width-70?(E.style.left="",E.style.right="10px"):(E.style.right="",E.style.left=M+N-L.left+"px"),E.style.display="",E.firstChild.style.display="none",u.on("input",C)}function C(R){E&&(E.style.display="none"),u.off("input",C)}function D(){m=null,clearTimeout(m);var R=u.selection.getRange(),A=R.contains(v.row,v.column);(R.isEmpty()||!A)&&(u.selection.moveToPosition(v),u.selection.selectWord()),c="wait",T()}function $(){m=null,clearTimeout(m),u.selection.moveToPosition(v);var R=b>=2?u.selection.getLineRange(v.row):u.session.getBracketRange(v);R&&!R.isEmpty()?u.selection.setRange(R):u.selection.selectWord(),c="wait"}s.addListener(l,"contextmenu",function(R){if(w){var A=u.textInput.getElement();A.focus()}},u),s.addListener(l,"touchstart",function(R){var A=R.touches;if(m||A.length>1){clearTimeout(m),m=null,f=-1,c="zoom";return}w=u.$mouseHandler.isMousePressed=!0;var M=u.renderer.layerConfig.lineHeight,N=u.renderer.layerConfig.lineHeight,L=R.timeStamp;p=L;var z=A[0],F=z.clientX,j=z.clientY;Math.abs(d-F)+Math.abs(h-j)>M&&(f=-1),d=R.clientX=F,h=R.clientY=j,_=x=0;var W=new o(R,u);if(v=W.getDocumentPosition(),L-f<500&&A.length==1&&!y)b++,R.preventDefault(),R.button=0,$();else{b=0;var B=u.selection.cursor,H=u.selection.isEmpty()?B:u.selection.anchor,V=u.renderer.$cursorLayer.getPixelPosition(B,!0),G=u.renderer.$cursorLayer.getPixelPosition(H,!0),ne=u.renderer.scroller.getBoundingClientRect(),X=u.renderer.layerConfig.offset,te=u.renderer.scrollLeft,se=function(Ge,Ne){return Ge=Ge/N,Ne=Ne/M-.75,Ge*Ge+Ne*Ne};if(R.clientX<ne.left){c="zoom";return}var ve=se(R.clientX-ne.left-V.left+te,R.clientY-ne.top-V.top+X),pe=se(R.clientX-ne.left-G.left+te,R.clientY-ne.top-G.top+X);ve<3.5&&pe<3.5&&(c=ve>pe?"cursor":"anchor"),pe<3.5?c="anchor":ve<3.5?c="cursor":c="scroll",m=setTimeout(D,450)}f=L},u),s.addListener(l,"touchend",function(R){w=u.$mouseHandler.isMousePressed=!1,g&&clearInterval(g),c=="zoom"?(c="",y=0):m?(u.selection.moveToPosition(v),y=0,T()):c=="scroll"?(I(),C()):T(),clearTimeout(m),m=null},u),s.addListener(l,"touchmove",function(R){m&&(clearTimeout(m),m=null);var A=R.touches;if(!(A.length>1||c=="zoom")){var M=A[0],N=d-M.clientX,L=h-M.clientY;if(c=="wait")if(N*N+L*L>4)c="cursor";else return R.preventDefault();d=M.clientX,h=M.clientY,R.clientX=M.clientX,R.clientY=M.clientY;var z=R.timeStamp,F=z-p;if(p=z,c=="scroll"){var j=new o(R,u);j.speed=1,j.wheelX=N,j.wheelY=L,10*Math.abs(N)<Math.abs(L)&&(N=0),10*Math.abs(L)<Math.abs(N)&&(L=0),F!=0&&(_=N/F,x=L/F),u._emit("mousewheel",j),j.propagationStopped||(_=x=0)}else{var W=new o(R,u),B=W.getDocumentPosition();c=="cursor"?u.selection.moveCursorToPosition(B):c=="anchor"&&u.selection.setSelectionAnchor(B.row,B.column),u.renderer.scrollCursorIntoView(B),R.preventDefault()}}},u);function I(){y+=60,g=setInterval(function(){y--<=0&&(clearInterval(g),g=null),Math.abs(_)<.01&&(_=0),Math.abs(x)<.01&&(x=0),y<20&&(_=.9*_),y<20&&(x=.9*x);var R=u.session.getScrollTop();u.renderer.scrollBy(10*_,10*x),R==u.session.getScrollTop()&&(y=0)},10)}}}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(n,r,i){var o=n("../lib/event"),s=n("../lib/useragent"),a=n("./default_handlers").DefaultHandlers,l=n("./default_gutter_handler").GutterHandler,u=n("./mouse_event").MouseEvent,c=n("./dragdrop_handler").DragdropHandler,d=n("./touch_handler").addTouchListeners,h=n("../config"),f=function(){function p(m){this.$dragDelay,this.$dragEnabled,this.$mouseMoved,this.mouseEvent,this.$focusTimeout;var g=this;this.editor=m,new a(this),new l(this),new c(this);var y=function(_){var x=!document.hasFocus||!document.hasFocus()||!m.isFocused()&&document.activeElement==(m.textInput&&m.textInput.getElement());x&&window.focus(),m.focus(),setTimeout(function(){m.isFocused()||m.focus()})},v=m.renderer.getMouseEventTarget();o.addListener(v,"click",this.onMouseEvent.bind(this,"click"),m),o.addListener(v,"mousemove",this.onMouseMove.bind(this,"mousemove"),m),o.addMultiMouseDownListener([v,m.renderer.scrollBarV&&m.renderer.scrollBarV.inner,m.renderer.scrollBarH&&m.renderer.scrollBarH.inner,m.textInput&&m.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",m),o.addMouseWheelListener(m.container,this.onMouseWheel.bind(this,"mousewheel"),m),d(m.container,m);var b=m.renderer.$gutter;o.addListener(b,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),m),o.addListener(b,"click",this.onMouseEvent.bind(this,"gutterclick"),m),o.addListener(b,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),m),o.addListener(b,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),m),o.addListener(v,"mousedown",y,m),o.addListener(b,"mousedown",y,m),s.isIE&&m.renderer.scrollBarV&&(o.addListener(m.renderer.scrollBarV.element,"mousedown",y,m),o.addListener(m.renderer.scrollBarH.element,"mousedown",y,m)),m.on("mousemove",function(_){if(!(g.state||g.$dragDelay||!g.$dragEnabled)){var x=m.renderer.screenToTextCoordinates(_.x,_.y),w=m.session.selection.getRange(),E=m.renderer;!w.isEmpty()&&w.insideStart(x.row,x.column)?E.setCursorStyle("default"):E.setCursorStyle("")}},m)}return p.prototype.onMouseEvent=function(m,g){this.editor.session&&this.editor._emit(m,new u(g,this.editor))},p.prototype.onMouseMove=function(m,g){var y=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;!y||!y.length||this.editor._emit(m,new u(g,this.editor))},p.prototype.onMouseWheel=function(m,g){var y=new u(g,this.editor);y.speed=this.$scrollSpeed*2,y.wheelX=g.wheelX,y.wheelY=g.wheelY,this.editor._emit(m,y)},p.prototype.setState=function(m){this.state=m},p.prototype.captureMouse=function(m,g){this.x=m.x,this.y=m.y,this.isMousePressed=!0;var y=this.editor,v=this.editor.renderer;v.$isMousePressed=!0;var b=this,_=function(T){if(T){if(s.isWebKit&&!T.which&&b.releaseMouse)return b.releaseMouse();b.x=T.clientX,b.y=T.clientY,g&&g(T),b.mouseEvent=new u(T,b.editor),b.$mouseMoved=!0}},x=function(T){y.off("beforeEndOperation",E),clearInterval(S),y.session&&w(),b[b.state+"End"]&&b[b.state+"End"](T),b.state="",b.isMousePressed=v.$isMousePressed=!1,v.$keepTextAreaAtCursor&&v.$moveTextAreaToCursor(),b.$onCaptureMouseMove=b.releaseMouse=null,T&&b.onMouseEvent("mouseup",T),y.endOperation()},w=function(){b[b.state]&&b[b.state](),b.$mouseMoved=!1};if(s.isOldIE&&m.domEvent.type=="dblclick")return setTimeout(function(){x(m)});var E=function(T){b.releaseMouse&&y.curOp.command.name&&y.curOp.selectionChanged&&(b[b.state+"End"]&&b[b.state+"End"](),b.state="",b.releaseMouse())};y.on("beforeEndOperation",E),y.startOperation({command:{name:"mouse"}}),b.$onCaptureMouseMove=_,b.releaseMouse=o.capture(this.editor.container,_,x);var S=setInterval(w,20)},p.prototype.cancelContextMenu=function(){var m=(function(g){g&&g.domEvent&&g.domEvent.type!="contextmenu"||(this.editor.off("nativecontextmenu",m),g&&g.domEvent&&o.stopEvent(g.domEvent))}).bind(this);setTimeout(m,10),this.editor.on("nativecontextmenu",m)},p.prototype.destroy=function(){this.releaseMouse&&this.releaseMouse()},p}();f.prototype.releaseMouse=null,h.defineOptions(f.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:s.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),r.MouseHandler=f}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(n,r,i){var o=n("../lib/dom"),s=function(){function a(l){l.on("click",function(u){var c=u.getDocumentPosition(),d=l.session,h=d.getFoldAt(c.row,c.column,1);h&&(u.getAccelKey()?d.removeFold(h):d.expandFold(h),u.stop());var f=u.domEvent&&u.domEvent.target;f&&o.hasCssClass(f,"ace_inline_button")&&o.hasCssClass(f,"ace_toggle_wrap")&&(d.setOption("wrap",!d.getUseWrapMode()),l.renderer.scrollCursorIntoView())}),l.on("gutterclick",function(u){var c=l.renderer.$gutterLayer.getRegion(u);if(c=="foldWidgets"){var d=u.getDocumentPosition().row,h=l.session;h.foldWidgets&&h.foldWidgets[d]&&l.session.onFoldWidgetClick(d,u),l.isFocused()||l.focus(),u.stop()}}),l.on("gutterdblclick",function(u){var c=l.renderer.$gutterLayer.getRegion(u);if(c=="foldWidgets"){var d=u.getDocumentPosition().row,h=l.session,f=h.getParentFoldRangeData(d,!0),p=f.range||f.firstRange;if(p){d=p.start.row;var m=h.getFoldAt(d,h.getLine(d).length,1);m?h.removeFold(m):(h.addFold("...",p),l.renderer.scrollCursorIntoView({row:p.start.row,column:0}))}u.stop()}})}return a}();r.FoldHandler=s}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(n,r,i){var o=n("../lib/keys"),s=n("../lib/event"),a=function(){function l(u){this.$editor=u,this.$data={editor:u},this.$handlers=[],this.setDefaultHandler(u.commands)}return l.prototype.setDefaultHandler=function(u){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=u,this.addKeyboardHandler(u,0)},l.prototype.setKeyboardHandler=function(u){var c=this.$handlers;if(c[c.length-1]!=u){for(;c[c.length-1]&&c[c.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(c[c.length-1]);this.addKeyboardHandler(u,1)}},l.prototype.addKeyboardHandler=function(u,c){if(u){typeof u=="function"&&!u.handleKeyboard&&(u.handleKeyboard=u);var d=this.$handlers.indexOf(u);d!=-1&&this.$handlers.splice(d,1),c==null?this.$handlers.push(u):this.$handlers.splice(c,0,u),d==-1&&u.attach&&u.attach(this.$editor)}},l.prototype.removeKeyboardHandler=function(u){var c=this.$handlers.indexOf(u);return c==-1?!1:(this.$handlers.splice(c,1),u.detach&&u.detach(this.$editor),!0)},l.prototype.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},l.prototype.getStatusText=function(){var u=this.$data,c=u.editor;return this.$handlers.map(function(d){return d.getStatusText&&d.getStatusText(c,u)||""}).filter(Boolean).join(" ")},l.prototype.$callKeyboardHandlers=function(u,c,d,h){for(var f,p=!1,m=this.$editor.commands,g=this.$handlers.length;g--&&(f=this.$handlers[g].handleKeyboard(this.$data,u,c,d,h),!(!(!f||!f.command)&&(f.command=="null"?p=!0:p=m.exec(f.command,this.$editor,f.args,h),p&&h&&u!=-1&&f.passEvent!=!0&&f.command.passEvent!=!0&&s.stopEvent(h),p))););return!p&&u==-1&&(f={command:"insertstring"},p=m.exec("insertstring",this.$editor,c)),p&&this.$editor._signal&&this.$editor._signal("keyboardActivity",f),p},l.prototype.onCommandKey=function(u,c,d){var h=o.keyCodeToString(d);return this.$callKeyboardHandlers(c,h,d,u)},l.prototype.onTextInput=function(u){return this.$callKeyboardHandlers(-1,u)},l}();r.KeyBinding=a}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(n,r,i){var o=0,s=0,a=!1,l=!1,u=!1,c=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],h=0,f=1,p=0,m=1,g=2,y=3,v=4,b=5,_=6,x=7,w=8,E=9,S=10,T=11,C=12,D=13,$=14,I=15,R=16,A=17,M=18,N=[M,M,M,M,M,M,M,M,M,_,b,_,w,b,M,M,M,M,M,M,M,M,M,M,M,M,M,M,b,b,b,_,w,v,v,T,T,T,v,v,v,v,v,S,E,S,E,E,g,g,g,g,g,g,g,g,g,g,E,v,v,v,v,v,v,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,v,v,v,v,v,v,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,v,v,v,v,M,M,M,M,M,M,b,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,E,v,T,T,T,T,v,v,v,v,p,v,v,M,v,v,T,T,g,g,v,p,v,v,v,g,p,v,v,v,v,v],L=[w,w,w,w,w,w,w,w,w,w,w,M,M,M,p,m,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,w,b,D,$,I,R,A,E,T,T,T,T,T,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,E,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,w];function z(B,H,V,G){var ne=o?d:c,X=null,te=null,se=null,ve=0,pe=null,Ge=null,Ne=-1,Ke=null,Je=null,Ae=[];if(!G)for(Ke=0,G=[];Ke<V;Ke++)G[Ke]=W(B[Ke]);for(s=o,a=!1,l=!1,u=!1,Je=0;Je<V;Je++){if(X=ve,Ae[Je]=te=j(B,G,Ae,Je),ve=ne[X][te],pe=ve&240,ve&=15,H[Je]=se=ne[ve][5],pe>0)if(pe==16){for(Ke=Ne;Ke<Je;Ke++)H[Ke]=1;Ne=-1}else Ne=-1;if(Ge=ne[ve][6],Ge)Ne==-1&&(Ne=Je);else if(Ne>-1){for(Ke=Ne;Ke<Je;Ke++)H[Ke]=se;Ne=-1}G[Je]==b&&(H[Je]=0),s|=se}if(u){for(Ke=0;Ke<V;Ke++)if(G[Ke]==_){H[Ke]=o;for(var $e=Ke-1;$e>=0&&G[$e]==w;$e--)H[$e]=o}}}function F(B,H,V){if(!(s<B)){if(B==1&&o==f&&!l){V.reverse();return}for(var G=V.length,ne=0,X,te,se,ve;ne<G;){if(H[ne]>=B){for(X=ne+1;X<G&&H[X]>=B;)X++;for(te=ne,se=X-1;te<se;te++,se--)ve=V[te],V[te]=V[se],V[se]=ve;ne=X}ne++}}}function j(B,H,V,G){var ne=H[G],X,te,se,ve;switch(ne){case p:case m:a=!1;case v:case y:return ne;case g:return a?y:g;case x:return a=!0,m;case w:return v;case E:return G<1||G+1>=H.length||(X=V[G-1])!=g&&X!=y||(te=H[G+1])!=g&&te!=y?v:(a&&(te=y),te==X?te:v);case S:return X=G>0?V[G-1]:b,X==g&&G+1<H.length&&H[G+1]==g?g:v;case T:if(G>0&&V[G-1]==g)return g;if(a)return v;for(ve=G+1,se=H.length;ve<se&&H[ve]==T;)ve++;return ve<se&&H[ve]==g?g:v;case C:for(se=H.length,ve=G+1;ve<se&&H[ve]==C;)ve++;if(ve<se){var pe=B[G],Ge=pe>=1425&&pe<=2303||pe==64286;if(X=H[ve],Ge&&(X==m||X==x))return m}return G<1||(X=H[G-1])==b?v:V[G-1];case b:return a=!1,l=!0,o;case _:return u=!0,v;case D:case $:case R:case A:case I:a=!1;case M:return v}}function W(B){var H=B.charCodeAt(0),V=H>>8;return V==0?H>191?p:N[H]:V==5?/[\u0591-\u05f4]/.test(B)?m:p:V==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(B)?C:/[\u0660-\u0669\u066b-\u066c]/.test(B)?y:H==1642?T:/[\u06f0-\u06f9]/.test(B)?g:x:V==32&&H<=8287?L[H&255]:V==254&&H>=65136?x:v}r.L=p,r.R=m,r.EN=g,r.ON_R=3,r.AN=4,r.R_H=5,r.B=6,r.RLE=7,r.DOT="",r.doBidiReorder=function(B,H,V){if(B.length<2)return{};var G=B.split(""),ne=new Array(G.length),X=new Array(G.length),te=[];o=V?f:h,z(G,te,G.length,H);for(var se=0;se<ne.length;ne[se]=se,se++);F(2,te,ne),F(1,te,ne);for(var se=0;se<ne.length-1;se++)H[se]===y?te[se]=r.AN:te[se]===m&&(H[se]>x&&H[se]<D||H[se]===v||H[se]===M)?te[se]=r.ON_R:se>0&&G[se-1]===""&&/\u0622|\u0623|\u0625|\u0627/.test(G[se])&&(te[se-1]=te[se]=r.R_H,se++);G[G.length-1]===r.DOT&&(te[G.length-1]=r.B),G[0]===""&&(te[0]=r.RLE);for(var se=0;se<ne.length;se++)X[se]=te[ne[se]];return{logicalFromVisual:ne,bidiLevels:X}},r.hasBidiCharacters=function(B,H){for(var V=!1,G=0;G<B.length;G++)H[G]=W(B.charAt(G)),!V&&(H[G]==m||H[G]==x||H[G]==y)&&(V=!0);return V},r.getVisualFromLogicalIdx=function(B,H){for(var V=0;V<H.logicalFromVisual.length;V++)if(H.logicalFromVisual[V]==B)return V;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(n,r,i){var o=n("./lib/bidiutil"),s=n("./lib/lang"),a=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,l=function(){function u(c){this.session=c,this.bidiMap={},this.currentRow=null,this.bidiUtil=o,this.charWidths=[],this.EOL="",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="",this.RLE="",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=a.test(c.getValue())}return u.prototype.isBidiRow=function(c,d,h){return this.seenBidi?(c!==this.currentRow&&(this.currentRow=c,this.updateRowLine(d,h),this.updateBidiMap()),this.bidiMap.bidiLevels):!1},u.prototype.onChange=function(c){this.seenBidi?this.currentRow=null:c.action=="insert"&&a.test(c.lines.join(`
`))&&(this.seenBidi=!0,this.currentRow=null)},u.prototype.getDocumentRow=function(){var c=0,d=this.session.$screenRowCache;if(d.length){var h=this.session.$getRowCacheIndex(d,this.currentRow);h>=0&&(c=this.session.$docRowCache[h])}return c},u.prototype.getSplitIndex=function(){var c=0,d=this.session.$screenRowCache;if(d.length)for(var h,f=this.session.$getRowCacheIndex(d,this.currentRow);this.currentRow-c>0&&(h=this.session.$getRowCacheIndex(d,this.currentRow-c-1),h===f);)f=h,c++;else c=this.currentRow;return c},u.prototype.updateRowLine=function(c,d){c===void 0&&(c=this.getDocumentRow());var h=c===this.session.getLength()-1,f=h?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(c),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var p=this.session.$wrapData[c];p&&(d===void 0&&(d=this.getSplitIndex()),d>0&&p.length?(this.wrapIndent=p.indent,this.wrapOffset=this.wrapIndent*this.charWidths[o.L],this.line=d<p.length?this.line.substring(p[d-1],p[d]):this.line.substring(p[p.length-1])):this.line=this.line.substring(0,p[d]),d==p.length&&(this.line+=this.showInvisibles?f:o.DOT))}else this.line+=this.showInvisibles?f:o.DOT;var m=this.session,g=0,y;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(v,b){return v==="	"||m.isFullWidth(v.charCodeAt(0))?(y=v==="	"?m.getScreenTabSize(b+g):2,g+=y-1,s.stringRepeat(o.DOT,y)):v}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==o.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},u.prototype.updateBidiMap=function(){var c=[];o.hasBidiCharacters(this.line,c)||this.isRtlDir?this.bidiMap=o.doBidiReorder(this.line,c,this.isRtlDir):this.bidiMap={}},u.prototype.markAsDirty=function(){this.currentRow=null},u.prototype.updateCharacterWidths=function(c){if(this.characterWidth!==c.$characterSize.width){this.fontMetrics=c;var d=this.characterWidth=c.$characterSize.width,h=c.$measureCharWidth("");this.charWidths[o.L]=this.charWidths[o.EN]=this.charWidths[o.ON_R]=d,this.charWidths[o.R]=this.charWidths[o.AN]=h,this.charWidths[o.R_H]=h*.45,this.charWidths[o.B]=this.charWidths[o.RLE]=0,this.currentRow=null}},u.prototype.setShowInvisibles=function(c){this.showInvisibles=c,this.currentRow=null},u.prototype.setEolChar=function(c){this.EOL=c},u.prototype.setContentWidth=function(c){this.contentWidth=c},u.prototype.isRtlLine=function(c){return this.$isRtl?!0:c!=null?this.session.getLine(c).charAt(0)==this.RLE:this.isRtlDir},u.prototype.setRtlDirection=function(c,d){for(var h=c.getCursorPosition(),f=c.selection.getSelectionAnchor().row;f<=h.row;f++)!d&&c.session.getLine(f).charAt(0)===c.session.$bidiHandler.RLE?c.session.doc.removeInLine(f,0,1):d&&c.session.getLine(f).charAt(0)!==c.session.$bidiHandler.RLE&&c.session.doc.insert({column:0,row:f},c.session.$bidiHandler.RLE)},u.prototype.getPosLeft=function(c){c-=this.wrapIndent;var d=this.line.charAt(0)===this.RLE?1:0,h=c>d?this.session.getOverwrite()?c:c-1:d,f=o.getVisualFromLogicalIdx(h,this.bidiMap),p=this.bidiMap.bidiLevels,m=0;!this.session.getOverwrite()&&c<=d&&p[f]%2!==0&&f++;for(var g=0;g<f;g++)m+=this.charWidths[p[g]];return!this.session.getOverwrite()&&c>d&&p[f]%2===0&&(m+=this.charWidths[p[f]]),this.wrapIndent&&(m+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(m+=this.rtlLineOffset),m},u.prototype.getSelections=function(c,d){var h=this.bidiMap,f=h.bidiLevels,p,m=[],g=0,y=Math.min(c,d)-this.wrapIndent,v=Math.max(c,d)-this.wrapIndent,b=!1,_=!1,x=0;this.wrapIndent&&(g+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var w,E=0;E<f.length;E++)w=h.logicalFromVisual[E],p=f[E],b=w>=y&&w<v,b&&!_?x=g:!b&&_&&m.push({left:x,width:g-x}),g+=this.charWidths[p],_=b;if(b&&E===f.length&&m.push({left:x,width:g-x}),this.isRtlDir)for(var S=0;S<m.length;S++)m[S].left+=this.rtlLineOffset;return m},u.prototype.offsetToCol=function(h){this.isRtlDir&&(h-=this.rtlLineOffset);var d=0,h=Math.max(h,0),f=0,p=0,m=this.bidiMap.bidiLevels,g=this.charWidths[m[p]];for(this.wrapIndent&&(h-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);h>f+g/2;){if(f+=g,p===m.length-1){g=0;break}g=this.charWidths[m[++p]]}return p>0&&m[p-1]%2!==0&&m[p]%2===0?(h<f&&p--,d=this.bidiMap.logicalFromVisual[p]):p>0&&m[p-1]%2===0&&m[p]%2!==0?d=1+(h>f?this.bidiMap.logicalFromVisual[p]:this.bidiMap.logicalFromVisual[p-1]):this.isRtlDir&&p===m.length-1&&g===0&&m[p-1]%2===0||!this.isRtlDir&&p===0&&m[p]%2!==0?d=1+this.bidiMap.logicalFromVisual[p]:(p>0&&m[p-1]%2!==0&&g!==0&&p--,d=this.bidiMap.logicalFromVisual[p]),d===0&&this.isRtlDir&&d++,d+this.wrapIndent},u}();r.BidiHandler=l}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(n,r,i){var o=n("./lib/oop"),s=n("./lib/lang"),a=n("./lib/event_emitter").EventEmitter,l=n("./range").Range,u=function(){function c(d){this.session=d,this.doc=d.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var h=this;this.cursor.on("change",function(f){h.$cursorChanged=!0,h.$silent||h._emit("changeCursor"),!h.$isEmpty&&!h.$silent&&h._emit("changeSelection"),!h.$keepDesiredColumnOnChange&&f.old.column!=f.value.column&&(h.$desiredColumn=null)}),this.anchor.on("change",function(){h.$anchorChanged=!0,!h.$isEmpty&&!h.$silent&&h._emit("changeSelection")})}return c.prototype.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},c.prototype.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},c.prototype.getCursor=function(){return this.lead.getPosition()},c.prototype.setAnchor=function(d,h){this.$isEmpty=!1,this.anchor.setPosition(d,h)},c.prototype.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},c.prototype.getSelectionLead=function(){return this.lead.getPosition()},c.prototype.isBackwards=function(){var d=this.anchor,h=this.lead;return d.row>h.row||d.row==h.row&&d.column>h.column},c.prototype.getRange=function(){var d=this.anchor,h=this.lead;return this.$isEmpty?l.fromPoints(h,h):this.isBackwards()?l.fromPoints(h,d):l.fromPoints(d,h)},c.prototype.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},c.prototype.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},c.prototype.setRange=function(d,h){var f=h?d.end:d.start,p=h?d.start:d.end;this.$setSelection(f.row,f.column,p.row,p.column)},c.prototype.$setSelection=function(d,h,f,p){if(!this.$silent){var m=this.$isEmpty,g=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(d,h),this.cursor.setPosition(f,p),this.$isEmpty=!l.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||m!=this.$isEmpty||g)&&this._emit("changeSelection")}},c.prototype.$moveSelection=function(d){var h=this.lead;this.$isEmpty&&this.setSelectionAnchor(h.row,h.column),d.call(this)},c.prototype.selectTo=function(d,h){this.$moveSelection(function(){this.moveCursorTo(d,h)})},c.prototype.selectToPosition=function(d){this.$moveSelection(function(){this.moveCursorToPosition(d)})},c.prototype.moveTo=function(d,h){this.clearSelection(),this.moveCursorTo(d,h)},c.prototype.moveToPosition=function(d){this.clearSelection(),this.moveCursorToPosition(d)},c.prototype.selectUp=function(){this.$moveSelection(this.moveCursorUp)},c.prototype.selectDown=function(){this.$moveSelection(this.moveCursorDown)},c.prototype.selectRight=function(){this.$moveSelection(this.moveCursorRight)},c.prototype.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},c.prototype.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},c.prototype.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},c.prototype.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},c.prototype.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},c.prototype.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},c.prototype.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},c.prototype.getWordRange=function(d,h){if(typeof h>"u"){var f=d||this.lead;d=f.row,h=f.column}return this.session.getWordRange(d,h)},c.prototype.selectWord=function(){this.setSelectionRange(this.getWordRange())},c.prototype.selectAWord=function(){var d=this.getCursor(),h=this.session.getAWordRange(d.row,d.column);this.setSelectionRange(h)},c.prototype.getLineRange=function(d,h){var f=typeof d=="number"?d:this.lead.row,p,m=this.session.getFoldLine(f);return m?(f=m.start.row,p=m.end.row):p=f,h===!0?new l(f,0,p,this.session.getLine(p).length):new l(f,0,p+1,0)},c.prototype.selectLine=function(){this.setSelectionRange(this.getLineRange())},c.prototype.moveCursorUp=function(){this.moveCursorBy(-1,0)},c.prototype.moveCursorDown=function(){this.moveCursorBy(1,0)},c.prototype.wouldMoveIntoSoftTab=function(d,h,f){var p=d.column,m=d.column+h;return f<0&&(p=d.column-h,m=d.column),this.session.isTabStop(d)&&this.doc.getLine(d.row).slice(p,m).split(" ").length-1==h},c.prototype.moveCursorLeft=function(){var d=this.lead.getPosition(),h;if(h=this.session.getFoldAt(d.row,d.column,-1))this.moveCursorTo(h.start.row,h.start.column);else if(d.column===0)d.row>0&&this.moveCursorTo(d.row-1,this.doc.getLine(d.row-1).length);else{var f=this.session.getTabSize();this.wouldMoveIntoSoftTab(d,f,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-f):this.moveCursorBy(0,-1)}},c.prototype.moveCursorRight=function(){var d=this.lead.getPosition(),h;if(h=this.session.getFoldAt(d.row,d.column,1))this.moveCursorTo(h.end.row,h.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var f=this.session.getTabSize(),d=this.lead;this.wouldMoveIntoSoftTab(d,f,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,f):this.moveCursorBy(0,1)}},c.prototype.moveCursorLineStart=function(){var d=this.lead.row,h=this.lead.column,f=this.session.documentToScreenRow(d,h),p=this.session.screenToDocumentPosition(f,0),m=this.session.getDisplayLine(d,null,p.row,p.column),g=m.match(/^\s*/);g[0].length!=h&&!this.session.$useEmacsStyleLineStart&&(p.column+=g[0].length),this.moveCursorToPosition(p)},c.prototype.moveCursorLineEnd=function(){var d=this.lead,h=this.session.getDocumentLastRowColumnPosition(d.row,d.column);if(this.lead.column==h.column){var f=this.session.getLine(h.row);if(h.column==f.length){var p=f.search(/\s+$/);p>0&&(h.column=p)}}this.moveCursorTo(h.row,h.column)},c.prototype.moveCursorFileEnd=function(){var d=this.doc.getLength()-1,h=this.doc.getLine(d).length;this.moveCursorTo(d,h)},c.prototype.moveCursorFileStart=function(){this.moveCursorTo(0,0)},c.prototype.moveCursorLongWordRight=function(){var d=this.lead.row,h=this.lead.column,f=this.doc.getLine(d),p=f.substring(h);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var m=this.session.getFoldAt(d,h,1);if(m){this.moveCursorTo(m.end.row,m.end.column);return}if(this.session.nonTokenRe.exec(p)&&(h+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,p=f.substring(h)),h>=f.length){this.moveCursorTo(d,f.length),this.moveCursorRight(),d<this.doc.getLength()-1&&this.moveCursorWordRight();return}this.session.tokenRe.exec(p)&&(h+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(d,h)},c.prototype.moveCursorLongWordLeft=function(){var d=this.lead.row,h=this.lead.column,f;if(f=this.session.getFoldAt(d,h,-1)){this.moveCursorTo(f.start.row,f.start.column);return}var p=this.session.getFoldStringAt(d,h,-1);p==null&&(p=this.doc.getLine(d).substring(0,h));var m=s.stringReverse(p);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(m)&&(h-=this.session.nonTokenRe.lastIndex,m=m.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),h<=0){this.moveCursorTo(d,0),this.moveCursorLeft(),d>0&&this.moveCursorWordLeft();return}this.session.tokenRe.exec(m)&&(h-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(d,h)},c.prototype.$shortWordEndIndex=function(d){var h=0,f,p=/\s/,m=this.session.tokenRe;if(m.lastIndex=0,this.session.tokenRe.exec(d))h=this.session.tokenRe.lastIndex;else{for(;(f=d[h])&&p.test(f);)h++;if(h<1){for(m.lastIndex=0;(f=d[h])&&!m.test(f);)if(m.lastIndex=0,h++,p.test(f))if(h>2){h--;break}else{for(;(f=d[h])&&p.test(f);)h++;if(h>2)break}}}return m.lastIndex=0,h},c.prototype.moveCursorShortWordRight=function(){var d=this.lead.row,h=this.lead.column,f=this.doc.getLine(d),p=f.substring(h),m=this.session.getFoldAt(d,h,1);if(m)return this.moveCursorTo(m.end.row,m.end.column);if(h==f.length){var g=this.doc.getLength();do d++,p=this.doc.getLine(d);while(d<g&&/^\s*$/.test(p));/^\s+/.test(p)||(p=""),h=0}var y=this.$shortWordEndIndex(p);this.moveCursorTo(d,h+y)},c.prototype.moveCursorShortWordLeft=function(){var d=this.lead.row,h=this.lead.column,f;if(f=this.session.getFoldAt(d,h,-1))return this.moveCursorTo(f.start.row,f.start.column);var p=this.session.getLine(d).substring(0,h);if(h===0){do d--,p=this.doc.getLine(d);while(d>0&&/^\s*$/.test(p));h=p.length,/\s+$/.test(p)||(p="")}var m=s.stringReverse(p),g=this.$shortWordEndIndex(m);return this.moveCursorTo(d,h-g)},c.prototype.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},c.prototype.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},c.prototype.moveCursorBy=function(d,h){var f=this.session.documentToScreenPosition(this.lead.row,this.lead.column),p;if(h===0&&(d!==0&&(this.session.$bidiHandler.isBidiRow(f.row,this.lead.row)?(p=this.session.$bidiHandler.getPosLeft(f.column),f.column=Math.round(p/this.session.$bidiHandler.charWidths[0])):p=f.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?f.column=this.$desiredColumn:this.$desiredColumn=f.column),d!=0&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var m=this.session.lineWidgets[this.lead.row];d<0?d-=m.rowsAbove||0:d>0&&(d+=m.rowCount-(m.rowsAbove||0))}var g=this.session.screenToDocumentPosition(f.row+d,f.column,p);d!==0&&h===0&&g.row===this.lead.row&&(g.column,this.lead.column),this.moveCursorTo(g.row,g.column+h,h===0)},c.prototype.moveCursorToPosition=function(d){this.moveCursorTo(d.row,d.column)},c.prototype.moveCursorTo=function(d,h,f){var p=this.session.getFoldAt(d,h,1);p&&(d=p.start.row,h=p.start.column),this.$keepDesiredColumnOnChange=!0;var m=this.session.getLine(d);/[\uDC00-\uDFFF]/.test(m.charAt(h))&&m.charAt(h-1)&&(this.lead.row==d&&this.lead.column==h+1?h=h-1:h=h+1),this.lead.setPosition(d,h),this.$keepDesiredColumnOnChange=!1,f||(this.$desiredColumn=null)},c.prototype.moveCursorToScreen=function(d,h,f){var p=this.session.screenToDocumentPosition(d,h);this.moveCursorTo(p.row,p.column,f)},c.prototype.detach=function(){this.lead.detach(),this.anchor.detach()},c.prototype.fromOrientedRange=function(d){this.setSelectionRange(d,d.cursor==d.start),this.$desiredColumn=d.desiredColumn||this.$desiredColumn},c.prototype.toOrientedRange=function(d){var h=this.getRange();return d?(d.start.column=h.start.column,d.start.row=h.start.row,d.end.column=h.end.column,d.end.row=h.end.row):d=h,d.cursor=this.isBackwards()?d.start:d.end,d.desiredColumn=this.$desiredColumn,d},c.prototype.getRangeOfMovements=function(d){var h=this.getCursor();try{d(this);var f=this.getCursor();return l.fromPoints(h,f)}catch{return l.fromPoints(h,h)}finally{this.moveCursorToPosition(h)}},c.prototype.toJSON=function(){if(this.rangeCount)var d=this.ranges.map(function(h){var f=h.clone();return f.isBackwards=h.cursor==h.start,f});else{var d=this.getRange();d.isBackwards=this.isBackwards()}return d},c.prototype.fromJSON=function(d){if(d.start==null)if(this.rangeList&&d.length>1){this.toSingleRange(d[0]);for(var h=d.length;h--;){var f=l.fromPoints(d[h].start,d[h].end);d[h].isBackwards&&(f.cursor=f.start),this.addRange(f,!0)}return}else d=d[0];this.rangeList&&this.toSingleRange(d),this.setSelectionRange(d,d.isBackwards)},c.prototype.isEqual=function(d){if((d.length||this.rangeCount)&&d.length!=this.rangeCount)return!1;if(!d.length||!this.ranges)return this.getRange().isEqual(d);for(var h=this.ranges.length;h--;)if(!this.ranges[h].isEqual(d[h]))return!1;return!0},c}();u.prototype.setSelectionAnchor=u.prototype.setAnchor,u.prototype.getSelectionAnchor=u.prototype.getAnchor,u.prototype.setSelectionRange=u.prototype.setRange,o.implement(u.prototype,a),r.Selection=u}),ace.define("ace/tokenizer",["require","exports","module","ace/lib/report_error"],function(n,r,i){var o=n("./lib/report_error").reportError,s=2e3,a=function(){function l(u){this.splitRegex,this.states=u,this.regExps={},this.matchMappings={};for(var c in this.states){for(var d=this.states[c],h=[],f=0,p=this.matchMappings[c]={defaultToken:"text"},m="g",g=[],y=0;y<d.length;y++){var v=d[y];if(v.defaultToken&&(p.defaultToken=v.defaultToken),v.caseInsensitive&&m.indexOf("i")===-1&&(m+="i"),v.unicode&&m.indexOf("u")===-1&&(m+="u"),v.regex!=null){v.regex instanceof RegExp&&(v.regex=v.regex.toString().slice(1,-1));var b=v.regex,_=new RegExp("(?:("+b+")|(.))").exec("a").length-2;Array.isArray(v.token)?v.token.length==1||_==1?v.token=v.token[0]:_-1!=v.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:v,groupCount:_-1}),v.token=v.token[0]):(v.tokenArray=v.token,v.token=null,v.onMatch=this.$arrayTokens):typeof v.token=="function"&&!v.onMatch&&(_>1?v.onMatch=this.$applyToken:v.onMatch=v.token),_>1&&(/\\\d/.test(v.regex)?b=v.regex.replace(/\\([0-9]+)/g,function(x,w){return"\\"+(parseInt(w,10)+f+1)}):(_=1,b=this.removeCapturingGroups(v.regex)),!v.splitRegex&&typeof v.token!="string"&&g.push(v)),p[f]=y,f+=_,h.push(b),v.onMatch||(v.onMatch=null)}}h.length||(p[0]=0,h.push("$")),g.forEach(function(x){x.splitRegex=this.createSplitterRegexp(x.regex,m)},this),this.regExps[c]=new RegExp("("+h.join(")|(")+")|($)",m)}}return l.prototype.$setMaxTokenCount=function(u){s=u|0},l.prototype.$applyToken=function(u){var c=this.splitRegex.exec(u).slice(1),d=this.token.apply(this,c);if(typeof d=="string")return[{type:d,value:u}];for(var h=[],f=0,p=d.length;f<p;f++)c[f]&&(h[h.length]={type:d[f],value:c[f]});return h},l.prototype.$arrayTokens=function(u){if(!u)return[];var c=this.splitRegex.exec(u);if(!c)return"text";for(var d=[],h=this.tokenArray,f=0,p=h.length;f<p;f++)c[f+1]&&(d[d.length]={type:h[f],value:c[f+1]});return d},l.prototype.removeCapturingGroups=function(u){var c=u.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(d,h){return h?"(?:":d});return c},l.prototype.createSplitterRegexp=function(u,c){if(u.indexOf("(?=")!=-1){var d=0,h=!1,f={};u.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(p,m,g,y,v,b){return h?h=v!="]":v?h=!0:y?(d==f.stack&&(f.end=b+1,f.stack=-1),d--):g&&(d++,g.length!=1&&(f.stack=d,f.start=b)),p}),f.end!=null&&/^\)*$/.test(u.substr(f.end))&&(u=u.substring(0,f.start)+u.substr(f.end))}return u.charAt(0)!="^"&&(u="^"+u),u.charAt(u.length-1)!="$"&&(u+="$"),new RegExp(u,(c||"").replace("g",""))},l.prototype.getLineTokens=function(u,c){if(c&&typeof c!="string"){var d=c.slice(0);c=d[0],c==="#tmp"&&(d.shift(),c=d.shift())}else var d=[];var h=c||"start",f=this.states[h];f||(h="start",f=this.states[h]);var p=this.matchMappings[h],m=this.regExps[h];m.lastIndex=0;for(var g,y=[],v=0,b=0,_={type:null,value:""};g=m.exec(u);){var x=p.defaultToken,w=null,E=g[0],S=m.lastIndex;if(S-E.length>v){var T=u.substring(v,S-E.length);_.type==x?_.value+=T:(_.type&&y.push(_),_={type:x,value:T})}for(var C=0;C<g.length-2;C++)if(g[C+1]!==void 0){w=f[p[C]],w.onMatch?x=w.onMatch(E,h,d,u):x=w.token,w.next&&(typeof w.next=="string"?h=w.next:h=w.next(h,d),f=this.states[h],f||(this.reportError("state doesn't exist",h),h="start",f=this.states[h]),p=this.matchMappings[h],v=S,m=this.regExps[h],m.lastIndex=S),w.consumeLineEnd&&(v=S);break}if(E){if(typeof x=="string")(!w||w.merge!==!1)&&_.type===x?_.value+=E:(_.type&&y.push(_),_={type:x,value:E});else if(x){_.type&&y.push(_),_={type:null,value:""};for(var C=0;C<x.length;C++)y.push(x[C])}}if(v==u.length)break;if(v=S,b++>s){for(b>2*u.length&&this.reportError("infinite loop with in ace tokenizer",{startState:c,line:u});v<u.length;)_.type&&y.push(_),_={value:u.substring(v,v+=500),type:"overflow"};h="start",d=[];break}}return _.type&&y.push(_),d.length>1&&d[0]!==h&&d.unshift("#tmp",h),{tokens:y,state:d.length?d:h}},l}();a.prototype.reportError=o,r.Tokenizer=a}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/deep_copy"],function(n,r,i){var o=n("../lib/deep_copy").deepCopy,s;s=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}},(function(){this.addRules=function(u,c){if(!c){for(var d in u)this.$rules[d]=u[d];return}for(var d in u){for(var h=u[d],f=0;f<h.length;f++){var p=h[f];(p.next||p.onMatch)&&(typeof p.next=="string"&&p.next.indexOf(c)!==0&&(p.next=c+p.next),p.nextState&&p.nextState.indexOf(c)!==0&&(p.nextState=c+p.nextState))}this.$rules[c+d]=h}},this.getRules=function(){return this.$rules},this.embedRules=function(u,c,d,h,f){var p=typeof u=="function"?new u().getRules():u;if(h)for(var m=0;m<h.length;m++)h[m]=c+h[m];else{h=[];for(var g in p)h.push(c+g)}if(this.addRules(p,c),d)for(var y=Array.prototype[f?"push":"unshift"],m=0;m<h.length;m++)y.apply(this.$rules[h[m]],o(d));this.$embeds||(this.$embeds=[]),this.$embeds.push(c)},this.getEmbeds=function(){return this.$embeds};var a=function(u,c){return(u!="start"||c.length)&&c.unshift(this.nextState,u),this.nextState},l=function(u,c){return c.shift(),c.shift()||"start"};this.normalizeRules=function(){var u=0,c=this.$rules;function d(h){var f=c[h];f.processed=!0;for(var p=0;p<f.length;p++){var m=f[p],g=null;Array.isArray(m)&&(g=m,m={}),!m.regex&&m.start&&(m.regex=m.start,m.next||(m.next=[]),m.next.push({defaultToken:m.token},{token:m.token+".end",regex:m.end||m.start,next:"pop"}),m.token=m.token+".start",m.push=!0);var y=m.next||m.push;if(y&&Array.isArray(y)){var v=m.stateName;v||(v=m.token,typeof v!="string"&&(v=v[0]||""),c[v]&&(v+=u++)),c[v]=y,m.next=v,d(v)}else y=="pop"&&(m.next=l);if(m.push&&(m.nextState=m.next||m.push,m.next=a,delete m.push),m.rules)for(var b in m.rules)c[b]?c[b].push&&c[b].push.apply(c[b],m.rules[b]):c[b]=m.rules[b];var _=typeof m=="string"?m:m.include;if(_&&(_==="$self"&&(_="start"),Array.isArray(_)?g=_.map(function(w){return c[w]}):g=c[_]),g){var x=[p,1].concat(g);m.noEscape&&(x=x.filter(function(w){return!w.next})),f.splice.apply(f,x),p--}m.keywordMap&&(m.token=this.createKeywordMapper(m.keywordMap,m.defaultToken||"text",m.caseInsensitive),delete m.defaultToken)}}Object.keys(c).forEach(d,this)},this.createKeywordMapper=function(u,c,d,h){var f=Object.create(null);return this.$keywordList=[],Object.keys(u).forEach(function(p){for(var m=u[p],g=m.split(h||"|"),y=g.length;y--;){var v=g[y];this.$keywordList.push(v),d&&(v=v.toLowerCase()),f[v]=p}},this),u=null,d?function(p){return f[p.toLowerCase()]||c}:function(p){return f[p]||c}},this.getKeywords=function(){return this.$keywords}}).call(s.prototype),r.TextHighlightRules=s}),ace.define("ace/mode/behaviour",["require","exports","module"],function(n,r,i){var o;o=function(){this.$behaviours={}},(function(){this.add=function(s,a,l){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[s]:this.$behaviours[s]={}}this.$behaviours[s][a]=l},this.addBehaviours=function(s){for(var a in s)for(var l in s[a])this.add(a,l,s[a][l])},this.remove=function(s){this.$behaviours&&this.$behaviours[s]&&delete this.$behaviours[s]},this.inherit=function(s,a){if(typeof s=="function")var l=new s().getBehaviours(a);else var l=s.getBehaviours(a);this.addBehaviours(l)},this.getBehaviours=function(s){if(s){for(var a={},l=0;l<s.length;l++)this.$behaviours[s[l]]&&(a[s[l]]=this.$behaviours[s[l]]);return a}else return this.$behaviours}}).call(o.prototype),r.Behaviour=o}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(n,r,i){var o=n("./range").Range,s=function(){function a(l,u,c){this.$session=l,this.$row=u,this.$rowTokens=l.getTokens(u);var d=l.getTokenAt(u,c);this.$tokenIndex=d?d.index:-1}return a.prototype.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},a.prototype.stepForward=function(){this.$tokenIndex+=1;for(var l;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,l||(l=this.$session.getLength()),this.$row>=l)return this.$row=l-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},a.prototype.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},a.prototype.getCurrentTokenRow=function(){return this.$row},a.prototype.getCurrentTokenColumn=function(){var l=this.$rowTokens,u=this.$tokenIndex,c=l[u].start;if(c!==void 0)return c;for(c=0;u>0;)u-=1,c+=l[u].value.length;return c},a.prototype.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},a.prototype.getCurrentTokenRange=function(){var l=this.$rowTokens[this.$tokenIndex],u=this.getCurrentTokenColumn();return new o(this.$row,u,this.$row,u+l.value.length)},a}();r.TokenIterator=s}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(n,r,i){var o=n("../../lib/oop"),s=n("../behaviour").Behaviour,a=n("../../token_iterator").TokenIterator,l=n("../../lib/lang"),u=["text","paren.rparen","rparen","paren","punctuation.operator"],c=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],d,h={},f={'"':'"',"'":"'"},p=function(y){var v=-1;if(y.multiSelect&&(v=y.selection.index,h.rangeCount!=y.multiSelect.rangeCount&&(h={rangeCount:y.multiSelect.rangeCount})),h[v])return d=h[v];d=h[v]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},m=function(y,v,b,_){var x=y.end.row-y.start.row;return{text:b+v+_,selection:[0,y.start.column+1,x,y.end.column+(x?0:1)]}},g;g=function(y){y=y||{},this.add("braces","insertion",function(v,b,_,x,w){var E=_.getCursorPosition(),S=x.doc.getLine(E.row);if(w=="{"){p(_);var T=_.getSelectionRange(),C=x.doc.getTextRange(T),D=x.getTokenAt(E.row,E.column);if(C!==""&&C!=="{"&&_.getWrapBehavioursEnabled())return m(T,C,"{","}");if(D&&/(?:string)\.quasi|\.xml/.test(D.type)){var $=[/tag\-(?:open|name)/,/attribute\-name/];return $.some(function(z){return z.test(D.type)})||/(string)\.quasi/.test(D.type)&&D.value[E.column-D.start-1]!=="$"?void 0:(g.recordAutoInsert(_,x,"}"),{text:"{}",selection:[1,1]})}else if(g.isSaneInsertion(_,x))return/[\]\}\)]/.test(S[E.column])||_.inMultiSelectMode||y.braces?(g.recordAutoInsert(_,x,"}"),{text:"{}",selection:[1,1]}):(g.recordMaybeInsert(_,x,"{"),{text:"{",selection:[1,1]})}else if(w=="}"){p(_);var I=S.substring(E.column,E.column+1);if(I=="}"){var R=x.$findOpeningBracket("}",{column:E.column+1,row:E.row});if(R!==null&&g.isAutoInsertedClosing(E,S,w))return g.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else if(w==`
`||w==`\r
`){p(_);var A="";g.isMaybeInsertedClosing(E,S)&&(A=l.stringRepeat("}",d.maybeInsertedBrackets),g.clearMaybeInsertedClosing());var I=S.substring(E.column,E.column+1);if(I==="}"){var M=x.findMatchingBracket({row:E.row,column:E.column+1},"}");if(!M)return null;var N=this.$getIndent(x.getLine(M.row))}else if(A)var N=this.$getIndent(S);else{g.clearMaybeInsertedClosing();return}var L=N+x.getTabString();return{text:`
`+L+`
`+N+A,selection:[1,L.length,1,L.length]}}else g.clearMaybeInsertedClosing()}),this.add("braces","deletion",function(v,b,_,x,w){var E=x.doc.getTextRange(w);if(!w.isMultiLine()&&E=="{"){p(_);var S=x.doc.getLine(w.start.row),T=S.substring(w.end.column,w.end.column+1);if(T=="}")return w.end.column++,w;d.maybeInsertedBrackets--}}),this.add("parens","insertion",function(v,b,_,x,w){if(w=="("){p(_);var E=_.getSelectionRange(),S=x.doc.getTextRange(E);if(S!==""&&_.getWrapBehavioursEnabled())return m(E,S,"(",")");if(g.isSaneInsertion(_,x))return g.recordAutoInsert(_,x,")"),{text:"()",selection:[1,1]}}else if(w==")"){p(_);var T=_.getCursorPosition(),C=x.doc.getLine(T.row),D=C.substring(T.column,T.column+1);if(D==")"){var $=x.$findOpeningBracket(")",{column:T.column+1,row:T.row});if($!==null&&g.isAutoInsertedClosing(T,C,w))return g.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(v,b,_,x,w){var E=x.doc.getTextRange(w);if(!w.isMultiLine()&&E=="("){p(_);var S=x.doc.getLine(w.start.row),T=S.substring(w.start.column+1,w.start.column+2);if(T==")")return w.end.column++,w}}),this.add("brackets","insertion",function(v,b,_,x,w){if(w=="["){p(_);var E=_.getSelectionRange(),S=x.doc.getTextRange(E);if(S!==""&&_.getWrapBehavioursEnabled())return m(E,S,"[","]");if(g.isSaneInsertion(_,x))return g.recordAutoInsert(_,x,"]"),{text:"[]",selection:[1,1]}}else if(w=="]"){p(_);var T=_.getCursorPosition(),C=x.doc.getLine(T.row),D=C.substring(T.column,T.column+1);if(D=="]"){var $=x.$findOpeningBracket("]",{column:T.column+1,row:T.row});if($!==null&&g.isAutoInsertedClosing(T,C,w))return g.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(v,b,_,x,w){var E=x.doc.getTextRange(w);if(!w.isMultiLine()&&E=="["){p(_);var S=x.doc.getLine(w.start.row),T=S.substring(w.start.column+1,w.start.column+2);if(T=="]")return w.end.column++,w}}),this.add("string_dquotes","insertion",function(v,b,_,x,w){var E=x.$mode.$quotes||f;if(w.length==1&&E[w]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(w)!=-1)return;p(_);var S=w,T=_.getSelectionRange(),C=x.doc.getTextRange(T);if(C!==""&&(C.length!=1||!E[C])&&_.getWrapBehavioursEnabled())return m(T,C,S,S);if(!C){var D=_.getCursorPosition(),$=x.doc.getLine(D.row),I=$.substring(D.column-1,D.column),R=$.substring(D.column,D.column+1),A=x.getTokenAt(D.row,D.column),M=x.getTokenAt(D.row,D.column+1);if(I=="\\"&&A&&/escape/.test(A.type))return null;var N=A&&/string|escape/.test(A.type),L=!M||/string|escape/.test(M.type),z;if(R==S)z=N!==L,z&&/string\.end/.test(M.type)&&(z=!1);else{if(N&&!L||N&&L)return null;var F=x.$mode.tokenRe;F.lastIndex=0;var j=F.test(I);F.lastIndex=0;var W=F.test(R),B=x.$mode.$pairQuotesAfter,H=B&&B[S]&&B[S].test(I);if(!H&&j||W||R&&!/[\s;,.})\]\\]/.test(R))return null;var V=$[D.column-2];if(I==S&&(V==S||F.test(V)))return null;z=!0}return{text:z?S+S:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(v,b,_,x,w){var E=x.$mode.$quotes||f,S=x.doc.getTextRange(w);if(!w.isMultiLine()&&E.hasOwnProperty(S)){p(_);var T=x.doc.getLine(w.start.row),C=T.substring(w.start.column+1,w.start.column+2);if(C==S)return w.end.column++,w}}),y.closeDocComment!==!1&&this.add("doc comment end","insertion",function(v,b,_,x,w){if(v==="doc-start"&&(w===`
`||w===`\r
`)&&_.selection.isEmpty()){var E=_.getCursorPosition();if(E.column===0)return;for(var S=x.doc.getLine(E.row),T=x.doc.getLine(E.row+1),C=x.getTokens(E.row),D=0,$=0;$<C.length;$++){D+=C[$].value.length;var I=C[$];if(D>=E.column){if(D===E.column){if(!/\.doc/.test(I.type))return;if(/\*\//.test(I.value)){var R=C[$+1];if(!R||!/\.doc/.test(R.type))return}}var A=E.column-(D-I.value.length),M=I.value.indexOf("*/"),N=I.value.indexOf("/**",M>-1?M+2:0);if(N!==-1&&A>N&&A<N+3||M!==-1&&N!==-1&&A>=M&&A<=N||!/\.doc/.test(I.type))return;break}}var L=this.$getIndent(S);if(/\s*\*/.test(T))return/^\s*\*/.test(S)?{text:w+L+"* ",selection:[1,2+L.length,1,2+L.length]}:{text:w+L+" * ",selection:[1,3+L.length,1,3+L.length]};if(/\/\*\*/.test(S.substring(0,E.column)))return{text:w+L+" * "+w+" "+L+"*/",selection:[1,4+L.length,1,4+L.length]}}})},g.isSaneInsertion=function(y,v){var b=y.getCursorPosition(),_=new a(v,b.row,b.column);if(!this.$matchTokenType(_.getCurrentToken()||"text",u)){if(/[)}\]]/.test(y.session.getLine(b.row)[b.column]))return!0;var x=new a(v,b.row,b.column+1);if(!this.$matchTokenType(x.getCurrentToken()||"text",u))return!1}return _.stepForward(),_.getCurrentTokenRow()!==b.row||this.$matchTokenType(_.getCurrentToken()||"text",c)},g.$matchTokenType=function(y,v){return v.indexOf(y.type||y)>-1},g.recordAutoInsert=function(y,v,b){var _=y.getCursorPosition(),x=v.doc.getLine(_.row);this.isAutoInsertedClosing(_,x,d.autoInsertedLineEnd[0])||(d.autoInsertedBrackets=0),d.autoInsertedRow=_.row,d.autoInsertedLineEnd=b+x.substr(_.column),d.autoInsertedBrackets++},g.recordMaybeInsert=function(y,v,b){var _=y.getCursorPosition(),x=v.doc.getLine(_.row);this.isMaybeInsertedClosing(_,x)||(d.maybeInsertedBrackets=0),d.maybeInsertedRow=_.row,d.maybeInsertedLineStart=x.substr(0,_.column)+b,d.maybeInsertedLineEnd=x.substr(_.column),d.maybeInsertedBrackets++},g.isAutoInsertedClosing=function(y,v,b){return d.autoInsertedBrackets>0&&y.row===d.autoInsertedRow&&b===d.autoInsertedLineEnd[0]&&v.substr(y.column)===d.autoInsertedLineEnd},g.isMaybeInsertedClosing=function(y,v){return d.maybeInsertedBrackets>0&&y.row===d.maybeInsertedRow&&v.substr(y.column)===d.maybeInsertedLineEnd&&v.substr(0,y.column)==d.maybeInsertedLineStart},g.popAutoInsertedClosing=function(){d.autoInsertedLineEnd=d.autoInsertedLineEnd.substr(1),d.autoInsertedBrackets--},g.clearMaybeInsertedClosing=function(){d&&(d.maybeInsertedBrackets=0,d.maybeInsertedRow=-1)},o.inherits(g,s),r.CstyleBehaviour=g}),ace.define("ace/unicode",["require","exports","module"],function(n,r,i){for(var o=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],s=0,a=[],l=0;l<o.length;l+=2)a.push(s+=o[l]),o[l+1]&&a.push(45,s+=o[l+1]);r.wordChars=String.fromCharCode.apply(null,a)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(n,r,i){var o=n("../config"),s=n("../tokenizer").Tokenizer,a=n("./text_highlight_rules").TextHighlightRules,l=n("./behaviour/cstyle").CstyleBehaviour,u=n("../unicode"),c=n("../lib/lang"),d=n("../token_iterator").TokenIterator,h=n("../range").Range,f;f=function(){this.HighlightRules=a},(function(){this.$defaultBehaviour=new l,this.tokenRe=new RegExp("^["+u.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+u.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new s(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(p,m,g,y){var v=m.doc,b=!0,_=!0,x=1/0,w=m.getTabSize(),E=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var C=this.lineCommentStart.map(c.escapeRegExp).join("|"),S=this.lineCommentStart[0];else var C=c.escapeRegExp(this.lineCommentStart),S=this.lineCommentStart;C=new RegExp("^(\\s*)(?:"+C+") ?"),E=m.getUseSoftTabs();var I=function(W,B){var H=W.match(C);if(H){var V=H[1].length,G=H[0].length;!M(W,V,G)&&H[0][G-1]==" "&&G--,v.removeInLine(B,V,G)}},A=S+" ",$=function(W,B){(!b||/\S/.test(W))&&(M(W,x,x)?v.insertInLine({row:B,column:x},A):v.insertInLine({row:B,column:x},S))},R=function(W,B){return C.test(W)},M=function(W,B,H){for(var V=0;B--&&W.charAt(B)==" ";)V++;if(V%w!=0)return!1;for(var V=0;W.charAt(H++)==" ";)V++;return w>2?V%w!=w-1:V%w==0}}else{if(!this.blockComment)return!1;var S=this.blockComment.start,T=this.blockComment.end,C=new RegExp("^(\\s*)(?:"+c.escapeRegExp(S)+")"),D=new RegExp("(?:"+c.escapeRegExp(T)+")\\s*$"),$=function(z,F){R(z,F)||(!b||/\S/.test(z))&&(v.insertInLine({row:F,column:z.length},T),v.insertInLine({row:F,column:x},S))},I=function(z,F){var j;(j=z.match(D))&&v.removeInLine(F,z.length-j[0].length,z.length),(j=z.match(C))&&v.removeInLine(F,j[1].length,j[0].length)},R=function(z,F){if(C.test(z))return!0;for(var j=m.getTokens(F),W=0;W<j.length;W++)if(j[W].type==="comment")return!0}}function N(z){for(var F=g;F<=y;F++)z(v.getLine(F),F)}var L=1/0;N(function(z,F){var j=z.search(/\S/);j!==-1?(j<x&&(x=j),_&&!R(z,F)&&(_=!1)):L>z.length&&(L=z.length)}),x==1/0&&(x=L,b=!1,_=!1),E&&x%w!=0&&(x=Math.floor(x/w)*w),N(_?I:$)},this.toggleBlockComment=function(p,m,g,y){var v=this.blockComment;if(v){!v.start&&v[0]&&(v=v[0]);var b=new d(m,y.row,y.column),_=b.getCurrentToken();m.selection;var x=m.selection.toOrientedRange(),w,E;if(_&&/comment/.test(_.type)){for(var S,T;_&&/comment/.test(_.type);){var C=_.value.indexOf(v.start);if(C!=-1){var D=b.getCurrentTokenRow(),$=b.getCurrentTokenColumn()+C;S=new h(D,$,D,$+v.start.length);break}_=b.stepBackward()}for(var b=new d(m,y.row,y.column),_=b.getCurrentToken();_&&/comment/.test(_.type);){var C=_.value.indexOf(v.end);if(C!=-1){var D=b.getCurrentTokenRow(),$=b.getCurrentTokenColumn()+C;T=new h(D,$,D,$+v.end.length);break}_=b.stepForward()}T&&m.remove(T),S&&(m.remove(S),w=S.start.row,E=-v.start.length)}else E=v.start.length,w=g.start.row,m.insert(g.end,v.end),m.insert(g.start,v.start);x.start.row==w&&(x.start.column+=E),x.end.row==w&&(x.end.column+=E),m.selection.fromOrientedRange(x)}},this.getNextLineIndent=function(p,m,g){return this.$getIndent(m)},this.checkOutdent=function(p,m,g){return!1},this.autoOutdent=function(p,m,g){},this.$getIndent=function(p){return p.match(/^\s*/)[0]},this.createWorker=function(p){return null},this.createModeDelegates=function(p){this.$embeds=[],this.$modes={};for(var m in p)if(p[m]){var g=p[m],y=g.prototype.$id,v=o.$modes[y];v||(o.$modes[y]=v=new g),o.$modes[m]||(o.$modes[m]=v),this.$embeds.push(m),this.$modes[m]=v}for(var b=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],_=function(w){(function(E){var S=b[w],T=E[S];E[b[w]]=function(){return this.$delegator(S,arguments,T)}})(x)},x=this,m=0;m<b.length;m++)_(m)},this.$delegator=function(p,m,g){var y=m[0]||"start";if(typeof y!="string"){if(Array.isArray(y[2])){var v=y[2][y[2].length-1],b=this.$modes[v];if(b)return b[p].apply(b,[y[1]].concat([].slice.call(m,1)))}y=y[0]||"start"}for(var _=0;_<this.$embeds.length;_++)if(this.$modes[this.$embeds[_]]){var x=y.split(this.$embeds[_]);if(!x[0]&&x[1]){m[0]=x[1];var b=this.$modes[this.$embeds[_]];return b[p].apply(b,m)}}var w=g.apply(this,m);return g?w:void 0},this.transformAction=function(p,m,g,y,v){if(this.$behaviour){var b=this.$behaviour.getBehaviours();for(var _ in b)if(b[_][m]){var x=b[_][m].apply(this,arguments);if(x)return x}}},this.getKeywords=function(p){if(!this.completionKeywords){var m=this.$tokenizer.rules,g=[];for(var y in m)for(var v=m[y],b=0,_=v.length;b<_;b++)if(typeof v[b].token=="string")/keyword|support|storage/.test(v[b].token)&&g.push(v[b].regex);else if(typeof v[b].token=="object"){for(var x=0,w=v[b].token.length;x<w;x++)if(/keyword|support|storage/.test(v[b].token[x])){var y=v[b].regex.match(/\(.+?\)/g)[x];g.push(y.substr(1,y.length-2))}}this.completionKeywords=g}return p?g.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(p,m,g,y){var v=this.$keywordList||this.$createKeywordList();return v.map(function(b){return{name:b,value:b,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(f.prototype),r.Mode=f}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(n,r,i){var o=n("./lib/dom"),s=function(){function a(l){this.session=l,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}return a.prototype.getRowLength=function(l){var u;return this.lineWidgets?u=this.lineWidgets[l]&&this.lineWidgets[l].rowCount||0:u=0,!this.$useWrapMode||!this.$wrapData[l]?1+u:this.$wrapData[l].length+1+u},a.prototype.$getWidgetScreenLength=function(){var l=0;return this.lineWidgets.forEach(function(u){u&&u.rowCount&&!u.hidden&&(l+=u.rowCount)}),l},a.prototype.$onChangeEditor=function(l){this.attach(l.editor)},a.prototype.attach=function(l){l&&l.widgetManager&&l.widgetManager!=this&&l.widgetManager.detach(),this.editor!=l&&(this.detach(),this.editor=l,l&&(l.widgetManager=this,l.renderer.on("beforeRender",this.measureWidgets),l.renderer.on("afterRender",this.renderWidgets)))},a.prototype.detach=function(l){var u=this.editor;if(u){this.editor=null,u.widgetManager=null,u.renderer.off("beforeRender",this.measureWidgets),u.renderer.off("afterRender",this.renderWidgets);var c=this.session.lineWidgets;c&&c.forEach(function(d){d&&d.el&&d.el.parentNode&&(d._inDocument=!1,d.el.parentNode.removeChild(d.el))})}},a.prototype.updateOnFold=function(l,u){var c=u.lineWidgets;if(!(!c||!l.action)){for(var d=l.data,h=d.start.row,f=d.end.row,p=l.action=="add",m=h+1;m<f;m++)c[m]&&(c[m].hidden=p);c[f]&&(p?c[h]?c[f].hidden=p:c[h]=c[f]:(c[h]==c[f]&&(c[h]=void 0),c[f].hidden=p))}},a.prototype.updateOnChange=function(l){var u=this.session.lineWidgets;if(u){var c=l.start.row,d=l.end.row-c;if(d!==0)if(l.action=="remove"){var h=u.splice(c+1,d);!u[c]&&h[h.length-1]&&(u[c]=h.pop()),h.forEach(function(p){p&&this.removeLineWidget(p)},this),this.$updateRows()}else{var f=new Array(d);u[c]&&u[c].column!=null&&l.start.column>u[c].column&&c++,f.unshift(c,0),u.splice.apply(u,f),this.$updateRows()}}},a.prototype.$updateRows=function(){var l=this.session.lineWidgets;if(l){var u=!0;l.forEach(function(c,d){if(c)for(u=!1,c.row=d;c.$oldWidget;)c.$oldWidget.row=d,c=c.$oldWidget}),u&&(this.session.lineWidgets=null)}},a.prototype.$registerLineWidget=function(l){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var u=this.session.lineWidgets[l.row];return u&&(l.$oldWidget=u,u.el&&u.el.parentNode&&(u.el.parentNode.removeChild(u.el),u._inDocument=!1)),this.session.lineWidgets[l.row]=l,l},a.prototype.addLineWidget=function(l){if(this.$registerLineWidget(l),l.session=this.session,!this.editor)return l;var u=this.editor.renderer;l.html&&!l.el&&(l.el=o.createElement("div"),l.el.innerHTML=l.html),l.text&&!l.el&&(l.el=o.createElement("div"),l.el.textContent=l.text),l.el&&(o.addCssClass(l.el,"ace_lineWidgetContainer"),l.className&&o.addCssClass(l.el,l.className),l.el.style.position="absolute",l.el.style.zIndex="5",u.container.appendChild(l.el),l._inDocument=!0,l.coverGutter||(l.el.style.zIndex="3"),l.pixelHeight==null&&(l.pixelHeight=l.el.offsetHeight)),l.rowCount==null&&(l.rowCount=l.pixelHeight/u.layerConfig.lineHeight);var c=this.session.getFoldAt(l.row,0);if(l.$fold=c,c){var d=this.session.lineWidgets;l.row==c.end.row&&!d[c.start.row]?d[c.start.row]=l:l.hidden=!0}return this.session._emit("changeFold",{data:{start:{row:l.row}}}),this.$updateRows(),this.renderWidgets(null,u),this.onWidgetChanged(l),l},a.prototype.removeLineWidget=function(l){if(l._inDocument=!1,l.session=null,l.el&&l.el.parentNode&&l.el.parentNode.removeChild(l.el),l.editor&&l.editor.destroy)try{l.editor.destroy()}catch{}if(this.session.lineWidgets){var u=this.session.lineWidgets[l.row];if(u==l)this.session.lineWidgets[l.row]=l.$oldWidget,l.$oldWidget&&this.onWidgetChanged(l.$oldWidget);else for(;u;){if(u.$oldWidget==l){u.$oldWidget=l.$oldWidget;break}u=u.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:l.row}}}),this.$updateRows()},a.prototype.getWidgetsAtRow=function(l){for(var u=this.session.lineWidgets,c=u&&u[l],d=[];c;)d.push(c),c=c.$oldWidget;return d},a.prototype.onWidgetChanged=function(l){this.session._changedWidgets.push(l),this.editor&&this.editor.renderer.updateFull()},a.prototype.measureWidgets=function(l,u){var c=this.session._changedWidgets,d=u.layerConfig;if(!(!c||!c.length)){for(var h=1/0,f=0;f<c.length;f++){var p=c[f];if(!(!p||!p.el)&&p.session==this.session){if(!p._inDocument){if(this.session.lineWidgets[p.row]!=p)continue;p._inDocument=!0,u.container.appendChild(p.el)}p.h=p.el.offsetHeight,p.fixedWidth||(p.w=p.el.offsetWidth,p.screenWidth=Math.ceil(p.w/d.characterWidth));var m=p.h/d.lineHeight;p.coverLine&&(m-=this.session.getRowLineCount(p.row),m<0&&(m=0)),p.rowCount!=m&&(p.rowCount=m,p.row<h&&(h=p.row))}}h!=1/0&&(this.session._emit("changeFold",{data:{start:{row:h}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},a.prototype.renderWidgets=function(l,u){var c=u.layerConfig,d=this.session.lineWidgets;if(d){for(var h=Math.min(this.firstRow,c.firstRow),f=Math.max(this.lastRow,c.lastRow,d.length);h>0&&!d[h];)h--;this.firstRow=c.firstRow,this.lastRow=c.lastRow,u.$cursorLayer.config=c;for(var p=h;p<=f;p++){var m=d[p];if(!(!m||!m.el)){if(m.hidden){m.el.style.top=-100-(m.pixelHeight||0)+"px";continue}m._inDocument||(m._inDocument=!0,u.container.appendChild(m.el));var g=u.$cursorLayer.getPixelPosition({row:p,column:0},!0).top;m.coverLine||(g+=c.lineHeight*this.session.getRowLineCount(m.row)),m.el.style.top=g-c.offset+"px";var y=m.coverGutter?0:u.gutterWidth;m.fixedWidth||(y-=u.scrollLeft),m.el.style.left=y+"px",m.fullWidth&&m.screenWidth&&(m.el.style.minWidth=c.width+2*c.padding+"px"),m.fixedWidth?m.el.style.right=u.scrollBar.getWidth()+"px":m.el.style.right=""}}}},a}();r.LineWidgets=s}),ace.define("ace/apply_delta",["require","exports","module"],function(n,r,i){r.applyDelta=function(o,s,a){var l=s.start.row,u=s.start.column,c=o[l]||"";switch(s.action){case"insert":var d=s.lines;if(d.length===1)o[l]=c.substring(0,u)+s.lines[0]+c.substring(u);else{var h=[l,1].concat(s.lines);o.splice.apply(o,h),o[l]=c.substring(0,u)+o[l],o[l+s.lines.length-1]+=c.substring(u)}break;case"remove":var f=s.end.column,p=s.end.row;l===p?o[l]=c.substring(0,u)+c.substring(f):o.splice(l,p-l+1,c.substring(0,u)+o[p].substring(f));break}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(n,r,i){var o=n("./lib/oop"),s=n("./lib/event_emitter").EventEmitter,a=function(){function c(d,h,f){this.$onChange=this.onChange.bind(this),this.attach(d),typeof h!="number"?this.setPosition(h.row,h.column):this.setPosition(h,f)}return c.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},c.prototype.getDocument=function(){return this.document},c.prototype.onChange=function(d){if(!(d.start.row==d.end.row&&d.start.row!=this.row)&&!(d.start.row>this.row)){var h=u(d,{row:this.row,column:this.column},this.$insertRight);this.setPosition(h.row,h.column,!0)}},c.prototype.setPosition=function(d,h,f){var p;if(f?p={row:d,column:h}:p=this.$clipPositionToDocument(d,h),!(this.row==p.row&&this.column==p.column)){var m={row:this.row,column:this.column};this.row=p.row,this.column=p.column,this._signal("change",{old:m,value:p})}},c.prototype.detach=function(){this.document.off("change",this.$onChange)},c.prototype.attach=function(d){this.document=d||this.document,this.document.on("change",this.$onChange)},c.prototype.$clipPositionToDocument=function(d,h){var f={};return d>=this.document.getLength()?(f.row=Math.max(0,this.document.getLength()-1),f.column=this.document.getLine(f.row).length):d<0?(f.row=0,f.column=0):(f.row=d,f.column=Math.min(this.document.getLine(f.row).length,Math.max(0,h))),h<0&&(f.column=0),f},c}();a.prototype.$insertRight=!1,o.implement(a.prototype,s);function l(c,d,h){var f=h?c.column<=d.column:c.column<d.column;return c.row<d.row||c.row==d.row&&f}function u(c,d,h){var f=c.action=="insert",p=(f?1:-1)*(c.end.row-c.start.row),m=(f?1:-1)*(c.end.column-c.start.column),g=c.start,y=f?g:c.end;return l(d,g,h)?{row:d.row,column:d.column}:l(y,d,!h)?{row:d.row+p,column:d.column+(d.row==y.row?m:0)}:{row:g.row,column:g.column}}r.Anchor=a}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(n,r,i){var o=n("./lib/oop"),s=n("./apply_delta").applyDelta,a=n("./lib/event_emitter").EventEmitter,l=n("./range").Range,u=n("./anchor").Anchor,c=function(){function d(h){this.$lines=[""],h.length===0?this.$lines=[""]:Array.isArray(h)?this.insertMergedLines({row:0,column:0},h):this.insert({row:0,column:0},h)}return d.prototype.setValue=function(h){var f=this.getLength()-1;this.remove(new l(0,0,f,this.getLine(f).length)),this.insert({row:0,column:0},h||"")},d.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},d.prototype.createAnchor=function(h,f){return new u(this,h,f)},d.prototype.$detectNewLine=function(h){var f=h.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=f?f[1]:`
`,this._signal("changeNewLineMode")},d.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}},d.prototype.setNewLineMode=function(h){this.$newLineMode!==h&&(this.$newLineMode=h,this._signal("changeNewLineMode"))},d.prototype.getNewLineMode=function(){return this.$newLineMode},d.prototype.isNewLine=function(h){return h==`\r
`||h=="\r"||h==`
`},d.prototype.getLine=function(h){return this.$lines[h]||""},d.prototype.getLines=function(h,f){return this.$lines.slice(h,f+1)},d.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},d.prototype.getLength=function(){return this.$lines.length},d.prototype.getTextRange=function(h){return this.getLinesForRange(h).join(this.getNewLineCharacter())},d.prototype.getLinesForRange=function(h){var f;if(h.start.row===h.end.row)f=[this.getLine(h.start.row).substring(h.start.column,h.end.column)];else{f=this.getLines(h.start.row,h.end.row),f[0]=(f[0]||"").substring(h.start.column);var p=f.length-1;h.end.row-h.start.row==p&&(f[p]=f[p].substring(0,h.end.column))}return f},d.prototype.insertLines=function(h,f){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(h,f)},d.prototype.removeLines=function(h,f){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(h,f)},d.prototype.insertNewLine=function(h){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(h,["",""])},d.prototype.insert=function(h,f){return this.getLength()<=1&&this.$detectNewLine(f),this.insertMergedLines(h,this.$split(f))},d.prototype.insertInLine=function(h,f){var p=this.clippedPos(h.row,h.column),m=this.pos(h.row,h.column+f.length);return this.applyDelta({start:p,end:m,action:"insert",lines:[f]},!0),this.clonePos(m)},d.prototype.clippedPos=function(h,f){var p=this.getLength();h===void 0?h=p:h<0?h=0:h>=p&&(h=p-1,f=void 0);var m=this.getLine(h);return f==null&&(f=m.length),f=Math.min(Math.max(f,0),m.length),{row:h,column:f}},d.prototype.clonePos=function(h){return{row:h.row,column:h.column}},d.prototype.pos=function(h,f){return{row:h,column:f}},d.prototype.$clipPosition=function(h){var f=this.getLength();return h.row>=f?(h.row=Math.max(0,f-1),h.column=this.getLine(f-1).length):(h.row=Math.max(0,h.row),h.column=Math.min(Math.max(h.column,0),this.getLine(h.row).length)),h},d.prototype.insertFullLines=function(h,f){h=Math.min(Math.max(h,0),this.getLength());var p=0;h<this.getLength()?(f=f.concat([""]),p=0):(f=[""].concat(f),h--,p=this.$lines[h].length),this.insertMergedLines({row:h,column:p},f)},d.prototype.insertMergedLines=function(h,f){var p=this.clippedPos(h.row,h.column),m={row:p.row+f.length-1,column:(f.length==1?p.column:0)+f[f.length-1].length};return this.applyDelta({start:p,end:m,action:"insert",lines:f}),this.clonePos(m)},d.prototype.remove=function(h){var f=this.clippedPos(h.start.row,h.start.column),p=this.clippedPos(h.end.row,h.end.column);return this.applyDelta({start:f,end:p,action:"remove",lines:this.getLinesForRange({start:f,end:p})}),this.clonePos(f)},d.prototype.removeInLine=function(h,f,p){var m=this.clippedPos(h,f),g=this.clippedPos(h,p);return this.applyDelta({start:m,end:g,action:"remove",lines:this.getLinesForRange({start:m,end:g})},!0),this.clonePos(m)},d.prototype.removeFullLines=function(h,f){h=Math.min(Math.max(0,h),this.getLength()-1),f=Math.min(Math.max(0,f),this.getLength()-1);var p=f==this.getLength()-1&&h>0,m=f<this.getLength()-1,g=p?h-1:h,y=p?this.getLine(g).length:0,v=m?f+1:f,b=m?0:this.getLine(v).length,_=new l(g,y,v,b),x=this.$lines.slice(h,f+1);return this.applyDelta({start:_.start,end:_.end,action:"remove",lines:this.getLinesForRange(_)}),x},d.prototype.removeNewLine=function(h){h<this.getLength()-1&&h>=0&&this.applyDelta({start:this.pos(h,this.getLine(h).length),end:this.pos(h+1,0),action:"remove",lines:["",""]})},d.prototype.replace=function(h,f){if(h instanceof l||(h=l.fromPoints(h.start,h.end)),f.length===0&&h.isEmpty())return h.start;if(f==this.getTextRange(h))return h.end;this.remove(h);var p;return f?p=this.insert(h.start,f):p=h.start,p},d.prototype.applyDeltas=function(h){for(var f=0;f<h.length;f++)this.applyDelta(h[f])},d.prototype.revertDeltas=function(h){for(var f=h.length-1;f>=0;f--)this.revertDelta(h[f])},d.prototype.applyDelta=function(h,f){var p=h.action=="insert";(p?h.lines.length<=1&&!h.lines[0]:!l.comparePoints(h.start,h.end))||(p&&h.lines.length>2e4?this.$splitAndapplyLargeDelta(h,2e4):(s(this.$lines,h,f),this._signal("change",h)))},d.prototype.$safeApplyDelta=function(h){var f=this.$lines.length;(h.action=="remove"&&h.start.row<f&&h.end.row<f||h.action=="insert"&&h.start.row<=f)&&this.applyDelta(h)},d.prototype.$splitAndapplyLargeDelta=function(h,f){for(var p=h.lines,m=p.length-f+1,g=h.start.row,y=h.start.column,v=0,b=0;v<m;v=b){b+=f-1;var _=p.slice(v,b);_.push(""),this.applyDelta({start:this.pos(g+v,y),end:this.pos(g+b,y=0),action:h.action,lines:_},!0)}h.lines=p.slice(v),h.start.row=g+v,h.start.column=y,this.applyDelta(h,!0)},d.prototype.revertDelta=function(h){this.$safeApplyDelta({start:this.clonePos(h.start),end:this.clonePos(h.end),action:h.action=="insert"?"remove":"insert",lines:h.lines.slice()})},d.prototype.indexToPosition=function(h,f){for(var p=this.$lines||this.getAllLines(),m=this.getNewLineCharacter().length,g=f||0,y=p.length;g<y;g++)if(h-=p[g].length+m,h<0)return{row:g,column:h+p[g].length+m};return{row:y-1,column:h+p[y-1].length+m}},d.prototype.positionToIndex=function(h,f){for(var p=this.$lines||this.getAllLines(),m=this.getNewLineCharacter().length,g=0,y=Math.min(h.row,p.length),v=f||0;v<y;++v)g+=p[v].length+m;return g+h.column},d.prototype.$split=function(h){return h.split(/\r\n|\r|\n/)},d}();c.prototype.$autoNewLine="",c.prototype.$newLineMode="auto",o.implement(c.prototype,a),r.Document=c}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(n,r,i){var o=n("./lib/oop"),s=n("./lib/event_emitter").EventEmitter,a=function(){function l(u,c){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=u;var d=this;this.$worker=function(){if(d.running){for(var h=new Date,f=d.currentLine,p=-1,m=d.doc,g=f;d.lines[f];)f++;var y=m.getLength(),v=0;for(d.running=!1;f<y;){d.$tokenizeRow(f),p=f;do f++;while(d.lines[f]);if(v++,v%5===0&&new Date-h>20){d.running=setTimeout(d.$worker,20);break}}d.currentLine=f,p==-1&&(p=f),g<=p&&d.fireUpdateEvent(g,p)}}}return l.prototype.setTokenizer=function(u){this.tokenizer=u,this.lines=[],this.states=[],this.start(0)},l.prototype.setDocument=function(u){this.doc=u,this.lines=[],this.states=[],this.stop()},l.prototype.fireUpdateEvent=function(u,c){var d={first:u,last:c};this._signal("update",{data:d})},l.prototype.start=function(u){this.currentLine=Math.min(u||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},l.prototype.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},l.prototype.$updateOnChange=function(u){var c=u.start.row,d=u.end.row-c;if(d===0)this.lines[c]=null;else if(u.action=="remove")this.lines.splice(c,d+1,null),this.states.splice(c,d+1,null);else{var h=Array(d+1);h.unshift(c,1),this.lines.splice.apply(this.lines,h),this.states.splice.apply(this.states,h)}this.currentLine=Math.min(c,this.currentLine,this.doc.getLength()),this.stop()},l.prototype.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},l.prototype.getTokens=function(u){return this.lines[u]||this.$tokenizeRow(u)},l.prototype.getState=function(u){return this.currentLine==u&&this.$tokenizeRow(u),this.states[u]||"start"},l.prototype.$tokenizeRow=function(u){var c=this.doc.getLine(u),d=this.states[u-1],h=this.tokenizer.getLineTokens(c,d,u);return this.states[u]+""!=h.state+""?(this.states[u]=h.state,this.lines[u+1]=null,this.currentLine>u+1&&(this.currentLine=u+1)):this.currentLine==u&&(this.currentLine=u+1),this.lines[u]=h.tokens},l.prototype.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()},l}();o.implement(a.prototype,s),r.BackgroundTokenizer=a}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/range"],function(n,r,i){var o=n("./lib/lang"),s=n("./range").Range,a=function(){function l(u,c,d){d===void 0&&(d="text"),this.setRegexp(u),this.clazz=c,this.type=d,this.docLen=0}return l.prototype.setRegexp=function(u){this.regExp+""!=u+""&&(this.regExp=u,this.cache=[])},l.prototype.update=function(u,c,d,h){if(this.regExp){for(var f=h.firstRow,p=h.lastRow,m={},g=d.$editor.$search,y=g.$isMultilineSearch(d.$editor.getLastSearchOptions()),v=f;v<=p;v++){var b=this.cache[v];if(b==null||d.getValue().length!=this.docLen){if(y){b=[];var _=g.$multiLineForward(d,this.regExp,v,p);if(_){var x=_.endRow<=p?_.endRow-1:p;x>v&&(v=x),b.push(new s(_.startRow,_.startCol,_.endRow,_.endCol))}b.length>this.MAX_RANGES&&(b=b.slice(0,this.MAX_RANGES))}else b=o.getMatchOffsets(d.getLine(v),this.regExp),b.length>this.MAX_RANGES&&(b=b.slice(0,this.MAX_RANGES)),b=b.map(function(T){return new s(v,T.offset,v,T.offset+T.length)});this.cache[v]=b.length?b:""}if(b.length!==0)for(var w=b.length;w--;){var E=b[w].toScreenRange(d),S=E.toString();m[S]||(m[S]=!0,c.drawSingleLineMarker(u,E,this.clazz,h))}}this.docLen=d.getValue().length}},l}();a.prototype.MAX_RANGES=500,r.SearchHighlight=a}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(n,r,i){var o=function(){function x(){this.$keepRedoStack,this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()}return x.prototype.addSession=function(w){this.$session=w},x.prototype.add=function(w,E,S){if(!this.$fromUndo&&w!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),E===!1||!this.lastDeltas){this.lastDeltas=[];var T=this.$undoStack.length;T>this.$undoDepth-1&&this.$undoStack.splice(0,T-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),w.id=this.$rev=++this.$maxRev}(w.action=="remove"||w.action=="insert")&&(this.$lastDelta=w),this.lastDeltas.push(w)}},x.prototype.addSelection=function(w,E){this.selections.push({value:w,rev:E||this.$rev})},x.prototype.startNewGroup=function(){return this.lastDeltas=null,this.$rev},x.prototype.markIgnored=function(w,E){E==null&&(E=this.$rev+1);for(var S=this.$undoStack,T=S.length;T--;){var C=S[T][0];if(C.id<=w)break;C.id<E&&(C.ignore=!0)}this.lastDeltas=null},x.prototype.getSelection=function(w,E){for(var S=this.selections,T=S.length;T--;){var C=S[T];if(C.rev<w)return E&&(C=S[T+1]),C}},x.prototype.getRevision=function(){return this.$rev},x.prototype.getDeltas=function(w,E){E==null&&(E=this.$rev+1);for(var S=this.$undoStack,T=null,C=0,D=S.length;D--;){var $=S[D][0];if($.id<E&&!T&&(T=D+1),$.id<=w){C=D+1;break}}return S.slice(C,T)},x.prototype.getChangedRanges=function(w,E){E==null&&(E=this.$rev+1)},x.prototype.getChangedLines=function(w,E){E==null&&(E=this.$rev+1)},x.prototype.undo=function(w,E){this.lastDeltas=null;var S=this.$undoStack;if(s(S,S.length)){w||(w=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var T=S.pop(),C=null;return T&&(C=w.undoChanges(T,E),this.$redoStack.push(T),this.$syncRev()),this.$fromUndo=!1,C}},x.prototype.redo=function(w,E){if(this.lastDeltas=null,w||(w=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var S=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);_(this.$redoStack,S),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(D){D[0].id=++this.$maxRev},this)}var T=this.$redoStack.pop(),C=null;return T&&(C=w.redoChanges(T,E),this.$undoStack.push(T),this.$syncRev()),this.$fromUndo=!1,C},x.prototype.$syncRev=function(){var w=this.$undoStack,E=w[w.length-1],S=E&&E[0].id||0;this.$redoStackBaseRev=S,this.$rev=S},x.prototype.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},x.prototype.canUndo=function(){return this.$undoStack.length>0},x.prototype.canRedo=function(){return this.$redoStack.length>0},x.prototype.bookmark=function(w){w==null&&(w=this.$rev),this.mark=w},x.prototype.isAtBookmark=function(){return this.$rev===this.mark},x.prototype.toJSON=function(){return{$redoStack:this.$redoStack,$undoStack:this.$undoStack}},x.prototype.fromJSON=function(w){this.reset(),this.$undoStack=w.$undoStack,this.$redoStack=w.$redoStack},x.prototype.$prettyPrint=function(w){return w?d(w):d(this.$undoStack)+`
---
`+d(this.$redoStack)},x}();o.prototype.hasUndo=o.prototype.canUndo,o.prototype.hasRedo=o.prototype.canRedo,o.prototype.isClean=o.prototype.isAtBookmark,o.prototype.markClean=o.prototype.bookmark;function s(x,w){for(var E=w;E--;){var S=x[E];if(S&&!S[0].ignore){for(;E<w-1;){var T=p(x[E],x[E+1]);x[E]=T[0],x[E+1]=T[1],E++}return!0}}}var a=n("./range").Range,l=a.comparePoints;a.comparePoints;function u(x){return{row:x.row,column:x.column}}function c(x){return{start:u(x.start),end:u(x.end),action:x.action,lines:x.lines.slice()}}function d(x){if(x=x||this,Array.isArray(x))return x.map(d).join(`
`);var w="";return x.action?(w=x.action=="insert"?"+":"-",w+="["+x.lines+"]"):x.value&&(Array.isArray(x.value)?w=x.value.map(h).join(`
`):w=h(x.value)),x.start&&(w+=h(x)),(x.id||x.rev)&&(w+="	("+(x.id||x.rev)+")"),w}function h(x){return x.start.row+":"+x.start.column+"=>"+x.end.row+":"+x.end.column}function f(x,w){var E=x.action=="insert",S=w.action=="insert";if(E&&S)if(l(w.start,x.end)>=0)g(w,x,-1);else if(l(w.start,x.start)<=0)g(x,w,1);else return null;else if(E&&!S)if(l(w.start,x.end)>=0)g(w,x,-1);else if(l(w.end,x.start)<=0)g(x,w,-1);else return null;else if(!E&&S)if(l(w.start,x.start)>=0)g(w,x,1);else if(l(w.start,x.start)<=0)g(x,w,1);else return null;else if(!E&&!S)if(l(w.start,x.start)>=0)g(w,x,1);else if(l(w.end,x.start)<=0)g(x,w,-1);else return null;return[w,x]}function p(x,w){for(var E=x.length;E--;)for(var S=0;S<w.length;S++)if(!f(x[E],w[S])){for(;E<x.length;){for(;S--;)f(w[S],x[E]);S=w.length,E++}return[x,w]}return x.selectionBefore=w.selectionBefore=x.selectionAfter=w.selectionAfter=null,[w,x]}function m(x,w){var E=x.action=="insert",S=w.action=="insert";if(E&&S)l(x.start,w.start)<0?g(w,x,1):g(x,w,1);else if(E&&!S)l(x.start,w.end)>=0?g(x,w,-1):(l(x.start,w.start)<=0||g(x,a.fromPoints(w.start,x.start),-1),g(w,x,1));else if(!E&&S)l(w.start,x.end)>=0?g(w,x,-1):(l(w.start,x.start)<=0||g(w,a.fromPoints(x.start,w.start),-1),g(x,w,1));else if(!E&&!S)if(l(w.start,x.end)>=0)g(w,x,-1);else if(l(w.end,x.start)<=0)g(x,w,-1);else{var T,C;return l(x.start,w.start)<0&&(T=x,x=v(x,w.start)),l(x.end,w.end)>0&&(C=v(x,w.end)),y(w.end,x.start,x.end,-1),C&&!T&&(x.lines=C.lines,x.start=C.start,x.end=C.end,C=x),[w,T,C].filter(Boolean)}return[w,x]}function g(x,w,E){y(x.start,w.start,w.end,E),y(x.end,w.start,w.end,E)}function y(x,w,E,S){x.row==(S==1?w:E).row&&(x.column+=S*(E.column-w.column)),x.row+=S*(E.row-w.row)}function v(x,w){var E=x.lines,S=x.end;x.end=u(w);var T=x.end.row-x.start.row,C=E.splice(T,E.length),D=T?w.column:w.column-x.start.column;E.push(C[0].substring(0,D)),C[0]=C[0].substr(D);var $={start:u(w),end:S,lines:C,action:x.action};return $}function b(x,w){w=c(w);for(var E=x.length;E--;){for(var S=x[E],T=0;T<S.length;T++){var C=S[T],D=m(C,w);w=D[0],D.length!=2&&(D[2]?(S.splice(T+1,1,D[1],D[2]),T++):D[1]||(S.splice(T,1),T--))}S.length||x.splice(E,1)}return x}function _(x,w){for(var E=0;E<w.length;E++)for(var S=w[E],T=0;T<S.length;T++)b(x,S[T])}r.UndoManager=o}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(n,r,i){var o=n("../range").Range,s=function(){function a(l,u){this.foldData=l,Array.isArray(u)?this.folds=u:u=this.folds=[u];var c=u[u.length-1];this.range=new o(u[0].start.row,u[0].start.column,c.end.row,c.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(d){d.setFoldLine(this)},this)}return a.prototype.shiftRow=function(l){this.start.row+=l,this.end.row+=l,this.folds.forEach(function(u){u.start.row+=l,u.end.row+=l})},a.prototype.addFold=function(l){if(l.sameRow){if(l.start.row<this.startRow||l.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(l),this.folds.sort(function(u,c){return-u.range.compareEnd(c.start.row,c.start.column)}),this.range.compareEnd(l.start.row,l.start.column)>0?(this.end.row=l.end.row,this.end.column=l.end.column):this.range.compareStart(l.end.row,l.end.column)<0&&(this.start.row=l.start.row,this.start.column=l.start.column)}else if(l.start.row==this.end.row)this.folds.push(l),this.end.row=l.end.row,this.end.column=l.end.column;else if(l.end.row==this.start.row)this.folds.unshift(l),this.start.row=l.start.row,this.start.column=l.start.column;else throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");l.foldLine=this},a.prototype.containsRow=function(l){return l>=this.start.row&&l<=this.end.row},a.prototype.walk=function(l,u,c){var d=0,h=this.folds,f,p,m,g=!0;u==null&&(u=this.end.row,c=this.end.column);for(var y=0;y<h.length;y++){if(f=h[y],p=f.range.compareStart(u,c),p==-1){l(null,u,c,d,g);return}if(m=l(null,f.start.row,f.start.column,d,g),m=!m&&l(f.placeholder,f.start.row,f.start.column,d),m||p===0)return;g=!f.sameRow,d=f.end.column}l(null,u,c,d,g)},a.prototype.getNextFoldTo=function(l,u){for(var c,d,h=0;h<this.folds.length;h++){if(c=this.folds[h],d=c.range.compareEnd(l,u),d==-1)return{fold:c,kind:"after"};if(d===0)return{fold:c,kind:"inside"}}return null},a.prototype.addRemoveChars=function(l,u,c){var d=this.getNextFoldTo(l,u),h,f;if(d){if(h=d.fold,d.kind=="inside"&&h.start.column!=u&&h.start.row!=l)window.console&&window.console.log(l,u,h);else if(h.start.row==l){f=this.folds;var p=f.indexOf(h);for(p===0&&(this.start.column+=c),p;p<f.length;p++){if(h=f[p],h.start.column+=c,!h.sameRow)return;h.end.column+=c}this.end.column+=c}}},a.prototype.split=function(l,u){var c=this.getNextFoldTo(l,u);if(!c||c.kind=="inside")return null;var d=c.fold,h=this.folds,f=this.foldData,p=h.indexOf(d),m=h[p-1];this.end.row=m.end.row,this.end.column=m.end.column,h=h.splice(p,h.length-p);var g=new a(f,h);return f.splice(f.indexOf(this)+1,0,g),g},a.prototype.merge=function(l){for(var u=l.folds,c=0;c<u.length;c++)this.addFold(u[c]);var d=this.foldData;d.splice(d.indexOf(l),1)},a.prototype.toString=function(){var l=[this.range.toString()+": ["];return this.folds.forEach(function(u){l.push("  "+u.toString())}),l.push("]"),l.join(`
`)},a.prototype.idxToPosition=function(l){for(var u=0,c=0;c<this.folds.length;c++){var d=this.folds[c];if(l-=d.start.column-u,l<0)return{row:d.start.row,column:d.start.column+l};if(l-=d.placeholder.length,l<0)return d.start;u=d.end.column}return{row:this.end.row,column:this.end.column+l}},a}();r.FoldLine=s}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(n,r,i){var o=n("./range").Range,s=o.comparePoints,a=function(){function l(){this.ranges=[],this.$bias=1}return l.prototype.pointIndex=function(u,c,d){for(var h=this.ranges,f=d||0;f<h.length;f++){var p=h[f],m=s(u,p.end);if(!(m>0)){var g=s(u,p.start);return m===0?c&&g!==0?-f-2:f:g>0||g===0&&!c?f:-f-1}}return-f-1},l.prototype.add=function(u){var c=!u.isEmpty(),d=this.pointIndex(u.start,c);d<0&&(d=-d-1);var h=this.pointIndex(u.end,c,d);return h<0?h=-h-1:h++,this.ranges.splice(d,h-d,u)},l.prototype.addList=function(u){for(var c=[],d=u.length;d--;)c.push.apply(c,this.add(u[d]));return c},l.prototype.substractPoint=function(u){var c=this.pointIndex(u);if(c>=0)return this.ranges.splice(c,1)},l.prototype.merge=function(){var u=[],c=this.ranges;c=c.sort(function(m,g){return s(m.start,g.start)});for(var d=c[0],h,f=1;f<c.length;f++){h=d,d=c[f];var p=s(h.end,d.start);p<0||p==0&&!h.isEmpty()&&!d.isEmpty()||(s(h.end,d.end)<0&&(h.end.row=d.end.row,h.end.column=d.end.column),c.splice(f,1),u.push(d),d=h,f--)}return this.ranges=c,u},l.prototype.contains=function(u,c){return this.pointIndex({row:u,column:c})>=0},l.prototype.containsPoint=function(u){return this.pointIndex(u)>=0},l.prototype.rangeAtPoint=function(u){var c=this.pointIndex(u);if(c>=0)return this.ranges[c]},l.prototype.clipRows=function(u,c){var d=this.ranges;if(d[0].start.row>c||d[d.length-1].start.row<u)return[];var h=this.pointIndex({row:u,column:0});h<0&&(h=-h-1);var f=this.pointIndex({row:c,column:0},h);f<0&&(f=-f-1);for(var p=[],m=h;m<f;m++)p.push(d[m]);return p},l.prototype.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},l.prototype.attach=function(u){this.session&&this.detach(),this.session=u,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},l.prototype.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},l.prototype.$onChange=function(u){for(var c=u.start,d=u.end,h=c.row,f=d.row,p=this.ranges,m=0,g=p.length;m<g;m++){var y=p[m];if(y.end.row>=h)break}if(u.action=="insert")for(var v=f-h,b=-c.column+d.column;m<g;m++){var y=p[m];if(y.start.row>h)break;if(y.start.row==h&&y.start.column>=c.column&&(y.start.column==c.column&&this.$bias<=0||(y.start.column+=b,y.start.row+=v)),y.end.row==h&&y.end.column>=c.column){if(y.end.column==c.column&&this.$bias<0)continue;y.end.column==c.column&&b>0&&m<g-1&&y.end.column>y.start.column&&y.end.column==p[m+1].start.column&&(y.end.column-=b),y.end.column+=b,y.end.row+=v}}else for(var v=h-f,b=c.column-d.column;m<g;m++){var y=p[m];if(y.start.row>f)break;y.end.row<f&&(h<y.end.row||h==y.end.row&&c.column<y.end.column)?(y.end.row=h,y.end.column=c.column):y.end.row==f?y.end.column<=d.column?(v||y.end.column>c.column)&&(y.end.column=c.column,y.end.row=c.row):(y.end.column+=b,y.end.row+=v):y.end.row>f&&(y.end.row+=v),y.start.row<f&&(h<y.start.row||h==y.start.row&&c.column<y.start.column)?(y.start.row=h,y.start.column=c.column):y.start.row==f?y.start.column<=d.column?(v||y.start.column>c.column)&&(y.start.column=c.column,y.start.row=c.row):(y.start.column+=b,y.start.row+=v):y.start.row>f&&(y.start.row+=v)}if(v!=0&&m<g)for(;m<g;m++){var y=p[m];y.start.row+=v,y.end.row+=v}},l}();a.prototype.comparePoints=s,r.RangeList=a}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list"],function(n,r,i){var o=this&&this.__extends||function(){var h=function(f,p){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(m[y]=g[y])},h(f,p)};return function(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");h(f,p);function m(){this.constructor=f}f.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}(),s=n("../range_list").RangeList,a=function(h){o(f,h);function f(p,m){var g=h.call(this)||this;return g.foldLine=null,g.placeholder=m,g.range=p,g.start=p.start,g.end=p.end,g.sameRow=p.start.row==p.end.row,g.subFolds=g.ranges=[],g}return f.prototype.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},f.prototype.setFoldLine=function(p){this.foldLine=p,this.subFolds.forEach(function(m){m.setFoldLine(p)})},f.prototype.clone=function(){var p=this.range.clone(),m=new f(p,this.placeholder);return this.subFolds.forEach(function(g){m.subFolds.push(g.clone())}),m.collapseChildren=this.collapseChildren,m},f.prototype.addSubFold=function(p){if(!this.range.isEqual(p)){u(p,this.start);for(var b=p.start.row,_=p.start.column,m=0,g=-1;m<this.subFolds.length&&(g=this.subFolds[m].range.compare(b,_),g==1);m++);var y=this.subFolds[m],v=0;if(g==0){if(y.range.containsRange(p))return y.addSubFold(p);v=1}for(var b=p.range.end.row,_=p.range.end.column,x=m,g=-1;x<this.subFolds.length&&(g=this.subFolds[x].range.compare(b,_),g==1);x++);g==0&&x++;for(var w=this.subFolds.splice(m,x-m,p),E=g==0?w.length-1:w.length,S=v;S<E;S++)p.addSubFold(w[S]);return p.setFoldLine(this.foldLine),p}},f.prototype.restoreRange=function(p){return d(p,this.start)},f}(s);function l(h,f){h.row-=f.row,h.row==0&&(h.column-=f.column)}function u(h,f){l(h.start,f),l(h.end,f)}function c(h,f){h.row==0&&(h.column+=f.column),h.row+=f.row}function d(h,f){c(h.start,f),c(h.end,f)}r.Fold=a}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator","ace/mouse/mouse_event"],function(n,r,i){var o=n("../range").Range,s=n("./fold_line").FoldLine,a=n("./fold").Fold,l=n("../token_iterator").TokenIterator,u=n("../mouse/mouse_event").MouseEvent;function c(){this.getFoldAt=function(d,h,f){var p=this.getFoldLine(d);if(!p)return null;for(var m=p.folds,g=0;g<m.length;g++){var y=m[g].range;if(y.contains(d,h)){if(f==1&&y.isEnd(d,h)&&!y.isEmpty())continue;if(f==-1&&y.isStart(d,h)&&!y.isEmpty())continue;return m[g]}}},this.getFoldsInRange=function(d){var h=d.start,f=d.end,p=this.$foldData,m=[];h.column+=1,f.column-=1;for(var g=0;g<p.length;g++){var y=p[g].range.compareRange(d);if(y!=2){if(y==-2)break;for(var v=p[g].folds,b=0;b<v.length;b++){var _=v[b];if(y=_.range.compareRange(d),y==-2)break;if(y==2)continue;if(y==42)break;m.push(_)}}}return h.column-=1,f.column+=1,m},this.getFoldsInRangeList=function(d){if(Array.isArray(d)){var h=[];d.forEach(function(f){h=h.concat(this.getFoldsInRange(f))},this)}else var h=this.getFoldsInRange(d);return h},this.getAllFolds=function(){for(var d=[],h=this.$foldData,f=0;f<h.length;f++)for(var p=0;p<h[f].folds.length;p++)d.push(h[f].folds[p]);return d},this.getFoldStringAt=function(d,h,f,p){if(p=p||this.getFoldLine(d),!p)return null;for(var m={end:{column:0}},g,y,v=0;v<p.folds.length;v++){y=p.folds[v];var b=y.range.compareEnd(d,h);if(b==-1){g=this.getLine(y.start.row).substring(m.end.column,y.start.column);break}else if(b===0)return null;m=y}return g||(g=this.getLine(y.start.row).substring(m.end.column)),f==-1?g.substring(0,h-m.end.column):f==1?g.substring(h-m.end.column):g},this.getFoldLine=function(d,h){var f=this.$foldData,p=0;for(h&&(p=f.indexOf(h)),p==-1&&(p=0),p;p<f.length;p++){var m=f[p];if(m.start.row<=d&&m.end.row>=d)return m;if(m.end.row>d)return null}return null},this.getNextFoldLine=function(d,h){var f=this.$foldData,p=0;for(h&&(p=f.indexOf(h)),p==-1&&(p=0),p;p<f.length;p++){var m=f[p];if(m.end.row>=d)return m}return null},this.getFoldedRowCount=function(d,h){for(var f=this.$foldData,p=h-d+1,m=0;m<f.length;m++){var g=f[m],y=g.end.row,v=g.start.row;if(y>=h){v<h&&(v>=d?p-=h-v:p=0);break}else y>=d&&(v>=d?p-=y-v:p-=y-d+1)}return p},this.$addFoldLine=function(d){return this.$foldData.push(d),this.$foldData.sort(function(h,f){return h.start.row-f.start.row}),d},this.addFold=function(d,h){var f=this.$foldData,p=!1,m;d instanceof a?m=d:(m=new a(h,d),m.collapseChildren=h.collapseChildren),this.$clipRangeToDocument(m.range);var g=m.start.row,y=m.start.column,v=m.end.row,b=m.end.column,_=this.getFoldAt(g,y,1),x=this.getFoldAt(v,b,-1);if(_&&x==_)return _.addSubFold(m);_&&!_.range.isStart(g,y)&&this.removeFold(_),x&&!x.range.isEnd(v,b)&&this.removeFold(x);var w=this.getFoldsInRange(m.range);w.length>0&&(this.removeFolds(w),m.collapseChildren||w.forEach(function(C){m.addSubFold(C)}));for(var E=0;E<f.length;E++){var S=f[E];if(v==S.start.row){S.addFold(m),p=!0;break}else if(g==S.end.row){if(S.addFold(m),p=!0,!m.sameRow){var T=f[E+1];if(T&&T.start.row==v){S.merge(T);break}}break}else if(v<=S.start.row)break}return p||(S=this.$addFoldLine(new s(this.$foldData,m))),this.$useWrapMode?this.$updateWrapData(S.start.row,S.start.row):this.$updateRowLengthCache(S.start.row,S.start.row),this.$modified=!0,this._signal("changeFold",{data:m,action:"add"}),m},this.addFolds=function(d){d.forEach(function(h){this.addFold(h)},this)},this.removeFold=function(d){var h=d.foldLine,f=h.start.row,p=h.end.row,m=this.$foldData,g=h.folds;if(g.length==1)m.splice(m.indexOf(h),1);else if(h.range.isEnd(d.end.row,d.end.column))g.pop(),h.end.row=g[g.length-1].end.row,h.end.column=g[g.length-1].end.column;else if(h.range.isStart(d.start.row,d.start.column))g.shift(),h.start.row=g[0].start.row,h.start.column=g[0].start.column;else if(d.sameRow)g.splice(g.indexOf(d),1);else{var y=h.split(d.start.row,d.start.column);g=y.folds,g.shift(),y.start.row=g[0].start.row,y.start.column=g[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(f,p):this.$updateRowLengthCache(f,p)),this.$modified=!0,this._signal("changeFold",{data:d,action:"remove"})},this.removeFolds=function(d){for(var h=[],f=0;f<d.length;f++)h.push(d[f]);h.forEach(function(p){this.removeFold(p)},this),this.$modified=!0},this.expandFold=function(d){this.removeFold(d),d.subFolds.forEach(function(h){d.restoreRange(h),this.addFold(h)},this),d.collapseChildren>0&&this.foldAll(d.start.row+1,d.end.row,d.collapseChildren-1),d.subFolds=[]},this.expandFolds=function(d){d.forEach(function(h){this.expandFold(h)},this)},this.unfold=function(d,h){var f,p;if(d==null)f=new o(0,0,this.getLength(),0),h==null&&(h=!0);else if(typeof d=="number")f=new o(d,0,d,this.getLine(d).length);else if("row"in d)f=o.fromPoints(d,d);else{if(Array.isArray(d))return p=[],d.forEach(function(g){p=p.concat(this.unfold(g))},this),p;f=d}p=this.getFoldsInRangeList(f);for(var m=p;p.length==1&&o.comparePoints(p[0].start,f.start)<0&&o.comparePoints(p[0].end,f.end)>0;)this.expandFolds(p),p=this.getFoldsInRangeList(f);if(h!=!1?this.removeFolds(p):this.expandFolds(p),m.length)return m},this.isRowFolded=function(d,h){return!!this.getFoldLine(d,h)},this.getRowFoldEnd=function(d,h){var f=this.getFoldLine(d,h);return f?f.end.row:d},this.getRowFoldStart=function(d,h){var f=this.getFoldLine(d,h);return f?f.start.row:d},this.getFoldDisplayLine=function(d,h,f,p,m){p==null&&(p=d.start.row),m==null&&(m=0),h==null&&(h=d.end.row),f==null&&(f=this.getLine(h).length);var g=this.doc,y="";return d.walk(function(v,b,_,x){if(!(b<p)){if(b==p){if(_<m)return;x=Math.max(m,x)}v!=null?y+=v:y+=g.getLine(b).substring(x,_)}},h,f),y},this.getDisplayLine=function(d,h,f,p){var m=this.getFoldLine(d);if(m)return this.getFoldDisplayLine(m,d,h,f,p);var g;return g=this.doc.getLine(d),g.substring(p||0,h||g.length)},this.$cloneFoldData=function(){var d=[];return d=this.$foldData.map(function(h){var f=h.folds.map(function(p){return p.clone()});return new s(d,f)}),d},this.toggleFold=function(d){var h=this.selection,f=h.getRange(),p,m;if(f.isEmpty()){var g=f.start;if(p=this.getFoldAt(g.row,g.column),p){this.expandFold(p);return}else(m=this.findMatchingBracket(g))?f.comparePoint(m)==1?f.end=m:(f.start=m,f.start.column++,f.end.column--):(m=this.findMatchingBracket({row:g.row,column:g.column+1}))?(f.comparePoint(m)==1?f.end=m:f.start=m,f.start.column++):f=this.getCommentFoldRange(g.row,g.column)||f}else{var y=this.getFoldsInRange(f);if(d&&y.length){this.expandFolds(y);return}else y.length==1&&(p=y[0])}if(p||(p=this.getFoldAt(f.start.row,f.start.column)),p&&p.range.toString()==f.toString()){this.expandFold(p);return}var v="...";if(!f.isMultiLine()){if(v=this.getTextRange(f),v.length<4)return;v=v.trim().substring(0,2)+".."}this.addFold(v,f)},this.getCommentFoldRange=function(d,h,f){var p=new l(this,d,h),m=p.getCurrentToken(),g=m&&m.type;if(m&&/^comment|string/.test(g)){g=g.match(/comment|string/)[0],g=="comment"&&(g+="|doc-start|\\.doc");var y=new RegExp(g),v=new o;if(f!=1){do m=p.stepBackward();while(m&&y.test(m.type));m=p.stepForward()}v.start.row=p.getCurrentTokenRow(),v.start.column=p.getCurrentTokenColumn()+m.value.length,p=new l(this,d,h);var b=this.getState(p.$row);if(f!=-1){var _=-1;do if(m=p.stepForward(),_==-1){var x=this.getState(p.$row);b.toString()!==x.toString()&&(_=p.$row)}else if(p.$row>_)break;while(m&&y.test(m.type));m=p.stepBackward()}else m=p.getCurrentToken();return v.end.row=p.getCurrentTokenRow(),v.end.column=p.getCurrentTokenColumn(),v}},this.foldAll=function(d,h,f,p){f==null&&(f=1e5);var m=this.foldWidgets;if(m){h=h||this.getLength(),d=d||0;for(var g=d;g<h;g++)if(m[g]==null&&(m[g]=this.getFoldWidget(g)),m[g]=="start"&&!(p&&!p(g))){var y=this.getFoldWidgetRange(g);y&&y.isMultiLine()&&y.end.row<=h&&y.start.row>=d&&(g=y.end.row,y.collapseChildren=f,this.addFold("...",y))}}},this.foldToLevel=function(d){for(this.foldAll();d-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var d=this;this.foldAll(null,null,null,function(h){for(var f=d.getTokens(h),p=0;p<f.length;p++){var m=f[p];if(!(m.type=="text"&&/^\s+$/.test(m.value)))return!!/comment/.test(m.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(d){if(!this.$foldStyles[d])throw new Error("invalid fold style: "+d+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=d){this.$foldStyle=d,d=="manual"&&this.unfold();var h=this.$foldMode;this.$setFolding(null),this.$setFolding(h)}},this.$setFolding=function(d){if(this.$foldMode!=d){if(this.$foldMode=d,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!d||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[],this.getFoldWidget=d.getFoldWidget.bind(d,this,this.$foldStyle),this.getFoldWidgetRange=d.getFoldWidgetRange.bind(d,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(d,h){var f=this.foldWidgets;if(!f||h&&f[d])return{};for(var p=d-1,m;p>=0;){var g=f[p];if(g==null&&(g=f[p]=this.getFoldWidget(p)),g=="start"){var y=this.getFoldWidgetRange(p);if(m||(m=y),y&&y.end.row>=d)break}p--}return{range:p!==-1&&y,firstRange:m}},this.onFoldWidgetClick=function(d,h){h instanceof u&&(h=h.domEvent);var f={children:h.shiftKey,all:h.ctrlKey||h.metaKey,siblings:h.altKey},p=this.$toggleFoldWidget(d,f);if(!p){var m=h.target||h.srcElement;m&&/ace_fold-widget/.test(m.className)&&(m.className+=" ace_invalid")}},this.$toggleFoldWidget=function(d,h){if(this.getFoldWidget){var f=this.getFoldWidget(d),p=this.getLine(d),m=f==="end"?-1:1,g=this.getFoldAt(d,m===-1?0:p.length,m);if(g)return h.children||h.all?this.removeFold(g):this.expandFold(g),g;var y=this.getFoldWidgetRange(d,!0);if(y&&!y.isMultiLine()&&(g=this.getFoldAt(y.start.row,y.start.column,1),g&&y.isEqual(g.range)))return this.removeFold(g),g;if(h.siblings){var v=this.getParentFoldRangeData(d);if(v.range)var b=v.range.start.row+1,_=v.range.end.row;this.foldAll(b,_,h.all?1e4:0)}else h.children?(_=y?y.end.row:this.getLength(),this.foldAll(d+1,_,h.all?1e4:0)):y&&(h.all&&(y.collapseChildren=1e4),this.addFold("...",y));return y}},this.toggleFoldWidget=function(d){var h=this.selection.getCursor().row;h=this.getRowFoldStart(h);var f=this.$toggleFoldWidget(h,{});if(!f){var p=this.getParentFoldRangeData(h,!0);if(f=p.range||p.firstRange,f){h=f.start.row;var m=this.getFoldAt(h,this.getLine(h).length,1);m?this.removeFold(m):this.addFold("...",f)}}},this.updateFoldWidgets=function(d){var h=d.start.row,f=d.end.row-h;if(f===0)this.foldWidgets[h]=null;else if(d.action=="remove")this.foldWidgets.splice(h,f+1,null);else{var p=Array(f+1);p.unshift(h,1),this.foldWidgets.splice.apply(this.foldWidgets,p)}},this.tokenizerUpdateFoldWidgets=function(d){var h=d.data;h.first!=h.last&&this.foldWidgets.length>h.first&&this.foldWidgets.splice(h.first,this.foldWidgets.length)}}r.Folding=c}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(n,r,i){var o=n("../token_iterator").TokenIterator,s=n("../range").Range;function a(){this.findMatchingBracket=function(l,u){if(l.column==0)return null;var c=u||this.getLine(l.row).charAt(l.column-1);if(c=="")return null;var d=c.match(/([\(\[\{])|([\)\]\}])/);return d?d[1]?this.$findClosingBracket(d[1],l):this.$findOpeningBracket(d[2],l):null},this.getBracketRange=function(l){var u=this.getLine(l.row),c=!0,d,h=u.charAt(l.column-1),f=h&&h.match(/([\(\[\{])|([\)\]\}])/);if(f||(h=u.charAt(l.column),l={row:l.row,column:l.column+1},f=h&&h.match(/([\(\[\{])|([\)\]\}])/),c=!1),!f)return null;if(f[1]){var p=this.$findClosingBracket(f[1],l);if(!p)return null;d=s.fromPoints(l,p),c||(d.end.column++,d.start.column--),d.cursor=d.end}else{var p=this.$findOpeningBracket(f[2],l);if(!p)return null;d=s.fromPoints(p,l),c||(d.start.column++,d.end.column--),d.cursor=d.start}return d},this.getMatchingBracketRanges=function(l,u){var c=this.getLine(l.row),d=/([\(\[\{])|([\)\]\}])/,h=!u&&c.charAt(l.column-1),f=h&&h.match(d);if(f||(h=(u===void 0||u)&&c.charAt(l.column),l={row:l.row,column:l.column+1},f=h&&h.match(d)),!f)return null;var p=new s(l.row,l.column-1,l.row,l.column),m=f[1]?this.$findClosingBracket(f[1],l):this.$findOpeningBracket(f[2],l);if(!m)return[p];var g=new s(m.row,m.column,m.row,m.column+1);return[p,g]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(l,u,c){var d=this.$brackets[l],h=1,f=new o(this,u.row,u.column),p=f.getCurrentToken();if(p||(p=f.stepForward()),!!p){c||(c=new RegExp("(\\.?"+p.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)").replace(/-close\b/,"-(close|open)")+")+"));for(var m=u.column-f.getCurrentTokenColumn()-2,g=p.value;;){for(;m>=0;){var y=g.charAt(m);if(y==d){if(h-=1,h==0)return{row:f.getCurrentTokenRow(),column:m+f.getCurrentTokenColumn()}}else y==l&&(h+=1);m-=1}do p=f.stepBackward();while(p&&!c.test(p.type));if(p==null)break;g=p.value,m=g.length-1}return null}},this.$findClosingBracket=function(l,u,c){var d=this.$brackets[l],h=1,f=new o(this,u.row,u.column),p=f.getCurrentToken();if(p||(p=f.stepForward()),!!p){c||(c=new RegExp("(\\.?"+p.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)").replace(/-open\b/,"-(close|open)")+")+"));for(var m=u.column-f.getCurrentTokenColumn();;){for(var g=p.value,y=g.length;m<y;){var v=g.charAt(m);if(v==d){if(h-=1,h==0)return{row:f.getCurrentTokenRow(),column:m+f.getCurrentTokenColumn()}}else v==l&&(h+=1);m+=1}do p=f.stepForward();while(p&&!c.test(p.type));if(p==null)break;m=0}return null}},this.getMatchingTags=function(l){var u=new o(this,l.row,l.column),c=this.$findTagName(u);if(c){var d=u.stepBackward();return d.value==="<"?this.$findClosingTag(u,c):this.$findOpeningTag(u,c)}},this.$findTagName=function(l){var u=l.getCurrentToken(),c=!1,d=!1;if(u&&u.type.indexOf("tag-name")===-1)do d?u=l.stepBackward():u=l.stepForward(),u&&(u.value==="/>"?d=!0:u.type.indexOf("tag-name")!==-1&&(c=!0));while(u&&!c);return u},this.$findClosingTag=function(l,u){var c,d=u.value,h=u.value,f=0,p=new s(l.getCurrentTokenRow(),l.getCurrentTokenColumn(),l.getCurrentTokenRow(),l.getCurrentTokenColumn()+1);u=l.stepForward();var m=new s(l.getCurrentTokenRow(),l.getCurrentTokenColumn(),l.getCurrentTokenRow(),l.getCurrentTokenColumn()+u.value.length),g=!1;do{if(c=u,c.type.indexOf("tag-close")!==-1&&!g){var y=new s(l.getCurrentTokenRow(),l.getCurrentTokenColumn(),l.getCurrentTokenRow(),l.getCurrentTokenColumn()+1);g=!0}if(u=l.stepForward(),u){if(u.value===">"&&!g){var y=new s(l.getCurrentTokenRow(),l.getCurrentTokenColumn(),l.getCurrentTokenRow(),l.getCurrentTokenColumn()+1);g=!0}if(u.type.indexOf("tag-name")!==-1){if(d=u.value,h===d){if(c.value==="<")f++;else if(c.value==="</"&&(f--,f<0)){l.stepBackward();var v=new s(l.getCurrentTokenRow(),l.getCurrentTokenColumn(),l.getCurrentTokenRow(),l.getCurrentTokenColumn()+2);u=l.stepForward();var b=new s(l.getCurrentTokenRow(),l.getCurrentTokenColumn(),l.getCurrentTokenRow(),l.getCurrentTokenColumn()+u.value.length);if(u.type.indexOf("tag-close")===-1&&(u=l.stepForward()),u&&u.value===">")var _=new s(l.getCurrentTokenRow(),l.getCurrentTokenColumn(),l.getCurrentTokenRow(),l.getCurrentTokenColumn()+1);else return}}}else if(h===d&&u.value==="/>"&&(f--,f<0))var v=new s(l.getCurrentTokenRow(),l.getCurrentTokenColumn(),l.getCurrentTokenRow(),l.getCurrentTokenColumn()+2),b=v,_=b,y=new s(m.end.row,m.end.column,m.end.row,m.end.column+1)}}while(u&&f>=0);if(p&&y&&v&&_&&m&&b)return{openTag:new s(p.start.row,p.start.column,y.end.row,y.end.column),closeTag:new s(v.start.row,v.start.column,_.end.row,_.end.column),openTagName:m,closeTagName:b}},this.$findOpeningTag=function(l,u){var c=l.getCurrentToken(),d=u.value,h=0,f=l.getCurrentTokenRow(),p=l.getCurrentTokenColumn(),m=p+2,g=new s(f,p,f,m);l.stepForward();var y=new s(l.getCurrentTokenRow(),l.getCurrentTokenColumn(),l.getCurrentTokenRow(),l.getCurrentTokenColumn()+u.value.length);if(u.type.indexOf("tag-close")===-1&&(u=l.stepForward()),!(!u||u.value!==">")){var v=new s(l.getCurrentTokenRow(),l.getCurrentTokenColumn(),l.getCurrentTokenRow(),l.getCurrentTokenColumn()+1);l.stepBackward(),l.stepBackward();do if(u=c,f=l.getCurrentTokenRow(),p=l.getCurrentTokenColumn(),m=p+u.value.length,c=l.stepBackward(),u){if(u.type.indexOf("tag-name")!==-1){if(d===u.value)if(c.value==="<"){if(h++,h>0){var b=new s(f,p,f,m),_=new s(l.getCurrentTokenRow(),l.getCurrentTokenColumn(),l.getCurrentTokenRow(),l.getCurrentTokenColumn()+1);do u=l.stepForward();while(u&&u.value!==">");var x=new s(l.getCurrentTokenRow(),l.getCurrentTokenColumn(),l.getCurrentTokenRow(),l.getCurrentTokenColumn()+1)}}else c.value==="</"&&h--}else if(u.value==="/>"){for(var w=0,E=c;E;){if(E.type.indexOf("tag-name")!==-1&&E.value===d){h--;break}else if(E.value==="<")break;E=l.stepBackward(),w++}for(var S=0;S<w;S++)l.stepForward()}}while(c&&h<=0);if(_&&x&&g&&v&&b&&y)return{openTag:new s(_.start.row,_.start.column,x.end.row,x.end.column),closeTag:new s(g.start.row,g.start.column,v.end.row,v.end.column),openTagName:b,closeTagName:y}}}}r.BracketMatch=a}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/line_widgets","ace/document","ace/background_tokenizer","ace/search_highlight","ace/undomanager","ace/edit_session/folding","ace/edit_session/bracket_match"],function(n,r,i){var o=n("./lib/oop"),s=n("./lib/lang"),a=n("./bidihandler").BidiHandler,l=n("./config"),u=n("./lib/event_emitter").EventEmitter,c=n("./selection").Selection,d=n("./mode/text").Mode,h=n("./range").Range,f=n("./line_widgets").LineWidgets,p=n("./document").Document,m=n("./background_tokenizer").BackgroundTokenizer,g=n("./search_highlight").SearchHighlight,y=n("./undomanager").UndoManager,v=function(){function $(I,R){this.doc,this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$editor=null,this.prevOp={},this.$foldData=[],this.id="session"+ ++$.$uid,this.$foldData.toString=function(){return this.join(`
`)},this.bgTokenizer=new m(new d().getTokenizer(),this);var A=this;this.bgTokenizer.on("update",function(M){A._signal("tokenizerUpdate",M)}),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),(typeof I!="object"||!I.getLine)&&(I=new p(I)),this.setDocument(I),this.selection=new c(this),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.selection.on("changeCursor",this.$onSelectionChange),this.$bidiHandler=new a(this),l.resetOptions(this),this.setMode(R),l._signal("session",this),this.destroyed=!1,this.$initOperationListeners()}return $.prototype.$initOperationListeners=function(){var I=this;this.curOp=null,this.on("change",function(){I.curOp||(I.startOperation(),I.curOp.selectionBefore=I.$lastSel),I.curOp.docChanged=!0},!0),this.on("changeSelection",function(){I.curOp||(I.startOperation(),I.curOp.selectionBefore=I.$lastSel),I.curOp.selectionChanged=!0},!0),this.$operationResetTimer=s.delayedCall(this.endOperation.bind(this,!0))},$.prototype.startOperation=function(I){if(this.curOp){if(!I||this.curOp.command)return;this.prevOp=this.curOp}I||(I={}),this.$operationResetTimer.schedule(),this.curOp={command:I.command||{},args:I.args},this.curOp.selectionBefore=this.selection.toJSON(),this._signal("startOperation",I)},$.prototype.endOperation=function(I){if(this.curOp){if(I&&I.returnValue===!1){this.curOp=null,this._signal("endOperation",I);return}if(I==!0&&this.curOp.command&&this.curOp.command.name=="mouse")return;var R=this.selection.toJSON();this.curOp.selectionAfter=R,this.$lastSel=this.selection.toJSON(),this.getUndoManager().addSelection(R),this._signal("beforeEndOperation"),this.prevOp=this.curOp,this.curOp=null,this._signal("endOperation",I)}},$.prototype.setDocument=function(I){this.doc&&this.doc.off("change",this.$onChange),this.doc=I,I.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},$.prototype.getDocument=function(){return this.doc},Object.defineProperty($.prototype,"widgetManager",{get:function(){var I=new f(this);return this.widgetManager=I,this.$editor&&I.attach(this.$editor),I},set:function(I){Object.defineProperty(this,"widgetManager",{writable:!0,enumerable:!0,configurable:!0,value:I})},enumerable:!1,configurable:!0}),$.prototype.$resetRowCache=function(I){if(!I){this.$docRowCache=[],this.$screenRowCache=[];return}var R=this.$docRowCache.length,A=this.$getRowCacheIndex(this.$docRowCache,I)+1;R>A&&(this.$docRowCache.splice(A,R),this.$screenRowCache.splice(A,R))},$.prototype.$getRowCacheIndex=function(I,R){for(var A=0,M=I.length-1;A<=M;){var N=A+M>>1,L=I[N];if(R>L)A=N+1;else if(R<L)M=N-1;else return N}return A-1},$.prototype.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},$.prototype.onChangeFold=function(I){var R=I.data;this.$resetRowCache(R.start.row)},$.prototype.onChange=function(I){this.$modified=!0,this.$bidiHandler.onChange(I),this.$resetRowCache(I.start.row);var R=this.$updateInternalDataOnChange(I);!this.$fromUndo&&this.$undoManager&&(R&&R.length&&(this.$undoManager.add({action:"removeFolds",folds:R},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(I,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(I),this._signal("change",I)},$.prototype.onSelectionChange=function(){this._signal("changeSelection")},$.prototype.setValue=function(I){this.doc.setValue(I),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},$.fromJSON=function(I){typeof I=="string"&&(I=JSON.parse(I));var R=new y;R.$undoStack=I.history.undo,R.$redoStack=I.history.redo,R.mark=I.history.mark,R.$rev=I.history.rev;var A=new $(I.value);return I.folds.forEach(function(M){A.addFold("...",h.fromPoints(M.start,M.end))}),A.setAnnotations(I.annotations),A.setBreakpoints(I.breakpoints),A.setMode(I.mode),A.setScrollLeft(I.scrollLeft),A.setScrollTop(I.scrollTop),A.setUndoManager(R),A.selection.fromJSON(I.selection),A},$.prototype.toJSON=function(){return{annotations:this.$annotations,breakpoints:this.$breakpoints,folds:this.getAllFolds().map(function(I){return I.range}),history:this.getUndoManager(),mode:this.$mode.$id,scrollLeft:this.$scrollLeft,scrollTop:this.$scrollTop,selection:this.selection.toJSON(),value:this.doc.getValue()}},$.prototype.toString=function(){return this.doc.getValue()},$.prototype.getSelection=function(){return this.selection},$.prototype.getState=function(I){return this.bgTokenizer.getState(I)},$.prototype.getTokens=function(I){return this.bgTokenizer.getTokens(I)},$.prototype.getTokenAt=function(I,R){var A=this.bgTokenizer.getTokens(I),M,N=0;if(R==null){var L=A.length-1;N=this.getLine(I).length}else for(var L=0;L<A.length&&(N+=A[L].value.length,!(N>=R));L++);return M=A[L],M?(M.index=L,M.start=N-M.value.length,M):null},$.prototype.setUndoManager=function(I){if(this.$undoManager=I,this.$informUndoManager&&this.$informUndoManager.cancel(),I){var R=this;I.addSession(this),this.$syncInformUndoManager=function(){R.$informUndoManager.cancel(),R.mergeUndoDeltas=!1},this.$informUndoManager=s.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},$.prototype.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},$.prototype.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},$.prototype.getTabString=function(){return this.getUseSoftTabs()?s.stringRepeat(" ",this.getTabSize()):"	"},$.prototype.setUseSoftTabs=function(I){this.setOption("useSoftTabs",I)},$.prototype.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},$.prototype.setTabSize=function(I){this.setOption("tabSize",I)},$.prototype.getTabSize=function(){return this.$tabSize},$.prototype.isTabStop=function(I){return this.$useSoftTabs&&I.column%this.$tabSize===0},$.prototype.setNavigateWithinSoftTabs=function(I){this.setOption("navigateWithinSoftTabs",I)},$.prototype.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},$.prototype.setOverwrite=function(I){this.setOption("overwrite",I)},$.prototype.getOverwrite=function(){return this.$overwrite},$.prototype.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},$.prototype.addGutterDecoration=function(I,R){this.$decorations[I]||(this.$decorations[I]=""),this.$decorations[I]+=" "+R,this._signal("changeBreakpoint",{})},$.prototype.removeGutterDecoration=function(I,R){this.$decorations[I]=(this.$decorations[I]||"").replace(" "+R,""),this._signal("changeBreakpoint",{})},$.prototype.getBreakpoints=function(){return this.$breakpoints},$.prototype.setBreakpoints=function(I){this.$breakpoints=[];for(var R=0;R<I.length;R++)this.$breakpoints[I[R]]="ace_breakpoint";this._signal("changeBreakpoint",{})},$.prototype.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},$.prototype.setBreakpoint=function(I,R){R===void 0&&(R="ace_breakpoint"),R?this.$breakpoints[I]=R:delete this.$breakpoints[I],this._signal("changeBreakpoint",{})},$.prototype.clearBreakpoint=function(I){delete this.$breakpoints[I],this._signal("changeBreakpoint",{})},$.prototype.addMarker=function(I,R,A,M){var N=this.$markerId++,L={range:I,type:A||"line",renderer:typeof A=="function"?A:null,clazz:R,inFront:!!M,id:N};return M?(this.$frontMarkers[N]=L,this._signal("changeFrontMarker")):(this.$backMarkers[N]=L,this._signal("changeBackMarker")),N},$.prototype.addDynamicMarker=function(I,R){if(I.update){var A=this.$markerId++;return I.id=A,I.inFront=!!R,R?(this.$frontMarkers[A]=I,this._signal("changeFrontMarker")):(this.$backMarkers[A]=I,this._signal("changeBackMarker")),I}},$.prototype.removeMarker=function(I){var R=this.$frontMarkers[I]||this.$backMarkers[I];if(R){var A=R.inFront?this.$frontMarkers:this.$backMarkers;delete A[I],this._signal(R.inFront?"changeFrontMarker":"changeBackMarker")}},$.prototype.getMarkers=function(I){return I?this.$frontMarkers:this.$backMarkers},$.prototype.highlight=function(I){if(!this.$searchHighlight){var R=new g(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(R)}this.$searchHighlight.setRegexp(I)},$.prototype.highlightLines=function(I,R,A,M){typeof R!="number"&&(A=R,R=I),A||(A="ace_step");var N=new h(I,0,R,1/0);return N.id=this.addMarker(N,A,"fullLine",M),N},$.prototype.setAnnotations=function(I){this.$annotations=I,this._signal("changeAnnotation",{})},$.prototype.getAnnotations=function(){return this.$annotations||[]},$.prototype.clearAnnotations=function(){this.setAnnotations([])},$.prototype.$detectNewLine=function(I){var R=I.match(/^.*?(\r?\n)/m);R?this.$autoNewLine=R[1]:this.$autoNewLine=`
`},$.prototype.getWordRange=function(I,R){var A=this.getLine(I),M=!1;if(R>0&&(M=!!A.charAt(R-1).match(this.tokenRe)),M||(M=!!A.charAt(R).match(this.tokenRe)),M)var N=this.tokenRe;else if(/^\s+$/.test(A.slice(R-1,R+1)))var N=/\s/;else var N=this.nonTokenRe;var L=R;if(L>0){do L--;while(L>=0&&A.charAt(L).match(N));L++}for(var z=R;z<A.length&&A.charAt(z).match(N);)z++;return new h(I,L,I,z)},$.prototype.getAWordRange=function(I,R){for(var A=this.getWordRange(I,R),M=this.getLine(A.end.row);M.charAt(A.end.column).match(/[ \t]/);)A.end.column+=1;return A},$.prototype.setNewLineMode=function(I){this.doc.setNewLineMode(I)},$.prototype.getNewLineMode=function(){return this.doc.getNewLineMode()},$.prototype.setUseWorker=function(I){this.setOption("useWorker",I)},$.prototype.getUseWorker=function(){return this.$useWorker},$.prototype.onReloadTokenizer=function(I){var R=I.data;this.bgTokenizer.start(R.first),this._signal("tokenizerUpdate",I)},$.prototype.setMode=function(I,R){if(I&&typeof I=="object"){if(I.getTokenizer)return this.$onChangeMode(I);var A=I,M=A.path}else M=I||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new d),this.$modes[M]&&!A){this.$onChangeMode(this.$modes[M]),R&&R();return}this.$modeId=M,l.loadModule(["mode",M],(function(N){if(!this.destroyed){if(this.$modeId!==M)return R&&R();this.$modes[M]&&!A?this.$onChangeMode(this.$modes[M]):N&&N.Mode&&(N=new N.Mode(A),A||(this.$modes[M]=N,N.$id=M),this.$onChangeMode(N)),R&&R()}}).bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},$.prototype.$onChangeMode=function(I,R){if(R||(this.$modeId=I.$id),this.$mode!==I){var A=this.$mode;this.$mode=I,this.$stopWorker(),this.$useWorker&&this.$startWorker();var M=I.getTokenizer();if(M.on!==void 0){var N=this.onReloadTokenizer.bind(this);M.on("update",N)}this.bgTokenizer.setTokenizer(M),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=I.tokenRe,this.nonTokenRe=I.nonTokenRe,R||(I.attachToSession&&I.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(I.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:A,mode:I}))}},$.prototype.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},$.prototype.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(I){l.warn("Could not load worker",I),this.$worker=null}},$.prototype.getMode=function(){return this.$mode},$.prototype.setScrollTop=function(I){this.$scrollTop===I||isNaN(I)||(this.$scrollTop=I,this._signal("changeScrollTop",I))},$.prototype.getScrollTop=function(){return this.$scrollTop},$.prototype.setScrollLeft=function(I){this.$scrollLeft===I||isNaN(I)||(this.$scrollLeft=I,this._signal("changeScrollLeft",I))},$.prototype.getScrollLeft=function(){return this.$scrollLeft},$.prototype.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},$.prototype.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var I=0;return this.lineWidgets.forEach(function(R){R&&R.screenWidth>I&&(I=R.screenWidth)}),this.lineWidgetWidth=I},$.prototype.$computeWidth=function(I){if(this.$modified||I){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var R=this.doc.getAllLines(),A=this.$rowLengthCache,M=0,N=0,L=this.$foldData[N],z=L?L.start.row:1/0,F=R.length,j=0;j<F;j++){if(j>z){if(j=L.end.row+1,j>=F)break;L=this.$foldData[N++],z=L?L.start.row:1/0}A[j]==null&&(A[j]=this.$getStringScreenWidth(R[j])[0]),A[j]>M&&(M=A[j])}this.screenWidth=M}},$.prototype.getLine=function(I){return this.doc.getLine(I)},$.prototype.getLines=function(I,R){return this.doc.getLines(I,R)},$.prototype.getLength=function(){return this.doc.getLength()},$.prototype.getTextRange=function(I){return this.doc.getTextRange(I||this.selection.getRange())},$.prototype.insert=function(I,R){return this.doc.insert(I,R)},$.prototype.remove=function(I){return this.doc.remove(I)},$.prototype.removeFullLines=function(I,R){return this.doc.removeFullLines(I,R)},$.prototype.undoChanges=function(I,R){if(I.length){this.$fromUndo=!0;for(var A=I.length-1;A!=-1;A--){var M=I[A];M.action=="insert"||M.action=="remove"?this.doc.revertDelta(M):M.folds&&this.addFolds(M.folds)}!R&&this.$undoSelect&&(I.selectionBefore?this.selection.fromJSON(I.selectionBefore):this.selection.setRange(this.$getUndoSelection(I,!0))),this.$fromUndo=!1}},$.prototype.redoChanges=function(I,R){if(I.length){this.$fromUndo=!0;for(var A=0;A<I.length;A++){var M=I[A];(M.action=="insert"||M.action=="remove")&&this.doc.$safeApplyDelta(M)}!R&&this.$undoSelect&&(I.selectionAfter?this.selection.fromJSON(I.selectionAfter):this.selection.setRange(this.$getUndoSelection(I,!1))),this.$fromUndo=!1}},$.prototype.setUndoSelect=function(I){this.$undoSelect=I},$.prototype.$getUndoSelection=function(I,R){function A(F){return R?F.action!=="insert":F.action==="insert"}for(var M,N,L=0;L<I.length;L++){var z=I[L];if(z.start){if(!M){A(z)?M=h.fromPoints(z.start,z.end):M=h.fromPoints(z.start,z.start);continue}A(z)?(N=z.start,M.compare(N.row,N.column)==-1&&M.setStart(N),N=z.end,M.compare(N.row,N.column)==1&&M.setEnd(N)):(N=z.start,M.compare(N.row,N.column)==-1&&(M=h.fromPoints(z.start,z.start)))}}return M},$.prototype.replace=function(I,R){return this.doc.replace(I,R)},$.prototype.moveText=function(I,R,A){var M=this.getTextRange(I),N=this.getFoldsInRange(I),L=h.fromPoints(R,R);if(!A){this.remove(I);var z=I.start.row-I.end.row,F=z?-I.end.column:I.start.column-I.end.column;F&&(L.start.row==I.end.row&&L.start.column>I.end.column&&(L.start.column+=F),L.end.row==I.end.row&&L.end.column>I.end.column&&(L.end.column+=F)),z&&L.start.row>=I.end.row&&(L.start.row+=z,L.end.row+=z)}if(L.end=this.insert(L.start,M),N.length){var j=I.start,W=L.start,z=W.row-j.row,F=W.column-j.column;this.addFolds(N.map(function(V){return V=V.clone(),V.start.row==j.row&&(V.start.column+=F),V.end.row==j.row&&(V.end.column+=F),V.start.row+=z,V.end.row+=z,V}))}return L},$.prototype.indentRows=function(I,R,A){A=A.replace(/\t/g,this.getTabString());for(var M=I;M<=R;M++)this.doc.insertInLine({row:M,column:0},A)},$.prototype.outdentRows=function(I){for(var R=I.collapseRows(),A=new h(0,0,0,0),M=this.getTabSize(),N=R.start.row;N<=R.end.row;++N){var L=this.getLine(N);A.start.row=N,A.end.row=N;for(var z=0;z<M&&L.charAt(z)==" ";++z);z<M&&L.charAt(z)=="	"?(A.start.column=z,A.end.column=z+1):(A.start.column=0,A.end.column=z),this.remove(A)}},$.prototype.$moveLines=function(I,R,A){if(I=this.getRowFoldStart(I),R=this.getRowFoldEnd(R),A<0){var M=this.getRowFoldStart(I+A);if(M<0)return 0;var N=M-I}else if(A>0){var M=this.getRowFoldEnd(R+A);if(M>this.doc.getLength()-1)return 0;var N=M-R}else{I=this.$clipRowToDocument(I),R=this.$clipRowToDocument(R);var N=R-I+1}var L=new h(I,0,R,Number.MAX_VALUE),z=this.getFoldsInRange(L).map(function(j){return j=j.clone(),j.start.row+=N,j.end.row+=N,j}),F=A==0?this.doc.getLines(I,R):this.doc.removeFullLines(I,R);return this.doc.insertFullLines(I+N,F),z.length&&this.addFolds(z),N},$.prototype.moveLinesUp=function(I,R){return this.$moveLines(I,R,-1)},$.prototype.moveLinesDown=function(I,R){return this.$moveLines(I,R,1)},$.prototype.duplicateLines=function(I,R){return this.$moveLines(I,R,0)},$.prototype.$clipRowToDocument=function(I){return Math.max(0,Math.min(I,this.doc.getLength()-1))},$.prototype.$clipColumnToRow=function(I,R){return R<0?0:Math.min(this.doc.getLine(I).length,R)},$.prototype.$clipPositionToDocument=function(I,R){if(R=Math.max(0,R),I<0)I=0,R=0;else{var A=this.doc.getLength();I>=A?(I=A-1,R=this.doc.getLine(A-1).length):R=Math.min(this.doc.getLine(I).length,R)}return{row:I,column:R}},$.prototype.$clipRangeToDocument=function(I){I.start.row<0?(I.start.row=0,I.start.column=0):I.start.column=this.$clipColumnToRow(I.start.row,I.start.column);var R=this.doc.getLength()-1;return I.end.row>R?(I.end.row=R,I.end.column=this.doc.getLine(R).length):I.end.column=this.$clipColumnToRow(I.end.row,I.end.column),I},$.prototype.setUseWrapMode=function(I){if(I!=this.$useWrapMode){if(this.$useWrapMode=I,this.$modified=!0,this.$resetRowCache(0),I){var R=this.getLength();this.$wrapData=Array(R),this.$updateWrapData(0,R-1)}this._signal("changeWrapMode")}},$.prototype.getUseWrapMode=function(){return this.$useWrapMode},$.prototype.setWrapLimitRange=function(I,R){(this.$wrapLimitRange.min!==I||this.$wrapLimitRange.max!==R)&&(this.$wrapLimitRange={min:I,max:R},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},$.prototype.adjustWrapLimit=function(I,R){var A=this.$wrapLimitRange;A.max<0&&(A={min:R,max:R});var M=this.$constrainWrapLimit(I,A.min,A.max);return M!=this.$wrapLimit&&M>1?(this.$wrapLimit=M,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},$.prototype.$constrainWrapLimit=function(I,R,A){return R&&(I=Math.max(R,I)),A&&(I=Math.min(A,I)),I},$.prototype.getWrapLimit=function(){return this.$wrapLimit},$.prototype.setWrapLimit=function(I){this.setWrapLimitRange(I,I)},$.prototype.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},$.prototype.$updateInternalDataOnChange=function(I){var R=this.$useWrapMode,A=I.action,M=I.start,N=I.end,L=M.row,z=N.row,F=z-L,j=null;if(this.$updating=!0,F!=0)if(A==="remove"){this[R?"$wrapData":"$rowLengthCache"].splice(L,F);var W=this.$foldData;j=this.getFoldsInRange(I),this.removeFolds(j);var B=this.getFoldLine(N.row),H=0;if(B){B.addRemoveChars(N.row,N.column,M.column-N.column),B.shiftRow(-F);var V=this.getFoldLine(L);V&&V!==B&&(V.merge(B),B=V),H=W.indexOf(B)+1}for(H;H<W.length;H++){var B=W[H];B.start.row>=N.row&&B.shiftRow(-F)}z=L}else{var G=Array(F);G.unshift(L,0);var ne=R?this.$wrapData:this.$rowLengthCache;ne.splice.apply(ne,G);var W=this.$foldData,B=this.getFoldLine(L),H=0;if(B){var X=B.range.compareInside(M.row,M.column);X==0?(B=B.split(M.row,M.column),B&&(B.shiftRow(F),B.addRemoveChars(z,0,N.column-M.column))):X==-1&&(B.addRemoveChars(L,0,N.column-M.column),B.shiftRow(F)),H=W.indexOf(B)+1}for(H;H<W.length;H++){var B=W[H];B.start.row>=L&&B.shiftRow(F)}}else{F=Math.abs(I.start.column-I.end.column),A==="remove"&&(j=this.getFoldsInRange(I),this.removeFolds(j),F=-F);var B=this.getFoldLine(L);B&&B.addRemoveChars(L,M.column,F)}return R&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,R?this.$updateWrapData(L,z):this.$updateRowLengthCache(L,z),j},$.prototype.$updateRowLengthCache=function(I,R){this.$rowLengthCache[I]=null,this.$rowLengthCache[R]=null},$.prototype.$updateWrapData=function(I,R){var A=this.doc.getAllLines(),M=this.getTabSize(),N=this.$wrapData,L=this.$wrapLimit,z,F,j=I;for(R=Math.min(R,A.length-1);j<=R;)F=this.getFoldLine(j,F),F?(z=[],F.walk((function(W,B,H,V){var G;if(W!=null){G=this.$getDisplayTokens(W,z.length),G[0]=x;for(var ne=1;ne<G.length;ne++)G[ne]=w}else G=this.$getDisplayTokens(A[B].substring(V,H),z.length);z=z.concat(G)}).bind(this),F.end.row,A[F.end.row].length+1),N[F.start.row]=this.$computeWrapSplits(z,L,M),j=F.end.row+1):(z=this.$getDisplayTokens(A[j]),N[j]=this.$computeWrapSplits(z,L,M),j++)},$.prototype.$computeWrapSplits=function(I,R,A){if(I.length==0)return[];var M=[],N=I.length,L=0,z=0,F=this.$wrapAsCode,j=this.$indentedSoftWrap,W=R<=Math.max(2*A,8)||j===!1?0:Math.floor(R/2);function B(){var X=0;if(W===0)return X;if(j)for(var te=0;te<I.length;te++){var se=I[te];if(se==S)X+=1;else if(se==T)X+=A;else{if(se==C)continue;break}}return F&&j!==!1&&(X+=A),Math.min(X,W)}function H(X){for(var te=X-L,se=L;se<X;se++){var ve=I[se];(ve===12||ve===2)&&(te-=1)}M.length||(V=B(),M.indent=V),z+=te,M.push(z),L=X}for(var V=0;N-L>R-V;){var G=L+R-V;if(I[G-1]>=S&&I[G]>=S){H(G);continue}if(I[G]==x||I[G]==w){for(G;G!=L-1&&I[G]!=x;G--);if(G>L){H(G);continue}for(G=L+R,G;G<I.length&&I[G]==w;G++);if(G==I.length)break;H(G);continue}for(var ne=Math.max(G-(R-(R>>2)),L-1);G>ne&&I[G]<x;)G--;if(F){for(;G>ne&&I[G]<x;)G--;for(;G>ne&&I[G]==E;)G--}else for(;G>ne&&I[G]<S;)G--;if(G>ne){H(++G);continue}G=L+R,I[G]==_&&G--,H(G-V)}return M},$.prototype.$getDisplayTokens=function(I,R){var A=[],M;R=R||0;for(var N=0;N<I.length;N++){var L=I.charCodeAt(N);if(L==9){M=this.getScreenTabSize(A.length+R),A.push(T);for(var z=1;z<M;z++)A.push(C)}else L==32?A.push(S):L>39&&L<48||L>57&&L<64?A.push(E):L>=4352&&D(L)?A.push(b,_):A.push(b)}return A},$.prototype.$getStringScreenWidth=function(I,R,A){if(R==0)return[0,0];R==null&&(R=1/0),A=A||0;var M,N;for(N=0;N<I.length&&(M=I.charCodeAt(N),M==9?A+=this.getScreenTabSize(A):M>=4352&&D(M)?A+=2:A+=1,!(A>R));N++);return[A,N]},$.prototype.getRowLength=function(I){var R=1;return this.lineWidgets&&(R+=this.lineWidgets[I]&&this.lineWidgets[I].rowCount||0),!this.$useWrapMode||!this.$wrapData[I]?R:this.$wrapData[I].length+R},$.prototype.getRowLineCount=function(I){return!this.$useWrapMode||!this.$wrapData[I]?1:this.$wrapData[I].length+1},$.prototype.getRowWrapIndent=function(I){if(this.$useWrapMode){var R=this.screenToDocumentPosition(I,Number.MAX_VALUE),A=this.$wrapData[R.row];return A.length&&A[0]<R.column?A.indent:0}else return 0},$.prototype.getScreenLastRowColumn=function(I){var R=this.screenToDocumentPosition(I,Number.MAX_VALUE);return this.documentToScreenColumn(R.row,R.column)},$.prototype.getDocumentLastRowColumn=function(I,R){var A=this.documentToScreenRow(I,R);return this.getScreenLastRowColumn(A)},$.prototype.getDocumentLastRowColumnPosition=function(I,R){var A=this.documentToScreenRow(I,R);return this.screenToDocumentPosition(A,Number.MAX_VALUE/10)},$.prototype.getRowSplitData=function(I){if(this.$useWrapMode)return this.$wrapData[I]},$.prototype.getScreenTabSize=function(I){return this.$tabSize-(I%this.$tabSize|0)},$.prototype.screenToDocumentRow=function(I,R){return this.screenToDocumentPosition(I,R).row},$.prototype.screenToDocumentColumn=function(I,R){return this.screenToDocumentPosition(I,R).column},$.prototype.screenToDocumentPosition=function(I,R,A){if(I<0)return{row:0,column:0};var M,N=0,L=0,z,F=0,j=0,W=this.$screenRowCache,B=this.$getRowCacheIndex(W,I),H=W.length;if(H&&B>=0)var F=W[B],N=this.$docRowCache[B],V=I>W[H-1];else var V=!H;for(var G=this.getLength()-1,ne=this.getNextFoldLine(N),X=ne?ne.start.row:1/0;F<=I&&(j=this.getRowLength(N),!(F+j>I||N>=G));)F+=j,N++,N>X&&(N=ne.end.row+1,ne=this.getNextFoldLine(N,ne),X=ne?ne.start.row:1/0),V&&(this.$docRowCache.push(N),this.$screenRowCache.push(F));if(ne&&ne.start.row<=N)M=this.getFoldDisplayLine(ne),N=ne.start.row;else{if(F+j<=I||N>G)return{row:G,column:this.getLine(G).length};M=this.getLine(N),ne=null}var te=0,se=Math.floor(I-F);if(this.$useWrapMode){var ve=this.$wrapData[N];ve&&(z=ve[se],se>0&&ve.length&&(te=ve.indent,L=ve[se-1]||ve[ve.length-1],M=M.substring(L)))}return A!==void 0&&this.$bidiHandler.isBidiRow(F+se,N,se)&&(R=this.$bidiHandler.offsetToCol(A)),L+=this.$getStringScreenWidth(M,R-te)[1],this.$useWrapMode&&L>=z&&(L=z-1),ne?ne.idxToPosition(L):{row:N,column:L}},$.prototype.documentToScreenPosition=function(I,R){if(typeof R>"u")var A=this.$clipPositionToDocument(I.row,I.column);else A=this.$clipPositionToDocument(I,R);I=A.row,R=A.column;var M=0,N=null,L=null;L=this.getFoldAt(I,R,1),L&&(I=L.start.row,R=L.start.column);var z,F=0,j=this.$docRowCache,W=this.$getRowCacheIndex(j,I),B=j.length;if(B&&W>=0)var F=j[W],M=this.$screenRowCache[W],H=I>j[B-1];else var H=!B;for(var V=this.getNextFoldLine(F),G=V?V.start.row:1/0;F<I;){if(F>=G){if(z=V.end.row+1,z>I)break;V=this.getNextFoldLine(z,V),G=V?V.start.row:1/0}else z=F+1;M+=this.getRowLength(F),F=z,H&&(this.$docRowCache.push(F),this.$screenRowCache.push(M))}var ne="";V&&F>=G?(ne=this.getFoldDisplayLine(V,I,R),N=V.start.row):(ne=this.getLine(I).substring(0,R),N=I);var X=0;if(this.$useWrapMode){var te=this.$wrapData[N];if(te){for(var se=0;ne.length>=te[se];)M++,se++;ne=ne.substring(te[se-1]||0,ne.length),X=se>0?te.indent:0}}return this.lineWidgets&&this.lineWidgets[F]&&this.lineWidgets[F].rowsAbove&&(M+=this.lineWidgets[F].rowsAbove),{row:M,column:X+this.$getStringScreenWidth(ne)[0]}},$.prototype.documentToScreenColumn=function(I,R){return this.documentToScreenPosition(I,R).column},$.prototype.documentToScreenRow=function(I,R){return this.documentToScreenPosition(I,R).row},$.prototype.getScreenLength=function(){var I=0,R=null;if(this.$useWrapMode)for(var N=this.$wrapData.length,L=0,M=0,R=this.$foldData[M++],z=R?R.start.row:1/0;L<N;){var F=this.$wrapData[L];I+=F?F.length+1:1,L++,L>z&&(L=R.end.row+1,R=this.$foldData[M++],z=R?R.start.row:1/0)}else{I=this.getLength();for(var A=this.$foldData,M=0;M<A.length;M++)R=A[M],I-=R.end.row-R.start.row}return this.lineWidgets&&(I+=this.$getWidgetScreenLength()),I},$.prototype.$setFontMetrics=function(I){this.$enableVarChar&&(this.$getStringScreenWidth=function(R,A,M){if(A===0)return[0,0];A||(A=1/0),M=M||0;var N,L;for(L=0;L<R.length&&(N=R.charAt(L),N==="	"?M+=this.getScreenTabSize(M):M+=I.getCharacterWidth(N),!(M>A));L++);return[M,L]})},$.prototype.getPrecedingCharacter=function(){var I=this.selection.getCursor();if(I.column===0)return I.row===0?"":this.doc.getNewLineCharacter();var R=this.getLine(I.row);return R[I.column-1]},$.prototype.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.endOperation(),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection&&(this.selection.off("changeCursor",this.$onSelectionChange),this.selection.off("changeSelection",this.$onSelectionChange)),this.selection.detach()},$}();v.$uid=0,v.prototype.$modes=l.$modes,v.prototype.getValue=v.prototype.toString,v.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},v.prototype.$overwrite=!1,v.prototype.$mode=null,v.prototype.$modeId=null,v.prototype.$scrollTop=0,v.prototype.$scrollLeft=0,v.prototype.$wrapLimit=80,v.prototype.$useWrapMode=!1,v.prototype.$wrapLimitRange={min:null,max:null},v.prototype.lineWidgets=null,v.prototype.isFullWidth=D,o.implement(v.prototype,u);var b=1,_=2,x=3,w=4,E=9,S=10,T=11,C=12;function D($){return $<4352?!1:$>=4352&&$<=4447||$>=4515&&$<=4519||$>=4602&&$<=4607||$>=9001&&$<=9002||$>=11904&&$<=11929||$>=11931&&$<=12019||$>=12032&&$<=12245||$>=12272&&$<=12283||$>=12288&&$<=12350||$>=12353&&$<=12438||$>=12441&&$<=12543||$>=12549&&$<=12589||$>=12593&&$<=12686||$>=12688&&$<=12730||$>=12736&&$<=12771||$>=12784&&$<=12830||$>=12832&&$<=12871||$>=12880&&$<=13054||$>=13056&&$<=19903||$>=19968&&$<=42124||$>=42128&&$<=42182||$>=43360&&$<=43388||$>=44032&&$<=55203||$>=55216&&$<=55238||$>=55243&&$<=55291||$>=63744&&$<=64255||$>=65040&&$<=65049||$>=65072&&$<=65106||$>=65108&&$<=65126||$>=65128&&$<=65131||$>=65281&&$<=65376||$>=65504&&$<=65510}n("./edit_session/folding").Folding.call(v.prototype),n("./edit_session/bracket_match").BracketMatch.call(v.prototype),l.defineOptions(v.prototype,"session",{wrap:{set:function($){if(!$||$=="off"?$=!1:$=="free"?$=!0:$=="printMargin"?$=-1:typeof $=="string"&&($=parseInt($,10)||!1),this.$wrap!=$)if(this.$wrap=$,!$)this.setUseWrapMode(!1);else{var I=typeof $=="number"?$:null;this.setWrapLimitRange(I,I),this.setUseWrapMode(!0)}},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function($){$=$=="auto"?this.$mode.type!="text":$!="text",$!=this.$wrapAsCode&&(this.$wrapAsCode=$,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function($){this.$useWorker=$,this.$stopWorker(),$&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function($){$=parseInt($),$>0&&this.$tabSize!==$&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=$,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function($){this.setFoldStyle($)},handlesSet:!0},overwrite:{set:function($){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function($){this.doc.setNewLineMode($)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function($){this.setMode($)},get:function(){return this.$modeId},handlesSet:!0}}),r.EditSession=v}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(n,r,i){var o=n("./lib/lang"),s=n("./lib/oop"),a=n("./range").Range,l=function(){function h(){this.$options={}}return h.prototype.set=function(f){return s.mixin(this.$options,f),this},h.prototype.getOptions=function(){return o.copyObject(this.$options)},h.prototype.setOptions=function(f){this.$options=f},h.prototype.find=function(f){var p=this.$options,m=this.$matchIterator(f,p);if(!m)return!1;var g=null;return m.forEach(function(y,v,b,_){return g=new a(y,v,b,_),v==_&&p.start&&p.start.start&&p.skipCurrent!=!1&&g.isEqual(p.start)?(g=null,!1):!0}),g},h.prototype.findAll=function(f){var p=this.$options;if(!p.needle)return[];this.$assembleRegExp(p);var m=p.range,g=m?f.getLines(m.start.row,m.end.row):f.doc.getAllLines(),y=[],v=p.re;if(p.$isMultiLine){var b=v.length,_=g.length-b,x;e:for(var w=v.offset||0;w<=_;w++){for(var E=0;E<b;E++)if(g[w+E].search(v[E])==-1)continue e;var S=g[w],T=g[w+b-1],C=S.length-S.match(v[0])[0].length,D=T.match(v[b-1])[0].length;x&&x.end.row===w&&x.end.column>C||(y.push(x=new a(w,C,w+b-1,D)),b>2&&(w=w+b-2))}}else for(var $,I=0;I<g.length;I++)if(this.$isMultilineSearch(p)){var R=g.length-1;if($=this.$multiLineForward(f,v,I,R),$){var A=$.endRow<=R?$.endRow-1:R;A>I&&(I=A),y.push(new a($.startRow,$.startCol,$.endRow,$.endCol))}}else{$=o.getMatchOffsets(g[I],v);for(var E=0;E<$.length;E++){var M=$[E];y.push(new a(I,M.offset,I,M.offset+M.length))}}if(m){for(var N=m.start.column,L=m.end.column,I=0,E=y.length-1;I<E&&y[I].start.column<N&&y[I].start.row==0;)I++;for(var z=m.end.row-m.start.row;I<E&&y[E].end.column>L&&y[E].end.row==z;)E--;for(y=y.slice(I,E+1),I=0,E=y.length;I<E;I++)y[I].start.row+=m.start.row,y[I].end.row+=m.start.row}return y},h.prototype.parseReplaceString=function(f){for(var p={DollarSign:36,Ampersand:38,Digit0:48,Digit1:49,Digit9:57,Backslash:92,n:110,t:116},m="",g=0,y=f.length;g<y;g++){var v=f.charCodeAt(g);if(v===p.Backslash){if(g++,g>=y){m+="\\";break}var b=f.charCodeAt(g);switch(b){case p.Backslash:m+="\\";break;case p.n:m+=`
`;break;case p.t:m+="	";break}continue}if(v===p.DollarSign){if(g++,g>=y){m+="$";break}var _=f.charCodeAt(g);if(_===p.DollarSign){m+="$$";continue}if(_===p.Digit0||_===p.Ampersand){m+="$&";continue}if(p.Digit1<=_&&_<=p.Digit9){m+="$"+f[g];continue}}m+=f[g]}return m||f},h.prototype.replace=function(f,p){var m=this.$options,g=this.$assembleRegExp(m);if(m.$isMultiLine)return p;if(g){var y=this.$isMultilineSearch(m);y&&(f=f.replace(/\r\n|\r|\n/g,`
`));var v=g.exec(f);if(!v||!y&&v[0].length!=f.length)return null;if(p=m.regExp?this.parseReplaceString(p):p.replace(/\$/g,"$$$$"),p=f.replace(g,p),m.preserveCase){p=p.split("");for(var b=Math.min(f.length,f.length);b--;){var _=f[b];_&&_.toLowerCase()!=_?p[b]=p[b].toUpperCase():p[b]=p[b].toLowerCase()}p=p.join("")}return p}},h.prototype.$assembleRegExp=function(f,p){if(f.needle instanceof RegExp)return f.re=f.needle;var m=f.needle;if(!f.needle)return f.re=!1;f.regExp||(m=o.escapeRegExp(m));var g=f.caseSensitive?"gm":"gmi";try{new RegExp(m,"u"),f.$supportsUnicodeFlag=!0,g+="u"}catch{f.$supportsUnicodeFlag=!1}if(f.wholeWord&&(m=u(m,f)),f.$isMultiLine=!p&&/[\n\r]/.test(m),f.$isMultiLine)return f.re=this.$assembleMultilineRegExp(m,g);try{var y=new RegExp(m,g)}catch{y=!1}return f.re=y},h.prototype.$assembleMultilineRegExp=function(f,p){for(var m=f.replace(/\r\n|\r|\n/g,`$
^`).split(`
`),g=[],y=0;y<m.length;y++)try{g.push(new RegExp(m[y],p))}catch{return!1}return g},h.prototype.$isMultilineSearch=function(f){return f.re&&/\\r\\n|\\r|\\n/.test(f.re.source)&&f.regExp&&!f.$isMultiLine},h.prototype.$multiLineForward=function(f,p,m,g){for(var y,v=d(f,m),b=m;b<=g;){for(var _=0;_<v&&!(b>g);_++){var x=f.getLine(b++);y=y==null?x:y+`
`+x}var w=p.exec(y);if(p.lastIndex=0,w){var E=y.slice(0,w.index).split(`
`),S=w[0].split(`
`),T=m+E.length-1,C=E[E.length-1].length,D=T+S.length-1,$=S.length==1?C+S[0].length:S[S.length-1].length;return{startRow:T,startCol:C,endRow:D,endCol:$}}}return null},h.prototype.$multiLineBackward=function(f,p,m,g,y){for(var v,b=d(f,g),_=f.getLine(g).length-m,x=g;x>=y;){for(var w=0;w<b&&x>=y;w++){var E=f.getLine(x--);v=v==null?E:E+`
`+v}var S=c(v,p,_);if(S){var T=v.slice(0,S.index).split(`
`),C=S[0].split(`
`),D=x+T.length,$=T[T.length-1].length,I=D+C.length-1,R=C.length==1?$+C[0].length:C[C.length-1].length;return{startRow:D,startCol:$,endRow:I,endCol:R}}}return null},h.prototype.$matchIterator=function(f,p){var m=this.$assembleRegExp(p);if(!m)return!1;var g=this.$isMultilineSearch(p),y=this.$multiLineForward,v=this.$multiLineBackward,b=p.backwards==!0,_=p.skipCurrent!=!1,x=m.unicode,w=p.range,E=p.start;E||(E=w?w[b?"end":"start"]:f.selection.getRange()),E.start&&(E=E[_!=b?"end":"start"]);var S=w?w.start.row:0,T=w?w.end.row:f.getLength()-1;if(b)var C=function(I){var R=E.row;if(!$(R,E.column,I)){for(R--;R>=S;R--)if($(R,Number.MAX_VALUE,I))return;if(p.wrap!=!1){for(R=T,S=E.row;R>=S;R--)if($(R,Number.MAX_VALUE,I))return}}};else var C=function(R){var A=E.row;if(!$(A,E.column,R)){for(A=A+1;A<=T;A++)if($(A,0,R))return;if(p.wrap!=!1){for(A=S,T=E.row;A<=T;A++)if($(A,0,R))return}}};if(p.$isMultiLine)var D=m.length,$=function(I,R,A){var M=b?I-D+1:I;if(!(M<0||M+D>f.getLength())){var N=f.getLine(M),L=N.search(m[0]);if(!(!b&&L<R||L===-1)){for(var z=1;z<D;z++)if(N=f.getLine(M+z),N.search(m[z])==-1)return;var F=N.match(m[D-1])[0].length;if(!(b&&F>R)&&A(M,L,M+D-1,F))return!0}}};else if(b)var $=function(R,A,M){if(g){var N=v(f,m,A,R,S);if(!N)return!1;if(M(N.startRow,N.startCol,N.endRow,N.endCol))return!0}else{var L=f.getLine(R),z=[],F,j=0;for(m.lastIndex=0;F=m.exec(L);){var W=F[0].length;if(j=F.index,!W){if(j>=L.length)break;m.lastIndex=j+=o.skipEmptyMatch(L,j,x)}if(F.index+W>A)break;z.push(F.index,W)}for(var B=z.length-1;B>=0;B-=2){var H=z[B-1],W=z[B];if(M(R,H,R,H+W))return!0}}};else var $=function(R,A,M){if(m.lastIndex=A,g){var N=y(f,m,R,T);if(N){var L=N.endRow<=T?N.endRow-1:T;L>R&&(R=L)}if(!N)return!1;if(M(N.startRow,N.startCol,N.endRow,N.endCol))return!0}else for(var z=f.getLine(R),F,j;j=m.exec(z);){var W=j[0].length;if(F=j.index,M(R,F,R,F+W))return!0;if(!W&&(m.lastIndex=F+=o.skipEmptyMatch(z,F,x),F>=z.length))return!1}};return{forEach:C}},h}();function u(h,f){var p=o.supportsLookbehind();function m(b,_){_===void 0&&(_=!0);var x=p&&f.$supportsUnicodeFlag?new RegExp("[\\p{L}\\p{N}_]","u"):new RegExp("\\w");return x.test(b)||f.regExp?p&&f.$supportsUnicodeFlag?_?"(?<=^|[^\\p{L}\\p{N}_])":"(?=[^\\p{L}\\p{N}_]|$)":"\\b":""}var g=Array.from(h),y=g[0],v=g[g.length-1];return m(y)+h+m(v,!1)}function c(h,f,p){for(var m=null,g=0;g<=h.length;){f.lastIndex=g;var y=f.exec(h);if(!y)break;var v=y.index+y[0].length;if(v>h.length-p)break;(!m||v>m.index+m[0].length)&&(m=y),g=y.index+1}return m}function d(h,f){var p=5e3,m={row:f,column:0},g=h.doc.positionToIndex(m),y=g+p,v=h.doc.indexToPosition(y),b=v.row;return b+1}r.Search=l}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(n,r,i){var o=this&&this.__extends||function(){var h=function(f,p){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(m[y]=g[y])},h(f,p)};return function(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");h(f,p);function m(){this.constructor=f}f.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}(),s=n("../lib/keys"),a=n("../lib/useragent"),l=s.KEY_MODS,u=function(){function h(f,p){this.$init(f,p,!1)}return h.prototype.$init=function(f,p,m){this.platform=p||(a.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(f),this.$singleCommand=m},h.prototype.addCommand=function(f){this.commands[f.name]&&this.removeCommand(f),this.commands[f.name]=f,f.bindKey&&this._buildKeyHash(f)},h.prototype.removeCommand=function(f,p){var m=f&&(typeof f=="string"?f:f.name);f=this.commands[m],p||delete this.commands[m];var g=this.commandKeyBinding;for(var y in g){var v=g[y];if(v==f)delete g[y];else if(Array.isArray(v)){var b=v.indexOf(f);b!=-1&&(v.splice(b,1),v.length==1&&(g[y]=v[0]))}}},h.prototype.bindKey=function(f,p,m){if(typeof f=="object"&&f&&(m==null&&(m=f.position),f=f[this.platform]),!!f){if(typeof p=="function")return this.addCommand({exec:p,bindKey:f,name:p.name||f});f.split("|").forEach(function(g){var y="";if(g.indexOf(" ")!=-1){var v=g.split(/\s+/);g=v.pop(),v.forEach(function(x){var w=this.parseKeys(x),E=l[w.hashId]+w.key;y+=(y?" ":"")+E,this._addCommandToBinding(y,"chainKeys")},this),y+=" "}var b=this.parseKeys(g),_=l[b.hashId]+b.key;this._addCommandToBinding(y+_,p,m)},this)}},h.prototype._addCommandToBinding=function(f,p,m){var g=this.commandKeyBinding,y;if(!p)delete g[f];else if(!g[f]||this.$singleCommand)g[f]=p;else{Array.isArray(g[f])?(y=g[f].indexOf(p))!=-1&&g[f].splice(y,1):g[f]=[g[f]],typeof m!="number"&&(m=c(p));var v=g[f];for(y=0;y<v.length;y++){var b=v[y],_=c(b);if(_>m)break}v.splice(y,0,p)}},h.prototype.addCommands=function(f){f&&Object.keys(f).forEach(function(p){var m=f[p];if(m){if(typeof m=="string")return this.bindKey(m,p);typeof m=="function"&&(m={exec:m}),typeof m=="object"&&(m.name||(m.name=p),this.addCommand(m))}},this)},h.prototype.removeCommands=function(f){Object.keys(f).forEach(function(p){this.removeCommand(f[p])},this)},h.prototype.bindKeys=function(f){Object.keys(f).forEach(function(p){this.bindKey(p,f[p])},this)},h.prototype._buildKeyHash=function(f){this.bindKey(f.bindKey,f)},h.prototype.parseKeys=function(f){var p=f.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(_){return _}),m=p.pop(),g=s[m];if(s.FUNCTION_KEYS[g])m=s.FUNCTION_KEYS[g].toLowerCase();else if(p.length){if(p.length==1&&p[0]=="shift")return{key:m.toUpperCase(),hashId:-1}}else return{key:m,hashId:-1};for(var y=0,v=p.length;v--;){var b=s.KEY_MODS[p[v]];if(b==null)return typeof console<"u"&&console.error("invalid modifier "+p[v]+" in "+f),!1;y|=b}return{key:m,hashId:y}},h.prototype.findKeyCommand=function(f,p){var m=l[f]+p;return this.commandKeyBinding[m]},h.prototype.handleKeyboard=function(f,p,m,g){if(!(g<0)){var y=l[p]+m,v=this.commandKeyBinding[y];return f.$keyChain&&(f.$keyChain+=" "+y,v=this.commandKeyBinding[f.$keyChain]||v),v&&(v=="chainKeys"||v[v.length-1]=="chainKeys")?(f.$keyChain=f.$keyChain||y,{command:"null"}):(f.$keyChain&&((!p||p==4)&&m.length==1?f.$keyChain=f.$keyChain.slice(0,-y.length-1):(p==-1||g>0)&&(f.$keyChain="")),{command:v})}},h.prototype.getStatusText=function(f,p){return p.$keyChain||""},h}();function c(h){return typeof h=="object"&&h.bindKey&&h.bindKey.position||(h.isDefault?-100:0)}var d=function(h){o(f,h);function f(p,m){var g=h.call(this,p,m)||this;return g.$singleCommand=!0,g}return f}(u);d.call=function(h,f,p){u.prototype.$init.call(h,f,p,!0)},u.call=function(h,f,p){u.prototype.$init.call(h,f,p,!1)},r.HashHandler=d,r.MultiHashHandler=u}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(n,r,i){var o=this&&this.__extends||function(){var c=function(d,h){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var m in p)Object.prototype.hasOwnProperty.call(p,m)&&(f[m]=p[m])},c(d,h)};return function(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");c(d,h);function f(){this.constructor=d}d.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}(),s=n("../lib/oop"),a=n("../keyboard/hash_handler").MultiHashHandler,l=n("../lib/event_emitter").EventEmitter,u=function(c){o(d,c);function d(h,f){var p=c.call(this,f,h)||this;return p.byName=p.commands,p.setDefaultHandler("exec",function(m){return m.args?m.command.exec(m.editor,m.args,m.event,!1):m.command.exec(m.editor,{},m.event,!0)}),p}return d.prototype.exec=function(h,f,p){if(Array.isArray(h)){for(var m=h.length;m--;)if(this.exec(h[m],f,p))return!0;return!1}typeof h=="string"&&(h=this.commands[h]);var g={editor:f,command:h,args:p};return this.canExecute(h,f)?(g.returnValue=this._emit("exec",g),this._signal("afterExec",g),g.returnValue!==!1):(this._signal("commandUnavailable",g),!1)},d.prototype.canExecute=function(h,f){return typeof h=="string"&&(h=this.commands[h]),!(!h||f&&f.$readOnly&&!h.readOnly||this.$checkCommandState!=!1&&h.isAvailable&&!h.isAvailable(f))},d.prototype.toggleRecording=function(h){if(!this.$inReplay)return h&&h._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=(function(f){this.macro.push([f.command,f.args])}).bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},d.prototype.replay=function(h){if(!(this.$inReplay||!this.macro)){if(this.recording)return this.toggleRecording(h);try{this.$inReplay=!0,this.macro.forEach(function(f){typeof f=="string"?this.exec(f,h):this.exec(f[0],h,f[1])},this)}finally{this.$inReplay=!1}}},d.prototype.trimMacro=function(h){return h.map(function(f){return typeof f[0]!="string"&&(f[0]=f[0].name),f[1]||(f=f[0]),f})},d}(a);s.implement(u.prototype,l),r.CommandManager=u}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(n,r,i){var o=n("../lib/lang"),s=n("../config"),a=n("../range").Range;function l(c,d){return{win:c,mac:d}}r.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:l("Ctrl-,","Command-,"),exec:function(c){s.loadModule("ace/ext/settings_menu",function(d){d.init(c),c.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:l("Alt-E","F4"),exec:function(c){s.loadModule("ace/ext/error_marker",function(d){d.showErrorMarker(c,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:l("Alt-Shift-E","Shift-F4"),exec:function(c){s.loadModule("ace/ext/error_marker",function(d){d.showErrorMarker(c,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:l("Ctrl-A","Command-A"),exec:function(c){c.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:l(null,"Ctrl-L"),exec:function(c){c.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:l("Ctrl-L","Command-L"),exec:function(c,d){typeof d=="number"&&!isNaN(d)&&c.gotoLine(d),c.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:l("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(c){c.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:l("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(c){c.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:l("F2","F2"),exec:function(c){c.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:l("Alt-F2","Alt-F2"),exec:function(c){c.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:l(null,"Ctrl-Command-Option-0"),exec:function(c){c.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:l(null,"Ctrl-Command-Option-0"),exec:function(c){c.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:l("Alt-0","Command-Option-0"),exec:function(c){c.session.foldAll(),c.session.unfold(c.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:l("Alt-Shift-0","Command-Option-Shift-0"),exec:function(c){c.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:l("Ctrl-K","Command-G"),exec:function(c){c.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:l("Ctrl-Shift-K","Command-Shift-G"),exec:function(c){c.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:l("Alt-K","Ctrl-G"),exec:function(c){c.selection.isEmpty()?c.selection.selectWord():c.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:l("Alt-Shift-K","Ctrl-Shift-G"),exec:function(c){c.selection.isEmpty()?c.selection.selectWord():c.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:l("Ctrl-F","Command-F"),exec:function(c){s.loadModule("ace/ext/searchbox",function(d){d.Search(c)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(c){c.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:l("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(c){c.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:l("Ctrl-Home","Command-Home|Command-Up"),exec:function(c){c.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:l("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(c){c.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:l("Up","Up|Ctrl-P"),exec:function(c,d){c.navigateUp(d.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:l("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(c){c.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:l("Ctrl-End","Command-End|Command-Down"),exec:function(c){c.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:l("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(c){c.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:l("Down","Down|Ctrl-N"),exec:function(c,d){c.navigateDown(d.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:l("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(c){c.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:l("Ctrl-Left","Option-Left"),exec:function(c){c.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:l("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(c){c.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:l("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(c){c.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:l("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(c){c.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:l("Left","Left|Ctrl-B"),exec:function(c,d){c.navigateLeft(d.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:l("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(c){c.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:l("Ctrl-Right","Option-Right"),exec:function(c){c.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:l("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(c){c.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:l("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(c){c.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:l("Shift-Right","Shift-Right"),exec:function(c){c.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:l("Right","Right|Ctrl-F"),exec:function(c,d){c.navigateRight(d.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(c){c.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:l(null,"Option-PageDown"),exec:function(c){c.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:l("PageDown","PageDown|Ctrl-V"),exec:function(c){c.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(c){c.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:l(null,"Option-PageUp"),exec:function(c){c.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(c){c.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:l("Ctrl-Up",null),exec:function(c){c.renderer.scrollBy(0,-2*c.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:l("Ctrl-Down",null),exec:function(c){c.renderer.scrollBy(0,2*c.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(c){c.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(c){c.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:l("Ctrl-Alt-E","Command-Option-E"),exec:function(c){c.commands.toggleRecording(c)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:l("Ctrl-Shift-E","Command-Shift-E"),exec:function(c){c.commands.replay(c)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:l("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(c){c.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:l("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(c){c.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:l("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(c){c.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:l(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(c){},readOnly:!0},{name:"cut",description:"Cut",exec:function(c){var d=c.$copyWithEmptySelection&&c.selection.isEmpty(),h=d?c.selection.getLineRange():c.selection.getRange();c._emit("cut",h),h.isEmpty()||c.session.remove(h),c.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(c,d){c.$handlePaste(d)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:l("Ctrl-D","Command-D"),exec:function(c){c.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:l("Ctrl-Shift-D","Command-Shift-D"),exec:function(c){c.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:l("Ctrl-Alt-S","Command-Alt-S"),exec:function(c){c.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:l("Ctrl-/","Command-/"),exec:function(c){c.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:l("Ctrl-Shift-/","Command-Shift-/"),exec:function(c){c.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:l("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(c){c.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:l("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(c){c.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:l("Ctrl-H","Command-Option-F"),exec:function(c){s.loadModule("ace/ext/searchbox",function(d){d.Search(c,!0)})}},{name:"undo",description:"Undo",bindKey:l("Ctrl-Z","Command-Z"),exec:function(c){c.undo()}},{name:"redo",description:"Redo",bindKey:l("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(c){c.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:l("Alt-Shift-Up","Command-Option-Up"),exec:function(c){c.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:l("Alt-Up","Option-Up"),exec:function(c){c.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:l("Alt-Shift-Down","Command-Option-Down"),exec:function(c){c.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:l("Alt-Down","Option-Down"),exec:function(c){c.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:l("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(c){c.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:l("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(c){c.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:l("Shift-Delete",null),exec:function(c){if(c.selection.isEmpty())c.remove("left");else return!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:l("Alt-Backspace","Command-Backspace"),exec:function(c){c.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:l("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(c){c.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:l("Ctrl-Shift-Backspace",null),exec:function(c){var d=c.selection.getRange();d.start.column=0,c.session.remove(d)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:l("Ctrl-Shift-Delete",null),exec:function(c){var d=c.selection.getRange();d.end.column=Number.MAX_VALUE,c.session.remove(d)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:l("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(c){c.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:l("Ctrl-Delete","Alt-Delete"),exec:function(c){c.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:l("Shift-Tab","Shift-Tab"),exec:function(c){c.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:l("Tab","Tab"),exec:function(c){c.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:l("Ctrl-[","Ctrl-["),exec:function(c){c.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:l("Ctrl-]","Ctrl-]"),exec:function(c){c.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(c,d){c.insert(d)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(c,d){c.insert(o.stringRepeat(d.text||"",d.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:l(null,"Ctrl-O"),exec:function(c){c.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:l("Alt-Shift-X","Ctrl-T"),exec:function(c){c.transposeLetters()},multiSelectAction:function(c){c.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:l("Ctrl-U","Ctrl-U"),exec:function(c){c.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:l("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(c){c.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:l(null,null),exec:function(c){c.autoIndent()},scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:l("Ctrl-Shift-L","Command-Shift-L"),exec:function(c){var d=c.selection.getRange();d.start.column=d.end.column=0,d.end.row++,c.selection.setRange(d,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:l("Ctrl+F3","F3"),exec:function(c){c.openLink()}},{name:"joinlines",description:"Join lines",bindKey:l(null,null),exec:function(c){for(var d=c.selection.isBackwards(),h=d?c.selection.getSelectionLead():c.selection.getSelectionAnchor(),f=d?c.selection.getSelectionAnchor():c.selection.getSelectionLead(),p=c.session.doc.getLine(h.row).length,m=c.session.doc.getTextRange(c.selection.getRange()),g=m.replace(/\n\s*/," ").length,y=c.session.doc.getLine(h.row),v=h.row+1;v<=f.row+1;v++){var b=o.stringTrimLeft(o.stringTrimRight(c.session.doc.getLine(v)));b.length!==0&&(b=" "+b),y+=b}f.row+1<c.session.doc.getLength()-1&&(y+=c.session.doc.getNewLineCharacter()),c.clearSelection(),c.session.doc.replace(new a(h.row,0,f.row+2,0),y),g>0?(c.selection.moveCursorTo(h.row,h.column),c.selection.selectTo(h.row,h.column+g)):(p=c.session.doc.getLine(h.row).length>p?p+1:p,c.selection.moveCursorTo(h.row,p))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:l(null,null),exec:function(c){var d=c.session.doc.getLength()-1,h=c.session.doc.getLine(d).length,f=c.selection.rangeList.ranges,p=[];f.length<1&&(f=[c.selection.getRange()]);for(var m=0;m<f.length;m++)m==f.length-1&&(f[m].end.row===d&&f[m].end.column===h||p.push(new a(f[m].end.row,f[m].end.column,d,h))),m===0?f[m].start.row===0&&f[m].start.column===0||p.push(new a(0,0,f[m].start.row,f[m].start.column)):p.push(new a(f[m-1].end.row,f[m-1].end.column,f[m].start.row,f[m].start.column));c.exitMultiSelectMode(),c.clearSelection();for(var m=0;m<p.length;m++)c.selection.addRange(p[m],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(c){c.selection.clearSelection(),c.navigateLineEnd(),c.insert(`
`)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(c){c.selection.clearSelection();var d=c.getCursorPosition();c.selection.moveTo(d.row-1,Number.MAX_VALUE),c.insert(`
`),d.row===0&&c.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",exec:function(c){console.warn("This is an obsolete command. Please use `openCommandPalette` instead."),c.prompt({$type:"commands"})},readOnly:!0},{name:"openCommandPalette",description:"Open command palette",bindKey:l("F1","F1"),exec:function(c){c.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:l(null,null),exec:function(c){c.prompt({$type:"modes"})},readOnly:!0}];for(var u=1;u<9;u++)r.commands.push({name:"foldToLevel"+u,description:"Fold To Level "+u,level:u,exec:function(c){c.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})}),ace.define("ace/keyboard/gutter_handler",["require","exports","module","ace/lib/keys","ace/mouse/default_gutter_handler"],function(n,r,i){var o=n("../lib/keys"),s=n("../mouse/default_gutter_handler").GutterTooltip,a=function(){function u(c){this.editor=c,this.gutterLayer=c.renderer.$gutterLayer,this.element=c.renderer.$gutter,this.lines=c.renderer.$gutterLayer.$lines,this.activeRowIndex=null,this.activeLane=null,this.annotationTooltip=new s(this.editor)}return u.prototype.addListener=function(){this.element.addEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.addEventListener("focusout",this.$blurGutter.bind(this)),this.editor.on("mousewheel",this.$blurGutter.bind(this))},u.prototype.removeListener=function(){this.element.removeEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.removeEventListener("focusout",this.$blurGutter.bind(this)),this.editor.off("mousewheel",this.$blurGutter.bind(this))},u.prototype.$onGutterKeyDown=function(c){if(this.annotationTooltip.isOpen){c.preventDefault(),c.keyCode===o.escape&&this.annotationTooltip.hideTooltip();return}if(c.target===this.element){if(c.keyCode!=o.enter)return;c.preventDefault();var d=this.editor.getCursorPosition().row;this.editor.isRowVisible(d)||this.editor.scrollToLine(d,!0,!0),setTimeout((function(){var h=this.$rowToRowIndex(this.gutterLayer.$cursorCell.row),f=this.$findNearestFoldWidget(h),p=this.$findNearestAnnotation(h);if(!(f===null&&p===null)){if(f===null&&p!==null){this.activeRowIndex=p,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}if(f!==null&&p===null){this.activeRowIndex=f,this.activeLane="fold",this.$focusFoldWidget(this.activeRowIndex);return}if(Math.abs(p-h)<Math.abs(f-h)){this.activeRowIndex=p,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}else{this.activeRowIndex=f,this.activeLane="fold",this.$focusFoldWidget(this.activeRowIndex);return}}}).bind(this),10);return}this.$handleGutterKeyboardInteraction(c),setTimeout((function(){this.editor._signal("gutterkeydown",new l(c,this))}).bind(this),10)},u.prototype.$handleGutterKeyboardInteraction=function(c){if(c.keyCode===o.tab){c.preventDefault();return}if(c.keyCode===o.escape){c.preventDefault(),this.$blurGutter(),this.element.focus(),this.lane=null;return}if(c.keyCode===o.up){switch(c.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetUp();break;case"annotation":this.$moveAnnotationUp();break}return}if(c.keyCode===o.down){switch(c.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetDown();break;case"annotation":this.$moveAnnotationDown();break}return}if(c.keyCode===o.left){c.preventDefault(),this.$switchLane("annotation");return}if(c.keyCode===o.right){c.preventDefault(),this.$switchLane("fold");return}if(c.keyCode===o.enter||c.keyCode===o.space){switch(c.preventDefault(),this.activeLane){case"fold":if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="start"){var d=this.$rowIndexToRow(this.activeRowIndex);this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex),c),setTimeout((function(){this.$rowIndexToRow(this.activeRowIndex)!==d&&(this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=this.$rowToRowIndex(d),this.$focusFoldWidget(this.activeRowIndex))}).bind(this),10);break}else if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="end")break;return;case"annotation":var h=this.lines.cells[this.activeRowIndex].element.childNodes[2],f=h.getBoundingClientRect(),p=this.annotationTooltip.getElement().style;p.left=f.right+"px",p.top=f.bottom+"px",this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex));break}return}},u.prototype.$blurGutter=function(){if(this.activeRowIndex!==null)switch(this.activeLane){case"fold":this.$blurFoldWidget(this.activeRowIndex);break;case"annotation":this.$blurAnnotation(this.activeRowIndex);break}this.annotationTooltip.isOpen&&this.annotationTooltip.hideTooltip()},u.prototype.$isFoldWidgetVisible=function(c){var d=this.editor.isRowFullyVisible(this.$rowIndexToRow(c)),h=this.$getFoldWidget(c).style.display!=="none";return d&&h},u.prototype.$isAnnotationVisible=function(c){var d=this.editor.isRowFullyVisible(this.$rowIndexToRow(c)),h=this.$getAnnotation(c).style.display!=="none";return d&&h},u.prototype.$getFoldWidget=function(c){var d=this.lines.get(c),h=d.element;return h.childNodes[1]},u.prototype.$getAnnotation=function(c){var d=this.lines.get(c),h=d.element;return h.childNodes[2]},u.prototype.$findNearestFoldWidget=function(c){if(this.$isFoldWidgetVisible(c))return c;for(var d=0;c-d>0||c+d<this.lines.getLength()-1;){if(d++,c-d>=0&&this.$isFoldWidgetVisible(c-d))return c-d;if(c+d<=this.lines.getLength()-1&&this.$isFoldWidgetVisible(c+d))return c+d}return null},u.prototype.$findNearestAnnotation=function(c){if(this.$isAnnotationVisible(c))return c;for(var d=0;c-d>0||c+d<this.lines.getLength()-1;){if(d++,c-d>=0&&this.$isAnnotationVisible(c-d))return c-d;if(c+d<=this.lines.getLength()-1&&this.$isAnnotationVisible(c+d))return c+d}return null},u.prototype.$focusFoldWidget=function(c){if(c!=null){var d=this.$getFoldWidget(c);d.classList.add(this.editor.renderer.keyboardFocusClassName),d.focus()}},u.prototype.$focusAnnotation=function(c){if(c!=null){var d=this.$getAnnotation(c);d.classList.add(this.editor.renderer.keyboardFocusClassName),d.focus()}},u.prototype.$blurFoldWidget=function(c){var d=this.$getFoldWidget(c);d.classList.remove(this.editor.renderer.keyboardFocusClassName),d.blur()},u.prototype.$blurAnnotation=function(c){var d=this.$getAnnotation(c);d.classList.remove(this.editor.renderer.keyboardFocusClassName),d.blur()},u.prototype.$moveFoldWidgetUp=function(){for(var c=this.activeRowIndex;c>0;)if(c--,this.$isFoldWidgetVisible(c)){this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=c,this.$focusFoldWidget(this.activeRowIndex);return}},u.prototype.$moveFoldWidgetDown=function(){for(var c=this.activeRowIndex;c<this.lines.getLength()-1;)if(c++,this.$isFoldWidgetVisible(c)){this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=c,this.$focusFoldWidget(this.activeRowIndex);return}},u.prototype.$moveAnnotationUp=function(){for(var c=this.activeRowIndex;c>0;)if(c--,this.$isAnnotationVisible(c)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=c,this.$focusAnnotation(this.activeRowIndex);return}},u.prototype.$moveAnnotationDown=function(){for(var c=this.activeRowIndex;c<this.lines.getLength()-1;)if(c++,this.$isAnnotationVisible(c)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=c,this.$focusAnnotation(this.activeRowIndex);return}},u.prototype.$switchLane=function(c){switch(c){case"annotation":if(this.activeLane==="annotation")break;var d=this.$findNearestAnnotation(this.activeRowIndex);if(d==null)break;this.activeLane="annotation",this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=d,this.$focusAnnotation(this.activeRowIndex);break;case"fold":if(this.activeLane==="fold")break;var h=this.$findNearestFoldWidget(this.activeRowIndex);if(h==null)break;this.activeLane="fold",this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=h,this.$focusFoldWidget(this.activeRowIndex);break}},u.prototype.$rowIndexToRow=function(c){var d=this.lines.get(c);return d?d.row:null},u.prototype.$rowToRowIndex=function(c){for(var d=0;d<this.lines.getLength();d++){var h=this.lines.get(d);if(h.row==c)return d}return null},u}();r.GutterKeyboardHandler=a;var l=function(){function u(c,d){this.gutterKeyboardHandler=d,this.domEvent=c}return u.prototype.getKey=function(){return o.keyCodeToString(this.domEvent.keyCode)},u.prototype.getRow=function(){return this.gutterKeyboardHandler.$rowIndexToRow(this.gutterKeyboardHandler.activeRowIndex)},u.prototype.isInAnnotationLane=function(){return this.gutterKeyboardHandler.activeLane==="annotation"},u.prototype.isInFoldLane=function(){return this.gutterKeyboardHandler.activeLane==="fold"},u}();r.GutterKeyboardEvent=l}),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/keyboard/gutter_handler","ace/config","ace/clipboard","ace/lib/keys","ace/lib/event","ace/tooltip"],function(n,r,i){var o=this&&this.__values||function(R){var A=typeof Symbol=="function"&&Symbol.iterator,M=A&&R[A],N=0;if(M)return M.call(R);if(R&&typeof R.length=="number")return{next:function(){return R&&N>=R.length&&(R=void 0),{value:R&&R[N++],done:!R}}};throw new TypeError(A?"Object is not iterable.":"Symbol.iterator is not defined.")},s=n("./lib/oop"),a=n("./lib/dom"),l=n("./lib/lang"),u=n("./lib/useragent"),c=n("./keyboard/textinput").TextInput,d=n("./mouse/mouse_handler").MouseHandler,h=n("./mouse/fold_handler").FoldHandler,f=n("./keyboard/keybinding").KeyBinding,p=n("./edit_session").EditSession,m=n("./search").Search,g=n("./range").Range,y=n("./lib/event_emitter").EventEmitter,v=n("./commands/command_manager").CommandManager,b=n("./commands/default_commands").commands,_=n("./config"),x=n("./token_iterator").TokenIterator,w=n("./keyboard/gutter_handler").GutterKeyboardHandler,E=n("./config").nls,S=n("./clipboard"),T=n("./lib/keys"),C=n("./lib/event"),D=n("./tooltip").HoverTooltip,$=function(){function R(A,M,N){this.session,this.$toDestroy=[];var L=A.getContainerElement();this.container=L,this.renderer=A,this.id="editor"+ ++R.$uid,this.commands=new v(u.isMac?"mac":"win",b),typeof document=="object"&&(this.textInput=new c(A.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new d(this),new h(this)),this.keyBinding=new f(this),this.$search=new m().set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=l.delayedCall((function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}).bind(this)),this.on("change",function(z,F){F._$emitInputEvent.schedule(31)}),this.setSession(M||N&&N.session||new p("")),_.resetOptions(this),N&&this.setOptions(N),_._signal("editor",this)}return R.prototype.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0)},R.prototype.startOperation=function(A){this.session.startOperation(A)},R.prototype.endOperation=function(A){this.session.endOperation(A)},R.prototype.onStartOperation=function(A){this.curOp=this.session.curOp,this.curOp.scrollTop=this.renderer.scrollTop,this.prevOp=this.session.prevOp,A||(this.previousCommand=null)},R.prototype.onEndOperation=function(A){if(this.curOp&&this.session){if(A&&A.returnValue===!1){this.curOp=null;return}if(this._signal("beforeEndOperation"),!this.curOp)return;var M=this.curOp.command,N=M&&M.scrollIntoView;if(N){switch(N){case"center-animate":N="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var L=this.selection.getRange(),z=this.renderer.layerConfig;(L.start.row>=z.lastRow||L.end.row<=z.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break}N=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.$lastSel=this.session.selection.toJSON(),this.prevOp=this.curOp,this.curOp=null}},R.prototype.$historyTracker=function(A){if(this.$mergeUndoDeltas){var M=this.prevOp,N=this.$mergeableCommands,L=M.command&&A.command.name==M.command.name;if(A.command.name=="insertstring"){var z=A.args;this.mergeNextCommand===void 0&&(this.mergeNextCommand=!0),L=L&&this.mergeNextCommand&&(!/\s/.test(z)||/\s/.test(M.args)),this.mergeNextCommand=!0}else L=L&&N.indexOf(A.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(L=!1),L?this.session.mergeUndoDeltas=!0:N.indexOf(A.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},R.prototype.setKeyboardHandler=function(A,M){if(A&&typeof A=="string"&&A!="ace"){this.$keybindingId=A;var N=this;_.loadModule(["keybinding",A],function(L){N.$keybindingId==A&&N.keyBinding.setKeyboardHandler(L&&L.handler),M&&M()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(A),M&&M()},R.prototype.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},R.prototype.setSession=function(A){if(this.session!=A){this.curOp&&this.endOperation(),this.curOp={};var M=this.session;if(M){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange),this.session.off("startOperation",this.$onStartOperation),this.session.off("endOperation",this.$onEndOperation);var N=this.session.getSelection();N.off("changeCursor",this.$onCursorChange),N.off("changeSelection",this.$onSelectionChange)}this.session=A,A?(this.$onDocumentChange=this.onDocumentChange.bind(this),A.on("change",this.$onDocumentChange),this.renderer.setSession(A),this.$onChangeMode=this.onChangeMode.bind(this),A.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),A.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),A.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),A.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),A.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),A.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=A.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.$onStartOperation=this.onStartOperation.bind(this),this.session.on("startOperation",this.$onStartOperation),this.$onEndOperation=this.onEndOperation.bind(this),this.session.on("endOperation",this.$onEndOperation),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(A)),this._signal("changeSession",{session:A,oldSession:M}),this.curOp=null,M&&M._signal("changeEditor",{oldEditor:this}),M&&(M.$editor=null),A&&A._signal("changeEditor",{editor:this}),A&&(A.$editor=this),A&&!A.destroyed&&A.bgTokenizer.scheduleStart()}},R.prototype.getSession=function(){return this.session},R.prototype.setValue=function(A,M){return this.session.doc.setValue(A),M?M==1?this.navigateFileEnd():M==-1&&this.navigateFileStart():this.selectAll(),A},R.prototype.getValue=function(){return this.session.getValue()},R.prototype.getSelection=function(){return this.selection},R.prototype.resize=function(A){this.renderer.onResize(A)},R.prototype.setTheme=function(A,M){this.renderer.setTheme(A,M)},R.prototype.getTheme=function(){return this.renderer.getTheme()},R.prototype.setStyle=function(A){this.renderer.setStyle(A)},R.prototype.unsetStyle=function(A){this.renderer.unsetStyle(A)},R.prototype.getFontSize=function(){return this.getOption("fontSize")||a.computedStyle(this.container).fontSize},R.prototype.setFontSize=function(A){this.setOption("fontSize",A)},R.prototype.$highlightBrackets=function(){if(!this.$highlightPending){var A=this;this.$highlightPending=!0,setTimeout(function(){A.$highlightPending=!1;var M=A.session;if(!(!M||M.destroyed)){M.$bracketHighlight&&(M.$bracketHighlight.markerIds.forEach(function(V){M.removeMarker(V)}),M.$bracketHighlight=null);var N=A.getCursorPosition(),L=A.getKeyboardHandler(),z=L&&L.$getDirectionForHighlight&&L.$getDirectionForHighlight(A),F=M.getMatchingBracketRanges(N,z);if(!F){var j=new x(M,N.row,N.column),W=j.getCurrentToken();if(W&&/\b(?:tag-open|tag-name)/.test(W.type)){var B=M.getMatchingTags(N);B&&(F=[B.openTagName.isEmpty()?B.openTag:B.openTagName,B.closeTagName.isEmpty()?B.closeTag:B.closeTagName])}}if(!F&&M.$mode.getMatching&&(F=M.$mode.getMatching(A.session)),!F){A.getHighlightIndentGuides()&&A.renderer.$textLayer.$highlightIndentGuide();return}var H="ace_bracket";Array.isArray(F)?F.length==1&&(H="ace_error_bracket"):F=[F],F.length==2&&(g.comparePoints(F[0].end,F[1].start)==0?F=[g.fromPoints(F[0].start,F[1].end)]:g.comparePoints(F[0].start,F[1].end)==0&&(F=[g.fromPoints(F[1].start,F[0].end)])),M.$bracketHighlight={ranges:F,markerIds:F.map(function(V){return M.addMarker(V,H,"text")})},A.getHighlightIndentGuides()&&A.renderer.$textLayer.$highlightIndentGuide()}},50)}},R.prototype.focus=function(){this.textInput.focus()},R.prototype.isFocused=function(){return this.textInput.isFocused()},R.prototype.blur=function(){this.textInput.blur()},R.prototype.onFocus=function(A){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",A))},R.prototype.onBlur=function(A){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",A))},R.prototype.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},R.prototype.onDocumentChange=function(A){var M=this.session.$useWrapMode,N=A.start.row==A.end.row?A.end.row:1/0;this.renderer.updateLines(A.start.row,N,M),this._signal("change",A),this.$cursorChange()},R.prototype.onTokenizerUpdate=function(A){var M=A.data;this.renderer.updateLines(M.first,M.last)},R.prototype.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},R.prototype.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},R.prototype.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},R.prototype.$updateHighlightActiveLine=function(){var A=this.getSession(),M;if(this.$highlightActiveLine&&((this.$selectionStyle!="line"||!this.selection.isMultiLine())&&(M=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(M=!1),this.renderer.$maxLines&&this.session.getLength()===1&&!(this.renderer.$minLines>1)&&(M=!1)),A.$highlightLineMarker&&!M)A.removeMarker(A.$highlightLineMarker.id),A.$highlightLineMarker=null;else if(!A.$highlightLineMarker&&M){var N=new g(M.row,M.column,M.row,1/0);N.id=A.addMarker(N,"ace_active-line","screenLine"),A.$highlightLineMarker=N}else M&&(A.$highlightLineMarker.start.row=M.row,A.$highlightLineMarker.end.row=M.row,A.$highlightLineMarker.start.column=M.column,A._signal("changeBackMarker"))},R.prototype.onSelectionChange=function(A){var M=this.session;if(M.$selectionMarker&&M.removeMarker(M.$selectionMarker),M.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var N=this.selection.getRange(),L=this.getSelectionStyle();M.$selectionMarker=M.addMarker(N,"ace_selection",L)}var z=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(z),this._signal("changeSelection")},R.prototype.$getSelectionHighLightRegexp=function(){var A=this.session,M=this.getSelectionRange();if(!(M.isEmpty()||M.isMultiLine())){var N=M.start.column,L=M.end.column,z=A.getLine(M.start.row),F=z.substring(N,L);if(!(F.length>5e3||!/[\w\d]/.test(F))){var j=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:F}),W=z.substring(N-1,L+1);if(j.test(W))return j}}},R.prototype.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},R.prototype.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},R.prototype.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},R.prototype.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},R.prototype.onChangeMode=function(A){this.renderer.updateText(),this._emit("changeMode",A)},R.prototype.onChangeWrapLimit=function(){this.renderer.updateFull()},R.prototype.onChangeWrapMode=function(){this.renderer.onResize(!0)},R.prototype.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},R.prototype.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},R.prototype.getCopyText=function(){var A=this.getSelectedText(),M=this.session.doc.getNewLineCharacter(),N=!1;if(!A&&this.$copyWithEmptySelection){N=!0;for(var L=this.selection.getAllRanges(),z=0;z<L.length;z++){var F=L[z];z&&L[z-1].start.row==F.start.row||(A+=this.session.getLine(F.start.row)+M)}}var j={text:A};return this._signal("copy",j),S.lineMode=N?j.text:!1,j.text},R.prototype.onCopy=function(){this.commands.exec("copy",this)},R.prototype.onCut=function(){this.commands.exec("cut",this)},R.prototype.onPaste=function(A,M){var N={text:A,event:M};this.commands.exec("paste",this,N)},R.prototype.$handlePaste=function(A){typeof A=="string"&&(A={text:A}),this._signal("paste",A);var M=A.text,N=M===S.lineMode,L=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)N?L.insert({row:this.selection.lead.row,column:0},M):this.insert(M);else if(N)this.selection.rangeList.ranges.forEach(function(H){L.insert({row:H.start.row,column:0},M)});else{var z=M.split(/\r\n|\r|\n/),F=this.selection.rangeList.ranges,j=z.length==2&&(!z[0]||!z[1]);if(z.length!=F.length||j)return this.commands.exec("insertstring",this,M);for(var W=F.length;W--;){var B=F[W];B.isEmpty()||L.remove(B),L.insert(B.start,z[W])}}},R.prototype.execCommand=function(A,M){return this.commands.exec(A,this,M)},R.prototype.insert=function(A,M){var N=this.session,L=N.getMode(),z=this.getCursorPosition();if(this.getBehavioursEnabled()&&!M){var F=L.transformAction(N.getState(z.row),"insertion",this,N,A);F&&(A!==F.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),A=F.text)}if(A=="	"&&(A=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&A.indexOf(`
`)==-1){var j=g.fromPoints(z,z);j.end.column+=A.length,this.session.remove(j)}}else{var j=this.getSelectionRange();z=this.session.remove(j),this.clearSelection()}if(A==`
`||A==`\r
`){var V=N.getLine(z.row);if(z.column>V.search(/\S|$/)){var W=V.substr(z.column).search(/\S|$/);N.doc.removeInLine(z.row,z.column,z.column+W)}}this.clearSelection();var B=z.column,H=N.getState(z.row),V=N.getLine(z.row),G=L.checkOutdent(H,V,A);if(N.insert(z,A),F&&F.selection&&(F.selection.length==2?this.selection.setSelectionRange(new g(z.row,B+F.selection[0],z.row,B+F.selection[1])):this.selection.setSelectionRange(new g(z.row+F.selection[0],F.selection[1],z.row+F.selection[2],F.selection[3]))),this.$enableAutoIndent){if(N.getDocument().isNewLine(A)){var ne=L.getNextLineIndent(H,V.slice(0,z.column),N.getTabString());N.insert({row:z.row+1,column:0},ne)}G&&L.autoOutdent(H,N,z.row)}},R.prototype.autoIndent=function(){for(var A=this.session,M=A.getMode(),N=this.selection.isEmpty()?[new g(0,0,A.doc.getLength()-1,0)]:this.selection.getAllRanges(),L="",z="",F="",j=A.getTabString(),W=0;W<N.length;W++)for(var B=N[W].start.row,H=N[W].end.row,V=B;V<=H;V++){V>0&&(L=A.getState(V-1),z=A.getLine(V-1),F=M.getNextLineIndent(L,z,j));var G=A.getLine(V),ne=M.$getIndent(G);if(F!==ne){if(ne.length>0){var X=new g(V,0,V,ne.length);A.remove(X)}F.length>0&&A.insert({row:V,column:0},F)}M.autoOutdent(L,A,V)}},R.prototype.onTextInput=function(A,M){if(!M)return this.keyBinding.onTextInput(A);this.startOperation({command:{name:"insertstring"}});var N=this.applyComposition.bind(this,A,M);this.selection.rangeCount?this.forEachSelection(N):N(),this.endOperation()},R.prototype.applyComposition=function(A,M){if(M.extendLeft||M.extendRight){var N=this.selection.getRange();N.start.column-=M.extendLeft,N.end.column+=M.extendRight,N.start.column<0&&(N.start.row--,N.start.column+=this.session.getLine(N.start.row).length+1),this.selection.setRange(N),!A&&!N.isEmpty()&&this.remove()}if((A||!this.selection.isEmpty())&&this.insert(A,!0),M.restoreStart||M.restoreEnd){var N=this.selection.getRange();N.start.column-=M.restoreStart,N.end.column-=M.restoreEnd,this.selection.setRange(N)}},R.prototype.onCommandKey=function(A,M,N){return this.keyBinding.onCommandKey(A,M,N)},R.prototype.setOverwrite=function(A){this.session.setOverwrite(A)},R.prototype.getOverwrite=function(){return this.session.getOverwrite()},R.prototype.toggleOverwrite=function(){this.session.toggleOverwrite()},R.prototype.setScrollSpeed=function(A){this.setOption("scrollSpeed",A)},R.prototype.getScrollSpeed=function(){return this.getOption("scrollSpeed")},R.prototype.setDragDelay=function(A){this.setOption("dragDelay",A)},R.prototype.getDragDelay=function(){return this.getOption("dragDelay")},R.prototype.setSelectionStyle=function(A){this.setOption("selectionStyle",A)},R.prototype.getSelectionStyle=function(){return this.getOption("selectionStyle")},R.prototype.setHighlightActiveLine=function(A){this.setOption("highlightActiveLine",A)},R.prototype.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},R.prototype.setHighlightGutterLine=function(A){this.setOption("highlightGutterLine",A)},R.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},R.prototype.setHighlightSelectedWord=function(A){this.setOption("highlightSelectedWord",A)},R.prototype.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},R.prototype.setAnimatedScroll=function(A){this.renderer.setAnimatedScroll(A)},R.prototype.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},R.prototype.setShowInvisibles=function(A){this.renderer.setShowInvisibles(A)},R.prototype.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},R.prototype.setDisplayIndentGuides=function(A){this.renderer.setDisplayIndentGuides(A)},R.prototype.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},R.prototype.setHighlightIndentGuides=function(A){this.renderer.setHighlightIndentGuides(A)},R.prototype.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},R.prototype.setShowPrintMargin=function(A){this.renderer.setShowPrintMargin(A)},R.prototype.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},R.prototype.setPrintMarginColumn=function(A){this.renderer.setPrintMarginColumn(A)},R.prototype.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},R.prototype.setReadOnly=function(A){this.setOption("readOnly",A)},R.prototype.getReadOnly=function(){return this.getOption("readOnly")},R.prototype.setBehavioursEnabled=function(A){this.setOption("behavioursEnabled",A)},R.prototype.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},R.prototype.setWrapBehavioursEnabled=function(A){this.setOption("wrapBehavioursEnabled",A)},R.prototype.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},R.prototype.setShowFoldWidgets=function(A){this.setOption("showFoldWidgets",A)},R.prototype.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},R.prototype.setFadeFoldWidgets=function(A){this.setOption("fadeFoldWidgets",A)},R.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},R.prototype.remove=function(A){this.selection.isEmpty()&&(A=="left"?this.selection.selectLeft():this.selection.selectRight());var M=this.getSelectionRange();if(this.getBehavioursEnabled()){var N=this.session,L=N.getState(M.start.row),z=N.getMode().transformAction(L,"deletion",this,N,M);if(M.end.column===0){var F=N.getTextRange(M);if(F[F.length-1]==`
`){var j=N.getLine(M.end.row);/^\s+$/.test(j)&&(M.end.column=j.length)}}z&&(M=z)}this.session.remove(M),this.clearSelection()},R.prototype.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},R.prototype.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},R.prototype.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},R.prototype.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var A=this.getSelectionRange();A.start.column==A.end.column&&A.start.row==A.end.row&&(A.end.column=0,A.end.row++),this.session.remove(A),this.clearSelection()},R.prototype.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var A=this.getCursorPosition();this.insert(`
`),this.moveCursorToPosition(A)},R.prototype.setGhostText=function(A,M){this.renderer.setGhostText(A,M)},R.prototype.removeGhostText=function(){this.renderer.removeGhostText()},R.prototype.transposeLetters=function(){if(this.selection.isEmpty()){var A=this.getCursorPosition(),M=A.column;if(M!==0){var N=this.session.getLine(A.row),L,z;M<N.length?(L=N.charAt(M)+N.charAt(M-1),z=new g(A.row,M-1,A.row,M+1)):(L=N.charAt(M-1)+N.charAt(M-2),z=new g(A.row,M-2,A.row,M)),this.session.replace(z,L),this.session.selection.moveToPosition(z.end)}}},R.prototype.toLowerCase=function(){var A=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var M=this.getSelectionRange(),N=this.session.getTextRange(M);this.session.replace(M,N.toLowerCase()),this.selection.setSelectionRange(A)},R.prototype.toUpperCase=function(){var A=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var M=this.getSelectionRange(),N=this.session.getTextRange(M);this.session.replace(M,N.toUpperCase()),this.selection.setSelectionRange(A)},R.prototype.indent=function(){var A=this.session,M=this.getSelectionRange();if(M.start.row<M.end.row){var N=this.$getSelectedRows();A.indentRows(N.first,N.last,"	");return}else if(M.start.column<M.end.column){var L=A.getTextRange(M);if(!/^\s+$/.test(L)){var N=this.$getSelectedRows();A.indentRows(N.first,N.last,"	");return}}var z=A.getLine(M.start.row),F=M.start,j=A.getTabSize(),W=A.documentToScreenColumn(F.row,F.column);if(this.session.getUseSoftTabs())var B=j-W%j,H=l.stringRepeat(" ",B);else{for(var B=W%j;z[M.start.column-1]==" "&&B;)M.start.column--,B--;this.selection.setSelectionRange(M),H="	"}return this.insert(H)},R.prototype.blockIndent=function(){var A=this.$getSelectedRows();this.session.indentRows(A.first,A.last,"	")},R.prototype.blockOutdent=function(){var A=this.session.getSelection();this.session.outdentRows(A.getRange())},R.prototype.sortLines=function(){for(var A=this.$getSelectedRows(),M=this.session,N=[],L=A.first;L<=A.last;L++)N.push(M.getLine(L));N.sort(function(j,W){return j.toLowerCase()<W.toLowerCase()?-1:j.toLowerCase()>W.toLowerCase()?1:0});for(var z=new g(0,0,0,0),L=A.first;L<=A.last;L++){var F=M.getLine(L);z.start.row=L,z.end.row=L,z.end.column=F.length,M.replace(z,N[L-A.first])}},R.prototype.toggleCommentLines=function(){var A=this.session.getState(this.getCursorPosition().row),M=this.$getSelectedRows();this.session.getMode().toggleCommentLines(A,this.session,M.first,M.last)},R.prototype.toggleBlockComment=function(){var A=this.getCursorPosition(),M=this.session.getState(A.row),N=this.getSelectionRange();this.session.getMode().toggleBlockComment(M,this.session,N,A)},R.prototype.getNumberAt=function(A,M){var N=/[\-]?[0-9]+(?:\.[0-9]+)?/g;N.lastIndex=0;for(var L=this.session.getLine(A);N.lastIndex<M;){var z=N.exec(L);if(z.index<=M&&z.index+z[0].length>=M){var F={value:z[0],start:z.index,end:z.index+z[0].length};return F}}return null},R.prototype.modifyNumber=function(A){var M=this.selection.getCursor().row,N=this.selection.getCursor().column,L=new g(M,N-1,M,N),z=this.session.getTextRange(L);if(!isNaN(parseFloat(z))&&isFinite(z)){var F=this.getNumberAt(M,N);if(F){var j=F.value.indexOf(".")>=0?F.start+F.value.indexOf(".")+1:F.end,W=F.start+F.value.length-j,B=parseFloat(F.value);B*=Math.pow(10,W),j!==F.end&&N<j?A*=Math.pow(10,F.end-N-1):A*=Math.pow(10,F.end-N),B+=A,B/=Math.pow(10,W);var H=B.toFixed(W),V=new g(M,F.start,M,F.end);this.session.replace(V,H),this.moveCursorTo(M,Math.max(F.start+1,N+H.length-F.value.length))}}else this.toggleWord()},R.prototype.toggleWord=function(){var A=this.selection.getCursor().row,M=this.selection.getCursor().column;this.selection.selectWord();var N=this.getSelectedText(),L=this.selection.getWordRange().start.column,z=N.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),F=M-L-1;F<0&&(F=0);var j=0,W=0,B=this;N.match(/[A-Za-z0-9_]+/)&&z.forEach(function(pe,Ge){W=j+pe.length,F>=j&&F<=W&&(N=pe,B.selection.clearSelection(),B.moveCursorTo(A,j+L),B.selection.selectTo(A,W+L)),j=W});for(var H=this.$toggleWordPairs,V,G=0;G<H.length;G++)for(var ne=H[G],X=0;X<=1;X++){var te=+!X,se=N.match(new RegExp("^\\s?_?("+l.escapeRegExp(ne[X])+")\\s?$","i"));if(se){var ve=N.match(new RegExp("([_]|^|\\s)("+l.escapeRegExp(se[1])+")($|\\s)","g"));ve&&(V=N.replace(new RegExp(l.escapeRegExp(ne[X]),"i"),function(pe){var Ge=ne[te];return pe.toUpperCase()==pe?Ge=Ge.toUpperCase():pe.charAt(0).toUpperCase()==pe.charAt(0)&&(Ge=Ge.substr(0,0)+ne[te].charAt(0).toUpperCase()+Ge.substr(1)),Ge}),this.insert(V),V="")}}},R.prototype.findLinkAt=function(A,M){var N,L,z=this.session.getLine(A),F=z.split(/((?:https?|ftp):\/\/[\S]+)/),j=M;j<0&&(j=0);var W=0,B=0,H;try{for(var V=o(F),G=V.next();!G.done;G=V.next()){var ne=G.value;if(B=W+ne.length,j>=W&&j<=B&&ne.match(/((?:https?|ftp):\/\/[\S]+)/)){H=ne.replace(/[\s:.,'";}\]]+$/,"");break}W=B}}catch(X){N={error:X}}finally{try{G&&!G.done&&(L=V.return)&&L.call(V)}finally{if(N)throw N.error}}return H},R.prototype.openLink=function(){var A=this.selection.getCursor(),M=this.findLinkAt(A.row,A.column);return M&&window.open(M,"_blank"),M!=null},R.prototype.removeLines=function(){var A=this.$getSelectedRows();this.session.removeFullLines(A.first,A.last),this.clearSelection()},R.prototype.duplicateSelection=function(){var A=this.selection,M=this.session,N=A.getRange(),L=A.isBackwards();if(N.isEmpty()){var z=N.start.row;M.duplicateLines(z,z)}else{var F=L?N.start:N.end,j=M.insert(F,M.getTextRange(N));N.start=F,N.end=j,A.setSelectionRange(N,L)}},R.prototype.moveLinesDown=function(){this.$moveLines(1,!1)},R.prototype.moveLinesUp=function(){this.$moveLines(-1,!1)},R.prototype.moveText=function(A,M,N){return this.session.moveText(A,M,N)},R.prototype.copyLinesUp=function(){this.$moveLines(-1,!0)},R.prototype.copyLinesDown=function(){this.$moveLines(1,!0)},R.prototype.$moveLines=function(A,M){var N,L,z=this.selection;if(!z.inMultiSelectMode||this.inVirtualSelectionMode){var F=z.toOrientedRange();N=this.$getSelectedRows(F),L=this.session.$moveLines(N.first,N.last,M?0:A),M&&A==-1&&(L=0),F.moveBy(L,0),z.fromOrientedRange(F)}else{var j=z.rangeList.ranges;z.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var W=0,B=0,H=j.length,V=0;V<H;V++){var G=V;j[V].moveBy(W,0),N=this.$getSelectedRows(j[V]);for(var ne=N.first,X=N.last;++V<H;){B&&j[V].moveBy(B,0);var te=this.$getSelectedRows(j[V]);if(M&&te.first!=X)break;if(!M&&te.first>X+1)break;X=te.last}for(V--,W=this.session.$moveLines(ne,X,M?0:A),M&&A==-1&&(G=V+1);G<=V;)j[G].moveBy(W,0),G++;M||(W=0),B+=W}z.fromOrientedRange(z.ranges[0]),z.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},R.prototype.$getSelectedRows=function(A){return A=(A||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(A.start.row),last:this.session.getRowFoldEnd(A.end.row)}},R.prototype.onCompositionStart=function(A){this.renderer.showComposition(A)},R.prototype.onCompositionUpdate=function(A){this.renderer.setCompositionText(A)},R.prototype.onCompositionEnd=function(){this.renderer.hideComposition()},R.prototype.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},R.prototype.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},R.prototype.isRowVisible=function(A){return A>=this.getFirstVisibleRow()&&A<=this.getLastVisibleRow()},R.prototype.isRowFullyVisible=function(A){return A>=this.renderer.getFirstFullyVisibleRow()&&A<=this.renderer.getLastFullyVisibleRow()},R.prototype.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},R.prototype.$moveByPage=function(A,M){var N=this.renderer,L=this.renderer.layerConfig,z=A*Math.floor(L.height/L.lineHeight);M===!0?this.selection.$moveSelection(function(){this.moveCursorBy(z,0)}):M===!1&&(this.selection.moveCursorBy(z,0),this.selection.clearSelection());var F=N.scrollTop;N.scrollBy(0,z*L.lineHeight),M!=null&&N.scrollCursorIntoView(null,.5),N.animateScrolling(F)},R.prototype.selectPageDown=function(){this.$moveByPage(1,!0)},R.prototype.selectPageUp=function(){this.$moveByPage(-1,!0)},R.prototype.gotoPageDown=function(){this.$moveByPage(1,!1)},R.prototype.gotoPageUp=function(){this.$moveByPage(-1,!1)},R.prototype.scrollPageDown=function(){this.$moveByPage(1)},R.prototype.scrollPageUp=function(){this.$moveByPage(-1)},R.prototype.scrollToRow=function(A){this.renderer.scrollToRow(A)},R.prototype.scrollToLine=function(A,M,N,L){this.renderer.scrollToLine(A,M,N,L)},R.prototype.centerSelection=function(){var A=this.getSelectionRange(),M={row:Math.floor(A.start.row+(A.end.row-A.start.row)/2),column:Math.floor(A.start.column+(A.end.column-A.start.column)/2)};this.renderer.alignCursor(M,.5)},R.prototype.getCursorPosition=function(){return this.selection.getCursor()},R.prototype.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},R.prototype.getSelectionRange=function(){return this.selection.getRange()},R.prototype.selectAll=function(){this.selection.selectAll()},R.prototype.clearSelection=function(){this.selection.clearSelection()},R.prototype.moveCursorTo=function(A,M){this.selection.moveCursorTo(A,M)},R.prototype.moveCursorToPosition=function(A){this.selection.moveCursorToPosition(A)},R.prototype.jumpToMatching=function(A,M){var N=this.getCursorPosition(),L=new x(this.session,N.row,N.column),z=L.getCurrentToken(),F=0;z&&z.type.indexOf("tag-name")!==-1&&(z=L.stepBackward());var j=z||L.stepForward();if(j){var W,B=!1,H={},V=N.column-j.start,G,ne={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(j.value.match(/[{}()\[\]]/g)){for(;V<j.value.length&&!B;V++)if(ne[j.value[V]])switch(G=ne[j.value[V]]+"."+j.type.replace("rparen","lparen"),isNaN(H[G])&&(H[G]=0),j.value[V]){case"(":case"[":case"{":H[G]++;break;case")":case"]":case"}":H[G]--,H[G]===-1&&(W="bracket",B=!0);break}}else j.type.indexOf("tag-name")!==-1&&(isNaN(H[j.value])&&(H[j.value]=0),z.value==="<"&&F>1?H[j.value]++:z.value==="</"&&H[j.value]--,H[j.value]===-1&&(W="tag",B=!0));B||(z=j,F++,j=L.stepForward(),V=0)}while(j&&!B);if(W){var X,te;if(W==="bracket")X=this.session.getBracketRange(N),X||(X=new g(L.getCurrentTokenRow(),L.getCurrentTokenColumn()+V-1,L.getCurrentTokenRow(),L.getCurrentTokenColumn()+V-1),te=X.start,(M||te.row===N.row&&Math.abs(te.column-N.column)<2)&&(X=this.session.getBracketRange(te)));else if(W==="tag"){if(!j||j.type.indexOf("tag-name")===-1)return;if(X=new g(L.getCurrentTokenRow(),L.getCurrentTokenColumn()-2,L.getCurrentTokenRow(),L.getCurrentTokenColumn()-2),X.compare(N.row,N.column)===0){var se=this.session.getMatchingTags(N);se&&(se.openTag.contains(N.row,N.column)?(X=se.closeTag,te=X.start):(X=se.openTag,se.closeTag.start.row===N.row&&se.closeTag.start.column===N.column?te=X.end:te=X.start))}te=te||X.start}te=X&&X.cursor||te,te&&(A?X&&M?this.selection.setRange(X):X&&X.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(te.row,te.column):this.selection.moveTo(te.row,te.column))}}},R.prototype.gotoLine=function(A,M,N){this.selection.clearSelection(),this.session.unfold({row:A-1,column:M||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(A-1,M||0),this.isRowFullyVisible(A-1)||this.scrollToLine(A-1,!0,N)},R.prototype.navigateTo=function(A,M){this.selection.moveTo(A,M)},R.prototype.navigateUp=function(A){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var M=this.selection.anchor.getPosition();return this.moveCursorToPosition(M)}this.selection.clearSelection(),this.selection.moveCursorBy(-A||-1,0)},R.prototype.navigateDown=function(A){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var M=this.selection.anchor.getPosition();return this.moveCursorToPosition(M)}this.selection.clearSelection(),this.selection.moveCursorBy(A||1,0)},R.prototype.navigateLeft=function(A){if(this.selection.isEmpty())for(A=A||1;A--;)this.selection.moveCursorLeft();else{var M=this.getSelectionRange().start;this.moveCursorToPosition(M)}this.clearSelection()},R.prototype.navigateRight=function(A){if(this.selection.isEmpty())for(A=A||1;A--;)this.selection.moveCursorRight();else{var M=this.getSelectionRange().end;this.moveCursorToPosition(M)}this.clearSelection()},R.prototype.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},R.prototype.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},R.prototype.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},R.prototype.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},R.prototype.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},R.prototype.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},R.prototype.replace=function(A,M){M&&this.$search.set(M);var N=this.$search.find(this.session),L=0;return N&&(this.$tryReplace(N,A)&&(L=1),this.selection.setSelectionRange(N),this.renderer.scrollSelectionIntoView(N.start,N.end)),L},R.prototype.replaceAll=function(A,M){M&&this.$search.set(M);var N=this.$search.findAll(this.session),L=0;if(!N.length)return L;var z=this.getSelectionRange();this.selection.moveTo(0,0);for(var F=N.length-1;F>=0;--F)this.$tryReplace(N[F],A)&&L++;return this.selection.setSelectionRange(z),L},R.prototype.$tryReplace=function(A,M){var N=this.session.getTextRange(A);return M=this.$search.replace(N,M),M!==null?(A.end=this.session.replace(A,M),A):null},R.prototype.getLastSearchOptions=function(){return this.$search.getOptions()},R.prototype.find=function(A,M,N){M||(M={}),typeof A=="string"||A instanceof RegExp?M.needle=A:typeof A=="object"&&s.mixin(M,A);var L=this.selection.getRange();M.needle==null&&(A=this.session.getTextRange(L)||this.$search.$options.needle,A||(L=this.session.getWordRange(L.start.row,L.start.column),A=this.session.getTextRange(L)),this.$search.set({needle:A})),this.$search.set(M),M.start||this.$search.set({start:L});var z=this.$search.find(this.session);if(M.preventScroll)return z;if(z)return this.revealRange(z,N),z;M.backwards?L.start=L.end:L.end=L.start,this.selection.setRange(L)},R.prototype.findNext=function(A,M){this.find({skipCurrent:!0,backwards:!1},A,M)},R.prototype.findPrevious=function(A,M){this.find(A,{skipCurrent:!0,backwards:!0},M)},R.prototype.revealRange=function(A,M){this.session.unfold(A),this.selection.setSelectionRange(A);var N=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(A.start,A.end,.5),M!==!1&&this.renderer.animateScrolling(N)},R.prototype.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},R.prototype.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},R.prototype.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach(function(A){A.destroy()}),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},R.prototype.setAutoScrollEditorIntoView=function(A){if(A){var M,N=this,L=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var z=this.$scrollAnchor;z.style.cssText="position:absolute",this.container.insertBefore(z,this.container.firstChild);var F=this.on("changeSelection",function(){L=!0}),j=this.renderer.on("beforeRender",function(){L&&(M=N.renderer.container.getBoundingClientRect())}),W=this.renderer.on("afterRender",function(){if(L&&M&&(N.isFocused()||N.searchBox&&N.searchBox.isFocused())){var B=N.renderer,H=B.$cursorLayer.$pixelPos,V=B.layerConfig,G=H.top-V.offset;H.top>=0&&G+M.top<0?L=!0:H.top<V.height&&H.top+M.top+V.lineHeight>window.innerHeight?L=!1:L=null,L!=null&&(z.style.top=G+"px",z.style.left=H.left+"px",z.style.height=V.lineHeight+"px",z.scrollIntoView(L)),L=M=null}});this.setAutoScrollEditorIntoView=function(B){B||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",F),this.renderer.off("afterRender",W),this.renderer.off("beforeRender",j))}}},R.prototype.$resetCursorStyle=function(){var A=this.$cursorStyle||"ace",M=this.renderer.$cursorLayer;M&&(M.setSmoothBlinking(/smooth/.test(A)),M.isBlinking=!this.$readOnly&&A!="wide",a.setCssClass(M.element,"ace_slim-cursors",/slim/.test(A)))},R.prototype.prompt=function(A,M,N){var L=this;_.loadModule("ace/ext/prompt",function(z){z.prompt(L,A,M,N)})},R}();$.$uid=0,$.prototype.curOp=null,$.prototype.prevOp={},$.prototype.$mergeableCommands=["backspace","del","insertstring"],$.prototype.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],s.implement($.prototype,y),_.defineOptions($.prototype,"editor",{selectionStyle:{set:function(R){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:R})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(R){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(R){var A=this;this.textInput.setReadOnly(R),this.$resetCursorStyle(),this.$readOnlyCallback||(this.$readOnlyCallback=function(N){var L=!1;if(N&&N.type=="keydown"){if(L=N&&N.key&&N.key.length==1&&!N.ctrlKey&&!N.metaKey,!L)return}else N&&N.type!=="exec"&&(L=!0);if(L){A.hoverTooltip||(A.hoverTooltip=new D);var z=a.createElement("div");z.textContent=E("editor.tooltip.disable-editing","Editing is disabled"),A.hoverTooltip.isOpen||A.hoverTooltip.showForRange(A,A.getSelectionRange(),z)}else A.hoverTooltip&&A.hoverTooltip.isOpen&&A.hoverTooltip.hide()});var M=this.textInput.getElement();R?(C.addListener(M,"keydown",this.$readOnlyCallback,this),this.commands.on("exec",this.$readOnlyCallback),this.commands.on("commandUnavailable",this.$readOnlyCallback)):(C.removeListener(M,"keydown",this.$readOnlyCallback),this.commands.off("exec",this.$readOnlyCallback),this.commands.off("commandUnavailable",this.$readOnlyCallback),this.hoverTooltip&&(this.hoverTooltip.destroy(),this.hoverTooltip=null))},initialValue:!1},copyWithEmptySelection:{set:function(R){this.textInput.setCopyWithEmptySelection(R)},initialValue:!1},cursorStyle:{set:function(R){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(R){this.setAutoScrollEditorIntoView(R)}},keyboardHandler:{set:function(R){this.setKeyboardHandler(R)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(R){this.session.setValue(R)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(R){this.setSession(R)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(R){this.renderer.$gutterLayer.setShowLineNumbers(R),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),R&&this.$relativeLineNumbers?I.attach(this):I.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(R){this.$showLineNumbers&&R?I.attach(this):I.detach(this)}},placeholder:{set:function(R){this.$updatePlaceholder||(this.$updatePlaceholder=(function(){var A=this.session&&(this.renderer.$composition||this.session.getLength()>1||this.session.getLine(0).length>0);if(A&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),a.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(!A&&!this.renderer.placeholderNode){this.renderer.on("afterRender",this.$updatePlaceholder),a.addCssClass(this.container,"ace_hasPlaceholder");var M=a.createElement("div");M.className="ace_placeholder",M.textContent=this.$placeholder||"",this.renderer.placeholderNode=M,this.renderer.content.appendChild(this.renderer.placeholderNode)}else!A&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"")}).bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function(R){var A={name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(L){L.blur(),L.renderer.scroller.focus()},readOnly:!0},M=function(L){if(L.target==this.renderer.scroller&&L.keyCode===T.enter){L.preventDefault();var z=this.getCursorPosition().row;this.isRowVisible(z)||this.scrollToLine(z,!0,!0),this.focus()}},N;R?(this.renderer.enableKeyboardAccessibility=!0,this.renderer.keyboardFocusClassName="ace_keyboard-focus",this.textInput.getElement().setAttribute("tabindex",-1),this.textInput.setNumberOfExtraLines(u.isWin?3:0),this.renderer.scroller.setAttribute("tabindex",0),this.renderer.scroller.setAttribute("role","group"),this.renderer.scroller.setAttribute("aria-roledescription",E("editor.scroller.aria-roledescription","editor")),this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName),this.renderer.scroller.setAttribute("aria-label",E("editor.scroller.aria-label","Editor content, press Enter to start editing, press Escape to exit")),this.renderer.scroller.addEventListener("keyup",M.bind(this)),this.commands.addCommand(A),this.renderer.$gutter.setAttribute("tabindex",0),this.renderer.$gutter.setAttribute("aria-hidden",!1),this.renderer.$gutter.setAttribute("role","group"),this.renderer.$gutter.setAttribute("aria-roledescription",E("editor.gutter.aria-roledescription","editor gutter")),this.renderer.$gutter.setAttribute("aria-label",E("editor.gutter.aria-label","Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit")),this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName),this.renderer.content.setAttribute("aria-hidden",!0),N||(N=new w(this)),N.addListener(),this.textInput.setAriaOptions({setLabel:!0})):(this.renderer.enableKeyboardAccessibility=!1,this.textInput.getElement().setAttribute("tabindex",0),this.textInput.setNumberOfExtraLines(0),this.renderer.scroller.setAttribute("tabindex",-1),this.renderer.scroller.removeAttribute("role"),this.renderer.scroller.removeAttribute("aria-roledescription"),this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName),this.renderer.scroller.removeAttribute("aria-label"),this.renderer.scroller.removeEventListener("keyup",M.bind(this)),this.commands.removeCommand(A),this.renderer.content.removeAttribute("aria-hidden"),this.renderer.$gutter.setAttribute("tabindex",-1),this.renderer.$gutter.setAttribute("aria-hidden",!0),this.renderer.$gutter.removeAttribute("role"),this.renderer.$gutter.removeAttribute("aria-roledescription"),this.renderer.$gutter.removeAttribute("aria-label"),this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName),N&&N.removeListener())},initialValue:!1},textInputAriaLabel:{set:function(R){this.$textInputAriaLabel=R},initialValue:""},enableMobileMenu:{set:function(R){this.$enableMobileMenu=R},initialValue:!0},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",useResizeObserver:"renderer",useSvgGutterIcons:"renderer",showFoldedAnnotations:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var I={getText:function(R,A){return(Math.abs(R.selection.lead.row-A)||A+1+(A<9?"":""))+""},getWidth:function(R,A,M){return Math.max(A.toString().length,(M.lastRow+1).toString().length,2)*M.characterWidth},update:function(R,A){A.renderer.$loop.schedule(A.renderer.CHANGE_GUTTER)},attach:function(R){R.renderer.$gutterLayer.$renderer=this,R.on("changeSelection",this.update),this.update(null,R)},detach:function(R){R.renderer.$gutterLayer.$renderer==this&&(R.renderer.$gutterLayer.$renderer=null),R.off("changeSelection",this.update),this.update(null,R)}};r.Editor=$}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(n,r,i){var o=n("../lib/dom"),s=function(){function a(l,u){this.element=l,this.canvasHeight=u||5e5,this.element.style.height=this.canvasHeight*2+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0}return a.prototype.moveContainer=function(l){o.translate(this.element,0,-(l.firstRowScreen*l.lineHeight%this.canvasHeight)-l.offset*this.$offsetCoefficient)},a.prototype.pageChanged=function(l,u){return Math.floor(l.firstRowScreen*l.lineHeight/this.canvasHeight)!==Math.floor(u.firstRowScreen*u.lineHeight/this.canvasHeight)},a.prototype.computeLineTop=function(l,u,c){var d=u.firstRowScreen*u.lineHeight,h=Math.floor(d/this.canvasHeight),f=c.documentToScreenRow(l,0)*u.lineHeight;return f-h*this.canvasHeight},a.prototype.computeLineHeight=function(l,u,c){return u.lineHeight*c.getRowLineCount(l)},a.prototype.getLength=function(){return this.cells.length},a.prototype.get=function(l){return this.cells[l]},a.prototype.shift=function(){this.$cacheCell(this.cells.shift())},a.prototype.pop=function(){this.$cacheCell(this.cells.pop())},a.prototype.push=function(l){if(Array.isArray(l)){this.cells.push.apply(this.cells,l);for(var u=o.createFragment(this.element),c=0;c<l.length;c++)u.appendChild(l[c].element);this.element.appendChild(u)}else this.cells.push(l),this.element.appendChild(l.element)},a.prototype.unshift=function(l){if(Array.isArray(l)){this.cells.unshift.apply(this.cells,l);for(var u=o.createFragment(this.element),c=0;c<l.length;c++)u.appendChild(l[c].element);this.element.firstChild?this.element.insertBefore(u,this.element.firstChild):this.element.appendChild(u)}else this.cells.unshift(l),this.element.insertAdjacentElement("afterbegin",l.element)},a.prototype.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},a.prototype.$cacheCell=function(l){l&&(l.element.remove(),this.cellCache.push(l))},a.prototype.createCell=function(l,u,c,d){var h=this.cellCache.pop();if(!h){var f=o.createElement("div");d&&d(f),this.element.appendChild(f),h={element:f,text:"",row:l}}return h.row=l,h},a}();r.Lines=s}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines","ace/config"],function(n,r,i){var o=n("../lib/dom"),s=n("../lib/oop"),a=n("../lib/lang"),l=n("../lib/event_emitter").EventEmitter,u=n("./lines").Lines,c=n("../config").nls,d=function(){function f(p){this.element=o.createElement("div"),this.element.className="ace_layer ace_gutter-layer",p.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new u(this.element),this.$lines.$offsetCoefficient=1}return f.prototype.setSession=function(p){this.session&&this.session.off("change",this.$updateAnnotations),this.session=p,p&&p.on("change",this.$updateAnnotations)},f.prototype.addGutterDecoration=function(p,m){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(p,m)},f.prototype.removeGutterDecoration=function(p,m){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(p,m)},f.prototype.setAnnotations=function(p){this.$annotations=[];for(var m=0;m<p.length;m++){var g=p[m],y=g.row,v=this.$annotations[y];v||(v=this.$annotations[y]={text:[],type:[],displayText:[]});var b=g.text,_=g.text,x=g.type;b=b?a.escapeHTML(b):g.html||"",_=_||g.html||"",v.text.indexOf(b)===-1&&(v.text.push(b),v.type.push(x),v.displayText.push(_));var w=g.className;w?v.className=w:x==="error"?v.className=" ace_error":x==="security"&&!/\bace_error\b/.test(v.className)?v.className=" ace_security":x==="warning"&&!/\bace_(error|security)\b/.test(v.className)?v.className=" ace_warning":x==="info"&&!v.className?v.className=" ace_info":x==="hint"&&!v.className&&(v.className=" ace_hint")}},f.prototype.$updateAnnotations=function(p){if(this.$annotations.length){var m=p.start.row,g=p.end.row-m;if(g!==0)if(p.action=="remove")this.$annotations.splice(m,g+1,null);else{var y=new Array(g+1);y.unshift(m,1),this.$annotations.splice.apply(this.$annotations,y)}}},f.prototype.update=function(p){this.config=p;var m=this.session,g=p.firstRow,y=Math.min(p.lastRow+p.gutterOffset,m.getLength()-1);this.oldLastRow=y,this.config=p,this.$lines.moveContainer(p),this.$updateCursorRow();for(var v=m.getNextFoldLine(g),b=v?v.start.row:1/0,_=null,x=-1,w=g;;){if(w>b&&(w=v.end.row+1,v=m.getNextFoldLine(w,v),b=v?v.start.row:1/0),w>y){for(;this.$lines.getLength()>x+1;)this.$lines.pop();break}_=this.$lines.get(++x),_?_.row=w:(_=this.$lines.createCell(w,p,this.session,h),this.$lines.push(_)),this.$renderCell(_,p,v,w),w++}this._signal("afterRender"),this.$updateGutterWidth(p)},f.prototype.$updateGutterWidth=function(p){var m=this.session,g=m.gutterRenderer||this.$renderer,y=m.$firstLineNumber,v=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||m.$useWrapMode)&&(v=m.getLength()+y-1);var b=g?g.getWidth(m,v,p):v.toString().length*p.characterWidth,_=this.$padding||this.$computePadding();b+=_.left+_.right,b!==this.gutterWidth&&!isNaN(b)&&(this.gutterWidth=b,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",b))},f.prototype.$updateCursorRow=function(){if(this.$highlightGutterLine){var p=this.session.selection.getCursor();this.$cursorRow!==p.row&&(this.$cursorRow=p.row)}},f.prototype.updateLineHighlight=function(){if(this.$highlightGutterLine){var p=this.session.selection.cursor.row;if(this.$cursorRow=p,!(this.$cursorCell&&this.$cursorCell.row==p)){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var m=this.$lines.cells;this.$cursorCell=null;for(var g=0;g<m.length;g++){var y=m[g];if(y.row>=this.$cursorRow){if(y.row>this.$cursorRow){var v=this.session.getFoldLine(this.$cursorRow);if(g>0&&v&&v.start.row==m[g-1].row)y=m[g-1];else break}y.element.className="ace_gutter-active-line "+y.element.className,this.$cursorCell=y;break}}}}},f.prototype.scrollLines=function(p){var m=this.config;if(this.config=p,this.$updateCursorRow(),this.$lines.pageChanged(m,p))return this.update(p);this.$lines.moveContainer(p);var g=Math.min(p.lastRow+p.gutterOffset,this.session.getLength()-1),y=this.oldLastRow;if(this.oldLastRow=g,!m||y<p.firstRow)return this.update(p);if(g<m.firstRow)return this.update(p);if(m.firstRow<p.firstRow)for(var v=this.session.getFoldedRowCount(m.firstRow,p.firstRow-1);v>0;v--)this.$lines.shift();if(y>g)for(var v=this.session.getFoldedRowCount(g+1,y);v>0;v--)this.$lines.pop();p.firstRow<m.firstRow&&this.$lines.unshift(this.$renderLines(p,p.firstRow,m.firstRow-1)),g>y&&this.$lines.push(this.$renderLines(p,y+1,g)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(p)},f.prototype.$renderLines=function(p,m,g){for(var y=[],v=m,b=this.session.getNextFoldLine(v),_=b?b.start.row:1/0;v>_&&(v=b.end.row+1,b=this.session.getNextFoldLine(v,b),_=b?b.start.row:1/0),!(v>g);){var x=this.$lines.createCell(v,p,this.session,h);this.$renderCell(x,p,b,v),y.push(x),v++}return y},f.prototype.$renderCell=function(p,m,g,y){var v=p.element,b=this.session,_=v.childNodes[0],x=v.childNodes[1],w=v.childNodes[2],E=w.firstChild,S=b.$firstLineNumber,T=b.$breakpoints,C=b.$decorations,D=b.gutterRenderer||this.$renderer,$=this.$showFoldWidgets&&b.foldWidgets,I=g?g.start.row:Number.MAX_VALUE,R=m.lineHeight+"px",A=this.$useSvgGutterIcons?"ace_gutter-cell_svg-icons ":"ace_gutter-cell ",M=this.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",N=(D?D.getText(b,y):y+S).toString();if(this.$highlightGutterLine&&(y==this.$cursorRow||g&&y<this.$cursorRow&&y>=I&&this.$cursorRow<=g.end.row)&&(A+="ace_gutter-active-line ",this.$cursorCell!=p&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=p)),T[y]&&(A+=T[y]),C[y]&&(A+=C[y]),this.$annotations[y]&&y!==I&&(A+=this.$annotations[y].className),$){var L=$[y];L==null&&(L=$[y]=b.getFoldWidget(y))}if(L){var z="ace_fold-widget ace_"+L,F=L=="start"&&y==I&&y<g.end.row;if(F){z+=" ace_closed";for(var j="",W=!1,B=y+1;B<=g.end.row;B++)if(this.$annotations[B]){if(this.$annotations[B].className===" ace_error"){W=!0,j=" ace_error_fold";break}this.$annotations[B].className===" ace_security"?(W=!0,j=" ace_security_fold"):this.$annotations[B].className===" ace_warning"&&j!==" ace_security_fold"&&(W=!0,j=" ace_warning_fold")}A+=j}else z+=" ace_open";x.className!=z&&(x.className=z),o.setStyle(x.style,"height",R),o.setStyle(x.style,"display","inline-block"),x.setAttribute("role","button"),x.setAttribute("tabindex","-1");var H=b.getFoldWidgetRange(y);H?x.setAttribute("aria-label",c("gutter.code-folding.range.aria-label","Toggle code folding, rows $0 through $1",[H.start.row+1,H.end.row+1])):g?x.setAttribute("aria-label",c("gutter.code-folding.closed.aria-label","Toggle code folding, rows $0 through $1",[g.start.row+1,g.end.row+1])):x.setAttribute("aria-label",c("gutter.code-folding.open.aria-label","Toggle code folding, row $0",[y+1])),F?(x.setAttribute("aria-expanded","false"),x.setAttribute("title",c("gutter.code-folding.closed.title","Unfold code"))):(x.setAttribute("aria-expanded","true"),x.setAttribute("title",c("gutter.code-folding.open.title","Fold code")))}else x&&(o.setStyle(x.style,"display","none"),x.setAttribute("tabindex","0"),x.removeAttribute("role"),x.removeAttribute("aria-label"));if(W&&this.$showFoldedAnnotations){w.className="ace_gutter_annotation",E.className=M,E.className+=j,o.setStyle(E.style,"height",R),o.setStyle(w.style,"display","block"),o.setStyle(w.style,"height",R);var V;switch(j){case" ace_error_fold":V=c("gutter.annotation.aria-label.error","Error, read annotations row $0",[N]);break;case" ace_security_fold":V=c("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[N]);break;case" ace_warning_fold":V=c("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[N]);break}w.setAttribute("aria-label",V),w.setAttribute("tabindex","-1"),w.setAttribute("role","button")}else if(this.$annotations[y]){w.className="ace_gutter_annotation",E.className=M,this.$useSvgGutterIcons?E.className+=this.$annotations[y].className:v.classList.add(this.$annotations[y].className.replace(" ","")),o.setStyle(E.style,"height",R),o.setStyle(w.style,"display","block"),o.setStyle(w.style,"height",R);var V;switch(this.$annotations[y].className){case" ace_error":V=c("gutter.annotation.aria-label.error","Error, read annotations row $0",[N]);break;case" ace_security":V=c("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[N]);break;case" ace_warning":V=c("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[N]);break;case" ace_info":V=c("gutter.annotation.aria-label.info","Info, read annotations row $0",[N]);break;case" ace_hint":V=c("gutter.annotation.aria-label.hint","Suggestion, read annotations row $0",[N]);break}w.setAttribute("aria-label",V),w.setAttribute("tabindex","-1"),w.setAttribute("role","button")}else o.setStyle(w.style,"display","none"),w.removeAttribute("aria-label"),w.removeAttribute("role"),w.setAttribute("tabindex","0");return N!==_.data&&(_.data=N),v.className!=A&&(v.className=A),o.setStyle(p.element.style,"height",this.$lines.computeLineHeight(y,m,b)+"px"),o.setStyle(p.element.style,"top",this.$lines.computeLineTop(y,m,b)+"px"),p.text=N,w.style.display==="none"&&x.style.display==="none"?p.element.setAttribute("aria-hidden",!0):p.element.setAttribute("aria-hidden",!1),p},f.prototype.setHighlightGutterLine=function(p){this.$highlightGutterLine=p},f.prototype.setShowLineNumbers=function(p){this.$renderer=!p&&{getWidth:function(){return 0},getText:function(){return""}}},f.prototype.getShowLineNumbers=function(){return this.$showLineNumbers},f.prototype.setShowFoldWidgets=function(p){p?o.addCssClass(this.element,"ace_folding-enabled"):o.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=p,this.$padding=null},f.prototype.getShowFoldWidgets=function(){return this.$showFoldWidgets},f.prototype.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var p=o.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(p.borderLeftWidth)||0)+(parseInt(p.paddingLeft)||0)+1,this.$padding.right=(parseInt(p.borderRightWidth)||0)+(parseInt(p.paddingRight)||0),this.$padding},f.prototype.getRegion=function(p){var m=this.$padding||this.$computePadding(),g=this.element.getBoundingClientRect();if(p.x<m.left+g.left)return"markers";if(this.$showFoldWidgets&&p.x>g.right-m.right)return"foldWidgets"},f}();d.prototype.$fixedWidth=!1,d.prototype.$highlightGutterLine=!0,d.prototype.$renderer="",d.prototype.$showLineNumbers=!0,d.prototype.$showFoldWidgets=!0,s.implement(d.prototype,l);function h(f){var p=document.createTextNode("");f.appendChild(p);var m=o.createElement("span");f.appendChild(m);var g=o.createElement("span");f.appendChild(g);var y=o.createElement("span");return g.appendChild(y),f}r.Gutter=d}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(n,r,i){var o=n("../range").Range,s=n("../lib/dom"),a=function(){function u(c){this.element=s.createElement("div"),this.element.className="ace_layer ace_marker-layer",c.appendChild(this.element)}return u.prototype.setPadding=function(c){this.$padding=c},u.prototype.setSession=function(c){this.session=c},u.prototype.setMarkers=function(c){this.markers=c},u.prototype.elt=function(c,d){var h=this.i!=-1&&this.element.childNodes[this.i];h?this.i++:(h=document.createElement("div"),this.element.appendChild(h),this.i=-1),h.style.cssText=d,h.className=c},u.prototype.update=function(c){if(c){this.config=c,this.i=0;var d;for(var h in this.markers){var f=this.markers[h];if(!f.range){f.update(d,this,this.session,c);continue}var p=f.range.clipRows(c.firstRow,c.lastRow);if(!p.isEmpty())if(p=p.toScreenRange(this.session),f.renderer){var m=this.$getTop(p.start.row,c),g=this.$padding+p.start.column*c.characterWidth;f.renderer(d,p,g,m,c)}else f.type=="fullLine"?this.drawFullLineMarker(d,p,f.clazz,c):f.type=="screenLine"?this.drawScreenLineMarker(d,p,f.clazz,c):p.isMultiLine()?f.type=="text"?this.drawTextMarker(d,p,f.clazz,c):this.drawMultiLineMarker(d,p,f.clazz,c):this.drawSingleLineMarker(d,p,f.clazz+" ace_start ace_br15",c)}if(this.i!=-1)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},u.prototype.$getTop=function(c,d){return(c-d.firstRowScreen)*d.lineHeight},u.prototype.drawTextMarker=function(c,d,h,f,p){for(var m=this.session,g=d.start.row,y=d.end.row,v=g,b=0,_=0,x=m.getScreenLastRowColumn(v),w=new o(v,d.start.column,v,_);v<=y;v++)w.start.row=w.end.row=v,w.start.column=v==g?d.start.column:m.getRowWrapIndent(v),w.end.column=x,b=_,_=x,x=v+1<y?m.getScreenLastRowColumn(v+1):v==y?0:d.end.column,this.drawSingleLineMarker(c,w,h+(v==g?" ace_start":"")+" ace_br"+l(v==g||v==g+1&&d.start.column,b<_,_>x,v==y),f,v==y?0:1,p)},u.prototype.drawMultiLineMarker=function(c,d,h,f,p){var m=this.$padding,g=f.lineHeight,y=this.$getTop(d.start.row,f),v=m+d.start.column*f.characterWidth;if(p=p||"",this.session.$bidiHandler.isBidiRow(d.start.row)){var b=d.clone();b.end.row=b.start.row,b.end.column=this.session.getLine(b.start.row).length,this.drawBidiSingleLineMarker(c,b,h+" ace_br1 ace_start",f,null,p)}else this.elt(h+" ace_br1 ace_start","height:"+g+"px;right:"+m+"px;top:"+y+"px;left:"+v+"px;"+(p||""));if(this.session.$bidiHandler.isBidiRow(d.end.row)){var b=d.clone();b.start.row=b.end.row,b.start.column=0,this.drawBidiSingleLineMarker(c,b,h+" ace_br12",f,null,p)}else{y=this.$getTop(d.end.row,f);var _=d.end.column*f.characterWidth;this.elt(h+" ace_br12","height:"+g+"px;width:"+_+"px;top:"+y+"px;left:"+m+"px;"+(p||""))}if(g=(d.end.row-d.start.row-1)*f.lineHeight,!(g<=0)){y=this.$getTop(d.start.row+1,f);var x=(d.start.column?1:0)|(d.end.column?0:8);this.elt(h+(x?" ace_br"+x:""),"height:"+g+"px;right:"+m+"px;top:"+y+"px;left:"+m+"px;"+(p||""))}},u.prototype.drawSingleLineMarker=function(c,d,h,f,p,m){if(this.session.$bidiHandler.isBidiRow(d.start.row))return this.drawBidiSingleLineMarker(c,d,h,f,p,m);var g=f.lineHeight,y=(d.end.column+(p||0)-d.start.column)*f.characterWidth,v=this.$getTop(d.start.row,f),b=this.$padding+d.start.column*f.characterWidth;this.elt(h,"height:"+g+"px;width:"+y+"px;top:"+v+"px;left:"+b+"px;"+(m||""))},u.prototype.drawBidiSingleLineMarker=function(c,d,h,f,p,m){var g=f.lineHeight,y=this.$getTop(d.start.row,f),v=this.$padding,b=this.session.$bidiHandler.getSelections(d.start.column,d.end.column);b.forEach(function(_){this.elt(h,"height:"+g+"px;width:"+(_.width+(p||0))+"px;top:"+y+"px;left:"+(v+_.left)+"px;"+(m||""))},this)},u.prototype.drawFullLineMarker=function(c,d,h,f,p){var m=this.$getTop(d.start.row,f),g=f.lineHeight;d.start.row!=d.end.row&&(g+=this.$getTop(d.end.row,f)-m),this.elt(h,"height:"+g+"px;top:"+m+"px;left:0;right:0;"+(p||""))},u.prototype.drawScreenLineMarker=function(c,d,h,f,p){var m=this.$getTop(d.start.row,f),g=f.lineHeight;this.elt(h,"height:"+g+"px;top:"+m+"px;left:0;right:0;"+(p||""))},u}();a.prototype.$padding=0;function l(u,c,d,h){return(u?1:0)|(c?2:0)|(d?4:0)|(h?8:0)}r.Marker=a}),ace.define("ace/layer/text_util",["require","exports","module"],function(n,r,i){var o=new Set(["text","rparen","lparen"]);r.isTextToken=function(s){return o.has(s)}}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter","ace/config","ace/layer/text_util"],function(n,r,i){var o=n("../lib/oop"),s=n("../lib/dom"),a=n("../lib/lang"),l=n("./lines").Lines,u=n("../lib/event_emitter").EventEmitter,c=n("../config").nls,d=n("./text_util").isTextToken,h=function(){function f(p){this.dom=s,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",p.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new l(this.element)}return f.prototype.$updateEolChar=function(){var p=this.session.doc,m=p.getNewLineCharacter()==`
`&&p.getNewLineMode()!="windows",g=m?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=g)return this.EOL_CHAR=g,!0},f.prototype.setPadding=function(p){this.$padding=p,this.element.style.margin="0 "+p+"px"},f.prototype.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},f.prototype.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},f.prototype.$setFontMetrics=function(p){this.$fontMetrics=p,this.$fontMetrics.on("changeCharacterSize",(function(m){this._signal("changeCharacterSize",m)}).bind(this)),this.$pollSizeChanges()},f.prototype.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},f.prototype.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},f.prototype.setSession=function(p){this.session=p,p&&this.$computeTabString()},f.prototype.setShowInvisibles=function(p){return this.showInvisibles==p?!1:(this.showInvisibles=p,typeof p=="string"?(this.showSpaces=/tab/i.test(p),this.showTabs=/space/i.test(p),this.showEOL=/eol/i.test(p)):this.showSpaces=this.showTabs=this.showEOL=p,this.$computeTabString(),!0)},f.prototype.setDisplayIndentGuides=function(p){return this.displayIndentGuides==p?!1:(this.displayIndentGuides=p,this.$computeTabString(),!0)},f.prototype.setHighlightIndentGuides=function(p){return this.$highlightIndentGuides===p?!1:(this.$highlightIndentGuides=p,p)},f.prototype.$computeTabString=function(){var p=this.session.getTabSize();this.tabSize=p;for(var m=this.$tabStrings=[0],g=1;g<p+1;g++)if(this.showTabs){var y=this.dom.createElement("span");y.className="ace_invisible ace_invisible_tab",y.textContent=a.stringRepeat(this.TAB_CHAR,g),m.push(y)}else m.push(this.dom.createTextNode(a.stringRepeat(" ",g),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var v="ace_indent-guide",b=this.showSpaces?" ace_invisible ace_invisible_space":"",_=this.showSpaces?a.stringRepeat(this.SPACE_CHAR,this.tabSize):a.stringRepeat(" ",this.tabSize),x=this.showTabs?" ace_invisible ace_invisible_tab":"",w=this.showTabs?a.stringRepeat(this.TAB_CHAR,this.tabSize):_,y=this.dom.createElement("span");y.className=v+b,y.textContent=_,this.$tabStrings[" "]=y;var y=this.dom.createElement("span");y.className=v+x,y.textContent=w,this.$tabStrings["	"]=y}},f.prototype.updateLines=function(p,m,g){if(this.config.lastRow!=p.lastRow||this.config.firstRow!=p.firstRow)return this.update(p);this.config=p;for(var y=Math.max(m,p.firstRow),v=Math.min(g,p.lastRow),b=this.element.childNodes,_=0,w=p.firstRow;w<y;w++){var E=this.session.getFoldLine(w);if(E)if(E.containsRow(y)){y=E.start.row;break}else w=E.end.row;_++}for(var x=!1,w=y,E=this.session.getNextFoldLine(w),S=E?E.start.row:1/0;w>S&&(w=E.end.row+1,E=this.session.getNextFoldLine(w,E),S=E?E.start.row:1/0),!(w>v);){var T=b[_++];if(T){this.dom.removeChildren(T),this.$renderLine(T,w,w==S?E:!1),x&&(T.style.top=this.$lines.computeLineTop(w,p,this.session)+"px");var C=p.lineHeight*this.session.getRowLength(w)+"px";T.style.height!=C&&(x=!0,T.style.height=C)}w++}if(x)for(;_<this.$lines.cells.length;){var D=this.$lines.cells[_++];D.element.style.top=this.$lines.computeLineTop(D.row,p,this.session)+"px"}},f.prototype.scrollLines=function(p){var m=this.config;if(this.config=p,this.$lines.pageChanged(m,p))return this.update(p);this.$lines.moveContainer(p);var g=p.lastRow,y=m?m.lastRow:-1;if(!m||y<p.firstRow)return this.update(p);if(g<m.firstRow)return this.update(p);if(!m||m.lastRow<p.firstRow)return this.update(p);if(p.lastRow<m.firstRow)return this.update(p);if(m.firstRow<p.firstRow)for(var v=this.session.getFoldedRowCount(m.firstRow,p.firstRow-1);v>0;v--)this.$lines.shift();if(m.lastRow>p.lastRow)for(var v=this.session.getFoldedRowCount(p.lastRow+1,m.lastRow);v>0;v--)this.$lines.pop();p.firstRow<m.firstRow&&this.$lines.unshift(this.$renderLinesFragment(p,p.firstRow,m.firstRow-1)),p.lastRow>m.lastRow&&this.$lines.push(this.$renderLinesFragment(p,m.lastRow+1,p.lastRow)),this.$highlightIndentGuide()},f.prototype.$renderLinesFragment=function(p,m,g){for(var y=[],v=m,b=this.session.getNextFoldLine(v),_=b?b.start.row:1/0;v>_&&(v=b.end.row+1,b=this.session.getNextFoldLine(v,b),_=b?b.start.row:1/0),!(v>g);){var x=this.$lines.createCell(v,p,this.session),w=x.element;this.dom.removeChildren(w),s.setStyle(w.style,"height",this.$lines.computeLineHeight(v,p,this.session)+"px"),s.setStyle(w.style,"top",this.$lines.computeLineTop(v,p,this.session)+"px"),this.$renderLine(w,v,v==_?b:!1),this.$useLineGroups()?w.className="ace_line_group":w.className="ace_line",y.push(x),v++}return y},f.prototype.update=function(p){this.$lines.moveContainer(p),this.config=p;for(var m=p.firstRow,g=p.lastRow,y=this.$lines;y.getLength();)y.pop();y.push(this.$renderLinesFragment(p,m,g))},f.prototype.$renderToken=function(p,m,g,y){for(var v=this,b=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069\u2060\u2061\u2062\u2063\u2064\u206A\u206B\u206B\u206C\u206D\u206E\u206F]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,_=this.dom.createFragment(this.element),x,w=0;x=b.exec(y);){var E=x[1],S=x[2],T=x[3],C=x[4],D=x[5];if(!(!v.showSpaces&&S)){var $=w!=x.index?y.slice(w,x.index):"";if(w=x.index+x[0].length,$&&_.appendChild(this.dom.createTextNode($,this.element)),E){var I=v.session.getScreenTabSize(m+x.index);_.appendChild(v.$tabStrings[I].cloneNode(!0)),m+=I-1}else if(S)if(v.showSpaces){var R=this.dom.createElement("span");R.className="ace_invisible ace_invisible_space",R.textContent=a.stringRepeat(v.SPACE_CHAR,S.length),_.appendChild(R)}else _.appendChild(this.dom.createTextNode(S,this.element));else if(T){var R=this.dom.createElement("span");R.className="ace_invisible ace_invisible_space ace_invalid",R.textContent=a.stringRepeat(v.SPACE_CHAR,T.length),_.appendChild(R)}else if(C){m+=1;var R=this.dom.createElement("span");R.style.width=v.config.characterWidth*2+"px",R.className=v.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",R.textContent=v.showSpaces?v.SPACE_CHAR:C,_.appendChild(R)}else if(D){m+=1;var R=this.dom.createElement("span");R.style.width=v.config.characterWidth*2+"px",R.className="ace_cjk",R.textContent=D,_.appendChild(R)}}}if(_.appendChild(this.dom.createTextNode(w?y.slice(w):y,this.element)),d(g.type))p.appendChild(_);else{var A="ace_"+g.type.replace(/\./g," ace_"),R=this.dom.createElement("span");g.type=="fold"&&(R.style.width=g.value.length*this.config.characterWidth+"px",R.setAttribute("title",c("inline-fold.closed.title","Unfold code"))),R.className=A,R.appendChild(_),p.appendChild(R)}return m+y.length},f.prototype.renderIndentGuide=function(p,m,g){var y=m.search(this.$indentGuideRe);if(y<=0||y>=g)return m;if(m[0]==" "){y-=y%this.tabSize;for(var v=y/this.tabSize,b=0;b<v;b++)p.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),m.substr(y)}else if(m[0]=="	"){for(var b=0;b<y;b++)p.appendChild(this.$tabStrings["	"].cloneNode(!0));return this.$highlightIndentGuide(),m.substr(y)}return this.$highlightIndentGuide(),m},f.prototype.$highlightIndentGuide=function(){if(!(!this.$highlightIndentGuides||!this.displayIndentGuides)){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var p=this.session.doc.$lines;if(p){var m=this.session.selection.getCursor(),g=/^\s*/.exec(this.session.doc.getLine(m.row))[0].length,y=Math.floor(g/this.tabSize);this.$highlightIndentGuideMarker={indentLevel:y,start:m.row};var v=this.session.$bracketHighlight;if(v){for(var b=this.session.$bracketHighlight.ranges,_=0;_<b.length;_++)if(m.row!==b[_].start.row){this.$highlightIndentGuideMarker.end=b[_].start.row+1,m.row>b[_].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}}if(!this.$highlightIndentGuideMarker.end&&p[m.row]!==""&&m.column===p[m.row].length){this.$highlightIndentGuideMarker.dir=1;for(var _=m.row+1;_<p.length;_++){var x=p[_],w=/^\s*/.exec(x)[0].length;if(x!==""&&(this.$highlightIndentGuideMarker.end=_,w<=g))break}}this.$renderHighlightIndentGuide()}}},f.prototype.$clearActiveIndentGuide=function(){for(var p=this.element.querySelectorAll(".ace_indent-guide-active"),m=0;m<p.length;m++)p[m].classList.remove("ace_indent-guide-active")},f.prototype.$setIndentGuideActive=function(p,m){var g=this.session.doc.getLine(p.row);if(g!==""){var y=p.element;if(p.element.classList&&p.element.classList.contains("ace_line_group"))if(p.element.childNodes.length>0)y=p.element.childNodes[0];else return;var v=y.childNodes;if(v){var b=v[m-1];b&&b.classList&&b.classList.contains("ace_indent-guide")&&b.classList.add("ace_indent-guide-active")}}},f.prototype.$renderHighlightIndentGuide=function(){if(this.$lines){var p=this.$lines.cells;this.$clearActiveIndentGuide();var m=this.$highlightIndentGuideMarker.indentLevel;if(m!==0)if(this.$highlightIndentGuideMarker.dir===1)for(var g=0;g<p.length;g++){var y=p[g];if(this.$highlightIndentGuideMarker.end&&y.row>=this.$highlightIndentGuideMarker.start+1){if(y.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(y,m)}}else for(var g=p.length-1;g>=0;g--){var y=p[g];if(this.$highlightIndentGuideMarker.end&&y.row<this.$highlightIndentGuideMarker.start){if(y.row<this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(y,m)}}}},f.prototype.$createLineElement=function(p){var m=this.dom.createElement("div");return m.className="ace_line",m.style.height=this.config.lineHeight+"px",m},f.prototype.$renderWrappedLine=function(p,m,g){var y=0,v=0,b=g[0],_=0,x=this.$createLineElement();p.appendChild(x);for(var w=0;w<m.length;w++){var E=m[w],S=E.value;if(w==0&&this.displayIndentGuides){if(y=S.length,S=this.renderIndentGuide(x,S,b),!S)continue;y-=S.length}if(y+S.length<b)_=this.$renderToken(x,_,E,S),y+=S.length;else{for(;y+S.length>=b;)_=this.$renderToken(x,_,E,S.substring(0,b-y)),S=S.substring(b-y),y=b,x=this.$createLineElement(),p.appendChild(x),x.appendChild(this.dom.createTextNode(a.stringRepeat("",g.indent),this.element)),v++,_=0,b=g[v]||Number.MAX_VALUE;S.length!=0&&(y+=S.length,_=this.$renderToken(x,_,E,S))}}g[g.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(x,_,null,"",!0)},f.prototype.$renderSimpleLine=function(p,m){for(var g=0,y=0;y<m.length;y++){var v=m[y],b=v.value;if(!(y==0&&this.displayIndentGuides&&(b=this.renderIndentGuide(p,b),!b))){if(g+b.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(p,g,v,b);g=this.$renderToken(p,g,v,b)}}},f.prototype.$renderOverflowMessage=function(p,m,g,y,v){g&&this.$renderToken(p,m,g,y.slice(0,this.MAX_LINE_LENGTH-m));var b=this.dom.createElement("span");b.className="ace_inline_button ace_keyword ace_toggle_wrap",b.textContent=v?"<hide>":"<click to see more...>",p.appendChild(b)},f.prototype.$renderLine=function(p,m,g){if(!g&&g!=!1&&(g=this.session.getFoldLine(m)),g)var y=this.$getFoldLineTokens(m,g);else var y=this.session.getTokens(m);var v=p;if(y.length){var b=this.session.getRowSplitData(m);if(b&&b.length){this.$renderWrappedLine(p,y,b);var v=p.lastChild}else{var v=p;this.$useLineGroups()&&(v=this.$createLineElement(),p.appendChild(v)),this.$renderSimpleLine(v,y)}}else this.$useLineGroups()&&(v=this.$createLineElement(),p.appendChild(v));if(this.showEOL&&v){g&&(m=g.end.row);var _=this.dom.createElement("span");_.className="ace_invisible ace_invisible_eol",_.textContent=m==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,v.appendChild(_)}},f.prototype.$getFoldLineTokens=function(p,m){var g=this.session,y=[];function v(_,x,w){for(var E=0,S=0;S+_[E].value.length<x;)if(S+=_[E].value.length,E++,E==_.length)return;if(S!=x){var T=_[E].value.substring(x-S);T.length>w-x&&(T=T.substring(0,w-x)),y.push({type:_[E].type,value:T}),S=x+T.length,E+=1}for(;S<w&&E<_.length;){var T=_[E].value;T.length+S>w?y.push({type:_[E].type,value:T.substring(0,w-S)}):y.push(_[E]),S+=T.length,E+=1}}var b=g.getTokens(p);return m.walk(function(_,x,w,E,S){_!=null?y.push({type:"fold",value:_}):(S&&(b=g.getTokens(x)),b.length&&v(b,E,w))},m.end.row,this.session.getLine(m.end.row).length),y},f.prototype.$useLineGroups=function(){return this.session.getUseWrapMode()},f}();h.prototype.EOF_CHAR="",h.prototype.EOL_CHAR_LF="",h.prototype.EOL_CHAR_CRLF="",h.prototype.EOL_CHAR=h.prototype.EOL_CHAR_LF,h.prototype.TAB_CHAR="",h.prototype.SPACE_CHAR="",h.prototype.$padding=0,h.prototype.MAX_LINE_LENGTH=1e4,h.prototype.showInvisibles=!1,h.prototype.showSpaces=!1,h.prototype.showTabs=!1,h.prototype.showEOL=!1,h.prototype.displayIndentGuides=!0,h.prototype.$highlightIndentGuides=!0,h.prototype.$tabStrings=[],h.prototype.destroy={},h.prototype.onChangeTabSize=h.prototype.$computeTabString,o.implement(h.prototype,u),r.Text=h}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(n,r,i){var o=n("../lib/dom"),s=function(){function a(l){this.element=o.createElement("div"),this.element.className="ace_layer ace_cursor-layer",l.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),o.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)}return a.prototype.$updateOpacity=function(l){for(var u=this.cursors,c=u.length;c--;)o.setStyle(u[c].style,"opacity",l?"":"0")},a.prototype.$startCssAnimation=function(){for(var l=this.cursors,u=l.length;u--;)l[u].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout((function(){this.$isAnimating&&o.addCssClass(this.element,"ace_animate-blinking")}).bind(this))},a.prototype.$stopCssAnimation=function(){this.$isAnimating=!1,o.removeCssClass(this.element,"ace_animate-blinking")},a.prototype.setPadding=function(l){this.$padding=l},a.prototype.setSession=function(l){this.session=l},a.prototype.setBlinking=function(l){l!=this.isBlinking&&(this.isBlinking=l,this.restartTimer())},a.prototype.setBlinkInterval=function(l){l!=this.blinkInterval&&(this.blinkInterval=l,this.restartTimer())},a.prototype.setSmoothBlinking=function(l){l!=this.smoothBlinking&&(this.smoothBlinking=l,o.setCssClass(this.element,"ace_smooth-blinking",l),this.$updateCursors(!0),this.restartTimer())},a.prototype.addCursor=function(){var l=o.createElement("div");return l.className="ace_cursor",this.element.appendChild(l),this.cursors.push(l),l},a.prototype.removeCursor=function(){if(this.cursors.length>1){var l=this.cursors.pop();return l.parentNode.removeChild(l),l}},a.prototype.hideCursor=function(){this.isVisible=!1,o.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},a.prototype.showCursor=function(){this.isVisible=!0,o.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},a.prototype.restartTimer=function(){var l=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,o.removeCssClass(this.element,"ace_smooth-blinking")),l(!0),!this.isBlinking||!this.blinkInterval||!this.isVisible){this.$stopCssAnimation();return}if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout((function(){this.$isSmoothBlinking&&o.addCssClass(this.element,"ace_smooth-blinking")}).bind(this))),o.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var u=(function(){this.timeoutId=setTimeout(function(){l(!1)},.6*this.blinkInterval)}).bind(this);this.intervalId=setInterval(function(){l(!0),u()},this.blinkInterval),u()}},a.prototype.getPixelPosition=function(l,u){if(!this.config||!this.session)return{left:0,top:0};l||(l=this.session.selection.getCursor());var c=this.session.documentToScreenPosition(l),d=this.$padding+(this.session.$bidiHandler.isBidiRow(c.row,l.row)?this.session.$bidiHandler.getPosLeft(c.column):c.column*this.config.characterWidth),h=(c.row-(u?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:d,top:h}},a.prototype.isCursorInView=function(l,u){return l.top>=0&&l.top<u.maxHeight},a.prototype.update=function(l){this.config=l;var u=this.session.$selectionMarkers,c=0,d=0;(u===void 0||u.length===0)&&(u=[{cursor:null}]);for(var c=0,h=u.length;c<h;c++){var f=this.getPixelPosition(u[c].cursor,!0);if(!((f.top>l.height+l.offset||f.top<0)&&c>1)){var p=this.cursors[d++]||this.addCursor(),m=p.style;this.drawCursor?this.drawCursor(p,f,l,u[c],this.session):this.isCursorInView(f,l)?(o.setStyle(m,"display","block"),o.translate(p,f.left,f.top),o.setStyle(m,"width",Math.round(l.characterWidth)+"px"),o.setStyle(m,"height",l.lineHeight+"px")):o.setStyle(m,"display","none")}}for(;this.cursors.length>d;)this.removeCursor();var g=this.session.getOverwrite();this.$setOverwrite(g),this.$pixelPos=f,this.restartTimer()},a.prototype.$setOverwrite=function(l){l!=this.overwrite&&(this.overwrite=l,l?o.addCssClass(this.element,"ace_overwrite-cursors"):o.removeCssClass(this.element,"ace_overwrite-cursors"))},a.prototype.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)},a}();s.prototype.$padding=0,s.prototype.drawCursor=null,r.Cursor=s}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(n,r,i){var o=this&&this.__extends||function(){var p=function(m,g){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,v){y.__proto__=v}||function(y,v){for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&(y[b]=v[b])},p(m,g)};return function(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");p(m,g);function y(){this.constructor=m}m.prototype=g===null?Object.create(g):(y.prototype=g.prototype,new y)}}(),s=n("./lib/oop"),a=n("./lib/dom"),l=n("./lib/event"),u=n("./lib/event_emitter").EventEmitter,c=32768,d=function(){function p(m,g){this.element=a.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+g,this.inner=a.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="",this.element.appendChild(this.inner),m.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,l.addListener(this.element,"scroll",this.onScroll.bind(this)),l.addListener(this.element,"mousedown",l.preventDefault)}return p.prototype.setVisible=function(m){this.element.style.display=m?"":"none",this.isVisible=m,this.coeff=1},p}();s.implement(d.prototype,u);var h=function(p){o(m,p);function m(g,y){var v=p.call(this,g,"-v")||this;return v.scrollTop=0,v.scrollHeight=0,y.$scrollbarWidth=v.width=a.scrollbarWidth(g.ownerDocument),v.inner.style.width=v.element.style.width=(v.width||15)+5+"px",v.$minWidth=0,v}return m.prototype.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,this.coeff!=1){var g=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-g)/(this.coeff-g)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},m.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},m.prototype.setHeight=function(g){this.element.style.height=g+"px"},m.prototype.setScrollHeight=function(g){this.scrollHeight=g,g>c?(this.coeff=c/g,g=c):this.coeff!=1&&(this.coeff=1),this.inner.style.height=g+"px"},m.prototype.setScrollTop=function(g){this.scrollTop!=g&&(this.skipEvent=!0,this.scrollTop=g,this.element.scrollTop=g*this.coeff)},m}(d);h.prototype.setInnerHeight=h.prototype.setScrollHeight;var f=function(p){o(m,p);function m(g,y){var v=p.call(this,g,"-h")||this;return v.scrollLeft=0,v.height=y.$scrollbarWidth,v.inner.style.height=v.element.style.height=(v.height||15)+5+"px",v}return m.prototype.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},m.prototype.getHeight=function(){return this.isVisible?this.height:0},m.prototype.setWidth=function(g){this.element.style.width=g+"px"},m.prototype.setInnerWidth=function(g){this.inner.style.width=g+"px"},m.prototype.setScrollWidth=function(g){this.inner.style.width=g+"px"},m.prototype.setScrollLeft=function(g){this.scrollLeft!=g&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=g)},m}(d);r.ScrollBar=h,r.ScrollBarV=h,r.ScrollBarH=f,r.VScrollBar=h,r.HScrollBar=f}),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(n,r,i){var o=this&&this.__extends||function(){var f=function(p,m){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,y){g.__proto__=y}||function(g,y){for(var v in y)Object.prototype.hasOwnProperty.call(y,v)&&(g[v]=y[v])},f(p,m)};return function(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");f(p,m);function g(){this.constructor=p}p.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}}(),s=n("./lib/oop"),a=n("./lib/dom"),l=n("./lib/event"),u=n("./lib/event_emitter").EventEmitter;a.importCssString(`.ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{
  position: absolute;
  background: rgba(128, 128, 128, 0.6);
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  border: 1px solid #bbb;
  border-radius: 2px;
  z-index: 8;
}
.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {
  position: absolute;
  z-index: 6;
  background: none;
  overflow: hidden!important;
}
.ace_editor>.ace_sb-v {
  z-index: 6;
  right: 0;
  top: 0;
  width: 12px;
}
.ace_editor>.ace_sb-v div {
  z-index: 8;
  right: 0;
  width: 100%;
}
.ace_editor>.ace_sb-h {
  bottom: 0;
  left: 0;
  height: 12px;
}
.ace_editor>.ace_sb-h div {
  bottom: 0;
  height: 100%;
}
.ace_editor>.ace_sb_grabbed {
  z-index: 8;
  background: #000;
}`,"ace_scrollbar.css",!1);var c=function(){function f(p,m){this.element=a.createElement("div"),this.element.className="ace_sb"+m,this.inner=a.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,p.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,l.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")}return f.prototype.setVisible=function(p){this.element.style.display=p?"":"none",this.isVisible=p,this.coeff=1},f}();s.implement(c.prototype,u);var d=function(f){o(p,f);function p(m,g){var y=f.call(this,m,"-v")||this;return y.scrollTop=0,y.scrollHeight=0,y.parent=m,y.width=y.VScrollWidth,y.renderer=g,y.inner.style.width=y.element.style.width=(y.width||15)+"px",y.$minWidth=0,y}return p.prototype.onMouseDown=function(m,g){if(m==="mousedown"&&!(l.getButton(g)!==0||g.detail===2)){if(g.target===this.inner){var y=this,v=g.clientY,b=function(C){v=C.clientY},_=function(){clearInterval(S)},x=g.clientY,w=this.thumbTop,E=function(){if(v!==void 0){var C=y.scrollTopFromThumbTop(w+v-x);C!==y.scrollTop&&y._emit("scroll",{data:C})}};l.capture(this.inner,b,_);var S=setInterval(E,20);return l.preventDefault(g)}var T=g.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(T)}),l.preventDefault(g)}},p.prototype.getHeight=function(){return this.height},p.prototype.scrollTopFromThumbTop=function(m){var g=m*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return g=g>>0,g<0?g=0:g>this.pageHeight-this.viewHeight&&(g=this.pageHeight-this.viewHeight),g},p.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},p.prototype.setHeight=function(m){this.height=Math.max(0,m),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},p.prototype.setScrollHeight=function(m,g){this.pageHeight===m&&!g||(this.pageHeight=m,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},p.prototype.setScrollTop=function(m){this.scrollTop=m,m<0&&(m=0),this.thumbTop=m*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"},p}(c);d.prototype.setInnerHeight=d.prototype.setScrollHeight;var h=function(f){o(p,f);function p(m,g){var y=f.call(this,m,"-h")||this;return y.scrollLeft=0,y.scrollWidth=0,y.height=y.HScrollHeight,y.inner.style.height=y.element.style.height=(y.height||12)+"px",y.renderer=g,y}return p.prototype.onMouseDown=function(m,g){if(m==="mousedown"&&!(l.getButton(g)!==0||g.detail===2)){if(g.target===this.inner){var y=this,v=g.clientX,b=function(C){v=C.clientX},_=function(){clearInterval(S)},x=g.clientX,w=this.thumbLeft,E=function(){if(v!==void 0){var C=y.scrollLeftFromThumbLeft(w+v-x);C!==y.scrollLeft&&y._emit("scroll",{data:C})}};l.capture(this.inner,b,_);var S=setInterval(E,20);return l.preventDefault(g)}var T=g.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(T)}),l.preventDefault(g)}},p.prototype.getHeight=function(){return this.isVisible?this.height:0},p.prototype.scrollLeftFromThumbLeft=function(m){var g=m*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return g=g>>0,g<0?g=0:g>this.pageWidth-this.viewWidth&&(g=this.pageWidth-this.viewWidth),g},p.prototype.setWidth=function(m){this.width=Math.max(0,m),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},p.prototype.setScrollWidth=function(m,g){this.pageWidth===m&&!g||(this.pageWidth=m,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},p.prototype.setScrollLeft=function(m){this.scrollLeft=m,m<0&&(m=0),this.thumbLeft=m*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"},p}(c);h.prototype.setInnerWidth=h.prototype.setScrollWidth,r.ScrollBar=d,r.ScrollBarV=d,r.ScrollBarH=h,r.VScrollBar=d,r.HScrollBar=h}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(n,r,i){var o=n("./lib/event"),s=function(){function a(l,u){this.onRender=l,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=u||window;var c=this;this._flush=function(d){c.pending=!1;var h=c.changes;if(h&&(o.blockIdle(100),c.changes=0,c.onRender(h)),c.changes){if(c.$recursionLimit--<0)return;c.schedule()}else c.$recursionLimit=2}}return a.prototype.schedule=function(l){this.changes=this.changes|l,this.changes&&!this.pending&&(o.nextFrame(this._flush),this.pending=!0)},a.prototype.clear=function(l){var u=this.changes;return this.changes=0,u},a}();r.RenderLoop=s}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(n,r,i){var o=n("../lib/oop"),s=n("../lib/dom"),a=n("../lib/lang"),l=n("../lib/event"),u=n("../lib/useragent"),c=n("../lib/event_emitter").EventEmitter,d=512,h=typeof ResizeObserver=="function",f=200,p=function(){function m(g){this.el=s.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=s.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=s.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),g.appendChild(this.el),this.$measureNode.textContent=a.stringRepeat("X",d),this.$characterSize={width:0,height:0},h?this.$addObserver():this.checkForSizeChanges()}return m.prototype.$setMeasureNodeStyles=function(g,y){g.width=g.height="auto",g.left=g.top="0px",g.visibility="hidden",g.position="absolute",g.whiteSpace="pre",u.isIE<8?g["font-family"]="inherit":g.font="inherit",g.overflow=y?"hidden":"visible"},m.prototype.checkForSizeChanges=function(g){if(g===void 0&&(g=this.$measureSizes()),g&&(this.$characterSize.width!==g.width||this.$characterSize.height!==g.height)){this.$measureNode.style.fontWeight="bold";var y=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=g,this.charSizes=Object.create(null),this.allowBoldFonts=y&&y.width===g.width&&y.height===g.height,this._emit("changeCharacterSize",{data:g})}},m.prototype.$addObserver=function(){var g=this;this.$observer=new window.ResizeObserver(function(y){g.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},m.prototype.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var g=this;return this.$pollSizeChangesTimer=l.onIdle(function y(){g.checkForSizeChanges(),l.onIdle(y,500)},500)},m.prototype.setPolling=function(g){g?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},m.prototype.$measureSizes=function(g){var y={height:(g||this.$measureNode).clientHeight,width:(g||this.$measureNode).clientWidth/d};return y.width===0||y.height===0?null:y},m.prototype.$measureCharWidth=function(g){this.$main.textContent=a.stringRepeat(g,d);var y=this.$main.getBoundingClientRect();return y.width/d},m.prototype.getCharacterWidth=function(g){var y=this.charSizes[g];return y===void 0&&(y=this.charSizes[g]=this.$measureCharWidth(g)/this.$characterSize.width),y},m.prototype.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},m.prototype.$getZoom=function(g){return!g||!g.parentElement?1:(Number(window.getComputedStyle(g).zoom)||1)*this.$getZoom(g.parentElement)},m.prototype.$initTransformMeasureNodes=function(){var g=function(y,v){return["div",{style:"position: absolute;top:"+y+"px;left:"+v+"px;"}]};this.els=s.buildDom([g(0,0),g(f,0),g(0,f),g(f,f)],this.el)},m.prototype.transformCoordinates=function(g,y){if(g){var v=this.$getZoom(this.el);g=w(1/v,g)}function b(F,j,W){var B=F[1]*j[0]-F[0]*j[1];return[(-j[1]*W[0]+j[0]*W[1])/B,(+F[1]*W[0]-F[0]*W[1])/B]}function _(F,j){return[F[0]-j[0],F[1]-j[1]]}function x(F,j){return[F[0]+j[0],F[1]+j[1]]}function w(F,j){return[F*j[0],F*j[1]]}this.els||this.$initTransformMeasureNodes();function E(F){var j=F.getBoundingClientRect();return[j.left,j.top]}var S=E(this.els[0]),T=E(this.els[1]),C=E(this.els[2]),D=E(this.els[3]),$=b(_(D,T),_(D,C),_(x(T,C),x(D,S))),I=w(1+$[0],_(T,S)),R=w(1+$[1],_(C,S));if(y){var A=y,M=$[0]*A[0]/f+$[1]*A[1]/f+1,N=x(w(A[0],I),w(A[1],R));return x(w(1/M/f,N),S)}var L=_(g,S),z=b(_(I,w($[0],L)),_(R,w($[1],L)),L);return w(f,z)},m}();p.prototype.$characterSize={width:0,height:0},o.implement(p.prototype,c),r.FontMetrics=p}),ace.define("ace/css/editor-css",["require","exports","module"],function(n,r,i){i.exports=`
.ace_br1 {border-top-left-radius    : 3px;}
.ace_br2 {border-top-right-radius   : 3px;}
.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}
.ace_br4 {border-bottom-right-radius: 3px;}
.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}
.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}
.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}
.ace_br8 {border-bottom-left-radius : 3px;}
.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}
.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}
.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}
.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}


.ace_editor {
    position: relative;
    overflow: hidden;
    padding: 0;
    font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'Source Code Pro', 'source-code-pro', monospace;
    direction: ltr;
    text-align: left;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
    forced-color-adjust: none;
}

.ace_scroller {
    position: absolute;
    overflow: hidden;
    top: 0;
    bottom: 0;
    background-color: inherit;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    cursor: text;
}

.ace_content {
    position: absolute;
    box-sizing: border-box;
    min-width: 100%;
    contain: style size layout;
    font-variant-ligatures: no-common-ligatures;
}
.ace_invisible {
    font-variant-ligatures: none;
}

.ace_keyboard-focus:focus {
    box-shadow: inset 0 0 0 2px #5E9ED6;
    outline: none;
}

.ace_dragging .ace_scroller:before{
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    content: '';
    background: rgba(250, 250, 250, 0.01);
    z-index: 1000;
}
.ace_dragging.ace_dark .ace_scroller:before{
    background: rgba(0, 0, 0, 0.01);
}

.ace_gutter {
    position: absolute;
    overflow : hidden;
    width: auto;
    top: 0;
    bottom: 0;
    left: 0;
    cursor: default;
    z-index: 4;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    contain: style size layout;
}

.ace_gutter-active-line {
    position: absolute;
    left: 0;
    right: 0;
}

.ace_scroller.ace_scroll-left:after {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;
    pointer-events: none;
}

.ace_gutter-cell, .ace_gutter-cell_svg-icons {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    padding-left: 19px;
    padding-right: 6px;
    background-repeat: no-repeat;
}

.ace_gutter-cell_svg-icons .ace_gutter_annotation {
    margin-left: -14px;
    float: left;
}

.ace_gutter-cell .ace_gutter_annotation {
    margin-left: -19px;
    float: left;
}

.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold, .ace_gutter-cell.ace_security, .ace_icon.ace_security, .ace_icon.ace_security_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_info, .ace_icon.ace_info, .ace_gutter-cell.ace_hint, .ace_icon.ace_hint {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info, .ace_dark .ace_gutter-cell.ace_hint, .ace_dark .ace_icon.ace_hint {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");
}

.ace_icon_svg.ace_error {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_security {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0iZGFya29yYW5nZSIgZmlsbD0ibm9uZSIgc2hhcGUtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iPgogICAgICAgIDxwYXRoIGNsYXNzPSJzdHJva2UtbGluZWpvaW4tcm91bmQiIGQ9Ik04IDE0LjgzMDdDOCAxNC44MzA3IDIgMTIuOTA0NyAyIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOEM3Ljk4OTk5IDEuMzQ5MTggMTAuNjkgMy4yNjU0OCAxNCAzLjI2NTQ4VjguMDg5OTJDMTQgMTIuOTA0NyA4IDE0LjgzMDcgOCAxNC44MzA3WiIvPgogICAgICAgIDxwYXRoIGQ9Ik0yIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOCIvPgogICAgICAgIDxwYXRoIGQ9Ik0xMy45OSA4LjA4OTkyVjMuMjY1NDhDMTAuNjggMy4yNjU0OCA4IDEuMzQ5MTggOCAxLjM0OTE4Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggNFY5Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggMTBWMTIiLz4KICAgIDwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_warning {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: darkorange;
}
.ace_icon_svg.ace_info {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: royalblue;
}
.ace_icon_svg.ace_hint {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0ic2lsdmVyIiBmaWxsPSJub25lIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTYgMTRIMTAiLz4KICAgICAgICA8cGF0aCBkPSJNOCAxMUg5QzkgOS40NzAwMiAxMiA4LjU0MDAyIDEyIDUuNzYwMDJDMTIuMDIgNC40MDAwMiAxMS4zOSAzLjM2MDAyIDEwLjQzIDIuNjcwMDJDOSAxLjY0MDAyIDcuMDAwMDEgMS42NDAwMiA1LjU3MDAxIDIuNjcwMDJDNC42MTAwMSAzLjM2MDAyIDMuOTggNC40MDAwMiA0IDUuNzYwMDJDNCA4LjU0MDAyIDcuMDAwMDEgOS40NzAwMiA3LjAwMDAxIDExSDhaIi8+CiAgICA8L2c+Cjwvc3ZnPg==");
    background-color: silver;
}

.ace_icon_svg.ace_error_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_security_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTcgMTQiIGZpbGw9Im5vbmUiPgogICAgPHBhdGggZD0iTTEwLjAwMDEgMTMuNjk5MkMxMC4wMDAxIDEzLjY5OTIgMTEuOTI0MSAxMy40NzYzIDEzIDEyLjY5OTJDMTQuNDEzOSAxMS42NzgxIDE2IDEwLjUgMTYuMTI1MSA2LjgxMTI2VjIuNTg5ODdDMTYuMTI1MSAyLjU0NzY4IDE2LjEyMjEgMi41MDYxOSAxNi4xMTY0IDIuNDY1NTlWMS43MTQ4NUgxNS4yNDE0TDE1LjIzMDcgMS43MTQ4NEwxNC42MjUxIDEuNjk5MjJWNi44MTEyM0MxNC42MjUxIDguNTEwNjEgMTQuNjI1MSA5LjQ2NDYxIDEyLjc4MjQgMTEuNzIxQzEyLjE1ODYgMTIuNDg0OCAxMC4wMDAxIDEzLjY5OTIgMTAuMDAwMSAxMy42OTkyWiIgZmlsbD0iY3JpbXNvbiIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTcuMzM2MDkgMC4zNjc0NzVDNy4wMzIxNCAwLjE1MjY1MiA2LjYyNTQ4IDAuMTUzNjE0IDYuMzIyNTMgMC4zNjk5OTdMNi4zMDg2OSAwLjM3OTU1NEM2LjI5NTUzIDAuMzg4NTg4IDYuMjczODggMC40MDMyNjYgNi4yNDQxNyAwLjQyMjc4OUM2LjE4NDcxIDAuNDYxODYgNi4wOTMyMSAwLjUyMDE3MSA1Ljk3MzEzIDAuNTkxMzczQzUuNzMyNTEgMC43MzQwNTkgNS4zNzk5IDAuOTI2ODY0IDQuOTQyNzkgMS4xMjAwOUM0LjA2MTQ0IDEuNTA5NyAyLjg3NTQxIDEuODgzNzcgMS41ODk4NCAxLjg4Mzc3SDAuNzE0ODQ0VjIuNzU4NzdWNi45ODAxNUMwLjcxNDg0NCA5LjQ5Mzc0IDIuMjg4NjYgMTEuMTk3MyAzLjcwMjU0IDEyLjIxODVDNC40MTg0NSAxMi43MzU1IDUuMTI4NzQgMTMuMTA1MyA1LjY1NzMzIDEzLjM0NTdDNS45MjI4NCAxMy40NjY0IDYuMTQ1NjYgMTMuNTU1OSA2LjMwNDY1IDEzLjYxNjFDNi4zODQyMyAxMy42NDYyIDYuNDQ4MDUgMTMuNjY5IDYuNDkzNDkgMTMuNjg0OEM2LjUxNjIyIDEzLjY5MjcgNi41MzQzOCAxMy42OTg5IDYuNTQ3NjQgMTMuNzAzM0w2LjU2MzgyIDEzLjcwODdMNi41NjkwOCAxMy43MTA0TDYuNTcwOTkgMTMuNzExTDYuODM5ODQgMTMuNzUzM0w2LjU3MjQyIDEzLjcxMTVDNi43NDYzMyAxMy43NjczIDYuOTMzMzUgMTMuNzY3MyA3LjEwNzI3IDEzLjcxMTVMNy4xMDg3IDEzLjcxMUw3LjExMDYxIDEzLjcxMDRMNy4xMTU4NyAxMy43MDg3TDcuMTMyMDUgMTMuNzAzM0M3LjE0NTMxIDEzLjY5ODkgNy4xNjM0NiAxMy42OTI3IDcuMTg2MTkgMTMuNjg0OEM3LjIzMTY0IDEzLjY2OSA3LjI5NTQ2IDEzLjY0NjIgNy4zNzUwMyAxMy42MTYxQzcuNTM0MDMgMTMuNTU1OSA3Ljc1Njg1IDEzLjQ2NjQgOC4wMjIzNiAxMy4zNDU3QzguNTUwOTUgMTMuMTA1MyA5LjI2MTIzIDEyLjczNTUgOS45NzcxNSAxMi4yMTg1QzExLjM5MSAxMS4xOTczIDEyLjk2NDggOS40OTM3NyAxMi45NjQ4IDYuOTgwMThWMi43NTg4QzEyLjk2NDggMi43MTY2IDEyLjk2MTkgMi42NzUxMSAxMi45NTYxIDIuNjM0NTFWMS44ODM3N0gxMi4wODExQzEyLjA3NzUgMS44ODM3NyAxMi4wNzQgMS44ODM3NyAxMi4wNzA0IDEuODgzNzdDMTAuNzk3OSAxLjg4MDA0IDkuNjE5NjIgMS41MTEwMiA4LjczODk0IDEuMTI0ODZDOC43MzUzNCAxLjEyMzI3IDguNzMxNzQgMS4xMjE2OCA4LjcyODE0IDEuMTIwMDlDOC4yOTEwMyAwLjkyNjg2NCA3LjkzODQyIDAuNzM0MDU5IDcuNjk3NzkgMC41OTEzNzNDNy41Nzc3MiAwLjUyMDE3MSA3LjQ4NjIyIDAuNDYxODYgNy40MjY3NiAwLjQyMjc4OUM3LjM5NzA1IDAuNDAzMjY2IDcuMzc1MzkgMC4zODg1ODggNy4zNjIyNCAwLjM3OTU1NEw3LjM0ODk2IDAuMzcwMzVDNy4zNDg5NiAwLjM3MDM1IDcuMzQ4NDcgMC4zNzAwMiA3LjM0NTYzIDAuMzc0MDU0TDcuMzM3NzkgMC4zNjg2NTlMNy4zMzYwOSAwLjM2NzQ3NVpNOC4wMzQ3MSAyLjcyNjkxQzguODYwNCAzLjA5MDYzIDkuOTYwNjYgMy40NjMwOSAxMS4yMDYxIDMuNTg5MDdWNi45ODAxNUgxMS4yMTQ4QzExLjIxNDggOC42Nzk1MyAxMC4xNjM3IDkuOTI1MDcgOC45NTI1NCAxMC43OTk4QzguMzU1OTUgMTEuMjMwNiA3Ljc1Mzc0IDExLjU0NTQgNy4yOTc5NiAxMS43NTI3QzcuMTE2NzEgMTEuODM1MSA2Ljk2MDYyIDExLjg5OTYgNi44Mzk4NCAxMS45NDY5QzYuNzE5MDYgMTEuODk5NiA2LjU2Mjk3IDExLjgzNTEgNi4zODE3MyAxMS43NTI3QzUuOTI1OTUgMTEuNTQ1NCA1LjMyMzczIDExLjIzMDYgNC43MjcxNSAxMC43OTk4QzMuNTE2MDMgOS45MjUwNyAyLjQ2NDg0IDguNjc5NTUgMi40NjQ4NCA2Ljk4MDE4VjMuNTg5MDlDMy43MTczOCAzLjQ2MjM5IDQuODIzMDggMy4wODYzOSA1LjY1MDMzIDIuNzIwNzFDNi4xNDIyOCAyLjUwMzI0IDYuNTQ0ODUgMi4yODUzNyA2LjgzMjU0IDIuMTE2MjRDNy4xMjE4MSAyLjI4NTM1IDcuNTI3IDIuNTAzNTIgOC4wMjE5NiAyLjcyMTMxQzguMDI2MiAyLjcyMzE3IDguMDMwNDUgMi43MjUwNCA4LjAzNDcxIDIuNzI2OTFaTTUuOTY0ODQgMy40MDE0N1Y3Ljc3NjQ3SDcuNzE0ODRWMy40MDE0N0g1Ljk2NDg0Wk01Ljk2NDg0IDEwLjQwMTVWOC42NTE0N0g3LjcxNDg0VjEwLjQwMTVINS45NjQ4NFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_warning_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");
    background-color: darkorange;
}

.ace_scrollbar {
    contain: strict;
    position: absolute;
    right: 0;
    bottom: 0;
    z-index: 6;
}

.ace_scrollbar-inner {
    position: absolute;
    cursor: text;
    left: 0;
    top: 0;
}

.ace_scrollbar-v{
    overflow-x: hidden;
    overflow-y: scroll;
    top: 0;
}

.ace_scrollbar-h {
    overflow-x: scroll;
    overflow-y: hidden;
    left: 0;
}

.ace_print-margin {
    position: absolute;
    height: 100%;
}

.ace_text-input {
    position: absolute;
    z-index: 0;
    width: 0.5em;
    height: 1em;
    opacity: 0;
    background: transparent;
    -moz-appearance: none;
    appearance: none;
    border: none;
    resize: none;
    outline: none;
    overflow: hidden;
    font: inherit;
    padding: 0 1px;
    margin: 0 -1px;
    contain: strict;
    -ms-user-select: text;
    -moz-user-select: text;
    -webkit-user-select: text;
    user-select: text;
    /*with \`pre-line\` chrome inserts &nbsp; instead of space*/
    white-space: pre!important;
}
.ace_text-input.ace_composition {
    background: transparent;
    color: inherit;
    z-index: 1000;
    opacity: 1;
}
.ace_composition_placeholder { color: transparent }
.ace_composition_marker { 
    border-bottom: 1px solid;
    position: absolute;
    border-radius: 0;
    margin-top: 1px;
}

[ace_nocontext=true] {
    transform: none!important;
    filter: none!important;
    clip-path: none!important;
    mask : none!important;
    contain: none!important;
    perspective: none!important;
    mix-blend-mode: initial!important;
    z-index: auto;
}

.ace_layer {
    z-index: 1;
    position: absolute;
    overflow: hidden;
    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/
    word-wrap: normal;
    white-space: pre;
    height: 100%;
    width: 100%;
    box-sizing: border-box;
    /* setting pointer-events: auto; on node under the mouse, which changes
        during scroll, will break mouse wheel scrolling in Safari */
    pointer-events: none;
}

.ace_gutter-layer {
    position: relative;
    width: auto;
    text-align: right;
    pointer-events: auto;
    height: 1000000px;
    contain: style size layout;
}

.ace_text-layer {
    font: inherit !important;
    position: absolute;
    height: 1000000px;
    width: 1000000px;
    contain: style size layout;
}

.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {
    contain: style size layout;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
}

.ace_hidpi .ace_text-layer,
.ace_hidpi .ace_gutter-layer,
.ace_hidpi .ace_content,
.ace_hidpi .ace_gutter {
    contain: strict;
}
.ace_hidpi .ace_text-layer > .ace_line, 
.ace_hidpi .ace_text-layer > .ace_line_group {
    contain: strict;
}

.ace_cjk {
    display: inline-block;
    text-align: center;
}

.ace_cursor-layer {
    z-index: 4;
}

.ace_cursor {
    z-index: 4;
    position: absolute;
    box-sizing: border-box;
    border-left: 2px solid;
    /* workaround for smooth cursor repaintng whole screen in chrome */
    transform: translatez(0);
}

.ace_multiselect .ace_cursor {
    border-left-width: 1px;
}

.ace_slim-cursors .ace_cursor {
    border-left-width: 1px;
}

.ace_overwrite-cursors .ace_cursor {
    border-left-width: 0;
    border-bottom: 1px solid;
}

.ace_hidden-cursors .ace_cursor {
    opacity: 0.2;
}

.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {
    opacity: 0;
}

.ace_smooth-blinking .ace_cursor {
    transition: opacity 0.18s;
}

.ace_animate-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: step-end;
    animation-name: blink-ace-animate;
    animation-iteration-count: infinite;
}

.ace_animate-blinking.ace_smooth-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: ease-in-out;
    animation-name: blink-ace-animate-smooth;
}
    
@keyframes blink-ace-animate {
    from, to { opacity: 1; }
    60% { opacity: 0; }
}

@keyframes blink-ace-animate-smooth {
    from, to { opacity: 1; }
    45% { opacity: 1; }
    60% { opacity: 0; }
    85% { opacity: 0; }
}

.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {
    position: absolute;
    z-index: 3;
}

.ace_marker-layer .ace_selection {
    position: absolute;
    z-index: 5;
}

.ace_marker-layer .ace_bracket {
    position: absolute;
    z-index: 6;
}

.ace_marker-layer .ace_error_bracket {
    position: absolute;
    border-bottom: 1px solid #DE5555;
    border-radius: 0;
}

.ace_marker-layer .ace_active-line {
    position: absolute;
    z-index: 2;
}

.ace_marker-layer .ace_selected-word {
    position: absolute;
    z-index: 4;
    box-sizing: border-box;
}

.ace_line .ace_fold {
    box-sizing: border-box;

    display: inline-block;
    height: 11px;
    margin-top: -2px;
    vertical-align: middle;

    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");
    background-repeat: no-repeat, repeat-x;
    background-position: center center, top left;
    color: transparent;

    border: 1px solid black;
    border-radius: 2px;

    cursor: pointer;
    pointer-events: auto;
}

.ace_dark .ace_fold {
}

.ace_fold:hover{
    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");
}

.ace_tooltip {
    background-color: #f5f5f5;
    border: 1px solid gray;
    border-radius: 1px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    color: black;
    padding: 3px 4px;
    position: fixed;
    z-index: 999999;
    box-sizing: border-box;
    cursor: default;
    white-space: pre-wrap;
    word-wrap: break-word;
    line-height: normal;
    font-style: normal;
    font-weight: normal;
    letter-spacing: normal;
    pointer-events: none;
    overflow: auto;
    max-width: min(33em, 66vw);
    overscroll-behavior: contain;
}
.ace_tooltip pre {
    white-space: pre-wrap;
}

.ace_tooltip.ace_dark {
    background-color: #636363;
    color: #fff;
}

.ace_tooltip:focus {
    outline: 1px solid #5E9ED6;
}

.ace_icon {
    display: inline-block;
    width: 18px;
    vertical-align: top;
}

.ace_icon_svg {
    display: inline-block;
    width: 12px;
    vertical-align: top;
    -webkit-mask-repeat: no-repeat;
    -webkit-mask-size: 12px;
    -webkit-mask-position: center;
}

.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {
    padding-right: 13px;
}

.ace_fold-widget {
    box-sizing: border-box;

    margin: 0 -12px 0 1px;
    display: none;
    width: 11px;
    vertical-align: top;

    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: center;

    border-radius: 3px;
    
    border: 1px solid transparent;
    cursor: pointer;
}

.ace_folding-enabled .ace_fold-widget {
    display: inline-block;   
}

.ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");
}

.ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");
}

.ace_fold-widget:hover {
    border: 1px solid rgba(0, 0, 0, 0.3);
    background-color: rgba(255, 255, 255, 0.2);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);
}

.ace_fold-widget:active {
    border: 1px solid rgba(0, 0, 0, 0.4);
    background-color: rgba(0, 0, 0, 0.05);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);
}
/**
 * Dark version for fold widgets
 */
.ace_dark .ace_fold-widget {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");
}
.ace_dark .ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget:hover {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
    background-color: rgba(255, 255, 255, 0.1);
}
.ace_dark .ace_fold-widget:active {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
}

.ace_inline_button {
    border: 1px solid lightgray;
    display: inline-block;
    margin: -1px 8px;
    padding: 0 5px;
    pointer-events: auto;
    cursor: pointer;
}
.ace_inline_button:hover {
    border-color: gray;
    background: rgba(200,200,200,0.2);
    display: inline-block;
    pointer-events: auto;
}

.ace_fold-widget.ace_invalid {
    background-color: #FFB4B4;
    border-color: #DE5555;
}

.ace_fade-fold-widgets .ace_fold-widget {
    transition: opacity 0.4s ease 0.05s;
    opacity: 0;
}

.ace_fade-fold-widgets:hover .ace_fold-widget {
    transition: opacity 0.05s ease 0.05s;
    opacity:1;
}

.ace_underline {
    text-decoration: underline;
}

.ace_bold {
    font-weight: bold;
}

.ace_nobold .ace_bold {
    font-weight: normal;
}

.ace_italic {
    font-style: italic;
}


.ace_error-marker {
    background-color: rgba(255, 0, 0,0.2);
    position: absolute;
    z-index: 9;
}

.ace_highlight-marker {
    background-color: rgba(255, 255, 0,0.2);
    position: absolute;
    z-index: 8;
}

.ace_mobile-menu {
    position: absolute;
    line-height: 1.5;
    border-radius: 4px;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    background: white;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #dcdcdc;
    color: black;
}
.ace_dark > .ace_mobile-menu {
    background: #333;
    color: #ccc;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #444;

}
.ace_mobile-button {
    padding: 2px;
    cursor: pointer;
    overflow: hidden;
}
.ace_mobile-button:hover {
    background-color: #eee;
    opacity:1;
}
.ace_mobile-button:active {
    background-color: #ddd;
}

.ace_placeholder {
    position: relative;
    font-family: arial;
    transform: scale(0.9);
    transform-origin: left;
    white-space: pre;
    opacity: 0.7;
    margin: 0 10px;
    z-index: 1;
}

.ace_ghost_text {
    opacity: 0.5;
    font-style: italic;
}

.ace_ghost_text_container > div {
    white-space: pre;
}

.ghost_text_line_wrapped::after {
    content: "";
    position: absolute;
}

.ace_lineWidgetContainer.ace_ghost_text {
    margin: 0px 4px
}

.ace_screenreader-only {
    position:absolute;
    left:-10000px;
    top:auto;
    width:1px;
    height:1px;
    overflow:hidden;
}

.ace_hidden_token {
    display: none;
}`}),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],function(n,r,i){var o=n("../lib/dom"),s=n("../lib/oop"),a=n("../lib/event_emitter").EventEmitter,l=function(){function u(c,d){this.canvas=o.createElement("canvas"),this.renderer=d,this.pixelRatio=1,this.maxHeight=d.layerConfig.maxHeight,this.lineHeight=d.layerConfig.lineHeight,this.canvasHeight=c.parent.scrollHeight,this.heightRatio=this.canvasHeight/this.maxHeight,this.canvasWidth=c.width,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7px",this.canvas.style.position="absolute",this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},c.element.appendChild(this.canvas)}return u.prototype.$updateDecorators=function(c){var d=this.renderer.theme.isDark===!0?this.colors.dark:this.colors.light;if(c){this.maxHeight=c.maxHeight,this.lineHeight=c.lineHeight,this.canvasHeight=c.height;var h=(c.lastRow+1)*this.lineHeight;h<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight}var f=this.canvas.getContext("2d");function p(D,$){return D.priority<$.priority?-1:D.priority>$.priority?1:0}var m=this.renderer.session.$annotations;if(f.clearRect(0,0,this.canvas.width,this.canvas.height),m){var g={info:1,warning:2,error:3};m.forEach(function(D){D.priority=g[D.type]||null}),m=m.sort(p);for(var y=this.renderer.session.$foldData,v=0;v<m.length;v++){var b=m[v].row,_=this.compensateFoldRows(b,y),x=Math.round((b-_)*this.lineHeight*this.heightRatio),w=Math.round((b-_)*this.lineHeight*this.heightRatio),E=Math.round(((b-_)*this.lineHeight+this.lineHeight)*this.heightRatio),S=E-w;if(S<this.minDecorationHeight){var T=(w+E)/2|0;T<this.halfMinDecorationHeight?T=this.halfMinDecorationHeight:T+this.halfMinDecorationHeight>this.canvasHeight&&(T=this.canvasHeight-this.halfMinDecorationHeight),w=Math.round(T-this.halfMinDecorationHeight),E=Math.round(T+this.halfMinDecorationHeight)}f.fillStyle=d[m[v].type]||null,f.fillRect(0,x,this.canvasWidth,E-w)}}var C=this.renderer.session.selection.getCursor();if(C){var _=this.compensateFoldRows(C.row,y),x=Math.round((C.row-_)*this.lineHeight*this.heightRatio);f.fillStyle="rgba(0, 0, 0, 0.5)",f.fillRect(0,x,this.canvasWidth,2)}},u.prototype.compensateFoldRows=function(c,d){var h=0;if(d&&d.length>0)for(var f=0;f<d.length;f++)c>d[f].start.row&&c<d[f].end.row?h+=c-d[f].start.row:c>=d[f].end.row&&(h+=d[f].end.row-d[f].start.row);return h},u}();s.implement(l.prototype,a),r.Decorator=l}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor-css","ace/layer/decorators","ace/lib/useragent","ace/layer/text_util"],function(n,r,i){var o=n("./lib/oop"),s=n("./lib/dom"),a=n("./lib/lang"),l=n("./config"),u=n("./layer/gutter").Gutter,c=n("./layer/marker").Marker,d=n("./layer/text").Text,h=n("./layer/cursor").Cursor,f=n("./scrollbar").HScrollBar,p=n("./scrollbar").VScrollBar,m=n("./scrollbar_custom").HScrollBar,g=n("./scrollbar_custom").VScrollBar,y=n("./renderloop").RenderLoop,v=n("./layer/font_metrics").FontMetrics,b=n("./lib/event_emitter").EventEmitter,_=n("./css/editor-css"),x=n("./layer/decorators").Decorator,w=n("./lib/useragent"),E=n("./layer/text_util").isTextToken;s.importCssString(_,"ace_editor.css",!1);var S=function(){function T(C,D){var $=this;this.container=C||s.createElement("div"),s.addCssClass(this.container,"ace_editor"),s.HI_DPI&&s.addCssClass(this.container,"ace_hidpi"),this.setTheme(D),l.get("useStrictCSP")==null&&l.set("useStrictCSP",!1),this.$gutter=s.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden","true"),this.scroller=s.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=s.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new u(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new c(this.content);var I=this.$textLayer=new d(this.content);this.canvas=I.element,this.$markerFront=new c(this.content),this.$cursorLayer=new h(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new p(this.container,this),this.scrollBarH=new f(this.container,this),this.scrollBarV.on("scroll",function(R){$.$scrollAnimation||$.session.setScrollTop(R.data-$.scrollMargin.top)}),this.scrollBarH.on("scroll",function(R){$.$scrollAnimation||$.session.setScrollLeft(R.data-$.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new v(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(R){$.updateCharacterSize(),$.onResize(!0,$.gutterWidth,$.$size.width,$.$size.height),$._signal("changeCharacterSize",R)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!w.isIOS,this.$loop=new y(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),this.$addResizeObserver(),l.resetOptions(this),l._signal("renderer",this)}return T.prototype.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),s.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},T.prototype.setSession=function(C){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=C,C&&this.scrollMargin.top&&C.getScrollTop()<=0&&C.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(C),this.$markerBack.setSession(C),this.$markerFront.setSession(C),this.$gutterLayer.setSession(C),this.$textLayer.setSession(C),C&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},T.prototype.updateLines=function(C,D,$){if(D===void 0&&(D=1/0),this.$changedLines?(this.$changedLines.firstRow>C&&(this.$changedLines.firstRow=C),this.$changedLines.lastRow<D&&(this.$changedLines.lastRow=D)):this.$changedLines={firstRow:C,lastRow:D},this.$changedLines.lastRow<this.layerConfig.firstRow)if($)this.$changedLines.lastRow=this.layerConfig.lastRow;else return;this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},T.prototype.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},T.prototype.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},T.prototype.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},T.prototype.updateFull=function(C){C?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},T.prototype.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},T.prototype.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},T.prototype.onResize=function(C,D,$,I){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=C?1:0;var R=this.container;I||(I=R.clientHeight||R.scrollHeight),!I&&this.$maxLines&&this.lineHeight>1&&(!R.style.height||R.style.height=="0px")&&(R.style.height="1px",I=R.clientHeight||R.scrollHeight),$||($=R.clientWidth||R.scrollWidth);var A=this.$updateCachedSize(C,D,$,I);if(this.$resizeTimer&&this.$resizeTimer.cancel(),!this.$size.scrollerHeight||!$&&!I)return this.resizing=0;C&&(this.$gutterLayer.$padding=null),C?this.$renderChanges(A|this.$changes,!0):this.$loop.schedule(A|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},T.prototype.$updateCachedSize=function(C,D,$,I){I-=this.$extraHeight||0;var R=0,A=this.$size,M={width:A.width,height:A.height,scrollerHeight:A.scrollerHeight,scrollerWidth:A.scrollerWidth};if(I&&(C||A.height!=I)&&(A.height=I,R|=this.CHANGE_SIZE,A.scrollerHeight=A.height,this.$horizScroll&&(A.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(A.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",R=R|this.CHANGE_SCROLL),$&&(C||A.width!=$)){R|=this.CHANGE_SIZE,A.width=$,D==null&&(D=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=D,s.setStyle(this.scrollBarH.element.style,"left",D+"px"),s.setStyle(this.scroller.style,"left",D+this.margin.left+"px"),A.scrollerWidth=Math.max(0,$-D-this.scrollBarV.getWidth()-this.margin.h),s.setStyle(this.$gutter.style,"left",this.margin.left+"px");var N=this.scrollBarV.getWidth()+"px";s.setStyle(this.scrollBarH.element.style,"right",N),s.setStyle(this.scroller.style,"right",N),s.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(A.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||C)&&(R|=this.CHANGE_FULL)}return A.$dirty=!$||!I,R&&this._signal("resize",M),R},T.prototype.onGutterResize=function(C){var D=this.$showGutter?C:0;D!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,D,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},T.prototype.adjustWrapLimit=function(){var C=this.$size.scrollerWidth-this.$padding*2,D=Math.floor(C/this.characterWidth);return this.session.adjustWrapLimit(D,this.$showPrintMargin&&this.$printMarginColumn)},T.prototype.setAnimatedScroll=function(C){this.setOption("animatedScroll",C)},T.prototype.getAnimatedScroll=function(){return this.$animatedScroll},T.prototype.setShowInvisibles=function(C){this.setOption("showInvisibles",C),this.session.$bidiHandler.setShowInvisibles(C)},T.prototype.getShowInvisibles=function(){return this.getOption("showInvisibles")},T.prototype.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},T.prototype.setDisplayIndentGuides=function(C){this.setOption("displayIndentGuides",C)},T.prototype.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},T.prototype.setHighlightIndentGuides=function(C){this.setOption("highlightIndentGuides",C)},T.prototype.setShowPrintMargin=function(C){this.setOption("showPrintMargin",C)},T.prototype.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},T.prototype.setPrintMarginColumn=function(C){this.setOption("printMarginColumn",C)},T.prototype.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},T.prototype.getShowGutter=function(){return this.getOption("showGutter")},T.prototype.setShowGutter=function(C){return this.setOption("showGutter",C)},T.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},T.prototype.setFadeFoldWidgets=function(C){this.setOption("fadeFoldWidgets",C)},T.prototype.setHighlightGutterLine=function(C){this.setOption("highlightGutterLine",C)},T.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},T.prototype.$updatePrintMargin=function(){if(!(!this.$showPrintMargin&&!this.$printMarginEl)){if(!this.$printMarginEl){var C=s.createElement("div");C.className="ace_layer ace_print-margin-layer",this.$printMarginEl=s.createElement("div"),this.$printMarginEl.className="ace_print-margin",C.appendChild(this.$printMarginEl),this.content.insertBefore(C,this.content.firstChild)}var D=this.$printMarginEl.style;D.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",D.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()}},T.prototype.getContainerElement=function(){return this.container},T.prototype.getMouseEventTarget=function(){return this.scroller},T.prototype.getTextAreaContainer=function(){return this.container},T.prototype.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var C=this.textarea.style,D=this.$composition;if(!this.$keepTextAreaAtCursor&&!D){s.translate(this.textarea,-100,0);return}var $=this.$cursorLayer.$pixelPos;if($){D&&D.markerRange&&($=this.$cursorLayer.getPixelPosition(D.markerRange.start,!0));var I=this.layerConfig,R=$.top,A=$.left;R-=I.offset;var M=D&&D.useTextareaForIME||w.isMobile?this.lineHeight:1;if(R<0||R>I.height-M){s.translate(this.textarea,0,0);return}var N=1,L=this.$size.height-M;if(!D)R+=this.lineHeight;else if(D.useTextareaForIME){var z=this.textarea.value;N=this.characterWidth*this.session.$getStringScreenWidth(z)[0]}else R+=this.lineHeight+2;A-=this.scrollLeft,A>this.$size.scrollerWidth-N&&(A=this.$size.scrollerWidth-N),A+=this.gutterWidth+this.margin.left,s.setStyle(C,"height",M+"px"),s.setStyle(C,"width",N+"px"),s.translate(this.textarea,Math.min(A,this.$size.scrollerWidth-N),Math.min(R,L))}}},T.prototype.getFirstVisibleRow=function(){return this.layerConfig.firstRow},T.prototype.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},T.prototype.getLastFullyVisibleRow=function(){var C=this.layerConfig,D=C.lastRow,$=this.session.documentToScreenRow(D,0)*C.lineHeight;return $-this.session.getScrollTop()>C.height-C.lineHeight?D-1:D},T.prototype.getLastVisibleRow=function(){return this.layerConfig.lastRow},T.prototype.setPadding=function(C){this.$padding=C,this.$textLayer.setPadding(C),this.$cursorLayer.setPadding(C),this.$markerFront.setPadding(C),this.$markerBack.setPadding(C),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},T.prototype.setScrollMargin=function(C,D,$,I){var R=this.scrollMargin;R.top=C|0,R.bottom=D|0,R.right=I|0,R.left=$|0,R.v=R.top+R.bottom,R.h=R.left+R.right,R.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-R.top),this.updateFull()},T.prototype.setMargin=function(C,D,$,I){var R=this.margin;R.top=C|0,R.bottom=D|0,R.right=I|0,R.left=$|0,R.v=R.top+R.bottom,R.h=R.left+R.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},T.prototype.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},T.prototype.setHScrollBarAlwaysVisible=function(C){this.setOption("hScrollBarAlwaysVisible",C)},T.prototype.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},T.prototype.setVScrollBarAlwaysVisible=function(C){this.setOption("vScrollBarAlwaysVisible",C)},T.prototype.$updateScrollBarV=function(){var C=this.layerConfig.maxHeight,D=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(C-=(D-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>C-D&&(C=this.scrollTop+D,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(C+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},T.prototype.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},T.prototype.freeze=function(){this.$frozen=!0},T.prototype.unfreeze=function(){this.$frozen=!1},T.prototype.$renderChanges=function(C,D){if(this.$changes&&(C|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!C&&!D){this.$changes|=C;return}if(this.$size.$dirty)return this.$changes|=C,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",C),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var $=this.layerConfig;if(C&this.CHANGE_FULL||C&this.CHANGE_SIZE||C&this.CHANGE_TEXT||C&this.CHANGE_LINES||C&this.CHANGE_SCROLL||C&this.CHANGE_H_SCROLL){if(C|=this.$computeLayerConfig()|this.$loop.clear(),$.firstRow!=this.layerConfig.firstRow&&$.firstRowScreen==this.layerConfig.firstRowScreen){var I=this.scrollTop+($.firstRow-Math.max(this.layerConfig.firstRow,0))*this.lineHeight;I>0&&(this.scrollTop=I,C=C|this.CHANGE_SCROLL,C|=this.$computeLayerConfig()|this.$loop.clear())}$=this.layerConfig,this.$updateScrollBarV(),C&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),s.translate(this.content,-this.scrollLeft,-$.offset);var R=$.width+2*this.$padding+"px",A=$.minHeight+"px";s.setStyle(this.content.style,"width",R),s.setStyle(this.content.style,"height",A)}if(C&this.CHANGE_H_SCROLL&&(s.translate(this.content,-this.scrollLeft,-$.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller ":"ace_scroller ace_scroll-left ",this.enableKeyboardAccessibility&&(this.scroller.className+=this.keyboardFocusClassName)),C&this.CHANGE_FULL){this.$changedLines=null,this.$textLayer.update($),this.$showGutter&&this.$gutterLayer.update($),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators($),this.$markerBack.update($),this.$markerFront.update($),this.$cursorLayer.update($),this.$moveTextAreaToCursor(),this._signal("afterRender",C);return}if(C&this.CHANGE_SCROLL){this.$changedLines=null,C&this.CHANGE_TEXT||C&this.CHANGE_LINES?this.$textLayer.update($):this.$textLayer.scrollLines($),this.$showGutter&&(C&this.CHANGE_GUTTER||C&this.CHANGE_LINES?this.$gutterLayer.update($):this.$gutterLayer.scrollLines($)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators($),this.$markerBack.update($),this.$markerFront.update($),this.$cursorLayer.update($),this.$moveTextAreaToCursor(),this._signal("afterRender",C);return}C&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update($),this.$showGutter&&this.$gutterLayer.update($),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators($)):C&this.CHANGE_LINES?((this.$updateLines()||C&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update($),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators($)):C&this.CHANGE_TEXT||C&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update($),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators($)):C&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight($),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators($)),C&this.CHANGE_CURSOR&&(this.$cursorLayer.update($),this.$moveTextAreaToCursor()),C&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update($),C&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update($),this._signal("afterRender",C)},T.prototype.$autosize=function(){var C=this.session.getScreenLength()*this.lineHeight,D=this.$maxLines*this.lineHeight,$=Math.min(D,Math.max((this.$minLines||1)*this.lineHeight,C))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&($+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&$>this.$maxPixelHeight&&($=this.$maxPixelHeight);var I=$<=2*this.lineHeight,R=!I&&C>D;if($!=this.desiredHeight||this.$size.height!=this.desiredHeight||R!=this.$vScroll){R!=this.$vScroll&&(this.$vScroll=R,this.scrollBarV.setVisible(R));var A=this.container.clientWidth;this.container.style.height=$+"px",this.$updateCachedSize(!0,this.$gutterWidth,A,$),this.desiredHeight=$,this._signal("autosize")}},T.prototype.$computeLayerConfig=function(){var C=this.session,D=this.$size,$=D.height<=2*this.lineHeight,I=this.session.getScreenLength(),R=I*this.lineHeight,A=this.$getLongestLine(),M=!$&&(this.$hScrollBarAlwaysVisible||D.scrollerWidth-A-2*this.$padding<0),N=this.$horizScroll!==M;N&&(this.$horizScroll=M,this.scrollBarH.setVisible(M));var L=this.$vScroll;this.$maxLines&&this.lineHeight>1&&(this.$autosize(),$=D.height<=2*this.lineHeight);var z=D.scrollerHeight+this.lineHeight,F=!this.$maxLines&&this.$scrollPastEnd?(D.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;R+=F;var j=this.scrollMargin;this.session.setScrollTop(Math.max(-j.top,Math.min(this.scrollTop,R-D.scrollerHeight+j.bottom))),this.session.setScrollLeft(Math.max(-j.left,Math.min(this.scrollLeft,A+2*this.$padding-D.scrollerWidth+j.right)));var W=!$&&(this.$vScrollBarAlwaysVisible||D.scrollerHeight-R+F<0||this.scrollTop>j.top),B=L!==W;B&&(this.$vScroll=W,this.scrollBarV.setVisible(W));var H=this.scrollTop%this.lineHeight,V=Math.ceil(z/this.lineHeight)-1,G=Math.max(0,Math.round((this.scrollTop-H)/this.lineHeight)),ne=G+V,X,te,se=this.lineHeight;G=C.screenToDocumentRow(G,0);var ve=C.getFoldLine(G);ve&&(G=ve.start.row),X=C.documentToScreenRow(G,0),te=C.getRowLength(G)*se,ne=Math.min(C.screenToDocumentRow(ne,0),C.getLength()-1),z=D.scrollerHeight+C.getRowLength(ne)*se+te,H=this.scrollTop-X*se;var pe=0;return(this.layerConfig.width!=A||N)&&(pe=this.CHANGE_H_SCROLL),(N||B)&&(pe|=this.$updateCachedSize(!0,this.gutterWidth,D.width,D.height),this._signal("scrollbarVisibilityChanged"),B&&(A=this.$getLongestLine())),this.layerConfig={width:A,padding:this.$padding,firstRow:G,firstRowScreen:X,lastRow:ne,lineHeight:se,characterWidth:this.characterWidth,minHeight:z,maxHeight:R,offset:H,gutterOffset:se?Math.max(0,Math.ceil((H+D.height-D.scrollerHeight)/se)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(A-this.$padding),pe},T.prototype.$updateLines=function(){if(this.$changedLines){var C=this.$changedLines.firstRow,D=this.$changedLines.lastRow;this.$changedLines=null;var $=this.layerConfig;if(!(C>$.lastRow+1)&&!(D<$.firstRow)){if(D===1/0){this.$showGutter&&this.$gutterLayer.update($),this.$textLayer.update($);return}return this.$textLayer.updateLines($,C,D),!0}}},T.prototype.$getLongestLine=function(){var C=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(C+=1),this.$textLayer&&C>this.$textLayer.MAX_LINE_LENGTH&&(C=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(C*this.characterWidth))},T.prototype.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},T.prototype.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},T.prototype.addGutterDecoration=function(C,D){this.$gutterLayer.addGutterDecoration(C,D)},T.prototype.removeGutterDecoration=function(C,D){this.$gutterLayer.removeGutterDecoration(C,D)},T.prototype.updateBreakpoints=function(C){this._rows=C,this.$loop.schedule(this.CHANGE_GUTTER)},T.prototype.setAnnotations=function(C){this.$gutterLayer.setAnnotations(C),this.$loop.schedule(this.CHANGE_GUTTER)},T.prototype.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},T.prototype.hideCursor=function(){this.$cursorLayer.hideCursor()},T.prototype.showCursor=function(){this.$cursorLayer.showCursor()},T.prototype.scrollSelectionIntoView=function(C,D,$){this.scrollCursorIntoView(C,$),this.scrollCursorIntoView(D,$)},T.prototype.scrollCursorIntoView=function(C,D,$){if(this.$size.scrollerHeight!==0){var I=this.$cursorLayer.getPixelPosition(C),R=I.left,A=I.top,M=$&&$.top||0,N=$&&$.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var L=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;L+M>A?(D&&L+M>A+this.lineHeight&&(A-=D*this.$size.scrollerHeight),A===0&&(A=-this.scrollMargin.top),this.session.setScrollTop(A)):L+this.$size.scrollerHeight-N<A+this.lineHeight&&(D&&L+this.$size.scrollerHeight-N<A-this.lineHeight&&(A+=D*this.$size.scrollerHeight),this.session.setScrollTop(A+this.lineHeight+N-this.$size.scrollerHeight));var z=this.scrollLeft,F=2*this.layerConfig.characterWidth;R-F<z?(R-=F,R<this.$padding+F&&(R=-this.scrollMargin.left),this.session.setScrollLeft(R)):(R+=F,z+this.$size.scrollerWidth<R+this.characterWidth?this.session.setScrollLeft(Math.round(R+this.characterWidth-this.$size.scrollerWidth)):z<=this.$padding&&R-z<this.characterWidth&&this.session.setScrollLeft(0))}},T.prototype.getScrollTop=function(){return this.session.getScrollTop()},T.prototype.getScrollLeft=function(){return this.session.getScrollLeft()},T.prototype.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},T.prototype.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},T.prototype.scrollToRow=function(C){this.session.setScrollTop(C*this.lineHeight)},T.prototype.alignCursor=function(C,D){typeof C=="number"&&(C={row:C,column:0});var $=this.$cursorLayer.getPixelPosition(C),I=this.$size.scrollerHeight-this.lineHeight,R=$.top-I*(D||0);return this.session.setScrollTop(R),R},T.prototype.$calcSteps=function(C,D){var $=0,I=this.STEPS,R=[],A=function(M,N,L){return L*(Math.pow(M-1,3)+1)+N};for($=0;$<I;++$)R.push(A($/this.STEPS,C,D-C));return R},T.prototype.scrollToLine=function(C,D,$,I){var R=this.$cursorLayer.getPixelPosition({row:C,column:0}),A=R.top;D&&(A-=this.$size.scrollerHeight/2);var M=this.scrollTop;this.session.setScrollTop(A),$!==!1&&this.animateScrolling(M,I)},T.prototype.animateScrolling=function(C,D){var $=this.scrollTop;if(!this.$animatedScroll)return;var I=this;if(C==$)return;if(this.$scrollAnimation){var R=this.$scrollAnimation.steps;if(R.length&&(C=R[0],C==$))return}var A=I.$calcSteps(C,$);this.$scrollAnimation={from:C,to:$,steps:A},clearInterval(this.$timer),I.session.setScrollTop(A.shift()),I.session.$scrollTop=$;function M(){I.$timer=clearInterval(I.$timer),I.$scrollAnimation=null,I.$stopAnimation=!1,D&&D()}this.$timer=setInterval(function(){if(I.$stopAnimation){M();return}if(!I.session)return clearInterval(I.$timer);A.length?(I.session.setScrollTop(A.shift()),I.session.$scrollTop=$):$!=null?(I.session.$scrollTop=-1,I.session.setScrollTop($),$=null):M()},10)},T.prototype.scrollToY=function(C){this.scrollTop!==C&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=C)},T.prototype.scrollToX=function(C){this.scrollLeft!==C&&(this.scrollLeft=C),this.$loop.schedule(this.CHANGE_H_SCROLL)},T.prototype.scrollTo=function(C,D){this.session.setScrollTop(D),this.session.setScrollLeft(C)},T.prototype.scrollBy=function(C,D){D&&this.session.setScrollTop(this.session.getScrollTop()+D),C&&this.session.setScrollLeft(this.session.getScrollLeft()+C)},T.prototype.isScrollableBy=function(C,D){if(D<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||D>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||C<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||C>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},T.prototype.pixelToScreenCoordinates=function(C,D){var $;if(this.$hasCssTransforms){$={top:0,left:0};var I=this.$fontMetrics.transformCoordinates([C,D]);C=I[1]-this.gutterWidth-this.margin.left,D=I[0]}else $=this.scroller.getBoundingClientRect();var R=C+this.scrollLeft-$.left-this.$padding,A=R/this.characterWidth,M=Math.floor((D+this.scrollTop-$.top)/this.lineHeight),N=this.$blockCursor?Math.floor(A):Math.round(A);return{row:M,column:N,side:A-N>0?1:-1,offsetX:R}},T.prototype.screenToTextCoordinates=function(C,D){var $;if(this.$hasCssTransforms){$={top:0,left:0};var I=this.$fontMetrics.transformCoordinates([C,D]);C=I[1]-this.gutterWidth-this.margin.left,D=I[0]}else $=this.scroller.getBoundingClientRect();var R=C+this.scrollLeft-$.left-this.$padding,A=R/this.characterWidth,M=this.$blockCursor?Math.floor(A):Math.round(A),N=Math.floor((D+this.scrollTop-$.top)/this.lineHeight);return this.session.screenToDocumentPosition(N,Math.max(M,0),R)},T.prototype.textToScreenCoordinates=function(C,D){var $=this.scroller.getBoundingClientRect(),I=this.session.documentToScreenPosition(C,D),R=this.$padding+(this.session.$bidiHandler.isBidiRow(I.row,C)?this.session.$bidiHandler.getPosLeft(I.column):Math.round(I.column*this.characterWidth)),A=I.row*this.lineHeight;return{pageX:$.left+R-this.scrollLeft,pageY:$.top+A-this.scrollTop}},T.prototype.visualizeFocus=function(){s.addCssClass(this.container,"ace_focus")},T.prototype.visualizeBlur=function(){s.removeCssClass(this.container,"ace_focus")},T.prototype.showComposition=function(C){this.$composition=C,C.cssText||(C.cssText=this.textarea.style.cssText),C.useTextareaForIME==null&&(C.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(s.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):C.markerId=this.session.addMarker(C.markerRange,"ace_composition_marker","text")},T.prototype.setCompositionText=function(C){var D=this.session.selection.cursor;this.addToken(C,"composition_placeholder",D.row,D.column),this.$moveTextAreaToCursor()},T.prototype.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),s.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var C=this.session.selection.cursor;this.removeExtraToken(C.row,C.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},T.prototype.setGhostText=function(C,D){var $=this.session.selection.cursor,I=D||{row:$.row,column:$.column};this.removeGhostText();var R=this.$calculateWrappedTextChunks(C,I);this.addToken(R[0].text,"ghost_text",I.row,I.column),this.$ghostText={text:C,position:{row:I.row,column:I.column}};var A=s.createElement("div");if(R.length>1){var M=this.hideTokensAfterPosition(I.row,I.column),N;R.slice(1).forEach(function(B){var H=s.createElement("div"),V=s.createElement("span");V.className="ace_ghost_text",B.wrapped&&(H.className="ghost_text_line_wrapped"),B.text.length===0&&(B.text=" "),V.appendChild(s.createTextNode(B.text)),H.appendChild(V),A.appendChild(H),N=H}),M.forEach(function(B){var H=s.createElement("span");E(B.type)||(H.className="ace_"+B.type.replace(/\./g," ace_")),H.appendChild(s.createTextNode(B.value)),N.appendChild(H)}),this.$ghostTextWidget={el:A,row:I.row,column:I.column,className:"ace_ghost_text_container"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget);var L=this.$cursorLayer.getPixelPosition(I,!0),z=this.container,F=z.getBoundingClientRect().height,j=R.length*this.lineHeight,W=j<F-L.top;if(W)return;j<F?this.scrollBy(0,(R.length-1)*this.lineHeight):this.scrollToRow(I.row)}},T.prototype.$calculateWrappedTextChunks=function(C,D){var $=this.$size.scrollerWidth-this.$padding*2,I=Math.floor($/this.characterWidth)-2;I=I<=0?60:I;for(var R=C.split(/\r?\n/),A=[],M=0;M<R.length;M++){var N=this.session.$getDisplayTokens(R[M],D.column),L=this.session.$computeWrapSplits(N,I,this.session.$tabSize);if(L.length>0){var z=0;L.push(R[M].length);for(var F=0;F<L.length;F++){var j=R[M].slice(z,L[F]);A.push({text:j,wrapped:!0}),z=L[F]}}else A.push({text:R[M],wrapped:!1})}return A},T.prototype.removeGhostText=function(){if(this.$ghostText){var C=this.$ghostText.position;this.removeExtraToken(C.row,C.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null}},T.prototype.addToken=function(C,D,$,I){var R=this.session;R.bgTokenizer.lines[$]=null;var A={type:D,value:C},M=R.getTokens($);if(I==null||!M.length)M.push(A);else for(var N=0,L=0;L<M.length;L++){var z=M[L];if(N+=z.value.length,I<=N){var F=z.value.length-(N-I),j=z.value.slice(0,F),W=z.value.slice(F);M.splice(L,1,{type:z.type,value:j},A,{type:z.type,value:W});break}}this.updateLines($,$)},T.prototype.hideTokensAfterPosition=function(C,D){for(var $=this.session.getTokens(C),I=0,R=!1,A=[],M=0;M<$.length;M++){var N=$[M];if(I+=N.value.length,N.type!=="ghost_text"){if(R){A.push({type:N.type,value:N.value}),N.type="hidden_token";continue}I===D&&(R=!0)}}return this.updateLines(C,C),A},T.prototype.removeExtraToken=function(C,D){this.session.bgTokenizer.lines[C]=null,this.updateLines(C,C)},T.prototype.setTheme=function(C,D){var $=this;if(this.$themeId=C,$._dispatchEvent("themeChange",{theme:C}),!C||typeof C=="string"){var I=C||this.$options.theme.initialValue;l.loadModule(["theme",I],R)}else R(C);function R(A){if($.$themeId!=C)return D&&D();if(!A||!A.cssClass)throw new Error("couldn't load module "+C+" or it didn't call define");A.$id&&($.$themeId=A.$id),s.importCssString(A.cssText,A.cssClass,$.container),$.theme&&s.removeCssClass($.container,$.theme.cssClass);var M="padding"in A?A.padding:"padding"in($.theme||{})?4:$.$padding;$.$padding&&M!=$.$padding&&$.setPadding(M),$.$theme=A.cssClass,$.theme=A,s.addCssClass($.container,A.cssClass),s.setCssClass($.container,"ace_dark",A.isDark),$.$size&&($.$size.width=0,$.$updateSizeAsync()),$._dispatchEvent("themeLoaded",{theme:A}),D&&D(),w.isSafari&&$.scroller&&($.scroller.style.background="red",$.scroller.style.background="")}},T.prototype.getTheme=function(){return this.$themeId},T.prototype.setStyle=function(C,D){s.setCssClass(this.container,C,D!==!1)},T.prototype.unsetStyle=function(C){s.removeCssClass(this.container,C)},T.prototype.setCursorStyle=function(C){s.setStyle(this.scroller.style,"cursor",C)},T.prototype.setMouseCursor=function(C){s.setStyle(this.scroller.style,"cursor",C)},T.prototype.attachToShadowRoot=function(){s.importCssString(_,"ace_editor.css",this.container)},T.prototype.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent="",this.setOption("useResizeObserver",!1)},T.prototype.$updateCustomScrollbar=function(C){var D=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),this.$scrollDecorator&&delete this.$scrollDecorator,C===!0?(this.scrollBarV=new g(this.container,this),this.scrollBarH=new m(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",function($){D.$scrollAnimation||D.session.setScrollTop($.data-D.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function($){D.$scrollAnimation||D.session.setScrollLeft($.data-D.scrollMargin.left)}),this.$scrollDecorator=new x(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new p(this.container,this),this.scrollBarH=new f(this.container,this),this.scrollBarV.addEventListener("scroll",function($){D.$scrollAnimation||D.session.setScrollTop($.data-D.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function($){D.$scrollAnimation||D.session.setScrollLeft($.data-D.scrollMargin.left)}))},T.prototype.$addResizeObserver=function(){if(!(!window.ResizeObserver||this.$resizeObserver)){var C=this;this.$resizeTimer=a.delayedCall(function(){C.destroyed||C.onResize()},50),this.$resizeObserver=new window.ResizeObserver(function(D){var $=D[0].contentRect.width,I=D[0].contentRect.height;Math.abs(C.$size.width-$)>1||Math.abs(C.$size.height-I)>1?C.$resizeTimer.delay():C.$resizeTimer.cancel()}),this.$resizeObserver.observe(this.container)}},T}();S.prototype.CHANGE_CURSOR=1,S.prototype.CHANGE_MARKER=2,S.prototype.CHANGE_GUTTER=4,S.prototype.CHANGE_SCROLL=8,S.prototype.CHANGE_LINES=16,S.prototype.CHANGE_TEXT=32,S.prototype.CHANGE_SIZE=64,S.prototype.CHANGE_MARKER_BACK=128,S.prototype.CHANGE_MARKER_FRONT=256,S.prototype.CHANGE_FULL=512,S.prototype.CHANGE_H_SCROLL=1024,S.prototype.$changes=0,S.prototype.$padding=null,S.prototype.$frozen=!1,S.prototype.STEPS=8,o.implement(S.prototype,b),l.defineOptions(S.prototype,"renderer",{useResizeObserver:{set:function(T){!T&&this.$resizeObserver?(this.$resizeObserver.disconnect(),this.$resizeTimer.cancel(),this.$resizeTimer=this.$resizeObserver=null):T&&!this.$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function(T){this.$textLayer.setShowInvisibles(T)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(T){typeof T=="number"&&(this.$printMarginColumn=T),this.$showPrintMargin=!!T,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(T){this.$gutter.style.display=T?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function(T){this.$gutterLayer.$useSvgGutterIcons=T},initialValue:!1},showFoldedAnnotations:{set:function(T){this.$gutterLayer.$showFoldedAnnotations=T},initialValue:!1},fadeFoldWidgets:{set:function(T){s.setCssClass(this.$gutter,"ace_fade-fold-widgets",T)},initialValue:!1},showFoldWidgets:{set:function(T){this.$gutterLayer.setShowFoldWidgets(T),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(T){this.$textLayer.setDisplayIndentGuides(T)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(T){this.$textLayer.setHighlightIndentGuides(T)==!0?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(T){this.$gutterLayer.setHighlightGutterLine(T),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(T){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(T){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(T){typeof T=="number"&&(T=T+"px"),this.container.style.fontSize=T,this.updateFontSize()},initialValue:12},fontFamily:{set:function(T){this.container.style.fontFamily=T,this.updateFontSize()}},maxLines:{set:function(T){this.updateFull()}},minLines:{set:function(T){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(T){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(T){T=+T||0,this.$scrollPastEnd!=T&&(this.$scrollPastEnd=T,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(T){this.$gutterLayer.$fixedWidth=!!T,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(T){this.$updateCustomScrollbar(T)},initialValue:!1},theme:{set:function(T){this.setTheme(T)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!w.isMobile&&!w.isIE}}),r.VirtualRenderer=S}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(n,r,i){var o=n("../lib/oop"),s=n("../lib/net"),a=n("../lib/event_emitter").EventEmitter,l=n("../config");function u(f){var p="importScripts('"+s.qualifyURL(f)+"');";try{return new Blob([p],{type:"application/javascript"})}catch{var m=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,g=new m;return g.append(p),g.getBlob("application/javascript")}}function c(f){if(typeof Worker>"u")return{postMessage:function(){},terminate:function(){}};if(l.get("loadWorkerFromBlob")){var p=u(f),m=window.URL||window.webkitURL,g=m.createObjectURL(p);return new Worker(g)}return new Worker(f)}var d=function(f){f.postMessage||(f=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=f,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){o.implement(this,a),this.$createWorkerFromOldConfig=function(f,p,m,g,y){if(n.nameToUrl&&!n.toUrl&&(n.toUrl=n.nameToUrl),l.get("packaged")||!n.toUrl)g=g||l.moduleUrl(p,"worker");else{var v=this.$normalizePath;g=g||v(n.toUrl("ace/worker/worker.js",null,"_"));var b={};f.forEach(function(_){b[_]=v(n.toUrl(_,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=c(g),y&&this.send("importScripts",y),this.$worker.postMessage({init:!0,tlns:b,module:p,classname:m}),this.$worker},this.onMessage=function(f){var p=f.data;switch(p.type){case"event":this._signal(p.name,{data:p.data});break;case"call":var m=this.callbacks[p.id];m&&(m(p.data),delete this.callbacks[p.id]);break;case"error":this.reportError(p.data);break;case"log":window.console&&console.log&&console.log.apply(console,p.data);break}},this.reportError=function(f){window.console&&console.error&&console.error(f)},this.$normalizePath=function(f){return s.qualifyURL(f)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker.onerror=function(f){f.preventDefault()},this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(f,p){this.$worker.postMessage({command:f,args:p})},this.call=function(f,p,m){if(m){var g=this.callbackId++;this.callbacks[g]=m,p.push(g)}this.send(f,p)},this.emit=function(f,p){try{p.data&&p.data.err&&(p.data.err={message:p.data.err.message,stack:p.data.err.stack,code:p.data.err.code}),this.$worker&&this.$worker.postMessage({event:f,data:{data:p.data}})}catch(m){console.error(m.stack)}},this.attachToDocument=function(f){this.$doc&&this.terminate(),this.$doc=f,this.call("setValue",[f.getValue()]),f.on("change",this.changeListener,!0)},this.changeListener=function(f){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),f.action=="insert"?this.deltaQueue.push(f.start,f.lines):this.deltaQueue.push(f.start,f.end)},this.$sendDeltaQueue=function(){var f=this.deltaQueue;f&&(this.deltaQueue=null,f.length>50&&f.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:f}))}}).call(d.prototype);var h=function(f,p,m){var g=null,y=!1,v=Object.create(a),b=[],_=new d({messageBuffer:b,terminate:function(){},postMessage:function(w){b.push(w),g&&(y?setTimeout(x):x())}});_.setEmitSync=function(w){y=w};var x=function(){var w=b.shift();w.command?g[w.command].apply(g,w.args):w.event&&v._signal(w.event,w.data)};return v.postMessage=function(w){_.onMessage({data:w})},v.callback=function(w,E){this.postMessage({type:"call",id:E,data:w})},v.emit=function(w,E){this.postMessage({type:"event",name:w,data:E})},l.loadModule(["worker",p],function(w){for(g=new w[m](v);b.length;)x()}),_};r.UIWorkerClient=h,r.WorkerClient=d,r.createWorker=c}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(n,r,i){var o=n("./range").Range,s=n("./lib/event_emitter").EventEmitter,a=n("./lib/oop"),l=function(){function u(c,d,h,f,p,m){var g=this;this.length=d,this.session=c,this.doc=c.getDocument(),this.mainClass=p,this.othersClass=m,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=f,this.$onCursorChange=function(){setTimeout(function(){g.onCursorChange()})},this.$pos=h;var y=c.getUndoManager().$undoStack||c.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=y.length,this.setup(),c.selection.on("changeCursor",this.$onCursorChange)}return u.prototype.setup=function(){var c=this,d=this.doc,h=this.session;this.selectionBefore=h.selection.toJSON(),h.selection.inMultiSelectMode&&h.selection.toSingleRange(),this.pos=d.createAnchor(this.$pos.row,this.$pos.column);var f=this.pos;f.$insertRight=!0,f.detach(),f.markerId=h.addMarker(new o(f.row,f.column,f.row,f.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(p){var m=d.createAnchor(p.row,p.column);m.$insertRight=!0,m.detach(),c.others.push(m)}),h.setUndoSelect(!1)},u.prototype.showOtherMarkers=function(){if(!this.othersActive){var c=this.session,d=this;this.othersActive=!0,this.others.forEach(function(h){h.markerId=c.addMarker(new o(h.row,h.column,h.row,h.column+d.length),d.othersClass,null,!1)})}},u.prototype.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var c=0;c<this.others.length;c++)this.session.removeMarker(this.others[c].markerId)}},u.prototype.onUpdate=function(c){if(this.$updating)return this.updateAnchors(c);var d=c;if(d.start.row===d.end.row&&d.start.row===this.pos.row){this.$updating=!0;var h=c.action==="insert"?d.end.column-d.start.column:d.start.column-d.end.column,f=d.start.column>=this.pos.column&&d.start.column<=this.pos.column+this.length+1,p=d.start.column-this.pos.column;if(this.updateAnchors(c),f&&(this.length+=h),f&&!this.session.$fromUndo){if(c.action==="insert")for(var m=this.others.length-1;m>=0;m--){var g=this.others[m],y={row:g.row,column:g.column+p};this.doc.insertMergedLines(y,c.lines)}else if(c.action==="remove")for(var m=this.others.length-1;m>=0;m--){var g=this.others[m],y={row:g.row,column:g.column+p};this.doc.remove(new o(y.row,y.column,y.row,y.column-h))}}this.$updating=!1,this.updateMarkers()}},u.prototype.updateAnchors=function(c){this.pos.onChange(c);for(var d=this.others.length;d--;)this.others[d].onChange(c);this.updateMarkers()},u.prototype.updateMarkers=function(){if(!this.$updating){var c=this,d=this.session,h=function(p,m){d.removeMarker(p.markerId),p.markerId=d.addMarker(new o(p.row,p.column,p.row,p.column+c.length),m,null,!1)};h(this.pos,this.mainClass);for(var f=this.others.length;f--;)h(this.others[f],this.othersClass)}},u.prototype.onCursorChange=function(c){if(!(this.$updating||!this.session)){var d=this.session.selection.getCursor();d.row===this.pos.row&&d.column>=this.pos.column&&d.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",c)):(this.hideOtherMarkers(),this._emit("cursorLeave",c))}},u.prototype.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},u.prototype.cancel=function(){if(this.$undoStackDepth!==-1){for(var c=this.session.getUndoManager(),d=(c.$undoStack||c.$undostack).length-this.$undoStackDepth,h=0;h<d;h++)c.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}},u}();a.implement(l.prototype,s),r.PlaceHolder=l}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(n,r,i){var o=n("../lib/event"),s=n("../lib/useragent");function a(u,c){return u.row==c.row&&u.column==c.column}function l(u){var c=u.domEvent,d=c.altKey,h=c.shiftKey,f=c.ctrlKey,p=u.getAccelKey(),m=u.getButton();if(f&&s.isMac&&(m=c.button),u.editor.inMultiSelectMode&&m==2){u.editor.textInput.onContextMenu(u.domEvent);return}if(!f&&!d&&!p){m===0&&u.editor.inMultiSelectMode&&u.editor.exitMultiSelectMode();return}if(m===0){var g=u.editor,y=g.selection,v=g.inMultiSelectMode,b=u.getDocumentPosition(),_=y.getCursor(),x=u.inSelection()||y.isEmpty()&&a(b,_),w=u.x,E=u.y,S=function(j){w=j.clientX,E=j.clientY},T=g.session,C=g.renderer.pixelToScreenCoordinates(w,E),D=C,$;if(g.$mouseHandler.$enableJumpToDef)f&&d||p&&d?$=h?"block":"add":d&&g.$blockSelectEnabled&&($="block");else if(p&&!d){if($="add",!v&&h)return}else d&&g.$blockSelectEnabled&&($="block");if($&&s.isMac&&c.ctrlKey&&g.$mouseHandler.cancelContextMenu(),$=="add"){if(!v&&x)return;if(!v){var I=y.toOrientedRange();g.addSelectionMarker(I)}var R=y.rangeList.rangeAtPoint(b);g.inVirtualSelectionMode=!0,h&&(R=null,I=y.ranges[0]||I,g.removeSelectionMarker(I)),g.once("mouseup",function(){var j=y.toOrientedRange();R&&j.isEmpty()&&a(R.cursor,j.cursor)?y.substractPoint(j.cursor):(h?y.substractPoint(I.cursor):I&&(g.removeSelectionMarker(I),y.addRange(I)),y.addRange(j)),g.inVirtualSelectionMode=!1})}else if($=="block"){u.stop(),g.inVirtualSelectionMode=!0;var A,M=[],N=function(){var j=g.renderer.pixelToScreenCoordinates(w,E),W=T.screenToDocumentPosition(j.row,j.column,j.offsetX);a(D,j)&&a(W,y.lead)||(D=j,g.selection.moveToPosition(W),g.renderer.scrollCursorIntoView(),g.removeSelectionMarkers(M),M=y.rectangularRangeBlock(D,C),g.$mouseHandler.$clickSelection&&M.length==1&&M[0].isEmpty()&&(M[0]=g.$mouseHandler.$clickSelection.clone()),M.forEach(g.addSelectionMarker,g),g.updateSelectionMarkers())};v&&!p?y.toSingleRange():!v&&p&&(A=y.toOrientedRange(),g.addSelectionMarker(A)),h?C=T.documentToScreenPosition(y.lead):y.moveToPosition(b),D={row:-1,column:-1};var L=function(j){N(),clearInterval(F),g.removeSelectionMarkers(M),M.length||(M=[y.toOrientedRange()]),A&&(g.removeSelectionMarker(A),y.toSingleRange(A));for(var W=0;W<M.length;W++)y.addRange(M[W]);g.inVirtualSelectionMode=!1,g.$mouseHandler.$clickSelection=null},z=N;o.capture(g.container,S,L);var F=setInterval(function(){z()},20);return u.preventDefault()}}}r.onMouseDown=l}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(n,r,i){r.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(s){s.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(s){s.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(s){s.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(s){s.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(s){s.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(s){s.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(s){s.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(s){s.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function(s){s.multiSelect.rangeCount>1?s.multiSelect.joinSelections():s.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(s){s.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(s){s.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(s){s.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],r.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(s){s.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(s){return s&&s.inMultiSelectMode}}];var o=n("../keyboard/hash_handler").HashHandler;r.keyboardHandler=new o(r.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(n,r,i){var o=n("./range_list").RangeList,s=n("./range").Range,a=n("./selection").Selection,l=n("./mouse/multi_select_handler").onMouseDown,u=n("./lib/event"),c=n("./lib/lang"),d=n("./commands/multi_select_commands");r.commands=d.defaultCommands.concat(d.multiSelectCommands);var h=n("./search").Search,f=new h;function p(_,x,w){return f.$options.wrap=!0,f.$options.needle=x,f.$options.backwards=w==-1,f.find(_)}var m=n("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(m.prototype),(function(){this.ranges=null,this.rangeList=null,this.addRange=function(_,x){if(_){if(!this.inMultiSelectMode&&this.rangeCount===0){var w=this.toOrientedRange();if(this.rangeList.add(w),this.rangeList.add(_),this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),x||this.fromOrientedRange(_);this.rangeList.removeAll(),this.rangeList.add(w),this.$onAddRange(w)}_.cursor||(_.cursor=_.end);var E=this.rangeList.add(_);return this.$onAddRange(_),E.length&&this.$onRemoveRange(E),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),x||this.fromOrientedRange(_)}},this.toSingleRange=function(_){_=_||this.ranges[0];var x=this.rangeList.removeAll();x.length&&this.$onRemoveRange(x),_&&this.fromOrientedRange(_)},this.substractPoint=function(_){var x=this.rangeList.substractPoint(_);if(x)return this.$onRemoveRange(x),x[0]},this.mergeOverlappingRanges=function(){var _=this.rangeList.merge();_.length&&this.$onRemoveRange(_)},this.$onAddRange=function(_){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(_),this._signal("addRange",{range:_})},this.$onRemoveRange=function(_){if(this.rangeCount=this.rangeList.ranges.length,this.rangeCount==1&&this.inMultiSelectMode){var x=this.rangeList.ranges.pop();_.push(x),this.rangeCount=0}for(var w=_.length;w--;){var E=this.ranges.indexOf(_[w]);this.ranges.splice(E,1)}this._signal("removeRange",{ranges:_}),this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),x=x||this.ranges[0],x&&!x.isEqual(this.getRange())&&this.fromOrientedRange(x)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new o,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var _=this.ranges.length?this.ranges:[this.getRange()],x=[],w=0;w<_.length;w++){var E=_[w],S=E.start.row,T=E.end.row;if(S===T)x.push(E.clone());else{for(x.push(new s(S,E.start.column,S,this.session.getLine(S).length));++S<T;)x.push(this.getLineRange(S,!0));x.push(new s(T,0,T,E.end.column))}w==0&&!this.isBackwards()&&(x=x.reverse())}this.toSingleRange();for(var w=x.length;w--;)this.addRange(x[w])},this.joinSelections=function(){var _=this.rangeList.ranges,x=_[_.length-1],w=s.fromPoints(_[0].start,x.end);this.toSingleRange(),this.setSelectionRange(w,x.cursor==x.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var _=this.rangeList.ranges,x=_[_.length-1],w=s.fromPoints(_[0].start,x.end);this.toSingleRange(),this.setSelectionRange(w,x.cursor==x.start)}else{var E=this.session.documentToScreenPosition(this.cursor),S=this.session.documentToScreenPosition(this.anchor),T=this.rectangularRangeBlock(E,S);T.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(_,x,w){var E=[],S=_.column<x.column;if(S)var T=_.column,C=x.column,D=_.offsetX,$=x.offsetX;else var T=x.column,C=_.column,D=x.offsetX,$=_.offsetX;var I=_.row<x.row;if(I)var R=_.row,A=x.row;else var R=x.row,A=_.row;T<0&&(T=0),R<0&&(R=0),R==A&&(w=!0);for(var M,N=R;N<=A;N++){var L=s.fromPoints(this.session.screenToDocumentPosition(N,T,D),this.session.screenToDocumentPosition(N,C,$));if(L.isEmpty()){if(M&&y(L.end,M))break;M=L.end}L.cursor=S?L.start:L.end,E.push(L)}if(I&&E.reverse(),!w){for(var z=E.length-1;E[z].isEmpty()&&z>0;)z--;if(z>0)for(var F=0;E[F].isEmpty();)F++;for(var j=z;j>=F;j--)E[j].isEmpty()&&E.splice(j,1)}return E}}).call(a.prototype);var g=n("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(_){_.cursor||(_.cursor=_.end);var x=this.getSelectionStyle();return _.marker=this.session.addMarker(_,"ace_selection",x),this.session.$selectionMarkers.push(_),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,_},this.removeSelectionMarker=function(_){if(_.marker){this.session.removeMarker(_.marker);var x=this.session.$selectionMarkers.indexOf(_);x!=-1&&this.session.$selectionMarkers.splice(x,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(_){for(var x=this.session.$selectionMarkers,w=_.length;w--;){var E=_[w];if(E.marker){this.session.removeMarker(E.marker);var S=x.indexOf(E);S!=-1&&x.splice(S,1)}}this.session.selectionMarkerCount=x.length},this.$onAddRange=function(_){this.addSelectionMarker(_.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(_){this.removeSelectionMarkers(_.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(_){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(d.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(_){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(d.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(_){var x=_.command,w=_.editor;if(w.multiSelect){if(x.multiSelectAction)x.multiSelectAction=="forEach"?E=w.forEachSelection(x,_.args):x.multiSelectAction=="forEachLine"?E=w.forEachSelection(x,_.args,!0):x.multiSelectAction=="single"?(w.exitMultiSelectMode(),E=x.exec(w,_.args||{})):E=x.multiSelectAction(w,_.args||{});else{var E=x.exec(w,_.args||{});w.multiSelect.addRange(w.multiSelect.toOrientedRange()),w.multiSelect.mergeOverlappingRanges()}return E}},this.forEachSelection=function(_,x,w){if(!this.inVirtualSelectionMode){var E=w&&w.keepOrder,S=w==!0||w&&w.$byLines,T=this.session,C=this.selection,D=C.rangeList,$=(E?C:D).ranges,I;if(!$.length)return _.exec?_.exec(this,x||{}):_(this,x||{});var R=C._eventRegistry;C._eventRegistry={};var A=new a(T);this.inVirtualSelectionMode=!0;for(var M=$.length;M--;){if(S)for(;M>0&&$[M].start.row==$[M-1].end.row;)M--;A.fromOrientedRange($[M]),A.index=M,this.selection=T.selection=A;var N=_.exec?_.exec(this,x||{}):_(this,x||{});!I&&N!==void 0&&(I=N),A.toOrientedRange($[M])}A.detach(),this.selection=T.selection=C,this.inVirtualSelectionMode=!1,C._eventRegistry=R,C.mergeOverlappingRanges(),C.ranges[0]&&C.fromOrientedRange(C.ranges[0]);var L=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),L&&L.from==L.to&&this.renderer.animateScrolling(L.from),I}},this.exitMultiSelectMode=function(){!this.inMultiSelectMode||this.inVirtualSelectionMode||this.multiSelect.toSingleRange()},this.getSelectedText=function(){var _="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var x=this.multiSelect.rangeList.ranges,w=[],E=0;E<x.length;E++)w.push(this.session.getTextRange(x[E]));var S=this.session.getDocument().getNewLineCharacter();_=w.join(S),_.length==(w.length-1)*S.length&&(_="")}else this.selection.isEmpty()||(_=this.session.getTextRange(this.getSelectionRange()));return _},this.$checkMultiselectChange=function(_,x){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var w=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&x==this.multiSelect.anchor)return;var E=x==this.multiSelect.anchor?w.cursor==w.start?w.end:w.start:w.cursor;E.row!=x.row||this.session.$clipPositionToDocument(E.row,E.column).column!=x.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(_,x,w){if(x=x||{},x.needle=_||x.needle,x.needle==null){var E=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();x.needle=this.session.getTextRange(E)}this.$search.set(x);var S=this.$search.findAll(this.session);if(!S.length)return 0;var T=this.multiSelect;w||T.toSingleRange(S[0]);for(var C=S.length;C--;)T.addRange(S[C],!0);return E&&T.rangeList.rangeAtPoint(E.start)&&T.addRange(E,!0),S.length},this.selectMoreLines=function(_,x){var w=this.selection.toOrientedRange(),E=w.cursor==w.end,S=this.session.documentToScreenPosition(w.cursor);this.selection.$desiredColumn&&(S.column=this.selection.$desiredColumn);var T=this.session.screenToDocumentPosition(S.row+_,S.column);if(w.isEmpty())var D=T;else var C=this.session.documentToScreenPosition(E?w.end:w.start),D=this.session.screenToDocumentPosition(C.row+_,C.column);if(E){var $=s.fromPoints(T,D);$.cursor=$.start}else{var $=s.fromPoints(D,T);$.cursor=$.end}if($.desiredColumn=S.column,!this.selection.inMultiSelectMode)this.selection.addRange(w);else if(x)var I=w.cursor;this.selection.addRange($),I&&this.selection.substractPoint(I)},this.transposeSelections=function(_){for(var x=this.session,w=x.multiSelect,E=w.ranges,S=E.length;S--;){var T=E[S];if(T.isEmpty()){var C=x.getWordRange(T.start.row,T.start.column);T.start.row=C.start.row,T.start.column=C.start.column,T.end.row=C.end.row,T.end.column=C.end.column}}w.mergeOverlappingRanges();for(var D=[],S=E.length;S--;){var T=E[S];D.unshift(x.getTextRange(T))}_<0?D.unshift(D.pop()):D.push(D.shift());for(var S=E.length;S--;){var T=E[S],$=T.clone();x.replace(T,D[S]),T.start.row=$.start.row,T.start.column=$.start.column}w.fromOrientedRange(w.ranges[0])},this.selectMore=function(_,x,w){var E=this.session,S=E.multiSelect,T=S.toOrientedRange();if(!(T.isEmpty()&&(T=E.getWordRange(T.start.row,T.start.column),T.cursor=_==-1?T.start:T.end,this.multiSelect.addRange(T),w))){var C=E.getTextRange(T),D=p(E,C,_);D&&(D.cursor=_==-1?D.start:D.end,this.session.unfold(D),this.multiSelect.addRange(D),this.renderer.scrollCursorIntoView(null,.5)),x&&this.multiSelect.substractPoint(T.cursor)}},this.alignCursors=function(){var _=this.session,x=_.multiSelect,w=x.ranges,E=-1,S=w.filter(function(z){if(z.cursor.row==E)return!0;E=z.cursor.row});if(!w.length||S.length==w.length-1){var T=this.selection.getRange(),C=T.start.row,D=T.end.row,$=C==D;if($){var I=this.session.getLength(),R;do R=this.session.getLine(D);while(/[=:]/.test(R)&&++D<I);do R=this.session.getLine(C);while(/[=:]/.test(R)&&--C>0);C<0&&(C=0),D>=I&&(D=I-1)}var A=this.session.removeFullLines(C,D);A=this.$reAlignText(A,$),this.session.insert({row:C,column:0},A.join(`
`)+`
`),$||(T.start.column=0,T.end.column=A[A.length-1].length),this.selection.setRange(T)}else{S.forEach(function(z){x.substractPoint(z.cursor)});var M=0,N=1/0,L=w.map(function(z){var F=z.cursor,j=_.getLine(F.row),W=j.substr(F.column).search(/\S/g);return W==-1&&(W=0),F.column>M&&(M=F.column),W<N&&(N=W),W});w.forEach(function(z,F){var j=z.cursor,W=M-j.column,B=L[F]-N;W>B?_.insert(j,c.stringRepeat(" ",W-B)):_.remove(new s(j.row,j.column,j.row,j.column-W+B)),z.start.column=z.end.column=M,z.start.row=z.end.row=j.row,z.cursor=z.end}),x.fromOrientedRange(w[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}},this.$reAlignText=function(_,x){var w=!0,E=!0,S,T,C;return _.map(function(A){var M=A.match(/(\s*)(.*?)(\s*)([=:].*)/);return M?S==null?(S=M[1].length,T=M[2].length,C=M[3].length,M):(S+T+C!=M[1].length+M[2].length+M[3].length&&(E=!1),S!=M[1].length&&(w=!1),S>M[1].length&&(S=M[1].length),T<M[2].length&&(T=M[2].length),C>M[3].length&&(C=M[3].length),M):[A]}).map(x?$:w?E?I:$:R);function D(A){return c.stringRepeat(" ",A)}function $(A){return A[2]?D(S)+A[2]+D(T-A[2].length+C)+A[4].replace(/^([=:])\s+/,"$1 "):A[0]}function I(A){return A[2]?D(S+T-A[2].length)+A[2]+D(C)+A[4].replace(/^([=:])\s+/,"$1 "):A[0]}function R(A){return A[2]?D(S)+A[2]+D(C)+A[4].replace(/^([=:])\s+/,"$1 "):A[0]}}}).call(g.prototype);function y(_,x){return _.row==x.row&&_.column==x.column}r.onSessionChange=function(_){var x=_.session;x&&!x.multiSelect&&(x.$selectionMarkers=[],x.selection.$initRangeList(),x.multiSelect=x.selection),this.multiSelect=x&&x.multiSelect;var w=_.oldSession;w&&(w.multiSelect.off("addRange",this.$onAddRange),w.multiSelect.off("removeRange",this.$onRemoveRange),w.multiSelect.off("multiSelect",this.$onMultiSelect),w.multiSelect.off("singleSelect",this.$onSingleSelect),w.multiSelect.lead.off("change",this.$checkMultiselectChange),w.multiSelect.anchor.off("change",this.$checkMultiselectChange)),x&&(x.multiSelect.on("addRange",this.$onAddRange),x.multiSelect.on("removeRange",this.$onRemoveRange),x.multiSelect.on("multiSelect",this.$onMultiSelect),x.multiSelect.on("singleSelect",this.$onSingleSelect),x.multiSelect.lead.on("change",this.$checkMultiselectChange),x.multiSelect.anchor.on("change",this.$checkMultiselectChange)),x&&this.inMultiSelectMode!=x.selection.inMultiSelectMode&&(x.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};function v(_){_.$multiselectOnSessionChange||(_.$onAddRange=_.$onAddRange.bind(_),_.$onRemoveRange=_.$onRemoveRange.bind(_),_.$onMultiSelect=_.$onMultiSelect.bind(_),_.$onSingleSelect=_.$onSingleSelect.bind(_),_.$multiselectOnSessionChange=r.onSessionChange.bind(_),_.$checkMultiselectChange=_.$checkMultiselectChange.bind(_),_.$multiselectOnSessionChange(_),_.on("changeSession",_.$multiselectOnSessionChange),_.on("mousedown",l),_.commands.addCommands(d.defaultCommands),b(_))}function b(_){if(!_.textInput)return;var x=_.textInput.getElement(),w=!1;u.addListener(x,"keydown",function(S){var T=S.keyCode==18&&!(S.ctrlKey||S.shiftKey||S.metaKey);_.$blockSelectEnabled&&T?w||(_.renderer.setMouseCursor("crosshair"),w=!0):w&&E()},_),u.addListener(x,"keyup",E,_),u.addListener(x,"blur",E,_);function E(S){w&&(_.renderer.setMouseCursor(""),w=!1)}}r.MultiSelect=v,n("./config").defineOptions(g.prototype,"editor",{enableMultiselect:{set:function(_){v(this),_?this.on("mousedown",l):this.off("mousedown",l)},value:!0},enableBlockSelect:{set:function(_){this.$blockSelectEnabled=_},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(n,r,i){var o=n("../../range").Range,s=r.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(a,l,u){var c=a.getLine(u);return this.foldingStartMarker.test(c)?"start":l=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(c)?"end":""},this.getFoldWidgetRange=function(a,l,u){return null},this.indentationBlock=function(a,l,u){var c=/\S/,d=a.getLine(l),h=d.search(c);if(h!=-1){for(var f=u||d.length,p=a.getLength(),m=l,g=l;++l<p;){var y=a.getLine(l).search(c);if(y!=-1){if(y<=h){var v=a.getTokenAt(l,0);if(!v||v.type!=="string")break}g=l}}if(g>m){var b=a.getLine(g).length;return new o(m,f,g,b)}}},this.openingBracketBlock=function(a,l,u,c,d){var h={row:u,column:c+1},f=a.$findClosingBracket(l,h,d);if(f){var p=a.foldWidgets[f.row];return p==null&&(p=a.getFoldWidget(f.row)),p=="start"&&f.row>h.row&&(f.row--,f.column=a.getLine(f.row).length),o.fromPoints(h,f)}},this.closingBracketBlock=function(a,l,u,c,d){var h={row:u,column:c},f=a.$findOpeningBracket(l,h);if(f)return f.column++,h.column--,o.fromPoints(f,h)}}).call(s.prototype)}),ace.define("ace/ext/error_marker",["require","exports","module","ace/lib/dom","ace/range","ace/config"],function(n,r,i){var o=n("../lib/dom"),s=n("../range").Range,a=n("../config").nls;function l(c,d,h){for(var f=0,p=c.length-1;f<=p;){var m=f+p>>1,g=h(d,c[m]);if(g>0)f=m+1;else if(g<0)p=m-1;else return m}return-(f+1)}function u(c,d,h){var f=c.getAnnotations().sort(s.comparePoints);if(f.length){var p=l(f,{row:d,column:-1},s.comparePoints);p<0&&(p=-p-1),p>=f.length?p=h>0?0:f.length-1:p===0&&h<0&&(p=f.length-1);var m=f[p];if(!(!m||!h)){if(m.row===d){do m=f[p+=h];while(m&&m.row===d);if(!m)return f.slice()}var g=[];d=m.row;do g[h<0?"unshift":"push"](m),m=f[p+=h];while(m&&m.row==d);return g.length&&g}}}r.showErrorMarker=function(c,d){var h=c.session,f=c.getCursorPosition(),p=f.row,m=h.widgetManager.getWidgetsAtRow(p).filter(function(S){return S.type=="errorMarker"})[0];m?m.destroy():p-=d;var g=u(h,p,d),y;if(g){var v=g[0];f.column=(v.pos&&typeof v.column!="number"?v.pos.sc:v.column)||0,f.row=v.row,y=c.renderer.$gutterLayer.$annotations[f.row]}else{if(m)return;y={displayText:[a("error-marker.good-state","Looks good!")],className:"ace_ok"}}c.session.unfold(f.row),c.selection.moveToPosition(f);var b={row:f.row,fixedWidth:!0,coverGutter:!0,el:o.createElement("div"),type:"errorMarker"},_=b.el.appendChild(o.createElement("div")),x=b.el.appendChild(o.createElement("div"));x.className="error_widget_arrow "+y.className;var w=c.renderer.$cursorLayer.getPixelPosition(f).left;x.style.left=w+c.renderer.gutterWidth-5+"px",b.el.className="error_widget_wrapper",_.className="error_widget "+y.className,y.displayText.forEach(function(S,T){_.appendChild(o.createTextNode(S)),T<y.displayText.length-1&&_.appendChild(o.createElement("br"))}),_.appendChild(o.createElement("div"));var E=function(S,T,C){if(T===0&&(C==="esc"||C==="return"))return b.destroy(),{command:"null"}};b.destroy=function(){c.$mouseHandler.isMousePressed||(c.keyBinding.removeKeyboardHandler(E),h.widgetManager.removeLineWidget(b),c.off("changeSelection",b.destroy),c.off("changeSession",b.destroy),c.off("mouseup",b.destroy),c.off("change",b.destroy))},c.keyBinding.addKeyboardHandler(E),c.on("changeSelection",b.destroy),c.on("changeSession",b.destroy),c.on("mouseup",b.destroy),c.on("change",b.destroy),c.session.widgetManager.addLineWidget(b),b.el.onmousedown=c.focus.bind(c),c.renderer.scrollCursorIntoView(null,.5,{bottom:b.el.offsetHeight})},o.importCssString(`
    .error_widget_wrapper {
        background: inherit;
        color: inherit;
        border:none
    }
    .error_widget {
        border-top: solid 2px;
        border-bottom: solid 2px;
        margin: 5px 0;
        padding: 10px 40px;
        white-space: pre-wrap;
    }
    .error_widget.ace_error, .error_widget_arrow.ace_error{
        border-color: #ff5a5a
    }
    .error_widget.ace_warning, .error_widget_arrow.ace_warning{
        border-color: #F1D817
    }
    .error_widget.ace_info, .error_widget_arrow.ace_info{
        border-color: #5a5a5a
    }
    .error_widget.ace_ok, .error_widget_arrow.ace_ok{
        border-color: #5aaa5a
    }
    .error_widget_arrow {
        position: absolute;
        border: solid 5px;
        border-top-color: transparent!important;
        border-right-color: transparent!important;
        border-left-color: transparent!important;
        top: -5px;
    }
`,"error_marker.css",!1)}),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],function(n,r,i){n("./loader_build")(r);var o=n("./lib/dom"),s=n("./range").Range,a=n("./editor").Editor,l=n("./edit_session").EditSession,u=n("./undomanager").UndoManager,c=n("./virtual_renderer").VirtualRenderer;n("./worker/worker_client"),n("./keyboard/hash_handler"),n("./placeholder"),n("./multi_select"),n("./mode/folding/fold_mode"),n("./theme/textmate"),n("./ext/error_marker"),r.config=n("./config"),r.edit=function(h,f){if(typeof h=="string"){var p=h;if(h=document.getElementById(p),!h)throw new Error("ace.edit can't find div #"+p)}if(h&&h.env&&h.env.editor instanceof a)return h.env.editor;var m="";if(h&&/input|textarea/i.test(h.tagName)){var g=h;m=g.value,h=o.createElement("pre"),g.parentNode.replaceChild(h,g)}else h&&(m=h.textContent,h.innerHTML="");var y=r.createEditSession(m),v=new a(new c(h),y,f),b={document:y,editor:v,onResize:v.resize.bind(v,null)};return g&&(b.textarea=g),v.on("destroy",function(){b.editor.container.env=null}),v.container.env=v.env=b,v},r.createEditSession=function(h,f){var p=new l(h,f);return p.setUndoManager(new u),p},r.Range=s,r.Editor=a,r.EditSession=l,r.UndoManager=u,r.VirtualRenderer=c;var d=r.config.version;r.version=d}),function(){ace.require(["ace/ace"],function(n){n&&(n.config.init(!0),n.define=ace.define);var r=function(){return this}();!r&&typeof window<"u"&&(r=window),!r&&typeof self<"u"&&(r=self),r.ace||(r.ace=n);for(var i in n)n.hasOwnProperty(i)&&(r.ace[i]=n[i]);r.ace.default=r.ace,e&&(e.exports=r.ace)})}()})(nSe);var W$=nSe.exports,q$={exports:{}};q$.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",i=1,o=2,s=9007199254740991,a="[object Arguments]",l="[object Array]",u="[object AsyncFunction]",c="[object Boolean]",d="[object Date]",h="[object Error]",f="[object Function]",p="[object GeneratorFunction]",m="[object Map]",g="[object Number]",y="[object Null]",v="[object Object]",b="[object Promise]",_="[object Proxy]",x="[object RegExp]",w="[object Set]",E="[object String]",S="[object Symbol]",T="[object Undefined]",C="[object WeakMap]",D="[object ArrayBuffer]",$="[object DataView]",I="[object Float32Array]",R="[object Float64Array]",A="[object Int8Array]",M="[object Int16Array]",N="[object Int32Array]",L="[object Uint8Array]",z="[object Uint8ClampedArray]",F="[object Uint16Array]",j="[object Uint32Array]",W=/[\\^$.*+?()[\]{}|]/g,B=/^\[object .+?Constructor\]$/,H=/^(?:0|[1-9]\d*)$/,V={};V[I]=V[R]=V[A]=V[M]=V[N]=V[L]=V[z]=V[F]=V[j]=!0,V[a]=V[l]=V[D]=V[c]=V[$]=V[d]=V[h]=V[f]=V[m]=V[g]=V[v]=V[x]=V[w]=V[E]=V[C]=!1;var G=typeof vt=="object"&&vt&&vt.Object===Object&&vt,ne=typeof self=="object"&&self&&self.Object===Object&&self,X=G||ne||Function("return this")(),te=t&&!t.nodeType&&t,se=te&&!0&&e&&!e.nodeType&&e,ve=se&&se.exports===te,pe=ve&&G.process,Ge=function(){try{return pe&&pe.binding&&pe.binding("util")}catch{}}(),Ne=Ge&&Ge.isTypedArray;function Ke(oe,K){for(var J=-1,de=oe==null?0:oe.length,at=0,yt=[];++J<de;){var Yt=oe[J];K(Yt,J,oe)&&(yt[at++]=Yt)}return yt}function Je(oe,K){for(var J=-1,de=K.length,at=oe.length;++J<de;)oe[at+J]=K[J];return oe}function Ae(oe,K){for(var J=-1,de=oe==null?0:oe.length;++J<de;)if(K(oe[J],J,oe))return!0;return!1}function $e(oe,K){for(var J=-1,de=Array(oe);++J<oe;)de[J]=K(J);return de}function Ze(oe){return function(K){return oe(K)}}function lt(oe,K){return oe.has(K)}function gt(oe,K){return oe==null?void 0:oe[K]}function st(oe){var K=-1,J=Array(oe.size);return oe.forEach(function(de,at){J[++K]=[at,de]}),J}function ht(oe,K){return function(J){return oe(K(J))}}function Oe(oe){var K=-1,J=Array(oe.size);return oe.forEach(function(de){J[++K]=de}),J}var ut=Array.prototype,ee=Function.prototype,he=Object.prototype,xe=X["__core-js_shared__"],Me=ee.toString,je=he.hasOwnProperty,ft=function(){var oe=/[^.]+$/.exec(xe&&xe.keys&&xe.keys.IE_PROTO||"");return oe?"Symbol(src)_1."+oe:""}(),jt=he.toString,Gt=RegExp("^"+Me.call(je).replace(W,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Dt=ve?X.Buffer:void 0,ct=X.Symbol,Ft=X.Uint8Array,rr=he.propertyIsEnumerable,In=ut.splice,Ci=ct?ct.toStringTag:void 0,ii=Object.getOwnPropertySymbols,Ai=Dt?Dt.isBuffer:void 0,xs=ht(Object.keys,Object),Tr=Dn(X,"DataView"),Gn=Dn(X,"Map"),za=Dn(X,"Promise"),_s=Dn(X,"Set"),Ua=Dn(X,"WeakMap"),Ki=Dn(Object,"create"),$n=Uo(Tr),ur=Uo(Gn),ca=Uo(za),Cr=Uo(_s),Br=Uo(Ua),Es=ct?ct.prototype:void 0,Xi=Es?Es.valueOf:void 0;function ki(oe){var K=-1,J=oe==null?0:oe.length;for(this.clear();++K<J;){var de=oe[K];this.set(de[0],de[1])}}function af(){this.__data__=Ki?Ki(null):{},this.size=0}function lf(oe){var K=this.has(oe)&&delete this.__data__[oe];return this.size-=K?1:0,K}function Il(oe){var K=this.__data__;if(Ki){var J=K[oe];return J===r?void 0:J}return je.call(K,oe)?K[oe]:void 0}function Sd(oe){var K=this.__data__;return Ki?K[oe]!==void 0:je.call(K,oe)}function jo(oe,K){var J=this.__data__;return this.size+=this.has(oe)?0:1,J[oe]=Ki&&K===void 0?r:K,this}ki.prototype.clear=af,ki.prototype.delete=lf,ki.prototype.get=Il,ki.prototype.has=Sd,ki.prototype.set=jo;function fn(oe){var K=-1,J=oe==null?0:oe.length;for(this.clear();++K<J;){var de=oe[K];this.set(de[0],de[1])}}function mo(){this.__data__=[],this.size=0}function ac(oe){var K=this.__data__,J=ie(K,oe);if(J<0)return!1;var de=K.length-1;return J==de?K.pop():In.call(K,J,1),--this.size,!0}function lc(oe){var K=this.__data__,J=ie(K,oe);return J<0?void 0:K[J][1]}function uc(oe){return ie(this.__data__,oe)>-1}function uf(oe,K){var J=this.__data__,de=ie(J,oe);return de<0?(++this.size,J.push([oe,K])):J[de][1]=K,this}fn.prototype.clear=mo,fn.prototype.delete=ac,fn.prototype.get=lc,fn.prototype.has=uc,fn.prototype.set=uf;function Ss(oe){var K=-1,J=oe==null?0:oe.length;for(this.clear();++K<J;){var de=oe[K];this.set(de[0],de[1])}}function em(){this.size=0,this.__data__={hash:new ki,map:new(Gn||fn),string:new ki}}function cc(oe){var K=Hn(this,oe).delete(oe);return this.size-=K?1:0,K}function Ts(oe){return Hn(this,oe).get(oe)}function cf(oe){return Hn(this,oe).has(oe)}function zo(oe,K){var J=Hn(this,oe),de=J.size;return J.set(oe,K),this.size+=J.size==de?0:1,this}Ss.prototype.clear=em,Ss.prototype.delete=cc,Ss.prototype.get=Ts,Ss.prototype.has=cf,Ss.prototype.set=zo;function da(oe){var K=-1,J=oe==null?0:oe.length;for(this.__data__=new Ss;++K<J;)this.add(oe[K])}function Cs(oe){return this.__data__.set(oe,r),this}function dc(oe){return this.__data__.has(oe)}da.prototype.add=da.prototype.push=Cs,da.prototype.has=dc;function Ha(oe){var K=this.__data__=new fn(oe);this.size=K.size}function df(){this.__data__=new fn,this.size=0}function Td(oe){var K=this.__data__,J=K.delete(oe);return this.size=K.size,J}function tm(oe){return this.__data__.get(oe)}function hf(oe){return this.__data__.has(oe)}function Q(oe,K){var J=this.__data__;if(J instanceof fn){var de=J.__data__;if(!Gn||de.length<n-1)return de.push([oe,K]),this.size=++J.size,this;J=this.__data__=new Ss(de)}return J.set(oe,K),this.size=J.size,this}Ha.prototype.clear=df,Ha.prototype.delete=Td,Ha.prototype.get=tm,Ha.prototype.has=hf,Ha.prototype.set=Q;function ce(oe,K){var J=Wa(oe),de=!J&&Ib(oe),at=!J&&!de&&nm(oe),yt=!J&&!de&&!at&&Cd(oe),Yt=J||de||at||yt,an=Yt?$e(oe.length,String):[],Wt=an.length;for(var Jt in oe)je.call(oe,Jt)&&!(Yt&&(Jt=="length"||at&&(Jt=="offset"||Jt=="parent")||yt&&(Jt=="buffer"||Jt=="byteLength"||Jt=="byteOffset")||T0(Jt,Wt)))&&an.push(Jt);return an}function ie(oe,K){for(var J=oe.length;J--;)if(pf(oe[J][0],K))return J;return-1}function me(oe,K,J){var de=K(oe);return Wa(oe)?de:Je(de,J(oe))}function ye(oe){return oe==null?oe===void 0?T:y:Ci&&Ci in Object(oe)?go(oe):As(oe)}function fe(oe){return vu(oe)&&ye(oe)==a}function De(oe,K,J,de,at){return oe===K?!0:oe==null||K==null||!vu(oe)&&!vu(K)?oe!==oe&&K!==K:ze(oe,K,J,de,De,at)}function ze(oe,K,J,de,at,yt){var Yt=Wa(oe),an=Wa(K),Wt=Yt?l:yo(oe),Jt=an?l:yo(K);Wt=Wt==a?v:Wt,Jt=Jt==a?v:Jt;var Ln=Wt==v,yr=Jt==v,Kr=Wt==Jt;if(Kr&&nm(oe)){if(!nm(K))return!1;Yt=!0,Ln=!1}if(Kr&&!Ln)return yt||(yt=new Ha),Yt||Cd(oe)?Ct(oe,K,J,de,at,yt):un(oe,K,Wt,J,de,at,yt);if(!(J&i)){var pi=Ln&&je.call(oe,"__wrapped__"),Qi=yr&&je.call(K,"__wrapped__");if(pi||Qi){var ha=pi?oe.value():oe,qa=Qi?K.value():K;return yt||(yt=new Ha),at(ha,qa,J,de,yt)}}return Kr?(yt||(yt=new Ha),Lt(oe,K,J,de,at,yt)):!1}function Ue(oe){if(!A0(oe)||kb(oe))return!1;var K=Ho(oe)?Gt:B;return K.test(Uo(oe))}function He(oe){return vu(oe)&&Rb(oe.length)&&!!V[ye(oe)]}function nt(oe){if(!Va(oe))return xs(oe);var K=[];for(var J in Object(oe))je.call(oe,J)&&J!="constructor"&&K.push(J);return K}function Ct(oe,K,J,de,at,yt){var Yt=J&i,an=oe.length,Wt=K.length;if(an!=Wt&&!(Yt&&Wt>an))return!1;var Jt=yt.get(oe);if(Jt&&yt.get(K))return Jt==K;var Ln=-1,yr=!0,Kr=J&o?new da:void 0;for(yt.set(oe,K),yt.set(K,oe);++Ln<an;){var pi=oe[Ln],Qi=K[Ln];if(de)var ha=Yt?de(Qi,pi,Ln,K,oe,yt):de(pi,Qi,Ln,oe,K,yt);if(ha!==void 0){if(ha)continue;yr=!1;break}if(Kr){if(!Ae(K,function(qa,kd){if(!lt(Kr,kd)&&(pi===qa||at(pi,qa,J,de,yt)))return Kr.push(kd)})){yr=!1;break}}else if(!(pi===Qi||at(pi,Qi,J,de,yt))){yr=!1;break}}return yt.delete(oe),yt.delete(K),yr}function un(oe,K,J,de,at,yt,Yt){switch(J){case $:if(oe.byteLength!=K.byteLength||oe.byteOffset!=K.byteOffset)return!1;oe=oe.buffer,K=K.buffer;case D:return!(oe.byteLength!=K.byteLength||!yt(new Ft(oe),new Ft(K)));case c:case d:case g:return pf(+oe,+K);case h:return oe.name==K.name&&oe.message==K.message;case x:case E:return oe==K+"";case m:var an=st;case w:var Wt=de&i;if(an||(an=Oe),oe.size!=K.size&&!Wt)return!1;var Jt=Yt.get(oe);if(Jt)return Jt==K;de|=o,Yt.set(oe,K);var Ln=Ct(an(oe),an(K),de,at,yt,Yt);return Yt.delete(oe),Ln;case S:if(Xi)return Xi.call(oe)==Xi.call(K)}return!1}function Lt(oe,K,J,de,at,yt){var Yt=J&i,an=wn(oe),Wt=an.length,Jt=wn(K),Ln=Jt.length;if(Wt!=Ln&&!Yt)return!1;for(var yr=Wt;yr--;){var Kr=an[yr];if(!(Yt?Kr in K:je.call(K,Kr)))return!1}var pi=yt.get(oe);if(pi&&yt.get(K))return pi==K;var Qi=!0;yt.set(oe,K),yt.set(K,oe);for(var ha=Yt;++yr<Wt;){Kr=an[yr];var qa=oe[Kr],kd=K[Kr];if(de)var k0=Yt?de(kd,qa,Kr,K,oe,yt):de(qa,kd,Kr,oe,K,yt);if(!(k0===void 0?qa===kd||at(qa,kd,J,de,yt):k0)){Qi=!1;break}ha||(ha=Kr=="constructor")}if(Qi&&!ha){var Db=oe.constructor,I0=K.constructor;Db!=I0&&"constructor"in oe&&"constructor"in K&&!(typeof Db=="function"&&Db instanceof Db&&typeof I0=="function"&&I0 instanceof I0)&&(Qi=!1)}return yt.delete(oe),yt.delete(K),Qi}function wn(oe){return me(oe,$b,yu)}function Hn(oe,K){var J=oe.__data__;return ff(K)?J[typeof K=="string"?"string":"hash"]:J.map}function Dn(oe,K){var J=gt(oe,K);return Ue(J)?J:void 0}function go(oe){var K=je.call(oe,Ci),J=oe[Ci];try{oe[Ci]=void 0;var de=!0}catch{}var at=jt.call(oe);return de&&(K?oe[Ci]=J:delete oe[Ci]),at}var yu=ii?function(oe){return oe==null?[]:(oe=Object(oe),Ke(ii(oe),function(K){return rr.call(oe,K)}))}:mf,yo=ye;(Tr&&yo(new Tr(new ArrayBuffer(1)))!=$||Gn&&yo(new Gn)!=m||za&&yo(za.resolve())!=b||_s&&yo(new _s)!=w||Ua&&yo(new Ua)!=C)&&(yo=function(oe){var K=ye(oe),J=K==v?oe.constructor:void 0,de=J?Uo(J):"";if(de)switch(de){case $n:return $;case ur:return m;case ca:return b;case Cr:return w;case Br:return C}return K});function T0(oe,K){return K=K??s,!!K&&(typeof oe=="number"||H.test(oe))&&oe>-1&&oe%1==0&&oe<K}function ff(oe){var K=typeof oe;return K=="string"||K=="number"||K=="symbol"||K=="boolean"?oe!=="__proto__":oe===null}function kb(oe){return!!ft&&ft in oe}function Va(oe){var K=oe&&oe.constructor,J=typeof K=="function"&&K.prototype||he;return oe===J}function As(oe){return jt.call(oe)}function Uo(oe){if(oe!=null){try{return Me.call(oe)}catch{}try{return oe+""}catch{}}return""}function pf(oe,K){return oe===K||oe!==oe&&K!==K}var Ib=fe(function(){return arguments}())?fe:function(oe){return vu(oe)&&je.call(oe,"callee")&&!rr.call(oe,"callee")},Wa=Array.isArray;function C0(oe){return oe!=null&&Rb(oe.length)&&!Ho(oe)}var nm=Ai||Ad;function hc(oe,K){return De(oe,K)}function Ho(oe){if(!A0(oe))return!1;var K=ye(oe);return K==f||K==p||K==u||K==_}function Rb(oe){return typeof oe=="number"&&oe>-1&&oe%1==0&&oe<=s}function A0(oe){var K=typeof oe;return oe!=null&&(K=="object"||K=="function")}function vu(oe){return oe!=null&&typeof oe=="object"}var Cd=Ne?Ze(Ne):He;function $b(oe){return C0(oe)?ce(oe):nt(oe)}function mf(){return[]}function Ad(){return!1}e.exports=hc})(q$,q$.exports);var rSe=q$.exports,Bc={};Object.defineProperty(Bc,"__esModule",{value:!0});Bc.getAceInstance=Bc.debounce=Bc.editorEvents=Bc.editorOptions=void 0;var Bdt=["minLines","maxLines","readOnly","highlightActiveLine","tabSize","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets"];Bc.editorOptions=Bdt;var jdt=["onChange","onFocus","onInput","onBlur","onCopy","onPaste","onSelectionChange","onCursorChange","onScroll","handleOptions","updateRef"];Bc.editorEvents=jdt;var zdt=function(){var e;return typeof window>"u"?(vt.window={},e=W$,delete vt.window):window.ace?(e=window.ace,e.acequire=window.ace.require||window.ace.acequire):e=W$,e};Bc.getAceInstance=zdt;var Udt=function(e,t){var n=null;return function(){var r=this,i=arguments;clearTimeout(n),n=setTimeout(function(){e.apply(r,i)},t)}};Bc.debounce=Udt;var Hdt=vt&&vt.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),wj=vt&&vt.__assign||function(){return wj=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},wj.apply(this,arguments)};Object.defineProperty(wG,"__esModule",{value:!0});var Vdt=W$,zt=YP,jse=O,s3=rSe,p1=Bc,zse=(0,p1.getAceInstance)(),Wdt=function(e){Hdt(t,e);function t(n){var r=e.call(this,n)||this;return p1.editorEvents.forEach(function(i){r[i]=r[i].bind(r)}),r.debounce=p1.debounce,r}return t.prototype.isInShadow=function(n){for(var r=n&&n.parentNode;r;){if(r.toString()==="[object ShadowRoot]")return!0;r=r.parentNode}return!1},t.prototype.componentDidMount=function(){var n=this,r=this.props,i=r.className,o=r.onBeforeLoad,s=r.onValidate,a=r.mode,l=r.focus,u=r.theme,c=r.fontSize,d=r.lineHeight,h=r.value,f=r.defaultValue,p=r.showGutter,m=r.wrapEnabled,g=r.showPrintMargin,y=r.scrollMargin,v=y===void 0?[0,0,0,0]:y,b=r.keyboardHandler,_=r.onLoad,x=r.commands,w=r.annotations,E=r.markers,S=r.placeholder;this.editor=zse.edit(this.refEditor),o&&o(zse);for(var T=Object.keys(this.props.editorProps),C=0;C<T.length;C++)this.editor[T[C]]=this.props.editorProps[T[C]];this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),this.editor.renderer.setScrollMargin(v[0],v[1],v[2],v[3]),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.getSession().setMode(typeof a=="string"?"ace/mode/".concat(a):a),u&&u!==""&&this.editor.setTheme("ace/theme/".concat(u)),this.editor.setFontSize(typeof c=="number"?"".concat(c,"px"):c),d&&(this.editor.container.style.lineHeight=typeof d=="number"?"".concat(d,"px"):"".concat(d),this.editor.renderer.updateFontSize()),this.editor.getSession().setValue(f||h||""),this.props.navigateToFileEnd&&this.editor.navigateFileEnd(),this.editor.renderer.setShowGutter(p),this.editor.getSession().setUseWrapMode(m),this.editor.setShowPrintMargin(g),this.editor.on("focus",this.onFocus),this.editor.on("blur",this.onBlur),this.editor.on("copy",this.onCopy),this.editor.on("paste",this.onPaste),this.editor.on("change",this.onChange),this.editor.on("input",this.onInput),S&&this.updatePlaceholder(),this.editor.getSession().selection.on("changeSelection",this.onSelectionChange),this.editor.getSession().selection.on("changeCursor",this.onCursorChange),s&&this.editor.getSession().on("changeAnnotation",function(){var $=n.editor.getSession().getAnnotations();n.props.onValidate($)}),this.editor.session.on("changeScrollTop",this.onScroll),this.editor.getSession().setAnnotations(w||[]),E&&E.length>0&&this.handleMarkers(E);var D=this.editor.$options;p1.editorOptions.forEach(function($){D.hasOwnProperty($)?n.editor.setOption($,n.props[$]):n.props[$]&&console.warn("ReactAce: editor option ".concat($," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}),this.handleOptions(this.props),Array.isArray(x)&&x.forEach(function($){typeof $.exec=="string"?n.editor.commands.bindKey($.bindKey,$.exec):n.editor.commands.addCommand($)}),b&&this.editor.setKeyboardHandler("ace/keyboard/"+b),i&&(this.refEditor.className+=" "+i),_&&_(this.editor),this.editor.resize(),l&&this.editor.focus()},t.prototype.componentDidUpdate=function(n){for(var r=n,i=this.props,o=0;o<p1.editorOptions.length;o++){var s=p1.editorOptions[o];i[s]!==r[s]&&this.editor.setOption(s,i[s])}if(i.className!==r.className){var a=this.refEditor.className,l=a.trim().split(" "),u=r.className.trim().split(" ");u.forEach(function(h){var f=l.indexOf(h);l.splice(f,1)}),this.refEditor.className=" "+i.className+" "+l.join(" ")}var c=this.editor&&i.value!=null&&this.editor.getValue()!==i.value;if(c){this.silent=!0;var d=this.editor.session.selection.toJSON();this.editor.setValue(i.value,i.cursorStart),this.editor.session.selection.fromJSON(d),this.silent=!1}i.placeholder!==r.placeholder&&this.updatePlaceholder(),i.mode!==r.mode&&this.editor.getSession().setMode(typeof i.mode=="string"?"ace/mode/".concat(i.mode):i.mode),i.theme!==r.theme&&this.editor.setTheme("ace/theme/"+i.theme),i.keyboardHandler!==r.keyboardHandler&&(i.keyboardHandler?this.editor.setKeyboardHandler("ace/keyboard/"+i.keyboardHandler):this.editor.setKeyboardHandler(null)),i.fontSize!==r.fontSize&&this.editor.setFontSize(typeof i.fontSize=="number"?"".concat(i.fontSize,"px"):i.fontSize),i.lineHeight!==r.lineHeight&&(this.editor.container.style.lineHeight=typeof i.lineHeight=="number"?"".concat(i.lineHeight,"px"):i.lineHeight,this.editor.renderer.updateFontSize()),i.wrapEnabled!==r.wrapEnabled&&this.editor.getSession().setUseWrapMode(i.wrapEnabled),i.showPrintMargin!==r.showPrintMargin&&this.editor.setShowPrintMargin(i.showPrintMargin),i.showGutter!==r.showGutter&&this.editor.renderer.setShowGutter(i.showGutter),s3(i.setOptions,r.setOptions)||this.handleOptions(i),(c||!s3(i.annotations,r.annotations))&&this.editor.getSession().setAnnotations(i.annotations||[]),!s3(i.markers,r.markers)&&Array.isArray(i.markers)&&this.handleMarkers(i.markers),s3(i.scrollMargin,r.scrollMargin)||this.handleScrollMargins(i.scrollMargin),(n.height!==this.props.height||n.width!==this.props.width)&&this.editor.resize(),this.props.focus&&!n.focus&&this.editor.focus()},t.prototype.handleScrollMargins=function(n){n===void 0&&(n=[0,0,0,0]),this.editor.renderer.setScrollMargin(n[0],n[1],n[2],n[3])},t.prototype.componentWillUnmount=function(){this.editor&&(this.editor.destroy(),this.editor=null)},t.prototype.onChange=function(n){if(this.editor&&this.props.onChange&&!this.silent){var r=this.editor.getValue();this.props.onChange(r,n)}},t.prototype.onSelectionChange=function(n){if(this.props.onSelectionChange){var r=this.editor.getSelection();this.props.onSelectionChange(r,n)}},t.prototype.onCursorChange=function(n){if(this.props.onCursorChange){var r=this.editor.getSelection();this.props.onCursorChange(r,n)}},t.prototype.onInput=function(n){this.props.onInput&&this.props.onInput(n),this.props.placeholder&&this.updatePlaceholder()},t.prototype.onFocus=function(n){this.props.onFocus&&this.props.onFocus(n,this.editor)},t.prototype.onBlur=function(n){this.props.onBlur&&this.props.onBlur(n,this.editor)},t.prototype.onCopy=function(n){var r=n.text;this.props.onCopy&&this.props.onCopy(r)},t.prototype.onPaste=function(n){var r=n.text;this.props.onPaste&&this.props.onPaste(r)},t.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},t.prototype.handleOptions=function(n){for(var r=Object.keys(n.setOptions),i=0;i<r.length;i++)this.editor.setOption(r[i],n.setOptions[r[i]])},t.prototype.handleMarkers=function(n){var r=this,i=this.editor.getSession().getMarkers(!0);for(var o in i)i.hasOwnProperty(o)&&this.editor.getSession().removeMarker(i[o].id);i=this.editor.getSession().getMarkers(!1);for(var o in i)i.hasOwnProperty(o)&&i[o].clazz!=="ace_active-line"&&i[o].clazz!=="ace_selected-word"&&this.editor.getSession().removeMarker(i[o].id);n.forEach(function(s){var a=s.startRow,l=s.startCol,u=s.endRow,c=s.endCol,d=s.className,h=s.type,f=s.inFront,p=f===void 0?!1:f,m=new Vdt.Range(a,l,u,c);r.editor.getSession().addMarker(m,d,h,p)})},t.prototype.updatePlaceholder=function(){var n=this.editor,r=this.props.placeholder,i=!n.session.getValue().length,o=n.renderer.placeholderNode;!i&&o?(n.renderer.scroller.removeChild(n.renderer.placeholderNode),n.renderer.placeholderNode=null):i&&!o?(o=n.renderer.placeholderNode=document.createElement("div"),o.textContent=r||"",o.className="ace_comment ace_placeholder",o.style.padding="0 9px",o.style.position="absolute",o.style.zIndex="3",n.renderer.scroller.appendChild(o)):i&&o&&(o.textContent=r)},t.prototype.updateRef=function(n){this.refEditor=n},t.prototype.render=function(){var n=this.props,r=n.name,i=n.width,o=n.height,s=n.style,a=wj({width:i,height:o},s);return jse.createElement("div",{ref:this.updateRef,id:r,style:a})},t.propTypes={mode:zt.oneOfType([zt.string,zt.object]),focus:zt.bool,theme:zt.string,name:zt.string,className:zt.string,height:zt.string,width:zt.string,fontSize:zt.oneOfType([zt.number,zt.string]),lineHeight:zt.oneOfType([zt.number,zt.string]),showGutter:zt.bool,onChange:zt.func,onCopy:zt.func,onPaste:zt.func,onFocus:zt.func,onInput:zt.func,onBlur:zt.func,onScroll:zt.func,value:zt.string,defaultValue:zt.string,onLoad:zt.func,onSelectionChange:zt.func,onCursorChange:zt.func,onBeforeLoad:zt.func,onValidate:zt.func,minLines:zt.number,maxLines:zt.number,readOnly:zt.bool,highlightActiveLine:zt.bool,tabSize:zt.number,showPrintMargin:zt.bool,cursorStart:zt.number,debounceChangePeriod:zt.number,editorProps:zt.object,setOptions:zt.object,style:zt.object,scrollMargin:zt.array,annotations:zt.array,markers:zt.array,keyboardHandler:zt.string,wrapEnabled:zt.bool,enableSnippets:zt.bool,enableBasicAutocompletion:zt.oneOfType([zt.bool,zt.array]),enableLiveAutocompletion:zt.oneOfType([zt.bool,zt.array]),navigateToFileEnd:zt.bool,commands:zt.array,placeholder:zt.string},t.defaultProps={name:"ace-editor",focus:!1,mode:"",theme:"",height:"500px",width:"500px",fontSize:12,enableSnippets:!1,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,placeholder:null,navigateToFileEnd:!0},t}(jse.Component);wG.default=Wdt;var xG={},DN={},iSe={exports:{}};(function(e,t){ace.define("ace/split",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/editor","ace/virtual_renderer","ace/edit_session"],function(n,r,i){var o=n("./lib/oop");n("./lib/lang");var s=n("./lib/event_emitter").EventEmitter,a=n("./editor").Editor,l=n("./virtual_renderer").VirtualRenderer,u=n("./edit_session").EditSession,c;c=function(d,h,f){this.BELOW=1,this.BESIDE=0,this.$container=d,this.$theme=h,this.$splits=0,this.$editorCSS="",this.$editors=[],this.$orientation=this.BESIDE,this.setSplits(f||1),this.$cEditor=this.$editors[0],this.on("focus",(function(p){this.$cEditor=p}).bind(this))},(function(){o.implement(this,s),this.$createEditor=function(){var d=document.createElement("div");d.className=this.$editorCSS,d.style.cssText="position: absolute; top:0px; bottom:0px",this.$container.appendChild(d);var h=new a(new l(d,this.$theme));return h.on("focus",(function(){this._emit("focus",h)}).bind(this)),this.$editors.push(h),h.setFontSize(this.$fontSize),h},this.setSplits=function(d){var h;if(d<1)throw"The number of splits have to be > 0!";if(d!=this.$splits){if(d>this.$splits){for(;this.$splits<this.$editors.length&&this.$splits<d;)h=this.$editors[this.$splits],this.$container.appendChild(h.container),h.setFontSize(this.$fontSize),this.$splits++;for(;this.$splits<d;)this.$createEditor(),this.$splits++}else for(;this.$splits>d;)h=this.$editors[this.$splits-1],this.$container.removeChild(h.container),this.$splits--;this.resize()}},this.getSplits=function(){return this.$splits},this.getEditor=function(d){return this.$editors[d]},this.getCurrentEditor=function(){return this.$cEditor},this.focus=function(){this.$cEditor.focus()},this.blur=function(){this.$cEditor.blur()},this.setTheme=function(d){this.$editors.forEach(function(h){h.setTheme(d)})},this.setKeyboardHandler=function(d){this.$editors.forEach(function(h){h.setKeyboardHandler(d)})},this.forEach=function(d,h){this.$editors.forEach(d,h)},this.$fontSize="",this.setFontSize=function(d){this.$fontSize=d,this.forEach(function(h){h.setFontSize(d)})},this.$cloneSession=function(d){var h=new u(d.getDocument(),d.getMode()),f=d.getUndoManager();return h.setUndoManager(f),h.setTabSize(d.getTabSize()),h.setUseSoftTabs(d.getUseSoftTabs()),h.setOverwrite(d.getOverwrite()),h.setBreakpoints(d.getBreakpoints()),h.setUseWrapMode(d.getUseWrapMode()),h.setUseWorker(d.getUseWorker()),h.setWrapLimitRange(d.$wrapLimitRange.min,d.$wrapLimitRange.max),h.$foldData=d.$cloneFoldData(),h},this.setSession=function(d,h){var f;h==null?f=this.$cEditor:f=this.$editors[h];var p=this.$editors.some(function(m){return m.session===d});return p&&(d=this.$cloneSession(d)),f.setSession(d),d},this.getOrientation=function(){return this.$orientation},this.setOrientation=function(d){this.$orientation!=d&&(this.$orientation=d,this.resize())},this.resize=function(){var d=this.$container.clientWidth,h=this.$container.clientHeight,f;if(this.$orientation==this.BESIDE)for(var p=d/this.$splits,m=0;m<this.$splits;m++)f=this.$editors[m],f.container.style.width=p+"px",f.container.style.top="0px",f.container.style.left=m*p+"px",f.container.style.height=h+"px",f.resize();else for(var g=h/this.$splits,m=0;m<this.$splits;m++)f=this.$editors[m],f.container.style.width=d+"px",f.container.style.top=m*g+"px",f.container.style.left="0px",f.container.style.height=g+"px",f.resize()}}).call(c.prototype),r.Split=c}),ace.define("ace/ext/split",["require","exports","module","ace/split"],function(n,r,i){i.exports=n("../split")}),function(){ace.require(["ace/ext/split"],function(n){e&&(e.exports=n)})}()})(iSe);var qdt=iSe.exports,Gdt="Expected a function",oSe="__lodash_hash_undefined__",Ydt="[object Function]",Kdt="[object GeneratorFunction]",Xdt="[object Symbol]",Qdt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Jdt=/^\w*$/,Zdt=/^\./,eht=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,tht=/[\\^$.*+?()[\]{}|]/g,nht=/\\(\\)?/g,rht=/^\[object .+?Constructor\]$/,iht=typeof vt=="object"&&vt&&vt.Object===Object&&vt,oht=typeof self=="object"&&self&&self.Object===Object&&self,_G=iht||oht||Function("return this")();function sht(e,t){return e==null?void 0:e[t]}function aht(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}var lht=Array.prototype,uht=Function.prototype,sSe=Object.prototype,e5=_G["__core-js_shared__"],Use=function(){var e=/[^.]+$/.exec(e5&&e5.keys&&e5.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),aSe=uht.toString,EG=sSe.hasOwnProperty,lSe=sSe.toString,cht=RegExp("^"+aSe.call(EG).replace(tht,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Hse=_G.Symbol,dht=lht.splice,hht=uSe(_G,"Map"),CC=uSe(Object,"create"),Vse=Hse?Hse.prototype:void 0,Wse=Vse?Vse.toString:void 0;function rv(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function fht(){this.__data__=CC?CC(null):{}}function pht(e){return this.has(e)&&delete this.__data__[e]}function mht(e){var t=this.__data__;if(CC){var n=t[e];return n===oSe?void 0:n}return EG.call(t,e)?t[e]:void 0}function ght(e){var t=this.__data__;return CC?t[e]!==void 0:EG.call(t,e)}function yht(e,t){var n=this.__data__;return n[e]=CC&&t===void 0?oSe:t,this}rv.prototype.clear=fht;rv.prototype.delete=pht;rv.prototype.get=mht;rv.prototype.has=ght;rv.prototype.set=yht;function y_(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function vht(){this.__data__=[]}function bht(e){var t=this.__data__,n=MN(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():dht.call(t,n,1),!0}function wht(e){var t=this.__data__,n=MN(t,e);return n<0?void 0:t[n][1]}function xht(e){return MN(this.__data__,e)>-1}function _ht(e,t){var n=this.__data__,r=MN(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}y_.prototype.clear=vht;y_.prototype.delete=bht;y_.prototype.get=wht;y_.prototype.has=xht;y_.prototype.set=_ht;function nb(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Eht(){this.__data__={hash:new rv,map:new(hht||y_),string:new rv}}function Sht(e){return PN(this,e).delete(e)}function Tht(e){return PN(this,e).get(e)}function Cht(e){return PN(this,e).has(e)}function Aht(e,t){return PN(this,e).set(e,t),this}nb.prototype.clear=Eht;nb.prototype.delete=Sht;nb.prototype.get=Tht;nb.prototype.has=Cht;nb.prototype.set=Aht;function MN(e,t){for(var n=e.length;n--;)if(Fht(e[n][0],t))return n;return-1}function kht(e,t){t=Dht(t,e)?[t]:$ht(t);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Oht(t[n++])];return n&&n==r?e:void 0}function Iht(e){if(!dSe(e)||Pht(e))return!1;var t=Bht(e)||aht(e)?cht:rht;return t.test(Lht(e))}function Rht(e){if(typeof e=="string")return e;if(TG(e))return Wse?Wse.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function $ht(e){return cSe(e)?e:Nht(e)}function PN(e,t){var n=e.__data__;return Mht(t)?n[typeof t=="string"?"string":"hash"]:n.map}function uSe(e,t){var n=sht(e,t);return Iht(n)?n:void 0}function Dht(e,t){if(cSe(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||TG(e)?!0:Jdt.test(e)||!Qdt.test(e)||t!=null&&e in Object(t)}function Mht(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Pht(e){return!!Use&&Use in e}var Nht=SG(function(e){e=zht(e);var t=[];return Zdt.test(e)&&t.push(""),e.replace(eht,function(n,r,i,o){t.push(i?o.replace(nht,"$1"):r||n)}),t});function Oht(e){if(typeof e=="string"||TG(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function Lht(e){if(e!=null){try{return aSe.call(e)}catch{}try{return e+""}catch{}}return""}function SG(e,t){if(typeof e!="function"||t&&typeof t!="function")throw new TypeError(Gdt);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s),s};return n.cache=new(SG.Cache||nb),n}SG.Cache=nb;function Fht(e,t){return e===t||e!==e&&t!==t}var cSe=Array.isArray;function Bht(e){var t=dSe(e)?lSe.call(e):"";return t==Ydt||t==Kdt}function dSe(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function jht(e){return!!e&&typeof e=="object"}function TG(e){return typeof e=="symbol"||jht(e)&&lSe.call(e)==Xdt}function zht(e){return e==null?"":Rht(e)}function Uht(e,t,n){var r=e==null?void 0:kht(e,t);return r===void 0?n:r}var Hht=Uht,Vht=vt&&vt.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),xj=vt&&vt.__assign||function(){return xj=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},xj.apply(this,arguments)};Object.defineProperty(DN,"__esModule",{value:!0});var Q0=Bc,t5=(0,Q0.getAceInstance)(),Wht=W$,qht=qdt,Zt=YP,qse=O,n5=rSe,gf=Hht,Ght=function(e){Vht(t,e);function t(n){var r=e.call(this,n)||this;return Q0.editorEvents.forEach(function(i){r[i]=r[i].bind(r)}),r.debounce=Q0.debounce,r}return t.prototype.isInShadow=function(n){for(var r=n&&n.parentNode;r;){if(r.toString()==="[object ShadowRoot]")return!0;r=r.parentNode}return!1},t.prototype.componentDidMount=function(){var n=this,r=this.props,i=r.className,o=r.onBeforeLoad,s=r.mode,a=r.focus,l=r.theme,u=r.fontSize,c=r.value,d=r.defaultValue,h=r.cursorStart,f=r.showGutter,p=r.wrapEnabled,m=r.showPrintMargin,g=r.scrollMargin,y=g===void 0?[0,0,0,0]:g,v=r.keyboardHandler,b=r.onLoad,_=r.commands,x=r.annotations,w=r.markers,E=r.splits;this.editor=t5.edit(this.refEditor),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.setTheme("ace/theme/".concat(l)),o&&o(t5);var S=Object.keys(this.props.editorProps),T=new qht.Split(this.editor.container,"ace/theme/".concat(l),E);this.editor.env.split=T,this.splitEditor=T.getEditor(0),this.split=T,this.editor.setShowPrintMargin(!1),this.editor.renderer.setShowGutter(!1);var C=this.splitEditor.$options;this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),T.forEach(function($,I){for(var R=0;R<S.length;R++)$[S[R]]=n.props.editorProps[S[R]];var A=gf(d,I),M=gf(c,I,"");$.session.setUndoManager(new t5.UndoManager),$.setTheme("ace/theme/".concat(l)),$.renderer.setScrollMargin(y[0],y[1],y[2],y[3]),$.getSession().setMode("ace/mode/".concat(s)),$.setFontSize(u),$.renderer.setShowGutter(f),$.getSession().setUseWrapMode(p),$.setShowPrintMargin(m),$.on("focus",n.onFocus),$.on("blur",n.onBlur),$.on("input",n.onInput),$.on("copy",n.onCopy),$.on("paste",n.onPaste),$.on("change",n.onChange),$.getSession().selection.on("changeSelection",n.onSelectionChange),$.getSession().selection.on("changeCursor",n.onCursorChange),$.session.on("changeScrollTop",n.onScroll),$.setValue(A===void 0?M:A,h);var N=gf(x,I,[]),L=gf(w,I,[]);$.getSession().setAnnotations(N),L&&L.length>0&&n.handleMarkers(L,$);for(var R=0;R<Q0.editorOptions.length;R++){var z=Q0.editorOptions[R];C.hasOwnProperty(z)?$.setOption(z,n.props[z]):n.props[z]&&console.warn("ReaceAce: editor option ".concat(z," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}n.handleOptions(n.props,$),Array.isArray(_)&&_.forEach(function(F){typeof F.exec=="string"?$.commands.bindKey(F.bindKey,F.exec):$.commands.addCommand(F)}),v&&$.setKeyboardHandler("ace/keyboard/"+v)}),i&&(this.refEditor.className+=" "+i),a&&this.splitEditor.focus();var D=this.editor.env.split;D.setOrientation(this.props.orientation==="below"?D.BELOW:D.BESIDE),D.resize(!0),b&&b(D)},t.prototype.componentDidUpdate=function(n){var r=this,i=n,o=this.props,s=this.editor.env.split;if(o.splits!==i.splits&&s.setSplits(o.splits),o.orientation!==i.orientation&&s.setOrientation(o.orientation==="below"?s.BELOW:s.BESIDE),s.forEach(function(c,d){o.mode!==i.mode&&c.getSession().setMode("ace/mode/"+o.mode),o.keyboardHandler!==i.keyboardHandler&&(o.keyboardHandler?c.setKeyboardHandler("ace/keyboard/"+o.keyboardHandler):c.setKeyboardHandler(null)),o.fontSize!==i.fontSize&&c.setFontSize(o.fontSize),o.wrapEnabled!==i.wrapEnabled&&c.getSession().setUseWrapMode(o.wrapEnabled),o.showPrintMargin!==i.showPrintMargin&&c.setShowPrintMargin(o.showPrintMargin),o.showGutter!==i.showGutter&&c.renderer.setShowGutter(o.showGutter);for(var h=0;h<Q0.editorOptions.length;h++){var f=Q0.editorOptions[h];o[f]!==i[f]&&c.setOption(f,o[f])}n5(o.setOptions,i.setOptions)||r.handleOptions(o,c);var p=gf(o.value,d,"");if(c.getValue()!==p){r.silent=!0;var m=c.session.selection.toJSON();c.setValue(p,o.cursorStart),c.session.selection.fromJSON(m),r.silent=!1}var g=gf(o.annotations,d,[]),y=gf(i.annotations,d,[]);n5(g,y)||c.getSession().setAnnotations(g);var v=gf(o.markers,d,[]),b=gf(i.markers,d,[]);!n5(v,b)&&Array.isArray(v)&&r.handleMarkers(v,c)}),o.className!==i.className){var a=this.refEditor.className,l=a.trim().split(" "),u=i.className.trim().split(" ");u.forEach(function(c){var d=l.indexOf(c);l.splice(d,1)}),this.refEditor.className=" "+o.className+" "+l.join(" ")}o.theme!==i.theme&&s.setTheme("ace/theme/"+o.theme),o.focus&&!i.focus&&this.splitEditor.focus(),(o.height!==this.props.height||o.width!==this.props.width)&&this.editor.resize()},t.prototype.componentWillUnmount=function(){this.editor.destroy(),this.editor=null},t.prototype.onChange=function(n){if(this.props.onChange&&!this.silent){var r=[];this.editor.env.split.forEach(function(i){r.push(i.getValue())}),this.props.onChange(r,n)}},t.prototype.onSelectionChange=function(n){if(this.props.onSelectionChange){var r=[];this.editor.env.split.forEach(function(i){r.push(i.getSelection())}),this.props.onSelectionChange(r,n)}},t.prototype.onCursorChange=function(n){if(this.props.onCursorChange){var r=[];this.editor.env.split.forEach(function(i){r.push(i.getSelection())}),this.props.onCursorChange(r,n)}},t.prototype.onFocus=function(n){this.props.onFocus&&this.props.onFocus(n)},t.prototype.onInput=function(n){this.props.onInput&&this.props.onInput(n)},t.prototype.onBlur=function(n){this.props.onBlur&&this.props.onBlur(n)},t.prototype.onCopy=function(n){this.props.onCopy&&this.props.onCopy(n)},t.prototype.onPaste=function(n){this.props.onPaste&&this.props.onPaste(n)},t.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},t.prototype.handleOptions=function(n,r){for(var i=Object.keys(n.setOptions),o=0;o<i.length;o++)r.setOption(i[o],n.setOptions[i[o]])},t.prototype.handleMarkers=function(n,r){var i=r.getSession().getMarkers(!0);for(var o in i)i.hasOwnProperty(o)&&r.getSession().removeMarker(i[o].id);i=r.getSession().getMarkers(!1);for(var o in i)i.hasOwnProperty(o)&&r.getSession().removeMarker(i[o].id);n.forEach(function(s){var a=s.startRow,l=s.startCol,u=s.endRow,c=s.endCol,d=s.className,h=s.type,f=s.inFront,p=f===void 0?!1:f,m=new Wht.Range(a,l,u,c);r.getSession().addMarker(m,d,h,p)})},t.prototype.updateRef=function(n){this.refEditor=n},t.prototype.render=function(){var n=this.props,r=n.name,i=n.width,o=n.height,s=n.style,a=xj({width:i,height:o},s);return qse.createElement("div",{ref:this.updateRef,id:r,style:a})},t.propTypes={className:Zt.string,debounceChangePeriod:Zt.number,defaultValue:Zt.arrayOf(Zt.string),focus:Zt.bool,fontSize:Zt.oneOfType([Zt.number,Zt.string]),height:Zt.string,mode:Zt.string,name:Zt.string,onBlur:Zt.func,onChange:Zt.func,onCopy:Zt.func,onFocus:Zt.func,onInput:Zt.func,onLoad:Zt.func,onPaste:Zt.func,onScroll:Zt.func,orientation:Zt.string,showGutter:Zt.bool,splits:Zt.number,theme:Zt.string,value:Zt.arrayOf(Zt.string),width:Zt.string,onSelectionChange:Zt.func,onCursorChange:Zt.func,onBeforeLoad:Zt.func,minLines:Zt.number,maxLines:Zt.number,readOnly:Zt.bool,highlightActiveLine:Zt.bool,tabSize:Zt.number,showPrintMargin:Zt.bool,cursorStart:Zt.number,editorProps:Zt.object,setOptions:Zt.object,style:Zt.object,scrollMargin:Zt.array,annotations:Zt.array,markers:Zt.array,keyboardHandler:Zt.string,wrapEnabled:Zt.bool,enableBasicAutocompletion:Zt.oneOfType([Zt.bool,Zt.array]),enableLiveAutocompletion:Zt.oneOfType([Zt.bool,Zt.array]),commands:Zt.array},t.defaultProps={name:"ace-editor",focus:!1,orientation:"beside",splits:2,mode:"",theme:"",height:"500px",width:"500px",value:[],fontSize:12,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1},t}(qse.Component);DN.default=Ght;var hSe={exports:{}};(function(e){var t=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},n=-1,r=1,i=0;t.Diff=function(o,s){return[o,s]},t.prototype.diff_main=function(o,s,a,l){typeof l>"u"&&(this.Diff_Timeout<=0?l=Number.MAX_VALUE:l=new Date().getTime()+this.Diff_Timeout*1e3);var u=l;if(o==null||s==null)throw new Error("Null input. (diff_main)");if(o==s)return o?[new t.Diff(i,o)]:[];typeof a>"u"&&(a=!0);var c=a,d=this.diff_commonPrefix(o,s),h=o.substring(0,d);o=o.substring(d),s=s.substring(d),d=this.diff_commonSuffix(o,s);var f=o.substring(o.length-d);o=o.substring(0,o.length-d),s=s.substring(0,s.length-d);var p=this.diff_compute_(o,s,c,u);return h&&p.unshift(new t.Diff(i,h)),f&&p.push(new t.Diff(i,f)),this.diff_cleanupMerge(p),p},t.prototype.diff_compute_=function(o,s,a,l){var u;if(!o)return[new t.Diff(r,s)];if(!s)return[new t.Diff(n,o)];var c=o.length>s.length?o:s,d=o.length>s.length?s:o,h=c.indexOf(d);if(h!=-1)return u=[new t.Diff(r,c.substring(0,h)),new t.Diff(i,d),new t.Diff(r,c.substring(h+d.length))],o.length>s.length&&(u[0][0]=u[2][0]=n),u;if(d.length==1)return[new t.Diff(n,o),new t.Diff(r,s)];var f=this.diff_halfMatch_(o,s);if(f){var p=f[0],m=f[1],g=f[2],y=f[3],v=f[4],b=this.diff_main(p,g,a,l),_=this.diff_main(m,y,a,l);return b.concat([new t.Diff(i,v)],_)}return a&&o.length>100&&s.length>100?this.diff_lineMode_(o,s,l):this.diff_bisect_(o,s,l)},t.prototype.diff_lineMode_=function(o,s,a){var l=this.diff_linesToChars_(o,s);o=l.chars1,s=l.chars2;var u=l.lineArray,c=this.diff_main(o,s,!1,a);this.diff_charsToLines_(c,u),this.diff_cleanupSemantic(c),c.push(new t.Diff(i,""));for(var d=0,h=0,f=0,p="",m="";d<c.length;){switch(c[d][0]){case r:f++,m+=c[d][1];break;case n:h++,p+=c[d][1];break;case i:if(h>=1&&f>=1){c.splice(d-h-f,h+f),d=d-h-f;for(var g=this.diff_main(p,m,!1,a),y=g.length-1;y>=0;y--)c.splice(d,0,g[y]);d=d+g.length}f=0,h=0,p="",m="";break}d++}return c.pop(),c},t.prototype.diff_bisect_=function(o,s,a){for(var l=o.length,u=s.length,c=Math.ceil((l+u)/2),d=c,h=2*c,f=new Array(h),p=new Array(h),m=0;m<h;m++)f[m]=-1,p[m]=-1;f[d+1]=0,p[d+1]=0;for(var g=l-u,y=g%2!=0,v=0,b=0,_=0,x=0,w=0;w<c&&!(new Date().getTime()>a);w++){for(var E=-w+v;E<=w-b;E+=2){var S=d+E,T;E==-w||E!=w&&f[S-1]<f[S+1]?T=f[S+1]:T=f[S-1]+1;for(var C=T-E;T<l&&C<u&&o.charAt(T)==s.charAt(C);)T++,C++;if(f[S]=T,T>l)b+=2;else if(C>u)v+=2;else if(y){var D=d+g-E;if(D>=0&&D<h&&p[D]!=-1){var $=l-p[D];if(T>=$)return this.diff_bisectSplit_(o,s,T,C,a)}}}for(var I=-w+_;I<=w-x;I+=2){var D=d+I,$;I==-w||I!=w&&p[D-1]<p[D+1]?$=p[D+1]:$=p[D-1]+1;for(var R=$-I;$<l&&R<u&&o.charAt(l-$-1)==s.charAt(u-R-1);)$++,R++;if(p[D]=$,$>l)x+=2;else if(R>u)_+=2;else if(!y){var S=d+g-I;if(S>=0&&S<h&&f[S]!=-1){var T=f[S],C=d+T-S;if($=l-$,T>=$)return this.diff_bisectSplit_(o,s,T,C,a)}}}}return[new t.Diff(n,o),new t.Diff(r,s)]},t.prototype.diff_bisectSplit_=function(o,s,a,l,u){var c=o.substring(0,a),d=s.substring(0,l),h=o.substring(a),f=s.substring(l),p=this.diff_main(c,d,!1,u),m=this.diff_main(h,f,!1,u);return p.concat(m)},t.prototype.diff_linesToChars_=function(o,s){var a=[],l={};a[0]="";function u(f){for(var p="",m=0,g=-1,y=a.length;g<f.length-1;){g=f.indexOf(`
`,m),g==-1&&(g=f.length-1);var v=f.substring(m,g+1);(l.hasOwnProperty?l.hasOwnProperty(v):l[v]!==void 0)?p+=String.fromCharCode(l[v]):(y==c&&(v=f.substring(m),g=f.length),p+=String.fromCharCode(y),l[v]=y,a[y++]=v),m=g+1}return p}var c=4e4,d=u(o);c=65535;var h=u(s);return{chars1:d,chars2:h,lineArray:a}},t.prototype.diff_charsToLines_=function(o,s){for(var a=0;a<o.length;a++){for(var l=o[a][1],u=[],c=0;c<l.length;c++)u[c]=s[l.charCodeAt(c)];o[a][1]=u.join("")}},t.prototype.diff_commonPrefix=function(o,s){if(!o||!s||o.charAt(0)!=s.charAt(0))return 0;for(var a=0,l=Math.min(o.length,s.length),u=l,c=0;a<u;)o.substring(c,u)==s.substring(c,u)?(a=u,c=a):l=u,u=Math.floor((l-a)/2+a);return u},t.prototype.diff_commonSuffix=function(o,s){if(!o||!s||o.charAt(o.length-1)!=s.charAt(s.length-1))return 0;for(var a=0,l=Math.min(o.length,s.length),u=l,c=0;a<u;)o.substring(o.length-u,o.length-c)==s.substring(s.length-u,s.length-c)?(a=u,c=a):l=u,u=Math.floor((l-a)/2+a);return u},t.prototype.diff_commonOverlap_=function(o,s){var a=o.length,l=s.length;if(a==0||l==0)return 0;a>l?o=o.substring(a-l):a<l&&(s=s.substring(0,a));var u=Math.min(a,l);if(o==s)return u;for(var c=0,d=1;;){var h=o.substring(u-d),f=s.indexOf(h);if(f==-1)return c;d+=f,(f==0||o.substring(u-d)==s.substring(0,d))&&(c=d,d++)}},t.prototype.diff_halfMatch_=function(o,s){if(this.Diff_Timeout<=0)return null;var a=o.length>s.length?o:s,l=o.length>s.length?s:o;if(a.length<4||l.length*2<a.length)return null;var u=this;function c(b,_,x){for(var w=b.substring(x,x+Math.floor(b.length/4)),E=-1,S="",T,C,D,$;(E=_.indexOf(w,E+1))!=-1;){var I=u.diff_commonPrefix(b.substring(x),_.substring(E)),R=u.diff_commonSuffix(b.substring(0,x),_.substring(0,E));S.length<R+I&&(S=_.substring(E-R,E)+_.substring(E,E+I),T=b.substring(0,x-R),C=b.substring(x+I),D=_.substring(0,E-R),$=_.substring(E+I))}return S.length*2>=b.length?[T,C,D,$,S]:null}var d=c(a,l,Math.ceil(a.length/4)),h=c(a,l,Math.ceil(a.length/2)),f;if(!d&&!h)return null;h?d?f=d[4].length>h[4].length?d:h:f=h:f=d;var p,m,g,y;o.length>s.length?(p=f[0],m=f[1],g=f[2],y=f[3]):(g=f[0],y=f[1],p=f[2],m=f[3]);var v=f[4];return[p,m,g,y,v]},t.prototype.diff_cleanupSemantic=function(o){for(var s=!1,a=[],l=0,u=null,c=0,d=0,h=0,f=0,p=0;c<o.length;)o[c][0]==i?(a[l++]=c,d=f,h=p,f=0,p=0,u=o[c][1]):(o[c][0]==r?f+=o[c][1].length:p+=o[c][1].length,u&&u.length<=Math.max(d,h)&&u.length<=Math.max(f,p)&&(o.splice(a[l-1],0,new t.Diff(n,u)),o[a[l-1]+1][0]=r,l--,l--,c=l>0?a[l-1]:-1,d=0,h=0,f=0,p=0,u=null,s=!0)),c++;for(s&&this.diff_cleanupMerge(o),this.diff_cleanupSemanticLossless(o),c=1;c<o.length;){if(o[c-1][0]==n&&o[c][0]==r){var m=o[c-1][1],g=o[c][1],y=this.diff_commonOverlap_(m,g),v=this.diff_commonOverlap_(g,m);y>=v?(y>=m.length/2||y>=g.length/2)&&(o.splice(c,0,new t.Diff(i,g.substring(0,y))),o[c-1][1]=m.substring(0,m.length-y),o[c+1][1]=g.substring(y),c++):(v>=m.length/2||v>=g.length/2)&&(o.splice(c,0,new t.Diff(i,m.substring(0,v))),o[c-1][0]=r,o[c-1][1]=g.substring(0,g.length-v),o[c+1][0]=n,o[c+1][1]=m.substring(v),c++),c++}c++}},t.prototype.diff_cleanupSemanticLossless=function(o){function s(v,b){if(!v||!b)return 6;var _=v.charAt(v.length-1),x=b.charAt(0),w=_.match(t.nonAlphaNumericRegex_),E=x.match(t.nonAlphaNumericRegex_),S=w&&_.match(t.whitespaceRegex_),T=E&&x.match(t.whitespaceRegex_),C=S&&_.match(t.linebreakRegex_),D=T&&x.match(t.linebreakRegex_),$=C&&v.match(t.blanklineEndRegex_),I=D&&b.match(t.blanklineStartRegex_);return $||I?5:C||D?4:w&&!S&&T?3:S||T?2:w||E?1:0}for(var a=1;a<o.length-1;){if(o[a-1][0]==i&&o[a+1][0]==i){var l=o[a-1][1],u=o[a][1],c=o[a+1][1],d=this.diff_commonSuffix(l,u);if(d){var h=u.substring(u.length-d);l=l.substring(0,l.length-d),u=h+u.substring(0,u.length-d),c=h+c}for(var f=l,p=u,m=c,g=s(l,u)+s(u,c);u.charAt(0)===c.charAt(0);){l+=u.charAt(0),u=u.substring(1)+c.charAt(0),c=c.substring(1);var y=s(l,u)+s(u,c);y>=g&&(g=y,f=l,p=u,m=c)}o[a-1][1]!=f&&(f?o[a-1][1]=f:(o.splice(a-1,1),a--),o[a][1]=p,m?o[a+1][1]=m:(o.splice(a+1,1),a--))}a++}},t.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,t.whitespaceRegex_=/\s/,t.linebreakRegex_=/[\r\n]/,t.blanklineEndRegex_=/\n\r?\n$/,t.blanklineStartRegex_=/^\r?\n\r?\n/,t.prototype.diff_cleanupEfficiency=function(o){for(var s=!1,a=[],l=0,u=null,c=0,d=!1,h=!1,f=!1,p=!1;c<o.length;)o[c][0]==i?(o[c][1].length<this.Diff_EditCost&&(f||p)?(a[l++]=c,d=f,h=p,u=o[c][1]):(l=0,u=null),f=p=!1):(o[c][0]==n?p=!0:f=!0,u&&(d&&h&&f&&p||u.length<this.Diff_EditCost/2&&d+h+f+p==3)&&(o.splice(a[l-1],0,new t.Diff(n,u)),o[a[l-1]+1][0]=r,l--,u=null,d&&h?(f=p=!0,l=0):(l--,c=l>0?a[l-1]:-1,f=p=!1),s=!0)),c++;s&&this.diff_cleanupMerge(o)},t.prototype.diff_cleanupMerge=function(o){o.push(new t.Diff(i,""));for(var s=0,a=0,l=0,u="",c="",d;s<o.length;)switch(o[s][0]){case r:l++,c+=o[s][1],s++;break;case n:a++,u+=o[s][1],s++;break;case i:a+l>1?(a!==0&&l!==0&&(d=this.diff_commonPrefix(c,u),d!==0&&(s-a-l>0&&o[s-a-l-1][0]==i?o[s-a-l-1][1]+=c.substring(0,d):(o.splice(0,0,new t.Diff(i,c.substring(0,d))),s++),c=c.substring(d),u=u.substring(d)),d=this.diff_commonSuffix(c,u),d!==0&&(o[s][1]=c.substring(c.length-d)+o[s][1],c=c.substring(0,c.length-d),u=u.substring(0,u.length-d))),s-=a+l,o.splice(s,a+l),u.length&&(o.splice(s,0,new t.Diff(n,u)),s++),c.length&&(o.splice(s,0,new t.Diff(r,c)),s++),s++):s!==0&&o[s-1][0]==i?(o[s-1][1]+=o[s][1],o.splice(s,1)):s++,l=0,a=0,u="",c="";break}o[o.length-1][1]===""&&o.pop();var h=!1;for(s=1;s<o.length-1;)o[s-1][0]==i&&o[s+1][0]==i&&(o[s][1].substring(o[s][1].length-o[s-1][1].length)==o[s-1][1]?(o[s][1]=o[s-1][1]+o[s][1].substring(0,o[s][1].length-o[s-1][1].length),o[s+1][1]=o[s-1][1]+o[s+1][1],o.splice(s-1,1),h=!0):o[s][1].substring(0,o[s+1][1].length)==o[s+1][1]&&(o[s-1][1]+=o[s+1][1],o[s][1]=o[s][1].substring(o[s+1][1].length)+o[s+1][1],o.splice(s+1,1),h=!0)),s++;h&&this.diff_cleanupMerge(o)},t.prototype.diff_xIndex=function(o,s){var a=0,l=0,u=0,c=0,d;for(d=0;d<o.length&&(o[d][0]!==r&&(a+=o[d][1].length),o[d][0]!==n&&(l+=o[d][1].length),!(a>s));d++)u=a,c=l;return o.length!=d&&o[d][0]===n?c:c+(s-u)},t.prototype.diff_prettyHtml=function(o){for(var s=[],a=/&/g,l=/</g,u=/>/g,c=/\n/g,d=0;d<o.length;d++){var h=o[d][0],f=o[d][1],p=f.replace(a,"&amp;").replace(l,"&lt;").replace(u,"&gt;").replace(c,"&para;<br>");switch(h){case r:s[d]='<ins style="background:#e6ffe6;">'+p+"</ins>";break;case n:s[d]='<del style="background:#ffe6e6;">'+p+"</del>";break;case i:s[d]="<span>"+p+"</span>";break}}return s.join("")},t.prototype.diff_text1=function(o){for(var s=[],a=0;a<o.length;a++)o[a][0]!==r&&(s[a]=o[a][1]);return s.join("")},t.prototype.diff_text2=function(o){for(var s=[],a=0;a<o.length;a++)o[a][0]!==n&&(s[a]=o[a][1]);return s.join("")},t.prototype.diff_levenshtein=function(o){for(var s=0,a=0,l=0,u=0;u<o.length;u++){var c=o[u][0],d=o[u][1];switch(c){case r:a+=d.length;break;case n:l+=d.length;break;case i:s+=Math.max(a,l),a=0,l=0;break}}return s+=Math.max(a,l),s},t.prototype.diff_toDelta=function(o){for(var s=[],a=0;a<o.length;a++)switch(o[a][0]){case r:s[a]="+"+encodeURI(o[a][1]);break;case n:s[a]="-"+o[a][1].length;break;case i:s[a]="="+o[a][1].length;break}return s.join("	").replace(/%20/g," ")},t.prototype.diff_fromDelta=function(o,s){for(var a=[],l=0,u=0,c=s.split(/\t/g),d=0;d<c.length;d++){var h=c[d].substring(1);switch(c[d].charAt(0)){case"+":try{a[l++]=new t.Diff(r,decodeURI(h))}catch{throw new Error("Illegal escape in diff_fromDelta: "+h)}break;case"-":case"=":var f=parseInt(h,10);if(isNaN(f)||f<0)throw new Error("Invalid number in diff_fromDelta: "+h);var p=o.substring(u,u+=f);c[d].charAt(0)=="="?a[l++]=new t.Diff(i,p):a[l++]=new t.Diff(n,p);break;default:if(c[d])throw new Error("Invalid diff operation in diff_fromDelta: "+c[d])}}if(u!=o.length)throw new Error("Delta length ("+u+") does not equal source text length ("+o.length+").");return a},t.prototype.match_main=function(o,s,a){if(o==null||s==null||a==null)throw new Error("Null input. (match_main)");return a=Math.max(0,Math.min(a,o.length)),o==s?0:o.length?o.substring(a,a+s.length)==s?a:this.match_bitap_(o,s,a):-1},t.prototype.match_bitap_=function(o,s,a){if(s.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var l=this.match_alphabet_(s),u=this;function c(T,C){var D=T/s.length,$=Math.abs(a-C);return u.Match_Distance?D+$/u.Match_Distance:$?1:D}var d=this.Match_Threshold,h=o.indexOf(s,a);h!=-1&&(d=Math.min(c(0,h),d),h=o.lastIndexOf(s,a+s.length),h!=-1&&(d=Math.min(c(0,h),d)));var f=1<<s.length-1;h=-1;for(var p,m,g=s.length+o.length,y,v=0;v<s.length;v++){for(p=0,m=g;p<m;)c(v,a+m)<=d?p=m:g=m,m=Math.floor((g-p)/2+p);g=m;var b=Math.max(1,a-m+1),_=Math.min(a+m,o.length)+s.length,x=Array(_+2);x[_+1]=(1<<v)-1;for(var w=_;w>=b;w--){var E=l[o.charAt(w-1)];if(v===0?x[w]=(x[w+1]<<1|1)&E:x[w]=(x[w+1]<<1|1)&E|((y[w+1]|y[w])<<1|1)|y[w+1],x[w]&f){var S=c(v,w-1);if(S<=d)if(d=S,h=w-1,h>a)b=Math.max(1,2*a-h);else break}}if(c(v+1,a)>d)break;y=x}return h},t.prototype.match_alphabet_=function(o){for(var s={},a=0;a<o.length;a++)s[o.charAt(a)]=0;for(var a=0;a<o.length;a++)s[o.charAt(a)]|=1<<o.length-a-1;return s},t.prototype.patch_addContext_=function(o,s){if(s.length!=0){if(o.start2===null)throw Error("patch not initialized");for(var a=s.substring(o.start2,o.start2+o.length1),l=0;s.indexOf(a)!=s.lastIndexOf(a)&&a.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)l+=this.Patch_Margin,a=s.substring(o.start2-l,o.start2+o.length1+l);l+=this.Patch_Margin;var u=s.substring(o.start2-l,o.start2);u&&o.diffs.unshift(new t.Diff(i,u));var c=s.substring(o.start2+o.length1,o.start2+o.length1+l);c&&o.diffs.push(new t.Diff(i,c)),o.start1-=u.length,o.start2-=u.length,o.length1+=u.length+c.length,o.length2+=u.length+c.length}},t.prototype.patch_make=function(o,s,a){var l,u;if(typeof o=="string"&&typeof s=="string"&&typeof a>"u")l=o,u=this.diff_main(l,s,!0),u.length>2&&(this.diff_cleanupSemantic(u),this.diff_cleanupEfficiency(u));else if(o&&typeof o=="object"&&typeof s>"u"&&typeof a>"u")u=o,l=this.diff_text1(u);else if(typeof o=="string"&&s&&typeof s=="object"&&typeof a>"u")l=o,u=s;else if(typeof o=="string"&&typeof s=="string"&&a&&typeof a=="object")l=o,u=a;else throw new Error("Unknown call format to patch_make.");if(u.length===0)return[];for(var c=[],d=new t.patch_obj,h=0,f=0,p=0,m=l,g=l,y=0;y<u.length;y++){var v=u[y][0],b=u[y][1];switch(!h&&v!==i&&(d.start1=f,d.start2=p),v){case r:d.diffs[h++]=u[y],d.length2+=b.length,g=g.substring(0,p)+b+g.substring(p);break;case n:d.length1+=b.length,d.diffs[h++]=u[y],g=g.substring(0,p)+g.substring(p+b.length);break;case i:b.length<=2*this.Patch_Margin&&h&&u.length!=y+1?(d.diffs[h++]=u[y],d.length1+=b.length,d.length2+=b.length):b.length>=2*this.Patch_Margin&&h&&(this.patch_addContext_(d,m),c.push(d),d=new t.patch_obj,h=0,m=g,f=p);break}v!==r&&(f+=b.length),v!==n&&(p+=b.length)}return h&&(this.patch_addContext_(d,m),c.push(d)),c},t.prototype.patch_deepCopy=function(o){for(var s=[],a=0;a<o.length;a++){var l=o[a],u=new t.patch_obj;u.diffs=[];for(var c=0;c<l.diffs.length;c++)u.diffs[c]=new t.Diff(l.diffs[c][0],l.diffs[c][1]);u.start1=l.start1,u.start2=l.start2,u.length1=l.length1,u.length2=l.length2,s[a]=u}return s},t.prototype.patch_apply=function(o,s){if(o.length==0)return[s,[]];o=this.patch_deepCopy(o);var a=this.patch_addPadding(o);s=a+s+a,this.patch_splitMax(o);for(var l=0,u=[],c=0;c<o.length;c++){var d=o[c].start2+l,h=this.diff_text1(o[c].diffs),f,p=-1;if(h.length>this.Match_MaxBits?(f=this.match_main(s,h.substring(0,this.Match_MaxBits),d),f!=-1&&(p=this.match_main(s,h.substring(h.length-this.Match_MaxBits),d+h.length-this.Match_MaxBits),(p==-1||f>=p)&&(f=-1))):f=this.match_main(s,h,d),f==-1)u[c]=!1,l-=o[c].length2-o[c].length1;else{u[c]=!0,l=f-d;var m;if(p==-1?m=s.substring(f,f+h.length):m=s.substring(f,p+this.Match_MaxBits),h==m)s=s.substring(0,f)+this.diff_text2(o[c].diffs)+s.substring(f+h.length);else{var g=this.diff_main(h,m,!1);if(h.length>this.Match_MaxBits&&this.diff_levenshtein(g)/h.length>this.Patch_DeleteThreshold)u[c]=!1;else{this.diff_cleanupSemanticLossless(g);for(var y=0,v,b=0;b<o[c].diffs.length;b++){var _=o[c].diffs[b];_[0]!==i&&(v=this.diff_xIndex(g,y)),_[0]===r?s=s.substring(0,f+v)+_[1]+s.substring(f+v):_[0]===n&&(s=s.substring(0,f+v)+s.substring(f+this.diff_xIndex(g,y+_[1].length))),_[0]!==n&&(y+=_[1].length)}}}}}return s=s.substring(a.length,s.length-a.length),[s,u]},t.prototype.patch_addPadding=function(o){for(var s=this.Patch_Margin,a="",l=1;l<=s;l++)a+=String.fromCharCode(l);for(var l=0;l<o.length;l++)o[l].start1+=s,o[l].start2+=s;var u=o[0],c=u.diffs;if(c.length==0||c[0][0]!=i)c.unshift(new t.Diff(i,a)),u.start1-=s,u.start2-=s,u.length1+=s,u.length2+=s;else if(s>c[0][1].length){var d=s-c[0][1].length;c[0][1]=a.substring(c[0][1].length)+c[0][1],u.start1-=d,u.start2-=d,u.length1+=d,u.length2+=d}if(u=o[o.length-1],c=u.diffs,c.length==0||c[c.length-1][0]!=i)c.push(new t.Diff(i,a)),u.length1+=s,u.length2+=s;else if(s>c[c.length-1][1].length){var d=s-c[c.length-1][1].length;c[c.length-1][1]+=a.substring(0,d),u.length1+=d,u.length2+=d}return a},t.prototype.patch_splitMax=function(o){for(var s=this.Match_MaxBits,a=0;a<o.length;a++)if(!(o[a].length1<=s)){var l=o[a];o.splice(a--,1);for(var u=l.start1,c=l.start2,d="";l.diffs.length!==0;){var h=new t.patch_obj,f=!0;for(h.start1=u-d.length,h.start2=c-d.length,d!==""&&(h.length1=h.length2=d.length,h.diffs.push(new t.Diff(i,d)));l.diffs.length!==0&&h.length1<s-this.Patch_Margin;){var p=l.diffs[0][0],m=l.diffs[0][1];p===r?(h.length2+=m.length,c+=m.length,h.diffs.push(l.diffs.shift()),f=!1):p===n&&h.diffs.length==1&&h.diffs[0][0]==i&&m.length>2*s?(h.length1+=m.length,u+=m.length,f=!1,h.diffs.push(new t.Diff(p,m)),l.diffs.shift()):(m=m.substring(0,s-h.length1-this.Patch_Margin),h.length1+=m.length,u+=m.length,p===i?(h.length2+=m.length,c+=m.length):f=!1,h.diffs.push(new t.Diff(p,m)),m==l.diffs[0][1]?l.diffs.shift():l.diffs[0][1]=l.diffs[0][1].substring(m.length))}d=this.diff_text2(h.diffs),d=d.substring(d.length-this.Patch_Margin);var g=this.diff_text1(l.diffs).substring(0,this.Patch_Margin);g!==""&&(h.length1+=g.length,h.length2+=g.length,h.diffs.length!==0&&h.diffs[h.diffs.length-1][0]===i?h.diffs[h.diffs.length-1][1]+=g:h.diffs.push(new t.Diff(i,g))),f||o.splice(++a,0,h)}}},t.prototype.patch_toText=function(o){for(var s=[],a=0;a<o.length;a++)s[a]=o[a];return s.join("")},t.prototype.patch_fromText=function(o){var s=[];if(!o)return s;for(var a=o.split(`
`),l=0,u=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;l<a.length;){var c=a[l].match(u);if(!c)throw new Error("Invalid patch string: "+a[l]);var d=new t.patch_obj;for(s.push(d),d.start1=parseInt(c[1],10),c[2]===""?(d.start1--,d.length1=1):c[2]=="0"?d.length1=0:(d.start1--,d.length1=parseInt(c[2],10)),d.start2=parseInt(c[3],10),c[4]===""?(d.start2--,d.length2=1):c[4]=="0"?d.length2=0:(d.start2--,d.length2=parseInt(c[4],10)),l++;l<a.length;){var h=a[l].charAt(0);try{var f=decodeURI(a[l].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+f)}if(h=="-")d.diffs.push(new t.Diff(n,f));else if(h=="+")d.diffs.push(new t.Diff(r,f));else if(h==" ")d.diffs.push(new t.Diff(i,f));else{if(h=="@")break;if(h!=="")throw new Error('Invalid patch mode "'+h+'" in: '+f)}l++}}return s},t.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},t.patch_obj.prototype.toString=function(){var o,s;this.length1===0?o=this.start1+",0":this.length1==1?o=this.start1+1:o=this.start1+1+","+this.length1,this.length2===0?s=this.start2+",0":this.length2==1?s=this.start2+1:s=this.start2+1+","+this.length2;for(var a=["@@ -"+o+" +"+s+` @@
`],l,u=0;u<this.diffs.length;u++){switch(this.diffs[u][0]){case r:l="+";break;case n:l="-";break;case i:l=" ";break}a[u+1]=l+encodeURI(this.diffs[u][1])+`
`}return a.join("").replace(/%20/g," ")},e.exports=t,e.exports.diff_match_patch=t,e.exports.DIFF_DELETE=n,e.exports.DIFF_INSERT=r,e.exports.DIFF_EQUAL=i})(hSe);var Yht=hSe.exports,Kht=vt&&vt.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(xG,"__esModule",{value:!0});var or=YP,Gse=O,Xht=DN,Qht=Yht,Jht=function(e){Kht(t,e);function t(n){var r=e.call(this,n)||this;return r.state={value:r.props.value},r.onChange=r.onChange.bind(r),r.diff=r.diff.bind(r),r}return t.prototype.componentDidUpdate=function(){var n=this.props.value;n!==this.state.value&&this.setState({value:n})},t.prototype.onChange=function(n){this.setState({value:n}),this.props.onChange&&this.props.onChange(n)},t.prototype.diff=function(){var n=new Qht,r=this.state.value[0],i=this.state.value[1];if(r.length===0&&i.length===0)return[];var o=n.diff_main(r,i);n.diff_cleanupSemantic(o);var s=this.generateDiffedLines(o),a=this.setCodeMarkers(s);return a},t.prototype.generateDiffedLines=function(n){var r={DIFF_EQUAL:0,DIFF_DELETE:-1,DIFF_INSERT:1},i={left:[],right:[]},o={left:1,right:1};return n.forEach(function(s){var a=s[0],l=s[1],u=l.split(`
`).length-1;if(l.length!==0){var c=l[0],d=l[l.length-1],h=0;switch(a){case r.DIFF_EQUAL:o.left+=u,o.right+=u;break;case r.DIFF_DELETE:c===`
`&&(o.left++,u--),h=u,h===0&&i.right.push({startLine:o.right,endLine:o.right}),d===`
`&&(h-=1),i.left.push({startLine:o.left,endLine:o.left+h}),o.left+=u;break;case r.DIFF_INSERT:c===`
`&&(o.right++,u--),h=u,h===0&&i.left.push({startLine:o.left,endLine:o.left}),d===`
`&&(h-=1),i.right.push({startLine:o.right,endLine:o.right+h}),o.right+=u;break;default:throw new Error("Diff type was not defined.")}}}),i},t.prototype.setCodeMarkers=function(n){n===void 0&&(n={left:[],right:[]});for(var r=[],i={left:[],right:[]},o=0;o<n.left.length;o++){var s={startRow:n.left[o].startLine-1,endRow:n.left[o].endLine,type:"text",className:"codeMarker"};i.left.push(s)}for(var o=0;o<n.right.length;o++){var s={startRow:n.right[o].startLine-1,endRow:n.right[o].endLine,type:"text",className:"codeMarker"};i.right.push(s)}return r[0]=i.left,r[1]=i.right,r},t.prototype.render=function(){var n=this.diff();return Gse.createElement(Xht.default,{name:this.props.name,className:this.props.className,focus:this.props.focus,orientation:this.props.orientation,splits:this.props.splits,mode:this.props.mode,theme:this.props.theme,height:this.props.height,width:this.props.width,fontSize:this.props.fontSize,showGutter:this.props.showGutter,onChange:this.onChange,onPaste:this.props.onPaste,onLoad:this.props.onLoad,onScroll:this.props.onScroll,minLines:this.props.minLines,maxLines:this.props.maxLines,readOnly:this.props.readOnly,highlightActiveLine:this.props.highlightActiveLine,showPrintMargin:this.props.showPrintMargin,tabSize:this.props.tabSize,cursorStart:this.props.cursorStart,editorProps:this.props.editorProps,style:this.props.style,scrollMargin:this.props.scrollMargin,setOptions:this.props.setOptions,wrapEnabled:this.props.wrapEnabled,enableBasicAutocompletion:this.props.enableBasicAutocompletion,enableLiveAutocompletion:this.props.enableLiveAutocompletion,value:this.state.value,markers:n})},t.propTypes={cursorStart:or.number,editorProps:or.object,enableBasicAutocompletion:or.bool,enableLiveAutocompletion:or.bool,focus:or.bool,fontSize:or.number,height:or.string,highlightActiveLine:or.bool,maxLines:or.number,minLines:or.number,mode:or.string,name:or.string,className:or.string,onLoad:or.func,onPaste:or.func,onScroll:or.func,onChange:or.func,orientation:or.string,readOnly:or.bool,scrollMargin:or.array,setOptions:or.object,showGutter:or.bool,showPrintMargin:or.bool,splits:or.number,style:or.object,tabSize:or.number,theme:or.string,value:or.array,width:or.string,wrapEnabled:or.bool},t.defaultProps={cursorStart:1,editorProps:{},enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,focus:!1,fontSize:12,height:"500px",highlightActiveLine:!0,maxLines:null,minLines:null,mode:"",name:"ace-editor",onLoad:null,onScroll:null,onPaste:null,onChange:null,orientation:"beside",readOnly:!1,scrollMargin:[0,0,0,0],setOptions:{},showGutter:!0,showPrintMargin:!0,splits:2,style:{},tabSize:4,theme:"github",value:["",""],width:"500px",wrapEnabled:!0},t}(Gse.Component);xG.default=Jht;Object.defineProperty(Hw,"__esModule",{value:!0});Hw.diff=Hw.split=void 0;var Zht=wG,eft=xG;Hw.diff=eft.default;var tft=DN;Hw.split=tft.default;var CG=Hw.default=Zht.default,fSe={exports:{}};(function(e,t){ace.define("ace/theme/github-css",["require","exports","module"],function(n,r,i){i.exports=`/* CSS style content from github's default pygments highlighter template.
   Cursor and selection styles from textmate.css. */
.ace-github .ace_gutter {
  background: #e8e8e8;
  color: #AAA;
}

.ace-github  {
  background: #fff;
  color: #000;
}

.ace-github .ace_keyword {
  font-weight: bold;
}

.ace-github .ace_string {
  color: #D14;
}

.ace-github .ace_variable.ace_class {
  color: teal;
}

.ace-github .ace_constant.ace_numeric {
  color: #099;
}

.ace-github .ace_constant.ace_buildin {
  color: #0086B3;
}

.ace-github .ace_support.ace_function {
  color: #0086B3;
}

.ace-github .ace_comment {
  color: #998;
  font-style: italic;
}

.ace-github .ace_variable.ace_language  {
  color: #0086B3;
}

.ace-github .ace_paren {
  font-weight: bold;
}

.ace-github .ace_boolean {
  font-weight: bold;
}

.ace-github .ace_string.ace_regexp {
  color: #009926;
  font-weight: normal;
}

.ace-github .ace_variable.ace_instance {
  color: teal;
}

.ace-github .ace_constant.ace_language {
  font-weight: bold;
}

.ace-github .ace_cursor {
  color: black;
}

.ace-github.ace_focus .ace_marker-layer .ace_active-line {
  background: rgb(255, 255, 204);
}
.ace-github .ace_marker-layer .ace_active-line {
  background: rgb(245, 245, 245);
}

.ace-github .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}

.ace-github.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
/* bold keywords cause cursor issues for some fonts */
/* this disables bold style for editor and keeps for static highlighter */
.ace-github.ace_nobold .ace_line > span {
    font-weight: normal !important;
}

.ace-github .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-github .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-github .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-github .ace_gutter-active-line {
    background-color : rgba(0, 0, 0, 0.07);
}

.ace-github .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-github .ace_invisible {
  color: #BFBFBF
}

.ace-github .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-github .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-github .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/github",["require","exports","module","ace/theme/github-css","ace/lib/dom"],function(n,r,i){r.isDark=!1,r.cssClass="ace-github",r.cssText=n("./github-css");var o=n("../lib/dom");o.importCssString(r.cssText,r.cssClass,!1)}),function(){ace.require(["ace/theme/github"],function(n){e&&(e.exports=n)})}()})(fSe);var nft=fSe.exports;const AG=hu(nft);var pSe={exports:{}};(function(e,t){ace.define("ace/theme/github_dark-css",["require","exports","module"],function(n,r,i){i.exports=`.ace-github-dark .ace_gutter {
  background: #24292e;
  color: #7388b5
}

.ace-github-dark .ace_print-margin {
  width: 1px;
  background: #00204b
}

.ace-github-dark {
  background-color: #24292e;
  color: #FFFFFF
}

.ace-github-dark .ace_constant.ace_other,
.ace-github-dark .ace_cursor {
  color: #FFFFFF
}

.ace-github-dark .ace_marker-layer .ace_selection {
  background: #003F8E
}

.ace-github-dark.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px #24292e;
}

.ace-github-dark .ace_marker-layer .ace_step {
  background: rgb(127, 111, 19)
}

.ace-github-dark .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid #404F7D
}

.ace-github-dark .ace_marker-layer .ace_active-line {
  background: #00346E
}

.ace-github-dark .ace_gutter-active-line {
  background-color: #24292e
}

.ace-github-dark .ace_marker-layer .ace_selected-word {
  border: 1px solid #003F8E
}

.ace-github-dark .ace_invisible {
  color: #404F7D
}

.ace-github-dark .ace_keyword,
.ace-github-dark .ace_meta,
.ace-github-dark .ace_storage,
.ace-github-dark .ace_storage.ace_type,
.ace-github-dark .ace_support.ace_type {
  color: #ff7b72
}

.ace-github-dark .ace_keyword.ace_operator {
  color: #79c0ff
}

.ace-github-dark .ace_constant.ace_character,
.ace-github-dark .ace_constant.ace_language,
.ace-github-dark .ace_constant.ace_numeric,
.ace-github-dark .ace_keyword.ace_other.ace_unit,
.ace-github-dark .ace_support.ace_constant,
.ace-github-dark .ace_variable.ace_parameter {
  color: #FFC58F
}

.ace-github-dark .ace_invalid {
  color: #FFFFFF;
  background-color: #F99DA5
}

.ace-github-dark .ace_invalid.ace_deprecated {
  color: #FFFFFF;
  background-color: #ff7b72
}

.ace-github-dark .ace_fold {
  background-color: #BBDAFF;
  border-color: #FFFFFF
}

.ace-github-dark .ace_entity.ace_name.ace_function,
.ace-github-dark .ace_support.ace_function,
.ace-github-dark .ace_variable {
  color: #BBDAFF
}

.ace-github-dark .ace_support.ace_class,
.ace-github-dark .ace_support.ace_type {
  color: #FFEEAD
}

.ace-github-dark .ace_heading,
.ace-github-dark .ace_markup.ace_heading,
.ace-github-dark .ace_string {
  color: #9fcef6
}

.ace-github-dark .ace_entity.ace_name.ace_tag,
.ace-github-dark .ace_entity.ace_other.ace_attribute-name,
.ace-github-dark .ace_meta.ace_tag,
.ace-github-dark .ace_string.ace_regexp,
.ace-github-dark .ace_variable {
  color: #FF9DA4
}

.ace-github-dark .ace_comment {
  color: #7285B7
}

.ace-github-dark .ace_indent-guide {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWNgYGBgYJDzqfwPAANXAeNsiA+ZAAAAAElFTkSuQmCC) right repeat-y
}

.ace-github-dark .ace_indent-guide-active {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQIW2PQ1dX9zzBz5sz/ABCcBFFentLlAAAAAElFTkSuQmCC) right repeat-y;
}

.ace-github-dark .ace_constant.ace_buildin {
  color: #0086B3;
}

.ace-github-dark .ace_variable.ace_language {
  color: #ffffff;
}
  `}),ace.define("ace/theme/github_dark",["require","exports","module","ace/theme/github_dark-css","ace/lib/dom"],function(n,r,i){r.isDark=!0,r.cssClass="ace-github-dark",r.cssText=n("./github_dark-css");var o=n("../lib/dom");o.importCssString(r.cssText,r.cssClass,!1)}),function(){ace.require(["ace/theme/github_dark"],function(n){e&&(e.exports=n)})}()})(pSe);var rft=pSe.exports;const kG=hu(rft);function Rc(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Ag(e){return!!e&&!!e[Jr]}function Sp(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===hft}(e)||Array.isArray(e)||!!e[eae]||!!(!((t=e.constructor)===null||t===void 0)&&t[eae])||IG(e)||RG(e))}function iv(e,t,n){n===void 0&&(n=!1),v_(e)===0?(n?Object.keys:sw)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function v_(e){var t=e[Jr];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:IG(e)?2:RG(e)?3:0}function ow(e,t){return v_(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function ift(e,t){return v_(e)===2?e.get(t):e[t]}function mSe(e,t,n){var r=v_(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function gSe(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function IG(e){return cft&&e instanceof Map}function RG(e){return dft&&e instanceof Set}function J0(e){return e.o||e.t}function $G(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=vSe(e);delete t[Jr];for(var n=sw(t),r=0;r<n.length;r++){var i=n[r],o=t[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function DG(e,t){return t===void 0&&(t=!1),MG(e)||Ag(e)||!Sp(e)||(v_(e)>1&&(e.set=e.add=e.clear=e.delete=oft),Object.freeze(e),t&&iv(e,function(n,r){return DG(r,!0)},!0)),e}function oft(){Rc(2)}function MG(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function ch(e){var t=Tj[e];return t||Rc(18,e),t}function sft(e,t){Tj[e]||(Tj[e]=t)}function _j(){return AC}function r5(e,t){t&&(ch("Patches"),e.u=[],e.s=[],e.v=t)}function G$(e){Ej(e),e.p.forEach(aft),e.p=null}function Ej(e){e===AC&&(AC=e.l)}function Yse(e){return AC={p:[],l:AC,h:e,m:!0,_:0}}function aft(e){var t=e[Jr];t.i===0||t.i===1?t.j():t.g=!0}function i5(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.O||ch("ES5").S(t,e,r),r?(n[Jr].P&&(G$(t),Rc(4)),Sp(e)&&(e=Y$(t,e),t.l||K$(t,e)),t.u&&ch("Patches").M(n[Jr].t,e,t.u,t.s)):e=Y$(t,n,[]),G$(t),t.u&&t.v(t.u,t.s),e!==ySe?e:void 0}function Y$(e,t,n){if(MG(t))return t;var r=t[Jr];if(!r)return iv(t,function(a,l){return Kse(e,r,t,a,l,n)},!0),t;if(r.A!==e)return t;if(!r.P)return K$(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=$G(r.k):r.o,o=i,s=!1;r.i===3&&(o=new Set(i),i.clear(),s=!0),iv(o,function(a,l){return Kse(e,r,i,a,l,n,s)}),K$(e,i,!1),n&&e.u&&ch("Patches").N(r,n,e.u,e.s)}return r.o}function Kse(e,t,n,r,i,o,s){if(Ag(i)){var a=Y$(e,i,o&&t&&t.i!==3&&!ow(t.R,r)?o.concat(r):void 0);if(mSe(n,r,a),!Ag(a))return;e.m=!1}else s&&n.add(i);if(Sp(i)&&!MG(i)){if(!e.h.D&&e._<1)return;Y$(e,i),t&&t.A.l||K$(e,i)}}function K$(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&DG(t,n)}function o5(e,t){var n=e[Jr];return(n?J0(n):e)[t]}function Xse(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Rm(e){e.P||(e.P=!0,e.l&&Rm(e.l))}function s5(e){e.o||(e.o=$G(e.t))}function Sj(e,t,n){var r=IG(t)?ch("MapSet").F(t,n):RG(t)?ch("MapSet").T(t,n):e.O?function(i,o){var s=Array.isArray(i),a={i:s?1:0,A:o?o.A:_j(),P:!1,I:!1,R:{},l:o,t:i,k:null,o:null,j:null,C:!1},l=a,u=kC;s&&(l=[a],u=lS);var c=Proxy.revocable(l,u),d=c.revoke,h=c.proxy;return a.k=h,a.j=d,h}(t,n):ch("ES5").J(t,n);return(n?n.A:_j()).p.push(r),r}function lft(e){return Ag(e)||Rc(22,e),function t(n){if(!Sp(n))return n;var r,i=n[Jr],o=v_(n);if(i){if(!i.P&&(i.i<4||!ch("ES5").K(i)))return i.t;i.I=!0,r=Qse(n,o),i.I=!1}else r=Qse(n,o);return iv(r,function(s,a){i&&ift(i.t,s)===a||mSe(r,s,t(a))}),o===3?new Set(r):r}(e)}function Qse(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return $G(e)}function uft(){function e(o,s){var a=i[o];return a?a.enumerable=s:i[o]=a={configurable:!0,enumerable:s,get:function(){var l=this[Jr];return kC.get(l,o)},set:function(l){var u=this[Jr];kC.set(u,o,l)}},a}function t(o){for(var s=o.length-1;s>=0;s--){var a=o[s][Jr];if(!a.P)switch(a.i){case 5:r(a)&&Rm(a);break;case 4:n(a)&&Rm(a)}}}function n(o){for(var s=o.t,a=o.k,l=sw(a),u=l.length-1;u>=0;u--){var c=l[u];if(c!==Jr){var d=s[c];if(d===void 0&&!ow(s,c))return!0;var h=a[c],f=h&&h[Jr];if(f?f.t!==d:!gSe(h,d))return!0}}var p=!!s[Jr];return l.length!==sw(s).length+(p?0:1)}function r(o){var s=o.k;if(s.length!==o.t.length)return!0;var a=Object.getOwnPropertyDescriptor(s,s.length-1);if(a&&!a.get)return!0;for(var l=0;l<s.length;l++)if(!s.hasOwnProperty(l))return!0;return!1}var i={};sft("ES5",{J:function(o,s){var a=Array.isArray(o),l=function(c,d){if(c){for(var h=Array(d.length),f=0;f<d.length;f++)Object.defineProperty(h,""+f,e(f,!0));return h}var p=vSe(d);delete p[Jr];for(var m=sw(p),g=0;g<m.length;g++){var y=m[g];p[y]=e(y,c||!!p[y].enumerable)}return Object.create(Object.getPrototypeOf(d),p)}(a,o),u={i:a?5:4,A:s?s.A:_j(),P:!1,I:!1,R:{},l:s,t:o,k:l,o:null,g:!1,C:!1};return Object.defineProperty(l,Jr,{value:u,writable:!0}),l},S:function(o,s,a){a?Ag(s)&&s[Jr].A===o&&t(o.p):(o.u&&function l(u){if(u&&typeof u=="object"){var c=u[Jr];if(c){var d=c.t,h=c.k,f=c.R,p=c.i;if(p===4)iv(h,function(b){b!==Jr&&(d[b]!==void 0||ow(d,b)?f[b]||l(h[b]):(f[b]=!0,Rm(c)))}),iv(d,function(b){h[b]!==void 0||ow(h,b)||(f[b]=!1,Rm(c))});else if(p===5){if(r(c)&&(Rm(c),f.length=!0),h.length<d.length)for(var m=h.length;m<d.length;m++)f[m]=!1;else for(var g=d.length;g<h.length;g++)f[g]=!0;for(var y=Math.min(h.length,d.length),v=0;v<y;v++)h.hasOwnProperty(v)||(f[v]=!0),f[v]===void 0&&l(h[v])}}}}(o.p[0]),t(o.p))},K:function(o){return o.i===4?n(o):r(o)}})}var Jse,AC,PG=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",cft=typeof Map<"u",dft=typeof Set<"u",Zse=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",ySe=PG?Symbol.for("immer-nothing"):((Jse={})["immer-nothing"]=!0,Jse),eae=PG?Symbol.for("immer-draftable"):"__$immer_draftable",Jr=PG?Symbol.for("immer-state"):"__$immer_state",hft=""+Object.prototype.constructor,sw=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,vSe=Object.getOwnPropertyDescriptors||function(e){var t={};return sw(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},Tj={},kC={get:function(e,t){if(t===Jr)return e;var n=J0(e);if(!ow(n,t))return function(i,o,s){var a,l=Xse(o,s);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!Sp(r)?r:r===o5(e.t,t)?(s5(e),e.o[t]=Sj(e.A.h,r,e)):r},has:function(e,t){return t in J0(e)},ownKeys:function(e){return Reflect.ownKeys(J0(e))},set:function(e,t,n){var r=Xse(J0(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=o5(J0(e),t),o=i==null?void 0:i[Jr];if(o&&o.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(gSe(n,i)&&(n!==void 0||ow(e.t,t)))return!0;s5(e),Rm(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return o5(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,s5(e),Rm(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=J0(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){Rc(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Rc(12)}},lS={};iv(kC,function(e,t){lS[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),lS.deleteProperty=function(e,t){return lS.set.call(this,e,t,void 0)},lS.set=function(e,t,n){return kC.set.call(this,e[0],t,n,e[0])};var fft=function(){function e(n){var r=this;this.O=Zse,this.D=!0,this.produce=function(i,o,s){if(typeof i=="function"&&typeof o!="function"){var a=o;o=i;var l=r;return function(m){var g=this;m===void 0&&(m=a);for(var y=arguments.length,v=Array(y>1?y-1:0),b=1;b<y;b++)v[b-1]=arguments[b];return l.produce(m,function(_){var x;return(x=o).call.apply(x,[g,_].concat(v))})}}var u;if(typeof o!="function"&&Rc(6),s!==void 0&&typeof s!="function"&&Rc(7),Sp(i)){var c=Yse(r),d=Sj(r,i,void 0),h=!0;try{u=o(d),h=!1}finally{h?G$(c):Ej(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(m){return r5(c,s),i5(m,c)},function(m){throw G$(c),m}):(r5(c,s),i5(u,c))}if(!i||typeof i!="object"){if((u=o(i))===void 0&&(u=i),u===ySe&&(u=void 0),r.D&&DG(u,!0),s){var f=[],p=[];ch("Patches").M(i,u,f,p),s(f,p)}return u}Rc(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(u){for(var c=arguments.length,d=Array(c>1?c-1:0),h=1;h<c;h++)d[h-1]=arguments[h];return r.produceWithPatches(u,function(f){return i.apply(void 0,[f].concat(d))})};var s,a,l=r.produce(i,o,function(u,c){s=u,a=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,s,a]}):[l,s,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){Sp(n)||Rc(8),Ag(n)&&(n=lft(n));var r=Yse(this),i=Sj(this,n,void 0);return i[Jr].C=!0,Ej(r),i},t.finishDraft=function(n,r){var i=n&&n[Jr],o=i.A;return r5(o,r),i5(void 0,o)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!Zse&&Rc(20),this.O=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var o=r[i];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}i>-1&&(r=r.slice(i+1));var s=ch("Patches").$;return Ag(n)?s(n,r):this.produce(n,function(a){return s(a,r)})},e}(),nu=new fft,bSe=nu.produce;nu.produceWithPatches.bind(nu);nu.setAutoFreeze.bind(nu);nu.setUseProxies.bind(nu);nu.applyPatches.bind(nu);nu.createDraft.bind(nu);nu.finishDraft.bind(nu);function IC(e){"@babel/helpers - typeof";return IC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},IC(e)}function pft(e,t){if(IC(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(IC(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mft(e){var t=pft(e,"string");return IC(t)=="symbol"?t:t+""}function gft(e,t,n){return(t=mft(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tae(Object(n),!0).forEach(function(r){gft(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tae(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zs(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var rae=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),a5=function(){return Math.random().toString(36).substring(7).split("").join(".")},X$={INIT:"@@redux/INIT"+a5(),REPLACE:"@@redux/REPLACE"+a5(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+a5()}};function yft(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function wSe(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(zs(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(zs(1));return n(wSe)(e,t)}if(typeof e!="function")throw new Error(zs(2));var i=e,o=t,s=[],a=s,l=!1;function u(){a===s&&(a=s.slice())}function c(){if(l)throw new Error(zs(3));return o}function d(m){if(typeof m!="function")throw new Error(zs(4));if(l)throw new Error(zs(5));var g=!0;return u(),a.push(m),function(){if(g){if(l)throw new Error(zs(6));g=!1,u();var v=a.indexOf(m);a.splice(v,1),s=null}}}function h(m){if(!yft(m))throw new Error(zs(7));if(typeof m.type>"u")throw new Error(zs(8));if(l)throw new Error(zs(9));try{l=!0,o=i(o,m)}finally{l=!1}for(var g=s=a,y=0;y<g.length;y++){var v=g[y];v()}return m}function f(m){if(typeof m!="function")throw new Error(zs(10));i=m,h({type:X$.REPLACE})}function p(){var m,g=d;return m={subscribe:function(v){if(typeof v!="object"||v===null)throw new Error(zs(11));function b(){v.next&&v.next(c())}b();var _=g(b);return{unsubscribe:_}}},m[rae]=function(){return this},m}return h({type:X$.INIT}),r={dispatch:h,subscribe:d,getState:c,replaceReducer:f},r[rae]=p,r}function vft(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:X$.INIT});if(typeof r>"u")throw new Error(zs(12));if(typeof n(void 0,{type:X$.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(zs(13))})}function bft(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var o=Object.keys(n),s;try{vft(n)}catch(a){s=a}return function(l,u){if(l===void 0&&(l={}),s)throw s;for(var c=!1,d={},h=0;h<o.length;h++){var f=o[h],p=n[f],m=l[f],g=p(m,u);if(typeof g>"u")throw u&&u.type,new Error(zs(14));d[f]=g,c=c||g!==m}return c=c||o.length!==Object.keys(l).length,c?d:l}}function Q$(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function wft(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),o=function(){throw new Error(zs(15))},s={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},a=t.map(function(l){return l(s)});return o=Q$.apply(void 0,a)(i.dispatch),nae(nae({},i),{},{dispatch:o})}}}function xSe(e){var t=function(r){var i=r.dispatch,o=r.getState;return function(s){return function(a){return typeof a=="function"?a(i,o,e):s(a)}}};return t}var Cj=xSe();Cj.withExtraArgument=xSe;var _Se=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),a2=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},ov=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},xft=Object.defineProperty,_ft=Object.defineProperties,Eft=Object.getOwnPropertyDescriptors,iae=Object.getOwnPropertySymbols,Sft=Object.prototype.hasOwnProperty,Tft=Object.prototype.propertyIsEnumerable,oae=function(e,t,n){return t in e?xft(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},lg=function(e,t){for(var n in t||(t={}))Sft.call(t,n)&&oae(e,n,t[n]);if(iae)for(var r=0,i=iae(t);r<i.length;r++){var n=i[r];Tft.call(t,n)&&oae(e,n,t[n])}return e},l5=function(e,t){return _ft(e,Eft(t))},l2=function(e,t,n){return new Promise(function(r,i){var o=function(l){try{a(n.next(l))}catch(u){i(u)}},s=function(l){try{a(n.throw(l))}catch(u){i(u)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(o,s)};a((n=n.apply(e,t)).next())})},Cft=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Q$:Q$.apply(null,arguments)};function ESe(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return t===n}var Aft=function(e){return e&&typeof e.match=="function"};function dh(e,t){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(t){var o=t.apply(void 0,r);if(!o)throw new Error("prepareAction did not return an object");return lg(lg({type:e,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:e,payload:r[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(r){return r.type===e},n}function kft(e){return ESe(e)&&"type"in e}var Ift=function(e){_Se(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,ov([void 0],n[0].concat(this)))):new(t.bind.apply(t,ov([void 0],n.concat(this))))},t}(Array),Rft=function(e){_Se(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,ov([void 0],n[0].concat(this)))):new(t.bind.apply(t,ov([void 0],n.concat(this))))},t}(Array);function Aj(e){return Sp(e)?bSe(e,function(){}):e}function $ft(e){return typeof e=="boolean"}function Dft(){return function(t){return Mft(t)}}function Mft(e){e===void 0&&(e={});var t=e.thunk,n=t===void 0?!0:t;e.immutableCheck,e.serializableCheck,e.actionCreatorCheck;var r=new Ift;return n&&($ft(n)?r.push(Cj):r.push(Cj.withExtraArgument(n.extraArgument))),r}function Pft(e){var t=Dft(),n=e||{},r=n.reducer,i=r===void 0?void 0:r,o=n.middleware,s=o===void 0?t():o,a=n.devTools,l=a===void 0?!0:a,u=n.preloadedState,c=u===void 0?void 0:u,d=n.enhancers,h=d===void 0?void 0:d,f;if(typeof i=="function")f=i;else if(ESe(i))f=bft(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var p=s;typeof p=="function"&&(p=p(t));var m=wft.apply(void 0,p),g=Q$;l&&(g=Cft(lg({trace:!1},typeof l=="object"&&l)));var y=new Rft(m),v=y;Array.isArray(h)?v=ov([m],h):typeof h=="function"&&(v=h(y));var b=g.apply(void 0,v);return wSe(f,c,b)}function SSe(e){var t={},n=[],r,i={addCase:function(o,s){var a=typeof o=="string"?o:o.type;if(!a)throw new Error("`builder.addCase` cannot be called with an empty action type");if(a in t)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return t[a]=s,i},addMatcher:function(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase:function(o){return r=o,i}};return e(i),[t,n,r]}function Nft(e){return typeof e=="function"}function Oft(e,t,n,r){n===void 0&&(n=[]);var i=typeof t=="function"?SSe(t):[t,n,r],o=i[0],s=i[1],a=i[2],l;if(Nft(e))l=function(){return Aj(e())};else{var u=Aj(e);l=function(){return u}}function c(d,h){d===void 0&&(d=l());var f=ov([o[h.type]],s.filter(function(p){var m=p.matcher;return m(h)}).map(function(p){var m=p.reducer;return m}));return f.filter(function(p){return!!p}).length===0&&(f=[a]),f.reduce(function(p,m){if(m)if(Ag(p)){var g=p,y=m(g,h);return y===void 0?p:y}else{if(Sp(p))return bSe(p,function(v){return m(v,h)});var y=m(p,h);if(y===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}return p},d)}return c.getInitialState=l,c}function Lft(e,t){return e+"/"+t}function Fft(e){var t=e.name,n=typeof e.initialState=="function"?e.initialState:Aj(e.initialState),r=e.reducers||{},i=Object.keys(r),o={},s={},a={};i.forEach(function(c){var d=r[c],h=Lft(t,c),f,p;"reducer"in d?(f=d.reducer,p=d.prepare):f=d,o[c]=f,s[h]=f,a[c]=p?dh(h,p):dh(h)});function l(){var c=typeof e.extraReducers=="function"?SSe(e.extraReducers):[e.extraReducers],d=c[0],h=d===void 0?{}:d,f=c[1],p=f===void 0?[]:f,m=c[2],g=m===void 0?void 0:m,y=lg(lg({},h),s);return Oft(n,function(v){for(var b in y)v.addCase(b,y[b]);for(var _=0,x=p;_<x.length;_++){var w=x[_];v.addMatcher(w.matcher,w.reducer)}g&&v.addDefaultCase(g)})}var u;return{name:t,reducer:function(c,d){return u||(u=l()),u(c,d)},actions:a,caseReducers:o,getInitialState:function(){return u||(u=l()),u.getInitialState()}}}var Bft="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",TSe=function(e){e===void 0&&(e=21);for(var t="",n=e;n--;)t+=Bft[Math.random()*64|0];return t},jft=["name","message","stack","code"],u5=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),sae=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),zft=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,r=jft;n<r.length;n++){var i=r[n];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}};(function(){function e(t,n,r){var i=dh(t+"/fulfilled",function(u,c,d,h){return{payload:u,meta:l5(lg({},h||{}),{arg:d,requestId:c,requestStatus:"fulfilled"})}}),o=dh(t+"/pending",function(u,c,d){return{payload:void 0,meta:l5(lg({},d||{}),{arg:c,requestId:u,requestStatus:"pending"})}}),s=dh(t+"/rejected",function(u,c,d,h,f){return{payload:h,error:(r&&r.serializeError||zft)(u||"Rejected"),meta:l5(lg({},f||{}),{arg:d,requestId:c,rejectedWithValue:!!h,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u}();function l(u){return function(c,d,h){var f=r!=null&&r.idGenerator?r.idGenerator(u):TSe(),p=new a,m;function g(v){m=v,p.abort()}var y=function(){return l2(this,null,function(){var v,b,_,x,w,E,S;return a2(this,function(T){switch(T.label){case 0:return T.trys.push([0,4,,5]),x=(v=r==null?void 0:r.condition)==null?void 0:v.call(r,u,{getState:d,extra:h}),Hft(x)?[4,x]:[3,2];case 1:x=T.sent(),T.label=2;case 2:if(x===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return w=new Promise(function(C,D){return p.signal.addEventListener("abort",function(){return D({name:"AbortError",message:m||"Aborted"})})}),c(o(f,u,(b=r==null?void 0:r.getPendingMeta)==null?void 0:b.call(r,{requestId:f,arg:u},{getState:d,extra:h}))),[4,Promise.race([w,Promise.resolve(n(u,{dispatch:c,getState:d,extra:h,requestId:f,signal:p.signal,abort:g,rejectWithValue:function(C,D){return new u5(C,D)},fulfillWithValue:function(C,D){return new sae(C,D)}})).then(function(C){if(C instanceof u5)throw C;return C instanceof sae?i(C.payload,f,u,C.meta):i(C,f,u)})])];case 3:return _=T.sent(),[3,5];case 4:return E=T.sent(),_=E instanceof u5?s(null,f,u,E.payload,E.meta):s(E,f,u),[3,5];case 5:return S=r&&!r.dispatchConditionRejection&&s.match(_)&&_.meta.condition,S||c(_),[2,_]}})})}();return Object.assign(y,{abort:g,requestId:f,arg:u,unwrap:function(){return y.then(Uft)}})}}return Object.assign(l,{pending:o,rejected:s,fulfilled:i,typePrefix:t})}return e.withTypes=function(){return e},e})();function Uft(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function Hft(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var Vft=function(e,t){return Aft(e)?e.match(t):e(t)};function aae(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){return e.some(function(r){return Vft(r,n)})}}var NG=function(e,t){if(typeof e!="function")throw new TypeError(t+" is not a function")},kj=function(){},CSe=function(e,t){return t===void 0&&(t=kj),e.catch(t),e},ASe=function(e,t){return e.addEventListener("abort",t,{once:!0}),function(){return e.removeEventListener("abort",t)}},aw=function(e,t){var n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Wft="task",kSe="listener",ISe="completed",OG="cancelled",qft="task-"+OG,Gft="task-"+ISe,RSe=kSe+"-"+OG,Yft=kSe+"-"+ISe,NN=function(){function e(t){this.code=t,this.name="TaskAbortError",this.message=Wft+" "+OG+" (reason: "+t+")"}return e}(),lw=function(e){if(e.aborted)throw new NN(e.reason)};function $Se(e,t){var n=kj;return new Promise(function(r,i){var o=function(){return i(new NN(e.reason))};if(e.aborted){o();return}n=ASe(e,o),t.finally(function(){return n()}).then(r,i)}).finally(function(){n=kj})}var Kft=function(e,t){return l2(void 0,null,function(){var n,r;return a2(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,4,5]),[4,Promise.resolve()];case 1:return i.sent(),[4,e()];case 2:return n=i.sent(),[2,{status:"ok",value:n}];case 3:return r=i.sent(),[2,{status:r instanceof NN?"cancelled":"rejected",error:r}];case 4:return t==null||t(),[7];case 5:return[2]}})})},J$=function(e){return function(t){return CSe($Se(e,t).then(function(n){return lw(e),n}))}},DSe=function(e){var t=J$(e);return function(n){return t(new Promise(function(r){return setTimeout(r,n)}))}},Xft=Object.assign,lae={},u2="listenerMiddleware",Qft=function(e,t){var n=function(r){return ASe(e,function(){return aw(r,e.reason)})};return function(r,i){NG(r,"taskExecutor");var o=new AbortController;n(o);var s=Kft(function(){return l2(void 0,null,function(){var a;return a2(this,function(l){switch(l.label){case 0:return lw(e),lw(o.signal),[4,r({pause:J$(o.signal),delay:DSe(o.signal),signal:o.signal})];case 1:return a=l.sent(),lw(o.signal),[2,a]}})})},function(){return aw(o,Gft)});return i!=null&&i.autoJoin&&t.push(s),{result:J$(e)(s),cancel:function(){aw(o,qft)}}}},Jft=function(e,t){var n=function(r,i){return l2(void 0,null,function(){var o,s,a,l;return a2(this,function(u){switch(u.label){case 0:lw(t),o=function(){},s=new Promise(function(c,d){var h=e({predicate:r,effect:function(f,p){p.unsubscribe(),c([f,p.getState(),p.getOriginalState()])}});o=function(){h(),d()}}),a=[s],i!=null&&a.push(new Promise(function(c){return setTimeout(c,i,null)})),u.label=1;case 1:return u.trys.push([1,,3,4]),[4,$Se(t,Promise.race(a))];case 2:return l=u.sent(),lw(t),[2,l];case 3:return o(),[7];case 4:return[2]}})})};return function(r,i){return CSe(n(r,i))}},MSe=function(e){var t=e.type,n=e.actionCreator,r=e.matcher,i=e.predicate,o=e.effect;if(t)i=dh(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error("Creating or removing a listener requires one of the known fields for matching an action");return NG(o,"options.listener"),{predicate:i,type:t,effect:o}},Zft=function(e){var t=MSe(e),n=t.type,r=t.predicate,i=t.effect,o=TSe(),s={id:o,effect:i,type:n,predicate:r,pending:new Set,unsubscribe:function(){throw new Error("Unsubscribe not initialized")}};return s},Ij=function(e){e.pending.forEach(function(t){aw(t,RSe)})},ept=function(e){return function(){e.forEach(Ij),e.clear()}},uae=function(e,t,n){try{e(t,n)}catch(r){setTimeout(function(){throw r},0)}},tpt=dh(u2+"/add"),npt=dh(u2+"/removeAll"),rpt=dh(u2+"/remove"),ipt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,ov([u2+"/error"],e))};function opt(e){var t=this;e===void 0&&(e={});var n=new Map,r=e.extra,i=e.onError,o=i===void 0?ipt:i;NG(o,"onError");var s=function(f){return f.unsubscribe=function(){return n.delete(f.id)},n.set(f.id,f),function(p){f.unsubscribe(),p!=null&&p.cancelActive&&Ij(f)}},a=function(f){for(var p=0,m=Array.from(n.values());p<m.length;p++){var g=m[p];if(f(g))return g}},l=function(f){var p=a(function(m){return m.effect===f.effect});return p||(p=Zft(f)),s(p)},u=function(f){var p=MSe(f),m=p.type,g=p.effect,y=p.predicate,v=a(function(b){var _=typeof m=="string"?b.type===m:b.predicate===y;return _&&b.effect===g});return v&&(v.unsubscribe(),f.cancelActive&&Ij(v)),!!v},c=function(f,p,m,g){return l2(t,null,function(){var y,v,b,_;return a2(this,function(x){switch(x.label){case 0:y=new AbortController,v=Jft(l,y.signal),b=[],x.label=1;case 1:return x.trys.push([1,3,4,6]),f.pending.add(y),[4,Promise.resolve(f.effect(p,Xft({},m,{getOriginalState:g,condition:function(w,E){return v(w,E).then(Boolean)},take:v,delay:DSe(y.signal),pause:J$(y.signal),extra:r,signal:y.signal,fork:Qft(y.signal,b),unsubscribe:f.unsubscribe,subscribe:function(){n.set(f.id,f)},cancelActiveListeners:function(){f.pending.forEach(function(w,E,S){w!==y&&(aw(w,RSe),S.delete(w))})}})))];case 2:return x.sent(),[3,6];case 3:return _=x.sent(),_ instanceof NN||uae(o,_,{raisedBy:"effect"}),[3,6];case 4:return[4,Promise.allSettled(b)];case 5:return x.sent(),aw(y,Yft),f.pending.delete(y),[7];case 6:return[2]}})})},d=ept(n),h=function(f){return function(p){return function(m){if(!kft(m))return p(m);if(tpt.match(m))return l(m.payload);if(npt.match(m)){d();return}if(rpt.match(m))return u(m.payload);var g=f.getState(),y=function(){if(g===lae)throw new Error(u2+": getOriginalState can only be called synchronously");return g},v;try{if(v=p(m),n.size>0)for(var b=f.getState(),_=Array.from(n.values()),x=0,w=_;x<w.length;x++){var E=w[x],S=!1;try{S=E.predicate(m,b,g)}catch(T){S=!1,uae(o,T,{raisedBy:"predicate"})}S&&c(E,m,f,y)}}finally{g=lae}return v}}};return{middleware:h,startListening:l,stopListening:u,clearListeners:d}}var cae;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);uft();function spt(){const e=new Map;return{listen(t,n){return e.has(t)||e.set(t,[]),e.get(t).push(n),()=>{e.set(t,(e.get(t)||[]).filter(r=>r!==n))}},fire(t,n){const r=e.get(t);r&&r.forEach(i=>i(n))}}}let a3;const apt=new Uint8Array(16);function lpt(){if(!a3&&(a3=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!a3))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a3(apt)}const Go=[];for(let e=0;e<256;++e)Go.push((e+256).toString(16).slice(1));function upt(e,t=0){return(Go[e[t+0]]+Go[e[t+1]]+Go[e[t+2]]+Go[e[t+3]]+"-"+Go[e[t+4]]+Go[e[t+5]]+"-"+Go[e[t+6]]+Go[e[t+7]]+"-"+Go[e[t+8]]+Go[e[t+9]]+"-"+Go[e[t+10]]+Go[e[t+11]]+Go[e[t+12]]+Go[e[t+13]]+Go[e[t+14]]+Go[e[t+15]]).toLowerCase()}const cpt=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),dae={randomUUID:cpt};function hae(e,t,n){if(dae.randomUUID&&!e)return dae.randomUUID();e=e||{};const r=e.random||(e.rng||lpt)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,upt(r)}class hh{static get(){let t=hae();for(;this.ids.has(t);)t=hae();return this.ids.set(t,!0),t}}hh.ids=new Map;function Xc(e){return"parent"in e}function PSe(e){return!Xc(e)}function dpt(e){const{label:t=void 0,state:n,initialArtifact:r,initialMetadata:i}=e,o={annotation:[],bookmark:[]},s=Object.keys(i||{}).reduce((l,u)=>(l[u]=[],i&&i[u]&&l[u].push({type:u,id:hh.get(),val:i[u],createdOn:Date.now()}),l),o),a=r?[{id:hh.get(),createdOn:Date.now(),val:r}]:[];return{id:hh.get(),label:t||"Root",event:"Root",children:[],level:0,createdOn:Date.now(),meta:s,artifacts:a,state:{type:"checkpoint",val:n}}}function hpt({parent:e,state:t,label:n,sideEffects:r={do:[],undo:[]},initialMetadata:i,initialArtifact:o,event:s}){const a={annotation:[],bookmark:[]},l=Object.keys(i||{}).reduce((c,d)=>(c[d]=[],i&&i[d]&&c[d].push({type:d,id:hh.get(),val:i[d],createdOn:Date.now()}),c),a),u=o?[{id:hh.get(),createdOn:Date.now(),val:o}]:[];return{id:hh.get(),label:n,event:s,children:[],parent:e.id,createdOn:Date.now(),meta:l,artifacts:u,sideEffects:r,state:t,level:e.level+1}}function bi(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if({}.NODE_ENV!=="production"){var i=xpt[e],o=i?typeof i=="function"?i.apply(null,n):i:"unknown error nr: "+e;throw Error("[Immer] "+o)}throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(s){return"'"+s+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function sv(e){return!!e&&!!e[ru]}function kg(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===_pt}(e)||Array.isArray(e)||!!e[pT]||!!(!((t=e.constructor)===null||t===void 0)&&t[pT])||ON(e)||LN(e))}function Vw(e,t,n){n===void 0&&(n=!1),Ig(e)===0?(n?Object.keys:UG)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function Ig(e){var t=e[ru];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:ON(e)?2:LN(e)?3:0}function RC(e,t){return Ig(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function GI(e,t){return Ig(e)===2?e.get(t):e[t]}function NSe(e,t,n){var r=Ig(e);r===2?e.set(t,n):r===3?(e.delete(t),e.add(n)):e[t]=n}function fpt(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function ON(e){return bpt&&e instanceof Map}function LN(e){return wpt&&e instanceof Set}function Z0(e){return e.o||e.t}function LG(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Ept(e);delete t[ru];for(var n=UG(t),r=0;r<n.length;r++){var i=n[r],o=t[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function FG(e,t){return t===void 0&&(t=!1),BG(e)||sv(e)||!kg(e)||(Ig(e)>1&&(e.set=e.add=e.clear=e.delete=ppt),Object.freeze(e),t&&Vw(e,function(n,r){return FG(r,!0)},!0)),e}function ppt(){bi(2)}function BG(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function fh(e){var t=Mj[e];return t||bi(18,e),t}function mpt(e,t){Mj[e]||(Mj[e]=t)}function fae(){return{}.NODE_ENV==="production"||Ww||bi(0),Ww}function c5(e,t){t&&(fh("Patches"),e.u=[],e.s=[],e.v=t)}function Z$(e){Rj(e),e.p.forEach(gpt),e.p=null}function Rj(e){e===Ww&&(Ww=e.l)}function pae(e){return Ww={p:[],l:Ww,h:e,m:!0,_:0}}function gpt(e){var t=e[ru];t.i===0||t.i===1?t.j():t.O=!0}function d5(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||fh("ES5").S(t,e,r),r?(n[ru].P&&(Z$(t),bi(4)),kg(e)&&(e=eD(t,e),t.l||tD(t,e)),t.u&&fh("Patches").M(n[ru].t,e,t.u,t.s)):e=eD(t,n,[]),Z$(t),t.u&&t.v(t.u,t.s),e!==zG?e:void 0}function eD(e,t,n){if(BG(t))return t;var r=t[ru];if(!r)return Vw(t,function(o,s){return mae(e,r,t,o,s,n)},!0),t;if(r.A!==e)return t;if(!r.P)return tD(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=LG(r.k):r.o;Vw(r.i===3?new Set(i):i,function(o,s){return mae(e,r,i,o,s,n)}),tD(e,i,!1),n&&e.u&&fh("Patches").R(r,n,e.u,e.s)}return r.o}function mae(e,t,n,r,i,o){if({}.NODE_ENV!=="production"&&i===n&&bi(5),sv(i)){var s=eD(e,i,o&&t&&t.i!==3&&!RC(t.D,r)?o.concat(r):void 0);if(NSe(n,r,s),!sv(s))return;e.m=!1}if(kg(i)&&!BG(i)){if(!e.h.F&&e._<1)return;eD(e,i),t&&t.A.l||tD(e,i)}}function tD(e,t,n){n===void 0&&(n=!1),e.h.F&&e.m&&FG(t,n)}function h5(e,t){var n=e[ru];return(n?Z0(n):e)[t]}function gae(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function $j(e){e.P||(e.P=!0,e.l&&$j(e.l))}function f5(e){e.o||(e.o=LG(e.t))}function Dj(e,t,n){var r=ON(t)?fh("MapSet").N(t,n):LN(t)?fh("MapSet").T(t,n):e.g?function(i,o){var s=Array.isArray(i),a={i:s?1:0,A:o?o.A:fae(),P:!1,I:!1,D:{},l:o,t:i,k:null,o:null,j:null,C:!1},l=a,u=Pj;s&&(l=[a],u=uS);var c=Proxy.revocable(l,u),d=c.revoke,h=c.proxy;return a.k=h,a.j=d,h}(t,n):fh("ES5").J(t,n);return(n?n.A:fae()).p.push(r),r}function ypt(e){return sv(e)||bi(22,e),function t(n){if(!kg(n))return n;var r,i=n[ru],o=Ig(n);if(i){if(!i.P&&(i.i<4||!fh("ES5").K(i)))return i.t;i.I=!0,r=yae(n,o),i.I=!1}else r=yae(n,o);return Vw(r,function(s,a){i&&GI(i.t,s)===a||NSe(r,s,t(a))}),o===3?new Set(r):r}(e)}function yae(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return LG(e)}function vpt(){function e(r){if(!kg(r))return r;if(Array.isArray(r))return r.map(e);if(ON(r))return new Map(Array.from(r.entries()).map(function(s){return[s[0],e(s[1])]}));if(LN(r))return new Set(Array.from(r).map(e));var i=Object.create(Object.getPrototypeOf(r));for(var o in r)i[o]=e(r[o]);return RC(r,pT)&&(i[pT]=r[pT]),i}function t(r){return sv(r)?e(r):r}var n="add";mpt("Patches",{$:function(r,i){return i.forEach(function(o){for(var s=o.path,a=o.op,l=r,u=0;u<s.length-1;u++){var c=Ig(l),d=""+s[u];c!==0&&c!==1||d!=="__proto__"&&d!=="constructor"||bi(24),typeof l=="function"&&d==="prototype"&&bi(24),typeof(l=GI(l,d))!="object"&&bi(15,s.join("/"))}var h=Ig(l),f=e(o.value),p=s[s.length-1];switch(a){case"replace":switch(h){case 2:return l.set(p,f);case 3:bi(16);default:return l[p]=f}case n:switch(h){case 1:return p==="-"?l.push(f):l.splice(p,0,f);case 2:return l.set(p,f);case 3:return l.add(f);default:return l[p]=f}case"remove":switch(h){case 1:return l.splice(p,1);case 2:return l.delete(p);case 3:return l.delete(o.value);default:return delete l[p]}default:bi(17,a)}}),r},R:function(r,i,o,s){switch(r.i){case 0:case 4:case 2:return function(a,l,u,c){var d=a.t,h=a.o;Vw(a.D,function(f,p){var m=GI(d,f),g=GI(h,f),y=p?RC(d,f)?"replace":n:"remove";if(m!==g||y!=="replace"){var v=l.concat(f);u.push(y==="remove"?{op:y,path:v}:{op:y,path:v,value:g}),c.push(y===n?{op:"remove",path:v}:y==="remove"?{op:n,path:v,value:t(m)}:{op:"replace",path:v,value:t(m)})}})}(r,i,o,s);case 5:case 1:return function(a,l,u,c){var d=a.t,h=a.D,f=a.o;if(f.length<d.length){var p=[f,d];d=p[0],f=p[1];var m=[c,u];u=m[0],c=m[1]}for(var g=0;g<d.length;g++)if(h[g]&&f[g]!==d[g]){var y=l.concat([g]);u.push({op:"replace",path:y,value:t(f[g])}),c.push({op:"replace",path:y,value:t(d[g])})}for(var v=d.length;v<f.length;v++){var b=l.concat([v]);u.push({op:n,path:b,value:t(f[v])})}d.length<f.length&&c.push({op:"replace",path:l.concat(["length"]),value:d.length})}(r,i,o,s);case 3:return function(a,l,u,c){var d=a.t,h=a.o,f=0;d.forEach(function(p){if(!h.has(p)){var m=l.concat([f]);u.push({op:"remove",path:m,value:p}),c.unshift({op:n,path:m,value:p})}f++}),f=0,h.forEach(function(p){if(!d.has(p)){var m=l.concat([f]);u.push({op:n,path:m,value:p}),c.unshift({op:"remove",path:m,value:p})}f++})}(r,i,o,s)}},M:function(r,i,o,s){o.push({op:"replace",path:[],value:i===zG?void 0:i}),s.push({op:"replace",path:[],value:r})}})}var vae,Ww,jG=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",bpt=typeof Map<"u",wpt=typeof Set<"u",bae=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",zG=jG?Symbol.for("immer-nothing"):((vae={})["immer-nothing"]=!0,vae),pT=jG?Symbol.for("immer-draftable"):"__$immer_draftable",ru=jG?Symbol.for("immer-state"):"__$immer_state",xpt={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(e){return"Cannot apply patch, path doesn't resolve: "+e},16:'Sets cannot have "replace" patches.',17:function(e){return"Unsupported patch operation: "+e},18:function(e){return"The plugin for '"+e+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+e+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(e){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+e+"'"},22:function(e){return"'current' expects a draft, got: "+e},23:function(e){return"'original' expects a draft, got: "+e},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},_pt=""+Object.prototype.constructor,UG=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Ept=Object.getOwnPropertyDescriptors||function(e){var t={};return UG(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},Mj={},Pj={get:function(e,t){if(t===ru)return e;var n=Z0(e);if(!RC(n,t))return function(i,o,s){var a,l=gae(o,s);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!kg(r)?r:r===h5(e.t,t)?(f5(e),e.o[t]=Dj(e.A.h,r,e)):r},has:function(e,t){return t in Z0(e)},ownKeys:function(e){return Reflect.ownKeys(Z0(e))},set:function(e,t,n){var r=gae(Z0(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=h5(Z0(e),t),o=i==null?void 0:i[ru];if(o&&o.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(fpt(n,i)&&(n!==void 0||RC(e.t,t)))return!0;f5(e),$j(e)}return e.o[t]===n&&typeof n!="number"&&(n!==void 0||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return h5(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,f5(e),$j(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Z0(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){bi(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){bi(12)}},uS={};Vw(Pj,function(e,t){uS[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),uS.deleteProperty=function(e,t){return{}.NODE_ENV!=="production"&&isNaN(parseInt(t))&&bi(13),uS.set.call(this,e,t,void 0)},uS.set=function(e,t,n){return{}.NODE_ENV!=="production"&&t!=="length"&&isNaN(parseInt(t))&&bi(14),Pj.set.call(this,e[0],t,n,e[0])};var Spt=function(){function e(n){var r=this;this.g=bae,this.F=!0,this.produce=function(i,o,s){if(typeof i=="function"&&typeof o!="function"){var a=o;o=i;var l=r;return function(m){var g=this;m===void 0&&(m=a);for(var y=arguments.length,v=Array(y>1?y-1:0),b=1;b<y;b++)v[b-1]=arguments[b];return l.produce(m,function(_){var x;return(x=o).call.apply(x,[g,_].concat(v))})}}var u;if(typeof o!="function"&&bi(6),s!==void 0&&typeof s!="function"&&bi(7),kg(i)){var c=pae(r),d=Dj(r,i,void 0),h=!0;try{u=o(d),h=!1}finally{h?Z$(c):Rj(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(m){return c5(c,s),d5(m,c)},function(m){throw Z$(c),m}):(c5(c,s),d5(u,c))}if(!i||typeof i!="object"){if((u=o(i))===void 0&&(u=i),u===zG&&(u=void 0),r.F&&FG(u,!0),s){var f=[],p=[];fh("Patches").M(i,u,f,p),s(f,p)}return u}bi(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(u){for(var c=arguments.length,d=Array(c>1?c-1:0),h=1;h<c;h++)d[h-1]=arguments[h];return r.produceWithPatches(u,function(f){return i.apply(void 0,[f].concat(d))})};var s,a,l=r.produce(i,o,function(u,c){s=u,a=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,s,a]}):[l,s,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){kg(n)||bi(8),sv(n)&&(n=ypt(n));var r=pae(this),i=Dj(this,n,void 0);return i[ru].C=!0,Rj(r),i},t.finishDraft=function(n,r){var i=n&&n[ru];({}).NODE_ENV!=="production"&&(i&&i.C||bi(9),i.I&&bi(10));var o=i.A;return c5(o,r),d5(void 0,o)},t.setAutoFreeze=function(n){this.F=n},t.setUseProxies=function(n){n&&!bae&&bi(20),this.g=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var o=r[i];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}i>-1&&(r=r.slice(i+1));var s=fh("Patches").$;return sv(n)?s(n,r):this.produce(n,function(a){return s(a,r)})},e}(),iu=new Spt,Tpt=iu.produce;iu.produceWithPatches.bind(iu);iu.setAutoFreeze.bind(iu);iu.setUseProxies.bind(iu);iu.applyPatches.bind(iu);iu.createDraft.bind(iu);iu.finishDraft.bind(iu);function Cpt(e,t={}){const{artifact:n=void 0,metadata:r=void 0,rootLabel:i="Root"}=t,o=dpt({state:e,label:i,initialArtifact:n,initialMetadata:r}),s={nodes:{[o.id]:o},root:o.id,current:o.id};return Fft({name:"provenance-graph",initialState:s,reducers:{addMetadata(a,l){const{id:u,meta:c}=l.payload,d=a.nodes[u].meta,h=Object.keys(c).reduce((f,p)=>(f[p]||(f[p]=[]),f[p].push({type:p,id:hh.get(),val:c[p],createdOn:Date.now()}),f),d);a.nodes[l.payload.id].meta=h},addArtifact(a,l){a.nodes[l.payload.id].artifacts.push({id:hh.get(),createdOn:Date.now(),val:l.payload.artifact})},changeCurrent(a,l){a.current=l.payload},addNode(a,{payload:l}){a.nodes[l.id]=l,a.nodes[l.parent].children.push(l.id),a.current=l.id},load(a,{payload:l}){return l}}})}function Apt(e){const t=new Map,{reducer:n,actions:r,getInitialState:i}=Cpt(e),o=opt();o.startListening({matcher:aae(r.changeCurrent,r.addNode),effect:(a,l)=>{l.cancelActiveListeners(),t.forEach(u=>{const c=aae(r.addNode)(a),{skipOnNew:d}=u.config;d&&c||u.func(c?"new":"traversal")})}});const s=Pft({reducer:n,middleware:a=>a().prepend(o.middleware)});return{initialState:i(),get backend(){return s.getState()},get current(){return s.getState().nodes[s.getState().current]},get root(){return s.getState().nodes[s.getState().root]},currentChange(a,l){const u={id:hh.get(),func:a,config:l};return t.set(u.id,u),()=>t.delete(u.id)},update:s.dispatch,...r}}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var kpt=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ipt=Object.prototype.hasOwnProperty;function Nj(e,t){return Ipt.call(e,t)}function Oj(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)Nj(e,i)&&r.push(i);return r}function cl(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function Lj(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function ey(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function OSe(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function Fj(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(Fj(e[t]))return!0}else if(typeof e=="object"){for(var r=Oj(e),i=r.length,o=0;o<i;o++)if(Fj(e[r[o]]))return!0}}return!1}function wae(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var LSe=function(e){kpt(t,e);function t(n,r,i,o,s){var a=this.constructor,l=e.call(this,wae(n,{name:r,index:i,operation:o,tree:s}))||this;return l.name=r,l.index=i,l.operation=o,l.tree=s,Object.setPrototypeOf(l,a.prototype),l.message=wae(n,{name:r,index:i,operation:o,tree:s}),l}return t}(Error),gi=LSe,Rpt=cl,M1={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=nD(n,this.path);r&&(r=cl(r));var i=Ny(n,{op:"remove",path:this.from}).removed;return Ny(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=nD(n,this.from);return Ny(n,{op:"add",path:this.path,value:cl(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:$C(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},$pt={add:function(e,t,n){return Lj(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:M1.move,copy:M1.copy,test:M1.test,_get:M1._get};function nD(e,t){if(t=="")return e;var n={op:"_get",path:t};return Ny(e,n),n.value}function Ny(e,t,n,r,i,o){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),o===void 0&&(o=0),n&&(typeof n=="function"?n(t,0,e,t.path):rD(t,0)),t.path===""){var s={newDocument:e};if(t.op==="add")return s.newDocument=t.value,s;if(t.op==="replace")return s.newDocument=t.value,s.removed=e,s;if(t.op==="move"||t.op==="copy")return s.newDocument=nD(e,t.from),t.op==="move"&&(s.removed=e),s;if(t.op==="test"){if(s.test=$C(e,t.value),s.test===!1)throw new gi("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s.newDocument=e,s}else{if(t.op==="remove")return s.removed=e,s.newDocument=null,s;if(t.op==="_get")return t.value=e,s;if(n)throw new gi("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,t,e);return s}}else{r||(e=cl(e));var a=t.path||"",l=a.split("/"),u=e,c=1,d=l.length,h=void 0,f=void 0,p=void 0;for(typeof n=="function"?p=n:p=rD;;){if(f=l[c],f&&f.indexOf("~")!=-1&&(f=OSe(f)),i&&(f=="__proto__"||f=="prototype"&&c>0&&l[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&h===void 0&&(u[f]===void 0?h=l.slice(0,c).join("/"):c==d-1&&(h=t.path),h!==void 0&&p(t,0,e,h)),c++,Array.isArray(u)){if(f==="-")f=u.length;else{if(n&&!Lj(f))throw new gi("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,t,e);Lj(f)&&(f=~~f)}if(c>=d){if(n&&t.op==="add"&&f>u.length)throw new gi("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,t,e);var s=$pt[t.op].call(t,u,f,e);if(s.test===!1)throw new gi("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s}}else if(c>=d){var s=M1[t.op].call(t,u,f,e);if(s.test===!1)throw new gi("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s}if(u=u[f],n&&c<d&&(!u||typeof u!="object"))throw new gi("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",o,t,e)}}}function FN(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new gi("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=cl(e));for(var o=new Array(t.length),s=0,a=t.length;s<a;s++)o[s]=Ny(e,t[s],n,!0,i,s),e=o[s].newDocument;return o.newDocument=e,o}function Dpt(e,t,n){var r=Ny(e,t);if(r.test===!1)throw new gi("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function rD(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new gi("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(M1[e.op]){if(typeof e.path!="string")throw new gi("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new gi('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new gi("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new gi("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&Fj(e.value))throw new gi("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,o=r.split("/").length;if(i!==o+1&&i!==o)throw new gi("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new gi("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var s={op:"_get",path:e.from,value:void 0},a=FSe([s],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new gi("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new gi("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function FSe(e,t,n){try{if(!Array.isArray(e))throw new gi("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)FN(cl(t),cl(e),n||!0);else{n=n||rD;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof gi)return i;throw i}}function $C(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,o,s;if(n&&r){if(o=e.length,o!=t.length)return!1;for(i=o;i--!==0;)if(!$C(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=Object.keys(e);if(o=a.length,o!==Object.keys(t).length)return!1;for(i=o;i--!==0;)if(!t.hasOwnProperty(a[i]))return!1;for(i=o;i--!==0;)if(s=a[i],!$C(e[s],t[s]))return!1;return!0}return e!==e&&t!==t}const Mpt=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:gi,_areEquals:$C,applyOperation:Ny,applyPatch:FN,applyReducer:Dpt,deepClone:Rpt,getValueByPointer:nD,validate:FSe,validator:rD},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var HG=new WeakMap,Ppt=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),Npt=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function Opt(e){return HG.get(e)}function Lpt(e,t){return e.observers.get(t)}function Fpt(e,t){e.observers.delete(t.callback)}function Bpt(e,t){t.unobserve()}function jpt(e,t){var n=[],r,i=Opt(e);if(!i)i=new Ppt(e),HG.set(e,i);else{var o=Lpt(i,t);r=o&&o.observer}if(r)return r;if(r={},i.value=cl(e),t){r.callback=t,r.next=null;var s=function(){Bj(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(s)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=n,r.object=e,r.unobserve=function(){Bj(r),clearTimeout(r.next),Fpt(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},i.observers.set(t,new Npt(t,r)),r}function Bj(e,t){t===void 0&&(t=!1);var n=HG.get(e.object);VG(n.value,e.object,e.patches,"",t),e.patches.length&&FN(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function VG(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var o=Oj(t),s=Oj(e),a=!1,l=s.length-1;l>=0;l--){var u=s[l],c=e[u];if(Nj(t,u)&&!(t[u]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var d=t[u];typeof c=="object"&&c!=null&&typeof d=="object"&&d!=null&&Array.isArray(c)===Array.isArray(d)?VG(c,d,n,r+"/"+ey(u),i):c!==d&&(i&&n.push({op:"test",path:r+"/"+ey(u),value:cl(c)}),n.push({op:"replace",path:r+"/"+ey(u),value:cl(d)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+ey(u),value:cl(c)}),n.push({op:"remove",path:r+"/"+ey(u)}),a=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!a&&o.length==s.length))for(var l=0;l<o.length;l++){var u=o[l];!Nj(e,u)&&t[u]!==void 0&&n.push({op:"add",path:r+"/"+ey(u),value:cl(t[u])})}}}function BSe(e,t,n){n===void 0&&(n=!1);var r=[];return VG(e,t,r,"",n),r}const zpt=Object.freeze(Object.defineProperty({__proto__:null,compare:BSe,generate:Bj,observe:jpt,unobserve:Bpt},Symbol.toStringTag,{value:"Module"}));Object.assign({},Mpt,zpt,{JsonPatchError:LSe,deepClone:cl,escapePathComponent:ey,unescapePathComponent:OSe});var cS=(e=>(e.TRAVERSAL_START="Traversal_Start",e.TRAVERSAL_END="Traversal_End",e))(cS||{});function YI(e,t){const n=e.state;if(n.type==="checkpoint")return n.val;const{checkpointRef:r}=n,i=t[r],o=jSe(i,e,t);o.shift();const s=o.map(l=>t[l]).map(l=>l.state.val).reduce((l,u)=>[...l,...u],[]),a=YI(i,t);return FN(a,cl(s),!0,!1).newDocument}function Upt(e,t){const n=Object.keys(e).length;return new Set(t.map(r=>r.path.split("/")[0])).size<n/2?"patch":"checkpoint"}function rb({registry:e,initialState:t}){let n=!1;const r=spt(),i=Apt(t);function o(c){return i.backend.nodes[c]}r.listen(cS.TRAVERSAL_START,()=>{n=!0}),r.listen(cS.TRAVERSAL_END,()=>{n=!1});const s={add(c,d=i.current.id){i.update(i.addMetadata({id:d,meta:c}))},latestOfType(c,d=i.current.id){var h;return(h=i.backend.nodes[d].meta[c])==null?void 0:h.at(-1)},allOfType(c,d=i.current.id){return i.backend.nodes[d].meta[c]},latest(c=i.current.id){const d=i.backend.nodes[c].meta,h=Object.keys(d).reduce((f,p)=>{const m=d[p].at(-1);return m&&(f[p]=m),f},{});return Object.keys(h).length>0?h:void 0},all(c=i.current.id){return i.backend.nodes[c].meta},types(c=i.current.id){return Object.keys(i.backend.nodes[c].meta)}},a={add(c,d=i.current.id){i.update(i.addArtifact({id:d,artifact:c}))},latest(c=i.current.id){return i.backend.nodes[c].artifacts.at(-1)},all(c=i.current.id){return i.backend.nodes[c].artifacts}},l={add(c,d=i.current.id){s.add({annotation:c},d)},latest(c=i.current.id){var d;return(d=s.latestOfType("annotation",c))==null?void 0:d.val},all(c=i.current.id){var d;return(d=s.allOfType("annotation",c))==null?void 0:d.map(h=>h.val)}},u={add(c=i.current.id){s.add({bookmark:!0},c)},remove(c=i.current.id){s.add({bookmark:!1},c)},is(c=i.current.id){var d;return!!((d=s.latestOfType("bookmark",c))!=null&&d.val)},toggle(c=i.current.id){u.is(c)?u.remove(c):u.add(c)}};return{registry:e,get isTraversing(){return n},getState(c=i.current){return YI(c,i.backend.nodes)},graph:i,get current(){return i.current},get root(){return i.root},record({label:c,state:d,sideEffects:h,eventType:f,onlySideEffects:p=!1}){let m=null,g=null;const y=YI(this.current,this.graph.backend.nodes);if(p)g={type:"checkpoint",val:d};else{const v=BSe(y,d);if(Upt(d,v)==="checkpoint")g={type:"checkpoint",val:d};else{const b=this.current.state.type==="checkpoint"?this.current.id:this.current.state.checkpointRef;g={type:"patch",val:v,checkpointRef:b}}}if(!g)throw new Error(`Could not calculate new state. Previous state is: ${JSON.stringify(this.current.state,null,2)}`);if(m=hpt({label:c,state:g,parent:this.current,sideEffects:h,event:f}),!m)throw new Error("State Node creation failed!");i.update(i.addNode(m))},async apply(c,d){const h=e.get(d.type),f=YI(this.current,this.graph.backend.nodes);if(h.config.hasSideEffects){const{do:p=d,undo:m}=h.func(d.payload);this.record({label:c,state:f,sideEffects:{do:[p],undo:[m]},eventType:h.config.eventType})}else{const p=h.func(f,d.payload);this.record({label:c,state:p,sideEffects:{do:[],undo:[]},eventType:h.config.eventType})}},async to(c){r.fire(cS.TRAVERSAL_START);const d=jSe(i.current,i.backend.nodes[c],i.backend.nodes),h=[];for(let f=0;f<d.length-1;++f){const p=o(d[f]),m=o(d[f+1]);Vpt(p,m)?Xc(p)&&h.push(...p.sideEffects.undo):Xc(m)&&h.push(...m.sideEffects.do)}for(const f of h){const p=e.get(f.type).func;await p(f.payload)}i.update(i.changeCurrent(c)),r.fire(cS.TRAVERSAL_END)},undo(){const{current:c}=i;return Xc(c)?this.to(c.parent):Promise.resolve(console.warn("Already at root!"))},redo(c="latest"){const{current:d}=i;return d.children.length>0?this.to(d.children[c==="oldest"?0:d.children.length-1]):Promise.resolve(console.warn("Already at latest in this branch!"))},currentChange(c,d=!1){return i.currentChange(c,{skipOnNew:d})},done(){console.log("Setup later for URL sharing.")},tree(){return zSe(i.root,i.backend.nodes)},on(c,d){r.listen(c,d)},export(){return JSON.stringify(i.backend)},exportObject(){return JSON.parse(JSON.stringify(i.backend))},import(c){const d=JSON.parse(c),h=d.current;d.current=d.root,i.update(i.load(d)),this.to(h)},importObject(c){const d=c.current;c.current=c.root,i.update(i.load(c)),this.to(d)},metadata:s,artifact:a,annotations:l,bookmarks:u}}function Hpt(e,t,n){let[r,i]=[e,t];r.level>i.level&&([r,i]=[i,r]);let o=i.level-r.level;for(;Xc(i)&&o!==0;)i=n[i.parent],o-=1;if(r.id===i.id)return r.id;for(;r.id!==i.id;)Xc(r)&&(r=n[r.parent]),Xc(i)&&(i=n[i.parent]);return r.id}function jSe(e,t,n){const r=Hpt(e,t,n),i=n[r],o=[],s=[];let[a,l]=[e,t];for(;a.id!==i.id;)o.push(a),Xc(a)&&(a=n[a.parent]);for(o.push(a);l.id!==i.id;)s.push(l),Xc(l)&&(l=n[l.parent]);const u=s.reverse();return[...o,...u].map(c=>c.id)}function Vpt(e,t){if(Xc(e)&&e.parent===t.id)return!0;if(Xc(t)&&t.parent===e.id)return!1;throw new Error("Incorrect use of function. Nodes are not connected to each other.")}function zSe(e,t){return{...e,children:e.children.map(n=>zSe(t[n],t)),name:`${e.label}`}}vpt();function Wpt(e){return e.length===2?Tpt(e):e}class Hp{static create(){return new Hp}constructor(){this.registry=new Map}has(t){return this.registry.has(t)}register(t,n,r){const i=n.length===2;if(n.length>2)throw new Error("Incorrect action function signature. Action function can only have two arguments at most!");if(this.has(t))throw new Error(`Already registered: ${t}`);const{label:o=t,eventType:s=t}=r||{};return this.registry.set(t,{func:Wpt(n),config:{hasSideEffects:!i,label:typeof o=="string"?()=>o:o,eventType:s}}),dh(t)}get(t){const n=this.registry.get(t);if(!n)throw new Error(`Not registered: ${t}`);return n}}const USe={readingtabularjson:JSON.stringify({students:{student:[{name:"Bob",age:12,contact:{email:"bob@example.com",phone:"+123456789",address:"123 Bob St, Some City"},courses:{course:{course_name:"Math 101",quizzes:{quiz:[{id:1,grade:8,weight:.1},{id:2,grade:9,weight:.1}]},midterm:{grade:77,weight:.3},final:{grade:87,weight:.5},total_score:82.3,attendance:{total_classes:30,attended_classes:28,absent_classes:2}}},extra_curricular:{sports:{sport:[{sport_name:"Soccer",position:"Forward",team:"The Tigers"},{sport_name:"Basketball",position:"Guard",team:"The Eagles"}]},clubs:{club:[{club_name:"Science Club",role:"President"},{club_name:"Drama Club",role:"Member"}]}}},{name:"Eve",age:13,contact:{email:"eve@example.com",phone:"+987654321",address:"456 Eve St, Other City"},courses:{course:{course_name:"Math 101",quizzes:{quiz:[{id:1,grade:9,weight:.15},{id:2,grade:10,weight:.15}]},midterm:{grade:"AB(absent)",weight:.3},final:{grade:77,weight:.4},total_score:78.3,attendance:{total_classes:30,attended_classes:27,absent_classes:3}}},extra_curricular:{sports:{sport:{sport_name:"Tennis",position:"Singles",team:"The Champions"}},clubs:{club:{club_name:"Art Club",role:"Vice President"}}}},{name:"Alice",age:14,contact:{email:"alice@example.com",phone:"+111222333",address:"789 Alice St, Another City"},courses:{course:{course_name:"Science 101",quizzes:{quiz:[{id:1,grade:7,weight:.2},{id:2,grade:8,weight:.2}]},midterm:{grade:85,weight:.3},final:{grade:90,weight:.5},total_score:84.7,attendance:{total_classes:30,attended_classes:29,absent_classes:1}}},extra_curricular:{sports:{sport:{sport_name:"Swimming",position:"Freestyle",team:"Blue Sharks"}},clubs:{club:[{club_name:"Chess Club",role:"Member"},{club_name:"Literature Club",role:"Secretary"}]}}}]}},null,2),readingtabularxml:`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<students>
  <student>
    <name>Bob</name>
    <age>12</age>
    <contact>
      <email>bob@example.com</email>
      <phone>+123456789</phone>
      <address>123 Bob St, Some City</address>
    </contact>
    <courses>
      <course>
        <course_name>Math 101</course_name>
        <quizzes>
          <quiz>
            <id>1</id>
            <grade>8</grade>
            <weight>0.1</weight>
          </quiz>
          <quiz>
            <id>2</id>
            <grade>9</grade>
            <weight>0.1</weight>
          </quiz>
        </quizzes>
        <midterm>
          <grade>77</grade>
          <weight>0.3</weight>
        </midterm>
        <final>
          <grade>87</grade>
          <weight>0.5</weight>
        </final>
        <total_score>82.3</total_score>
        <attendance>
          <total_classes>30</total_classes>
          <attended_classes>28</attended_classes>
          <absent_classes>2</absent_classes>
        </attendance>
      </course>
    </courses>
    <extra_curricular>
      <sports>
        <sport>
          <sport_name>Soccer</sport_name>
          <position>Forward</position>
          <team>The Tigers</team>
        </sport>
        <sport>
          <sport_name>Basketball</sport_name>
          <position>Guard</position>
          <team>The Eagles</team>
        </sport>
      </sports>
      <clubs>
        <club>
          <club_name>Science Club</club_name>
          <role>President</role>
        </club>
        <club>
          <club_name>Drama Club</club_name>
          <role>Member</role>
        </club>
      </clubs>
    </extra_curricular>
  </student>
  <student>
    <name>Eve</name>
    <age>13</age>
    <contact>
      <email>eve@example.com</email>
      <phone>+987654321</phone>
      <address>456 Eve St, Other City</address>
    </contact>
    <courses>
      <course>
        <course_name>Math 101</course_name>
        <quizzes>
          <quiz>
            <id>1</id>
            <grade>9</grade>
            <weight>0.15</weight>
          </quiz>
          <quiz>
            <id>2</id>
            <grade>10</grade>
            <weight>0.15</weight>
          </quiz>
        </quizzes>
        <midterm>
          <grade>AB(absent)</grade> <!--The student was absent for the midterm exam.-->
          <weight>0.3</weight>
        </midterm>
        <final>
          <grade>77</grade>
          <weight>0.4</weight>
        </final>
        <total_score>78.3</total_score>
        <attendance>
          <total_classes>30</total_classes>
          <attended_classes>27</attended_classes>
          <absent_classes>3</absent_classes>
        </attendance>
      </course>
    </courses>
    <extra_curricular>
      <sports>
        <sport>
          <sport_name>Tennis</sport_name>
          <position>Singles</position>
          <team>The Champions</team>
        </sport>
      </sports>
      <clubs>
        <club>
          <club_name>Art Club</club_name>
          <role>Vice President</role>
        </club>
      </clubs>
    </extra_curricular>
  </student>
  <student>
    <name>Alice</name>
    <age>14</age>
    <contact>
      <email>alice@example.com</email>
      <phone>+111222333</phone>
      <address>789 Alice St, Another City</address>
    </contact>
    <courses>
      <course>
        <course_name>Science 101</course_name>
        <quizzes>
          <quiz>
            <id>1</id>
            <grade>7</grade>
            <weight>0.2</weight>
          </quiz>
          <quiz>
            <id>2</id>
            <grade>8</grade>
            <weight>0.2</weight>
          </quiz>
        </quizzes>
        <midterm>
          <grade>85</grade>
          <weight>0.3</weight>
        </midterm>
        <final>
          <grade>90</grade>
          <weight>0.5</weight>
        </final>
        <total_score>84.7</total_score>
        <attendance>
          <total_classes>30</total_classes>
          <attended_classes>29</attended_classes>
          <absent_classes>1</absent_classes>
        </attendance>
      </course>
    </courses>
    <extra_curricular>
      <sports>
        <sport>
          <sport_name>Swimming</sport_name>
          <position>Freestyle</position>
          <team>Blue Sharks</team>
        </sport>
      </sports>
      <clubs>
        <club>
          <club_name>Chess Club</club_name>
          <role>Member</role>
        </club>
        <club>
          <club_name>Literature Club</club_name>
          <role>Secretary</role>
        </club>
      </clubs>
    </extra_curricular>
  </student>
</students>`,readingtabulartoml:`[students]

[[students.student]]
name = "Bob"
age = 12

[students.student.contact]
email = "bob@example.com"
phone = "+123456789"
address = "123 Bob St, Some City"

[students.student.courses]

[students.student.courses.course]
course_name = "Math 101"
total_score = 82.3

[students.student.courses.course.quizzes]

[[students.student.courses.course.quizzes.quiz]]
id = 1
grade = 8.0
weight = 0.1

[[students.student.courses.course.quizzes.quiz]]
id = 2
grade = 9.0
weight = 0.1

[students.student.courses.course.midterm]
grade = 77.0
weight = 0.3

[students.student.courses.course.final]
grade = 87.0
weight = 0.5

[students.student.courses.course.attendance]
total_classes = 30
attended_classes = 28
absent_classes = 2

[students.student.extra_curricular]

[students.student.extra_curricular.sports]

[[students.student.extra_curricular.sports.sport]]
sport_name = "Soccer"
position = "Forward"
team = "The Tigers"

[[students.student.extra_curricular.sports.sport]]
sport_name = "Basketball"
position = "Guard"
team = "The Eagles"

[students.student.extra_curricular.clubs]

[[students.student.extra_curricular.clubs.club]]
club_name = "Science Club"
role = "President"

[[students.student.extra_curricular.clubs.club]]
club_name = "Drama Club"
role = "Member"

[[students.student]]
name = "Eve"
age = 13

[students.student.contact]
email = "eve@example.com"
phone = "+987654321"
address = "456 Eve St, Other City"

[students.student.courses]

[students.student.courses.course]
course_name = "Math 101"
total_score = 78.3

[students.student.courses.course.quizzes]

[[students.student.courses.course.quizzes.quiz]]
id = 1
grade = 9.0
weight = 0.15

[[students.student.courses.course.quizzes.quiz]]
id = 2
grade = 10.0
weight = 0.15

[students.student.courses.course.midterm]
grade = "AB(absent)"   # The student was absent for the midterm exam.
weight = 0.3

[students.student.courses.course.final]
grade = 77.0
weight = 0.4

[students.student.courses.course.attendance]
total_classes = 30
attended_classes = 27
absent_classes = 3

[students.student.extra_curricular]

[students.student.extra_curricular.sports]

[students.student.extra_curricular.sports.sport]
sport_name = "Tennis"
position = "Singles"
team = "The Champions"

[students.student.extra_curricular.clubs]

[students.student.extra_curricular.clubs.club]
club_name = "Art Club"
role = "Vice President"

[[students.student]]
name = "Alice"
age = 14

[students.student.contact]
email = "alice@example.com"
phone = "+111222333"
address = "789 Alice St, Another City"

[students.student.courses]

[students.student.courses.course]
course_name = "Science 101"
total_score = 84.7

[students.student.courses.course.quizzes]

[[students.student.courses.course.quizzes.quiz]]
id = 1
grade = 7.0
weight = 0.2

[[students.student.courses.course.quizzes.quiz]]
id = 2
grade = 8.0
weight = 0.2

[students.student.courses.course.midterm]
grade = 85.0
weight = 0.3

[students.student.courses.course.final]
grade = 90.0
weight = 0.5

[students.student.courses.course.attendance]
total_classes = 30
attended_classes = 29
absent_classes = 1

[students.student.extra_curricular]

[students.student.extra_curricular.sports]

[students.student.extra_curricular.sports.sport]
sport_name = "Swimming"
position = "Freestyle"
team = "Blue Sharks"

[students.student.extra_curricular.clubs]

[[students.student.extra_curricular.clubs.club]]
club_name = "Chess Club"
role = "Member"

[[students.student.extra_curricular.clubs.club]]
club_name = "Literature Club"
role = "Secretary"`,readingtabularyaml:`students:
  student:
    - name: Bob
      age: 12
      contact:
        email: bob@example.com
        phone: '+123456789'
        address: 123 Bob St, Some City
      courses:
        course:
          course_name: Math 101
          quizzes:
            quiz:
              - id: 1
                grade: 8
                weight: 0.1
              - id: 2
                grade: 9
                weight: 0.1
          midterm:
            grade: 77
            weight: 0.3
          final:
            grade: 87
            weight: 0.5
          total_score: 82.3
          attendance:
            total_classes: 30
            attended_classes: 28
            absent_classes: 2
      extra_curricular:
        sports:
          sport:
            - sport_name: Soccer
              position: Forward
              team: The Tigers
            - sport_name: Basketball
              position: Guard
              team: The Eagles
        clubs:
          club:
            - club_name: Science Club
              role: President
            - club_name: Drama Club
              role: Member
    - name: Eve
      age: 13
      contact:
        email: eve@example.com
        phone: '+987654321'
        address: 456 Eve St, Other City
      courses:
        course:
          course_name: Math 101
          quizzes:
            quiz:
              - id: 1
                grade: 9
                weight: 0.15
              - id: 2
                grade: 10
                weight: 0.15
          midterm:
            grade: AB(absent)  # The student was absent for the midterm exam.
            weight: 0.3
          final:
            grade: 77
            weight: 0.4
          total_score: 78.3
          attendance:
            total_classes: 30
            attended_classes: 27
            absent_classes: 3
      extra_curricular:
        sports:
          sport:
            sport_name: Tennis
            position: Singles
            team: The Champions
        clubs:
          club:
            club_name: Art Club
            role: Vice President
    - name: Alice
      age: 14
      contact:
        email: alice@example.com
        phone: '+111222333'
        address: 789 Alice St, Another City
      courses:
        course:
          course_name: Science 101
          quizzes:
            quiz:
              - id: 1
                grade: 7
                weight: 0.2
              - id: 2
                grade: 8
                weight: 0.2
          midterm:
            grade: 85
            weight: 0.3
          final:
            grade: 90
            weight: 0.5
          total_score: 84.7
          attendance:
            total_classes: 30
            attended_classes: 29
            absent_classes: 1
      extra_curricular:
        sports:
          sport:
            sport_name: Swimming
            position: Freestyle
            team: Blue Sharks
        clubs:
          club:
            - club_name: Chess Club
              role: Member
            - club_name: Literature Club
              role: Secretary`,readingtabularjsonc:`{
    "students": {
      "student": [
        {
          // comments
          "name": "Bob",
          "age": 12,
          "contact": {
            "email": "bob@example.com",
            "phone": "+123456789",
            "address": "123 Bob St, Some City"
          },
          "courses": {
            "course": {
              "course_name": "Math 101",
              "quizzes": {
                "quiz": [
                  {
                    "id": 1,
                    "grade": 8,
                    "weight": 0.1
                  },
                  {
                    "id": 2,
                    "grade": 9,
                    "weight": 0.1
                  }
                ]
              },
              "midterm": {
                "grade": 77,
                "weight": 0.3
              },
              "final": {
                "grade": 87,
                "weight": 0.5
              },
              "total_score": 82.3,
              "attendance": {
                "total_classes": 30,
                "attended_classes": 28,
                "absent_classes": 2
              }
            }
          },
          "extra_curricular": {
            "sports": {
              "sport": [
                {
                  "sport_name": "Soccer",
                  "position": "Forward",
                  "team": "The Tigers"
                },
                {
                  "sport_name": "Basketball",
                  "position": "Guard",
                  "team": "The Eagles"
                }
              ]
            },
            "clubs": {
              "club": [
                {
                  "club_name": "Science Club",
                  "role": "President"
                },
                {
                  "club_name": "Drama Club",
                  "role": "Member"
                }
              ]
            }
          }
        },
        {
          "name": "Eve",
          "age": 13,
          "contact": {
            "email": "eve@example.com",
            "phone": "+987654321",
            "address": "456 Eve St, Other City"
          },
          "courses": {
            "course": {
              "course_name": "Math 101",
              "quizzes": {
                "quiz": [
                  {
                    "id": 1,
                    "grade": 9,
                    "weight": 0.15
                  },
                  {
                    "id": 2,
                    "grade": 10,
                    "weight": 0.15
                  }
                ]
              },
              "midterm": {
                "grade": "AB(absent)",
                "weight": 0.3
              },
              "final": {
                "grade": 77,
                "weight": 0.4
              },
              "total_score": 78.3,
              "attendance": {
                "total_classes": 30,
                "attended_classes": 27,
                "absent_classes": 3
              }
            }
          },
          "extra_curricular": {
            "sports": {
              "sport": {
                "sport_name": "Tennis",
                "position": "Singles",
                "team": "The Champions"
              }
            },
            "clubs": {
              "club": {
                "club_name": "Art Club",
                "role": "Vice President"
              }
            }
          }
        },
        {
          "name": "Alice",
          "age": 14,
          "contact": {
            "email": "alice@example.com",
            "phone": "+111222333",
            "address": "789 Alice St, Another City"
          },
          "courses": {
            "course": {
              "course_name": "Science 101",
              "quizzes": {
                "quiz": [
                  {
                    "id": 1,
                    "grade": 7,
                    "weight": 0.2
                  },
                  {
                    "id": 2,
                    "grade": 8,
                    "weight": 0.2
                  }
                ]
              },
              "midterm": {
                "grade": 85,
                "weight": 0.3
              },
              "final": {
                "grade": 90,
                "weight": 0.5
              },
              "total_score": 84.7,
              "attendance": {
                "total_classes": 30,
                "attended_classes": 29,
                "absent_classes": 1
              }
            }
          },
          "extra_curricular": {
            "sports": {
              "sport": {
                "sport_name": "Swimming",
                "position": "Freestyle",
                "team": "Blue Sharks"
              }
            },
            "clubs": {
              "club": [
                {
                  "club_name": "Chess Club",
                  "role": "Member"
                },
                {
                  "club_name": "Literature Club",
                  "role": "Secretary"
                }
              ]
            }
          }
        }
      ]
    }
  }`,readingtabularhjson:`
  students:
  {
    student:
    [
      {
        name: Bob
        age: 12
        contact:
        {
          email: bob@example.com
          phone: +123456789
          address: 123 Bob St, Some City
        }
        courses:
        {
          course:
          {
            course_name: Math 101
            quizzes:
            {
              quiz:
              [
                {
                  id: 1
                  grade: 8
                  weight: 0.1
                }
                {
                  id: 2
                  grade: 9
                  weight: 0.1
                }
              ]
            }
            midterm:
            {
              grade: 77
              weight: 0.3
            }
            final:
            {
              grade: 87
              weight: 0.5
            }
            total_score: 82.3
            attendance:
            {
              total_classes: 30
              attended_classes: 28
              absent_classes: 2
            }
          }
        }
        extra_curricular:
        {
          sports:
          {
            sport:
            [
              {
                sport_name: Soccer
                position: Forward
                team: The Tigers
              }
              {
                sport_name: Basketball
                position: Guard
                team: The Eagles
              }
            ]
          }
          clubs:
          {
            club:
            [
              {
                club_name: Science Club
                role: President
              }
              {
                club_name: Drama Club
                role: Member
              }
            ]
          }
        }
      }
      {
        name: Eve
        age: 13
        contact:
        {
          email: eve@example.com
          phone: +987654321
          address: 456 Eve St, Other City
        }
        courses:
        {
          course:
          {
            course_name: Math 101
            quizzes:
            {
              quiz:
              [
                {
                  id: 1
                  grade: 9
                  weight: 0.15
                }
                {
                  id: 2
                  grade: 10
                  weight: 0.15
                }
              ]
            }
            midterm:
            {
              grade: AB(absent) // The student was absent for the midterm exam.
              weight: 0.3
            }
            final:
            {
              grade: 77
              weight: 0.4
            }
            total_score: 78.3
            attendance:
            {
              total_classes: 30
              attended_classes: 27
              absent_classes: 3
            }
          }
        }
        extra_curricular:
        {
          sports:
          {
            sport:
            {
              sport_name: Tennis
              position: Singles
              team: The Champions
            }
          }
          clubs:
          {
            club:
            {
              club_name: Art Club
              role: Vice President
            }
          }
        }
      }
      {
        name: Alice
        age: 14
        contact:
        {
          email: alice@example.com
          phone: +111222333
          address: 789 Alice St, Another City
        }
        courses:
        {
          course:
          {
            course_name: Science 101
            quizzes:
            {
              quiz:
              [
                {
                  id: 1
                  grade: 7
                  weight: 0.2
                }
                {
                  id: 2
                  grade: 8
                  weight: 0.2
                }
              ]
            }
            midterm:
            {
              grade: 85
              weight: 0.3
            }
            final:
            {
              grade: 90
              weight: 0.5
            }
            total_score: 84.7
            attendance:
            {
              total_classes: 30
              attended_classes: 29
              absent_classes: 1
            }
          }
        }
        extra_curricular:
        {
          sports:
          {
            sport:
            {
              sport_name: Swimming
              position: Freestyle
              team: Blue Sharks
            }
          }
          clubs:
          {
            club:
            [
              {
                club_name: Chess Club
                role: Member
              }
              {
                club_name: Literature Club
                role: Secretary
              }
            ]
          }
        }
      }
    ]
  }`,readingtabularjson5:`{
    students: {
        student: [
            {
                name: 'Bob',
                age: 12,
                contact: {
                    email: 'bob@example.com',
                    phone: '+123456789',
                    address: '123 Bob St, Some City'
                },
                courses: {
                    course: {
                        course_name: 'Math 101',
                        quizzes: {
                            quiz: [
                                {
                                    id: 1,
                                    grade: 8,
                                    weight: 0.1
                                },
                                {
                                    id: 2,
                                    grade: 9,
                                    weight: 0.1
                                }
                            ]
                        },
                        midterm: {
                            grade: 77,
                            weight: 0.3
                        },
                        final: {
                            grade: 87,
                            weight: 0.5
                        },
                        total_score: 82.3,
                        attendance: {
                            total_classes: 30,
                            attended_classes: 28,
                            absent_classes: 2
                        }
                    }
                },
                extra_curricular: {
                    sports: {
                        sport: [
                            {
                                sport_name: 'Soccer',
                                position: 'Forward',
                                team: 'The Tigers'
                            },
                            {
                                sport_name: 'Basketball',
                                position: 'Guard',
                                team: 'The Eagles'
                            }
                        ]
                    },
                    clubs: {
                        club: [
                            {
                                club_name: 'Science Club',
                                role: 'President'
                            },
                            {
                                club_name: 'Drama Club',
                                role: 'Member'
                            }
                        ]
                    }
                }
            },
            {
                name: 'Eve',
                age: 13,
                contact: {
                    email: 'eve@example.com',
                    phone: '+987654321',
                    address: '456 Eve St, Other City'
                },
                courses: {
                    course: {
                        course_name: 'Math 101',
                        quizzes: {
                            quiz: [
                                {
                                    id: 1,
                                    grade: 9,
                                    weight: 0.15
                                },
                                {
                                    id: 2,
                                    grade: 10,
                                    weight: 0.15
                                }
                            ]
                        },
                        midterm: {
                            grade: 'AB(absent)',  // The student was absent for the midterm exam.
                            weight: 0.3
                        },
                        final: {
                            grade: 77,
                            weight: 0.4
                        },
                        total_score: 78.3,
                        attendance: {
                            total_classes: 30,
                            attended_classes: 27,
                            absent_classes: 3
                        }
                    }
                },
                extra_curricular: {
                    sports: {
                        sport: {
                            sport_name: 'Tennis',
                            position: 'Singles',
                            team: 'The Champions'
                        }
                    },
                    clubs: {
                        club: {
                            club_name: 'Art Club',
                            role: 'Vice President'
                        }
                    }
                }
            },
            {
                name: 'Alice',
                age: 14,
                contact: {
                    email: 'alice@example.com',
                    phone: '+111222333',
                    address: '789 Alice St, Another City'
                },
                courses: {
                    course: {
                        course_name: 'Science 101',
                        quizzes: {
                            quiz: [
                                {
                                    id: 1,
                                    grade: 7,
                                    weight: 0.2
                                },
                                {
                                    id: 2,
                                    grade: 8,
                                    weight: 0.2
                                }
                            ]
                        },
                        midterm: {
                            grade: 85,
                            weight: 0.3
                        },
                        final: {
                            grade: 90,
                            weight: 0.5
                        },
                        total_score: 84.7,
                        attendance: {
                            total_classes: 30,
                            attended_classes: 29,
                            absent_classes: 1
                        }
                    }
                },
                extra_curricular: {
                    sports: {
                        sport: {
                            sport_name: 'Swimming',
                            position: 'Freestyle',
                            team: 'Blue Sharks'
                        }
                    },
                    clubs: {
                        club: [
                            {
                                club_name: 'Chess Club',
                                role: 'Member'
                            },
                            {
                                club_name: 'Literature Club',
                                role: 'Secretary'
                            }
                        ]
                    }
                }
            }
        ]
    }
}`,readingconfigjson:JSON.stringify({name:"d3",version:"7.9.0",description:"Data-Driven Documents",homepage:"d3js.org",repository:{type:"git",url:"github.com/d3/d3.git"},keywords:["d3","dom","visualization","svg","animation","canvas"],license:"ISC",author:{firstname:"Mike",lastname:"Bostock"},type:"module",files:["dist/d3.js","dist/d3.min.js","src/**/*.js"],module:"src/index.js",main:"src/index.js",jsdelivr:"dist/d3.min.js",unpkg:"dist/d3.min.js",exports:{umd:"./dist/d3.min.js",default:"./src/index.js"},dependencies:{"d3-array":"^3.2.4","d3-axis":"^3.0.0","d3-brush":"^3.0.0","d3-chord":"^3.0.1","d3-color":"^3.1.0","d3-contour":"^4.0.2","d3-delaunay":"^6.0.4","d3-dispatch":"^3.0.1","d3-drag":"^3.0.0","d3-dsv":"^3.0.1","d3-ease":"^3.0.1","d3-fetch":"^3.0.1","d3-force":"^3.0.0","d3-format":"^3.1.0","d3-geo":"^3.1.1","d3-hierarchy":"^3.1.2","d3-interpolate":"^3.0.1","d3-path":"^3.1.0","d3-polygon":"^3.0.1","d3-quadtree":"^3.0.1","d3-random":"^3.0.1","d3-scale":"^4.0.2","d3-scale-chromatic":"^3.1.0","d3-selection":"^3.0.0","d3-shape":"^3.2.0","d3-time":"^3.1.0","d3-time-format":"^4.1.0","d3-timer":"^3.0.1","d3-transition":"^3.0.1","d3-zoom":"^3.0.0"},devDependencies:{"@observablehq/plot":"^0.6.7","@observablehq/runtime":"^5.7.3","@rollup/plugin-json":"^6.1.0","@rollup/plugin-node-resolve":"^15.2.3","@rollup/plugin-terser":"^0.4.0",eslint:"^8.57.0",mocha:"^10.3.0",rollup:"^3.29.4","topojson-client":"^3.1.0",vitepress:"^1.4.0"},scripts:{prepublishOnly:"rm -rf dist && rollup -c",postpublish:"git push && git push --tags","docs/dev":"node --experimental-network-imports node_modules/vitepress/dist/node/cli.js dev docs","docs/build":"./prebuild.sh && node --experimental-network-imports node_modules/vitepress/dist/node/cli.js build docs","docs/preview":"vitepress preview docs"},engines:{node:">=12"}},null,2),readingconfigxml:`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<root>
  <name>d3</name>
  <version>7.9.0</version> 
  <description>Data-Driven Documents</description>
  <homepage>d3js.org</homepage>
  <repository>
    <type>git</type>
    <url>github.com/d3/d3.git</url>
  </repository>
  <keywords>d3</keywords>
  <keywords>dom</keywords>
  <keywords>visualization</keywords>
  <keywords>svg</keywords>
  <keywords>animation</keywords>
  <keywords>canvas</keywords>
  <license>ISC</license>
  <author>
    <firstname>Mike</firstname>
    <lastname>Bostock</lastname>
  </author>
  <type>module</type>
  <files>dist/d3.js</files>
  <files>dist/d3.min.js</files>
  <files>src/**/*.js</files>
  <module>src/index.js</module>
  <main>src/index.js</main>
  <jsdelivr>dist/d3.min.js</jsdelivr>
  <unpkg>dist/d3.min.js</unpkg>
  <exports>
    <umd>./dist/d3.min.js</umd>
    <default>./src/index.js</default>
  </exports>
  <dependencies>
    <d3-array>^3.2.4</d3-array>
    <d3-axis>^3.0.0</d3-axis>
    <d3-brush>^3.0.0</d3-brush>
    <d3-chord>^3.0.1</d3-chord>
    <d3-color>^3.1.0</d3-color>
    <d3-contour>^4.0.2</d3-contour>
    <d3-delaunay>^6.0.4</d3-delaunay>  <!--this version might have compatibility issues-->
    <d3-dispatch>^3.0.1</d3-dispatch>
    <d3-drag>^3.0.0</d3-drag>
    <d3-dsv>^3.0.1</d3-dsv>
    <d3-ease>^3.0.1</d3-ease>
    <d3-fetch>^3.0.1</d3-fetch>
    <d3-force>^3.0.0</d3-force>
    <d3-format>^3.1.0</d3-format>
    <d3-geo>^3.1.1</d3-geo>
    <d3-hierarchy>^3.1.2</d3-hierarchy>
    <d3-interpolate>^3.0.1</d3-interpolate>
    <d3-path>^3.1.0</d3-path>
    <d3-polygon>^3.0.1</d3-polygon>
    <d3-quadtree>^3.0.1</d3-quadtree>
    <d3-random>^3.0.1</d3-random>
    <d3-scale>^4.0.2</d3-scale>
    <d3-scale-chromatic>^3.1.0</d3-scale-chromatic>
    <d3-selection>^3.0.0</d3-selection>
    <d3-shape>^3.2.0</d3-shape>
    <d3-time>^3.1.0</d3-time>
    <d3-time-format>^4.1.0</d3-time-format>
    <d3-timer>^3.0.1</d3-timer>
    <d3-transition>^3.0.1</d3-transition>
    <d3-zoom>^3.0.0</d3-zoom>
  </dependencies>
  <devDependencies>
    <_x0040_observablehq_x002F_plot>^0.6.7</_x0040_observablehq_x002F_plot>
    <_x0040_observablehq_x002F_runtime>^5.7.3</_x0040_observablehq_x002F_runtime>
    <_x0040_rollup_x002F_plugin-json>^6.1.0</_x0040_rollup_x002F_plugin-json>
    <_x0040_rollup_x002F_plugin-node-resolve>^15.2.3</_x0040_rollup_x002F_plugin-node-resolve>
    <_x0040_rollup_x002F_plugin-terser>^0.4.0</_x0040_rollup_x002F_plugin-terser>
    <eslint>^8.57.0</eslint>
    <mocha>^10.3.0</mocha>
    <rollup>^3.29.4</rollup>
    <topojson-client>^3.1.0</topojson-client>
    <vitepress>^1.4.0</vitepress>
  </devDependencies>
  <scripts>
    <prepublishOnly>rm -rf dist && rollup -c</prepublishOnly>
    <postpublish>git push && git push --tags</postpublish>
    <docs/dev>node --experimental-network-imports node_modules/vitepress/dist/node/cli.js dev docs</docs/dev>
    <docs/build>./prebuild.sh && node --experimental-network-imports node_modules/vitepress/dist/node/cli.js build docs</docs/build>
    <docs/preview>vitepress preview docs</docs/preview>
  <\/scripts>
  <engines>
    <node> >=12</node>
  </engines>
</root>`,readingconfigtoml:`name = "d3"
version = "7.9.0"
description = "Data-Driven Documents"
homepage = "d3js.org"
keywords = ["d3", "dom", "visualization", "svg", "animation", "canvas"]
license = "ISC"
type = "module"
files = ["dist/d3.js", "dist/d3.min.js", "src/**/*.js"]
module = "src/index.js"
main = "src/index.js"
jsdelivr = "dist/d3.min.js"
unpkg = "dist/d3.min.js"

[repository]
type = "git"
url = "github.com/d3/d3.git"

[author]
firstname = "Mike"
lastname = "Bostock"

[exports]
umd = "./dist/d3.min.js"
default = "./src/index.js"

[dependencies]
d3-array = "^3.2.4"
d3-axis = "^3.0.0"
d3-brush = "^3.0.0"
d3-chord = "^3.0.1"
d3-color = "^3.1.0"
d3-contour = "^4.0.2"
d3-delaunay = "^6.0.4" # this version might have compatibility issues
d3-dispatch = "^3.0.1"
d3-drag = "^3.0.0"
d3-dsv = "^3.0.1"
d3-ease = "^3.0.1"
d3-fetch = "^3.0.1"
d3-force = "^3.0.0"
d3-format = "^3.1.0"
d3-geo = "^3.1.1"
d3-hierarchy = "^3.1.2"
d3-interpolate = "^3.0.1"
d3-path = "^3.1.0"
d3-polygon = "^3.0.1"
d3-quadtree = "^3.0.1"
d3-random = "^3.0.1"
d3-scale = "^4.0.2"
d3-scale-chromatic = "^3.1.0"
d3-selection = "^3.0.0"
d3-shape = "^3.2.0"
d3-time = "^3.1.0"
d3-time-format = "^4.1.0"
d3-timer = "^3.0.1"
d3-transition = "^3.0.1"
d3-zoom = "^3.0.0"

[devDependencies]
@observablehq/plot = "^0.6.7"
@observablehq/runtime = "^5.7.3"
@rollup/plugin-json = "^6.1.0"
@rollup/plugin-node-resolve = "^15.2.3"
@rollup/plugin-terser = "^0.4.0"
eslint = "^8.57.0"
mocha = "^10.3.0"
rollup = "^3.29.4"
topojson-client = "^3.1.0"
vitepress = "^1.4.0"

[scripts]
prepublishOnly = "rm -rf dist && rollup -c"
postpublish = "git push && git push --tags"
docs/dev = "node --experimental-network-imports node_modules/vitepress/dist/node/cli.js dev docs"
docs/build = "./prebuild.sh && node --experimental-network-imports node_modules/vitepress/dist/node/cli.js build docs"
docs/preview = "vitepress preview docs"

[engines]
node = ">=12"`,readingconfigyaml:`
  name: d3
  version: 7.9.0
  description: 'Data-Driven Documents'
  homepage: d3js.org
  repository:
    type: git
    url: github.com/d3/d3.git
  keywords:
    - d3
    - dom
    - visualization
    - svg
    - animation
    - canvas
  license: ISC
  author:
    firstname: Mike
    lastname:  Bostock
  type: module
  files:
    - dist/d3.js
    - dist/d3.min.js
    - 'src/**/*.js'
  module: src/index.js
  main: src/index.js
  jsdelivr: dist/d3.min.js
  unpkg: dist/d3.min.js
  exports:
    umd: ./dist/d3.min.js
    default: ./src/index.js
  dependencies:
    d3-array: ^3.2.4
    d3-axis: ^3.0.0
    d3-brush: ^3.0.0
    d3-chord: ^3.0.1
    d3-color: ^3.1.0
    d3-contour: ^4.0.2
    d3-delaunay: ^6.0.4 # this version might have compatibility issues
    d3-dispatch: ^3.0.1
    d3-drag: ^3.0.0
    d3-dsv: ^3.0.1
    d3-ease: ^3.0.1
    d3-fetch: ^3.0.1
    d3-force: ^3.0.0
    d3-format: ^3.1.0
    d3-geo: ^3.1.1
    d3-hierarchy: ^3.1.2
    d3-interpolate: ^3.0.1
    d3-path: ^3.1.0
    d3-polygon: ^3.0.1
    d3-quadtree: ^3.0.1
    d3-random: ^3.0.1
    d3-scale: ^4.0.2
    d3-scale-chromatic: ^3.1.0
    d3-selection: ^3.0.0
    d3-shape: ^3.2.0
    d3-time: ^3.1.0
    d3-time-format: ^4.1.0
    d3-timer: ^3.0.1
    d3-transition: ^3.0.1
    d3-zoom: ^3.0.0
  devDependencies:
    observablehq/plot: ^0.6.7
    observablehq/runtime: ^5.7.3
    rollup/plugin-json: ^6.1.0
    rollup/plugin-node-resolve: ^15.2.3
    rollup/plugin-terser: ^0.4.0
    eslint: ^8.57.0
    mocha: ^10.3.0
    rollup: ^3.29.4
    topojson-client: ^3.1.0
    vitepress: ^1.4.0
  scripts:
    prepublishOnly: 'rm -rf dist && rollup -c'
    postpublish: 'git push && git push --tags'
    docs/dev: 'node --experimental-network-imports node_modules/vitepress/dist/node/cli.js dev docs'
    docs/build: './prebuild.sh && node --experimental-network-imports node_modules/vitepress/dist/node/cli.js build docs'
    docs/preview: 'vitepress preview docs'
  engines:
    node: '>=12'`,readingconfigjsonc:JSON.stringify({name:"d3",version:"7.9.0",description:"Data-Driven Documents",homepage:"d3js.org",repository:{type:"git",url:"github.com/d3/d3.git"},keywords:["d3","dom","visualization","svg","animation","canvas"],license:"ISC",author:{firstname:"Mike",lastname:"Bostock"},type:"module",files:["dist/d3.js","dist/d3.min.js","src/**/*.js"],module:"src/index.js",main:"src/index.js",jsdelivr:"dist/d3.min.js",unpkg:"dist/d3.min.js",exports:{umd:"./dist/d3.min.js",default:"./src/index.js"},dependencies:{"d3-array":"^3.2.4","d3-axis":"^3.0.0","d3-brush":"^3.0.0","d3-chord":"^3.0.1","d3-color":"^3.1.0","d3-contour":"^4.0.2","d3-delaunay":"^6.0.4","d3-dispatch":"^3.0.1","d3-drag":"^3.0.0","d3-dsv":"^3.0.1","d3-ease":"^3.0.1","d3-fetch":"^3.0.1","d3-force":"^3.0.0","d3-format":"^3.1.0","d3-geo":"^3.1.1","d3-hierarchy":"^3.1.2","d3-interpolate":"^3.0.1","d3-path":"^3.1.0","d3-polygon":"^3.0.1","d3-quadtree":"^3.0.1","d3-random":"^3.0.1","d3-scale":"^4.0.2","d3-scale-chromatic":"^3.1.0","d3-selection":"^3.0.0","d3-shape":"^3.2.0","d3-time":"^3.1.0","d3-time-format":"^4.1.0","d3-timer":"^3.0.1","d3-transition":"^3.0.1","d3-zoom":"^3.0.0"},devDependencies:{"@observablehq/plot":"^0.6.7","@observablehq/runtime":"^5.7.3","@rollup/plugin-json":"^6.1.0","@rollup/plugin-node-resolve":"^15.2.3","@rollup/plugin-terser":"^0.4.0",eslint:"^8.57.0",mocha:"^10.3.0",rollup:"^3.29.4","topojson-client":"^3.1.0",vitepress:"^1.4.0"},scripts:{prepublishOnly:"rm -rf dist && rollup -c",postpublish:"git push && git push --tags","docs/dev":"node --experimental-network-imports node_modules/vitepress/dist/node/cli.js dev docs","docs/build":"./prebuild.sh && node --experimental-network-imports node_modules/vitepress/dist/node/cli.js build docs","docs/preview":"vitepress preview docs"},engines:{node:">=12"}},null,2),readingconfigjson5:`{
    name: 'd3',
    version: '7.9.0',
    description: 'Data-Driven Documents',
    homepage: 'd3js.org',
    repository: {
        type: 'git',
        url: 'github.com/d3/d3.git'
    },
    keywords: [
        'd3',
        'dom',
        'visualization',
        'svg',
        'animation',
        'canvas'
    ],
    license: 'ISC',
    author: {
        firstname: 'Mike',
        lastname: 'Bostock'
    },
    type: 'module',
    files: [
        'dist/d3.js',
        'dist/d3.min.js',
        'src/**/*.js'
    ],
    module: 'src/index.js',
    main: 'src/index.js',
    jsdelivr: 'dist/d3.min.js',
    unpkg: 'dist/d3.min.js',
    exports: {
        umd: './dist/d3.min.js',
        default: './src/index.js'
    },
    dependencies: {
        'd3-array': '^3.2.4',
        'd3-axis': '^3.0.0',
        'd3-brush': '^3.0.0',
        'd3-chord': '^3.0.1',
        'd3-color': '^3.1.0',
        'd3-contour': '^4.0.2',
        'd3-delaunay': '^6.0.4', // this version might have compatibility issues
        'd3-dispatch': '^3.0.1',
        'd3-drag': '^3.0.0',
        'd3-dsv': '^3.0.1',
        'd3-ease': '^3.0.1',
        'd3-fetch': '^3.0.1',
        'd3-force': '^3.0.0',
        'd3-format': '^3.1.0',
        'd3-geo': '^3.1.1',
        'd3-hierarchy': '^3.1.2',
        'd3-interpolate': '^3.0.1',
        'd3-path': '^3.1.0',
        'd3-polygon': '^3.0.1',
        'd3-quadtree': '^3.0.1',
        'd3-random': '^3.0.1',
        'd3-scale': '^4.0.2',
        'd3-scale-chromatic': '^3.1.0',
        'd3-selection': '^3.0.0',
        'd3-shape': '^3.2.0',
        'd3-time': '^3.1.0',
        'd3-time-format': '^4.1.0',
        'd3-timer': '^3.0.1',
        'd3-transition': '^3.0.1',
        'd3-zoom': '^3.0.0'
    },
    devDependencies: {
        '@observablehq/plot': '^0.6.7',
        '@observablehq/runtime': '^5.7.3',
        '@rollup/plugin-json': '^6.1.0',
        '@rollup/plugin-node-resolve': '^15.2.3',
        '@rollup/plugin-terser': '^0.4.0',
        eslint: '^8.57.0',
        mocha: '^10.3.0',
        rollup: '^3.29.4',
        'topojson-client': '^3.1.0',
        vitepress: '^1.4.0'
    },
    scripts: {
        prepublishOnly: 'rm -rf dist && rollup -c',
        postpublish: 'git push && git push --tags',
        'docs/dev': 'node --experimental-network-imports node_modules/vitepress/dist/node/cli.js dev docs',
        'docs/build': './prebuild.sh && node --experimental-network-imports node_modules/vitepress/dist/node/cli.js build docs',
        'docs/preview': 'vitepress preview docs'
    },
    engines: {
        node: '>=12'
    }
}`,readingconfighjson:`{
    name: d3
    version: 7.9.0
    description: Data-Driven Documents
    homepage: d3js.org
    repository:
    {
      type: git
      url: github.com/d3/d3.git
    }
    keywords:
    [
      d3
      dom
      visualization
      svg
      animation
      canvas
    ]
    license: ISC
    author:
    {
      firstname: Mike
      lastname:  Bostock
    }
    type: module
    files:
    [
      dist/d3.js
      dist/d3.min.js
      src/**/*.js
    ]
    module: src/index.js
    main: src/index.js
    jsdelivr: dist/d3.min.js
    unpkg: dist/d3.min.js
    exports:
    {
      umd: ./dist/d3.min.js
      default: ./src/index.js
    }
    dependencies:
    {
      d3-array: ^3.2.4
      d3-axis: ^3.0.0
      d3-brush: ^3.0.0
      d3-chord: ^3.0.1
      d3-color: ^3.1.0
      d3-contour: ^4.0.2
      d3-delaunay: ^6.0.4 // this version might have compatibility issues
      d3-dispatch: ^3.0.1
      d3-drag: ^3.0.0
      d3-dsv: ^3.0.1
      d3-ease: ^3.0.1
      d3-fetch: ^3.0.1
      d3-force: ^3.0.0
      d3-format: ^3.1.0
      d3-geo: ^3.1.1
      d3-hierarchy: ^3.1.2
      d3-interpolate: ^3.0.1
      d3-path: ^3.1.0
      d3-polygon: ^3.0.1
      d3-quadtree: ^3.0.1
      d3-random: ^3.0.1
      d3-scale: ^4.0.2
      d3-scale-chromatic: ^3.1.0
      d3-selection: ^3.0.0
      d3-shape: ^3.2.0
      d3-time: ^3.1.0
      d3-time-format: ^4.1.0
      d3-timer: ^3.0.1
      d3-transition: ^3.0.1
      d3-zoom: ^3.0.0
    }
    devDependencies:
    {
      @observablehq/plot: ^0.6.7
      @observablehq/runtime: ^5.7.3
      @rollup/plugin-json: ^6.1.0
      @rollup/plugin-node-resolve: ^15.2.3
      @rollup/plugin-terser: ^0.4.0
      eslint: ^8.57.0
      mocha: ^10.3.0
      rollup: ^3.29.4
      topojson-client: ^3.1.0
      vitepress: ^1.4.0
    }
    scripts:
    {
      prepublishOnly: rm -rf dist && rollup -c
      postpublish: git push && git push --tags
      docs/dev: node --experimental-network-imports node_modules/vitepress/dist/node/cli.js dev docs
      docs/build: ./prebuild.sh && node --experimental-network-imports node_modules/vitepress/dist/node/cli.js build docs
      docs/preview: vitepress preview docs
    }
    engines:
    {
      node: >=12
    }
  }`,modifyingconfigjson:JSON.stringify({name:"vega-lite",author:"Dominik Moritz, Kanit Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer",version:"5.23.0",collaborators:["Kanit Wongsuphasawat","Dominik Moritz","Arvind Satyanarayan","Jeffrey Heer"],homepage:"ega.github.io/vega-lite/",description:"Vega-Lite is a concise high-level language for interactive visualization.",keywords:["vega","chart","visualization"],main:"build/vega-lite.js",unpkg:"build/vega-lite.min.js",jsdelivr:"build/vega-lite.min.js",module:"build/src/index",types:"build/src/index.d.ts",bin:{vl2pdf:"./bin/vl2pdf",vl2png:"./bin/vl2png",vl2svg:"./bin/vl2svg",vl2vg:"./bin/vl2vg"},files:["bin","build","src","vega-lite*","tsconfig.json"],scripts:{changelog:"conventional-changelog -p angular -r",prebuild:"yarn clean:build",build:"yarn build:only",data:"rsync -r node_modules/vega-datasets/data/* site/data","build-editor-preview":"scripts/build-editor-preview.sh",schema:"mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/",renameschema:"scripts/rename-schema.sh",presite:"yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh",site:"yarn site:only",format:"eslint . --fix && yarn prettierbase --write",lint:"eslint . && yarn prettierbase --check",test:"yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn",release:"release-it"},repository:{type:"git",url:"github.com/vega/vega-lite.git"},license:"BSD-3-Clause",bugs:{url:"github.com/vega/vega-lite/issues"},devDependencies:{ajv:"^8.17.1","ajv-formats":"^3.0.1",cheerio:"^1.0.0","conventional-changelog-cli":"^5.0.0",d3:"^7.9.0","del-cli":"^6.0.0",eslint:"^8.57.0","eslint-config-prettier":"^9.1.0","eslint-plugin-jest":"^28.11.0","eslint-plugin-prettier":"^5.2.1","fast-json-stable-stringify":"~2.1.0","highlight.js":"^11.11.1",jest:"^29.7.0","jest-dev-server":"^11.0.0",mkdirp:"^3.0.1",pako:"^2.1.0",prettier:"^3.4.2",puppeteer:"^15.0.0","release-it":"18.1.2",rollup:"^4.32.1","rollup-plugin-bundle-size":"^1.0.3",serve:"^14.2.4",terser:"^5.37.0","ts-jest":"^29.2.5","ts-json-schema-generator":"^2.3.0",typescript:"~5.7.3","vega-cli":"^5.31.0","vega-datasets":"^2.11.0","vega-embed":"^6.29.0","vega-tooltip":"^0.35.2","yaml-front-matter":"^4.1.1"},dependencies:{"json-stringify-pretty-compact":"~4.0.0",tslib:"~2.8.1","vega-event-selector":"~3.0.1","vega-expression":"~5.1.2","vega-util":"~1.17.3",yargs:"~17.7.2"},peerDependencies:{vega:"^5.31.0"},engines:{node:">=18"},packageManager:"yarn@1.22.22"},null,2),modifyingconfigjsonc:JSON.stringify({name:"vega-lite",author:"Dominik Moritz, Kanit Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer",version:"5.23.0",collaborators:["Kanit Wongsuphasawat","Dominik Moritz","Arvind Satyanarayan","Jeffrey Heer"],homepage:"vega.github.io/vega-lite/",description:"Vega-Lite is a concise high-level language for interactive visualization.",keywords:["vega","chart","visualization"],main:"build/vega-lite.js",unpkg:"build/vega-lite.min.js",jsdelivr:"build/vega-lite.min.js",module:"build/src/index",types:"build/src/index.d.ts",bin:{vl2pdf:"./bin/vl2pdf",vl2png:"./bin/vl2png",vl2svg:"./bin/vl2svg",vl2vg:"./bin/vl2vg"},files:["bin","build","src","vega-lite*","tsconfig.json"],scripts:{changelog:"conventional-changelog -p angular -r",prebuild:"yarn clean:build",build:"yarn build:only",data:"rsync -r node_modules/vega-datasets/data/* site/data","build-editor-preview":"scripts/build-editor-preview.sh",schema:"mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/",renameschema:"scripts/rename-schema.sh",presite:"yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh",site:"yarn site:only",format:"eslint . --fix && yarn prettierbase --write",lint:"eslint . && yarn prettierbase --check",test:"yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn",release:"release-it"},repository:{type:"git",url:"github.com/vega/vega-lite.git"},license:"BSD-3-Clause",bugs:{url:"github.com/vega/vega-lite/issues"},devDependencies:{ajv:"^8.17.1","ajv-formats":"^3.0.1",cheerio:"^1.0.0","conventional-changelog-cli":"^5.0.0",d3:"^7.9.0","del-cli":"^6.0.0",eslint:"^8.57.0","eslint-config-prettier":"^9.1.0","eslint-plugin-jest":"^28.11.0","eslint-plugin-prettier":"^5.2.1","fast-json-stable-stringify":"~2.1.0","highlight.js":"^11.11.1",jest:"^29.7.0","jest-dev-server":"^11.0.0",mkdirp:"^3.0.1",pako:"^2.1.0",prettier:"^3.4.2",puppeteer:"^15.0.0","release-it":"18.1.2",rollup:"^4.32.1","rollup-plugin-bundle-size":"^1.0.3",serve:"^14.2.4",terser:"^5.37.0","ts-jest":"^29.2.5","ts-json-schema-generator":"^2.3.0",typescript:"~5.7.3","vega-cli":"^5.31.0","vega-datasets":"^2.11.0","vega-embed":"^6.29.0","vega-tooltip":"^0.35.2","yaml-front-matter":"^4.1.1"},dependencies:{"json-stringify-pretty-compact":"~4.0.0",tslib:"~2.8.1","vega-event-selector":"~3.0.1","vega-expression":"~5.1.2","vega-util":"~1.17.3",yargs:"~17.7.2"},peerDependencies:{vega:"^5.31.0"},engines:{node:">=18"},packageManager:"yarn@1.22.22"},null,2),modifyingconfigxml:`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<root>
  <name>vega-lite</name>
  <author>Dominik Moritz, Kanit Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer</author>
  <version>5.23.0</version>   <!--make sure that the vega version specified in peerDependencies matches this value. -->
  <collaborators>Kanit Wongsuphasawat</collaborators>
  <collaborators>Dominik Moritz</collaborators>
  <collaborators>Arvind Satyanarayan</collaborators>
  <collaborators>Jeffrey Heer</collaborators>
  <homepage>vega.github.io/vega-lite/</homepage>
  <description>Vega-Lite is a concise high-level language for interactive visualization.</description>
  <keywords>vega</keywords>
  <keywords>chart</keywords>
  <keywords>visualization</keywords>
  <main>build/vega-lite.js</main>
  <unpkg>build/vega-lite.min.js</unpkg>
  <jsdelivr>build/vega-lite.min.js</jsdelivr>
  <module>build/src/index</module>
  <types>build/src/index.d.ts</types>
  <bin>
    <vl2pdf>./bin/vl2pdf</vl2pdf>
    <vl2png>./bin/vl2png</vl2png>
    <vl2svg>./bin/vl2svg</vl2svg>
    <vl2vg>./bin/vl2vg</vl2vg>
  </bin>
  <files>bin</files>
  <files>build</files>
  <files>src</files>
  <files>vega-lite*</files>
  <files>tsconfig.json</files>
  <scripts>
    <changelog>conventional-changelog -p angular -r</changelog>
    <prebuild>yarn clean:build</prebuild>
    <build>yarn build:only</build>
    <data>rsync -r node_modules/vega-datasets/data/* site/data</data>
    <build-editor-preview>scripts/build-editor-preview.sh</build-editor-preview>
    <schema>mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode >; build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/</schema>
    <renameschema>scripts/rename-schema.sh</renameschema>
    <presite>yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh</presite>
    <site>yarn site:only</site>
    <format>eslint . --fix && yarn prettierbase --write</format>
    <lint>eslint . && yarn prettierbase --check</lint>
    <test>yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn</test>
    <release>release-it</release>
  <\/scripts>
  <repository>
    <type>git</type>
    <url>github.com/vega/vega-lite.git</url>
  </repository>
  <license>BSD-3-Clause</license>
  <bugs>
    <url>github.com/vega/vega-lite/issues</url>
  </bugs>
  <devDependencies>
    <ajv>^8.17.1</ajv>
    <ajv-formats>^3.0.1</ajv-formats>
    <cheerio>^1.0.0</cheerio>
    <conventional-changelog-cli>^5.0.0</conventional-changelog-cli>
    <d3>^7.9.0</d3>
    <del-cli>^6.0.0</del-cli>
    <eslint>^8.57.0</eslint>
    <eslint-config-prettier>^9.1.0</eslint-config-prettier>
    <eslint-plugin-jest>^28.11.0</eslint-plugin-jest>
    <eslint-plugin-prettier>^5.2.1</eslint-plugin-prettier>
    <fast-json-stable-stringify>~2.1.0</fast-json-stable-stringify>
    <highlight.js>^11.11.1</highlight.js>
    <jest>^29.7.0</jest>
    <jest-dev-server>^11.0.0</jest-dev-server>
    <mkdirp>^3.0.1</mkdirp>
    <pako>^2.1.0</pako>
    <prettier>^3.4.2</prettier>
    <puppeteer>^15.0.0</puppeteer>
    <release-it>18.1.2</release-it>
    <rollup>^4.32.1</rollup>
    <rollup-plugin-bundle-size>^1.0.3</rollup-plugin-bundle-size>
    <serve>^14.2.4</serve>
    <terser>^5.37.0</terser>
    <ts-jest>^29.2.5</ts-jest>
    <ts-json-schema-generator>^2.3.0</ts-json-schema-generator>
    <typescript>~5.7.3</typescript>
    <vega-cli>^5.31.0</vega-cli>
    <vega-datasets>^2.11.0</vega-datasets>
    <vega-embed>^6.29.0</vega-embed>
    <vega-tooltip>^0.35.2</vega-tooltip>
    <yaml-front-matter>^4.1.1</yaml-front-matter>
  </devDependencies>
  <dependencies>
    <json-stringify-pretty-compact>~4.0.0</json-stringify-pretty-compact>
    <tslib>~2.8.1</tslib>
    <vega-event-selector>~3.0.1</vega-event-selector>
    <vega-expression>~5.1.2</vega-expression>
    <vega-util>~1.17.3</vega-util>
    <yargs>~17.7.2</yargs>
  </dependencies>
  <peerDependencies>
    <vega>^5.31.0</vega>  <!--make sure this value matches the value of the version at the beginning. -->
  </peerDependencies>
  <engines>
    <node>>=18</node>
  </engines>
  <packageManager>yarn@1.22.22</packageManager>
</root>`,modifyingconfigtoml:`name = "vega-lite"
author = "Dominik Moritz, Kanit Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer"
version = "5.23.0"   # make sure that the vega version specified in peerDependencies matches this value.
collaborators = ["Kanit Wongsuphasawat", "Dominik Moritz", "Arvind Satyanarayan", "Jeffrey Heer"]
homepage = "vega.github.io/vega-lite/"
description = "Vega-Lite is a concise high-level language for interactive visualization."
keywords = ["vega", "chart", "visualization"]
main = "build/vega-lite.js"
unpkg = "build/vega-lite.min.js"
jsdelivr = "build/vega-lite.min.js"
module = "build/src/index"
types = "build/src/index.d.ts"
files = ["bin", "build", "src", "vega-lite*", "tsconfig.json"]
license = "BSD-3-Clause"
packageManager = "yarn@1.22.22"

[bin]
vl2pdf = "./bin/vl2pdf"
vl2png = "./bin/vl2png"
vl2svg = "./bin/vl2svg"
vl2vg = "./bin/vl2vg"

[scripts]
changelog = "conventional-changelog -p angular -r"
prebuild = "yarn clean:build"
build = "yarn build:only"
data = "rsync -r node_modules/vega-datasets/data/* site/data"
build-editor-preview = "scripts/build-editor-preview.sh"
schema = "mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/"
renameschema = "scripts/rename-schema.sh"
presite = "yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh"
site = "yarn site:only"
format = "eslint . --fix && yarn prettierbase --write"
lint = "eslint . && yarn prettierbase --check"
test = "yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn"
release = "release-it"

[repository]
type = "git"
url = "github.com/vega/vega-lite.git"

[bugs]
url = "github.com/vega/vega-lite/issues"

[devDependencies]
ajv = "^8.17.1"
ajv-formats = "^3.0.1"
cheerio = "^1.0.0"
conventional-changelog-cli = "^5.0.0"
d3 = "^7.9.0"
del-cli = "^6.0.0"
eslint = "^8.57.0"
eslint-config-prettier = "^9.1.0"
eslint-plugin-jest = "^28.11.0"
eslint-plugin-prettier = "^5.2.1"
fast-json-stable-stringify = "~2.1.0"
"highlight.js" = "^11.11.1"
jest = "^29.7.0"
jest-dev-server = "^11.0.0"
mkdirp = "^3.0.1"
pako = "^2.1.0"
prettier = "^3.4.2"
puppeteer = "^15.0.0"
release-it = "18.1.2"
rollup = "^4.32.1"
rollup-plugin-bundle-size = "^1.0.3"
serve = "^14.2.4"
terser = "^5.37.0"
ts-jest = "^29.2.5"
ts-json-schema-generator = "^2.3.0"
typescript = "~5.7.3"
vega-cli = "^5.31.0"
vega-datasets = "^2.11.0"
vega-embed = "^6.29.0"
vega-tooltip = "^0.35.2"
yaml-front-matter = "^4.1.1"

[dependencies]
json-stringify-pretty-compact = "~4.0.0"
tslib = "~2.8.1"
vega-event-selector = "~3.0.1"
vega-expression = "~5.1.2"
vega-util = "~1.17.3"
yargs = "~17.7.2"

[peerDependencies]
vega = "^5.31.0"   # make sure this value matches the value of the version at the beginning.

[engines]
node = ">=18"`,modifyingconfigyaml:`name: vega-lite
author: Dominik Moritz, Kanit Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer
version: 5.23.0  # make sure that the vega version specified in peerDependencies matches this value.
collaborators:
  - Kanit Wongsuphasawat
  - Dominik Moritz
  - Arvind Satyanarayan
  - Jeffrey Heer
homepage: vega.github.io/vega-lite/
description: Vega-Lite is a concise high-level language for interactive visualization.
keywords:
  - vega
  - chart
  - visualization
main: build/vega-lite.js
unpkg: build/vega-lite.min.js
jsdelivr: build/vega-lite.min.js
module: build/src/index
types: build/src/index.d.ts
bin:
  vl2pdf: ./bin/vl2pdf
  vl2png: ./bin/vl2png
  vl2svg: ./bin/vl2svg
  vl2vg: ./bin/vl2vg
files:
  - bin
  - build
  - src
  - vega-lite*
  - tsconfig.json
scripts:
  changelog: conventional-changelog -p angular -r
  prebuild: yarn clean:build
  build: yarn build:only
  data: rsync -r node_modules/vega-datasets/data/* site/data
  build-editor-preview: scripts/build-editor-preview.sh
  schema: mkdir -p build && ts-json-schema-generator -f tsconfig.json -p
    src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode >
    build/vega-lite-schema.json && yarn renameschema && cp
    build/vega-lite-schema.json site/_data/
  renameschema: scripts/rename-schema.sh
  presite: yarn data && yarn schema && yarn build:site && yarn build:versions &&
    scripts/create-example-pages.sh
  site: yarn site:only
  format: eslint . --fix && yarn prettierbase --write
  lint: eslint . && yarn prettierbase --check
  test: yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn
  release: release-it
repository:
  type: git
  url: github.com/vega/vega-lite.git
license: BSD-3-Clause
bugs:
  url: github.com/vega/vega-lite/issues
devDependencies:
  ajv: ^8.17.1
  ajv-formats: ^3.0.1
  cheerio: ^1.0.0
  conventional-changelog-cli: ^5.0.0
  d3: ^7.9.0
  del-cli: ^6.0.0
  eslint: ^8.57.0
  eslint-config-prettier: ^9.1.0
  eslint-plugin-jest: ^28.11.0
  eslint-plugin-prettier: ^5.2.1
  fast-json-stable-stringify: ~2.1.0
  highlight.js: ^11.11.1
  jest: ^29.7.0
  jest-dev-server: ^11.0.0
  mkdirp: ^3.0.1
  pako: ^2.1.0
  prettier: ^3.4.2
  puppeteer: ^15.0.0
  release-it: 18.1.2
  rollup: ^4.32.1
  rollup-plugin-bundle-size: ^1.0.3
  serve: ^14.2.4
  terser: ^5.37.0
  ts-jest: ^29.2.5
  ts-json-schema-generator: ^2.3.0
  typescript: ~5.7.3
  vega-cli: ^5.31.0
  vega-datasets: ^2.11.0
  vega-embed: ^6.29.0
  vega-tooltip: ^0.35.2
  yaml-front-matter: ^4.1.1
dependencies:
  json-stringify-pretty-compact: ~4.0.0
  tslib: ~2.8.1
  vega-event-selector: ~3.0.1
  vega-expression: ~5.1.2
  vega-util: ~1.17.3
  yargs: ~17.7.2
peerDependencies:
  vega: ^5.31.0  # make sure this value matches the value of the version at the beginning.
engines:
  node: ">=18"
packageManager: yarn@1.22.22`,modifyingconfigjson5:`{
    name: 'vega-lite',
    author: 'Dominik Moritz, Kanit Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer',
    version: '5.23.0',  // make sure that the vega version specified in peerDependencies matches this value.
    collaborators: [
        'Kanit Wongsuphasawat',
        'Dominik Moritz',
        'Arvind Satyanarayan',
        'Jeffrey Heer'
    ],
    homepage: 'vega.github.io/vega-lite/',
    description: 'Vega-Lite is a concise high-level language for interactive visualization.',
    keywords: [
        'vega',
        'chart',
        'visualization'
    ],
    main: 'build/vega-lite.js',
    unpkg: 'build/vega-lite.min.js',
    jsdelivr: 'build/vega-lite.min.js',
    module: 'build/src/index',
    types: 'build/src/index.d.ts',
    bin: {
        vl2pdf: './bin/vl2pdf',
        vl2png: './bin/vl2png',
        vl2svg: './bin/vl2svg',
        vl2vg: './bin/vl2vg'
    },
    files: [
        'bin',
        'build',
        'src',
        'vega-lite*',
        'tsconfig.json'
    ],
    scripts: {
        changelog: 'conventional-changelog -p angular -r',
        prebuild: 'yarn clean:build',
        build: 'yarn build:only',
        data: 'rsync -r node_modules/vega-datasets/data/* site/data',
        'build-editor-preview': 'scripts/build-editor-preview.sh',
        schema: 'mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/',
        renameschema: 'scripts/rename-schema.sh',
        presite: 'yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh',
        site: 'yarn site:only',
        format: 'eslint . --fix && yarn prettierbase --write',
        lint: 'eslint . && yarn prettierbase --check',
        test: 'yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn',
        release: 'release-it'
    },
    repository: {
        type: 'git',
        url: 'github.com/vega/vega-lite.git'
    },
    license: 'BSD-3-Clause',
    bugs: {
        url: 'github.com/vega/vega-lite/issues'
    },
    devDependencies: {
        ajv: '^8.17.1',
        'ajv-formats': '^3.0.1',
        cheerio: '^1.0.0',
        'conventional-changelog-cli': '^5.0.0',
        d3: '^7.9.0',
        'del-cli': '^6.0.0',
        eslint: '^8.57.0',
        'eslint-config-prettier': '^9.1.0',
        'eslint-plugin-jest': '^28.11.0',
        'eslint-plugin-prettier': '^5.2.1',
        'fast-json-stable-stringify': '~2.1.0',
        'highlight.js': '^11.11.1',
        jest: '^29.7.0',
        'jest-dev-server': '^11.0.0',
        mkdirp: '^3.0.1',
        pako: '^2.1.0',
        prettier: '^3.4.2',
        puppeteer: '^15.0.0',
        'release-it': '18.1.2',
        rollup: '^4.32.1',
        'rollup-plugin-bundle-size': '^1.0.3',
        serve: '^14.2.4',
        terser: '^5.37.0',
        'ts-jest': '^29.2.5',
        'ts-json-schema-generator': '^2.3.0',
        typescript: '~5.7.3',
        'vega-cli': '^5.31.0',
        'vega-datasets': '^2.11.0',
        'vega-embed': '^6.29.0',
        'vega-tooltip': '^0.35.2',
        'yaml-front-matter': '^4.1.1'
    },
    dependencies: {
        'json-stringify-pretty-compact': '~4.0.0',
        tslib: '~2.8.1',
        'vega-event-selector': '~3.0.1',
        'vega-expression': '~5.1.2',
        'vega-util': '~1.17.3',
        yargs: '~17.7.2'
    },
    peerDependencies: {
        vega: '^5.31.0' //make sure this value matches the value of the version at the beginning.
    },
    engines: {
        node: '>=18'
    },
    packageManager: 'yarn@1.22.22'
}`,modifyingconfighjson:`
  name: vega-lite
  author: Dominik Moritz, Kanit Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer
  version: 5.23.0   // make sure that the vega version specified in peerDependencies matches this value.
  collaborators:
  [
    Kanit Wongsuphasawat
    Dominik Moritz
    Arvind Satyanarayan
    Jeffrey Heer
  ]
  homepage: vega.github.io/vega-lite/
  description: Vega-Lite is a concise high-level language for interactive visualization.
  keywords:
  [
    vega
    chart
    visualization
  ]
  main: build/vega-lite.js
  unpkg: build/vega-lite.min.js
  jsdelivr: build/vega-lite.min.js
  module: build/src/index
  types: build/src/index.d.ts
  bin:
  {
    vl2pdf: ./bin/vl2pdf
    vl2png: ./bin/vl2png
    vl2svg: ./bin/vl2svg
    vl2vg: ./bin/vl2vg
  }
  files:
  [
    bin
    build
    src
    vega-lite*
    tsconfig.json
  ]
  scripts:
  {
    changelog: conventional-changelog -p angular -r
    prebuild: yarn clean:build
    build: yarn build:only
    data: rsync -r node_modules/vega-datasets/data/* site/data
    build-editor-preview: scripts/build-editor-preview.sh
    schema: mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/
    renameschema: scripts/rename-schema.sh
    presite: yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh
    site: yarn site:only
    format: eslint . --fix && yarn prettierbase --write
    lint: eslint . && yarn prettierbase --check
    test: yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn
    release: release-it
  }
  repository:
  {
    type: git
    url: github.com/vega/vega-lite.git
  }
  license: BSD-3-Clause
  bugs:
  {
    url: github.com/vega/vega-lite/issues
  }
  devDependencies:
  {
    ajv: ^8.17.1
    ajv-formats: ^3.0.1
    cheerio: ^1.0.0
    conventional-changelog-cli: ^5.0.0
    d3: ^7.9.0
    del-cli: ^6.0.0
    eslint: ^8.57.0
    eslint-config-prettier: ^9.1.0
    eslint-plugin-jest: ^28.11.0
    eslint-plugin-prettier: ^5.2.1
    fast-json-stable-stringify: ~2.1.0
    highlight.js: ^11.11.1
    jest: ^29.7.0
    jest-dev-server: ^11.0.0
    mkdirp: ^3.0.1
    pako: ^2.1.0
    prettier: ^3.4.2
    puppeteer: ^15.0.0
    release-it: 18.1.2
    rollup: ^4.32.1
    rollup-plugin-bundle-size: ^1.0.3
    serve: ^14.2.4
    terser: ^5.37.0
    ts-jest: ^29.2.5
    ts-json-schema-generator: ^2.3.0
    typescript: ~5.7.3
    vega-cli: ^5.31.0
    vega-datasets: ^2.11.0
    vega-embed: ^6.29.0
    vega-tooltip: ^0.35.2
    yaml-front-matter: ^4.1.1
  }
  dependencies:
  {
    json-stringify-pretty-compact: ~4.0.0
    tslib: ~2.8.1
    vega-event-selector: ~3.0.1
    vega-expression: ~5.1.2
    vega-util: ~1.17.3
    yargs: ~17.7.2
  }
  peerDependencies:
  {
    vega: ^5.31.0  //make sure this value matches the value of the version at the beginning.
  }
  engines:
  {
    node: >=18
  }
  packageManager: yarn@1.22.22`,modifyingtabularjson:JSON.stringify({movies:{movie:[{title:"After Dark in Central Park",year:1900,cast:[],genres:["Silent","Short"],href:null,country:"United States",runtime:3,language:"Silent",release_date:"1900-03-15",production_company:"Edison Manufacturing Company",director:"James H. White",writer:"Unknown",cinematography:"Unknown",budget:500,box_office:null,awards:[]},{title:"Boarding School Girls' Pajama Parade",year:1900,cast:[],genres:["Silent","Short"],href:null,country:"United States",runtime:2,language:"Silent",release_date:"1900-05-10",production_company:"Edison Manufacturing Company",director:"James H. White",writer:"Unknown",cinematography:"Unknown",budget:450,box_office:null,awards:[]},{title:"Buffalo Bill's Wild West Parade",year:1900,cast:["Buffalo Bill (William F. Cody)"],genres:["Documentary"],href:null,country:"United States",runtime:5,language:"Silent",release_date:"1900-07-04",production_company:"Edison Manufacturing Company",director:"Unknown",writer:"Unknown",cinematography:"Unknown",budget:600,box_office:null,awards:[]},{title:"Caught",year:1900,cast:[],genres:["Drama"],href:null,country:"United States",runtime:2,language:"Silent",release_date:"1900-02-20",production_company:"Biograph Company",director:"William Heise",writer:"Unknown",cinematography:"Unknown",budget:400,box_office:null,awards:[]},{title:"Clowns Spinning Hats",year:1900,cast:["Unknown Clowns"],genres:["Silent","Comedy"],href:"Clowns_Spinning_Hats",extract:"Clowns Spinning Hats is a black-and-white silent film featuring clowns throwing hats back and forth to each other. It was written and produced by Lubin Films and released April 7, 1900.",country:"United States",runtime:3,language:"Silent",release_date:"1900-04-07",production_company:"Lubin Films",director:"Unknown",writer:"Unknown",cinematography:"Unknown",budget:500,box_office:null,awards:[]},{title:"The Enchanted Drawing",year:1900,cast:["J. Stuart Blackton"],genres:["Silent","Animation"],href:"The_Enchanted_Drawing",extract:"The Enchanted Drawing is a 1900 silent film directed by J. Stuart Blackton. It is best known for containing the first animated sequences recorded on standard picture film, which has led Blackton to be considered the father of American animation.",thumbnail_width:320,thumbnail_height:240,country:"United States",runtime:2,language:"Silent",release_date:"1900-11-16",production_company:"Vitagraph Studios",director:"J. Stuart Blackton",writer:"J. Stuart Blackton",cinematography:"Unknown",budget:700,box_office:null,awards:[]},{title:"Feeding Sea Lions",year:1900,cast:["Paul Boyton"],genres:["Short","Silent"],href:"Feeding_Sea_Lions",extract:"Feeding Sea Lions is a short silent film featuring Paul Boyton feeding sea lions at his Sea Lion Park at Coney Island. Boyton is shown feeding the trained sea lions, twelve in number. The sea lions follow Boyton up the steps of the pool and then follow him back into the water. One of them steals food out of the basket. The film was made by Lubin Studios on March 10, 1900.",country:"United States",runtime:3,language:"Silent",release_date:"1900-03-10",production_company:"Lubin Studios",director:"Unknown",writer:"Unknown",cinematography:"Unknown",budget:450,box_office:null,awards:[]},{title:"A Trip to the Moon",year:1902,cast:["Georges Mlis"],genres:["Sci-Fi","Adventure"],href:"A_Trip_to_the_Moon",extract:"A Trip to the Moon (French: Le Voyage dans la Lune) is a 1902 French silent film directed by Georges Mlis. It is widely regarded as the first science fiction film ever made.",thumbnail_width:320,thumbnail_height:240,country:"France",runtime:14,language:"Silent",release_date:"1902-09-01",production_company:"Star Film Company",director:"Georges Mlis",writer:"Georges Mlis",cinematography:"Georges Mlis",budget:1e4,box_office:2e4,awards:["Considered a milestone in cinema history"]},{title:"The Great Train Robbery",year:1903,cast:["Gilbert M. Anderson","A. C. Abadie"],genres:["Western","Action"],href:"The_Great_Train_Robbery",extract:"The Great Train Robbery is a 1903 American silent short film directed by Edwin S. Porter. It is considered one of the earliest narrative films.",thumbnail_width:320,thumbnail_height:240,country:"United States",runtime:12,language:"Silent",release_date:"1903-12-01",production_company:"Edison Manufacturing Company",director:"Edwin S. Porter",writer:"Scott Marble",cinematography:"Edwin S. Porter",budget:150,box_office:5e3,awards:["One of the earliest crime films"]}]}},null,2),modifyingtabularjsonc:JSON.stringify({movies:{movie:[{title:"After Dark in Central Park",year:1900,cast:[],genres:["Silent","Short"],href:null,country:"United States",runtime:3,language:"Silent",release_date:"1900-03-15",production_company:"Edison Manufacturing Company",director:"James H. White",writer:"Unknown",cinematography:"Unknown",budget:500,box_office:null,awards:[]},{title:"Boarding School Girls' Pajama Parade",year:1900,cast:[],genres:["Silent","Short"],href:null,country:"United States",runtime:2,language:"Silent",release_date:"1900-05-10",production_company:"Edison Manufacturing Company",director:"James H. White",writer:"Unknown",cinematography:"Unknown",budget:450,box_office:null,awards:[]},{title:"Buffalo Bill's Wild West Parade",year:1900,cast:["Buffalo Bill (William F. Cody)"],genres:["Documentary"],href:null,country:"United States",runtime:5,language:"Silent",release_date:"1900-07-04",production_company:"Edison Manufacturing Company",director:"Unknown",writer:"Unknown",cinematography:"Unknown",budget:600,box_office:null,awards:[]},{title:"Caught",year:1900,cast:[],genres:["Drama"],href:null,country:"United States",runtime:2,language:"Silent",release_date:"1900-02-20",production_company:"Biograph Company",director:"William Heise",writer:"Unknown",cinematography:"Unknown",budget:400,box_office:null,awards:[]},{title:"Clowns Spinning Hats",year:1900,cast:["Unknown Clowns"],genres:["Silent","Comedy"],href:"Clowns_Spinning_Hats",extract:"Clowns Spinning Hats is a black-and-white silent film featuring clowns throwing hats back and forth to each other. It was written and produced by Lubin Films and released April 7, 1900.",country:"United States",runtime:3,language:"Silent",release_date:"1900-04-07",production_company:"Lubin Films",director:"Unknown",writer:"Unknown",cinematography:"Unknown",budget:500,box_office:null,awards:[]},{title:"The Enchanted Drawing",year:1900,cast:["J. Stuart Blackton"],genres:["Silent","Animation"],href:"The_Enchanted_Drawing",extract:"The Enchanted Drawing is a 1900 silent film directed by J. Stuart Blackton. It is best known for containing the first animated sequences recorded on standard picture film, which has led Blackton to be considered the father of American animation.",thumbnail_width:320,thumbnail_height:240,country:"United States",runtime:2,language:"Silent",release_date:"1900-11-16",production_company:"Vitagraph Studios",director:"J. Stuart Blackton",writer:"J. Stuart Blackton",cinematography:"Unknown",budget:700,box_office:null,awards:[]},{title:"Feeding Sea Lions",year:1900,cast:["Paul Boyton"],genres:["Short","Silent"],href:"Feeding_Sea_Lions",extract:"Feeding Sea Lions is a short silent film featuring Paul Boyton feeding sea lions at his Sea Lion Park at Coney Island. Boyton is shown feeding the trained sea lions, twelve in number. The sea lions follow Boyton up the steps of the pool and then follow him back into the water. One of them steals food out of the basket. The film was made by Lubin Studios on March 10, 1900.",country:"United States",runtime:3,language:"Silent",release_date:"1900-03-10",production_company:"Lubin Studios",director:"Unknown",writer:"Unknown",cinematography:"Unknown",budget:450,box_office:null,awards:[]},{title:"A Trip to the Moon",year:1902,cast:["Georges Mlis"],genres:["Sci-Fi","Adventure"],href:"A_Trip_to_the_Moon",extract:"A Trip to the Moon (French: Le Voyage dans la Lune) is a 1902 French silent film directed by Georges Mlis. It is widely regarded as the first science fiction film ever made.",thumbnail_width:320,thumbnail_height:240,country:"France",runtime:14,language:"Silent",release_date:"1902-09-01",production_company:"Star Film Company",director:"Georges Mlis",writer:"Georges Mlis",cinematography:"Georges Mlis",budget:1e4,box_office:2e4,awards:["Considered a milestone in cinema history"]},{title:"The Great Train Robbery",year:1903,cast:["Gilbert M. Anderson","A. C. Abadie"],genres:["Western","Action"],href:"The_Great_Train_Robbery",extract:"The Great Train Robbery is a 1903 American silent short film directed by Edwin S. Porter. It is considered one of the earliest narrative films.",thumbnail_width:320,thumbnail_height:240,country:"United States",runtime:12,language:"Silent",release_date:"1903-12-01",production_company:"Edison Manufacturing Company",director:"Edwin S. Porter",writer:"Scott Marble",cinematography:"Edwin S. Porter",budget:150,box_office:5e3,awards:["One of the earliest crime films"]}]}},null,2),modifyingtabularxml:`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<movies>
  <movie>
    <title>After Dark in Central Park</title>
    <year>1900</year>
    <cast/>
    <genres>Silent</genres>
    <genres>Short</genres>
    <href/>
    <country>United States</country>
    <runtime>3</runtime>
    <language>Silent</language>
    <release_date>1900-03-15</release_date>
    <production_company>Edison Manufacturing Company</production_company>
    <director>James H. White</director>
    <writer>Unknown</writer>
    <cinematography>Unknown</cinematography>
    <budget>500</budget>
    <box_office/>
    <awards/>
  </movie>
  <movie>
    <title>Boarding School Girls' Pajama Parade</title>
    <year>1900</year>
    <cast/>
    <genres>Silent</genres>
    <genres>Short</genres>
    <href/>
    <country>United States</country>
    <runtime>2</runtime>
    <language>Silent</language>
    <release_date>1900-05-10</release_date>
    <production_company>Edison Manufacturing Company</production_company>
    <director>James H. White</director>
    <writer>Unknown</writer>
    <cinematography>Unknown</cinematography>
    <budget>450</budget>
    <box_office/>
    <awards/>
  </movie>
  <movie>
    <title>Buffalo Bill's Wild West Parade</title>
    <year>1900</year>
    <cast>Buffalo Bill (William F. Cody)</cast>
    <genres>Documentary</genres>
    <href/>
    <country>United States</country>
    <runtime>5</runtime>
    <language>Silent</language>
    <release_date>1900-07-04</release_date>
    <production_company>Edison Manufacturing Company</production_company>
    <director>Unknown</director>
    <writer>Unknown</writer>
    <cinematography>Unknown</cinematography>
    <budget>600</budget>
    <box_office/>
    <awards/>
  </movie>
  <movie>
    <title>Caught</title>
    <year>1900</year>
    <cast/>
    <genres>Drama</genres>
    <href/>
    <country>United States</country>
    <runtime>2</runtime>
    <language>Silent</language>
    <release_date>1900-02-20</release_date>
    <production_company>Biograph Company</production_company>
    <director>William Heise</director>
    <writer>Unknown</writer>
    <cinematography>Unknown</cinematography>
    <budget>400</budget>
    <box_office/>
    <awards/>
  </movie>
  <movie>
    <title>Clowns Spinning Hats</title>
    <year>1900</year>
    <cast>Unknown Clowns</cast>
    <genres>Silent</genres>
    <genres>Comedy</genres>
    <href>Clowns_Spinning_Hats</href>
    <extract>Clowns Spinning Hats is a black-and-white silent film featuring clowns throwing hats back and forth to each other. It was written and produced by Lubin Films and released April 7, 1900.</extract>
    <country>United States</country>
    <runtime>3</runtime>
    <language>Silent</language>
    <release_date>1900-04-07</release_date>
    <production_company>Lubin Films</production_company>
    <director>Unknown</director>
    <writer>Unknown</writer>
    <cinematography>Unknown</cinematography>
    <budget>500</budget>
    <box_office/>
    <awards/>
  </movie>
  <movie>
    <title>The Enchanted Drawing</title>
    <year>1900</year>
    <cast>J. Stuart Blackton</cast>
    <genres>Silent</genres>
    <genres>Animation</genres>
    <href>The_Enchanted_Drawing</href>
    <extract>The Enchanted Drawing is a 1900 silent film directed by J. Stuart Blackton. It is best known for containing the first animated sequences recorded on standard picture film, which has led Blackton to be considered the father of American animation.</extract>
    <thumbnail_width>320</thumbnail_width>
    <thumbnail_height>240</thumbnail_height>
    <country>United States</country>
    <runtime>2</runtime>
    <language>Silent</language>
    <release_date>1900-11-16</release_date>
    <production_company>Vitagraph Studios</production_company>
    <director>J. Stuart Blackton</director>
    <writer>J. Stuart Blackton</writer>
    <cinematography>Unknown</cinematography>
    <budget>700</budget>
    <box_office/>
    <awards/>
  </movie>
  <movie>
    <title>Feeding Sea Lions</title>
    <year>1900</year>
    <cast>Paul Boyton</cast>
    <genres>Short</genres>
    <genres>Silent</genres>
    <href>Feeding_Sea_Lions</href>
    <extract>Feeding Sea Lions is a short silent film featuring Paul Boyton feeding sea lions at his Sea Lion Park at Coney Island. Boyton is shown feeding the trained sea lions, twelve in number. The sea lions follow Boyton up the steps of the pool and then follow him back into the water. One of them steals food out of the basket. The film was made by Lubin Studios on March 10, 1900.</extract>
    <country>United States</country>
    <runtime>3</runtime>
    <language>Silent</language>
    <release_date>1900-03-10</release_date>
    <production_company>Lubin Studios</production_company>
    <director>Unknown</director>
    <writer>Unknown</writer>
    <cinematography>Unknown</cinematography>
    <budget>450</budget>
    <box_office/>
    <awards/>
  </movie>
  <movie>
    <title>A Trip to the Moon</title>
    <year>1902</year>   <!-- This movie was released after 1900. -->
    <cast>Georges Mlis</cast>
    <genres>Sci-Fi</genres>
    <genres>Adventure</genres>
    <href>A_Trip_to_the_Moon</href>
    <extract>A Trip to the Moon (French: Le Voyage dans la Lune) is a 1902 French silent film directed by Georges Mlis. It is widely regarded as the first science fiction film ever made.</extract>
    <thumbnail_width>320</thumbnail_width>
    <thumbnail_height>240</thumbnail_height>
    <country>France</country>
    <runtime>14</runtime>
    <language>Silent</language>
    <release_date>1902-09-01</release_date>
    <production_company>Star Film Company</production_company>
    <director>Georges Mlis</director>
    <writer>Georges Mlis</writer>
    <cinematography>Georges Mlis</cinematography>
    <budget>10000</budget>
    <box_office>20000</box_office>
    <awards>Considered a milestone in cinema history</awards>
  </movie>
  <movie>
    <title>The Great Train Robbery</title>
    <year>1903</year>   <!-- This movie was released after 1900. -->
    <cast>Gilbert M. Anderson</cast>
    <cast>A. C. Abadie</cast>
    <genres>Western</genres>
    <genres>Action</genres>
    <href>The_Great_Train_Robbery</href>
    <extract>The Great Train Robbery is a 1903 American silent short film directed by Edwin S. Porter. It is considered one of the earliest narrative films.</extract>
    <thumbnail_width>320</thumbnail_width>
    <thumbnail_height>240</thumbnail_height>
    <country>United States</country>
    <runtime>12</runtime>
    <language>Silent</language>
    <release_date>1903-12-01</release_date>
    <production_company>Edison Manufacturing Company</production_company>
    <director>Edwin S. Porter</director>
    <writer>Scott Marble</writer>
    <cinematography>Edwin S. Porter</cinematography>
    <budget>150</budget>
    <box_office>5000</box_office>
    <awards>One of the earliest crime films</awards>
  </movie>
</movies>`,modifyingtabulartoml:`[movies]

[[movies.movie]]
title = "After Dark in Central Park"
year = 1900
cast = []
genres = ["Silent", "Short"]
country = "United States"
runtime = 3
language = "Silent"
release_date = "1900-03-15"
production_company = "Edison Manufacturing Company"
director = "James H. White"
writer = "Unknown"
cinematography = "Unknown"
budget = 500
awards = []

[[movies.movie]]
title = "Boarding School Girls' Pajama Parade"
year = 1900
cast = []
genres = ["Silent", "Short"]
country = "United States"
runtime = 2
language = "Silent"
release_date = "1900-05-10"
production_company = "Edison Manufacturing Company"
director = "James H. White"
writer = "Unknown"
cinematography = "Unknown"
budget = 450
awards = []

[[movies.movie]]
title = "Buffalo Bill's Wild West Parade"
year = 1900
cast = ["Buffalo Bill (William F. Cody)"]
genres = ["Documentary"]
country = "United States"
runtime = 5
language = "Silent"
release_date = "1900-07-04"
production_company = "Edison Manufacturing Company"
director = "Unknown"
writer = "Unknown"
cinematography = "Unknown"
budget = 600
awards = []

[[movies.movie]]
title = "Caught"
year = 1900
cast = []
genres = ["Drama"]
country = "United States"
runtime = 2
language = "Silent"
release_date = "1900-02-20"
production_company = "Biograph Company"
director = "William Heise"
writer = "Unknown"
cinematography = "Unknown"
budget = 400
awards = []

[[movies.movie]]
title = "Clowns Spinning Hats"
year = 1900
cast = ["Unknown Clowns"]
genres = ["Silent", "Comedy"]
href = "Clowns_Spinning_Hats"
extract = "Clowns Spinning Hats is a black-and-white silent film featuring clowns throwing hats back and forth to each other. It was written and produced by Lubin Films and released April 7, 1900."
country = "United States"
runtime = 3
language = "Silent"
release_date = "1900-04-07"
production_company = "Lubin Films"
director = "Unknown"
writer = "Unknown"
cinematography = "Unknown"
budget = 500
awards = []

[[movies.movie]]
title = "The Enchanted Drawing"
year = 1900
cast = ["J. Stuart Blackton"]
genres = ["Silent", "Animation"]
href = "The_Enchanted_Drawing"
extract = "The Enchanted Drawing is a 1900 silent film directed by J. Stuart Blackton. It is best known for containing the first animated sequences recorded on standard picture film, which has led Blackton to be considered the father of American animation."
thumbnail_width = 320
thumbnail_height = 240
country = "United States"
runtime = 2
language = "Silent"
release_date = "1900-11-16"
production_company = "Vitagraph Studios"
director = "J. Stuart Blackton"
writer = "J. Stuart Blackton"
cinematography = "Unknown"
budget = 700
awards = []

[[movies.movie]]
title = "Feeding Sea Lions"
year = 1900
cast = ["Paul Boyton"]
genres = ["Short", "Silent"]
href = "Feeding_Sea_Lions"
extract = "Feeding Sea Lions is a short silent film featuring Paul Boyton feeding sea lions at his Sea Lion Park at Coney Island. Boyton is shown feeding the trained sea lions, twelve in number. The sea lions follow Boyton up the steps of the pool and then follow him back into the water. One of them steals food out of the basket. The film was made by Lubin Studios on March 10, 1900."
country = "United States"
runtime = 3
language = "Silent"
release_date = "1900-03-10"
production_company = "Lubin Studios"
director = "Unknown"
writer = "Unknown"
cinematography = "Unknown"
budget = 450
awards = []

[[movies.movie]]
title = "A Trip to the Moon"
year = 1902   # This movie was released after 1900.
cast = ["Georges Mlis"]
genres = ["Sci-Fi", "Adventure"]
href = "A_Trip_to_the_Moon"
extract = "A Trip to the Moon (French: Le Voyage dans la Lune) is a 1902 French silent film directed by Georges Mlis. It is widely regarded as the first science fiction film ever made."
thumbnail_width = 320
thumbnail_height = 240
country = "France"
runtime = 14
language = "Silent"
release_date = "1902-09-01"
production_company = "Star Film Company"
director = "Georges Mlis"
writer = "Georges Mlis"
cinematography = "Georges Mlis"
budget = 10000
box_office = 20000
awards = ["Considered a milestone in cinema history"]

[[movies.movie]]
title = "The Great Train Robbery"
year = 1903  # This movie was released after 1900.
cast = ["Gilbert M. Anderson", "A. C. Abadie"]
genres = ["Western", "Action"]
href = "The_Great_Train_Robbery"
extract = "The Great Train Robbery is a 1903 American silent short film directed by Edwin S. Porter. It is considered one of the earliest narrative films."
thumbnail_width = 320
thumbnail_height = 240
country = "United States"
runtime = 12
language = "Silent"
release_date = "1903-12-01"
production_company = "Edison Manufacturing Company"
director = "Edwin S. Porter"
writer = "Scott Marble"
cinematography = "Edwin S. Porter"
budget = 150
box_office = 5000
awards = ["One of the earliest crime films"]`,modifyingtabularyaml:`movies:
  movie:
    - title: After Dark in Central Park
      year: 1900
      cast: []
      genres:
        - Silent
        - Short
      href: null
      country: United States
      runtime: 3
      language: Silent
      release_date: '1900-03-15'
      production_company: Edison Manufacturing Company
      director: James H. White
      writer: Unknown
      cinematography: Unknown
      budget: 500
      box_office: null
      awards: []
    - title: Boarding School Girls' Pajama Parade
      year: 1900
      cast: []
      genres:
        - Silent
        - Short
      href: null
      country: United States
      runtime: 2
      language: Silent
      release_date: '1900-05-10'
      production_company: Edison Manufacturing Company
      director: James H. White
      writer: Unknown
      cinematography: Unknown
      budget: 450
      box_office: null
      awards: []
    - title: Buffalo Bill's Wild West Parade
      year: 1900
      cast:
        - Buffalo Bill (William F. Cody)
      genres:
        - Documentary
      href: null
      country: United States
      runtime: 5
      language: Silent
      release_date: '1900-07-04'
      production_company: Edison Manufacturing Company
      director: Unknown
      writer: Unknown
      cinematography: Unknown
      budget: 600
      box_office: null
      awards: []
    - title: Caught
      year: 1900
      cast: []
      genres:
        - Drama
      href: null
      country: United States
      runtime: 2
      language: Silent
      release_date: '1900-02-20'
      production_company: Biograph Company
      director: William Heise
      writer: Unknown
      cinematography: Unknown
      budget: 400
      box_office: null
      awards: []
    - title: Clowns Spinning Hats
      year: 1900
      cast:
        - Unknown Clowns
      genres:
        - Silent
        - Comedy
      href: Clowns_Spinning_Hats
      extract: >-
        Clowns Spinning Hats is a black-and-white silent film featuring clowns
        throwing hats back and forth to each other. It was written and produced
        by Lubin Films and released April 7, 1900.
      country: United States
      runtime: 3
      language: Silent
      release_date: '1900-04-07'
      production_company: Lubin Films
      director: Unknown
      writer: Unknown
      cinematography: Unknown
      budget: 500
      box_office: null
      awards: []
    - title: The Enchanted Drawing
      year: 1900
      cast:
        - J. Stuart Blackton
      genres:
        - Silent
        - Animation
      href: The_Enchanted_Drawing
      extract: >-
        The Enchanted Drawing is a 1900 silent film directed by J. Stuart
        Blackton. It is best known for containing the first animated sequences
        recorded on standard picture film, which has led Blackton to be
        considered the father of American animation.
      thumbnail_width: 320
      thumbnail_height: 240
      country: United States
      runtime: 2
      language: Silent
      release_date: '1900-11-16'
      production_company: Vitagraph Studios
      director: J. Stuart Blackton
      writer: J. Stuart Blackton
      cinematography: Unknown
      budget: 700
      box_office: null
      awards: []
    - title: Feeding Sea Lions
      year: 1900
      cast:
        - Paul Boyton
      genres:
        - Short
        - Silent
      href: Feeding_Sea_Lions
      extract: >-
        Feeding Sea Lions is a short silent film featuring Paul Boyton feeding
        sea lions at his Sea Lion Park at Coney Island. Boyton is shown feeding
        the trained sea lions, twelve in number. The sea lions follow Boyton up
        the steps of the pool and then follow him back into the water. One of
        them steals food out of the basket. The film was made by Lubin Studios
        on March 10, 1900.
      country: United States
      runtime: 3
      language: Silent
      release_date: '1900-03-10'
      production_company: Lubin Studios
      director: Unknown
      writer: Unknown
      cinematography: Unknown
      budget: 450
      box_office: null
      awards: []
    - title: A Trip to the Moon
      year: 1902    # This movie was released after 1900.
      cast:
        - Georges Mlis
      genres:
        - Sci-Fi
        - Adventure
      href: A_Trip_to_the_Moon
      extract: >-
        A Trip to the Moon (French: Le Voyage dans la Lune) is a 1902 French
        silent film directed by Georges Mlis. It is widely regarded as the
        first science fiction film ever made.
      thumbnail_width: 320
      thumbnail_height: 240
      country: France
      runtime: 14
      language: Silent
      release_date: '1902-09-01'
      production_company: Star Film Company
      director: Georges Mlis
      writer: Georges Mlis
      cinematography: Georges Mlis
      budget: 10000
      box_office: 20000
      awards:
        - Considered a milestone in cinema history
    - title: The Great Train Robbery
      year: 1903   # This movie was released after 1900.
      cast:
        - Gilbert M. Anderson
        - A. C. Abadie
      genres:
        - Western
        - Action
      href: The_Great_Train_Robbery
      extract: >-
        The Great Train Robbery is a 1903 American silent short film directed by
        Edwin S. Porter. It is considered one of the earliest narrative films.
      thumbnail_width: 320
      thumbnail_height: 240
      country: United States
      runtime: 12
      language: Silent
      release_date: '1903-12-01'
      production_company: Edison Manufacturing Company
      director: Edwin S. Porter
      writer: Scott Marble
      cinematography: Edwin S. Porter
      budget: 150
      box_office: 5000
      awards:
        - One of the earliest crime films`,modifyingtabularjson5:`{
    movies: {
        movie: [
            {
                title: 'After Dark in Central Park',
                year: 1900,
                cast: [],
                genres: [
                    'Silent',
                    'Short'
                ],
                href: null,
                country: 'United States',
                runtime: 3,
                language: 'Silent',
                release_date: '1900-03-15',
                production_company: 'Edison Manufacturing Company',
                director: 'James H. White',
                writer: 'Unknown',
                cinematography: 'Unknown',
                budget: 500,
                box_office: null,
                awards: []
            },
            {
                title: "Boarding School Girls' Pajama Parade",
                year: 1900,
                cast: [],
                genres: [
                    'Silent',
                    'Short'
                ],
                href: null,
                country: 'United States',
                runtime: 2,
                language: 'Silent',
                release_date: '1900-05-10',
                production_company: 'Edison Manufacturing Company',
                director: 'James H. White',
                writer: 'Unknown',
                cinematography: 'Unknown',
                budget: 450,
                box_office: null,
                awards: []
            },
            {
                title: "Buffalo Bill's Wild West Parade",
                year: 1900,
                cast: [
                    'Buffalo Bill (William F. Cody)'
                ],
                genres: [
                    'Documentary'
                ],
                href: null,
                country: 'United States',
                runtime: 5,
                language: 'Silent',
                release_date: '1900-07-04',
                production_company: 'Edison Manufacturing Company',
                director: 'Unknown',
                writer: 'Unknown',
                cinematography: 'Unknown',
                budget: 600,
                box_office: null,
                awards: []
            },
            {
                title: 'Caught',
                year: 1900,
                cast: [],
                genres: [
                    'Drama'
                ],
                href: null,
                country: 'United States',
                runtime: 2,
                language: 'Silent',
                release_date: '1900-02-20',
                production_company: 'Biograph Company',
                director: 'William Heise',
                writer: 'Unknown',
                cinematography: 'Unknown',
                budget: 400,
                box_office: null,
                awards: []
            },
            {
                title: 'Clowns Spinning Hats',
                year: 1900,
                cast: [
                    'Unknown Clowns'
                ],
                genres: [
                    'Silent',
                    'Comedy'
                ],
                href: 'Clowns_Spinning_Hats',
                extract: 'Clowns Spinning Hats is a black-and-white silent film featuring clowns throwing hats back and forth to each other. It was written and produced by Lubin Films and released April 7, 1900.',
                country: 'United States',
                runtime: 3,
                language: 'Silent',
                release_date: '1900-04-07',
                production_company: 'Lubin Films',
                director: 'Unknown',
                writer: 'Unknown',
                cinematography: 'Unknown',
                budget: 500,
                box_office: null,
                awards: []
            },
            {
                title: 'The Enchanted Drawing',
                year: 1900,
                cast: [
                    'J. Stuart Blackton'
                ],
                genres: [
                    'Silent',
                    'Animation'
                ],
                href: 'The_Enchanted_Drawing',
                extract: 'The Enchanted Drawing is a 1900 silent film directed by J. Stuart Blackton. It is best known for containing the first animated sequences recorded on standard picture film, which has led Blackton to be considered the father of American animation.',
                thumbnail_width: 320,
                thumbnail_height: 240,
                country: 'United States',
                runtime: 2,
                language: 'Silent',
                release_date: '1900-11-16',
                production_company: 'Vitagraph Studios',
                director: 'J. Stuart Blackton',
                writer: 'J. Stuart Blackton',
                cinematography: 'Unknown',
                budget: 700,
                box_office: null,
                awards: []
            },
            {
                title: 'Feeding Sea Lions',
                year: 1900,
                cast: [
                    'Paul Boyton'
                ],
                genres: [
                    'Short',
                    'Silent'
                ],
                href: 'Feeding_Sea_Lions',
                extract: 'Feeding Sea Lions is a short silent film featuring Paul Boyton feeding sea lions at his Sea Lion Park at Coney Island. Boyton is shown feeding the trained sea lions, twelve in number. The sea lions follow Boyton up the steps of the pool and then follow him back into the water. One of them steals food out of the basket. The film was made by Lubin Studios on March 10, 1900.',
                country: 'United States',
                runtime: 3,
                language: 'Silent',
                release_date: '1900-03-10',
                production_company: 'Lubin Studios',
                director: 'Unknown',
                writer: 'Unknown',
                cinematography: 'Unknown',
                budget: 450,
                box_office: null,
                awards: []
            },
            {
                title: 'A Trip to the Moon',
                year: 1902,    // This movie was released after 1900.
                cast: [
                    'Georges Mlis'
                ],
                genres: [
                    'Sci-Fi',
                    'Adventure'
                ],
                href: 'A_Trip_to_the_Moon',
                extract: 'A Trip to the Moon (French: Le Voyage dans la Lune) is a 1902 French silent film directed by Georges Mlis. It is widely regarded as the first science fiction film ever made.',
                thumbnail_width: 320,
                thumbnail_height: 240,
                country: 'France',
                runtime: 14,
                language: 'Silent',
                release_date: '1902-09-01',
                production_company: 'Star Film Company',
                director: 'Georges Mlis',
                writer: 'Georges Mlis',
                cinematography: 'Georges Mlis',
                budget: 10000,
                box_office: 20000,
                awards: [
                    'Considered a milestone in cinema history'
                ]
            },
            {
                title: 'The Great Train Robbery',
                year: 1903,    // This movie was released after 1900.
                cast: [
                    'Gilbert M. Anderson',
                    'A. C. Abadie'
                ],
                genres: [
                    'Western',
                    'Action'
                ],
                href: 'The_Great_Train_Robbery',
                extract: 'The Great Train Robbery is a 1903 American silent short film directed by Edwin S. Porter. It is considered one of the earliest narrative films.',
                thumbnail_width: 320,
                thumbnail_height: 240,
                country: 'United States',
                runtime: 12,
                language: 'Silent',
                release_date: '1903-12-01',
                production_company: 'Edison Manufacturing Company',
                director: 'Edwin S. Porter',
                writer: 'Scott Marble',
                cinematography: 'Edwin S. Porter',
                budget: 150,
                box_office: 5000,
                awards: [
                    'One of the earliest crime films'
                ]
            }
        ]
    }
}`,modifyingtabularhjson:`{
  movies:
  {
    movie:
    [
      {
        title: After Dark in Central Park
        year: 1900
        cast: []
        genres:
        [
          Silent
          Short
        ]
        href: null
        country: United States
        runtime: 3
        language: Silent
        release_date: 1900-03-15
        production_company: Edison Manufacturing Company
        director: James H. White
        writer: Unknown
        cinematography: Unknown
        budget: 500
        box_office: null
        awards: []
      }
      {
        title: Boarding School Girls' Pajama Parade
        year: 1900
        cast: []
        genres:
        [
          Silent
          Short
        ]
        href: null
        country: United States
        runtime: 2
        language: Silent
        release_date: 1900-05-10
        production_company: Edison Manufacturing Company
        director: James H. White
        writer: Unknown
        cinematography: Unknown
        budget: 450
        box_office: null
        awards: []
      }
      {
        title: Buffalo Bill's Wild West Parade
        year: 1900
        cast:
        [
          Buffalo Bill (William F. Cody)
        ]
        genres:
        [
          Documentary
        ]
        href: null
        country: United States
        runtime: 5
        language: Silent
        release_date: 1900-07-04
        production_company: Edison Manufacturing Company
        director: Unknown
        writer: Unknown
        cinematography: Unknown
        budget: 600
        box_office: null
        awards: []
      }
      {
        title: Caught
        year: 1900
        cast: []
        genres:
        [
          Drama
        ]
        href: null
        country: United States
        runtime: 2
        language: Silent
        release_date: 1900-02-20
        production_company: Biograph Company
        director: William Heise
        writer: Unknown
        cinematography: Unknown
        budget: 400
        box_office: null
        awards: []
      }
      {
        title: Clowns Spinning Hats
        year: 1900
        cast:
        [
          Unknown Clowns
        ]
        genres:
        [
          Silent
          Comedy
        ]
        href: Clowns_Spinning_Hats
        extract: Clowns Spinning Hats is a black-and-white silent film featuring clowns throwing hats back and forth to each other. It was written and produced by Lubin Films and released April 7, 1900.
        country: United States
        runtime: 3
        language: Silent
        release_date: 1900-04-07
        production_company: Lubin Films
        director: Unknown
        writer: Unknown
        cinematography: Unknown
        budget: 500
        box_office: null
        awards: []
      }
      {
        title: The Enchanted Drawing
        year: 1900
        cast:
        [
          J. Stuart Blackton
        ]
        genres:
        [
          Silent
          Animation
        ]
        href: The_Enchanted_Drawing
        extract: The Enchanted Drawing is a 1900 silent film directed by J. Stuart Blackton. It is best known for containing the first animated sequences recorded on standard picture film, which has led Blackton to be considered the father of American animation.
        thumbnail_width: 320
        thumbnail_height: 240
        country: United States
        runtime: 2
        language: Silent
        release_date: 1900-11-16
        production_company: Vitagraph Studios
        director: J. Stuart Blackton
        writer: J. Stuart Blackton
        cinematography: Unknown
        budget: 700
        box_office: null
        awards: []
      }
      {
        title: Feeding Sea Lions
        year: 1900
        cast:
        [
          Paul Boyton
        ]
        genres:
        [
          Short
          Silent
        ]
        href: Feeding_Sea_Lions
        extract: Feeding Sea Lions is a short silent film featuring Paul Boyton feeding sea lions at his Sea Lion Park at Coney Island. Boyton is shown feeding the trained sea lions, twelve in number. The sea lions follow Boyton up the steps of the pool and then follow him back into the water. One of them steals food out of the basket. The film was made by Lubin Studios on March 10, 1900.
        country: United States
        runtime: 3
        language: Silent
        release_date: 1900-03-10
        production_company: Lubin Studios
        director: Unknown
        writer: Unknown
        cinematography: Unknown
        budget: 450
        box_office: null
        awards: []
      }
      {
        title: A Trip to the Moon
        year: 1902    // This movie was released after 1900.
        cast:
        [
          Georges Mlis
        ]
        genres:
        [
          Sci-Fi
          Adventure
        ]
        href: A_Trip_to_the_Moon
        extract: A Trip to the Moon (French: Le Voyage dans la Lune) is a 1902 French silent film directed by Georges Mlis. It is widely regarded as the first science fiction film ever made.
        thumbnail_width: 320
        thumbnail_height: 240
        country: France
        runtime: 14
        language: Silent
        release_date: 1902-09-01
        production_company: Star Film Company
        director: Georges Mlis
        writer: Georges Mlis
        cinematography: Georges Mlis
        budget: 10000
        box_office: 20000
        awards:
        [
          Considered a milestone in cinema history
        ]
      }
      {
        title: The Great Train Robbery
        year: 1903    // This movie was released after 1900.
        cast:
        [
          Gilbert M. Anderson
          A. C. Abadie
        ]
        genres:
        [
          Western
          Action
        ]
        href: The_Great_Train_Robbery
        extract: The Great Train Robbery is a 1903 American silent short film directed by Edwin S. Porter. It is considered one of the earliest narrative films.
        thumbnail_width: 320
        thumbnail_height: 240
        country: United States
        runtime: 12
        language: Silent
        release_date: 1903-12-01
        production_company: Edison Manufacturing Company
        director: Edwin S. Porter
        writer: Scott Marble
        cinematography: Edwin S. Porter
        budget: 150
        box_office: 5000
        awards:
        [
          One of the earliest crime films
        ]
      }
    ]
  }
}`},HSe=Object.freeze(Object.defineProperty({__proto__:null,startingStringsMap:USe},Symbol.toStringTag,{value:"Module"}));var qpt={exports:{}};(function(e,t){ace.define("ace/mode/hjson_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(n,r,i){var o=n("../lib/oop"),s=n("./text_highlight_rules").TextHighlightRules,a=function(){this.$rules={start:[{include:"#comments"},{include:"#rootObject"},{include:"#value"}],"#array":[{token:"paren.lparen",regex:/\[/,push:[{token:"paren.rparen",regex:/\]/,next:"pop"},{include:"#value"},{include:"#comments"},{token:"text",regex:/,|$/},{token:"invalid.illegal",regex:/[^\s\]]/},{defaultToken:"array"}]}],"#comments":[{token:["comment.punctuation","comment.line"],regex:/(#)(.*$)/},{token:"comment.punctuation",regex:/\/\*/,push:[{token:"comment.punctuation",regex:/\*\//,next:"pop"},{defaultToken:"comment.block"}]},{token:["comment.punctuation","comment.line"],regex:/(\/\/)(.*$)/}],"#constant":[{token:"constant",regex:/\b(?:true|false|null)\b/}],"#keyname":[{token:"keyword",regex:/(?:[^,\{\[\}\]\s]+|"(?:[^"\\]|\\.)*")\s*(?=:)/}],"#mstring":[{token:"string",regex:/'''/,push:[{token:"string",regex:/'''/,next:"pop"},{defaultToken:"string"}]}],"#number":[{token:"constant.numeric",regex:/-?(?:0|[1-9]\d*)(?:(?:\.\d+)?(?:[eE][+-]?\d+)?)?/,comment:"handles integer and decimal numbers"}],"#object":[{token:"paren.lparen",regex:/\{/,push:[{token:"paren.rparen",regex:/\}/,next:"pop"},{include:"#keyname"},{include:"#value"},{token:"text",regex:/:/},{token:"text",regex:/,/},{defaultToken:"paren"}]}],"#rootObject":[{token:"paren",regex:/(?=\s*(?:[^,\{\[\}\]\s]+|"(?:[^"\\]|\\.)*")\s*:)/,push:[{token:"paren.rparen",regex:/---none---/,next:"pop"},{include:"#keyname"},{include:"#value"},{token:"text",regex:/:/},{token:"text",regex:/,/},{defaultToken:"paren"}]}],"#string":[{token:"string",regex:/"/,push:[{token:"string",regex:/"/,next:"pop"},{token:"constant.language.escape",regex:/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/},{token:"invalid.illegal",regex:/\\./},{defaultToken:"string"}]}],"#ustring":[{token:"string",regex:/\b[^:,0-9\-\{\[\}\]\s].*$/}],"#value":[{include:"#constant"},{include:"#number"},{include:"#string"},{include:"#array"},{include:"#object"},{include:"#comments"},{include:"#mstring"},{include:"#ustring"}]},this.normalizeRules()};a.metaData={fileTypes:["hjson"],foldingStartMarker:`(?x:     # turn on extended mode
              ^    # a line beginning with
              \\s*    # some optional space
              [{\\[]  # the start of an object or array
              (?!    # but not followed by
              .*   # whatever
              [}\\]]  # and the close of an object or array
              ,?   # an optional comma
              \\s*  # some optional space
              $    # at the end of the line
              )
              |    # ...or...
              [{\\[]  # the start of an object or array
              \\s*    # some optional space
              $    # at the end of the line
            )`,foldingStopMarker:`(?x:   # turn on extended mode
             ^    # a line beginning with
             \\s*  # some optional space
             [}\\]]  # and the close of an object or array
             )`,keyEquivalent:"^~J",name:"Hjson",scopeName:"source.hjson"},o.inherits(a,s),r.HjsonHighlightRules=a}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(n,r,i){var o=n("../../lib/oop"),s=n("../../range").Range,a=n("./fold_mode").FoldMode,l=r.FoldMode=function(u){u&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+u.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+u.end)))};o.inherits(l,a),(function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(u,c,d){var h=u.getLine(d);if(this.singleLineBlockCommentRe.test(h)&&!this.startRegionRe.test(h)&&!this.tripleStarBlockCommentRe.test(h))return"";var f=this._getFoldWidgetBase(u,c,d);return!f&&this.startRegionRe.test(h)?"start":f},this.getFoldWidgetRange=function(u,c,d,h){var f=u.getLine(d);if(this.startRegionRe.test(f))return this.getCommentRegionBlock(u,f,d);var g=f.match(this.foldingStartMarker);if(g){var p=g.index;if(g[1])return this.openingBracketBlock(u,g[1],d,p);var m=u.getCommentFoldRange(d,p+g[0].length,1);return m&&!m.isMultiLine()&&(h?m=this.getSectionRange(u,d):c!="all"&&(m=null)),m}if(c!=="markbegin"){var g=f.match(this.foldingStopMarker);if(g){var p=g.index+g[0].length;return g[1]?this.closingBracketBlock(u,g[1],d,p):u.getCommentFoldRange(d,p,-1)}}},this.getSectionRange=function(u,c){var d=u.getLine(c),h=d.search(/\S/),f=c,p=d.length;c=c+1;for(var m=c,g=u.getLength();++c<g;){d=u.getLine(c);var y=d.search(/\S/);if(y!==-1){if(h>y)break;var v=this.getFoldWidgetRange(u,"all",c);if(v){if(v.start.row<=f)break;if(v.isMultiLine())c=v.end.row;else if(h==y)break}m=c}}return new s(f,p,m,u.getLine(m).length)},this.getCommentRegionBlock=function(u,c,d){for(var h=c.search(/\s*$/),f=u.getLength(),p=d,m=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,g=1;++d<f;){c=u.getLine(d);var y=m.exec(c);if(y&&(y[1]?g--:g++,!g))break}var v=d;if(v>p)return new s(p,h,v,c.length)}}).call(l.prototype)}),ace.define("ace/mode/hjson",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/hjson_highlight_rules","ace/mode/folding/cstyle"],function(n,r,i){var o=n("../lib/oop"),s=n("./text").Mode,a=n("./hjson_highlight_rules").HjsonHighlightRules,l=n("./folding/cstyle").FoldMode,u=function(){this.HighlightRules=a,this.foldingRules=new l};o.inherits(u,s),(function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.$id="ace/mode/hjson"}).call(u.prototype),r.Mode=u}),function(){ace.require(["ace/mode/hjson"],function(n){e&&(e.exports=n)})}()})(qpt);var Gpt={exports:{}};(function(e,t){ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(n,r,i){var o=n("../lib/oop"),s=n("./text_highlight_rules").TextHighlightRules,a=function(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"text",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"comment",regex:"\\/\\/.*$"},{token:"comment.start",regex:"\\/\\*",next:"comment"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"punctuation.operator",regex:/[,]/},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],comment:[{token:"comment.end",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]}};o.inherits(a,s),r.JsonHighlightRules=a}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(n,r,i){var o=n("../range").Range,s=function(){};(function(){this.checkOutdent=function(a,l){return/^\s+$/.test(a)?/^\s*\}/.test(l):!1},this.autoOutdent=function(a,l){var u=a.getLine(l),c=u.match(/^(\s*\})/);if(!c)return 0;var d=c[1].length,h=a.findMatchingBracket({row:l,column:d});if(!h||h.row==l)return 0;var f=this.$getIndent(a.getLine(h.row));a.replace(new o(l,0,l,d-1),f)},this.$getIndent=function(a){return a.match(/^\s*/)[0]}}).call(s.prototype),r.MatchingBraceOutdent=s}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(n,r,i){var o=n("../../lib/oop"),s=n("../../range").Range,a=n("./fold_mode").FoldMode,l=r.FoldMode=function(u){u&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+u.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+u.end)))};o.inherits(l,a),(function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(u,c,d){var h=u.getLine(d);if(this.singleLineBlockCommentRe.test(h)&&!this.startRegionRe.test(h)&&!this.tripleStarBlockCommentRe.test(h))return"";var f=this._getFoldWidgetBase(u,c,d);return!f&&this.startRegionRe.test(h)?"start":f},this.getFoldWidgetRange=function(u,c,d,h){var f=u.getLine(d);if(this.startRegionRe.test(f))return this.getCommentRegionBlock(u,f,d);var g=f.match(this.foldingStartMarker);if(g){var p=g.index;if(g[1])return this.openingBracketBlock(u,g[1],d,p);var m=u.getCommentFoldRange(d,p+g[0].length,1);return m&&!m.isMultiLine()&&(h?m=this.getSectionRange(u,d):c!="all"&&(m=null)),m}if(c!=="markbegin"){var g=f.match(this.foldingStopMarker);if(g){var p=g.index+g[0].length;return g[1]?this.closingBracketBlock(u,g[1],d,p):u.getCommentFoldRange(d,p,-1)}}},this.getSectionRange=function(u,c){var d=u.getLine(c),h=d.search(/\S/),f=c,p=d.length;c=c+1;for(var m=c,g=u.getLength();++c<g;){d=u.getLine(c);var y=d.search(/\S/);if(y!==-1){if(h>y)break;var v=this.getFoldWidgetRange(u,"all",c);if(v){if(v.start.row<=f)break;if(v.isMultiLine())c=v.end.row;else if(h==y)break}m=c}}return new s(f,p,m,u.getLine(m).length)},this.getCommentRegionBlock=function(u,c,d){for(var h=c.search(/\s*$/),f=u.getLength(),p=d,m=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,g=1;++d<f;){c=u.getLine(d);var y=m.exec(c);if(y&&(y[1]?g--:g++,!g))break}var v=d;if(v>p)return new s(p,h,v,c.length)}}).call(l.prototype)}),ace.define("ace/mode/json",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/json_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/folding/cstyle","ace/worker/worker_client"],function(n,r,i){var o=n("../lib/oop"),s=n("./text").Mode,a=n("./json_highlight_rules").JsonHighlightRules,l=n("./matching_brace_outdent").MatchingBraceOutdent,u=n("./folding/cstyle").FoldMode,c=n("../worker/worker_client").WorkerClient,d=function(){this.HighlightRules=a,this.$outdent=new l,this.$behaviour=this.$defaultBehaviour,this.foldingRules=new u};o.inherits(d,s),(function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(h,f,p){var m=this.$getIndent(f);if(h=="start"){var g=f.match(/^.*[\{\(\[]\s*$/);g&&(m+=p)}return m},this.checkOutdent=function(h,f,p){return this.$outdent.checkOutdent(f,p)},this.autoOutdent=function(h,f,p){this.$outdent.autoOutdent(f,p)},this.createWorker=function(h){var f=new c(["ace"],"ace/mode/json_worker","JsonWorker");return f.attachToDocument(h.getDocument()),f.on("annotate",function(p){h.setAnnotations(p.data)}),f.on("terminate",function(){h.clearAnnotations()}),f},this.$id="ace/mode/json"}).call(d.prototype),r.Mode=d}),function(){ace.require(["ace/mode/json"],function(n){e&&(e.exports=n)})}()})(Gpt);var Ypt={exports:{}};(function(e,t){ace.define("ace/mode/xml_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(n,r,i){var o=n("../lib/oop"),s=n("./text_highlight_rules").TextHighlightRules,a=function(l){var u="[_:a-zA-Z-][-_:.a-zA-Z0-9-]*";this.$rules={start:[{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\[",next:"cdata"},{token:["punctuation.instruction.xml","keyword.instruction.xml"],regex:"(<\\?)("+u+")",next:"processing_instruction"},{token:"comment.start.xml",regex:"<\\!--",next:"comment"},{token:["xml-pe.doctype.xml","xml-pe.doctype.xml"],regex:"(<\\!)(DOCTYPE)(?=[\\s])",next:"doctype",caseInsensitive:!0},{include:"tag"},{token:"text.end-tag-open.xml",regex:"</"},{token:"text.tag-open.xml",regex:"<"},{include:"reference"},{defaultToken:"text.xml"}],processing_instruction:[{token:"entity.other.attribute-name.decl-attribute-name.xml",regex:u},{token:"keyword.operator.decl-attribute-equals.xml",regex:"="},{include:"whitespace"},{include:"string"},{token:"punctuation.xml-decl.xml",regex:"\\?>",next:"start"}],doctype:[{include:"whitespace"},{include:"string"},{token:"xml-pe.doctype.xml",regex:">",next:"start"},{token:"xml-pe.xml",regex:"[-_a-zA-Z0-9:]+"},{token:"punctuation.int-subset",regex:"\\[",push:"int_subset"}],int_subset:[{token:"text.xml",regex:"\\s+"},{token:"punctuation.int-subset.xml",regex:"]",next:"pop"},{token:["punctuation.markup-decl.xml","keyword.markup-decl.xml"],regex:"(<\\!)("+u+")",push:[{token:"text",regex:"\\s+"},{token:"punctuation.markup-decl.xml",regex:">",next:"pop"},{include:"string"}]}],cdata:[{token:"string.cdata.xml",regex:"\\]\\]>",next:"start"},{token:"text.xml",regex:"\\s+"},{token:"text.xml",regex:"(?:[^\\]]|\\](?!\\]>))+"}],comment:[{token:"comment.end.xml",regex:"-->",next:"start"},{defaultToken:"comment.xml"}],reference:[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],attr_reference:[{token:"constant.language.escape.reference.attribute-value.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],tag:[{token:["meta.tag.punctuation.tag-open.xml","meta.tag.punctuation.end-tag-open.xml","meta.tag.tag-name.xml"],regex:"(?:(<)|(</))((?:"+u+":)?"+u+")",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}],tag_whitespace:[{token:"text.tag-whitespace.xml",regex:"\\s+"}],whitespace:[{token:"text.whitespace.xml",regex:"\\s+"}],string:[{token:"string.xml",regex:"'",push:[{token:"string.xml",regex:"'",next:"pop"},{defaultToken:"string.xml"}]},{token:"string.xml",regex:'"',push:[{token:"string.xml",regex:'"',next:"pop"},{defaultToken:"string.xml"}]}],attributes:[{token:"entity.other.attribute-name.xml",regex:u},{token:"keyword.operator.attribute-equals.xml",regex:"="},{include:"tag_whitespace"},{include:"attribute_value"}],attribute_value:[{token:"string.attribute-value.xml",regex:"'",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]}]},this.constructor===a&&this.normalizeRules()};(function(){this.embedTagRules=function(l,u,c){this.$rules.tag.unshift({token:["meta.tag.punctuation.tag-open.xml","meta.tag."+c+".tag-name.xml"],regex:"(<)("+c+"(?=\\s|>|$))",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:u+"start"}]}),this.$rules[c+"-end"]=[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start",onMatch:function(d,h,f){return f.splice(0),this.token}}],this.embedRules(l,u,[{token:["meta.tag.punctuation.end-tag-open.xml","meta.tag."+c+".tag-name.xml"],regex:"(</)("+c+"(?=\\s|>|$))",next:c+"-end"},{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\["},{token:"string.cdata.xml",regex:"\\]\\]>"}])}}).call(s.prototype),o.inherits(a,s),r.XmlHighlightRules=a}),ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator"],function(n,r,i){var o=n("../../lib/oop"),s=n("../behaviour").Behaviour,a=n("../../token_iterator").TokenIterator;function l(c,d){return c&&c.type.lastIndexOf(d+".xml")>-1}var u=function(){this.add("string_dquotes","insertion",function(c,d,h,f,p){if(p=='"'||p=="'"){var m=p,g=f.doc.getTextRange(h.getSelectionRange());if(g!==""&&g!=="'"&&g!='"'&&h.getWrapBehavioursEnabled())return{text:m+g+m,selection:!1};var y=h.getCursorPosition(),v=f.doc.getLine(y.row),b=v.substring(y.column,y.column+1),_=new a(f,y.row,y.column),x=_.getCurrentToken();if(b==m&&(l(x,"attribute-value")||l(x,"string")))return{text:"",selection:[1,1]};if(x||(x=_.stepBackward()),!x)return;for(;l(x,"tag-whitespace")||l(x,"whitespace");)x=_.stepBackward();var w=!b||b.match(/\s/);if(l(x,"attribute-equals")&&(w||b==">")||l(x,"decl-attribute-equals")&&(w||b=="?"))return{text:m+m,selection:[1,1]}}}),this.add("string_dquotes","deletion",function(c,d,h,f,p){var m=f.doc.getTextRange(p);if(!p.isMultiLine()&&(m=='"'||m=="'")){var g=f.doc.getLine(p.start.row),y=g.substring(p.start.column+1,p.start.column+2);if(y==m)return p.end.column++,p}}),this.add("autoclosing","insertion",function(c,d,h,f,p){if(p==">"){var m=h.getSelectionRange().start,g=new a(f,m.row,m.column),y=g.getCurrentToken()||g.stepBackward();if(!y||!(l(y,"tag-name")||l(y,"tag-whitespace")||l(y,"attribute-name")||l(y,"attribute-equals")||l(y,"attribute-value"))||l(y,"reference.attribute-value"))return;if(l(y,"attribute-value")){var v=g.getCurrentTokenColumn()+y.value.length;if(m.column<v)return;if(m.column==v){var b=g.stepForward();if(b&&l(b,"attribute-value"))return;g.stepBackward()}}if(/^\s*>/.test(f.getLine(m.row).slice(m.column)))return;for(;!l(y,"tag-name");)if(y=g.stepBackward(),y.value=="<"){y=g.stepForward();break}var _=g.getCurrentTokenRow(),x=g.getCurrentTokenColumn();if(l(g.stepBackward(),"end-tag-open"))return;var w=y.value;return _==m.row&&(w=w.substring(0,m.column-x)),this.voidElements&&this.voidElements.hasOwnProperty(w.toLowerCase())?void 0:{text:"></"+w+">",selection:[1,1]}}}),this.add("autoindent","insertion",function(c,d,h,f,p){if(p==`
`){var m=h.getCursorPosition(),g=f.getLine(m.row),y=new a(f,m.row,m.column),v=y.getCurrentToken();if(l(v,"")&&v.type.indexOf("tag-close")!==-1){if(v.value=="/>")return;for(;v&&v.type.indexOf("tag-name")===-1;)v=y.stepBackward();if(!v)return;var b=v.value,_=y.getCurrentTokenRow();if(v=y.stepBackward(),!v||v.type.indexOf("end-tag")!==-1)return;if(this.voidElements&&!this.voidElements[b]||!this.voidElements){var x=f.getTokenAt(m.row,m.column+1),g=f.getLine(_),w=this.$getIndent(g),E=w+f.getTabString();return x&&x.value==="</"?{text:`
`+E+`
`+w,selection:[1,E.length,1,E.length]}:{text:`
`+E}}}}})};o.inherits(u,s),r.XmlBehaviour=u}),ace.define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(n,r,i){var o=n("../../lib/oop"),s=n("../../range").Range,a=n("./fold_mode").FoldMode,l=r.FoldMode=function(d,h){a.call(this),this.voidElements=d||{},this.optionalEndTags=o.mixin({},this.voidElements),h&&o.mixin(this.optionalEndTags,h)};o.inherits(l,a);var u=function(){this.tagName="",this.closing=!1,this.selfClosing=!1,this.start={row:0,column:0},this.end={row:0,column:0}};function c(d,h){return d&&d.type&&d.type.lastIndexOf(h+".xml")>-1}(function(){this.getFoldWidget=function(d,h,f){var p=this._getFirstTagInLine(d,f);return p?p.closing||!p.tagName&&p.selfClosing?h==="markbeginend"?"end":"":!p.tagName||p.selfClosing||this.voidElements.hasOwnProperty(p.tagName.toLowerCase())||this._findEndTagInLine(d,f,p.tagName,p.end.column)?"":"start":this.getCommentFoldWidget(d,f)},this.getCommentFoldWidget=function(d,h){return/comment/.test(d.getState(h))&&/<!-/.test(d.getLine(h))?"start":""},this._getFirstTagInLine=function(d,h){for(var f=d.getTokens(h),p=new u,m=0;m<f.length;m++){var g=f[m];if(c(g,"tag-open")){if(p.end.column=p.start.column+g.value.length,p.closing=c(g,"end-tag-open"),g=f[++m],!g)return null;if(p.tagName=g.value,g.value===""){if(g=f[++m],!g)return null;p.tagName=g.value}for(p.end.column+=g.value.length,m++;m<f.length;m++)if(g=f[m],p.end.column+=g.value.length,c(g,"tag-close")){p.selfClosing=g.value=="/>";break}return p}else if(c(g,"tag-close"))return p.selfClosing=g.value=="/>",p;p.start.column+=g.value.length}return null},this._findEndTagInLine=function(d,h,f,p){for(var m=d.getTokens(h),g=0,y=0;y<m.length;y++){var v=m[y];if(g+=v.value.length,!(g<p-1)&&c(v,"end-tag-open")&&(v=m[y+1],c(v,"tag-name")&&v.value===""&&(v=m[y+2]),v&&v.value==f))return!0}return!1},this.getFoldWidgetRange=function(d,h,f){var p=this._getFirstTagInLine(d,f);if(!p)return this.getCommentFoldWidget(d,f)&&d.getCommentFoldRange(f,d.getLine(f).length);var m=d.getMatchingTags({row:f,column:0});if(m)return new s(m.openTag.end.row,m.openTag.end.column,m.closeTag.start.row,m.closeTag.start.column)}}).call(l.prototype)}),ace.define("ace/mode/xml",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text","ace/mode/xml_highlight_rules","ace/mode/behaviour/xml","ace/mode/folding/xml","ace/worker/worker_client"],function(n,r,i){var o=n("../lib/oop"),s=n("../lib/lang"),a=n("./text").Mode,l=n("./xml_highlight_rules").XmlHighlightRules,u=n("./behaviour/xml").XmlBehaviour,c=n("./folding/xml").FoldMode,d=n("../worker/worker_client").WorkerClient,h=function(){this.HighlightRules=l,this.$behaviour=new u,this.foldingRules=new c};o.inherits(h,a),(function(){this.voidElements=s.arrayToMap([]),this.blockComment={start:"<!--",end:"-->"},this.createWorker=function(f){var p=new d(["ace"],"ace/mode/xml_worker","Worker");return p.attachToDocument(f.getDocument()),p.on("error",function(m){f.setAnnotations(m.data)}),p.on("terminate",function(){f.clearAnnotations()}),p},this.$id="ace/mode/xml"}).call(h.prototype),r.Mode=h}),function(){ace.require(["ace/mode/xml"],function(n){e&&(e.exports=n)})}()})(Ypt);var Kpt={exports:{}};(function(e,t){ace.define("ace/mode/yaml_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(n,r,i){var o=n("../lib/oop"),s=n("./text_highlight_rules").TextHighlightRules,a=function(){this.$rules={start:[{token:"comment",regex:"#.*$"},{token:"list.markup",regex:/^(?:-{3}|\.{3})\s*(?=#|$)/},{token:"list.markup",regex:/^\s*[\-?](?:$|\s)/},{token:"constant",regex:"!![\\w//]+"},{token:"constant.language",regex:"[&\\*][a-zA-Z0-9-_]+"},{token:["meta.tag","keyword"],regex:/^(\s*\w[^\s:]*?)(:(?=\s|$))/},{token:["meta.tag","keyword"],regex:/(\w[^\s:]*?)(\s*:(?=\s|$))/},{token:"keyword.operator",regex:"<<\\w*:\\w*"},{token:"keyword.operator",regex:"-\\s*(?=[{])"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",regex:/[|>][-+\d]*(?:$|\s+(?:$|#))/,onMatch:function(l,u,c,d){d=d.replace(/ #.*/,"");var h=/^ *((:\s*)?-(\s*[^|>])?)?/.exec(d)[0].replace(/\S\s*$/,"").length,f=parseInt(/\d+[\s+-]*$/.exec(d));return f?(h+=f-1,this.next="mlString"):this.next="mlStringPre",c.length?(c[0]=this.next,c[1]=h):(c.push(this.next),c.push(h)),this.token},next:"mlString"},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"constant.numeric",regex:/(\b|[+\-\.])[\d_]+(?:(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)(?=[^\d-\w]|$)$/},{token:"constant.numeric",regex:/[+\-]?\.inf\b|NaN\b|0x[\dA-Fa-f_]+|0b[10_]+/},{token:"constant.language.boolean",regex:"\\b(?:true|false|TRUE|FALSE|True|False|yes|no)\\b"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"text",regex:/[^\s,:\[\]\{\}]+/}],mlStringPre:[{token:"indent",regex:/^ *$/},{token:"indent",regex:/^ */,onMatch:function(l,u,c){var d=c[1];return d>=l.length?(this.next="start",c.shift(),c.shift()):(c[1]=l.length-1,this.next=c[0]="mlString"),this.token},next:"mlString"},{defaultToken:"string"}],mlString:[{token:"indent",regex:/^ *$/},{token:"indent",regex:/^ */,onMatch:function(l,u,c){var d=c[1];return d>=l.length?(this.next="start",c.splice(0)):this.next="mlString",this.token},next:"mlString"},{token:"string",regex:".+"}]},this.normalizeRules()};o.inherits(a,s),r.YamlHighlightRules=a}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(n,r,i){var o=n("../range").Range,s=function(){};(function(){this.checkOutdent=function(a,l){return/^\s+$/.test(a)?/^\s*\}/.test(l):!1},this.autoOutdent=function(a,l){var u=a.getLine(l),c=u.match(/^(\s*\})/);if(!c)return 0;var d=c[1].length,h=a.findMatchingBracket({row:l,column:d});if(!h||h.row==l)return 0;var f=this.$getIndent(a.getLine(h.row));a.replace(new o(l,0,l,d-1),f)},this.$getIndent=function(a){return a.match(/^\s*/)[0]}}).call(s.prototype),r.MatchingBraceOutdent=s}),ace.define("ace/mode/folding/coffee",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode","ace/range"],function(n,r,i){var o=n("../../lib/oop"),s=n("./fold_mode").FoldMode,a=n("../../range").Range,l=r.FoldMode=function(){};o.inherits(l,s),(function(){this.commentBlock=function(u,c){var d=/\S/,h=u.getLine(c),f=h.search(d);if(!(f==-1||h[f]!="#")){for(var p=h.length,m=u.getLength(),g=c,y=c;++c<m;){h=u.getLine(c);var v=h.search(d);if(v!=-1){if(h[v]!="#")break;y=c}}if(y>g){var b=u.getLine(y).length;return new a(g,p,y,b)}}},this.getFoldWidgetRange=function(u,c,d){var h=this.indentationBlock(u,d);if(h||(h=this.commentBlock(u,d),h))return h},this.getFoldWidget=function(u,c,d){var h=u.getLine(d),f=h.search(/\S/),p=u.getLine(d+1),m=u.getLine(d-1),g=m.search(/\S/),y=p.search(/\S/);if(f==-1)return u.foldWidgets[d-1]=g!=-1&&g<y?"start":"","";if(g==-1){if(f==y&&h[f]=="#"&&p[f]=="#")return u.foldWidgets[d-1]="",u.foldWidgets[d+1]="","start"}else if(g==f&&h[f]=="#"&&m[f]=="#"&&u.getLine(d-2).search(/\S/)==-1)return u.foldWidgets[d-1]="start",u.foldWidgets[d+1]="","";return g!=-1&&g<f?u.foldWidgets[d-1]="start":u.foldWidgets[d-1]="",f<y?"start":""}}).call(l.prototype)}),ace.define("ace/mode/folding/yaml",["require","exports","module","ace/lib/oop","ace/mode/folding/coffee","ace/range"],function(n,r,i){var o=n("../../lib/oop"),s=n("./coffee").FoldMode,a=n("../../range").Range,l=r.FoldMode=function(){};o.inherits(l,s),(function(){this.getFoldWidgetRange=function(u,c,d){var h=/\S/,f=u.getLine(d),p=f.search(h),m=f[p]==="#",g=f[p]==="-";if(p!=-1){var y=f.length,v=u.getLength(),b=d,_=d;if(m){var x=this.commentBlock(u,d);if(x)return x}else if(g){var x=this.indentationBlock(u,d);if(x)return x}else for(;++d<v;){var f=u.getLine(d),w=f.search(h);if(w!=-1){if(w<=p&&f[p]!=="-"){var E=u.getTokenAt(d,0);if(!E||E.type!=="string")break}_=d}}if(_>b){var S=u.getLine(_).length;return new a(b,y,_,S)}}},this.getFoldWidget=function(u,c,d){var h=u.getLine(d),f=h.search(/\S/),p=u.getLine(d+1),m=u.getLine(d-1),g=m.search(/\S/),y=p.search(/\S/),v=h[f]==="-";if(f==-1)return u.foldWidgets[d-1]=g!=-1&&g<y?"start":"","";if(g==-1){if(f==y&&h[f]=="#"&&p[f]=="#")return u.foldWidgets[d-1]="",u.foldWidgets[d+1]="","start"}else if(g==f&&h[f]=="#"&&m[f]=="#"&&u.getLine(d-2).search(/\S/)==-1)return u.foldWidgets[d-1]="start",u.foldWidgets[d+1]="","";return g!=-1&&g<f||g!=-1&&g==f&&v?u.foldWidgets[d-1]="start":u.foldWidgets[d-1]="",f<y?"start":""}}).call(l.prototype)}),ace.define("ace/mode/yaml",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/yaml_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/folding/yaml","ace/worker/worker_client"],function(n,r,i){var o=n("../lib/oop"),s=n("./text").Mode,a=n("./yaml_highlight_rules").YamlHighlightRules,l=n("./matching_brace_outdent").MatchingBraceOutdent,u=n("./folding/yaml").FoldMode,c=n("../worker/worker_client").WorkerClient,d=function(){this.HighlightRules=a,this.$outdent=new l,this.foldingRules=new u,this.$behaviour=this.$defaultBehaviour};o.inherits(d,s),(function(){this.lineCommentStart=["#"],this.getNextLineIndent=function(h,f,p){var m=this.$getIndent(f);if(h=="start"){var g=f.match(/^.*[\{\(\[]\s*$/);g&&(m+=p)}return m},this.checkOutdent=function(h,f,p){return this.$outdent.checkOutdent(f,p)},this.autoOutdent=function(h,f,p){this.$outdent.autoOutdent(f,p)},this.createWorker=function(h){var f=new c(["ace"],"ace/mode/yaml_worker","YamlWorker");return f.attachToDocument(h.getDocument()),f.on("annotate",function(p){h.setAnnotations(p.data)}),f.on("terminate",function(){h.clearAnnotations()}),f},this.$id="ace/mode/yaml"}).call(d.prototype),r.Mode=d}),function(){ace.require(["ace/mode/yaml"],function(n){e&&(e.exports=n)})}()})(Kpt);var Xpt={exports:{}};(function(e,t){ace.define("ace/mode/toml_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(n,r,i){var o=n("../lib/oop"),s=n("./text_highlight_rules").TextHighlightRules,a=function(){var l=this.createKeywordMapper({"constant.language.boolean":"true|false"},"identifier"),u="[a-zA-Z\\$_-][a-zA-Z\\d\\$_-]*\\b";this.$rules={start:[{token:"comment.toml",regex:/#.*$/},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:["variable.keygroup.toml"],regex:"(?:^\\s*)(\\[\\[([^\\]]+)\\]\\])"},{token:["variable.keygroup.toml"],regex:"(?:^\\s*)(\\[([^\\]]+)\\])"},{token:l,regex:u},{token:"support.date.toml",regex:"\\d{4}-\\d{2}-\\d{2}(T)\\d{2}:\\d{2}:\\d{2}(Z)"},{token:"constant.numeric.toml",regex:"-?\\d+(\\.?\\d+)?"}],qqstring:[{token:"string",regex:"\\\\$",next:"qqstring"},{token:"constant.language.escape",regex:'\\\\[0tnr"\\\\]'},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}]}};o.inherits(a,s),r.TomlHighlightRules=a}),ace.define("ace/mode/folding/ini",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(n,r,i){var o=n("../../lib/oop"),s=n("../../range").Range,a=n("./fold_mode").FoldMode,l=r.FoldMode=function(){};o.inherits(l,a),(function(){this.foldingStartMarker=/^\s*\[([^\])]*)]\s*(?:$|[;#])/,this.getFoldWidgetRange=function(u,c,d){var h=this.foldingStartMarker,f=u.getLine(d),p=f.match(h);if(p){for(var m=p[1]+".",g=f.length,y=u.getLength(),v=d,b=d;++d<y;)if(f=u.getLine(d),!/^\s*$/.test(f)){if(p=f.match(h),p&&p[1].lastIndexOf(m,0)!==0)break;b=d}if(b>v){var _=u.getLine(b).length;return new s(v,g,b,_)}}}}).call(l.prototype)}),ace.define("ace/mode/toml",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/toml_highlight_rules","ace/mode/folding/ini"],function(n,r,i){var o=n("../lib/oop"),s=n("./text").Mode,a=n("./toml_highlight_rules").TomlHighlightRules,l=n("./folding/ini").FoldMode,u=function(){this.HighlightRules=a,this.foldingRules=new l,this.$behaviour=this.$defaultBehaviour};o.inherits(u,s),(function(){this.lineCommentStart="#",this.$id="ace/mode/toml"}).call(u.prototype),r.Mode=u}),function(){ace.require(["ace/mode/toml"],function(n){e&&(e.exports=n)})}()})(Xpt);var Qpt={exports:{}};(function(e,t){ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(n,r,i){var o=n("../lib/oop"),s=n("./text_highlight_rules").TextHighlightRules,a=function(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"text",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"comment",regex:"\\/\\/.*$"},{token:"comment.start",regex:"\\/\\*",next:"comment"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"punctuation.operator",regex:/[,]/},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],comment:[{token:"comment.end",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]}};o.inherits(a,s),r.JsonHighlightRules=a}),ace.define("ace/mode/json5_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/json_highlight_rules"],function(n,r,i){var o=n("../lib/oop"),s=n("./json_highlight_rules").JsonHighlightRules,a=function(){s.call(this);var l=[{token:"variable",regex:/[a-zA-Z$_\u00a1-\uffff][\w$\u00a1-\uffff]*\s*(?=:)/},{token:"variable",regex:/['](?:(?:\\.)|(?:[^'\\]))*?[']\s*(?=:)/},{token:"constant.language.boolean",regex:/(?:null)\b/},{token:"string",regex:/'/,next:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\/bfnrt]|$)/,consumeLineEnd:!0},{token:"string",regex:/'|$/,next:"start"},{defaultToken:"string"}]},{token:"string",regex:/"(?![^"]*":)/,next:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\/bfnrt]|$)/,consumeLineEnd:!0},{token:"string",regex:/"|$/,next:"start"},{defaultToken:"string"}]},{token:"constant.numeric",regex:/[+-]?(?:Infinity|NaN)\b/}];for(var u in this.$rules)this.$rules[u].unshift.apply(this.$rules[u],l);this.normalizeRules()};o.inherits(a,s),r.Json5HighlightRules=a}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(n,r,i){var o=n("../range").Range,s=function(){};(function(){this.checkOutdent=function(a,l){return/^\s+$/.test(a)?/^\s*\}/.test(l):!1},this.autoOutdent=function(a,l){var u=a.getLine(l),c=u.match(/^(\s*\})/);if(!c)return 0;var d=c[1].length,h=a.findMatchingBracket({row:l,column:d});if(!h||h.row==l)return 0;var f=this.$getIndent(a.getLine(h.row));a.replace(new o(l,0,l,d-1),f)},this.$getIndent=function(a){return a.match(/^\s*/)[0]}}).call(s.prototype),r.MatchingBraceOutdent=s}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(n,r,i){var o=n("../../lib/oop"),s=n("../../range").Range,a=n("./fold_mode").FoldMode,l=r.FoldMode=function(u){u&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+u.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+u.end)))};o.inherits(l,a),(function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(u,c,d){var h=u.getLine(d);if(this.singleLineBlockCommentRe.test(h)&&!this.startRegionRe.test(h)&&!this.tripleStarBlockCommentRe.test(h))return"";var f=this._getFoldWidgetBase(u,c,d);return!f&&this.startRegionRe.test(h)?"start":f},this.getFoldWidgetRange=function(u,c,d,h){var f=u.getLine(d);if(this.startRegionRe.test(f))return this.getCommentRegionBlock(u,f,d);var g=f.match(this.foldingStartMarker);if(g){var p=g.index;if(g[1])return this.openingBracketBlock(u,g[1],d,p);var m=u.getCommentFoldRange(d,p+g[0].length,1);return m&&!m.isMultiLine()&&(h?m=this.getSectionRange(u,d):c!="all"&&(m=null)),m}if(c!=="markbegin"){var g=f.match(this.foldingStopMarker);if(g){var p=g.index+g[0].length;return g[1]?this.closingBracketBlock(u,g[1],d,p):u.getCommentFoldRange(d,p,-1)}}},this.getSectionRange=function(u,c){var d=u.getLine(c),h=d.search(/\S/),f=c,p=d.length;c=c+1;for(var m=c,g=u.getLength();++c<g;){d=u.getLine(c);var y=d.search(/\S/);if(y!==-1){if(h>y)break;var v=this.getFoldWidgetRange(u,"all",c);if(v){if(v.start.row<=f)break;if(v.isMultiLine())c=v.end.row;else if(h==y)break}m=c}}return new s(f,p,m,u.getLine(m).length)},this.getCommentRegionBlock=function(u,c,d){for(var h=c.search(/\s*$/),f=u.getLength(),p=d,m=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,g=1;++d<f;){c=u.getLine(d);var y=m.exec(c);if(y&&(y[1]?g--:g++,!g))break}var v=d;if(v>p)return new s(p,h,v,c.length)}}).call(l.prototype)}),ace.define("ace/mode/json5",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/json5_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/folding/cstyle"],function(n,r,i){var o=n("../lib/oop"),s=n("./text").Mode,a=n("./json5_highlight_rules").Json5HighlightRules,l=n("./matching_brace_outdent").MatchingBraceOutdent,u=n("./folding/cstyle").FoldMode,c=function(){this.HighlightRules=a,this.$outdent=new l,this.$behaviour=this.$defaultBehaviour,this.foldingRules=new u};o.inherits(c,s),(function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.checkOutdent=function(d,h,f){return this.$outdent.checkOutdent(h,f)},this.autoOutdent=function(d,h,f){this.$outdent.autoOutdent(h,f)},this.$id="ace/mode/json5"}).call(c.prototype),r.Mode=c}),function(){ace.require(["ace/mode/json5"],function(n){e&&(e.exports=n)})}()})(Qpt);var Jpt={exports:{}};(function(e,t){ace.define("ace/snippets",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/editor"],function(n,r,i){var o=n("./lib/dom"),s=n("./lib/oop"),a=n("./lib/event_emitter").EventEmitter,l=n("./lib/lang"),u=n("./range").Range,c=n("./range_list").RangeList,d=n("./keyboard/hash_handler").HashHandler,h=n("./tokenizer").Tokenizer,f=n("./clipboard"),p={CURRENT_WORD:function(w){return w.session.getTextRange(w.session.getWordRange())},SELECTION:function(w,E,S){var T=w.session.getTextRange();return S?T.replace(/\n\r?([ \t]*\S)/g,`
`+S+"$1"):T},CURRENT_LINE:function(w){return w.session.getLine(w.getCursorPosition().row)},PREV_LINE:function(w){return w.session.getLine(w.getCursorPosition().row-1)},LINE_INDEX:function(w){return w.getCursorPosition().row},LINE_NUMBER:function(w){return w.getCursorPosition().row+1},SOFT_TABS:function(w){return w.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(w){return w.session.getTabSize()},CLIPBOARD:function(w){return f.getText&&f.getText()},FILENAME:function(w){return/[^/\\]*$/.exec(this.FILEPATH(w))[0]},FILENAME_BASE:function(w){return/[^/\\]*$/.exec(this.FILEPATH(w))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(w){return this.FILEPATH(w).replace(/[^/\\]*$/,"")},FILEPATH:function(w){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(w){var E=w.session.$mode||{};return E.blockComment&&E.blockComment.start||""},BLOCK_COMMENT_END:function(w){var E=w.session.$mode||{};return E.blockComment&&E.blockComment.end||""},LINE_COMMENT:function(w){var E=w.session.$mode||{};return E.lineCommentStart||""},CURRENT_YEAR:m.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:m.bind(null,{year:"2-digit"}),CURRENT_MONTH:m.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:m.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:m.bind(null,{month:"short"}),CURRENT_DATE:m.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:m.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:m.bind(null,{weekday:"short"}),CURRENT_HOUR:m.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:m.bind(null,{minute:"2-digit"}),CURRENT_SECOND:m.bind(null,{second:"2-digit"})};p.SELECTED_TEXT=p.SELECTION;function m(w){var E=new Date().toLocaleString("en-us",w);return E.length==1?"0"+E:E}var g=function(){function w(){this.snippetMap={},this.snippetNameMap={},this.variables=p}return w.prototype.getTokenizer=function(){return w.$tokenizer||this.createTokenizer()},w.prototype.createTokenizer=function(){function E(C){return C=C.substr(1),/^\d+$/.test(C)?[{tabstopId:parseInt(C,10)}]:[{text:C}]}function S(C){return"(?:[^\\\\"+C+"]|\\\\.)"}var T={regex:"/("+S("/")+"+)/",onMatch:function(C,D,$){var I=$[0];return I.fmtString=!0,I.guard=C.slice(1,-1),I.flag="",""},next:"formatString"};return w.$tokenizer=new h({start:[{regex:/\\./,onMatch:function(C,D,$){var I=C[1];return(I=="}"&&$.length||"`$\\".indexOf(I)!=-1)&&(C=I),[C]}},{regex:/}/,onMatch:function(C,D,$){return[$.length?$.shift():C]}},{regex:/\$(?:\d+|\w+)/,onMatch:E},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(C,D,$){var I=E(C.substr(1));return $.unshift(I[0]),I},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+S("\\|")+"*\\|",onMatch:function(C,D,$){var I=C.slice(1,-1).replace(/\\[,|\\]|,/g,function(R){return R.length==2?R[1]:"\0"}).split("\0").map(function(R){return{value:R}});return $[0].choices=I,[I[0]]},next:"start"},T,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(C,D,$){return $.length&&$[0].expectElse?($[0].expectElse=!1,$[0].ifEnd={elseEnd:$[0]},[$[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(C,D,$){var I=C[1];return I=="}"&&$.length||"`$\\".indexOf(I)!=-1?C=I:I=="n"?C=`
`:I=="t"?C="	":"ulULE".indexOf(I)!=-1&&(C={changeCase:I,local:I>"a"}),[C]}},{regex:"/\\w*}",onMatch:function(C,D,$){var I=$.shift();return I&&(I.flag=C.slice(1,-1)),this.next=I&&I.tabstopId?"start":"",[I||C]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(C,D,$){return[{text:C.slice(1)}]}},{regex:/\${\w+/,onMatch:function(C,D,$){var I={text:C.slice(2)};return $.unshift(I),[I]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(C,D,$){var I=$.shift();return this.next=I&&I.tabstopId?"start":"",[I||C]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(C,D,$){var I=$[0];return I.formatFunction=C.slice(2,-1),[$.shift()]},next:"formatString"},T,{regex:/:[\?\-+]?/,onMatch:function(C,D,$){C[1]=="+"&&($[0].ifEnd=$[0]),C[1]=="?"&&($[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]}),w.$tokenizer},w.prototype.tokenizeTmSnippet=function(E,S){return this.getTokenizer().getLineTokens(E,S).tokens.map(function(T){return T.value||T})},w.prototype.getVariableValue=function(E,S,T){if(/^\d+$/.test(S))return(this.variables.__||{})[S]||"";if(/^[A-Z]\d+$/.test(S))return(this.variables[S[0]+"__"]||{})[S.substr(1)]||"";if(S=S.replace(/^TM_/,""),!this.variables.hasOwnProperty(S))return"";var C=this.variables[S];return typeof C=="function"&&(C=this.variables[S](E,S,T)),C??""},w.prototype.tmStrFormat=function(E,S,T){if(!S.fmt)return E;var C=S.flag||"",D=S.guard;D=new RegExp(D,C.replace(/[^gim]/g,""));var $=typeof S.fmt=="string"?this.tokenizeTmSnippet(S.fmt,"formatString"):S.fmt,I=this,R=E.replace(D,function(){var A=I.variables.__;I.variables.__=[].slice.call(arguments);for(var M=I.resolveVariables($,T),N="E",L=0;L<M.length;L++){var z=M[L];if(typeof z=="object")if(M[L]="",z.changeCase&&z.local){var F=M[L+1];F&&typeof F=="string"&&(z.changeCase=="u"?M[L]=F[0].toUpperCase():M[L]=F[0].toLowerCase(),M[L+1]=F.substr(1))}else z.changeCase&&(N=z.changeCase);else N=="U"?M[L]=z.toUpperCase():N=="L"&&(M[L]=z.toLowerCase())}return I.variables.__=A,M.join("")});return R},w.prototype.tmFormatFunction=function(E,S,T){return S.formatFunction=="upcase"?E.toUpperCase():S.formatFunction=="downcase"?E.toLowerCase():E},w.prototype.resolveVariables=function(E,S){for(var T=[],C="",D=!0,$=0;$<E.length;$++){var I=E[$];if(typeof I=="string"){T.push(I),I==`
`?(D=!0,C=""):D&&(C=/^\t*/.exec(I)[0],D=/\S/.test(I));continue}if(I){if(D=!1,I.fmtString){var R=E.indexOf(I,$+1);R==-1&&(R=E.length),I.fmt=E.slice($+1,R),$=R}if(I.text){var A=this.getVariableValue(S,I.text,C)+"";I.fmtString&&(A=this.tmStrFormat(A,I,S)),I.formatFunction&&(A=this.tmFormatFunction(A,I,S)),A&&!I.ifEnd?(T.push(A),M(I)):!A&&I.ifEnd&&M(I.ifEnd)}else I.elseEnd?M(I.elseEnd):(I.tabstopId!=null||I.changeCase!=null)&&T.push(I)}}function M(N){var L=E.indexOf(N,$+1);L!=-1&&($=L)}return T},w.prototype.getDisplayTextForSnippet=function(E,S){var T=y.call(this,E,S);return T.text},w.prototype.insertSnippetForSelection=function(E,S,T){T===void 0&&(T={});var C=y.call(this,E,S,T),D=E.getSelectionRange(),$=E.session.replace(D,C.text),I=new v(E),R=E.inVirtualSelectionMode&&E.selection.index;I.addTabstops(C.tabstops,D.start,$,R)},w.prototype.insertSnippet=function(E,S,T){T===void 0&&(T={});var C=this;if(E.inVirtualSelectionMode)return C.insertSnippetForSelection(E,S,T);E.forEachSelection(function(){C.insertSnippetForSelection(E,S,T)},null,{keepOrder:!0}),E.tabstopManager&&E.tabstopManager.tabNext()},w.prototype.$getScope=function(E){var S=E.session.$mode.$id||"";if(S=S.split("/").pop(),S==="html"||S==="php"){S==="php"&&!E.session.$mode.inlinePhp&&(S="html");var T=E.getCursorPosition(),C=E.session.getState(T.row);typeof C=="object"&&(C=C[0]),C.substring&&(C.substring(0,3)=="js-"?S="javascript":C.substring(0,4)=="css-"?S="css":C.substring(0,4)=="php-"&&(S="php"))}return S},w.prototype.getActiveScopes=function(E){var S=this.$getScope(E),T=[S],C=this.snippetMap;return C[S]&&C[S].includeScopes&&T.push.apply(T,C[S].includeScopes),T.push("_"),T},w.prototype.expandWithTab=function(E,S){var T=this,C=E.forEachSelection(function(){return T.expandSnippetForSelection(E,S)},null,{keepOrder:!0});return C&&E.tabstopManager&&E.tabstopManager.tabNext(),C},w.prototype.expandSnippetForSelection=function(E,S){var T=E.getCursorPosition(),C=E.session.getLine(T.row),D=C.substring(0,T.column),$=C.substr(T.column),I=this.snippetMap,R;return this.getActiveScopes(E).some(function(A){var M=I[A];return M&&(R=this.findMatchingSnippet(M,D,$)),!!R},this),R?(S&&S.dryRun||(E.session.doc.removeInLine(T.row,T.column-R.replaceBefore.length,T.column+R.replaceAfter.length),this.variables.M__=R.matchBefore,this.variables.T__=R.matchAfter,this.insertSnippetForSelection(E,R.content),this.variables.M__=this.variables.T__=null),!0):!1},w.prototype.findMatchingSnippet=function(E,S,T){for(var C=E.length;C--;){var D=E[C];if(!(D.startRe&&!D.startRe.test(S))&&!(D.endRe&&!D.endRe.test(T))&&!(!D.startRe&&!D.endRe))return D.matchBefore=D.startRe?D.startRe.exec(S):[""],D.matchAfter=D.endRe?D.endRe.exec(T):[""],D.replaceBefore=D.triggerRe?D.triggerRe.exec(S)[0]:"",D.replaceAfter=D.endTriggerRe?D.endTriggerRe.exec(T)[0]:"",D}},w.prototype.register=function(E,S){var T=this.snippetMap,C=this.snippetNameMap,D=this;E||(E=[]);function $(A){return A&&!/^\^?\(.*\)\$?$|^\\b$/.test(A)&&(A="(?:"+A+")"),A||""}function I(A,M,N){return A=$(A),M=$(M),A=M+A,A&&A[A.length-1]!="$"&&(A=A+"$"),new RegExp(A)}function R(A){A.scope||(A.scope=S||"_"),S=A.scope,T[S]||(T[S]=[],C[S]={});var M=C[S];if(A.name){var N=M[A.name];N&&D.unregister(N),M[A.name]=A}T[S].push(A),A.prefix&&(A.tabTrigger=A.prefix),!A.content&&A.body&&(A.content=Array.isArray(A.body)?A.body.join(`
`):A.body),A.tabTrigger&&!A.trigger&&(!A.guard&&/^\w/.test(A.tabTrigger)&&(A.guard="\\b"),A.trigger=l.escapeRegExp(A.tabTrigger)),!(!A.trigger&&!A.guard&&!A.endTrigger&&!A.endGuard)&&(A.startRe=I(A.trigger,A.guard),A.triggerRe=new RegExp(A.trigger),A.endRe=I(A.endTrigger,A.endGuard),A.endTriggerRe=new RegExp(A.endTrigger))}Array.isArray(E)?E.forEach(R):Object.keys(E).forEach(function(A){R(E[A])}),this._signal("registerSnippets",{scope:S})},w.prototype.unregister=function(E,S){var T=this.snippetMap,C=this.snippetNameMap;function D($){var I=C[$.scope||S];if(I&&I[$.name]){delete I[$.name];var R=T[$.scope||S],A=R&&R.indexOf($);A>=0&&R.splice(A,1)}}E.content?D(E):Array.isArray(E)&&E.forEach(D)},w.prototype.parseSnippetFile=function(E){E=E.replace(/\r/g,"");for(var S=[],T={},C=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm,D;D=C.exec(E);){if(D[1])try{T=JSON.parse(D[1]),S.push(T)}catch{}if(D[4])T.content=D[4].replace(/^\t/gm,""),S.push(T),T={};else{var $=D[2],I=D[3];if($=="regex"){var R=/\/((?:[^\/\\]|\\.)*)|$/g;T.guard=R.exec(I)[1],T.trigger=R.exec(I)[1],T.endTrigger=R.exec(I)[1],T.endGuard=R.exec(I)[1]}else $=="snippet"?(T.tabTrigger=I.match(/^\S*/)[0],T.name||(T.name=I)):$&&(T[$]=I)}}return S},w.prototype.getSnippetByName=function(E,S){var T=this.snippetNameMap,C;return this.getActiveScopes(S).some(function(D){var $=T[D];return $&&(C=$[E]),!!C},this),C},w}();s.implement(g.prototype,a);var y=function(w,E,S){S===void 0&&(S={});var T=w.getCursorPosition(),C=w.session.getLine(T.row),D=w.session.getTabString(),$=C.match(/^\s*/)[0];T.column<$.length&&($=$.slice(0,T.column)),E=E.replace(/\r/g,"");var I=this.tokenizeTmSnippet(E);I=this.resolveVariables(I,w),I=I.map(function(G){return G==`
`&&!S.excludeExtraIndent?G+$:typeof G=="string"?G.replace(/\t/g,D):G});var R=[];I.forEach(function(G,ne){if(typeof G=="object"){var X=G.tabstopId,te=R[X];if(te||(te=R[X]=[],te.index=X,te.value="",te.parents={}),te.indexOf(G)===-1){G.choices&&!te.choices&&(te.choices=G.choices),te.push(G);var se=I.indexOf(G,ne+1);if(se!==-1){var ve=I.slice(ne+1,se),pe=ve.some(function(Ge){return typeof Ge=="object"});pe&&!te.value?te.value=ve:ve.length&&(!te.value||typeof te.value!="string")&&(te.value=ve.join(""))}}}}),R.forEach(function(G){G.length=0});var A={};function M(G){for(var ne=[],X=0;X<G.length;X++){var te=G[X];if(typeof te=="object"){if(A[te.tabstopId])continue;var se=G.lastIndexOf(te,X-1);te=ne[se]||{tabstopId:te.tabstopId}}ne[X]=te}return ne}for(var N=0;N<I.length;N++){var L=I[N];if(typeof L=="object"){var z=L.tabstopId,F=R[z],j=I.indexOf(L,N+1);if(A[z]){A[z]===L&&(delete A[z],Object.keys(A).forEach(function(G){F.parents[G]=!0}));continue}A[z]=L;var W=F.value;typeof W!="string"?W=M(W):L.fmt&&(W=this.tmStrFormat(W,L,w)),I.splice.apply(I,[N+1,Math.max(0,j-N)].concat(W,L)),F.indexOf(L)===-1&&F.push(L)}}var B=0,H=0,V="";return I.forEach(function(G){if(typeof G=="string"){var ne=G.split(`
`);ne.length>1?(H=ne[ne.length-1].length,B+=ne.length-1):H+=G.length,V+=G}else G&&(G.start?G.end={row:B,column:H}:G.start={row:B,column:H})}),{text:V,tabstops:R,tokens:I}},v=function(){function w(E){if(this.index=0,this.ranges=[],this.tabstops=[],E.tabstopManager)return E.tabstopManager;E.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=l.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(E)}return w.prototype.attach=function(E){this.$openTabstops=null,this.selectedTabstop=null,this.editor=E,this.session=E.session,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},w.prototype.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges.length=0,this.tabstops.length=0,this.selectedTabstop=null,this.editor.off("change",this.$onChange),this.editor.off("changeSelection",this.$onChangeSelection),this.editor.off("changeSession",this.$onChangeSession),this.editor.commands.off("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.session=null,this.editor=null},w.prototype.onChange=function(E){for(var S=E.action[0]=="r",T=this.selectedTabstop||{},C=T.parents||{},D=this.tabstops.slice(),$=0;$<D.length;$++){var I=D[$],R=I==T||C[I.index];if(I.rangeList.$bias=R?0:1,E.action=="remove"&&I!==T){var A=I.parents&&I.parents[T.index],M=I.rangeList.pointIndex(E.start,A);M=M<0?-M-1:M+1;var N=I.rangeList.pointIndex(E.end,A);N=N<0?-N-1:N-1;for(var L=I.rangeList.ranges.slice(M,N),z=0;z<L.length;z++)this.removeRange(L[z])}I.rangeList.$onChange(E)}var F=this.session;!this.$inChange&&S&&F.getLength()==1&&!F.getValue()&&this.detach()},w.prototype.updateLinkedFields=function(){var E=this.selectedTabstop;if(!(!E||!E.hasLinkedRanges||!E.firstNonLinked)){this.$inChange=!0;for(var S=this.session,T=S.getTextRange(E.firstNonLinked),C=0;C<E.length;C++){var D=E[C];if(D.linked){var $=D.original,I=r.snippetManager.tmStrFormat(T,$,this.editor);S.replace(D,I)}}this.$inChange=!1}},w.prototype.onAfterExec=function(E){E.command&&!E.command.readOnly&&this.updateLinkedFields()},w.prototype.onChangeSelection=function(){if(this.editor){for(var E=this.editor.selection.lead,S=this.editor.selection.anchor,T=this.editor.selection.isEmpty(),C=0;C<this.ranges.length;C++)if(!this.ranges[C].linked){var D=this.ranges[C].contains(E.row,E.column),$=T||this.ranges[C].contains(S.row,S.column);if(D&&$)return}this.detach()}},w.prototype.onChangeSession=function(){this.detach()},w.prototype.tabNext=function(E){var S=this.tabstops.length,T=this.index+(E||1);T=Math.min(Math.max(T,1),S),T==S&&(T=0),this.selectTabstop(T),this.updateTabstopMarkers(),T===0&&this.detach()},w.prototype.selectTabstop=function(E){this.$openTabstops=null;var S=this.tabstops[this.index];if(S&&this.addTabstopMarkers(S),this.index=E,S=this.tabstops[this.index],!(!S||!S.length)){this.selectedTabstop=S;var T=S.firstNonLinked||S;if(S.choices&&(T.cursor=T.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(T);else{var C=this.editor.multiSelect;C.toSingleRange(T);for(var D=0;D<S.length;D++)S.hasLinkedRanges&&S[D].linked||C.addRange(S[D].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},w.prototype.addTabstops=function(E,S,T){var C=this.useLink||!this.editor.getOption("enableMultiselect");if(this.$openTabstops||(this.$openTabstops=[]),!E[0]){var D=u.fromPoints(T,T);_(D.start,S),_(D.end,S),E[0]=[D],E[0].index=0}var $=this.index,I=[$+1,0],R=this.ranges,A=this.snippetId=(this.snippetId||0)+1;E.forEach(function(M,N){var L=this.$openTabstops[N]||M;L.snippetId=A;for(var z=0;z<M.length;z++){var F=M[z],j=u.fromPoints(F.start,F.end||F.start);b(j.start,S),b(j.end,S),j.original=F,j.tabstop=L,R.push(j),L!=M?L.unshift(j):L[z]=j,F.fmtString||L.firstNonLinked&&C?(j.linked=!0,L.hasLinkedRanges=!0):L.firstNonLinked||(L.firstNonLinked=j)}L.firstNonLinked||(L.hasLinkedRanges=!1),L===M&&(I.push(L),this.$openTabstops[N]=L),this.addTabstopMarkers(L),L.rangeList=L.rangeList||new c,L.rangeList.$bias=0,L.rangeList.addList(L)},this),I.length>2&&(this.tabstops.length&&I.push(I.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,I))},w.prototype.addTabstopMarkers=function(E){var S=this.session;E.forEach(function(T){T.markerId||(T.markerId=S.addMarker(T,"ace_snippet-marker","text"))})},w.prototype.removeTabstopMarkers=function(E){var S=this.session;E.forEach(function(T){S.removeMarker(T.markerId),T.markerId=null})},w.prototype.updateTabstopMarkers=function(){if(this.selectedTabstop){var E=this.selectedTabstop.snippetId;this.selectedTabstop.index===0&&E--,this.tabstops.forEach(function(S){S.snippetId===E?this.addTabstopMarkers(S):this.removeTabstopMarkers(S)},this)}},w.prototype.removeRange=function(E){var S=E.tabstop.indexOf(E);S!=-1&&E.tabstop.splice(S,1),S=this.ranges.indexOf(E),S!=-1&&this.ranges.splice(S,1),S=E.tabstop.rangeList.ranges.indexOf(E),S!=-1&&E.tabstop.splice(S,1),this.session.removeMarker(E.markerId),E.tabstop.length||(S=this.tabstops.indexOf(E.tabstop),S!=-1&&this.tabstops.splice(S,1),this.tabstops.length||this.detach())},w}();v.prototype.keyboardHandler=new d,v.prototype.keyboardHandler.bindKeys({Tab:function(w){r.snippetManager&&r.snippetManager.expandWithTab(w)||(w.tabstopManager.tabNext(1),w.renderer.scrollCursorIntoView())},"Shift-Tab":function(w){w.tabstopManager.tabNext(-1),w.renderer.scrollCursorIntoView()},Esc:function(w){w.tabstopManager.detach()}});var b=function(w,E){w.row==0&&(w.column+=E.column),w.row+=E.row},_=function(w,E){w.row==E.row&&(w.column-=E.column),w.row-=E.row};o.importCssString(`
.ace_snippet-marker {
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    background: rgba(194, 193, 208, 0.09);
    border: 1px dotted rgba(211, 208, 235, 0.62);
    position: absolute;
}`,"snippets.css",!1),r.snippetManager=new g;var x=n("./editor").Editor;(function(){this.insertSnippet=function(w,E){return r.snippetManager.insertSnippet(this,w,E)},this.expandSnippet=function(w){return r.snippetManager.expandWithTab(this,w)}}).call(x.prototype)}),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/config","ace/lib/useragent"],function(n,r,i){var o=n("../virtual_renderer").VirtualRenderer,s=n("../editor").Editor,a=n("../range").Range,l=n("../lib/event"),u=n("../lib/lang"),c=n("../lib/dom"),d=n("../config").nls,h=n("./../lib/useragent"),f=function(b){return"suggest-aria-id:".concat(b)},p=h.isSafari?"menu":"listbox",m=h.isSafari?"menuitem":"option",g=h.isSafari?"aria-current":"aria-selected",y=function(b){var _=new o(b);_.$maxLines=4;var x=new s(_);return x.setHighlightActiveLine(!1),x.setShowPrintMargin(!1),x.renderer.setShowGutter(!1),x.renderer.setHighlightGutterLine(!1),x.$mouseHandler.$focusTimeout=0,x.$highlightTagPending=!0,x},v=function(){function b(_){var x=c.createElement("div"),w=y(x);_&&_.appendChild(x),x.style.display="none",w.renderer.content.style.cursor="default",w.renderer.setStyle("ace_autocomplete"),w.renderer.$textLayer.element.setAttribute("role",p),w.renderer.$textLayer.element.setAttribute("aria-roledescription",d("autocomplete.popup.aria-roledescription","Autocomplete suggestions")),w.renderer.$textLayer.element.setAttribute("aria-label",d("autocomplete.popup.aria-label","Autocomplete suggestions")),w.renderer.textarea.setAttribute("aria-hidden","true"),w.setOption("displayIndentGuides",!1),w.setOption("dragDelay",150);var E=function(){};w.focus=E,w.$isFocused=!0,w.renderer.$cursorLayer.restartTimer=E,w.renderer.$cursorLayer.element.style.opacity="0",w.renderer.$maxLines=8,w.renderer.$keepTextAreaAtCursor=!1,w.setHighlightActiveLine(!1),w.session.highlight(""),w.session.$searchHighlight.clazz="ace_highlight-marker",w.on("mousedown",function(R){var A=R.getDocumentPosition();w.selection.moveToPosition(A),C.start.row=C.end.row=A.row,R.stop()});var S,T=new a(-1,0,-1,1/0),C=new a(-1,0,-1,1/0);C.id=w.session.addMarker(C,"ace_active-line","fullLine"),w.setSelectOnHover=function(R){R?T.id&&(w.session.removeMarker(T.id),T.id=null):T.id=w.session.addMarker(T,"ace_line-hover","fullLine")},w.setSelectOnHover(!1),w.on("mousemove",function(R){if(!S){S=R;return}if(!(S.x==R.x&&S.y==R.y)){S=R,S.scrollTop=w.renderer.scrollTop,w.isMouseOver=!0;var A=S.getDocumentPosition().row;T.start.row!=A&&(T.id||w.setRow(A),$(A))}}),w.renderer.on("beforeRender",function(){if(S&&T.start.row!=-1){S.$pos=null;var R=S.getDocumentPosition().row;T.id||w.setRow(R),$(R,!0)}}),w.renderer.on("afterRender",function(){for(var R=w.renderer.$textLayer,A=R.config.firstRow,M=R.config.lastRow;A<=M;A++){var N=R.element.childNodes[A-R.config.firstRow];N.setAttribute("role",m),N.setAttribute("aria-roledescription",d("autocomplete.popup.item.aria-roledescription","item")),N.setAttribute("aria-setsize",w.data.length),N.setAttribute("aria-describedby","doc-tooltip"),N.setAttribute("aria-posinset",A+1);var L=w.getData(A);if(L){var z="".concat(L.caption||L.value).concat(L.meta?", ".concat(L.meta):"");N.setAttribute("aria-label",z)}var F=N.querySelectorAll(".ace_completion-highlight");F.forEach(function(j){j.setAttribute("role","mark")})}}),w.renderer.on("afterRender",function(){var R=w.getRow(),A=w.renderer.$textLayer,M=A.element.childNodes[R-A.config.firstRow],N=document.activeElement;if(M!==w.selectedNode&&w.selectedNode&&(c.removeCssClass(w.selectedNode,"ace_selected"),w.selectedNode.removeAttribute(g),w.selectedNode.removeAttribute("id")),N.removeAttribute("aria-activedescendant"),w.selectedNode=M,M){var L=f(R);c.addCssClass(M,"ace_selected"),M.id=L,A.element.setAttribute("aria-activedescendant",L),N.setAttribute("aria-activedescendant",L),M.setAttribute(g,"true")}});var D=function(){$(-1)},$=function(R,A){R!==T.start.row&&(T.start.row=T.end.row=R,A||w.session._emit("changeBackMarker"),w._emit("changeHoverMarker"))};w.getHoveredRow=function(){return T.start.row},l.addListener(w.container,"mouseout",function(){w.isMouseOver=!1,D()}),w.on("hide",D),w.on("changeSelection",D),w.session.doc.getLength=function(){return w.data.length},w.session.doc.getLine=function(R){var A=w.data[R];return typeof A=="string"?A:A&&A.value||""};var I=w.session.bgTokenizer;return I.$tokenizeRow=function(R){var A=w.data[R],M=[];if(!A)return M;typeof A=="string"&&(A={value:A});var N=A.caption||A.value||A.name;function L(G,ne){G&&M.push({type:(A.className||"")+(ne||""),value:G})}for(var z=N.toLowerCase(),F=(w.filterText||"").toLowerCase(),j=0,W=0,B=0;B<=F.length;B++)if(B!=W&&(A.matchMask&1<<B||B==F.length)){var H=F.slice(W,B);W=B;var V=z.indexOf(H,j);if(V==-1)continue;L(N.slice(j,V),""),j=V+H.length,L(N.slice(V,j),"completion-highlight")}return L(N.slice(j,N.length),""),M.push({type:"completion-spacer",value:" "}),A.meta&&M.push({type:"completion-meta",value:A.meta}),A.message&&M.push({type:"completion-message",value:A.message}),M},I.$updateOnChange=E,I.start=E,w.session.$computeWidth=function(){return this.screenWidth=0},w.isOpen=!1,w.isTopdown=!1,w.autoSelect=!0,w.filterText="",w.isMouseOver=!1,w.data=[],w.setData=function(R,A){w.filterText=A||"",w.setValue(u.stringRepeat(`
`,R.length),-1),w.data=R||[],w.setRow(0)},w.getData=function(R){return w.data[R]},w.getRow=function(){return C.start.row},w.setRow=function(R){R=Math.max(this.autoSelect?0:-1,Math.min(this.data.length-1,R)),C.start.row!=R&&(w.selection.clearSelection(),C.start.row=C.end.row=R||0,w.session._emit("changeBackMarker"),w.moveCursorTo(R||0,0),w.isOpen&&w._signal("select"))},w.on("changeSelection",function(){w.isOpen&&w.setRow(w.selection.lead.row),w.renderer.scrollCursorIntoView()}),w.hide=function(){this.container.style.display="none",w.anchorPos=null,w.anchor=null,w.isOpen&&(w.isOpen=!1,this._signal("hide"))},w.tryShow=function(R,A,M,N){if(!N&&w.isOpen&&w.anchorPos&&w.anchor&&w.anchorPos.top===R.top&&w.anchorPos.left===R.left&&w.anchor===M)return!0;var L=this.container,z=this.renderer.scrollBar.width||10,F=window.innerHeight-z,j=window.innerWidth-z,W=this.renderer,B=W.$maxLines*A*1.4,H={top:0,bottom:0},V=F-R.top-3*this.$borderSize-A,G=R.top-3*this.$borderSize;M||(G<=V||V>=B?M="bottom":M="top"),M==="top"?(H.bottom=R.top-this.$borderSize,H.top=H.bottom-B):M==="bottom"&&(H.top=R.top+A+this.$borderSize,H.bottom=H.top+B);var ne=H.top>=0&&H.bottom<=F;if(!N&&!ne)return!1;ne?W.$maxPixelHeight=null:M==="top"?W.$maxPixelHeight=G:W.$maxPixelHeight=V,M==="top"?(L.style.top="",L.style.bottom=F+z-H.bottom+"px",w.isTopdown=!1):(L.style.top=H.top+"px",L.style.bottom="",w.isTopdown=!0),L.style.display="";var X=R.left;return X+L.offsetWidth>j&&(X=j-L.offsetWidth),L.style.left=X+"px",L.style.right="",w.isOpen||(w.isOpen=!0,this._signal("show"),S=null),w.anchorPos=R,w.anchor=M,!0},w.show=function(R,A,M){this.tryShow(R,A,M?"bottom":void 0,!0)},w.goTo=function(R){var A=this.getRow(),M=this.session.getLength()-1;switch(R){case"up":A=A<=0?M:A-1;break;case"down":A=A>=M?-1:A+1;break;case"start":A=0;break;case"end":A=M;break}this.setRow(A)},w.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},w.$imageSize=0,w.$borderSize=1,w}return b}();c.importCssString(`
.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #CAD6FA;
    z-index: 1;
}
.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #3a674e;
}
.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid #abbffe;
    margin-top: -1px;
    background: rgba(233,233,253,0.4);
    position: absolute;
    z-index: 2;
}
.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid rgba(109, 150, 13, 0.8);
    background: rgba(58, 103, 78, 0.62);
}
.ace_completion-meta {
    opacity: 0.5;
    margin-left: 0.9em;
}
.ace_completion-message {
    margin-left: 0.9em;
    color: blue;
}
.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #2d69c7;
}
.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #93ca12;
}
.ace_editor.ace_autocomplete {
    width: 300px;
    z-index: 200000;
    border: 1px lightgray solid;
    position: fixed;
    box-shadow: 2px 3px 5px rgba(0,0,0,.2);
    line-height: 1.4;
    background: #fefefe;
    color: #111;
}
.ace_dark.ace_editor.ace_autocomplete {
    border: 1px #484747 solid;
    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);
    line-height: 1.4;
    background: #25282c;
    color: #c1c1c1;
}
.ace_autocomplete .ace_text-layer  {
    width: calc(100% - 8px);
}
.ace_autocomplete .ace_line {
    display: flex;
    align-items: center;
}
.ace_autocomplete .ace_line > * {
    min-width: 0;
    flex: 0 0 auto;
}
.ace_autocomplete .ace_line .ace_ {
    flex: 0 1 auto;
    overflow: hidden;
    text-overflow: ellipsis;
}
.ace_autocomplete .ace_completion-spacer {
    flex: 1;
}
.ace_autocomplete.ace_loading:after  {
    content: "";
    position: absolute;
    top: 0px;
    height: 2px;
    width: 8%;
    background: blue;
    z-index: 100;
    animation: ace_progress 3s infinite linear;
    animation-delay: 300ms;
    transform: translateX(-100%) scaleX(1);
}
@keyframes ace_progress {
    0% { transform: translateX(-100%) scaleX(1) }
    50% { transform: translateX(625%) scaleX(2) } 
    100% { transform: translateX(1500%) scaleX(3) } 
}
@media (prefers-reduced-motion) {
    .ace_autocomplete.ace_loading:after {
        transform: translateX(625%) scaleX(2);
        animation: none;
     }
}
`,"autocompletion.css",!1),r.AcePopup=v,r.$singleLineEditor=y,r.getAriaId=f}),ace.define("ace/autocomplete/inline_screenreader",["require","exports","module"],function(n,r,i){var o=function(){function s(a){this.editor=a,this.screenReaderDiv=document.createElement("div"),this.screenReaderDiv.classList.add("ace_screenreader-only"),this.editor.container.appendChild(this.screenReaderDiv)}return s.prototype.setScreenReaderContent=function(a){for(!this.popup&&this.editor.completer&&this.editor.completer.popup&&(this.popup=this.editor.completer.popup,this.popup.renderer.on("afterRender",(function(){var u=this.popup.getRow(),c=this.popup.renderer.$textLayer,d=c.element.childNodes[u-c.config.firstRow];if(d){for(var h="doc-tooltip ",f=0;f<this._lines.length;f++)h+="ace-inline-screenreader-line-".concat(f," ");d.setAttribute("aria-describedby",h)}}).bind(this)));this.screenReaderDiv.firstChild;)this.screenReaderDiv.removeChild(this.screenReaderDiv.firstChild);this._lines=a.split(/\r\n|\r|\n/);var l=this.createCodeBlock();this.screenReaderDiv.appendChild(l)},s.prototype.destroy=function(){this.screenReaderDiv.remove()},s.prototype.createCodeBlock=function(){var a=document.createElement("pre");a.setAttribute("id","ace-inline-screenreader");for(var l=0;l<this._lines.length;l++){var u=document.createElement("code");u.setAttribute("id","ace-inline-screenreader-line-".concat(l));var c=document.createTextNode(this._lines[l]);u.appendChild(c),a.appendChild(u)}return a},s}();r.AceInlineScreenReader=o}),ace.define("ace/autocomplete/inline",["require","exports","module","ace/snippets","ace/autocomplete/inline_screenreader"],function(n,r,i){var o=n("../snippets").snippetManager,s=n("./inline_screenreader").AceInlineScreenReader,a=function(){function l(){this.editor=null}return l.prototype.show=function(u,c,d){if(d=d||"",u&&this.editor&&this.editor!==u&&(this.hide(),this.editor=null,this.inlineScreenReader=null),!u||!c)return!1;this.inlineScreenReader||(this.inlineScreenReader=new s(u));var h=c.snippet?o.getDisplayTextForSnippet(u,c.snippet):c.value;return c.hideInlinePreview||!h||!h.startsWith(d)?!1:(this.editor=u,this.inlineScreenReader.setScreenReaderContent(h),h=h.slice(d.length),h===""?u.removeGhostText():u.setGhostText(h),!0)},l.prototype.isOpen=function(){return this.editor?!!this.editor.renderer.$ghostText:!1},l.prototype.hide=function(){return this.editor?(this.editor.removeGhostText(),!0):!1},l.prototype.destroy=function(){this.hide(),this.editor=null,this.inlineScreenReader&&(this.inlineScreenReader.destroy(),this.inlineScreenReader=null)},l}();r.AceInline=a}),ace.define("ace/autocomplete/util",["require","exports","module"],function(n,r,i){r.parForEach=function(s,a,l){var u=0,c=s.length;c===0&&l();for(var d=0;d<c;d++)a(s[d],function(h,f){u++,u===c&&l(h,f)})};var o=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;r.retrievePrecedingIdentifier=function(s,a,l){l=l||o;for(var u=[],c=a-1;c>=0&&l.test(s[c]);c--)u.push(s[c]);return u.reverse().join("")},r.retrieveFollowingIdentifier=function(s,a,l){l=l||o;for(var u=[],c=a;c<s.length&&l.test(s[c]);c++)u.push(s[c]);return u},r.getCompletionPrefix=function(s){var a=s.getCursorPosition(),l=s.session.getLine(a.row),u;return s.completers.forEach((function(c){c.identifierRegexps&&c.identifierRegexps.forEach((function(d){!u&&d&&(u=this.retrievePrecedingIdentifier(l,a.column,d))}).bind(this))}).bind(this)),u||this.retrievePrecedingIdentifier(l,a.column)},r.triggerAutocomplete=function(s,l){var l=l??s.session.getPrecedingCharacter();return s.completers.some(function(u){if(u.triggerCharacters&&Array.isArray(u.triggerCharacters))return u.triggerCharacters.includes(l)})}}),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/inline","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config","ace/lib/event","ace/lib/scroll"],function(n,r,i){var o=n("./keyboard/hash_handler").HashHandler,s=n("./autocomplete/popup").AcePopup,a=n("./autocomplete/inline").AceInline,l=n("./autocomplete/popup").getAriaId,u=n("./autocomplete/util"),c=n("./lib/lang"),d=n("./lib/dom"),h=n("./snippets").snippetManager,f=n("./config"),p=n("./lib/event"),m=n("./lib/scroll").preventParentScroll,g=function(_,x){x.completer&&x.completer.destroy()},y=function(){function _(){this.autoInsert=!1,this.autoSelect=!0,this.autoShown=!1,this.exactMatch=!1,this.inlineEnabled=!1,this.keyboardHandler=new o,this.keyboardHandler.bindKeys(this.commands),this.parentNode=null,this.setSelectOnHover=!1,this.hasSeen=new Set,this.showLoadingState=!1,this.stickySelectionDelay=500,this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.onLayoutChange=this.onLayoutChange.bind(this),this.changeTimer=c.delayedCall((function(){this.updateCompletions(!0)}).bind(this)),this.tooltipTimer=c.delayedCall(this.updateDocTooltip.bind(this),50),this.popupTimer=c.delayedCall(this.$updatePopupPosition.bind(this),50),this.stickySelectionTimer=c.delayedCall((function(){this.stickySelection=!0}).bind(this),this.stickySelectionDelay),this.$firstOpenTimer=c.delayedCall((function(){var x=this.completionProvider&&this.completionProvider.initialPosition;this.autoShown||this.popup&&this.popup.isOpen||!x||this.editor.completers.length===0||(this.completions=new b(_.completionsForLoading),this.openPopup(this.editor,x.prefix,!1),this.popup.renderer.setStyle("ace_loading",!0))}).bind(this),this.stickySelectionDelay)}return Object.defineProperty(_,"completionsForLoading",{get:function(){return[{caption:f.nls("autocomplete.loading","Loading..."),value:""}]},enumerable:!1,configurable:!0}),_.prototype.$init=function(){return this.popup=new s(this.parentNode||document.body||document.documentElement),this.popup.on("click",(function(x){this.insertMatch(),x.stop()}).bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.$onPopupShow.bind(this)),this.popup.on("hide",this.$onHidePopup.bind(this)),this.popup.on("select",this.$onPopupChange.bind(this)),p.addListener(this.popup.container,"mouseout",this.mouseOutListener.bind(this)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup.renderer.on("afterRender",this.$onPopupRender.bind(this)),this.popup},_.prototype.$initInline=function(){if(!(!this.inlineEnabled||this.inlineRenderer))return this.inlineRenderer=new a,this.inlineRenderer},_.prototype.getPopup=function(){return this.popup||this.$init()},_.prototype.$onHidePopup=function(){this.inlineRenderer&&this.inlineRenderer.hide(),this.hideDocTooltip(),this.stickySelectionTimer.cancel(),this.popupTimer.cancel(),this.stickySelection=!1},_.prototype.$seen=function(x){!this.hasSeen.has(x)&&x&&x.completer&&x.completer.onSeen&&typeof x.completer.onSeen=="function"&&(x.completer.onSeen(this.editor,x),this.hasSeen.add(x))},_.prototype.$onPopupChange=function(x){if(this.inlineRenderer&&this.inlineEnabled){var w=x?null:this.popup.getData(this.popup.getRow());if(this.$updateGhostText(w),this.popup.isMouseOver&&this.setSelectOnHover){this.tooltipTimer.call(null,null);return}this.popupTimer.schedule(),this.tooltipTimer.schedule()}else this.popupTimer.call(null,null),this.tooltipTimer.call(null,null)},_.prototype.$updateGhostText=function(x){var w=this.base.row,E=this.base.column,S=this.editor.getCursorPosition().column,T=this.editor.session.getLine(w).slice(E,S);this.inlineRenderer.show(this.editor,x,T)?this.$seen(x):this.inlineRenderer.hide()},_.prototype.$onPopupRender=function(){var x=this.inlineRenderer&&this.inlineEnabled;if(this.completions&&this.completions.filtered&&this.completions.filtered.length>0)for(var w=this.popup.getFirstVisibleRow();w<=this.popup.getLastVisibleRow();w++){var E=this.popup.getData(w);E&&(!x||E.hideInlinePreview)&&this.$seen(E)}},_.prototype.$onPopupShow=function(x){this.$onPopupChange(x),this.stickySelection=!1,this.stickySelectionDelay>=0&&this.stickySelectionTimer.schedule(this.stickySelectionDelay)},_.prototype.observeLayoutChanges=function(){if(!(this.$elements||!this.editor)){window.addEventListener("resize",this.onLayoutChange,{passive:!0}),window.addEventListener("wheel",this.mousewheelListener);for(var x=this.editor.container.parentNode,w=[];x;)w.push(x),x.addEventListener("scroll",this.onLayoutChange,{passive:!0}),x=x.parentNode;this.$elements=w}},_.prototype.unObserveLayoutChanges=function(){var x=this;window.removeEventListener("resize",this.onLayoutChange,{passive:!0}),window.removeEventListener("wheel",this.mousewheelListener),this.$elements&&this.$elements.forEach(function(w){w.removeEventListener("scroll",x.onLayoutChange,{passive:!0})}),this.$elements=null},_.prototype.onLayoutChange=function(){if(!this.popup.isOpen)return this.unObserveLayoutChanges();this.$updatePopupPosition(),this.updateDocTooltip()},_.prototype.$updatePopupPosition=function(){var x=this.editor,w=x.renderer,E=w.layerConfig.lineHeight,S=w.$cursorLayer.getPixelPosition(this.base,!0);S.left-=this.popup.getTextLeftOffset();var T=x.container.getBoundingClientRect();S.top+=T.top-w.layerConfig.offset,S.left+=T.left-x.renderer.scrollLeft,S.left+=w.gutterWidth;var C={top:S.top,left:S.left};w.$ghostText&&w.$ghostTextWidget&&this.base.row===w.$ghostText.position.row&&(C.top+=w.$ghostTextWidget.el.offsetHeight);var D=x.container.getBoundingClientRect().bottom-E,$=D<C.top?{top:D,left:C.left}:C;this.popup.tryShow($,E,"bottom")||this.popup.tryShow(S,E,"top")||this.popup.show(S,E)},_.prototype.openPopup=function(x,w,E){this.$firstOpenTimer.cancel(),this.popup||this.$init(),this.inlineEnabled&&!this.inlineRenderer&&this.$initInline(),this.popup.autoSelect=this.autoSelect,this.popup.setSelectOnHover(this.setSelectOnHover);var S=this.popup.getRow(),T=this.popup.data[S];this.popup.setData(this.completions.filtered,this.completions.filterText),this.editor.textInput.setAriaOptions&&this.editor.textInput.setAriaOptions({activeDescendant:l(this.popup.getRow()),inline:this.inlineEnabled}),x.keyBinding.addKeyboardHandler(this.keyboardHandler);var C;this.stickySelection&&(C=this.popup.data.indexOf(T)),(!C||C===-1)&&(C=0),this.popup.setRow(this.autoSelect?C:-1),C===S&&T!==this.completions.filtered[C]&&this.$onPopupChange();var D=this.inlineRenderer&&this.inlineEnabled;if(C===S&&D){var $=this.popup.getData(this.popup.getRow());this.$updateGhostText($)}E||(this.popup.setTheme(x.getTheme()),this.popup.setFontSize(x.getFontSize()),this.$updatePopupPosition(),this.tooltipNode&&this.updateDocTooltip()),this.changeTimer.cancel(),this.observeLayoutChanges()},_.prototype.detach=function(){this.editor&&(this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener)),this.$firstOpenTimer.cancel(),this.changeTimer.cancel(),this.hideDocTooltip(),this.completionProvider&&this.completionProvider.detach(),this.popup&&this.popup.isOpen&&this.popup.hide(),this.popup&&this.popup.renderer&&this.popup.renderer.off("afterRender",this.$onPopupRender),this.base&&this.base.detach(),this.activated=!1,this.completionProvider=this.completions=this.base=null,this.unObserveLayoutChanges()},_.prototype.changeListener=function(x){var w=this.editor.selection.lead;(w.row!=this.base.row||w.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},_.prototype.blurListener=function(x){var w=document.activeElement,E=this.editor.textInput.getElement(),S=x.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(x.relatedTarget),T=this.popup&&this.popup.container;w!=E&&w.parentNode!=T&&!S&&w!=this.tooltipNode&&x.relatedTarget!=E&&this.detach()},_.prototype.mousedownListener=function(x){this.detach()},_.prototype.mousewheelListener=function(x){this.popup&&!this.popup.isMouseOver&&this.detach()},_.prototype.mouseOutListener=function(x){this.popup.isOpen&&this.$updatePopupPosition()},_.prototype.goTo=function(x){this.popup.goTo(x)},_.prototype.insertMatch=function(x,w){if(x||(x=this.popup.getData(this.popup.getRow())),!x)return!1;if(x.value==="")return this.detach();var E=this.completions,S=this.getCompletionProvider().insertMatch(this.editor,x,E.filterText,w);return this.completions==E&&this.detach(),S},_.prototype.showPopup=function(x,w){this.editor&&this.detach(),this.activated=!0,this.editor=x,x.completer!=this&&(x.completer&&x.completer.detach(),x.completer=this),x.on("changeSelection",this.changeListener),x.on("blur",this.blurListener),x.on("mousedown",this.mousedownListener),x.on("mousewheel",this.mousewheelListener),this.updateCompletions(!1,w)},_.prototype.getCompletionProvider=function(x){return this.completionProvider||(this.completionProvider=new v(x)),this.completionProvider},_.prototype.gatherCompletions=function(x,w){return this.getCompletionProvider().gatherCompletions(x,w)},_.prototype.updateCompletions=function(x,w){if(x&&this.base&&this.completions){var S=this.editor.getCursorPosition(),T=this.editor.session.getTextRange({start:this.base,end:S});if(T==this.completions.filterText)return;if(this.completions.setFilter(T),!this.completions.filtered.length)return this.detach();if(this.completions.filtered.length==1&&this.completions.filtered[0].value==T&&!this.completions.filtered[0].snippet)return this.detach();this.openPopup(this.editor,T,x);return}if(w&&w.matches){var S=this.editor.getSelectionRange().start;return this.base=this.editor.session.doc.createAnchor(S.row,S.column),this.base.$insertRight=!0,this.completions=new b(w.matches),this.getCompletionProvider().completions=this.completions,this.openPopup(this.editor,"",x)}var E=this.editor.getSession(),S=this.editor.getCursorPosition(),T=u.getCompletionPrefix(this.editor);this.base=E.doc.createAnchor(S.row,S.column-T.length),this.base.$insertRight=!0;var C={exactMatch:this.exactMatch,ignoreCaption:this.ignoreCaption};this.getCompletionProvider({prefix:T,pos:S}).provideCompletions(this.editor,C,(function(D,$,I){var R=$.filtered,A=u.getCompletionPrefix(this.editor);if(this.$firstOpenTimer.cancel(),I){if(!R.length){var M=!this.autoShown&&this.emptyMessage;if(typeof M=="function"&&(M=this.emptyMessage(A)),M){var N=[{caption:M,value:""}];this.completions=new b(N),this.openPopup(this.editor,A,x),this.popup.renderer.setStyle("ace_loading",!1),this.popup.renderer.setStyle("ace_empty-message",!0);return}return this.detach()}if(R.length==1&&R[0].value==A&&!R[0].snippet)return this.detach();if(this.autoInsert&&!this.autoShown&&R.length==1)return this.insertMatch(R[0])}this.completions=!I&&this.showLoadingState?new b(_.completionsForLoading.concat(R),$.filterText):$,this.openPopup(this.editor,A,x),this.popup.renderer.setStyle("ace_empty-message",!1),this.popup.renderer.setStyle("ace_loading",!I)}).bind(this)),this.showLoadingState&&!this.autoShown&&!(this.popup&&this.popup.isOpen)&&this.$firstOpenTimer.delay(this.stickySelectionDelay/2)},_.prototype.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},_.prototype.updateDocTooltip=function(){var x=this.popup,w=this.completions&&this.completions.filtered,E=w&&(w[x.getHoveredRow()]||w[x.getRow()]),S=null;if(!E||!this.editor||!this.popup.isOpen)return this.hideDocTooltip();for(var T=this.editor.completers.length,C=0;C<T;C++){var D=this.editor.completers[C];if(D.getDocTooltip&&E.completerId===D.id){S=D.getDocTooltip(E);break}}if(!S&&typeof E!="string"&&(S=E),typeof S=="string"&&(S={docText:S}),!S||!(S.docHTML||S.docText))return this.hideDocTooltip();this.showDocTooltip(S)},_.prototype.showDocTooltip=function(x){this.tooltipNode||(this.tooltipNode=d.createElement("div"),this.tooltipNode.style.margin="0",this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.style.overscrollBehavior="contain",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this),this.tooltipNode.id="doc-tooltip",this.tooltipNode.setAttribute("role","tooltip"),this.tooltipNode.addEventListener("wheel",m));var w=this.editor.renderer.theme;this.tooltipNode.className="ace_tooltip ace_doc-tooltip "+(w.isDark?"ace_dark ":"")+(w.cssClass||"");var E=this.tooltipNode;x.docHTML?E.innerHTML=x.docHTML:x.docText&&(E.textContent=x.docText),E.parentNode||this.popup.container.appendChild(this.tooltipNode);var S=this.popup,T=S.container.getBoundingClientRect(),C=400,D=300,$=S.renderer.scrollBar.width||10,I=T.left,R=window.innerWidth-T.right-$,A=S.isTopdown?T.top:window.innerHeight-$-T.bottom,M=[Math.min(R/C,1),Math.min(I/C,1),Math.min(A/D*.9)],N=Math.max.apply(Math,M),L=E.style;L.display="block",N==M[0]?(L.left=T.right+1+"px",L.right="",L.maxWidth=C*N+"px",L.top=T.top+"px",L.bottom="",L.maxHeight=Math.min(window.innerHeight-$-T.top,D)+"px"):N==M[1]?(L.right=window.innerWidth-T.left+"px",L.left="",L.maxWidth=C*N+"px",L.top=T.top+"px",L.bottom="",L.maxHeight=Math.min(window.innerHeight-$-T.top,D)+"px"):N==M[2]&&(L.left=window.innerWidth-T.left+"px",L.maxWidth=Math.min(C,window.innerWidth)+"px",S.isTopdown?(L.top=T.bottom+"px",L.left=T.left+"px",L.right="",L.bottom="",L.maxHeight=Math.min(window.innerHeight-$-T.bottom,D)+"px"):(L.top=S.container.offsetTop-E.offsetHeight+"px",L.left=T.left+"px",L.right="",L.bottom="",L.maxHeight=Math.min(S.container.offsetTop,D)+"px"))},_.prototype.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),!!this.tooltipNode){var x=this.tooltipNode;!this.editor.isFocused()&&document.activeElement==x&&this.editor.focus(),this.tooltipNode=null,x.parentNode&&x.parentNode.removeChild(x)}},_.prototype.onTooltipClick=function(x){for(var w=x.target;w&&w!=this.tooltipNode;){if(w.nodeName=="A"&&w.href){w.rel="noreferrer",w.target="_blank";break}w=w.parentNode}},_.prototype.destroy=function(){if(this.detach(),this.popup){this.popup.destroy();var x=this.popup.container;x&&x.parentNode&&x.parentNode.removeChild(x)}this.editor&&this.editor.completer==this&&(this.editor.off("destroy",g),this.editor.completer=null),this.inlineRenderer=this.popup=this.editor=null},_.for=function(x){return x.completer instanceof _||(x.completer&&(x.completer.destroy(),x.completer=null),f.get("sharedPopups")?(_.$sharedInstance||(_.$sharedInstance=new _),x.completer=_.$sharedInstance):(x.completer=new _,x.once("destroy",g))),x.completer},_}();y.prototype.commands={Up:function(_){_.completer.goTo("up")},Down:function(_){_.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(_){_.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(_){_.completer.goTo("end")},Esc:function(_){_.completer.detach()},Return:function(_){return _.completer.insertMatch()},"Shift-Return":function(_){_.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(_){var x=_.completer.insertMatch();if(!x&&!_.tabstopManager)_.completer.goTo("down");else return x},Backspace:function(_){_.execCommand("backspace");var x=u.getCompletionPrefix(_);!x&&_.completer&&_.completer.detach()},PageUp:function(_){_.completer.popup.gotoPageUp()},PageDown:function(_){_.completer.popup.gotoPageDown()}},y.startCommand={name:"startAutocomplete",exec:function(_,x){var w=y.for(_);w.autoInsert=!1,w.autoSelect=!0,w.autoShown=!1,w.showPopup(_,x),w.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var v=function(){function _(x){this.initialPosition=x,this.active=!0}return _.prototype.insertByIndex=function(x,w,E){return!this.completions||!this.completions.filtered?!1:this.insertMatch(x,this.completions.filtered[w],E)},_.prototype.insertMatch=function(x,w,E){if(!w)return!1;if(x.startOperation({command:{name:"insertMatch"}}),w.completer&&w.completer.insertMatch)w.completer.insertMatch(x,w);else{if(!this.completions)return!1;var S=this.completions.filterText.length,T=0;if(w.range&&w.range.start.row===w.range.end.row&&(S-=this.initialPosition.prefix.length,S+=this.initialPosition.pos.column-w.range.start.column,T+=w.range.end.column-this.initialPosition.pos.column),S||T){var C;x.selection.getAllRanges?C=x.selection.getAllRanges():C=[x.getSelectionRange()];for(var D=0,$;$=C[D];D++)$.start.column-=S,$.end.column+=T,x.session.remove($)}w.snippet?h.insertSnippet(x,w.snippet):this.$insertString(x,w),w.completer&&w.completer.onInsert&&typeof w.completer.onInsert=="function"&&w.completer.onInsert(x,w),w.command&&w.command==="startAutocomplete"&&x.execCommand(w.command)}return x.endOperation(),!0},_.prototype.$insertString=function(x,w){var E=w.value||w;x.execCommand("insertstring",E)},_.prototype.gatherCompletions=function(x,w){var E=x.getSession(),S=x.getCursorPosition(),T=u.getCompletionPrefix(x),C=[];this.completers=x.completers;var D=x.completers.length;return x.completers.forEach(function($,I){$.getCompletions(x,E,S,T,function(R,A){$.hideInlinePreview&&(A=A.map(function(M){return Object.assign(M,{hideInlinePreview:$.hideInlinePreview})})),!R&&A&&(C=C.concat(A)),w(null,{prefix:u.getCompletionPrefix(x),matches:C,finished:--D===0})})}),!0},_.prototype.provideCompletions=function(x,w,E){var S=(function($){var I=$.prefix,R=$.matches;this.completions=new b(R),w.exactMatch&&(this.completions.exactMatch=!0),w.ignoreCaption&&(this.completions.ignoreCaption=!0),this.completions.setFilter(I),($.finished||this.completions.filtered.length)&&E(null,this.completions,$.finished)}).bind(this),T=!0,C=null;if(this.gatherCompletions(x,(function($,I){if(this.active){$&&(E($,[],!0),this.detach());var R=I.prefix;if(R.indexOf(I.prefix)===0){if(T){C=I;return}S(I)}}}).bind(this)),T=!1,C){var D=C;C=null,S(D)}},_.prototype.detach=function(){this.active=!1,this.completers&&this.completers.forEach(function(x){typeof x.cancel=="function"&&x.cancel()})},_}(),b=function(){function _(x,w){this.all=x,this.filtered=x,this.filterText=w||"",this.exactMatch=!1,this.ignoreCaption=!1}return _.prototype.setFilter=function(x){if(x.length>this.filterText&&x.lastIndexOf(this.filterText,0)===0)var w=this.filtered;else var w=this.all;this.filterText=x,w=this.filterCompletions(w,this.filterText),w=w.sort(function(S,T){return T.exactMatch-S.exactMatch||T.$score-S.$score||(S.caption||S.value).localeCompare(T.caption||T.value)});var E=null;w=w.filter(function(S){var T=S.snippet||S.caption||S.value;return T===E?!1:(E=T,!0)}),this.filtered=w},_.prototype.filterCompletions=function(x,w){var E=[],S=w.toUpperCase(),T=w.toLowerCase();e:for(var C=0,D;D=x[C];C++){if(D.skipFilter){D.$score=D.score,E.push(D);continue}var $=!this.ignoreCaption&&D.caption||D.value||D.snippet;if($){var I=-1,R=0,A=0,M,N;if(this.exactMatch){if(w!==$.substr(0,w.length))continue e}else{var L=$.toLowerCase().indexOf(T);if(L>-1)A=L;else for(var z=0;z<w.length;z++){var F=$.indexOf(T[z],I+1),j=$.indexOf(S[z],I+1);if(M=F>=0&&(j<0||F<j)?F:j,M<0)continue e;N=M-I-1,N>0&&(I===-1&&(A+=10),A+=N,R=R|1<<z),I=M}}D.matchMask=R,D.exactMatch=A?0:1,D.$score=(D.score||0)-A,E.push(D)}}return E},_}();r.Autocomplete=y,r.CompletionProvider=v,r.FilteredList=b}),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(n,r,i){var o=n("../range").Range,s=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;function a(u,c){var d=u.getTextRange(o.fromPoints({row:0,column:0},c));return d.split(s).length-1}function l(u,c){var d=a(u,c),h=u.getValue().split(s),f=Object.create(null),p=h[d];return h.forEach(function(m,g){if(!(!m||m===p)){var y=Math.abs(d-g),v=h.length-y;f[m]?f[m]=Math.max(v,f[m]):f[m]=v}}),f}r.getCompletions=function(u,c,d,h,f){var p=l(c,d),m=Object.keys(p);f(null,m.map(function(g){return{caption:g,value:g,score:p[g],meta:"local"}}))}}),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],function(n,r,i){var o=n("../snippets").snippetManager,s=n("../autocomplete").Autocomplete,a=n("../config"),l=n("../lib/lang"),u=n("../autocomplete/util"),c=n("../autocomplete/text_completer"),d={getCompletions:function(S,T,C,D,$){if(T.$mode.completer)return T.$mode.completer.getCompletions(S,T,C,D,$);var I=S.session.getState(C.row),R=T.$mode.getCompletions(I,T,C,D);R=R.map(function(A){return A.completerId=d.id,A}),$(null,R)},id:"keywordCompleter"},h=function(S){var T={};return S.replace(/\${(\d+)(:(.*?))?}/g,function(C,D,$,I){return T[D]=I||""}).replace(/\$(\d+?)/g,function(C,D){return T[D]})},f={getCompletions:function(S,T,C,D,$){var I=[],R=T.getTokenAt(C.row,C.column);R&&R.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?I.push("html-tag"):I=o.getActiveScopes(S);var A=o.snippetMap,M=[];I.forEach(function(N){for(var L=A[N]||[],z=L.length;z--;){var F=L[z],j=F.name||F.tabTrigger;j&&M.push({caption:j,snippet:F.content,meta:F.tabTrigger&&!F.name?F.tabTrigger+" ":"snippet",completerId:f.id})}},this),$(null,M)},getDocTooltip:function(S){S.snippet&&!S.docHTML&&(S.docHTML=["<b>",l.escapeHTML(S.caption),"</b>","<hr></hr>",l.escapeHTML(h(S.snippet))].join(""))},id:"snippetCompleter"},p=[f,c,d];r.setCompleters=function(S){p.length=0,S&&p.push.apply(p,S)},r.addCompleter=function(S){p.push(S)},r.textCompleter=c,r.keyWordCompleter=d,r.snippetCompleter=f;var m={name:"expandSnippet",exec:function(S){return o.expandWithTab(S)},bindKey:"Tab"},g=function(S,T){y(T.session.$mode)},y=function(S){typeof S=="string"&&(S=a.$modes[S]),S&&(o.files||(o.files={}),v(S.$id,S.snippetFileId),S.modes&&S.modes.forEach(y))},v=function(S,T){!T||!S||o.files[S]||(o.files[S]={},a.loadModule(T,function(C){C&&(o.files[S]=C,!C.snippets&&C.snippetText&&(C.snippets=o.parseSnippetFile(C.snippetText)),o.register(C.snippets||[],C.scope),C.includeScopes&&(o.snippetMap[C.scope].includeScopes=C.includeScopes,C.includeScopes.forEach(function(D){y("ace/mode/"+D)})))}))},b=function(S){var T=S.editor,C=T.completer&&T.completer.activated;if(S.command.name==="backspace")C&&!u.getCompletionPrefix(T)&&T.completer.detach();else if(S.command.name==="insertstring"&&!C){_=S;var D=S.editor.$liveAutocompletionDelay;D?x.delay(D):w(S)}},_,x=l.delayedCall(function(){w(_)},0),w=function(S){var T=S.editor,C=u.getCompletionPrefix(T),D=S.args,$=u.triggerAutocomplete(T,D);if(C&&C.length>=T.$liveAutocompletionThreshold||$){var I=s.for(T);I.autoShown=!0,I.showPopup(T)}},E=n("../editor").Editor;n("../config").defineOptions(E.prototype,"editor",{enableBasicAutocompletion:{set:function(S){S?(this.completers||(this.completers=Array.isArray(S)?S:p),this.commands.addCommand(s.startCommand)):this.commands.removeCommand(s.startCommand)},value:!1},enableLiveAutocompletion:{set:function(S){S?(this.completers||(this.completers=Array.isArray(S)?S:p),this.commands.on("afterExec",b)):this.commands.off("afterExec",b)},value:!1},liveAutocompletionDelay:{initialValue:0},liveAutocompletionThreshold:{initialValue:0},enableSnippets:{set:function(S){S?(this.commands.addCommand(m),this.on("changeMode",g),g(null,this)):(this.commands.removeCommand(m),this.off("changeMode",g))},value:!1}})}),function(){ace.require(["ace/ext/language_tools"],function(n){e&&(e.exports=n)})}()})(Jpt);var Zpt={exports:{}};(function(e,t){ace.define("ace/ext/searchbox-css",["require","exports","module"],function(n,r,i){i.exports=`

/* ------------------------------------------------------------------------------------------
 * Editor Search Form
 * --------------------------------------------------------------------------------------- */
.ace_search {
    background-color: #ddd;
    color: #666;
    border: 1px solid #cbcbcb;
    border-top: 0 none;
    overflow: hidden;
    margin: 0;
    padding: 4px 6px 0 4px;
    position: absolute;
    top: 0;
    z-index: 99;
    white-space: normal;
}
.ace_search.left {
    border-left: 0 none;
    border-radius: 0px 0px 5px 0px;
    left: 0;
}
.ace_search.right {
    border-radius: 0px 0px 0px 5px;
    border-right: 0 none;
    right: 0;
}

.ace_search_form, .ace_replace_form {
    margin: 0 20px 4px 0;
    overflow: hidden;
    line-height: 1.9;
}
.ace_replace_form {
    margin-right: 0;
}
.ace_search_form.ace_nomatch {
    outline: 1px solid red;
}

.ace_search_field {
    border-radius: 3px 0 0 3px;
    background-color: white;
    color: black;
    border: 1px solid #cbcbcb;
    border-right: 0 none;
    outline: 0;
    padding: 0;
    font-size: inherit;
    margin: 0;
    line-height: inherit;
    padding: 0 6px;
    min-width: 17em;
    vertical-align: top;
    min-height: 1.8em;
    box-sizing: content-box;
}
.ace_searchbtn {
    border: 1px solid #cbcbcb;
    line-height: inherit;
    display: inline-block;
    padding: 0 6px;
    background: #fff;
    border-right: 0 none;
    border-left: 1px solid #dcdcdc;
    cursor: pointer;
    margin: 0;
    position: relative;
    color: #666;
}
.ace_searchbtn:last-child {
    border-radius: 0 3px 3px 0;
    border-right: 1px solid #cbcbcb;
}
.ace_searchbtn:disabled {
    background: none;
    cursor: default;
}
.ace_searchbtn:hover {
    background-color: #eef1f6;
}
.ace_searchbtn.prev, .ace_searchbtn.next {
     padding: 0px 0.7em
}
.ace_searchbtn.prev:after, .ace_searchbtn.next:after {
     content: "";
     border: solid 2px #888;
     width: 0.5em;
     height: 0.5em;
     border-width:  2px 0 0 2px;
     display:inline-block;
     transform: rotate(-45deg);
}
.ace_searchbtn.next:after {
     border-width: 0 2px 2px 0 ;
}
.ace_searchbtn_close {
    background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAcCAYAAABRVo5BAAAAZ0lEQVR42u2SUQrAMAhDvazn8OjZBilCkYVVxiis8H4CT0VrAJb4WHT3C5xU2a2IQZXJjiQIRMdkEoJ5Q2yMqpfDIo+XY4k6h+YXOyKqTIj5REaxloNAd0xiKmAtsTHqW8sR2W5f7gCu5nWFUpVjZwAAAABJRU5ErkJggg==) no-repeat 50% 0;
    border-radius: 50%;
    border: 0 none;
    color: #656565;
    cursor: pointer;
    font: 16px/16px Arial;
    padding: 0;
    height: 14px;
    width: 14px;
    top: 9px;
    right: 7px;
    position: absolute;
}
.ace_searchbtn_close:hover {
    background-color: #656565;
    background-position: 50% 100%;
    color: white;
}

.ace_button {
    margin-left: 2px;
    cursor: pointer;
    -webkit-user-select: none;
    -moz-user-select: none;
    -o-user-select: none;
    -ms-user-select: none;
    user-select: none;
    overflow: hidden;
    opacity: 0.7;
    border: 1px solid rgba(100,100,100,0.23);
    padding: 1px;
    box-sizing:    border-box!important;
    color: black;
}

.ace_button:hover {
    background-color: #eee;
    opacity:1;
}
.ace_button:active {
    background-color: #ddd;
}

.ace_button.checked {
    border-color: #3399ff;
    opacity:1;
}

.ace_search_options{
    margin-bottom: 3px;
    text-align: right;
    -webkit-user-select: none;
    -moz-user-select: none;
    -o-user-select: none;
    -ms-user-select: none;
    user-select: none;
    clear: both;
}

.ace_search_counter {
    float: left;
    font-family: arial;
    padding: 0 8px;
}`}),ace.define("ace/ext/searchbox",["require","exports","module","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/ext/searchbox-css","ace/keyboard/hash_handler","ace/lib/keys","ace/config"],function(n,r,i){var o=n("../lib/dom"),s=n("../lib/lang"),a=n("../lib/event"),l=n("./searchbox-css"),u=n("../keyboard/hash_handler").HashHandler,c=n("../lib/keys"),d=n("../config").nls,h=999;o.importCssString(l,"ace_searchbox",!1);var f=function(){function g(y,v,b){this.activeInput,this.element=o.buildDom(["div",{class:"ace_search right"},["span",{action:"hide",class:"ace_searchbtn_close"}],["div",{class:"ace_search_form"},["input",{class:"ace_search_field",placeholder:d("search-box.find.placeholder","Search for"),spellcheck:"false"}],["span",{action:"findPrev",class:"ace_searchbtn prev"},""],["span",{action:"findNext",class:"ace_searchbtn next"},""],["span",{action:"findAll",class:"ace_searchbtn",title:"Alt-Enter"},d("search-box.find-all.text","All")]],["div",{class:"ace_replace_form"},["input",{class:"ace_search_field",placeholder:d("search-box.replace.placeholder","Replace with"),spellcheck:"false"}],["span",{action:"replaceAndFindNext",class:"ace_searchbtn"},d("search-box.replace-next.text","Replace")],["span",{action:"replaceAll",class:"ace_searchbtn"},d("search-box.replace-all.text","All")]],["div",{class:"ace_search_options"},["span",{action:"toggleReplace",class:"ace_button",title:d("search-box.toggle-replace.title","Toggle Replace mode"),style:"float:left;margin-top:-2px;padding:0 5px;"},"+"],["span",{class:"ace_search_counter"}],["span",{action:"toggleRegexpMode",class:"ace_button",title:d("search-box.toggle-regexp.title","RegExp Search")},".*"],["span",{action:"toggleCaseSensitive",class:"ace_button",title:d("search-box.toggle-case.title","CaseSensitive Search")},"Aa"],["span",{action:"toggleWholeWords",class:"ace_button",title:d("search-box.toggle-whole-word.title","Whole Word Search")},"\\b"],["span",{action:"searchInSelection",class:"ace_button",title:d("search-box.toggle-in-selection.title","Search In Selection")},"S"]]]),this.setSession=this.setSession.bind(this),this.$onEditorInput=this.onEditorInput.bind(this),this.$init(),this.setEditor(y),o.importCssString(l,"ace_searchbox",y.container),a.addListener(this.element,"touchstart",function(_){_.stopPropagation()},y)}return g.prototype.setEditor=function(y){y.searchBox=this,y.renderer.scroller.appendChild(this.element),this.editor=y},g.prototype.setSession=function(y){this.searchRange=null,this.$syncOptions(!0)},g.prototype.onEditorInput=function(){this.find(!1,!1,!0)},g.prototype.$initElements=function(y){this.searchBox=y.querySelector(".ace_search_form"),this.replaceBox=y.querySelector(".ace_replace_form"),this.searchOption=y.querySelector("[action=searchInSelection]"),this.replaceOption=y.querySelector("[action=toggleReplace]"),this.regExpOption=y.querySelector("[action=toggleRegexpMode]"),this.caseSensitiveOption=y.querySelector("[action=toggleCaseSensitive]"),this.wholeWordOption=y.querySelector("[action=toggleWholeWords]"),this.searchInput=this.searchBox.querySelector(".ace_search_field"),this.replaceInput=this.replaceBox.querySelector(".ace_search_field"),this.searchCounter=y.querySelector(".ace_search_counter")},g.prototype.$init=function(){var y=this.element;this.$initElements(y);var v=this;a.addListener(y,"mousedown",function(b){setTimeout(function(){v.activeInput.focus()},0),a.stopPropagation(b)}),a.addListener(y,"click",function(b){var _=b.target||b.srcElement,x=_.getAttribute("action");x&&v[x]?v[x]():v.$searchBarKb.commands[x]&&v.$searchBarKb.commands[x].exec(v),a.stopPropagation(b)}),a.addCommandKeyListener(y,function(b,_,x){var w=c.keyCodeToString(x),E=v.$searchBarKb.findKeyCommand(_,w);E&&E.exec&&(E.exec(v),a.stopEvent(b))}),this.$onChange=s.delayedCall(function(){v.find(!1,!1)}),a.addListener(this.searchInput,"input",function(){v.$onChange.schedule(20)}),a.addListener(this.searchInput,"focus",function(){v.activeInput=v.searchInput,v.searchInput.value&&v.highlight()}),a.addListener(this.replaceInput,"focus",function(){v.activeInput=v.replaceInput,v.searchInput.value&&v.highlight()})},g.prototype.setSearchRange=function(y){this.searchRange=y,y?this.searchRangeMarker=this.editor.session.addMarker(y,"ace_active-line"):this.searchRangeMarker&&(this.editor.session.removeMarker(this.searchRangeMarker),this.searchRangeMarker=null)},g.prototype.$syncOptions=function(y){o.setCssClass(this.replaceOption,"checked",this.searchRange),o.setCssClass(this.searchOption,"checked",this.searchOption.checked),this.replaceOption.textContent=this.replaceOption.checked?"-":"+",o.setCssClass(this.regExpOption,"checked",this.regExpOption.checked),o.setCssClass(this.wholeWordOption,"checked",this.wholeWordOption.checked),o.setCssClass(this.caseSensitiveOption,"checked",this.caseSensitiveOption.checked);var v=this.editor.getReadOnly();this.replaceOption.style.display=v?"none":"",this.replaceBox.style.display=this.replaceOption.checked&&!v?"":"none",this.find(!1,!1,y)},g.prototype.highlight=function(y){this.editor.session.highlight(y||this.editor.$search.$options.re),this.editor.renderer.updateBackMarkers()},g.prototype.find=function(y,v,b){var _=this.editor.find(this.searchInput.value,{skipCurrent:y,backwards:v,wrap:!0,regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked,preventScroll:b,range:this.searchRange}),x=!_&&this.searchInput.value;o.setCssClass(this.searchBox,"ace_nomatch",x),this.editor._emit("findSearchBox",{match:!x}),this.highlight(),this.updateCounter()},g.prototype.updateCounter=function(){var y=this.editor,v=y.$search.$options.re,b=v.unicode,_=0,x=0;if(v){var w=this.searchRange?y.session.getTextRange(this.searchRange):y.getValue();y.$search.$isMultilineSearch(y.getLastSearchOptions())&&(w=w.replace(/\r\n|\r|\n/g,`
`),y.session.doc.$autoNewLine=`
`);var E=y.session.doc.positionToIndex(y.selection.anchor);this.searchRange&&(E-=y.session.doc.positionToIndex(this.searchRange.start));for(var S=v.lastIndex=0,T;(T=v.exec(w))&&(_++,S=T.index,S<=E&&x++,!(_>h||!T[0]&&(v.lastIndex=S+=s.skipEmptyMatch(w,S,b),S>=w.length))););}this.searchCounter.textContent=d("search-box.search-counter","$0 of $1",[x,_>h?h+"+":_])},g.prototype.findNext=function(){this.find(!0,!1)},g.prototype.findPrev=function(){this.find(!0,!0)},g.prototype.findAll=function(){var y=this.editor.findAll(this.searchInput.value,{regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked}),v=!y&&this.searchInput.value;o.setCssClass(this.searchBox,"ace_nomatch",v),this.editor._emit("findSearchBox",{match:!v}),this.highlight(),this.hide()},g.prototype.replace=function(){this.editor.getReadOnly()||this.editor.replace(this.replaceInput.value)},g.prototype.replaceAndFindNext=function(){this.editor.getReadOnly()||(this.editor.replace(this.replaceInput.value),this.findNext())},g.prototype.replaceAll=function(){this.editor.getReadOnly()||this.editor.replaceAll(this.replaceInput.value)},g.prototype.hide=function(){this.active=!1,this.setSearchRange(null),this.editor.off("changeSession",this.setSession),this.editor.off("input",this.$onEditorInput),this.element.style.display="none",this.editor.keyBinding.removeKeyboardHandler(this.$closeSearchBarKb),this.editor.focus()},g.prototype.show=function(y,v){this.active=!0,this.editor.on("changeSession",this.setSession),this.editor.on("input",this.$onEditorInput),this.element.style.display="",this.replaceOption.checked=v,this.editor.$search.$options.regExp&&(y=s.escapeRegExp(y)),y&&(this.searchInput.value=y),this.searchInput.focus(),this.searchInput.select(),this.editor.keyBinding.addKeyboardHandler(this.$closeSearchBarKb),this.$syncOptions(!0)},g.prototype.isFocused=function(){var y=document.activeElement;return y==this.searchInput||y==this.replaceInput},g}(),p=new u;p.bindKeys({"Ctrl-f|Command-f":function(g){var y=g.isReplace=!g.isReplace;g.replaceBox.style.display=y?"":"none",g.replaceOption.checked=!1,g.$syncOptions(),g.searchInput.focus()},"Ctrl-H|Command-Option-F":function(g){g.editor.getReadOnly()||(g.replaceOption.checked=!0,g.$syncOptions(),g.replaceInput.focus())},"Ctrl-G|Command-G":function(g){g.findNext()},"Ctrl-Shift-G|Command-Shift-G":function(g){g.findPrev()},esc:function(g){setTimeout(function(){g.hide()})},Return:function(g){g.activeInput==g.replaceInput&&g.replace(),g.findNext()},"Shift-Return":function(g){g.activeInput==g.replaceInput&&g.replace(),g.findPrev()},"Alt-Return":function(g){g.activeInput==g.replaceInput&&g.replaceAll(),g.findAll()},Tab:function(g){(g.activeInput==g.replaceInput?g.searchInput:g.replaceInput).focus()}}),p.addCommands([{name:"toggleRegexpMode",bindKey:{win:"Alt-R|Alt-/",mac:"Ctrl-Alt-R|Ctrl-Alt-/"},exec:function(g){g.regExpOption.checked=!g.regExpOption.checked,g.$syncOptions()}},{name:"toggleCaseSensitive",bindKey:{win:"Alt-C|Alt-I",mac:"Ctrl-Alt-R|Ctrl-Alt-I"},exec:function(g){g.caseSensitiveOption.checked=!g.caseSensitiveOption.checked,g.$syncOptions()}},{name:"toggleWholeWords",bindKey:{win:"Alt-B|Alt-W",mac:"Ctrl-Alt-B|Ctrl-Alt-W"},exec:function(g){g.wholeWordOption.checked=!g.wholeWordOption.checked,g.$syncOptions()}},{name:"toggleReplace",exec:function(g){g.replaceOption.checked=!g.replaceOption.checked,g.$syncOptions()}},{name:"searchInSelection",exec:function(g){g.searchOption.checked=!g.searchRange,g.setSearchRange(g.searchOption.checked&&g.editor.getSelectionRange()),g.$syncOptions()}}]);var m=new u([{bindKey:"Esc",name:"closeSearchBar",exec:function(g){g.searchBox.hide()}}]);f.prototype.$searchBarKb=p,f.prototype.$closeSearchBarKb=m,r.SearchBox=f,r.Search=function(g,y){var v=g.searchBox||new f(g);v.show(g.session.getTextRange(),y)}}),function(){ace.require(["ace/ext/searchbox"],function(n){e&&(e.exports=n)})}()})(Zpt);function ib(){const{colorScheme:e}=sye();return e==="dark"}function emt({setAnswer:e,parameters:t,provenanceState:n}){const[r,i]=O.useState(USe[t.type+(t.tabular?"tabular":"config")+t.language]),o=ib();O.useEffect(()=>{n&&n.text!==null&&i(n.text)},[n]);const{actions:s,trrack:a}=O.useMemo(()=>{const d=Hp.create(),h=d.register("type",(p,m)=>(p.text=m,p)),f=rb({registry:d,initialState:{text:null}});return{actions:{typeAction:h},trrack:f}},[]);let l;t.language==="plain_text"?l="text":t.language==="jsonc"?l="json":l=t.language;const u=O.useCallback(d=>{a.apply("Typing",s.typeAction(d)),e({status:d.length>150,answers:{code:d,error:d},provenanceGraph:a.graph.backend}),i(d)},[s,e,a]),c=O.useRef(null);return O.useEffect(()=>{var d,h;o?(d=c.current)==null||d.editor.setTheme(kG):(h=c.current)==null||h.editor.setTheme(AG)},[o]),k.jsx(ge,{children:k.jsxs(Dr,{gap:20,wrap:"nowrap",style:{height:"calc(100vh - var(--app-shell-header-height, 0px) - var(--app-shell-footer-height, 0px) - 30px)"},children:[t.imagePath?k.jsx("div",{style:{flex:"0 0 50%"},children:k.jsx("img",{src:hi+t.imagePath,alt:"Example",style:{width:"100%",height:"auto",objectFit:"contain"}})}):null,k.jsx(CG,{ref:c,mode:l,width:"100%",height:"calc(100vh - var(--app-shell-header-height, 0px) - var(--app-shell-footer-height, 0px) - 30px)",value:r,wrapEnabled:!0,onChange:u,name:"UNIQUE_ID_OF_DIV",editorProps:{$blockScrolling:!0}})]})})}const VSe=Object.freeze(Object.defineProperty({__proto__:null,default:emt},Symbol.toStringTag,{value:"Module"})),WSe={readingtabularjson:JSON.stringify({students:{student:[{name:"Bob",age:12,contact:{email:"bob@example.com",phone:"+123456789",address:"123 Bob St, Some City"},courses:{course:{course_name:"Math 101",quizzes:{quiz:[{id:1,grade:8,weight:.1},{id:2,grade:9,weight:.1}]},midterm:{grade:77,weight:.3},final:{grade:87,weight:.5},total_score:82.3,attendance:{total_classes:30,attended_classes:28,absent_classes:2}}},extra_curricular:{sports:{sport:[{sport_name:"Soccer",position:"Forward",team:"The Tigers"},{sport_name:"Basketball",position:"Guard",team:"The Eagles"}]},clubs:{club:[{club_name:"Science Club",role:"President"},{club_name:"Drama Club",role:"Member"}]}}},{name:"Eve",age:13,contact:{email:"eve@example.com",phone:"+987654321",address:"456 Eve St, Other City"},courses:{course:{course_name:"Math 101",quizzes:{quiz:[{id:1,grade:9,weight:.15},{id:2,grade:10,weight:.15}]},midterm:{grade:"AB(absent)",weight:.3},final:{grade:77,weight:.4},total_score:78.3,attendance:{total_classes:30,attended_classes:27,absent_classes:3}}},extra_curricular:{sports:{sport:{sport_name:"Tennis",position:"Singles",team:"The Champions"}},clubs:{club:{club_name:"Art Club",role:"Vice President"}}}},{name:"Alice",age:14,contact:{email:"alice@example.com",phone:"+111222333",address:"789 Alice St, Another City"},courses:{course:{course_name:"Science 101",quizzes:{quiz:[{id:1,grade:7,weight:.2},{id:2,grade:8,weight:.2}]},midterm:{grade:85,weight:.3},final:{grade:90,weight:.5},total_score:84.7,attendance:{total_classes:30,attended_classes:29,absent_classes:1}}},extra_curricular:{sports:{sport:{sport_name:"Swimming",position:"Freestyle",team:"Blue Sharks"}},clubs:{club:[{club_name:"Chess Club",role:"Member"},{club_name:"Literature Club",role:"Secretary"}]}}}]}},null,2),readingtabularxml:`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<students>
  <student>
    <name>Bob</name>
    <age>12</age>
    <contact>
      <email>bob@example.com</email>
      <phone>+123456789</phone>
      <address>123 Bob St, Some City</address>
    </contact>
    <courses>
      <course>
        <course_name>Math 101</course_name>
        <quizzes>
          <quiz>
            <id>1</id>
            <grade>8</grade>
            <weight>0.1</weight>
          </quiz>
          <quiz>
            <id>2</id>
            <grade>9</grade>
            <weight>0.1</weight>
          </quiz>
        </quizzes>
        <midterm>
          <grade>77</grade>
          <weight>0.3</weight>
        </midterm>
        <final>
          <grade>87</grade>
          <weight>0.5</weight>
        </final>
        <total_score>82.3</total_score>
        <attendance>
          <total_classes>30</total_classes>
          <attended_classes>28</attended_classes>
          <absent_classes>2</absent_classes>
        </attendance>
      </course>
    </courses>
    <extra_curricular>
      <sports>
        <sport>
          <sport_name>Soccer</sport_name>
          <position>Forward</position>
          <team>The Tigers</team>
        </sport>
        <sport>
          <sport_name>Basketball</sport_name>
          <position>Guard</position>
          <team>The Eagles</team>
        </sport>
      </sports>
      <clubs>
        <club>
          <club_name>Science Club</club_name>
          <role>President</role>
        </club>
        <club>
          <club_name>Drama Club</club_name>
          <role>Member</role>
        </club>
      </clubs>
    </extra_curricular>
  </student>
  <student>
    <name>Eve</name>
    <age>13</age>
    <contact>
      <email>eve@example.com</email>
      <phone>+987654321</phone>
      <address>456 Eve St, Other City</address>
    </contact>
    <courses>
      <course>
        <course_name>Math 101</course_name>
        <quizzes>
          <quiz>
            <id>1</id>
            <grade>9</grade>
            <weight>0.15</weight>
          </quiz>
          <quiz>
            <id>2</id>
            <grade>10</grade>
            <weight>0.15</weight>
          </quiz>
        </quizzes>
        <midterm>
          <grade>AB(absent)</grade> <!--The student was absent for the midterm exam.-->
          <weight>0.3</weight>
        </midterm>
        <final>
          <grade>77</grade>
          <weight>0.4</weight>
        </final>
        <total_score>78.3</total_score>
        <attendance>
          <total_classes>30</total_classes>
          <attended_classes>27</attended_classes>
          <absent_classes>3</absent_classes>
        </attendance>
      </course>
    </courses>
    <extra_curricular>
      <sports>
        <sport>
          <sport_name>Tennis</sport_name>
          <position>Singles</position>
          <team>The Champions</team>
        </sport>
      </sports>
      <clubs>
        <club>
          <club_name>Art Club</club_name>
          <role>Vice President</role>
        </club>
      </clubs>
    </extra_curricular>
  </student>
  <student>
    <name>Alice</name>
    <age>14</age>
    <contact>
      <email>alice@example.com</email>
      <phone>+111222333</phone>
      <address>789 Alice St, Another City</address>
    </contact>
    <courses>
      <course>
        <course_name>Science 101</course_name>
        <quizzes>
          <quiz>
            <id>1</id>
            <grade>7</grade>
            <weight>0.2</weight>
          </quiz>
          <quiz>
            <id>2</id>
            <grade>8</grade>
            <weight>0.2</weight>
          </quiz>
        </quizzes>
        <midterm>
          <grade>85</grade>
          <weight>0.3</weight>
        </midterm>
        <final>
          <grade>90</grade>
          <weight>0.5</weight>
        </final>
        <total_score>84.7</total_score>
        <attendance>
          <total_classes>30</total_classes>
          <attended_classes>29</attended_classes>
          <absent_classes>1</absent_classes>
        </attendance>
      </course>
    </courses>
    <extra_curricular>
      <sports>
        <sport>
          <sport_name>Swimming</sport_name>
          <position>Freestyle</position>
          <team>Blue Sharks</team>
        </sport>
      </sports>
      <clubs>
        <club>
          <club_name>Chess Club</club_name>
          <role>Member</role>
        </club>
        <club>
          <club_name>Literature Club</club_name>
          <role>Secretary</role>
        </club>
      </clubs>
    </extra_curricular>
  </student>
</students>`,readingtabulartoml:`[students]

[[students.student]]
name = "Bob"
age = 12

[students.student.contact]
email = "bob@example.com"
phone = "+123456789"
address = "123 Bob St, Some City"

[students.student.courses]

[students.student.courses.course]
course_name = "Math 101"
total_score = 82.3

[students.student.courses.course.quizzes]

[[students.student.courses.course.quizzes.quiz]]
id = 1
grade = 8.0
weight = 0.1

[[students.student.courses.course.quizzes.quiz]]
id = 2
grade = 9.0
weight = 0.1

[students.student.courses.course.midterm]
grade = 77.0
weight = 0.3

[students.student.courses.course.final]
grade = 87.0
weight = 0.5

[students.student.courses.course.attendance]
total_classes = 30
attended_classes = 28
absent_classes = 2

[students.student.extra_curricular]

[students.student.extra_curricular.sports]

[[students.student.extra_curricular.sports.sport]]
sport_name = "Soccer"
position = "Forward"
team = "The Tigers"

[[students.student.extra_curricular.sports.sport]]
sport_name = "Basketball"
position = "Guard"
team = "The Eagles"

[students.student.extra_curricular.clubs]

[[students.student.extra_curricular.clubs.club]]
club_name = "Science Club"
role = "President"

[[students.student.extra_curricular.clubs.club]]
club_name = "Drama Club"
role = "Member"

[[students.student]]
name = "Eve"
age = 13

[students.student.contact]
email = "eve@example.com"
phone = "+987654321"
address = "456 Eve St, Other City"

[students.student.courses]

[students.student.courses.course]
course_name = "Math 101"
total_score = 78.3

[students.student.courses.course.quizzes]

[[students.student.courses.course.quizzes.quiz]]
id = 1
grade = 9.0
weight = 0.15

[[students.student.courses.course.quizzes.quiz]]
id = 2
grade = 10.0
weight = 0.15

[students.student.courses.course.midterm]
grade = "AB(absent)"   # The student was absent for the midterm exam.
weight = 0.3

[students.student.courses.course.final]
grade = 77.0
weight = 0.4

[students.student.courses.course.attendance]
total_classes = 30
attended_classes = 27
absent_classes = 3

[students.student.extra_curricular]

[students.student.extra_curricular.sports]

[students.student.extra_curricular.sports.sport]
sport_name = "Tennis"
position = "Singles"
team = "The Champions"

[students.student.extra_curricular.clubs]

[students.student.extra_curricular.clubs.club]
club_name = "Art Club"
role = "Vice President"

[[students.student]]
name = "Alice"
age = 14

[students.student.contact]
email = "alice@example.com"
phone = "+111222333"
address = "789 Alice St, Another City"

[students.student.courses]

[students.student.courses.course]
course_name = "Science 101"
total_score = 84.7

[students.student.courses.course.quizzes]

[[students.student.courses.course.quizzes.quiz]]
id = 1
grade = 7.0
weight = 0.2

[[students.student.courses.course.quizzes.quiz]]
id = 2
grade = 8.0
weight = 0.2

[students.student.courses.course.midterm]
grade = 85.0
weight = 0.3

[students.student.courses.course.final]
grade = 90.0
weight = 0.5

[students.student.courses.course.attendance]
total_classes = 30
attended_classes = 29
absent_classes = 1

[students.student.extra_curricular]

[students.student.extra_curricular.sports]

[students.student.extra_curricular.sports.sport]
sport_name = "Swimming"
position = "Freestyle"
team = "Blue Sharks"

[students.student.extra_curricular.clubs]

[[students.student.extra_curricular.clubs.club]]
club_name = "Chess Club"
role = "Member"

[[students.student.extra_curricular.clubs.club]]
club_name = "Literature Club"
role = "Secretary"`,readingtabularyaml:`students:
  student:
    - name: Bob
      age: 12
      contact:
        email: bob@example.com
        phone: '+123456789'
        address: 123 Bob St, Some City
      courses:
        course:
          course_name: Math 101
          quizzes:
            quiz:
              - id: 1
                grade: 8
                weight: 0.1
              - id: 2
                grade: 9
                weight: 0.1
          midterm:
            grade: 77
            weight: 0.3
          final:
            grade: 87
            weight: 0.5
          total_score: 82.3
          attendance:
            total_classes: 30
            attended_classes: 28
            absent_classes: 2
      extra_curricular:
        sports:
          sport:
            - sport_name: Soccer
              position: Forward
              team: The Tigers
            - sport_name: Basketball
              position: Guard
              team: The Eagles
        clubs:
          club:
            - club_name: Science Club
              role: President
            - club_name: Drama Club
              role: Member
    - name: Eve
      age: 13
      contact:
        email: eve@example.com
        phone: '+987654321'
        address: 456 Eve St, Other City
      courses:
        course:
          course_name: Math 101
          quizzes:
            quiz:
              - id: 1
                grade: 9
                weight: 0.15
              - id: 2
                grade: 10
                weight: 0.15
          midterm:
            grade: AB(absent)  # The student was absent for the midterm exam.
            weight: 0.3
          final:
            grade: 77
            weight: 0.4
          total_score: 78.3
          attendance:
            total_classes: 30
            attended_classes: 27
            absent_classes: 3
      extra_curricular:
        sports:
          sport:
            sport_name: Tennis
            position: Singles
            team: The Champions
        clubs:
          club:
            club_name: Art Club
            role: Vice President
    - name: Alice
      age: 14
      contact:
        email: alice@example.com
        phone: '+111222333'
        address: 789 Alice St, Another City
      courses:
        course:
          course_name: Science 101
          quizzes:
            quiz:
              - id: 1
                grade: 7
                weight: 0.2
              - id: 2
                grade: 8
                weight: 0.2
          midterm:
            grade: 85
            weight: 0.3
          final:
            grade: 90
            weight: 0.5
          total_score: 84.7
          attendance:
            total_classes: 30
            attended_classes: 29
            absent_classes: 1
      extra_curricular:
        sports:
          sport:
            sport_name: Swimming
            position: Freestyle
            team: Blue Sharks
        clubs:
          club:
            - club_name: Chess Club
              role: Member
            - club_name: Literature Club
              role: Secretary`,readingtabularjsonc:`{
    "students": {
      "student": [
        {
          // comments
          "name": "Bob",
          "age": 12,
          "contact": {
            "email": "bob@example.com",
            "phone": "+123456789",
            "address": "123 Bob St, Some City"
          },
          "courses": {
            "course": {
              "course_name": "Math 101",
              "quizzes": {
                "quiz": [
                  {
                    "id": 1,
                    "grade": 8,
                    "weight": 0.1
                  },
                  {
                    "id": 2,
                    "grade": 9,
                    "weight": 0.1
                  }
                ]
              },
              "midterm": {
                "grade": 77,
                "weight": 0.3
              },
              "final": {
                "grade": 87,
                "weight": 0.5
              },
              "total_score": 82.3,
              "attendance": {
                "total_classes": 30,
                "attended_classes": 28,
                "absent_classes": 2
              }
            }
          },
          "extra_curricular": {
            "sports": {
              "sport": [
                {
                  "sport_name": "Soccer",
                  "position": "Forward",
                  "team": "The Tigers"
                },
                {
                  "sport_name": "Basketball",
                  "position": "Guard",
                  "team": "The Eagles"
                }
              ]
            },
            "clubs": {
              "club": [
                {
                  "club_name": "Science Club",
                  "role": "President"
                },
                {
                  "club_name": "Drama Club",
                  "role": "Member"
                }
              ]
            }
          }
        },
        {
          "name": "Eve",
          "age": 13,
          "contact": {
            "email": "eve@example.com",
            "phone": "+987654321",
            "address": "456 Eve St, Other City"
          },
          "courses": {
            "course": {
              "course_name": "Math 101",
              "quizzes": {
                "quiz": [
                  {
                    "id": 1,
                    "grade": 9,
                    "weight": 0.15
                  },
                  {
                    "id": 2,
                    "grade": 10,
                    "weight": 0.15
                  }
                ]
              },
              "midterm": {
                "grade": "AB(absent)",
                "weight": 0.3
              },
              "final": {
                "grade": 77,
                "weight": 0.4
              },
              "total_score": 78.3,
              "attendance": {
                "total_classes": 30,
                "attended_classes": 27,
                "absent_classes": 3
              }
            }
          },
          "extra_curricular": {
            "sports": {
              "sport": {
                "sport_name": "Tennis",
                "position": "Singles",
                "team": "The Champions"
              }
            },
            "clubs": {
              "club": {
                "club_name": "Art Club",
                "role": "Vice President"
              }
            }
          }
        },
        {
          "name": "Alice",
          "age": 14,
          "contact": {
            "email": "alice@example.com",
            "phone": "+111222333",
            "address": "789 Alice St, Another City"
          },
          "courses": {
            "course": {
              "course_name": "Science 101",
              "quizzes": {
                "quiz": [
                  {
                    "id": 1,
                    "grade": 7,
                    "weight": 0.2
                  },
                  {
                    "id": 2,
                    "grade": 8,
                    "weight": 0.2
                  }
                ]
              },
              "midterm": {
                "grade": 85,
                "weight": 0.3
              },
              "final": {
                "grade": 90,
                "weight": 0.5
              },
              "total_score": 84.7,
              "attendance": {
                "total_classes": 30,
                "attended_classes": 29,
                "absent_classes": 1
              }
            }
          },
          "extra_curricular": {
            "sports": {
              "sport": {
                "sport_name": "Swimming",
                "position": "Freestyle",
                "team": "Blue Sharks"
              }
            },
            "clubs": {
              "club": [
                {
                  "club_name": "Chess Club",
                  "role": "Member"
                },
                {
                  "club_name": "Literature Club",
                  "role": "Secretary"
                }
              ]
            }
          }
        }
      ]
    }
  }`,readingtabularhjson:`
  students:
  {
    student:
    [
      {
        name: Bob
        age: 12
        contact:
        {
          email: bob@example.com
          phone: +123456789
          address: 123 Bob St, Some City
        }
        courses:
        {
          course:
          {
            course_name: Math 101
            quizzes:
            {
              quiz:
              [
                {
                  id: 1
                  grade: 8
                  weight: 0.1
                }
                {
                  id: 2
                  grade: 9
                  weight: 0.1
                }
              ]
            }
            midterm:
            {
              grade: 77
              weight: 0.3
            }
            final:
            {
              grade: 87
              weight: 0.5
            }
            total_score: 82.3
            attendance:
            {
              total_classes: 30
              attended_classes: 28
              absent_classes: 2
            }
          }
        }
        extra_curricular:
        {
          sports:
          {
            sport:
            [
              {
                sport_name: Soccer
                position: Forward
                team: The Tigers
              }
              {
                sport_name: Basketball
                position: Guard
                team: The Eagles
              }
            ]
          }
          clubs:
          {
            club:
            [
              {
                club_name: Science Club
                role: President
              }
              {
                club_name: Drama Club
                role: Member
              }
            ]
          }
        }
      }
      {
        name: Eve
        age: 13
        contact:
        {
          email: eve@example.com
          phone: +987654321
          address: 456 Eve St, Other City
        }
        courses:
        {
          course:
          {
            course_name: Math 101
            quizzes:
            {
              quiz:
              [
                {
                  id: 1
                  grade: 9
                  weight: 0.15
                }
                {
                  id: 2
                  grade: 10
                  weight: 0.15
                }
              ]
            }
            midterm:
            {
              grade: AB(absent) // The student was absent for the midterm exam.
              weight: 0.3
            }
            final:
            {
              grade: 77
              weight: 0.4
            }
            total_score: 78.3
            attendance:
            {
              total_classes: 30
              attended_classes: 27
              absent_classes: 3
            }
          }
        }
        extra_curricular:
        {
          sports:
          {
            sport:
            {
              sport_name: Tennis
              position: Singles
              team: The Champions
            }
          }
          clubs:
          {
            club:
            {
              club_name: Art Club
              role: Vice President
            }
          }
        }
      }
      {
        name: Alice
        age: 14
        contact:
        {
          email: alice@example.com
          phone: +111222333
          address: 789 Alice St, Another City
        }
        courses:
        {
          course:
          {
            course_name: Science 101
            quizzes:
            {
              quiz:
              [
                {
                  id: 1
                  grade: 7
                  weight: 0.2
                }
                {
                  id: 2
                  grade: 8
                  weight: 0.2
                }
              ]
            }
            midterm:
            {
              grade: 85
              weight: 0.3
            }
            final:
            {
              grade: 90
              weight: 0.5
            }
            total_score: 84.7
            attendance:
            {
              total_classes: 30
              attended_classes: 29
              absent_classes: 1
            }
          }
        }
        extra_curricular:
        {
          sports:
          {
            sport:
            {
              sport_name: Swimming
              position: Freestyle
              team: Blue Sharks
            }
          }
          clubs:
          {
            club:
            [
              {
                club_name: Chess Club
                role: Member
              }
              {
                club_name: Literature Club
                role: Secretary
              }
            ]
          }
        }
      }
    ]
  }`,readingtabularjson5:`{
    students: {
        student: [
            {
                name: 'Bob',
                age: 12,
                contact: {
                    email: 'bob@example.com',
                    phone: '+123456789',
                    address: '123 Bob St, Some City'
                },
                courses: {
                    course: {
                        course_name: 'Math 101',
                        quizzes: {
                            quiz: [
                                {
                                    id: 1,
                                    grade: 8,
                                    weight: 0.1
                                },
                                {
                                    id: 2,
                                    grade: 9,
                                    weight: 0.1
                                }
                            ]
                        },
                        midterm: {
                            grade: 77,
                            weight: 0.3
                        },
                        final: {
                            grade: 87,
                            weight: 0.5
                        },
                        total_score: 82.3,
                        attendance: {
                            total_classes: 30,
                            attended_classes: 28,
                            absent_classes: 2
                        }
                    }
                },
                extra_curricular: {
                    sports: {
                        sport: [
                            {
                                sport_name: 'Soccer',
                                position: 'Forward',
                                team: 'The Tigers'
                            },
                            {
                                sport_name: 'Basketball',
                                position: 'Guard',
                                team: 'The Eagles'
                            }
                        ]
                    },
                    clubs: {
                        club: [
                            {
                                club_name: 'Science Club',
                                role: 'President'
                            },
                            {
                                club_name: 'Drama Club',
                                role: 'Member'
                            }
                        ]
                    }
                }
            },
            {
                name: 'Eve',
                age: 13,
                contact: {
                    email: 'eve@example.com',
                    phone: '+987654321',
                    address: '456 Eve St, Other City'
                },
                courses: {
                    course: {
                        course_name: 'Math 101',
                        quizzes: {
                            quiz: [
                                {
                                    id: 1,
                                    grade: 9,
                                    weight: 0.15
                                },
                                {
                                    id: 2,
                                    grade: 10,
                                    weight: 0.15
                                }
                            ]
                        },
                        midterm: {
                            grade: 'AB(absent)',  // The student was absent for the midterm exam.
                            weight: 0.3
                        },
                        final: {
                            grade: 77,
                            weight: 0.4
                        },
                        total_score: 78.3,
                        attendance: {
                            total_classes: 30,
                            attended_classes: 27,
                            absent_classes: 3
                        }
                    }
                },
                extra_curricular: {
                    sports: {
                        sport: {
                            sport_name: 'Tennis',
                            position: 'Singles',
                            team: 'The Champions'
                        }
                    },
                    clubs: {
                        club: {
                            club_name: 'Art Club',
                            role: 'Vice President'
                        }
                    }
                }
            },
            {
                name: 'Alice',
                age: 14,
                contact: {
                    email: 'alice@example.com',
                    phone: '+111222333',
                    address: '789 Alice St, Another City'
                },
                courses: {
                    course: {
                        course_name: 'Science 101',
                        quizzes: {
                            quiz: [
                                {
                                    id: 1,
                                    grade: 7,
                                    weight: 0.2
                                },
                                {
                                    id: 2,
                                    grade: 8,
                                    weight: 0.2
                                }
                            ]
                        },
                        midterm: {
                            grade: 85,
                            weight: 0.3
                        },
                        final: {
                            grade: 90,
                            weight: 0.5
                        },
                        total_score: 84.7,
                        attendance: {
                            total_classes: 30,
                            attended_classes: 29,
                            absent_classes: 1
                        }
                    }
                },
                extra_curricular: {
                    sports: {
                        sport: {
                            sport_name: 'Swimming',
                            position: 'Freestyle',
                            team: 'Blue Sharks'
                        }
                    },
                    clubs: {
                        club: [
                            {
                                club_name: 'Chess Club',
                                role: 'Member'
                            },
                            {
                                club_name: 'Literature Club',
                                role: 'Secretary'
                            }
                        ]
                    }
                }
            }
        ]
    }
}`,readingconfigjson:JSON.stringify({name:"d3",version:"7.9.0",description:"Data-Driven Documents",homepage:"d3js.org",repository:{type:"git",url:"github.com/d3/d3.git"},keywords:["d3","dom","visualization","svg","animation","canvas"],license:"ISC",author:{firstname:"Mike",lastname:"Bostock"},type:"module",files:["dist/d3.js","dist/d3.min.js","src/**/*.js"],module:"src/index.js",main:"src/index.js",jsdelivr:"dist/d3.min.js",unpkg:"dist/d3.min.js",exports:{umd:"./dist/d3.min.js",default:"./src/index.js"},dependencies:{"d3-array":"^3.2.4","d3-axis":"^3.0.0","d3-brush":"^3.0.0","d3-chord":"^3.0.1","d3-color":"^3.1.0","d3-contour":"^4.0.2","d3-delaunay":"^6.0.4","d3-dispatch":"^3.0.1","d3-drag":"^3.0.0","d3-dsv":"^3.0.1","d3-ease":"^3.0.1","d3-fetch":"^3.0.1","d3-force":"^3.0.0","d3-format":"^3.1.0","d3-geo":"^3.1.1","d3-hierarchy":"^3.1.2","d3-interpolate":"^3.0.1","d3-path":"^3.1.0","d3-polygon":"^3.0.1","d3-quadtree":"^3.0.1","d3-random":"^3.0.1","d3-scale":"^4.0.2","d3-scale-chromatic":"^3.1.0","d3-selection":"^3.0.0","d3-shape":"^3.2.0","d3-time":"^3.1.0","d3-time-format":"^4.1.0","d3-timer":"^3.0.1","d3-transition":"^3.0.1","d3-zoom":"^3.0.0"},devDependencies:{"@observablehq/plot":"^0.6.7","@observablehq/runtime":"^5.7.3","@rollup/plugin-json":"^6.1.0","@rollup/plugin-node-resolve":"^15.2.3","@rollup/plugin-terser":"^0.4.0",eslint:"^8.57.0",mocha:"^10.3.0",rollup:"^3.29.4","topojson-client":"^3.1.0",vitepress:"^1.4.0"},scripts:{prepublishOnly:"rm -rf dist && rollup -c",postpublish:"git push && git push --tags","docs/dev":"node --experimental-network-imports node_modules/vitepress/dist/node/cli.js dev docs","docs/build":"./prebuild.sh && node --experimental-network-imports node_modules/vitepress/dist/node/cli.js build docs","docs/preview":"vitepress preview docs"},engines:{node:">=12"}},null,2),readingconfigxml:`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<root>
  <name>d3</name>
  <version>7.9.0</version> 
  <description>Data-Driven Documents</description>
  <homepage>d3js.org</homepage>
  <repository>
    <type>git</type>
    <url>github.com/d3/d3.git</url>
  </repository>
  <keywords>d3</keywords>
  <keywords>dom</keywords>
  <keywords>visualization</keywords>
  <keywords>svg</keywords>
  <keywords>animation</keywords>
  <keywords>canvas</keywords>
  <license>ISC</license>
  <author>
    <firstname>Mike</firstname>
    <lastname>Bostock</lastname>
  </author>
  <type>module</type>
  <files>dist/d3.js</files>
  <files>dist/d3.min.js</files>
  <files>src/**/*.js</files>
  <module>src/index.js</module>
  <main>src/index.js</main>
  <jsdelivr>dist/d3.min.js</jsdelivr>
  <unpkg>dist/d3.min.js</unpkg>
  <exports>
    <umd>./dist/d3.min.js</umd>
    <default>./src/index.js</default>
  </exports>
  <dependencies>
    <d3-array>^3.2.4</d3-array>
    <d3-axis>^3.0.0</d3-axis>
    <d3-brush>^3.0.0</d3-brush>
    <d3-chord>^3.0.1</d3-chord>
    <d3-color>^3.1.0</d3-color>
    <d3-contour>^4.0.2</d3-contour>
    <d3-delaunay>^6.0.4</d3-delaunay>  <!--this version might have compatibility issues-->
    <d3-dispatch>^3.0.1</d3-dispatch>
    <d3-drag>^3.0.0</d3-drag>
    <d3-dsv>^3.0.1</d3-dsv>
    <d3-ease>^3.0.1</d3-ease>
    <d3-fetch>^3.0.1</d3-fetch>
    <d3-force>^3.0.0</d3-force>
    <d3-format>^3.1.0</d3-format>
    <d3-geo>^3.1.1</d3-geo>
    <d3-hierarchy>^3.1.2</d3-hierarchy>
    <d3-interpolate>^3.0.1</d3-interpolate>
    <d3-path>^3.1.0</d3-path>
    <d3-polygon>^3.0.1</d3-polygon>
    <d3-quadtree>^3.0.1</d3-quadtree>
    <d3-random>^3.0.1</d3-random>
    <d3-scale>^4.0.2</d3-scale>
    <d3-scale-chromatic>^3.1.0</d3-scale-chromatic>
    <d3-selection>^3.0.0</d3-selection>
    <d3-shape>^3.2.0</d3-shape>
    <d3-time>^3.1.0</d3-time>
    <d3-time-format>^4.1.0</d3-time-format>
    <d3-timer>^3.0.1</d3-timer>
    <d3-transition>^3.0.1</d3-transition>
    <d3-zoom>^3.0.0</d3-zoom>
  </dependencies>
  <devDependencies>
    <_x0040_observablehq_x002F_plot>^0.6.7</_x0040_observablehq_x002F_plot>
    <_x0040_observablehq_x002F_runtime>^5.7.3</_x0040_observablehq_x002F_runtime>
    <_x0040_rollup_x002F_plugin-json>^6.1.0</_x0040_rollup_x002F_plugin-json>
    <_x0040_rollup_x002F_plugin-node-resolve>^15.2.3</_x0040_rollup_x002F_plugin-node-resolve>
    <_x0040_rollup_x002F_plugin-terser>^0.4.0</_x0040_rollup_x002F_plugin-terser>
    <eslint>^8.57.0</eslint>
    <mocha>^10.3.0</mocha>
    <rollup>^3.29.4</rollup>
    <topojson-client>^3.1.0</topojson-client>
    <vitepress>^1.4.0</vitepress>
  </devDependencies>
  <scripts>
    <prepublishOnly>rm -rf dist && rollup -c</prepublishOnly>
    <postpublish>git push && git push --tags</postpublish>
    <docs/dev>node --experimental-network-imports node_modules/vitepress/dist/node/cli.js dev docs</docs/dev>
    <docs/build>./prebuild.sh && node --experimental-network-imports node_modules/vitepress/dist/node/cli.js build docs</docs/build>
    <docs/preview>vitepress preview docs</docs/preview>
  <\/scripts>
  <engines>
    <node> >=12</node>
  </engines>
</root>`,readingconfigtoml:`name = "d3"
version = "7.9.0"
description = "Data-Driven Documents"
homepage = "d3js.org"
keywords = ["d3", "dom", "visualization", "svg", "animation", "canvas"]
license = "ISC"
type = "module"
files = ["dist/d3.js", "dist/d3.min.js", "src/**/*.js"]
module = "src/index.js"
main = "src/index.js"
jsdelivr = "dist/d3.min.js"
unpkg = "dist/d3.min.js"

[repository]
type = "git"
url = "github.com/d3/d3.git"

[author]
firstname = "Mike"
lastname = "Bostock"

[exports]
umd = "./dist/d3.min.js"
default = "./src/index.js"

[dependencies]
d3-array = "^3.2.4"
d3-axis = "^3.0.0"
d3-brush = "^3.0.0"
d3-chord = "^3.0.1"
d3-color = "^3.1.0"
d3-contour = "^4.0.2"
d3-delaunay = "^6.0.4" # this version might have compatibility issues
d3-dispatch = "^3.0.1"
d3-drag = "^3.0.0"
d3-dsv = "^3.0.1"
d3-ease = "^3.0.1"
d3-fetch = "^3.0.1"
d3-force = "^3.0.0"
d3-format = "^3.1.0"
d3-geo = "^3.1.1"
d3-hierarchy = "^3.1.2"
d3-interpolate = "^3.0.1"
d3-path = "^3.1.0"
d3-polygon = "^3.0.1"
d3-quadtree = "^3.0.1"
d3-random = "^3.0.1"
d3-scale = "^4.0.2"
d3-scale-chromatic = "^3.1.0"
d3-selection = "^3.0.0"
d3-shape = "^3.2.0"
d3-time = "^3.1.0"
d3-time-format = "^4.1.0"
d3-timer = "^3.0.1"
d3-transition = "^3.0.1"
d3-zoom = "^3.0.0"

[devDependencies]
@observablehq/plot = "^0.6.7"
@observablehq/runtime = "^5.7.3"
@rollup/plugin-json = "^6.1.0"
@rollup/plugin-node-resolve = "^15.2.3"
@rollup/plugin-terser = "^0.4.0"
eslint = "^8.57.0"
mocha = "^10.3.0"
rollup = "^3.29.4"
topojson-client = "^3.1.0"
vitepress = "^1.4.0"

[scripts]
prepublishOnly = "rm -rf dist && rollup -c"
postpublish = "git push && git push --tags"
docs/dev = "node --experimental-network-imports node_modules/vitepress/dist/node/cli.js dev docs"
docs/build = "./prebuild.sh && node --experimental-network-imports node_modules/vitepress/dist/node/cli.js build docs"
docs/preview = "vitepress preview docs"

[engines]
node = ">=12"`,readingconfigyaml:`
  name: d3
  version: 7.9.0
  description: 'Data-Driven Documents'
  homepage: d3js.org
  repository:
    type: git
    url: github.com/d3/d3.git
  keywords:
    - d3
    - dom
    - visualization
    - svg
    - animation
    - canvas
  license: ISC
  author:
    firstname: Mike
    lastname:  Bostock
  type: module
  files:
    - dist/d3.js
    - dist/d3.min.js
    - 'src/**/*.js'
  module: src/index.js
  main: src/index.js
  jsdelivr: dist/d3.min.js
  unpkg: dist/d3.min.js
  exports:
    umd: ./dist/d3.min.js
    default: ./src/index.js
  dependencies:
    d3-array: ^3.2.4
    d3-axis: ^3.0.0
    d3-brush: ^3.0.0
    d3-chord: ^3.0.1
    d3-color: ^3.1.0
    d3-contour: ^4.0.2
    d3-delaunay: ^6.0.4 # this version might have compatibility issues
    d3-dispatch: ^3.0.1
    d3-drag: ^3.0.0
    d3-dsv: ^3.0.1
    d3-ease: ^3.0.1
    d3-fetch: ^3.0.1
    d3-force: ^3.0.0
    d3-format: ^3.1.0
    d3-geo: ^3.1.1
    d3-hierarchy: ^3.1.2
    d3-interpolate: ^3.0.1
    d3-path: ^3.1.0
    d3-polygon: ^3.0.1
    d3-quadtree: ^3.0.1
    d3-random: ^3.0.1
    d3-scale: ^4.0.2
    d3-scale-chromatic: ^3.1.0
    d3-selection: ^3.0.0
    d3-shape: ^3.2.0
    d3-time: ^3.1.0
    d3-time-format: ^4.1.0
    d3-timer: ^3.0.1
    d3-transition: ^3.0.1
    d3-zoom: ^3.0.0
  devDependencies:
    observablehq/plot: ^0.6.7
    observablehq/runtime: ^5.7.3
    rollup/plugin-json: ^6.1.0
    rollup/plugin-node-resolve: ^15.2.3
    rollup/plugin-terser: ^0.4.0
    eslint: ^8.57.0
    mocha: ^10.3.0
    rollup: ^3.29.4
    topojson-client: ^3.1.0
    vitepress: ^1.4.0
  scripts:
    prepublishOnly: 'rm -rf dist && rollup -c'
    postpublish: 'git push && git push --tags'
    docs/dev: 'node --experimental-network-imports node_modules/vitepress/dist/node/cli.js dev docs'
    docs/build: './prebuild.sh && node --experimental-network-imports node_modules/vitepress/dist/node/cli.js build docs'
    docs/preview: 'vitepress preview docs'
  engines:
    node: '>=12'`,readingconfigjsonc:JSON.stringify({name:"d3",version:"7.9.0",description:"Data-Driven Documents",homepage:"d3js.org",repository:{type:"git",url:"github.com/d3/d3.git"},keywords:["d3","dom","visualization","svg","animation","canvas"],license:"ISC",author:{firstname:"Mike",lastname:"Bostock"},type:"module",files:["dist/d3.js","dist/d3.min.js","src/**/*.js"],module:"src/index.js",main:"src/index.js",jsdelivr:"dist/d3.min.js",unpkg:"dist/d3.min.js",exports:{umd:"./dist/d3.min.js",default:"./src/index.js"},dependencies:{"d3-array":"^3.2.4","d3-axis":"^3.0.0","d3-brush":"^3.0.0","d3-chord":"^3.0.1","d3-color":"^3.1.0","d3-contour":"^4.0.2","d3-delaunay":"^6.0.4","d3-dispatch":"^3.0.1","d3-drag":"^3.0.0","d3-dsv":"^3.0.1","d3-ease":"^3.0.1","d3-fetch":"^3.0.1","d3-force":"^3.0.0","d3-format":"^3.1.0","d3-geo":"^3.1.1","d3-hierarchy":"^3.1.2","d3-interpolate":"^3.0.1","d3-path":"^3.1.0","d3-polygon":"^3.0.1","d3-quadtree":"^3.0.1","d3-random":"^3.0.1","d3-scale":"^4.0.2","d3-scale-chromatic":"^3.1.0","d3-selection":"^3.0.0","d3-shape":"^3.2.0","d3-time":"^3.1.0","d3-time-format":"^4.1.0","d3-timer":"^3.0.1","d3-transition":"^3.0.1","d3-zoom":"^3.0.0"},devDependencies:{"@observablehq/plot":"^0.6.7","@observablehq/runtime":"^5.7.3","@rollup/plugin-json":"^6.1.0","@rollup/plugin-node-resolve":"^15.2.3","@rollup/plugin-terser":"^0.4.0",eslint:"^8.57.0",mocha:"^10.3.0",rollup:"^3.29.4","topojson-client":"^3.1.0",vitepress:"^1.4.0"},scripts:{prepublishOnly:"rm -rf dist && rollup -c",postpublish:"git push && git push --tags","docs/dev":"node --experimental-network-imports node_modules/vitepress/dist/node/cli.js dev docs","docs/build":"./prebuild.sh && node --experimental-network-imports node_modules/vitepress/dist/node/cli.js build docs","docs/preview":"vitepress preview docs"},engines:{node:">=12"}},null,2),readingconfigjson5:`{
    name: 'd3',
    version: '7.9.0',
    description: 'Data-Driven Documents',
    homepage: 'd3js.org',
    repository: {
        type: 'git',
        url: 'github.com/d3/d3.git'
    },
    keywords: [
        'd3',
        'dom',
        'visualization',
        'svg',
        'animation',
        'canvas'
    ],
    license: 'ISC',
    author: {
        firstname: 'Mike',
        lastname: 'Bostock'
    },
    type: 'module',
    files: [
        'dist/d3.js',
        'dist/d3.min.js',
        'src/**/*.js'
    ],
    module: 'src/index.js',
    main: 'src/index.js',
    jsdelivr: 'dist/d3.min.js',
    unpkg: 'dist/d3.min.js',
    exports: {
        umd: './dist/d3.min.js',
        default: './src/index.js'
    },
    dependencies: {
        'd3-array': '^3.2.4',
        'd3-axis': '^3.0.0',
        'd3-brush': '^3.0.0',
        'd3-chord': '^3.0.1',
        'd3-color': '^3.1.0',
        'd3-contour': '^4.0.2',
        'd3-delaunay': '^6.0.4', // this version might have compatibility issues
        'd3-dispatch': '^3.0.1',
        'd3-drag': '^3.0.0',
        'd3-dsv': '^3.0.1',
        'd3-ease': '^3.0.1',
        'd3-fetch': '^3.0.1',
        'd3-force': '^3.0.0',
        'd3-format': '^3.1.0',
        'd3-geo': '^3.1.1',
        'd3-hierarchy': '^3.1.2',
        'd3-interpolate': '^3.0.1',
        'd3-path': '^3.1.0',
        'd3-polygon': '^3.0.1',
        'd3-quadtree': '^3.0.1',
        'd3-random': '^3.0.1',
        'd3-scale': '^4.0.2',
        'd3-scale-chromatic': '^3.1.0',
        'd3-selection': '^3.0.0',
        'd3-shape': '^3.2.0',
        'd3-time': '^3.1.0',
        'd3-time-format': '^4.1.0',
        'd3-timer': '^3.0.1',
        'd3-transition': '^3.0.1',
        'd3-zoom': '^3.0.0'
    },
    devDependencies: {
        '@observablehq/plot': '^0.6.7',
        '@observablehq/runtime': '^5.7.3',
        '@rollup/plugin-json': '^6.1.0',
        '@rollup/plugin-node-resolve': '^15.2.3',
        '@rollup/plugin-terser': '^0.4.0',
        eslint: '^8.57.0',
        mocha: '^10.3.0',
        rollup: '^3.29.4',
        'topojson-client': '^3.1.0',
        vitepress: '^1.4.0'
    },
    scripts: {
        prepublishOnly: 'rm -rf dist && rollup -c',
        postpublish: 'git push && git push --tags',
        'docs/dev': 'node --experimental-network-imports node_modules/vitepress/dist/node/cli.js dev docs',
        'docs/build': './prebuild.sh && node --experimental-network-imports node_modules/vitepress/dist/node/cli.js build docs',
        'docs/preview': 'vitepress preview docs'
    },
    engines: {
        node: '>=12'
    }
}`,readingconfighjson:`{
    name: d3
    version: 7.9.0
    description: Data-Driven Documents
    homepage: d3js.org
    repository:
    {
      type: git
      url: github.com/d3/d3.git
    }
    keywords:
    [
      d3
      dom
      visualization
      svg
      animation
      canvas
    ]
    license: ISC
    author:
    {
      firstname: Mike
      lastname:  Bostock
    }
    type: module
    files:
    [
      dist/d3.js
      dist/d3.min.js
      src/**/*.js
    ]
    module: src/index.js
    main: src/index.js
    jsdelivr: dist/d3.min.js
    unpkg: dist/d3.min.js
    exports:
    {
      umd: ./dist/d3.min.js
      default: ./src/index.js
    }
    dependencies:
    {
      d3-array: ^3.2.4
      d3-axis: ^3.0.0
      d3-brush: ^3.0.0
      d3-chord: ^3.0.1
      d3-color: ^3.1.0
      d3-contour: ^4.0.2
      d3-delaunay: ^6.0.4 // this version might have compatibility issues
      d3-dispatch: ^3.0.1
      d3-drag: ^3.0.0
      d3-dsv: ^3.0.1
      d3-ease: ^3.0.1
      d3-fetch: ^3.0.1
      d3-force: ^3.0.0
      d3-format: ^3.1.0
      d3-geo: ^3.1.1
      d3-hierarchy: ^3.1.2
      d3-interpolate: ^3.0.1
      d3-path: ^3.1.0
      d3-polygon: ^3.0.1
      d3-quadtree: ^3.0.1
      d3-random: ^3.0.1
      d3-scale: ^4.0.2
      d3-scale-chromatic: ^3.1.0
      d3-selection: ^3.0.0
      d3-shape: ^3.2.0
      d3-time: ^3.1.0
      d3-time-format: ^4.1.0
      d3-timer: ^3.0.1
      d3-transition: ^3.0.1
      d3-zoom: ^3.0.0
    }
    devDependencies:
    {
      @observablehq/plot: ^0.6.7
      @observablehq/runtime: ^5.7.3
      @rollup/plugin-json: ^6.1.0
      @rollup/plugin-node-resolve: ^15.2.3
      @rollup/plugin-terser: ^0.4.0
      eslint: ^8.57.0
      mocha: ^10.3.0
      rollup: ^3.29.4
      topojson-client: ^3.1.0
      vitepress: ^1.4.0
    }
    scripts:
    {
      prepublishOnly: rm -rf dist && rollup -c
      postpublish: git push && git push --tags
      docs/dev: node --experimental-network-imports node_modules/vitepress/dist/node/cli.js dev docs
      docs/build: ./prebuild.sh && node --experimental-network-imports node_modules/vitepress/dist/node/cli.js build docs
      docs/preview: vitepress preview docs
    }
    engines:
    {
      node: >=12
    }
  }`,modifyingconfigjson:JSON.stringify({name:"vega-lite",author:"Dominik Moritz, Kanit Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer",version:"5.23.0",collaborators:["Kanit Wongsuphasawat","Dominik Moritz","Arvind Satyanarayan","Jeffrey Heer"],homepage:"ega.github.io/vega-lite/",description:"Vega-Lite is a concise high-level language for interactive visualization.",keywords:["vega","chart","visualization"],main:"build/vega-lite.js",unpkg:"build/vega-lite.min.js",jsdelivr:"build/vega-lite.min.js",module:"build/src/index",types:"build/src/index.d.ts",bin:{vl2pdf:"./bin/vl2pdf",vl2png:"./bin/vl2png",vl2svg:"./bin/vl2svg",vl2vg:"./bin/vl2vg"},files:["bin","build","src","vega-lite*","tsconfig.json"],scripts:{changelog:"conventional-changelog -p angular -r",prebuild:"yarn clean:build",build:"yarn build:only",data:"rsync -r node_modules/vega-datasets/data/* site/data","build-editor-preview":"scripts/build-editor-preview.sh",schema:"mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/",renameschema:"scripts/rename-schema.sh",presite:"yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh",site:"yarn site:only",format:"eslint . --fix && yarn prettierbase --write",lint:"eslint . && yarn prettierbase --check",test:"yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn",release:"release-it"},repository:{type:"git",url:"github.com/vega/vega-lite.git"},license:"BSD-3-Clause",bugs:{url:"github.com/vega/vega-lite/issues"},devDependencies:{ajv:"^8.17.1","ajv-formats":"^3.0.1",cheerio:"^1.0.0","conventional-changelog-cli":"^5.0.0",d3:"^7.9.0","del-cli":"^6.0.0",eslint:"^8.57.0","eslint-config-prettier":"^9.1.0","eslint-plugin-jest":"^28.11.0","eslint-plugin-prettier":"^5.2.1","fast-json-stable-stringify":"~2.1.0","highlight.js":"^11.11.1",jest:"^29.7.0","jest-dev-server":"^11.0.0",mkdirp:"^3.0.1",pako:"^2.1.0",prettier:"^3.4.2",puppeteer:"^15.0.0","release-it":"18.1.2",rollup:"^4.32.1","rollup-plugin-bundle-size":"^1.0.3",serve:"^14.2.4",terser:"^5.37.0","ts-jest":"^29.2.5","ts-json-schema-generator":"^2.3.0",typescript:"~5.7.3","vega-cli":"^5.31.0","vega-datasets":"^2.11.0","vega-embed":"^6.29.0","vega-tooltip":"^0.35.2","yaml-front-matter":"^4.1.1"},dependencies:{"json-stringify-pretty-compact":"~4.0.0",tslib:"~2.8.1","vega-event-selector":"~3.0.1","vega-expression":"~5.1.2","vega-util":"~1.17.3",yargs:"~17.7.2"},peerDependencies:{vega:"^5.31.0"},engines:{node:">=18"},packageManager:"yarn@1.22.22"},null,2),modifyingconfigjsonc:JSON.stringify({name:"vega-lite",author:"Dominik Moritz, Kanit Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer",version:"5.23.0",collaborators:["Kanit Wongsuphasawat","Dominik Moritz","Arvind Satyanarayan","Jeffrey Heer"],homepage:"vega.github.io/vega-lite/",description:"Vega-Lite is a concise high-level language for interactive visualization.",keywords:["vega","chart","visualization"],main:"build/vega-lite.js",unpkg:"build/vega-lite.min.js",jsdelivr:"build/vega-lite.min.js",module:"build/src/index",types:"build/src/index.d.ts",bin:{vl2pdf:"./bin/vl2pdf",vl2png:"./bin/vl2png",vl2svg:"./bin/vl2svg",vl2vg:"./bin/vl2vg"},files:["bin","build","src","vega-lite*","tsconfig.json"],scripts:{changelog:"conventional-changelog -p angular -r",prebuild:"yarn clean:build",build:"yarn build:only",data:"rsync -r node_modules/vega-datasets/data/* site/data","build-editor-preview":"scripts/build-editor-preview.sh",schema:"mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/",renameschema:"scripts/rename-schema.sh",presite:"yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh",site:"yarn site:only",format:"eslint . --fix && yarn prettierbase --write",lint:"eslint . && yarn prettierbase --check",test:"yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn",release:"release-it"},repository:{type:"git",url:"github.com/vega/vega-lite.git"},license:"BSD-3-Clause",bugs:{url:"github.com/vega/vega-lite/issues"},devDependencies:{ajv:"^8.17.1","ajv-formats":"^3.0.1",cheerio:"^1.0.0","conventional-changelog-cli":"^5.0.0",d3:"^7.9.0","del-cli":"^6.0.0",eslint:"^8.57.0","eslint-config-prettier":"^9.1.0","eslint-plugin-jest":"^28.11.0","eslint-plugin-prettier":"^5.2.1","fast-json-stable-stringify":"~2.1.0","highlight.js":"^11.11.1",jest:"^29.7.0","jest-dev-server":"^11.0.0",mkdirp:"^3.0.1",pako:"^2.1.0",prettier:"^3.4.2",puppeteer:"^15.0.0","release-it":"18.1.2",rollup:"^4.32.1","rollup-plugin-bundle-size":"^1.0.3",serve:"^14.2.4",terser:"^5.37.0","ts-jest":"^29.2.5","ts-json-schema-generator":"^2.3.0",typescript:"~5.7.3","vega-cli":"^5.31.0","vega-datasets":"^2.11.0","vega-embed":"^6.29.0","vega-tooltip":"^0.35.2","yaml-front-matter":"^4.1.1"},dependencies:{"json-stringify-pretty-compact":"~4.0.0",tslib:"~2.8.1","vega-event-selector":"~3.0.1","vega-expression":"~5.1.2","vega-util":"~1.17.3",yargs:"~17.7.2"},peerDependencies:{vega:"^5.31.0"},engines:{node:">=18"},packageManager:"yarn@1.22.22"},null,2),modifyingconfigxml:`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<root>
  <name>vega-lite</name>
  <author>Dominik Moritz, Kanit Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer</author>
  <version>5.23.0</version>   <!--make sure that the vega version specified in peerDependencies matches this value. -->
  <collaborators>Kanit Wongsuphasawat</collaborators>
  <collaborators>Dominik Moritz</collaborators>
  <collaborators>Arvind Satyanarayan</collaborators>
  <collaborators>Jeffrey Heer</collaborators>
  <homepage>vega.github.io/vega-lite/</homepage>
  <description>Vega-Lite is a concise high-level language for interactive visualization.</description>
  <keywords>vega</keywords>
  <keywords>chart</keywords>
  <keywords>visualization</keywords>
  <main>build/vega-lite.js</main>
  <unpkg>build/vega-lite.min.js</unpkg>
  <jsdelivr>build/vega-lite.min.js</jsdelivr>
  <module>build/src/index</module>
  <types>build/src/index.d.ts</types>
  <bin>
    <vl2pdf>./bin/vl2pdf</vl2pdf>
    <vl2png>./bin/vl2png</vl2png>
    <vl2svg>./bin/vl2svg</vl2svg>
    <vl2vg>./bin/vl2vg</vl2vg>
  </bin>
  <files>bin</files>
  <files>build</files>
  <files>src</files>
  <files>vega-lite*</files>
  <files>tsconfig.json</files>
  <scripts>
    <changelog>conventional-changelog -p angular -r</changelog>
    <prebuild>yarn clean:build</prebuild>
    <build>yarn build:only</build>
    <data>rsync -r node_modules/vega-datasets/data/* site/data</data>
    <build-editor-preview>scripts/build-editor-preview.sh</build-editor-preview>
    <schema>mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode >; build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/</schema>
    <renameschema>scripts/rename-schema.sh</renameschema>
    <presite>yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh</presite>
    <site>yarn site:only</site>
    <format>eslint . --fix && yarn prettierbase --write</format>
    <lint>eslint . && yarn prettierbase --check</lint>
    <test>yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn</test>
    <release>release-it</release>
  <\/scripts>
  <repository>
    <type>git</type>
    <url>github.com/vega/vega-lite.git</url>
  </repository>
  <license>BSD-3-Clause</license>
  <bugs>
    <url>github.com/vega/vega-lite/issues</url>
  </bugs>
  <devDependencies>
    <ajv>^8.17.1</ajv>
    <ajv-formats>^3.0.1</ajv-formats>
    <cheerio>^1.0.0</cheerio>
    <conventional-changelog-cli>^5.0.0</conventional-changelog-cli>
    <d3>^7.9.0</d3>
    <del-cli>^6.0.0</del-cli>
    <eslint>^8.57.0</eslint>
    <eslint-config-prettier>^9.1.0</eslint-config-prettier>
    <eslint-plugin-jest>^28.11.0</eslint-plugin-jest>
    <eslint-plugin-prettier>^5.2.1</eslint-plugin-prettier>
    <fast-json-stable-stringify>~2.1.0</fast-json-stable-stringify>
    <highlight.js>^11.11.1</highlight.js>
    <jest>^29.7.0</jest>
    <jest-dev-server>^11.0.0</jest-dev-server>
    <mkdirp>^3.0.1</mkdirp>
    <pako>^2.1.0</pako>
    <prettier>^3.4.2</prettier>
    <puppeteer>^15.0.0</puppeteer>
    <release-it>18.1.2</release-it>
    <rollup>^4.32.1</rollup>
    <rollup-plugin-bundle-size>^1.0.3</rollup-plugin-bundle-size>
    <serve>^14.2.4</serve>
    <terser>^5.37.0</terser>
    <ts-jest>^29.2.5</ts-jest>
    <ts-json-schema-generator>^2.3.0</ts-json-schema-generator>
    <typescript>~5.7.3</typescript>
    <vega-cli>^5.31.0</vega-cli>
    <vega-datasets>^2.11.0</vega-datasets>
    <vega-embed>^6.29.0</vega-embed>
    <vega-tooltip>^0.35.2</vega-tooltip>
    <yaml-front-matter>^4.1.1</yaml-front-matter>
  </devDependencies>
  <dependencies>
    <json-stringify-pretty-compact>~4.0.0</json-stringify-pretty-compact>
    <tslib>~2.8.1</tslib>
    <vega-event-selector>~3.0.1</vega-event-selector>
    <vega-expression>~5.1.2</vega-expression>
    <vega-util>~1.17.3</vega-util>
    <yargs>~17.7.2</yargs>
  </dependencies>
  <peerDependencies>
    <vega>^5.31.0</vega>  <!--make sure this value matches the value of the version at the beginning. -->
  </peerDependencies>
  <engines>
    <node>>=18</node>
  </engines>
  <packageManager>yarn@1.22.22</packageManager>
</root>`,modifyingconfigtoml:`name = "vega-lite"
author = "Dominik Moritz, Kanit Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer"
version = "5.23.0"   # make sure that the vega version specified in peerDependencies matches this value.
collaborators = ["Kanit Wongsuphasawat", "Dominik Moritz", "Arvind Satyanarayan", "Jeffrey Heer"]
homepage = "vega.github.io/vega-lite/"
description = "Vega-Lite is a concise high-level language for interactive visualization."
keywords = ["vega", "chart", "visualization"]
main = "build/vega-lite.js"
unpkg = "build/vega-lite.min.js"
jsdelivr = "build/vega-lite.min.js"
module = "build/src/index"
types = "build/src/index.d.ts"
files = ["bin", "build", "src", "vega-lite*", "tsconfig.json"]
license = "BSD-3-Clause"
packageManager = "yarn@1.22.22"

[bin]
vl2pdf = "./bin/vl2pdf"
vl2png = "./bin/vl2png"
vl2svg = "./bin/vl2svg"
vl2vg = "./bin/vl2vg"

[scripts]
changelog = "conventional-changelog -p angular -r"
prebuild = "yarn clean:build"
build = "yarn build:only"
data = "rsync -r node_modules/vega-datasets/data/* site/data"
build-editor-preview = "scripts/build-editor-preview.sh"
schema = "mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/"
renameschema = "scripts/rename-schema.sh"
presite = "yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh"
site = "yarn site:only"
format = "eslint . --fix && yarn prettierbase --write"
lint = "eslint . && yarn prettierbase --check"
test = "yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn"
release = "release-it"

[repository]
type = "git"
url = "github.com/vega/vega-lite.git"

[bugs]
url = "github.com/vega/vega-lite/issues"

[devDependencies]
ajv = "^8.17.1"
ajv-formats = "^3.0.1"
cheerio = "^1.0.0"
conventional-changelog-cli = "^5.0.0"
d3 = "^7.9.0"
del-cli = "^6.0.0"
eslint = "^8.57.0"
eslint-config-prettier = "^9.1.0"
eslint-plugin-jest = "^28.11.0"
eslint-plugin-prettier = "^5.2.1"
fast-json-stable-stringify = "~2.1.0"
"highlight.js" = "^11.11.1"
jest = "^29.7.0"
jest-dev-server = "^11.0.0"
mkdirp = "^3.0.1"
pako = "^2.1.0"
prettier = "^3.4.2"
puppeteer = "^15.0.0"
release-it = "18.1.2"
rollup = "^4.32.1"
rollup-plugin-bundle-size = "^1.0.3"
serve = "^14.2.4"
terser = "^5.37.0"
ts-jest = "^29.2.5"
ts-json-schema-generator = "^2.3.0"
typescript = "~5.7.3"
vega-cli = "^5.31.0"
vega-datasets = "^2.11.0"
vega-embed = "^6.29.0"
vega-tooltip = "^0.35.2"
yaml-front-matter = "^4.1.1"

[dependencies]
json-stringify-pretty-compact = "~4.0.0"
tslib = "~2.8.1"
vega-event-selector = "~3.0.1"
vega-expression = "~5.1.2"
vega-util = "~1.17.3"
yargs = "~17.7.2"

[peerDependencies]
vega = "^5.31.0"   # make sure this value matches the value of the version at the beginning.

[engines]
node = ">=18"`,modifyingconfigyaml:`name: vega-lite
author: Dominik Moritz, Kanit Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer
version: 5.23.0  # make sure that the vega version specified in peerDependencies matches this value.
collaborators:
  - Kanit Wongsuphasawat
  - Dominik Moritz
  - Arvind Satyanarayan
  - Jeffrey Heer
homepage: vega.github.io/vega-lite/
description: Vega-Lite is a concise high-level language for interactive visualization.
keywords:
  - vega
  - chart
  - visualization
main: build/vega-lite.js
unpkg: build/vega-lite.min.js
jsdelivr: build/vega-lite.min.js
module: build/src/index
types: build/src/index.d.ts
bin:
  vl2pdf: ./bin/vl2pdf
  vl2png: ./bin/vl2png
  vl2svg: ./bin/vl2svg
  vl2vg: ./bin/vl2vg
files:
  - bin
  - build
  - src
  - vega-lite*
  - tsconfig.json
scripts:
  changelog: conventional-changelog -p angular -r
  prebuild: yarn clean:build
  build: yarn build:only
  data: rsync -r node_modules/vega-datasets/data/* site/data
  build-editor-preview: scripts/build-editor-preview.sh
  schema: mkdir -p build && ts-json-schema-generator -f tsconfig.json -p
    src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode >
    build/vega-lite-schema.json && yarn renameschema && cp
    build/vega-lite-schema.json site/_data/
  renameschema: scripts/rename-schema.sh
  presite: yarn data && yarn schema && yarn build:site && yarn build:versions &&
    scripts/create-example-pages.sh
  site: yarn site:only
  format: eslint . --fix && yarn prettierbase --write
  lint: eslint . && yarn prettierbase --check
  test: yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn
  release: release-it
repository:
  type: git
  url: github.com/vega/vega-lite.git
license: BSD-3-Clause
bugs:
  url: github.com/vega/vega-lite/issues
devDependencies:
  ajv: ^8.17.1
  ajv-formats: ^3.0.1
  cheerio: ^1.0.0
  conventional-changelog-cli: ^5.0.0
  d3: ^7.9.0
  del-cli: ^6.0.0
  eslint: ^8.57.0
  eslint-config-prettier: ^9.1.0
  eslint-plugin-jest: ^28.11.0
  eslint-plugin-prettier: ^5.2.1
  fast-json-stable-stringify: ~2.1.0
  highlight.js: ^11.11.1
  jest: ^29.7.0
  jest-dev-server: ^11.0.0
  mkdirp: ^3.0.1
  pako: ^2.1.0
  prettier: ^3.4.2
  puppeteer: ^15.0.0
  release-it: 18.1.2
  rollup: ^4.32.1
  rollup-plugin-bundle-size: ^1.0.3
  serve: ^14.2.4
  terser: ^5.37.0
  ts-jest: ^29.2.5
  ts-json-schema-generator: ^2.3.0
  typescript: ~5.7.3
  vega-cli: ^5.31.0
  vega-datasets: ^2.11.0
  vega-embed: ^6.29.0
  vega-tooltip: ^0.35.2
  yaml-front-matter: ^4.1.1
dependencies:
  json-stringify-pretty-compact: ~4.0.0
  tslib: ~2.8.1
  vega-event-selector: ~3.0.1
  vega-expression: ~5.1.2
  vega-util: ~1.17.3
  yargs: ~17.7.2
peerDependencies:
  vega: ^5.31.0  # make sure this value matches the value of the version at the beginning.
engines:
  node: ">=18"
packageManager: yarn@1.22.22`,modifyingconfigjson5:`{
    name: 'vega-lite',
    author: 'Dominik Moritz, Kanit Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer',
    version: '5.23.0',  // make sure that the vega version specified in peerDependencies matches this value.
    collaborators: [
        'Kanit Wongsuphasawat',
        'Dominik Moritz',
        'Arvind Satyanarayan',
        'Jeffrey Heer'
    ],
    homepage: 'vega.github.io/vega-lite/',
    description: 'Vega-Lite is a concise high-level language for interactive visualization.',
    keywords: [
        'vega',
        'chart',
        'visualization'
    ],
    main: 'build/vega-lite.js',
    unpkg: 'build/vega-lite.min.js',
    jsdelivr: 'build/vega-lite.min.js',
    module: 'build/src/index',
    types: 'build/src/index.d.ts',
    bin: {
        vl2pdf: './bin/vl2pdf',
        vl2png: './bin/vl2png',
        vl2svg: './bin/vl2svg',
        vl2vg: './bin/vl2vg'
    },
    files: [
        'bin',
        'build',
        'src',
        'vega-lite*',
        'tsconfig.json'
    ],
    scripts: {
        changelog: 'conventional-changelog -p angular -r',
        prebuild: 'yarn clean:build',
        build: 'yarn build:only',
        data: 'rsync -r node_modules/vega-datasets/data/* site/data',
        'build-editor-preview': 'scripts/build-editor-preview.sh',
        schema: 'mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/',
        renameschema: 'scripts/rename-schema.sh',
        presite: 'yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh',
        site: 'yarn site:only',
        format: 'eslint . --fix && yarn prettierbase --write',
        lint: 'eslint . && yarn prettierbase --check',
        test: 'yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn',
        release: 'release-it'
    },
    repository: {
        type: 'git',
        url: 'github.com/vega/vega-lite.git'
    },
    license: 'BSD-3-Clause',
    bugs: {
        url: 'github.com/vega/vega-lite/issues'
    },
    devDependencies: {
        ajv: '^8.17.1',
        'ajv-formats': '^3.0.1',
        cheerio: '^1.0.0',
        'conventional-changelog-cli': '^5.0.0',
        d3: '^7.9.0',
        'del-cli': '^6.0.0',
        eslint: '^8.57.0',
        'eslint-config-prettier': '^9.1.0',
        'eslint-plugin-jest': '^28.11.0',
        'eslint-plugin-prettier': '^5.2.1',
        'fast-json-stable-stringify': '~2.1.0',
        'highlight.js': '^11.11.1',
        jest: '^29.7.0',
        'jest-dev-server': '^11.0.0',
        mkdirp: '^3.0.1',
        pako: '^2.1.0',
        prettier: '^3.4.2',
        puppeteer: '^15.0.0',
        'release-it': '18.1.2',
        rollup: '^4.32.1',
        'rollup-plugin-bundle-size': '^1.0.3',
        serve: '^14.2.4',
        terser: '^5.37.0',
        'ts-jest': '^29.2.5',
        'ts-json-schema-generator': '^2.3.0',
        typescript: '~5.7.3',
        'vega-cli': '^5.31.0',
        'vega-datasets': '^2.11.0',
        'vega-embed': '^6.29.0',
        'vega-tooltip': '^0.35.2',
        'yaml-front-matter': '^4.1.1'
    },
    dependencies: {
        'json-stringify-pretty-compact': '~4.0.0',
        tslib: '~2.8.1',
        'vega-event-selector': '~3.0.1',
        'vega-expression': '~5.1.2',
        'vega-util': '~1.17.3',
        yargs: '~17.7.2'
    },
    peerDependencies: {
        vega: '^5.31.0' //make sure this value matches the value of the version at the beginning.
    },
    engines: {
        node: '>=18'
    },
    packageManager: 'yarn@1.22.22'
}`,modifyingconfighjson:`
  name: vega-lite
  author: Dominik Moritz, Kanit Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer
  version: 5.23.0   // make sure that the vega version specified in peerDependencies matches this value.
  collaborators:
  [
    Kanit Wongsuphasawat
    Dominik Moritz
    Arvind Satyanarayan
    Jeffrey Heer
  ]
  homepage: vega.github.io/vega-lite/
  description: Vega-Lite is a concise high-level language for interactive visualization.
  keywords:
  [
    vega
    chart
    visualization
  ]
  main: build/vega-lite.js
  unpkg: build/vega-lite.min.js
  jsdelivr: build/vega-lite.min.js
  module: build/src/index
  types: build/src/index.d.ts
  bin:
  {
    vl2pdf: ./bin/vl2pdf
    vl2png: ./bin/vl2png
    vl2svg: ./bin/vl2svg
    vl2vg: ./bin/vl2vg
  }
  files:
  [
    bin
    build
    src
    vega-lite*
    tsconfig.json
  ]
  scripts:
  {
    changelog: conventional-changelog -p angular -r
    prebuild: yarn clean:build
    build: yarn build:only
    data: rsync -r node_modules/vega-datasets/data/* site/data
    build-editor-preview: scripts/build-editor-preview.sh
    schema: mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/
    renameschema: scripts/rename-schema.sh
    presite: yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh
    site: yarn site:only
    format: eslint . --fix && yarn prettierbase --write
    lint: eslint . && yarn prettierbase --check
    test: yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn
    release: release-it
  }
  repository:
  {
    type: git
    url: github.com/vega/vega-lite.git
  }
  license: BSD-3-Clause
  bugs:
  {
    url: github.com/vega/vega-lite/issues
  }
  devDependencies:
  {
    ajv: ^8.17.1
    ajv-formats: ^3.0.1
    cheerio: ^1.0.0
    conventional-changelog-cli: ^5.0.0
    d3: ^7.9.0
    del-cli: ^6.0.0
    eslint: ^8.57.0
    eslint-config-prettier: ^9.1.0
    eslint-plugin-jest: ^28.11.0
    eslint-plugin-prettier: ^5.2.1
    fast-json-stable-stringify: ~2.1.0
    highlight.js: ^11.11.1
    jest: ^29.7.0
    jest-dev-server: ^11.0.0
    mkdirp: ^3.0.1
    pako: ^2.1.0
    prettier: ^3.4.2
    puppeteer: ^15.0.0
    release-it: 18.1.2
    rollup: ^4.32.1
    rollup-plugin-bundle-size: ^1.0.3
    serve: ^14.2.4
    terser: ^5.37.0
    ts-jest: ^29.2.5
    ts-json-schema-generator: ^2.3.0
    typescript: ~5.7.3
    vega-cli: ^5.31.0
    vega-datasets: ^2.11.0
    vega-embed: ^6.29.0
    vega-tooltip: ^0.35.2
    yaml-front-matter: ^4.1.1
  }
  dependencies:
  {
    json-stringify-pretty-compact: ~4.0.0
    tslib: ~2.8.1
    vega-event-selector: ~3.0.1
    vega-expression: ~5.1.2
    vega-util: ~1.17.3
    yargs: ~17.7.2
  }
  peerDependencies:
  {
    vega: ^5.31.0  //make sure this value matches the value of the version at the beginning.
  }
  engines:
  {
    node: >=18
  }
  packageManager: yarn@1.22.22`,modifyingtabularjson:JSON.stringify({movies:{movie:[{title:"After Dark in Central Park",year:1900,cast:[],genres:["Silent","Short"],href:null,country:"United States",runtime:3,language:"Silent",release_date:"1900-03-15",production_company:"Edison Manufacturing Company",director:"James H. White",writer:"Unknown",cinematography:"Unknown",budget:500,box_office:null,awards:[]},{title:"Boarding School Girls' Pajama Parade",year:1900,cast:[],genres:["Silent","Short"],href:null,country:"United States",runtime:2,language:"Silent",release_date:"1900-05-10",production_company:"Edison Manufacturing Company",director:"James H. White",writer:"Unknown",cinematography:"Unknown",budget:450,box_office:null,awards:[]},{title:"Buffalo Bill's Wild West Parade",year:1900,cast:["Buffalo Bill (William F. Cody)"],genres:["Documentary"],href:null,country:"United States",runtime:5,language:"Silent",release_date:"1900-07-04",production_company:"Edison Manufacturing Company",director:"Unknown",writer:"Unknown",cinematography:"Unknown",budget:600,box_office:null,awards:[]},{title:"Caught",year:1900,cast:[],genres:["Drama"],href:null,country:"United States",runtime:2,language:"Silent",release_date:"1900-02-20",production_company:"Biograph Company",director:"William Heise",writer:"Unknown",cinematography:"Unknown",budget:400,box_office:null,awards:[]},{title:"Clowns Spinning Hats",year:1900,cast:["Unknown Clowns"],genres:["Silent","Comedy"],href:"Clowns_Spinning_Hats",extract:"Clowns Spinning Hats is a black-and-white silent film featuring clowns throwing hats back and forth to each other. It was written and produced by Lubin Films and released April 7, 1900.",country:"United States",runtime:3,language:"Silent",release_date:"1900-04-07",production_company:"Lubin Films",director:"Unknown",writer:"Unknown",cinematography:"Unknown",budget:500,box_office:null,awards:[]},{title:"The Enchanted Drawing",year:1900,cast:["J. Stuart Blackton"],genres:["Silent","Animation"],href:"The_Enchanted_Drawing",extract:"The Enchanted Drawing is a 1900 silent film directed by J. Stuart Blackton. It is best known for containing the first animated sequences recorded on standard picture film, which has led Blackton to be considered the father of American animation.",thumbnail_width:320,thumbnail_height:240,country:"United States",runtime:2,language:"Silent",release_date:"1900-11-16",production_company:"Vitagraph Studios",director:"J. Stuart Blackton",writer:"J. Stuart Blackton",cinematography:"Unknown",budget:700,box_office:null,awards:[]},{title:"Feeding Sea Lions",year:1900,cast:["Paul Boyton"],genres:["Short","Silent"],href:"Feeding_Sea_Lions",extract:"Feeding Sea Lions is a short silent film featuring Paul Boyton feeding sea lions at his Sea Lion Park at Coney Island. Boyton is shown feeding the trained sea lions, twelve in number. The sea lions follow Boyton up the steps of the pool and then follow him back into the water. One of them steals food out of the basket. The film was made by Lubin Studios on March 10, 1900.",country:"United States",runtime:3,language:"Silent",release_date:"1900-03-10",production_company:"Lubin Studios",director:"Unknown",writer:"Unknown",cinematography:"Unknown",budget:450,box_office:null,awards:[]},{title:"A Trip to the Moon",year:1902,cast:["Georges Mlis"],genres:["Sci-Fi","Adventure"],href:"A_Trip_to_the_Moon",extract:"A Trip to the Moon (French: Le Voyage dans la Lune) is a 1902 French silent film directed by Georges Mlis. It is widely regarded as the first science fiction film ever made.",thumbnail_width:320,thumbnail_height:240,country:"France",runtime:14,language:"Silent",release_date:"1902-09-01",production_company:"Star Film Company",director:"Georges Mlis",writer:"Georges Mlis",cinematography:"Georges Mlis",budget:1e4,box_office:2e4,awards:["Considered a milestone in cinema history"]},{title:"The Great Train Robbery",year:1903,cast:["Gilbert M. Anderson","A. C. Abadie"],genres:["Western","Action"],href:"The_Great_Train_Robbery",extract:"The Great Train Robbery is a 1903 American silent short film directed by Edwin S. Porter. It is considered one of the earliest narrative films.",thumbnail_width:320,thumbnail_height:240,country:"United States",runtime:12,language:"Silent",release_date:"1903-12-01",production_company:"Edison Manufacturing Company",director:"Edwin S. Porter",writer:"Scott Marble",cinematography:"Edwin S. Porter",budget:150,box_office:5e3,awards:["One of the earliest crime films"]}]}},null,2),modifyingtabularjsonc:JSON.stringify({movies:{movie:[{title:"After Dark in Central Park",year:1900,cast:[],genres:["Silent","Short"],href:null,country:"United States",runtime:3,language:"Silent",release_date:"1900-03-15",production_company:"Edison Manufacturing Company",director:"James H. White",writer:"Unknown",cinematography:"Unknown",budget:500,box_office:null,awards:[]},{title:"Boarding School Girls' Pajama Parade",year:1900,cast:[],genres:["Silent","Short"],href:null,country:"United States",runtime:2,language:"Silent",release_date:"1900-05-10",production_company:"Edison Manufacturing Company",director:"James H. White",writer:"Unknown",cinematography:"Unknown",budget:450,box_office:null,awards:[]},{title:"Buffalo Bill's Wild West Parade",year:1900,cast:["Buffalo Bill (William F. Cody)"],genres:["Documentary"],href:null,country:"United States",runtime:5,language:"Silent",release_date:"1900-07-04",production_company:"Edison Manufacturing Company",director:"Unknown",writer:"Unknown",cinematography:"Unknown",budget:600,box_office:null,awards:[]},{title:"Caught",year:1900,cast:[],genres:["Drama"],href:null,country:"United States",runtime:2,language:"Silent",release_date:"1900-02-20",production_company:"Biograph Company",director:"William Heise",writer:"Unknown",cinematography:"Unknown",budget:400,box_office:null,awards:[]},{title:"Clowns Spinning Hats",year:1900,cast:["Unknown Clowns"],genres:["Silent","Comedy"],href:"Clowns_Spinning_Hats",extract:"Clowns Spinning Hats is a black-and-white silent film featuring clowns throwing hats back and forth to each other. It was written and produced by Lubin Films and released April 7, 1900.",country:"United States",runtime:3,language:"Silent",release_date:"1900-04-07",production_company:"Lubin Films",director:"Unknown",writer:"Unknown",cinematography:"Unknown",budget:500,box_office:null,awards:[]},{title:"The Enchanted Drawing",year:1900,cast:["J. Stuart Blackton"],genres:["Silent","Animation"],href:"The_Enchanted_Drawing",extract:"The Enchanted Drawing is a 1900 silent film directed by J. Stuart Blackton. It is best known for containing the first animated sequences recorded on standard picture film, which has led Blackton to be considered the father of American animation.",thumbnail_width:320,thumbnail_height:240,country:"United States",runtime:2,language:"Silent",release_date:"1900-11-16",production_company:"Vitagraph Studios",director:"J. Stuart Blackton",writer:"J. Stuart Blackton",cinematography:"Unknown",budget:700,box_office:null,awards:[]},{title:"Feeding Sea Lions",year:1900,cast:["Paul Boyton"],genres:["Short","Silent"],href:"Feeding_Sea_Lions",extract:"Feeding Sea Lions is a short silent film featuring Paul Boyton feeding sea lions at his Sea Lion Park at Coney Island. Boyton is shown feeding the trained sea lions, twelve in number. The sea lions follow Boyton up the steps of the pool and then follow him back into the water. One of them steals food out of the basket. The film was made by Lubin Studios on March 10, 1900.",country:"United States",runtime:3,language:"Silent",release_date:"1900-03-10",production_company:"Lubin Studios",director:"Unknown",writer:"Unknown",cinematography:"Unknown",budget:450,box_office:null,awards:[]},{title:"A Trip to the Moon",year:1902,cast:["Georges Mlis"],genres:["Sci-Fi","Adventure"],href:"A_Trip_to_the_Moon",extract:"A Trip to the Moon (French: Le Voyage dans la Lune) is a 1902 French silent film directed by Georges Mlis. It is widely regarded as the first science fiction film ever made.",thumbnail_width:320,thumbnail_height:240,country:"France",runtime:14,language:"Silent",release_date:"1902-09-01",production_company:"Star Film Company",director:"Georges Mlis",writer:"Georges Mlis",cinematography:"Georges Mlis",budget:1e4,box_office:2e4,awards:["Considered a milestone in cinema history"]},{title:"The Great Train Robbery",year:1903,cast:["Gilbert M. Anderson","A. C. Abadie"],genres:["Western","Action"],href:"The_Great_Train_Robbery",extract:"The Great Train Robbery is a 1903 American silent short film directed by Edwin S. Porter. It is considered one of the earliest narrative films.",thumbnail_width:320,thumbnail_height:240,country:"United States",runtime:12,language:"Silent",release_date:"1903-12-01",production_company:"Edison Manufacturing Company",director:"Edwin S. Porter",writer:"Scott Marble",cinematography:"Edwin S. Porter",budget:150,box_office:5e3,awards:["One of the earliest crime films"]}]}},null,2),modifyingtabularxml:`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<movies>
  <movie>
    <title>After Dark in Central Park</title>
    <year>1900</year>
    <cast/>
    <genres>Silent</genres>
    <genres>Short</genres>
    <href/>
    <country>United States</country>
    <runtime>3</runtime>
    <language>Silent</language>
    <release_date>1900-03-15</release_date>
    <production_company>Edison Manufacturing Company</production_company>
    <director>James H. White</director>
    <writer>Unknown</writer>
    <cinematography>Unknown</cinematography>
    <budget>500</budget>
    <box_office/>
    <awards/>
  </movie>
  <movie>
    <title>Boarding School Girls' Pajama Parade</title>
    <year>1900</year>
    <cast/>
    <genres>Silent</genres>
    <genres>Short</genres>
    <href/>
    <country>United States</country>
    <runtime>2</runtime>
    <language>Silent</language>
    <release_date>1900-05-10</release_date>
    <production_company>Edison Manufacturing Company</production_company>
    <director>James H. White</director>
    <writer>Unknown</writer>
    <cinematography>Unknown</cinematography>
    <budget>450</budget>
    <box_office/>
    <awards/>
  </movie>
  <movie>
    <title>Buffalo Bill's Wild West Parade</title>
    <year>1900</year>
    <cast>Buffalo Bill (William F. Cody)</cast>
    <genres>Documentary</genres>
    <href/>
    <country>United States</country>
    <runtime>5</runtime>
    <language>Silent</language>
    <release_date>1900-07-04</release_date>
    <production_company>Edison Manufacturing Company</production_company>
    <director>Unknown</director>
    <writer>Unknown</writer>
    <cinematography>Unknown</cinematography>
    <budget>600</budget>
    <box_office/>
    <awards/>
  </movie>
  <movie>
    <title>Caught</title>
    <year>1900</year>
    <cast/>
    <genres>Drama</genres>
    <href/>
    <country>United States</country>
    <runtime>2</runtime>
    <language>Silent</language>
    <release_date>1900-02-20</release_date>
    <production_company>Biograph Company</production_company>
    <director>William Heise</director>
    <writer>Unknown</writer>
    <cinematography>Unknown</cinematography>
    <budget>400</budget>
    <box_office/>
    <awards/>
  </movie>
  <movie>
    <title>Clowns Spinning Hats</title>
    <year>1900</year>
    <cast>Unknown Clowns</cast>
    <genres>Silent</genres>
    <genres>Comedy</genres>
    <href>Clowns_Spinning_Hats</href>
    <extract>Clowns Spinning Hats is a black-and-white silent film featuring clowns throwing hats back and forth to each other. It was written and produced by Lubin Films and released April 7, 1900.</extract>
    <country>United States</country>
    <runtime>3</runtime>
    <language>Silent</language>
    <release_date>1900-04-07</release_date>
    <production_company>Lubin Films</production_company>
    <director>Unknown</director>
    <writer>Unknown</writer>
    <cinematography>Unknown</cinematography>
    <budget>500</budget>
    <box_office/>
    <awards/>
  </movie>
  <movie>
    <title>The Enchanted Drawing</title>
    <year>1900</year>
    <cast>J. Stuart Blackton</cast>
    <genres>Silent</genres>
    <genres>Animation</genres>
    <href>The_Enchanted_Drawing</href>
    <extract>The Enchanted Drawing is a 1900 silent film directed by J. Stuart Blackton. It is best known for containing the first animated sequences recorded on standard picture film, which has led Blackton to be considered the father of American animation.</extract>
    <thumbnail_width>320</thumbnail_width>
    <thumbnail_height>240</thumbnail_height>
    <country>United States</country>
    <runtime>2</runtime>
    <language>Silent</language>
    <release_date>1900-11-16</release_date>
    <production_company>Vitagraph Studios</production_company>
    <director>J. Stuart Blackton</director>
    <writer>J. Stuart Blackton</writer>
    <cinematography>Unknown</cinematography>
    <budget>700</budget>
    <box_office/>
    <awards/>
  </movie>
  <movie>
    <title>Feeding Sea Lions</title>
    <year>1900</year>
    <cast>Paul Boyton</cast>
    <genres>Short</genres>
    <genres>Silent</genres>
    <href>Feeding_Sea_Lions</href>
    <extract>Feeding Sea Lions is a short silent film featuring Paul Boyton feeding sea lions at his Sea Lion Park at Coney Island. Boyton is shown feeding the trained sea lions, twelve in number. The sea lions follow Boyton up the steps of the pool and then follow him back into the water. One of them steals food out of the basket. The film was made by Lubin Studios on March 10, 1900.</extract>
    <country>United States</country>
    <runtime>3</runtime>
    <language>Silent</language>
    <release_date>1900-03-10</release_date>
    <production_company>Lubin Studios</production_company>
    <director>Unknown</director>
    <writer>Unknown</writer>
    <cinematography>Unknown</cinematography>
    <budget>450</budget>
    <box_office/>
    <awards/>
  </movie>
  <movie>
    <title>A Trip to the Moon</title>
    <year>1902</year>   <!-- This movie was released after 1900. -->
    <cast>Georges Mlis</cast>
    <genres>Sci-Fi</genres>
    <genres>Adventure</genres>
    <href>A_Trip_to_the_Moon</href>
    <extract>A Trip to the Moon (French: Le Voyage dans la Lune) is a 1902 French silent film directed by Georges Mlis. It is widely regarded as the first science fiction film ever made.</extract>
    <thumbnail_width>320</thumbnail_width>
    <thumbnail_height>240</thumbnail_height>
    <country>France</country>
    <runtime>14</runtime>
    <language>Silent</language>
    <release_date>1902-09-01</release_date>
    <production_company>Star Film Company</production_company>
    <director>Georges Mlis</director>
    <writer>Georges Mlis</writer>
    <cinematography>Georges Mlis</cinematography>
    <budget>10000</budget>
    <box_office>20000</box_office>
    <awards>Considered a milestone in cinema history</awards>
  </movie>
  <movie>
    <title>The Great Train Robbery</title>
    <year>1903</year>   <!-- This movie was released after 1900. -->
    <cast>Gilbert M. Anderson</cast>
    <cast>A. C. Abadie</cast>
    <genres>Western</genres>
    <genres>Action</genres>
    <href>The_Great_Train_Robbery</href>
    <extract>The Great Train Robbery is a 1903 American silent short film directed by Edwin S. Porter. It is considered one of the earliest narrative films.</extract>
    <thumbnail_width>320</thumbnail_width>
    <thumbnail_height>240</thumbnail_height>
    <country>United States</country>
    <runtime>12</runtime>
    <language>Silent</language>
    <release_date>1903-12-01</release_date>
    <production_company>Edison Manufacturing Company</production_company>
    <director>Edwin S. Porter</director>
    <writer>Scott Marble</writer>
    <cinematography>Edwin S. Porter</cinematography>
    <budget>150</budget>
    <box_office>5000</box_office>
    <awards>One of the earliest crime films</awards>
  </movie>
</movies>`,modifyingtabulartoml:`[movies]

[[movies.movie]]
title = "After Dark in Central Park"
year = 1900
cast = []
genres = ["Silent", "Short"]
country = "United States"
runtime = 3
language = "Silent"
release_date = "1900-03-15"
production_company = "Edison Manufacturing Company"
director = "James H. White"
writer = "Unknown"
cinematography = "Unknown"
budget = 500
awards = []

[[movies.movie]]
title = "Boarding School Girls' Pajama Parade"
year = 1900
cast = []
genres = ["Silent", "Short"]
country = "United States"
runtime = 2
language = "Silent"
release_date = "1900-05-10"
production_company = "Edison Manufacturing Company"
director = "James H. White"
writer = "Unknown"
cinematography = "Unknown"
budget = 450
awards = []

[[movies.movie]]
title = "Buffalo Bill's Wild West Parade"
year = 1900
cast = ["Buffalo Bill (William F. Cody)"]
genres = ["Documentary"]
country = "United States"
runtime = 5
language = "Silent"
release_date = "1900-07-04"
production_company = "Edison Manufacturing Company"
director = "Unknown"
writer = "Unknown"
cinematography = "Unknown"
budget = 600
awards = []

[[movies.movie]]
title = "Caught"
year = 1900
cast = []
genres = ["Drama"]
country = "United States"
runtime = 2
language = "Silent"
release_date = "1900-02-20"
production_company = "Biograph Company"
director = "William Heise"
writer = "Unknown"
cinematography = "Unknown"
budget = 400
awards = []

[[movies.movie]]
title = "Clowns Spinning Hats"
year = 1900
cast = ["Unknown Clowns"]
genres = ["Silent", "Comedy"]
href = "Clowns_Spinning_Hats"
extract = "Clowns Spinning Hats is a black-and-white silent film featuring clowns throwing hats back and forth to each other. It was written and produced by Lubin Films and released April 7, 1900."
country = "United States"
runtime = 3
language = "Silent"
release_date = "1900-04-07"
production_company = "Lubin Films"
director = "Unknown"
writer = "Unknown"
cinematography = "Unknown"
budget = 500
awards = []

[[movies.movie]]
title = "The Enchanted Drawing"
year = 1900
cast = ["J. Stuart Blackton"]
genres = ["Silent", "Animation"]
href = "The_Enchanted_Drawing"
extract = "The Enchanted Drawing is a 1900 silent film directed by J. Stuart Blackton. It is best known for containing the first animated sequences recorded on standard picture film, which has led Blackton to be considered the father of American animation."
thumbnail_width = 320
thumbnail_height = 240
country = "United States"
runtime = 2
language = "Silent"
release_date = "1900-11-16"
production_company = "Vitagraph Studios"
director = "J. Stuart Blackton"
writer = "J. Stuart Blackton"
cinematography = "Unknown"
budget = 700
awards = []

[[movies.movie]]
title = "Feeding Sea Lions"
year = 1900
cast = ["Paul Boyton"]
genres = ["Short", "Silent"]
href = "Feeding_Sea_Lions"
extract = "Feeding Sea Lions is a short silent film featuring Paul Boyton feeding sea lions at his Sea Lion Park at Coney Island. Boyton is shown feeding the trained sea lions, twelve in number. The sea lions follow Boyton up the steps of the pool and then follow him back into the water. One of them steals food out of the basket. The film was made by Lubin Studios on March 10, 1900."
country = "United States"
runtime = 3
language = "Silent"
release_date = "1900-03-10"
production_company = "Lubin Studios"
director = "Unknown"
writer = "Unknown"
cinematography = "Unknown"
budget = 450
awards = []

[[movies.movie]]
title = "A Trip to the Moon"
year = 1902   # This movie was released after 1900.
cast = ["Georges Mlis"]
genres = ["Sci-Fi", "Adventure"]
href = "A_Trip_to_the_Moon"
extract = "A Trip to the Moon (French: Le Voyage dans la Lune) is a 1902 French silent film directed by Georges Mlis. It is widely regarded as the first science fiction film ever made."
thumbnail_width = 320
thumbnail_height = 240
country = "France"
runtime = 14
language = "Silent"
release_date = "1902-09-01"
production_company = "Star Film Company"
director = "Georges Mlis"
writer = "Georges Mlis"
cinematography = "Georges Mlis"
budget = 10000
box_office = 20000
awards = ["Considered a milestone in cinema history"]

[[movies.movie]]
title = "The Great Train Robbery"
year = 1903  # This movie was released after 1900.
cast = ["Gilbert M. Anderson", "A. C. Abadie"]
genres = ["Western", "Action"]
href = "The_Great_Train_Robbery"
extract = "The Great Train Robbery is a 1903 American silent short film directed by Edwin S. Porter. It is considered one of the earliest narrative films."
thumbnail_width = 320
thumbnail_height = 240
country = "United States"
runtime = 12
language = "Silent"
release_date = "1903-12-01"
production_company = "Edison Manufacturing Company"
director = "Edwin S. Porter"
writer = "Scott Marble"
cinematography = "Edwin S. Porter"
budget = 150
box_office = 5000
awards = ["One of the earliest crime films"]`,modifyingtabularyaml:`movies:
  movie:
    - title: After Dark in Central Park
      year: 1900
      cast: []
      genres:
        - Silent
        - Short
      href: null
      country: United States
      runtime: 3
      language: Silent
      release_date: '1900-03-15'
      production_company: Edison Manufacturing Company
      director: James H. White
      writer: Unknown
      cinematography: Unknown
      budget: 500
      box_office: null
      awards: []
    - title: Boarding School Girls' Pajama Parade
      year: 1900
      cast: []
      genres:
        - Silent
        - Short
      href: null
      country: United States
      runtime: 2
      language: Silent
      release_date: '1900-05-10'
      production_company: Edison Manufacturing Company
      director: James H. White
      writer: Unknown
      cinematography: Unknown
      budget: 450
      box_office: null
      awards: []
    - title: Buffalo Bill's Wild West Parade
      year: 1900
      cast:
        - Buffalo Bill (William F. Cody)
      genres:
        - Documentary
      href: null
      country: United States
      runtime: 5
      language: Silent
      release_date: '1900-07-04'
      production_company: Edison Manufacturing Company
      director: Unknown
      writer: Unknown
      cinematography: Unknown
      budget: 600
      box_office: null
      awards: []
    - title: Caught
      year: 1900
      cast: []
      genres:
        - Drama
      href: null
      country: United States
      runtime: 2
      language: Silent
      release_date: '1900-02-20'
      production_company: Biograph Company
      director: William Heise
      writer: Unknown
      cinematography: Unknown
      budget: 400
      box_office: null
      awards: []
    - title: Clowns Spinning Hats
      year: 1900
      cast:
        - Unknown Clowns
      genres:
        - Silent
        - Comedy
      href: Clowns_Spinning_Hats
      extract: >-
        Clowns Spinning Hats is a black-and-white silent film featuring clowns
        throwing hats back and forth to each other. It was written and produced
        by Lubin Films and released April 7, 1900.
      country: United States
      runtime: 3
      language: Silent
      release_date: '1900-04-07'
      production_company: Lubin Films
      director: Unknown
      writer: Unknown
      cinematography: Unknown
      budget: 500
      box_office: null
      awards: []
    - title: The Enchanted Drawing
      year: 1900
      cast:
        - J. Stuart Blackton
      genres:
        - Silent
        - Animation
      href: The_Enchanted_Drawing
      extract: >-
        The Enchanted Drawing is a 1900 silent film directed by J. Stuart
        Blackton. It is best known for containing the first animated sequences
        recorded on standard picture film, which has led Blackton to be
        considered the father of American animation.
      thumbnail_width: 320
      thumbnail_height: 240
      country: United States
      runtime: 2
      language: Silent
      release_date: '1900-11-16'
      production_company: Vitagraph Studios
      director: J. Stuart Blackton
      writer: J. Stuart Blackton
      cinematography: Unknown
      budget: 700
      box_office: null
      awards: []
    - title: Feeding Sea Lions
      year: 1900
      cast:
        - Paul Boyton
      genres:
        - Short
        - Silent
      href: Feeding_Sea_Lions
      extract: >-
        Feeding Sea Lions is a short silent film featuring Paul Boyton feeding
        sea lions at his Sea Lion Park at Coney Island. Boyton is shown feeding
        the trained sea lions, twelve in number. The sea lions follow Boyton up
        the steps of the pool and then follow him back into the water. One of
        them steals food out of the basket. The film was made by Lubin Studios
        on March 10, 1900.
      country: United States
      runtime: 3
      language: Silent
      release_date: '1900-03-10'
      production_company: Lubin Studios
      director: Unknown
      writer: Unknown
      cinematography: Unknown
      budget: 450
      box_office: null
      awards: []
    - title: A Trip to the Moon
      year: 1902    # This movie was released after 1900.
      cast:
        - Georges Mlis
      genres:
        - Sci-Fi
        - Adventure
      href: A_Trip_to_the_Moon
      extract: >-
        A Trip to the Moon (French: Le Voyage dans la Lune) is a 1902 French
        silent film directed by Georges Mlis. It is widely regarded as the
        first science fiction film ever made.
      thumbnail_width: 320
      thumbnail_height: 240
      country: France
      runtime: 14
      language: Silent
      release_date: '1902-09-01'
      production_company: Star Film Company
      director: Georges Mlis
      writer: Georges Mlis
      cinematography: Georges Mlis
      budget: 10000
      box_office: 20000
      awards:
        - Considered a milestone in cinema history
    - title: The Great Train Robbery
      year: 1903   # This movie was released after 1900.
      cast:
        - Gilbert M. Anderson
        - A. C. Abadie
      genres:
        - Western
        - Action
      href: The_Great_Train_Robbery
      extract: >-
        The Great Train Robbery is a 1903 American silent short film directed by
        Edwin S. Porter. It is considered one of the earliest narrative films.
      thumbnail_width: 320
      thumbnail_height: 240
      country: United States
      runtime: 12
      language: Silent
      release_date: '1903-12-01'
      production_company: Edison Manufacturing Company
      director: Edwin S. Porter
      writer: Scott Marble
      cinematography: Edwin S. Porter
      budget: 150
      box_office: 5000
      awards:
        - One of the earliest crime films`,modifyingtabularjson5:`{
    movies: {
        movie: [
            {
                title: 'After Dark in Central Park',
                year: 1900,
                cast: [],
                genres: [
                    'Silent',
                    'Short'
                ],
                href: null,
                country: 'United States',
                runtime: 3,
                language: 'Silent',
                release_date: '1900-03-15',
                production_company: 'Edison Manufacturing Company',
                director: 'James H. White',
                writer: 'Unknown',
                cinematography: 'Unknown',
                budget: 500,
                box_office: null,
                awards: []
            },
            {
                title: "Boarding School Girls' Pajama Parade",
                year: 1900,
                cast: [],
                genres: [
                    'Silent',
                    'Short'
                ],
                href: null,
                country: 'United States',
                runtime: 2,
                language: 'Silent',
                release_date: '1900-05-10',
                production_company: 'Edison Manufacturing Company',
                director: 'James H. White',
                writer: 'Unknown',
                cinematography: 'Unknown',
                budget: 450,
                box_office: null,
                awards: []
            },
            {
                title: "Buffalo Bill's Wild West Parade",
                year: 1900,
                cast: [
                    'Buffalo Bill (William F. Cody)'
                ],
                genres: [
                    'Documentary'
                ],
                href: null,
                country: 'United States',
                runtime: 5,
                language: 'Silent',
                release_date: '1900-07-04',
                production_company: 'Edison Manufacturing Company',
                director: 'Unknown',
                writer: 'Unknown',
                cinematography: 'Unknown',
                budget: 600,
                box_office: null,
                awards: []
            },
            {
                title: 'Caught',
                year: 1900,
                cast: [],
                genres: [
                    'Drama'
                ],
                href: null,
                country: 'United States',
                runtime: 2,
                language: 'Silent',
                release_date: '1900-02-20',
                production_company: 'Biograph Company',
                director: 'William Heise',
                writer: 'Unknown',
                cinematography: 'Unknown',
                budget: 400,
                box_office: null,
                awards: []
            },
            {
                title: 'Clowns Spinning Hats',
                year: 1900,
                cast: [
                    'Unknown Clowns'
                ],
                genres: [
                    'Silent',
                    'Comedy'
                ],
                href: 'Clowns_Spinning_Hats',
                extract: 'Clowns Spinning Hats is a black-and-white silent film featuring clowns throwing hats back and forth to each other. It was written and produced by Lubin Films and released April 7, 1900.',
                country: 'United States',
                runtime: 3,
                language: 'Silent',
                release_date: '1900-04-07',
                production_company: 'Lubin Films',
                director: 'Unknown',
                writer: 'Unknown',
                cinematography: 'Unknown',
                budget: 500,
                box_office: null,
                awards: []
            },
            {
                title: 'The Enchanted Drawing',
                year: 1900,
                cast: [
                    'J. Stuart Blackton'
                ],
                genres: [
                    'Silent',
                    'Animation'
                ],
                href: 'The_Enchanted_Drawing',
                extract: 'The Enchanted Drawing is a 1900 silent film directed by J. Stuart Blackton. It is best known for containing the first animated sequences recorded on standard picture film, which has led Blackton to be considered the father of American animation.',
                thumbnail_width: 320,
                thumbnail_height: 240,
                country: 'United States',
                runtime: 2,
                language: 'Silent',
                release_date: '1900-11-16',
                production_company: 'Vitagraph Studios',
                director: 'J. Stuart Blackton',
                writer: 'J. Stuart Blackton',
                cinematography: 'Unknown',
                budget: 700,
                box_office: null,
                awards: []
            },
            {
                title: 'Feeding Sea Lions',
                year: 1900,
                cast: [
                    'Paul Boyton'
                ],
                genres: [
                    'Short',
                    'Silent'
                ],
                href: 'Feeding_Sea_Lions',
                extract: 'Feeding Sea Lions is a short silent film featuring Paul Boyton feeding sea lions at his Sea Lion Park at Coney Island. Boyton is shown feeding the trained sea lions, twelve in number. The sea lions follow Boyton up the steps of the pool and then follow him back into the water. One of them steals food out of the basket. The film was made by Lubin Studios on March 10, 1900.',
                country: 'United States',
                runtime: 3,
                language: 'Silent',
                release_date: '1900-03-10',
                production_company: 'Lubin Studios',
                director: 'Unknown',
                writer: 'Unknown',
                cinematography: 'Unknown',
                budget: 450,
                box_office: null,
                awards: []
            },
            {
                title: 'A Trip to the Moon',
                year: 1902,    // This movie was released after 1900.
                cast: [
                    'Georges Mlis'
                ],
                genres: [
                    'Sci-Fi',
                    'Adventure'
                ],
                href: 'A_Trip_to_the_Moon',
                extract: 'A Trip to the Moon (French: Le Voyage dans la Lune) is a 1902 French silent film directed by Georges Mlis. It is widely regarded as the first science fiction film ever made.',
                thumbnail_width: 320,
                thumbnail_height: 240,
                country: 'France',
                runtime: 14,
                language: 'Silent',
                release_date: '1902-09-01',
                production_company: 'Star Film Company',
                director: 'Georges Mlis',
                writer: 'Georges Mlis',
                cinematography: 'Georges Mlis',
                budget: 10000,
                box_office: 20000,
                awards: [
                    'Considered a milestone in cinema history'
                ]
            },
            {
                title: 'The Great Train Robbery',
                year: 1903,    // This movie was released after 1900.
                cast: [
                    'Gilbert M. Anderson',
                    'A. C. Abadie'
                ],
                genres: [
                    'Western',
                    'Action'
                ],
                href: 'The_Great_Train_Robbery',
                extract: 'The Great Train Robbery is a 1903 American silent short film directed by Edwin S. Porter. It is considered one of the earliest narrative films.',
                thumbnail_width: 320,
                thumbnail_height: 240,
                country: 'United States',
                runtime: 12,
                language: 'Silent',
                release_date: '1903-12-01',
                production_company: 'Edison Manufacturing Company',
                director: 'Edwin S. Porter',
                writer: 'Scott Marble',
                cinematography: 'Edwin S. Porter',
                budget: 150,
                box_office: 5000,
                awards: [
                    'One of the earliest crime films'
                ]
            }
        ]
    }
}`,modifyingtabularhjson:`{
  movies:
  {
    movie:
    [
      {
        title: After Dark in Central Park
        year: 1900
        cast: []
        genres:
        [
          Silent
          Short
        ]
        href: null
        country: United States
        runtime: 3
        language: Silent
        release_date: 1900-03-15
        production_company: Edison Manufacturing Company
        director: James H. White
        writer: Unknown
        cinematography: Unknown
        budget: 500
        box_office: null
        awards: []
      }
      {
        title: Boarding School Girls' Pajama Parade
        year: 1900
        cast: []
        genres:
        [
          Silent
          Short
        ]
        href: null
        country: United States
        runtime: 2
        language: Silent
        release_date: 1900-05-10
        production_company: Edison Manufacturing Company
        director: James H. White
        writer: Unknown
        cinematography: Unknown
        budget: 450
        box_office: null
        awards: []
      }
      {
        title: Buffalo Bill's Wild West Parade
        year: 1900
        cast:
        [
          Buffalo Bill (William F. Cody)
        ]
        genres:
        [
          Documentary
        ]
        href: null
        country: United States
        runtime: 5
        language: Silent
        release_date: 1900-07-04
        production_company: Edison Manufacturing Company
        director: Unknown
        writer: Unknown
        cinematography: Unknown
        budget: 600
        box_office: null
        awards: []
      }
      {
        title: Caught
        year: 1900
        cast: []
        genres:
        [
          Drama
        ]
        href: null
        country: United States
        runtime: 2
        language: Silent
        release_date: 1900-02-20
        production_company: Biograph Company
        director: William Heise
        writer: Unknown
        cinematography: Unknown
        budget: 400
        box_office: null
        awards: []
      }
      {
        title: Clowns Spinning Hats
        year: 1900
        cast:
        [
          Unknown Clowns
        ]
        genres:
        [
          Silent
          Comedy
        ]
        href: Clowns_Spinning_Hats
        extract: Clowns Spinning Hats is a black-and-white silent film featuring clowns throwing hats back and forth to each other. It was written and produced by Lubin Films and released April 7, 1900.
        country: United States
        runtime: 3
        language: Silent
        release_date: 1900-04-07
        production_company: Lubin Films
        director: Unknown
        writer: Unknown
        cinematography: Unknown
        budget: 500
        box_office: null
        awards: []
      }
      {
        title: The Enchanted Drawing
        year: 1900
        cast:
        [
          J. Stuart Blackton
        ]
        genres:
        [
          Silent
          Animation
        ]
        href: The_Enchanted_Drawing
        extract: The Enchanted Drawing is a 1900 silent film directed by J. Stuart Blackton. It is best known for containing the first animated sequences recorded on standard picture film, which has led Blackton to be considered the father of American animation.
        thumbnail_width: 320
        thumbnail_height: 240
        country: United States
        runtime: 2
        language: Silent
        release_date: 1900-11-16
        production_company: Vitagraph Studios
        director: J. Stuart Blackton
        writer: J. Stuart Blackton
        cinematography: Unknown
        budget: 700
        box_office: null
        awards: []
      }
      {
        title: Feeding Sea Lions
        year: 1900
        cast:
        [
          Paul Boyton
        ]
        genres:
        [
          Short
          Silent
        ]
        href: Feeding_Sea_Lions
        extract: Feeding Sea Lions is a short silent film featuring Paul Boyton feeding sea lions at his Sea Lion Park at Coney Island. Boyton is shown feeding the trained sea lions, twelve in number. The sea lions follow Boyton up the steps of the pool and then follow him back into the water. One of them steals food out of the basket. The film was made by Lubin Studios on March 10, 1900.
        country: United States
        runtime: 3
        language: Silent
        release_date: 1900-03-10
        production_company: Lubin Studios
        director: Unknown
        writer: Unknown
        cinematography: Unknown
        budget: 450
        box_office: null
        awards: []
      }
      {
        title: A Trip to the Moon
        year: 1902    // This movie was released after 1900.
        cast:
        [
          Georges Mlis
        ]
        genres:
        [
          Sci-Fi
          Adventure
        ]
        href: A_Trip_to_the_Moon
        extract: A Trip to the Moon (French: Le Voyage dans la Lune) is a 1902 French silent film directed by Georges Mlis. It is widely regarded as the first science fiction film ever made.
        thumbnail_width: 320
        thumbnail_height: 240
        country: France
        runtime: 14
        language: Silent
        release_date: 1902-09-01
        production_company: Star Film Company
        director: Georges Mlis
        writer: Georges Mlis
        cinematography: Georges Mlis
        budget: 10000
        box_office: 20000
        awards:
        [
          Considered a milestone in cinema history
        ]
      }
      {
        title: The Great Train Robbery
        year: 1903    // This movie was released after 1900.
        cast:
        [
          Gilbert M. Anderson
          A. C. Abadie
        ]
        genres:
        [
          Western
          Action
        ]
        href: The_Great_Train_Robbery
        extract: The Great Train Robbery is a 1903 American silent short film directed by Edwin S. Porter. It is considered one of the earliest narrative films.
        thumbnail_width: 320
        thumbnail_height: 240
        country: United States
        runtime: 12
        language: Silent
        release_date: 1903-12-01
        production_company: Edison Manufacturing Company
        director: Edwin S. Porter
        writer: Scott Marble
        cinematography: Edwin S. Porter
        budget: 150
        box_office: 5000
        awards:
        [
          One of the earliest crime films
        ]
      }
    ]
  }
}`},qSe=Object.freeze(Object.defineProperty({__proto__:null,startingStringsMap:WSe},Symbol.toStringTag,{value:"Module"}));function tmt({setAnswer:e,parameters:t,provenanceState:n}){const[r,i]=O.useState(WSe[t.type+(t.tabular?"tabular":"config")+t.language]),o=ib();O.useEffect(()=>{n&&n.text!==null&&i(n.text)},[n]);const{actions:s,trrack:a}=O.useMemo(()=>{const d=Hp.create(),h=d.register("type",(p,m)=>(p.text=m,p)),f=rb({registry:d,initialState:{text:null}});return{actions:{typeAction:h},trrack:f}},[]);let l;t.language==="plain_text"?l="text":t.language==="jsonc"?l="json":l=t.language;const u=O.useCallback(d=>{a.apply("Typing",s.typeAction(d)),e({status:d.length>150,answers:{code:d,error:d},provenanceGraph:a.graph.backend}),i(d)},[s,e,a]),c=O.useRef(null);return O.useEffect(()=>{var d,h;o?(d=c.current)==null||d.editor.setTheme(kG):(h=c.current)==null||h.editor.setTheme(AG)},[o]),k.jsx(ge,{children:k.jsxs(Dr,{gap:20,wrap:"nowrap",style:{height:"calc(100vh - var(--app-shell-header-height, 0px) - var(--app-shell-footer-height, 0px) - 30px)"},children:[t.imagePath?k.jsx("div",{style:{flex:"0 0 50%"},children:k.jsx("img",{src:hi+t.imagePath,alt:"Example",style:{width:"100%",height:"auto",objectFit:"contain"}})}):null,k.jsx(CG,{ref:c,mode:l,width:"100%",height:"calc(100vh - var(--app-shell-header-height, 0px) - var(--app-shell-footer-height, 0px) - 30px)",value:r,wrapEnabled:!0,onChange:u,name:"UNIQUE_ID_OF_DIV",editorProps:{$blockScrolling:!0}})]})})}const GSe=Object.freeze(Object.defineProperty({__proto__:null,default:tmt},Symbol.toStringTag,{value:"Module"})),YSe={readingtabularjson:JSON.stringify({students:{student:[{name:"Bob",age:12,contact:{email:"bob@example.com",phone:"+123456789",address:"123 Bob St, Some City"},courses:{course:{course_name:"Math 101",quizzes:{quiz:[{id:1,grade:8,weight:.1},{id:2,grade:9,weight:.1}]},midterm:{grade:77,weight:.3},final:{grade:87,weight:.5},total_score:82.3,attendance:{total_classes:30,attended_classes:28,absent_classes:2}}},extra_curricular:{sports:{sport:[{sport_name:"Soccer",position:"Forward",team:"The Tigers"},{sport_name:"Basketball",position:"Guard",team:"The Eagles"}]},clubs:{club:[{club_name:"Science Club",role:"President"},{club_name:"Drama Club",role:"Member"}]}}},{name:"Eve",age:13,contact:{email:"eve@example.com",phone:"+987654321",address:"456 Eve St, Other City"},courses:{course:{course_name:"Math 101",quizzes:{quiz:[{id:1,grade:9,weight:.15},{id:2,grade:10,weight:.15}]},midterm:{grade:"AB(absent)",weight:.3},final:{grade:77,weight:.4},total_score:78.3,attendance:{total_classes:30,attended_classes:27,absent_classes:3}}},extra_curricular:{sports:{sport:{sport_name:"Tennis",position:"Singles",team:"The Champions"}},clubs:{club:{club_name:"Art Club",role:"Vice President"}}}},{name:"Alice",age:14,contact:{email:"alice@example.com",phone:"+111222333",address:"789 Alice St, Another City"},courses:{course:{course_name:"Science 101",quizzes:{quiz:[{id:1,grade:7,weight:.2},{id:2,grade:8,weight:.2}]},midterm:{grade:85,weight:.3},final:{grade:90,weight:.5},total_score:84.7,attendance:{total_classes:30,attended_classes:29,absent_classes:1}}},extra_curricular:{sports:{sport:{sport_name:"Swimming",position:"Freestyle",team:"Blue Sharks"}},clubs:{club:[{club_name:"Chess Club",role:"Member"},{club_name:"Literature Club",role:"Secretary"}]}}}]}},null,2),readingtabularxml:`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<students>
  <student>
    <name>Bob</name>
    <age>12</age>
    <contact>
      <email>bob@example.com</email>
      <phone>+123456789</phone>
      <address>123 Bob St, Some City</address>
    </contact>
    <courses>
      <course>
        <course_name>Math 101</course_name>
        <quizzes>
          <quiz>
            <id>1</id>
            <grade>8</grade>
            <weight>0.1</weight>
          </quiz>
          <quiz>
            <id>2</id>
            <grade>9</grade>
            <weight>0.1</weight>
          </quiz>
        </quizzes>
        <midterm>
          <grade>77</grade>
          <weight>0.3</weight>
        </midterm>
        <final>
          <grade>87</grade>
          <weight>0.5</weight>
        </final>
        <total_score>82.3</total_score>
        <attendance>
          <total_classes>30</total_classes>
          <attended_classes>28</attended_classes>
          <absent_classes>2</absent_classes>
        </attendance>
      </course>
    </courses>
    <extra_curricular>
      <sports>
        <sport>
          <sport_name>Soccer</sport_name>
          <position>Forward</position>
          <team>The Tigers</team>
        </sport>
        <sport>
          <sport_name>Basketball</sport_name>
          <position>Guard</position>
          <team>The Eagles</team>
        </sport>
      </sports>
      <clubs>
        <club>
          <club_name>Science Club</club_name>
          <role>President</role>
        </club>
        <club>
          <club_name>Drama Club</club_name>
          <role>Member</role>
        </club>
      </clubs>
    </extra_curricular>
  </student>
  <student>
    <name>Eve</name>
    <age>13</age>
    <contact>
      <email>eve@example.com</email>
      <phone>+987654321</phone>
      <address>456 Eve St, Other City</address>
    </contact>
    <courses>
      <course>
        <course_name>Math 101</course_name>
        <quizzes>
          <quiz>
            <id>1</id>
            <grade>9</grade>
            <weight>0.15</weight>
          </quiz>
          <quiz>
            <id>2</id>
            <grade>10</grade>
            <weight>0.15</weight>
          </quiz>
        </quizzes>
        <midterm>
          <grade>AB(absent)</grade> <!--The student was absent for the midterm exam.-->
          <weight>0.3</weight>
        </midterm>
        <final>
          <grade>77</grade>
          <weight>0.4</weight>
        </final>
        <total_score>78.3</total_score>
        <attendance>
          <total_classes>30</total_classes>
          <attended_classes>27</attended_classes>
          <absent_classes>3</absent_classes>
        </attendance>
      </course>
    </courses>
    <extra_curricular>
      <sports>
        <sport>
          <sport_name>Tennis</sport_name>
          <position>Singles</position>
          <team>The Champions</team>
        </sport>
      </sports>
      <clubs>
        <club>
          <club_name>Art Club</club_name>
          <role>Vice President</role>
        </club>
      </clubs>
    </extra_curricular>
  </student>
  <student>
    <name>Alice</name>
    <age>14</age>
    <contact>
      <email>alice@example.com</email>
      <phone>+111222333</phone>
      <address>789 Alice St, Another City</address>
    </contact>
    <courses>
      <course>
        <course_name>Science 101</course_name>
        <quizzes>
          <quiz>
            <id>1</id>
            <grade>7</grade>
            <weight>0.2</weight>
          </quiz>
          <quiz>
            <id>2</id>
            <grade>8</grade>
            <weight>0.2</weight>
          </quiz>
        </quizzes>
        <midterm>
          <grade>85</grade>
          <weight>0.3</weight>
        </midterm>
        <final>
          <grade>90</grade>
          <weight>0.5</weight>
        </final>
        <total_score>84.7</total_score>
        <attendance>
          <total_classes>30</total_classes>
          <attended_classes>29</attended_classes>
          <absent_classes>1</absent_classes>
        </attendance>
      </course>
    </courses>
    <extra_curricular>
      <sports>
        <sport>
          <sport_name>Swimming</sport_name>
          <position>Freestyle</position>
          <team>Blue Sharks</team>
        </sport>
      </sports>
      <clubs>
        <club>
          <club_name>Chess Club</club_name>
          <role>Member</role>
        </club>
        <club>
          <club_name>Literature Club</club_name>
          <role>Secretary</role>
        </club>
      </clubs>
    </extra_curricular>
  </student>
</students>`,readingtabulartoml:`[students]

[[students.student]]
name = "Bob"
age = 12

[students.student.contact]
email = "bob@example.com"
phone = "+123456789"
address = "123 Bob St, Some City"

[students.student.courses]

[students.student.courses.course]
course_name = "Math 101"
total_score = 82.3

[students.student.courses.course.quizzes]

[[students.student.courses.course.quizzes.quiz]]
id = 1
grade = 8.0
weight = 0.1

[[students.student.courses.course.quizzes.quiz]]
id = 2
grade = 9.0
weight = 0.1

[students.student.courses.course.midterm]
grade = 77.0
weight = 0.3

[students.student.courses.course.final]
grade = 87.0
weight = 0.5

[students.student.courses.course.attendance]
total_classes = 30
attended_classes = 28
absent_classes = 2

[students.student.extra_curricular]

[students.student.extra_curricular.sports]

[[students.student.extra_curricular.sports.sport]]
sport_name = "Soccer"
position = "Forward"
team = "The Tigers"

[[students.student.extra_curricular.sports.sport]]
sport_name = "Basketball"
position = "Guard"
team = "The Eagles"

[students.student.extra_curricular.clubs]

[[students.student.extra_curricular.clubs.club]]
club_name = "Science Club"
role = "President"

[[students.student.extra_curricular.clubs.club]]
club_name = "Drama Club"
role = "Member"

[[students.student]]
name = "Eve"
age = 13

[students.student.contact]
email = "eve@example.com"
phone = "+987654321"
address = "456 Eve St, Other City"

[students.student.courses]

[students.student.courses.course]
course_name = "Math 101"
total_score = 78.3

[students.student.courses.course.quizzes]

[[students.student.courses.course.quizzes.quiz]]
id = 1
grade = 9.0
weight = 0.15

[[students.student.courses.course.quizzes.quiz]]
id = 2
grade = 10.0
weight = 0.15

[students.student.courses.course.midterm]
grade = "AB(absent)"   # The student was absent for the midterm exam.
weight = 0.3

[students.student.courses.course.final]
grade = 77.0
weight = 0.4

[students.student.courses.course.attendance]
total_classes = 30
attended_classes = 27
absent_classes = 3

[students.student.extra_curricular]

[students.student.extra_curricular.sports]

[students.student.extra_curricular.sports.sport]
sport_name = "Tennis"
position = "Singles"
team = "The Champions"

[students.student.extra_curricular.clubs]

[students.student.extra_curricular.clubs.club]
club_name = "Art Club"
role = "Vice President"

[[students.student]]
name = "Alice"
age = 14

[students.student.contact]
email = "alice@example.com"
phone = "+111222333"
address = "789 Alice St, Another City"

[students.student.courses]

[students.student.courses.course]
course_name = "Science 101"
total_score = 84.7

[students.student.courses.course.quizzes]

[[students.student.courses.course.quizzes.quiz]]
id = 1
grade = 7.0
weight = 0.2

[[students.student.courses.course.quizzes.quiz]]
id = 2
grade = 8.0
weight = 0.2

[students.student.courses.course.midterm]
grade = 85.0
weight = 0.3

[students.student.courses.course.final]
grade = 90.0
weight = 0.5

[students.student.courses.course.attendance]
total_classes = 30
attended_classes = 29
absent_classes = 1

[students.student.extra_curricular]

[students.student.extra_curricular.sports]

[students.student.extra_curricular.sports.sport]
sport_name = "Swimming"
position = "Freestyle"
team = "Blue Sharks"

[students.student.extra_curricular.clubs]

[[students.student.extra_curricular.clubs.club]]
club_name = "Chess Club"
role = "Member"

[[students.student.extra_curricular.clubs.club]]
club_name = "Literature Club"
role = "Secretary"`,readingtabularyaml:`students:
  student:
    - name: Bob
      age: 12
      contact:
        email: bob@example.com
        phone: '+123456789'
        address: 123 Bob St, Some City
      courses:
        course:
          course_name: Math 101
          quizzes:
            quiz:
              - id: 1
                grade: 8
                weight: 0.1
              - id: 2
                grade: 9
                weight: 0.1
          midterm:
            grade: 77
            weight: 0.3
          final:
            grade: 87
            weight: 0.5
          total_score: 82.3
          attendance:
            total_classes: 30
            attended_classes: 28
            absent_classes: 2
      extra_curricular:
        sports:
          sport:
            - sport_name: Soccer
              position: Forward
              team: The Tigers
            - sport_name: Basketball
              position: Guard
              team: The Eagles
        clubs:
          club:
            - club_name: Science Club
              role: President
            - club_name: Drama Club
              role: Member
    - name: Eve
      age: 13
      contact:
        email: eve@example.com
        phone: '+987654321'
        address: 456 Eve St, Other City
      courses:
        course:
          course_name: Math 101
          quizzes:
            quiz:
              - id: 1
                grade: 9
                weight: 0.15
              - id: 2
                grade: 10
                weight: 0.15
          midterm:
            grade: AB(absent)  # The student was absent for the midterm exam.
            weight: 0.3
          final:
            grade: 77
            weight: 0.4
          total_score: 78.3
          attendance:
            total_classes: 30
            attended_classes: 27
            absent_classes: 3
      extra_curricular:
        sports:
          sport:
            sport_name: Tennis
            position: Singles
            team: The Champions
        clubs:
          club:
            club_name: Art Club
            role: Vice President
    - name: Alice
      age: 14
      contact:
        email: alice@example.com
        phone: '+111222333'
        address: 789 Alice St, Another City
      courses:
        course:
          course_name: Science 101
          quizzes:
            quiz:
              - id: 1
                grade: 7
                weight: 0.2
              - id: 2
                grade: 8
                weight: 0.2
          midterm:
            grade: 85
            weight: 0.3
          final:
            grade: 90
            weight: 0.5
          total_score: 84.7
          attendance:
            total_classes: 30
            attended_classes: 29
            absent_classes: 1
      extra_curricular:
        sports:
          sport:
            sport_name: Swimming
            position: Freestyle
            team: Blue Sharks
        clubs:
          club:
            - club_name: Chess Club
              role: Member
            - club_name: Literature Club
              role: Secretary`,readingtabularjsonc:`{
    "students": {
      "student": [
        {
          // comments
          "name": "Bob",
          "age": 12,
          "contact": {
            "email": "bob@example.com",
            "phone": "+123456789",
            "address": "123 Bob St, Some City"
          },
          "courses": {
            "course": {
              "course_name": "Math 101",
              "quizzes": {
                "quiz": [
                  {
                    "id": 1,
                    "grade": 8,
                    "weight": 0.1
                  },
                  {
                    "id": 2,
                    "grade": 9,
                    "weight": 0.1
                  }
                ]
              },
              "midterm": {
                "grade": 77,
                "weight": 0.3
              },
              "final": {
                "grade": 87,
                "weight": 0.5
              },
              "total_score": 82.3,
              "attendance": {
                "total_classes": 30,
                "attended_classes": 28,
                "absent_classes": 2
              }
            }
          },
          "extra_curricular": {
            "sports": {
              "sport": [
                {
                  "sport_name": "Soccer",
                  "position": "Forward",
                  "team": "The Tigers"
                },
                {
                  "sport_name": "Basketball",
                  "position": "Guard",
                  "team": "The Eagles"
                }
              ]
            },
            "clubs": {
              "club": [
                {
                  "club_name": "Science Club",
                  "role": "President"
                },
                {
                  "club_name": "Drama Club",
                  "role": "Member"
                }
              ]
            }
          }
        },
        {
          "name": "Eve",
          "age": 13,
          "contact": {
            "email": "eve@example.com",
            "phone": "+987654321",
            "address": "456 Eve St, Other City"
          },
          "courses": {
            "course": {
              "course_name": "Math 101",
              "quizzes": {
                "quiz": [
                  {
                    "id": 1,
                    "grade": 9,
                    "weight": 0.15
                  },
                  {
                    "id": 2,
                    "grade": 10,
                    "weight": 0.15
                  }
                ]
              },
              "midterm": {
                "grade": "AB(absent)",
                "weight": 0.3
              },
              "final": {
                "grade": 77,
                "weight": 0.4
              },
              "total_score": 78.3,
              "attendance": {
                "total_classes": 30,
                "attended_classes": 27,
                "absent_classes": 3
              }
            }
          },
          "extra_curricular": {
            "sports": {
              "sport": {
                "sport_name": "Tennis",
                "position": "Singles",
                "team": "The Champions"
              }
            },
            "clubs": {
              "club": {
                "club_name": "Art Club",
                "role": "Vice President"
              }
            }
          }
        },
        {
          "name": "Alice",
          "age": 14,
          "contact": {
            "email": "alice@example.com",
            "phone": "+111222333",
            "address": "789 Alice St, Another City"
          },
          "courses": {
            "course": {
              "course_name": "Science 101",
              "quizzes": {
                "quiz": [
                  {
                    "id": 1,
                    "grade": 7,
                    "weight": 0.2
                  },
                  {
                    "id": 2,
                    "grade": 8,
                    "weight": 0.2
                  }
                ]
              },
              "midterm": {
                "grade": 85,
                "weight": 0.3
              },
              "final": {
                "grade": 90,
                "weight": 0.5
              },
              "total_score": 84.7,
              "attendance": {
                "total_classes": 30,
                "attended_classes": 29,
                "absent_classes": 1
              }
            }
          },
          "extra_curricular": {
            "sports": {
              "sport": {
                "sport_name": "Swimming",
                "position": "Freestyle",
                "team": "Blue Sharks"
              }
            },
            "clubs": {
              "club": [
                {
                  "club_name": "Chess Club",
                  "role": "Member"
                },
                {
                  "club_name": "Literature Club",
                  "role": "Secretary"
                }
              ]
            }
          }
        }
      ]
    }
  }`,readingtabularhjson:`
  students:
  {
    student:
    [
      {
        name: Bob
        age: 12
        contact:
        {
          email: bob@example.com
          phone: +123456789
          address: 123 Bob St, Some City
        }
        courses:
        {
          course:
          {
            course_name: Math 101
            quizzes:
            {
              quiz:
              [
                {
                  id: 1
                  grade: 8
                  weight: 0.1
                }
                {
                  id: 2
                  grade: 9
                  weight: 0.1
                }
              ]
            }
            midterm:
            {
              grade: 77
              weight: 0.3
            }
            final:
            {
              grade: 87
              weight: 0.5
            }
            total_score: 82.3
            attendance:
            {
              total_classes: 30
              attended_classes: 28
              absent_classes: 2
            }
          }
        }
        extra_curricular:
        {
          sports:
          {
            sport:
            [
              {
                sport_name: Soccer
                position: Forward
                team: The Tigers
              }
              {
                sport_name: Basketball
                position: Guard
                team: The Eagles
              }
            ]
          }
          clubs:
          {
            club:
            [
              {
                club_name: Science Club
                role: President
              }
              {
                club_name: Drama Club
                role: Member
              }
            ]
          }
        }
      }
      {
        name: Eve
        age: 13
        contact:
        {
          email: eve@example.com
          phone: +987654321
          address: 456 Eve St, Other City
        }
        courses:
        {
          course:
          {
            course_name: Math 101
            quizzes:
            {
              quiz:
              [
                {
                  id: 1
                  grade: 9
                  weight: 0.15
                }
                {
                  id: 2
                  grade: 10
                  weight: 0.15
                }
              ]
            }
            midterm:
            {
              grade: AB(absent) // The student was absent for the midterm exam.
              weight: 0.3
            }
            final:
            {
              grade: 77
              weight: 0.4
            }
            total_score: 78.3
            attendance:
            {
              total_classes: 30
              attended_classes: 27
              absent_classes: 3
            }
          }
        }
        extra_curricular:
        {
          sports:
          {
            sport:
            {
              sport_name: Tennis
              position: Singles
              team: The Champions
            }
          }
          clubs:
          {
            club:
            {
              club_name: Art Club
              role: Vice President
            }
          }
        }
      }
      {
        name: Alice
        age: 14
        contact:
        {
          email: alice@example.com
          phone: +111222333
          address: 789 Alice St, Another City
        }
        courses:
        {
          course:
          {
            course_name: Science 101
            quizzes:
            {
              quiz:
              [
                {
                  id: 1
                  grade: 7
                  weight: 0.2
                }
                {
                  id: 2
                  grade: 8
                  weight: 0.2
                }
              ]
            }
            midterm:
            {
              grade: 85
              weight: 0.3
            }
            final:
            {
              grade: 90
              weight: 0.5
            }
            total_score: 84.7
            attendance:
            {
              total_classes: 30
              attended_classes: 29
              absent_classes: 1
            }
          }
        }
        extra_curricular:
        {
          sports:
          {
            sport:
            {
              sport_name: Swimming
              position: Freestyle
              team: Blue Sharks
            }
          }
          clubs:
          {
            club:
            [
              {
                club_name: Chess Club
                role: Member
              }
              {
                club_name: Literature Club
                role: Secretary
              }
            ]
          }
        }
      }
    ]
  }`,readingtabularjson5:`{
    students: {
        student: [
            {
                name: 'Bob',
                age: 12,
                contact: {
                    email: 'bob@example.com',
                    phone: '+123456789',
                    address: '123 Bob St, Some City'
                },
                courses: {
                    course: {
                        course_name: 'Math 101',
                        quizzes: {
                            quiz: [
                                {
                                    id: 1,
                                    grade: 8,
                                    weight: 0.1
                                },
                                {
                                    id: 2,
                                    grade: 9,
                                    weight: 0.1
                                }
                            ]
                        },
                        midterm: {
                            grade: 77,
                            weight: 0.3
                        },
                        final: {
                            grade: 87,
                            weight: 0.5
                        },
                        total_score: 82.3,
                        attendance: {
                            total_classes: 30,
                            attended_classes: 28,
                            absent_classes: 2
                        }
                    }
                },
                extra_curricular: {
                    sports: {
                        sport: [
                            {
                                sport_name: 'Soccer',
                                position: 'Forward',
                                team: 'The Tigers'
                            },
                            {
                                sport_name: 'Basketball',
                                position: 'Guard',
                                team: 'The Eagles'
                            }
                        ]
                    },
                    clubs: {
                        club: [
                            {
                                club_name: 'Science Club',
                                role: 'President'
                            },
                            {
                                club_name: 'Drama Club',
                                role: 'Member'
                            }
                        ]
                    }
                }
            },
            {
                name: 'Eve',
                age: 13,
                contact: {
                    email: 'eve@example.com',
                    phone: '+987654321',
                    address: '456 Eve St, Other City'
                },
                courses: {
                    course: {
                        course_name: 'Math 101',
                        quizzes: {
                            quiz: [
                                {
                                    id: 1,
                                    grade: 9,
                                    weight: 0.15
                                },
                                {
                                    id: 2,
                                    grade: 10,
                                    weight: 0.15
                                }
                            ]
                        },
                        midterm: {
                            grade: 'AB(absent)',  // The student was absent for the midterm exam.
                            weight: 0.3
                        },
                        final: {
                            grade: 77,
                            weight: 0.4
                        },
                        total_score: 78.3,
                        attendance: {
                            total_classes: 30,
                            attended_classes: 27,
                            absent_classes: 3
                        }
                    }
                },
                extra_curricular: {
                    sports: {
                        sport: {
                            sport_name: 'Tennis',
                            position: 'Singles',
                            team: 'The Champions'
                        }
                    },
                    clubs: {
                        club: {
                            club_name: 'Art Club',
                            role: 'Vice President'
                        }
                    }
                }
            },
            {
                name: 'Alice',
                age: 14,
                contact: {
                    email: 'alice@example.com',
                    phone: '+111222333',
                    address: '789 Alice St, Another City'
                },
                courses: {
                    course: {
                        course_name: 'Science 101',
                        quizzes: {
                            quiz: [
                                {
                                    id: 1,
                                    grade: 7,
                                    weight: 0.2
                                },
                                {
                                    id: 2,
                                    grade: 8,
                                    weight: 0.2
                                }
                            ]
                        },
                        midterm: {
                            grade: 85,
                            weight: 0.3
                        },
                        final: {
                            grade: 90,
                            weight: 0.5
                        },
                        total_score: 84.7,
                        attendance: {
                            total_classes: 30,
                            attended_classes: 29,
                            absent_classes: 1
                        }
                    }
                },
                extra_curricular: {
                    sports: {
                        sport: {
                            sport_name: 'Swimming',
                            position: 'Freestyle',
                            team: 'Blue Sharks'
                        }
                    },
                    clubs: {
                        club: [
                            {
                                club_name: 'Chess Club',
                                role: 'Member'
                            },
                            {
                                club_name: 'Literature Club',
                                role: 'Secretary'
                            }
                        ]
                    }
                }
            }
        ]
    }
}`,readingconfigjson:JSON.stringify({name:"d3",version:"7.9.0",description:"Data-Driven Documents",homepage:"d3js.org",repository:{type:"git",url:"github.com/d3/d3.git"},keywords:["d3","dom","visualization","svg","animation","canvas"],license:"ISC",author:{firstname:"Mike",lastname:"Bostock"},type:"module",files:["dist/d3.js","dist/d3.min.js","src/**/*.js"],module:"src/index.js",main:"src/index.js",jsdelivr:"dist/d3.min.js",unpkg:"dist/d3.min.js",exports:{umd:"./dist/d3.min.js",default:"./src/index.js"},dependencies:{"d3-array":"^3.2.4","d3-axis":"^3.0.0","d3-brush":"^3.0.0","d3-chord":"^3.0.1","d3-color":"^3.1.0","d3-contour":"^4.0.2","d3-delaunay":"^6.0.4","d3-dispatch":"^3.0.1","d3-drag":"^3.0.0","d3-dsv":"^3.0.1","d3-ease":"^3.0.1","d3-fetch":"^3.0.1","d3-force":"^3.0.0","d3-format":"^3.1.0","d3-geo":"^3.1.1","d3-hierarchy":"^3.1.2","d3-interpolate":"^3.0.1","d3-path":"^3.1.0","d3-polygon":"^3.0.1","d3-quadtree":"^3.0.1","d3-random":"^3.0.1","d3-scale":"^4.0.2","d3-scale-chromatic":"^3.1.0","d3-selection":"^3.0.0","d3-shape":"^3.2.0","d3-time":"^3.1.0","d3-time-format":"^4.1.0","d3-timer":"^3.0.1","d3-transition":"^3.0.1","d3-zoom":"^3.0.0"},devDependencies:{"@observablehq/plot":"^0.6.7","@observablehq/runtime":"^5.7.3","@rollup/plugin-json":"^6.1.0","@rollup/plugin-node-resolve":"^15.2.3","@rollup/plugin-terser":"^0.4.0",eslint:"^8.57.0",mocha:"^10.3.0",rollup:"^3.29.4","topojson-client":"^3.1.0",vitepress:"^1.4.0"},scripts:{prepublishOnly:"rm -rf dist && rollup -c",postpublish:"git push && git push --tags","docs/dev":"node --experimental-network-imports node_modules/vitepress/dist/node/cli.js dev docs","docs/build":"./prebuild.sh && node --experimental-network-imports node_modules/vitepress/dist/node/cli.js build docs","docs/preview":"vitepress preview docs"},engines:{node:">=12"}},null,2),readingconfigxml:`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<root>
  <name>d3</name>
  <version>7.9.0</version> 
  <description>Data-Driven Documents</description>
  <homepage>d3js.org</homepage>
  <repository>
    <type>git</type>
    <url>github.com/d3/d3.git</url>
  </repository>
  <keywords>d3</keywords>
  <keywords>dom</keywords>
  <keywords>visualization</keywords>
  <keywords>svg</keywords>
  <keywords>animation</keywords>
  <keywords>canvas</keywords>
  <license>ISC</license>
  <author>
    <firstname>Mike</firstname>
    <lastname>Bostock</lastname>
  </author>
  <type>module</type>
  <files>dist/d3.js</files>
  <files>dist/d3.min.js</files>
  <files>src/**/*.js</files>
  <module>src/index.js</module>
  <main>src/index.js</main>
  <jsdelivr>dist/d3.min.js</jsdelivr>
  <unpkg>dist/d3.min.js</unpkg>
  <exports>
    <umd>./dist/d3.min.js</umd>
    <default>./src/index.js</default>
  </exports>
  <dependencies>
    <d3-array>^3.2.4</d3-array>
    <d3-axis>^3.0.0</d3-axis>
    <d3-brush>^3.0.0</d3-brush>
    <d3-chord>^3.0.1</d3-chord>
    <d3-color>^3.1.0</d3-color>
    <d3-contour>^4.0.2</d3-contour>
    <d3-delaunay>^6.0.4</d3-delaunay>  <!--this version might have compatibility issues-->
    <d3-dispatch>^3.0.1</d3-dispatch>
    <d3-drag>^3.0.0</d3-drag>
    <d3-dsv>^3.0.1</d3-dsv>
    <d3-ease>^3.0.1</d3-ease>
    <d3-fetch>^3.0.1</d3-fetch>
    <d3-force>^3.0.0</d3-force>
    <d3-format>^3.1.0</d3-format>
    <d3-geo>^3.1.1</d3-geo>
    <d3-hierarchy>^3.1.2</d3-hierarchy>
    <d3-interpolate>^3.0.1</d3-interpolate>
    <d3-path>^3.1.0</d3-path>
    <d3-polygon>^3.0.1</d3-polygon>
    <d3-quadtree>^3.0.1</d3-quadtree>
    <d3-random>^3.0.1</d3-random>
    <d3-scale>^4.0.2</d3-scale>
    <d3-scale-chromatic>^3.1.0</d3-scale-chromatic>
    <d3-selection>^3.0.0</d3-selection>
    <d3-shape>^3.2.0</d3-shape>
    <d3-time>^3.1.0</d3-time>
    <d3-time-format>^4.1.0</d3-time-format>
    <d3-timer>^3.0.1</d3-timer>
    <d3-transition>^3.0.1</d3-transition>
    <d3-zoom>^3.0.0</d3-zoom>
  </dependencies>
  <devDependencies>
    <_x0040_observablehq_x002F_plot>^0.6.7</_x0040_observablehq_x002F_plot>
    <_x0040_observablehq_x002F_runtime>^5.7.3</_x0040_observablehq_x002F_runtime>
    <_x0040_rollup_x002F_plugin-json>^6.1.0</_x0040_rollup_x002F_plugin-json>
    <_x0040_rollup_x002F_plugin-node-resolve>^15.2.3</_x0040_rollup_x002F_plugin-node-resolve>
    <_x0040_rollup_x002F_plugin-terser>^0.4.0</_x0040_rollup_x002F_plugin-terser>
    <eslint>^8.57.0</eslint>
    <mocha>^10.3.0</mocha>
    <rollup>^3.29.4</rollup>
    <topojson-client>^3.1.0</topojson-client>
    <vitepress>^1.4.0</vitepress>
  </devDependencies>
  <scripts>
    <prepublishOnly>rm -rf dist && rollup -c</prepublishOnly>
    <postpublish>git push && git push --tags</postpublish>
    <docs/dev>node --experimental-network-imports node_modules/vitepress/dist/node/cli.js dev docs</docs/dev>
    <docs/build>./prebuild.sh && node --experimental-network-imports node_modules/vitepress/dist/node/cli.js build docs</docs/build>
    <docs/preview>vitepress preview docs</docs/preview>
  <\/scripts>
  <engines>
    <node> >=12</node>
  </engines>
</root>`,readingconfigtoml:`name = "d3"
version = "7.9.0"
description = "Data-Driven Documents"
homepage = "d3js.org"
keywords = ["d3", "dom", "visualization", "svg", "animation", "canvas"]
license = "ISC"
type = "module"
files = ["dist/d3.js", "dist/d3.min.js", "src/**/*.js"]
module = "src/index.js"
main = "src/index.js"
jsdelivr = "dist/d3.min.js"
unpkg = "dist/d3.min.js"

[repository]
type = "git"
url = "github.com/d3/d3.git"

[author]
firstname = "Mike"
lastname = "Bostock"

[exports]
umd = "./dist/d3.min.js"
default = "./src/index.js"

[dependencies]
d3-array = "^3.2.4"
d3-axis = "^3.0.0"
d3-brush = "^3.0.0"
d3-chord = "^3.0.1"
d3-color = "^3.1.0"
d3-contour = "^4.0.2"
d3-delaunay = "^6.0.4" # this version might have compatibility issues
d3-dispatch = "^3.0.1"
d3-drag = "^3.0.0"
d3-dsv = "^3.0.1"
d3-ease = "^3.0.1"
d3-fetch = "^3.0.1"
d3-force = "^3.0.0"
d3-format = "^3.1.0"
d3-geo = "^3.1.1"
d3-hierarchy = "^3.1.2"
d3-interpolate = "^3.0.1"
d3-path = "^3.1.0"
d3-polygon = "^3.0.1"
d3-quadtree = "^3.0.1"
d3-random = "^3.0.1"
d3-scale = "^4.0.2"
d3-scale-chromatic = "^3.1.0"
d3-selection = "^3.0.0"
d3-shape = "^3.2.0"
d3-time = "^3.1.0"
d3-time-format = "^4.1.0"
d3-timer = "^3.0.1"
d3-transition = "^3.0.1"
d3-zoom = "^3.0.0"

[devDependencies]
@observablehq/plot = "^0.6.7"
@observablehq/runtime = "^5.7.3"
@rollup/plugin-json = "^6.1.0"
@rollup/plugin-node-resolve = "^15.2.3"
@rollup/plugin-terser = "^0.4.0"
eslint = "^8.57.0"
mocha = "^10.3.0"
rollup = "^3.29.4"
topojson-client = "^3.1.0"
vitepress = "^1.4.0"

[scripts]
prepublishOnly = "rm -rf dist && rollup -c"
postpublish = "git push && git push --tags"
docs/dev = "node --experimental-network-imports node_modules/vitepress/dist/node/cli.js dev docs"
docs/build = "./prebuild.sh && node --experimental-network-imports node_modules/vitepress/dist/node/cli.js build docs"
docs/preview = "vitepress preview docs"

[engines]
node = ">=12"`,readingconfigyaml:`
  name: d3
  version: 7.9.0
  description: 'Data-Driven Documents'
  homepage: d3js.org
  repository:
    type: git
    url: github.com/d3/d3.git
  keywords:
    - d3
    - dom
    - visualization
    - svg
    - animation
    - canvas
  license: ISC
  author:
    firstname: Mike
    lastname:  Bostock
  type: module
  files:
    - dist/d3.js
    - dist/d3.min.js
    - 'src/**/*.js'
  module: src/index.js
  main: src/index.js
  jsdelivr: dist/d3.min.js
  unpkg: dist/d3.min.js
  exports:
    umd: ./dist/d3.min.js
    default: ./src/index.js
  dependencies:
    d3-array: ^3.2.4
    d3-axis: ^3.0.0
    d3-brush: ^3.0.0
    d3-chord: ^3.0.1
    d3-color: ^3.1.0
    d3-contour: ^4.0.2
    d3-delaunay: ^6.0.4 # this version might have compatibility issues
    d3-dispatch: ^3.0.1
    d3-drag: ^3.0.0
    d3-dsv: ^3.0.1
    d3-ease: ^3.0.1
    d3-fetch: ^3.0.1
    d3-force: ^3.0.0
    d3-format: ^3.1.0
    d3-geo: ^3.1.1
    d3-hierarchy: ^3.1.2
    d3-interpolate: ^3.0.1
    d3-path: ^3.1.0
    d3-polygon: ^3.0.1
    d3-quadtree: ^3.0.1
    d3-random: ^3.0.1
    d3-scale: ^4.0.2
    d3-scale-chromatic: ^3.1.0
    d3-selection: ^3.0.0
    d3-shape: ^3.2.0
    d3-time: ^3.1.0
    d3-time-format: ^4.1.0
    d3-timer: ^3.0.1
    d3-transition: ^3.0.1
    d3-zoom: ^3.0.0
  devDependencies:
    observablehq/plot: ^0.6.7
    observablehq/runtime: ^5.7.3
    rollup/plugin-json: ^6.1.0
    rollup/plugin-node-resolve: ^15.2.3
    rollup/plugin-terser: ^0.4.0
    eslint: ^8.57.0
    mocha: ^10.3.0
    rollup: ^3.29.4
    topojson-client: ^3.1.0
    vitepress: ^1.4.0
  scripts:
    prepublishOnly: 'rm -rf dist && rollup -c'
    postpublish: 'git push && git push --tags'
    docs/dev: 'node --experimental-network-imports node_modules/vitepress/dist/node/cli.js dev docs'
    docs/build: './prebuild.sh && node --experimental-network-imports node_modules/vitepress/dist/node/cli.js build docs'
    docs/preview: 'vitepress preview docs'
  engines:
    node: '>=12'`,readingconfigjsonc:JSON.stringify({name:"d3",version:"7.9.0",description:"Data-Driven Documents",homepage:"d3js.org",repository:{type:"git",url:"github.com/d3/d3.git"},keywords:["d3","dom","visualization","svg","animation","canvas"],license:"ISC",author:{firstname:"Mike",lastname:"Bostock"},type:"module",files:["dist/d3.js","dist/d3.min.js","src/**/*.js"],module:"src/index.js",main:"src/index.js",jsdelivr:"dist/d3.min.js",unpkg:"dist/d3.min.js",exports:{umd:"./dist/d3.min.js",default:"./src/index.js"},dependencies:{"d3-array":"^3.2.4","d3-axis":"^3.0.0","d3-brush":"^3.0.0","d3-chord":"^3.0.1","d3-color":"^3.1.0","d3-contour":"^4.0.2","d3-delaunay":"^6.0.4","d3-dispatch":"^3.0.1","d3-drag":"^3.0.0","d3-dsv":"^3.0.1","d3-ease":"^3.0.1","d3-fetch":"^3.0.1","d3-force":"^3.0.0","d3-format":"^3.1.0","d3-geo":"^3.1.1","d3-hierarchy":"^3.1.2","d3-interpolate":"^3.0.1","d3-path":"^3.1.0","d3-polygon":"^3.0.1","d3-quadtree":"^3.0.1","d3-random":"^3.0.1","d3-scale":"^4.0.2","d3-scale-chromatic":"^3.1.0","d3-selection":"^3.0.0","d3-shape":"^3.2.0","d3-time":"^3.1.0","d3-time-format":"^4.1.0","d3-timer":"^3.0.1","d3-transition":"^3.0.1","d3-zoom":"^3.0.0"},devDependencies:{"@observablehq/plot":"^0.6.7","@observablehq/runtime":"^5.7.3","@rollup/plugin-json":"^6.1.0","@rollup/plugin-node-resolve":"^15.2.3","@rollup/plugin-terser":"^0.4.0",eslint:"^8.57.0",mocha:"^10.3.0",rollup:"^3.29.4","topojson-client":"^3.1.0",vitepress:"^1.4.0"},scripts:{prepublishOnly:"rm -rf dist && rollup -c",postpublish:"git push && git push --tags","docs/dev":"node --experimental-network-imports node_modules/vitepress/dist/node/cli.js dev docs","docs/build":"./prebuild.sh && node --experimental-network-imports node_modules/vitepress/dist/node/cli.js build docs","docs/preview":"vitepress preview docs"},engines:{node:">=12"}},null,2),readingconfigjson5:`{
    name: 'd3',
    version: '7.9.0',
    description: 'Data-Driven Documents',
    homepage: 'd3js.org',
    repository: {
        type: 'git',
        url: 'github.com/d3/d3.git'
    },
    keywords: [
        'd3',
        'dom',
        'visualization',
        'svg',
        'animation',
        'canvas'
    ],
    license: 'ISC',
    author: {
        firstname: 'Mike',
        lastname: 'Bostock'
    },
    type: 'module',
    files: [
        'dist/d3.js',
        'dist/d3.min.js',
        'src/**/*.js'
    ],
    module: 'src/index.js',
    main: 'src/index.js',
    jsdelivr: 'dist/d3.min.js',
    unpkg: 'dist/d3.min.js',
    exports: {
        umd: './dist/d3.min.js',
        default: './src/index.js'
    },
    dependencies: {
        'd3-array': '^3.2.4',
        'd3-axis': '^3.0.0',
        'd3-brush': '^3.0.0',
        'd3-chord': '^3.0.1',
        'd3-color': '^3.1.0',
        'd3-contour': '^4.0.2',
        'd3-delaunay': '^6.0.4', // this version might have compatibility issues
        'd3-dispatch': '^3.0.1',
        'd3-drag': '^3.0.0',
        'd3-dsv': '^3.0.1',
        'd3-ease': '^3.0.1',
        'd3-fetch': '^3.0.1',
        'd3-force': '^3.0.0',
        'd3-format': '^3.1.0',
        'd3-geo': '^3.1.1',
        'd3-hierarchy': '^3.1.2',
        'd3-interpolate': '^3.0.1',
        'd3-path': '^3.1.0',
        'd3-polygon': '^3.0.1',
        'd3-quadtree': '^3.0.1',
        'd3-random': '^3.0.1',
        'd3-scale': '^4.0.2',
        'd3-scale-chromatic': '^3.1.0',
        'd3-selection': '^3.0.0',
        'd3-shape': '^3.2.0',
        'd3-time': '^3.1.0',
        'd3-time-format': '^4.1.0',
        'd3-timer': '^3.0.1',
        'd3-transition': '^3.0.1',
        'd3-zoom': '^3.0.0'
    },
    devDependencies: {
        '@observablehq/plot': '^0.6.7',
        '@observablehq/runtime': '^5.7.3',
        '@rollup/plugin-json': '^6.1.0',
        '@rollup/plugin-node-resolve': '^15.2.3',
        '@rollup/plugin-terser': '^0.4.0',
        eslint: '^8.57.0',
        mocha: '^10.3.0',
        rollup: '^3.29.4',
        'topojson-client': '^3.1.0',
        vitepress: '^1.4.0'
    },
    scripts: {
        prepublishOnly: 'rm -rf dist && rollup -c',
        postpublish: 'git push && git push --tags',
        'docs/dev': 'node --experimental-network-imports node_modules/vitepress/dist/node/cli.js dev docs',
        'docs/build': './prebuild.sh && node --experimental-network-imports node_modules/vitepress/dist/node/cli.js build docs',
        'docs/preview': 'vitepress preview docs'
    },
    engines: {
        node: '>=12'
    }
}`,readingconfighjson:`{
    name: d3
    version: 7.9.0
    description: Data-Driven Documents
    homepage: d3js.org
    repository:
    {
      type: git
      url: github.com/d3/d3.git
    }
    keywords:
    [
      d3
      dom
      visualization
      svg
      animation
      canvas
    ]
    license: ISC
    author:
    {
      firstname: Mike
      lastname:  Bostock
    }
    type: module
    files:
    [
      dist/d3.js
      dist/d3.min.js
      src/**/*.js
    ]
    module: src/index.js
    main: src/index.js
    jsdelivr: dist/d3.min.js
    unpkg: dist/d3.min.js
    exports:
    {
      umd: ./dist/d3.min.js
      default: ./src/index.js
    }
    dependencies:
    {
      d3-array: ^3.2.4
      d3-axis: ^3.0.0
      d3-brush: ^3.0.0
      d3-chord: ^3.0.1
      d3-color: ^3.1.0
      d3-contour: ^4.0.2
      d3-delaunay: ^6.0.4 // this version might have compatibility issues
      d3-dispatch: ^3.0.1
      d3-drag: ^3.0.0
      d3-dsv: ^3.0.1
      d3-ease: ^3.0.1
      d3-fetch: ^3.0.1
      d3-force: ^3.0.0
      d3-format: ^3.1.0
      d3-geo: ^3.1.1
      d3-hierarchy: ^3.1.2
      d3-interpolate: ^3.0.1
      d3-path: ^3.1.0
      d3-polygon: ^3.0.1
      d3-quadtree: ^3.0.1
      d3-random: ^3.0.1
      d3-scale: ^4.0.2
      d3-scale-chromatic: ^3.1.0
      d3-selection: ^3.0.0
      d3-shape: ^3.2.0
      d3-time: ^3.1.0
      d3-time-format: ^4.1.0
      d3-timer: ^3.0.1
      d3-transition: ^3.0.1
      d3-zoom: ^3.0.0
    }
    devDependencies:
    {
      @observablehq/plot: ^0.6.7
      @observablehq/runtime: ^5.7.3
      @rollup/plugin-json: ^6.1.0
      @rollup/plugin-node-resolve: ^15.2.3
      @rollup/plugin-terser: ^0.4.0
      eslint: ^8.57.0
      mocha: ^10.3.0
      rollup: ^3.29.4
      topojson-client: ^3.1.0
      vitepress: ^1.4.0
    }
    scripts:
    {
      prepublishOnly: rm -rf dist && rollup -c
      postpublish: git push && git push --tags
      docs/dev: node --experimental-network-imports node_modules/vitepress/dist/node/cli.js dev docs
      docs/build: ./prebuild.sh && node --experimental-network-imports node_modules/vitepress/dist/node/cli.js build docs
      docs/preview: vitepress preview docs
    }
    engines:
    {
      node: >=12
    }
  }`,modifyingconfigjson:JSON.stringify({name:"vega-lite",author:"Dominik Moritz, Kanit Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer",version:"5.23.0",collaborators:["Kanit Wongsuphasawat","Dominik Moritz","Arvind Satyanarayan","Jeffrey Heer"],homepage:"ega.github.io/vega-lite/",description:"Vega-Lite is a concise high-level language for interactive visualization.",keywords:["vega","chart","visualization"],main:"build/vega-lite.js",unpkg:"build/vega-lite.min.js",jsdelivr:"build/vega-lite.min.js",module:"build/src/index",types:"build/src/index.d.ts",bin:{vl2pdf:"./bin/vl2pdf",vl2png:"./bin/vl2png",vl2svg:"./bin/vl2svg",vl2vg:"./bin/vl2vg"},files:["bin","build","src","vega-lite*","tsconfig.json"],scripts:{changelog:"conventional-changelog -p angular -r",prebuild:"yarn clean:build",build:"yarn build:only",data:"rsync -r node_modules/vega-datasets/data/* site/data","build-editor-preview":"scripts/build-editor-preview.sh",schema:"mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/",renameschema:"scripts/rename-schema.sh",presite:"yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh",site:"yarn site:only",format:"eslint . --fix && yarn prettierbase --write",lint:"eslint . && yarn prettierbase --check",test:"yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn",release:"release-it"},repository:{type:"git",url:"github.com/vega/vega-lite.git"},license:"BSD-3-Clause",bugs:{url:"github.com/vega/vega-lite/issues"},devDependencies:{ajv:"^8.17.1","ajv-formats":"^3.0.1",cheerio:"^1.0.0","conventional-changelog-cli":"^5.0.0",d3:"^7.9.0","del-cli":"^6.0.0",eslint:"^8.57.0","eslint-config-prettier":"^9.1.0","eslint-plugin-jest":"^28.11.0","eslint-plugin-prettier":"^5.2.1","fast-json-stable-stringify":"~2.1.0","highlight.js":"^11.11.1",jest:"^29.7.0","jest-dev-server":"^11.0.0",mkdirp:"^3.0.1",pako:"^2.1.0",prettier:"^3.4.2",puppeteer:"^15.0.0","release-it":"18.1.2",rollup:"^4.32.1","rollup-plugin-bundle-size":"^1.0.3",serve:"^14.2.4",terser:"^5.37.0","ts-jest":"^29.2.5","ts-json-schema-generator":"^2.3.0",typescript:"~5.7.3","vega-cli":"^5.31.0","vega-datasets":"^2.11.0","vega-embed":"^6.29.0","vega-tooltip":"^0.35.2","yaml-front-matter":"^4.1.1"},dependencies:{"json-stringify-pretty-compact":"~4.0.0",tslib:"~2.8.1","vega-event-selector":"~3.0.1","vega-expression":"~5.1.2","vega-util":"~1.17.3",yargs:"~17.7.2"},peerDependencies:{vega:"^5.31.0"},engines:{node:">=18"},packageManager:"yarn@1.22.22"},null,2),modifyingconfigjsonc:JSON.stringify({name:"vega-lite",author:"Dominik Moritz, Kanit Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer",version:"5.23.0",collaborators:["Kanit Wongsuphasawat","Dominik Moritz","Arvind Satyanarayan","Jeffrey Heer"],homepage:"vega.github.io/vega-lite/",description:"Vega-Lite is a concise high-level language for interactive visualization.",keywords:["vega","chart","visualization"],main:"build/vega-lite.js",unpkg:"build/vega-lite.min.js",jsdelivr:"build/vega-lite.min.js",module:"build/src/index",types:"build/src/index.d.ts",bin:{vl2pdf:"./bin/vl2pdf",vl2png:"./bin/vl2png",vl2svg:"./bin/vl2svg",vl2vg:"./bin/vl2vg"},files:["bin","build","src","vega-lite*","tsconfig.json"],scripts:{changelog:"conventional-changelog -p angular -r",prebuild:"yarn clean:build",build:"yarn build:only",data:"rsync -r node_modules/vega-datasets/data/* site/data","build-editor-preview":"scripts/build-editor-preview.sh",schema:"mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/",renameschema:"scripts/rename-schema.sh",presite:"yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh",site:"yarn site:only",format:"eslint . --fix && yarn prettierbase --write",lint:"eslint . && yarn prettierbase --check",test:"yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn",release:"release-it"},repository:{type:"git",url:"github.com/vega/vega-lite.git"},license:"BSD-3-Clause",bugs:{url:"github.com/vega/vega-lite/issues"},devDependencies:{ajv:"^8.17.1","ajv-formats":"^3.0.1",cheerio:"^1.0.0","conventional-changelog-cli":"^5.0.0",d3:"^7.9.0","del-cli":"^6.0.0",eslint:"^8.57.0","eslint-config-prettier":"^9.1.0","eslint-plugin-jest":"^28.11.0","eslint-plugin-prettier":"^5.2.1","fast-json-stable-stringify":"~2.1.0","highlight.js":"^11.11.1",jest:"^29.7.0","jest-dev-server":"^11.0.0",mkdirp:"^3.0.1",pako:"^2.1.0",prettier:"^3.4.2",puppeteer:"^15.0.0","release-it":"18.1.2",rollup:"^4.32.1","rollup-plugin-bundle-size":"^1.0.3",serve:"^14.2.4",terser:"^5.37.0","ts-jest":"^29.2.5","ts-json-schema-generator":"^2.3.0",typescript:"~5.7.3","vega-cli":"^5.31.0","vega-datasets":"^2.11.0","vega-embed":"^6.29.0","vega-tooltip":"^0.35.2","yaml-front-matter":"^4.1.1"},dependencies:{"json-stringify-pretty-compact":"~4.0.0",tslib:"~2.8.1","vega-event-selector":"~3.0.1","vega-expression":"~5.1.2","vega-util":"~1.17.3",yargs:"~17.7.2"},peerDependencies:{vega:"^5.31.0"},engines:{node:">=18"},packageManager:"yarn@1.22.22"},null,2),modifyingconfigxml:`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<root>
  <name>vega-lite</name>
  <author>Dominik Moritz, Kanit Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer</author>
  <version>5.23.0</version>   <!--make sure that the vega version specified in peerDependencies matches this value. -->
  <collaborators>Kanit Wongsuphasawat</collaborators>
  <collaborators>Dominik Moritz</collaborators>
  <collaborators>Arvind Satyanarayan</collaborators>
  <collaborators>Jeffrey Heer</collaborators>
  <homepage>vega.github.io/vega-lite/</homepage>
  <description>Vega-Lite is a concise high-level language for interactive visualization.</description>
  <keywords>vega</keywords>
  <keywords>chart</keywords>
  <keywords>visualization</keywords>
  <main>build/vega-lite.js</main>
  <unpkg>build/vega-lite.min.js</unpkg>
  <jsdelivr>build/vega-lite.min.js</jsdelivr>
  <module>build/src/index</module>
  <types>build/src/index.d.ts</types>
  <bin>
    <vl2pdf>./bin/vl2pdf</vl2pdf>
    <vl2png>./bin/vl2png</vl2png>
    <vl2svg>./bin/vl2svg</vl2svg>
    <vl2vg>./bin/vl2vg</vl2vg>
  </bin>
  <files>bin</files>
  <files>build</files>
  <files>src</files>
  <files>vega-lite*</files>
  <files>tsconfig.json</files>
  <scripts>
    <changelog>conventional-changelog -p angular -r</changelog>
    <prebuild>yarn clean:build</prebuild>
    <build>yarn build:only</build>
    <data>rsync -r node_modules/vega-datasets/data/* site/data</data>
    <build-editor-preview>scripts/build-editor-preview.sh</build-editor-preview>
    <schema>mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode >; build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/</schema>
    <renameschema>scripts/rename-schema.sh</renameschema>
    <presite>yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh</presite>
    <site>yarn site:only</site>
    <format>eslint . --fix && yarn prettierbase --write</format>
    <lint>eslint . && yarn prettierbase --check</lint>
    <test>yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn</test>
    <release>release-it</release>
  <\/scripts>
  <repository>
    <type>git</type>
    <url>github.com/vega/vega-lite.git</url>
  </repository>
  <license>BSD-3-Clause</license>
  <bugs>
    <url>github.com/vega/vega-lite/issues</url>
  </bugs>
  <devDependencies>
    <ajv>^8.17.1</ajv>
    <ajv-formats>^3.0.1</ajv-formats>
    <cheerio>^1.0.0</cheerio>
    <conventional-changelog-cli>^5.0.0</conventional-changelog-cli>
    <d3>^7.9.0</d3>
    <del-cli>^6.0.0</del-cli>
    <eslint>^8.57.0</eslint>
    <eslint-config-prettier>^9.1.0</eslint-config-prettier>
    <eslint-plugin-jest>^28.11.0</eslint-plugin-jest>
    <eslint-plugin-prettier>^5.2.1</eslint-plugin-prettier>
    <fast-json-stable-stringify>~2.1.0</fast-json-stable-stringify>
    <highlight.js>^11.11.1</highlight.js>
    <jest>^29.7.0</jest>
    <jest-dev-server>^11.0.0</jest-dev-server>
    <mkdirp>^3.0.1</mkdirp>
    <pako>^2.1.0</pako>
    <prettier>^3.4.2</prettier>
    <puppeteer>^15.0.0</puppeteer>
    <release-it>18.1.2</release-it>
    <rollup>^4.32.1</rollup>
    <rollup-plugin-bundle-size>^1.0.3</rollup-plugin-bundle-size>
    <serve>^14.2.4</serve>
    <terser>^5.37.0</terser>
    <ts-jest>^29.2.5</ts-jest>
    <ts-json-schema-generator>^2.3.0</ts-json-schema-generator>
    <typescript>~5.7.3</typescript>
    <vega-cli>^5.31.0</vega-cli>
    <vega-datasets>^2.11.0</vega-datasets>
    <vega-embed>^6.29.0</vega-embed>
    <vega-tooltip>^0.35.2</vega-tooltip>
    <yaml-front-matter>^4.1.1</yaml-front-matter>
  </devDependencies>
  <dependencies>
    <json-stringify-pretty-compact>~4.0.0</json-stringify-pretty-compact>
    <tslib>~2.8.1</tslib>
    <vega-event-selector>~3.0.1</vega-event-selector>
    <vega-expression>~5.1.2</vega-expression>
    <vega-util>~1.17.3</vega-util>
    <yargs>~17.7.2</yargs>
  </dependencies>
  <peerDependencies>
    <vega>^5.31.0</vega>  <!--make sure this value matches the value of the version at the beginning. -->
  </peerDependencies>
  <engines>
    <node>>=18</node>
  </engines>
  <packageManager>yarn@1.22.22</packageManager>
</root>`,modifyingconfigtoml:`name = "vega-lite"
author = "Dominik Moritz, Kanit Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer"
version = "5.23.0"   # make sure that the vega version specified in peerDependencies matches this value.
collaborators = ["Kanit Wongsuphasawat", "Dominik Moritz", "Arvind Satyanarayan", "Jeffrey Heer"]
homepage = "vega.github.io/vega-lite/"
description = "Vega-Lite is a concise high-level language for interactive visualization."
keywords = ["vega", "chart", "visualization"]
main = "build/vega-lite.js"
unpkg = "build/vega-lite.min.js"
jsdelivr = "build/vega-lite.min.js"
module = "build/src/index"
types = "build/src/index.d.ts"
files = ["bin", "build", "src", "vega-lite*", "tsconfig.json"]
license = "BSD-3-Clause"
packageManager = "yarn@1.22.22"

[bin]
vl2pdf = "./bin/vl2pdf"
vl2png = "./bin/vl2png"
vl2svg = "./bin/vl2svg"
vl2vg = "./bin/vl2vg"

[scripts]
changelog = "conventional-changelog -p angular -r"
prebuild = "yarn clean:build"
build = "yarn build:only"
data = "rsync -r node_modules/vega-datasets/data/* site/data"
build-editor-preview = "scripts/build-editor-preview.sh"
schema = "mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/"
renameschema = "scripts/rename-schema.sh"
presite = "yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh"
site = "yarn site:only"
format = "eslint . --fix && yarn prettierbase --write"
lint = "eslint . && yarn prettierbase --check"
test = "yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn"
release = "release-it"

[repository]
type = "git"
url = "github.com/vega/vega-lite.git"

[bugs]
url = "github.com/vega/vega-lite/issues"

[devDependencies]
ajv = "^8.17.1"
ajv-formats = "^3.0.1"
cheerio = "^1.0.0"
conventional-changelog-cli = "^5.0.0"
d3 = "^7.9.0"
del-cli = "^6.0.0"
eslint = "^8.57.0"
eslint-config-prettier = "^9.1.0"
eslint-plugin-jest = "^28.11.0"
eslint-plugin-prettier = "^5.2.1"
fast-json-stable-stringify = "~2.1.0"
"highlight.js" = "^11.11.1"
jest = "^29.7.0"
jest-dev-server = "^11.0.0"
mkdirp = "^3.0.1"
pako = "^2.1.0"
prettier = "^3.4.2"
puppeteer = "^15.0.0"
release-it = "18.1.2"
rollup = "^4.32.1"
rollup-plugin-bundle-size = "^1.0.3"
serve = "^14.2.4"
terser = "^5.37.0"
ts-jest = "^29.2.5"
ts-json-schema-generator = "^2.3.0"
typescript = "~5.7.3"
vega-cli = "^5.31.0"
vega-datasets = "^2.11.0"
vega-embed = "^6.29.0"
vega-tooltip = "^0.35.2"
yaml-front-matter = "^4.1.1"

[dependencies]
json-stringify-pretty-compact = "~4.0.0"
tslib = "~2.8.1"
vega-event-selector = "~3.0.1"
vega-expression = "~5.1.2"
vega-util = "~1.17.3"
yargs = "~17.7.2"

[peerDependencies]
vega = "^5.31.0"   # make sure this value matches the value of the version at the beginning.

[engines]
node = ">=18"`,modifyingconfigyaml:`name: vega-lite
author: Dominik Moritz, Kanit Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer
version: 5.23.0  # make sure that the vega version specified in peerDependencies matches this value.
collaborators:
  - Kanit Wongsuphasawat
  - Dominik Moritz
  - Arvind Satyanarayan
  - Jeffrey Heer
homepage: vega.github.io/vega-lite/
description: Vega-Lite is a concise high-level language for interactive visualization.
keywords:
  - vega
  - chart
  - visualization
main: build/vega-lite.js
unpkg: build/vega-lite.min.js
jsdelivr: build/vega-lite.min.js
module: build/src/index
types: build/src/index.d.ts
bin:
  vl2pdf: ./bin/vl2pdf
  vl2png: ./bin/vl2png
  vl2svg: ./bin/vl2svg
  vl2vg: ./bin/vl2vg
files:
  - bin
  - build
  - src
  - vega-lite*
  - tsconfig.json
scripts:
  changelog: conventional-changelog -p angular -r
  prebuild: yarn clean:build
  build: yarn build:only
  data: rsync -r node_modules/vega-datasets/data/* site/data
  build-editor-preview: scripts/build-editor-preview.sh
  schema: mkdir -p build && ts-json-schema-generator -f tsconfig.json -p
    src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode >
    build/vega-lite-schema.json && yarn renameschema && cp
    build/vega-lite-schema.json site/_data/
  renameschema: scripts/rename-schema.sh
  presite: yarn data && yarn schema && yarn build:site && yarn build:versions &&
    scripts/create-example-pages.sh
  site: yarn site:only
  format: eslint . --fix && yarn prettierbase --write
  lint: eslint . && yarn prettierbase --check
  test: yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn
  release: release-it
repository:
  type: git
  url: github.com/vega/vega-lite.git
license: BSD-3-Clause
bugs:
  url: github.com/vega/vega-lite/issues
devDependencies:
  ajv: ^8.17.1
  ajv-formats: ^3.0.1
  cheerio: ^1.0.0
  conventional-changelog-cli: ^5.0.0
  d3: ^7.9.0
  del-cli: ^6.0.0
  eslint: ^8.57.0
  eslint-config-prettier: ^9.1.0
  eslint-plugin-jest: ^28.11.0
  eslint-plugin-prettier: ^5.2.1
  fast-json-stable-stringify: ~2.1.0
  highlight.js: ^11.11.1
  jest: ^29.7.0
  jest-dev-server: ^11.0.0
  mkdirp: ^3.0.1
  pako: ^2.1.0
  prettier: ^3.4.2
  puppeteer: ^15.0.0
  release-it: 18.1.2
  rollup: ^4.32.1
  rollup-plugin-bundle-size: ^1.0.3
  serve: ^14.2.4
  terser: ^5.37.0
  ts-jest: ^29.2.5
  ts-json-schema-generator: ^2.3.0
  typescript: ~5.7.3
  vega-cli: ^5.31.0
  vega-datasets: ^2.11.0
  vega-embed: ^6.29.0
  vega-tooltip: ^0.35.2
  yaml-front-matter: ^4.1.1
dependencies:
  json-stringify-pretty-compact: ~4.0.0
  tslib: ~2.8.1
  vega-event-selector: ~3.0.1
  vega-expression: ~5.1.2
  vega-util: ~1.17.3
  yargs: ~17.7.2
peerDependencies:
  vega: ^5.31.0  # make sure this value matches the value of the version at the beginning.
engines:
  node: ">=18"
packageManager: yarn@1.22.22`,modifyingconfigjson5:`{
    name: 'vega-lite',
    author: 'Dominik Moritz, Kanit Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer',
    version: '5.23.0',  // make sure that the vega version specified in peerDependencies matches this value.
    collaborators: [
        'Kanit Wongsuphasawat',
        'Dominik Moritz',
        'Arvind Satyanarayan',
        'Jeffrey Heer'
    ],
    homepage: 'vega.github.io/vega-lite/',
    description: 'Vega-Lite is a concise high-level language for interactive visualization.',
    keywords: [
        'vega',
        'chart',
        'visualization'
    ],
    main: 'build/vega-lite.js',
    unpkg: 'build/vega-lite.min.js',
    jsdelivr: 'build/vega-lite.min.js',
    module: 'build/src/index',
    types: 'build/src/index.d.ts',
    bin: {
        vl2pdf: './bin/vl2pdf',
        vl2png: './bin/vl2png',
        vl2svg: './bin/vl2svg',
        vl2vg: './bin/vl2vg'
    },
    files: [
        'bin',
        'build',
        'src',
        'vega-lite*',
        'tsconfig.json'
    ],
    scripts: {
        changelog: 'conventional-changelog -p angular -r',
        prebuild: 'yarn clean:build',
        build: 'yarn build:only',
        data: 'rsync -r node_modules/vega-datasets/data/* site/data',
        'build-editor-preview': 'scripts/build-editor-preview.sh',
        schema: 'mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/',
        renameschema: 'scripts/rename-schema.sh',
        presite: 'yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh',
        site: 'yarn site:only',
        format: 'eslint . --fix && yarn prettierbase --write',
        lint: 'eslint . && yarn prettierbase --check',
        test: 'yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn',
        release: 'release-it'
    },
    repository: {
        type: 'git',
        url: 'github.com/vega/vega-lite.git'
    },
    license: 'BSD-3-Clause',
    bugs: {
        url: 'github.com/vega/vega-lite/issues'
    },
    devDependencies: {
        ajv: '^8.17.1',
        'ajv-formats': '^3.0.1',
        cheerio: '^1.0.0',
        'conventional-changelog-cli': '^5.0.0',
        d3: '^7.9.0',
        'del-cli': '^6.0.0',
        eslint: '^8.57.0',
        'eslint-config-prettier': '^9.1.0',
        'eslint-plugin-jest': '^28.11.0',
        'eslint-plugin-prettier': '^5.2.1',
        'fast-json-stable-stringify': '~2.1.0',
        'highlight.js': '^11.11.1',
        jest: '^29.7.0',
        'jest-dev-server': '^11.0.0',
        mkdirp: '^3.0.1',
        pako: '^2.1.0',
        prettier: '^3.4.2',
        puppeteer: '^15.0.0',
        'release-it': '18.1.2',
        rollup: '^4.32.1',
        'rollup-plugin-bundle-size': '^1.0.3',
        serve: '^14.2.4',
        terser: '^5.37.0',
        'ts-jest': '^29.2.5',
        'ts-json-schema-generator': '^2.3.0',
        typescript: '~5.7.3',
        'vega-cli': '^5.31.0',
        'vega-datasets': '^2.11.0',
        'vega-embed': '^6.29.0',
        'vega-tooltip': '^0.35.2',
        'yaml-front-matter': '^4.1.1'
    },
    dependencies: {
        'json-stringify-pretty-compact': '~4.0.0',
        tslib: '~2.8.1',
        'vega-event-selector': '~3.0.1',
        'vega-expression': '~5.1.2',
        'vega-util': '~1.17.3',
        yargs: '~17.7.2'
    },
    peerDependencies: {
        vega: '^5.31.0' //make sure this value matches the value of the version at the beginning.
    },
    engines: {
        node: '>=18'
    },
    packageManager: 'yarn@1.22.22'
}`,modifyingconfighjson:`
  name: vega-lite
  author: Dominik Moritz, Kanit Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer
  version: 5.23.0   // make sure that the vega version specified in peerDependencies matches this value.
  collaborators:
  [
    Kanit Wongsuphasawat
    Dominik Moritz
    Arvind Satyanarayan
    Jeffrey Heer
  ]
  homepage: vega.github.io/vega-lite/
  description: Vega-Lite is a concise high-level language for interactive visualization.
  keywords:
  [
    vega
    chart
    visualization
  ]
  main: build/vega-lite.js
  unpkg: build/vega-lite.min.js
  jsdelivr: build/vega-lite.min.js
  module: build/src/index
  types: build/src/index.d.ts
  bin:
  {
    vl2pdf: ./bin/vl2pdf
    vl2png: ./bin/vl2png
    vl2svg: ./bin/vl2svg
    vl2vg: ./bin/vl2vg
  }
  files:
  [
    bin
    build
    src
    vega-lite*
    tsconfig.json
  ]
  scripts:
  {
    changelog: conventional-changelog -p angular -r
    prebuild: yarn clean:build
    build: yarn build:only
    data: rsync -r node_modules/vega-datasets/data/* site/data
    build-editor-preview: scripts/build-editor-preview.sh
    schema: mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/
    renameschema: scripts/rename-schema.sh
    presite: yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh
    site: yarn site:only
    format: eslint . --fix && yarn prettierbase --write
    lint: eslint . && yarn prettierbase --check
    test: yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn
    release: release-it
  }
  repository:
  {
    type: git
    url: github.com/vega/vega-lite.git
  }
  license: BSD-3-Clause
  bugs:
  {
    url: github.com/vega/vega-lite/issues
  }
  devDependencies:
  {
    ajv: ^8.17.1
    ajv-formats: ^3.0.1
    cheerio: ^1.0.0
    conventional-changelog-cli: ^5.0.0
    d3: ^7.9.0
    del-cli: ^6.0.0
    eslint: ^8.57.0
    eslint-config-prettier: ^9.1.0
    eslint-plugin-jest: ^28.11.0
    eslint-plugin-prettier: ^5.2.1
    fast-json-stable-stringify: ~2.1.0
    highlight.js: ^11.11.1
    jest: ^29.7.0
    jest-dev-server: ^11.0.0
    mkdirp: ^3.0.1
    pako: ^2.1.0
    prettier: ^3.4.2
    puppeteer: ^15.0.0
    release-it: 18.1.2
    rollup: ^4.32.1
    rollup-plugin-bundle-size: ^1.0.3
    serve: ^14.2.4
    terser: ^5.37.0
    ts-jest: ^29.2.5
    ts-json-schema-generator: ^2.3.0
    typescript: ~5.7.3
    vega-cli: ^5.31.0
    vega-datasets: ^2.11.0
    vega-embed: ^6.29.0
    vega-tooltip: ^0.35.2
    yaml-front-matter: ^4.1.1
  }
  dependencies:
  {
    json-stringify-pretty-compact: ~4.0.0
    tslib: ~2.8.1
    vega-event-selector: ~3.0.1
    vega-expression: ~5.1.2
    vega-util: ~1.17.3
    yargs: ~17.7.2
  }
  peerDependencies:
  {
    vega: ^5.31.0  //make sure this value matches the value of the version at the beginning.
  }
  engines:
  {
    node: >=18
  }
  packageManager: yarn@1.22.22`,modifyingtabularjson:JSON.stringify({movies:{movie:[{title:"After Dark in Central Park",year:1900,cast:[],genres:["Silent","Short"],href:null,country:"United States",runtime:3,language:"Silent",release_date:"1900-03-15",production_company:"Edison Manufacturing Company",director:"James H. White",writer:"Unknown",cinematography:"Unknown",budget:500,box_office:null,awards:[]},{title:"Boarding School Girls' Pajama Parade",year:1900,cast:[],genres:["Silent","Short"],href:null,country:"United States",runtime:2,language:"Silent",release_date:"1900-05-10",production_company:"Edison Manufacturing Company",director:"James H. White",writer:"Unknown",cinematography:"Unknown",budget:450,box_office:null,awards:[]},{title:"Buffalo Bill's Wild West Parade",year:1900,cast:["Buffalo Bill (William F. Cody)"],genres:["Documentary"],href:null,country:"United States",runtime:5,language:"Silent",release_date:"1900-07-04",production_company:"Edison Manufacturing Company",director:"Unknown",writer:"Unknown",cinematography:"Unknown",budget:600,box_office:null,awards:[]},{title:"Caught",year:1900,cast:[],genres:["Drama"],href:null,country:"United States",runtime:2,language:"Silent",release_date:"1900-02-20",production_company:"Biograph Company",director:"William Heise",writer:"Unknown",cinematography:"Unknown",budget:400,box_office:null,awards:[]},{title:"Clowns Spinning Hats",year:1900,cast:["Unknown Clowns"],genres:["Silent","Comedy"],href:"Clowns_Spinning_Hats",extract:"Clowns Spinning Hats is a black-and-white silent film featuring clowns throwing hats back and forth to each other. It was written and produced by Lubin Films and released April 7, 1900.",country:"United States",runtime:3,language:"Silent",release_date:"1900-04-07",production_company:"Lubin Films",director:"Unknown",writer:"Unknown",cinematography:"Unknown",budget:500,box_office:null,awards:[]},{title:"The Enchanted Drawing",year:1900,cast:["J. Stuart Blackton"],genres:["Silent","Animation"],href:"The_Enchanted_Drawing",extract:"The Enchanted Drawing is a 1900 silent film directed by J. Stuart Blackton. It is best known for containing the first animated sequences recorded on standard picture film, which has led Blackton to be considered the father of American animation.",thumbnail_width:320,thumbnail_height:240,country:"United States",runtime:2,language:"Silent",release_date:"1900-11-16",production_company:"Vitagraph Studios",director:"J. Stuart Blackton",writer:"J. Stuart Blackton",cinematography:"Unknown",budget:700,box_office:null,awards:[]},{title:"Feeding Sea Lions",year:1900,cast:["Paul Boyton"],genres:["Short","Silent"],href:"Feeding_Sea_Lions",extract:"Feeding Sea Lions is a short silent film featuring Paul Boyton feeding sea lions at his Sea Lion Park at Coney Island. Boyton is shown feeding the trained sea lions, twelve in number. The sea lions follow Boyton up the steps of the pool and then follow him back into the water. One of them steals food out of the basket. The film was made by Lubin Studios on March 10, 1900.",country:"United States",runtime:3,language:"Silent",release_date:"1900-03-10",production_company:"Lubin Studios",director:"Unknown",writer:"Unknown",cinematography:"Unknown",budget:450,box_office:null,awards:[]},{title:"A Trip to the Moon",year:1902,cast:["Georges Mlis"],genres:["Sci-Fi","Adventure"],href:"A_Trip_to_the_Moon",extract:"A Trip to the Moon (French: Le Voyage dans la Lune) is a 1902 French silent film directed by Georges Mlis. It is widely regarded as the first science fiction film ever made.",thumbnail_width:320,thumbnail_height:240,country:"France",runtime:14,language:"Silent",release_date:"1902-09-01",production_company:"Star Film Company",director:"Georges Mlis",writer:"Georges Mlis",cinematography:"Georges Mlis",budget:1e4,box_office:2e4,awards:["Considered a milestone in cinema history"]},{title:"The Great Train Robbery",year:1903,cast:["Gilbert M. Anderson","A. C. Abadie"],genres:["Western","Action"],href:"The_Great_Train_Robbery",extract:"The Great Train Robbery is a 1903 American silent short film directed by Edwin S. Porter. It is considered one of the earliest narrative films.",thumbnail_width:320,thumbnail_height:240,country:"United States",runtime:12,language:"Silent",release_date:"1903-12-01",production_company:"Edison Manufacturing Company",director:"Edwin S. Porter",writer:"Scott Marble",cinematography:"Edwin S. Porter",budget:150,box_office:5e3,awards:["One of the earliest crime films"]}]}},null,2),modifyingtabularjsonc:JSON.stringify({movies:{movie:[{title:"After Dark in Central Park",year:1900,cast:[],genres:["Silent","Short"],href:null,country:"United States",runtime:3,language:"Silent",release_date:"1900-03-15",production_company:"Edison Manufacturing Company",director:"James H. White",writer:"Unknown",cinematography:"Unknown",budget:500,box_office:null,awards:[]},{title:"Boarding School Girls' Pajama Parade",year:1900,cast:[],genres:["Silent","Short"],href:null,country:"United States",runtime:2,language:"Silent",release_date:"1900-05-10",production_company:"Edison Manufacturing Company",director:"James H. White",writer:"Unknown",cinematography:"Unknown",budget:450,box_office:null,awards:[]},{title:"Buffalo Bill's Wild West Parade",year:1900,cast:["Buffalo Bill (William F. Cody)"],genres:["Documentary"],href:null,country:"United States",runtime:5,language:"Silent",release_date:"1900-07-04",production_company:"Edison Manufacturing Company",director:"Unknown",writer:"Unknown",cinematography:"Unknown",budget:600,box_office:null,awards:[]},{title:"Caught",year:1900,cast:[],genres:["Drama"],href:null,country:"United States",runtime:2,language:"Silent",release_date:"1900-02-20",production_company:"Biograph Company",director:"William Heise",writer:"Unknown",cinematography:"Unknown",budget:400,box_office:null,awards:[]},{title:"Clowns Spinning Hats",year:1900,cast:["Unknown Clowns"],genres:["Silent","Comedy"],href:"Clowns_Spinning_Hats",extract:"Clowns Spinning Hats is a black-and-white silent film featuring clowns throwing hats back and forth to each other. It was written and produced by Lubin Films and released April 7, 1900.",country:"United States",runtime:3,language:"Silent",release_date:"1900-04-07",production_company:"Lubin Films",director:"Unknown",writer:"Unknown",cinematography:"Unknown",budget:500,box_office:null,awards:[]},{title:"The Enchanted Drawing",year:1900,cast:["J. Stuart Blackton"],genres:["Silent","Animation"],href:"The_Enchanted_Drawing",extract:"The Enchanted Drawing is a 1900 silent film directed by J. Stuart Blackton. It is best known for containing the first animated sequences recorded on standard picture film, which has led Blackton to be considered the father of American animation.",thumbnail_width:320,thumbnail_height:240,country:"United States",runtime:2,language:"Silent",release_date:"1900-11-16",production_company:"Vitagraph Studios",director:"J. Stuart Blackton",writer:"J. Stuart Blackton",cinematography:"Unknown",budget:700,box_office:null,awards:[]},{title:"Feeding Sea Lions",year:1900,cast:["Paul Boyton"],genres:["Short","Silent"],href:"Feeding_Sea_Lions",extract:"Feeding Sea Lions is a short silent film featuring Paul Boyton feeding sea lions at his Sea Lion Park at Coney Island. Boyton is shown feeding the trained sea lions, twelve in number. The sea lions follow Boyton up the steps of the pool and then follow him back into the water. One of them steals food out of the basket. The film was made by Lubin Studios on March 10, 1900.",country:"United States",runtime:3,language:"Silent",release_date:"1900-03-10",production_company:"Lubin Studios",director:"Unknown",writer:"Unknown",cinematography:"Unknown",budget:450,box_office:null,awards:[]},{title:"A Trip to the Moon",year:1902,cast:["Georges Mlis"],genres:["Sci-Fi","Adventure"],href:"A_Trip_to_the_Moon",extract:"A Trip to the Moon (French: Le Voyage dans la Lune) is a 1902 French silent film directed by Georges Mlis. It is widely regarded as the first science fiction film ever made.",thumbnail_width:320,thumbnail_height:240,country:"France",runtime:14,language:"Silent",release_date:"1902-09-01",production_company:"Star Film Company",director:"Georges Mlis",writer:"Georges Mlis",cinematography:"Georges Mlis",budget:1e4,box_office:2e4,awards:["Considered a milestone in cinema history"]},{title:"The Great Train Robbery",year:1903,cast:["Gilbert M. Anderson","A. C. Abadie"],genres:["Western","Action"],href:"The_Great_Train_Robbery",extract:"The Great Train Robbery is a 1903 American silent short film directed by Edwin S. Porter. It is considered one of the earliest narrative films.",thumbnail_width:320,thumbnail_height:240,country:"United States",runtime:12,language:"Silent",release_date:"1903-12-01",production_company:"Edison Manufacturing Company",director:"Edwin S. Porter",writer:"Scott Marble",cinematography:"Edwin S. Porter",budget:150,box_office:5e3,awards:["One of the earliest crime films"]}]}},null,2),modifyingtabularxml:`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<movies>
  <movie>
    <title>After Dark in Central Park</title>
    <year>1900</year>
    <cast/>
    <genres>Silent</genres>
    <genres>Short</genres>
    <href/>
    <country>United States</country>
    <runtime>3</runtime>
    <language>Silent</language>
    <release_date>1900-03-15</release_date>
    <production_company>Edison Manufacturing Company</production_company>
    <director>James H. White</director>
    <writer>Unknown</writer>
    <cinematography>Unknown</cinematography>
    <budget>500</budget>
    <box_office/>
    <awards/>
  </movie>
  <movie>
    <title>Boarding School Girls' Pajama Parade</title>
    <year>1900</year>
    <cast/>
    <genres>Silent</genres>
    <genres>Short</genres>
    <href/>
    <country>United States</country>
    <runtime>2</runtime>
    <language>Silent</language>
    <release_date>1900-05-10</release_date>
    <production_company>Edison Manufacturing Company</production_company>
    <director>James H. White</director>
    <writer>Unknown</writer>
    <cinematography>Unknown</cinematography>
    <budget>450</budget>
    <box_office/>
    <awards/>
  </movie>
  <movie>
    <title>Buffalo Bill's Wild West Parade</title>
    <year>1900</year>
    <cast>Buffalo Bill (William F. Cody)</cast>
    <genres>Documentary</genres>
    <href/>
    <country>United States</country>
    <runtime>5</runtime>
    <language>Silent</language>
    <release_date>1900-07-04</release_date>
    <production_company>Edison Manufacturing Company</production_company>
    <director>Unknown</director>
    <writer>Unknown</writer>
    <cinematography>Unknown</cinematography>
    <budget>600</budget>
    <box_office/>
    <awards/>
  </movie>
  <movie>
    <title>Caught</title>
    <year>1900</year>
    <cast/>
    <genres>Drama</genres>
    <href/>
    <country>United States</country>
    <runtime>2</runtime>
    <language>Silent</language>
    <release_date>1900-02-20</release_date>
    <production_company>Biograph Company</production_company>
    <director>William Heise</director>
    <writer>Unknown</writer>
    <cinematography>Unknown</cinematography>
    <budget>400</budget>
    <box_office/>
    <awards/>
  </movie>
  <movie>
    <title>Clowns Spinning Hats</title>
    <year>1900</year>
    <cast>Unknown Clowns</cast>
    <genres>Silent</genres>
    <genres>Comedy</genres>
    <href>Clowns_Spinning_Hats</href>
    <extract>Clowns Spinning Hats is a black-and-white silent film featuring clowns throwing hats back and forth to each other. It was written and produced by Lubin Films and released April 7, 1900.</extract>
    <country>United States</country>
    <runtime>3</runtime>
    <language>Silent</language>
    <release_date>1900-04-07</release_date>
    <production_company>Lubin Films</production_company>
    <director>Unknown</director>
    <writer>Unknown</writer>
    <cinematography>Unknown</cinematography>
    <budget>500</budget>
    <box_office/>
    <awards/>
  </movie>
  <movie>
    <title>The Enchanted Drawing</title>
    <year>1900</year>
    <cast>J. Stuart Blackton</cast>
    <genres>Silent</genres>
    <genres>Animation</genres>
    <href>The_Enchanted_Drawing</href>
    <extract>The Enchanted Drawing is a 1900 silent film directed by J. Stuart Blackton. It is best known for containing the first animated sequences recorded on standard picture film, which has led Blackton to be considered the father of American animation.</extract>
    <thumbnail_width>320</thumbnail_width>
    <thumbnail_height>240</thumbnail_height>
    <country>United States</country>
    <runtime>2</runtime>
    <language>Silent</language>
    <release_date>1900-11-16</release_date>
    <production_company>Vitagraph Studios</production_company>
    <director>J. Stuart Blackton</director>
    <writer>J. Stuart Blackton</writer>
    <cinematography>Unknown</cinematography>
    <budget>700</budget>
    <box_office/>
    <awards/>
  </movie>
  <movie>
    <title>Feeding Sea Lions</title>
    <year>1900</year>
    <cast>Paul Boyton</cast>
    <genres>Short</genres>
    <genres>Silent</genres>
    <href>Feeding_Sea_Lions</href>
    <extract>Feeding Sea Lions is a short silent film featuring Paul Boyton feeding sea lions at his Sea Lion Park at Coney Island. Boyton is shown feeding the trained sea lions, twelve in number. The sea lions follow Boyton up the steps of the pool and then follow him back into the water. One of them steals food out of the basket. The film was made by Lubin Studios on March 10, 1900.</extract>
    <country>United States</country>
    <runtime>3</runtime>
    <language>Silent</language>
    <release_date>1900-03-10</release_date>
    <production_company>Lubin Studios</production_company>
    <director>Unknown</director>
    <writer>Unknown</writer>
    <cinematography>Unknown</cinematography>
    <budget>450</budget>
    <box_office/>
    <awards/>
  </movie>
  <movie>
    <title>A Trip to the Moon</title>
    <year>1902</year>   <!-- This movie was released after 1900. -->
    <cast>Georges Mlis</cast>
    <genres>Sci-Fi</genres>
    <genres>Adventure</genres>
    <href>A_Trip_to_the_Moon</href>
    <extract>A Trip to the Moon (French: Le Voyage dans la Lune) is a 1902 French silent film directed by Georges Mlis. It is widely regarded as the first science fiction film ever made.</extract>
    <thumbnail_width>320</thumbnail_width>
    <thumbnail_height>240</thumbnail_height>
    <country>France</country>
    <runtime>14</runtime>
    <language>Silent</language>
    <release_date>1902-09-01</release_date>
    <production_company>Star Film Company</production_company>
    <director>Georges Mlis</director>
    <writer>Georges Mlis</writer>
    <cinematography>Georges Mlis</cinematography>
    <budget>10000</budget>
    <box_office>20000</box_office>
    <awards>Considered a milestone in cinema history</awards>
  </movie>
  <movie>
    <title>The Great Train Robbery</title>
    <year>1903</year>   <!-- This movie was released after 1900. -->
    <cast>Gilbert M. Anderson</cast>
    <cast>A. C. Abadie</cast>
    <genres>Western</genres>
    <genres>Action</genres>
    <href>The_Great_Train_Robbery</href>
    <extract>The Great Train Robbery is a 1903 American silent short film directed by Edwin S. Porter. It is considered one of the earliest narrative films.</extract>
    <thumbnail_width>320</thumbnail_width>
    <thumbnail_height>240</thumbnail_height>
    <country>United States</country>
    <runtime>12</runtime>
    <language>Silent</language>
    <release_date>1903-12-01</release_date>
    <production_company>Edison Manufacturing Company</production_company>
    <director>Edwin S. Porter</director>
    <writer>Scott Marble</writer>
    <cinematography>Edwin S. Porter</cinematography>
    <budget>150</budget>
    <box_office>5000</box_office>
    <awards>One of the earliest crime films</awards>
  </movie>
</movies>`,modifyingtabulartoml:`[movies]

[[movies.movie]]
title = "After Dark in Central Park"
year = 1900
cast = []
genres = ["Silent", "Short"]
country = "United States"
runtime = 3
language = "Silent"
release_date = "1900-03-15"
production_company = "Edison Manufacturing Company"
director = "James H. White"
writer = "Unknown"
cinematography = "Unknown"
budget = 500
awards = []

[[movies.movie]]
title = "Boarding School Girls' Pajama Parade"
year = 1900
cast = []
genres = ["Silent", "Short"]
country = "United States"
runtime = 2
language = "Silent"
release_date = "1900-05-10"
production_company = "Edison Manufacturing Company"
director = "James H. White"
writer = "Unknown"
cinematography = "Unknown"
budget = 450
awards = []

[[movies.movie]]
title = "Buffalo Bill's Wild West Parade"
year = 1900
cast = ["Buffalo Bill (William F. Cody)"]
genres = ["Documentary"]
country = "United States"
runtime = 5
language = "Silent"
release_date = "1900-07-04"
production_company = "Edison Manufacturing Company"
director = "Unknown"
writer = "Unknown"
cinematography = "Unknown"
budget = 600
awards = []

[[movies.movie]]
title = "Caught"
year = 1900
cast = []
genres = ["Drama"]
country = "United States"
runtime = 2
language = "Silent"
release_date = "1900-02-20"
production_company = "Biograph Company"
director = "William Heise"
writer = "Unknown"
cinematography = "Unknown"
budget = 400
awards = []

[[movies.movie]]
title = "Clowns Spinning Hats"
year = 1900
cast = ["Unknown Clowns"]
genres = ["Silent", "Comedy"]
href = "Clowns_Spinning_Hats"
extract = "Clowns Spinning Hats is a black-and-white silent film featuring clowns throwing hats back and forth to each other. It was written and produced by Lubin Films and released April 7, 1900."
country = "United States"
runtime = 3
language = "Silent"
release_date = "1900-04-07"
production_company = "Lubin Films"
director = "Unknown"
writer = "Unknown"
cinematography = "Unknown"
budget = 500
awards = []

[[movies.movie]]
title = "The Enchanted Drawing"
year = 1900
cast = ["J. Stuart Blackton"]
genres = ["Silent", "Animation"]
href = "The_Enchanted_Drawing"
extract = "The Enchanted Drawing is a 1900 silent film directed by J. Stuart Blackton. It is best known for containing the first animated sequences recorded on standard picture film, which has led Blackton to be considered the father of American animation."
thumbnail_width = 320
thumbnail_height = 240
country = "United States"
runtime = 2
language = "Silent"
release_date = "1900-11-16"
production_company = "Vitagraph Studios"
director = "J. Stuart Blackton"
writer = "J. Stuart Blackton"
cinematography = "Unknown"
budget = 700
awards = []

[[movies.movie]]
title = "Feeding Sea Lions"
year = 1900
cast = ["Paul Boyton"]
genres = ["Short", "Silent"]
href = "Feeding_Sea_Lions"
extract = "Feeding Sea Lions is a short silent film featuring Paul Boyton feeding sea lions at his Sea Lion Park at Coney Island. Boyton is shown feeding the trained sea lions, twelve in number. The sea lions follow Boyton up the steps of the pool and then follow him back into the water. One of them steals food out of the basket. The film was made by Lubin Studios on March 10, 1900."
country = "United States"
runtime = 3
language = "Silent"
release_date = "1900-03-10"
production_company = "Lubin Studios"
director = "Unknown"
writer = "Unknown"
cinematography = "Unknown"
budget = 450
awards = []

[[movies.movie]]
title = "A Trip to the Moon"
year = 1902   # This movie was released after 1900.
cast = ["Georges Mlis"]
genres = ["Sci-Fi", "Adventure"]
href = "A_Trip_to_the_Moon"
extract = "A Trip to the Moon (French: Le Voyage dans la Lune) is a 1902 French silent film directed by Georges Mlis. It is widely regarded as the first science fiction film ever made."
thumbnail_width = 320
thumbnail_height = 240
country = "France"
runtime = 14
language = "Silent"
release_date = "1902-09-01"
production_company = "Star Film Company"
director = "Georges Mlis"
writer = "Georges Mlis"
cinematography = "Georges Mlis"
budget = 10000
box_office = 20000
awards = ["Considered a milestone in cinema history"]

[[movies.movie]]
title = "The Great Train Robbery"
year = 1903  # This movie was released after 1900.
cast = ["Gilbert M. Anderson", "A. C. Abadie"]
genres = ["Western", "Action"]
href = "The_Great_Train_Robbery"
extract = "The Great Train Robbery is a 1903 American silent short film directed by Edwin S. Porter. It is considered one of the earliest narrative films."
thumbnail_width = 320
thumbnail_height = 240
country = "United States"
runtime = 12
language = "Silent"
release_date = "1903-12-01"
production_company = "Edison Manufacturing Company"
director = "Edwin S. Porter"
writer = "Scott Marble"
cinematography = "Edwin S. Porter"
budget = 150
box_office = 5000
awards = ["One of the earliest crime films"]`,modifyingtabularyaml:`movies:
  movie:
    - title: After Dark in Central Park
      year: 1900
      cast: []
      genres:
        - Silent
        - Short
      href: null
      country: United States
      runtime: 3
      language: Silent
      release_date: '1900-03-15'
      production_company: Edison Manufacturing Company
      director: James H. White
      writer: Unknown
      cinematography: Unknown
      budget: 500
      box_office: null
      awards: []
    - title: Boarding School Girls' Pajama Parade
      year: 1900
      cast: []
      genres:
        - Silent
        - Short
      href: null
      country: United States
      runtime: 2
      language: Silent
      release_date: '1900-05-10'
      production_company: Edison Manufacturing Company
      director: James H. White
      writer: Unknown
      cinematography: Unknown
      budget: 450
      box_office: null
      awards: []
    - title: Buffalo Bill's Wild West Parade
      year: 1900
      cast:
        - Buffalo Bill (William F. Cody)
      genres:
        - Documentary
      href: null
      country: United States
      runtime: 5
      language: Silent
      release_date: '1900-07-04'
      production_company: Edison Manufacturing Company
      director: Unknown
      writer: Unknown
      cinematography: Unknown
      budget: 600
      box_office: null
      awards: []
    - title: Caught
      year: 1900
      cast: []
      genres:
        - Drama
      href: null
      country: United States
      runtime: 2
      language: Silent
      release_date: '1900-02-20'
      production_company: Biograph Company
      director: William Heise
      writer: Unknown
      cinematography: Unknown
      budget: 400
      box_office: null
      awards: []
    - title: Clowns Spinning Hats
      year: 1900
      cast:
        - Unknown Clowns
      genres:
        - Silent
        - Comedy
      href: Clowns_Spinning_Hats
      extract: >-
        Clowns Spinning Hats is a black-and-white silent film featuring clowns
        throwing hats back and forth to each other. It was written and produced
        by Lubin Films and released April 7, 1900.
      country: United States
      runtime: 3
      language: Silent
      release_date: '1900-04-07'
      production_company: Lubin Films
      director: Unknown
      writer: Unknown
      cinematography: Unknown
      budget: 500
      box_office: null
      awards: []
    - title: The Enchanted Drawing
      year: 1900
      cast:
        - J. Stuart Blackton
      genres:
        - Silent
        - Animation
      href: The_Enchanted_Drawing
      extract: >-
        The Enchanted Drawing is a 1900 silent film directed by J. Stuart
        Blackton. It is best known for containing the first animated sequences
        recorded on standard picture film, which has led Blackton to be
        considered the father of American animation.
      thumbnail_width: 320
      thumbnail_height: 240
      country: United States
      runtime: 2
      language: Silent
      release_date: '1900-11-16'
      production_company: Vitagraph Studios
      director: J. Stuart Blackton
      writer: J. Stuart Blackton
      cinematography: Unknown
      budget: 700
      box_office: null
      awards: []
    - title: Feeding Sea Lions
      year: 1900
      cast:
        - Paul Boyton
      genres:
        - Short
        - Silent
      href: Feeding_Sea_Lions
      extract: >-
        Feeding Sea Lions is a short silent film featuring Paul Boyton feeding
        sea lions at his Sea Lion Park at Coney Island. Boyton is shown feeding
        the trained sea lions, twelve in number. The sea lions follow Boyton up
        the steps of the pool and then follow him back into the water. One of
        them steals food out of the basket. The film was made by Lubin Studios
        on March 10, 1900.
      country: United States
      runtime: 3
      language: Silent
      release_date: '1900-03-10'
      production_company: Lubin Studios
      director: Unknown
      writer: Unknown
      cinematography: Unknown
      budget: 450
      box_office: null
      awards: []
    - title: A Trip to the Moon
      year: 1902    # This movie was released after 1900.
      cast:
        - Georges Mlis
      genres:
        - Sci-Fi
        - Adventure
      href: A_Trip_to_the_Moon
      extract: >-
        A Trip to the Moon (French: Le Voyage dans la Lune) is a 1902 French
        silent film directed by Georges Mlis. It is widely regarded as the
        first science fiction film ever made.
      thumbnail_width: 320
      thumbnail_height: 240
      country: France
      runtime: 14
      language: Silent
      release_date: '1902-09-01'
      production_company: Star Film Company
      director: Georges Mlis
      writer: Georges Mlis
      cinematography: Georges Mlis
      budget: 10000
      box_office: 20000
      awards:
        - Considered a milestone in cinema history
    - title: The Great Train Robbery
      year: 1903   # This movie was released after 1900.
      cast:
        - Gilbert M. Anderson
        - A. C. Abadie
      genres:
        - Western
        - Action
      href: The_Great_Train_Robbery
      extract: >-
        The Great Train Robbery is a 1903 American silent short film directed by
        Edwin S. Porter. It is considered one of the earliest narrative films.
      thumbnail_width: 320
      thumbnail_height: 240
      country: United States
      runtime: 12
      language: Silent
      release_date: '1903-12-01'
      production_company: Edison Manufacturing Company
      director: Edwin S. Porter
      writer: Scott Marble
      cinematography: Edwin S. Porter
      budget: 150
      box_office: 5000
      awards:
        - One of the earliest crime films`,modifyingtabularjson5:`{
    movies: {
        movie: [
            {
                title: 'After Dark in Central Park',
                year: 1900,
                cast: [],
                genres: [
                    'Silent',
                    'Short'
                ],
                href: null,
                country: 'United States',
                runtime: 3,
                language: 'Silent',
                release_date: '1900-03-15',
                production_company: 'Edison Manufacturing Company',
                director: 'James H. White',
                writer: 'Unknown',
                cinematography: 'Unknown',
                budget: 500,
                box_office: null,
                awards: []
            },
            {
                title: "Boarding School Girls' Pajama Parade",
                year: 1900,
                cast: [],
                genres: [
                    'Silent',
                    'Short'
                ],
                href: null,
                country: 'United States',
                runtime: 2,
                language: 'Silent',
                release_date: '1900-05-10',
                production_company: 'Edison Manufacturing Company',
                director: 'James H. White',
                writer: 'Unknown',
                cinematography: 'Unknown',
                budget: 450,
                box_office: null,
                awards: []
            },
            {
                title: "Buffalo Bill's Wild West Parade",
                year: 1900,
                cast: [
                    'Buffalo Bill (William F. Cody)'
                ],
                genres: [
                    'Documentary'
                ],
                href: null,
                country: 'United States',
                runtime: 5,
                language: 'Silent',
                release_date: '1900-07-04',
                production_company: 'Edison Manufacturing Company',
                director: 'Unknown',
                writer: 'Unknown',
                cinematography: 'Unknown',
                budget: 600,
                box_office: null,
                awards: []
            },
            {
                title: 'Caught',
                year: 1900,
                cast: [],
                genres: [
                    'Drama'
                ],
                href: null,
                country: 'United States',
                runtime: 2,
                language: 'Silent',
                release_date: '1900-02-20',
                production_company: 'Biograph Company',
                director: 'William Heise',
                writer: 'Unknown',
                cinematography: 'Unknown',
                budget: 400,
                box_office: null,
                awards: []
            },
            {
                title: 'Clowns Spinning Hats',
                year: 1900,
                cast: [
                    'Unknown Clowns'
                ],
                genres: [
                    'Silent',
                    'Comedy'
                ],
                href: 'Clowns_Spinning_Hats',
                extract: 'Clowns Spinning Hats is a black-and-white silent film featuring clowns throwing hats back and forth to each other. It was written and produced by Lubin Films and released April 7, 1900.',
                country: 'United States',
                runtime: 3,
                language: 'Silent',
                release_date: '1900-04-07',
                production_company: 'Lubin Films',
                director: 'Unknown',
                writer: 'Unknown',
                cinematography: 'Unknown',
                budget: 500,
                box_office: null,
                awards: []
            },
            {
                title: 'The Enchanted Drawing',
                year: 1900,
                cast: [
                    'J. Stuart Blackton'
                ],
                genres: [
                    'Silent',
                    'Animation'
                ],
                href: 'The_Enchanted_Drawing',
                extract: 'The Enchanted Drawing is a 1900 silent film directed by J. Stuart Blackton. It is best known for containing the first animated sequences recorded on standard picture film, which has led Blackton to be considered the father of American animation.',
                thumbnail_width: 320,
                thumbnail_height: 240,
                country: 'United States',
                runtime: 2,
                language: 'Silent',
                release_date: '1900-11-16',
                production_company: 'Vitagraph Studios',
                director: 'J. Stuart Blackton',
                writer: 'J. Stuart Blackton',
                cinematography: 'Unknown',
                budget: 700,
                box_office: null,
                awards: []
            },
            {
                title: 'Feeding Sea Lions',
                year: 1900,
                cast: [
                    'Paul Boyton'
                ],
                genres: [
                    'Short',
                    'Silent'
                ],
                href: 'Feeding_Sea_Lions',
                extract: 'Feeding Sea Lions is a short silent film featuring Paul Boyton feeding sea lions at his Sea Lion Park at Coney Island. Boyton is shown feeding the trained sea lions, twelve in number. The sea lions follow Boyton up the steps of the pool and then follow him back into the water. One of them steals food out of the basket. The film was made by Lubin Studios on March 10, 1900.',
                country: 'United States',
                runtime: 3,
                language: 'Silent',
                release_date: '1900-03-10',
                production_company: 'Lubin Studios',
                director: 'Unknown',
                writer: 'Unknown',
                cinematography: 'Unknown',
                budget: 450,
                box_office: null,
                awards: []
            },
            {
                title: 'A Trip to the Moon',
                year: 1902,    // This movie was released after 1900.
                cast: [
                    'Georges Mlis'
                ],
                genres: [
                    'Sci-Fi',
                    'Adventure'
                ],
                href: 'A_Trip_to_the_Moon',
                extract: 'A Trip to the Moon (French: Le Voyage dans la Lune) is a 1902 French silent film directed by Georges Mlis. It is widely regarded as the first science fiction film ever made.',
                thumbnail_width: 320,
                thumbnail_height: 240,
                country: 'France',
                runtime: 14,
                language: 'Silent',
                release_date: '1902-09-01',
                production_company: 'Star Film Company',
                director: 'Georges Mlis',
                writer: 'Georges Mlis',
                cinematography: 'Georges Mlis',
                budget: 10000,
                box_office: 20000,
                awards: [
                    'Considered a milestone in cinema history'
                ]
            },
            {
                title: 'The Great Train Robbery',
                year: 1903,    // This movie was released after 1900.
                cast: [
                    'Gilbert M. Anderson',
                    'A. C. Abadie'
                ],
                genres: [
                    'Western',
                    'Action'
                ],
                href: 'The_Great_Train_Robbery',
                extract: 'The Great Train Robbery is a 1903 American silent short film directed by Edwin S. Porter. It is considered one of the earliest narrative films.',
                thumbnail_width: 320,
                thumbnail_height: 240,
                country: 'United States',
                runtime: 12,
                language: 'Silent',
                release_date: '1903-12-01',
                production_company: 'Edison Manufacturing Company',
                director: 'Edwin S. Porter',
                writer: 'Scott Marble',
                cinematography: 'Edwin S. Porter',
                budget: 150,
                box_office: 5000,
                awards: [
                    'One of the earliest crime films'
                ]
            }
        ]
    }
}`,modifyingtabularhjson:`{
  movies:
  {
    movie:
    [
      {
        title: After Dark in Central Park
        year: 1900
        cast: []
        genres:
        [
          Silent
          Short
        ]
        href: null
        country: United States
        runtime: 3
        language: Silent
        release_date: 1900-03-15
        production_company: Edison Manufacturing Company
        director: James H. White
        writer: Unknown
        cinematography: Unknown
        budget: 500
        box_office: null
        awards: []
      }
      {
        title: Boarding School Girls' Pajama Parade
        year: 1900
        cast: []
        genres:
        [
          Silent
          Short
        ]
        href: null
        country: United States
        runtime: 2
        language: Silent
        release_date: 1900-05-10
        production_company: Edison Manufacturing Company
        director: James H. White
        writer: Unknown
        cinematography: Unknown
        budget: 450
        box_office: null
        awards: []
      }
      {
        title: Buffalo Bill's Wild West Parade
        year: 1900
        cast:
        [
          Buffalo Bill (William F. Cody)
        ]
        genres:
        [
          Documentary
        ]
        href: null
        country: United States
        runtime: 5
        language: Silent
        release_date: 1900-07-04
        production_company: Edison Manufacturing Company
        director: Unknown
        writer: Unknown
        cinematography: Unknown
        budget: 600
        box_office: null
        awards: []
      }
      {
        title: Caught
        year: 1900
        cast: []
        genres:
        [
          Drama
        ]
        href: null
        country: United States
        runtime: 2
        language: Silent
        release_date: 1900-02-20
        production_company: Biograph Company
        director: William Heise
        writer: Unknown
        cinematography: Unknown
        budget: 400
        box_office: null
        awards: []
      }
      {
        title: Clowns Spinning Hats
        year: 1900
        cast:
        [
          Unknown Clowns
        ]
        genres:
        [
          Silent
          Comedy
        ]
        href: Clowns_Spinning_Hats
        extract: Clowns Spinning Hats is a black-and-white silent film featuring clowns throwing hats back and forth to each other. It was written and produced by Lubin Films and released April 7, 1900.
        country: United States
        runtime: 3
        language: Silent
        release_date: 1900-04-07
        production_company: Lubin Films
        director: Unknown
        writer: Unknown
        cinematography: Unknown
        budget: 500
        box_office: null
        awards: []
      }
      {
        title: The Enchanted Drawing
        year: 1900
        cast:
        [
          J. Stuart Blackton
        ]
        genres:
        [
          Silent
          Animation
        ]
        href: The_Enchanted_Drawing
        extract: The Enchanted Drawing is a 1900 silent film directed by J. Stuart Blackton. It is best known for containing the first animated sequences recorded on standard picture film, which has led Blackton to be considered the father of American animation.
        thumbnail_width: 320
        thumbnail_height: 240
        country: United States
        runtime: 2
        language: Silent
        release_date: 1900-11-16
        production_company: Vitagraph Studios
        director: J. Stuart Blackton
        writer: J. Stuart Blackton
        cinematography: Unknown
        budget: 700
        box_office: null
        awards: []
      }
      {
        title: Feeding Sea Lions
        year: 1900
        cast:
        [
          Paul Boyton
        ]
        genres:
        [
          Short
          Silent
        ]
        href: Feeding_Sea_Lions
        extract: Feeding Sea Lions is a short silent film featuring Paul Boyton feeding sea lions at his Sea Lion Park at Coney Island. Boyton is shown feeding the trained sea lions, twelve in number. The sea lions follow Boyton up the steps of the pool and then follow him back into the water. One of them steals food out of the basket. The film was made by Lubin Studios on March 10, 1900.
        country: United States
        runtime: 3
        language: Silent
        release_date: 1900-03-10
        production_company: Lubin Studios
        director: Unknown
        writer: Unknown
        cinematography: Unknown
        budget: 450
        box_office: null
        awards: []
      }
      {
        title: A Trip to the Moon
        year: 1902    // This movie was released after 1900.
        cast:
        [
          Georges Mlis
        ]
        genres:
        [
          Sci-Fi
          Adventure
        ]
        href: A_Trip_to_the_Moon
        extract: A Trip to the Moon (French: Le Voyage dans la Lune) is a 1902 French silent film directed by Georges Mlis. It is widely regarded as the first science fiction film ever made.
        thumbnail_width: 320
        thumbnail_height: 240
        country: France
        runtime: 14
        language: Silent
        release_date: 1902-09-01
        production_company: Star Film Company
        director: Georges Mlis
        writer: Georges Mlis
        cinematography: Georges Mlis
        budget: 10000
        box_office: 20000
        awards:
        [
          Considered a milestone in cinema history
        ]
      }
      {
        title: The Great Train Robbery
        year: 1903    // This movie was released after 1900.
        cast:
        [
          Gilbert M. Anderson
          A. C. Abadie
        ]
        genres:
        [
          Western
          Action
        ]
        href: The_Great_Train_Robbery
        extract: The Great Train Robbery is a 1903 American silent short film directed by Edwin S. Porter. It is considered one of the earliest narrative films.
        thumbnail_width: 320
        thumbnail_height: 240
        country: United States
        runtime: 12
        language: Silent
        release_date: 1903-12-01
        production_company: Edison Manufacturing Company
        director: Edwin S. Porter
        writer: Scott Marble
        cinematography: Edwin S. Porter
        budget: 150
        box_office: 5000
        awards:
        [
          One of the earliest crime films
        ]
      }
    ]
  }
}`},KSe=Object.freeze(Object.defineProperty({__proto__:null,startingStringsMap:YSe},Symbol.toStringTag,{value:"Module"}));function nmt({setAnswer:e,parameters:t,provenanceState:n}){const[r,i]=O.useState(YSe[t.type+(t.tabular?"tabular":"config")+t.language]),o=ib();O.useEffect(()=>{n&&n.text!==null&&i(n.text)},[n]);const{actions:s,trrack:a}=O.useMemo(()=>{const d=Hp.create(),h=d.register("type",(p,m)=>(p.text=m,p)),f=rb({registry:d,initialState:{text:null}});return{actions:{typeAction:h},trrack:f}},[]);let l;t.language==="plain_text"?l="text":t.language==="jsonc"?l="json":l=t.language;const u=O.useCallback(d=>{a.apply("Typing",s.typeAction(d)),e({status:!0,answers:{code:d,error:d},provenanceGraph:a.graph.backend}),i(d)},[s,e,a]),c=O.useRef(null);return O.useEffect(()=>{var d,h;o?(d=c.current)==null||d.editor.setTheme(kG):(h=c.current)==null||h.editor.setTheme(AG)},[o]),k.jsx(ge,{children:k.jsxs(Dr,{gap:20,wrap:"nowrap",style:{height:"calc(100vh - var(--app-shell-header-height, 0px) - var(--app-shell-footer-height, 0px) - 30px)"},children:[t.imagePath?k.jsx("div",{style:{flex:"0 0 50%"},children:k.jsx("img",{src:hi+t.imagePath,alt:"Example",style:{width:"100%",height:"auto",objectFit:"contain"}})}):null,k.jsx(CG,{ref:c,mode:l,width:"100%",height:"calc(100vh - var(--app-shell-header-height, 0px) - var(--app-shell-footer-height, 0px) - 30px)",value:r,wrapEnabled:!0,onChange:u,name:"UNIQUE_ID_OF_DIV",editorProps:{$blockScrolling:!0}})]})})}const XSe=Object.freeze(Object.defineProperty({__proto__:null,default:nmt},Symbol.toStringTag,{value:"Module"})),rmt=O.createContext(null);function ts(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(u){try{l(r.next(u))}catch(c){o(c)}}function a(u){try{l(r.throw(u))}catch(c){o(c)}}function l(u){var c;u.done?i(u.value):(c=u.value,c instanceof n?c:new n(function(d){d(c)})).then(s,a)}l((r=r.apply(e,t||[])).next())})}let c2=class{constructor(){this.listeners={}}on(t,n,r){if(this.listeners[t]||(this.listeners[t]=new Set),this.listeners[t].add(n),r==null?void 0:r.once){const i=()=>{this.un(t,i),this.un(t,n)};return this.on(t,i),i}return()=>this.un(t,n)}un(t,n){var r;(r=this.listeners[t])===null||r===void 0||r.delete(n)}once(t,n){return this.on(t,n,{once:!0})}unAll(){this.listeners={}}emit(t,...n){this.listeners[t]&&this.listeners[t].forEach(r=>r(...n))}};const l3={decode:function(e,t){return ts(this,void 0,void 0,function*(){const n=new AudioContext({sampleRate:t});return n.decodeAudioData(e).finally(()=>n.close())})},createBuffer:function(e,t){return typeof e[0]=="number"&&(e=[e]),function(n){const r=n[0];if(r.some(i=>i>1||i<-1)){const i=r.length;let o=0;for(let s=0;s<i;s++){const a=Math.abs(r[s]);a>o&&(o=a)}for(const s of n)for(let a=0;a<i;a++)s[a]/=o}}(e),{duration:t,length:e[0].length,sampleRate:e[0].length/t,numberOfChannels:e.length,getChannelData:n=>e==null?void 0:e[n],copyFromChannel:AudioBuffer.prototype.copyFromChannel,copyToChannel:AudioBuffer.prototype.copyToChannel}}};function QSe(e,t){const n=t.xmlns?document.createElementNS(t.xmlns,e):document.createElement(e);for(const[r,i]of Object.entries(t))if(r==="children")for(const[o,s]of Object.entries(t))typeof s=="string"?n.appendChild(document.createTextNode(s)):n.appendChild(QSe(o,s));else r==="style"?Object.assign(n.style,i):r==="textContent"?n.textContent=i:n.setAttribute(r,i.toString());return n}function xae(e,t,n){const r=QSe(e,t||{});return n==null||n.appendChild(r),r}var imt=Object.freeze({__proto__:null,createElement:xae,default:xae});const omt={fetchBlob:function(e,t,n){return ts(this,void 0,void 0,function*(){const r=yield fetch(e,n);if(r.status>=400)throw new Error(`Failed to fetch ${e}: ${r.status} (${r.statusText})`);return function(i,o){ts(this,void 0,void 0,function*(){if(!i.body||!i.headers)return;const s=i.body.getReader(),a=Number(i.headers.get("Content-Length"))||0;let l=0;const u=d=>ts(this,void 0,void 0,function*(){l+=(d==null?void 0:d.length)||0;const h=Math.round(l/a*100);o(h)}),c=()=>ts(this,void 0,void 0,function*(){let d;try{d=yield s.read()}catch{return}d.done||(u(d.value),yield c())});c()})}(r.clone(),t),r.blob()})}};let smt=class extends c2{constructor(t){super(),this.isExternalMedia=!1,t.media?(this.media=t.media,this.isExternalMedia=!0):this.media=document.createElement("audio"),t.mediaControls&&(this.media.controls=!0),t.autoplay&&(this.media.autoplay=!0),t.playbackRate!=null&&this.onMediaEvent("canplay",()=>{t.playbackRate!=null&&(this.media.playbackRate=t.playbackRate)},{once:!0})}onMediaEvent(t,n,r){return this.media.addEventListener(t,n,r),()=>this.media.removeEventListener(t,n,r)}getSrc(){return this.media.currentSrc||this.media.src||""}revokeSrc(){const t=this.getSrc();t.startsWith("blob:")&&URL.revokeObjectURL(t)}canPlayType(t){return this.media.canPlayType(t)!==""}setSrc(t,n){const r=this.getSrc();if(t&&r===t)return;this.revokeSrc();const i=n instanceof Blob&&(this.canPlayType(n.type)||!t)?URL.createObjectURL(n):t;r&&(this.media.src="");try{this.media.src=i}catch{this.media.src=t}}destroy(){this.isExternalMedia||(this.media.pause(),this.media.remove(),this.revokeSrc(),this.media.src="",this.media.load())}setMediaElement(t){this.media=t}play(){return ts(this,void 0,void 0,function*(){return this.media.play()})}pause(){this.media.pause()}isPlaying(){return!this.media.paused&&!this.media.ended}setTime(t){this.media.currentTime=Math.max(0,Math.min(t,this.getDuration()))}getDuration(){return this.media.duration}getCurrentTime(){return this.media.currentTime}getVolume(){return this.media.volume}setVolume(t){this.media.volume=t}getMuted(){return this.media.muted}setMuted(t){this.media.muted=t}getPlaybackRate(){return this.media.playbackRate}isSeeking(){return this.media.seeking}setPlaybackRate(t,n){n!=null&&(this.media.preservesPitch=n),this.media.playbackRate=t}getMediaElement(){return this.media}setSinkId(t){return this.media.setSinkId(t)}},jj=class zj extends c2{constructor(t,n){super(),this.timeouts=[],this.isScrollable=!1,this.audioData=null,this.resizeObserver=null,this.lastContainerWidth=0,this.isDragging=!1,this.subscriptions=[],this.unsubscribeOnScroll=[],this.subscriptions=[],this.options=t;const r=this.parentFromOptionsContainer(t.container);this.parent=r;const[i,o]=this.initHtml();r.appendChild(i),this.container=i,this.scrollContainer=o.querySelector(".scroll"),this.wrapper=o.querySelector(".wrapper"),this.canvasWrapper=o.querySelector(".canvases"),this.progressWrapper=o.querySelector(".progress"),this.cursor=o.querySelector(".cursor"),n&&o.appendChild(n),this.initEvents()}parentFromOptionsContainer(t){let n;if(typeof t=="string"?n=document.querySelector(t):t instanceof HTMLElement&&(n=t),!n)throw new Error("Container not found");return n}initEvents(){const t=n=>{const r=this.wrapper.getBoundingClientRect(),i=n.clientX-r.left,o=n.clientY-r.top;return[i/r.width,o/r.height]};if(this.wrapper.addEventListener("click",n=>{const[r,i]=t(n);this.emit("click",r,i)}),this.wrapper.addEventListener("dblclick",n=>{const[r,i]=t(n);this.emit("dblclick",r,i)}),this.options.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.scrollContainer.addEventListener("scroll",()=>{const{scrollLeft:n,scrollWidth:r,clientWidth:i}=this.scrollContainer,o=n/r,s=(n+i)/r;this.emit("scroll",o,s,n,n+i)}),typeof ResizeObserver=="function"){const n=this.createDelay(100);this.resizeObserver=new ResizeObserver(()=>{n().then(()=>this.onContainerResize()).catch(()=>{})}),this.resizeObserver.observe(this.scrollContainer)}}onContainerResize(){const t=this.parent.clientWidth;t===this.lastContainerWidth&&this.options.height!=="auto"||(this.lastContainerWidth=t,this.reRender())}initDrag(){this.subscriptions.push(function(t,n,r,i,o=3,s=0,a=100){if(!t)return()=>{};const l=matchMedia("(pointer: coarse)").matches;let u=()=>{};const c=d=>{if(d.button!==s)return;d.preventDefault(),d.stopPropagation();let h=d.clientX,f=d.clientY,p=!1;const m=Date.now(),g=x=>{if(x.preventDefault(),x.stopPropagation(),l&&Date.now()-m<a)return;const w=x.clientX,E=x.clientY,S=w-h,T=E-f;if(p||Math.abs(S)>o||Math.abs(T)>o){const C=t.getBoundingClientRect(),{left:D,top:$}=C;p||(r==null||r(h-D,f-$),p=!0),n(S,T,w-D,E-$),h=w,f=E}},y=x=>{if(p){const w=x.clientX,E=x.clientY,S=t.getBoundingClientRect(),{left:T,top:C}=S;i==null||i(w-T,E-C)}u()},v=x=>{x.relatedTarget&&x.relatedTarget!==document.documentElement||y(x)},b=x=>{p&&(x.stopPropagation(),x.preventDefault())},_=x=>{p&&x.preventDefault()};document.addEventListener("pointermove",g),document.addEventListener("pointerup",y),document.addEventListener("pointerout",v),document.addEventListener("pointercancel",v),document.addEventListener("touchmove",_,{passive:!1}),document.addEventListener("click",b,{capture:!0}),u=()=>{document.removeEventListener("pointermove",g),document.removeEventListener("pointerup",y),document.removeEventListener("pointerout",v),document.removeEventListener("pointercancel",v),document.removeEventListener("touchmove",_),setTimeout(()=>{document.removeEventListener("click",b,{capture:!0})},10)}};return t.addEventListener("pointerdown",c),()=>{u(),t.removeEventListener("pointerdown",c)}}(this.wrapper,(t,n,r)=>{this.emit("drag",Math.max(0,Math.min(1,r/this.wrapper.getBoundingClientRect().width)))},t=>{this.isDragging=!0,this.emit("dragstart",Math.max(0,Math.min(1,t/this.wrapper.getBoundingClientRect().width)))},t=>{this.isDragging=!1,this.emit("dragend",Math.max(0,Math.min(1,t/this.wrapper.getBoundingClientRect().width)))}))}getHeight(t,n){var r;const i=((r=this.audioData)===null||r===void 0?void 0:r.numberOfChannels)||1;if(t==null)return 128;if(!isNaN(Number(t)))return Number(t);if(t==="auto"){const o=this.parent.clientHeight||128;return n!=null&&n.every(s=>!s.overlay)?o/i:o}return 128}initHtml(){const t=document.createElement("div"),n=t.attachShadow({mode:"open"}),r=this.options.cspNonce&&typeof this.options.cspNonce=="string"?this.options.cspNonce.replace(/"/g,""):"";return n.innerHTML=`
      <style${r?` nonce="${r}"`:""}>
        :host {
          user-select: none;
          min-width: 1px;
        }
        :host audio {
          display: block;
          width: 100%;
        }
        :host .scroll {
          overflow-x: auto;
          overflow-y: hidden;
          width: 100%;
          position: relative;
        }
        :host .noScrollbar {
          scrollbar-color: transparent;
          scrollbar-width: none;
        }
        :host .noScrollbar::-webkit-scrollbar {
          display: none;
          -webkit-appearance: none;
        }
        :host .wrapper {
          position: relative;
          overflow: visible;
          z-index: 2;
        }
        :host .canvases {
          min-height: ${this.getHeight(this.options.height,this.options.splitChannels)}px;
        }
        :host .canvases > div {
          position: relative;
        }
        :host canvas {
          display: block;
          position: absolute;
          top: 0;
          image-rendering: pixelated;
        }
        :host .progress {
          pointer-events: none;
          position: absolute;
          z-index: 2;
          top: 0;
          left: 0;
          width: 0;
          height: 100%;
          overflow: hidden;
        }
        :host .progress > div {
          position: relative;
        }
        :host .cursor {
          pointer-events: none;
          position: absolute;
          z-index: 5;
          top: 0;
          left: 0;
          height: 100%;
          border-radius: 2px;
        }
      </style>

      <div class="scroll" part="scroll">
        <div class="wrapper" part="wrapper">
          <div class="canvases" part="canvases"></div>
          <div class="progress" part="progress"></div>
          <div class="cursor" part="cursor"></div>
        </div>
      </div>
    `,[t,n]}setOptions(t){if(this.options.container!==t.container){const n=this.parentFromOptionsContainer(t.container);n.appendChild(this.container),this.parent=n}t.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.options=t,this.reRender()}getWrapper(){return this.wrapper}getWidth(){return this.scrollContainer.clientWidth}getScroll(){return this.scrollContainer.scrollLeft}setScroll(t){this.scrollContainer.scrollLeft=t}setScrollPercentage(t){const{scrollWidth:n}=this.scrollContainer,r=n*t;this.setScroll(r)}destroy(){var t,n;this.subscriptions.forEach(r=>r()),this.container.remove(),(t=this.resizeObserver)===null||t===void 0||t.disconnect(),(n=this.unsubscribeOnScroll)===null||n===void 0||n.forEach(r=>r()),this.unsubscribeOnScroll=[]}createDelay(t=10){let n,r;const i=()=>{n&&clearTimeout(n),r&&r()};return this.timeouts.push(i),()=>new Promise((o,s)=>{i(),r=s,n=setTimeout(()=>{n=void 0,r=void 0,o()},t)})}convertColorValues(t){if(!Array.isArray(t))return t||"";if(t.length<2)return t[0]||"";const n=document.createElement("canvas"),r=n.getContext("2d"),i=n.height*(window.devicePixelRatio||1),o=r.createLinearGradient(0,0,0,i),s=1/(t.length-1);return t.forEach((a,l)=>{const u=l*s;o.addColorStop(u,a)}),o}getPixelRatio(){return Math.max(1,window.devicePixelRatio||1)}renderBarWaveform(t,n,r,i){const o=t[0],s=t[1]||t[0],a=o.length,{width:l,height:u}=r.canvas,c=u/2,d=this.getPixelRatio(),h=n.barWidth?n.barWidth*d:1,f=n.barGap?n.barGap*d:n.barWidth?h/2:0,p=n.barRadius||0,m=l/(h+f)/a,g=p&&"roundRect"in r?"roundRect":"rect";r.beginPath();let y=0,v=0,b=0;for(let _=0;_<=a;_++){const x=Math.round(_*m);if(x>y){const S=Math.round(v*c*i),T=S+Math.round(b*c*i)||1;let C=c-S;n.barAlign==="top"?C=0:n.barAlign==="bottom"&&(C=u-T),r[g](y*(h+f),C,h,T,p),y=x,v=0,b=0}const w=Math.abs(o[_]||0),E=Math.abs(s[_]||0);w>v&&(v=w),E>b&&(b=E)}r.fill(),r.closePath()}renderLineWaveform(t,n,r,i){const o=s=>{const a=t[s]||t[0],l=a.length,{height:u}=r.canvas,c=u/2,d=r.canvas.width/l;r.moveTo(0,c);let h=0,f=0;for(let p=0;p<=l;p++){const m=Math.round(p*d);if(m>h){const y=c+(Math.round(f*c*i)||1)*(s===0?-1:1);r.lineTo(h,y),h=m,f=0}const g=Math.abs(a[p]||0);g>f&&(f=g)}r.lineTo(h,c)};r.beginPath(),o(0),o(1),r.fill(),r.closePath()}renderWaveform(t,n,r){if(r.fillStyle=this.convertColorValues(n.waveColor),n.renderFunction)return void n.renderFunction(t,r);let i=n.barHeight||1;if(n.normalize){const o=Array.from(t[0]).reduce((s,a)=>Math.max(s,Math.abs(a)),0);i=o?1/o:1}n.barWidth||n.barGap||n.barAlign?this.renderBarWaveform(t,n,r,i):this.renderLineWaveform(t,n,r,i)}renderSingleCanvas(t,n,r,i,o,s,a){const l=this.getPixelRatio(),u=document.createElement("canvas");u.width=Math.round(r*l),u.height=Math.round(i*l),u.style.width=`${r}px`,u.style.height=`${i}px`,u.style.left=`${Math.round(o)}px`,s.appendChild(u);const c=u.getContext("2d");if(this.renderWaveform(t,n,c),u.width>0&&u.height>0){const d=u.cloneNode(),h=d.getContext("2d");h.drawImage(u,0,0),h.globalCompositeOperation="source-in",h.fillStyle=this.convertColorValues(n.progressColor),h.fillRect(0,0,u.width,u.height),a.appendChild(d)}}renderMultiCanvas(t,n,r,i,o,s){const a=this.getPixelRatio(),{clientWidth:l}=this.scrollContainer,u=r/a;let c=Math.min(zj.MAX_CANVAS_WIDTH,l,u),d={};if(c===0)return;if(n.barWidth||n.barGap){const g=n.barWidth||.5,y=g+(n.barGap||g/2);c%y!=0&&(c=Math.floor(c/y)*y)}const h=g=>{if(g<0||g>=f||d[g])return;d[g]=!0;const y=g*c,v=Math.min(u-y,c);if(v<=0)return;const b=t.map(_=>{const x=Math.floor(y/u*_.length),w=Math.floor((y+v)/u*_.length);return _.slice(x,w)});this.renderSingleCanvas(b,n,v,i,y,o,s)},f=Math.ceil(u/c);if(!this.isScrollable){for(let g=0;g<f;g++)h(g);return}const p=this.scrollContainer.scrollLeft/u,m=Math.floor(p*f);if(h(m-1),h(m),h(m+1),f>1){const g=this.on("scroll",()=>{const{scrollLeft:y}=this.scrollContainer,v=Math.floor(y/u*f);Object.keys(d).length>zj.MAX_NODES&&(o.innerHTML="",s.innerHTML="",d={}),h(v-1),h(v),h(v+1)});this.unsubscribeOnScroll.push(g)}}renderChannel(t,n,r,i){var{overlay:o}=n,s=function(c,d){var h={};for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&d.indexOf(f)<0&&(h[f]=c[f]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function"){var p=0;for(f=Object.getOwnPropertySymbols(c);p<f.length;p++)d.indexOf(f[p])<0&&Object.prototype.propertyIsEnumerable.call(c,f[p])&&(h[f[p]]=c[f[p]])}return h}(n,["overlay"]);const a=document.createElement("div"),l=this.getHeight(s.height,s.splitChannels);a.style.height=`${l}px`,o&&i>0&&(a.style.marginTop=`-${l}px`),this.canvasWrapper.style.minHeight=`${l}px`,this.canvasWrapper.appendChild(a);const u=a.cloneNode();this.progressWrapper.appendChild(u),this.renderMultiCanvas(t,s,r,l,a,u)}render(t){return ts(this,void 0,void 0,function*(){var n;this.timeouts.forEach(l=>l()),this.timeouts=[],this.canvasWrapper.innerHTML="",this.progressWrapper.innerHTML="",this.options.width!=null&&(this.scrollContainer.style.width=typeof this.options.width=="number"?`${this.options.width}px`:this.options.width);const r=this.getPixelRatio(),i=this.scrollContainer.clientWidth,o=Math.ceil(t.duration*(this.options.minPxPerSec||0));this.isScrollable=o>i;const s=this.options.fillParent&&!this.isScrollable,a=(s?i:o)*r;if(this.wrapper.style.width=s?"100%":`${o}px`,this.scrollContainer.style.overflowX=this.isScrollable?"auto":"hidden",this.scrollContainer.classList.toggle("noScrollbar",!!this.options.hideScrollbar),this.cursor.style.backgroundColor=`${this.options.cursorColor||this.options.progressColor}`,this.cursor.style.width=`${this.options.cursorWidth}px`,this.audioData=t,this.emit("render"),this.options.splitChannels)for(let l=0;l<t.numberOfChannels;l++){const u=Object.assign(Object.assign({},this.options),(n=this.options.splitChannels)===null||n===void 0?void 0:n[l]);this.renderChannel([t.getChannelData(l)],u,a,l)}else{const l=[t.getChannelData(0)];t.numberOfChannels>1&&l.push(t.getChannelData(1)),this.renderChannel(l,this.options,a,0)}Promise.resolve().then(()=>this.emit("rendered"))})}reRender(){if(this.unsubscribeOnScroll.forEach(r=>r()),this.unsubscribeOnScroll=[],!this.audioData)return;const{scrollWidth:t}=this.scrollContainer,{right:n}=this.progressWrapper.getBoundingClientRect();if(this.render(this.audioData),this.isScrollable&&t!==this.scrollContainer.scrollWidth){const{right:r}=this.progressWrapper.getBoundingClientRect();let i=r-n;i*=2,i=i<0?Math.floor(i):Math.ceil(i),i/=2,this.scrollContainer.scrollLeft+=i}}zoom(t){this.options.minPxPerSec=t,this.reRender()}scrollIntoView(t,n=!1){const{scrollLeft:r,scrollWidth:i,clientWidth:o}=this.scrollContainer,s=t*i,a=r,l=r+o,u=o/2;if(this.isDragging)s+30>l?this.scrollContainer.scrollLeft+=30:s-30<a&&(this.scrollContainer.scrollLeft-=30);else{(s<a||s>l)&&(this.scrollContainer.scrollLeft=s-(this.options.autoCenter?u:0));const c=s-r-u;n&&this.options.autoCenter&&c>0&&(this.scrollContainer.scrollLeft+=Math.min(c,10))}{const c=this.scrollContainer.scrollLeft,d=c/i,h=(c+o)/i;this.emit("scroll",d,h,c,c+o)}}renderProgress(t,n){if(isNaN(t))return;const r=100*t;this.canvasWrapper.style.clipPath=`polygon(${r}% 0, 100% 0, 100% 100%, ${r}% 100%)`,this.progressWrapper.style.width=`${r}%`,this.cursor.style.left=`${r}%`,this.cursor.style.transform=`translateX(-${Math.round(r)===100?this.options.cursorWidth:0}px)`,this.isScrollable&&this.options.autoScroll&&this.scrollIntoView(t,n)}exportImage(t,n,r){return ts(this,void 0,void 0,function*(){const i=this.canvasWrapper.querySelectorAll("canvas");if(!i.length)throw new Error("No waveform data");if(r==="dataURL"){const o=Array.from(i).map(s=>s.toDataURL(t,n));return Promise.resolve(o)}return Promise.all(Array.from(i).map(o=>new Promise((s,a)=>{o.toBlob(l=>{l?s(l):a(new Error("Could not export image"))},t,n)})))})}};jj.MAX_CANVAS_WIDTH=8e3,jj.MAX_NODES=10;class amt extends c2{constructor(){super(...arguments),this.unsubscribe=()=>{}}start(){this.unsubscribe=this.on("tick",()=>{requestAnimationFrame(()=>{this.emit("tick")})}),this.emit("tick")}stop(){this.unsubscribe()}destroy(){this.unsubscribe()}}class p5 extends c2{constructor(t=new AudioContext){super(),this.bufferNode=null,this.playStartTime=0,this.playedDuration=0,this._muted=!1,this._playbackRate=1,this._duration=void 0,this.buffer=null,this.currentSrc="",this.paused=!0,this.crossOrigin=null,this.seeking=!1,this.autoplay=!1,this.addEventListener=this.on,this.removeEventListener=this.un,this.audioContext=t,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination)}load(){return ts(this,void 0,void 0,function*(){})}get src(){return this.currentSrc}set src(t){if(this.currentSrc=t,this._duration=void 0,!t)return this.buffer=null,void this.emit("emptied");fetch(t).then(n=>{if(n.status>=400)throw new Error(`Failed to fetch ${t}: ${n.status} (${n.statusText})`);return n.arrayBuffer()}).then(n=>this.currentSrc!==t?null:this.audioContext.decodeAudioData(n)).then(n=>{this.currentSrc===t&&(this.buffer=n,this.emit("loadedmetadata"),this.emit("canplay"),this.autoplay&&this.play())})}_play(){var t;if(!this.paused)return;this.paused=!1,(t=this.bufferNode)===null||t===void 0||t.disconnect(),this.bufferNode=this.audioContext.createBufferSource(),this.buffer&&(this.bufferNode.buffer=this.buffer),this.bufferNode.playbackRate.value=this._playbackRate,this.bufferNode.connect(this.gainNode);let n=this.playedDuration*this._playbackRate;(n>=this.duration||n<0)&&(n=0,this.playedDuration=0),this.bufferNode.start(this.audioContext.currentTime,n),this.playStartTime=this.audioContext.currentTime,this.bufferNode.onended=()=>{this.currentTime>=this.duration&&(this.pause(),this.emit("ended"))}}_pause(){var t;this.paused=!0,(t=this.bufferNode)===null||t===void 0||t.stop(),this.playedDuration+=this.audioContext.currentTime-this.playStartTime}play(){return ts(this,void 0,void 0,function*(){this.paused&&(this._play(),this.emit("play"))})}pause(){this.paused||(this._pause(),this.emit("pause"))}stopAt(t){const n=t-this.currentTime,r=this.bufferNode;r==null||r.stop(this.audioContext.currentTime+n),r==null||r.addEventListener("ended",()=>{r===this.bufferNode&&(this.bufferNode=null,this.pause())},{once:!0})}setSinkId(t){return ts(this,void 0,void 0,function*(){return this.audioContext.setSinkId(t)})}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this.bufferNode&&(this.bufferNode.playbackRate.value=t)}get currentTime(){return(this.paused?this.playedDuration:this.playedDuration+(this.audioContext.currentTime-this.playStartTime))*this._playbackRate}set currentTime(t){const n=!this.paused;n&&this._pause(),this.playedDuration=t/this._playbackRate,n&&this._play(),this.emit("seeking"),this.emit("timeupdate")}get duration(){var t,n;return(t=this._duration)!==null&&t!==void 0?t:((n=this.buffer)===null||n===void 0?void 0:n.duration)||0}set duration(t){this._duration=t}get volume(){return this.gainNode.gain.value}set volume(t){this.gainNode.gain.value=t,this.emit("volumechange")}get muted(){return this._muted}set muted(t){this._muted!==t&&(this._muted=t,this._muted?this.gainNode.disconnect():this.gainNode.connect(this.audioContext.destination))}canPlayType(t){return/^(audio|video)\//.test(t)}getGainNode(){return this.gainNode}getChannelData(){const t=[];if(!this.buffer)return t;const n=this.buffer.numberOfChannels;for(let r=0;r<n;r++)t.push(this.buffer.getChannelData(r));return t}}const lmt={waveColor:"#999",progressColor:"#555",cursorWidth:1,minPxPerSec:0,fillParent:!0,interact:!0,dragToSeek:!1,autoScroll:!0,autoCenter:!0,sampleRate:8e3};let Uj=class JSe extends smt{static create(t){return new JSe(t)}constructor(t){const n=t.media||(t.backend==="WebAudio"?new p5:void 0);super({media:n,mediaControls:t.mediaControls,autoplay:t.autoplay,playbackRate:t.audioRate}),this.plugins=[],this.decodedData=null,this.stopAtPosition=null,this.subscriptions=[],this.mediaSubscriptions=[],this.abortController=null,this.options=Object.assign({},lmt,t),this.timer=new amt;const r=n?void 0:this.getMediaElement();this.renderer=new jj(this.options,r),this.initPlayerEvents(),this.initRendererEvents(),this.initTimerEvents(),this.initPlugins();const i=this.options.url||this.getSrc()||"";Promise.resolve().then(()=>{this.emit("init");const{peaks:o,duration:s}=this.options;(i||o&&s)&&this.load(i,o,s).catch(()=>null)})}updateProgress(t=this.getCurrentTime()){return this.renderer.renderProgress(t/this.getDuration(),this.isPlaying()),t}initTimerEvents(){this.subscriptions.push(this.timer.on("tick",()=>{if(!this.isSeeking()){const t=this.updateProgress();this.emit("timeupdate",t),this.emit("audioprocess",t),this.stopAtPosition!=null&&this.isPlaying()&&t>=this.stopAtPosition&&this.pause()}}))}initPlayerEvents(){this.isPlaying()&&(this.emit("play"),this.timer.start()),this.mediaSubscriptions.push(this.onMediaEvent("timeupdate",()=>{const t=this.updateProgress();this.emit("timeupdate",t)}),this.onMediaEvent("play",()=>{this.emit("play"),this.timer.start()}),this.onMediaEvent("pause",()=>{this.emit("pause"),this.timer.stop(),this.stopAtPosition=null}),this.onMediaEvent("emptied",()=>{this.timer.stop(),this.stopAtPosition=null}),this.onMediaEvent("ended",()=>{this.emit("timeupdate",this.getDuration()),this.emit("finish"),this.stopAtPosition=null}),this.onMediaEvent("seeking",()=>{this.emit("seeking",this.getCurrentTime())}),this.onMediaEvent("error",()=>{var t;this.emit("error",(t=this.getMediaElement().error)!==null&&t!==void 0?t:new Error("Media error")),this.stopAtPosition=null}))}initRendererEvents(){this.subscriptions.push(this.renderer.on("click",(t,n)=>{this.options.interact&&(this.seekTo(t),this.emit("interaction",t*this.getDuration()),this.emit("click",t,n))}),this.renderer.on("dblclick",(t,n)=>{this.emit("dblclick",t,n)}),this.renderer.on("scroll",(t,n,r,i)=>{const o=this.getDuration();this.emit("scroll",t*o,n*o,r,i)}),this.renderer.on("render",()=>{this.emit("redraw")}),this.renderer.on("rendered",()=>{this.emit("redrawcomplete")}),this.renderer.on("dragstart",t=>{this.emit("dragstart",t)}),this.renderer.on("dragend",t=>{this.emit("dragend",t)}));{let t;this.subscriptions.push(this.renderer.on("drag",n=>{if(!this.options.interact)return;let r;this.renderer.renderProgress(n),clearTimeout(t),this.isPlaying()?r=0:this.options.dragToSeek===!0?r=200:typeof this.options.dragToSeek=="object"&&this.options.dragToSeek!==void 0&&(r=this.options.dragToSeek.debounceTime),t=setTimeout(()=>{this.seekTo(n)},r),this.emit("interaction",n*this.getDuration()),this.emit("drag",n)}))}}initPlugins(){var t;!((t=this.options.plugins)===null||t===void 0)&&t.length&&this.options.plugins.forEach(n=>{this.registerPlugin(n)})}unsubscribePlayerEvents(){this.mediaSubscriptions.forEach(t=>t()),this.mediaSubscriptions=[]}setOptions(t){this.options=Object.assign({},this.options,t),t.duration&&!t.peaks&&(this.decodedData=l3.createBuffer(this.exportPeaks(),t.duration)),t.peaks&&t.duration&&(this.decodedData=l3.createBuffer(t.peaks,t.duration)),this.renderer.setOptions(this.options),t.audioRate&&this.setPlaybackRate(t.audioRate),t.mediaControls!=null&&(this.getMediaElement().controls=t.mediaControls)}registerPlugin(t){return t._init(this),this.plugins.push(t),this.subscriptions.push(t.once("destroy",()=>{this.plugins=this.plugins.filter(n=>n!==t)})),t}getWrapper(){return this.renderer.getWrapper()}getWidth(){return this.renderer.getWidth()}getScroll(){return this.renderer.getScroll()}setScroll(t){return this.renderer.setScroll(t)}setScrollTime(t){const n=t/this.getDuration();this.renderer.setScrollPercentage(n)}getActivePlugins(){return this.plugins}loadAudio(t,n,r,i){return ts(this,void 0,void 0,function*(){var o;if(this.emit("load",t),!this.options.media&&this.isPlaying()&&this.pause(),this.decodedData=null,this.stopAtPosition=null,!n&&!r){const a=this.options.fetchParams||{};window.AbortController&&!a.signal&&(this.abortController=new AbortController,a.signal=(o=this.abortController)===null||o===void 0?void 0:o.signal);const l=c=>this.emit("loading",c);n=yield omt.fetchBlob(t,l,a);const u=this.options.blobMimeType;u&&(n=new Blob([n],{type:u}))}this.setSrc(t,n);const s=yield new Promise(a=>{const l=i||this.getDuration();l?a(l):this.mediaSubscriptions.push(this.onMediaEvent("loadedmetadata",()=>a(this.getDuration()),{once:!0}))});if(!t&&!n){const a=this.getMediaElement();a instanceof p5&&(a.duration=s)}if(r)this.decodedData=l3.createBuffer(r,s||0);else if(n){const a=yield n.arrayBuffer();this.decodedData=yield l3.decode(a,this.options.sampleRate)}this.decodedData&&(this.emit("decode",this.getDuration()),this.renderer.render(this.decodedData)),this.emit("ready",this.getDuration())})}load(t,n,r){return ts(this,void 0,void 0,function*(){try{return yield this.loadAudio(t,void 0,n,r)}catch(i){throw this.emit("error",i),i}})}loadBlob(t,n,r){return ts(this,void 0,void 0,function*(){try{return yield this.loadAudio("",t,n,r)}catch(i){throw this.emit("error",i),i}})}zoom(t){if(!this.decodedData)throw new Error("No audio loaded");this.renderer.zoom(t),this.emit("zoom",t)}getDecodedData(){return this.decodedData}exportPeaks({channels:t=2,maxLength:n=8e3,precision:r=1e4}={}){if(!this.decodedData)throw new Error("The audio has not been decoded yet");const i=Math.min(t,this.decodedData.numberOfChannels),o=[];for(let s=0;s<i;s++){const a=this.decodedData.getChannelData(s),l=[],u=a.length/n;for(let c=0;c<n;c++){const d=a.slice(Math.floor(c*u),Math.ceil((c+1)*u));let h=0;for(let f=0;f<d.length;f++){const p=d[f];Math.abs(p)>Math.abs(h)&&(h=p)}l.push(Math.round(h*r)/r)}o.push(l)}return o}getDuration(){let t=super.getDuration()||0;return t!==0&&t!==1/0||!this.decodedData||(t=this.decodedData.duration),t}toggleInteraction(t){this.options.interact=t}setTime(t){this.stopAtPosition=null,super.setTime(t),this.updateProgress(t),this.emit("timeupdate",t)}seekTo(t){const n=this.getDuration()*t;this.setTime(n)}play(t,n){const r=Object.create(null,{play:{get:()=>super.play}});return ts(this,void 0,void 0,function*(){t!=null&&this.setTime(t);const i=yield r.play.call(this);return n!=null&&(this.media instanceof p5?this.media.stopAt(n):this.stopAtPosition=n),i})}playPause(){return ts(this,void 0,void 0,function*(){return this.isPlaying()?this.pause():this.play()})}stop(){this.pause(),this.setTime(0)}skip(t){this.setTime(this.getCurrentTime()+t)}empty(){this.load("",[[0]],.001)}setMediaElement(t){this.unsubscribePlayerEvents(),super.setMediaElement(t),this.initPlayerEvents()}exportImage(){return ts(this,arguments,void 0,function*(t="image/png",n=1,r="dataURL"){return this.renderer.exportImage(t,n,r)})}destroy(){var t;this.emit("destroy"),(t=this.abortController)===null||t===void 0||t.abort(),this.plugins.forEach(n=>n.destroy()),this.subscriptions.forEach(n=>n()),this.unsubscribePlayerEvents(),this.timer.destroy(),this.renderer.destroy(),super.destroy()}};Uj.BasePlugin=class extends c2{constructor(e){super(),this.subscriptions=[],this.options=e}onInit(){}_init(e){this.wavesurfer=e,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach(e=>e())}},Uj.dom=imt;function umt(e){return Uj.create(e)}function cmt(e){const{plugin:t,options:n,creator:r="create"}=e,i=t[r];if(!t)throw new Error("Please pass a valid plugin in plugin list");if(!r)throw new Error("Please pass the creator function name in 'creator' property.");if(typeof i!="function")throw new Error(`"${r}" is not callable on given plugin. Please pass a valid 'creator' in plugins list.`);return i(n)}const _ae=e=>e.reduce((t,n)=>(t[n[0]]=n[1],t),{}),dmt=(e,t)=>{const n=Object.entries(e),r=Object.entries(t),i=n.filter(([s])=>r.findIndex(([a])=>a===s)===-1),o=r.filter(([s])=>n.findIndex(([a])=>a===s)===-1);return{disabled:_ae(i),enabled:_ae(o)}};function Eae(e,t){const n={},r=[...t];for(;r.length>=1;){const i=r.shift();!!e[i.key]?n[i.key]=e[i.key]:n[i.key]=cmt(i)}return n}function hmt({container:e,plugins:t=[],onMount:n,...r}){const i=O.useRef(!1),[o,s]=O.useState({}),a=O.useRef([]),[l,u]=O.useState(null);return O.useEffect(()=>{if(!e)return;const c=e;if(i.current)return;i.current=!0;const d=Eae(o,t);a.current=Object.keys(d);const h=umt({container:e,...r,plugins:Object.values(d)});return n==null||n(h),s(d),u(h),()=>{c!==e&&h.destroy()}},[e]),O.useEffect(()=>{if(l){const c=Eae(o,t),{disabled:d,enabled:h}=dmt(o,c);Object.keys(d).forEach(f=>{d[f].destroy()}),Object.keys(h).forEach(f=>{a.current.includes(f)||(console.log("register plugin",f,h[f]),l==null||l.registerPlugin(h[f]))}),a.current=Object.keys(h),s(c)}},[t]),[l,o,Object.values(o)]}function ZSe({children:e,plugins:t=[],onMount:n,...r}){const i=hmt({plugins:t,onMount:n,...r});return Nn.createElement(rmt.Provider,{value:i},e)}const eTe=({id:e="waveform",children:t})=>Nn.createElement("div",{id:e},t);function m5(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(u){try{l(r.next(u))}catch(c){o(c)}}function a(u){try{l(r.throw(u))}catch(c){o(c)}}function l(u){var c;u.done?i(u.value):(c=u.value,c instanceof n?c:new n(function(d){d(c)})).then(s,a)}l((r=r.apply(e,[])).next())})}class tTe{constructor(){this.listeners={}}on(t,n,r){if(this.listeners[t]||(this.listeners[t]=new Set),this.listeners[t].add(n),r==null?void 0:r.once){const i=()=>{this.un(t,i),this.un(t,n)};return this.on(t,i),i}return()=>this.un(t,n)}un(t,n){var r;(r=this.listeners[t])===null||r===void 0||r.delete(n)}once(t,n){return this.on(t,n,{once:!0})}unAll(){this.listeners={}}emit(t,...n){this.listeners[t]&&this.listeners[t].forEach(r=>r(...n))}}let fmt=class extends tTe{constructor(t){super(),this.subscriptions=[],this.options=t}onInit(){}_init(t){this.wavesurfer=t,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach(t=>t())}};class pmt extends tTe{constructor(){super(...arguments),this.unsubscribe=()=>{}}start(){this.unsubscribe=this.on("tick",()=>{requestAnimationFrame(()=>{this.emit("tick")})}),this.emit("tick")}stop(){this.unsubscribe()}destroy(){this.unsubscribe()}}const mmt=["audio/webm","audio/wav","audio/mpeg","audio/mp4","audio/mp3"];class WG extends fmt{constructor(t){var n,r,i,o,s,a;super(Object.assign(Object.assign({},t),{audioBitsPerSecond:(n=t.audioBitsPerSecond)!==null&&n!==void 0?n:128e3,scrollingWaveform:(r=t.scrollingWaveform)!==null&&r!==void 0&&r,scrollingWaveformWindow:(i=t.scrollingWaveformWindow)!==null&&i!==void 0?i:5,continuousWaveform:(o=t.continuousWaveform)!==null&&o!==void 0&&o,renderRecordedAudio:(s=t.renderRecordedAudio)===null||s===void 0||s,mediaRecorderTimeslice:(a=t.mediaRecorderTimeslice)!==null&&a!==void 0?a:void 0})),this.stream=null,this.mediaRecorder=null,this.dataWindow=null,this.isWaveformPaused=!1,this.lastStartTime=0,this.lastDuration=0,this.duration=0,this.timer=new pmt,this.subscriptions.push(this.timer.on("tick",()=>{const l=performance.now()-this.lastStartTime;this.duration=this.isPaused()?this.duration:this.lastDuration+l,this.emit("record-progress",this.duration)}))}static create(t){return new WG(t||{})}renderMicStream(t){var n;const r=new AudioContext,i=r.createMediaStreamSource(t),o=r.createAnalyser();i.connect(o),this.options.continuousWaveform&&(o.fftSize=32);const s=o.frequencyBinCount,a=new Float32Array(s);let l=0;this.wavesurfer&&((n=this.originalOptions)!==null&&n!==void 0||(this.originalOptions=Object.assign({},this.wavesurfer.options)),this.wavesurfer.options.interact=!1,this.options.scrollingWaveform&&(this.wavesurfer.options.cursorWidth=0));const u=setInterval(()=>{var c,d,h,f;if(!this.isWaveformPaused){if(o.getFloatTimeDomainData(a),this.options.scrollingWaveform){const p=Math.floor((this.options.scrollingWaveformWindow||0)*r.sampleRate),m=Math.min(p,this.dataWindow?this.dataWindow.length+s:s),g=new Float32Array(p);if(this.dataWindow){const y=Math.max(0,p-this.dataWindow.length);g.set(this.dataWindow.slice(-m+s),y)}g.set(a,p-s),this.dataWindow=g}else if(this.options.continuousWaveform){if(!this.dataWindow){const m=this.options.continuousWaveformDuration?Math.round(100*this.options.continuousWaveformDuration):((d=(c=this.wavesurfer)===null||c===void 0?void 0:c.getWidth())!==null&&d!==void 0?d:0)*window.devicePixelRatio;this.dataWindow=new Float32Array(m)}let p=0;for(let m=0;m<s;m++){const g=Math.abs(a[m]);g>p&&(p=g)}if(l+1>this.dataWindow.length){const m=new Float32Array(2*this.dataWindow.length);m.set(this.dataWindow,0),this.dataWindow=m}this.dataWindow[l]=p,l++}else this.dataWindow=a;if(this.wavesurfer){const p=((f=(h=this.dataWindow)===null||h===void 0?void 0:h.length)!==null&&f!==void 0?f:0)/100;this.wavesurfer.load("",[this.dataWindow],this.options.scrollingWaveform?this.options.scrollingWaveformWindow:p).then(()=>{this.wavesurfer&&this.options.continuousWaveform&&(this.wavesurfer.setTime(this.getDuration()/1e3),this.wavesurfer.options.minPxPerSec||this.wavesurfer.setOptions({minPxPerSec:this.wavesurfer.getWidth()/this.wavesurfer.getDuration()}))}).catch(m=>{console.error("Error rendering real-time recording data:",m)})}}},10);return{onDestroy:()=>{clearInterval(u),i==null||i.disconnect(),r==null||r.close()},onEnd:()=>{this.isWaveformPaused=!0,clearInterval(u),this.stopMic()}}}startMic(t){return m5(this,void 0,void 0,function*(){let n;try{n=yield navigator.mediaDevices.getUserMedia({audio:!(t!=null&&t.deviceId)||{deviceId:t.deviceId}})}catch(o){throw new Error("Error accessing the microphone: "+o.message)}const{onDestroy:r,onEnd:i}=this.renderMicStream(n);return this.subscriptions.push(this.once("destroy",r)),this.subscriptions.push(this.once("record-end",i)),this.stream=n,n})}stopMic(){this.stream&&(this.stream.getTracks().forEach(t=>t.stop()),this.stream=null,this.mediaRecorder=null)}startRecording(t){return m5(this,void 0,void 0,function*(){const n=this.stream||(yield this.startMic(t));this.dataWindow=null;const r=this.mediaRecorder||new MediaRecorder(n,{mimeType:this.options.mimeType||mmt.find(s=>MediaRecorder.isTypeSupported(s)),audioBitsPerSecond:this.options.audioBitsPerSecond});this.mediaRecorder=r,this.stopRecording();const i=[];r.ondataavailable=s=>{s.data.size>0&&i.push(s.data),this.emit("record-data-available",s.data)};const o=s=>{var a;const l=new Blob(i,{type:r.mimeType});this.emit(s,l),this.options.renderRecordedAudio&&(this.applyOriginalOptionsIfNeeded(),(a=this.wavesurfer)===null||a===void 0||a.load(URL.createObjectURL(l)))};r.onpause=()=>o("record-pause"),r.onstop=()=>o("record-end"),r.start(this.options.mediaRecorderTimeslice),this.lastStartTime=performance.now(),this.lastDuration=0,this.duration=0,this.isWaveformPaused=!1,this.timer.start(),this.emit("record-start")})}getDuration(){return this.duration}isRecording(){var t;return((t=this.mediaRecorder)===null||t===void 0?void 0:t.state)==="recording"}isPaused(){var t;return((t=this.mediaRecorder)===null||t===void 0?void 0:t.state)==="paused"}isActive(){var t;return((t=this.mediaRecorder)===null||t===void 0?void 0:t.state)!=="inactive"}stopRecording(){var t;this.isActive()&&((t=this.mediaRecorder)===null||t===void 0||t.stop(),this.timer.stop())}pauseRecording(){var t,n;this.isRecording()&&(this.isWaveformPaused=!0,(t=this.mediaRecorder)===null||t===void 0||t.requestData(),(n=this.mediaRecorder)===null||n===void 0||n.pause(),this.timer.stop(),this.lastDuration=this.duration)}resumeRecording(){var t;this.isPaused()&&(this.isWaveformPaused=!1,(t=this.mediaRecorder)===null||t===void 0||t.resume(),this.timer.start(),this.lastStartTime=performance.now(),this.emit("record-resume"))}static getAvailableAudioDevices(){return m5(this,void 0,void 0,function*(){return navigator.mediaDevices.enumerateDevices().then(t=>t.filter(n=>n.kind==="audioinput"))})}destroy(){this.applyOriginalOptionsIfNeeded(),super.destroy(),this.stopRecording(),this.stopMic()}applyOriginalOptionsIfNeeded(){this.wavesurfer&&this.originalOptions&&(this.wavesurfer.setOptions(this.originalOptions),delete this.originalOptions)}}function nTe({width:e=70,height:t=36}){const n=O.useRef(null),r=O.useRef(null),[i,o]=O.useState(!1);O.useEffect(()=>{if(i&&n.current){const a=n.current.registerPlugin(WG.create({scrollingWaveform:!0,renderRecordedAudio:!1}));r.current=a,navigator.userAgent.includes("Firefox")||a.startRecording(),n.current.setOptions({height:t,waveColor:"#FA5252"})}return()=>{var a,l;i&&n.current&&((a=r.current)==null||a.stopRecording(),(l=r.current)==null||l.destroy(),n.current.destroy())}},[i]);const s=O.useCallback(a=>{n.current=a,o(!0)},[]);return k.jsx(ge,{id:"waveformDiv",style:{width:`${e}px`,height:`${t}px`},children:k.jsx(ZSe,{onMount:s,plugins:[],container:"#waveformDiv",height:t,children:k.jsx(eTe,{id:"waveform",height:t})})})}function Sae({setAnswer:e}){return O.useEffect(()=>{navigator.mediaDevices.getUserMedia({audio:!0}).then(n=>{new MediaRecorder(n).start();const i=new AudioContext,o=i.createMediaStreamSource(n),s=i.createAnalyser();s.minDecibels=-45,o.connect(s);const a=s.frequencyBinCount,l=new Uint8Array(a);let u=!1;const c=()=>{if(!u){s.getByteFrequencyData(l);for(let d=0;d<a;d+=1)l[d]>0&&(u=!0,e({status:!0,provenanceGraph:void 0,answers:{audioTest:!0}}));window.requestAnimationFrame(c)}};window.requestAnimationFrame(c)})},[e]),k.jsx(zu,{style:{height:"70%",width:"100%"},children:k.jsxs(tu,{children:[k.jsx(Fe,{ta:"center",children:"Please allow us to access your microphone. There may be a popup in your browser window asking for access, click accept."}),k.jsx(Fe,{ta:"center",children:"Once we can confirm that your microphone is on and we hear you say something, the continue button will become available."}),k.jsx(Fe,{ta:"center",style:{fontWeight:700},children:"If you are not comfortable or able to speak English during this study, please return the study."}),k.jsx(zu,{children:k.jsx(nTe,{height:200,width:400})})]})})}const rTe=Object.freeze(Object.defineProperty({__proto__:null,AudioTest:Sae,default:Sae},Symbol.toStringTag,{value:"Module"}));function gmt(){return k.jsx("div",{children:"test react file"})}const iTe=Object.freeze(Object.defineProperty({__proto__:null,default:gmt},Symbol.toStringTag,{value:"Module"}));function ymt({parameters:e}){return k.jsx(Fe,{children:e&&e.n!==void 0?e.n:"There was a problem"})}const oTe=Object.freeze(Object.defineProperty({__proto__:null,default:ymt},Symbol.toStringTag,{value:"Module"}));function vmt({answers:e,customParameters:t}){const n=Object.entries(e).filter(([r,i])=>r.startsWith(`${t.name}`)).filter(([r,i])=>i.endTime>-1).length;return n===5?{component:null}:{component:"reactComponent",parameters:{n:n||0},correctAnswer:[{id:"test",answer:"correct"}]}}const sTe=Object.freeze(Object.defineProperty({__proto__:null,default:vmt},Symbol.toStringTag,{value:"Module"}));function Ko(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var bmt=typeof Symbol=="function"&&Symbol.observable||"@@observable",Tae=bmt,g5=()=>Math.random().toString(36).substring(7).split("").join("."),wmt={INIT:`@@redux/INIT${g5()}`,REPLACE:`@@redux/REPLACE${g5()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${g5()}`},iD=wmt;function qG(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function aTe(e,t,n){if(typeof e!="function")throw new Error(Ko(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ko(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ko(1));return n(aTe)(e,t)}let r=e,i=t,o=new Map,s=o,a=0,l=!1;function u(){s===o&&(s=new Map,o.forEach((g,y)=>{s.set(y,g)}))}function c(){if(l)throw new Error(Ko(3));return i}function d(g){if(typeof g!="function")throw new Error(Ko(4));if(l)throw new Error(Ko(5));let y=!0;u();const v=a++;return s.set(v,g),function(){if(y){if(l)throw new Error(Ko(6));y=!1,u(),s.delete(v),o=null}}}function h(g){if(!qG(g))throw new Error(Ko(7));if(typeof g.type>"u")throw new Error(Ko(8));if(typeof g.type!="string")throw new Error(Ko(17));if(l)throw new Error(Ko(9));try{l=!0,i=r(i,g)}finally{l=!1}return(o=s).forEach(v=>{v()}),g}function f(g){if(typeof g!="function")throw new Error(Ko(10));r=g,h({type:iD.REPLACE})}function p(){const g=d;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(Ko(11));function v(){const _=y;_.next&&_.next(c())}return v(),{unsubscribe:g(v)}},[Tae](){return this}}}return h({type:iD.INIT}),{dispatch:h,subscribe:d,getState:c,replaceReducer:f,[Tae]:p}}function xmt(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:iD.INIT})>"u")throw new Error(Ko(12));if(typeof n(void 0,{type:iD.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ko(13))})}function _mt(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const s=t[o];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let i;try{xmt(n)}catch(o){i=o}return function(s={},a){if(i)throw i;let l=!1;const u={};for(let c=0;c<r.length;c++){const d=r[c],h=n[d],f=s[d],p=h(f,a);if(typeof p>"u")throw a&&a.type,new Error(Ko(14));u[d]=p,l=l||p!==f}return l=l||r.length!==Object.keys(s).length,l?u:s}}function oD(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function Emt(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(Ko(15))};const s={getState:i.getState,dispatch:(l,...u)=>o(l,...u)},a=e.map(l=>l(s));return o=oD(...a)(i.dispatch),{...i,dispatch:o}}}function Smt(e){return qG(e)&&"type"in e&&typeof e.type=="string"}var lTe=Symbol.for("immer-nothing"),Cae=Symbol.for("immer-draftable"),ou=Symbol.for("immer-state");function $c(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var qw=Object.getPrototypeOf;function av(e){return!!e&&!!e[ou]}function Tp(e){var t;return e?uTe(e)||Array.isArray(e)||!!e[Cae]||!!((t=e.constructor)!=null&&t[Cae])||jN(e)||zN(e):!1}var Tmt=Object.prototype.constructor.toString();function uTe(e){if(!e||typeof e!="object")return!1;const t=qw(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Tmt}function sD(e,t){BN(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function BN(e){const t=e[ou];return t?t.type_:Array.isArray(e)?1:jN(e)?2:zN(e)?3:0}function Hj(e,t){return BN(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function cTe(e,t,n){const r=BN(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Cmt(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function jN(e){return e instanceof Map}function zN(e){return e instanceof Set}function ty(e){return e.copy_||e.base_}function Vj(e,t){if(jN(e))return new Map(e);if(zN(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=uTe(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[ou];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],a=r[s];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[s]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[s]})}return Object.create(qw(e),r)}else{const r=qw(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function GG(e,t=!1){return UN(e)||av(e)||!Tp(e)||(BN(e)>1&&(e.set=e.add=e.clear=e.delete=Amt),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>GG(r,!0))),e}function Amt(){$c(2)}function UN(e){return Object.isFrozen(e)}var kmt={};function lv(e){const t=kmt[e];return t||$c(0,e),t}var DC;function dTe(){return DC}function Imt(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Aae(e,t){t&&(lv("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Wj(e){qj(e),e.drafts_.forEach(Rmt),e.drafts_=null}function qj(e){e===DC&&(DC=e.parent_)}function kae(e){return DC=Imt(DC,e)}function Rmt(e){const t=e[ou];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Iae(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[ou].modified_&&(Wj(t),$c(4)),Tp(e)&&(e=aD(t,e),t.parent_||lD(t,e)),t.patches_&&lv("Patches").generateReplacementPatches_(n[ou].base_,e,t.patches_,t.inversePatches_)):e=aD(t,n,[]),Wj(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==lTe?e:void 0}function aD(e,t,n){if(UN(t))return t;const r=t[ou];if(!r)return sD(t,(i,o)=>Rae(e,r,t,i,o,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return lD(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,s=!1;r.type_===3&&(o=new Set(i),i.clear(),s=!0),sD(o,(a,l)=>Rae(e,r,i,a,l,n,s)),lD(e,i,!1),n&&e.patches_&&lv("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Rae(e,t,n,r,i,o,s){if(av(i)){const a=o&&t&&t.type_!==3&&!Hj(t.assigned_,r)?o.concat(r):void 0,l=aD(e,i,a);if(cTe(n,r,l),av(l))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(Tp(i)&&!UN(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;aD(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&lD(e,i)}}function lD(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&GG(t,n)}function $mt(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:dTe(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=YG;n&&(i=[r],o=MC);const{revoke:s,proxy:a}=Proxy.revocable(i,o);return r.draft_=a,r.revoke_=s,a}var YG={get(e,t){if(t===ou)return e;const n=ty(e);if(!Hj(n,t))return Dmt(e,n,t);const r=n[t];return e.finalized_||!Tp(r)?r:r===y5(e.base_,t)?(v5(e),e.copy_[t]=Yj(r,e)):r},has(e,t){return t in ty(e)},ownKeys(e){return Reflect.ownKeys(ty(e))},set(e,t,n){const r=hTe(ty(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=y5(ty(e),t),o=i==null?void 0:i[ou];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(Cmt(n,i)&&(n!==void 0||Hj(e.base_,t)))return!0;v5(e),Gj(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return y5(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,v5(e),Gj(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=ty(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){$c(11)},getPrototypeOf(e){return qw(e.base_)},setPrototypeOf(){$c(12)}},MC={};sD(YG,(e,t)=>{MC[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});MC.deleteProperty=function(e,t){return MC.set.call(this,e,t,void 0)};MC.set=function(e,t,n){return YG.set.call(this,e[0],t,n,e[0])};function y5(e,t){const n=e[ou];return(n?ty(n):e)[t]}function Dmt(e,t,n){var i;const r=hTe(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function hTe(e,t){if(!(t in e))return;let n=qw(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=qw(n)}}function Gj(e){e.modified_||(e.modified_=!0,e.parent_&&Gj(e.parent_))}function v5(e){e.copy_||(e.copy_=Vj(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Mmt=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const s=this;return function(l=o,...u){return s.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&$c(6),r!==void 0&&typeof r!="function"&&$c(7);let i;if(Tp(t)){const o=kae(this),s=Yj(t,void 0);let a=!0;try{i=n(s),a=!1}finally{a?Wj(o):qj(o)}return Aae(o,r),Iae(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===lTe&&(i=void 0),this.autoFreeze_&&GG(i,!0),r){const o=[],s=[];lv("Patches").generateReplacementPatches_(t,i,o,s),r(o,s)}return i}else $c(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...a)=>this.produceWithPatches(s,l=>t(l,...a));let r,i;return[this.produce(t,n,(s,a)=>{r=s,i=a}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Tp(e)||$c(8),av(e)&&(e=Pmt(e));const t=kae(this),n=Yj(e,void 0);return n[ou].isManual_=!0,qj(t),n}finishDraft(e,t){const n=e&&e[ou];(!n||!n.isManual_)&&$c(9);const{scope_:r}=n;return Aae(r,t),Iae(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=lv("Patches").applyPatches_;return av(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Yj(e,t){const n=jN(e)?lv("MapSet").proxyMap_(e,t):zN(e)?lv("MapSet").proxySet_(e,t):$mt(e,t);return(t?t.scope_:dTe()).drafts_.push(n),n}function Pmt(e){return av(e)||$c(10,e),fTe(e)}function fTe(e){if(!Tp(e)||UN(e))return e;const t=e[ou];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Vj(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Vj(e,!0);return sD(n,(r,i)=>{cTe(n,r,fTe(i))}),t&&(t.finalized_=!1),n}var su=new Mmt,pTe=su.produce;su.produceWithPatches.bind(su);su.setAutoFreeze.bind(su);su.setUseStrictShallowCopy.bind(su);su.applyPatches.bind(su);su.createDraft.bind(su);su.finishDraft.bind(su);function Nmt(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Omt(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Lmt(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var $ae=e=>Array.isArray(e)?e:[e];function Fmt(e){const t=Array.isArray(e[0])?e[0]:e;return Lmt(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Bmt(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var jmt=class{constructor(e){this.value=e}deref(){return this.value}},zmt=typeof WeakRef<"u"?WeakRef:jmt,Umt=0,Dae=1;function u3(){return{s:Umt,v:void 0,o:null,p:null}}function mTe(e,t={}){let n=u3();const{resultEqualityCheck:r}=t;let i,o=0;function s(){var d;let a=n;const{length:l}=arguments;for(let h=0,f=l;h<f;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let m=a.o;m===null&&(a.o=m=new WeakMap);const g=m.get(p);g===void 0?(a=u3(),m.set(p,a)):a=g}else{let m=a.p;m===null&&(a.p=m=new Map);const g=m.get(p);g===void 0?(a=u3(),m.set(p,a)):a=g}}const u=a;let c;if(a.s===Dae)c=a.v;else if(c=e.apply(null,arguments),o++,r){const h=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;h!=null&&r(h,c)&&(c=h,o!==0&&o--),i=typeof c=="object"&&c!==null||typeof c=="function"?new zmt(c):c}return u.s=Dae,u.v=c,c}return s.clearCache=()=>{n=u3(),s.resetResultsCount()},s.resultsCount=()=>o,s.resetResultsCount=()=>{o=0},s}function Hmt(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let o=0,s=0,a,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),Nmt(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...n,...l},{memoize:d,memoizeOptions:h=[],argsMemoize:f=mTe,argsMemoizeOptions:p=[]}=c,m=$ae(h),g=$ae(p),y=Fmt(i),v=d(function(){return o++,u.apply(null,arguments)},...m),b=f(function(){s++;const x=Bmt(y,arguments);return a=v.apply(null,x),a},...g);return Object.assign(b,{resultFunc:u,memoizedResultFunc:v,dependencies:y,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>a,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:d,argsMemoize:f})};return Object.assign(r,{withTypes:()=>r}),r}var gTe=Hmt(mTe),Vmt=Object.assign((e,t=gTe)=>{Omt(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(o=>e[o]);return t(r,(...o)=>o.reduce((s,a,l)=>(s[n[l]]=a,s),{}))},{withTypes:()=>Vmt});function yTe(e){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,e):i(o)}var Wmt=yTe(),qmt=yTe,Gmt=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?oD:oD.apply(null,arguments)};function Mae(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Jf(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>Smt(r)&&r.type===e,n}var vTe=class dS extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,dS.prototype)}static get[Symbol.species](){return dS}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new dS(...t[0].concat(this)):new dS(...t.concat(this))}};function Pae(e){return Tp(e)?pTe(e,()=>{}):e}function Nae(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function Ymt(e){return typeof e=="boolean"}var Kmt=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=t??{};let s=new vTe;return n&&(Ymt(n)?s.push(Wmt):s.push(qmt(n.extraArgument))),s},Xmt="RTK_autoBatch",Oae=e=>t=>{setTimeout(t,e)},Qmt=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,o=!1,s=!1;const a=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Oae(10):e.type==="callback"?e.queueNotification:Oae(e.timeout),u=()=>{s=!1,o&&(o=!1,a.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const d=()=>i&&c(),h=r.subscribe(d);return a.add(c),()=>{h(),a.delete(c)}},dispatch(c){var d;try{return i=!((d=c==null?void 0:c.meta)!=null&&d[Xmt]),o=!i,o&&(s||(s=!0,l(u))),r.dispatch(c)}finally{i=!0}}})},Jmt=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new vTe(e);return r&&i.push(Qmt(typeof r=="object"?r:void 0)),i};function Zmt(e){const t=Kmt(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:s=void 0}=e||{};let a;if(typeof n=="function")a=n;else if(qG(n))a=_mt(n);else throw new Error(Jf(1));let l;typeof r=="function"?l=r(t):l=t();let u=oD;i&&(u=Gmt({trace:!1,...typeof i=="object"&&i}));const c=Emt(...l),d=Jmt(c);let h=typeof s=="function"?s(d):d();const f=u(...h);return aTe(a,o,f)}function bTe(e){const t={},n=[];let r;const i={addCase(o,s){const a=typeof o=="string"?o:o.type;if(!a)throw new Error(Jf(28));if(a in t)throw new Error(Jf(29));return t[a]=s,i},addMatcher(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase(o){return r=o,i}};return e(i),[t,n,r]}function egt(e){return typeof e=="function"}function tgt(e,t){let[n,r,i]=bTe(t),o;if(egt(e))o=()=>Pae(e());else{const a=Pae(e);o=()=>a}function s(a=o(),l){let u=[n[l.type],...r.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,d)=>{if(d)if(av(c)){const f=d(c,l);return f===void 0?c:f}else{if(Tp(c))return pTe(c,h=>d(h,l));{const h=d(c,l);if(h===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return c},a)}return s.getInitialState=o,s}var ngt=Symbol.for("rtk-slice-createasyncthunk");function rgt(e,t){return`${e}/${t}`}function igt({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[ngt];return function(i){const{name:o,reducerPath:s=o}=i;if(!o)throw new Error(Jf(11));const a=(typeof i.reducers=="function"?i.reducers(agt()):i.reducers)||{},l=Object.keys(a),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(b,_){const x=typeof b=="string"?b:b.type;if(!x)throw new Error(Jf(12));if(x in u.sliceCaseReducersByType)throw new Error(Jf(13));return u.sliceCaseReducersByType[x]=_,c},addMatcher(b,_){return u.sliceMatchers.push({matcher:b,reducer:_}),c},exposeAction(b,_){return u.actionCreators[b]=_,c},exposeCaseReducer(b,_){return u.sliceCaseReducersByName[b]=_,c}};l.forEach(b=>{const _=a[b],x={reducerName:b,type:rgt(o,b),createNotation:typeof i.reducers=="function"};ugt(_)?dgt(x,_,c,t):lgt(x,_,c)});function d(){const[b={},_=[],x=void 0]=typeof i.extraReducers=="function"?bTe(i.extraReducers):[i.extraReducers],w={...b,...u.sliceCaseReducersByType};return tgt(i.initialState,E=>{for(let S in w)E.addCase(S,w[S]);for(let S of u.sliceMatchers)E.addMatcher(S.matcher,S.reducer);for(let S of _)E.addMatcher(S.matcher,S.reducer);x&&E.addDefaultCase(x)})}const h=b=>b,f=new Map;let p;function m(b,_){return p||(p=d()),p(b,_)}function g(){return p||(p=d()),p.getInitialState()}function y(b,_=!1){function x(E){let S=E[b];return typeof S>"u"&&_&&(S=g()),S}function w(E=h){const S=Nae(f,_,()=>new WeakMap);return Nae(S,E,()=>{const T={};for(const[C,D]of Object.entries(i.selectors??{}))T[C]=ogt(D,E,g,_);return T})}return{reducerPath:b,getSelectors:w,get selectors(){return w(x)},selectSlice:x}}const v={name:o,reducer:m,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:g,...y(s),injectInto(b,{reducerPath:_,...x}={}){const w=_??s;return b.inject({reducerPath:w,reducer:m},x),{...v,...y(w,!0)}}};return v}}function ogt(e,t,n,r){function i(o,...s){let a=t(o);return typeof a>"u"&&r&&(a=n()),e(a,...s)}return i.unwrapped=e,i}var sgt=igt();function agt(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function lgt({type:e,reducerName:t,createNotation:n},r,i){let o,s;if("reducer"in r){if(n&&!cgt(r))throw new Error(Jf(17));o=r.reducer,s=r.prepare}else o=r;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,s?Mae(e,s):Mae(e))}function ugt(e){return e._reducerDefinitionType==="asyncThunk"}function cgt(e){return e._reducerDefinitionType==="reducerWithPrepare"}function dgt({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Jf(18));const{payloadCreator:o,fulfilled:s,pending:a,rejected:l,settled:u,options:c}=n,d=i(e,o,c);r.exposeAction(t,d),s&&r.addCase(d.fulfilled,s),a&&r.addCase(d.pending,a),l&&r.addCase(d.rejected,l),u&&r.addMatcher(d.settled,u),r.exposeCaseReducer(t,{fulfilled:s||c3,pending:a||c3,rejected:l||c3,settled:u||c3})}function c3(){}function Jf(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}function HN(e){return e.baseComponent!==void 0}function au(e){return e.order==="dynamic"}function Rg(e){return au(e)?[e.id]:e.components.flatMap(t=>typeof t=="string"?t:Rg(t))}function wTe(e){return au(e)?[e]:e.components.flatMap(t=>typeof t=="string"?[]:wTe(t))}function Lae(e,t){return wTe(t).find(r=>r.id===e)}function xTe(e){var t;return au(e)?[]:[...e.components.flatMap(n=>typeof n=="string"?n:au(n)?[]:xTe(n)),...((t=e.interruptions)==null?void 0:t.flatMap(n=>n.components))||[]]}function _Te(e,t,n){let r=0;for(let i=0;i<e.components.length;i+=1){const o=e.components[i];if(typeof o=="string"){if(typeof t=="number"&&t===n+r)return[{currentBlock:e,firstIndex:n,lastIndex:n+Rg(e).length-1}];if(typeof t=="string"&&e.orderPath===t)return[{currentBlock:e,firstIndex:n,lastIndex:n+Rg(e).length-1}];r+=1}else{const s=_Te(o,t,n+r);if(typeof s=="number")r+=s;else{const a={currentBlock:e,firstIndex:n,lastIndex:s[0].lastIndex};return[...s,a]}}}return r}function KG(e,t){const n=_Te(e,t,0);return typeof n=="number"?null:n}function ETe(e,t,n){if(e.id===t)return{found:!0,distance:n};let r=0;for(let i=0;i<e.components.length;i+=1){const o=e.components[i];if(typeof o=="string")r+=1;else{const s=ETe(o,t,n+r);if(s.found)return s;r+=s.distance}}return{found:!1,distance:r}}function hgt(e,t){const n=ETe(e,t,0);return n.found?n.distance:-1}function STe(e,t="root"){if(au(e))return[];const n=[],r={};return e.components.forEach((i,o)=>{typeof i=="string"?(n.push({componentName:i,orderPath:t,timesSeenInBlock:r[i]||0}),r[i]=r[i]?r[i]+1:1):n.push(...STe(i,`${t}-${o}`))}),n}function XG(e,t){return typeof e=="string"?e:au(e)?{...e,orderPath:t,components:[]}:{...e,orderPath:t,order:e.order,components:e.components.map((n,r)=>XG(n,`${t}-${r}`))}}var uD={exports:{}};uD.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",i=800,o=16,s=9007199254740991,a="[object Arguments]",l="[object Array]",u="[object AsyncFunction]",c="[object Boolean]",d="[object Date]",h="[object Error]",f="[object Function]",p="[object GeneratorFunction]",m="[object Map]",g="[object Number]",y="[object Null]",v="[object Object]",b="[object Proxy]",_="[object RegExp]",x="[object Set]",w="[object String]",E="[object Undefined]",S="[object WeakMap]",T="[object ArrayBuffer]",C="[object DataView]",D="[object Float32Array]",$="[object Float64Array]",I="[object Int8Array]",R="[object Int16Array]",A="[object Int32Array]",M="[object Uint8Array]",N="[object Uint8ClampedArray]",L="[object Uint16Array]",z="[object Uint32Array]",F=/[\\^$.*+?()[\]{}|]/g,j=/^\[object .+?Constructor\]$/,W=/^(?:0|[1-9]\d*)$/,B={};B[D]=B[$]=B[I]=B[R]=B[A]=B[M]=B[N]=B[L]=B[z]=!0,B[a]=B[l]=B[T]=B[c]=B[C]=B[d]=B[h]=B[f]=B[m]=B[g]=B[v]=B[_]=B[x]=B[w]=B[S]=!1;var H=typeof vt=="object"&&vt&&vt.Object===Object&&vt,V=typeof self=="object"&&self&&self.Object===Object&&self,G=H||V||Function("return this")(),ne=t&&!t.nodeType&&t,X=ne&&!0&&e&&!e.nodeType&&e,te=X&&X.exports===ne,se=te&&H.process,ve=function(){try{var K=X&&X.require&&X.require("util").types;return K||se&&se.binding&&se.binding("util")}catch{}}(),pe=ve&&ve.isTypedArray;function Ge(K,J,de){switch(de.length){case 0:return K.call(J);case 1:return K.call(J,de[0]);case 2:return K.call(J,de[0],de[1]);case 3:return K.call(J,de[0],de[1],de[2])}return K.apply(J,de)}function Ne(K,J){for(var de=-1,at=Array(K);++de<K;)at[de]=J(de);return at}function Ke(K){return function(J){return K(J)}}function Je(K,J){return K==null?void 0:K[J]}function Ae(K,J){return function(de){return K(J(de))}}var $e=Array.prototype,Ze=Function.prototype,lt=Object.prototype,gt=G["__core-js_shared__"],st=Ze.toString,ht=lt.hasOwnProperty,Oe=function(){var K=/[^.]+$/.exec(gt&&gt.keys&&gt.keys.IE_PROTO||"");return K?"Symbol(src)_1."+K:""}(),ut=lt.toString,ee=st.call(Object),he=RegExp("^"+st.call(ht).replace(F,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xe=te?G.Buffer:void 0,Me=G.Symbol,je=G.Uint8Array;xe&&xe.allocUnsafe;var ft=Ae(Object.getPrototypeOf,Object),jt=Object.create,Gt=lt.propertyIsEnumerable,Dt=$e.splice,ct=Me?Me.toStringTag:void 0,Ft=function(){try{var K=Ue(Object,"defineProperty");return K({},"",{}),K}catch{}}(),rr=xe?xe.isBuffer:void 0,In=Math.max,Ci=Date.now,ii=Ue(G,"Map"),Ai=Ue(Object,"create"),xs=function(){function K(){}return function(J){if(!hc(J))return{};if(jt)return jt(J);K.prototype=J;var de=new K;return K.prototype=void 0,de}}();function Tr(K){var J=-1,de=K==null?0:K.length;for(this.clear();++J<de;){var at=K[J];this.set(at[0],at[1])}}function Gn(){this.__data__=Ai?Ai(null):{},this.size=0}function za(K){var J=this.has(K)&&delete this.__data__[K];return this.size-=J?1:0,J}function _s(K){var J=this.__data__;if(Ai){var de=J[K];return de===r?void 0:de}return ht.call(J,K)?J[K]:void 0}function Ua(K){var J=this.__data__;return Ai?J[K]!==void 0:ht.call(J,K)}function Ki(K,J){var de=this.__data__;return this.size+=this.has(K)?0:1,de[K]=Ai&&J===void 0?r:J,this}Tr.prototype.clear=Gn,Tr.prototype.delete=za,Tr.prototype.get=_s,Tr.prototype.has=Ua,Tr.prototype.set=Ki;function $n(K){var J=-1,de=K==null?0:K.length;for(this.clear();++J<de;){var at=K[J];this.set(at[0],at[1])}}function ur(){this.__data__=[],this.size=0}function ca(K){var J=this.__data__,de=cc(J,K);if(de<0)return!1;var at=J.length-1;return de==at?J.pop():Dt.call(J,de,1),--this.size,!0}function Cr(K){var J=this.__data__,de=cc(J,K);return de<0?void 0:J[de][1]}function Br(K){return cc(this.__data__,K)>-1}function Es(K,J){var de=this.__data__,at=cc(de,K);return at<0?(++this.size,de.push([K,J])):de[at][1]=J,this}$n.prototype.clear=ur,$n.prototype.delete=ca,$n.prototype.get=Cr,$n.prototype.has=Br,$n.prototype.set=Es;function Xi(K){var J=-1,de=K==null?0:K.length;for(this.clear();++J<de;){var at=K[J];this.set(at[0],at[1])}}function ki(){this.size=0,this.__data__={hash:new Tr,map:new(ii||$n),string:new Tr}}function af(K){var J=ze(this,K).delete(K);return this.size-=J?1:0,J}function lf(K){return ze(this,K).get(K)}function Il(K){return ze(this,K).has(K)}function Sd(K,J){var de=ze(this,K),at=de.size;return de.set(K,J),this.size+=de.size==at?0:1,this}Xi.prototype.clear=ki,Xi.prototype.delete=af,Xi.prototype.get=lf,Xi.prototype.has=Il,Xi.prototype.set=Sd;function jo(K){var J=this.__data__=new $n(K);this.size=J.size}function fn(){this.__data__=new $n,this.size=0}function mo(K){var J=this.__data__,de=J.delete(K);return this.size=J.size,de}function ac(K){return this.__data__.get(K)}function lc(K){return this.__data__.has(K)}function uc(K,J){var de=this.__data__;if(de instanceof $n){var at=de.__data__;if(!ii||at.length<n-1)return at.push([K,J]),this.size=++de.size,this;de=this.__data__=new Xi(at)}return de.set(K,J),this.size=de.size,this}jo.prototype.clear=fn,jo.prototype.delete=mo,jo.prototype.get=ac,jo.prototype.has=lc,jo.prototype.set=uc;function uf(K,J){var de=Uo(K),at=!de&&As(K),yt=!de&&!at&&Wa(K),Yt=!de&&!at&&!yt&&A0(K),an=de||at||yt||Yt,Wt=an?Ne(K.length,String):[],Jt=Wt.length;for(var Ln in K)an&&(Ln=="length"||yt&&(Ln=="offset"||Ln=="parent")||Yt&&(Ln=="buffer"||Ln=="byteLength"||Ln=="byteOffset")||Ct(Ln,Jt))||Wt.push(Ln);return Wt}function Ss(K,J,de){(de!==void 0&&!Va(K[J],de)||de===void 0&&!(J in K))&&Ts(K,J,de)}function em(K,J,de){var at=K[J];(!(ht.call(K,J)&&Va(at,de))||de===void 0&&!(J in K))&&Ts(K,J,de)}function cc(K,J){for(var de=K.length;de--;)if(Va(K[de][0],J))return de;return-1}function Ts(K,J,de){J=="__proto__"&&Ft?Ft(K,J,{configurable:!0,enumerable:!0,value:de,writable:!0}):K[J]=de}var cf=De();function zo(K){return K==null?K===void 0?E:y:ct&&ct in Object(K)?He(K):go(K)}function da(K){return Ho(K)&&zo(K)==a}function Cs(K){if(!hc(K)||wn(K))return!1;var J=C0(K)?he:j;return J.test(kb(K))}function dc(K){return Ho(K)&&nm(K.length)&&!!B[zo(K)]}function Ha(K){if(!hc(K))return Dn(K);var J=Hn(K),de=[];for(var at in K)at=="constructor"&&(J||!ht.call(K,at))||de.push(at);return de}function df(K,J,de,at,yt){K!==J&&cf(J,function(Yt,an){if(yt||(yt=new jo),hc(Yt))Td(K,J,an,de,df,at,yt);else{var Wt=at?at(yo(K,an),Yt,an+"",K,J,yt):void 0;Wt===void 0&&(Wt=Yt),Ss(K,an,Wt)}},Cd)}function Td(K,J,de,at,yt,Yt,an){var Wt=yo(K,de),Jt=yo(J,de),Ln=an.get(Jt);if(Ln){Ss(K,de,Ln);return}var yr=Yt?Yt(Wt,Jt,de+"",K,J,an):void 0,Kr=yr===void 0;if(Kr){var pi=Uo(Jt),Qi=!pi&&Wa(Jt),ha=!pi&&!Qi&&A0(Jt);yr=Jt,pi||Qi||ha?Uo(Wt)?yr=Wt:Ib(Wt)?yr=me(Wt):Qi?(Kr=!1,yr=Q(Jt)):ha?(Kr=!1,yr=ie(Jt)):yr=[]:Rb(Jt)||As(Jt)?(yr=Wt,As(Wt)?yr=vu(Wt):(!hc(Wt)||C0(Wt))&&(yr=nt(Jt))):Kr=!1}Kr&&(an.set(Jt,yr),yt(yr,Jt,at,Yt,an),an.delete(Jt)),Ss(K,de,yr)}function tm(K,J){return T0(yu(K,J,Ad),K+"")}var hf=Ft?function(K,J){return Ft(K,"toString",{configurable:!0,enumerable:!1,value:mf(J),writable:!0})}:Ad;function Q(K,J){return K.slice()}function ce(K){var J=new K.constructor(K.byteLength);return new je(J).set(new je(K)),J}function ie(K,J){var de=ce(K.buffer);return new K.constructor(de,K.byteOffset,K.length)}function me(K,J){var de=-1,at=K.length;for(J||(J=Array(at));++de<at;)J[de]=K[de];return J}function ye(K,J,de,at){var yt=!de;de||(de={});for(var Yt=-1,an=J.length;++Yt<an;){var Wt=J[Yt],Jt=void 0;Jt===void 0&&(Jt=K[Wt]),yt?Ts(de,Wt,Jt):em(de,Wt,Jt)}return de}function fe(K){return tm(function(J,de){var at=-1,yt=de.length,Yt=yt>1?de[yt-1]:void 0,an=yt>2?de[2]:void 0;for(Yt=K.length>3&&typeof Yt=="function"?(yt--,Yt):void 0,an&&un(de[0],de[1],an)&&(Yt=yt<3?void 0:Yt,yt=1),J=Object(J);++at<yt;){var Wt=de[at];Wt&&K(J,Wt,at,Yt)}return J})}function De(K){return function(J,de,at){for(var yt=-1,Yt=Object(J),an=at(J),Wt=an.length;Wt--;){var Jt=an[++yt];if(de(Yt[Jt],Jt,Yt)===!1)break}return J}}function ze(K,J){var de=K.__data__;return Lt(J)?de[typeof J=="string"?"string":"hash"]:de.map}function Ue(K,J){var de=Je(K,J);return Cs(de)?de:void 0}function He(K){var J=ht.call(K,ct),de=K[ct];try{K[ct]=void 0;var at=!0}catch{}var yt=ut.call(K);return at&&(J?K[ct]=de:delete K[ct]),yt}function nt(K){return typeof K.constructor=="function"&&!Hn(K)?xs(ft(K)):{}}function Ct(K,J){var de=typeof K;return J=J??s,!!J&&(de=="number"||de!="symbol"&&W.test(K))&&K>-1&&K%1==0&&K<J}function un(K,J,de){if(!hc(de))return!1;var at=typeof J;return(at=="number"?pf(de)&&Ct(J,de.length):at=="string"&&J in de)?Va(de[J],K):!1}function Lt(K){var J=typeof K;return J=="string"||J=="number"||J=="symbol"||J=="boolean"?K!=="__proto__":K===null}function wn(K){return!!Oe&&Oe in K}function Hn(K){var J=K&&K.constructor,de=typeof J=="function"&&J.prototype||lt;return K===de}function Dn(K){var J=[];if(K!=null)for(var de in Object(K))J.push(de);return J}function go(K){return ut.call(K)}function yu(K,J,de){return J=In(J===void 0?K.length-1:J,0),function(){for(var at=arguments,yt=-1,Yt=In(at.length-J,0),an=Array(Yt);++yt<Yt;)an[yt]=at[J+yt];yt=-1;for(var Wt=Array(J+1);++yt<J;)Wt[yt]=at[yt];return Wt[J]=de(an),Ge(K,this,Wt)}}function yo(K,J){if(!(J==="constructor"&&typeof K[J]=="function")&&J!="__proto__")return K[J]}var T0=ff(hf);function ff(K){var J=0,de=0;return function(){var at=Ci(),yt=o-(at-de);if(de=at,yt>0){if(++J>=i)return arguments[0]}else J=0;return K.apply(void 0,arguments)}}function kb(K){if(K!=null){try{return st.call(K)}catch{}try{return K+""}catch{}}return""}function Va(K,J){return K===J||K!==K&&J!==J}var As=da(function(){return arguments}())?da:function(K){return Ho(K)&&ht.call(K,"callee")&&!Gt.call(K,"callee")},Uo=Array.isArray;function pf(K){return K!=null&&nm(K.length)&&!C0(K)}function Ib(K){return Ho(K)&&pf(K)}var Wa=rr||oe;function C0(K){if(!hc(K))return!1;var J=zo(K);return J==f||J==p||J==u||J==b}function nm(K){return typeof K=="number"&&K>-1&&K%1==0&&K<=s}function hc(K){var J=typeof K;return K!=null&&(J=="object"||J=="function")}function Ho(K){return K!=null&&typeof K=="object"}function Rb(K){if(!Ho(K)||zo(K)!=v)return!1;var J=ft(K);if(J===null)return!0;var de=ht.call(J,"constructor")&&J.constructor;return typeof de=="function"&&de instanceof de&&st.call(de)==ee}var A0=pe?Ke(pe):dc;function vu(K){return ye(K,Cd(K))}function Cd(K){return pf(K)?uf(K):Ha(K)}var $b=fe(function(K,J,de){df(K,J,de)});function mf(K){return function(){return K}}function Ad(K){return K}function oe(){return!1}e.exports=$b})(uD,uD.exports);var fgt=uD.exports;const TTe=hu(fgt);function ph(e,t){var n;return HN(e)&&t.baseComponents?TTe({},(n=t.baseComponents)==null?void 0:n[e.baseComponent],e):e}function Fae(e,t){return t.components[e]===void 0?null:ph(t.components[e],t)}async function pgt(e,t,n,r,i,o,s){const a=Rg(n),l=Object.fromEntries(a.filter(p=>p!=="end").map((p,m)=>{const g=ph(t.components[p]||{},t);return t.components[p]?[`${p}_${m}`,{answer:{},trialOrder:`${m}`,componentName:p,incorrectAnswers:{},startTime:0,endTime:-1,provenanceGraph:{aboveStimulus:void 0,belowStimulus:void 0,stimulus:void 0,sidebar:void 0},windowEvents:[],timedOut:!1,helpButtonClickedCount:0,parameters:Object.hasOwn(g,"parameters")?g.parameters:{},correctAnswer:Object.hasOwn(g,"correctAnswer")?g.correctAnswer:[]}]:null}).filter(p=>p!==null)),u=Object.assign({},...a.map((p,m)=>{const g=ph(t.components[p]||{response:[]},t);return{[`${p}_${m}`]:{aboveStimulus:{valid:!1,values:{}},belowStimulus:{valid:!1,values:{}},sidebar:{valid:!1,values:{}},stimulus:{valid:!g.response.some(y=>y.type==="reactive"&&y.required!==!1),values:{}},provenanceGraph:{aboveStimulus:void 0,belowStimulus:void 0,stimulus:void 0,sidebar:void 0}}}})),c=Object.assign({},...a.map((p,m)=>({[`${p}_${m}`]:{aboveStimulus:!0,belowStimulus:!0,sidebar:!0,stimulus:!0,provenanceGraph:{aboveStimulus:void 0,belowStimulus:void 0,stimulus:void 0,sidebar:void 0}}}))),d={studyId:e,isRecording:!1,answers:Object.keys(i).length>0?i:l,sequence:n,config:t,showStudyBrowser:!0,showHelpText:!1,alertModal:{show:!1,message:""},trialValidation:Object.keys(i).length>0?c:u,reactiveAnswers:{},metadata:r,analysisProvState:{aboveStimulus:void 0,belowStimulus:void 0,stimulus:void 0,sidebar:void 0},analysisIsPlaying:!1,analysisHasAudio:!1,analysisHasProvenance:!1,modes:o,matrixAnswers:{},participantId:s,funcSequence:{}},h=sgt({name:"storeSlice",initialState:d,reducers:{setConfig(p,{payload:m}){p.config=m},setIsRecording(p,{payload:m}){p.isRecording=m},pushToFuncSequence(p,{payload:m}){if(p.funcSequence[m.funcName]||(p.funcSequence[m.funcName]=[]),p.funcSequence[m.funcName].length>m.funcIndex)return;const g=ph(p.config.components[m.component]||{response:[]},t),y=`${m.funcName}_${m.index}_${m.component}_${m.funcIndex}`;p.funcSequence[m.funcName].push(m.component),p.answers[y]={answer:{},incorrectAnswers:{},componentName:m.component,trialOrder:`${m.index}_${m.funcIndex}`,startTime:0,endTime:-1,provenanceGraph:{aboveStimulus:void 0,belowStimulus:void 0,stimulus:void 0,sidebar:void 0},windowEvents:[],timedOut:!1,helpButtonClickedCount:0,parameters:m.parameters||("parameters"in g?g.parameters:{})||{},correctAnswer:m.correctAnswer||g.correctAnswer||[]},p.trialValidation[y]={aboveStimulus:{valid:!1,values:{}},belowStimulus:{valid:!1,values:{}},stimulus:{valid:g.response.every(v=>v.type!=="reactive"),values:{}},sidebar:{valid:!1,values:{}},provenanceGraph:{aboveStimulus:void 0,belowStimulus:void 0,stimulus:void 0,sidebar:void 0}}},toggleStudyBrowser:p=>{p.showStudyBrowser=!p.showStudyBrowser},toggleShowHelpText:p=>{p.showHelpText=!p.showHelpText},setAlertModal:(p,m)=>{p.alertModal=m.payload},setReactiveAnswers:(p,m)=>{p.reactiveAnswers=m.payload},saveAnalysisState(p,{payload:m}){p.analysisProvState[m.location]=m.prov},setAnalysisIsPlaying(p,{payload:m}){p.analysisIsPlaying=m},setAnalysisHasAudio(p,{payload:m}){p.analysisHasAudio=m},setAnalysisHasProvenance(p,{payload:m}){p.analysisHasProvenance=m},setMatrixAnswersRadio:(p,m)=>{if(m.payload){const{responseId:g,questionKey:y,val:v}=m.payload;p.matrixAnswers={...p.matrixAnswers,[g]:{...p.matrixAnswers[g],[y]:v}}}else p.matrixAnswers={}},setMatrixAnswersCheckbox:(p,m)=>{var g;if(m.payload){const{responseId:y,questionKey:v,value:b,isChecked:_,choiceOptions:x}=m.payload,w=((g=p.matrixAnswers[y])==null?void 0:g[v])??"";let E="";_?w.length>0?E=[...w.split("|"),b].sort((S,T)=>x.map(C=>C.value).indexOf(S)-x.map(C=>C.value).indexOf(T)).join("|"):E=`${b}`:E=w.split("|").filter(S=>S!==b).join("|"),p.matrixAnswers={...p.matrixAnswers,[y]:{...p.matrixAnswers[y],[v]:E}}}else p.matrixAnswers={}},updateResponseBlockValidation:(p,{payload:m})=>{var y,v;if(!p.trialValidation[m.identifier])return;const g=(v=(y=p.trialValidation[m.identifier])==null?void 0:y[m.location])==null?void 0:v.values;Object.keys(m.values).length>0?p.trialValidation[m.identifier][m.location]={valid:m.status,values:{...g,...m.values}}:p.trialValidation[m.identifier][m.location]={valid:m.status,values:g||{}},m.provenanceGraph&&(p.trialValidation[m.identifier].provenanceGraph[m.location]=m.provenanceGraph)},saveTrialAnswer(p,{payload:m}){p.answers[m.identifier]={...m}},incrementHelpCounter(p,{payload:m}){p.answers[m.identifier].helpButtonClickedCount+=1},saveIncorrectAnswer(p,{payload:m}){const{identifier:g,answer:y,question:v}=m;p.answers[v].incorrectAnswers||(p.answers[v].incorrectAnswers={}),p.answers[v].incorrectAnswers[g]||(p.answers[v].incorrectAnswers[g]={id:g,value:[]}),p.answers[v].incorrectAnswers[g].value.push(y)}}});return{store:Zmt({reducer:h.reducer,preloadedState:d}),actions:h.actions}}const CTe=O.createContext(null);function Po(){return O.useContext(CTe).actions}const bs=tSe,qn=Fdt;function mgt(e){return qn(t=>{if(e.includes("reviewer-"))return!0;const n=t.trialValidation[e]?Object.values(t.trialValidation[e]).every(r=>typeof r=="object"&&"valid"in r?r.valid:!0):!0;return n?Object.values(n).every(r=>r):!1})}const ggt=gTe(e=>e.sequence,e=>Rg(e));function ob(){return qn(ggt)}var ATe={exports:{}},b5={exports:{}},Bae;function Un(){return Bae||(Bae=1,function(e,t){(function(n,r){e.exports=r()})(vt,function(){var n=n||function(r,i){var o;if(typeof window<"u"&&window.crypto&&(o=window.crypto),typeof self<"u"&&self.crypto&&(o=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(o=globalThis.crypto),!o&&typeof window<"u"&&window.msCrypto&&(o=window.msCrypto),!o&&typeof vt<"u"&&vt.crypto&&(o=vt.crypto),!o&&typeof aS=="function")try{o=qwe}catch{}var s=function(){if(o){if(typeof o.getRandomValues=="function")try{return o.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof o.randomBytes=="function")try{return o.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function v(){}return function(b){var _;return v.prototype=b,_=new v,v.prototype=null,_}}(),l={},u=l.lib={},c=u.Base=function(){return{extend:function(v){var b=a(this);return v&&b.mixIn(v),(!b.hasOwnProperty("init")||this.init===b.init)&&(b.init=function(){b.$super.init.apply(this,arguments)}),b.init.prototype=b,b.$super=this,b},create:function(){var v=this.extend();return v.init.apply(v,arguments),v},init:function(){},mixIn:function(v){for(var b in v)v.hasOwnProperty(b)&&(this[b]=v[b]);v.hasOwnProperty("toString")&&(this.toString=v.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),d=u.WordArray=c.extend({init:function(v,b){v=this.words=v||[],b!=i?this.sigBytes=b:this.sigBytes=v.length*4},toString:function(v){return(v||f).stringify(this)},concat:function(v){var b=this.words,_=v.words,x=this.sigBytes,w=v.sigBytes;if(this.clamp(),x%4)for(var E=0;E<w;E++){var S=_[E>>>2]>>>24-E%4*8&255;b[x+E>>>2]|=S<<24-(x+E)%4*8}else for(var T=0;T<w;T+=4)b[x+T>>>2]=_[T>>>2];return this.sigBytes+=w,this},clamp:function(){var v=this.words,b=this.sigBytes;v[b>>>2]&=4294967295<<32-b%4*8,v.length=r.ceil(b/4)},clone:function(){var v=c.clone.call(this);return v.words=this.words.slice(0),v},random:function(v){for(var b=[],_=0;_<v;_+=4)b.push(s());return new d.init(b,v)}}),h=l.enc={},f=h.Hex={stringify:function(v){for(var b=v.words,_=v.sigBytes,x=[],w=0;w<_;w++){var E=b[w>>>2]>>>24-w%4*8&255;x.push((E>>>4).toString(16)),x.push((E&15).toString(16))}return x.join("")},parse:function(v){for(var b=v.length,_=[],x=0;x<b;x+=2)_[x>>>3]|=parseInt(v.substr(x,2),16)<<24-x%8*4;return new d.init(_,b/2)}},p=h.Latin1={stringify:function(v){for(var b=v.words,_=v.sigBytes,x=[],w=0;w<_;w++){var E=b[w>>>2]>>>24-w%4*8&255;x.push(String.fromCharCode(E))}return x.join("")},parse:function(v){for(var b=v.length,_=[],x=0;x<b;x++)_[x>>>2]|=(v.charCodeAt(x)&255)<<24-x%4*8;return new d.init(_,b)}},m=h.Utf8={stringify:function(v){try{return decodeURIComponent(escape(p.stringify(v)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(v){return p.parse(unescape(encodeURIComponent(v)))}},g=u.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new d.init,this._nDataBytes=0},_append:function(v){typeof v=="string"&&(v=m.parse(v)),this._data.concat(v),this._nDataBytes+=v.sigBytes},_process:function(v){var b,_=this._data,x=_.words,w=_.sigBytes,E=this.blockSize,S=E*4,T=w/S;v?T=r.ceil(T):T=r.max((T|0)-this._minBufferSize,0);var C=T*E,D=r.min(C*4,w);if(C){for(var $=0;$<C;$+=E)this._doProcessBlock(x,$);b=x.splice(0,C),_.sigBytes-=D}return new d.init(b,D)},clone:function(){var v=c.clone.call(this);return v._data=this._data.clone(),v},_minBufferSize:0});u.Hasher=g.extend({cfg:c.extend(),init:function(v){this.cfg=this.cfg.extend(v),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(v){return this._append(v),this._process(),this},finalize:function(v){v&&this._append(v);var b=this._doFinalize();return b},blockSize:16,_createHelper:function(v){return function(b,_){return new v.init(_).finalize(b)}},_createHmacHelper:function(v){return function(b,_){return new y.HMAC.init(v,_).finalize(b)}}});var y=l.algo={};return l}(Math);return n})}(b5)),b5.exports}var w5={exports:{}},jae;function VN(){return jae||(jae=1,function(e,t){(function(n,r){e.exports=r(Un())})(vt,function(n){return function(r){var i=n,o=i.lib,s=o.Base,a=o.WordArray,l=i.x64={};l.Word=s.extend({init:function(u,c){this.high=u,this.low=c}}),l.WordArray=s.extend({init:function(u,c){u=this.words=u||[],c!=r?this.sigBytes=c:this.sigBytes=u.length*8},toX32:function(){for(var u=this.words,c=u.length,d=[],h=0;h<c;h++){var f=u[h];d.push(f.high),d.push(f.low)}return a.create(d,this.sigBytes)},clone:function(){for(var u=s.clone.call(this),c=u.words=this.words.slice(0),d=c.length,h=0;h<d;h++)c[h]=c[h].clone();return u}})}(),n})}(w5)),w5.exports}var x5={exports:{}},zae;function ygt(){return zae||(zae=1,function(e,t){(function(n,r){e.exports=r(Un())})(vt,function(n){return function(){if(typeof ArrayBuffer=="function"){var r=n,i=r.lib,o=i.WordArray,s=o.init,a=o.init=function(l){if(l instanceof ArrayBuffer&&(l=new Uint8Array(l)),(l instanceof Int8Array||typeof Uint8ClampedArray<"u"&&l instanceof Uint8ClampedArray||l instanceof Int16Array||l instanceof Uint16Array||l instanceof Int32Array||l instanceof Uint32Array||l instanceof Float32Array||l instanceof Float64Array)&&(l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength)),l instanceof Uint8Array){for(var u=l.byteLength,c=[],d=0;d<u;d++)c[d>>>2]|=l[d]<<24-d%4*8;s.call(this,c,u)}else s.apply(this,arguments)};a.prototype=o}}(),n.lib.WordArray})}(x5)),x5.exports}var _5={exports:{}},Uae;function vgt(){return Uae||(Uae=1,function(e,t){(function(n,r){e.exports=r(Un())})(vt,function(n){return function(){var r=n,i=r.lib,o=i.WordArray,s=r.enc;s.Utf16=s.Utf16BE={stringify:function(l){for(var u=l.words,c=l.sigBytes,d=[],h=0;h<c;h+=2){var f=u[h>>>2]>>>16-h%4*8&65535;d.push(String.fromCharCode(f))}return d.join("")},parse:function(l){for(var u=l.length,c=[],d=0;d<u;d++)c[d>>>1]|=l.charCodeAt(d)<<16-d%2*16;return o.create(c,u*2)}},s.Utf16LE={stringify:function(l){for(var u=l.words,c=l.sigBytes,d=[],h=0;h<c;h+=2){var f=a(u[h>>>2]>>>16-h%4*8&65535);d.push(String.fromCharCode(f))}return d.join("")},parse:function(l){for(var u=l.length,c=[],d=0;d<u;d++)c[d>>>1]|=a(l.charCodeAt(d)<<16-d%2*16);return o.create(c,u*2)}};function a(l){return l<<8&4278255360|l>>>8&16711935}}(),n.enc.Utf16})}(_5)),_5.exports}var E5={exports:{}},Hae;function sb(){return Hae||(Hae=1,function(e,t){(function(n,r){e.exports=r(Un())})(vt,function(n){return function(){var r=n,i=r.lib,o=i.WordArray,s=r.enc;s.Base64={stringify:function(l){var u=l.words,c=l.sigBytes,d=this._map;l.clamp();for(var h=[],f=0;f<c;f+=3)for(var p=u[f>>>2]>>>24-f%4*8&255,m=u[f+1>>>2]>>>24-(f+1)%4*8&255,g=u[f+2>>>2]>>>24-(f+2)%4*8&255,y=p<<16|m<<8|g,v=0;v<4&&f+v*.75<c;v++)h.push(d.charAt(y>>>6*(3-v)&63));var b=d.charAt(64);if(b)for(;h.length%4;)h.push(b);return h.join("")},parse:function(l){var u=l.length,c=this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var h=0;h<c.length;h++)d[c.charCodeAt(h)]=h}var f=c.charAt(64);if(f){var p=l.indexOf(f);p!==-1&&(u=p)}return a(l,u,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(l,u,c){for(var d=[],h=0,f=0;f<u;f++)if(f%4){var p=c[l.charCodeAt(f-1)]<<f%4*2,m=c[l.charCodeAt(f)]>>>6-f%4*2,g=p|m;d[h>>>2]|=g<<24-h%4*8,h++}return o.create(d,h)}}(),n.enc.Base64})}(E5)),E5.exports}var S5={exports:{}},Vae;function bgt(){return Vae||(Vae=1,function(e,t){(function(n,r){e.exports=r(Un())})(vt,function(n){return function(){var r=n,i=r.lib,o=i.WordArray,s=r.enc;s.Base64url={stringify:function(l,u){u===void 0&&(u=!0);var c=l.words,d=l.sigBytes,h=u?this._safe_map:this._map;l.clamp();for(var f=[],p=0;p<d;p+=3)for(var m=c[p>>>2]>>>24-p%4*8&255,g=c[p+1>>>2]>>>24-(p+1)%4*8&255,y=c[p+2>>>2]>>>24-(p+2)%4*8&255,v=m<<16|g<<8|y,b=0;b<4&&p+b*.75<d;b++)f.push(h.charAt(v>>>6*(3-b)&63));var _=h.charAt(64);if(_)for(;f.length%4;)f.push(_);return f.join("")},parse:function(l,u){u===void 0&&(u=!0);var c=l.length,d=u?this._safe_map:this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var f=0;f<d.length;f++)h[d.charCodeAt(f)]=f}var p=d.charAt(64);if(p){var m=l.indexOf(p);m!==-1&&(c=m)}return a(l,c,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(l,u,c){for(var d=[],h=0,f=0;f<u;f++)if(f%4){var p=c[l.charCodeAt(f-1)]<<f%4*2,m=c[l.charCodeAt(f)]>>>6-f%4*2,g=p|m;d[h>>>2]|=g<<24-h%4*8,h++}return o.create(d,h)}}(),n.enc.Base64url})}(S5)),S5.exports}var T5={exports:{}},Wae;function ab(){return Wae||(Wae=1,function(e,t){(function(n,r){e.exports=r(Un())})(vt,function(n){return function(r){var i=n,o=i.lib,s=o.WordArray,a=o.Hasher,l=i.algo,u=[];(function(){for(var m=0;m<64;m++)u[m]=r.abs(r.sin(m+1))*4294967296|0})();var c=l.MD5=a.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(m,g){for(var y=0;y<16;y++){var v=g+y,b=m[v];m[v]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360}var _=this._hash.words,x=m[g+0],w=m[g+1],E=m[g+2],S=m[g+3],T=m[g+4],C=m[g+5],D=m[g+6],$=m[g+7],I=m[g+8],R=m[g+9],A=m[g+10],M=m[g+11],N=m[g+12],L=m[g+13],z=m[g+14],F=m[g+15],j=_[0],W=_[1],B=_[2],H=_[3];j=d(j,W,B,H,x,7,u[0]),H=d(H,j,W,B,w,12,u[1]),B=d(B,H,j,W,E,17,u[2]),W=d(W,B,H,j,S,22,u[3]),j=d(j,W,B,H,T,7,u[4]),H=d(H,j,W,B,C,12,u[5]),B=d(B,H,j,W,D,17,u[6]),W=d(W,B,H,j,$,22,u[7]),j=d(j,W,B,H,I,7,u[8]),H=d(H,j,W,B,R,12,u[9]),B=d(B,H,j,W,A,17,u[10]),W=d(W,B,H,j,M,22,u[11]),j=d(j,W,B,H,N,7,u[12]),H=d(H,j,W,B,L,12,u[13]),B=d(B,H,j,W,z,17,u[14]),W=d(W,B,H,j,F,22,u[15]),j=h(j,W,B,H,w,5,u[16]),H=h(H,j,W,B,D,9,u[17]),B=h(B,H,j,W,M,14,u[18]),W=h(W,B,H,j,x,20,u[19]),j=h(j,W,B,H,C,5,u[20]),H=h(H,j,W,B,A,9,u[21]),B=h(B,H,j,W,F,14,u[22]),W=h(W,B,H,j,T,20,u[23]),j=h(j,W,B,H,R,5,u[24]),H=h(H,j,W,B,z,9,u[25]),B=h(B,H,j,W,S,14,u[26]),W=h(W,B,H,j,I,20,u[27]),j=h(j,W,B,H,L,5,u[28]),H=h(H,j,W,B,E,9,u[29]),B=h(B,H,j,W,$,14,u[30]),W=h(W,B,H,j,N,20,u[31]),j=f(j,W,B,H,C,4,u[32]),H=f(H,j,W,B,I,11,u[33]),B=f(B,H,j,W,M,16,u[34]),W=f(W,B,H,j,z,23,u[35]),j=f(j,W,B,H,w,4,u[36]),H=f(H,j,W,B,T,11,u[37]),B=f(B,H,j,W,$,16,u[38]),W=f(W,B,H,j,A,23,u[39]),j=f(j,W,B,H,L,4,u[40]),H=f(H,j,W,B,x,11,u[41]),B=f(B,H,j,W,S,16,u[42]),W=f(W,B,H,j,D,23,u[43]),j=f(j,W,B,H,R,4,u[44]),H=f(H,j,W,B,N,11,u[45]),B=f(B,H,j,W,F,16,u[46]),W=f(W,B,H,j,E,23,u[47]),j=p(j,W,B,H,x,6,u[48]),H=p(H,j,W,B,$,10,u[49]),B=p(B,H,j,W,z,15,u[50]),W=p(W,B,H,j,C,21,u[51]),j=p(j,W,B,H,N,6,u[52]),H=p(H,j,W,B,S,10,u[53]),B=p(B,H,j,W,A,15,u[54]),W=p(W,B,H,j,w,21,u[55]),j=p(j,W,B,H,I,6,u[56]),H=p(H,j,W,B,F,10,u[57]),B=p(B,H,j,W,D,15,u[58]),W=p(W,B,H,j,L,21,u[59]),j=p(j,W,B,H,T,6,u[60]),H=p(H,j,W,B,M,10,u[61]),B=p(B,H,j,W,E,15,u[62]),W=p(W,B,H,j,R,21,u[63]),_[0]=_[0]+j|0,_[1]=_[1]+W|0,_[2]=_[2]+B|0,_[3]=_[3]+H|0},_doFinalize:function(){var m=this._data,g=m.words,y=this._nDataBytes*8,v=m.sigBytes*8;g[v>>>5]|=128<<24-v%32;var b=r.floor(y/4294967296),_=y;g[(v+64>>>9<<4)+15]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,g[(v+64>>>9<<4)+14]=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,m.sigBytes=(g.length+1)*4,this._process();for(var x=this._hash,w=x.words,E=0;E<4;E++){var S=w[E];w[E]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360}return x},clone:function(){var m=a.clone.call(this);return m._hash=this._hash.clone(),m}});function d(m,g,y,v,b,_,x){var w=m+(g&y|~g&v)+b+x;return(w<<_|w>>>32-_)+g}function h(m,g,y,v,b,_,x){var w=m+(g&v|y&~v)+b+x;return(w<<_|w>>>32-_)+g}function f(m,g,y,v,b,_,x){var w=m+(g^y^v)+b+x;return(w<<_|w>>>32-_)+g}function p(m,g,y,v,b,_,x){var w=m+(y^(g|~v))+b+x;return(w<<_|w>>>32-_)+g}i.MD5=a._createHelper(c),i.HmacMD5=a._createHmacHelper(c)}(Math),n.MD5})}(T5)),T5.exports}var C5={exports:{}},qae;function kTe(){return qae||(qae=1,function(e,t){(function(n,r){e.exports=r(Un())})(vt,function(n){return function(){var r=n,i=r.lib,o=i.WordArray,s=i.Hasher,a=r.algo,l=[],u=a.SHA1=s.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(c,d){for(var h=this._hash.words,f=h[0],p=h[1],m=h[2],g=h[3],y=h[4],v=0;v<80;v++){if(v<16)l[v]=c[d+v]|0;else{var b=l[v-3]^l[v-8]^l[v-14]^l[v-16];l[v]=b<<1|b>>>31}var _=(f<<5|f>>>27)+y+l[v];v<20?_+=(p&m|~p&g)+1518500249:v<40?_+=(p^m^g)+1859775393:v<60?_+=(p&m|p&g|m&g)-1894007588:_+=(p^m^g)-899497514,y=g,g=m,m=p<<30|p>>>2,p=f,f=_}h[0]=h[0]+f|0,h[1]=h[1]+p|0,h[2]=h[2]+m|0,h[3]=h[3]+g|0,h[4]=h[4]+y|0},_doFinalize:function(){var c=this._data,d=c.words,h=this._nDataBytes*8,f=c.sigBytes*8;return d[f>>>5]|=128<<24-f%32,d[(f+64>>>9<<4)+14]=Math.floor(h/4294967296),d[(f+64>>>9<<4)+15]=h,c.sigBytes=d.length*4,this._process(),this._hash},clone:function(){var c=s.clone.call(this);return c._hash=this._hash.clone(),c}});r.SHA1=s._createHelper(u),r.HmacSHA1=s._createHmacHelper(u)}(),n.SHA1})}(C5)),C5.exports}var A5={exports:{}},Gae;function QG(){return Gae||(Gae=1,function(e,t){(function(n,r){e.exports=r(Un())})(vt,function(n){return function(r){var i=n,o=i.lib,s=o.WordArray,a=o.Hasher,l=i.algo,u=[],c=[];(function(){function f(y){for(var v=r.sqrt(y),b=2;b<=v;b++)if(!(y%b))return!1;return!0}function p(y){return(y-(y|0))*4294967296|0}for(var m=2,g=0;g<64;)f(m)&&(g<8&&(u[g]=p(r.pow(m,1/2))),c[g]=p(r.pow(m,1/3)),g++),m++})();var d=[],h=l.SHA256=a.extend({_doReset:function(){this._hash=new s.init(u.slice(0))},_doProcessBlock:function(f,p){for(var m=this._hash.words,g=m[0],y=m[1],v=m[2],b=m[3],_=m[4],x=m[5],w=m[6],E=m[7],S=0;S<64;S++){if(S<16)d[S]=f[p+S]|0;else{var T=d[S-15],C=(T<<25|T>>>7)^(T<<14|T>>>18)^T>>>3,D=d[S-2],$=(D<<15|D>>>17)^(D<<13|D>>>19)^D>>>10;d[S]=C+d[S-7]+$+d[S-16]}var I=_&x^~_&w,R=g&y^g&v^y&v,A=(g<<30|g>>>2)^(g<<19|g>>>13)^(g<<10|g>>>22),M=(_<<26|_>>>6)^(_<<21|_>>>11)^(_<<7|_>>>25),N=E+M+I+c[S]+d[S],L=A+R;E=w,w=x,x=_,_=b+N|0,b=v,v=y,y=g,g=N+L|0}m[0]=m[0]+g|0,m[1]=m[1]+y|0,m[2]=m[2]+v|0,m[3]=m[3]+b|0,m[4]=m[4]+_|0,m[5]=m[5]+x|0,m[6]=m[6]+w|0,m[7]=m[7]+E|0},_doFinalize:function(){var f=this._data,p=f.words,m=this._nDataBytes*8,g=f.sigBytes*8;return p[g>>>5]|=128<<24-g%32,p[(g+64>>>9<<4)+14]=r.floor(m/4294967296),p[(g+64>>>9<<4)+15]=m,f.sigBytes=p.length*4,this._process(),this._hash},clone:function(){var f=a.clone.call(this);return f._hash=this._hash.clone(),f}});i.SHA256=a._createHelper(h),i.HmacSHA256=a._createHmacHelper(h)}(Math),n.SHA256})}(A5)),A5.exports}var k5={exports:{}},Yae;function wgt(){return Yae||(Yae=1,function(e,t){(function(n,r,i){e.exports=r(Un(),QG())})(vt,function(n){return function(){var r=n,i=r.lib,o=i.WordArray,s=r.algo,a=s.SHA256,l=s.SHA224=a.extend({_doReset:function(){this._hash=new o.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var u=a._doFinalize.call(this);return u.sigBytes-=4,u}});r.SHA224=a._createHelper(l),r.HmacSHA224=a._createHmacHelper(l)}(),n.SHA224})}(k5)),k5.exports}var I5={exports:{}},Kae;function ITe(){return Kae||(Kae=1,function(e,t){(function(n,r,i){e.exports=r(Un(),VN())})(vt,function(n){return function(){var r=n,i=r.lib,o=i.Hasher,s=r.x64,a=s.Word,l=s.WordArray,u=r.algo;function c(){return a.create.apply(a,arguments)}var d=[c(1116352408,3609767458),c(1899447441,602891725),c(3049323471,3964484399),c(3921009573,2173295548),c(961987163,4081628472),c(1508970993,3053834265),c(2453635748,2937671579),c(2870763221,3664609560),c(3624381080,2734883394),c(310598401,1164996542),c(607225278,1323610764),c(1426881987,3590304994),c(1925078388,4068182383),c(2162078206,991336113),c(2614888103,633803317),c(3248222580,3479774868),c(3835390401,2666613458),c(4022224774,944711139),c(264347078,2341262773),c(604807628,2007800933),c(770255983,1495990901),c(1249150122,1856431235),c(1555081692,3175218132),c(1996064986,2198950837),c(2554220882,3999719339),c(2821834349,766784016),c(2952996808,2566594879),c(3210313671,3203337956),c(3336571891,1034457026),c(3584528711,2466948901),c(113926993,3758326383),c(338241895,168717936),c(666307205,1188179964),c(773529912,1546045734),c(1294757372,1522805485),c(1396182291,2643833823),c(1695183700,2343527390),c(1986661051,1014477480),c(2177026350,1206759142),c(2456956037,344077627),c(2730485921,1290863460),c(2820302411,3158454273),c(3259730800,3505952657),c(3345764771,106217008),c(3516065817,3606008344),c(3600352804,1432725776),c(4094571909,1467031594),c(275423344,851169720),c(430227734,3100823752),c(506948616,1363258195),c(659060556,3750685593),c(883997877,3785050280),c(958139571,3318307427),c(1322822218,3812723403),c(1537002063,2003034995),c(1747873779,3602036899),c(1955562222,1575990012),c(2024104815,1125592928),c(2227730452,2716904306),c(2361852424,442776044),c(2428436474,593698344),c(2756734187,3733110249),c(3204031479,2999351573),c(3329325298,3815920427),c(3391569614,3928383900),c(3515267271,566280711),c(3940187606,3454069534),c(4118630271,4000239992),c(116418474,1914138554),c(174292421,2731055270),c(289380356,3203993006),c(460393269,320620315),c(685471733,587496836),c(852142971,1086792851),c(1017036298,365543100),c(1126000580,2618297676),c(1288033470,3409855158),c(1501505948,4234509866),c(1607167915,987167468),c(1816402316,1246189591)],h=[];(function(){for(var p=0;p<80;p++)h[p]=c()})();var f=u.SHA512=o.extend({_doReset:function(){this._hash=new l.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},_doProcessBlock:function(p,m){for(var g=this._hash.words,y=g[0],v=g[1],b=g[2],_=g[3],x=g[4],w=g[5],E=g[6],S=g[7],T=y.high,C=y.low,D=v.high,$=v.low,I=b.high,R=b.low,A=_.high,M=_.low,N=x.high,L=x.low,z=w.high,F=w.low,j=E.high,W=E.low,B=S.high,H=S.low,V=T,G=C,ne=D,X=$,te=I,se=R,ve=A,pe=M,Ge=N,Ne=L,Ke=z,Je=F,Ae=j,$e=W,Ze=B,lt=H,gt=0;gt<80;gt++){var st,ht,Oe=h[gt];if(gt<16)ht=Oe.high=p[m+gt*2]|0,st=Oe.low=p[m+gt*2+1]|0;else{var ut=h[gt-15],ee=ut.high,he=ut.low,xe=(ee>>>1|he<<31)^(ee>>>8|he<<24)^ee>>>7,Me=(he>>>1|ee<<31)^(he>>>8|ee<<24)^(he>>>7|ee<<25),je=h[gt-2],ft=je.high,jt=je.low,Gt=(ft>>>19|jt<<13)^(ft<<3|jt>>>29)^ft>>>6,Dt=(jt>>>19|ft<<13)^(jt<<3|ft>>>29)^(jt>>>6|ft<<26),ct=h[gt-7],Ft=ct.high,rr=ct.low,In=h[gt-16],Ci=In.high,ii=In.low;st=Me+rr,ht=xe+Ft+(st>>>0<Me>>>0?1:0),st=st+Dt,ht=ht+Gt+(st>>>0<Dt>>>0?1:0),st=st+ii,ht=ht+Ci+(st>>>0<ii>>>0?1:0),Oe.high=ht,Oe.low=st}var Ai=Ge&Ke^~Ge&Ae,xs=Ne&Je^~Ne&$e,Tr=V&ne^V&te^ne&te,Gn=G&X^G&se^X&se,za=(V>>>28|G<<4)^(V<<30|G>>>2)^(V<<25|G>>>7),_s=(G>>>28|V<<4)^(G<<30|V>>>2)^(G<<25|V>>>7),Ua=(Ge>>>14|Ne<<18)^(Ge>>>18|Ne<<14)^(Ge<<23|Ne>>>9),Ki=(Ne>>>14|Ge<<18)^(Ne>>>18|Ge<<14)^(Ne<<23|Ge>>>9),$n=d[gt],ur=$n.high,ca=$n.low,Cr=lt+Ki,Br=Ze+Ua+(Cr>>>0<lt>>>0?1:0),Cr=Cr+xs,Br=Br+Ai+(Cr>>>0<xs>>>0?1:0),Cr=Cr+ca,Br=Br+ur+(Cr>>>0<ca>>>0?1:0),Cr=Cr+st,Br=Br+ht+(Cr>>>0<st>>>0?1:0),Es=_s+Gn,Xi=za+Tr+(Es>>>0<_s>>>0?1:0);Ze=Ae,lt=$e,Ae=Ke,$e=Je,Ke=Ge,Je=Ne,Ne=pe+Cr|0,Ge=ve+Br+(Ne>>>0<pe>>>0?1:0)|0,ve=te,pe=se,te=ne,se=X,ne=V,X=G,G=Cr+Es|0,V=Br+Xi+(G>>>0<Cr>>>0?1:0)|0}C=y.low=C+G,y.high=T+V+(C>>>0<G>>>0?1:0),$=v.low=$+X,v.high=D+ne+($>>>0<X>>>0?1:0),R=b.low=R+se,b.high=I+te+(R>>>0<se>>>0?1:0),M=_.low=M+pe,_.high=A+ve+(M>>>0<pe>>>0?1:0),L=x.low=L+Ne,x.high=N+Ge+(L>>>0<Ne>>>0?1:0),F=w.low=F+Je,w.high=z+Ke+(F>>>0<Je>>>0?1:0),W=E.low=W+$e,E.high=j+Ae+(W>>>0<$e>>>0?1:0),H=S.low=H+lt,S.high=B+Ze+(H>>>0<lt>>>0?1:0)},_doFinalize:function(){var p=this._data,m=p.words,g=this._nDataBytes*8,y=p.sigBytes*8;m[y>>>5]|=128<<24-y%32,m[(y+128>>>10<<5)+30]=Math.floor(g/4294967296),m[(y+128>>>10<<5)+31]=g,p.sigBytes=m.length*4,this._process();var v=this._hash.toX32();return v},clone:function(){var p=o.clone.call(this);return p._hash=this._hash.clone(),p},blockSize:1024/32});r.SHA512=o._createHelper(f),r.HmacSHA512=o._createHmacHelper(f)}(),n.SHA512})}(I5)),I5.exports}var R5={exports:{}},Xae;function xgt(){return Xae||(Xae=1,function(e,t){(function(n,r,i){e.exports=r(Un(),VN(),ITe())})(vt,function(n){return function(){var r=n,i=r.x64,o=i.Word,s=i.WordArray,a=r.algo,l=a.SHA512,u=a.SHA384=l.extend({_doReset:function(){this._hash=new s.init([new o.init(3418070365,3238371032),new o.init(1654270250,914150663),new o.init(2438529370,812702999),new o.init(355462360,4144912697),new o.init(1731405415,4290775857),new o.init(2394180231,1750603025),new o.init(3675008525,1694076839),new o.init(1203062813,3204075428)])},_doFinalize:function(){var c=l._doFinalize.call(this);return c.sigBytes-=16,c}});r.SHA384=l._createHelper(u),r.HmacSHA384=l._createHmacHelper(u)}(),n.SHA384})}(R5)),R5.exports}var $5={exports:{}},Qae;function _gt(){return Qae||(Qae=1,function(e,t){(function(n,r,i){e.exports=r(Un(),VN())})(vt,function(n){return function(r){var i=n,o=i.lib,s=o.WordArray,a=o.Hasher,l=i.x64,u=l.Word,c=i.algo,d=[],h=[],f=[];(function(){for(var g=1,y=0,v=0;v<24;v++){d[g+5*y]=(v+1)*(v+2)/2%64;var b=y%5,_=(2*g+3*y)%5;g=b,y=_}for(var g=0;g<5;g++)for(var y=0;y<5;y++)h[g+5*y]=y+(2*g+3*y)%5*5;for(var x=1,w=0;w<24;w++){for(var E=0,S=0,T=0;T<7;T++){if(x&1){var C=(1<<T)-1;C<32?S^=1<<C:E^=1<<C-32}x&128?x=x<<1^113:x<<=1}f[w]=u.create(E,S)}})();var p=[];(function(){for(var g=0;g<25;g++)p[g]=u.create()})();var m=c.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var g=this._state=[],y=0;y<25;y++)g[y]=new u.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(g,y){for(var v=this._state,b=this.blockSize/2,_=0;_<b;_++){var x=g[y+2*_],w=g[y+2*_+1];x=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,w=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360;var E=v[_];E.high^=w,E.low^=x}for(var S=0;S<24;S++){for(var T=0;T<5;T++){for(var C=0,D=0,$=0;$<5;$++){var E=v[T+5*$];C^=E.high,D^=E.low}var I=p[T];I.high=C,I.low=D}for(var T=0;T<5;T++)for(var R=p[(T+4)%5],A=p[(T+1)%5],M=A.high,N=A.low,C=R.high^(M<<1|N>>>31),D=R.low^(N<<1|M>>>31),$=0;$<5;$++){var E=v[T+5*$];E.high^=C,E.low^=D}for(var L=1;L<25;L++){var C,D,E=v[L],z=E.high,F=E.low,j=d[L];j<32?(C=z<<j|F>>>32-j,D=F<<j|z>>>32-j):(C=F<<j-32|z>>>64-j,D=z<<j-32|F>>>64-j);var W=p[h[L]];W.high=C,W.low=D}var B=p[0],H=v[0];B.high=H.high,B.low=H.low;for(var T=0;T<5;T++)for(var $=0;$<5;$++){var L=T+5*$,E=v[L],V=p[L],G=p[(T+1)%5+5*$],ne=p[(T+2)%5+5*$];E.high=V.high^~G.high&ne.high,E.low=V.low^~G.low&ne.low}var E=v[0],X=f[S];E.high^=X.high,E.low^=X.low}},_doFinalize:function(){var g=this._data,y=g.words;this._nDataBytes*8;var v=g.sigBytes*8,b=this.blockSize*32;y[v>>>5]|=1<<24-v%32,y[(r.ceil((v+1)/b)*b>>>5)-1]|=128,g.sigBytes=y.length*4,this._process();for(var _=this._state,x=this.cfg.outputLength/8,w=x/8,E=[],S=0;S<w;S++){var T=_[S],C=T.high,D=T.low;C=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,D=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360,E.push(D),E.push(C)}return new s.init(E,x)},clone:function(){for(var g=a.clone.call(this),y=g._state=this._state.slice(0),v=0;v<25;v++)y[v]=y[v].clone();return g}});i.SHA3=a._createHelper(m),i.HmacSHA3=a._createHmacHelper(m)}(Math),n.SHA3})}($5)),$5.exports}var D5={exports:{}},Jae;function Egt(){return Jae||(Jae=1,function(e,t){(function(n,r){e.exports=r(Un())})(vt,function(n){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(r){var i=n,o=i.lib,s=o.WordArray,a=o.Hasher,l=i.algo,u=s.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=s.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),d=s.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),h=s.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),f=s.create([0,1518500249,1859775393,2400959708,2840853838]),p=s.create([1352829926,1548603684,1836072691,2053994217,0]),m=l.RIPEMD160=a.extend({_doReset:function(){this._hash=s.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(w,E){for(var S=0;S<16;S++){var T=E+S,C=w[T];w[T]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360}var D=this._hash.words,$=f.words,I=p.words,R=u.words,A=c.words,M=d.words,N=h.words,L,z,F,j,W,B,H,V,G,ne;B=L=D[0],H=z=D[1],V=F=D[2],G=j=D[3],ne=W=D[4];for(var X,S=0;S<80;S+=1)X=L+w[E+R[S]]|0,S<16?X+=g(z,F,j)+$[0]:S<32?X+=y(z,F,j)+$[1]:S<48?X+=v(z,F,j)+$[2]:S<64?X+=b(z,F,j)+$[3]:X+=_(z,F,j)+$[4],X=X|0,X=x(X,M[S]),X=X+W|0,L=W,W=j,j=x(F,10),F=z,z=X,X=B+w[E+A[S]]|0,S<16?X+=_(H,V,G)+I[0]:S<32?X+=b(H,V,G)+I[1]:S<48?X+=v(H,V,G)+I[2]:S<64?X+=y(H,V,G)+I[3]:X+=g(H,V,G)+I[4],X=X|0,X=x(X,N[S]),X=X+ne|0,B=ne,ne=G,G=x(V,10),V=H,H=X;X=D[1]+F+G|0,D[1]=D[2]+j+ne|0,D[2]=D[3]+W+B|0,D[3]=D[4]+L+H|0,D[4]=D[0]+z+V|0,D[0]=X},_doFinalize:function(){var w=this._data,E=w.words,S=this._nDataBytes*8,T=w.sigBytes*8;E[T>>>5]|=128<<24-T%32,E[(T+64>>>9<<4)+14]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,w.sigBytes=(E.length+1)*4,this._process();for(var C=this._hash,D=C.words,$=0;$<5;$++){var I=D[$];D[$]=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360}return C},clone:function(){var w=a.clone.call(this);return w._hash=this._hash.clone(),w}});function g(w,E,S){return w^E^S}function y(w,E,S){return w&E|~w&S}function v(w,E,S){return(w|~E)^S}function b(w,E,S){return w&S|E&~S}function _(w,E,S){return w^(E|~S)}function x(w,E){return w<<E|w>>>32-E}i.RIPEMD160=a._createHelper(m),i.HmacRIPEMD160=a._createHmacHelper(m)}(),n.RIPEMD160})}(D5)),D5.exports}var M5={exports:{}},Zae;function JG(){return Zae||(Zae=1,function(e,t){(function(n,r){e.exports=r(Un())})(vt,function(n){(function(){var r=n,i=r.lib,o=i.Base,s=r.enc,a=s.Utf8,l=r.algo;l.HMAC=o.extend({init:function(u,c){u=this._hasher=new u.init,typeof c=="string"&&(c=a.parse(c));var d=u.blockSize,h=d*4;c.sigBytes>h&&(c=u.finalize(c)),c.clamp();for(var f=this._oKey=c.clone(),p=this._iKey=c.clone(),m=f.words,g=p.words,y=0;y<d;y++)m[y]^=1549556828,g[y]^=909522486;f.sigBytes=p.sigBytes=h,this.reset()},reset:function(){var u=this._hasher;u.reset(),u.update(this._iKey)},update:function(u){return this._hasher.update(u),this},finalize:function(u){var c=this._hasher,d=c.finalize(u);c.reset();var h=c.finalize(this._oKey.clone().concat(d));return h}})})()})}(M5)),M5.exports}var P5={exports:{}},ele;function Sgt(){return ele||(ele=1,function(e,t){(function(n,r,i){e.exports=r(Un(),QG(),JG())})(vt,function(n){return function(){var r=n,i=r.lib,o=i.Base,s=i.WordArray,a=r.algo,l=a.SHA256,u=a.HMAC,c=a.PBKDF2=o.extend({cfg:o.extend({keySize:128/32,hasher:l,iterations:25e4}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(d,h){for(var f=this.cfg,p=u.create(f.hasher,d),m=s.create(),g=s.create([1]),y=m.words,v=g.words,b=f.keySize,_=f.iterations;y.length<b;){var x=p.update(h).finalize(g);p.reset();for(var w=x.words,E=w.length,S=x,T=1;T<_;T++){S=p.finalize(S),p.reset();for(var C=S.words,D=0;D<E;D++)w[D]^=C[D]}m.concat(x),v[0]++}return m.sigBytes=b*4,m}});r.PBKDF2=function(d,h,f){return c.create(f).compute(d,h)}}(),n.PBKDF2})}(P5)),P5.exports}var N5={exports:{}},tle;function a0(){return tle||(tle=1,function(e,t){(function(n,r,i){e.exports=r(Un(),kTe(),JG())})(vt,function(n){return function(){var r=n,i=r.lib,o=i.Base,s=i.WordArray,a=r.algo,l=a.MD5,u=a.EvpKDF=o.extend({cfg:o.extend({keySize:128/32,hasher:l,iterations:1}),init:function(c){this.cfg=this.cfg.extend(c)},compute:function(c,d){for(var h,f=this.cfg,p=f.hasher.create(),m=s.create(),g=m.words,y=f.keySize,v=f.iterations;g.length<y;){h&&p.update(h),h=p.update(c).finalize(d),p.reset();for(var b=1;b<v;b++)h=p.finalize(h),p.reset();m.concat(h)}return m.sigBytes=y*4,m}});r.EvpKDF=function(c,d,h){return u.create(h).compute(c,d)}}(),n.EvpKDF})}(N5)),N5.exports}var O5={exports:{}},nle;function Lo(){return nle||(nle=1,function(e,t){(function(n,r,i){e.exports=r(Un(),a0())})(vt,function(n){n.lib.Cipher||function(r){var i=n,o=i.lib,s=o.Base,a=o.WordArray,l=o.BufferedBlockAlgorithm,u=i.enc;u.Utf8;var c=u.Base64,d=i.algo,h=d.EvpKDF,f=o.Cipher=l.extend({cfg:s.extend(),createEncryptor:function(C,D){return this.create(this._ENC_XFORM_MODE,C,D)},createDecryptor:function(C,D){return this.create(this._DEC_XFORM_MODE,C,D)},init:function(C,D,$){this.cfg=this.cfg.extend($),this._xformMode=C,this._key=D,this.reset()},reset:function(){l.reset.call(this),this._doReset()},process:function(C){return this._append(C),this._process()},finalize:function(C){C&&this._append(C);var D=this._doFinalize();return D},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function C(D){return typeof D=="string"?T:w}return function(D){return{encrypt:function($,I,R){return C(I).encrypt(D,$,I,R)},decrypt:function($,I,R){return C(I).decrypt(D,$,I,R)}}}}()});o.StreamCipher=f.extend({_doFinalize:function(){var C=this._process(!0);return C},blockSize:1});var p=i.mode={},m=o.BlockCipherMode=s.extend({createEncryptor:function(C,D){return this.Encryptor.create(C,D)},createDecryptor:function(C,D){return this.Decryptor.create(C,D)},init:function(C,D){this._cipher=C,this._iv=D}}),g=p.CBC=function(){var C=m.extend();C.Encryptor=C.extend({processBlock:function($,I){var R=this._cipher,A=R.blockSize;D.call(this,$,I,A),R.encryptBlock($,I),this._prevBlock=$.slice(I,I+A)}}),C.Decryptor=C.extend({processBlock:function($,I){var R=this._cipher,A=R.blockSize,M=$.slice(I,I+A);R.decryptBlock($,I),D.call(this,$,I,A),this._prevBlock=M}});function D($,I,R){var A,M=this._iv;M?(A=M,this._iv=r):A=this._prevBlock;for(var N=0;N<R;N++)$[I+N]^=A[N]}return C}(),y=i.pad={},v=y.Pkcs7={pad:function(C,D){for(var $=D*4,I=$-C.sigBytes%$,R=I<<24|I<<16|I<<8|I,A=[],M=0;M<I;M+=4)A.push(R);var N=a.create(A,I);C.concat(N)},unpad:function(C){var D=C.words[C.sigBytes-1>>>2]&255;C.sigBytes-=D}};o.BlockCipher=f.extend({cfg:f.cfg.extend({mode:g,padding:v}),reset:function(){var C;f.reset.call(this);var D=this.cfg,$=D.iv,I=D.mode;this._xformMode==this._ENC_XFORM_MODE?C=I.createEncryptor:(C=I.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==C?this._mode.init(this,$&&$.words):(this._mode=C.call(I,this,$&&$.words),this._mode.__creator=C)},_doProcessBlock:function(C,D){this._mode.processBlock(C,D)},_doFinalize:function(){var C,D=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(D.pad(this._data,this.blockSize),C=this._process(!0)):(C=this._process(!0),D.unpad(C)),C},blockSize:128/32});var b=o.CipherParams=s.extend({init:function(C){this.mixIn(C)},toString:function(C){return(C||this.formatter).stringify(this)}}),_=i.format={},x=_.OpenSSL={stringify:function(C){var D,$=C.ciphertext,I=C.salt;return I?D=a.create([1398893684,1701076831]).concat(I).concat($):D=$,D.toString(c)},parse:function(C){var D,$=c.parse(C),I=$.words;return I[0]==1398893684&&I[1]==1701076831&&(D=a.create(I.slice(2,4)),I.splice(0,4),$.sigBytes-=16),b.create({ciphertext:$,salt:D})}},w=o.SerializableCipher=s.extend({cfg:s.extend({format:x}),encrypt:function(C,D,$,I){I=this.cfg.extend(I);var R=C.createEncryptor($,I),A=R.finalize(D),M=R.cfg;return b.create({ciphertext:A,key:$,iv:M.iv,algorithm:C,mode:M.mode,padding:M.padding,blockSize:C.blockSize,formatter:I.format})},decrypt:function(C,D,$,I){I=this.cfg.extend(I),D=this._parse(D,I.format);var R=C.createDecryptor($,I).finalize(D.ciphertext);return R},_parse:function(C,D){return typeof C=="string"?D.parse(C,this):C}}),E=i.kdf={},S=E.OpenSSL={execute:function(C,D,$,I,R){if(I||(I=a.random(64/8)),R)var A=h.create({keySize:D+$,hasher:R}).compute(C,I);else var A=h.create({keySize:D+$}).compute(C,I);var M=a.create(A.words.slice(D),$*4);return A.sigBytes=D*4,b.create({key:A,iv:M,salt:I})}},T=o.PasswordBasedCipher=w.extend({cfg:w.cfg.extend({kdf:S}),encrypt:function(C,D,$,I){I=this.cfg.extend(I);var R=I.kdf.execute($,C.keySize,C.ivSize,I.salt,I.hasher);I.iv=R.iv;var A=w.encrypt.call(this,C,D,R.key,I);return A.mixIn(R),A},decrypt:function(C,D,$,I){I=this.cfg.extend(I),D=this._parse(D,I.format);var R=I.kdf.execute($,C.keySize,C.ivSize,D.salt,I.hasher);I.iv=R.iv;var A=w.decrypt.call(this,C,D,R.key,I);return A}})}()})}(O5)),O5.exports}var L5={exports:{}},rle;function Tgt(){return rle||(rle=1,function(e,t){(function(n,r,i){e.exports=r(Un(),Lo())})(vt,function(n){return n.mode.CFB=function(){var r=n.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(o,s){var a=this._cipher,l=a.blockSize;i.call(this,o,s,l,a),this._prevBlock=o.slice(s,s+l)}}),r.Decryptor=r.extend({processBlock:function(o,s){var a=this._cipher,l=a.blockSize,u=o.slice(s,s+l);i.call(this,o,s,l,a),this._prevBlock=u}});function i(o,s,a,l){var u,c=this._iv;c?(u=c.slice(0),this._iv=void 0):u=this._prevBlock,l.encryptBlock(u,0);for(var d=0;d<a;d++)o[s+d]^=u[d]}return r}(),n.mode.CFB})}(L5)),L5.exports}var F5={exports:{}},ile;function Cgt(){return ile||(ile=1,function(e,t){(function(n,r,i){e.exports=r(Un(),Lo())})(vt,function(n){return n.mode.CTR=function(){var r=n.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(o,s){var a=this._cipher,l=a.blockSize,u=this._iv,c=this._counter;u&&(c=this._counter=u.slice(0),this._iv=void 0);var d=c.slice(0);a.encryptBlock(d,0),c[l-1]=c[l-1]+1|0;for(var h=0;h<l;h++)o[s+h]^=d[h]}});return r.Decryptor=i,r}(),n.mode.CTR})}(F5)),F5.exports}var B5={exports:{}},ole;function Agt(){return ole||(ole=1,function(e,t){(function(n,r,i){e.exports=r(Un(),Lo())})(vt,function(n){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return n.mode.CTRGladman=function(){var r=n.lib.BlockCipherMode.extend();function i(a){if((a>>24&255)===255){var l=a>>16&255,u=a>>8&255,c=a&255;l===255?(l=0,u===255?(u=0,c===255?c=0:++c):++u):++l,a=0,a+=l<<16,a+=u<<8,a+=c}else a+=1<<24;return a}function o(a){return(a[0]=i(a[0]))===0&&(a[1]=i(a[1])),a}var s=r.Encryptor=r.extend({processBlock:function(a,l){var u=this._cipher,c=u.blockSize,d=this._iv,h=this._counter;d&&(h=this._counter=d.slice(0),this._iv=void 0),o(h);var f=h.slice(0);u.encryptBlock(f,0);for(var p=0;p<c;p++)a[l+p]^=f[p]}});return r.Decryptor=s,r}(),n.mode.CTRGladman})}(B5)),B5.exports}var j5={exports:{}},sle;function kgt(){return sle||(sle=1,function(e,t){(function(n,r,i){e.exports=r(Un(),Lo())})(vt,function(n){return n.mode.OFB=function(){var r=n.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(o,s){var a=this._cipher,l=a.blockSize,u=this._iv,c=this._keystream;u&&(c=this._keystream=u.slice(0),this._iv=void 0),a.encryptBlock(c,0);for(var d=0;d<l;d++)o[s+d]^=c[d]}});return r.Decryptor=i,r}(),n.mode.OFB})}(j5)),j5.exports}var z5={exports:{}},ale;function Igt(){return ale||(ale=1,function(e,t){(function(n,r,i){e.exports=r(Un(),Lo())})(vt,function(n){return n.mode.ECB=function(){var r=n.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(i,o){this._cipher.encryptBlock(i,o)}}),r.Decryptor=r.extend({processBlock:function(i,o){this._cipher.decryptBlock(i,o)}}),r}(),n.mode.ECB})}(z5)),z5.exports}var U5={exports:{}},lle;function Rgt(){return lle||(lle=1,function(e,t){(function(n,r,i){e.exports=r(Un(),Lo())})(vt,function(n){return n.pad.AnsiX923={pad:function(r,i){var o=r.sigBytes,s=i*4,a=s-o%s,l=o+a-1;r.clamp(),r.words[l>>>2]|=a<<24-l%4*8,r.sigBytes+=a},unpad:function(r){var i=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=i}},n.pad.Ansix923})}(U5)),U5.exports}var H5={exports:{}},ule;function $gt(){return ule||(ule=1,function(e,t){(function(n,r,i){e.exports=r(Un(),Lo())})(vt,function(n){return n.pad.Iso10126={pad:function(r,i){var o=i*4,s=o-r.sigBytes%o;r.concat(n.lib.WordArray.random(s-1)).concat(n.lib.WordArray.create([s<<24],1))},unpad:function(r){var i=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=i}},n.pad.Iso10126})}(H5)),H5.exports}var V5={exports:{}},cle;function Dgt(){return cle||(cle=1,function(e,t){(function(n,r,i){e.exports=r(Un(),Lo())})(vt,function(n){return n.pad.Iso97971={pad:function(r,i){r.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(r,i)},unpad:function(r){n.pad.ZeroPadding.unpad(r),r.sigBytes--}},n.pad.Iso97971})}(V5)),V5.exports}var W5={exports:{}},dle;function Mgt(){return dle||(dle=1,function(e,t){(function(n,r,i){e.exports=r(Un(),Lo())})(vt,function(n){return n.pad.ZeroPadding={pad:function(r,i){var o=i*4;r.clamp(),r.sigBytes+=o-(r.sigBytes%o||o)},unpad:function(r){for(var i=r.words,o=r.sigBytes-1,o=r.sigBytes-1;o>=0;o--)if(i[o>>>2]>>>24-o%4*8&255){r.sigBytes=o+1;break}}},n.pad.ZeroPadding})}(W5)),W5.exports}var q5={exports:{}},hle;function Pgt(){return hle||(hle=1,function(e,t){(function(n,r,i){e.exports=r(Un(),Lo())})(vt,function(n){return n.pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding})}(q5)),q5.exports}var G5={exports:{}},fle;function Ngt(){return fle||(fle=1,function(e,t){(function(n,r,i){e.exports=r(Un(),Lo())})(vt,function(n){return function(r){var i=n,o=i.lib,s=o.CipherParams,a=i.enc,l=a.Hex,u=i.format;u.Hex={stringify:function(c){return c.ciphertext.toString(l)},parse:function(c){var d=l.parse(c);return s.create({ciphertext:d})}}}(),n.format.Hex})}(G5)),G5.exports}var Y5={exports:{}},ple;function Ogt(){return ple||(ple=1,function(e,t){(function(n,r,i){e.exports=r(Un(),sb(),ab(),a0(),Lo())})(vt,function(n){return function(){var r=n,i=r.lib,o=i.BlockCipher,s=r.algo,a=[],l=[],u=[],c=[],d=[],h=[],f=[],p=[],m=[],g=[];(function(){for(var b=[],_=0;_<256;_++)_<128?b[_]=_<<1:b[_]=_<<1^283;for(var x=0,w=0,_=0;_<256;_++){var E=w^w<<1^w<<2^w<<3^w<<4;E=E>>>8^E&255^99,a[x]=E,l[E]=x;var S=b[x],T=b[S],C=b[T],D=b[E]*257^E*16843008;u[x]=D<<24|D>>>8,c[x]=D<<16|D>>>16,d[x]=D<<8|D>>>24,h[x]=D;var D=C*16843009^T*65537^S*257^x*16843008;f[E]=D<<24|D>>>8,p[E]=D<<16|D>>>16,m[E]=D<<8|D>>>24,g[E]=D,x?(x=S^b[b[b[C^S]]],w^=b[b[w]]):x=w=1}})();var y=[0,1,2,4,8,16,32,64,128,27,54],v=s.AES=o.extend({_doReset:function(){var b;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var _=this._keyPriorReset=this._key,x=_.words,w=_.sigBytes/4,E=this._nRounds=w+6,S=(E+1)*4,T=this._keySchedule=[],C=0;C<S;C++)C<w?T[C]=x[C]:(b=T[C-1],C%w?w>6&&C%w==4&&(b=a[b>>>24]<<24|a[b>>>16&255]<<16|a[b>>>8&255]<<8|a[b&255]):(b=b<<8|b>>>24,b=a[b>>>24]<<24|a[b>>>16&255]<<16|a[b>>>8&255]<<8|a[b&255],b^=y[C/w|0]<<24),T[C]=T[C-w]^b);for(var D=this._invKeySchedule=[],$=0;$<S;$++){var C=S-$;if($%4)var b=T[C];else var b=T[C-4];$<4||C<=4?D[$]=b:D[$]=f[a[b>>>24]]^p[a[b>>>16&255]]^m[a[b>>>8&255]]^g[a[b&255]]}}},encryptBlock:function(b,_){this._doCryptBlock(b,_,this._keySchedule,u,c,d,h,a)},decryptBlock:function(b,_){var x=b[_+1];b[_+1]=b[_+3],b[_+3]=x,this._doCryptBlock(b,_,this._invKeySchedule,f,p,m,g,l);var x=b[_+1];b[_+1]=b[_+3],b[_+3]=x},_doCryptBlock:function(b,_,x,w,E,S,T,C){for(var D=this._nRounds,$=b[_]^x[0],I=b[_+1]^x[1],R=b[_+2]^x[2],A=b[_+3]^x[3],M=4,N=1;N<D;N++){var L=w[$>>>24]^E[I>>>16&255]^S[R>>>8&255]^T[A&255]^x[M++],z=w[I>>>24]^E[R>>>16&255]^S[A>>>8&255]^T[$&255]^x[M++],F=w[R>>>24]^E[A>>>16&255]^S[$>>>8&255]^T[I&255]^x[M++],j=w[A>>>24]^E[$>>>16&255]^S[I>>>8&255]^T[R&255]^x[M++];$=L,I=z,R=F,A=j}var L=(C[$>>>24]<<24|C[I>>>16&255]<<16|C[R>>>8&255]<<8|C[A&255])^x[M++],z=(C[I>>>24]<<24|C[R>>>16&255]<<16|C[A>>>8&255]<<8|C[$&255])^x[M++],F=(C[R>>>24]<<24|C[A>>>16&255]<<16|C[$>>>8&255]<<8|C[I&255])^x[M++],j=(C[A>>>24]<<24|C[$>>>16&255]<<16|C[I>>>8&255]<<8|C[R&255])^x[M++];b[_]=L,b[_+1]=z,b[_+2]=F,b[_+3]=j},keySize:256/32});r.AES=o._createHelper(v)}(),n.AES})}(Y5)),Y5.exports}var K5={exports:{}},mle;function Lgt(){return mle||(mle=1,function(e,t){(function(n,r,i){e.exports=r(Un(),sb(),ab(),a0(),Lo())})(vt,function(n){return function(){var r=n,i=r.lib,o=i.WordArray,s=i.BlockCipher,a=r.algo,l=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],u=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],d=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],h=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],f=a.DES=s.extend({_doReset:function(){for(var y=this._key,v=y.words,b=[],_=0;_<56;_++){var x=l[_]-1;b[_]=v[x>>>5]>>>31-x%32&1}for(var w=this._subKeys=[],E=0;E<16;E++){for(var S=w[E]=[],T=c[E],_=0;_<24;_++)S[_/6|0]|=b[(u[_]-1+T)%28]<<31-_%6,S[4+(_/6|0)]|=b[28+(u[_+24]-1+T)%28]<<31-_%6;S[0]=S[0]<<1|S[0]>>>31;for(var _=1;_<7;_++)S[_]=S[_]>>>(_-1)*4+3;S[7]=S[7]<<5|S[7]>>>27}for(var C=this._invSubKeys=[],_=0;_<16;_++)C[_]=w[15-_]},encryptBlock:function(y,v){this._doCryptBlock(y,v,this._subKeys)},decryptBlock:function(y,v){this._doCryptBlock(y,v,this._invSubKeys)},_doCryptBlock:function(y,v,b){this._lBlock=y[v],this._rBlock=y[v+1],p.call(this,4,252645135),p.call(this,16,65535),m.call(this,2,858993459),m.call(this,8,16711935),p.call(this,1,1431655765);for(var _=0;_<16;_++){for(var x=b[_],w=this._lBlock,E=this._rBlock,S=0,T=0;T<8;T++)S|=d[T][((E^x[T])&h[T])>>>0];this._lBlock=E,this._rBlock=w^S}var C=this._lBlock;this._lBlock=this._rBlock,this._rBlock=C,p.call(this,1,1431655765),m.call(this,8,16711935),m.call(this,2,858993459),p.call(this,16,65535),p.call(this,4,252645135),y[v]=this._lBlock,y[v+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function p(y,v){var b=(this._lBlock>>>y^this._rBlock)&v;this._rBlock^=b,this._lBlock^=b<<y}function m(y,v){var b=(this._rBlock>>>y^this._lBlock)&v;this._lBlock^=b,this._rBlock^=b<<y}r.DES=s._createHelper(f);var g=a.TripleDES=s.extend({_doReset:function(){var y=this._key,v=y.words;if(v.length!==2&&v.length!==4&&v.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var b=v.slice(0,2),_=v.length<4?v.slice(0,2):v.slice(2,4),x=v.length<6?v.slice(0,2):v.slice(4,6);this._des1=f.createEncryptor(o.create(b)),this._des2=f.createEncryptor(o.create(_)),this._des3=f.createEncryptor(o.create(x))},encryptBlock:function(y,v){this._des1.encryptBlock(y,v),this._des2.decryptBlock(y,v),this._des3.encryptBlock(y,v)},decryptBlock:function(y,v){this._des3.decryptBlock(y,v),this._des2.encryptBlock(y,v),this._des1.decryptBlock(y,v)},keySize:192/32,ivSize:64/32,blockSize:64/32});r.TripleDES=s._createHelper(g)}(),n.TripleDES})}(K5)),K5.exports}var X5={exports:{}},gle;function Fgt(){return gle||(gle=1,function(e,t){(function(n,r,i){e.exports=r(Un(),sb(),ab(),a0(),Lo())})(vt,function(n){return function(){var r=n,i=r.lib,o=i.StreamCipher,s=r.algo,a=s.RC4=o.extend({_doReset:function(){for(var c=this._key,d=c.words,h=c.sigBytes,f=this._S=[],p=0;p<256;p++)f[p]=p;for(var p=0,m=0;p<256;p++){var g=p%h,y=d[g>>>2]>>>24-g%4*8&255;m=(m+f[p]+y)%256;var v=f[p];f[p]=f[m],f[m]=v}this._i=this._j=0},_doProcessBlock:function(c,d){c[d]^=l.call(this)},keySize:256/32,ivSize:0});function l(){for(var c=this._S,d=this._i,h=this._j,f=0,p=0;p<4;p++){d=(d+1)%256,h=(h+c[d])%256;var m=c[d];c[d]=c[h],c[h]=m,f|=c[(c[d]+c[h])%256]<<24-p*8}return this._i=d,this._j=h,f}r.RC4=o._createHelper(a);var u=s.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:function(){a._doReset.call(this);for(var c=this.cfg.drop;c>0;c--)l.call(this)}});r.RC4Drop=o._createHelper(u)}(),n.RC4})}(X5)),X5.exports}var Q5={exports:{}},yle;function Bgt(){return yle||(yle=1,function(e,t){(function(n,r,i){e.exports=r(Un(),sb(),ab(),a0(),Lo())})(vt,function(n){return function(){var r=n,i=r.lib,o=i.StreamCipher,s=r.algo,a=[],l=[],u=[],c=s.Rabbit=o.extend({_doReset:function(){for(var h=this._key.words,f=this.cfg.iv,p=0;p<4;p++)h[p]=(h[p]<<8|h[p]>>>24)&16711935|(h[p]<<24|h[p]>>>8)&4278255360;var m=this._X=[h[0],h[3]<<16|h[2]>>>16,h[1],h[0]<<16|h[3]>>>16,h[2],h[1]<<16|h[0]>>>16,h[3],h[2]<<16|h[1]>>>16],g=this._C=[h[2]<<16|h[2]>>>16,h[0]&4294901760|h[1]&65535,h[3]<<16|h[3]>>>16,h[1]&4294901760|h[2]&65535,h[0]<<16|h[0]>>>16,h[2]&4294901760|h[3]&65535,h[1]<<16|h[1]>>>16,h[3]&4294901760|h[0]&65535];this._b=0;for(var p=0;p<4;p++)d.call(this);for(var p=0;p<8;p++)g[p]^=m[p+4&7];if(f){var y=f.words,v=y[0],b=y[1],_=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,x=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,w=_>>>16|x&4294901760,E=x<<16|_&65535;g[0]^=_,g[1]^=w,g[2]^=x,g[3]^=E,g[4]^=_,g[5]^=w,g[6]^=x,g[7]^=E;for(var p=0;p<4;p++)d.call(this)}},_doProcessBlock:function(h,f){var p=this._X;d.call(this),a[0]=p[0]^p[5]>>>16^p[3]<<16,a[1]=p[2]^p[7]>>>16^p[5]<<16,a[2]=p[4]^p[1]>>>16^p[7]<<16,a[3]=p[6]^p[3]>>>16^p[1]<<16;for(var m=0;m<4;m++)a[m]=(a[m]<<8|a[m]>>>24)&16711935|(a[m]<<24|a[m]>>>8)&4278255360,h[f+m]^=a[m]},blockSize:128/32,ivSize:64/32});function d(){for(var h=this._X,f=this._C,p=0;p<8;p++)l[p]=f[p];f[0]=f[0]+1295307597+this._b|0,f[1]=f[1]+3545052371+(f[0]>>>0<l[0]>>>0?1:0)|0,f[2]=f[2]+886263092+(f[1]>>>0<l[1]>>>0?1:0)|0,f[3]=f[3]+1295307597+(f[2]>>>0<l[2]>>>0?1:0)|0,f[4]=f[4]+3545052371+(f[3]>>>0<l[3]>>>0?1:0)|0,f[5]=f[5]+886263092+(f[4]>>>0<l[4]>>>0?1:0)|0,f[6]=f[6]+1295307597+(f[5]>>>0<l[5]>>>0?1:0)|0,f[7]=f[7]+3545052371+(f[6]>>>0<l[6]>>>0?1:0)|0,this._b=f[7]>>>0<l[7]>>>0?1:0;for(var p=0;p<8;p++){var m=h[p]+f[p],g=m&65535,y=m>>>16,v=((g*g>>>17)+g*y>>>15)+y*y,b=((m&4294901760)*m|0)+((m&65535)*m|0);u[p]=v^b}h[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,h[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,h[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,h[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,h[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,h[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,h[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,h[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}r.Rabbit=o._createHelper(c)}(),n.Rabbit})}(Q5)),Q5.exports}var J5={exports:{}},vle;function jgt(){return vle||(vle=1,function(e,t){(function(n,r,i){e.exports=r(Un(),sb(),ab(),a0(),Lo())})(vt,function(n){return function(){var r=n,i=r.lib,o=i.StreamCipher,s=r.algo,a=[],l=[],u=[],c=s.RabbitLegacy=o.extend({_doReset:function(){var h=this._key.words,f=this.cfg.iv,p=this._X=[h[0],h[3]<<16|h[2]>>>16,h[1],h[0]<<16|h[3]>>>16,h[2],h[1]<<16|h[0]>>>16,h[3],h[2]<<16|h[1]>>>16],m=this._C=[h[2]<<16|h[2]>>>16,h[0]&4294901760|h[1]&65535,h[3]<<16|h[3]>>>16,h[1]&4294901760|h[2]&65535,h[0]<<16|h[0]>>>16,h[2]&4294901760|h[3]&65535,h[1]<<16|h[1]>>>16,h[3]&4294901760|h[0]&65535];this._b=0;for(var g=0;g<4;g++)d.call(this);for(var g=0;g<8;g++)m[g]^=p[g+4&7];if(f){var y=f.words,v=y[0],b=y[1],_=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,x=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,w=_>>>16|x&4294901760,E=x<<16|_&65535;m[0]^=_,m[1]^=w,m[2]^=x,m[3]^=E,m[4]^=_,m[5]^=w,m[6]^=x,m[7]^=E;for(var g=0;g<4;g++)d.call(this)}},_doProcessBlock:function(h,f){var p=this._X;d.call(this),a[0]=p[0]^p[5]>>>16^p[3]<<16,a[1]=p[2]^p[7]>>>16^p[5]<<16,a[2]=p[4]^p[1]>>>16^p[7]<<16,a[3]=p[6]^p[3]>>>16^p[1]<<16;for(var m=0;m<4;m++)a[m]=(a[m]<<8|a[m]>>>24)&16711935|(a[m]<<24|a[m]>>>8)&4278255360,h[f+m]^=a[m]},blockSize:128/32,ivSize:64/32});function d(){for(var h=this._X,f=this._C,p=0;p<8;p++)l[p]=f[p];f[0]=f[0]+1295307597+this._b|0,f[1]=f[1]+3545052371+(f[0]>>>0<l[0]>>>0?1:0)|0,f[2]=f[2]+886263092+(f[1]>>>0<l[1]>>>0?1:0)|0,f[3]=f[3]+1295307597+(f[2]>>>0<l[2]>>>0?1:0)|0,f[4]=f[4]+3545052371+(f[3]>>>0<l[3]>>>0?1:0)|0,f[5]=f[5]+886263092+(f[4]>>>0<l[4]>>>0?1:0)|0,f[6]=f[6]+1295307597+(f[5]>>>0<l[5]>>>0?1:0)|0,f[7]=f[7]+3545052371+(f[6]>>>0<l[6]>>>0?1:0)|0,this._b=f[7]>>>0<l[7]>>>0?1:0;for(var p=0;p<8;p++){var m=h[p]+f[p],g=m&65535,y=m>>>16,v=((g*g>>>17)+g*y>>>15)+y*y,b=((m&4294901760)*m|0)+((m&65535)*m|0);u[p]=v^b}h[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,h[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,h[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,h[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,h[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,h[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,h[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,h[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}r.RabbitLegacy=o._createHelper(c)}(),n.RabbitLegacy})}(J5)),J5.exports}var Z5={exports:{}},ble;function zgt(){return ble||(ble=1,function(e,t){(function(n,r,i){e.exports=r(Un(),sb(),ab(),a0(),Lo())})(vt,function(n){return function(){var r=n,i=r.lib,o=i.BlockCipher,s=r.algo;const a=16,l=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],u=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var c={pbox:[],sbox:[]};function d(g,y){let v=y>>24&255,b=y>>16&255,_=y>>8&255,x=y&255,w=g.sbox[0][v]+g.sbox[1][b];return w=w^g.sbox[2][_],w=w+g.sbox[3][x],w}function h(g,y,v){let b=y,_=v,x;for(let w=0;w<a;++w)b=b^g.pbox[w],_=d(g,b)^_,x=b,b=_,_=x;return x=b,b=_,_=x,_=_^g.pbox[a],b=b^g.pbox[a+1],{left:b,right:_}}function f(g,y,v){let b=y,_=v,x;for(let w=a+1;w>1;--w)b=b^g.pbox[w],_=d(g,b)^_,x=b,b=_,_=x;return x=b,b=_,_=x,_=_^g.pbox[1],b=b^g.pbox[0],{left:b,right:_}}function p(g,y,v){for(let E=0;E<4;E++){g.sbox[E]=[];for(let S=0;S<256;S++)g.sbox[E][S]=u[E][S]}let b=0;for(let E=0;E<a+2;E++)g.pbox[E]=l[E]^y[b],b++,b>=v&&(b=0);let _=0,x=0,w=0;for(let E=0;E<a+2;E+=2)w=h(g,_,x),_=w.left,x=w.right,g.pbox[E]=_,g.pbox[E+1]=x;for(let E=0;E<4;E++)for(let S=0;S<256;S+=2)w=h(g,_,x),_=w.left,x=w.right,g.sbox[E][S]=_,g.sbox[E][S+1]=x;return!0}var m=s.Blowfish=o.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var g=this._keyPriorReset=this._key,y=g.words,v=g.sigBytes/4;p(c,y,v)}},encryptBlock:function(g,y){var v=h(c,g[y],g[y+1]);g[y]=v.left,g[y+1]=v.right},decryptBlock:function(g,y){var v=f(c,g[y],g[y+1]);g[y]=v.left,g[y+1]=v.right},blockSize:64/32,keySize:128/32,ivSize:64/32});r.Blowfish=o._createHelper(m)}(),n.Blowfish})}(Z5)),Z5.exports}(function(e,t){(function(n,r,i){e.exports=r(Un(),VN(),ygt(),vgt(),sb(),bgt(),ab(),kTe(),QG(),wgt(),ITe(),xgt(),_gt(),Egt(),JG(),Sgt(),a0(),Lo(),Tgt(),Cgt(),Agt(),kgt(),Igt(),Rgt(),$gt(),Dgt(),Mgt(),Pgt(),Ngt(),Ogt(),Lgt(),Fgt(),Bgt(),jgt(),zgt())})(vt,function(n){return n})})(ATe);var uw=ATe.exports;const RTe=uw.enc.Hex.parse("000102030405060708090a0b0c0d0e0f101112131415161718191a1b1c1d1e1f");function no(e){const t=uw.AES.encrypt(e.toString(),RTe,{mode:uw.mode.ECB}).toString();return btoa(t)}function uv(e){const t=uw.AES.decrypt(atob(e),RTe,{mode:uw.mode.ECB}).toString(uw.enc.Utf8);return parseInt(t,10)}function Ch(){return qn(e=>e.config)}function Vp(){const{studyId:e}=ia();return`${e}`}function gu(){const{index:e}=ia();return e===void 0?0:e.startsWith("reviewer-")||e.startsWith("__")?e:uv(e)}const wle=Object.assign({"../public/a-usability-study-config/assets/Editor.tsx":VSe,"../public/a-usability-study-config/assets/startingStrings.tsx":HSe,"../public/a-usability-study-tabular/assets/Editor.tsx":GSe,"../public/a-usability-study-tabular/assets/startingStrings.tsx":qSe,"../public/a-usability-study/assets/Editor.tsx":XSe,"../public/a-usability-study/assets/startingStrings.tsx":KSe,"../public/libraries/mic-check/assets/AudioTest.tsx":rTe,"../public/libraries/test/assets/test.tsx":iTe,"../public/test-step-logic/Example.tsx":oTe,"../public/test-step-logic/func.ts":sTe});function Hh(){const{funcIndex:e}=ia(),t=qn(m=>m.answers),n=Ch(),r=gu(),i=ob(),o=mu(),s=Vp(),a=bs(),{pushToFuncSequence:l}=Po(),[u,c]=O.useState(null),d=O.useMemo(()=>typeof r=="number"?Fae(i[r],n):r.includes("reviewer-")?r:null,[r,i,n]),[h,f]=O.useState("__dynamicLoading"),p=O.useMemo(()=>{if(typeof r=="number"&&!d){const m=Lae(i[r],n.sequence);if(!m)return null;const g=`../public/${m.functionPath}`;return g in wle?wle[g].default:null}return null},[d,r,i,n.sequence]);return O.useEffect(()=>{!e&&p&&typeof r=="number"&&o(`/${s}/${no(r)}/${no(0)}${window.location.search}`)},[r,e,o,p,s]),O.useEffect(()=>{var m;if(typeof r=="number"){const g=Fae(i[r],n),y=i[r],v=e?uv(e):0,b=Object.entries(t).find(([x,w])=>x.startsWith(`${y}_${r}_`)&&x.endsWith(`${v}`)),_=b?b[1].componentName:null;if(_!==null){f(_),c(v);return}if(!g&&p!==null){const{component:x,parameters:w,correctAnswer:E}=p({components:[],answers:t,sequenceSoFar:[],customParameters:(m=Lae(i[r],n.sequence))==null?void 0:m.parameters});x!==null?e&&(f(x),c(v),a(l({component:x,funcName:y,index:r,funcIndex:v,parameters:w||void 0,correctAnswer:E||void 0}))):(f("__dynamicLoading"),c(null),o(`/${s}/${no(r+1)}${window.location.search}`))}}},[t,r,i,e,o,p,l,a,n,s]),typeof r=="number"&&i[r]==="end"?"end":d?typeof r=="number"?i[r]:r.replace("reviewer-",""):u!==null&&e&&uv(e)===u?h:"__dynamicLoading"}function lb(){const e=gu(),t=ob(),n=Hh(),{funcIndex:r}=ia();return O.useMemo(()=>r&&typeof e=="number"?`${t[e]}_${e}_${n}_${uv(r)}`:`${n}_${e}`,[n,e,r,t])}function ZG(){const{funcIndex:e}=ia(),t=ob(),n=gu(),r=Hh(),i=e&&typeof n=="number"?`${t[n]}_${n}_${r}_${uv(e)}`:`${r}_${n}`;return qn(s=>s.answers[i])}const $Te=O.createContext(null);function Ugt(){const e=O.useContext($Te);if(!e)throw new Error("useWindowEvents must be used within a WindowEventsProvider");return e}function b_(){const[e]=jh();return!!e.get("participantId")}function xle(e,t,n,r){const i=t.slice(0,t.lastIndexOf("_")),o=Object.entries(r.components).find(([a])=>a===i),s=o?o[1]:null;if(!s)throw new Error(`Component ${i} could not be found in the study components.`);return s.correctAnswer?s.correctAnswer.every(a=>a.acceptableHigh!==void 0&&a.acceptableLow!==void 0?+e[a.id]>=a.acceptableLow&&+e[a.id]<=a.acceptableHigh:e[a.id]===a.answer):!0}function Hgt(){const e=gu(),t=ob(),n=qn(T=>T.trialValidation),r=qn(T=>T.sequence),i=qn(T=>T.answers),o=qn(T=>T.modes),s=Ch(),{funcIndex:a}=ia(),l=lb(),u=bs(),{saveTrialAnswer:c,setReactiveAnswers:d,setMatrixAnswersRadio:h,setMatrixAnswersCheckbox:f}=Po(),{storageEngine:p}=Si(),m=Vp(),g=O.useMemo(()=>o.dataCollectionEnabled,[o]),y=mgt(l),v=b_(),b=typeof e!="number"||v||!y,_=ZG(),x=mu(),w=O.useMemo(()=>Date.now(),[a,e]),E=Ugt(),S=O.useCallback((T=!0)=>{if(typeof e!="number")return;const C=structuredClone(n[l]),D=Object.values(C).reduce((F,j)=>Object.hasOwn(j,"values")?{...F,...j.values}:F,{}),{provenanceGraph:$}=C,I=Date.now(),{componentName:R}=_,A=E&&"current"in E&&E.current?E.current.splice(0,E.current.length):[];if(g&&_.endTime===-1){const F={..._,answer:T?D:{},startTime:w,endTime:I,provenanceGraph:$,windowEvents:A,timedOut:!T};u(c({identifier:l,...F})),p&&p.saveAnswers({...i,[l]:F}),u(d({})),u(f(null)),u(h(null))}let M=e+1;const N=KG(r,e),L=N!==null&&N.some(F=>Object.hasOwn(F.currentBlock,"skip")&&F.currentBlock.skip!==void 0),z={...i,[l]:{answer:D,startTime:w,endTime:I,provenanceGraph:$,windowEvents:A}};L&&[...N.flatMap(j=>j.currentBlock.skip?j.currentBlock.skip.map(W=>({...W,firstIndex:j.firstIndex,lastIndex:j.lastIndex})):[])].some(j=>{let W=!1;const B=Object.fromEntries(Object.entries(z).filter(([V])=>{const G=parseInt(V.slice(V.lastIndexOf("_")+1),10);return G>=j.firstIndex&&G<=e})),H=j.check!=="block"?Object.entries(B).filter(([V])=>V.slice(0,V.lastIndexOf("_"))===j.name):Object.entries(B);if(H.length===0)return!1;if(H.some(([V,G])=>!G))throw new Error(`There are components with missing response objects for the skip condition: ${JSON.stringify(j,null,2)}`);if(j.check==="response"||j.check==="responses"){const[V,G]=H[0];j.check==="response"?W=j.comparison==="equal"?j.value===G.answer[j.responseId]:j.value!==G.answer[j.responseId]:W=!xle(G.answer,V,s.components[V.slice(0,V.lastIndexOf("_"))],s)}else if(j.check==="block"||j.check==="repeatedComponent"){if(H.length<j.value)return!1;const V=H.map(([X,te])=>xle(te.answer,X,s.components[R.slice(0,R.lastIndexOf("_"))],s)),G=V.filter(X=>X).length,ne=V.length-G;W=j.condition==="numCorrect"&&G===j.value||j.condition==="numIncorrect"&&ne===j.value}if(W){const V=t.indexOf(j.to),G=V===-1?hgt(r,j.to):-1;return M=V===-1?G:V,!0}return!1}),x(a?`/${m}/${no(e)}/${no(uv(a)+1)}${window.location.search}`:`/${m}/${no(M)}${window.location.search}`)},[e,n,l,_,E,g,r,i,w,a,x,m,u,c,p,d,f,h,s,t]);return{isNextDisabled:b,goToNextStep:S}}function Vgt({label:e="Next",disabled:t=!1,onClick:n,configInUse:r}){const{isNextDisabled:i,goToNextStep:o}=Hgt(),s=Ch(),a=mu(),l=O.useCallback(()=>{n&&n(),o()},[o,n]),u=r==null?void 0:r.nextButtonDisableTime,c=(r==null?void 0:r.nextButtonEnableTime)||0,[d,h]=O.useState(void 0);O.useEffect(()=>{let p=0;const m=setInterval(()=>{p+=100,h(p)},100);return()=>{clearInterval(m)}},[]),O.useEffect(()=>{d&&u&&d>=u&&s.uiConfig.timeoutReject&&a("./../__timedOut")},[u,d,a,s.uiConfig.timeoutReject]);const f=O.useMemo(()=>{const p=u&&d?d<=u:!0,m=d?d>=c:!0;return p&&m},[u,c,d]);return O.useEffect(()=>{const p=m=>{m.key==="Enter"&&!t&&!i&&f&&o()};return s.uiConfig.nextOnEnter?(window.addEventListener("keydown",p),()=>{window.removeEventListener("keydown",p)}):()=>{}},[t,i,f,o,s.uiConfig.nextOnEnter]),k.jsxs(k.Fragment,{children:[k.jsx(Kt,{type:"submit",disabled:t||i||!f,onClick:l,children:e}),c>0&&d&&d<c&&k.jsxs(Kf,{mt:"md",title:"Please wait",color:"blue",icon:k.jsx(FW,{}),children:["The next button will be enabled in"," ",Math.ceil((c-d)/1e3)," ","seconds."]}),u&&d&&u-d<1e4&&(u-d>0?k.jsxs(Kf,{mt:"md",title:"Next button disables soon",color:"yellow",icon:k.jsx(QS,{}),children:["The next button disables in"," ",Math.ceil((u-d)/1e3)," ","seconds."]}):!s.uiConfig.timeoutReject&&k.jsxs(Kf,{mt:"md",title:"Next button disabled",color:"red",icon:k.jsx(QS,{}),children:["The next button has timed out and is now disabled.",k.jsx(Dr,{justify:"right",mt:"sm",children:k.jsx(Kt,{onClick:()=>o(!1),variant:"link",color:"red",children:"Proceed"})})]}))]})}function Wgt(e){if(!/^[0-9a-zA-Z-]+$/.test(e))throw new Error(`[@mantine/use-form] Form name "${e}" is invalid, it should contain only letters, numbers and dashes`)}const qgt=typeof window<"u"?O.useLayoutEffect:O.useEffect;function Wo(e,t){qgt(()=>{if(e)return window.addEventListener(e,t),()=>window.removeEventListener(e,t)},[e])}function Ggt(e,t){e&&Wgt(e),Wo(`mantine-form:${e}:set-field-value`,n=>t.setFieldValue(n.detail.path,n.detail.value)),Wo(`mantine-form:${e}:set-values`,n=>t.setValues(n.detail)),Wo(`mantine-form:${e}:set-initial-values`,n=>t.setInitialValues(n.detail)),Wo(`mantine-form:${e}:set-errors`,n=>t.setErrors(n.detail)),Wo(`mantine-form:${e}:set-field-error`,n=>t.setFieldError(n.detail.path,n.detail.error)),Wo(`mantine-form:${e}:clear-field-error`,n=>t.clearFieldError(n.detail)),Wo(`mantine-form:${e}:clear-errors`,t.clearErrors),Wo(`mantine-form:${e}:reset`,t.reset),Wo(`mantine-form:${e}:validate`,t.validate),Wo(`mantine-form:${e}:validate-field`,n=>t.validateField(n.detail)),Wo(`mantine-form:${e}:reorder-list-item`,n=>t.reorderListItem(n.detail.path,n.detail.payload)),Wo(`mantine-form:${e}:remove-list-item`,n=>t.removeListItem(n.detail.path,n.detail.index)),Wo(`mantine-form:${e}:insert-list-item`,n=>t.insertListItem(n.detail.path,n.detail.item,n.detail.index)),Wo(`mantine-form:${e}:set-dirty`,n=>t.setDirty(n.detail)),Wo(`mantine-form:${e}:set-touched`,n=>t.setTouched(n.detail)),Wo(`mantine-form:${e}:reset-dirty`,n=>t.resetDirty(n.detail)),Wo(`mantine-form:${e}:reset-touched`,t.resetTouched)}function Ygt(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:n}=t;n instanceof HTMLInputElement?n.type==="checkbox"?e(n.checked):e(n.value):(n instanceof HTMLTextAreaElement||n instanceof HTMLSelectElement)&&e(n.value)}else e(t)}}function Kj(e){return e===null||typeof e!="object"?{}:Object.keys(e).reduce((t,n)=>{const r=e[n];return r!=null&&r!==!1&&(t[n]=r),t},{})}function Kgt(e){const[t,n]=O.useState(Kj(e)),r=O.useRef(t),i=O.useCallback(l=>{n(u=>{const c=Kj(typeof l=="function"?l(u):l);return r.current=c,c})},[]),o=O.useCallback(()=>i({}),[]),s=O.useCallback(l=>{r.current[l]!==void 0&&i(u=>{const c={...u};return delete c[l],c})},[t]),a=O.useCallback((l,u)=>{u==null||u===!1?s(l):r.current[l]!==u&&i(c=>({...c,[l]:u}))},[t]);return{errorsState:t,setErrors:i,clearErrors:o,setFieldError:a,clearFieldError:s}}function Xj(e,t){if(t===null||typeof t!="object")return{};const n={...t};return Object.keys(t).forEach(r=>{r.includes(`${String(e)}.`)&&delete n[r]}),n}function _le(e,t){const n=e.substring(t.length+1).split(".")[0];return parseInt(n,10)}function Ele(e,t,n,r){if(t===void 0)return n;const i=`${String(e)}`;let o=n;r===-1&&(o=Xj(`${i}.${t}`,o));const s={...o},a=new Set;return Object.entries(o).filter(([l])=>{if(!l.startsWith(`${i}.`))return!1;const u=_le(l,i);return Number.isNaN(u)?!1:u>=t}).forEach(([l,u])=>{const c=_le(l,i),d=l.replace(`${i}.${c}`,`${i}.${c+r}`);s[d]=u,a.add(d),a.has(l)||delete s[l]}),s}function Xgt(e,{from:t,to:n},r){const i=`${e}.${t}`,o=`${e}.${n}`,s={...r};return Object.keys(r).every(a=>{let l,u;if(a.startsWith(i)&&(l=a,u=a.replace(i,o)),a.startsWith(o)&&(l=a.replace(o,i),u=a),l&&u){const c=s[l],d=s[u];return d===void 0?delete s[l]:s[l]=d,c===void 0?delete s[u]:s[u]=c,!1}return!0}),s}function Sle(e,t,n){typeof n.value=="object"&&(n.value=P1(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function P1(e){if(typeof e!="object")return e;var t=0,n,r,i,o=Object.prototype.toString.call(e);if(o==="[object Object]"?i=Object.create(e.__proto__||null):o==="[object Array]"?i=Array(e.length):o==="[object Set]"?(i=new Set,e.forEach(function(s){i.add(P1(s))})):o==="[object Map]"?(i=new Map,e.forEach(function(s,a){i.set(P1(a),P1(s))})):o==="[object Date]"?i=new Date(+e):o==="[object RegExp]"?i=new RegExp(e.source,e.flags):o==="[object DataView]"?i=new e.constructor(P1(e.buffer)):o==="[object ArrayBuffer]"?i=e.slice(0):o.slice(-6)==="Array]"&&(i=new e.constructor(e)),i){for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)Sle(i,r[t],Object.getOwnPropertyDescriptor(e,r[t]));for(t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)Object.hasOwnProperty.call(i,n=r[t])&&i[n]===e[n]||Sle(i,n,Object.getOwnPropertyDescriptor(e,n))}return i||e}function DTe(e){return typeof e!="string"?[]:e.split(".")}function os(e,t){const n=DTe(e);if(n.length===0||typeof t!="object"||t===null)return;let r=t[n[0]];for(let i=1;i<n.length&&r!=null;i+=1)r=r[n[i]];return r}function d2(e,t,n){const r=DTe(e);if(r.length===0)return n;const i=P1(n);if(r.length===1)return i[r[0]]=t,i;let o=i[r[0]];for(let s=1;s<r.length-1;s+=1){if(o===void 0)return i;o=o[r[s]]}return o[r[r.length-1]]=t,i}function Qgt(e,{from:t,to:n},r){const i=os(e,r);if(!Array.isArray(i))return r;const o=[...i],s=i[t];return o.splice(t,1),o.splice(n,0,s),d2(e,o,r)}function Jgt(e,t,n,r){const i=os(e,r);if(!Array.isArray(i))return r;const o=[...i];return o.splice(typeof n=="number"?n:o.length,0,t),d2(e,o,r)}function Zgt(e,t,n){const r=os(e,n);return Array.isArray(r)?d2(e,r.filter((i,o)=>o!==t),n):n}function e0t(e,t,n,r){const i=os(e,r);if(!Array.isArray(i)||i.length<=n)return r;const o=[...i];return o[n]=t,d2(e,o,r)}function t0t({$values:e,$errors:t,$status:n}){const r=O.useCallback((a,l)=>{n.clearFieldDirty(a),t.setErrors(u=>Xgt(a,l,u)),e.setValues({values:Qgt(a,l,e.refValues.current),updateState:!0})},[]),i=O.useCallback((a,l)=>{n.clearFieldDirty(a),t.setErrors(u=>Ele(a,l,u,-1)),e.setValues({values:Zgt(a,l,e.refValues.current),updateState:!0})},[]),o=O.useCallback((a,l,u)=>{n.clearFieldDirty(a),t.setErrors(c=>Ele(a,u,c,1)),e.setValues({values:Jgt(a,l,u,e.refValues.current),updateState:!0})},[]),s=O.useCallback((a,l,u)=>{n.clearFieldDirty(a),e.setValues({values:e0t(a,u,l,e.refValues.current),updateState:!0})},[]);return{reorderListItem:r,removeListItem:i,insertListItem:o,replaceListItem:s}}var eY=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(o=Object.keys(t),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!==0;){var s=o[i];if(!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n};const hS=hu(eY);function vE(e,t){const n=Object.keys(e);if(typeof t=="string"){const r=n.filter(i=>i.startsWith(`${t}.`));return e[t]||r.some(i=>e[i])||!1}return n.some(r=>e[r])}function n0t({initialDirty:e,initialTouched:t,mode:n,$values:r}){const[i,o]=O.useState(t),[s,a]=O.useState(e),l=O.useRef(t),u=O.useRef(e),c=O.useCallback(w=>{const E=typeof w=="function"?w(l.current):w;l.current=E,n==="controlled"&&o(E)},[]),d=O.useCallback((w,E=!1)=>{const S=typeof w=="function"?w(u.current):w;u.current=S,(n==="controlled"||E)&&a(S)},[]),h=O.useCallback(()=>c({}),[]),f=O.useCallback(w=>{const E=w?{...r.refValues.current,...w}:r.refValues.current;r.setValuesSnapshot(E),d({})},[]),p=O.useCallback((w,E)=>{c(S=>vE(S,w)===E?S:{...S,[w]:E})},[]),m=O.useCallback((w,E,S)=>{d(T=>vE(T,w)===E?T:{...T,[w]:E},S)},[]),g=O.useCallback((w,E)=>{const S=vE(u.current,w),T=!hS(os(w,r.getValuesSnapshot()),E),C=Xj(w,u.current);C[w]=T,d(C,S!==T)},[]),y=O.useCallback(w=>vE(l.current,w),[]),v=O.useCallback(w=>d(E=>{if(typeof w!="string")return E;const S=Xj(w,E);return delete S[w],hS(S,E)?E:S}),[]),b=O.useCallback(w=>{if(w){const S=os(w,u.current);if(typeof S=="boolean")return S;const T=os(w,r.refValues.current),C=os(w,r.valuesSnapshot.current);return!hS(T,C)}return Object.keys(u.current).length>0?vE(u.current):!hS(r.refValues.current,r.valuesSnapshot.current)},[]),_=O.useCallback(()=>u.current,[]),x=O.useCallback(()=>l.current,[]);return{touchedState:i,dirtyState:s,touchedRef:l,dirtyRef:u,setTouched:c,setDirty:d,resetDirty:f,resetTouched:h,isTouched:y,setFieldTouched:p,setFieldDirty:m,setTouchedState:o,setDirtyState:a,clearFieldDirty:v,isDirty:b,getDirty:_,getTouched:x,setCalculatedFieldDirty:g}}function r0t({initialValues:e,onValuesChange:t,mode:n}){const r=O.useRef(!1),[i,o]=O.useState(e||{}),s=O.useRef(i),a=O.useRef(i),l=O.useCallback(({values:m,subscribers:g,updateState:y=!0,mergeWithPreviousValues:v=!0})=>{const b=s.current,_=m instanceof Function?m(s.current):m,x=v?{...b,..._}:_;s.current=x,y&&o(x),t==null||t(x,b),g==null||g.filter(Boolean).forEach(w=>w({updatedValues:x,previousValues:b}))},[t]),u=O.useCallback(m=>{var v;const g=os(m.path,s.current),y=m.value instanceof Function?m.value(g):m.value;if(g!==y){const b=s.current,_=d2(m.path,y,s.current);l({values:_,updateState:m.updateState}),(v=m.subscribers)==null||v.filter(Boolean).forEach(x=>x({path:m.path,updatedValues:_,previousValues:b}))}},[l]),c=O.useCallback(m=>{a.current=m},[]),d=O.useCallback((m,g)=>{r.current||(r.current=!0,l({values:m,updateState:n==="controlled"}),c(m),g())},[l]),h=O.useCallback(()=>{l({values:a.current,updateState:!0,mergeWithPreviousValues:!1})},[l]),f=O.useCallback(()=>s.current,[]),p=O.useCallback(()=>a.current,[]);return{initialized:r,stateValues:i,refValues:s,valuesSnapshot:a,setValues:l,setFieldValue:u,resetValues:h,setValuesSnapshot:c,initialize:d,getValues:f,getValuesSnapshot:p}}function i0t({$status:e}){const t=O.useRef({}),n=O.useCallback((i,o)=>{O.useEffect(()=>(t.current[i]=t.current[i]||[],t.current[i].push(o),()=>{t.current[i]=t.current[i].filter(s=>s!==o)}),[o])},[]),r=O.useCallback(i=>t.current[i]?t.current[i].map(o=>s=>o({previousValue:os(i,s.previousValues),value:os(i,s.updatedValues),touched:e.isTouched(i),dirty:e.isDirty(i)})):[],[]);return{subscribers:t,watch:n,getFieldSubscribers:r}}function Tle(e,t){return e?`${e}-${t.toString()}`:t.toString()}const d3=Symbol("root-rule");function Cle(e){const t=Kj(e);return{hasErrors:Object.keys(t).length>0,errors:t}}function Qj(e,t,n="",r={}){return typeof e!="object"||e===null?r:Object.keys(e).reduce((i,o)=>{const s=e[o],a=`${n===""?"":`${n}.`}${o}`,l=os(a,t);let u=!1;return typeof s=="function"&&(i[a]=s(l,t,a)),typeof s=="object"&&Array.isArray(l)&&(u=!0,l.forEach((c,d)=>Qj(s,t,`${a}.${d}`,i)),d3 in s&&(i[a]=s[d3](l,t,a))),typeof s=="object"&&typeof l=="object"&&l!==null&&(u||Qj(s,t,a,i),d3 in s&&(i[a]=s[d3](l,t,a))),i},r)}function Jj(e,t){return Cle(typeof e=="function"?e(t):Qj(e,t))}function h3(e,t,n){if(typeof e!="string")return{hasError:!1,error:null};const r=Jj(t,n),i=Object.keys(r.errors).find(o=>e.split(".").every((s,a)=>s===o.split(".")[a]));return{hasError:!!i,error:i?r.errors[i]:null}}const o0t="__MANTINE_FORM_INDEX__";function Ale(e,t){return t?typeof t=="boolean"?t:Array.isArray(t)?t.includes(e.replace(/[.][0-9]+/g,`.${o0t}`)):!1:!1}function MTe({name:e,mode:t="controlled",initialValues:n,initialErrors:r={},initialDirty:i={},initialTouched:o={},clearInputErrorOnChange:s=!0,validateInputOnChange:a=!1,validateInputOnBlur:l=!1,onValuesChange:u,transformValues:c=m=>m,enhanceGetInputProps:d,validate:h,onSubmitPreventDefault:f="always",touchTrigger:p="change"}={}){const m=Kgt(r),g=r0t({initialValues:n,onValuesChange:u,mode:t}),y=n0t({initialDirty:i,initialTouched:o,$values:g,mode:t}),v=t0t({$values:g,$errors:m,$status:y}),b=i0t({$status:y}),[_,x]=O.useState(0),[w,E]=O.useState({}),[S,T]=O.useState(!1),C=O.useCallback(()=>{g.resetValues(),m.clearErrors(),y.resetDirty(),y.resetTouched(),t==="uncontrolled"&&x(V=>V+1)},[]),D=O.useCallback(V=>{s&&m.clearErrors(),t==="uncontrolled"&&x(G=>G+1),Object.keys(b.subscribers.current).forEach(G=>{const ne=os(G,g.refValues.current),X=os(G,V);ne!==X&&b.getFieldSubscribers(G).forEach(te=>te({previousValues:V,updatedValues:g.refValues.current}))})},[s]),$=O.useCallback(V=>{const G=g.refValues.current;g.initialize(V,()=>t==="uncontrolled"&&x(ne=>ne+1)),D(G)},[D]),I=O.useCallback((V,G,ne)=>{const X=Ale(V,a),te=G instanceof Function?G(os(V,g.refValues.current)):G;y.setCalculatedFieldDirty(V,te),p==="change"&&y.setFieldTouched(V,!0),!X&&s&&m.clearFieldError(V),g.setFieldValue({path:V,value:G,updateState:t==="controlled",subscribers:[...b.getFieldSubscribers(V),X?se=>{const ve=h3(V,h,se.updatedValues);ve.hasError?m.setFieldError(V,ve.error):m.clearFieldError(V)}:null,(ne==null?void 0:ne.forceUpdate)!==!1&&t!=="controlled"?()=>E(se=>({...se,[V]:(se[V]||0)+1})):null]})},[u,h]),R=O.useCallback(V=>{const G=g.refValues.current;g.setValues({values:V,updateState:t==="controlled"}),D(G)},[u,D]),A=O.useCallback(()=>{const V=Jj(h,g.refValues.current);return m.setErrors(V.errors),V},[h]),M=O.useCallback(V=>{const G=h3(V,h,g.refValues.current);return G.hasError?m.setFieldError(V,G.error):m.clearFieldError(V),G},[h]),N=(V,{type:G="input",withError:ne=!0,withFocus:X=!0,...te}={})=>{const ve={onChange:Ygt(pe=>I(V,pe,{forceUpdate:!1})),"data-path":Tle(e,V)};return ne&&(ve.error=m.errorsState[V]),G==="checkbox"?ve[t==="controlled"?"checked":"defaultChecked"]=os(V,g.refValues.current):ve[t==="controlled"?"value":"defaultValue"]=os(V,g.refValues.current),X&&(ve.onFocus=()=>y.setFieldTouched(V,!0),ve.onBlur=()=>{if(Ale(V,l)){const pe=h3(V,h,g.refValues.current);pe.hasError?m.setFieldError(V,pe.error):m.clearFieldError(V)}}),Object.assign(ve,d==null?void 0:d({inputProps:ve,field:V,options:{type:G,withError:ne,withFocus:X,...te},form:H}))},L=(V,G)=>ne=>{f==="always"&&(ne==null||ne.preventDefault());const X=A();if(X.hasErrors)f==="validation-failed"&&(ne==null||ne.preventDefault()),G==null||G(X.errors,g.refValues.current,ne);else{const te=V==null?void 0:V(c(g.refValues.current),ne);te instanceof Promise&&(T(!0),te.finally(()=>T(!1)))}},z=V=>c(V||g.refValues.current),F=O.useCallback(V=>{V.preventDefault(),C()},[]),j=O.useCallback(V=>V?!h3(V,h,g.refValues.current).hasError:!Jj(h,g.refValues.current).hasErrors,[h]),W=V=>`${_}-${V}-${w[V]||0}`,B=O.useCallback(V=>document.querySelector(`[data-path="${Tle(e,V)}"]`),[]),H={watch:b.watch,initialized:g.initialized.current,values:g.stateValues,getValues:g.getValues,setInitialValues:g.setValuesSnapshot,initialize:$,setValues:R,setFieldValue:I,submitting:S,setSubmitting:T,errors:m.errorsState,setErrors:m.setErrors,setFieldError:m.setFieldError,clearFieldError:m.clearFieldError,clearErrors:m.clearErrors,resetDirty:y.resetDirty,setTouched:y.setTouched,setDirty:y.setDirty,isTouched:y.isTouched,resetTouched:y.resetTouched,isDirty:y.isDirty,getTouched:y.getTouched,getDirty:y.getDirty,reorderListItem:v.reorderListItem,insertListItem:v.insertListItem,removeListItem:v.removeListItem,replaceListItem:v.replaceListItem,reset:C,validate:A,validateField:M,getInputProps:N,onSubmit:L,onReset:F,isValid:j,getTransformedValues:z,key:W,getInputNode:B};return Ggt(e,H),H}function s0t(e,t){const n=t;return r=>typeof r!="string"?n:e.test(r)?null:n}function a0t(e){return s0t(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,e)}function PTe(e,t){if(e.type==="checkbox"){const n=e,r=n.minSelections&&t.length<n.minSelections,i=n.maxSelections&&t.length>n.maxSelections;if(r&&i)return`Please select between ${n.minSelections} and ${n.maxSelections} options`;if(r)return`Please select at least ${n.minSelections} options`;if(i)return`Please select at most ${n.maxSelections} options`}return null}const l0t=new URLSearchParams(window.location.search),u0t=(e,t)=>{let n={};return e.forEach(r=>{const i=t?t[r.id]:{},o=t&&t[`${r.id}-dontKnow`]!==void 0?t[`${r.id}-dontKnow`]:!1,s=r.withDontKnow?{[`${r.id}-dontKnow`]:o}:{},a=t&&t[`${r.id}-other`]!==void 0?t[`${r.id}-other`]:"",l=r.withOther?{[`${r.id}-other`]:a}:{};if(i)n={...n,[r.id]:i,...s,...l};else{let u="";r.paramCapture?u=l0t.get(r.paramCapture):r.type==="reactive"?u=[]:r.type==="matrix-radio"||r.type==="matrix-checkbox"?u=Object.fromEntries(r.questionOptions.map(c=>[c,""])):r.type==="slider"&&r.startingValue&&(u=r.startingValue.toString()),n={...n,[r.id]:u,...s,...l}}}),{...n}},c0t=e=>{let t={};return e.forEach(n=>{n.required&&(t={...t,[n.id]:(r,i)=>{if(typeof r=="object"&&!Array.isArray(r)&&r!==null)return Object.values(r).every(o=>o!=="")?null:"Empty Input";if(Array.isArray(r)){if(n.requiredValue!=null&&!Array.isArray(n.requiredValue))return"Incorrect required value. Contact study administrator.";if(n.requiredValue!=null&&Array.isArray(n.requiredValue)){if(n.requiredValue.length!==r.length)return"Incorrect input";const o=[...n.requiredValue].sort(),s=[...r].sort();return o.every((a,l)=>a===s[l])?null:"Incorrect input"}return n.type==="checkbox"?PTe(n,r):r.length===0?"Empty input":null}return n.required&&n.requiredValue!=null&&r!=null?r.toString()!==n.requiredValue.toString()?"Incorrect input":null:n.required?(r==null||r==="")&&!i[`${n.id}-dontKnow`]?"Empty input":null:r===null?"Empty input":null}})}),t};function d0t(e,t,n){const[r,i]=O.useState(null),o=MTe({initialValues:u0t(e,n),validate:c0t(e)});return O.useEffect(()=>{r!==t&&(i(t),o.reset())},[r,o,t]),o}function l0(e,t,n){var s;const{requiredValue:r,requiredLabel:i}=e;let o="";return t.checked&&Array.isArray(r)?o=r&&[...r].sort().toString()!==[...t.checked].sort().toString()?`Please ${n?"select":"enter"} ${i||r.toString()} to continue.`:null:t.checked&&e.required?o=PTe(e,t.checked):o=t.value&&r&&r.toString()!==t.value.toString()?`Please ${n?"select":"enter"} ${i||(n?(s=n.find(a=>a.value===r))==null?void 0:s.label:r.toString())} to continue.`:null,o}function NTe({horizontal:e,children:t,style:n}){return e?k.jsx(Dr,{mt:_e(4),gap:"lg",style:n,children:t}):k.jsx(tu,{gap:"md",style:n,children:t})}const h0t="_fixDisabled_1k5ri_1",f0t="_fixDisabledIcon_1k5ri_16",p0t="_fixDisabledLabel_1k5ri_20",kc={fixDisabled:h0t,fixDisabledIcon:f0t,fixDisabledLabel:p0t},m0t="_fixDisabled_d4mus_1",$g={fixDisabled:m0t};function g0t({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i,otherValue:o}){const{prompt:s,required:a,options:l,secondaryText:u,horizontal:c,withOther:d}=e,h=l.map(g=>typeof g=="string"?{value:g,label:g}:g),[f,p]=O.useState(!1),m=O.useMemo(()=>l0(e,n,h),[e,n,h]);return k.jsxs(Ys.Group,{label:k.jsxs(Rt,{direction:"row",wrap:"nowrap",gap:4,children:[i&&k.jsx(ge,{style:{minWidth:"fit-content",fontSize:16,fontWeight:500},children:`${r}. `}),k.jsx(ge,{style:{display:"block"},className:"no-last-child-bottom-padding",children:k.jsx(gs,{text:s,required:a})})]}),description:u,...n,error:m,style:{"--input-description-size":"calc(var(--mantine-font-size-md) - calc(0.125rem * var(--mantine-scale)))"},children:[k.jsx(ge,{mt:"xs",children:k.jsxs(NTe,{horizontal:!!c,style:{flexGrow:1},children:[h.map(g=>k.jsx(Ys,{disabled:t,value:g.value,label:g.label,classNames:{input:kc.fixDisabled,label:kc.fixDisabledLabel,icon:kc.fixDisabledIcon}},g.value)),d&&k.jsx(Ys,{disabled:t,value:"__other",checked:f,onClick:g=>p(g.currentTarget.checked),label:c?"Other":k.jsx(Er,{mt:-8,placeholder:"Other",disabled:!f,...o,classNames:{input:$g.fixDisabled}}),classNames:{input:kc.fixDisabled,label:kc.fixDisabledLabel,icon:kc.fixDisabledIcon}},"__other")]})}),c&&d&&k.jsx(Er,{mt:"sm",placeholder:"Other",disabled:!f,...o,w:216,classNames:{input:$g.fixDisabled}})]})}function y0t({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{placeholder:o,prompt:s,required:a,options:l,secondaryText:u}=e,c=l.map(d=>typeof d=="string"?{value:d,label:d}:d);return k.jsx(Gx,{disabled:t,label:k.jsxs(Rt,{direction:"row",wrap:"nowrap",gap:4,children:[i&&k.jsx(ge,{style:{minWidth:"fit-content",fontSize:16,fontWeight:500},children:`${r}. `}),k.jsx(ge,{style:{display:"block"},className:"no-last-child-bottom-padding",children:k.jsx(gs,{text:s,required:a})})]}),description:u,placeholder:o,data:c,radius:"md",size:"md",...n,value:n.value===""?null:n.value,error:l0(e,n,c),classNames:{input:$g.fixDisabled}})}function v0t({response:e,answer:t,index:n,enumerateQuestions:r}){const{prompt:i,required:o,secondaryText:s}=e;return k.jsx(Er.Wrapper,{label:k.jsxs(Rt,{direction:"row",wrap:"nowrap",gap:4,children:[r&&k.jsx(ge,{style:{minWidth:"fit-content",fontSize:16,fontWeight:500},children:`${n}. `}),k.jsx(ge,{style:{display:"block"},className:"no-last-child-bottom-padding",children:k.jsx(gs,{text:i,required:o})})]}),description:s,size:"md",children:t.value&&k.jsx(Gc,{children:Array.isArray(t.value)?t.value.map(a=>k.jsx(Gc.Item,{children:a},a)):k.jsx(Gc.Item,{children:t.value})})})}const b0t="_fixDisabled_14ab8_1",w0t="_fixDisabledIcon_14ab8_16",x0t="_fixDisabledLabel_14ab8_20",Wb={fixDisabled:b0t,fixDisabledIcon:w0t,fixDisabledLabel:x0t};function OTe({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i,stretch:o,otherValue:s}){const{prompt:a,required:l,options:u,leftLabel:c,rightLabel:d,secondaryText:h,horizontal:f,withOther:p}=e,m=u.map(v=>typeof v=="string"?{value:v,label:v}:v),[g,y]=O.useState(!1);return k.jsxs(ql.Group,{name:`radioInput${e.id}`,label:k.jsxs(Rt,{direction:"row",wrap:"nowrap",gap:4,children:[i&&k.jsx(ge,{style:{minWidth:"fit-content",fontSize:16,fontWeight:500},children:`${r}. `}),k.jsx(ge,{style:{display:"block"},className:"no-last-child-bottom-padding",children:k.jsx(gs,{text:a,required:l})})]}),description:h,...n,error:l0(e,n,m),style:{"--input-description-size":"calc(var(--mantine-font-size-md) - calc(0.125rem * var(--mantine-scale)))"},children:[k.jsxs(Dr,{gap:"lg",align:"flex-end",mt:f?0:"sm",children:[c?k.jsx(Fe,{children:c}):null,k.jsxs(NTe,{horizontal:!!f,style:{flexGrow:1},children:[m.map(v=>k.jsxs("div",{style:{display:"flex",flexDirection:f?"column":"row",gap:f?"unset":_e(12),flex:o?1:"unset",alignItems:"center"},children:[f&&k.jsx(Fe,{size:"sm",children:v.label}),k.jsx(ql,{disabled:t,value:v.value,label:v.label,styles:{label:{display:f?"none":"initial"}},onChange:()=>y(!1),classNames:{radio:Wb.fixDisabled,label:Wb.fixDisabledLabel,icon:Wb.fixDisabledIcon}})]},`${v.value}-${e.id}`)),p&&k.jsxs("div",{style:{display:"flex",flexDirection:f?"column":"row",gap:f?"unset":_e(12),flex:o?1:"unset",alignItems:"center"},children:[f&&k.jsx(Fe,{size:"sm",children:"Other"}),k.jsx(ql,{disabled:t,value:"other",checked:g,onClick:v=>y(v.currentTarget.checked),label:!f&&k.jsx(Er,{mt:-8,placeholder:"Other",disabled:!g,...s,classNames:{input:$g.fixDisabled}}),mt:0,classNames:{radio:Wb.fixDisabled,label:Wb.fixDisabledLabel,icon:Wb.fixDisabledIcon}})]})]}),k.jsx(Fe,{children:d})]}),f&&p&&k.jsx(Er,{mt:"sm",placeholder:"Other",disabled:!g,...s,w:216,classNames:{input:$g.fixDisabled}})]},e.id)}function _0t({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{numItems:o}=e,s=[];for(let l=1;l<=+o;l+=1)s.push({label:`${l}`,value:`${l}`});const a={...e,type:"radio",options:s,horizontal:!0};return k.jsx(OTe,{disabled:t,response:a,answer:n,index:r,enumerateQuestions:i,stretch:!0})}function E0t({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{prompt:o,required:s,min:a,max:l,placeholder:u,secondaryText:c}=e;return k.jsx(lW,{disabled:t,placeholder:u,label:k.jsxs(Rt,{direction:"row",wrap:"nowrap",gap:4,children:[i&&k.jsx(ge,{style:{minWidth:"fit-content",fontSize:16,fontWeight:500},children:`${r}. `}),k.jsx(ge,{style:{display:"block"},className:"no-last-child-bottom-padding",children:k.jsx(gs,{text:o,required:s})})]}),description:c,radius:"md",size:"md",min:a,max:l,...n,error:l0(e,n),classNames:{input:$g.fixDisabled}})}const S0t="_track_w59g7_1",T0t="_fixDisabled_w59g7_11",kle={track:S0t,fixDisabled:T0t};function C0t({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{prompt:o,required:s,options:a,secondaryText:l,snap:u,step:c,withBar:d,tlxStyle:h}=e,[f,p]=O.useMemo(()=>[Math.min(...a.map(y=>y.value)),Math.max(...a.map(y=>y.value))],[a]),m=a.some(y=>y.label!==""),g=l0(e,n);return k.jsx(Er.Wrapper,{label:k.jsxs(Rt,{direction:"row",wrap:"nowrap",gap:4,children:[i&&k.jsx(ge,{style:{minWidth:"fit-content",fontSize:16,fontWeight:500},children:`${r}. `}),k.jsx(ge,{style:{display:"block"},className:"no-last-child-bottom-padding",children:k.jsx(gs,{text:o,required:s})})]}),description:l,error:g,style:{"--input-description-size":"calc(var(--mantine-font-size-md) - calc(0.125rem * var(--mantine-scale)))"},children:k.jsx(gW,{disabled:t,marks:a,min:f,max:p,step:c??(u?.001:(p-f)/100),h:m?40:void 0,...n,classNames:{track:h?kle.track:"",bar:kle.fixDisabled},restrictToMarks:u,label:y=>u?null:y,styles:y=>({mark:{...h?{height:20,width:1,marginTop:-6,marginLeft:2,borderRadius:0}:{},...d===!1?{borderColor:"var(--mantine-color-gray-2)"}:{}},bar:d===!1||h?{display:"none"}:{},markLabel:{fontSize:y.fontSizes.sm,color:y.colors.gray[7],transform:"translate(calc((var(--mark-offset) * -1) + (var(--slider-size) / 2)), calc(var(--mantine-spacing-xs) / 2)"},thumb:{...h?{borderColor:"var(--mantine-color-red-6)",width:1,borderWidth:1,height:22,borderRadius:0,backgroundColor:"var(--mantine-color-red-6)",transform:"translate(-50%, -62%)"}:{}}}),flex:1,mt:h?"sm":"xs"})})}function A0t({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{placeholder:o,prompt:s,required:a,secondaryText:l}=e;return k.jsx(Lf,{disabled:t,placeholder:o,label:k.jsxs(Rt,{direction:"row",wrap:"nowrap",gap:4,children:[i&&k.jsx(ge,{style:{minWidth:"fit-content",fontSize:16,fontWeight:500},children:`${r}. `}),k.jsx(ge,{style:{display:"block"},className:"no-last-child-bottom-padding",children:k.jsx(gs,{text:s,required:a})})]}),description:l,radius:"md",size:"md",...n,value:n.value||"",error:l0(e,n),classNames:{input:$g.fixDisabled}})}function k0t({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{placeholder:o,prompt:s,required:a,secondaryText:l}=e;return k.jsx(KV,{disabled:t,placeholder:o,label:k.jsxs(Rt,{direction:"row",wrap:"nowrap",gap:4,children:[i&&k.jsx(ge,{style:{minWidth:"fit-content",fontSize:16,fontWeight:500},children:`${r}. `}),k.jsx(ge,{style:{display:"block"},className:"no-last-child-bottom-padding",children:k.jsx(gs,{text:s,required:a})})]}),description:l,radius:"md",size:"md",...n,value:n.value||"",error:l0(e,n),classNames:{input:$g.fixDisabled}})}function I0t({_choices:e,_n:t,idx:n,question:r,answer:i,onChange:o,disabled:s}){return k.jsx("div",{style:{flex:1,display:"grid",gridTemplateColumns:`repeat(${t}, 1fr)`,justifyItems:"center"},children:e.map(a=>k.jsx(Ys,{disabled:s,checked:i.value[r.label].split("|").includes(a.value),onChange:l=>o(l,r.label,a),value:a.value,classNames:{input:kc.fixDisabled,icon:kc.fixDisabledIcon}},`${a.label}-${n}`))})}function R0t({_choices:e,_n:t,idx:n,question:r,response:i,answer:o,onChange:s,disabled:a}){const l=ib();return k.jsx(ql.Group,{name:`radioInput${i.id}-${n}`,style:{"--input-description-size":"calc(var(--mantine-font-size-md) - calc(0.125rem * var(--mantine-scale)))",flex:1},onChange:u=>s(u,r.label),value:o.value[r.label],children:k.jsx("div",{style:{flex:1,display:"grid",gridTemplateColumns:`repeat(${t}, 1fr)`,justifyItems:"center"},children:e.map(u=>u.separator?k.jsxs(Dr,{justify:"space-between",style:{height:"80px",width:"100%"},children:[k.jsx(r0,{orientation:"vertical",size:"sm",color:l?"gray.4":"black"}),k.jsx(ql,{disabled:a,value:u.value},`${u.label}-${n}`),k.jsx(ge,{})]},u.value):k.jsx(tu,{justify:"center",style:{height:"80px",width:"100%"},children:k.jsx(zu,{children:k.jsx(ql,{disabled:a,value:u.value},`${u.label}-${n}`)})},u.value))})},`${i.id}-${n}`)}function $0t({response:e,answer:t,index:n,disabled:r,enumerateQuestions:i}){const{setMatrixAnswersRadio:o,setMatrixAnswersCheckbox:s}=Po(),a=bs(),{answerOptions:l,questionOptions:u,prompt:c,secondaryText:d,required:h}=e,p=typeof l=="string"?{likely5:["Highly Unlikely","Unlikely","Neutral","Likely","Highly Likely"],likely7:["Highly Unlikely","Unlikely","Slightly Unlikely","Neutral","Slightly Likely","Likely","Highly Likely"],satisfaction5:["Highly Unsatisfied","Unsatisfied","Neutral","Satisfied","Highly Satisfied"],satisfaction7:["Highly Unsatisfied","Unsatisfied","Slightly Unsatisfied","Neutral","Slightly Satisfied","Satisfied","Highly Satisfied"]}[l].map(x=>({value:x,label:x})):l.map(x=>typeof x=="string"?{value:x,label:x}:x),m=u.map(x=>typeof x=="string"?{value:x,label:x}:x),g=(x,w)=>{const E={type:"radio",questionKey:w,val:x,responseId:e.id};a(o(E))},y=(x,w,E)=>{const S=x.target.checked,T={questionKey:w,responseId:e.id,value:E.value,label:E.label,isChecked:S,choiceOptions:p};a(s(T))},v=ib(),b=p.length,_=m.length;return k.jsxs(k.Fragment,{children:[k.jsxs(Rt,{direction:"row",wrap:"nowrap",gap:4,children:[i&&k.jsx(ge,{style:{minWidth:"fit-content",fontSize:16,fontWeight:500},children:`${n}. `}),k.jsx(ge,{style:{display:"block"},className:"no-last-child-bottom-padding",children:k.jsx(gs,{text:c,required:h})})]}),k.jsx(Fe,{c:"dimmed",size:"sm",mt:0,children:d}),k.jsxs(ge,{style:{display:"grid",gridTemplateColumns:"auto 1fr",gridTemplateRows:"auto 1fr"},m:"md",mt:"xs",children:[k.jsx("div",{style:{borderBottom:"1px solid var(--mantine-color-dark-0)",borderRight:"1px solid var(--mantine-color-dark-0)"}}),k.jsx("div",{style:{height:"100%",display:"grid",gridTemplateColumns:`repeat(${b}, 1fr)`,alignItems:"center",justifyItems:"center",borderBottom:"1px solid var(--mantine-color-dark-0)"},children:p.map((x,w)=>k.jsx(Fe,{style:{fontWeight:"bold",textAlign:"center",fontSize:"0.8em"},mb:"sm",ml:"xs",mr:"xs",children:x.label},`choice-${w}-label`))}),k.jsx("div",{style:{height:"100%",display:"grid",gridTemplateRows:`repeat(${_}, 1fr)`},children:m.map((x,w)=>k.jsx(Fe,{style:{height:"80px",width:"100%",display:"flex",alignItems:"safe center",justifyContent:"end",borderRight:"1px solid var(--mantine-color-dark-0)",backgroundColor:v?"":`${(w+1)%2===0?"var(--mantine-color-gray-2)":"white"}`,overflowY:"hidden"},ta:"right",p:"sm",miw:140,maw:400,children:x.label},`question-${w}-label`))}),k.jsx("div",{style:{height:"100%",display:"grid",gridTemplateRows:`repeat(${_},1fr)`},children:m.map((x,w)=>k.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",backgroundColor:v?`${(w+1)%2===0?"var(--mantine-color-gray-8)":""}`:`${(w+1)%2===0?"var(--mantine-color-gray-2)":"white"}`},children:e.type==="matrix-radio"?k.jsx(R0t,{disabled:r,idx:w,question:x,answer:t,_choices:p,_n:b,onChange:g,response:e}):k.jsx(I0t,{disabled:r,idx:w,question:x,answer:t,_choices:p,_n:b,onChange:y})},`question-${w}`))})]})]})}const D0t="_root_152zr_1",M0t={root:D0t};function P0t({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{prompt:o,required:s,options:a,secondaryText:l}=e,u=a.map(c=>typeof c=="string"?{value:c,label:c}:c);return k.jsx(IA,{children:k.jsx(ql.Group,{name:`radioInput${e.id}`,label:k.jsxs(Rt,{direction:"row",wrap:"nowrap",gap:4,children:[i&&k.jsx(ge,{style:{minWidth:"fit-content",fontSize:16,fontWeight:500},children:`${r}. `}),k.jsx(ge,{style:{display:"block"},className:"no-last-child-bottom-padding",children:k.jsx(gs,{text:o,required:s})})]}),description:l,...n,error:l0(e,n,u),style:{"--input-description-size":"calc(var(--mantine-font-size-md) - calc(0.125rem * var(--mantine-scale)))"},children:k.jsx(Rt,{justify:"space-between",align:"center",gap:"xl",mt:"xs",children:u.map(c=>k.jsx(ql.Card,{value:c.value,disabled:t,ta:"center",className:M0t.root,p:"xs",children:k.jsx(Fe,{children:c.label})},c.value))})},e.id)})}function N0t({response:e,answer:t,storedAnswer:n,index:r,configInUse:i,dontKnowCheckbox:o,otherInput:s}){const a=(Object.keys(n||{}).length>0?{value:n[e.id]}:t)||{value:void 0},l=(Object.keys(n||{}).length>0?{checked:n[`${e.id}-dontKnow`]}:o)||{checked:void 0},u=(Object.keys(n||{}).length>0?{value:n[`${e.id}-other`]}:s)||{value:void 0},c=Object.keys(n||{}).length>0,[d]=jh(),f=Ch().uiConfig.enumerateQuestions??!1,p=O.useMemo(()=>{if(e.paramCapture){const g=d.get(e.paramCapture);return c||!!g}return c},[c,e.paramCapture,d]),m=O.useMemo(()=>e.paramCapture?d.get(e.paramCapture)||"":e.type==="reactive"||e.type==="checkbox"?[]:e.type==="matrix-radio"||e.type==="matrix-checkbox"?Object.fromEntries(e.questionOptions.map(g=>[g,""])):e.type==="slider"&&e.startingValue?e.startingValue.toString():"",[e.paramCapture,e.questionOptions,e.startingValue,e.type,d]);return k.jsxs(ge,{mb:e.withDivider||i.responseDividers?"xl":"lg",children:[e.type==="numerical"&&k.jsx(E0t,{response:e,disabled:p||(o==null?void 0:o.checked),answer:a,index:r,enumerateQuestions:f}),e.type==="shortText"&&k.jsx(A0t,{response:e,disabled:p||(o==null?void 0:o.checked),answer:a,index:r,enumerateQuestions:f}),e.type==="longText"&&k.jsx(k0t,{response:e,disabled:p||(o==null?void 0:o.checked),answer:a,index:r,enumerateQuestions:f}),e.type==="likert"&&k.jsx(_0t,{response:e,disabled:p||(o==null?void 0:o.checked),answer:a,index:r,enumerateQuestions:f}),e.type==="dropdown"&&k.jsx(y0t,{response:e,disabled:p||(o==null?void 0:o.checked),answer:a,index:r,enumerateQuestions:f}),e.type==="slider"&&k.jsx(C0t,{response:e,disabled:p||(o==null?void 0:o.checked),answer:a,index:r,enumerateQuestions:f}),e.type==="radio"&&k.jsx(OTe,{response:e,disabled:p||(o==null?void 0:o.checked),answer:a,index:r,enumerateQuestions:f,otherValue:u}),e.type==="checkbox"&&k.jsx(g0t,{response:e,disabled:p||(o==null?void 0:o.checked),answer:a,index:r,enumerateQuestions:f,otherValue:u}),e.type==="reactive"&&k.jsx(v0t,{response:e,answer:a,index:r,enumerateQuestions:f}),(e.type==="matrix-radio"||e.type==="matrix-checkbox")&&k.jsx($0t,{disabled:p||(o==null?void 0:o.checked),response:e,answer:a,index:r,enumerateQuestions:f}),e.type==="buttons"&&k.jsx(P0t,{response:e,disabled:p||(o==null?void 0:o.checked),answer:a,index:r,enumerateQuestions:f}),e.withDontKnow&&k.jsx(Ys,{mt:"xs",disabled:p,label:"I don't know",classNames:{input:kc.fixDisabled,label:kc.fixDisabledLabel,icon:kc.fixDisabledIcon},...o,checked:l.checked,onChange:g=>{o==null||o.onChange(g.currentTarget.checked),t.onChange(m)}}),(e.withDivider||i.responseDividers)&&k.jsx(r0,{mt:"xl",mb:"xs"})]})}function O0t(e,t){const n=[];for(const r of e)t.includes(r)&&n.push(r);return n}function cD({config:e,location:t,status:n,style:r}){var F;const{storageEngine:i}=Si(),o=bs(),{updateResponseBlockValidation:s,toggleShowHelpText:a,saveIncorrectAnswer:l,incrementHelpCounter:u}=Po(),c=gu(),d=qn(j=>j.analysisProvState[t]),h=O.useMemo(()=>(d==null?void 0:d.form)||(n==null?void 0:n.answer),[d,n]),f=Vp(),p=mu(),m=e,g=O.useMemo(()=>{var j;return((j=m==null?void 0:m.response)==null?void 0:j.filter(W=>W.location?W.location===t:t==="belowStimulus"))||[]},[m==null?void 0:m.response,t]),y=O.useMemo(()=>g.map(j=>({...j,required:j.required===void 0?!0:j.required})),[g]),v=d0t(y,c,h||{}),{actions:b,trrack:_}=O.useMemo(()=>{const j=Hp.create(),W=j.register("update",(H,V)=>(H.form=V,H)),B=rb({registry:j,initialState:{form:null}});return{actions:{updateFormAction:W},trrack:B}},[]),x=qn(j=>j.reactiveAnswers),w=qn(j=>j.matrixAnswers),E=(m==null?void 0:m.provideFeedback)&&(((F=m==null?void 0:m.correctAnswer)==null?void 0:F.length)||0)>0,S=(m==null?void 0:m.allowFailedTraining)===void 0?!0:m.allowFailedTraining,[T,C]=O.useState(0),D=(m==null?void 0:m.trainingAttempts)||2,[$,I]=O.useState(!1),R=lb(),A=t===((m==null?void 0:m.nextButtonLocation)||"belowStimulus");O.useEffect(()=>{const j=y.find(W=>W.type==="reactive");if(x&&j){const W=j.id;v.setValues({...v.values,[W]:x[W]})}},[x]),O.useEffect(()=>{const j=y.filter(W=>W.type==="matrix-radio"||W.type==="matrix-checkbox");if(w&&j.length>0){const W={...v.values};j.forEach(B=>{const{id:H}=B;W[H]={...v.getInputProps(H).value,...w[H]}}),v.setValues(W)}},[w]),O.useEffect(()=>{_.apply("update",b.updateFormAction(structuredClone(v.values))),o(s({location:t,identifier:R,status:v.isValid(),values:structuredClone(v.values),provenanceGraph:_.graph.backend}))},[v.values,R,t,o,s]);const[M,N]=O.useState(Object.fromEntries(y.map(j=>[j.id,{visible:!1,title:"Correct Answer",message:"The correct answer is: ",color:"green"}]))),L=(j,W,B,H,V)=>{N(G=>({...G,[j]:{visible:W,title:B,message:H,color:V}}))},z=()=>{const j=T+1;C(j);const W=Object.fromEntries(y.map(B=>{var G,ne;const H=(ne=(G=m.correctAnswer)==null?void 0:G.find(X=>X.id===B.id))==null?void 0:ne.answer,V=v.values[B.id];return[B.id,Array.isArray(V)?typeof H=="string"?V.length===1&&H===V[0]:V.length===H.length&&V.every(X=>H.includes(X)):H===V]}));E&&(y.forEach(B=>{var H,V,G;if(W[B.id]&&!((H=M[B.id])!=null&&H.message.includes("You've failed to answer this question correctly")))L(B.id,!0,"Correct Answer","You have answered the question correctly.","green");else{o(l({question:R,identifier:B.id,answer:v.values[B.id]}));let ne="";if(D===-1?ne="Please try again.":j>=D?(ne=`You didn't answer this question correctly after ${D} attempts. ${S?"You can continue to the next question.":"Unfortunately you have not met the criteria for continuing this study."}`,!S&&i&&i.rejectCurrentParticipant(f,"Failed training").then(()=>{setTimeout(()=>{p("./../__trainingFailed")},5e3)}).catch(()=>{console.error("Failed to reject participant who failed training"),setTimeout(()=>{p("./../__trainingFailed")},5e3)})):D-j===1?ne="Please try again. You have 1 attempt left.":ne=`Please try again. You have ${D-j} attempts left.`,B.type==="checkbox"){const X=(G=(V=m.correctAnswer)==null?void 0:V.find(pe=>pe.id===B.id))==null?void 0:G.answer,te=v.values[B.id],se=O0t(te,X),ve=X.length===se.length&&te.length>X.length?"However, you have selected too many boxes. ":"";ne=`You have successfully checked ${se.length}/${X.length} correct boxes. ${ve}${ne}`}L(B.id,!0,"Incorrect Answer",ne,"red")}}),I(S&&j>=D||Object.values(W).every(B=>B)&&j<=D))};return k.jsxs("div",{style:r,children:[y.map((j,W)=>{var H,V,G;const B=(V=(H=m.correctAnswer)==null?void 0:H.find(ne=>ne.id===j.id))==null?void 0:V.answer;return k.jsx(Nn.Fragment,{children:j.hidden?"":k.jsxs(k.Fragment,{children:[k.jsx(N0t,{storedAnswer:h,answer:{...v.getInputProps(j.id,{type:j.type==="checkbox"?"checkbox":"input"})},dontKnowCheckbox:{...v.getInputProps(`${j.id}-dontKnow`,{type:"checkbox"})},otherInput:{...v.getInputProps(`${j.id}-other`)},response:j,index:W+1,configInUse:m}),((G=M[j.id])==null?void 0:G.visible)&&k.jsxs(Kf,{mb:"md",title:M[j.id].title,color:M[j.id].color,children:[M[j.id].message,M[j.id].message.includes("Please try again")&&k.jsxs(k.Fragment,{children:[k.jsx("br",{}),k.jsx("br",{}),"If you're unsure"," ",k.jsx(Vv,{style:{fontSize:14},onClick:()=>{o(a()),o(u({identifier:R}))},children:"review the help text."})," "]}),k.jsx("br",{}),k.jsx("br",{}),T>=D&&D>=0&&B&&` The correct answer was: ${B}.`]})]})},`${j.id}-${c}`)}),k.jsxs(Dr,{justify:"right",gap:"xs",children:[E&&A&&k.jsx(Kt,{onClick:()=>z(),disabled:!v.isValid()||T>=D&&D>=0,children:"Check Answer"}),A&&k.jsx(Vgt,{disabled:E&&!$||!v.isValid(),label:m.nextButtonText||"Next",configInUse:m})]})]})}const bE="@REVISIT_COMMS",L0t={width:"100%",border:0};function F0t({currentConfig:e,provState:t,answers:n}){const{setReactiveAnswers:r,updateResponseBlockValidation:i}=Po(),o=bs(),s=tSe(),a=lb(),[l,u]=O.useState(800),c=O.useRef(null),d=O.useMemo(()=>crypto.randomUUID?crypto.randomUUID():`testID-${Date.now()}`,[]),h=Hh(),f=O.useCallback((p,m)=>{var g,y;(y=(g=c.current)==null?void 0:g.contentWindow)==null||y.postMessage({error:!1,type:`${bE}/${p}`,iframeId:d,message:m},"*")},[c,d]);return O.useEffect(()=>{t&&f("PROVENANCE",t)},[t,f]),O.useEffect(()=>{n&&f("ANSWERS",n)},[n,f]),O.useEffect(()=>{const p=m=>{const{data:g}=m;if(typeof g=="object"&&d===g.iframeId)switch(g.type){case`${bE}/WINDOW_READY`:e.parameters&&f("STUDY_DATA",e.parameters);break;case`${bE}/READY`:if(c.current){const y=document.getElementById(g.iframeId);y&&y.contentWindow&&(c.current.style.height=`${y.contentWindow.document.body.scrollHeight.toString()}px`)}break;case`${bE}/ANSWERS`:o(r(g.message)),o(i({location:"stimulus",identifier:a,status:!0,values:g.message}));break;case`${bE}/PROVENANCE`:o(i({location:"stimulus",identifier:a,values:{},status:!0,provenanceGraph:g.message}));break}};return window.addEventListener("message",p),()=>window.removeEventListener("message",p)},[o,s,d,e,f,r,i,a]),k.jsx("iframe",{ref:c,id:d,src:e.path.startsWith("http")?e.path:`${hi}${e.path}?trialid=${h}&id=${d}`,style:{...L0t,height:l},onLoad:()=>{var p,m;return u((((m=(p=c.current)==null?void 0:p.contentWindow)==null?void 0:m.document.body.scrollHeight)||750)+20)}})}async function WN(e){const n=await(await fetch(e)).text();if(!n.includes("<title>ReVISit</title>"))return n}async function B0t(e){const t=await fetch(`${hi}${e}`);let n;try{n=await t.json()}catch(r){console.error("Invalid JSON:",r)}return n}function Cp({email:e,path:t}){const n=nc();return k.jsxs(yp,{fluid:!0,my:50,maw:800,mx:"auto",children:[k.jsx(wi,{order:2,children:k.jsx(Fe,{span:!0,c:"orange",children:"404"})}),k.jsxs(Fe,{children:[k.jsx(Fe,{span:!0,fw:700,children:t||n.pathname})," ","not Found."]}),k.jsx(Gl,{h:"lg"}),k.jsxs(Gc,{children:[k.jsx(Gc.Item,{children:k.jsx(Fe,{children:"If you're trying to access your study please check the URL and verify that the global config file is correctly configured. Then try again."})}),k.jsx(Gc.Item,{children:k.jsxs(Fe,{children:["If you're a participant, please contact the study administrator"," ",e&&k.jsxs(k.Fragment,{children:["at"," ",k.jsxs(Vv,{c:"blue",href:`mailto:${e}`,children:[e," "]})]}),"."]})})]})]})}const j0t={maxWidth:"100%"};function z0t({currentConfig:e}){const t={...j0t,...e.style},n=O.useMemo(()=>e.path.startsWith("http")?e.path:`${hi}${e.path}`,[e.path]),[r,i]=O.useState(!0),[o,s]=O.useState(!1);return O.useEffect(()=>{async function a(){let l=await WN(n);l=l!=null&&l.includes("File not found")?void 0:l,s(!!l),i(!1)}a()},[n]),r||o?k.jsx(i0,{mx:"auto",src:n,style:t}):k.jsx(Cp,{path:e.path})}class U0t extends Nn.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}render(){return this.state.hasError?k.jsx(Fe,{children:this.state.error.toString()}):this.props.children}}const Ile=Object.assign({"../public/a-usability-study-config/assets/Editor.tsx":VSe,"../public/a-usability-study-config/assets/startingStrings.tsx":HSe,"../public/a-usability-study-tabular/assets/Editor.tsx":GSe,"../public/a-usability-study-tabular/assets/startingStrings.tsx":qSe,"../public/a-usability-study/assets/Editor.tsx":XSe,"../public/a-usability-study/assets/startingStrings.tsx":KSe,"../public/libraries/mic-check/assets/AudioTest.tsx":rTe,"../public/libraries/test/assets/test.tsx":iTe,"../public/test-step-logic/Example.tsx":oTe,"../public/test-step-logic/func.ts":sTe});function H0t({currentConfig:e,provState:t,answers:n}){const r=`../public/${e.path}`,i=r in Ile?Ile[r].default:null,o=lb(),s=bs(),{updateResponseBlockValidation:a,setReactiveAnswers:l}=Po(),u=O.useCallback(({status:c,provenanceGraph:d,answers:h})=>{s(a({location:"stimulus",identifier:o,status:c,values:h,provenanceGraph:d})),s(l(h))},[l,s,a,o]);return k.jsx(O.Suspense,{fallback:k.jsx("div",{children:"Loading..."}),children:i?k.jsx(U0t,{children:k.jsx(i,{parameters:e.parameters,setAnswer:u,answers:n,provenanceState:t})}):k.jsx(Cp,{path:e.path})})}function V0t({currentConfig:e}){const[t,n]=O.useState(""),[r,i]=O.useState(!0);return O.useEffect(()=>{async function o(){const s=await WN(`${hi}${e.path}`);s!==void 0&&n(s),i(!1)}o()},[e.path]),r||t?k.jsx(gs,{text:t}):k.jsx(Cp,{path:e.path})}function LTe(){const e=gu(),{setAlertModal:t}=Po(),n=bs();O.useEffect(()=>{window.history.pushState(null,"",window.location.href),window.onpopstate=()=>{window.history.pushState(null,"",window.location.href),n(t({show:!0,message:"Using the browser's back button is prohibited during the study."}))}},[e,t,n])}var Rle=Object.prototype.hasOwnProperty;function $le(e,t,n){for(n of e.keys())if(mT(n,t))return n}function mT(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&mT(e[r],t[r]););return r===-1}if(n===Set){if(e.size!==t.size)return!1;for(r of e)if(i=r,i&&typeof i=="object"&&(i=$le(t,i),!i)||!t.has(i))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e)if(i=r[0],i&&typeof i=="object"&&(i=$le(t,i),!i)||!mT(r[1],t.get(i)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(Rle.call(e,n)&&++r&&!Rle.call(t,n)||!(n in t)||!mT(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}function W0t(e){var t=O.useRef(e),n=O.useRef(0);return mT(e,t.current)||(t.current=e,n.current+=1),O.useMemo(function(){return t.current},[n.current])}function q0t(e,t){return O.useEffect(e,W0t(t))}const FTe=(e,t=null)=>{const[n,r]=O.useState("idle"),[i,o]=O.useState(null),[s,a]=O.useState(null),l=O.useRef(null),u=O.useRef(!1);O.useEffect(()=>(u.current=!0,()=>{u.current=!1}),[]);const c=O.useCallback((...d)=>{r("pending"),a(null);const h=Promise.resolve(e(...d)).then(f=>(u.current&&h===l.current&&(o(f),r("success")),f)).catch(f=>{throw u.current&&h===l.current&&(o(null),a(f),r("error")),f});return l.current=h,h},[e]);return q0t(()=>{if(t)try{c(...t)}catch{}},[c,t]),{execute:c,status:n,value:i,error:s}};function BTe(e){const t=e.endTime===-1?void 0:e.endTime-e.startTime,n=(e.windowEvents||[]).filter(s=>s!==void 0).filter(([s,a,l])=>a==="visibility");let r=0,i=0;for(;i<n.length-1;){if(n[i][2]==="hidden"){for(let s=i+1;s<n.length;s+=1)if(n[s][2]==="visible"){r+=n[s][0]-n[i][0],i=s;break}}i+=1}return t?t-r:void 0}const G0t="_root_1spq0_1",Y0t="_description_1spq0_9",K0t="_title_1spq0_10",X0t="_closeButton_1spq0_14",Q0t={root:G0t,description:Y0t,title:K0t,closeButton:X0t},PC=e=>{const{title:t,message:n,color:r}=e;Gv.show({title:t,message:n,position:"top-center",classNames:Q0t,color:r||"blue",autoClose:r==="red"||r==="yellow"?!1:5e3})},Dle=["status","rejectReason","rejectTime","percentComplete","description","instruction","responsePrompt","answer","correctAnswer","responseMin","responseMax","startTime","endTime","duration","cleanedDuration","meta","configHash"],jTe=["participantId","trialId","trialOrder","responseId"];function tY(e,t){const n=`data:text/json;charset=utf-8,${encodeURIComponent(e)}`,r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",t),document.body.appendChild(r),r.click(),r.remove()}function J0t(e,t,n){const r=(Object.entries(e.answers).filter(([o,s])=>s.endTime!==-1).length/Object.entries(e.answers).length*100).toFixed(2),i=new Set;return[[{participantId:e.participantId,trialId:"participantTags",trialOrder:null,responseId:"participantTags",answer:JSON.stringify(e.participantTags)},...Object.values(e.answers).map(o=>{const s=o.componentName,{trialOrder:a}=o,l=n.components[s],u=ph(l,n),c=o.endTime===-1?void 0:o.endTime-o.startTime,d=BTe(o),h=Object.keys(o.answer).length===0?{"":void 0}:o.answer;return Object.entries(h).map(([p,m])=>{var v,b,_;const g={participantId:e.participantId,trialId:s,trialOrder:a,responseId:p};Object.entries(o.parameters).forEach(([x,w])=>{g[`parameters_${x}`]=w,i.add(`parameters_${x}`)});const y=u.response.find(x=>x.id===p);if(t.includes("status")&&(g.status=e.rejected?"rejected":e.completed?"completed":"in progress"),t.includes("rejectReason")&&(g.rejectReason=e.rejected?e.rejected.reason:void 0),t.includes("rejectTime")&&(g.rejectTime=e.rejected?new Date(e.rejected.timestamp).toISOString():void 0),t.includes("configHash")&&(g.configHash=e.participantConfigHash),t.includes("percentComplete")&&(g.percentComplete=r),t.includes("description")&&(g.description=u.description),t.includes("instruction")&&(g.instruction=u.instruction),t.includes("responsePrompt")&&(g.responsePrompt=y==null?void 0:y.prompt),t.includes("answer")&&(g.answer=m),t.includes("correctAnswer")){const x=(b=(v=u.correctAnswer)==null?void 0:v.find(S=>S.id===p))==null?void 0:b.answer,E=((_=o.correctAnswer.find(S=>S.id===p))==null?void 0:_.answer)||x;g.correctAnswer=typeof E=="object"?JSON.stringify(E):E}return t.includes("responseMin")&&(g.responseMin=(y==null?void 0:y.type)==="numerical"?y.min:void 0),t.includes("responseMax")&&(g.responseMax=(y==null?void 0:y.type)==="numerical"?y.max:void 0),t.includes("startTime")&&(g.startTime=new Date(o.startTime).toISOString()),t.includes("endTime")&&(g.endTime=new Date(o.endTime).toISOString()),t.includes("duration")&&(g.duration=c),t.includes("cleanedDuration")&&(g.cleanedDuration=d),t.includes("meta")&&(g.meta=JSON.stringify(u.meta,null,2)),g}).flat()}).flat()],Array.from(i)]}async function Z0t(e,t,n,r){if(!n)return{header:[],rows:[]};const i=[...jTe,...e],o=[...new Set(t.map(h=>h.participantConfigHash))],s=await n.getAllConfigsFromHash(o,r),a=i,l=await Promise.all(t.map(async h=>await J0t(h,i,s[h.participantConfigHash]))),u=l.map(h=>h[0]),c=new Set(l.map(h=>h[1]).flat()),d=u.flat().sort((h,f)=>h!==f?h.participantId.localeCompare(f.participantId):h.trialOrder-f.trialOrder);return{header:[...a,...c],rows:d}}function eyt({opened:e,close:t,filename:n,data:r,studyId:i}){const[o,s]=O.useState([...Dle].filter(p=>p!=="meta")),a=Si(),{value:l,status:u,error:c}=FTe(Z0t,[o,r,a.storageEngine,i]),d=O.useCallback(()=>{if(!l)return;const p=[l.header.join(","),...l.rows.map(m=>l.header.map(g=>`"${`${m[g]}`.replace(/"/g,'""')}"`).join(","))].join(`
`);tY(p,n)},[n,l]),h=O.useCallback(()=>{l&&(window.parent.postMessage({type:"revisitWidget/PYTHON_EXPORT_TIDY",payload:l},"*"),PC({title:"Success",message:"Data sent to python notebook",color:"green"}))},[l]),f=O.useMemo(()=>{if(!l)return"";const p=l.rows.length>5?5:l.rows.length,m=p===1?"":"s";return`This is a preview of the first ${m?p:""} row${m} of the CSV. The full CSV contains ${l.rows.length} row${m}.`},[l]);return k.jsxs(li,{opened:e,size:"90%",onClose:t,title:"Tidy CSV Exporter",centered:!0,withCloseButton:!1,children:[k.jsx(oW,{searchable:!0,nothingFoundMessage:"Property not found",data:[...Dle],value:o,onChange:p=>s(p),label:"Included optional columns:",leftSection:k.jsx(Dqe,{}),variant:"filled"}),k.jsx(Gl,{h:"md"}),k.jsxs(ge,{mih:300,style:{width:"100%",overflow:"scroll"},children:[u==="success"&&l?k.jsxs(Mt,{striped:!0,captionSide:"bottom",withTableBorder:!0,children:[k.jsx(Mt.Thead,{children:k.jsx(Mt.Tr,{children:l.header.map(p=>k.jsx(Mt.Th,{style:{whiteSpace:"nowrap",minWidth:["description","instruction","participantId"].includes(p)?200:void 0},children:k.jsxs(Rt,{direction:"row",justify:"space-between",align:"center",children:[p,!jTe.includes(p)&&k.jsx(e0,{onClick:()=>s(o.filter(m=>m!==p)),style:{marginBottom:-3,marginLeft:8},variant:"subtle",color:"gray",children:k.jsx(Jx,{size:16})})]})},p))})}),k.jsx(Mt.Tbody,{children:l.rows.slice(0,5).map((p,m)=>k.jsx(Mt.Tr,{children:l.header.map(g=>k.jsx(Mt.Td,{style:{whiteSpace:["description","instruction","participantId"].includes(g)?"normal":"nowrap"},children:p[g]},`${m}-${g}`))},m))})]}):u==="error"&&c?k.jsx(Kf,{variant:"light",children:c.message}):null,k.jsx(Uu,{visible:u==="pending"||u==="idle"})]}),k.jsx(Gl,{h:"sm"}),k.jsx(Rt,{justify:"center",fz:"sm",c:"dimmed",children:k.jsx(Fe,{children:f})}),k.jsx(Gl,{h:"md"}),k.jsxs(Dr,{justify:"right",children:[k.jsx(Kt,{onClick:t,color:"dark",variant:"subtle",children:"Close"}),k.jsx(Kt,{leftSection:k.jsx(h1e,{}),onClick:d,"data-autofocus":!0,children:"Download"}),i==="__revisit-widget"&&k.jsx(Kt,{onClick:h,children:k.jsx(_qe,{})})]})]})}function tyt(){const e=Ch(),{storageEngine:t}=Si(),n=qn(b=>b.answers),r=b_(),[i,o]=O.useState(!1);O.useEffect(()=>{if(r){o(!0);return}const b=setInterval(async()=>{await t.verifyCompletion(n)&&(o(!0),clearInterval(b))},1e3)},[]),LTe();const[s,a]=O.useState(),[l,u]=O.useState(""),c=e.studyMetadata.title.replace(" ","_");O.useEffect(()=>{async function b(){if(t){const _=await t.getCurrentParticipantId(),x=await t.getParticipantData();u(_),a(x)}}b()},[t]);const d=O.useCallback(async()=>{tY(JSON.stringify(s,null,2),`${c}_${l}.json`)},[c,s,l]),h=e.uiConfig.autoDownloadStudy||!1,f=h&&e.uiConfig.autoDownloadTime||-1,[p,m]=O.useState(Math.floor(f/1e3));O.useEffect(()=>{if(i){const b=setInterval(()=>{m(_=>_-1)},1e3);return p<=0?(h&&d(),clearInterval(b),()=>clearInterval(b)):()=>clearInterval(b)}return()=>{}},[h,i,p,d]);const g=Vp(),[y,v]=O.useState(!1);return O.useEffect(()=>{(async()=>{if(t){const _=await t.getModes(g);v(_.dataCollectionEnabled)}})()},[t,g]),k.jsx(zu,{style:{height:"100%"},children:k.jsx(Rt,{direction:"column",children:i||!y?e.uiConfig.studyEndMsg?k.jsx(gs,{text:e.uiConfig.studyEndMsg}):k.jsx(Fe,{size:"xl",display:"block",children:"Thank you for completing the study. You may close this window now."}):k.jsxs(k.Fragment,{children:[k.jsx(Fe,{size:"xl",display:"block",children:"Please wait while your answers are uploaded."}),k.jsx(Gl,{h:"lg"}),k.jsx(zu,{children:k.jsx(Bh,{color:"blue"})})]})})})}function nyt(){return k.jsx(Fe,{children:"Thank you for participating. Unfortunately you have didn't answer the training correctly, which means you are not eligible to participate in the study. You may close this window now."})}function ryt(){return k.jsx(Fe,{children:"Thank you for participating. Unfortunately, you have not answered the questions within the given time limit. Because of this, you are no longer eligible to participate in the study. You may close this window now."})}const Mle={};function Zj(e,t){e===void 0&&(e=Mle),t===void 0&&(t=Mle);const n=Object.keys(e),r=Object.keys(t);return e===t||n.length===r.length&&n.every(i=>e[i]===t[i])}const iyt=/("(?:[^\\"]|\\.)*")|[:,]/g;function e6(e,t={}){const n=JSON.stringify([1],void 0,t.indent===void 0?2:t.indent).slice(2,-3),r=n===""?1/0:t.maxLength===void 0?80:t.maxLength;let{replacer:i}=t;return function o(s,a,l){s&&typeof s.toJSON=="function"&&(s=s.toJSON());const u=JSON.stringify(s,i);if(u===void 0)return u;const c=r-a.length-l;if(u.length<=c){const d=u.replace(iyt,(h,f)=>f||`${h} `);if(d.length<=c)return d}if(i!=null&&(s=JSON.parse(u),i=void 0),typeof s=="object"&&s!==null){const d=a+n,h=[];let f=0,p,m;if(Array.isArray(s)){p="[",m="]";const{length:g}=s;for(;f<g;f++)h.push(o(s[f],d,f===g-1?0:1)||"null")}else{p="{",m="}";const g=Object.keys(s),{length:y}=g;for(;f<y;f++){const v=g[f],b=`${JSON.stringify(v)}: `,_=o(s[v],d,b.length+(f===y-1?0:1));_!==void 0&&h.push(b+_)}}if(h.length>0)return[p,n+h.join(`,
${d}`),m].join(`
${a}`)}return u}(e,"",0)}function Al(e,t,n){return e.fields=t||[],e.fname=n,e}function _i(e){return e==null?null:e.fname}function Qs(e){return e==null?null:e.fields}function zTe(e){return e.length===1?oyt(e[0]):syt(e)}const oyt=e=>function(t){return t[e]},syt=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function Re(e){throw Error(e)}function Vh(e){const t=[],n=e.length;let r=null,i=0,o="",s,a,l;e=e+"";function u(){t.push(o+e.substring(s,a)),o="",s=a+1}for(s=a=0;a<n;++a)if(l=e[a],l==="\\")o+=e.substring(s,a++),s=a;else if(l===r)u(),r=null,i=-1;else{if(r)continue;s===i&&l==='"'||s===i&&l==="'"?(s=a+1,r=l):l==="."&&!i?a>s?u():s=a+1:l==="["?(a>s&&u(),i=s=a+1):l==="]"&&(i||Re("Access path missing open bracket: "+e),i>0&&u(),i=0,s=a+1)}return i&&Re("Access path missing closing bracket: "+e),r&&Re("Access path missing closing quote: "+e),a>s&&(a++,u()),t}function Vu(e,t,n){const r=Vh(e);return e=r.length===1?r[0]:e,Al((n&&n.get||zTe)(r),[e],t||e)}const h2=Vu("id"),sa=Al(e=>e,[],"identity"),$m=Al(()=>0,[],"zero"),w_=Al(()=>1,[],"one"),Wu=Al(()=>!0,[],"true"),dm=Al(()=>!1,[],"false");function ayt(e,t,n){const r=[t].concat([].slice.call(n));console[e].apply(console,r)}const UTe=0,nY=1,rY=2,HTe=3,VTe=4;function iY(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ayt,r=e||UTe;return{level(i){return arguments.length?(r=+i,this):r},error(){return r>=nY&&n(t||"error","ERROR",arguments),this},warn(){return r>=rY&&n(t||"warn","WARN",arguments),this},info(){return r>=HTe&&n(t||"log","INFO",arguments),this},debug(){return r>=VTe&&n(t||"log","DEBUG",arguments),this}}}var Pe=Array.isArray;function wt(e){return e===Object(e)}const Ple=e=>e!=="__proto__";function x_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,i)=>{for(const o in i)if(o==="signals")r.signals=lyt(r.signals,i.signals);else{const s=o==="legend"?{layout:1}:o==="style"?!0:null;__(r,o,i[o],s)}return r},{})}function __(e,t,n,r){if(!Ple(t))return;let i,o;if(wt(n)&&!Pe(n)){o=wt(e[t])?e[t]:e[t]={};for(i in n)r&&(r===!0||r[i])?__(o,i,n[i]):Ple(i)&&(o[i]=n[i])}else e[t]=n}function lyt(e,t){if(e==null)return t;const n={},r=[];function i(o){n[o.name]||(n[o.name]=1,r.push(o))}return t.forEach(i),e.forEach(i),r}function zn(e){return e[e.length-1]}function Ks(e){return e==null||e===""?null:+e}const WTe=e=>t=>e*Math.exp(t),qTe=e=>t=>Math.log(e*t),GTe=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),YTe=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,dD=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function qN(e,t,n,r){const i=n(e[0]),o=n(zn(e)),s=(o-i)*t;return[r(i-s),r(o-s)]}function KTe(e,t){return qN(e,t,Ks,sa)}function XTe(e,t){var n=Math.sign(e[0]);return qN(e,t,qTe(n),WTe(n))}function QTe(e,t,n){return qN(e,t,dD(n),dD(1/n))}function JTe(e,t,n){return qN(e,t,GTe(n),YTe(n))}function GN(e,t,n,r,i){const o=r(e[0]),s=r(zn(e)),a=t!=null?r(t):(o+s)/2;return[i(a+(o-a)*n),i(a+(s-a)*n)]}function oY(e,t,n){return GN(e,t,n,Ks,sa)}function sY(e,t,n){const r=Math.sign(e[0]);return GN(e,t,n,qTe(r),WTe(r))}function hD(e,t,n,r){return GN(e,t,n,dD(r),dD(1/r))}function aY(e,t,n,r){return GN(e,t,n,GTe(r),YTe(r))}function ZTe(e){return 1+~~(new Date(e).getMonth()/3)}function eCe(e){return 1+~~(new Date(e).getUTCMonth()/3)}function _t(e){return e!=null?Pe(e)?e:[e]:[]}function tCe(e,t,n){let r=e[0],i=e[1],o;return i<r&&(o=i,i=r,r=o),o=i-r,o>=n-t?[t,n]:[r=Math.min(Math.max(r,t),n-o),r+o]}function vn(e){return typeof e=="function"}const uyt="descending";function lY(e,t,n){n=n||{},t=_t(t)||[];const r=[],i=[],o={},s=n.comparator||cyt;return _t(e).forEach((a,l)=>{a!=null&&(r.push(t[l]===uyt?-1:1),i.push(a=vn(a)?a:Vu(a,null,n)),(Qs(a)||[]).forEach(u=>o[u]=1))}),i.length===0?null:Al(s(i,r),Object.keys(o))}const E_=(e,t)=>(e<t||e==null)&&t!=null?-1:(e>t||t==null)&&e!=null?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0),cyt=(e,t)=>e.length===1?dyt(e[0],t[0]):hyt(e,t,e.length),dyt=(e,t)=>function(n,r){return E_(e(n),e(r))*t},hyt=(e,t,n)=>(t.push(0),function(r,i){let o,s=0,a=-1;for(;s===0&&++a<n;)o=e[a],s=E_(o(r),o(i));return s*t[a]});function aa(e){return vn(e)?e:()=>e}function uY(e,t){let n;return r=>{n&&clearTimeout(n),n=setTimeout(()=>(t(r),n=null),e)}}function yn(e){for(let t,n,r=1,i=arguments.length;r<i;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e}function Ah(e,t){let n=0,r,i,o,s;if(e&&(r=e.length))if(t==null){for(i=e[n];n<r&&(i==null||i!==i);i=e[++n]);for(o=s=i;n<r;++n)i=e[n],i!=null&&(i<o&&(o=i),i>s&&(s=i))}else{for(i=t(e[n]);n<r&&(i==null||i!==i);i=t(e[++n]));for(o=s=i;n<r;++n)i=t(e[n]),i!=null&&(i<o&&(o=i),i>s&&(s=i))}return[o,s]}function nCe(e,t){const n=e.length;let r=-1,i,o,s,a,l;if(t==null){for(;++r<n;)if(o=e[r],o!=null&&o>=o){i=s=o;break}if(r===n)return[-1,-1];for(a=l=r;++r<n;)o=e[r],o!=null&&(i>o&&(i=o,a=r),s<o&&(s=o,l=r))}else{for(;++r<n;)if(o=t(e[r],r,e),o!=null&&o>=o){i=s=o;break}if(r===n)return[-1,-1];for(a=l=r;++r<n;)o=t(e[r],r,e),o!=null&&(i>o&&(i=o,a=r),s<o&&(s=o,l=r))}return[a,l]}function Tt(e,t){return Object.hasOwn(e,t)}const f3={};function S_(e){let t={},n;function r(o){return Tt(t,o)&&t[o]!==f3}const i={size:0,empty:0,object:t,has:r,get(o){return r(o)?t[o]:void 0},set(o,s){return r(o)||(++i.size,t[o]===f3&&--i.empty),t[o]=s,this},delete(o){return r(o)&&(--i.size,++i.empty,t[o]=f3),this},clear(){i.size=i.empty=0,i.object=t={}},test(o){return arguments.length?(n=o,i):n},clean(){const o={};let s=0;for(const a in t){const l=t[a];l!==f3&&(!n||!n(l))&&(o[a]=l,++s)}i.size=s,i.empty=0,i.object=t=o}};return e&&Object.keys(e).forEach(o=>{i.set(o,e[o])}),i}function rCe(e,t,n,r,i,o){if(!n&&n!==0)return o;const s=+n;let a=e[0],l=zn(e),u;l<a&&(u=a,a=l,l=u),u=Math.abs(t-a);const c=Math.abs(l-t);return u<c&&u<=s?r:c<=s?i:o}function dt(e,t,n){const r=e.prototype=Object.create(t.prototype);return Object.defineProperty(r,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),yn(r,n)}function N1(e,t,n,r){let i=t[0],o=t[t.length-1],s;return i>o&&(s=i,i=o,o=s),n=n===void 0||n,r=r===void 0||r,(n?i<=e:i<e)&&(r?e<=o:e<o)}function u0(e){return typeof e=="boolean"}function ug(e){return Object.prototype.toString.call(e)==="[object Date]"}function iCe(e){return e&&vn(e[Symbol.iterator])}function er(e){return typeof e=="number"}function cY(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function xt(e){return typeof e=="string"}function dY(e,t,n){e&&(e=t?_t(e).map(a=>a.replace(/\\(.)/g,"$1")):_t(e));const r=e&&e.length,i=n&&n.get||zTe,o=a=>i(t?[a]:Vh(a));let s;if(!r)s=function(){return""};else if(r===1){const a=o(e[0]);s=function(l){return""+a(l)}}else{const a=e.map(o);s=function(l){let u=""+a[0](l),c=0;for(;++c<r;)u+="|"+a[c](l);return u}}return Al(s,e,"key")}function oCe(e,t){const n=e[0],r=zn(e),i=+t;return i?i===1?r:n+i*(r-n):n}const fyt=1e4;function sCe(e){e=+e||fyt;let t,n,r;const i=()=>{t={},n={},r=0},o=(s,a)=>(++r>e&&(n=t,t={},r=1),t[s]=a);return i(),{clear:i,has:s=>Tt(t,s)||Tt(n,s),get:s=>Tt(t,s)?t[s]:Tt(n,s)?o(s,n[s]):void 0,set:(s,a)=>Tt(t,s)?t[s]=a:o(s,a)}}function aCe(e,t,n,r){const i=t.length,o=n.length;if(!o)return t;if(!i)return n;const s=r||new t.constructor(i+o);let a=0,l=0,u=0;for(;a<i&&l<o;++u)s[u]=e(t[a],n[l])>0?n[l++]:t[a++];for(;a<i;++a,++u)s[u]=t[a];for(;l<o;++l,++u)s[u]=n[l];return s}function fS(e,t){let n="";for(;--t>=0;)n+=e;return n}function lCe(e,t,n,r){const i=n||" ",o=e+"",s=t-o.length;return s<=0?o:r==="left"?fS(i,s)+o:r==="center"?fS(i,~~(s/2))+o+fS(i,Math.ceil(s/2)):o+fS(i,s)}function f2(e){return e&&zn(e)-e[0]||0}function ot(e){return Pe(e)?"["+e.map(ot)+"]":wt(e)||xt(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function hY(e){return e==null||e===""?null:!e||e==="false"||e==="0"?!1:!!e}const pyt=e=>er(e)||ug(e)?e:Date.parse(e);function fY(e,t){return t=t||pyt,e==null||e===""?null:t(e)}function pY(e){return e==null||e===""?null:e+""}function id(e){const t={},n=e.length;for(let r=0;r<n;++r)t[e[r]]=!0;return t}function uCe(e,t,n,r){const i=r??"",o=e+"",s=o.length,a=Math.max(0,t-i.length);return s<=t?o:n==="left"?i+o.slice(s-a):n==="center"?o.slice(0,Math.ceil(a/2))+i+o.slice(s-~~(a/2)):o.slice(0,a)+i}function ym(e,t,n){if(e)if(t){const r=e.length;for(let i=0;i<r;++i){const o=t(e[i]);o&&n(o,i,e)}}else e.forEach(n)}var Nle={},t6={},n6=34,wE=10,r6=13;function cCe(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function myt(e,t){var n=cCe(e);return function(r,i){return t(n(r),i,e)}}function Ole(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function Ka(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function gyt(e){return e<0?"-"+Ka(-e,6):e>9999?"+"+Ka(e,6):Ka(e,4)}function yyt(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":gyt(e.getUTCFullYear())+"-"+Ka(e.getUTCMonth()+1,2)+"-"+Ka(e.getUTCDate(),2)+(i?"T"+Ka(t,2)+":"+Ka(n,2)+":"+Ka(r,2)+"."+Ka(i,3)+"Z":r?"T"+Ka(t,2)+":"+Ka(n,2)+":"+Ka(r,2)+"Z":n||t?"T"+Ka(t,2)+":"+Ka(n,2)+"Z":"")}function vyt(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(d,h){var f,p,m=i(d,function(g,y){if(f)return f(g,y-1);p=g,f=h?myt(g,h):cCe(g)});return m.columns=p||[],m}function i(d,h){var f=[],p=d.length,m=0,g=0,y,v=p<=0,b=!1;d.charCodeAt(p-1)===wE&&--p,d.charCodeAt(p-1)===r6&&--p;function _(){if(v)return t6;if(b)return b=!1,Nle;var w,E=m,S;if(d.charCodeAt(E)===n6){for(;m++<p&&d.charCodeAt(m)!==n6||d.charCodeAt(++m)===n6;);return(w=m)>=p?v=!0:(S=d.charCodeAt(m++))===wE?b=!0:S===r6&&(b=!0,d.charCodeAt(m)===wE&&++m),d.slice(E+1,w-1).replace(/""/g,'"')}for(;m<p;){if((S=d.charCodeAt(w=m++))===wE)b=!0;else if(S===r6)b=!0,d.charCodeAt(m)===wE&&++m;else if(S!==n)continue;return d.slice(E,w)}return v=!0,d.slice(E,p)}for(;(y=_())!==t6;){for(var x=[];y!==Nle&&y!==t6;)x.push(y),y=_();h&&(x=h(x,g++))==null||f.push(x)}return f}function o(d,h){return d.map(function(f){return h.map(function(p){return c(f[p])}).join(e)})}function s(d,h){return h==null&&(h=Ole(d)),[h.map(c).join(e)].concat(o(d,h)).join(`
`)}function a(d,h){return h==null&&(h=Ole(d)),o(d,h).join(`
`)}function l(d){return d.map(u).join(`
`)}function u(d){return d.map(c).join(e)}function c(d){return d==null?"":d instanceof Date?yyt(d):t.test(d+="")?'"'+d.replace(/"/g,'""')+'"':d}return{parse:r,parseRows:i,format:s,formatBody:a,formatRows:l,formatRow:u,formatValue:c}}function byt(e){return e}function wyt(e){if(e==null)return byt;var t,n,r=e.scale[0],i=e.scale[1],o=e.translate[0],s=e.translate[1];return function(a,l){l||(t=n=0);var u=2,c=a.length,d=new Array(c);for(d[0]=(t+=a[0])*r+o,d[1]=(n+=a[1])*i+s;u<c;)d[u]=a[u],++u;return d}}function xyt(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}function _yt(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return Lle(e,n)})}:Lle(e,t)}function Lle(e,t){var n=t.id,r=t.bbox,i=t.properties==null?{}:t.properties,o=dCe(e,t);return n==null&&r==null?{type:"Feature",properties:i,geometry:o}:r==null?{type:"Feature",id:n,properties:i,geometry:o}:{type:"Feature",id:n,bbox:r,properties:i,geometry:o}}function dCe(e,t){var n=wyt(e.transform),r=e.arcs;function i(c,d){d.length&&d.pop();for(var h=r[c<0?~c:c],f=0,p=h.length;f<p;++f)d.push(n(h[f],f));c<0&&xyt(d,p)}function o(c){return n(c)}function s(c){for(var d=[],h=0,f=c.length;h<f;++h)i(c[h],d);return d.length<2&&d.push(d[0]),d}function a(c){for(var d=s(c);d.length<4;)d.push(d[0]);return d}function l(c){return c.map(a)}function u(c){var d=c.type,h;switch(d){case"GeometryCollection":return{type:d,geometries:c.geometries.map(u)};case"Point":h=o(c.coordinates);break;case"MultiPoint":h=c.coordinates.map(o);break;case"LineString":h=s(c.arcs);break;case"MultiLineString":h=c.arcs.map(s);break;case"Polygon":h=l(c.arcs);break;case"MultiPolygon":h=c.arcs.map(l);break;default:return null}return{type:d,coordinates:h}}return u(t)}function Eyt(e,t){var n={},r={},i={},o=[],s=-1;t.forEach(function(u,c){var d=e.arcs[u<0?~u:u],h;d.length<3&&!d[1][0]&&!d[1][1]&&(h=t[++s],t[s]=u,t[c]=h)}),t.forEach(function(u){var c=a(u),d=c[0],h=c[1],f,p;if(f=i[d])if(delete i[f.end],f.push(u),f.end=h,p=r[h]){delete r[p.start];var m=p===f?f:f.concat(p);r[m.start=f.start]=i[m.end=p.end]=m}else r[f.start]=i[f.end]=f;else if(f=r[h])if(delete r[f.start],f.unshift(u),f.start=d,p=i[d]){delete i[p.end];var g=p===f?f:p.concat(f);r[g.start=p.start]=i[g.end=f.end]=g}else r[f.start]=i[f.end]=f;else f=[u],r[f.start=d]=i[f.end=h]=f});function a(u){var c=e.arcs[u<0?~u:u],d=c[0],h;return e.transform?(h=[0,0],c.forEach(function(f){h[0]+=f[0],h[1]+=f[1]})):h=c[c.length-1],u<0?[h,d]:[d,h]}function l(u,c){for(var d in u){var h=u[d];delete c[h.start],delete h.start,delete h.end,h.forEach(function(f){n[f<0?~f:f]=1}),o.push(h)}}return l(i,r),l(r,i),t.forEach(function(u){n[u<0?~u:u]||o.push([u])}),o}function Syt(e){return dCe(e,Tyt.apply(this,arguments))}function Tyt(e,t,n){var r,i,o;if(arguments.length>1)r=Cyt(e,t,n);else for(i=0,r=new Array(o=e.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:Eyt(e,r)}}function Cyt(e,t,n){var r=[],i=[],o;function s(d){var h=d<0?~d:d;(i[h]||(i[h]=[])).push({i:d,g:o})}function a(d){d.forEach(s)}function l(d){d.forEach(a)}function u(d){d.forEach(l)}function c(d){switch(o=d,d.type){case"GeometryCollection":d.geometries.forEach(c);break;case"LineString":a(d.arcs);break;case"MultiLineString":case"Polygon":l(d.arcs);break;case"MultiPolygon":u(d.arcs);break}}return c(t),i.forEach(n==null?function(d){r.push(d[0].i)}:function(d){n(d[0].g,d[d.length-1].g)&&r.push(d[0].i)}),r}function Zf(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ayt(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function T_(e){let t,n,r;e.length!==2?(t=Zf,n=(a,l)=>Zf(e(a),l),r=(a,l)=>e(a)-l):(t=e===Zf||e===Ayt?e:kyt,n=e,r=e);function i(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;n(a[d],l)<0?u=d+1:c=d}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;n(a[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function s(a,l,u=0,c=a.length){const d=i(a,l,u,c-1);return d>u&&r(a[d-1],l)>-r(a[d],l)?d-1:d}return{left:i,center:s,right:o}}function kyt(){return 0}function hCe(e){return e===null?NaN:+e}function*Iyt(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const fCe=T_(Zf),Dg=fCe.right,Ryt=fCe.left;T_(hCe).center;function $yt(e,t){let n=0,r,i=0,o=0;if(t===void 0)for(let s of e)s!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,o+=r*(s-i));else{let s=-1;for(let a of e)(a=t(a,++s,e))!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,o+=r*(a-i))}if(n>1)return o/(n-1)}function Dyt(e,t){const n=$yt(e,t);return n&&Math.sqrt(n)}function Myt(e,t){let n,r;for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));return[n,r]}class $a{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=n[i],s=t+o,a=Math.abs(t)<Math.abs(o)?t-(s-o):o-(s-t);a&&(n[r++]=a),t=s}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,o,s=0;if(n>0){for(s=t[--n];n>0&&(r=s,i=t[--n],s=r+i,o=i-(s-r),!o););n>0&&(o<0&&t[n-1]<0||o>0&&t[n-1]>0)&&(i=o*2,r=s+i,i==r-s&&(s=r))}return s}}class Fle extends Map{constructor(t,n=gCe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(e7(this,t))}has(t){return super.has(e7(this,t))}set(t,n){return super.set(pCe(this,t),n)}delete(t){return super.delete(mCe(this,t))}}class fD extends Set{constructor(t,n=gCe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(e7(this,t))}add(t){return super.add(pCe(this,t))}delete(t){return super.delete(mCe(this,t))}}function e7({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function pCe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function mCe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function gCe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Pyt(e,t){return Array.from(t,n=>e[n])}function Nyt(e=Zf){if(e===Zf)return yCe;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function yCe(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Oyt=Math.sqrt(50),Lyt=Math.sqrt(10),Fyt=Math.sqrt(2);function pD(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=Oyt?10:o>=Lyt?5:o>=Fyt?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(e*u),l=Math.round(t*u),a/u<e&&++a,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(e/u),l=Math.round(t/u),a*u<e&&++a,l*u>t&&--l),l<a&&.5<=n&&n<2?pD(e,t,n*2):[a,l,u]}function t7(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,s]=r?pD(t,e,n):pD(e,t,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function n7(e,t,n){return t=+t,e=+e,n=+n,pD(e,t,n)[2]}function Mg(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?n7(t,e,n):n7(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Oy(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function r7(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function vCe(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?yCe:Nyt(i);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,c=Math.log(l),d=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),f=Math.max(n,Math.floor(t-u*d/l+h)),p=Math.min(r,Math.floor(t+(l-u)*d/l+h));vCe(e,t,f,p,i)}const o=e[t];let s=n,a=r;for(xE(e,n,t),i(e[r],o)>0&&xE(e,n,r);s<a;){for(xE(e,s,a),++s,--a;i(e[s],o)<0;)++s;for(;i(e[a],o)>0;)--a}i(e[n],o)===0?xE(e,n,a):(++a,xE(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}return e}function xE(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function i7(e,t,n){if(e=Float64Array.from(Iyt(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return r7(e);if(t>=1)return Oy(e);var r,i=(r-1)*t,o=Math.floor(i),s=Oy(vCe(e,o).subarray(0,o+1)),a=r7(e.subarray(o+1));return s+(a-s)*(i-o)}}function bCe(e,t,n=hCe){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),s=+n(e[o],o,e),a=+n(e[o+1],o+1,e);return s+(a-s)*(i-o)}}function Byt(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function wCe(e,t){return i7(e,.5,t)}function*jyt(e){for(const t of e)yield*t}function xCe(e){return Array.from(jyt(e))}function Ul(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function _Ce(e,t){let n=0;for(let r of e)(r=+r)&&(n+=r);return n}function zyt(e,...t){e=new fD(e),t=t.map(Uyt);e:for(const n of e)for(const r of t)if(!r.has(n)){e.delete(n);continue e}return e}function Uyt(e){return e instanceof fD?e:new fD(e)}function Hyt(...e){const t=new fD;for(const n of e)for(const r of n)t.add(r);return t}function Vyt(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function mD(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Gw(e){return e=mD(Math.abs(e)),e?e[1]:NaN}function Wyt(e,t){return function(n,r){for(var i=n.length,o=[],s=0,a=e[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=e[s=(s+1)%e.length];return o.reverse().join(t)}}function qyt(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Gyt=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function cv(e){if(!(t=Gyt.exec(e)))throw new Error("invalid format: "+e);var t;return new mY({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}cv.prototype=mY.prototype;function mY(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}mY.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Yyt(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var ECe;function Kyt(e,t){var n=mD(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(ECe=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+mD(e,Math.max(0,t+o-1))[0]}function Ble(e,t){var n=mD(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const jle={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Vyt,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Ble(e*100,t),r:Ble,s:Kyt,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function zle(e){return e}var Ule=Array.prototype.map,Hle=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function SCe(e){var t=e.grouping===void 0||e.thousands===void 0?zle:Wyt(Ule.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?zle:qyt(Ule.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(d){d=cv(d);var h=d.fill,f=d.align,p=d.sign,m=d.symbol,g=d.zero,y=d.width,v=d.comma,b=d.precision,_=d.trim,x=d.type;x==="n"?(v=!0,x="g"):jle[x]||(b===void 0&&(b=12),_=!0,x="g"),(g||h==="0"&&f==="=")&&(g=!0,h="0",f="=");var w=m==="$"?n:m==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",E=m==="$"?r:/[%p]/.test(x)?s:"",S=jle[x],T=/[defgprs%]/.test(x);b=b===void 0?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function C(D){var $=w,I=E,R,A,M;if(x==="c")I=S(D)+I,D="";else{D=+D;var N=D<0||1/D<0;if(D=isNaN(D)?l:S(Math.abs(D),b),_&&(D=Yyt(D)),N&&+D==0&&p!=="+"&&(N=!1),$=(N?p==="("?p:a:p==="-"||p==="("?"":p)+$,I=(x==="s"?Hle[8+ECe/3]:"")+I+(N&&p==="("?")":""),T){for(R=-1,A=D.length;++R<A;)if(M=D.charCodeAt(R),48>M||M>57){I=(M===46?i+D.slice(R+1):D.slice(R))+I,D=D.slice(0,R);break}}}v&&!g&&(D=t(D,1/0));var L=$.length+D.length+I.length,z=L<y?new Array(y-L+1).join(h):"";switch(v&&g&&(D=t(z+D,z.length?y-I.length:1/0),z=""),f){case"<":D=$+D+I+z;break;case"=":D=$+z+D+I;break;case"^":D=z.slice(0,L=z.length>>1)+$+D+I+z.slice(L);break;default:D=z+$+D+I;break}return o(D)}return C.toString=function(){return d+""},C}function c(d,h){var f=u((d=cv(d),d.type="f",d)),p=Math.max(-8,Math.min(8,Math.floor(Gw(h)/3)))*3,m=Math.pow(10,-p),g=Hle[8+p/3];return function(y){return f(m*y)+g}}return{format:u,formatPrefix:c}}var p3,YN,gY;Xyt({thousands:",",grouping:[3],currency:["$",""]});function Xyt(e){return p3=SCe(e),YN=p3.format,gY=p3.formatPrefix,p3}function TCe(e){return Math.max(0,-Gw(Math.abs(e)))}function CCe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Gw(t)/3)))*3-Gw(Math.abs(e)))}function ACe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Gw(t)-Gw(e))+1}const i6=new Date,o6=new Date;function fo(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(t(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let u;do l.push(u=new Date(+o)),t(o,a),e(o);while(u<o&&o<s);return l},i.filter=o=>fo(s=>{if(s>=s)for(;e(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;t(s,-1),!o(s););else for(;--a>=0;)for(;t(s,1),!o(s););}),n&&(i.count=(o,s)=>(i6.setTime(+o),o6.setTime(+s),e(i6),e(o6),Math.floor(n(i6,o6))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const Yw=fo(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Yw.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?fo(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Yw);Yw.range;const jf=1e3,Ru=jf*60,zf=Ru*60,Ap=zf*24,yY=Ap*7,Vle=Ap*30,s6=Ap*365,Uf=fo(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*jf)},(e,t)=>(t-e)/jf,e=>e.getUTCSeconds());Uf.range;const KN=fo(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*jf)},(e,t)=>{e.setTime(+e+t*Ru)},(e,t)=>(t-e)/Ru,e=>e.getMinutes());KN.range;const XN=fo(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ru)},(e,t)=>(t-e)/Ru,e=>e.getUTCMinutes());XN.range;const QN=fo(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*jf-e.getMinutes()*Ru)},(e,t)=>{e.setTime(+e+t*zf)},(e,t)=>(t-e)/zf,e=>e.getHours());QN.range;const JN=fo(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*zf)},(e,t)=>(t-e)/zf,e=>e.getUTCHours());JN.range;const ep=fo(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ru)/Ap,e=>e.getDate()-1);ep.range;const cg=fo(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ap,e=>e.getUTCDate()-1);cg.range;const kCe=fo(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ap,e=>Math.floor(e/Ap));kCe.range;function ub(e){return fo(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ru)/yY)}const C_=ub(0),gD=ub(1),Qyt=ub(2),Jyt=ub(3),Kw=ub(4),Zyt=ub(5),evt=ub(6);C_.range;gD.range;Qyt.range;Jyt.range;Kw.range;Zyt.range;evt.range;function cb(e){return fo(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/yY)}const A_=cb(0),yD=cb(1),tvt=cb(2),nvt=cb(3),Xw=cb(4),rvt=cb(5),ivt=cb(6);A_.range;yD.range;tvt.range;nvt.range;Xw.range;rvt.range;ivt.range;const NC=fo(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());NC.range;const OC=fo(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());OC.range;const kh=fo(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());kh.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:fo(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});kh.range;const Ih=fo(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ih.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:fo(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Ih.range;function ICe(e,t,n,r,i,o){const s=[[Uf,1,jf],[Uf,5,5*jf],[Uf,15,15*jf],[Uf,30,30*jf],[o,1,Ru],[o,5,5*Ru],[o,15,15*Ru],[o,30,30*Ru],[i,1,zf],[i,3,3*zf],[i,6,6*zf],[i,12,12*zf],[r,1,Ap],[r,2,2*Ap],[n,1,yY],[t,1,Vle],[t,3,3*Vle],[e,1,s6]];function a(u,c,d){const h=c<u;h&&([u,c]=[c,u]);const f=d&&typeof d.range=="function"?d:l(u,c,d),p=f?f.range(u,+c+1):[];return h?p.reverse():p}function l(u,c,d){const h=Math.abs(c-u)/d,f=T_(([,,g])=>g).right(s,h);if(f===s.length)return e.every(Mg(u/s6,c/s6,d));if(f===0)return Yw.every(Math.max(Mg(u,c,d),1));const[p,m]=s[h/s[f-1][2]<s[f][2]/h?f-1:f];return p.every(m)}return[a,l]}const[ovt,svt]=ICe(Ih,OC,A_,kCe,JN,XN),[avt,lvt]=ICe(kh,NC,C_,ep,QN,KN),fs="year",bl="quarter",Js="month",oo="week",wl="date",Gs="day",Rh="dayofyear",lu="hours",uu="minutes",qu="seconds",od="milliseconds",vY=[fs,bl,Js,oo,wl,Gs,Rh,lu,uu,qu,od],a6=vY.reduce((e,t,n)=>(e[t]=1+n,e),{});function bY(e){const t=_t(e).slice(),n={};return t.length||Re("Missing time unit."),t.forEach(i=>{Tt(a6,i)?n[i]=1:Re(`Invalid time unit: ${i}.`)}),(n[oo]||n[Gs]?1:0)+(n[bl]||n[Js]||n[wl]?1:0)+(n[Rh]?1:0)>1&&Re(`Incompatible time units: ${e}`),t.sort((i,o)=>a6[i]-a6[o]),t}const uvt={[fs]:"%Y ",[bl]:"Q%q ",[Js]:"%b ",[wl]:"%d ",[oo]:"W%U ",[Gs]:"%a ",[Rh]:"%j ",[lu]:"%H:00",[uu]:"00:%M",[qu]:":%S",[od]:".%L",[`${fs}-${Js}`]:"%Y-%m ",[`${fs}-${Js}-${wl}`]:"%Y-%m-%d ",[`${lu}-${uu}`]:"%H:%M"};function RCe(e,t){const n=yn({},uvt,t),r=bY(e),i=r.length;let o="",s=0,a,l;for(s=0;s<i;)for(a=r.length;a>s;--a)if(l=r.slice(s,a).join("-"),n[l]!=null){o+=n[l],s=a;break}return o.trim()}const ay=new Date;function wY(e){return ay.setFullYear(e),ay.setMonth(0),ay.setDate(1),ay.setHours(0,0,0,0),ay}function $Ce(e){return MCe(new Date(e))}function DCe(e){return o7(new Date(e))}function MCe(e){return ep.count(wY(e.getFullYear())-1,e)}function o7(e){return C_.count(wY(e.getFullYear())-1,e)}function s7(e){return wY(e).getDay()}function cvt(e,t,n,r,i,o,s){if(0<=e&&e<100){const a=new Date(-1,t,n,r,i,o,s);return a.setFullYear(e),a}return new Date(e,t,n,r,i,o,s)}function PCe(e){return OCe(new Date(e))}function NCe(e){return a7(new Date(e))}function OCe(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return cg.count(t-1,e)}function a7(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return A_.count(t-1,e)}function l7(e){return ay.setTime(Date.UTC(e,0,1)),ay.getUTCDay()}function dvt(e,t,n,r,i,o,s){if(0<=e&&e<100){const a=new Date(Date.UTC(-1,t,n,r,i,o,s));return a.setUTCFullYear(n.y),a}return new Date(Date.UTC(e,t,n,r,i,o,s))}function LCe(e,t,n,r,i){const o=t||1,s=zn(e),a=(y,v,b)=>(b=b||y,hvt(n[b],r[b],y===s&&o,v)),l=new Date,u=id(e),c=u[fs]?a(fs):aa(2012),d=u[Js]?a(Js):u[bl]?a(bl):$m,h=u[oo]&&u[Gs]?a(Gs,1,oo+Gs):u[oo]?a(oo,1):u[Gs]?a(Gs,1):u[wl]?a(wl,1):u[Rh]?a(Rh,1):w_,f=u[lu]?a(lu):$m,p=u[uu]?a(uu):$m,m=u[qu]?a(qu):$m,g=u[od]?a(od):$m;return function(y){l.setTime(+y);const v=c(l);return i(v,d(l),h(l,v),f(l),p(l),m(l),g(l))}}function hvt(e,t,n,r){const i=n<=1?e:r?(o,s)=>r+n*Math.floor((e(o,s)-r)/n):(o,s)=>n*Math.floor(e(o,s)/n);return t?(o,s)=>t(i(o,s),s):i}function Qw(e,t,n){return t+e*7-(n+6)%7}const fvt={[fs]:e=>e.getFullYear(),[bl]:e=>Math.floor(e.getMonth()/3),[Js]:e=>e.getMonth(),[wl]:e=>e.getDate(),[lu]:e=>e.getHours(),[uu]:e=>e.getMinutes(),[qu]:e=>e.getSeconds(),[od]:e=>e.getMilliseconds(),[Rh]:e=>MCe(e),[oo]:e=>o7(e),[oo+Gs]:(e,t)=>Qw(o7(e),e.getDay(),s7(t)),[Gs]:(e,t)=>Qw(1,e.getDay(),s7(t))},pvt={[bl]:e=>3*e,[oo]:(e,t)=>Qw(e,0,s7(t))};function FCe(e,t){return LCe(e,t||1,fvt,pvt,cvt)}const mvt={[fs]:e=>e.getUTCFullYear(),[bl]:e=>Math.floor(e.getUTCMonth()/3),[Js]:e=>e.getUTCMonth(),[wl]:e=>e.getUTCDate(),[lu]:e=>e.getUTCHours(),[uu]:e=>e.getUTCMinutes(),[qu]:e=>e.getUTCSeconds(),[od]:e=>e.getUTCMilliseconds(),[Rh]:e=>OCe(e),[oo]:e=>a7(e),[Gs]:(e,t)=>Qw(1,e.getUTCDay(),l7(t)),[oo+Gs]:(e,t)=>Qw(a7(e),e.getUTCDay(),l7(t))},gvt={[bl]:e=>3*e,[oo]:(e,t)=>Qw(e,0,l7(t))};function BCe(e,t){return LCe(e,t||1,mvt,gvt,dvt)}const yvt={[fs]:kh,[bl]:NC.every(3),[Js]:NC,[oo]:C_,[wl]:ep,[Gs]:ep,[Rh]:ep,[lu]:QN,[uu]:KN,[qu]:Uf,[od]:Yw},vvt={[fs]:Ih,[bl]:OC.every(3),[Js]:OC,[oo]:A_,[wl]:cg,[Gs]:cg,[Rh]:cg,[lu]:JN,[uu]:XN,[qu]:Uf,[od]:Yw};function k_(e){return yvt[e]}function I_(e){return vvt[e]}function jCe(e,t,n){return e?e.offset(t,n):void 0}function zCe(e,t,n){return jCe(k_(e),t,n)}function UCe(e,t,n){return jCe(I_(e),t,n)}function HCe(e,t,n,r){return e?e.range(t,n,r):void 0}function VCe(e,t,n,r){return HCe(k_(e),t,n,r)}function WCe(e,t,n,r){return HCe(I_(e),t,n,r)}const pS=1e3,mS=pS*60,gS=mS*60,ZN=gS*24,bvt=ZN*7,Wle=ZN*30,u7=ZN*365,qCe=[fs,Js,wl,lu,uu,qu,od],yS=qCe.slice(0,-1),vS=yS.slice(0,-1),bS=vS.slice(0,-1),wvt=bS.slice(0,-1),xvt=[fs,oo],qle=[fs,Js],GCe=[fs],_E=[[yS,1,pS],[yS,5,5*pS],[yS,15,15*pS],[yS,30,30*pS],[vS,1,mS],[vS,5,5*mS],[vS,15,15*mS],[vS,30,30*mS],[bS,1,gS],[bS,3,3*gS],[bS,6,6*gS],[bS,12,12*gS],[wvt,1,ZN],[xvt,1,bvt],[qle,1,Wle],[qle,3,3*Wle],[GCe,1,u7]];function YCe(e){const t=e.extent,n=e.maxbins||40,r=Math.abs(f2(t))/n;let i=T_(a=>a[2]).right(_E,r),o,s;return i===_E.length?(o=GCe,s=Mg(t[0]/u7,t[1]/u7,n)):i?(i=_E[r/_E[i-1][2]<_E[i][2]/r?i-1:i],o=i[0],s=i[1]):(o=qCe,s=Math.max(Mg(t[0],t[1],n),1)),{units:o,step:s}}function l6(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function u6(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function EE(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function KCe(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,s=e.shortDays,a=e.months,l=e.shortMonths,u=SE(i),c=TE(i),d=SE(o),h=TE(o),f=SE(s),p=TE(s),m=SE(a),g=TE(a),y=SE(l),v=TE(l),b={a:N,A:L,b:z,B:F,c:null,d:Jle,e:Jle,f:Vvt,g:ebt,G:nbt,H:zvt,I:Uvt,j:Hvt,L:XCe,m:Wvt,M:qvt,p:j,q:W,Q:tue,s:nue,S:Gvt,u:Yvt,U:Kvt,V:Xvt,w:Qvt,W:Jvt,x:null,X:null,y:Zvt,Y:tbt,Z:rbt,"%":eue},_={a:B,A:H,b:V,B:G,c:null,d:Zle,e:Zle,f:abt,g:ybt,G:bbt,H:ibt,I:obt,j:sbt,L:JCe,m:lbt,M:ubt,p:ne,q:X,Q:tue,s:nue,S:cbt,u:dbt,U:hbt,V:fbt,w:pbt,W:mbt,x:null,X:null,y:gbt,Y:vbt,Z:wbt,"%":eue},x={a:C,A:D,b:$,B:I,c:R,d:Xle,e:Xle,f:Lvt,g:Kle,G:Yle,H:Qle,I:Qle,j:Mvt,L:Ovt,m:Dvt,M:Pvt,p:T,q:$vt,Q:Bvt,s:jvt,S:Nvt,u:Cvt,U:Avt,V:kvt,w:Tvt,W:Ivt,x:A,X:M,y:Kle,Y:Yle,Z:Rvt,"%":Fvt};b.x=w(n,b),b.X=w(r,b),b.c=w(t,b),_.x=w(n,_),_.X=w(r,_),_.c=w(t,_);function w(te,se){return function(ve){var pe=[],Ge=-1,Ne=0,Ke=te.length,Je,Ae,$e;for(ve instanceof Date||(ve=new Date(+ve));++Ge<Ke;)te.charCodeAt(Ge)===37&&(pe.push(te.slice(Ne,Ge)),(Ae=Gle[Je=te.charAt(++Ge)])!=null?Je=te.charAt(++Ge):Ae=Je==="e"?" ":"0",($e=se[Je])&&(Je=$e(ve,Ae)),pe.push(Je),Ne=Ge+1);return pe.push(te.slice(Ne,Ge)),pe.join("")}}function E(te,se){return function(ve){var pe=EE(1900,void 0,1),Ge=S(pe,te,ve+="",0),Ne,Ke;if(Ge!=ve.length)return null;if("Q"in pe)return new Date(pe.Q);if("s"in pe)return new Date(pe.s*1e3+("L"in pe?pe.L:0));if(se&&!("Z"in pe)&&(pe.Z=0),"p"in pe&&(pe.H=pe.H%12+pe.p*12),pe.m===void 0&&(pe.m="q"in pe?pe.q:0),"V"in pe){if(pe.V<1||pe.V>53)return null;"w"in pe||(pe.w=1),"Z"in pe?(Ne=u6(EE(pe.y,0,1)),Ke=Ne.getUTCDay(),Ne=Ke>4||Ke===0?yD.ceil(Ne):yD(Ne),Ne=cg.offset(Ne,(pe.V-1)*7),pe.y=Ne.getUTCFullYear(),pe.m=Ne.getUTCMonth(),pe.d=Ne.getUTCDate()+(pe.w+6)%7):(Ne=l6(EE(pe.y,0,1)),Ke=Ne.getDay(),Ne=Ke>4||Ke===0?gD.ceil(Ne):gD(Ne),Ne=ep.offset(Ne,(pe.V-1)*7),pe.y=Ne.getFullYear(),pe.m=Ne.getMonth(),pe.d=Ne.getDate()+(pe.w+6)%7)}else("W"in pe||"U"in pe)&&("w"in pe||(pe.w="u"in pe?pe.u%7:"W"in pe?1:0),Ke="Z"in pe?u6(EE(pe.y,0,1)).getUTCDay():l6(EE(pe.y,0,1)).getDay(),pe.m=0,pe.d="W"in pe?(pe.w+6)%7+pe.W*7-(Ke+5)%7:pe.w+pe.U*7-(Ke+6)%7);return"Z"in pe?(pe.H+=pe.Z/100|0,pe.M+=pe.Z%100,u6(pe)):l6(pe)}}function S(te,se,ve,pe){for(var Ge=0,Ne=se.length,Ke=ve.length,Je,Ae;Ge<Ne;){if(pe>=Ke)return-1;if(Je=se.charCodeAt(Ge++),Je===37){if(Je=se.charAt(Ge++),Ae=x[Je in Gle?se.charAt(Ge++):Je],!Ae||(pe=Ae(te,ve,pe))<0)return-1}else if(Je!=ve.charCodeAt(pe++))return-1}return pe}function T(te,se,ve){var pe=u.exec(se.slice(ve));return pe?(te.p=c.get(pe[0].toLowerCase()),ve+pe[0].length):-1}function C(te,se,ve){var pe=f.exec(se.slice(ve));return pe?(te.w=p.get(pe[0].toLowerCase()),ve+pe[0].length):-1}function D(te,se,ve){var pe=d.exec(se.slice(ve));return pe?(te.w=h.get(pe[0].toLowerCase()),ve+pe[0].length):-1}function $(te,se,ve){var pe=y.exec(se.slice(ve));return pe?(te.m=v.get(pe[0].toLowerCase()),ve+pe[0].length):-1}function I(te,se,ve){var pe=m.exec(se.slice(ve));return pe?(te.m=g.get(pe[0].toLowerCase()),ve+pe[0].length):-1}function R(te,se,ve){return S(te,t,se,ve)}function A(te,se,ve){return S(te,n,se,ve)}function M(te,se,ve){return S(te,r,se,ve)}function N(te){return s[te.getDay()]}function L(te){return o[te.getDay()]}function z(te){return l[te.getMonth()]}function F(te){return a[te.getMonth()]}function j(te){return i[+(te.getHours()>=12)]}function W(te){return 1+~~(te.getMonth()/3)}function B(te){return s[te.getUTCDay()]}function H(te){return o[te.getUTCDay()]}function V(te){return l[te.getUTCMonth()]}function G(te){return a[te.getUTCMonth()]}function ne(te){return i[+(te.getUTCHours()>=12)]}function X(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var se=w(te+="",b);return se.toString=function(){return te},se},parse:function(te){var se=E(te+="",!1);return se.toString=function(){return te},se},utcFormat:function(te){var se=w(te+="",_);return se.toString=function(){return te},se},utcParse:function(te){var se=E(te+="",!0);return se.toString=function(){return te},se}}}var Gle={"-":"",_:" ",0:"0"},Fo=/^\s*\d+/,_vt=/^%/,Evt=/[\\^$*+?|[\]().{}]/g;function tr(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function Svt(e){return e.replace(Evt,"\\$&")}function SE(e){return new RegExp("^(?:"+e.map(Svt).join("|")+")","i")}function TE(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Tvt(e,t,n){var r=Fo.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Cvt(e,t,n){var r=Fo.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Avt(e,t,n){var r=Fo.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function kvt(e,t,n){var r=Fo.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Ivt(e,t,n){var r=Fo.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Yle(e,t,n){var r=Fo.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Kle(e,t,n){var r=Fo.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Rvt(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function $vt(e,t,n){var r=Fo.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Dvt(e,t,n){var r=Fo.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Xle(e,t,n){var r=Fo.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Mvt(e,t,n){var r=Fo.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Qle(e,t,n){var r=Fo.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Pvt(e,t,n){var r=Fo.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Nvt(e,t,n){var r=Fo.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Ovt(e,t,n){var r=Fo.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Lvt(e,t,n){var r=Fo.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Fvt(e,t,n){var r=_vt.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Bvt(e,t,n){var r=Fo.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function jvt(e,t,n){var r=Fo.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Jle(e,t){return tr(e.getDate(),t,2)}function zvt(e,t){return tr(e.getHours(),t,2)}function Uvt(e,t){return tr(e.getHours()%12||12,t,2)}function Hvt(e,t){return tr(1+ep.count(kh(e),e),t,3)}function XCe(e,t){return tr(e.getMilliseconds(),t,3)}function Vvt(e,t){return XCe(e,t)+"000"}function Wvt(e,t){return tr(e.getMonth()+1,t,2)}function qvt(e,t){return tr(e.getMinutes(),t,2)}function Gvt(e,t){return tr(e.getSeconds(),t,2)}function Yvt(e){var t=e.getDay();return t===0?7:t}function Kvt(e,t){return tr(C_.count(kh(e)-1,e),t,2)}function QCe(e){var t=e.getDay();return t>=4||t===0?Kw(e):Kw.ceil(e)}function Xvt(e,t){return e=QCe(e),tr(Kw.count(kh(e),e)+(kh(e).getDay()===4),t,2)}function Qvt(e){return e.getDay()}function Jvt(e,t){return tr(gD.count(kh(e)-1,e),t,2)}function Zvt(e,t){return tr(e.getFullYear()%100,t,2)}function ebt(e,t){return e=QCe(e),tr(e.getFullYear()%100,t,2)}function tbt(e,t){return tr(e.getFullYear()%1e4,t,4)}function nbt(e,t){var n=e.getDay();return e=n>=4||n===0?Kw(e):Kw.ceil(e),tr(e.getFullYear()%1e4,t,4)}function rbt(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+tr(t/60|0,"0",2)+tr(t%60,"0",2)}function Zle(e,t){return tr(e.getUTCDate(),t,2)}function ibt(e,t){return tr(e.getUTCHours(),t,2)}function obt(e,t){return tr(e.getUTCHours()%12||12,t,2)}function sbt(e,t){return tr(1+cg.count(Ih(e),e),t,3)}function JCe(e,t){return tr(e.getUTCMilliseconds(),t,3)}function abt(e,t){return JCe(e,t)+"000"}function lbt(e,t){return tr(e.getUTCMonth()+1,t,2)}function ubt(e,t){return tr(e.getUTCMinutes(),t,2)}function cbt(e,t){return tr(e.getUTCSeconds(),t,2)}function dbt(e){var t=e.getUTCDay();return t===0?7:t}function hbt(e,t){return tr(A_.count(Ih(e)-1,e),t,2)}function ZCe(e){var t=e.getUTCDay();return t>=4||t===0?Xw(e):Xw.ceil(e)}function fbt(e,t){return e=ZCe(e),tr(Xw.count(Ih(e),e)+(Ih(e).getUTCDay()===4),t,2)}function pbt(e){return e.getUTCDay()}function mbt(e,t){return tr(yD.count(Ih(e)-1,e),t,2)}function gbt(e,t){return tr(e.getUTCFullYear()%100,t,2)}function ybt(e,t){return e=ZCe(e),tr(e.getUTCFullYear()%100,t,2)}function vbt(e,t){return tr(e.getUTCFullYear()%1e4,t,4)}function bbt(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Xw(e):Xw.ceil(e),tr(e.getUTCFullYear()%1e4,t,4)}function wbt(){return"+0000"}function eue(){return"%"}function tue(e){return+e}function nue(e){return Math.floor(+e/1e3)}var qb,xY,eAe,_Y,tAe;xbt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function xbt(e){return qb=KCe(e),xY=qb.format,eAe=qb.parse,_Y=qb.utcFormat,tAe=qb.utcParse,qb}function wS(e){const t={};return n=>t[n]||(t[n]=e(n))}function _bt(e,t){return n=>{const r=e(n),i=r.indexOf(t);if(i<0)return r;let o=Ebt(r,i);const s=o<r.length?r.slice(o):"";for(;--o>i;)if(r[o]!=="0"){++o;break}return r.slice(0,o)+s}}function Ebt(e,t){let n=e.lastIndexOf("e"),r;if(n>0)return n;for(n=e.length;--n>t;)if(r=e.charCodeAt(n),r>=48&&r<=57)return n+1}function nAe(e){const t=wS(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat(r){const i=cv(r||",");if(i.precision==null){switch(i.precision=12,i.type){case"%":i.precision-=2;break;case"e":i.precision-=1;break}return _bt(t(i),t(".1f")(1)[1])}else return t(i)},formatSpan(r,i,o,s){s=cv(s??",f");const a=Mg(r,i,o),l=Math.max(Math.abs(r),Math.abs(i));let u;if(s.precision==null)switch(s.type){case"s":return isNaN(u=CCe(a,l))||(s.precision=u),n(s,l);case"":case"e":case"g":case"p":case"r":{isNaN(u=ACe(a,l))||(s.precision=u-(s.type==="e"));break}case"f":case"%":{isNaN(u=TCe(a))||(s.precision=u-(s.type==="%")*2);break}}return t(s)}}}let c7;rAe();function rAe(){return c7=nAe({format:YN,formatPrefix:gY})}function iAe(e){return nAe(SCe(e))}function vD(e){return arguments.length?c7=iAe(e):c7}function rue(e,t,n){n=n||{},wt(n)||Re(`Invalid time multi-format specifier: ${n}`);const r=t(qu),i=t(uu),o=t(lu),s=t(wl),a=t(oo),l=t(Js),u=t(bl),c=t(fs),d=e(n[od]||".%L"),h=e(n[qu]||":%S"),f=e(n[uu]||"%I:%M"),p=e(n[lu]||"%I %p"),m=e(n[wl]||n[Gs]||"%a %d"),g=e(n[oo]||"%b %d"),y=e(n[Js]||"%B"),v=e(n[bl]||"%B"),b=e(n[fs]||"%Y");return _=>(r(_)<_?d:i(_)<_?h:o(_)<_?f:s(_)<_?p:l(_)<_?a(_)<_?m:g:c(_)<_?u(_)<_?y:v:b)(_)}function oAe(e){const t=wS(e.format),n=wS(e.utcFormat);return{timeFormat:r=>xt(r)?t(r):rue(t,k_,r),utcFormat:r=>xt(r)?n(r):rue(n,I_,r),timeParse:wS(e.parse),utcParse:wS(e.utcParse)}}let d7;sAe();function sAe(){return d7=oAe({format:xY,parse:eAe,utcFormat:_Y,utcParse:tAe})}function aAe(e){return oAe(KCe(e))}function LC(e){return arguments.length?d7=aAe(e):d7}const h7=(e,t)=>yn({},e,t);function lAe(e,t){const n=e?iAe(e):vD(),r=t?aAe(t):LC();return h7(n,r)}function EY(e,t){const n=arguments.length;return n&&n!==2&&Re("defaultLocale expects either zero or two arguments."),n?h7(vD(e),LC(t)):h7(vD(),LC())}function Sbt(){return rAe(),sAe(),EY()}const Tbt=/^(data:|([A-Za-z]+:)?\/\/)/,Cbt=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,Abt=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,iue="file://";function kbt(e,t){return n=>({options:n||{},sanitize:Rbt,load:Ibt,fileAccess:!1,file:$bt(t),http:Mbt(e)})}async function Ibt(e,t){const n=await this.sanitize(e,t),r=n.href;return n.localFile?this.file(r):this.http(r,t)}async function Rbt(e,t){t=yn({},this.options,t);const n=this.fileAccess,r={href:null};let i,o,s;const a=Cbt.test(e.replace(Abt,""));(e==null||typeof e!="string"||!a)&&Re("Sanitize failure, invalid URI: "+ot(e));const l=Tbt.test(e);return(s=t.baseURL)&&!l&&(!e.startsWith("/")&&!s.endsWith("/")&&(e="/"+e),e=s+e),o=(i=e.startsWith(iue))||t.mode==="file"||t.mode!=="http"&&!l&&n,i?e=e.slice(iue.length):e.startsWith("//")&&(t.defaultProtocol==="file"?(e=e.slice(2),o=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(r,"localFile",{value:!!o}),r.href=e,t.target&&(r.target=t.target+""),t.rel&&(r.rel=t.rel+""),t.context==="image"&&t.crossOrigin&&(r.crossOrigin=t.crossOrigin+""),r}function $bt(e){return e?t=>new Promise((n,r)=>{e.readFile(t,(i,o)=>{i?r(i):n(o)})}):Dbt}async function Dbt(){Re("No file system access.")}function Mbt(e){return e?async function(t,n){const r=yn({},this.options.http,n),i=n&&n.response,o=await e(t,r);return o.ok?vn(o[i])?o[i]():o.text():Re(o.status+""+o.statusText)}:Pbt}async function Pbt(){Re("No HTTP fetch method available.")}const Nbt=e=>e!=null&&e===e,Obt=e=>e==="true"||e==="false"||e===!0||e===!1,Lbt=e=>!Number.isNaN(Date.parse(e)),uAe=e=>!Number.isNaN(+e)&&!(e instanceof Date),Fbt=e=>uAe(e)&&Number.isInteger(+e),f7={boolean:hY,integer:Ks,number:Ks,date:fY,string:pY,unknown:sa},m3=[Obt,Fbt,uAe,Lbt],Bbt=["boolean","integer","number","date"];function cAe(e,t){if(!e||!e.length)return"unknown";const n=e.length,r=m3.length,i=m3.map((o,s)=>s+1);for(let o=0,s=0,a,l;o<n;++o)for(l=t?e[o][t]:e[o],a=0;a<r;++a)if(i[a]&&Nbt(l)&&!m3[a](l)&&(i[a]=0,++s,s===m3.length))return"string";return Bbt[i.reduce((o,s)=>o===0?s:o,0)-1]}function dAe(e,t){return t.reduce((n,r)=>(n[r]=cAe(e,r),n),{})}function oue(e){const t=function(n,r){const i={delimiter:e};return SY(n,r?yn(r,i):i)};return t.responseType="text",t}function SY(e,t){return t.header&&(e=t.header.map(ot).join(t.delimiter)+`
`+e),vyt(t.delimiter).parse(e+"")}SY.responseType="text";function jbt(e){return typeof Buffer=="function"&&vn(Buffer.isBuffer)?Buffer.isBuffer(e):!1}function TY(e,t){const n=t&&t.property?Vu(t.property):sa;return wt(e)&&!jbt(e)?zbt(n(e),t):n(JSON.parse(e))}TY.responseType="json";function zbt(e,t){return!Pe(e)&&iCe(e)&&(e=[...e]),t&&t.copy?JSON.parse(JSON.stringify(e)):e}const Ubt={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function hAe(e,t){let n,r,i,o;return e=TY(e,t),t&&t.feature?(n=_yt,i=t.feature):t&&t.mesh?(n=Syt,i=t.mesh,o=Ubt[t.filter]):Re("Missing TopoJSON feature or mesh parameter."),r=(r=e.objects[i])?n(e,r,o):Re("Invalid TopoJSON object: "+i),r&&r.features||[r]}hAe.responseType="json";const KI={dsv:SY,csv:oue(","),tsv:oue("	"),json:TY,topojson:hAe};function CY(e,t){return arguments.length>1?(KI[e]=t,this):Tt(KI,e)?KI[e]:null}function fAe(e){const t=CY(e);return t&&t.responseType||"text"}function pAe(e,t,n,r){t=t||{};const i=CY(t.type||"json");return i||Re("Unknown data format type: "+t.type),e=i(e,t),t.parse&&Hbt(e,t.parse,n,r),Tt(e,"columns")&&delete e.columns,e}function Hbt(e,t,n,r){if(!e.length)return;const i=LC();n=n||i.timeParse,r=r||i.utcParse;let o=e.columns||Object.keys(e[0]),s,a,l,u,c,d;t==="auto"&&(t=dAe(e,o)),o=Object.keys(t);const h=o.map(f=>{const p=t[f];let m,g;if(p&&(p.startsWith("date:")||p.startsWith("utc:")))return m=p.split(/:(.+)?/,2),g=m[1],(g[0]==="'"&&g[g.length-1]==="'"||g[0]==='"'&&g[g.length-1]==='"')&&(g=g.slice(1,-1)),(m[0]==="utc"?r:n)(g);if(!f7[p])throw Error("Illegal format pattern: "+f+":"+p);return f7[p]});for(l=0,c=e.length,d=o.length;l<c;++l)for(s=e[l],u=0;u<d;++u)a=o[u],s[a]=h[u](s[a])}const eO=kbt(typeof fetch<"u"&&fetch,null);function tO(e){const t=e||sa,n=[],r={};return n.add=i=>{const o=t(i);return r[o]||(r[o]=1,n.push(i)),n},n.remove=i=>{const o=t(i);if(r[o]){r[o]=0;const s=n.indexOf(i);s>=0&&n.splice(s,1)}return n},n}async function XI(e,t){try{await t(e)}catch(n){e.error(n)}}const mAe=Symbol("vega_id");let Vbt=1;function nO(e){return!!(e&&Ht(e))}function Ht(e){return e[mAe]}function gAe(e,t){return e[mAe]=t,e}function ir(e){const t=e===Object(e)?e:{data:e};return Ht(t)?t:gAe(t,Vbt++)}function AY(e){return rO(e,ir({}))}function rO(e,t){for(const n in e)t[n]=e[n];return t}function yAe(e,t){return gAe(t,Ht(e))}function db(e,t){return e?t?(n,r)=>e(n,r)||Ht(t(n))-Ht(t(r)):(n,r)=>e(n,r)||Ht(n)-Ht(r):null}function vAe(e){return e&&e.constructor===hb}function hb(){const e=[],t=[],n=[],r=[],i=[];let o=null,s=!1;return{constructor:hb,insert(a){const l=_t(a),u=l.length;for(let c=0;c<u;++c)e.push(l[c]);return this},remove(a){const l=vn(a)?r:t,u=_t(a),c=u.length;for(let d=0;d<c;++d)l.push(u[d]);return this},modify(a,l,u){const c={field:l,value:aa(u)};return vn(a)?(c.filter=a,i.push(c)):(c.tuple=a,n.push(c)),this},encode(a,l){return vn(a)?i.push({filter:a,field:l}):n.push({tuple:a,field:l}),this},clean(a){return o=a,this},reflow(){return s=!0,this},pulse(a,l){const u={},c={};let d,h,f,p,m,g;for(d=0,h=l.length;d<h;++d)u[Ht(l[d])]=1;for(d=0,h=t.length;d<h;++d)m=t[d],u[Ht(m)]=-1;for(d=0,h=r.length;d<h;++d)p=r[d],l.forEach(v=>{p(v)&&(u[Ht(v)]=-1)});for(d=0,h=e.length;d<h;++d)m=e[d],g=Ht(m),u[g]?u[g]=1:a.add.push(ir(e[d]));for(d=0,h=l.length;d<h;++d)m=l[d],u[Ht(m)]<0&&a.rem.push(m);function y(v,b,_){_?v[b]=_(v):a.encode=b,s||(c[Ht(v)]=v)}for(d=0,h=n.length;d<h;++d)f=n[d],m=f.tuple,p=f.field,g=u[Ht(m)],g>0&&(y(m,p,f.value),a.modifies(p));for(d=0,h=i.length;d<h;++d)f=i[d],p=f.filter,l.forEach(v=>{p(v)&&u[Ht(v)]>0&&y(v,f.field,f.value)}),a.modifies(f.field);if(s)a.mod=t.length||r.length?l.filter(v=>u[Ht(v)]>0):l.slice();else for(g in c)a.mod.push(c[g]);return(o||o==null&&(t.length||r.length))&&a.clean(!0),a}}}const QI="_:mod:_";function iO(){Object.defineProperty(this,QI,{writable:!0,value:{}})}iO.prototype={set(e,t,n,r){const i=this,o=i[e],s=i[QI];return t!=null&&t>=0?(o[t]!==n||r)&&(o[t]=n,s[t+":"+e]=-1,s[e]=-1):(o!==n||r)&&(i[e]=n,s[e]=Pe(n)?1+n.length:-1),i},modified(e,t){const n=this[QI];if(arguments.length){if(Pe(e)){for(let r=0;r<e.length;++r)if(n[e[r]])return!0;return!1}}else{for(const r in n)if(n[r])return!0;return!1}return t!=null&&t>=0?t+1<n[e]||!!n[t+":"+e]:!!n[e]},clear(){return this[QI]={},this}};let Wbt=0;const qbt="pulse",Gbt=new iO,Ybt=1,Kbt=2;function Ir(e,t,n,r){this.id=++Wbt,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}function sue(e){return function(t){const n=this.flags;return arguments.length===0?!!(n&e):(this.flags=t?n|e:n&~e,this)}}Ir.prototype={targets(){return this._targets||(this._targets=tO(h2))},set(e){return this.value!==e?(this.value=e,1):0},skip:sue(Ybt),modified:sue(Kbt),parameters(e,t,n){t=t!==!1;const r=this._argval=this._argval||new iO,i=this._argops=this._argops||[],o=[];let s,a,l,u;const c=(d,h,f)=>{f instanceof Ir?(f!==this&&(t&&f.targets().add(this),o.push(f)),i.push({op:f,name:d,index:h})):r.set(d,h,f)};for(s in e)if(a=e[s],s===qbt)_t(a).forEach(d=>{d instanceof Ir?d!==this&&(d.targets().add(this),o.push(d)):Re("Pulse parameters must be operator instances.")}),this.source=a;else if(Pe(a))for(r.set(s,-1,Array(l=a.length)),u=0;u<l;++u)c(s,u,a[u]);else c(s,-1,a);return this.marshall().clear(),n&&(i.initonly=!0),o},marshall(e){const t=this._argval||Gbt,n=this._argops;let r,i,o,s;if(n){const a=n.length;for(i=0;i<a;++i)r=n[i],o=r.op,s=o.modified()&&o.stamp===e,t.set(r.name,r.index,o.value,s);if(n.initonly){for(i=0;i<a;++i)r=n[i],r.op.targets().remove(this);this._argops=null,this._update=null}}return t},detach(){const e=this._argops;let t,n,r,i;if(e)for(t=0,n=e.length;t<n;++t)r=e[t],i=r.op,i._targets&&i._targets.remove(this);this.pulse=null,this.source=null},evaluate(e){const t=this._update;if(t){const n=this.marshall(e.stamp),r=t.call(this,n,e);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return e.StopPropagation}},run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e}};function Xbt(e,t,n,r){let i=1,o;return e instanceof Ir?o=e:e&&e.prototype instanceof Ir?o=new e:vn(e)?o=new Ir(null,e):(i=0,o=new Ir(e,t)),this.rank(o),i&&(r=n,n=t),n&&this.connect(o,o.parameters(n,r)),this.touch(o),o}function Qbt(e,t){const n=e.rank,r=t.length;for(let i=0;i<r;++i)if(n<t[i].rank){this.rerank(e);return}}let Jbt=0;function oO(e,t,n){this.id=++Jbt,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function hm(e,t,n){return new oO(e,t,n)}oO.prototype={_filter:Wu,_apply:sa,targets(){return this._targets||(this._targets=tO(h2))},consume(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive(e){if(this._filter(e)){const t=this.value=this._apply(e),n=this._targets,r=n?n.length:0;for(let i=0;i<r;++i)n[i].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter(e){const t=hm(e);return this.targets().add(t),t},apply(e){const t=hm(null,e);return this.targets().add(t),t},merge(){const e=hm();this.targets().add(e);for(let t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},throttle(e){let t=-1;return this.filter(()=>{const n=Date.now();return n-t>e?(t=n,1):0})},debounce(e){const t=hm();return this.targets().add(hm(null,null,uY(e,n=>{const r=n.dataflow;t.receive(n),r&&r.run&&r.run()}))),t},between(e,t){let n=!1;return e.targets().add(hm(null,null,()=>n=!0)),t.targets().add(hm(null,null,()=>n=!1)),this.filter(()=>n)},detach(){this._filter=Wu,this._targets=null}};function Zbt(e,t,n,r){const i=this,o=hm(n,r),s=function(u){u.dataflow=i;try{o.receive(u)}catch(c){i.error(c)}finally{i.run()}};let a;typeof e=="string"&&typeof document<"u"?a=document.querySelectorAll(e):a=_t(e);const l=a.length;for(let u=0;u<l;++u)a[u].addEventListener(t,s);return o}function e1t(e,t){const n=this.locale();return pAe(e,t,n.timeParse,n.utcParse)}function t1t(e,t,n){return t=this.parse(t,n),this.pulse(e,this.changeset().insert(t))}async function n1t(e,t){const n=this;let r=0,i;try{i=await n.loader().load(e,{context:"dataflow",response:fAe(t&&t.type)});try{i=n.parse(i,t)}catch(o){r=-2,n.warn("Data ingestion failed",e,o)}}catch(o){r=-1,n.warn("Loading failed",e,o)}return{data:i,status:r}}async function r1t(e,t,n){const r=this,i=r._pending||i1t(r);i.requests+=1;const o=await r.request(t,n);return r.pulse(e,r.changeset().remove(Wu).insert(o.data||[])),i.done(),o}function i1t(e){let t;const n=new Promise(r=>t=r);return n.requests=0,n.done=()=>{--n.requests===0&&(e._pending=null,t(e))},e._pending=n}const o1t={skip:!0};function s1t(e,t,n,r,i){return(e instanceof Ir?l1t:a1t)(this,e,t,n,r,i),this}function a1t(e,t,n,r,i,o){const s=yn({},o,o1t);let a,l;vn(n)||(n=aa(n)),r===void 0?a=u=>e.touch(n(u)):vn(r)?(l=new Ir(null,r,i,!1),a=u=>{l.evaluate(u);const c=n(u),d=l.value;vAe(d)?e.pulse(c,d,o):e.update(c,d,s)}):a=u=>e.update(n(u),r,s),t.apply(a)}function l1t(e,t,n,r,i,o){if(r===void 0)t.targets().add(n);else{const s=o||{},a=new Ir(null,u1t(n,r),i,!1);a.modified(s.force),a.rank=t.rank,t.targets().add(a),n&&(a.skip(!0),a.value=n.value,a.targets().add(n),e.connect(n,[a]))}}function u1t(e,t){return t=vn(t)?t:aa(t),e?function(n,r){const i=t(n,r);return e.skip()||(e.skip(i!==this.value).value=i),i}:t}function c1t(e){e.rank=++this._rank}function d1t(e){const t=[e];let n,r,i;for(;t.length;)if(this.rank(n=t.pop()),r=n._targets)for(i=r.length;--i>=0;)t.push(n=r[i]),n===e&&Re("Cycle detected in dataflow graph.")}const bD={},Bd=1,vm=2,Ef=4,h1t=Bd|vm,aue=Bd|Ef,Gb=Bd|vm|Ef,lue=8,CE=16,uue=32,cue=64;function dg(e,t,n){this.dataflow=e,this.stamp=t??-1,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function c6(e,t){const n=[];return ym(e,t,r=>n.push(r)),n}function due(e,t){const n={};return e.visit(t,r=>{n[Ht(r)]=1}),r=>n[Ht(r)]?null:r}function g3(e,t){return e?(n,r)=>e(n,r)&&t(n,r):t}dg.prototype={StopPropagation:bD,ADD:Bd,REM:vm,MOD:Ef,ADD_REM:h1t,ADD_MOD:aue,ALL:Gb,REFLOW:lue,SOURCE:CE,NO_SOURCE:uue,NO_FIELDS:cue,fork(e){return new dg(this.dataflow).init(this,e)},clone(){const e=this.fork(Gb);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(Gb|CE)},addAll(){let e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||(e=new dg(this.dataflow).init(this),e.add=e.source,e.rem=[]),e},init(e,t){const n=this;return n.stamp=e.stamp,n.encode=e.encode,e.fields&&!(t&cue)&&(n.fields=e.fields),t&Bd?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),t&vm?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),t&Ef?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),t&uue?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source,e.cleans&&(n.cleans=e.cleans)),n},runAfter(e){this.dataflow.runAfter(e)},changed(e){const t=e||Gb;return t&Bd&&this.add.length||t&vm&&this.rem.length||t&Ef&&this.mod.length},reflow(e){if(e)return this.fork(Gb).reflow();const t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(Ef,due(this,Bd))),this},clean(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies(e){const t=this.fields||(this.fields={});return Pe(e)?e.forEach(n=>t[n]=!0):t[e]=!0,this},modified(e,t){const n=this.fields;return(t||this.mod.length)&&n?arguments.length?Pe(e)?e.some(r=>n[r]):n[e]:!!n:!1},filter(e,t){const n=this;return e&Bd&&(n.addF=g3(n.addF,t)),e&vm&&(n.remF=g3(n.remF,t)),e&Ef&&(n.modF=g3(n.modF,t)),e&CE&&(n.srcF=g3(n.srcF,t)),n},materialize(e){e=e||Gb;const t=this;return e&Bd&&t.addF&&(t.add=c6(t.add,t.addF),t.addF=null),e&vm&&t.remF&&(t.rem=c6(t.rem,t.remF),t.remF=null),e&Ef&&t.modF&&(t.mod=c6(t.mod,t.modF),t.modF=null),e&CE&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit(e,t){const n=this,r=t;if(e&CE)return ym(n.source,n.srcF,r),n;e&Bd&&ym(n.add,n.addF,r),e&vm&&ym(n.rem,n.remF,r),e&Ef&&ym(n.mod,n.modF,r);const i=n.source;if(e&lue&&i){const o=n.add.length+n.mod.length;o===i.length||(o?ym(i,due(n,aue),r):ym(i,n.srcF,r))}return n}};function kY(e,t,n,r){const i=this;let o=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n;for(const s of n)if(s.stamp===t){if(s.fields){const a=i.fields||(i.fields={});for(const l in s.fields)a[l]=1}s.changed(i.ADD)&&(o|=i.ADD),s.changed(i.REM)&&(o|=i.REM),s.changed(i.MOD)&&(o|=i.MOD)}this.changes=o}dt(kY,dg,{fork(e){const t=new dg(this.dataflow).init(this,e&this.NO_FIELDS);return e!==void 0&&(e&t.ADD&&this.visit(t.ADD,n=>t.add.push(n)),e&t.REM&&this.visit(t.REM,n=>t.rem.push(n)),e&t.MOD&&this.visit(t.MOD,n=>t.mod.push(n))),t},changed(e){return this.changes&e},modified(e){const t=this,n=t.fields;return n&&t.changes&t.MOD?Pe(e)?e.some(r=>n[r]):n[e]:0},filter(){Re("MultiPulse does not support filtering.")},materialize(){Re("MultiPulse does not support materialization.")},visit(e,t){const n=this,r=n.pulses,i=r.length;let o=0;if(e&n.SOURCE)for(;o<i;++o)r[o].visit(e,t);else for(;o<i;++o)r[o].stamp===n.stamp&&r[o].visit(e,t);return n}});async function f1t(e,t,n){const r=this,i=[];if(r._pulse)return bAe(r);if(r._pending&&await r._pending,t&&await XI(r,t),!r._touched.length)return r.debug("Dataflow invoked, but nothing to do."),r;const o=++r._clock;r._pulse=new dg(r,o,e),r._touched.forEach(c=>r._enqueue(c,!0)),r._touched=tO(h2);let s=0,a,l,u;try{for(;r._heap.size()>0;){if(a=r._heap.pop(),a.rank!==a.qrank){r._enqueue(a,!0);continue}l=a.run(r._getPulse(a,e)),l.then?l=await l:l.async&&(i.push(l.async),l=bD),l!==bD&&a._targets&&a._targets.forEach(c=>r._enqueue(c)),++s}}catch(c){r._heap.clear(),u=c}if(r._input={},r._pulse=null,r.debug(`Pulse ${o}: ${s} operators`),u&&(r._postrun=[],r.error(u)),r._postrun.length){const c=r._postrun.sort((d,h)=>h.priority-d.priority);r._postrun=[];for(let d=0;d<c.length;++d)await XI(r,c[d].callback)}return n&&await XI(r,n),i.length&&Promise.all(i).then(c=>r.runAsync(null,()=>{c.forEach(d=>{try{d(r)}catch(h){r.error(h)}})})),r}async function p1t(e,t,n){for(;this._running;)await this._running;const r=()=>this._running=null;return(this._running=this.evaluate(e,t,n)).then(r,r),this._running}function m1t(e,t,n){return this._pulse?bAe(this):(this.evaluate(e,t,n),this)}function g1t(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(r){this.error(r)}}function bAe(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}function y1t(e,t){const n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))}function v1t(e,t){const n=e.source,r=this._clock;return n&&Pe(n)?new kY(this,r,n.map(i=>i.pulse),t):this._input[e.id]||b1t(this._pulse,n&&n.pulse)}function b1t(e,t){return t&&t.stamp===e.stamp?t:(e=e.fork(),t&&t!==bD&&(e.source=t.source),e)}const IY={skip:!1,force:!1};function w1t(e,t){const n=t||IY;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this}function x1t(e,t,n){const r=n||IY;return(e.set(t)||r.force)&&this.touch(e,r),this}function _1t(e,t,n){this.touch(e,n||IY);const r=new dg(this,this._clock+(this._pulse?0:1)),i=e.pulse&&e.pulse.source||[];return r.target=e,this._input[e.id]=t.pulse(r,i),this}function E1t(e){let t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:n=>(t.push(n),wAe(t,0,t.length-1,e)),pop:()=>{const n=t.pop();let r;return t.length?(r=t[0],t[0]=n,S1t(t,0,e)):r=n,r}}}function wAe(e,t,n,r){let i,o;const s=e[n];for(;n>t;){if(o=n-1>>1,i=e[o],r(s,i)<0){e[n]=i,n=o;continue}break}return e[n]=s}function S1t(e,t,n){const r=t,i=e.length,o=e[t];let s=(t<<1)+1,a;for(;s<i;)a=s+1,a<i&&n(e[s],e[a])>=0&&(s=a),e[t]=e[s],t=s,s=(t<<1)+1;return e[t]=o,wAe(e,r,t,n)}function cw(){this.logger(iY()),this.logLevel(nY),this._clock=0,this._rank=0,this._locale=EY();try{this._loader=eO()}catch{}this._touched=tO(h2),this._input={},this._pulse=null,this._heap=E1t((e,t)=>e.qrank-t.qrank),this._postrun=[]}function AE(e){return function(){return this._log[e].apply(this,arguments)}}cw.prototype={stamp(){return this._clock},loader(e){return arguments.length?(this._loader=e,this):this._loader},locale(e){return arguments.length?(this._locale=e,this):this._locale},logger(e){return arguments.length?(this._log=e,this):this._log},error:AE("error"),warn:AE("warn"),info:AE("info"),debug:AE("debug"),logLevel:AE("level"),cleanThreshold:1e4,add:Xbt,connect:Qbt,rank:c1t,rerank:d1t,pulse:_1t,touch:w1t,update:x1t,changeset:hb,ingest:t1t,parse:e1t,preload:r1t,request:n1t,events:Zbt,on:s1t,evaluate:f1t,run:m1t,runAsync:p1t,runAfter:g1t,_enqueue:y1t,_getPulse:v1t};function Se(e,t){Ir.call(this,e,null,t)}dt(Se,Ir,{run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,t.then?t=t.then(n=>this.pulse=n):t!==e.StopPropagation&&(this.pulse=t),t},evaluate(e){const t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},transform(){}});const Jw={};function xAe(e){const t=_Ae(e);return t&&t.Definition||null}function _Ae(e){return e=e&&e.toLowerCase(),Tt(Jw,e)?Jw[e]:null}function*EAe(e,t){if(t==null)for(let n of e)n!=null&&n!==""&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)r=t(r,++n,e),r!=null&&r!==""&&(r=+r)>=r&&(yield r)}}function RY(e,t,n){const r=Float64Array.from(EAe(e,n));return r.sort(Zf),t.map(i=>bCe(r,i))}function $Y(e,t){return RY(e,[.25,.5,.75],t)}function DY(e,t){const n=e.length,r=Dyt(e,t),i=$Y(e,t),o=(i[2]-i[0])/1.34;return 1.06*(Math.min(r,o)||r||Math.abs(i[0])||1)*Math.pow(n,-.2)}function SAe(e){const t=e.maxbins||20,n=e.base||10,r=Math.log(n),i=e.divide||[5,2];let o=e.extent[0],s=e.extent[1],a,l,u,c,d,h;const f=e.span||s-o||Math.abs(o)||1;if(e.step)a=e.step;else if(e.steps){for(c=f/t,d=0,h=e.steps.length;d<h&&e.steps[d]<c;++d);a=e.steps[Math.max(0,d-1)]}else{for(l=Math.ceil(Math.log(t)/r),u=e.minstep||0,a=Math.max(u,Math.pow(n,Math.round(Math.log(f)/r)-l));Math.ceil(f/a)>t;)a*=n;for(d=0,h=i.length;d<h;++d)c=a/i[d],c>=u&&f/c<=t&&(a=c)}c=Math.log(a);const p=c>=0?0:~~(-c/r)+1,m=Math.pow(n,-p-1);return(e.nice||e.nice===void 0)&&(c=Math.floor(o/a+m)*a,o=o<c?c-a:c,s=Math.ceil(s/a)*a),{start:o,stop:s===o?o+a:s,step:a}}var Gu=Math.random;function T1t(e){Gu=e}function TAe(e,t,n,r){if(!e.length)return[void 0,void 0];const i=Float64Array.from(EAe(e,r)),o=i.length,s=t;let a,l,u,c;for(u=0,c=Array(s);u<s;++u){for(a=0,l=0;l<o;++l)a+=i[~~(Gu()*o)];c[u]=a/o}return c.sort(Zf),[i7(c,n/2),i7(c,1-n/2)]}function CAe(e,t,n,r){r=r||(h=>h);const i=e.length,o=new Float64Array(i);let s=0,a=1,l=r(e[0]),u=l,c=l+t,d;for(;a<i;++a){if(d=r(e[a]),d>=c){for(u=(l+u)/2;s<a;++s)o[s]=u;c=d+t,l=d}u=d}for(u=(l+u)/2;s<a;++s)o[s]=u;return n?C1t(o,t+t/4):o}function C1t(e,t){const n=e.length;let r=0,i=1,o,s;for(;e[r]===e[i];)++i;for(;i<n;){for(o=i+1;e[i]===e[o];)++o;if(e[i]-e[i-1]<t){for(s=i+(r+o-i-i>>1);s<i;)e[s++]=e[i];for(;s>i;)e[s--]=e[r]}r=i,i=o}return e}function A1t(e){return function(){return e=(1103515245*e+12345)%2147483647,e/2147483647}}function k1t(e,t){t==null&&(t=e,e=0);let n,r,i;const o={min(s){return arguments.length?(n=s||0,i=r-n,o):n},max(s){return arguments.length?(r=s||0,i=r-n,o):r},sample(){return n+Math.floor(i*Gu())},pdf(s){return s===Math.floor(s)&&s>=n&&s<r?1/i:0},cdf(s){const a=Math.floor(s);return a<n?0:a>=r?1:(a-n+1)/i},icdf(s){return s>=0&&s<=1?n-1+Math.floor(s*i):NaN}};return o.min(e).max(t)}const AAe=Math.sqrt(2*Math.PI),I1t=Math.SQRT2;let kE=NaN;function sO(e,t){e=e||0,t=t??1;let n=0,r=0,i,o;if(kE===kE)n=kE,kE=NaN;else{do n=Gu()*2-1,r=Gu()*2-1,i=n*n+r*r;while(i===0||i>1);o=Math.sqrt(-2*Math.log(i)/i),n*=o,kE=r*o}return e+n*t}function MY(e,t,n){n=n??1;const r=(e-(t||0))/n;return Math.exp(-.5*r*r)/(n*AAe)}function aO(e,t,n){t=t||0,n=n??1;const r=(e-t)/n,i=Math.abs(r);let o;if(i>37)o=0;else{const s=Math.exp(-i*i/2);let a;i<7.07106781186547?(a=.0352624965998911*i+.700383064443688,a=a*i+6.37396220353165,a=a*i+33.912866078383,a=a*i+112.079291497871,a=a*i+221.213596169931,a=a*i+220.206867912376,o=s*a,a=.0883883476483184*i+1.75566716318264,a=a*i+16.064177579207,a=a*i+86.7807322029461,a=a*i+296.564248779674,a=a*i+637.333633378831,a=a*i+793.826512519948,a=a*i+440.413735824752,o=o/a):(a=i+.65,a=i+4/a,a=i+3/a,a=i+2/a,a=i+1/a,o=s/a/2.506628274631)}return r>0?1-o:o}function lO(e,t,n){return e<0||e>1?NaN:(t||0)+(n??1)*I1t*R1t(2*e-1)}function R1t(e){let t=-Math.log((1-e)*(1+e)),n;return t<6.25?(t-=3.125,n=-364441206401782e-35,n=-16850591381820166e-35+n*t,n=128584807152564e-32+n*t,n=11157877678025181e-33+n*t,n=-1333171662854621e-31+n*t,n=20972767875968562e-33+n*t,n=6637638134358324e-30+n*t,n=-4054566272975207e-29+n*t,n=-8151934197605472e-29+n*t,n=26335093153082323e-28+n*t,n=-12975133253453532e-27+n*t,n=-5415412054294628e-26+n*t,n=10512122733215323e-25+n*t,n=-4112633980346984e-24+n*t,n=-29070369957882005e-24+n*t,n=42347877827932404e-23+n*t,n=-13654692000834679e-22+n*t,n=-13882523362786469e-21+n*t,n=.00018673420803405714+n*t,n=-.000740702534166267+n*t,n=-.006033670871430149+n*t,n=.24015818242558962+n*t,n=1.6536545626831027+n*t):t<16?(t=Math.sqrt(t)-3.25,n=22137376921775787e-25,n=9075656193888539e-23+n*t,n=-27517406297064545e-23+n*t,n=18239629214389228e-24+n*t,n=15027403968909828e-22+n*t,n=-4013867526981546e-21+n*t,n=29234449089955446e-22+n*t,n=12475304481671779e-21+n*t,n=-47318229009055734e-21+n*t,n=6828485145957318e-20+n*t,n=24031110387097894e-21+n*t,n=-.0003550375203628475+n*t,n=.0009532893797373805+n*t,n=-.0016882755560235047+n*t,n=.002491442096107851+n*t,n=-.003751208507569241+n*t,n=.005370914553590064+n*t,n=1.0052589676941592+n*t,n=3.0838856104922208+n*t):Number.isFinite(t)?(t=Math.sqrt(t)-5,n=-27109920616438573e-27,n=-2555641816996525e-25+n*t,n=15076572693500548e-25+n*t,n=-3789465440126737e-24+n*t,n=761570120807834e-23+n*t,n=-1496002662714924e-23+n*t,n=2914795345090108e-23+n*t,n=-6771199775845234e-23+n*t,n=22900482228026655e-23+n*t,n=-99298272942317e-20+n*t,n=4526062597223154e-21+n*t,n=-1968177810553167e-20+n*t,n=7599527703001776e-20+n*t,n=-.00021503011930044477+n*t,n=-.00013871931833623122+n*t,n=1.0103004648645344+n*t,n=4.849906401408584+n*t):n=1/0,n*e}function PY(e,t){let n,r;const i={mean(o){return arguments.length?(n=o||0,i):n},stdev(o){return arguments.length?(r=o??1,i):r},sample:()=>sO(n,r),pdf:o=>MY(o,n,r),cdf:o=>aO(o,n,r),icdf:o=>lO(o,n,r)};return i.mean(e).stdev(t)}function NY(e,t){const n=PY();let r=0;const i={data(o){return arguments.length?(e=o,r=o?o.length:0,i.bandwidth(t)):e},bandwidth(o){return arguments.length?(t=o,!t&&e&&(t=DY(e)),i):t},sample(){return e[~~(Gu()*r)]+t*n.sample()},pdf(o){let s=0,a=0;for(;a<r;++a)s+=n.pdf((o-e[a])/t);return s/t/r},cdf(o){let s=0,a=0;for(;a<r;++a)s+=n.cdf((o-e[a])/t);return s/r},icdf(){throw Error("KDE icdf not supported.")}};return i.data(e)}function OY(e,t){return e=e||0,t=t??1,Math.exp(e+sO()*t)}function LY(e,t,n){if(e<=0)return 0;t=t||0,n=n??1;const r=(Math.log(e)-t)/n;return Math.exp(-.5*r*r)/(n*AAe*e)}function FY(e,t,n){return aO(Math.log(e),t,n)}function BY(e,t,n){return Math.exp(lO(e,t,n))}function kAe(e,t){let n,r;const i={mean(o){return arguments.length?(n=o||0,i):n},stdev(o){return arguments.length?(r=o??1,i):r},sample:()=>OY(n,r),pdf:o=>LY(o,n,r),cdf:o=>FY(o,n,r),icdf:o=>BY(o,n,r)};return i.mean(e).stdev(t)}function IAe(e,t){let n=0,r;function i(s){const a=[];let l=0,u;for(u=0;u<n;++u)l+=a[u]=s[u]==null?1:+s[u];for(u=0;u<n;++u)a[u]/=l;return a}const o={weights(s){return arguments.length?(r=i(t=s||[]),o):t},distributions(s){return arguments.length?(s?(n=s.length,e=s):(n=0,e=[]),o.weights(t)):e},sample(){const s=Gu();let a=e[n-1],l=r[0],u=0;for(;u<n-1;l+=r[++u])if(s<l){a=e[u];break}return a.sample()},pdf(s){let a=0,l=0;for(;l<n;++l)a+=r[l]*e[l].pdf(s);return a},cdf(s){let a=0,l=0;for(;l<n;++l)a+=r[l]*e[l].cdf(s);return a},icdf(){throw Error("Mixture icdf not supported.")}};return o.distributions(e).weights(t)}function jY(e,t){return t==null&&(t=e??1,e=0),e+(t-e)*Gu()}function zY(e,t,n){return n==null&&(n=t??1,t=0),e>=t&&e<=n?1/(n-t):0}function UY(e,t,n){return n==null&&(n=t??1,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function HY(e,t,n){return n==null&&(n=t??1,t=0),e>=0&&e<=1?t+e*(n-t):NaN}function RAe(e,t){let n,r;const i={min(o){return arguments.length?(n=o||0,i):n},max(o){return arguments.length?(r=o??1,i):r},sample:()=>jY(n,r),pdf:o=>zY(o,n,r),cdf:o=>UY(o,n,r),icdf:o=>HY(o,n,r)};return t==null&&(t=e??1,e=0),i.min(e).max(t)}function VY(e,t,n){let r=0,i=0;for(const o of e){const s=n(o);t(o)==null||s==null||isNaN(s)||(r+=(s-r)/++i)}return{coef:[r],predict:()=>r,rSquared:0}}function p2(e,t,n,r){const i=r-e*e,o=Math.abs(i)<1e-24?0:(n-e*t)/i;return[t-o*e,o]}function uO(e,t,n,r){e=e.filter(f=>{let p=t(f),m=n(f);return p!=null&&(p=+p)>=p&&m!=null&&(m=+m)>=m}),r&&e.sort((f,p)=>t(f)-t(p));const i=e.length,o=new Float64Array(i),s=new Float64Array(i);let a=0,l=0,u=0,c,d,h;for(h of e)o[a]=c=+t(h),s[a]=d=+n(h),++a,l+=(c-l)/a,u+=(d-u)/a;for(a=0;a<i;++a)o[a]-=l,s[a]-=u;return[o,s,l,u]}function m2(e,t,n,r){let i=-1,o,s;for(const a of e)o=t(a),s=n(a),o!=null&&(o=+o)>=o&&s!=null&&(s=+s)>=s&&r(o,s,++i)}function R_(e,t,n,r,i){let o=0,s=0;return m2(e,t,n,(a,l)=>{const u=l-i(a),c=l-r;o+=u*u,s+=c*c}),1-o/s}function WY(e,t,n){let r=0,i=0,o=0,s=0,a=0;m2(e,t,n,(c,d)=>{++a,r+=(c-r)/a,i+=(d-i)/a,o+=(c*d-o)/a,s+=(c*c-s)/a});const l=p2(r,i,o,s),u=c=>l[0]+l[1]*c;return{coef:l,predict:u,rSquared:R_(e,t,n,i,u)}}function $Ae(e,t,n){let r=0,i=0,o=0,s=0,a=0;m2(e,t,n,(c,d)=>{++a,c=Math.log(c),r+=(c-r)/a,i+=(d-i)/a,o+=(c*d-o)/a,s+=(c*c-s)/a});const l=p2(r,i,o,s),u=c=>l[0]+l[1]*Math.log(c);return{coef:l,predict:u,rSquared:R_(e,t,n,i,u)}}function DAe(e,t,n){const[r,i,o,s]=uO(e,t,n);let a=0,l=0,u=0,c=0,d=0,h,f,p;m2(e,t,n,(v,b)=>{h=r[d++],f=Math.log(b),p=h*b,a+=(b*f-a)/d,l+=(p-l)/d,u+=(p*f-u)/d,c+=(h*p-c)/d});const[m,g]=p2(l/s,a/s,u/s,c/s),y=v=>Math.exp(m+g*(v-o));return{coef:[Math.exp(m-g*o),g],predict:y,rSquared:R_(e,t,n,s,y)}}function MAe(e,t,n){let r=0,i=0,o=0,s=0,a=0,l=0;m2(e,t,n,(d,h)=>{const f=Math.log(d),p=Math.log(h);++l,r+=(f-r)/l,i+=(p-i)/l,o+=(f*p-o)/l,s+=(f*f-s)/l,a+=(h-a)/l});const u=p2(r,i,o,s),c=d=>u[0]*Math.pow(d,u[1]);return u[0]=Math.exp(u[0]),{coef:u,predict:c,rSquared:R_(e,t,n,a,c)}}function qY(e,t,n){const[r,i,o,s]=uO(e,t,n),a=r.length;let l=0,u=0,c=0,d=0,h=0,f,p,m,g;for(f=0;f<a;)p=r[f],m=i[f++],g=p*p,l+=(g-l)/f,u+=(g*p-u)/f,c+=(g*g-c)/f,d+=(p*m-d)/f,h+=(g*m-h)/f;const y=c-l*l,v=l*y-u*u,b=(h*l-d*u)/v,_=(d*y-h*u)/v,x=-b*l,w=E=>(E=E-o,b*E*E+_*E+x+s);return{coef:[x-_*o+b*o*o+s,_-2*b*o,b],predict:w,rSquared:R_(e,t,n,s,w)}}function PAe(e,t,n,r){if(r===0)return VY(e,t,n);if(r===1)return WY(e,t,n);if(r===2)return qY(e,t,n);const[i,o,s,a]=uO(e,t,n),l=i.length,u=[],c=[],d=r+1;let h,f,p,m,g;for(h=0;h<d;++h){for(p=0,m=0;p<l;++p)m+=Math.pow(i[p],h)*o[p];for(u.push(m),g=new Float64Array(d),f=0;f<d;++f){for(p=0,m=0;p<l;++p)m+=Math.pow(i[p],h+f);g[f]=m}c.push(g)}c.push(u);const y=D1t(c),v=b=>{b-=s;let _=a+y[0]+y[1]*b+y[2]*b*b;for(h=3;h<d;++h)_+=y[h]*Math.pow(b,h);return _};return{coef:$1t(d,y,-s,a),predict:v,rSquared:R_(e,t,n,a,v)}}function $1t(e,t,n,r){const i=Array(e);let o,s,a,l;for(o=0;o<e;++o)i[o]=0;for(o=e-1;o>=0;--o)for(a=t[o],l=1,i[o]+=a,s=1;s<=o;++s)l*=(o+1-s)/s,i[o-s]+=a*Math.pow(n,s)*l;return i[0]+=r,i}function D1t(e){const t=e.length-1,n=[];let r,i,o,s,a;for(r=0;r<t;++r){for(s=r,i=r+1;i<t;++i)Math.abs(e[r][i])>Math.abs(e[r][s])&&(s=i);for(o=r;o<t+1;++o)a=e[o][r],e[o][r]=e[o][s],e[o][s]=a;for(i=r+1;i<t;++i)for(o=t;o>=r;o--)e[o][i]-=e[o][r]*e[r][i]/e[r][r]}for(i=t-1;i>=0;--i){for(a=0,o=i+1;o<t;++o)a+=e[o][i]*n[o];n[i]=(e[t][i]-a)/e[i][i]}return n}const hue=2,fue=1e-12;function NAe(e,t,n,r){const[i,o,s,a]=uO(e,t,n,!0),l=i.length,u=Math.max(2,~~(r*l)),c=new Float64Array(l),d=new Float64Array(l),h=new Float64Array(l).fill(1);for(let f=-1;++f<=hue;){const p=[0,u-1];for(let g=0;g<l;++g){const y=i[g],v=p[0],b=p[1],_=y-i[v]>i[b]-y?v:b;let x=0,w=0,E=0,S=0,T=0;const C=1/Math.abs(i[_]-y||1);for(let I=v;I<=b;++I){const R=i[I],A=o[I],M=M1t(Math.abs(y-R)*C)*h[I],N=R*M;x+=M,w+=N,E+=A*M,S+=A*N,T+=R*N}const[D,$]=p2(w/x,E/x,S/x,T/x);c[g]=D+$*y,d[g]=Math.abs(o[g]-c[g]),P1t(i,g+1,p)}if(f===hue)break;const m=wCe(d);if(Math.abs(m)<fue)break;for(let g=0,y,v;g<l;++g)y=d[g]/(6*m),h[g]=y>=1?fue:(v=1-y*y)*v}return N1t(i,c,s,a)}function M1t(e){return(e=1-e*e*e)*e*e}function P1t(e,t,n){const r=e[t];let i=n[0],o=n[1]+1;if(!(o>=e.length))for(;t>i&&e[o]-r<=r-e[i];)n[0]=++i,n[1]=o,++o}function N1t(e,t,n,r){const i=e.length,o=[];let s=0,a=0,l=[],u;for(;s<i;++s)u=e[s]+n,l[0]===u?l[1]+=(t[s]-l[1])/++a:(a=0,l[1]+=r,l=[u,t[s]],o.push(l));return l[1]+=r,o}const O1t=.5*Math.PI/180;function cO(e,t,n,r){n=n||25,r=Math.max(n,r||200);const i=m=>[m,e(m)],o=t[0],s=t[1],a=s-o,l=a/r,u=[i(o)],c=[];if(n===r){for(let m=1;m<r;++m)u.push(i(o+m/n*a));return u.push(i(s)),u}else{c.push(i(s));for(let m=n;--m>0;)c.push(i(o+m/n*a))}let d=u[0],h=c[c.length-1];const f=1/a,p=L1t(d[1],c);for(;h;){const m=i((d[0]+h[0])/2);m[0]-d[0]>=l&&F1t(d,m,h,f,p)>O1t?c.push(m):(d=h,u.push(h),c.pop()),h=c[c.length-1]}return u}function L1t(e,t){let n=e,r=e;const i=t.length;for(let o=0;o<i;++o){const s=t[o][1];s<n&&(n=s),s>r&&(r=s)}return 1/(r-n)}function F1t(e,t,n,r,i){const o=Math.atan2(i*(n[1]-e[1]),r*(n[0]-e[0])),s=Math.atan2(i*(t[1]-e[1]),r*(t[0]-e[0]));return Math.abs(o-s)}function B1t(e){return t=>{const n=e.length;let r=1,i=String(e[0](t));for(;r<n;++r)i+="|"+e[r](t);return i}}function p7(e){return!e||!e.length?function(){return""}:e.length===1?e[0]:B1t(e)}function OAe(e,t,n){return n||e+(t?"_"+t:"")}const d6=()=>{},j1t={init:d6,add:d6,rem:d6,idx:0},FC={values:{init:e=>e.cell.store=!0,value:e=>e.cell.data.values(),idx:-1},count:{value:e=>e.cell.num},__count__:{value:e=>e.missing+e.valid},missing:{value:e=>e.missing},valid:{value:e=>e.valid},sum:{init:e=>e.sum=0,value:e=>e.valid?e.sum:void 0,add:(e,t)=>e.sum+=+t,rem:(e,t)=>e.sum-=t},product:{init:e=>e.product=1,value:e=>e.valid?e.product:void 0,add:(e,t)=>e.product*=t,rem:(e,t)=>e.product/=t},mean:{init:e=>e.mean=0,value:e=>e.valid?e.mean:void 0,add:(e,t)=>(e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid),rem:(e,t)=>(e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean)},average:{value:e=>e.valid?e.mean:void 0,req:["mean"],idx:1},variance:{init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):void 0,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean),req:["mean"],idx:1},variancep:{value:e=>e.valid>1?e.dev/e.valid:void 0,req:["variance"],idx:2},stdev:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):void 0,req:["variance"],idx:2},stderr:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:e=>e.cell.data.distinct(e.get),req:["values"],idx:3},ci0:{value:e=>e.cell.data.ci0(e.get),req:["values"],idx:3},ci1:{value:e=>e.cell.data.ci1(e.get),req:["values"],idx:3},median:{value:e=>e.cell.data.q2(e.get),req:["values"],idx:3},q1:{value:e=>e.cell.data.q1(e.get),req:["values"],idx:3},q3:{value:e=>e.cell.data.q3(e.get),req:["values"],idx:3},min:{init:e=>e.min=void 0,value:e=>e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min,add:(e,t)=>{(t<e.min||e.min===void 0)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:e=>e.max=void 0,value:e=>e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max,add:(e,t)=>{(t>e.max||e.max===void 0)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:e=>e.argmin=void 0,value:e=>e.argmin||e.cell.data.argmin(e.get),add:(e,t,n)=>{t<e.min&&(e.argmin=n)},rem:(e,t)=>{t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:e=>e.argmax=void 0,value:e=>e.argmax||e.cell.data.argmax(e.get),add:(e,t,n)=>{t>e.max&&(e.argmax=n)},rem:(e,t)=>{t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3},exponential:{init:(e,t)=>{e.exp=0,e.exp_r=t},value:e=>e.valid?e.exp*(1-e.exp_r)/(1-e.exp_r**e.valid):void 0,add:(e,t)=>e.exp=e.exp_r*e.exp+t,rem:(e,t)=>e.exp=(e.exp-t/e.exp_r**(e.valid-1))/e.exp_r},exponentialb:{value:e=>e.valid?e.exp*(1-e.exp_r):void 0,req:["exponential"],idx:1}},g2=Object.keys(FC).filter(e=>e!=="__count__");function z1t(e,t){return(n,r)=>yn({name:e,aggregate_param:r,out:n||e},j1t,t)}[...g2,"__count__"].forEach(e=>{FC[e]=z1t(e,FC[e])});function LAe(e,t,n){return FC[e](n,t)}function FAe(e,t){return e.idx-t.idx}function U1t(e){const t={};e.forEach(r=>t[r.name]=r);const n=r=>{r.req&&r.req.forEach(i=>{t[i]||n(t[i]=FC[i]())})};return e.forEach(n),Object.values(t).sort(FAe)}function H1t(){this.valid=0,this.missing=0,this._ops.forEach(e=>e.aggregate_param==null?e.init(this):e.init(this,e.aggregate_param))}function V1t(e,t){if(e==null||e===""){++this.missing;return}e===e&&(++this.valid,this._ops.forEach(n=>n.add(this,e,t)))}function W1t(e,t){if(e==null||e===""){--this.missing;return}e===e&&(--this.valid,this._ops.forEach(n=>n.rem(this,e,t)))}function q1t(e){return this._out.forEach(t=>e[t.out]=t.value(this)),e}function BAe(e,t){const n=t||sa,r=U1t(e),i=e.slice().sort(FAe);function o(s){this._ops=r,this._out=i,this.cell=s,this.init()}return o.prototype.init=H1t,o.prototype.add=V1t,o.prototype.rem=W1t,o.prototype.set=q1t,o.prototype.get=n,o.fields=e.map(s=>s.out),o}function GY(e){this._key=e?Vu(e):Ht,this.reset()}const ws=GY.prototype;ws.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null};ws.add=function(e){this._add.push(e)};ws.rem=function(e){this._rem.push(e)};ws.values=function(){if(this._get=null,this._rem.length===0)return this._add;const e=this._add,t=this._rem,n=this._key,r=e.length,i=t.length,o=Array(r-i),s={};let a,l,u;for(a=0;a<i;++a)s[n(t[a])]=1;for(a=0,l=0;a<r;++a)s[n(u=e[a])]?s[n(u)]=0:o[l++]=u;return this._rem=[],this._add=o};ws.distinct=function(e){const t=this.values(),n={};let r=t.length,i=0,o;for(;--r>=0;)o=e(t[r])+"",Tt(n,o)||(n[o]=1,++i);return i};ws.extent=function(e){if(this._get!==e||!this._ext){const t=this.values(),n=nCe(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext};ws.argmin=function(e){return this.extent(e)[0]||{}};ws.argmax=function(e){return this.extent(e)[1]||{}};ws.min=function(e){const t=this.extent(e)[0];return t!=null?e(t):void 0};ws.max=function(e){const t=this.extent(e)[1];return t!=null?e(t):void 0};ws.quartile=function(e){return(this._get!==e||!this._q)&&(this._q=$Y(this.values(),e),this._get=e),this._q};ws.q1=function(e){return this.quartile(e)[0]};ws.q2=function(e){return this.quartile(e)[1]};ws.q3=function(e){return this.quartile(e)[2]};ws.ci=function(e){return(this._get!==e||!this._ci)&&(this._ci=TAe(this.values(),1e3,.05,e),this._get=e),this._ci};ws.ci0=function(e){return this.ci(e)[0]};ws.ci1=function(e){return this.ci(e)[1]};function Pg(e){Se.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}Pg.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:g2},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};dt(Pg,Se,{transform(e,t){const n=this,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.modified();return n.stamp=r.stamp,n.value&&(i||t.modified(n._inputs,!0))?(n._prev=n.value,n.value=i?n.init(e):Object.create(null),t.visit(t.SOURCE,o=>n.add(o))):(n.value=n.value||n.init(e),t.visit(t.REM,o=>n.rem(o)),t.visit(t.ADD,o=>n.add(o))),r.modifies(n._outputs),n._drop=e.drop!==!1,e.cross&&n._dims.length>1&&(n._drop=!1,n.cross()),t.clean()&&n._drop&&r.clean(!0).runAfter(()=>this.clean()),n.changes(r)},cross(){const e=this,t=e.value,n=e._dnames,r=n.map(()=>({})),i=n.length;function o(a){let l,u,c,d;for(l in a)for(c=a[l].tuple,u=0;u<i;++u)r[u][d=c[n[u]]]=d}o(e._prev),o(t);function s(a,l,u){const c=n[u],d=r[u++];for(const h in d){const f=a?a+"|"+h:h;l[c]=d[h],u<i?s(f,l,u):t[f]||e.cell(f,l)}}s("",{},0)},init(e){const t=this._inputs=[],n=this._outputs=[],r={};function i(v){const b=_t(Qs(v)),_=b.length;let x=0,w;for(;x<_;++x)r[w=b[x]]||(r[w]=1,t.push(w))}this._dims=_t(e.groupby),this._dnames=this._dims.map(v=>{const b=_i(v);return i(v),n.push(b),b}),this.cellkey=e.key?e.key:p7(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const o=e.fields||[null],s=e.ops||["count"],a=e.aggregate_params||[null],l=e.as||[],u=o.length,c={};let d,h,f,p,m,g,y;for(u!==s.length&&Re("Unmatched number of fields and aggregate ops."),y=0;y<u;++y){if(d=o[y],h=s[y],f=a[y]||null,d==null&&h!=="count"&&Re("Null aggregate field specified."),m=_i(d),g=OAe(h,m,l[y]),n.push(g),h==="count"){this._counts.push(g);continue}p=c[m],p||(i(d),p=c[m]=[],p.field=d,this._measures.push(p)),h!=="count"&&(this._countOnly=!1),p.push(LAe(h,f,g))}return this._measures=this._measures.map(v=>BAe(v,v.field)),Object.create(null)},cellkey:p7(),cell(e,t){let n=this.value[e];return n?n.num===0&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},newcell(e,t){const n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){const r=this._measures,i=r.length;n.agg=Array(i);for(let o=0;o<i;++o)n.agg[o]=new r[o](n)}return n.store&&(n.data=new GY),n},newtuple(e,t){const n=this._dnames,r=this._dims,i=r.length,o={};for(let s=0;s<i;++s)o[n[s]]=r[s](e);return t?yAe(t.tuple,o):ir(o)},clean(){const e=this.value;for(const t in e)e[t].num===0&&delete e[t]},add(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num+=1,this._countOnly)return;n.store&&n.data.add(e);const r=n.agg;for(let i=0,o=r.length;i<o;++i)r[i].add(r[i].get(e),e)},rem(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num-=1,this._countOnly)return;n.store&&n.data.rem(e);const r=n.agg;for(let i=0,o=r.length;i<o;++i)r[i].rem(r[i].get(e),e)},celltuple(e){const t=e.tuple,n=this._counts;e.store&&e.data.values();for(let r=0,i=n.length;r<i;++r)t[n[r]]=e.num;if(!this._countOnly){const r=e.agg;for(let i=0,o=r.length;i<o;++i)r[i].set(t)}return t},changes(e){const t=this._adds,n=this._mods,r=this._prev,i=this._drop,o=e.add,s=e.rem,a=e.mod;let l,u,c,d;if(r)for(u in r)l=r[u],(!i||l.num)&&s.push(l.tuple);for(c=0,d=this._alen;c<d;++c)o.push(this.celltuple(t[c])),t[c]=null;for(c=0,d=this._mlen;c<d;++c)l=n[c],(l.num===0&&i?s:a).push(this.celltuple(l)),n[c]=null;return this._alen=this._mlen=0,this._prev=null,e}});const G1t=1e-14;function YY(e){Se.call(this,null,e)}YY.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};dt(YY,Se,{transform(e,t){const n=e.interval!==!1,r=this._bins(e),i=r.start,o=r.step,s=e.as||["bin0","bin1"],a=s[0],l=s[1];let u;return e.modified()?(t=t.reflow(!0),u=t.SOURCE):u=t.modified(Qs(e.field))?t.ADD_MOD:t.ADD,t.visit(u,n?c=>{const d=r(c);c[a]=d,c[l]=d==null?null:i+o*(1+(d-i)/o)}:c=>c[a]=r(c)),t.modifies(n?s:a)},_bins(e){if(this.value&&!e.modified())return this.value;const t=e.field,n=SAe(e),r=n.step;let i=n.start,o=i+Math.ceil((n.stop-i)/r)*r,s,a;(s=e.anchor)!=null&&(a=s-(i+r*Math.floor((s-i)/r)),i+=a,o+=a);const l=function(u){let c=Ks(t(u));return c==null?null:c<i?-1/0:c>o?1/0:(c=Math.max(i,Math.min(c,o-r)),i+r*Math.floor(G1t+(c-i)/r))};return l.start=i,l.stop=n.stop,l.step=r,this.value=Al(l,Qs(t),e.name||"bin_"+_i(t))}});function jAe(e,t,n){const r=e;let i=t||[],o=n||[],s={},a=0;return{add:l=>o.push(l),remove:l=>s[r(l)]=++a,size:()=>i.length,data:(l,u)=>(a&&(i=i.filter(c=>!s[r(c)]),s={},a=0),u&&l&&i.sort(l),o.length&&(i=l?aCe(l,i,o.sort(l)):i.concat(o),o=[]),i)}}function KY(e){Se.call(this,[],e)}KY.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};dt(KY,Se,{transform(e,t){const n=t.fork(t.ALL),r=jAe(Ht,this.value,n.materialize(n.ADD).add),i=e.sort,o=t.changed()||i&&(e.modified("sort")||t.modified(i.fields));return n.visit(n.REM,r.remove),this.modified(o),this.value=n.source=r.data(db(i),o),t.source&&t.source.root&&(this.value.root=t.source.root),n}});function zAe(e){Ir.call(this,null,Y1t,e)}dt(zAe,Ir);function Y1t(e){return this.value&&!e.modified()?this.value:lY(e.fields,e.orders)}function XY(e){Se.call(this,null,e)}XY.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};function K1t(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break}return e.match(n)}dt(XY,Se,{transform(e,t){const n=d=>h=>{for(var f=K1t(a(h),e.case,o)||[],p,m=0,g=f.length;m<g;++m)s.test(p=f[m])||d(p)},r=this._parameterCheck(e,t),i=this._counts,o=this._match,s=this._stop,a=e.field,l=e.as||["text","count"],u=n(d=>i[d]=1+(i[d]||0)),c=n(d=>i[d]-=1);return r?t.visit(t.SOURCE,u):(t.visit(t.ADD,u),t.visit(t.REM,c)),this._finish(t,l)},_parameterCheck(e,t){let n=!1;return(e.modified("stopwords")||!this._stop)&&(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),(e.modified("pattern")||!this._match)&&(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},_finish(e,t){const n=this._counts,r=this._tuples||(this._tuples={}),i=t[0],o=t[1],s=e.fork(e.NO_SOURCE|e.NO_FIELDS);let a,l,u;for(a in n)l=r[a],u=n[a]||0,!l&&u?(r[a]=l=ir({}),l[i]=a,l[o]=u,s.add.push(l)):u===0?(l&&s.rem.push(l),n[a]=null,r[a]=null):l[o]!==u&&(l[o]=u,s.mod.push(l));return s.modifies(t)}});function QY(e){Se.call(this,null,e)}QY.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]};dt(QY,Se,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.as||["a","b"],i=r[0],o=r[1],s=!this.value||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter");let a=this.value;return s?(a&&(n.rem=a),a=t.materialize(t.SOURCE).source,n.add=this.value=X1t(a,i,o,e.filter||Wu)):n.mod=a,n.source=this.value,n.modifies(r)}});function X1t(e,t,n,r){for(var i=[],o={},s=e.length,a=0,l,u;a<s;++a)for(o[t]=u=e[a],l=0;l<s;++l)o[n]=e[l],r(o)&&(i.push(ir(o)),o={},o[t]=u);return i}const pue={kde:NY,mixture:IAe,normal:PY,lognormal:kAe,uniform:RAe},Q1t="distributions",mue="function",J1t="field";function UAe(e,t){const n=e[mue];Tt(pue,n)||Re("Unknown distribution function: "+n);const r=pue[n]();for(const i in e)i===J1t?r.data((e.from||t()).map(e[i])):i===Q1t?r[i](e[i].map(o=>UAe(o,t))):typeof r[i]===mue&&r[i](e[i]);return r}function JY(e){Se.call(this,null,e)}const HAe=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],Z1t={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:HAe},{name:"weights",type:"number",array:!0}]};JY.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:HAe.concat(Z1t)},{name:"as",type:"string",array:!0,default:["value","density"]}]};dt(JY,Se,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=UAe(e.distribution,ewt(t)),i=e.steps||e.minsteps||25,o=e.steps||e.maxsteps||200;let s=e.method||"pdf";s!=="pdf"&&s!=="cdf"&&Re("Invalid density method: "+s),!e.extent&&!r.data&&Re("Missing density extent parameter."),s=r[s];const a=e.as||["value","density"],l=e.extent||Ah(r.data()),u=cO(s,l,i,o).map(c=>{const d={};return d[a[0]]=c[0],d[a[1]]=c[1],ir(d)});this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});function ewt(e){return()=>e.materialize(e.SOURCE).source}function VAe(e,t){return e?e.map((n,r)=>t[r]||_i(n)):null}function ZY(e,t,n){const r=[],i=d=>d(l);let o,s,a,l,u,c;if(t==null)r.push(e.map(n));else for(o={},s=0,a=e.length;s<a;++s)l=e[s],u=t.map(i),c=o[u],c||(o[u]=c=[],c.dims=u,r.push(c)),c.push(n(l));return r}const WAe="bin";function eK(e){Se.call(this,null,e)}eK.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:WAe}]};const twt=(e,t)=>f2(Ah(e,t))/30;dt(eK,Se,{transform(e,t){if(this.value&&!(e.modified()||t.changed()))return t;const n=t.materialize(t.SOURCE).source,r=ZY(t.source,e.groupby,sa),i=e.smooth||!1,o=e.field,s=e.step||twt(n,o),a=db((p,m)=>o(p)-o(m)),l=e.as||WAe,u=r.length;let c=1/0,d=-1/0,h=0,f;for(;h<u;++h){const p=r[h].sort(a);f=-1;for(const m of CAe(p,s,i,o))m<c&&(c=m),m>d&&(d=m),p[++f][l]=m}return this.value={start:c,stop:d,step:s},t.reflow(!0).modifies(l)}});function qAe(e){Ir.call(this,null,nwt,e),this.modified(!0)}dt(qAe,Ir);function nwt(e){const t=e.expr;return this.value&&!e.modified("expr")?this.value:Al(n=>t(n,e),Qs(t),_i(t))}function tK(e){Se.call(this,[void 0,void 0],e)}tK.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};dt(tK,Se,{transform(e,t){const n=this.value,r=e.field,i=t.changed()||t.modified(r.fields)||e.modified("field");let o=n[0],s=n[1];if((i||o==null)&&(o=1/0,s=-1/0),t.visit(i?t.SOURCE:t.ADD,a=>{const l=Ks(r(a));l!=null&&(l<o&&(o=l),l>s&&(s=l))}),!Number.isFinite(o)||!Number.isFinite(s)){let a=_i(r);a&&(a=` for field "${a}"`),t.dataflow.warn(`Infinite extent${a}: [${o}, ${s}]`),o=s=void 0}this.value=[o,s]}});function nK(e,t){Ir.call(this,e),this.parent=t,this.count=0}dt(nK,Ir,{connect(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add(e){this.count+=1,this.value.add.push(e)},rem(e){this.count-=1,this.value.rem.push(e)},mod(e){this.value.mod.push(e)},init(e){this.value.init(e,e.NO_SOURCE)},evaluate(){return this.value}});function dO(e){Se.call(this,{},e),this._keys=S_();const t=this._targets=[];t.active=0,t.forEach=n=>{for(let r=0,i=t.active;r<i;++r)n(t[r],r,t)}}dt(dO,Se,{activate(e){this._targets[this._targets.active++]=e},subflow(e,t,n,r){const i=this.value;let o=Tt(i,e)&&i[e],s,a;return o?o.value.stamp<n.stamp&&(o.init(n),this.activate(o)):(a=r||(a=this._group[e])&&a.tuple,s=n.dataflow,o=new nK(n.fork(n.NO_SOURCE),this),s.add(o).connect(t(s,e,a)),i[e]=o,this.activate(o)),o},clean(){const e=this.value;let t=0;for(const n in e)if(e[n].count===0){const r=e[n].detachSubflow;r&&r(),delete e[n],++t}if(t){const n=this._targets.filter(r=>r&&r.count>0);this.initTargets(n)}},initTargets(e){const t=this._targets,n=t.length,r=e?e.length:0;let i=0;for(;i<r;++i)t[i]=e[i];for(;i<n&&t[i]!=null;++i)t[i]=null;t.active=r},transform(e,t){const n=t.dataflow,r=e.key,i=e.subflow,o=this._keys,s=e.modified("key"),a=l=>this.subflow(l,i,t);return this._group=e.group||{},this.initTargets(),t.visit(t.REM,l=>{const u=Ht(l),c=o.get(u);c!==void 0&&(o.delete(u),a(c).rem(l))}),t.visit(t.ADD,l=>{const u=r(l);o.set(Ht(l),u),a(u).add(l)}),s||t.modified(r.fields)?t.visit(t.MOD,l=>{const u=Ht(l),c=o.get(u),d=r(l);c===d?a(d).mod(l):(o.set(u,d),a(c).rem(l),a(d).add(l))}):t.changed(t.MOD)&&t.visit(t.MOD,l=>{a(o.get(Ht(l))).mod(l)}),s&&t.visit(t.REFLOW,l=>{const u=Ht(l),c=o.get(u),d=r(l);c!==d&&(o.set(u,d),a(c).rem(l),a(d).add(l))}),t.clean()?n.runAfter(()=>{this.clean(),o.clean()}):o.empty>n.cleanThreshold&&n.runAfter(o.clean),t}});function GAe(e){Ir.call(this,null,rwt,e)}dt(GAe,Ir);function rwt(e){return this.value&&!e.modified()?this.value:Pe(e.name)?_t(e.name).map(t=>Vu(t)):Vu(e.name,e.as)}function rK(e){Se.call(this,S_(),e)}rK.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};dt(rK,Se,{transform(e,t){const n=t.dataflow,r=this.value,i=t.fork(),o=i.add,s=i.rem,a=i.mod,l=e.expr;let u=!0;t.visit(t.REM,d=>{const h=Ht(d);r.has(h)?r.delete(h):s.push(d)}),t.visit(t.ADD,d=>{l(d,e)?o.push(d):r.set(Ht(d),1)});function c(d){const h=Ht(d),f=l(d,e),p=r.get(h);f&&p?(r.delete(h),o.push(d)):!f&&!p?(r.set(h,1),s.push(d)):u&&f&&!p&&a.push(d)}return t.visit(t.MOD,c),e.modified()&&(u=!1,t.visit(t.REFLOW,c)),r.empty>n.cleanThreshold&&n.runAfter(r.clean),i}});function iK(e){Se.call(this,[],e)}iK.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};dt(iK,Se,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=VAe(r,e.as||[]),o=e.index||null,s=i.length;return n.rem=this.value,t.visit(t.SOURCE,a=>{const l=r.map(p=>p(a)),u=l.reduce((p,m)=>Math.max(p,m.length),0);let c=0,d,h,f;for(;c<u;++c){for(h=AY(a),d=0;d<s;++d)h[i[d]]=(f=l[d][c])==null?null:f;o&&(h[o]=c),n.add.push(h)}}),this.value=n.source=n.add,o&&n.modifies(o),n.modifies(i)}});function oK(e){Se.call(this,[],e)}oK.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]};dt(oK,Se,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=r.map(_i),o=e.as||["key","value"],s=o[0],a=o[1],l=r.length;return n.rem=this.value,t.visit(t.SOURCE,u=>{for(let c=0,d;c<l;++c)d=AY(u),d[s]=i[c],d[a]=r[c](u),n.add.push(d)}),this.value=n.source=n.add,n.modifies(o)}});function sK(e){Se.call(this,null,e)}sK.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};dt(sK,Se,{transform(e,t){const n=e.expr,r=e.as,i=e.modified(),o=e.initonly?t.ADD:i?t.SOURCE:t.modified(n.fields)||t.modified(r)?t.ADD_MOD:t.ADD;return i&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(r),t.visit(o,s=>s[r]=n(s,e))}});function YAe(e){Se.call(this,[],e)}dt(YAe,Se,{transform(e,t){const n=t.fork(t.ALL),r=e.generator;let i=this.value,o=e.size-i.length,s,a,l;if(o>0){for(s=[];--o>=0;)s.push(l=ir(r(e))),i.push(l);n.add=n.add.length?n.materialize(n.ADD).add.concat(s):s}else a=i.slice(0,-o),n.rem=n.rem.length?n.materialize(n.REM).rem.concat(a):a,i=i.slice(-o);return n.source=this.value=i,n}});const y3={value:"value",median:wCe,mean:Byt,min:r7,max:Oy},iwt=[];function aK(e){Se.call(this,[],e)}aK.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]};function owt(e){var t=e.method||y3.value,n;if(y3[t]==null)Re("Unrecognized imputation method: "+t);else return t===y3.value?(n=e.value!==void 0?e.value:0,()=>n):y3[t]}function swt(e){const t=e.field;return n=>n?t(n):NaN}dt(aK,Se,{transform(e,t){var n=t.fork(t.ALL),r=owt(e),i=swt(e),o=_i(e.field),s=_i(e.key),a=(e.groupby||[]).map(_i),l=awt(t.source,e.groupby,e.key,e.keyvals),u=[],c=this.value,d=l.domain.length,h,f,p,m,g,y,v,b,_,x;for(g=0,b=l.length;g<b;++g)for(h=l[g],p=h.values,f=NaN,v=0;v<d;++v)if(h[v]==null){for(m=l.domain[v],x={_impute:!0},y=0,_=p.length;y<_;++y)x[a[y]]=p[y];x[s]=m,x[o]=Number.isNaN(f)?f=r(h,i):f,u.push(ir(x))}return u.length&&(n.add=n.materialize(n.ADD).add.concat(u)),c.length&&(n.rem=n.materialize(n.REM).rem.concat(c)),this.value=u,n}});function awt(e,t,n,r){var i=y=>y(g),o=[],s=r?r.slice():[],a={},l={},u,c,d,h,f,p,m,g;for(s.forEach((y,v)=>a[y]=v+1),h=0,m=e.length;h<m;++h)g=e[h],p=n(g),f=a[p]||(a[p]=s.push(p)),c=(u=t?t.map(i):iwt)+"",(d=l[c])||(d=l[c]=[],o.push(d),d.values=u),d[f-1]=g;return o.domain=s,o}function lK(e){Pg.call(this,e)}lK.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:g2},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};dt(lK,Pg,{transform(e,t){const n=this,r=e.modified();let i;return n.value&&(r||t.modified(n._inputs,!0))?(i=n.value=r?n.init(e):{},t.visit(t.SOURCE,o=>n.add(o))):(i=n.value=n.value||this.init(e),t.visit(t.REM,o=>n.rem(o)),t.visit(t.ADD,o=>n.add(o))),n.changes(),t.visit(t.SOURCE,o=>{yn(o,i[n.cellkey(o)].tuple)}),t.reflow(r).modifies(this._outputs)},changes(){const e=this._adds,t=this._mods;let n,r;for(n=0,r=this._alen;n<r;++n)this.celltuple(e[n]),e[n]=null;for(n=0,r=this._mlen;n<r;++n)this.celltuple(t[n]),t[n]=null;this._alen=this._mlen=0}});function uK(e){Se.call(this,null,e)}uK.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]};dt(uK,Se,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=ZY(r,e.groupby,e.field),o=(e.groupby||[]).map(_i),s=e.bandwidth,a=e.cumulative?"cdf":"pdf",l=e.as||["value","density"],u=[];let c=e.extent,d=e.steps||e.minsteps||25,h=e.steps||e.maxsteps||200;a!=="pdf"&&a!=="cdf"&&Re("Invalid density method: "+a),e.resolve==="shared"&&(c||(c=Ah(r,e.field)),d=h=e.steps||h),i.forEach(f=>{const p=NY(f,s)[a],m=e.counts?f.length:1,g=c||Ah(f);cO(p,g,d,h).forEach(y=>{const v={};for(let b=0;b<o.length;++b)v[o[b]]=f.dims[b];v[l[0]]=y[0],v[l[1]]=y[1]*m,u.push(ir(v))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});function KAe(e){Ir.call(this,null,lwt,e)}dt(KAe,Ir);function lwt(e){return this.value&&!e.modified()?this.value:dY(e.fields,e.flat)}function XAe(e){Se.call(this,[],e),this._pending=null}dt(XAe,Se,{transform(e,t){const n=t.dataflow;return this._pending?h6(this,t,this._pending):uwt(e)?t.StopPropagation:e.values?h6(this,t,n.parse(e.values,e.format)):e.async?{async:n.request(e.url,e.format).then(i=>(this._pending=_t(i.data),o=>o.touch(this)))}:n.request(e.url,e.format).then(r=>h6(this,t,_t(r.data)))}});function uwt(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}function h6(e,t,n){n.forEach(ir);const r=t.fork(t.NO_FIELDS&t.NO_SOURCE);return r.rem=e.value,e.value=r.source=r.add=n,e._pending=null,r.rem.length&&r.clean(!0),r}function cK(e){Se.call(this,{},e)}cK.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]};dt(cK,Se,{transform(e,t){const n=e.fields,r=e.index,i=e.values,o=e.default==null?null:e.default,s=e.modified(),a=n.length;let l=s?t.SOURCE:t.ADD,u=t,c=e.as,d,h,f;return i?(h=i.length,a>1&&!c&&Re('Multi-field lookup requires explicit "as" parameter.'),c&&c.length!==a*h&&Re('The "as" parameter has too few output field names.'),c=c||i.map(_i),d=function(p){for(var m=0,g=0,y,v;m<a;++m)if(v=r.get(n[m](p)),v==null)for(y=0;y<h;++y,++g)p[c[g]]=o;else for(y=0;y<h;++y,++g)p[c[g]]=i[y](v)}):(c||Re("Missing output field names."),d=function(p){for(var m=0,g;m<a;++m)g=r.get(n[m](p)),p[c[m]]=g??o}),s?u=t.reflow(!0):(f=n.some(p=>t.modified(p.fields)),l|=f?t.MOD:0),t.visit(l,d),u.modifies(c)}});function QAe(e){Ir.call(this,null,cwt,e)}dt(QAe,Ir);function cwt(e){if(this.value&&!e.modified())return this.value;const t=e.extents,n=t.length;let r=1/0,i=-1/0,o,s;for(o=0;o<n;++o)s=t[o],s[0]<r&&(r=s[0]),s[1]>i&&(i=s[1]);return[r,i]}function JAe(e){Ir.call(this,null,dwt,e)}dt(JAe,Ir);function dwt(e){return this.value&&!e.modified()?this.value:e.values.reduce((t,n)=>t.concat(n),[])}function ZAe(e){Se.call(this,null,e)}dt(ZAe,Se,{transform(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function dK(e){Pg.call(this,e)}dK.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:g2,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};dt(dK,Pg,{_transform:Pg.prototype.transform,transform(e,t){return this._transform(hwt(e,t),t)}});function hwt(e,t){const n=e.field,r=e.value,i=(e.op==="count"?"__count__":e.op)||"sum",o=Qs(n).concat(Qs(r)),s=pwt(n,e.limit||0,t);return t.changed()&&e.set("__pivot__",null,null,!0),{key:e.key,groupby:e.groupby,ops:s.map(()=>i),fields:s.map(a=>fwt(a,n,r,o)),as:s.map(a=>a+""),modified:e.modified.bind(e)}}function fwt(e,t,n,r){return Al(i=>t(i)===e?n(i):NaN,r,e+"")}function pwt(e,t,n){const r={},i=[];return n.visit(n.SOURCE,o=>{const s=e(o);r[s]||(r[s]=1,i.push(s))}),i.sort(E_),t?i.slice(0,t):i}function e2e(e){dO.call(this,e)}dt(e2e,dO,{transform(e,t){const n=e.subflow,r=e.field,i=o=>this.subflow(Ht(o),n,t,o);return(e.modified("field")||r&&t.modified(Qs(r)))&&Re("PreFacet does not support field modification."),this.initTargets(),r?(t.visit(t.MOD,o=>{const s=i(o);r(o).forEach(a=>s.mod(a))}),t.visit(t.ADD,o=>{const s=i(o);r(o).forEach(a=>s.add(ir(a)))}),t.visit(t.REM,o=>{const s=i(o);r(o).forEach(a=>s.rem(a))})):(t.visit(t.MOD,o=>i(o).mod(o)),t.visit(t.ADD,o=>i(o).add(o)),t.visit(t.REM,o=>i(o).rem(o))),t.clean()&&t.runAfter(()=>this.clean()),t}});function hK(e){Se.call(this,null,e)}hK.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]};dt(hK,Se,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=VAe(e.fields,e.as||[]),o=r?(a,l)=>mwt(a,l,r,i):rO;let s;return this.value?s=this.value:(t=t.addAll(),s=this.value={}),t.visit(t.REM,a=>{const l=Ht(a);n.rem.push(s[l]),s[l]=null}),t.visit(t.ADD,a=>{const l=o(a,ir({}));s[Ht(a)]=l,n.add.push(l)}),t.visit(t.MOD,a=>{n.mod.push(o(a,s[Ht(a)]))}),n}});function mwt(e,t,n,r){for(let i=0,o=n.length;i<o;++i)t[r[i]]=n[i](e);return t}function t2e(e){Se.call(this,null,e)}dt(t2e,Se,{transform(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function fK(e){Se.call(this,null,e)}fK.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};const gwt=1e-14;dt(fK,Se,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;const i=t.materialize(t.SOURCE).source,o=ZY(i,e.groupby,e.field),s=(e.groupby||[]).map(_i),a=[],l=e.step||.01,u=e.probs||Ul(l/2,1-gwt,l),c=u.length;return o.forEach(d=>{const h=RY(d,u);for(let f=0;f<c;++f){const p={};for(let m=0;m<s.length;++m)p[s[m]]=d.dims[m];p[r[0]]=u[f],p[r[1]]=h[f],a.push(ir(p))}}),this.value&&(n.rem=this.value),this.value=n.add=n.source=a,n}});function n2e(e){Se.call(this,null,e)}dt(n2e,Se,{transform(e,t){let n,r;return this.value?r=this.value:(n=t=t.addAll(),r=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,i=>{const o=Ht(i);n.rem.push(r[o]),r[o]=null}),t.visit(t.ADD,i=>{const o=AY(i);r[Ht(i)]=o,n.add.push(o)}),t.visit(t.MOD,i=>{const o=r[Ht(i)];for(const s in i)o[s]=i[s],n.modifies(s);n.mod.push(o)})),n}});function pK(e){Se.call(this,[],e),this.count=0}pK.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]};dt(pK,Se,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.modified("size"),i=e.size,o=this.value.reduce((c,d)=>(c[Ht(d)]=1,c),{});let s=this.value,a=this.count,l=0;function u(c){let d,h;s.length<i?s.push(c):(h=~~((a+1)*Gu()),h<s.length&&h>=l&&(d=s[h],o[Ht(d)]&&n.rem.push(d),s[h]=c)),++a}if(t.rem.length&&(t.visit(t.REM,c=>{const d=Ht(c);o[d]&&(o[d]=-1,n.rem.push(c)),--a}),s=s.filter(c=>o[Ht(c)]!==-1)),(t.rem.length||r)&&s.length<i&&t.source&&(l=a=s.length,t.visit(t.SOURCE,c=>{o[Ht(c)]||u(c)}),l=-1),r&&s.length>i){const c=s.length-i;for(let d=0;d<c;++d)o[Ht(s[d])]=-1,n.rem.push(s[d]);s=s.slice(c)}return t.mod.length&&t.visit(t.MOD,c=>{o[Ht(c)]&&n.mod.push(c)}),t.add.length&&t.visit(t.ADD,u),(t.add.length||l<0)&&(n.add=s.filter(c=>!o[Ht(c)])),this.count=a,this.value=n.source=s,n}});function mK(e){Se.call(this,null,e)}mK.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]};dt(mK,Se,{transform(e,t){if(this.value&&!e.modified())return;const n=t.materialize().fork(t.MOD),r=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=Ul(e.start,e.stop,e.step||1).map(i=>{const o={};return o[r]=i,ir(o)}),n.add=t.add.concat(this.value),n}});function r2e(e){Se.call(this,null,e),this.modified(!0)}dt(r2e,Se,{transform(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function gK(e){Se.call(this,null,e)}const i2e=["unit0","unit1"];gK.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:vY,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:i2e}]};dt(gK,Se,{transform(e,t){const n=e.field,r=e.interval!==!1,i=e.timezone==="utc",o=this._floor(e,t),s=(i?I_:k_)(o.unit).offset,a=e.as||i2e,l=a[0],u=a[1],c=o.step;let d=o.start||1/0,h=o.stop||-1/0,f=t.ADD;return(e.modified()||t.changed(t.REM)||t.modified(Qs(n)))&&(t=t.reflow(!0),f=t.SOURCE,d=1/0,h=-1/0),t.visit(f,p=>{const m=n(p);let g,y;m==null?(p[l]=null,r&&(p[u]=null)):(p[l]=g=y=o(m),r&&(p[u]=y=s(g,c)),g<d&&(d=g),y>h&&(h=y))}),o.start=d,o.stop=h,t.modifies(r?a:l)},_floor(e,t){const n=e.timezone==="utc",{units:r,step:i}=e.units?{units:e.units,step:e.step||1}:YCe({extent:e.extent||Ah(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),o=bY(r),s=this.value||{},a=(n?BCe:FCe)(o,i);return a.unit=zn(o),a.units=o,a.step=i,a.start=s.start,a.stop=s.stop,this.value=a}});function o2e(e){Se.call(this,S_(),e)}dt(o2e,Se,{transform(e,t){const n=t.dataflow,r=e.field,i=this.value,o=a=>i.set(r(a),a);let s=!0;return e.modified("field")||t.modified(r.fields)?(i.clear(),t.visit(t.SOURCE,o)):t.changed()?(t.visit(t.REM,a=>i.delete(r(a))),t.visit(t.ADD,o)):s=!1,this.modified(s),i.empty>n.cleanThreshold&&n.runAfter(i.clean),t.fork()}});function s2e(e){Se.call(this,null,e)}dt(s2e,Se,{transform(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(db(e.sort)):t.source).map(e.field))}});function ywt(e,t,n,r){const i=BC[e](t,n);return{init:i.init||$m,update:function(o,s){s[r]=i.next(o)}}}const BC={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?e=n+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?++e:e}}},percent_rank:function(){const e=BC.rank(),t=e.next;return{init:e.init,next:n=>(t(n)-1)/(n.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:t=>{const n=t.data,r=t.compare;let i=t.index;if(e<i){for(;i+1<n.length&&!r(n[i],n[i+1]);)++i;e=i}return(1+e)/n.length}}},ntile:function(e,t){t=+t,t>0||Re("ntile num must be greater than zero.");const n=BC.cume_dist(),r=n.next;return{init:n.init,next:i=>Math.ceil(t*r(i))}},lag:function(e,t){return t=+t||1,{next:n=>{const r=n.index-t;return r>=0?e(n.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:n=>{const r=n.index+t,i=n.data;return r<i.length?e(i[r]):null}}},first_value:function(e){return{next:t=>e(t.data[t.i0])}},last_value:function(e){return{next:t=>e(t.data[t.i1-1])}},nth_value:function(e,t){return t=+t,t>0||Re("nth_value nth must be greater than zero."),{next:n=>{const r=n.i0+(t-1);return r<n.i1?e(n.data[r]):null}}},prev_value:function(e){let t;return{init:()=>t=null,next:n=>{const r=e(n.data[n.index]);return r!=null?t=r:t}}},next_value:function(e){let t,n;return{init:()=>(t=null,n=-1),next:r=>{const i=r.data;return r.index<=n?t:(n=vwt(e,i,r.index))<0?(n=i.length,t=null):t=e(i[n])}}}};function vwt(e,t,n){for(let r=t.length;n<r;++n)if(e(t[n])!=null)return n;return-1}const bwt=Object.keys(BC);function a2e(e){const t=_t(e.ops),n=_t(e.fields),r=_t(e.params),i=_t(e.aggregate_params),o=_t(e.as),s=this.outputs=[],a=this.windows=[],l={},u={},c=[],d=[];let h=!0;function f(p){_t(Qs(p)).forEach(m=>l[m]=1)}f(e.sort),t.forEach((p,m)=>{const g=n[m],y=r[m],v=i[m]||null,b=_i(g),_=OAe(p,b,o[m]);if(f(g),s.push(_),Tt(BC,p))a.push(ywt(p,g,y,_));else{if(g==null&&p!=="count"&&Re("Null aggregate field specified."),p==="count"){c.push(_);return}h=!1;let x=u[b];x||(x=u[b]=[],x.field=g,d.push(x)),x.push(LAe(p,v,_))}}),(c.length||d.length)&&(this.cell=wwt(d,c,h)),this.inputs=Object.keys(l)}const l2e=a2e.prototype;l2e.init=function(){this.windows.forEach(e=>e.init()),this.cell&&this.cell.init()};l2e.update=function(e,t){const n=this.cell,r=this.windows,i=e.data,o=r&&r.length;let s;if(n){for(s=e.p0;s<e.i0;++s)n.rem(i[s]);for(s=e.p1;s<e.i1;++s)n.add(i[s]);n.set(t)}for(s=0;s<o;++s)r[s].update(e,t)};function wwt(e,t,n){e=e.map(l=>BAe(l,l.field));const r={num:0,agg:null,store:!1,count:t};if(!n)for(var i=e.length,o=r.agg=Array(i),s=0;s<i;++s)o[s]=new e[s](r);if(r.store)var a=r.data=new GY;return r.add=function(l){if(r.num+=1,!n){a&&a.add(l);for(let u=0;u<i;++u)o[u].add(o[u].get(l),l)}},r.rem=function(l){if(r.num-=1,!n){a&&a.rem(l);for(let u=0;u<i;++u)o[u].rem(o[u].get(l),l)}},r.set=function(l){let u,c;for(a&&a.values(),u=0,c=t.length;u<c;++u)l[t[u]]=r.num;if(!n)for(u=0,c=o.length;u<c;++u)o[u].set(l)},r.init=function(){r.num=0,a&&a.reset();for(let l=0;l<i;++l)o[l].init()},r}function yK(e){Se.call(this,{},e),this._mlen=0,this._mods=[]}yK.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:bwt.concat(g2)},{name:"params",type:"number",null:!0,array:!0},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};dt(yK,Se,{transform(e,t){this.stamp=t.stamp;const n=e.modified(),r=db(e.sort),i=p7(e.groupby),o=a=>this.group(i(a));let s=this.state;(!s||n)&&(s=this.state=new a2e(e)),n||t.modified(s.inputs)?(this.value={},t.visit(t.SOURCE,a=>o(a).add(a))):(t.visit(t.REM,a=>o(a).remove(a)),t.visit(t.ADD,a=>o(a).add(a)));for(let a=0,l=this._mlen;a<l;++a)xwt(this._mods[a],s,r,e);return this._mlen=0,this._mods=[],t.reflow(n).modifies(s.outputs)},group(e){let t=this.value[e];return t||(t=this.value[e]=jAe(Ht),t.stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}});function xwt(e,t,n,r){const i=r.sort,o=i&&!r.ignorePeers,s=r.frame||[null,0],a=e.data(n),l=a.length,u=o?T_(i):null,c={i0:0,i1:0,p0:0,p1:0,index:0,data:a,compare:i||aa(-1)};t.init();for(let d=0;d<l;++d)_wt(c,s,d,l),o&&Ewt(c,u),t.update(c,a[d])}function _wt(e,t,n,r){e.p0=e.i0,e.p1=e.i1,e.i0=t[0]==null?0:Math.max(0,n-Math.abs(t[0])),e.i1=t[1]==null?r:Math.min(r,n+Math.abs(t[1])+1),e.index=n}function Ewt(e,t){const n=e.i0,r=e.i1-1,i=e.compare,o=e.data,s=o.length-1;n>0&&!i(o[n],o[n-1])&&(e.i0=t.left(o,o[n])),r<s&&!i(o[r],o[r+1])&&(e.i1=t.right(o,o[r]))}const Swt=Object.freeze(Object.defineProperty({__proto__:null,aggregate:Pg,bin:YY,collect:KY,compare:zAe,countpattern:XY,cross:QY,density:JY,dotbin:eK,expression:qAe,extent:tK,facet:dO,field:GAe,filter:rK,flatten:iK,fold:oK,formula:sK,generate:YAe,impute:aK,joinaggregate:lK,kde:uK,key:KAe,load:XAe,lookup:cK,multiextent:QAe,multivalues:JAe,params:ZAe,pivot:dK,prefacet:e2e,project:hK,proxy:t2e,quantile:fK,relay:n2e,sample:pK,sequence:mK,sieve:r2e,subflow:nK,timeunit:gK,tupleindex:o2e,values:s2e,window:yK},Symbol.toStringTag,{value:"Module"}));function sr(e){return function(){return e}}const gue=Math.abs,Ns=Math.atan2,D0=Math.cos,Twt=Math.max,f6=Math.min,Rd=Math.sin,Sy=Math.sqrt,Bs=1e-12,Zw=Math.PI,wD=Zw/2,u2e=2*Zw;function Cwt(e){return e>1?0:e<-1?Zw:Math.acos(e)}function yue(e){return e>=1?wD:e<=-1?-wD:Math.asin(e)}const m7=Math.PI,g7=2*m7,ny=1e-6,Awt=g7-ny;function c2e(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function kwt(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return c2e;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let vK=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?c2e:kwt(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-t,u=i-n,c=s-t,d=a-n,h=c*c+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>ny)if(!(Math.abs(d*l-u*c)>ny)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let f=r-s,p=i-a,m=l*l+u*u,g=f*f+p*p,y=Math.sqrt(m),v=Math.sqrt(h),b=o*Math.tan((m7-Math.acos((m+h-g)/(2*y*v)))/2),_=b/v,x=b/y;Math.abs(_-1)>ny&&this._append`L${t+_*c},${n+_*d}`,this._append`A${o},${o},0,0,${+(d*f>c*p)},${this._x1=t+x*l},${this._y1=n+x*u}`}}arc(t,n,r,i,o,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=t+a,c=n+l,d=1^s,h=s?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>ny||Math.abs(this._y1-c)>ny)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%g7+g7),h>Awt?this._append`A${r},${r},0,1,${d},${t-a},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:h>ny&&this._append`A${r},${r},0,${+(h>=m7)},${d},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function hO(){return new vK}hO.prototype=vK.prototype;function fO(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new vK(t)}function Iwt(e){return e.innerRadius}function Rwt(e){return e.outerRadius}function $wt(e){return e.startAngle}function Dwt(e){return e.endAngle}function Mwt(e){return e&&e.padAngle}function Pwt(e,t,n,r,i,o,s,a){var l=n-e,u=r-t,c=s-i,d=a-o,h=d*l-c*u;if(!(h*h<Bs))return h=(c*(t-o)-d*(e-i))/h,[e+h*l,t+h*u]}function v3(e,t,n,r,i,o,s){var a=e-n,l=t-r,u=(s?o:-o)/Sy(a*a+l*l),c=u*l,d=-u*a,h=e+c,f=t+d,p=n+c,m=r+d,g=(h+p)/2,y=(f+m)/2,v=p-h,b=m-f,_=v*v+b*b,x=i-o,w=h*m-p*f,E=(b<0?-1:1)*Sy(Twt(0,x*x*_-w*w)),S=(w*b-v*E)/_,T=(-w*v-b*E)/_,C=(w*b+v*E)/_,D=(-w*v+b*E)/_,$=S-g,I=T-y,R=C-g,A=D-y;return $*$+I*I>R*R+A*A&&(S=C,T=D),{cx:S,cy:T,x01:-c,y01:-d,x11:S*(i/x-1),y11:T*(i/x-1)}}function Nwt(){var e=Iwt,t=Rwt,n=sr(0),r=null,i=$wt,o=Dwt,s=Mwt,a=null,l=fO(u);function u(){var c,d,h=+e.apply(this,arguments),f=+t.apply(this,arguments),p=i.apply(this,arguments)-wD,m=o.apply(this,arguments)-wD,g=gue(m-p),y=m>p;if(a||(a=c=l()),f<h&&(d=f,f=h,h=d),!(f>Bs))a.moveTo(0,0);else if(g>u2e-Bs)a.moveTo(f*D0(p),f*Rd(p)),a.arc(0,0,f,p,m,!y),h>Bs&&(a.moveTo(h*D0(m),h*Rd(m)),a.arc(0,0,h,m,p,y));else{var v=p,b=m,_=p,x=m,w=g,E=g,S=s.apply(this,arguments)/2,T=S>Bs&&(r?+r.apply(this,arguments):Sy(h*h+f*f)),C=f6(gue(f-h)/2,+n.apply(this,arguments)),D=C,$=C,I,R;if(T>Bs){var A=yue(T/h*Rd(S)),M=yue(T/f*Rd(S));(w-=A*2)>Bs?(A*=y?1:-1,_+=A,x-=A):(w=0,_=x=(p+m)/2),(E-=M*2)>Bs?(M*=y?1:-1,v+=M,b-=M):(E=0,v=b=(p+m)/2)}var N=f*D0(v),L=f*Rd(v),z=h*D0(x),F=h*Rd(x);if(C>Bs){var j=f*D0(b),W=f*Rd(b),B=h*D0(_),H=h*Rd(_),V;if(g<Zw)if(V=Pwt(N,L,B,H,j,W,z,F)){var G=N-V[0],ne=L-V[1],X=j-V[0],te=W-V[1],se=1/Rd(Cwt((G*X+ne*te)/(Sy(G*G+ne*ne)*Sy(X*X+te*te)))/2),ve=Sy(V[0]*V[0]+V[1]*V[1]);D=f6(C,(h-ve)/(se-1)),$=f6(C,(f-ve)/(se+1))}else D=$=0}E>Bs?$>Bs?(I=v3(B,H,N,L,f,$,y),R=v3(j,W,z,F,f,$,y),a.moveTo(I.cx+I.x01,I.cy+I.y01),$<C?a.arc(I.cx,I.cy,$,Ns(I.y01,I.x01),Ns(R.y01,R.x01),!y):(a.arc(I.cx,I.cy,$,Ns(I.y01,I.x01),Ns(I.y11,I.x11),!y),a.arc(0,0,f,Ns(I.cy+I.y11,I.cx+I.x11),Ns(R.cy+R.y11,R.cx+R.x11),!y),a.arc(R.cx,R.cy,$,Ns(R.y11,R.x11),Ns(R.y01,R.x01),!y))):(a.moveTo(N,L),a.arc(0,0,f,v,b,!y)):a.moveTo(N,L),!(h>Bs)||!(w>Bs)?a.lineTo(z,F):D>Bs?(I=v3(z,F,j,W,h,-D,y),R=v3(N,L,B,H,h,-D,y),a.lineTo(I.cx+I.x01,I.cy+I.y01),D<C?a.arc(I.cx,I.cy,D,Ns(I.y01,I.x01),Ns(R.y01,R.x01),!y):(a.arc(I.cx,I.cy,D,Ns(I.y01,I.x01),Ns(I.y11,I.x11),!y),a.arc(0,0,h,Ns(I.cy+I.y11,I.cx+I.x11),Ns(R.cy+R.y11,R.cx+R.x11),y),a.arc(R.cx,R.cy,D,Ns(R.y11,R.x11),Ns(R.y01,R.x01),!y))):a.arc(0,0,h,x,_,y)}if(a.closePath(),c)return a=null,c+""||null}return u.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,d=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Zw/2;return[D0(d)*c,Rd(d)*c]},u.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:sr(+c),u):e},u.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:sr(+c),u):t},u.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:sr(+c),u):n},u.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:sr(+c),u):r},u.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:sr(+c),u):i},u.endAngle=function(c){return arguments.length?(o=typeof c=="function"?c:sr(+c),u):o},u.padAngle=function(c){return arguments.length?(s=typeof c=="function"?c:sr(+c),u):s},u.context=function(c){return arguments.length?(a=c??null,u):a},u}function d2e(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function h2e(e){this._context=e}h2e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function bK(e){return new h2e(e)}function f2e(e){return e[0]}function p2e(e){return e[1]}function m2e(e,t){var n=sr(!0),r=null,i=bK,o=null,s=fO(a);e=typeof e=="function"?e:e===void 0?f2e:sr(e),t=typeof t=="function"?t:t===void 0?p2e:sr(t);function a(l){var u,c=(l=d2e(l)).length,d,h=!1,f;for(r==null&&(o=i(f=s())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(d,u,l),+t(d,u,l));if(f)return o=null,f+""||null}return a.x=function(l){return arguments.length?(e=typeof l=="function"?l:sr(+l),a):e},a.y=function(l){return arguments.length?(t=typeof l=="function"?l:sr(+l),a):t},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:sr(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function g2e(e,t,n){var r=null,i=sr(!0),o=null,s=bK,a=null,l=fO(u);e=typeof e=="function"?e:e===void 0?f2e:sr(+e),t=typeof t=="function"?t:sr(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?p2e:sr(+n);function u(d){var h,f,p,m=(d=d2e(d)).length,g,y=!1,v,b=new Array(m),_=new Array(m);for(o==null&&(a=s(v=l())),h=0;h<=m;++h){if(!(h<m&&i(g=d[h],h,d))===y)if(y=!y)f=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),p=h-1;p>=f;--p)a.point(b[p],_[p]);a.lineEnd(),a.areaEnd()}y&&(b[h]=+e(g,h,d),_[h]=+t(g,h,d),a.point(r?+r(g,h,d):b[h],n?+n(g,h,d):_[h]))}if(v)return a=null,v+""||null}function c(){return m2e().defined(i).curve(s).context(o)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:sr(+d),r=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:sr(+d),u):e},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:sr(+d),u):r},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:sr(+d),n=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:sr(+d),u):t},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:sr(+d),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:sr(!!d),u):i},u.curve=function(d){return arguments.length?(s=d,o!=null&&(a=s(o)),u):s},u.context=function(d){return arguments.length?(d==null?o=a=null:a=s(o=d),u):o},u}const Owt={draw(e,t){const n=Sy(t/Zw);e.moveTo(n,0),e.arc(0,0,n,0,u2e)}};function Lwt(e,t){let n=null,r=fO(i);e=typeof e=="function"?e:sr(e||Owt),t=typeof t=="function"?t:sr(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:sr(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:sr(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Ng(){}function xD(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function pO(e){this._context=e}pO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:xD(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:xD(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Fwt(e){return new pO(e)}function y2e(e){this._context=e}y2e.prototype={areaStart:Ng,areaEnd:Ng,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:xD(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Bwt(e){return new y2e(e)}function v2e(e){this._context=e}v2e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:xD(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function jwt(e){return new v2e(e)}function b2e(e,t){this._basis=new pO(e),this._beta=t}b2e.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],o=e[n]-r,s=t[n]-i,a=-1,l;++a<=n;)l=a/n,this._basis.point(this._beta*e[a]+(1-this._beta)*(r+l*o),this._beta*t[a]+(1-this._beta)*(i+l*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const zwt=function e(t){function n(r){return t===1?new pO(r):new b2e(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function _D(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function wK(e,t){this._context=e,this._k=(1-t)/6}wK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:_D(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:_D(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Uwt=function e(t){function n(r){return new wK(r,t)}return n.tension=function(r){return e(+r)},n}(0);function xK(e,t){this._context=e,this._k=(1-t)/6}xK.prototype={areaStart:Ng,areaEnd:Ng,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:_D(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Hwt=function e(t){function n(r){return new xK(r,t)}return n.tension=function(r){return e(+r)},n}(0);function _K(e,t){this._context=e,this._k=(1-t)/6}_K.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:_D(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Vwt=function e(t){function n(r){return new _K(r,t)}return n.tension=function(r){return e(+r)},n}(0);function EK(e,t,n){var r=e._x1,i=e._y1,o=e._x2,s=e._y2;if(e._l01_a>Bs){var a=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*a-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*a-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>Bs){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*u+e._x1*e._l23_2a-t*e._l12_2a)/c,s=(s*u+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,i,o,s,e._x2,e._y2)}function w2e(e,t){this._context=e,this._alpha=t}w2e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:EK(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Wwt=function e(t){function n(r){return t?new w2e(r,t):new wK(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function x2e(e,t){this._context=e,this._alpha=t}x2e.prototype={areaStart:Ng,areaEnd:Ng,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:EK(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const qwt=function e(t){function n(r){return t?new x2e(r,t):new xK(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function _2e(e,t){this._context=e,this._alpha=t}_2e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:EK(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Gwt=function e(t){function n(r){return t?new _2e(r,t):new _K(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function E2e(e){this._context=e}E2e.prototype={areaStart:Ng,areaEnd:Ng,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Ywt(e){return new E2e(e)}function vue(e){return e<0?-1:1}function bue(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(vue(o)+vue(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function wue(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function p6(e,t,n){var r=e._x0,i=e._y0,o=e._x1,s=e._y1,a=(o-r)/3;e._context.bezierCurveTo(r+a,i+a*t,o-a,s-a*n,o,s)}function ED(e){this._context=e}ED.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:p6(this,this._t0,wue(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,p6(this,wue(this,n=bue(this,e,t)),n);break;default:p6(this,this._t0,n=bue(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function S2e(e){this._context=new T2e(e)}(S2e.prototype=Object.create(ED.prototype)).point=function(e,t){ED.prototype.point.call(this,t,e)};function T2e(e){this._context=e}T2e.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function Kwt(e){return new ED(e)}function Xwt(e){return new S2e(e)}function C2e(e){this._context=e}C2e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=xue(e),i=xue(t),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function xue(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function Qwt(e){return new C2e(e)}function mO(e,t){this._context=e,this._t=t}mO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Jwt(e){return new mO(e,.5)}function Zwt(e){return new mO(e,0)}function ext(e){return new mO(e,1)}function hg(e,t){if(typeof document<"u"&&document.createElement){const n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}const txt=()=>typeof Image<"u"?Image:null;function Wh(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function c0(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const y7=Symbol("implicit");function SK(){var e=new Fle,t=[],n=[],r=y7;function i(o){let s=e.get(o);if(s===void 0){if(r!==y7)return r;e.set(o,s=t.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new Fle;for(const s of o)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return SK(t,n).unknown(r)},Wh.apply(i,arguments),i}function $_(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function y2(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function d0(){}var dv=.7,ex=1/dv,dw="\\s*([+-]?\\d+)\\s*",jC="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",mh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nxt=/^#([0-9a-f]{3,8})$/,rxt=new RegExp(`^rgb\\(${dw},${dw},${dw}\\)$`),ixt=new RegExp(`^rgb\\(${mh},${mh},${mh}\\)$`),oxt=new RegExp(`^rgba\\(${dw},${dw},${dw},${jC}\\)$`),sxt=new RegExp(`^rgba\\(${mh},${mh},${mh},${jC}\\)$`),axt=new RegExp(`^hsl\\(${jC},${mh},${mh}\\)$`),lxt=new RegExp(`^hsla\\(${jC},${mh},${mh},${jC}\\)$`),_ue={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$_(d0,hv,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Eue,formatHex:Eue,formatHex8:uxt,formatHsl:cxt,formatRgb:Sue,toString:Sue});function Eue(){return this.rgb().formatHex()}function uxt(){return this.rgb().formatHex8()}function cxt(){return A2e(this).formatHsl()}function Sue(){return this.rgb().formatRgb()}function hv(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=nxt.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Tue(t):n===3?new To(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?b3(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?b3(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=rxt.exec(e))?new To(t[1],t[2],t[3],1):(t=ixt.exec(e))?new To(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=oxt.exec(e))?b3(t[1],t[2],t[3],t[4]):(t=sxt.exec(e))?b3(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=axt.exec(e))?kue(t[1],t[2]/100,t[3]/100,1):(t=lxt.exec(e))?kue(t[1],t[2]/100,t[3]/100,t[4]):_ue.hasOwnProperty(e)?Tue(_ue[e]):e==="transparent"?new To(NaN,NaN,NaN,0):null}function Tue(e){return new To(e>>16&255,e>>8&255,e&255,1)}function b3(e,t,n,r){return r<=0&&(e=t=n=NaN),new To(e,t,n,r)}function TK(e){return e instanceof d0||(e=hv(e)),e?(e=e.rgb(),new To(e.r,e.g,e.b,e.opacity)):new To}function Og(e,t,n,r){return arguments.length===1?TK(e):new To(e,t,n,r??1)}function To(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}$_(To,Og,y2(d0,{brighter(e){return e=e==null?ex:Math.pow(ex,e),new To(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?dv:Math.pow(dv,e),new To(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new To(Ly(this.r),Ly(this.g),Ly(this.b),SD(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Cue,formatHex:Cue,formatHex8:dxt,formatRgb:Aue,toString:Aue}));function Cue(){return`#${Ty(this.r)}${Ty(this.g)}${Ty(this.b)}`}function dxt(){return`#${Ty(this.r)}${Ty(this.g)}${Ty(this.b)}${Ty((isNaN(this.opacity)?1:this.opacity)*255)}`}function Aue(){const e=SD(this.opacity);return`${e===1?"rgb(":"rgba("}${Ly(this.r)}, ${Ly(this.g)}, ${Ly(this.b)}${e===1?")":`, ${e})`}`}function SD(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ly(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ty(e){return e=Ly(e),(e<16?"0":"")+e.toString(16)}function kue(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Dc(e,t,n,r)}function A2e(e){if(e instanceof Dc)return new Dc(e.h,e.s,e.l,e.opacity);if(e instanceof d0||(e=hv(e)),!e)return new Dc;if(e instanceof Dc)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Dc(s,a,l,e.opacity)}function TD(e,t,n,r){return arguments.length===1?A2e(e):new Dc(e,t,n,r??1)}function Dc(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}$_(Dc,TD,y2(d0,{brighter(e){return e=e==null?ex:Math.pow(ex,e),new Dc(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?dv:Math.pow(dv,e),new Dc(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new To(m6(e>=240?e-240:e+120,i,r),m6(e,i,r),m6(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Dc(Iue(this.h),w3(this.s),w3(this.l),SD(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=SD(this.opacity);return`${e===1?"hsl(":"hsla("}${Iue(this.h)}, ${w3(this.s)*100}%, ${w3(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Iue(e){return e=(e||0)%360,e<0?e+360:e}function w3(e){return Math.max(0,Math.min(1,e||0))}function m6(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const k2e=Math.PI/180,I2e=180/Math.PI,CD=18,R2e=.96422,$2e=1,D2e=.82521,M2e=4/29,hw=6/29,P2e=3*hw*hw,hxt=hw*hw*hw;function N2e(e){if(e instanceof gh)return new gh(e.l,e.a,e.b,e.opacity);if(e instanceof Hf)return O2e(e);e instanceof To||(e=TK(e));var t=b6(e.r),n=b6(e.g),r=b6(e.b),i=g6((.2225045*t+.7168786*n+.0606169*r)/$2e),o,s;return t===n&&n===r?o=s=i:(o=g6((.4360747*t+.3850649*n+.1430804*r)/R2e),s=g6((.0139322*t+.0971045*n+.7141733*r)/D2e)),new gh(116*i-16,500*(o-i),200*(i-s),e.opacity)}function AD(e,t,n,r){return arguments.length===1?N2e(e):new gh(e,t,n,r??1)}function gh(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}$_(gh,AD,y2(d0,{brighter(e){return new gh(this.l+CD*(e??1),this.a,this.b,this.opacity)},darker(e){return new gh(this.l-CD*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=R2e*y6(t),e=$2e*y6(e),n=D2e*y6(n),new To(v6(3.1338561*t-1.6168667*e-.4906146*n),v6(-.9787684*t+1.9161415*e+.033454*n),v6(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function g6(e){return e>hxt?Math.pow(e,1/3):e/P2e+M2e}function y6(e){return e>hw?e*e*e:P2e*(e-M2e)}function v6(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function b6(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function fxt(e){if(e instanceof Hf)return new Hf(e.h,e.c,e.l,e.opacity);if(e instanceof gh||(e=N2e(e)),e.a===0&&e.b===0)return new Hf(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*I2e;return new Hf(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function kD(e,t,n,r){return arguments.length===1?fxt(e):new Hf(e,t,n,r??1)}function Hf(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function O2e(e){if(isNaN(e.h))return new gh(e.l,0,0,e.opacity);var t=e.h*k2e;return new gh(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}$_(Hf,kD,y2(d0,{brighter(e){return new Hf(this.h,this.c,this.l+CD*(e??1),this.opacity)},darker(e){return new Hf(this.h,this.c,this.l-CD*(e??1),this.opacity)},rgb(){return O2e(this).rgb()}}));var L2e=-.14861,CK=1.78277,AK=-.29227,gO=-.90649,zC=1.97294,Rue=zC*gO,$ue=zC*CK,Due=CK*AK-gO*L2e;function pxt(e){if(e instanceof Fy)return new Fy(e.h,e.s,e.l,e.opacity);e instanceof To||(e=TK(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(Due*r+Rue*t-$ue*n)/(Due+Rue-$ue),o=r-i,s=(zC*(n-i)-AK*o)/gO,a=Math.sqrt(s*s+o*o)/(zC*i*(1-i)),l=a?Math.atan2(s,o)*I2e-120:NaN;return new Fy(l<0?l+360:l,a,i,e.opacity)}function v7(e,t,n,r){return arguments.length===1?pxt(e):new Fy(e,t,n,r??1)}function Fy(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}$_(Fy,v7,y2(d0,{brighter(e){return e=e==null?ex:Math.pow(ex,e),new Fy(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?dv:Math.pow(dv,e),new Fy(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*k2e,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new To(255*(t+n*(L2e*r+CK*i)),255*(t+n*(AK*r+gO*i)),255*(t+n*(zC*r)),this.opacity)}}));function F2e(e,t,n,r,i){var o=e*e,s=o*e;return((1-3*e+3*o-s)*t+(4-6*o+3*s)*n+(1+3*e+3*o-3*s)*r+s*i)/6}function B2e(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],s=r>0?e[r-1]:2*i-o,a=r<t-1?e[r+2]:2*o-i;return F2e((n-r/t)*t,s,i,o,a)}}function j2e(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],s=e[(r+1)%t],a=e[(r+2)%t];return F2e((n-r/t)*t,i,o,s,a)}}const yO=e=>()=>e;function z2e(e,t){return function(n){return e+n*t}}function mxt(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function vO(e,t){var n=t-e;return n?z2e(e,n>180||n<-180?n-360*Math.round(n/360):n):yO(isNaN(e)?t:e)}function gxt(e){return(e=+e)==1?Co:function(t,n){return n-t?mxt(t,n,e):yO(isNaN(t)?n:t)}}function Co(e,t){var n=t-e;return n?z2e(e,n):yO(isNaN(e)?t:e)}const UC=function e(t){var n=gxt(t);function r(i,o){var s=n((i=Og(i)).r,(o=Og(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=Co(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function U2e(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),o=new Array(n),s,a;for(s=0;s<n;++s)a=Og(t[s]),r[s]=a.r||0,i[s]=a.g||0,o[s]=a.b||0;return r=e(r),i=e(i),o=e(o),a.opacity=1,function(l){return a.r=r(l),a.g=i(l),a.b=o(l),a+""}}}var yxt=U2e(B2e),vxt=U2e(j2e);function kK(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function H2e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function bxt(e,t){return(H2e(t)?kK:V2e)(e,t)}function V2e(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=h0(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function W2e(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Cu(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function q2e(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=h0(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var b7=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,w6=new RegExp(b7.source,"g");function wxt(e){return function(){return e}}function xxt(e){return function(t){return e(t)+""}}function IK(e,t){var n=b7.lastIndex=w6.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(e=e+"",t=t+"";(r=b7.exec(e))&&(i=w6.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:Cu(r,i)})),n=w6.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?xxt(l[0].x):wxt(t):(t=l.length,function(u){for(var c=0,d;c<t;++c)a[(d=l[c]).i]=d.x(u);return a.join("")})}function h0(e,t){var n=typeof t,r;return t==null||n==="boolean"?yO(t):(n==="number"?Cu:n==="string"?(r=hv(t))?(t=r,UC):IK:t instanceof hv?UC:t instanceof Date?W2e:H2e(t)?kK:Array.isArray(t)?V2e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?q2e:Cu)(e,t)}function _xt(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function Ext(e,t){var n=vO(+e,+t);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function v2(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Mue=180/Math.PI,w7={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function G2e(e,t,n,r,i,o){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*Mue,skewX:Math.atan(l)*Mue,scaleX:s,scaleY:a}}var x3;function Sxt(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?w7:G2e(t.a,t.b,t.c,t.d,t.e,t.f)}function Txt(e){return e==null||(x3||(x3=document.createElementNS("http://www.w3.org/2000/svg","g")),x3.setAttribute("transform",e),!(e=x3.transform.baseVal.consolidate()))?w7:(e=e.matrix,G2e(e.a,e.b,e.c,e.d,e.e,e.f))}function Y2e(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,d,h,f,p){if(u!==d||c!==h){var m=f.push("translate(",null,t,null,n);p.push({i:m-4,x:Cu(u,d)},{i:m-2,x:Cu(c,h)})}else(d||h)&&f.push("translate("+d+t+h+n)}function s(u,c,d,h){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),h.push({i:d.push(i(d)+"rotate(",null,r)-2,x:Cu(u,c)})):c&&d.push(i(d)+"rotate("+c+r)}function a(u,c,d,h){u!==c?h.push({i:d.push(i(d)+"skewX(",null,r)-2,x:Cu(u,c)}):c&&d.push(i(d)+"skewX("+c+r)}function l(u,c,d,h,f,p){if(u!==d||c!==h){var m=f.push(i(f)+"scale(",null,",",null,")");p.push({i:m-4,x:Cu(u,d)},{i:m-2,x:Cu(c,h)})}else(d!==1||h!==1)&&f.push(i(f)+"scale("+d+","+h+")")}return function(u,c){var d=[],h=[];return u=e(u),c=e(c),o(u.translateX,u.translateY,c.translateX,c.translateY,d,h),s(u.rotate,c.rotate,d,h),a(u.skewX,c.skewX,d,h),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,d,h),u=c=null,function(f){for(var p=-1,m=h.length,g;++p<m;)d[(g=h[p]).i]=g.x(f);return d.join("")}}}var K2e=Y2e(Sxt,"px, ","px)","deg)"),X2e=Y2e(Txt,", ",")",")"),Cxt=1e-12;function Pue(e){return((e=Math.exp(e))+1/e)/2}function Axt(e){return((e=Math.exp(e))-1/e)/2}function kxt(e){return((e=Math.exp(2*e))-1)/(e+1)}const Ixt=function e(t,n,r){function i(o,s){var a=o[0],l=o[1],u=o[2],c=s[0],d=s[1],h=s[2],f=c-a,p=d-l,m=f*f+p*p,g,y;if(m<Cxt)y=Math.log(h/u)/t,g=function(E){return[a+E*f,l+E*p,u*Math.exp(t*E*y)]};else{var v=Math.sqrt(m),b=(h*h-u*u+r*m)/(2*u*n*v),_=(h*h-u*u-r*m)/(2*h*n*v),x=Math.log(Math.sqrt(b*b+1)-b),w=Math.log(Math.sqrt(_*_+1)-_);y=(w-x)/t,g=function(E){var S=E*y,T=Pue(x),C=u/(n*v)*(T*kxt(t*S+x)-Axt(x));return[a+C*f,l+C*p,u*T/Pue(t*S+x)]}}return g.duration=y*1e3*t/Math.SQRT2,g}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,l=a*a;return e(s,a,l)},i}(Math.SQRT2,2,4);function Q2e(e){return function(t,n){var r=e((t=TD(t)).h,(n=TD(n)).h),i=Co(t.s,n.s),o=Co(t.l,n.l),s=Co(t.opacity,n.opacity);return function(a){return t.h=r(a),t.s=i(a),t.l=o(a),t.opacity=s(a),t+""}}}const Rxt=Q2e(vO);var $xt=Q2e(Co);function Dxt(e,t){var n=Co((e=AD(e)).l,(t=AD(t)).l),r=Co(e.a,t.a),i=Co(e.b,t.b),o=Co(e.opacity,t.opacity);return function(s){return e.l=n(s),e.a=r(s),e.b=i(s),e.opacity=o(s),e+""}}function J2e(e){return function(t,n){var r=e((t=kD(t)).h,(n=kD(n)).h),i=Co(t.c,n.c),o=Co(t.l,n.l),s=Co(t.opacity,n.opacity);return function(a){return t.h=r(a),t.c=i(a),t.l=o(a),t.opacity=s(a),t+""}}}const Mxt=J2e(vO);var Pxt=J2e(Co);function Z2e(e){return function t(n){n=+n;function r(i,o){var s=e((i=v7(i)).h,(o=v7(o)).h),a=Co(i.s,o.s),l=Co(i.l,o.l),u=Co(i.opacity,o.opacity);return function(c){return i.h=s(c),i.s=a(c),i.l=l(Math.pow(c,n)),i.opacity=u(c),i+""}}return r.gamma=t,r}(1)}const Nxt=Z2e(vO);var Oxt=Z2e(Co);function RK(e,t){t===void 0&&(t=e,e=h0);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function Lxt(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}const Fxt=Object.freeze(Object.defineProperty({__proto__:null,interpolate:h0,interpolateArray:bxt,interpolateBasis:B2e,interpolateBasisClosed:j2e,interpolateCubehelix:Nxt,interpolateCubehelixLong:Oxt,interpolateDate:W2e,interpolateDiscrete:_xt,interpolateHcl:Mxt,interpolateHclLong:Pxt,interpolateHsl:Rxt,interpolateHslLong:$xt,interpolateHue:Ext,interpolateLab:Dxt,interpolateNumber:Cu,interpolateNumberArray:kK,interpolateObject:q2e,interpolateRgb:UC,interpolateRgbBasis:yxt,interpolateRgbBasisClosed:vxt,interpolateRound:v2,interpolateString:IK,interpolateTransformCss:K2e,interpolateTransformSvg:X2e,interpolateZoom:Ixt,piecewise:RK,quantize:Lxt},Symbol.toStringTag,{value:"Module"}));function Bxt(e){return function(){return e}}function x7(e){return+e}var Nue=[0,1];function dl(e){return e}function _7(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Bxt(isNaN(t)?NaN:.5)}function jxt(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function zxt(e,t,n){var r=e[0],i=e[1],o=t[0],s=t[1];return i<r?(r=_7(i,r),o=n(s,o)):(r=_7(r,i),o=n(o,s)),function(a){return o(r(a))}}function Uxt(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=_7(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(a){var l=Dg(e,a,1,r)-1;return o[l](i[l](a))}}function b2(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function bO(){var e=Nue,t=Nue,n=h0,r,i,o,s=dl,a,l,u;function c(){var h=Math.min(e.length,t.length);return s!==dl&&(s=jxt(e[0],e[h-1])),a=h>2?Uxt:zxt,l=u=null,d}function d(h){return h==null||isNaN(h=+h)?o:(l||(l=a(e.map(r),t,n)))(r(s(h)))}return d.invert=function(h){return s(i((u||(u=a(t,e.map(r),Cu)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,x7),c()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),c()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),n=v2,c()},d.clamp=function(h){return arguments.length?(s=h?!0:dl,c()):s!==dl},d.interpolate=function(h){return arguments.length?(n=h,c()):n},d.unknown=function(h){return arguments.length?(o=h,d):o},function(h,f){return r=h,i=f,c()}}function eke(){return bO()(dl,dl)}function tke(e,t,n,r){var i=Mg(e,t,n),o;switch(r=cv(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=CCe(i,s))&&(r.precision=o),gY(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=ACe(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=TCe(i))&&(r.precision=o-(r.type==="%")*2);break}}return YN(r)}function fb(e){var t=e.domain;return e.ticks=function(n){var r=t();return t7(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return tke(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,c=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);c-- >0;){if(u=n7(s,a,n),u===l)return r[i]=s,r[o]=a,t(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return e},e}function wO(){var e=eke();return e.copy=function(){return b2(e,wO())},Wh.apply(e,arguments),fb(e)}function nke(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,x7),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return nke(e).unknown(t)},e=arguments.length?Array.from(e,x7):[0,1],fb(n)}function rke(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),e[n]=t.floor(i),e[r]=t.ceil(o),e}function Oue(e){return Math.log(e)}function Lue(e){return Math.exp(e)}function Hxt(e){return-Math.log(-e)}function Vxt(e){return-Math.exp(-e)}function Wxt(e){return isFinite(e)?+("1e"+e):e<0?0:e}function qxt(e){return e===10?Wxt:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Gxt(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Fue(e){return(t,n)=>-e(-t,n)}function $K(e){const t=e(Oue,Lue),n=t.domain;let r=10,i,o;function s(){return i=Gxt(r),o=qxt(r),n()[0]<0?(i=Fue(i),o=Fue(o),e(Hxt,Vxt)):e(Oue,Lue),t}return t.base=function(a){return arguments.length?(r=+a,s()):r},t.domain=function(a){return arguments.length?(n(a),s()):n()},t.ticks=a=>{const l=n();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let h=i(u),f=i(c),p,m;const g=a==null?10:+a;let y=[];if(!(r%1)&&f-h<g){if(h=Math.floor(h),f=Math.ceil(f),u>0){for(;h<=f;++h)for(p=1;p<r;++p)if(m=h<0?p/o(-h):p*o(h),!(m<u)){if(m>c)break;y.push(m)}}else for(;h<=f;++h)for(p=r-1;p>=1;--p)if(m=h>0?p/o(-h):p*o(h),!(m<u)){if(m>c)break;y.push(m)}y.length*2<g&&(y=t7(u,c,g))}else y=t7(h,f,Math.min(f-h,g)).map(o);return d?y.reverse():y},t.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=cv(l)).precision==null&&(l.trim=!0),l=YN(l)),a===1/0)return l;const u=Math.max(1,r*a/t.ticks().length);return c=>{let d=c/o(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?l(c):""}},t.nice=()=>n(rke(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),t}function ike(){const e=$K(bO()).domain([1,10]);return e.copy=()=>b2(e,ike()).base(e.base()),Wh.apply(e,arguments),e}function Bue(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function jue(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function DK(e){var t=1,n=e(Bue(t),jue(t));return n.constant=function(r){return arguments.length?e(Bue(t=+r),jue(t)):t},fb(n)}function oke(){var e=DK(bO());return e.copy=function(){return b2(e,oke()).constant(e.constant())},Wh.apply(e,arguments)}function zue(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Yxt(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Kxt(e){return e<0?-e*e:e*e}function MK(e){var t=e(dl,dl),n=1;function r(){return n===1?e(dl,dl):n===.5?e(Yxt,Kxt):e(zue(n),zue(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},fb(t)}function PK(){var e=MK(bO());return e.copy=function(){return b2(e,PK()).exponent(e.exponent())},Wh.apply(e,arguments),e}function Xxt(){return PK.apply(null,arguments).exponent(.5)}function ske(){var e=[],t=[],n=[],r;function i(){var s=0,a=Math.max(1,t.length);for(n=new Array(a-1);++s<a;)n[s-1]=bCe(e,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:t[Dg(n,s)]}return o.invertExtent=function(s){var a=t.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:e[0],a<n.length?n[a]:e[e.length-1]]},o.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Zf),i()},o.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return ske().domain(e).range(t).unknown(r)},Wh.apply(o,arguments)}function ake(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[Dg(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,a()):[e,t]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return ake().domain([e,t]).range(i).unknown(o)},Wh.apply(fb(s),arguments)}function lke(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[Dg(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var s=t.indexOf(o);return[e[s-1],e[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return lke().domain(e).range(t).unknown(n)},Wh.apply(i,arguments)}function Qxt(e){return new Date(e)}function Jxt(e){return e instanceof Date?+e:+new Date(+e)}function NK(e,t,n,r,i,o,s,a,l,u){var c=eke(),d=c.invert,h=c.domain,f=u(".%L"),p=u(":%S"),m=u("%I:%M"),g=u("%I %p"),y=u("%a %d"),v=u("%b %d"),b=u("%B"),_=u("%Y");function x(w){return(l(w)<w?f:a(w)<w?p:s(w)<w?m:o(w)<w?g:r(w)<w?i(w)<w?y:v:n(w)<w?b:_)(w)}return c.invert=function(w){return new Date(d(w))},c.domain=function(w){return arguments.length?h(Array.from(w,Jxt)):h().map(Qxt)},c.ticks=function(w){var E=h();return e(E[0],E[E.length-1],w??10)},c.tickFormat=function(w,E){return E==null?x:u(E)},c.nice=function(w){var E=h();return(!w||typeof w.range!="function")&&(w=t(E[0],E[E.length-1],w??10)),w?h(rke(E,w)):c},c.copy=function(){return b2(c,NK(e,t,n,r,i,o,s,a,l,u))},c}function Zxt(){return Wh.apply(NK(avt,lvt,kh,NC,C_,ep,QN,KN,Uf,xY).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function e_t(){return Wh.apply(NK(ovt,svt,Ih,OC,A_,cg,JN,XN,Uf,_Y).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function xO(){var e=0,t=1,n,r,i,o,s=dl,a=!1,l;function u(d){return d==null||isNaN(d=+d)?l:s(i===0?.5:(d=(o(d)-n)*i,a?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(d){return arguments.length?(a=!!d,u):a},u.interpolator=function(d){return arguments.length?(s=d,u):s};function c(d){return function(h){var f,p;return arguments.length?([f,p]=h,s=d(f,p),u):[s(0),s(1)]}}return u.range=c(h0),u.rangeRound=c(v2),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return o=d,n=d(e),r=d(t),i=n===r?0:1/(r-n),u}}function f0(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function OK(){var e=fb(xO()(dl));return e.copy=function(){return f0(e,OK())},c0.apply(e,arguments)}function uke(){var e=$K(xO()).domain([1,10]);return e.copy=function(){return f0(e,uke()).base(e.base())},c0.apply(e,arguments)}function cke(){var e=DK(xO());return e.copy=function(){return f0(e,cke()).constant(e.constant())},c0.apply(e,arguments)}function LK(){var e=MK(xO());return e.copy=function(){return f0(e,LK()).exponent(e.exponent())},c0.apply(e,arguments)}function t_t(){return LK.apply(null,arguments).exponent(.5)}function _O(){var e=0,t=.5,n=1,r=1,i,o,s,a,l,u=dl,c,d=!1,h;function f(m){return isNaN(m=+m)?h:(m=.5+((m=+c(m))-o)*(r*m<r*o?a:l),u(d?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([e,t,n]=m,i=c(e=+e),o=c(t=+t),s=c(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,f):[e,t,n]},f.clamp=function(m){return arguments.length?(d=!!m,f):d},f.interpolator=function(m){return arguments.length?(u=m,f):u};function p(m){return function(g){var y,v,b;return arguments.length?([y,v,b]=g,u=RK(m,[y,v,b]),f):[u(0),u(.5),u(1)]}}return f.range=p(h0),f.rangeRound=p(v2),f.unknown=function(m){return arguments.length?(h=m,f):h},function(m){return c=m,i=m(e),o=m(t),s=m(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,f}}function dke(){var e=fb(_O()(dl));return e.copy=function(){return f0(e,dke())},c0.apply(e,arguments)}function hke(){var e=$K(_O()).domain([.1,1,10]);return e.copy=function(){return f0(e,hke()).base(e.base())},c0.apply(e,arguments)}function fke(){var e=DK(_O());return e.copy=function(){return f0(e,fke()).constant(e.constant())},c0.apply(e,arguments)}function FK(){var e=MK(_O());return e.copy=function(){return f0(e,FK()).exponent(e.exponent())},c0.apply(e,arguments)}function n_t(){return FK.apply(null,arguments).exponent(.5)}function qh(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const r_t=qh("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),i_t=qh("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),o_t=qh("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),s_t=qh("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),a_t=qh("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),l_t=qh("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),u_t=qh("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),c_t=qh("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),d_t=qh("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),h_t=qh("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");function BK(e,t,n){const r=e-t+n*2;return e?r>0?r:1:0}const f_t="identity",tx="linear",kp="log",w2="pow",x2="sqrt",EO="symlog",fv="time",pv="utc",yh="sequential",D_="diverging",nx="quantile",SO="quantize",TO="threshold",jK="ordinal",E7="point",pke="band",zK="bin-ordinal",po="continuous",_2="discrete",E2="discretizing",ic="interpolating",UK="temporal";function p_t(e){return function(t){let n=t[0],r=t[1],i;return r<n&&(i=n,n=r,r=i),[e.invert(n),e.invert(r)]}}function m_t(e){return function(t){const n=e.range();let r=t[0],i=t[1],o=-1,s,a,l,u;for(i<r&&(a=r,r=i,i=a),l=0,u=n.length;l<u;++l)n[l]>=r&&n[l]<=i&&(o<0&&(o=l),s=l);if(!(o<0))return r=e.invertExtent(n[o]),i=e.invertExtent(n[s]),[r[0]===void 0?r[1]:r[0],i[1]===void 0?i[0]:i[1]]}}function HK(){const e=SK().unknown(void 0),t=e.domain,n=e.range;let r=[0,1],i,o,s=!1,a=0,l=0,u=.5;delete e.unknown;function c(){const d=t().length,h=r[1]<r[0],f=r[1-h],p=BK(d,a,l);let m=r[h-0];i=(f-m)/(p||1),s&&(i=Math.floor(i)),m+=(f-m-i*(d-a))*u,o=i*(1-a),s&&(m=Math.round(m),o=Math.round(o));const g=Ul(d).map(y=>m+i*y);return n(h?g.reverse():g)}return e.domain=function(d){return arguments.length?(t(d),c()):t()},e.range=function(d){return arguments.length?(r=[+d[0],+d[1]],c()):r.slice()},e.rangeRound=function(d){return r=[+d[0],+d[1]],s=!0,c()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(d){return arguments.length?(s=!!d,c()):s},e.padding=function(d){return arguments.length?(l=Math.max(0,Math.min(1,d)),a=l,c()):a},e.paddingInner=function(d){return arguments.length?(a=Math.max(0,Math.min(1,d)),c()):a},e.paddingOuter=function(d){return arguments.length?(l=Math.max(0,Math.min(1,d)),c()):l},e.align=function(d){return arguments.length?(u=Math.max(0,Math.min(1,d)),c()):u},e.invertRange=function(d){if(d[0]==null||d[1]==null)return;const h=r[1]<r[0],f=h?n().reverse():n(),p=f.length-1;let m=+d[0],g=+d[1],y,v,b;if(!(m!==m||g!==g)&&(g<m&&(b=m,m=g,g=b),!(g<f[0]||m>r[1-h])))return y=Math.max(0,Dg(f,m)-1),v=m===g?y:Dg(f,g)-1,m-f[y]>o+1e-10&&++y,h&&(b=y,y=p-v,v=p-b),y>v?void 0:t().slice(y,v+1)},e.invert=function(d){const h=e.invertRange([d,d]);return h&&h[0]},e.copy=function(){return HK().domain(t()).range(r).round(s).paddingInner(a).paddingOuter(l).align(u)},c()}function mke(e){const t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return mke(t())},e}function g_t(){return mke(HK().paddingInner(1))}var y_t=Array.prototype.map;function v_t(e){return y_t.call(e,Ks)}const b_t=Array.prototype.slice;function gke(){let e=[],t=[];function n(r){return r==null||r!==r?void 0:t[(Dg(e,r)-1)%t.length]}return n.domain=function(r){return arguments.length?(e=v_t(r),n):e.slice()},n.range=function(r){return arguments.length?(t=b_t.call(r),n):t.slice()},n.tickFormat=function(r,i){return tke(e[0],zn(e),r??10,i)},n.copy=function(){return gke().domain(n.domain()).range(n.range())},n}const ID=new Map,yke=Symbol("vega_scale");function vke(e){return e[yke]=!0,e}function Uue(e){return e&&e[yke]===!0}function w_t(e,t,n){const r=function(){const o=t();return o.invertRange||(o.invertRange=o.invert?p_t(o):o.invertExtent?m_t(o):void 0),o.type=e,vke(o)};return r.metadata=id(_t(n)),r}function nr(e,t,n){return arguments.length>1?(ID.set(e,w_t(e,t,n)),this):bke(e)?ID.get(e):void 0}nr(f_t,nke);nr(tx,wO,po);nr(kp,ike,[po,kp]);nr(w2,PK,po);nr(x2,Xxt,po);nr(EO,oke,po);nr(fv,Zxt,[po,UK]);nr(pv,e_t,[po,UK]);nr(yh,OK,[po,ic]);nr(`${yh}-${tx}`,OK,[po,ic]);nr(`${yh}-${kp}`,uke,[po,ic,kp]);nr(`${yh}-${w2}`,LK,[po,ic]);nr(`${yh}-${x2}`,t_t,[po,ic]);nr(`${yh}-${EO}`,cke,[po,ic]);nr(`${D_}-${tx}`,dke,[po,ic]);nr(`${D_}-${kp}`,hke,[po,ic,kp]);nr(`${D_}-${w2}`,FK,[po,ic]);nr(`${D_}-${x2}`,n_t,[po,ic]);nr(`${D_}-${EO}`,fke,[po,ic]);nr(nx,ske,[E2,nx]);nr(SO,ake,E2);nr(TO,lke,E2);nr(zK,gke,[_2,E2]);nr(jK,SK,_2);nr(pke,HK,_2);nr(E7,g_t,_2);function bke(e){return ID.has(e)}function pb(e,t){const n=ID.get(e);return n&&n.metadata[t]}function VK(e){return pb(e,po)}function rx(e){return pb(e,_2)}function S7(e){return pb(e,E2)}function wke(e){return pb(e,kp)}function x_t(e){return pb(e,UK)}function xke(e){return pb(e,ic)}function _ke(e){return pb(e,nx)}const __t=["clamp","base","constant","exponent"];function Eke(e,t){const n=t[0],r=zn(t)-n;return function(i){return e(n+i*r)}}function CO(e,t,n){return RK(WK(t||"rgb",n),e)}function Ske(e,t){const n=new Array(t),r=t+1;for(let i=0;i<t;)n[i]=e(++i/r);return n}function Tke(e,t,n){const r=n-t;let i,o,s;return!r||!Number.isFinite(r)?aa(.5):(i=(o=e.type).indexOf("-"),o=i<0?o:o.slice(i+1),s=nr(o)().domain([t,n]).range([0,1]),__t.forEach(a=>e[a]?s[a](e[a]()):0),s)}function WK(e,t){const n=Fxt[E_t(e)];return t!=null&&n&&n.gamma?n.gamma(t):n}function E_t(e){return"interpolate"+e.toLowerCase().split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join("")}const S_t={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},T_t={accent:i_t,category10:r_t,category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",dark2:o_t,observable10:s_t,paired:a_t,pastel1:l_t,pastel2:u_t,set1:c_t,set2:d_t,set3:h_t,tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5"};function Cke(e){if(Pe(e))return e;const t=e.length/6|0,n=new Array(t);for(let r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}function Ake(e,t){for(const n in e)qK(n,t(e[n]))}const Hue={};Ake(T_t,Cke);Ake(S_t,e=>CO(Cke(e)));function qK(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(Hue[e]=t,this):Hue[e]}const JI="symbol",C_t="discrete",A_t="gradient",k_t=e=>Pe(e)?e.map(t=>String(t)):String(e),I_t=(e,t)=>e[1]-t[1],R_t=(e,t)=>t[1]-e[1];function GK(e,t,n){let r;return er(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),n!=null&&(t=Math.min(t,Math.floor(f2(e.domain())/n||1)+1))),wt(t)&&(r=t.step,t=t.interval),xt(t)&&(t=e.type===fv?k_(t):e.type==pv?I_(t):Re("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function kke(e,t,n){let r=e.range(),i=r[0],o=zn(r),s=I_t;if(i>o&&(r=o,o=i,i=r,s=R_t),i=Math.floor(i),o=Math.ceil(o),t=t.map(a=>[a,e(a)]).filter(a=>i<=a[1]&&a[1]<=o).sort(s).map(a=>a[0]),n>0&&t.length>1){const a=[t[0],zn(t)];for(;t.length>n&&t.length>=3;)t=t.filter((l,u)=>!(u%2));t.length<3&&(t=a)}return t}function YK(e,t){return e.bins?kke(e,e.bins,t):e.ticks?e.ticks(t):e.domain()}function Ike(e,t,n,r,i,o){const s=t.type;let a=k_t;if(s===fv||i===fv)a=e.timeFormat(r);else if(s===pv||i===pv)a=e.utcFormat(r);else if(wke(s)){const l=e.formatFloat(r);if(o||t.bins)a=l;else{const u=Rke(t,n,!1);a=c=>u(c)?l(c):""}}else if(t.tickFormat){const l=t.domain();a=e.formatSpan(l[0],l[l.length-1],n,r)}else r&&(a=e.format(r));return a}function Rke(e,t,n){const r=YK(e,t),i=e.base(),o=Math.log(i),s=Math.max(1,i*t/r.length),a=l=>{let u=l/Math.pow(i,Math.round(Math.log(l)/o));return u*i<i-.5&&(u*=i),u<=s};return n?r.filter(a):a}const T7={[nx]:"quantiles",[SO]:"thresholds",[TO]:"domain"},$ke={[nx]:"quantiles",[SO]:"domain"};function Dke(e,t){return e.bins?M_t(e.bins):e.type===kp?Rke(e,t,!0):T7[e.type]?D_t(e[T7[e.type]]()):YK(e,t)}function $_t(e,t,n){const r=t[$ke[t.type]](),i=r.length;let o=i>1?r[1]-r[0]:r[0],s;for(s=1;s<i;++s)o=Math.min(o,r[s]-r[s-1]);return e.formatSpan(0,o,3*10,n)}function D_t(e){const t=[-1/0].concat(e);return t.max=1/0,t}function M_t(e){const t=e.slice(0,-1);return t.max=zn(e),t}const P_t=e=>T7[e.type]||e.bins;function Mke(e,t,n,r,i,o,s){const a=$ke[t.type]&&o!==fv&&o!==pv?$_t(e,t,i):Ike(e,t,n,i,o,s);return r===JI&&P_t(t)?N_t(a):r===C_t?O_t(a):L_t(a)}const N_t=e=>(t,n,r)=>{const i=Vue(r[n+1],Vue(r.max,1/0)),o=Wue(t,e),s=Wue(i,e);return o&&s?o+"  "+s:s?"< "+s:" "+o},Vue=(e,t)=>e??t,O_t=e=>(t,n)=>n?e(t):null,L_t=e=>t=>e(t),Wue=(e,t)=>Number.isFinite(e)?t(e):null;function F_t(e){const t=e.domain(),n=t.length-1;let r=+t[0],i=+zn(t),o=i-r;if(e.type===TO){const s=n?o/n:.1;r-=s,i+=s,o=i-r}return s=>(s-r)/o}function B_t(e,t,n,r){const i=r||t.type;return xt(n)&&x_t(i)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),!n&&i===fv?e.timeFormat("%A, %d %B %Y, %X"):!n&&i===pv?e.utcFormat("%A, %d %B %Y, %X UTC"):Mke(e,t,5,null,n,r,!0)}function Pke(e,t,n){n=n||{};const r=Math.max(3,n.maxlen||7),i=B_t(e,t,n.format,n.formatType);if(S7(t.type)){const o=Dke(t).slice(1).map(i),s=o.length;return`${s} boundar${s===1?"y":"ies"}: ${o.join(", ")}`}else if(rx(t.type)){const o=t.domain(),s=o.length,a=s>r?o.slice(0,r-2).map(i).join(", ")+", ending with "+o.slice(-1).map(i):o.map(i).join(", ");return`${s} value${s===1?"":"s"}: ${a}`}else{const o=t.domain();return`values from ${i(o[0])} to ${i(zn(o))}`}}let Nke=0;function j_t(){Nke=0}const RD="p_";function KK(e){return e&&e.gradient}function Oke(e,t,n){const r=e.gradient;let i=e.id,o=r==="radial"?RD:"";return i||(i=e.id="gradient_"+Nke++,r==="radial"?(e.x1=$d(e.x1,.5),e.y1=$d(e.y1,.5),e.r1=$d(e.r1,0),e.x2=$d(e.x2,.5),e.y2=$d(e.y2,.5),e.r2=$d(e.r2,.5),o=RD):(e.x1=$d(e.x1,0),e.y1=$d(e.y1,0),e.x2=$d(e.x2,1),e.y2=$d(e.y2,0))),t[i]=e,"url("+(n||"")+"#"+o+i+")"}function $d(e,t){return e??t}function Lke(e,t){var n=[],r;return r={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:n,stop:function(i,o){return n.push({offset:i,color:o}),r}}}const que={basis:{curve:Fwt},"basis-closed":{curve:Bwt},"basis-open":{curve:jwt},bundle:{curve:zwt,tension:"beta",value:.85},cardinal:{curve:Uwt,tension:"tension",value:0},"cardinal-open":{curve:Vwt,tension:"tension",value:0},"cardinal-closed":{curve:Hwt,tension:"tension",value:0},"catmull-rom":{curve:Wwt,tension:"alpha",value:.5},"catmull-rom-closed":{curve:qwt,tension:"alpha",value:.5},"catmull-rom-open":{curve:Gwt,tension:"alpha",value:.5},linear:{curve:bK},"linear-closed":{curve:Ywt},monotone:{horizontal:Xwt,vertical:Kwt},natural:{curve:Qwt},step:{curve:Jwt},"step-after":{curve:ext},"step-before":{curve:Zwt}};function XK(e,t,n){var r=Tt(que,e)&&que[e],i=null;return r&&(i=r.curve||r[t||"vertical"],r.tension&&n!=null&&(i=i[r.tension](n))),i}const z_t={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},U_t=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,H_t=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,V_t=/^((\s+,?\s*)|(,\s*))/,W_t=/^[01]/;function ix(e){const t=[];return(e.match(U_t)||[]).forEach(r=>{let i=r[0];const o=i.toLowerCase(),s=z_t[o],a=q_t(o,s,r.slice(1).trim()),l=a.length;if(l<s||l&&l%s!==0)throw Error("Invalid SVG path, incorrect parameter count");if(t.push([i,...a.slice(0,s)]),l!==s){o==="m"&&(i=i==="M"?"L":"l");for(let u=s;u<l;u+=s)t.push([i,...a.slice(u,u+s)])}}),t}function q_t(e,t,n){const r=[];for(let i=0;t&&i<n.length;)for(let o=0;o<t;++o){const s=e==="a"&&(o===3||o===4)?W_t:H_t,a=n.slice(i).match(s);if(a===null)throw Error("Invalid SVG path, incorrect parameter type");i+=a[0].length,r.push(+a[0]);const l=n.slice(i).match(V_t);l!==null&&(i+=l[0].length)}return r}const Lg=Math.PI/180,G_t=1e-14,ly=Math.PI/2,qd=Math.PI*2,Yb=Math.sqrt(3)/2;var x6={},_6={},Fke=[].join;function Y_t(e,t,n,r,i,o,s,a,l){const u=Fke.call(arguments);if(x6[u])return x6[u];const c=s*Lg,d=Math.sin(c),h=Math.cos(c);n=Math.abs(n),r=Math.abs(r);const f=h*(a-e)*.5+d*(l-t)*.5,p=h*(l-t)*.5-d*(a-e)*.5;let m=f*f/(n*n)+p*p/(r*r);m>1&&(m=Math.sqrt(m),n*=m,r*=m);const g=h/n,y=d/n,v=-d/r,b=h/r,_=g*a+y*l,x=v*a+b*l,w=g*e+y*t,E=v*e+b*t;let T=1/((w-_)*(w-_)+(E-x)*(E-x))-.25;T<0&&(T=0);let C=Math.sqrt(T);o==i&&(C=-C);const D=.5*(_+w)-C*(E-x),$=.5*(x+E)+C*(w-_),I=Math.atan2(x-$,_-D);let A=Math.atan2(E-$,w-D)-I;A<0&&o===1?A+=qd:A>0&&o===0&&(A-=qd);const M=Math.ceil(Math.abs(A/(ly+.001))),N=[];for(let L=0;L<M;++L){const z=I+L*A/M,F=I+(L+1)*A/M;N[L]=[D,$,z,F,n,r,d,h]}return x6[u]=N}function K_t(e){const t=Fke.call(e);if(_6[t])return _6[t];var n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],u=e[7];const c=u*s,d=-l*a,h=l*s,f=u*a,p=Math.cos(i),m=Math.sin(i),g=Math.cos(o),y=Math.sin(o),v=.5*(o-i),b=Math.sin(v*.5),_=8/3*b*b/Math.sin(v),x=n+p-_*m,w=r+m+_*p,E=n+g,S=r+y,T=E+_*y,C=S-_*g;return _6[t]=[c*x+d*w,h*x+f*w,c*T+d*C,h*T+f*C,c*E+d*S,h*E+f*S]}const bu=["l",0,0,0,0,0,0,0];function X_t(e,t,n){const r=bu[0]=e[0];if(r==="a"||r==="A")bu[1]=t*e[1],bu[2]=n*e[2],bu[3]=e[3],bu[4]=e[4],bu[5]=e[5],bu[6]=t*e[6],bu[7]=n*e[7];else if(r==="h"||r==="H")bu[1]=t*e[1];else if(r==="v"||r==="V")bu[1]=n*e[1];else for(var i=1,o=e.length;i<o;++i)bu[i]=(i%2==1?t:n)*e[i];return bu}function HC(e,t,n,r,i,o){var s,a=null,l=0,u=0,c=0,d=0,h,f,p,m,g=0,y=0;n==null&&(n=0),r==null&&(r=0),i==null&&(i=1),o==null&&(o=i),e.beginPath&&e.beginPath();for(var v=0,b=t.length;v<b;++v){switch(s=t[v],(i!==1||o!==1)&&(s=X_t(s,i,o)),s[0]){case"l":l+=s[1],u+=s[2],e.lineTo(l+n,u+r);break;case"L":l=s[1],u=s[2],e.lineTo(l+n,u+r);break;case"h":l+=s[1],e.lineTo(l+n,u+r);break;case"H":l=s[1],e.lineTo(l+n,u+r);break;case"v":u+=s[1],e.lineTo(l+n,u+r);break;case"V":u=s[1],e.lineTo(l+n,u+r);break;case"m":l+=s[1],u+=s[2],g=l,y=u,e.moveTo(l+n,u+r);break;case"M":l=s[1],u=s[2],g=l,y=u,e.moveTo(l+n,u+r);break;case"c":h=l+s[5],f=u+s[6],c=l+s[3],d=u+s[4],e.bezierCurveTo(l+s[1]+n,u+s[2]+r,c+n,d+r,h+n,f+r),l=h,u=f;break;case"C":l=s[5],u=s[6],c=s[3],d=s[4],e.bezierCurveTo(s[1]+n,s[2]+r,c+n,d+r,l+n,u+r);break;case"s":h=l+s[3],f=u+s[4],c=2*l-c,d=2*u-d,e.bezierCurveTo(c+n,d+r,l+s[1]+n,u+s[2]+r,h+n,f+r),c=l+s[1],d=u+s[2],l=h,u=f;break;case"S":h=s[3],f=s[4],c=2*l-c,d=2*u-d,e.bezierCurveTo(c+n,d+r,s[1]+n,s[2]+r,h+n,f+r),l=h,u=f,c=s[1],d=s[2];break;case"q":h=l+s[3],f=u+s[4],c=l+s[1],d=u+s[2],e.quadraticCurveTo(c+n,d+r,h+n,f+r),l=h,u=f;break;case"Q":h=s[3],f=s[4],e.quadraticCurveTo(s[1]+n,s[2]+r,h+n,f+r),l=h,u=f,c=s[1],d=s[2];break;case"t":h=l+s[1],f=u+s[2],a[0].match(/[QqTt]/)===null?(c=l,d=u):a[0]==="t"?(c=2*l-p,d=2*u-m):a[0]==="q"&&(c=2*l-c,d=2*u-d),p=c,m=d,e.quadraticCurveTo(c+n,d+r,h+n,f+r),l=h,u=f,c=l+s[1],d=u+s[2];break;case"T":h=s[1],f=s[2],c=2*l-c,d=2*u-d,e.quadraticCurveTo(c+n,d+r,h+n,f+r),l=h,u=f;break;case"a":Gue(e,l+n,u+r,[s[1],s[2],s[3],s[4],s[5],s[6]+l+n,s[7]+u+r]),l+=s[6],u+=s[7];break;case"A":Gue(e,l+n,u+r,[s[1],s[2],s[3],s[4],s[5],s[6]+n,s[7]+r]),l=s[6],u=s[7];break;case"z":case"Z":l=g,u=y,e.closePath();break}a=s}}function Gue(e,t,n,r){const i=Y_t(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n);for(let o=0;o<i.length;++o){const s=K_t(i[o]);e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5])}}const Yue=.5773502691896257,Kue={circle:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,qd)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/7,i=n/2.5,o=n/8;e.moveTo(-r,n),e.lineTo(r,n),e.lineTo(r,-o),e.lineTo(i,-o),e.lineTo(0,-n),e.lineTo(-i,-o),e.lineTo(-r,-o),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=Yb*n,i=r-n*Yue,o=n/4;e.moveTo(0,-r-i),e.lineTo(-o,r-i),e.lineTo(o,r-i),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=Yb*n,i=r-n*Yue;e.moveTo(0,-r-i),e.lineTo(-n,r-i),e.lineTo(n,r-i),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Yb*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Yb*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Yb*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Yb*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function Bke(e){return Tt(Kue,e)?Kue[e]:Q_t(e)}var E6={};function Q_t(e){if(!Tt(E6,e)){const t=ix(e);E6[e]={draw:function(n,r){HC(n,t,0,0,Math.sqrt(r)/2)}}}return E6[e]}const sm=.448084975506;function J_t(e){return e.x}function Z_t(e){return e.y}function eEt(e){return e.width}function tEt(e){return e.height}function yf(e){return typeof e=="function"?e:()=>+e}function _3(e,t,n){return Math.max(t,Math.min(e,n))}function jke(){var e=J_t,t=Z_t,n=eEt,r=tEt,i=yf(0),o=i,s=i,a=i,l=null;function u(c,d,h){var f,p=d??+e.call(this,c),m=h??+t.call(this,c),g=+n.call(this,c),y=+r.call(this,c),v=Math.min(g,y)/2,b=_3(+i.call(this,c),0,v),_=_3(+o.call(this,c),0,v),x=_3(+s.call(this,c),0,v),w=_3(+a.call(this,c),0,v);if(l||(l=f=hO()),b<=0&&_<=0&&x<=0&&w<=0)l.rect(p,m,g,y);else{var E=p+g,S=m+y;l.moveTo(p+b,m),l.lineTo(E-_,m),l.bezierCurveTo(E-sm*_,m,E,m+sm*_,E,m+_),l.lineTo(E,S-w),l.bezierCurveTo(E,S-sm*w,E-sm*w,S,E-w,S),l.lineTo(p+x,S),l.bezierCurveTo(p+sm*x,S,p,S-sm*x,p,S-x),l.lineTo(p,m+b),l.bezierCurveTo(p,m+sm*b,p+sm*b,m,p+b,m),l.closePath()}if(f)return l=null,f+""||null}return u.x=function(c){return arguments.length?(e=yf(c),u):e},u.y=function(c){return arguments.length?(t=yf(c),u):t},u.width=function(c){return arguments.length?(n=yf(c),u):n},u.height=function(c){return arguments.length?(r=yf(c),u):r},u.cornerRadius=function(c,d,h,f){return arguments.length?(i=yf(c),o=d!=null?yf(d):i,a=h!=null?yf(h):i,s=f!=null?yf(f):o,u):i},u.context=function(c){return arguments.length?(l=c??null,u):l},u}function zke(){var e,t,n,r,i=null,o,s,a,l;function u(d,h,f){const p=f/2;if(o){var m=a-h,g=d-s;if(m||g){var y=Math.hypot(m,g),v=(m/=y)*l,b=(g/=y)*l,_=Math.atan2(g,m);i.moveTo(s-v,a-b),i.lineTo(d-m*p,h-g*p),i.arc(d,h,p,_-Math.PI,_),i.lineTo(s+v,a+b),i.arc(s,a,l,_,_+Math.PI)}else i.arc(d,h,p,0,qd);i.closePath()}else o=1;s=d,a=h,l=p}function c(d){var h,f=d.length,p,m=!1,g;for(i==null&&(i=g=hO()),h=0;h<=f;++h)!(h<f&&r(p=d[h],h,d))===m&&(m=!m)&&(o=0),m&&u(+e(p,h,d),+t(p,h,d),+n(p,h,d));if(g)return i=null,g+""||null}return c.x=function(d){return arguments.length?(e=d,c):e},c.y=function(d){return arguments.length?(t=d,c):t},c.size=function(d){return arguments.length?(n=d,c):n},c.defined=function(d){return arguments.length?(r=d,c):r},c.context=function(d){return arguments.length?(d==null?i=null:i=d,c):i},c}function S2(e,t){return e??t}const T2=e=>e.x||0,C2=e=>e.y||0,nEt=e=>e.width||0,rEt=e=>e.height||0,iEt=e=>(e.x||0)+(e.width||0),oEt=e=>(e.y||0)+(e.height||0),sEt=e=>e.startAngle||0,aEt=e=>e.endAngle||0,lEt=e=>e.padAngle||0,uEt=e=>e.innerRadius||0,cEt=e=>e.outerRadius||0,dEt=e=>e.cornerRadius||0,hEt=e=>S2(e.cornerRadiusTopLeft,e.cornerRadius)||0,fEt=e=>S2(e.cornerRadiusTopRight,e.cornerRadius)||0,pEt=e=>S2(e.cornerRadiusBottomRight,e.cornerRadius)||0,mEt=e=>S2(e.cornerRadiusBottomLeft,e.cornerRadius)||0,gEt=e=>S2(e.size,64),yEt=e=>e.size||1,AO=e=>e.defined!==!1,vEt=e=>Bke(e.shape||"circle"),bEt=Nwt().startAngle(sEt).endAngle(aEt).padAngle(lEt).innerRadius(uEt).outerRadius(cEt).cornerRadius(dEt),wEt=g2e().x(T2).y1(C2).y0(oEt).defined(AO),xEt=g2e().y(C2).x1(T2).x0(iEt).defined(AO),_Et=m2e().x(T2).y(C2).defined(AO),EEt=jke().x(T2).y(C2).width(nEt).height(rEt).cornerRadius(hEt,fEt,pEt,mEt),SEt=Lwt().type(vEt).size(gEt),TEt=zke().x(T2).y(C2).defined(AO).size(yEt);function QK(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function CEt(e,t){return bEt.context(e)(t)}function AEt(e,t){const n=t[0],r=n.interpolate||"linear";return(n.orient==="horizontal"?xEt:wEt).curve(XK(r,n.orient,n.tension)).context(e)(t)}function kEt(e,t){const n=t[0],r=n.interpolate||"linear";return _Et.curve(XK(r,n.orient,n.tension)).context(e)(t)}function M_(e,t,n,r){return EEt.context(e)(t,n,r)}function IEt(e,t){return(t.mark.shape||t.shape).context(e)(t)}function REt(e,t){return SEt.context(e)(t)}function $Et(e,t){return TEt.context(e)(t)}var Uke=1;function Hke(){Uke=1}function JK(e,t,n){var r=t.clip,i=e._defs,o=t.clip_id||(t.clip_id="clip"+Uke++),s=i.clipping[o]||(i.clipping[o]={id:o});return vn(r)?s.path=r(null):QK(n)?s.path=M_(null,n,0,0):(s.width=n.width||0,s.height=n.height||0),"url(#"+o+")"}function qi(e){this.clear(),e&&this.union(e)}qi.prototype={clone(){return new qi(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},add(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate(e,t,n){const r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints(e,t,n){var{x1:r,y1:i,x2:o,y2:s}=this,a=Math.cos(e),l=Math.sin(e),u=t-t*a+n*l,c=n-t*l-n*a;return[a*r-l*i+u,l*r+a*i+c,a*r-l*s+u,l*r+a*s+c,a*o-l*i+u,l*o+a*i+c,a*o-l*s+u,l*o+a*s+c]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};function kO(e){this.mark=e,this.bounds=this.bounds||new qi}function IO(e){kO.call(this,e),this.items=this.items||[]}dt(IO,kO);class Vke{constructor(t){this._pending=0,this._loader=t||eO()}pending(){return this._pending}sanitizeURL(t){const n=this;return Xue(n),n._loader.sanitize(t,{context:"href"}).then(r=>(IE(n),r)).catch(()=>(IE(n),null))}loadImage(t){const n=this,r=txt();return Xue(n),n._loader.sanitize(t,{context:"image"}).then(i=>{const o=i.href;if(!o||!r)throw{url:o};const s=new r,a=Tt(i,"crossOrigin")?i.crossOrigin:"anonymous";return a!=null&&(s.crossOrigin=a),s.onload=()=>IE(n),s.onerror=()=>IE(n),s.src=o,s}).catch(i=>(IE(n),{complete:!1,width:0,height:0,src:i&&i.url||""}))}ready(){const t=this;return new Promise(n=>{function r(i){t.pending()?setTimeout(()=>{r(!0)},10):n(i)}r(!1)})}}function Xue(e){e._pending+=1}function IE(e){e._pending-=1}function Wp(e,t,n){if(t.stroke&&t.opacity!==0&&t.strokeOpacity!==0){const r=t.strokeWidth!=null?+t.strokeWidth:1;e.expand(r+(n?DEt(t,r):0))}return e}function DEt(e,t){return e.strokeJoin&&e.strokeJoin!=="miter"?0:t}const MEt=qd-1e-8;let RO,ZI,eR,Cy,C7,tR,A7,k7;const Lm=(e,t)=>RO.add(e,t),nR=(e,t)=>Lm(ZI=e,eR=t),Que=e=>Lm(e,RO.y1),Jue=e=>Lm(RO.x1,e),uy=(e,t)=>C7*e+A7*t,cy=(e,t)=>tR*e+k7*t,S6=(e,t)=>Lm(uy(e,t),cy(e,t)),T6=(e,t)=>nR(uy(e,t),cy(e,t));function A2(e,t){return RO=e,t?(Cy=t*Lg,C7=k7=Math.cos(Cy),tR=Math.sin(Cy),A7=-tR):(C7=k7=1,Cy=tR=A7=0),PEt}const PEt={beginPath(){},closePath(){},moveTo:T6,lineTo:T6,rect(e,t,n,r){Cy?(S6(e+n,t),S6(e+n,t+r),S6(e,t+r),T6(e,t)):(Lm(e+n,t+r),nR(e,t))},quadraticCurveTo(e,t,n,r){const i=uy(e,t),o=cy(e,t),s=uy(n,r),a=cy(n,r);Zue(ZI,i,s,Que),Zue(eR,o,a,Jue),nR(s,a)},bezierCurveTo(e,t,n,r,i,o){const s=uy(e,t),a=cy(e,t),l=uy(n,r),u=cy(n,r),c=uy(i,o),d=cy(i,o);ece(ZI,s,l,c,Que),ece(eR,a,u,d,Jue),nR(c,d)},arc(e,t,n,r,i,o){if(r+=Cy,i+=Cy,ZI=n*Math.cos(i)+e,eR=n*Math.sin(i)+t,Math.abs(i-r)>MEt)Lm(e-n,t-n),Lm(e+n,t+n);else{const s=u=>Lm(n*Math.cos(u)+e,n*Math.sin(u)+t);let a,l;if(s(r),s(i),i!==r)if(r=r%qd,r<0&&(r+=qd),i=i%qd,i<0&&(i+=qd),i<r&&(o=!o,a=r,r=i,i=a),o)for(i-=qd,a=r-r%ly,l=0;l<4&&a>i;++l,a-=ly)s(a);else for(a=r-r%ly+ly,l=0;l<4&&a<i;++l,a=a+ly)s(a)}}};function Zue(e,t,n,r){const i=(e-t)/(e+n-2*t);0<i&&i<1&&r(e+(t-e)*i)}function ece(e,t,n,r,i){const o=r-e+3*t-3*n,s=e+n-2*t,a=e-t;let l=0,u=0,c;Math.abs(o)>G_t?(c=s*s+a*o,c>=0&&(c=Math.sqrt(c),l=(-s+c)/o,u=(-s-c)/o)):l=.5*a/s,0<l&&l<1&&i(tce(l,e,t,n,r)),0<u&&u<1&&i(tce(u,e,t,n,r))}function tce(e,t,n,r,i){const o=1-e,s=o*o,a=e*e;return s*o*t+3*s*e*n+3*o*a*r+a*e*i}var fg=(fg=hg(1,1))?fg.getContext("2d"):null;const I7=new qi;function ZK(e){return function(t,n){if(!fg)return!0;e(fg,t),I7.clear().union(t.bounds).intersect(n).round();const{x1:r,y1:i,x2:o,y2:s}=I7;for(let a=i;a<=s;++a)for(let l=r;l<=o;++l)if(fg.isPointInPath(l,a))return!0;return!1}}function eX(e,t){return t.contains(e.x||0,e.y||0)}function Wke(e,t){const n=e.x||0,r=e.y||0,i=e.width||0,o=e.height||0;return t.intersects(I7.set(n,r,n+i,r+o))}function qke(e,t){const n=e.x||0,r=e.y||0,i=e.x2!=null?e.x2:n,o=e.y2!=null?e.y2:r;return O1(t,n,r,i,o)}function O1(e,t,n,r,i){const{x1:o,y1:s,x2:a,y2:l}=e,u=r-t,c=i-n;let d=0,h=1,f,p,m,g;for(g=0;g<4;++g){if(g===0&&(f=-u,p=-(o-t)),g===1&&(f=u,p=a-t),g===2&&(f=-c,p=-(s-n)),g===3&&(f=c,p=l-n),Math.abs(f)<1e-10&&p<0)return!1;if(m=p/f,f<0){if(m>h)return!1;m>d&&(d=m)}else if(f>0){if(m<d)return!1;m<h&&(h=m)}}return!0}function ox(e,t){e.globalCompositeOperation=t.blend||"source-over"}function yc(e,t){return e??t}function nce(e,t){const n=t.length;for(let r=0;r<n;++r)e.addColorStop(t[r].offset,t[r].color);return e}function NEt(e,t,n){const r=n.width(),i=n.height();let o;if(t.gradient==="radial")o=e.createRadialGradient(n.x1+yc(t.x1,.5)*r,n.y1+yc(t.y1,.5)*i,Math.max(r,i)*yc(t.r1,0),n.x1+yc(t.x2,.5)*r,n.y1+yc(t.y2,.5)*i,Math.max(r,i)*yc(t.r2,.5));else{const s=yc(t.x1,0),a=yc(t.y1,0),l=yc(t.x2,1),u=yc(t.y2,0);if(s===l||a===u||r===i)o=e.createLinearGradient(n.x1+s*r,n.y1+a*i,n.x1+l*r,n.y1+u*i);else{const c=hg(Math.ceil(r),Math.ceil(i)),d=c.getContext("2d");return d.scale(r,i),d.fillStyle=nce(d.createLinearGradient(s,a,l,u),t.stops),d.fillRect(0,0,r,i),e.createPattern(c,"no-repeat")}}return nce(o,t.stops)}function Gke(e,t,n){return KK(n)?NEt(e,n,t.bounds):n}function $D(e,t,n){return n*=t.fillOpacity==null?1:t.fillOpacity,n>0?(e.globalAlpha=n,e.fillStyle=Gke(e,t,t.fill),!0):!1}var OEt=[];function sx(e,t,n){var r=(r=t.strokeWidth)!=null?r:1;return r<=0?!1:(n*=t.strokeOpacity==null?1:t.strokeOpacity,n>0?(e.globalAlpha=n,e.strokeStyle=Gke(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||OEt),e.lineDashOffset=t.strokeDashOffset||0),!0):!1)}function LEt(e,t){return e.zindex-t.zindex||e.index-t.index}function tX(e){if(!e.zdirty)return e.zitems;var t=e.items,n=[],r,i,o;for(i=0,o=t.length;i<o;++i)r=t[i],r.index=i,r.zindex&&n.push(r);return e.zdirty=!1,e.zitems=n.sort(LEt)}function sd(e,t){var n=e.items,r,i;if(!n||!n.length)return;const o=tX(e);if(o&&o.length){for(r=0,i=n.length;r<i;++r)n[r].zindex||t(n[r]);n=o}for(r=0,i=n.length;r<i;++r)t(n[r])}function DD(e,t){var n=e.items,r,i;if(!n||!n.length)return null;const o=tX(e);for(o&&o.length&&(n=o),i=n.length;--i>=0;)if(r=t(n[i]))return r;if(n===o){for(n=e.items,i=n.length;--i>=0;)if(!n[i].zindex&&(r=t(n[i])))return r}return null}function nX(e){return function(t,n,r){sd(n,i=>{(!r||r.intersects(i.bounds))&&Yke(e,t,i,i)})}}function FEt(e){return function(t,n,r){n.items.length&&(!r||r.intersects(n.bounds))&&Yke(e,t,n.items[0],n.items)}}function Yke(e,t,n,r){var i=n.opacity==null?1:n.opacity;i!==0&&(e(t,r)||(ox(t,n),n.fill&&$D(t,n,i)&&t.fill(),n.stroke&&sx(t,n,i)&&t.stroke()))}function $O(e){return e=e||Wu,function(t,n,r,i,o,s){return r*=t.pixelRatio,i*=t.pixelRatio,DD(n,a=>{const l=a.bounds;if(!(l&&!l.contains(o,s)||!l)&&e(t,a,r,i,o,s))return a})}}function k2(e,t){return function(n,r,i,o){var s=Array.isArray(r)?r[0]:r,a=t??s.fill,l=s.stroke&&n.isPointInStroke,u,c;return l&&(u=s.strokeWidth,c=s.strokeCap,n.lineWidth=u??1,n.lineCap=c??"butt"),e(n,r)?!1:a&&n.isPointInPath(i,o)||l&&n.isPointInStroke(i,o)}}function rX(e){return $O(k2(e))}function By(e,t){return"translate("+e+","+t+")"}function iX(e){return"rotate("+e+")"}function BEt(e,t){return"scale("+e+","+t+")"}function Kke(e){return By(e.x||0,e.y||0)}function jEt(e){return By(e.x||0,e.y||0)+(e.angle?" "+iX(e.angle):"")}function zEt(e){return By(e.x||0,e.y||0)+(e.angle?" "+iX(e.angle):"")+(e.scaleX||e.scaleY?" "+BEt(e.scaleX||1,e.scaleY||1):"")}function oX(e,t,n){function r(s,a){s("transform",jEt(a)),s("d",t(null,a))}function i(s,a){return t(A2(s,a.angle),a),Wp(s,a).translate(a.x||0,a.y||0)}function o(s,a){var l=a.x||0,u=a.y||0,c=a.angle||0;s.translate(l,u),c&&s.rotate(c*=Lg),s.beginPath(),t(s,a),c&&s.rotate(-c),s.translate(-l,-u)}return{type:e,tag:"path",nested:!1,attr:r,bound:i,draw:nX(o),pick:rX(o),isect:n||ZK(o)}}var UEt=oX("arc",CEt);function HEt(e,t){for(var n=e[0].orient==="horizontal"?t[1]:t[0],r=e[0].orient==="horizontal"?"y":"x",i=e.length,o=1/0,s,a;--i>=0;)e[i].defined!==!1&&(a=Math.abs(e[i][r]-n),a<o&&(o=a,s=e[i]));return s}function VEt(e,t){for(var n=Math.pow(e[0].strokeWidth||1,2),r=e.length,i,o,s;--r>=0;)if(e[r].defined!==!1&&(i=e[r].x-t[0],o=e[r].y-t[1],s=i*i+o*o,s<n))return e[r];return null}function WEt(e,t){for(var n=e.length,r,i,o;--n>=0;)if(e[n].defined!==!1&&(r=e[n].x-t[0],i=e[n].y-t[1],o=r*r+i*i,r=e[n].size||1,o<r*r))return e[n];return null}function sX(e,t,n){function r(l,u){var c=u.mark.items;c.length&&l("d",t(null,c))}function i(l,u){var c=u.items;return c.length===0?l:(t(A2(l),c),Wp(l,c[0]))}function o(l,u){l.beginPath(),t(l,u)}const s=k2(o);function a(l,u,c,d,h,f){var p=u.items,m=u.bounds;return!p||!p.length||m&&!m.contains(h,f)?null:(c*=l.pixelRatio,d*=l.pixelRatio,s(l,p,c,d)?p[0]:null)}return{type:e,tag:"path",nested:!0,attr:r,bound:i,draw:FEt(o),pick:a,isect:eX,tip:n}}var qEt=sX("area",AEt,HEt);function GEt(e,t){var n=t.clip;e.save(),vn(n)?(e.beginPath(),n(e),e.clip()):Xke(e,t.group)}function Xke(e,t){e.beginPath(),QK(t)?M_(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function Qke(e){const t=yc(e.strokeWidth,1);return e.strokeOffset!=null?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function YEt(e,t){e("transform",Kke(t))}function Jke(e,t){const n=Qke(t);e("d",M_(null,t,n,n))}function KEt(e,t){e("class","background"),e("aria-hidden",!0),Jke(e,t)}function XEt(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?Jke(e,t):e("d","")}function QEt(e,t,n){const r=t.clip?JK(n,t,t):null;e("clip-path",r)}function JEt(e,t){if(!t.clip&&t.items){const n=t.items,r=n.length;for(let i=0;i<r;++i)e.union(n[i].bounds)}return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),Wp(e,t),e.translate(t.x||0,t.y||0)}function VC(e,t,n,r){const i=Qke(t);e.beginPath(),M_(e,t,(n||0)+i,(r||0)+i)}const ZEt=k2(VC),eSt=k2(VC,!1),tSt=k2(VC,!0);function nSt(e,t,n,r){sd(t,i=>{const o=i.x||0,s=i.y||0,a=i.strokeForeground,l=i.opacity==null?1:i.opacity;(i.stroke||i.fill)&&l&&(VC(e,i,o,s),ox(e,i),i.fill&&$D(e,i,l)&&e.fill(),i.stroke&&!a&&sx(e,i,l)&&e.stroke()),e.save(),e.translate(o,s),i.clip&&Xke(e,i),n&&n.translate(-o,-s),sd(i,u=>{(u.marktype==="group"||r==null||r.includes(u.marktype))&&this.draw(e,u,n,r)}),n&&n.translate(o,s),e.restore(),a&&i.stroke&&l&&(VC(e,i,o,s),ox(e,i),sx(e,i,l)&&e.stroke())})}function rSt(e,t,n,r,i,o){if(t.bounds&&!t.bounds.contains(i,o)||!t.items)return null;const s=n*e.pixelRatio,a=r*e.pixelRatio;return DD(t,l=>{let u,c,d;const h=l.bounds;if(h&&!h.contains(i,o))return;c=l.x||0,d=l.y||0;const f=c+(l.width||0),p=d+(l.height||0),m=l.clip;if(m&&(i<c||i>f||o<d||o>p))return;if(e.save(),e.translate(c,d),c=i-c,d=o-d,m&&QK(l)&&!tSt(e,l,s,a))return e.restore(),null;const g=l.strokeForeground,y=t.interactive!==!1;return y&&g&&l.stroke&&eSt(e,l,s,a)?(e.restore(),l):(u=DD(l,v=>iSt(v,c,d)?this.pick(v,n,r,c,d):null),!u&&y&&(l.fill||!g&&l.stroke)&&ZEt(e,l,s,a)&&(u=l),e.restore(),u||null)})}function iSt(e,t,n){return(e.interactive!==!1||e.marktype==="group")&&e.bounds&&e.bounds.contains(t,n)}var oSt={type:"group",tag:"g",nested:!1,attr:YEt,bound:JEt,draw:nSt,pick:rSt,isect:Wke,content:QEt,background:KEt,foreground:XEt},WC={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function aX(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then(r=>{e.image=r,e.image.url=e.url})),n}function lX(e,t){return e.width!=null?e.width:!t||!t.width?0:e.aspect!==!1&&e.height?e.height*t.width/t.height:t.width}function uX(e,t){return e.height!=null?e.height:!t||!t.height?0:e.aspect!==!1&&e.width?e.width*t.height/t.width:t.height}function DO(e,t){return e==="center"?t/2:e==="right"?t:0}function MO(e,t){return e==="middle"?t/2:e==="bottom"?t:0}function sSt(e,t,n){const r=aX(t,n),i=lX(t,r),o=uX(t,r),s=(t.x||0)-DO(t.align,i),a=(t.y||0)-MO(t.baseline,o),l=!r.src&&r.toDataURL?r.toDataURL():r.src||"";e("href",l,WC["xmlns:xlink"],"xlink:href"),e("transform",By(s,a)),e("width",i),e("height",o),e("preserveAspectRatio",t.aspect===!1?"none":"xMidYMid")}function aSt(e,t){const n=t.image,r=lX(t,n),i=uX(t,n),o=(t.x||0)-DO(t.align,r),s=(t.y||0)-MO(t.baseline,i);return e.set(o,s,o+r,s+i)}function lSt(e,t,n){sd(t,r=>{if(n&&!n.intersects(r.bounds))return;const i=aX(r,this);let o=lX(r,i),s=uX(r,i);if(o===0||s===0)return;let a=(r.x||0)-DO(r.align,o),l=(r.y||0)-MO(r.baseline,s),u,c,d,h;r.aspect!==!1&&(c=i.width/i.height,d=r.width/r.height,c===c&&d===d&&c!==d&&(d<c?(h=o/c,l+=(s-h)/2,s=h):(h=s*c,a+=(o-h)/2,o=h))),(i.complete||i.toDataURL)&&(ox(e,r),e.globalAlpha=(u=r.opacity)!=null?u:1,e.imageSmoothingEnabled=r.smooth!==!1,e.drawImage(i,a,l,o,s))})}var uSt={type:"image",tag:"image",nested:!1,attr:sSt,bound:aSt,draw:lSt,pick:$O(),isect:Wu,get:aX,xOffset:DO,yOffset:MO},cSt=sX("line",kEt,VEt);function dSt(e,t){var n=t.scaleX||1,r=t.scaleY||1;(n!==1||r!==1)&&e("vector-effect","non-scaling-stroke"),e("transform",zEt(t)),e("d",t.path)}function rR(e,t){var n=t.path;if(n==null)return!0;var r=t.x||0,i=t.y||0,o=t.scaleX||1,s=t.scaleY||1,a=(t.angle||0)*Lg,l=t.pathCache;(!l||l.path!==n)&&((t.pathCache=l=ix(n)).path=n),a&&e.rotate&&e.translate?(e.translate(r,i),e.rotate(a),HC(e,l,0,0,o,s),e.rotate(-a),e.translate(-r,-i)):HC(e,l,r,i,o,s)}function hSt(e,t){return rR(A2(e,t.angle),t)?e.set(0,0,0,0):Wp(e,t,!0)}var fSt={type:"path",tag:"path",nested:!1,attr:dSt,bound:hSt,draw:nX(rR),pick:rX(rR),isect:ZK(rR)};function pSt(e,t){e("d",M_(null,t))}function mSt(e,t){var n,r;return Wp(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)}function rce(e,t){e.beginPath(),M_(e,t)}var gSt={type:"rect",tag:"path",nested:!1,attr:pSt,bound:mSt,draw:nX(rce),pick:rX(rce),isect:Wke};function ySt(e,t){e("transform",Kke(t)),e("x2",t.x2!=null?t.x2-(t.x||0):0),e("y2",t.y2!=null?t.y2-(t.y||0):0)}function vSt(e,t){var n,r;return Wp(e.set(n=t.x||0,r=t.y||0,t.x2!=null?t.x2:n,t.y2!=null?t.y2:r),t)}function Zke(e,t,n){var r,i,o,s;return t.stroke&&sx(e,t,n)?(r=t.x||0,i=t.y||0,o=t.x2!=null?t.x2:r,s=t.y2!=null?t.y2:i,e.beginPath(),e.moveTo(r,i),e.lineTo(o,s),!0):!1}function bSt(e,t,n){sd(t,r=>{if(!(n&&!n.intersects(r.bounds))){var i=r.opacity==null?1:r.opacity;i&&Zke(e,r,i)&&(ox(e,r),e.stroke())}})}function wSt(e,t,n,r){return e.isPointInStroke?Zke(e,t,1)&&e.isPointInStroke(n,r):!1}var xSt={type:"rule",tag:"line",nested:!1,attr:ySt,bound:vSt,draw:bSt,pick:$O(wSt),isect:qke},_St=oX("shape",IEt),ESt=oX("symbol",REt,eX);const ice=sCe();var Kl={height:Gh,measureWidth:cX,estimateWidth:MD,width:MD,canvas:e3e};e3e(!0);function e3e(e){Kl.width=e&&fg?cX:MD}function MD(e,t){return t3e(Bg(e,t),Gh(e))}function t3e(e,t){return~~(.8*e.length*t)}function cX(e,t){return Gh(e)<=0||!(t=Bg(e,t))?0:n3e(t,PO(e))}function n3e(e,t){const n=`(${t}) ${e}`;let r=ice.get(n);return r===void 0&&(fg.font=t,r=fg.measureText(e).width,ice.set(n,r)),r}function Gh(e){return e.fontSize!=null?+e.fontSize||0:11}function Fg(e){return e.lineHeight!=null?e.lineHeight:Gh(e)+2}function SSt(e){return Pe(e)?e.length>1?e:e[0]:e}function I2(e){return SSt(e.lineBreak&&e.text&&!Pe(e.text)?e.text.split(e.lineBreak):e.text)}function dX(e){const t=I2(e);return(Pe(t)?t.length-1:0)*Fg(e)}function Bg(e,t){const n=t==null?"":(t+"").trim();return e.limit>0&&n.length?CSt(e,n):n}function TSt(e){if(Kl.width===cX){const t=PO(e);return n=>n3e(n,t)}else if(Kl.width===MD){const t=Gh(e);return n=>t3e(n,t)}else return t=>Kl.width(e,t)}function CSt(e,t){var n=+e.limit,r=TSt(e);if(r(t)<n)return t;var i=e.ellipsis||"",o=e.dir==="rtl",s=0,a=t.length,l;if(n-=r(i),o){for(;s<a;)l=s+a>>>1,r(t.slice(l))>n?s=l+1:a=l;return i+t.slice(s)}else{for(;s<a;)l=1+(s+a>>>1),r(t.slice(0,l))<n?s=l:a=l-1;return t.slice(0,s)+i}}function R2(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function PO(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+Gh(e)+"px "+R2(e,t)}function hX(e){var t=e.baseline,n=Gh(e);return Math.round(t==="top"?.79*n:t==="middle"?.3*n:t==="bottom"?-.21*n:t==="line-top"?.29*n+.5*Fg(e):t==="line-bottom"?.29*n-.5*Fg(e):0)}const ASt={left:"start",center:"middle",right:"end"},gT=new qi;function NO(e){var t=e.x||0,n=e.y||0,r=e.radius||0,i;return r&&(i=(e.theta||0)-ly,t+=r*Math.cos(i),n+=r*Math.sin(i)),gT.x1=t,gT.y1=n,gT}function kSt(e,t){var n=t.dx||0,r=(t.dy||0)+hX(t),i=NO(t),o=i.x1,s=i.y1,a=t.angle||0,l;e("text-anchor",ASt[t.align]||"start"),a?(l=By(o,s)+" "+iX(a),(n||r)&&(l+=" "+By(n,r))):l=By(o+n,s+r),e("transform",l)}function fX(e,t,n){var r=Kl.height(t),i=t.align,o=NO(t),s=o.x1,a=o.y1,l=t.dx||0,u=(t.dy||0)+hX(t)-Math.round(.8*r),c=I2(t),d;if(Pe(c)?(r+=Fg(t)*(c.length-1),d=c.reduce((h,f)=>Math.max(h,Kl.width(t,f)),0)):d=Kl.width(t,c),i==="center"?l-=d/2:i==="right"&&(l-=d),e.set(l+=s,u+=a,l+d,u+r),t.angle&&!n)e.rotate(t.angle*Lg,s,a);else if(n===2)return e.rotatedPoints(t.angle*Lg,s,a);return e}function ISt(e,t,n){sd(t,r=>{var i=r.opacity==null?1:r.opacity,o,s,a,l,u,c,d;if(!(n&&!n.intersects(r.bounds)||i===0||r.fontSize<=0||r.text==null||r.text.length===0)){if(e.font=PO(r),e.textAlign=r.align||"left",o=NO(r),s=o.x1,a=o.y1,r.angle&&(e.save(),e.translate(s,a),e.rotate(r.angle*Lg),s=a=0),s+=r.dx||0,a+=(r.dy||0)+hX(r),c=I2(r),ox(e,r),Pe(c))for(u=Fg(r),l=0;l<c.length;++l)d=Bg(r,c[l]),r.fill&&$D(e,r,i)&&e.fillText(d,s,a),r.stroke&&sx(e,r,i)&&e.strokeText(d,s,a),a+=u;else d=Bg(r,c),r.fill&&$D(e,r,i)&&e.fillText(d,s,a),r.stroke&&sx(e,r,i)&&e.strokeText(d,s,a);r.angle&&e.restore()}})}function RSt(e,t,n,r,i,o){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var s=NO(t),a=s.x1,l=s.y1,u=fX(gT,t,1),c=-t.angle*Lg,d=Math.cos(c),h=Math.sin(c),f=d*i-h*o+(a-d*a+h*l),p=h*i+d*o+(l-h*a-d*l);return u.contains(f,p)}function $St(e,t){const n=fX(gT,e,2);return O1(t,n[0],n[1],n[2],n[3])||O1(t,n[0],n[1],n[4],n[5])||O1(t,n[4],n[5],n[6],n[7])||O1(t,n[2],n[3],n[6],n[7])}var DSt={type:"text",tag:"text",nested:!1,attr:kSt,bound:fX,draw:ISt,pick:$O(RSt),isect:$St},MSt=sX("trail",$Et,WEt),cu={arc:UEt,area:qEt,group:oSt,image:uSt,line:cSt,path:fSt,rect:gSt,rule:xSt,shape:_St,symbol:ESt,text:DSt,trail:MSt};function R7(e,t,n){var r=cu[e.mark.marktype],i=t||r.bound;return r.nested&&(e=e.mark),i(e.bounds||(e.bounds=new qi),e,n)}var oce={mark:null};function r3e(e,t,n){var r=cu[e.marktype],i=r.bound,o=e.items,s=o&&o.length,a,l,u,c;if(r.nested)return s?u=o[0]:(oce.mark=e,u=oce),c=R7(u,i,n),t=t&&t.union(c)||c,t;if(t=t||e.bounds&&e.bounds.clear()||new qi,s)for(a=0,l=o.length;a<l;++a)t.union(R7(o[a],i,n));return e.bounds=t}const PSt=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function i3e(e,t){return JSON.stringify(e,PSt,t)}function o3e(e){const t=typeof e=="string"?JSON.parse(e):e;return s3e(t)}function s3e(e){var t=e.marktype,n=e.items,r,i,o;if(n)for(i=0,o=n.length;i<o;++i)r=t?"mark":"group",n[i][r]=e,n[i].zindex&&(n[i][r].zdirty=!0),(t||r)==="group"&&s3e(n[i]);return t&&r3e(e),e}class a3e{constructor(t){arguments.length?this.root=o3e(t):(this.root=sce({marktype:"group",name:"root",role:"frame"}),this.root.items=[new IO(this.root)])}toJSON(t){return i3e(this.root,t||0)}mark(t,n,r){n=n||this.root.items[0];const i=sce(t,n);return n.items[r]=i,i.zindex&&(i.group.zdirty=!0),i}}function sce(e,t){const n={bounds:new qi,clip:!!e.clip,group:t,interactive:e.interactive!==!1,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return e.aria!=null&&(n.aria=e.aria),e.description&&(n.description=e.description),n}function Fm(e,t,n){return!e&&typeof document<"u"&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function pX(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function ro(e,t,n,r){var i=e.childNodes[t],o;return(!i||i.tagName.toLowerCase()!==n.toLowerCase())&&(o=i||null,i=Fm(e.ownerDocument,n,r),e.insertBefore(i,o)),i}function Au(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function l3e(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function OO(e,t){const n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}function NSt(e,t,n,r){var i=e&&e.mark,o,s;if(i&&(o=cu[i.marktype]).tip){for(s=OO(t,n),s[0]-=r[0],s[1]-=r[1];e=e.mark.group;)s[0]-=e.x||0,s[1]-=e.y||0;e=o.tip(i.items,s)}return e}let mX=class{constructor(t,n){this._active=null,this._handlers={},this._loader=t||eO(),this._tooltip=n||OSt}initialize(t,n,r){return this._el=t,this._obj=r||null,this.origin(n)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}origin(t){return arguments.length?(this._origin=t||[0,0],this):this._origin.slice()}scene(t){return arguments.length?(this._scene=t,this):this._scene}on(){}off(){}_handlerIndex(t,n,r){for(let i=t?t.length:0;--i>=0;)if(t[i].type===n&&(!r||t[i].handler===r))return i;return-1}handlers(t){const n=this._handlers,r=[];if(t)r.push(...n[this.eventName(t)]);else for(const i in n)r.push(...n[i]);return r}eventName(t){const n=t.indexOf(".");return n<0?t:t.slice(0,n)}handleHref(t,n,r){this._loader.sanitize(r,{context:"href"}).then(i=>{const o=new MouseEvent(t.type,t),s=Fm(null,"a");for(const a in i)s.setAttribute(a,i[a]);s.dispatchEvent(o)}).catch(()=>{})}handleTooltip(t,n,r){if(n&&n.tooltip!=null){n=NSt(n,t,this.canvas(),this._origin);const i=r&&n&&n.tooltip||null;this._tooltip.call(this._obj,this,t,n,i)}}getItemBoundingClientRect(t){const n=this.canvas();if(!n)return;const r=n.getBoundingClientRect(),i=this._origin,o=t.bounds,s=o.width(),a=o.height();let l=o.x1+i[0]+r.left,u=o.y1+i[1]+r.top;for(;t.mark&&(t=t.mark.group);)l+=t.x||0,u+=t.y||0;return{x:l,y:u,width:s,height:a,left:l,top:u,right:l+s,bottom:u+a}}};function OSt(e,t,n,r){e.element().setAttribute("title",r||"")}class $2{constructor(t){this._el=null,this._bgcolor=null,this._loader=new Vke(t)}initialize(t,n,r,i,o){return this._el=t,this.resize(n,r,i,o)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}background(t){return arguments.length===0?this._bgcolor:(this._bgcolor=t,this)}resize(t,n,r,i){return this._width=t,this._height=n,this._origin=r||[0,0],this._scale=i||1,this}dirty(){}render(t,n){const r=this;return r._call=function(){r._render(t,n)},r._call(),r._call=null,r}_render(){}renderAsync(t,n){const r=this.render(t,n);return this._ready?this._ready.then(()=>r):Promise.resolve(r)}_load(t,n){var r=this,i=r._loader[t](n);if(!r._ready){const o=r._call;r._ready=r._loader.ready().then(s=>{s&&o(),r._ready=null})}return i}sanitizeURL(t){return this._load("sanitizeURL",t)}loadImage(t){return this._load("loadImage",t)}}const LSt="keydown",FSt="keypress",BSt="keyup",u3e="dragenter",iR="dragleave",c3e="dragover",$7="pointerdown",jSt="pointerup",PD="pointermove",oR="pointerout",d3e="pointerover",D7="mousedown",zSt="mouseup",h3e="mousemove",ND="mouseout",f3e="mouseover",OD="click",USt="dblclick",HSt="wheel",p3e="mousewheel",LD="touchstart",FD="touchmove",BD="touchend",VSt=[LSt,FSt,BSt,u3e,iR,c3e,$7,jSt,PD,oR,d3e,D7,zSt,h3e,ND,f3e,OD,USt,HSt,p3e,LD,FD,BD],M7=PD,yT=ND,P7=OD;class D2 extends mX{constructor(t,n){super(t,n),this._down=null,this._touch=null,this._first=!0,this._events={},this.events=VSt,this.pointermove=uce([PD,h3e],[d3e,f3e],[oR,ND]),this.dragover=uce([c3e],[u3e],[iR]),this.pointerout=cce([oR,ND]),this.dragleave=cce([iR])}initialize(t,n,r){return this._canvas=t&&pX(t,"canvas"),[OD,D7,$7,PD,oR,iR].forEach(i=>lce(this,i)),super.initialize(t,n,r)}canvas(){return this._canvas}context(){return this._canvas.getContext("2d")}DOMMouseScroll(t){this.fire(p3e,t)}pointerdown(t){this._down=this._active,this.fire($7,t)}mousedown(t){this._down=this._active,this.fire(D7,t)}click(t){this._down===this._active&&(this.fire(OD,t),this._down=null)}touchstart(t){this._touch=this.pickEvent(t.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(LD,t,!0)}touchmove(t){this.fire(FD,t,!0)}touchend(t){this.fire(BD,t,!0),this._touch=null}fire(t,n,r){const i=r?this._touch:this._active,o=this._handlers[t];if(n.vegaType=t,t===P7&&i&&i.href?this.handleHref(n,i,i.href):(t===M7||t===yT)&&this.handleTooltip(n,i,t!==yT),o)for(let s=0,a=o.length;s<a;++s)o[s].handler.call(this._obj,n,i)}on(t,n){const r=this.eventName(t),i=this._handlers;return this._handlerIndex(i[r],t,n)<0&&(lce(this,t),(i[r]||(i[r]=[])).push({type:t,handler:n})),this}off(t,n){const r=this.eventName(t),i=this._handlers[r],o=this._handlerIndex(i,t,n);return o>=0&&i.splice(o,1),this}pickEvent(t){const n=OO(t,this._canvas),r=this._origin;return this.pick(this._scene,n[0],n[1],n[0]-r[0],n[1]-r[1])}pick(t,n,r,i,o){const s=this.context();return cu[t.marktype].pick.call(this,s,t,n,r,i,o)}}const WSt=e=>e===LD||e===FD||e===BD?[LD,FD,BD]:[e];function lce(e,t){WSt(t).forEach(n=>qSt(e,n))}function qSt(e,t){const n=e.canvas();n&&!e._events[t]&&(e._events[t]=1,n.addEventListener(t,e[t]?r=>e[t](r):r=>e.fire(t,r)))}function xS(e,t,n){t.forEach(r=>e.fire(r,n))}function uce(e,t,n){return function(r){const i=this._active,o=this.pickEvent(r);o===i?xS(this,e,r):((!i||!i.exit)&&xS(this,n,r),this._active=o,xS(this,t,r),xS(this,e,r))}}function cce(e){return function(t){xS(this,e,t),this._active=null}}function GSt(){return typeof window<"u"&&window.devicePixelRatio||1}function YSt(e,t,n,r,i,o){const s=typeof HTMLElement<"u"&&e instanceof HTMLElement&&e.parentNode!=null,a=e.getContext("2d"),l=s?GSt():i;e.width=t*l,e.height=n*l;for(const u in o)a[u]=o[u];return s&&l!==1&&(e.style.width=t+"px",e.style.height=n+"px"),a.pixelRatio=l,a.setTransform(l,0,0,l,l*r[0],l*r[1]),e}class jD extends $2{constructor(t){super(t),this._options={},this._redraw=!1,this._dirty=new qi,this._tempb=new qi}initialize(t,n,r,i,o,s){return this._options=s||{},this._canvas=this._options.externalContext?null:hg(1,1,this._options.type),t&&this._canvas&&(Au(t,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),super.initialize(t,n,r,i,o)}resize(t,n,r,i){if(super.resize(t,n,r,i),this._canvas)YSt(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const o=this._options.externalContext;o||Re("CanvasRenderer is missing a valid canvas or context"),o.scale(this._scale,this._scale),o.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this}canvas(){return this._canvas}context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)}dirty(t){const n=this._tempb.clear().union(t.bounds);let r=t.mark.group;for(;r;)n.translate(r.x||0,r.y||0),r=r.mark.group;this._dirty.union(n)}_render(t,n){const r=this.context(),i=this._origin,o=this._width,s=this._height,a=this._dirty,l=KSt(i,o,s);r.save();const u=this._redraw||a.empty()?(this._redraw=!1,l.expand(1)):XSt(r,l.intersect(a),i);return this.clear(-i[0],-i[1],o,s),this.draw(r,t,u,n),r.restore(),a.clear(),this}draw(t,n,r,i){if(n.marktype!=="group"&&i!=null&&!i.includes(n.marktype))return;const o=cu[n.marktype];n.clip&&GEt(t,n),o.draw.call(this,t,n,r,i),n.clip&&t.restore()}clear(t,n,r,i){const o=this._options,s=this.context();o.type!=="pdf"&&!o.externalContext&&s.clearRect(t,n,r,i),this._bgcolor!=null&&(s.fillStyle=this._bgcolor,s.fillRect(t,n,r,i))}}const KSt=(e,t,n)=>new qi().set(0,0,t,n).translate(-e[0],-e[1]);function XSt(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-(n[0]%1),-(n[1]%1)),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}class m3e extends mX{constructor(t,n){super(t,n);const r=this;r._hrefHandler=C6(r,(i,o)=>{o&&o.href&&r.handleHref(i,o,o.href)}),r._tooltipHandler=C6(r,(i,o)=>{r.handleTooltip(i,o,i.type!==yT)})}initialize(t,n,r){let i=this._svg;return i&&(i.removeEventListener(P7,this._hrefHandler),i.removeEventListener(M7,this._tooltipHandler),i.removeEventListener(yT,this._tooltipHandler)),this._svg=i=t&&pX(t,"svg"),i&&(i.addEventListener(P7,this._hrefHandler),i.addEventListener(M7,this._tooltipHandler),i.addEventListener(yT,this._tooltipHandler)),super.initialize(t,n,r)}canvas(){return this._svg}on(t,n){const r=this.eventName(t),i=this._handlers;if(this._handlerIndex(i[r],t,n)<0){const s={type:t,handler:n,listener:C6(this,n)};(i[r]||(i[r]=[])).push(s),this._svg&&this._svg.addEventListener(r,s.listener)}return this}off(t,n){const r=this.eventName(t),i=this._handlers[r],o=this._handlerIndex(i,t,n);return o>=0&&(this._svg&&this._svg.removeEventListener(r,i[o].listener),i.splice(o,1)),this}}const C6=(e,t)=>n=>{let r=n.target.__data__;r=Array.isArray(r)?r[0]:r,n.vegaType=n.type,t.call(e._obj,n,r)},g3e="aria-hidden",gX="aria-label",yX="role",vX="aria-roledescription",y3e="graphics-object",bX="graphics-symbol",v3e=(e,t,n)=>({[yX]:e,[vX]:t,[gX]:n||void 0}),QSt=id(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),dce={axis:{desc:"axis",caption:eTt},legend:{desc:"legend",caption:tTt},"title-text":{desc:"title",caption:e=>`Title text '${fce(e)}'`},"title-subtitle":{desc:"subtitle",caption:e=>`Subtitle text '${fce(e)}'`}},hce={ariaRole:yX,ariaRoleDescription:vX,description:gX};function b3e(e,t){const n=t.aria===!1;if(e(g3e,n||void 0),n||t.description==null)for(const r in hce)e(hce[r],void 0);else{const r=t.mark.marktype;e(gX,t.description),e(yX,t.ariaRole||(r==="group"?y3e:bX)),e(vX,t.ariaRoleDescription||`${r} mark`)}}function w3e(e){return e.aria===!1?{[g3e]:!0}:QSt[e.role]?null:dce[e.role]?ZSt(e,dce[e.role]):JSt(e)}function JSt(e){const t=e.marktype,n=t==="group"||t==="text"||e.items.some(r=>r.description!=null&&r.aria!==!1);return v3e(n?y3e:bX,`${t} mark container`,e.description)}function ZSt(e,t){try{const n=e.items[0],r=t.caption||(()=>"");return v3e(t.role||bX,t.desc,n.description||r(n))}catch{return null}}function fce(e){return _t(e.text).join(" ")}function eTt(e){const t=e.datum,n=e.orient,r=t.title?x3e(e):null,i=e.context,o=i.scales[t.scale].value,s=i.dataflow.locale(),a=o.type;return`${n==="left"||n==="right"?"Y":"X"}-axis`+(r?` titled '${r}'`:"")+` for a ${rx(a)?"discrete":a} scale with ${Pke(s,o,e)}`}function tTt(e){const t=e.datum,n=t.title?x3e(e):null,r=`${t.type||""} legend`.trim(),i=t.scales,o=Object.keys(i),s=e.context,a=s.scales[i[o[0]]].value,l=s.dataflow.locale();return rTt(r)+(n?` titled '${n}'`:"")+` for ${nTt(o)} with ${Pke(l,a,e)}`}function x3e(e){try{return _t(zn(e.items).items[0].text).join(" ")}catch{return null}}function nTt(e){return e=e.map(t=>t+(t==="fill"||t==="stroke"?" color":"")),e.length<2?e[0]:e.slice(0,-1).join(", ")+" and "+zn(e)}function rTt(e){return e.length?e[0].toUpperCase()+e.slice(1):e}const _3e=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),iTt=e=>_3e(e).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;");function wX(){let e="",t="",n="";const r=[],i=()=>t=n="",o=l=>{t&&(e+=`${t}>${n}`,i()),r.push(l)},s=(l,u)=>(u!=null&&(t+=` ${l}="${iTt(u)}"`),a),a={open(l){o(l),t="<"+l;for(var u=arguments.length,c=new Array(u>1?u-1:0),d=1;d<u;d++)c[d-1]=arguments[d];for(const h of c)for(const f in h)s(f,h[f]);return a},close(){const l=r.pop();return t?e+=t+(n?`>${n}</${l}>`:"/>"):e+=`</${l}>`,i(),a},attr:s,text:l=>(n+=_3e(l),a),toString:()=>e};return a}const E3e=e=>S3e(wX(),e)+"";function S3e(e,t){if(e.open(t.tagName),t.hasAttributes()){const n=t.attributes,r=n.length;for(let i=0;i<r;++i)e.attr(n[i].name,n[i].value)}if(t.hasChildNodes()){const n=t.childNodes;for(const r of n)r.nodeType===3?e.text(r.nodeValue):S3e(e,r)}return e.close()}const zD={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},UD={blend:"mix-blend-mode"},T3e={fill:"none","stroke-miterlimit":10},RE=0,pce="http://www.w3.org/2000/xmlns/",to=WC.xmlns;class xX extends $2{constructor(t){super(t),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}initialize(t,n,r,i,o){return this._defs={},this._clearDefs(),t&&(this._svg=ro(t,0,"svg",to),this._svg.setAttributeNS(pce,"xmlns",to),this._svg.setAttributeNS(pce,"xmlns:xlink",WC["xmlns:xlink"]),this._svg.setAttribute("version",WC.version),this._svg.setAttribute("class","marks"),Au(t,1),this._root=ro(this._svg,RE,"g",to),Bm(this._root,T3e),Au(this._svg,RE+1)),this.background(this._bgcolor),super.initialize(t,n,r,i,o)}background(t){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",t),super.background(...arguments)}resize(t,n,r,i){return super.resize(t,n,r,i),this._svg&&(Bm(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this}canvas(){return this._svg}svg(){const t=this._svg,n=this._bgcolor;if(!t)return null;let r;n&&(t.removeAttribute("style"),r=ro(t,RE,"rect",to),Bm(r,{width:this._width,height:this._height,fill:n}));const i=E3e(t);return n&&(t.removeChild(r),this._svg.style.setProperty("background-color",n)),i}_render(t,n){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,t,void 0,n),Au(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this}dirty(t){t.dirty!==this._dirtyID&&(t.dirty=this._dirtyID,this._dirty.push(t))}isDirty(t){return this._dirtyAll||!t._svg||!t._svg.ownerSVGElement||t.dirty===this._dirtyID}_dirtyCheck(){this._dirtyAll=!0;const t=this._dirty;if(!t.length||!this._dirtyID)return!0;const n=++this._dirtyID;let r,i,o,s,a,l,u;for(a=0,l=t.length;a<l;++a)if(r=t[a],i=r.mark,i.marktype!==o&&(o=i.marktype,s=cu[o]),i.zdirty&&i.dirty!==n&&(this._dirtyAll=!1,mce(r,n),i.items.forEach(c=>{c.dirty=n})),!i.zdirty){if(r.exit){s.nested&&i.items.length?(u=i.items[0],u._svg&&this._update(s,u._svg,u)):r._svg&&(u=r._svg.parentNode,u&&u.removeChild(r._svg)),r._svg=null;continue}r=s.nested?i.items[0]:r,r._update!==n&&(!r._svg||!r._svg.ownerSVGElement?(this._dirtyAll=!1,mce(r,n)):this._update(s,r._svg,r),r._update=n)}return!this._dirtyAll}mark(t,n,r,i){if(!this.isDirty(n))return n._svg;const o=this._svg,s=n.marktype,a=cu[s],l=n.interactive===!1?"none":null,u=a.tag==="g",c=gce(n,t,r,"g",o);if(s!=="group"&&i!=null&&!i.includes(s))return Au(c,0),n._svg;c.setAttribute("class",l3e(n));const d=w3e(n);for(const m in d)va(c,m,d[m]);u||va(c,"pointer-events",l),va(c,"clip-path",n.clip?JK(this,n,n.group):null);let h=null,f=0;const p=m=>{const g=this.isDirty(m),y=gce(m,c,h,a.tag,o);g&&(this._update(a,y,m),u&&aTt(this,y,m,i)),h=y,++f};return a.nested?n.items.length&&p(n.items[0]):sd(n,p),Au(c,f),c}_update(t,n,r){Vf=n,Us=n.__values__,b3e(vT,r),t.attr(vT,r,this);const i=uTt[t.type];i&&i.call(this,t,n,r),Vf&&this.style(Vf,r)}style(t,n){if(n!=null){for(const r in zD){let i=r==="font"?R2(n):n[r];if(i===Us[r])continue;const o=zD[r];i==null?t.removeAttribute(o):(KK(i)&&(i=Oke(i,this._defs.gradient,C3e())),t.setAttribute(o,i+"")),Us[r]=i}for(const r in UD)sR(t,UD[r],n[r])}}defs(){const t=this._svg,n=this._defs;let r=n.el,i=0;for(const o in n.gradient)r||(n.el=r=ro(t,RE+1,"defs",to)),i=oTt(r,n.gradient[o],i);for(const o in n.clipping)r||(n.el=r=ro(t,RE+1,"defs",to)),i=sTt(r,n.clipping[o],i);r&&(i===0?(t.removeChild(r),n.el=null):Au(r,i))}_clearDefs(){const t=this._defs;t.gradient={},t.clipping={}}}function mce(e,t){for(;e&&e.dirty!==t;e=e.mark.group)if(e.dirty=t,e.mark&&e.mark.dirty!==t)e.mark.dirty=t;else return}function oTt(e,t,n){let r,i,o;if(t.gradient==="radial"){let s=ro(e,n++,"pattern",to);Bm(s,{id:RD+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),s=ro(s,0,"rect",to),Bm(s,{width:1,height:1,fill:`url(${C3e()}#${t.id})`}),e=ro(e,n++,"radialGradient",to),Bm(e,{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else e=ro(e,n++,"linearGradient",to),Bm(e,{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(r=0,i=t.stops.length;r<i;++r)o=ro(e,r,"stop",to),o.setAttribute("offset",t.stops[r].offset),o.setAttribute("stop-color",t.stops[r].color);return Au(e,r),n}function sTt(e,t,n){let r;return e=ro(e,n,"clipPath",to),e.setAttribute("id",t.id),t.path?(r=ro(e,0,"path",to),r.setAttribute("d",t.path)):(r=ro(e,0,"rect",to),Bm(r,{x:0,y:0,width:t.width,height:t.height})),Au(e,1),n+1}function aTt(e,t,n,r){t=t.lastChild.previousSibling;let i,o=0;sd(n,s=>{i=e.mark(t,s,i,r),++o}),Au(t,1+o)}function gce(e,t,n,r,i){let o=e._svg,s;if(!o&&(s=t.ownerDocument,o=Fm(s,r,to),e._svg=o,e.mark&&(o.__data__=e,o.__values__={fill:"default"},r==="g"))){const a=Fm(s,"path",to);o.appendChild(a),a.__data__=e;const l=Fm(s,"g",to);o.appendChild(l),l.__data__=e;const u=Fm(s,"path",to);o.appendChild(u),u.__data__=e,u.__values__={fill:"default"}}return(o.ownerSVGElement!==i||lTt(o,n))&&t.insertBefore(o,n?n.nextSibling:t.firstChild),o}function lTt(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}let Vf=null,Us=null;const uTt={group(e,t,n){const r=Vf=t.childNodes[2];Us=r.__values__,e.foreground(vT,n,this),Us=t.__values__,Vf=t.childNodes[1],e.content(vT,n,this);const i=Vf=t.childNodes[0];e.background(vT,n,this);const o=n.mark.interactive===!1?"none":null;if(o!==Us.events&&(va(r,"pointer-events",o),va(i,"pointer-events",o),Us.events=o),n.strokeForeground&&n.stroke){const s=n.fill;va(r,"display",null),this.style(i,n),va(i,"stroke",null),s&&(n.fill=null),Us=r.__values__,this.style(r,n),s&&(n.fill=s),Vf=null}else va(r,"display","none")},image(e,t,n){n.smooth===!1?(sR(t,"image-rendering","optimizeSpeed"),sR(t,"image-rendering","pixelated")):sR(t,"image-rendering",null)},text(e,t,n){const r=I2(n);let i,o,s,a;Pe(r)?(o=r.map(l=>Bg(n,l)),i=o.join(`
`),i!==Us.text&&(Au(t,0),s=t.ownerDocument,a=Fg(n),o.forEach((l,u)=>{const c=Fm(s,"tspan",to);c.__data__=n,c.textContent=l,u&&(c.setAttribute("x",0),c.setAttribute("dy",a)),t.appendChild(c)}),Us.text=i)):(o=Bg(n,r),o!==Us.text&&(t.textContent=o,Us.text=o)),va(t,"font-family",R2(n)),va(t,"font-size",Gh(n)+"px"),va(t,"font-style",n.fontStyle),va(t,"font-variant",n.fontVariant),va(t,"font-weight",n.fontWeight)}};function vT(e,t,n){t!==Us[e]&&(n?cTt(Vf,e,t,n):va(Vf,e,t),Us[e]=t)}function sR(e,t,n){n!==Us[t]&&(n==null?e.style.removeProperty(t):e.style.setProperty(t,n+""),Us[t]=n)}function Bm(e,t){for(const n in t)va(e,n,t[n])}function va(e,t,n){n!=null?e.setAttribute(t,n):e.removeAttribute(t)}function cTt(e,t,n,r){n!=null?e.setAttributeNS(r,t,n):e.removeAttributeNS(r,t)}function C3e(){let e;return typeof window>"u"?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}class A3e extends $2{constructor(t){super(t),this._text=null,this._defs={gradient:{},clipping:{}}}svg(){return this._text}_render(t){const n=wX();n.open("svg",yn({},WC,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const r=this._bgcolor;return r&&r!=="transparent"&&r!=="none"&&n.open("rect",{width:this._width,height:this._height,fill:r}).close(),n.open("g",T3e,{transform:"translate("+this._origin+")"}),this.mark(n,t),n.close(),this.defs(n),this._text=n.close()+"",this}mark(t,n){const r=cu[n.marktype],i=r.tag,o=[b3e,r.attr];t.open("g",{class:l3e(n),"clip-path":n.clip?JK(this,n,n.group):null},w3e(n),{"pointer-events":i!=="g"&&n.interactive===!1?"none":null});const s=a=>{const l=this.href(a);if(l&&t.open("a",l),t.open(i,this.attr(n,a,o,i!=="g"?i:null)),i==="text"){const u=I2(a);if(Pe(u)){const c={x:0,dy:Fg(a)};for(let d=0;d<u.length;++d)t.open("tspan",d?c:null).text(Bg(a,u[d])).close()}else t.text(Bg(a,u))}else if(i==="g"){const u=a.strokeForeground,c=a.fill,d=a.stroke;u&&d&&(a.stroke=null),t.open("path",this.attr(n,a,r.background,"bgrect")).close(),t.open("g",this.attr(n,a,r.content)),sd(a,h=>this.mark(t,h)),t.close(),u&&d?(c&&(a.fill=null),a.stroke=d,t.open("path",this.attr(n,a,r.foreground,"bgrect")).close(),c&&(a.fill=c)):t.open("path",this.attr(n,a,r.foreground,"bgfore")).close()}t.close(),l&&t.close()};return r.nested?n.items&&n.items.length&&s(n.items[0]):sd(n,s),t.close()}href(t){const n=t.href;let r;if(n){if(r=this._hrefs&&this._hrefs[n])return r;this.sanitizeURL(n).then(i=>{i["xlink:href"]=i.href,i.href=null,(this._hrefs||(this._hrefs={}))[n]=i})}return null}attr(t,n,r,i){const o={},s=(a,l,u,c)=>{o[c||a]=l};return Array.isArray(r)?r.forEach(a=>a(s,n,this)):r(s,n,this),i&&dTt(o,n,t,i,this._defs),o}defs(t){const n=this._defs.gradient,r=this._defs.clipping;if(Object.keys(n).length+Object.keys(r).length!==0){t.open("defs");for(const o in n){const s=n[o],a=s.stops;s.gradient==="radial"?(t.open("pattern",{id:RD+o,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),t.open("rect",{width:"1",height:"1",fill:"url(#"+o+")"}).close(),t.close(),t.open("radialGradient",{id:o,fx:s.x1,fy:s.y1,fr:s.r1,cx:s.x2,cy:s.y2,r:s.r2})):t.open("linearGradient",{id:o,x1:s.x1,x2:s.x2,y1:s.y1,y2:s.y2});for(let l=0;l<a.length;++l)t.open("stop",{offset:a[l].offset,"stop-color":a[l].color}).close();t.close()}for(const o in r){const s=r[o];t.open("clipPath",{id:o}),s.path?t.open("path",{d:s.path}).close():t.open("rect",{x:0,y:0,width:s.width,height:s.height}).close(),t.close()}t.close()}}}function dTt(e,t,n,r,i){let o;if(t==null||(r==="bgrect"&&n.interactive===!1&&(e["pointer-events"]="none"),r==="bgfore"&&(n.interactive===!1&&(e["pointer-events"]="none"),e.display="none",t.fill!==null)))return e;r==="image"&&t.smooth===!1&&(o=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]),r==="text"&&(e["font-family"]=R2(t),e["font-size"]=Gh(t)+"px",e["font-style"]=t.fontStyle,e["font-variant"]=t.fontVariant,e["font-weight"]=t.fontWeight);for(const s in zD){let a=t[s];const l=zD[s];a==="transparent"&&(l==="fill"||l==="stroke")||a!=null&&(KK(a)&&(a=Oke(a,i.gradient,"")),e[l]=a)}for(const s in UD){const a=t[s];a!=null&&(o=o||[],o.push(`${UD[s]}: ${a};`))}return o&&(e.style=o.join(" ")),e}const Sc={svgMarkTypes:["text"],svgOnTop:!0,debug:!1};function hTt(e){Sc.svgMarkTypes=e.svgMarkTypes??["text"],Sc.svgOnTop=e.svgOnTop??!0,Sc.debug=e.debug??!1}class N7 extends $2{constructor(t){super(t),this._svgRenderer=new xX(t),this._canvasRenderer=new jD(t)}initialize(t,n,r,i,o){this._root_el=ro(t,0,"div");const s=ro(this._root_el,0,"div"),a=ro(this._root_el,1,"div");return this._root_el.style.position="relative",Sc.debug||(s.style.height="100%",a.style.position="absolute",a.style.top="0",a.style.left="0",a.style.height="100%",a.style.width="100%"),this._svgEl=Sc.svgOnTop?a:s,this._canvasEl=Sc.svgOnTop?s:a,this._svgEl.style.pointerEvents="none",this._canvasRenderer.initialize(this._canvasEl,n,r,i,o),this._svgRenderer.initialize(this._svgEl,n,r,i,o),super.initialize(t,n,r,i,o)}dirty(t){return Sc.svgMarkTypes.includes(t.mark.marktype)?this._svgRenderer.dirty(t):this._canvasRenderer.dirty(t),this}_render(t,n){const i=(n??["arc","area","image","line","path","rect","rule","shape","symbol","text","trail"]).filter(o=>!Sc.svgMarkTypes.includes(o));this._svgRenderer.render(t,Sc.svgMarkTypes),this._canvasRenderer.render(t,i)}resize(t,n,r,i){return super.resize(t,n,r,i),this._svgRenderer.resize(t,n,r,i),this._canvasRenderer.resize(t,n,r,i),this}background(t){return Sc.svgOnTop?this._canvasRenderer.background(t):this._svgRenderer.background(t),this}}class k3e extends D2{constructor(t,n){super(t,n)}initialize(t,n,r){const i=ro(ro(t,0,"div"),Sc.svgOnTop?0:1,"div");return super.initialize(i,n,r)}}const I3e="canvas",R3e="hybrid",$3e="png",D3e="svg",M3e="none",jm={Canvas:I3e,PNG:$3e,SVG:D3e,Hybrid:R3e,None:M3e},mv={};mv[I3e]=mv[$3e]={renderer:jD,headless:jD,handler:D2};mv[D3e]={renderer:xX,headless:A3e,handler:m3e};mv[R3e]={renderer:N7,headless:N7,handler:k3e};mv[M3e]={};function LO(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(mv[e]=t,this):mv[e]}function P3e(e,t,n){const r=[],i=new qi().union(t),o=e.marktype;return o?N3e(e,i,n,r):o==="group"?O3e(e,i,n,r):Re("Intersect scene must be mark node or group item.")}function N3e(e,t,n,r){if(fTt(e,t,n)){const i=e.items,o=e.marktype,s=i.length;let a=0;if(o==="group")for(;a<s;++a)O3e(i[a],t,n,r);else for(const l=cu[o].isect;a<s;++a){const u=i[a];L3e(u,t,l)&&r.push(u)}}return r}function fTt(e,t,n){return e.bounds&&t.intersects(e.bounds)&&(e.marktype==="group"||e.interactive!==!1&&(!n||n(e)))}function O3e(e,t,n,r){n&&n(e.mark)&&L3e(e,t,cu.group.isect)&&r.push(e);const i=e.items,o=i&&i.length;if(o){const s=e.x||0,a=e.y||0;t.translate(-s,-a);for(let l=0;l<o;++l)N3e(i[l],t,n,r);t.translate(s,a)}return r}function L3e(e,t,n){const r=e.bounds;return t.encloses(r)||t.intersects(r)&&n(e,t)}const A6=new qi;function F3e(e){const t=e.clip;if(vn(t))t(A2(A6.clear()));else if(t)A6.set(0,0,e.group.width,e.group.height);else return;e.bounds.intersect(A6)}const pTt=1e-9;function _X(e,t,n){return e===t?!0:n==="path"?B3e(e,t):e instanceof Date&&t instanceof Date?+e==+t:er(e)&&er(t)?Math.abs(e-t)<=pTt:!e||!t||!wt(e)&&!wt(t)?e==t:mTt(e,t)}function B3e(e,t){return _X(ix(e),ix(t))}function mTt(e,t){var n=Object.keys(e),r=Object.keys(t),i,o;if(n.length!==r.length)return!1;for(n.sort(),r.sort(),o=n.length-1;o>=0;o--)if(n[o]!=r[o])return!1;for(o=n.length-1;o>=0;o--)if(i=n[o],!_X(e[i],t[i],i))return!1;return typeof e==typeof t}function gTt(){Hke(),j_t()}const ax="top",Mc="left",jc="right",jg="bottom",yTt="top-left",vTt="top-right",bTt="bottom-left",wTt="bottom-right",EX="start",O7="middle",xa="end",xTt="x",_Tt="y",FO="group",SX="axis",TX="title",ETt="frame",STt="scope",CX="legend",j3e="row-header",z3e="row-footer",U3e="row-title",H3e="column-header",V3e="column-footer",W3e="column-title",TTt="padding",CTt="symbol",q3e="fit",G3e="fit-x",Y3e="fit-y",ATt="pad",AX="none",E3="all",L7="each",kX="flush",zm="column",Um="row";function K3e(e){Se.call(this,null,e)}dt(K3e,Se,{transform(e,t){const n=t.dataflow,r=e.mark,i=r.marktype,o=cu[i],s=o.bound;let a=r.bounds,l;if(o.nested)r.items.length&&n.dirty(r.items[0]),a=S3(r,s),r.items.forEach(u=>{u.bounds.clear().union(a)});else if(i===FO||e.modified())switch(t.visit(t.MOD,u=>n.dirty(u)),a.clear(),r.items.forEach(u=>a.union(S3(u,s))),r.role){case SX:case CX:case TX:t.reflow()}else l=t.changed(t.REM),t.visit(t.ADD,u=>{a.union(S3(u,s))}),t.visit(t.MOD,u=>{l=l||a.alignsWith(u.bounds),n.dirty(u),a.union(S3(u,s))}),l&&(a.clear(),r.items.forEach(u=>a.union(u.bounds)));return F3e(r),t.modifies("bounds")}});function S3(e,t,n){return t(e.bounds.clear(),e,n)}const yce=":vega_identifier:";function IX(e){Se.call(this,0,e)}IX.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};dt(IX,Se,{transform(e,t){const n=kTt(t.dataflow),r=e.as;let i=n.value;return t.visit(t.ADD,o=>o[r]=o[r]||++i),n.set(this.value=i),t}});function kTt(e){return e._signals[yce]||(e._signals[yce]=e.add(0))}function X3e(e){Se.call(this,null,e)}dt(X3e,Se,{transform(e,t){let n=this.value;n||(n=t.dataflow.scenegraph().mark(e.markdef,ITt(e),e.index),n.group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);const r=n.marktype===FO?IO:kO;return t.visit(t.ADD,i=>r.call(i,n)),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t}});function ITt(e){const t=e.groups,n=e.parent;return t&&t.size===1?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}function Q3e(e){Se.call(this,null,e)}const vce={parity:e=>e.filter((t,n)=>n%2?t.opacity=0:1),greedy:(e,t)=>{let n;return e.filter((r,i)=>!i||!J3e(n.bounds,r.bounds,t)?(n=r,1):r.opacity=0)}},J3e=(e,t,n)=>n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2),bce=(e,t)=>{for(var n=1,r=e.length,i=e[0].bounds,o;n<r;i=o,++n)if(J3e(i,o=e[n].bounds,t))return!0},RTt=e=>{const t=e.bounds;return t.width()>1&&t.height()>1},$Tt=(e,t,n)=>{var r=e.range(),i=new qi;return t===ax||t===jg?i.set(r[0],-1/0,r[1],1/0):i.set(-1/0,r[0],1/0,r[1]),i.expand(n||1),o=>i.encloses(o.bounds)},wce=e=>(e.forEach(t=>t.opacity=1),e),xce=(e,t)=>e.reflow(t.modified()).modifies("opacity");dt(Q3e,Se,{transform(e,t){const n=vce[e.method]||vce.parity,r=e.separation||0;let i=t.materialize(t.SOURCE).source,o,s;if(!i||!i.length)return;if(!e.method)return e.modified("method")&&(wce(i),t=xce(t,e)),t;if(i=i.filter(RTt),!i.length)return;if(e.sort&&(i=i.slice().sort(e.sort)),o=wce(i),t=xce(t,e),o.length>=3&&bce(o,r)){do o=n(o,r);while(o.length>=3&&bce(o,r));o.length<3&&!zn(i).opacity&&(o.length>1&&(zn(o).opacity=0),zn(i).opacity=1)}e.boundScale&&e.boundTolerance>=0&&(s=$Tt(e.boundScale,e.boundOrient,+e.boundTolerance),i.forEach(l=>{s(l)||(l.opacity=0)}));const a=o[0].mark.bounds.clear();return i.forEach(l=>{l.opacity&&a.union(l.bounds)}),t}});function Z3e(e){Se.call(this,null,e)}dt(Z3e,Se,{transform(e,t){const n=t.dataflow;if(t.visit(t.ALL,r=>n.dirty(r)),t.fields&&t.fields.zindex){const r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}}});const js=new qi;function L1(e,t,n){return e[t]===n?0:(e[t]=n,1)}function DTt(e){var t=e.items[0].orient;return t===Mc||t===jc}function MTt(e){let t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}function PTt(e,t,n,r){var i=t.items[0],o=i.datum,s=i.translate!=null?i.translate:.5,a=i.orient,l=MTt(o),u=i.range,c=i.offset,d=i.position,h=i.minExtent,f=i.maxExtent,p=o.title&&i.items[l[2]].items[0],m=i.titlePadding,g=i.bounds,y=p&&dX(p),v=0,b=0,_,x;switch(js.clear().union(g),g.clear(),(_=l[0])>-1&&g.union(i.items[_].bounds),(_=l[1])>-1&&g.union(i.items[_].bounds),a){case ax:v=d||0,b=-c,x=Math.max(h,Math.min(f,-g.y1)),g.add(0,-x).add(u,0),p&&T3(e,p,x,m,y,0,-1,g);break;case Mc:v=-c,b=d||0,x=Math.max(h,Math.min(f,-g.x1)),g.add(-x,0).add(0,u),p&&T3(e,p,x,m,y,1,-1,g);break;case jc:v=n+c,b=d||0,x=Math.max(h,Math.min(f,g.x2)),g.add(0,0).add(x,u),p&&T3(e,p,x,m,y,1,1,g);break;case jg:v=d||0,b=r+c,x=Math.max(h,Math.min(f,g.y2)),g.add(0,0).add(u,x),p&&T3(e,p,x,m,0,0,1,g);break;default:v=i.x,b=i.y}return Wp(g.translate(v,b),i),L1(i,"x",v+s)|L1(i,"y",b+s)&&(i.bounds=js,e.dirty(i),i.bounds=g,e.dirty(i)),i.mark.bounds.clear().union(g)}function T3(e,t,n,r,i,o,s,a){const l=t.bounds;if(t.auto){const u=s*(n+i+r);let c=0,d=0;e.dirty(t),o?c=(t.x||0)-(t.x=u):d=(t.y||0)-(t.y=u),t.mark.bounds.clear().union(l.translate(-c,-d)),e.dirty(t)}a.union(l)}const _ce=(e,t)=>Math.floor(Math.min(e,t)),Ece=(e,t)=>Math.ceil(Math.max(e,t));function NTt(e){var t=e.items,n=t.length,r=0,i,o;const s={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;r<n;++r)if(i=t[r],o=i.items,i.marktype===FO)switch(i.role){case SX:case CX:case TX:break;case j3e:s.rowheaders.push(...o);break;case z3e:s.rowfooters.push(...o);break;case H3e:s.colheaders.push(...o);break;case V3e:s.colfooters.push(...o);break;case U3e:s.rowtitle=o[0];break;case W3e:s.coltitle=o[0];break;default:s.marks.push(...o)}return s}function OTt(e){return new qi().set(0,0,e.width||0,e.height||0)}function LTt(e){const t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function Qr(e,t,n){const r=wt(e)?e[t]:e;return r??(n!==void 0?n:0)}function Sce(e){return e<0?Math.ceil(-e):0}function eIe(e,t,n){var r=!n.nodirty,i=n.bounds===kX?OTt:LTt,o=js.set(0,0,0,0),s=Qr(n.align,zm),a=Qr(n.align,Um),l=Qr(n.padding,zm),u=Qr(n.padding,Um),c=n.columns||t.length,d=c<=0?1:Math.ceil(t.length/c),h=t.length,f=Array(h),p=Array(c),m=0,g=Array(h),y=Array(d),v=0,b=Array(h),_=Array(h),x=Array(h),w,E,S,T,C,D,$,I,R,A,M;for(E=0;E<c;++E)p[E]=0;for(E=0;E<d;++E)y[E]=0;for(E=0;E<h;++E)D=t[E],C=x[E]=i(D),D.x=D.x||0,b[E]=0,D.y=D.y||0,_[E]=0,S=E%c,T=~~(E/c),m=Math.max(m,$=Math.ceil(C.x2)),v=Math.max(v,I=Math.ceil(C.y2)),p[S]=Math.max(p[S],$),y[T]=Math.max(y[T],I),f[E]=l+Sce(C.x1),g[E]=u+Sce(C.y1),r&&e.dirty(t[E]);for(E=0;E<h;++E)E%c===0&&(f[E]=0),E<c&&(g[E]=0);if(s===L7)for(S=1;S<c;++S){for(M=0,E=S;E<h;E+=c)M<f[E]&&(M=f[E]);for(E=S;E<h;E+=c)f[E]=M+p[S-1]}else if(s===E3){for(M=0,E=0;E<h;++E)E%c&&M<f[E]&&(M=f[E]);for(E=0;E<h;++E)E%c&&(f[E]=M+m)}else for(s=!1,S=1;S<c;++S)for(E=S;E<h;E+=c)f[E]+=p[S-1];if(a===L7)for(T=1;T<d;++T){for(M=0,E=T*c,w=E+c;E<w;++E)M<g[E]&&(M=g[E]);for(E=T*c;E<w;++E)g[E]=M+y[T-1]}else if(a===E3){for(M=0,E=c;E<h;++E)M<g[E]&&(M=g[E]);for(E=c;E<h;++E)g[E]=M+v}else for(a=!1,T=1;T<d;++T)for(E=T*c,w=E+c;E<w;++E)g[E]+=y[T-1];for(R=0,E=0;E<h;++E)R=f[E]+(E%c?R:0),b[E]+=R-t[E].x;for(S=0;S<c;++S)for(A=0,E=S;E<h;E+=c)A+=g[E],_[E]+=A-t[E].y;if(s&&Qr(n.center,zm)&&d>1)for(E=0;E<h;++E)C=s===E3?m:p[E%c],R=C-x[E].x2-t[E].x-b[E],R>0&&(b[E]+=R/2);if(a&&Qr(n.center,Um)&&c!==1)for(E=0;E<h;++E)C=a===E3?v:y[~~(E/c)],A=C-x[E].y2-t[E].y-_[E],A>0&&(_[E]+=A/2);for(E=0;E<h;++E)o.union(x[E].translate(b[E],_[E]));switch(R=Qr(n.anchor,xTt),A=Qr(n.anchor,_Tt),Qr(n.anchor,zm)){case xa:R-=o.width();break;case O7:R-=o.width()/2}switch(Qr(n.anchor,Um)){case xa:A-=o.height();break;case O7:A-=o.height()/2}for(R=Math.round(R),A=Math.round(A),o.clear(),E=0;E<h;++E)t[E].mark.bounds.clear();for(E=0;E<h;++E)D=t[E],D.x+=b[E]+=R,D.y+=_[E]+=A,o.union(D.mark.bounds.union(D.bounds.translate(b[E],_[E]))),r&&e.dirty(D);return o}function FTt(e,t,n){var r=NTt(t),i=r.marks,o=n.bounds===kX?BTt:jTt,s=n.offset,a=n.columns||i.length,l=a<=0?1:Math.ceil(i.length/a),u=l*a,c,d,h,f,p,m,g;const y=eIe(e,i,n);y.empty()&&y.set(0,0,0,0),r.rowheaders&&(m=Qr(n.headerBand,Um,null),c=C3(e,r.rowheaders,i,a,l,-Qr(s,"rowHeader"),_ce,0,o,"x1",0,a,1,m)),r.colheaders&&(m=Qr(n.headerBand,zm,null),d=C3(e,r.colheaders,i,a,a,-Qr(s,"columnHeader"),_ce,1,o,"y1",0,1,a,m)),r.rowfooters&&(m=Qr(n.footerBand,Um,null),h=C3(e,r.rowfooters,i,a,l,Qr(s,"rowFooter"),Ece,0,o,"x2",a-1,a,1,m)),r.colfooters&&(m=Qr(n.footerBand,zm,null),f=C3(e,r.colfooters,i,a,a,Qr(s,"columnFooter"),Ece,1,o,"y2",u-a,1,a,m)),r.rowtitle&&(p=Qr(n.titleAnchor,Um),g=Qr(s,"rowTitle"),g=p===xa?h+g:c-g,m=Qr(n.titleBand,Um,.5),Tce(e,r.rowtitle,g,0,y,m)),r.coltitle&&(p=Qr(n.titleAnchor,zm),g=Qr(s,"columnTitle"),g=p===xa?f+g:d-g,m=Qr(n.titleBand,zm,.5),Tce(e,r.coltitle,g,1,y,m))}function BTt(e,t){return t==="x1"?e.x||0:t==="y1"?e.y||0:t==="x2"?(e.x||0)+(e.width||0):t==="y2"?(e.y||0)+(e.height||0):void 0}function jTt(e,t){return e.bounds[t]}function C3(e,t,n,r,i,o,s,a,l,u,c,d,h,f){var p=n.length,m=0,g=0,y,v,b,_,x,w,E,S,T;if(!p)return m;for(y=c;y<p;y+=d)n[y]&&(m=s(m,l(n[y],u)));if(!t.length)return m;for(t.length>i&&(e.warn("Grid headers exceed limit: "+i),t=t.slice(0,i)),m+=o,v=0,_=t.length;v<_;++v)e.dirty(t[v]),t[v].mark.bounds.clear();for(y=c,v=0,_=t.length;v<_;++v,y+=d){for(w=t[v],x=w.mark.bounds,b=y;b>=0&&(E=n[b])==null;b-=h);a?(S=f==null?E.x:Math.round(E.bounds.x1+f*E.bounds.width()),T=m):(S=m,T=f==null?E.y:Math.round(E.bounds.y1+f*E.bounds.height())),x.union(w.bounds.translate(S-(w.x||0),T-(w.y||0))),w.x=S,w.y=T,e.dirty(w),g=s(g,x[u])}return g}function Tce(e,t,n,r,i,o){if(t){e.dirty(t);var s=n,a=n;r?s=Math.round(i.x1+o*i.width()):a=Math.round(i.y1+o*i.height()),t.bounds.translate(s-(t.x||0),a-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=s,t.y=a,e.dirty(t)}}function zTt(e,t){const n=e[t]||{};return(r,i)=>n[r]!=null?n[r]:e[r]!=null?e[r]:i}function UTt(e,t){let n=-1/0;return e.forEach(r=>{r.offset!=null&&(n=Math.max(n,r.offset))}),n>-1/0?n:t}function HTt(e,t,n,r,i,o,s){const a=zTt(n,t),l=UTt(e,a("offset",0)),u=a("anchor",EX),c=u===xa?1:u===O7?.5:0,d={align:L7,bounds:a("bounds",kX),columns:a("direction")==="vertical"?1:e.length,padding:a("margin",8),center:a("center"),nodirty:!0};switch(t){case Mc:d.anchor={x:Math.floor(r.x1)-l,column:xa,y:c*(s||r.height()+2*r.y1),row:u};break;case jc:d.anchor={x:Math.ceil(r.x2)+l,y:c*(s||r.height()+2*r.y1),row:u};break;case ax:d.anchor={y:Math.floor(i.y1)-l,row:xa,x:c*(o||i.width()+2*i.x1),column:u};break;case jg:d.anchor={y:Math.ceil(i.y2)+l,x:c*(o||i.width()+2*i.x1),column:u};break;case yTt:d.anchor={x:l,y:l};break;case vTt:d.anchor={x:o-l,y:l,column:xa};break;case bTt:d.anchor={x:l,y:s-l,row:xa};break;case wTt:d.anchor={x:o-l,y:s-l,column:xa,row:xa};break}return d}function VTt(e,t){var n=t.items[0],r=n.datum,i=n.orient,o=n.bounds,s=n.x,a=n.y,l,u;return n._bounds?n._bounds.clear().union(o):n._bounds=o.clone(),o.clear(),qTt(e,n,n.items[0].items[0]),o=WTt(n,o),l=2*n.padding,u=2*n.padding,o.empty()||(l=Math.ceil(o.width()+l),u=Math.ceil(o.height()+u)),r.type===CTt&&GTt(n.items[0].items[0].items[0].items),i!==AX&&(n.x=s=0,n.y=a=0),n.width=l,n.height=u,Wp(o.set(s,a,s+l,a+u),n),n.mark.bounds.clear().union(o),n}function WTt(e,t){return e.items.forEach(n=>t.union(n.bounds)),t.x1=e.padding,t.y1=e.padding,t}function qTt(e,t,n){var r=t.padding,i=r-n.x,o=r-n.y;if(!t.datum.title)(i||o)&&$E(e,n,i,o);else{var s=t.items[1].items[0],a=s.anchor,l=t.titlePadding||0,u=r-s.x,c=r-s.y;switch(s.orient){case Mc:i+=Math.ceil(s.bounds.width())+l;break;case jc:case jg:break;default:o+=s.bounds.height()+l}switch((i||o)&&$E(e,n,i,o),s.orient){case Mc:c+=Kb(t,n,s,a,1,1);break;case jc:u+=Kb(t,n,s,xa,0,0)+l,c+=Kb(t,n,s,a,1,1);break;case jg:u+=Kb(t,n,s,a,0,0),c+=Kb(t,n,s,xa,-1,0,1)+l;break;default:u+=Kb(t,n,s,a,0,0)}(u||c)&&$E(e,s,u,c),(u=Math.round(s.bounds.x1-r))<0&&($E(e,n,-u,0),$E(e,s,-u,0))}}function Kb(e,t,n,r,i,o,s){const a=e.datum.type!=="symbol",l=n.datum.vgrad,u=a&&(o||!l)&&!s?t.items[0]:t,c=u.bounds[i?"y2":"x2"]-e.padding,d=l&&o?c:0,h=l&&o?0:c,f=i<=0?0:dX(n);return Math.round(r===EX?d:r===xa?h-f:.5*(c-f))}function $E(e,t,n,r){t.x+=n,t.y+=r,t.bounds.translate(n,r),t.mark.bounds.translate(n,r),e.dirty(t)}function GTt(e){const t=e.reduce((n,r)=>(n[r.column]=Math.max(r.bounds.x2-r.x,n[r.column]||0),n),{});e.forEach(n=>{n.width=t[n.column],n.height=n.bounds.y2-n.y})}function YTt(e,t,n,r,i){var o=t.items[0],s=o.frame,a=o.orient,l=o.anchor,u=o.offset,c=o.padding,d=o.items[0].items[0],h=o.items[1]&&o.items[1].items[0],f=a===Mc||a===jc?r:n,p=0,m=0,g=0,y=0,v=0,b;if(s!==FO?a===Mc?(p=i.y2,f=i.y1):a===jc?(p=i.y1,f=i.y2):(p=i.x1,f=i.x2):a===Mc&&(p=r,f=0),b=l===EX?p:l===xa?f:(p+f)/2,h&&h.text){switch(a){case ax:case jg:v=d.bounds.height()+c;break;case Mc:y=d.bounds.width()+c;break;case jc:y=-d.bounds.width()-c;break}js.clear().union(h.bounds),js.translate(y-(h.x||0),v-(h.y||0)),L1(h,"x",y)|L1(h,"y",v)&&(e.dirty(h),h.bounds.clear().union(js),h.mark.bounds.clear().union(js),e.dirty(h)),js.clear().union(h.bounds)}else js.clear();switch(js.union(d.bounds),a){case ax:m=b,g=i.y1-js.height()-u;break;case Mc:m=i.x1-js.width()-u,g=b;break;case jc:m=i.x2+js.width()+u,g=b;break;case jg:m=b,g=i.y2+u;break;default:m=o.x,g=o.y}return L1(o,"x",m)|L1(o,"y",g)&&(js.translate(m,g),e.dirty(o),o.bounds.clear().union(js),t.bounds.clear().union(js),e.dirty(o)),o.bounds}function tIe(e){Se.call(this,null,e)}dt(tIe,Se,{transform(e,t){const n=t.dataflow;return e.mark.items.forEach(r=>{e.layout&&FTt(n,r,e.layout),XTt(n,r,e)}),KTt(e.mark.group)?t.reflow():t}});function KTt(e){return e&&e.mark.role!=="legend-entry"}function XTt(e,t,n){var r=t.items,i=Math.max(0,t.width||0),o=Math.max(0,t.height||0),s=new qi().set(0,0,i,o),a=s.clone(),l=s.clone(),u=[],c,d,h,f,p,m;for(p=0,m=r.length;p<m;++p)switch(d=r[p],d.role){case SX:f=DTt(d)?a:l,f.union(PTt(e,d,i,o));break;case TX:c=d;break;case CX:u.push(VTt(e,d));break;case ETt:case STt:case j3e:case z3e:case U3e:case H3e:case V3e:case W3e:a.union(d.bounds),l.union(d.bounds);break;default:s.union(d.bounds)}if(u.length){const g={};u.forEach(y=>{h=y.orient||jc,h!==AX&&(g[h]||(g[h]=[])).push(y)});for(const y in g){const v=g[y];eIe(e,v,HTt(v,y,n.legends,a,l,i,o))}u.forEach(y=>{const v=y.bounds;if(v.equals(y._bounds)||(y.bounds=y._bounds,e.dirty(y),y.bounds=v,e.dirty(y)),n.autosize&&(n.autosize.type===q3e||n.autosize.type===G3e||n.autosize.type===Y3e))switch(y.orient){case Mc:case jc:s.add(v.x1,0).add(v.x2,0);break;case ax:case jg:s.add(0,v.y1).add(0,v.y2)}else s.union(v)})}s.union(a).union(l),c&&s.union(YTt(e,c,i,o,s)),t.clip&&s.set(0,0,t.width||0,t.height||0),QTt(e,t,s,n)}function QTt(e,t,n,r){const i=r.autosize||{},o=i.type;if(e._autosize<1||!o)return;let s=e._width,a=e._height,l=Math.max(0,t.width||0),u=Math.max(0,Math.ceil(-n.x1)),c=Math.max(0,t.height||0),d=Math.max(0,Math.ceil(-n.y1));const h=Math.max(0,Math.ceil(n.x2-l)),f=Math.max(0,Math.ceil(n.y2-c));if(i.contains===TTt){const p=e.padding();s-=p.left+p.right,a-=p.top+p.bottom}o===AX?(u=0,d=0,l=s,c=a):o===q3e?(l=Math.max(0,s-u-h),c=Math.max(0,a-d-f)):o===G3e?(l=Math.max(0,s-u-h),a=c+d+f):o===Y3e?(s=l+u+h,c=Math.max(0,a-d-f)):o===ATt&&(s=l+u+h,a=c+d+f),e._resizeView(s,a,l,c,[u,d],i.resize)}const JTt=Object.freeze(Object.defineProperty({__proto__:null,bound:K3e,identifier:IX,mark:X3e,overlap:Q3e,render:Z3e,viewlayout:tIe},Symbol.toStringTag,{value:"Module"}));function nIe(e){Se.call(this,null,e)}dt(nIe,Se,{transform(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,o=e.scale,s=e.count==null?e.values?e.values.length:10:e.count,a=GK(o,s,e.minstep),l=e.format||Ike(n,o,a,e.formatSpecifier,e.formatType,!!e.values),u=e.values?kke(o,e.values,a):YK(o,a);return i&&(r.rem=i),i=u.map((c,d)=>ir({index:d/(u.length-1||1),value:c,label:l(c)})),e.extra&&i.length&&i.push(ir({index:-1,extra:{value:i[0].value},label:""})),r.source=i,r.add=i,this.value=i,r}});function rIe(e){Se.call(this,null,e)}function ZTt(){return ir({})}function eCt(e){const t=S_().test(n=>n.exit);return t.lookup=n=>t.get(e(n)),t}dt(rIe,Se,{transform(e,t){var n=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.item||ZTt,o=e.key||Ht,s=this.value;return Pe(r.encode)&&(r.encode=null),s&&(e.modified("key")||t.modified(o))&&Re("DataJoin does not support modified key function or fields."),s||(t=t.addAll(),this.value=s=eCt(o)),t.visit(t.ADD,a=>{const l=o(a);let u=s.get(l);u?u.exit?(s.empty--,r.add.push(u)):r.mod.push(u):(u=i(a),s.set(l,u),r.add.push(u)),u.datum=a,u.exit=!1}),t.visit(t.MOD,a=>{const l=o(a),u=s.get(l);u&&(u.datum=a,r.mod.push(u))}),t.visit(t.REM,a=>{const l=o(a),u=s.get(l);a===u.datum&&!u.exit&&(r.rem.push(u),u.exit=!0,++s.empty)}),t.changed(t.ADD_MOD)&&r.modifies("datum"),(t.clean()||e.clean&&s.empty>n.cleanThreshold)&&n.runAfter(s.clean),r}});function iIe(e){Se.call(this,null,e)}dt(iIe,Se,{transform(e,t){var n=t.fork(t.ADD_REM),r=e.mod||!1,i=e.encoders,o=t.encode;if(Pe(o))if(n.changed()||o.every(d=>i[d]))o=o[0],n.encode=null;else return t.StopPropagation;var s=o==="enter",a=i.update||dm,l=i.enter||dm,u=i.exit||dm,c=(o&&!s?i[o]:a)||dm;if(t.changed(t.ADD)&&(t.visit(t.ADD,d=>{l(d,e),a(d,e)}),n.modifies(l.output),n.modifies(a.output),c!==dm&&c!==a&&(t.visit(t.ADD,d=>{c(d,e)}),n.modifies(c.output))),t.changed(t.REM)&&u!==dm&&(t.visit(t.REM,d=>{u(d,e)}),n.modifies(u.output)),s||c!==dm){const d=t.MOD|(e.modified()?t.REFLOW:0);s?(t.visit(d,h=>{const f=l(h,e)||r;(c(h,e)||f)&&n.mod.push(h)}),n.mod.length&&n.modifies(l.output)):t.visit(d,h=>{(c(h,e)||r)&&n.mod.push(h)}),n.mod.length&&n.modifies(c.output)}return n.changed()?n:t.StopPropagation}});function oIe(e){Se.call(this,[],e)}dt(oIe,Se,{transform(e,t){if(this.value!=null&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,o=e.type||JI,s=e.scale,a=+e.limit,l=GK(s,e.count==null?5:e.count,e.minstep),u=!!e.values||o===JI,c=e.format||Mke(n,s,l,o,e.formatSpecifier,e.formatType,u),d=e.values||Dke(s,l),h,f,p,m,g;return i&&(r.rem=i),o===JI?(a&&d.length>a?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),i=d.slice(0,a-1),g=!0):i=d,vn(p=e.size)?(!e.values&&s(i[0])===0&&(i=i.slice(1)),m=i.reduce((y,v)=>Math.max(y,p(v,e)),0)):p=aa(m=p||8),i=i.map((y,v)=>ir({index:v,label:c(y,v,i),value:y,offset:m,size:p(y,e)})),g&&(g=d[i.length],i.push(ir({index:i.length,label:`${d.length-i.length} entries`,value:g,offset:m,size:p(g,e)})))):o===A_t?(h=s.domain(),f=Tke(s,h[0],zn(h)),d.length<3&&!e.values&&h[0]!==zn(h)&&(d=[h[0],zn(h)]),i=d.map((y,v)=>ir({index:v,label:c(y,v,d),value:y,perc:f(y)}))):(p=d.length-1,f=F_t(s),i=d.map((y,v)=>ir({index:v,label:c(y,v,d),value:y,perc:v?f(y):0,perc2:v===p?1:f(d[v+1])}))),r.source=i,r.add=i,this.value=i,r}});const tCt=e=>e.source.x,nCt=e=>e.source.y,rCt=e=>e.target.x,iCt=e=>e.target.y;function RX(e){Se.call(this,{},e)}RX.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]};dt(RX,Se,{transform(e,t){var n=e.sourceX||tCt,r=e.sourceY||nCt,i=e.targetX||rCt,o=e.targetY||iCt,s=e.as||"path",a=e.orient||"vertical",l=e.shape||"line",u=Cce.get(l+"-"+a)||Cce.get(l);return u||Re("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,c=>{c[s]=u(n(c),r(c),i(c),o(c))}),t.reflow(e.modified()).modifies(s)}});const sIe=(e,t,n,r)=>"M"+e+","+t+"L"+n+","+r,oCt=(e,t,n,r)=>sIe(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),aIe=(e,t,n,r)=>{var i=n-e,o=r-t,s=Math.hypot(i,o)/2,a=180*Math.atan2(o,i)/Math.PI;return"M"+e+","+t+"A"+s+","+s+" "+a+" 0 1 "+n+","+r},sCt=(e,t,n,r)=>aIe(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),lIe=(e,t,n,r)=>{const i=n-e,o=r-t,s=.2*(i+o),a=.2*(o-i);return"M"+e+","+t+"C"+(e+s)+","+(t+a)+" "+(n+a)+","+(r-s)+" "+n+","+r},aCt=(e,t,n,r)=>lIe(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),lCt=(e,t,n,r)=>"M"+e+","+t+"V"+r+"H"+n,uCt=(e,t,n,r)=>"M"+e+","+t+"H"+n+"V"+r,cCt=(e,t,n,r)=>{const i=Math.cos(e),o=Math.sin(e),s=Math.cos(n),a=Math.sin(n),l=Math.abs(n-e)>Math.PI?n<=e:n>e;return"M"+t*i+","+t*o+"A"+t+","+t+" 0 0,"+(l?1:0)+" "+t*s+","+t*a+"L"+r*s+","+r*a},dCt=(e,t,n,r)=>{const i=(e+n)/2;return"M"+e+","+t+"C"+i+","+t+" "+i+","+r+" "+n+","+r},hCt=(e,t,n,r)=>{const i=(t+r)/2;return"M"+e+","+t+"C"+e+","+i+" "+n+","+i+" "+n+","+r},fCt=(e,t,n,r)=>{const i=Math.cos(e),o=Math.sin(e),s=Math.cos(n),a=Math.sin(n),l=(t+r)/2;return"M"+t*i+","+t*o+"C"+l*i+","+l*o+" "+l*s+","+l*a+" "+r*s+","+r*a},Cce=S_({line:sIe,"line-radial":oCt,arc:aIe,"arc-radial":sCt,curve:lIe,"curve-radial":aCt,"orthogonal-horizontal":lCt,"orthogonal-vertical":uCt,"orthogonal-radial":cCt,"diagonal-horizontal":dCt,"diagonal-vertical":hCt,"diagonal-radial":fCt});function $X(e){Se.call(this,null,e)}$X.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]};dt($X,Se,{transform(e,t){var n=e.as||["startAngle","endAngle"],r=n[0],i=n[1],o=e.field||w_,s=e.startAngle||0,a=e.endAngle!=null?e.endAngle:2*Math.PI,l=t.source,u=l.map(o),c=u.length,d=s,h=(a-s)/_Ce(u),f=Ul(c),p,m,g;for(e.sort&&f.sort((y,v)=>u[y]-u[v]),p=0;p<c;++p)g=u[f[p]],m=l[f[p]],m[r]=d,m[i]=d+=g*h;return this.value=u,t.reflow(e.modified()).modifies(n)}});const pCt=5;function mCt(e){const t=e.type;return!e.bins&&(t===tx||t===w2||t===x2)}function uIe(e){return VK(e)&&e!==yh}const gCt=id(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function cIe(e){Se.call(this,null,e),this.modified(!0)}dt(cIe,Se,{transform(e,t){var n=t.dataflow,r=this.value,i=yCt(e);(!r||i!==r.type)&&(this.value=r=nr(i)());for(i in e)if(!gCt[i]){if(i==="padding"&&uIe(r.type))continue;vn(r[i])?r[i](e[i]):n.warn("Unsupported scale property: "+i)}return ECt(r,e,_Ct(r,e,bCt(r,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function yCt(e){var t=e.type,n="",r;return t===yh?yh+"-"+tx:(vCt(e)&&(r=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(e.domainMid!=null):0,n=r===2?yh+"-":r===3?D_+"-":""),(n+t||tx).toLowerCase())}function vCt(e){const t=e.type;return VK(t)&&t!==fv&&t!==pv&&(e.scheme||e.range&&e.range.length&&e.range.every(xt))}function bCt(e,t,n){const r=wCt(e,t.domainRaw,n);if(r>-1)return r;var i=t.domain,o=e.type,s=t.zero||t.zero===void 0&&mCt(e),a,l;if(!i)return 0;if((s||t.domainMin!=null||t.domainMax!=null||t.domainMid!=null)&&(a=(i=i.slice()).length-1||1,s&&(i[0]>0&&(i[0]=0),i[a]<0&&(i[a]=0)),t.domainMin!=null&&(i[0]=t.domainMin),t.domainMax!=null&&(i[a]=t.domainMax),t.domainMid!=null)){l=t.domainMid;const u=l>i[a]?a+1:l<i[0]?0:a;u!==a&&n.warn("Scale domainMid exceeds domain min or max.",l),i.splice(u,0,l)}return uIe(o)&&t.padding&&i[0]!==zn(i)&&(i=xCt(o,i,t.range,t.padding,t.exponent,t.constant)),e.domain(dIe(o,i,n)),o===jK&&e.unknown(t.domainImplicit?y7:void 0),t.nice&&e.nice&&e.nice(t.nice!==!0&&GK(e,t.nice)||null),i.length}function wCt(e,t,n){return t?(e.domain(dIe(e.type,t,n)),t.length):-1}function xCt(e,t,n,r,i,o){var s=Math.abs(zn(n)-n[0]),a=s/(s-2*r),l=e===kp?sY(t,null,a):e===x2?hD(t,null,a,.5):e===w2?hD(t,null,a,i||1):e===EO?aY(t,null,a,o||1):oY(t,null,a);return t=t.slice(),t[0]=l[0],t[t.length-1]=l[1],t}function dIe(e,t,n){if(wke(e)){var r=Math.abs(t.reduce((i,o)=>i+(o<0?-1:o>0?1:0),0));r!==t.length&&n.warn("Log scale domain includes zero: "+ot(t))}return t}function _Ct(e,t,n){let r=t.bins;if(r&&!Pe(r)){const i=e.domain(),o=i[0],s=zn(i),a=r.step;let l=r.start==null?o:r.start,u=r.stop==null?s:r.stop;a||Re("Scale bins parameter missing step property."),l<o&&(l=a*Math.ceil(o/a)),u>s&&(u=a*Math.floor(s/a)),r=Ul(l,u+a/2,a)}return r?e.bins=r:e.bins&&delete e.bins,e.type===zK&&(r?!t.domain&&!t.domainRaw&&(e.domain(r),n=r.length):e.bins=e.domain()),n}function ECt(e,t,n){var r=e.type,i=t.round||!1,o=t.range;if(t.rangeStep!=null)o=SCt(r,t,n);else if(t.scheme&&(o=TCt(r,t,n),vn(o))){if(e.interpolator)return e.interpolator(o);Re(`Scale type ${r} does not support interpolating color schemes.`)}if(o&&xke(r))return e.interpolator(CO(F7(o,t.reverse),t.interpolate,t.interpolateGamma));o&&t.interpolate&&e.interpolate?e.interpolate(WK(t.interpolate,t.interpolateGamma)):vn(e.round)?e.round(i):vn(e.rangeRound)&&e.interpolate(i?v2:h0),o&&e.range(F7(o,t.reverse))}function SCt(e,t,n){e!==pke&&e!==E7&&Re("Only band and point scales support rangeStep.");var r=(t.paddingOuter!=null?t.paddingOuter:t.padding)||0,i=e===E7?1:(t.paddingInner!=null?t.paddingInner:t.padding)||0;return[0,t.rangeStep*BK(n,i,r)]}function TCt(e,t,n){var r=t.schemeExtent,i,o;return Pe(t.scheme)?o=CO(t.scheme,t.interpolate,t.interpolateGamma):(i=t.scheme.toLowerCase(),o=qK(i),o||Re(`Unrecognized scheme name: ${t.scheme}`)),n=e===TO?n+1:e===zK?n-1:e===nx||e===SO?+t.schemeCount||pCt:n,xke(e)?Ace(o,r,t.reverse):vn(o)?Ske(Ace(o,r),n):e===jK?o:o.slice(0,n)}function Ace(e,t,n){return vn(e)&&(t||n)?Eke(e,F7(t||[0,1],n)):e}function F7(e,t){return t?e.slice().reverse():e}function hIe(e){Se.call(this,null,e)}dt(hIe,Se,{transform(e,t){const n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(db(e.sort)),this.modified(n),t}});const kce="zero",fIe="center",pIe="normalize",mIe=["y0","y1"];function DX(e){Se.call(this,null,e)}DX.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:kce,values:[kce,fIe,pIe]},{name:"as",type:"string",array:!0,length:2,default:mIe}]};dt(DX,Se,{transform(e,t){var n=e.as||mIe,r=n[0],i=n[1],o=db(e.sort),s=e.field||w_,a=e.offset===fIe?CCt:e.offset===pIe?ACt:kCt,l,u,c,d;for(l=ICt(t.source,e.groupby,o,s),u=0,c=l.length,d=l.max;u<c;++u)a(l[u],d,s,r,i);return t.reflow(e.modified()).modifies(n)}});function CCt(e,t,n,r,i){for(var o=(t-e.sum)/2,s=e.length,a=0,l;a<s;++a)l=e[a],l[r]=o,l[i]=o+=Math.abs(n(l))}function ACt(e,t,n,r,i){for(var o=1/e.sum,s=0,a=e.length,l=0,u=0,c;l<a;++l)c=e[l],c[r]=s,c[i]=s=o*(u+=Math.abs(n(c)))}function kCt(e,t,n,r,i){for(var o=0,s=0,a=e.length,l=0,u,c;l<a;++l)c=e[l],u=+n(c),u<0?(c[r]=s,c[i]=s+=u):(c[r]=o,c[i]=o+=u)}function ICt(e,t,n,r){var i=[],o=m=>m(c),s,a,l,u,c,d,h,f,p;if(t==null)i.push(e.slice());else for(s={},a=0,l=e.length;a<l;++a)c=e[a],d=t.map(o),h=s[d],h||(s[d]=h=[],i.push(h)),h.push(c);for(d=0,p=0,u=i.length;d<u;++d){for(h=i[d],a=0,f=0,l=h.length;a<l;++a)f+=Math.abs(r(h[a]));h.sum=f,f>p&&(p=f),n&&h.sort(n)}return i.max=p,i}const RCt=Object.freeze(Object.defineProperty({__proto__:null,axisticks:nIe,datajoin:rIe,encode:iIe,legendentries:oIe,linkpath:RX,pie:$X,scale:cIe,sortitems:hIe,stack:DX},Symbol.toStringTag,{value:"Module"}));var Qt=1e-6,B7=1e-12,Cn=Math.PI,xi=Cn/2,HD=Cn/4,Ma=Cn*2,$i=180/Cn,xn=Cn/180,jn=Math.abs,P_=Math.atan,Yu=Math.atan2,Xt=Math.cos,A3=Math.ceil,gIe=Math.exp,j7=Math.hypot,VD=Math.log,k6=Math.pow,Vt=Math.sin,$u=Math.sign||function(e){return e>0?1:e<0?-1:0},Pa=Math.sqrt,MX=Math.tan;function yIe(e){return e>1?0:e<-1?Cn:Math.acos(e)}function xl(e){return e>1?xi:e<-1?-xi:Math.asin(e)}function as(){}function WD(e,t){e&&Rce.hasOwnProperty(e.type)&&Rce[e.type](e,t)}var Ice={Feature:function(e,t){WD(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)WD(n[r].geometry,t)}},Rce={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){z7(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)z7(n[r],t,0)},Polygon:function(e,t){$ce(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)$ce(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)WD(n[r],t)}};function z7(e,t,n){var r=-1,i=e.length-n,o;for(t.lineStart();++r<i;)o=e[r],t.point(o[0],o[1],o[2]);t.lineEnd()}function $ce(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)z7(e[n],t,1);t.polygonEnd()}function $f(e,t){e&&Ice.hasOwnProperty(e.type)?Ice[e.type](e,t):WD(e,t)}var qD=new $a,GD=new $a,vIe,bIe,U7,H7,V7,$h={point:as,lineStart:as,lineEnd:as,polygonStart:function(){qD=new $a,$h.lineStart=$Ct,$h.lineEnd=DCt},polygonEnd:function(){var e=+qD;GD.add(e<0?Ma+e:e),this.lineStart=this.lineEnd=this.point=as},sphere:function(){GD.add(Ma)}};function $Ct(){$h.point=MCt}function DCt(){wIe(vIe,bIe)}function MCt(e,t){$h.point=wIe,vIe=e,bIe=t,e*=xn,t*=xn,U7=e,H7=Xt(t=t/2+HD),V7=Vt(t)}function wIe(e,t){e*=xn,t*=xn,t=t/2+HD;var n=e-U7,r=n>=0?1:-1,i=r*n,o=Xt(t),s=Vt(t),a=V7*s,l=H7*o+a*Xt(i),u=a*r*Vt(i);qD.add(Yu(u,l)),U7=e,H7=o,V7=s}function PCt(e){return GD=new $a,$f(e,$h),GD*2}function YD(e){return[Yu(e[1],e[0]),xl(e[2])]}function gv(e){var t=e[0],n=e[1],r=Xt(n);return[r*Xt(t),r*Vt(t),Vt(n)]}function k3(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function lx(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function I6(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function I3(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function KD(e){var t=Pa(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var oi,nl,mi,Ll,ry,xIe,_Ie,fw,bT,bm,Ip,Tf={point:W7,lineStart:Dce,lineEnd:Mce,polygonStart:function(){Tf.point=SIe,Tf.lineStart=NCt,Tf.lineEnd=OCt,bT=new $a,$h.polygonStart()},polygonEnd:function(){$h.polygonEnd(),Tf.point=W7,Tf.lineStart=Dce,Tf.lineEnd=Mce,qD<0?(oi=-(mi=180),nl=-(Ll=90)):bT>Qt?Ll=90:bT<-1e-6&&(nl=-90),Ip[0]=oi,Ip[1]=mi},sphere:function(){oi=-(mi=180),nl=-(Ll=90)}};function W7(e,t){bm.push(Ip=[oi=e,mi=e]),t<nl&&(nl=t),t>Ll&&(Ll=t)}function EIe(e,t){var n=gv([e*xn,t*xn]);if(fw){var r=lx(fw,n),i=[r[1],-r[0],0],o=lx(i,r);KD(o),o=YD(o);var s=e-ry,a=s>0?1:-1,l=o[0]*$i*a,u,c=jn(s)>180;c^(a*ry<l&&l<a*e)?(u=o[1]*$i,u>Ll&&(Ll=u)):(l=(l+360)%360-180,c^(a*ry<l&&l<a*e)?(u=-o[1]*$i,u<nl&&(nl=u)):(t<nl&&(nl=t),t>Ll&&(Ll=t))),c?e<ry?Ol(oi,e)>Ol(oi,mi)&&(mi=e):Ol(e,mi)>Ol(oi,mi)&&(oi=e):mi>=oi?(e<oi&&(oi=e),e>mi&&(mi=e)):e>ry?Ol(oi,e)>Ol(oi,mi)&&(mi=e):Ol(e,mi)>Ol(oi,mi)&&(oi=e)}else bm.push(Ip=[oi=e,mi=e]);t<nl&&(nl=t),t>Ll&&(Ll=t),fw=n,ry=e}function Dce(){Tf.point=EIe}function Mce(){Ip[0]=oi,Ip[1]=mi,Tf.point=W7,fw=null}function SIe(e,t){if(fw){var n=e-ry;bT.add(jn(n)>180?n+(n>0?360:-360):n)}else xIe=e,_Ie=t;$h.point(e,t),EIe(e,t)}function NCt(){$h.lineStart()}function OCt(){SIe(xIe,_Ie),$h.lineEnd(),jn(bT)>Qt&&(oi=-(mi=180)),Ip[0]=oi,Ip[1]=mi,fw=null}function Ol(e,t){return(t-=e)<0?t+360:t}function LCt(e,t){return e[0]-t[0]}function Pce(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function FCt(e){var t,n,r,i,o,s,a;if(Ll=mi=-(oi=nl=1/0),bm=[],$f(e,Tf),n=bm.length){for(bm.sort(LCt),t=1,r=bm[0],o=[r];t<n;++t)i=bm[t],Pce(r,i[0])||Pce(r,i[1])?(Ol(r[0],i[1])>Ol(r[0],r[1])&&(r[1]=i[1]),Ol(i[0],r[1])>Ol(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(s=-1/0,n=o.length-1,t=0,r=o[n];t<=n;r=i,++t)i=o[t],(a=Ol(r[1],i[0]))>s&&(s=a,oi=i[0],mi=r[1])}return bm=Ip=null,oi===1/0||nl===1/0?[[NaN,NaN],[NaN,NaN]]:[[oi,nl],[mi,Ll]]}var _S,XD,QD,JD,ZD,eM,tM,nM,q7,G7,Y7,TIe,CIe,_a,Ea,Sa,zc={sphere:as,point:PX,lineStart:Nce,lineEnd:Oce,polygonStart:function(){zc.lineStart=zCt,zc.lineEnd=UCt},polygonEnd:function(){zc.lineStart=Nce,zc.lineEnd=Oce}};function PX(e,t){e*=xn,t*=xn;var n=Xt(t);M2(n*Xt(e),n*Vt(e),Vt(t))}function M2(e,t,n){++_S,QD+=(e-QD)/_S,JD+=(t-JD)/_S,ZD+=(n-ZD)/_S}function Nce(){zc.point=BCt}function BCt(e,t){e*=xn,t*=xn;var n=Xt(t);_a=n*Xt(e),Ea=n*Vt(e),Sa=Vt(t),zc.point=jCt,M2(_a,Ea,Sa)}function jCt(e,t){e*=xn,t*=xn;var n=Xt(t),r=n*Xt(e),i=n*Vt(e),o=Vt(t),s=Yu(Pa((s=Ea*o-Sa*i)*s+(s=Sa*r-_a*o)*s+(s=_a*i-Ea*r)*s),_a*r+Ea*i+Sa*o);XD+=s,eM+=s*(_a+(_a=r)),tM+=s*(Ea+(Ea=i)),nM+=s*(Sa+(Sa=o)),M2(_a,Ea,Sa)}function Oce(){zc.point=PX}function zCt(){zc.point=HCt}function UCt(){AIe(TIe,CIe),zc.point=PX}function HCt(e,t){TIe=e,CIe=t,e*=xn,t*=xn,zc.point=AIe;var n=Xt(t);_a=n*Xt(e),Ea=n*Vt(e),Sa=Vt(t),M2(_a,Ea,Sa)}function AIe(e,t){e*=xn,t*=xn;var n=Xt(t),r=n*Xt(e),i=n*Vt(e),o=Vt(t),s=Ea*o-Sa*i,a=Sa*r-_a*o,l=_a*i-Ea*r,u=j7(s,a,l),c=xl(u),d=u&&-c/u;q7.add(d*s),G7.add(d*a),Y7.add(d*l),XD+=c,eM+=c*(_a+(_a=r)),tM+=c*(Ea+(Ea=i)),nM+=c*(Sa+(Sa=o)),M2(_a,Ea,Sa)}function VCt(e){_S=XD=QD=JD=ZD=eM=tM=nM=0,q7=new $a,G7=new $a,Y7=new $a,$f(e,zc);var t=+q7,n=+G7,r=+Y7,i=j7(t,n,r);return i<B7&&(t=eM,n=tM,r=nM,XD<Qt&&(t=QD,n=JD,r=ZD),i=j7(t,n,r),i<B7)?[NaN,NaN]:[Yu(n,t)*$i,xl(r/i)*$i]}function K7(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function X7(e,t){return jn(e)>Cn&&(e-=Math.round(e/Ma)*Ma),[e,t]}X7.invert=X7;function kIe(e,t,n){return(e%=Ma)?t||n?K7(Fce(e),Bce(t,n)):Fce(e):t||n?Bce(t,n):X7}function Lce(e){return function(t,n){return t+=e,jn(t)>Cn&&(t-=Math.round(t/Ma)*Ma),[t,n]}}function Fce(e){var t=Lce(e);return t.invert=Lce(-e),t}function Bce(e,t){var n=Xt(e),r=Vt(e),i=Xt(t),o=Vt(t);function s(a,l){var u=Xt(l),c=Xt(a)*u,d=Vt(a)*u,h=Vt(l),f=h*n+c*r;return[Yu(d*i-f*o,c*n-h*r),xl(f*i+d*o)]}return s.invert=function(a,l){var u=Xt(l),c=Xt(a)*u,d=Vt(a)*u,h=Vt(l),f=h*i-d*o;return[Yu(d*i+h*o,c*n+f*r),xl(f*n-c*r)]},s}function WCt(e){e=kIe(e[0]*xn,e[1]*xn,e.length>2?e[2]*xn:0);function t(n){return n=e(n[0]*xn,n[1]*xn),n[0]*=$i,n[1]*=$i,n}return t.invert=function(n){return n=e.invert(n[0]*xn,n[1]*xn),n[0]*=$i,n[1]*=$i,n},t}function qCt(e,t,n,r,i,o){if(n){var s=Xt(t),a=Vt(t),l=r*n;i==null?(i=t+r*Ma,o=t-l/2):(i=jce(s,i),o=jce(s,o),(r>0?i<o:i>o)&&(i+=r*Ma));for(var u,c=i;r>0?c>o:c<o;c-=l)u=YD([s,-a*Xt(c),-a*Vt(c)]),e.point(u[0],u[1])}}function jce(e,t){t=gv(t),t[0]-=e,KD(t);var n=yIe(-t[1]);return((-t[2]<0?-n:n)+Ma-Qt)%Ma}function IIe(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:as,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function aR(e,t){return jn(e[0]-t[0])<Qt&&jn(e[1]-t[1])<Qt}function R3(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function RIe(e,t,n,r,i){var o=[],s=[],a,l;if(e.forEach(function(p){if(!((m=p.length-1)<=0)){var m,g=p[0],y=p[m],v;if(aR(g,y)){if(!g[2]&&!y[2]){for(i.lineStart(),a=0;a<m;++a)i.point((g=p[a])[0],g[1]);i.lineEnd();return}y[0]+=2*Qt}o.push(v=new R3(g,p,null,!0)),s.push(v.o=new R3(g,null,v,!1)),o.push(v=new R3(y,p,null,!1)),s.push(v.o=new R3(y,null,v,!0))}}),!!o.length){for(s.sort(t),zce(o),zce(s),a=0,l=s.length;a<l;++a)s[a].e=n=!n;for(var u=o[0],c,d;;){for(var h=u,f=!0;h.v;)if((h=h.n)===u)return;c=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(f)for(a=0,l=c.length;a<l;++a)i.point((d=c[a])[0],d[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(f)for(c=h.p.z,a=c.length-1;a>=0;--a)i.point((d=c[a])[0],d[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,c=h.z,f=!f}while(!h.v);i.lineEnd()}}}function zce(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function R6(e){return jn(e[0])<=Cn?e[0]:$u(e[0])*((jn(e[0])+Cn)%Ma-Cn)}function GCt(e,t){var n=R6(t),r=t[1],i=Vt(r),o=[Vt(n),-Xt(n),0],s=0,a=0,l=new $a;i===1?r=xi+Qt:i===-1&&(r=-xi-Qt);for(var u=0,c=e.length;u<c;++u)if(h=(d=e[u]).length)for(var d,h,f=d[h-1],p=R6(f),m=f[1]/2+HD,g=Vt(m),y=Xt(m),v=0;v<h;++v,p=_,g=w,y=E,f=b){var b=d[v],_=R6(b),x=b[1]/2+HD,w=Vt(x),E=Xt(x),S=_-p,T=S>=0?1:-1,C=T*S,D=C>Cn,$=g*w;if(l.add(Yu($*T*Vt(C),y*E+$*Xt(C))),s+=D?S+T*Ma:S,D^p>=n^_>=n){var I=lx(gv(f),gv(b));KD(I);var R=lx(o,I);KD(R);var A=(D^S>=0?-1:1)*xl(R[2]);(r>A||r===A&&(I[0]||I[1]))&&(a+=D^S>=0?1:-1)}}return(s<-1e-6||s<Qt&&l<-1e-12)^a&1}function $Ie(e,t,n,r){return function(i){var o=t(i),s=IIe(),a=t(s),l=!1,u,c,d,h={point:f,lineStart:m,lineEnd:g,polygonStart:function(){h.point=y,h.lineStart=v,h.lineEnd=b,c=[],u=[]},polygonEnd:function(){h.point=f,h.lineStart=m,h.lineEnd=g,c=xCe(c);var _=GCt(u,r);c.length?(l||(i.polygonStart(),l=!0),RIe(c,KCt,_,n,i)):_&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),c=u=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function f(_,x){e(_,x)&&i.point(_,x)}function p(_,x){o.point(_,x)}function m(){h.point=p,o.lineStart()}function g(){h.point=f,o.lineEnd()}function y(_,x){d.push([_,x]),a.point(_,x)}function v(){a.lineStart(),d=[]}function b(){y(d[0][0],d[0][1]),a.lineEnd();var _=a.clean(),x=s.result(),w,E=x.length,S,T,C;if(d.pop(),u.push(d),d=null,!!E){if(_&1){if(T=x[0],(S=T.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),w=0;w<S;++w)i.point((C=T[w])[0],C[1]);i.lineEnd()}return}E>1&&_&2&&x.push(x.pop().concat(x.shift())),c.push(x.filter(YCt))}}return h}}function YCt(e){return e.length>1}function KCt(e,t){return((e=e.x)[0]<0?e[1]-xi-Qt:xi-e[1])-((t=t.x)[0]<0?t[1]-xi-Qt:xi-t[1])}const Uce=$Ie(function(){return!0},XCt,JCt,[-Cn,-xi]);function XCt(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(o,s){var a=o>0?Cn:-Cn,l=jn(o-t);jn(l-Cn)<Qt?(e.point(t,n=(n+s)/2>0?xi:-xi),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),e.point(o,n),i=0):r!==a&&l>=Cn&&(jn(t-r)<Qt&&(t-=r*Qt),jn(o-a)<Qt&&(o-=a*Qt),n=QCt(t,n,o,s),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),i=0),e.point(t=o,n=s),r=a},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function QCt(e,t,n,r){var i,o,s=Vt(e-n);return jn(s)>Qt?P_((Vt(t)*(o=Xt(r))*Vt(n)-Vt(r)*(i=Xt(t))*Vt(e))/(i*o*s)):(t+r)/2}function JCt(e,t,n,r){var i;if(e==null)i=n*xi,r.point(-Cn,i),r.point(0,i),r.point(Cn,i),r.point(Cn,0),r.point(Cn,-i),r.point(0,-i),r.point(-Cn,-i),r.point(-Cn,0),r.point(-Cn,i);else if(jn(e[0]-t[0])>Qt){var o=e[0]<t[0]?Cn:-Cn;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}function ZCt(e){var t=Xt(e),n=2*xn,r=t>0,i=jn(t)>Qt;function o(c,d,h,f){qCt(f,e,n,h,c,d)}function s(c,d){return Xt(c)*Xt(d)>t}function a(c){var d,h,f,p,m;return{lineStart:function(){p=f=!1,m=1},point:function(g,y){var v=[g,y],b,_=s(g,y),x=r?_?0:u(g,y):_?u(g+(g<0?Cn:-Cn),y):0;if(!d&&(p=f=_)&&c.lineStart(),_!==f&&(b=l(d,v),(!b||aR(d,b)||aR(v,b))&&(v[2]=1)),_!==f)m=0,_?(c.lineStart(),b=l(v,d),c.point(b[0],b[1])):(b=l(d,v),c.point(b[0],b[1],2),c.lineEnd()),d=b;else if(i&&d&&r^_){var w;!(x&h)&&(w=l(v,d,!0))&&(m=0,r?(c.lineStart(),c.point(w[0][0],w[0][1]),c.point(w[1][0],w[1][1]),c.lineEnd()):(c.point(w[1][0],w[1][1]),c.lineEnd(),c.lineStart(),c.point(w[0][0],w[0][1],3)))}_&&(!d||!aR(d,v))&&c.point(v[0],v[1]),d=v,f=_,h=x},lineEnd:function(){f&&c.lineEnd(),d=null},clean:function(){return m|(p&&f)<<1}}}function l(c,d,h){var f=gv(c),p=gv(d),m=[1,0,0],g=lx(f,p),y=k3(g,g),v=g[0],b=y-v*v;if(!b)return!h&&c;var _=t*y/b,x=-t*v/b,w=lx(m,g),E=I3(m,_),S=I3(g,x);I6(E,S);var T=w,C=k3(E,T),D=k3(T,T),$=C*C-D*(k3(E,E)-1);if(!($<0)){var I=Pa($),R=I3(T,(-C-I)/D);if(I6(R,E),R=YD(R),!h)return R;var A=c[0],M=d[0],N=c[1],L=d[1],z;M<A&&(z=A,A=M,M=z);var F=M-A,j=jn(F-Cn)<Qt,W=j||F<Qt;if(!j&&L<N&&(z=N,N=L,L=z),W?j?N+L>0^R[1]<(jn(R[0]-A)<Qt?N:L):N<=R[1]&&R[1]<=L:F>Cn^(A<=R[0]&&R[0]<=M)){var B=I3(T,(-C+I)/D);return I6(B,E),[R,YD(B)]}}}function u(c,d){var h=r?e:Cn-e,f=0;return c<-h?f|=1:c>h&&(f|=2),d<-h?f|=4:d>h&&(f|=8),f}return $Ie(s,a,o,r?[0,-e]:[-Cn,e-Cn])}function eAt(e,t,n,r,i,o){var s=e[0],a=e[1],l=t[0],u=t[1],c=0,d=1,h=l-s,f=u-a,p;if(p=n-s,!(!h&&p>0)){if(p/=h,h<0){if(p<c)return;p<d&&(d=p)}else if(h>0){if(p>d)return;p>c&&(c=p)}if(p=i-s,!(!h&&p<0)){if(p/=h,h<0){if(p>d)return;p>c&&(c=p)}else if(h>0){if(p<c)return;p<d&&(d=p)}if(p=r-a,!(!f&&p>0)){if(p/=f,f<0){if(p<c)return;p<d&&(d=p)}else if(f>0){if(p>d)return;p>c&&(c=p)}if(p=o-a,!(!f&&p<0)){if(p/=f,f<0){if(p>d)return;p>c&&(c=p)}else if(f>0){if(p<c)return;p<d&&(d=p)}return c>0&&(e[0]=s+c*h,e[1]=a+c*f),d<1&&(t[0]=s+d*h,t[1]=a+d*f),!0}}}}}var $3=1e9,D3=-1e9;function DIe(e,t,n,r){function i(u,c){return e<=u&&u<=n&&t<=c&&c<=r}function o(u,c,d,h){var f=0,p=0;if(u==null||(f=s(u,d))!==(p=s(c,d))||l(u,c)<0^d>0)do h.point(f===0||f===3?e:n,f>1?r:t);while((f=(f+d+4)%4)!==p);else h.point(c[0],c[1])}function s(u,c){return jn(u[0]-e)<Qt?c>0?0:3:jn(u[0]-n)<Qt?c>0?2:1:jn(u[1]-t)<Qt?c>0?1:0:c>0?3:2}function a(u,c){return l(u.x,c.x)}function l(u,c){var d=s(u,1),h=s(c,1);return d!==h?d-h:d===0?c[1]-u[1]:d===1?u[0]-c[0]:d===2?u[1]-c[1]:c[0]-u[0]}return function(u){var c=u,d=IIe(),h,f,p,m,g,y,v,b,_,x,w,E={point:S,lineStart:$,lineEnd:I,polygonStart:C,polygonEnd:D};function S(A,M){i(A,M)&&c.point(A,M)}function T(){for(var A=0,M=0,N=f.length;M<N;++M)for(var L=f[M],z=1,F=L.length,j=L[0],W,B,H=j[0],V=j[1];z<F;++z)W=H,B=V,j=L[z],H=j[0],V=j[1],B<=r?V>r&&(H-W)*(r-B)>(V-B)*(e-W)&&++A:V<=r&&(H-W)*(r-B)<(V-B)*(e-W)&&--A;return A}function C(){c=d,h=[],f=[],w=!0}function D(){var A=T(),M=w&&A,N=(h=xCe(h)).length;(M||N)&&(u.polygonStart(),M&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),N&&RIe(h,a,A,o,u),u.polygonEnd()),c=u,h=f=p=null}function $(){E.point=R,f&&f.push(p=[]),x=!0,_=!1,v=b=NaN}function I(){h&&(R(m,g),y&&_&&d.rejoin(),h.push(d.result())),E.point=S,_&&c.lineEnd()}function R(A,M){var N=i(A,M);if(f&&p.push([A,M]),x)m=A,g=M,y=N,x=!1,N&&(c.lineStart(),c.point(A,M));else if(N&&_)c.point(A,M);else{var L=[v=Math.max(D3,Math.min($3,v)),b=Math.max(D3,Math.min($3,b))],z=[A=Math.max(D3,Math.min($3,A)),M=Math.max(D3,Math.min($3,M))];eAt(L,z,e,t,n,r)?(_||(c.lineStart(),c.point(L[0],L[1])),c.point(z[0],z[1]),N||c.lineEnd(),w=!1):N&&(c.lineStart(),c.point(A,M),w=!1)}v=A,b=M,_=N}return E}}function Hce(e,t,n){var r=Ul(e,t-Qt,n).concat(t);return function(i){return r.map(function(o){return[i,o]})}}function Vce(e,t,n){var r=Ul(e,t-Qt,n).concat(t);return function(i){return r.map(function(o){return[o,i]})}}function tAt(){var e,t,n,r,i,o,s,a,l=10,u=l,c=90,d=360,h,f,p,m,g=2.5;function y(){return{type:"MultiLineString",coordinates:v()}}function v(){return Ul(A3(r/c)*c,n,c).map(p).concat(Ul(A3(a/d)*d,s,d).map(m)).concat(Ul(A3(t/l)*l,e,l).filter(function(b){return jn(b%c)>Qt}).map(h)).concat(Ul(A3(o/u)*u,i,u).filter(function(b){return jn(b%d)>Qt}).map(f))}return y.lines=function(){return v().map(function(b){return{type:"LineString",coordinates:b}})},y.outline=function(){return{type:"Polygon",coordinates:[p(r).concat(m(s).slice(1),p(n).reverse().slice(1),m(a).reverse().slice(1))]}},y.extent=function(b){return arguments.length?y.extentMajor(b).extentMinor(b):y.extentMinor()},y.extentMajor=function(b){return arguments.length?(r=+b[0][0],n=+b[1][0],a=+b[0][1],s=+b[1][1],r>n&&(b=r,r=n,n=b),a>s&&(b=a,a=s,s=b),y.precision(g)):[[r,a],[n,s]]},y.extentMinor=function(b){return arguments.length?(t=+b[0][0],e=+b[1][0],o=+b[0][1],i=+b[1][1],t>e&&(b=t,t=e,e=b),o>i&&(b=o,o=i,i=b),y.precision(g)):[[t,o],[e,i]]},y.step=function(b){return arguments.length?y.stepMajor(b).stepMinor(b):y.stepMinor()},y.stepMajor=function(b){return arguments.length?(c=+b[0],d=+b[1],y):[c,d]},y.stepMinor=function(b){return arguments.length?(l=+b[0],u=+b[1],y):[l,u]},y.precision=function(b){return arguments.length?(g=+b,h=Hce(o,i,90),f=Vce(t,e,g),p=Hce(a,s,90),m=Vce(r,n,g),y):g},y.extentMajor([[-180,-90+Qt],[180,90-Qt]]).extentMinor([[-180,-80-Qt],[180,80+Qt]])}const qC=e=>e;var $6=new $a,Q7=new $a,MIe,PIe,J7,Z7,Df={point:as,lineStart:as,lineEnd:as,polygonStart:function(){Df.lineStart=nAt,Df.lineEnd=iAt},polygonEnd:function(){Df.lineStart=Df.lineEnd=Df.point=as,$6.add(jn(Q7)),Q7=new $a},result:function(){var e=$6/2;return $6=new $a,e}};function nAt(){Df.point=rAt}function rAt(e,t){Df.point=NIe,MIe=J7=e,PIe=Z7=t}function NIe(e,t){Q7.add(Z7*e-J7*t),J7=e,Z7=t}function iAt(){NIe(MIe,PIe)}var ux=1/0,rM=ux,GC=-ux,iM=GC,oM={point:oAt,lineStart:as,lineEnd:as,polygonStart:as,polygonEnd:as,result:function(){var e=[[ux,rM],[GC,iM]];return GC=iM=-(rM=ux=1/0),e}};function oAt(e,t){e<ux&&(ux=e),e>GC&&(GC=e),t<rM&&(rM=t),t>iM&&(iM=t)}var ez=0,tz=0,ES=0,sM=0,aM=0,F1=0,nz=0,rz=0,SS=0,OIe,LIe,Gd,Yd,ku={point:yv,lineStart:Wce,lineEnd:qce,polygonStart:function(){ku.lineStart=lAt,ku.lineEnd=uAt},polygonEnd:function(){ku.point=yv,ku.lineStart=Wce,ku.lineEnd=qce},result:function(){var e=SS?[nz/SS,rz/SS]:F1?[sM/F1,aM/F1]:ES?[ez/ES,tz/ES]:[NaN,NaN];return ez=tz=ES=sM=aM=F1=nz=rz=SS=0,e}};function yv(e,t){ez+=e,tz+=t,++ES}function Wce(){ku.point=sAt}function sAt(e,t){ku.point=aAt,yv(Gd=e,Yd=t)}function aAt(e,t){var n=e-Gd,r=t-Yd,i=Pa(n*n+r*r);sM+=i*(Gd+e)/2,aM+=i*(Yd+t)/2,F1+=i,yv(Gd=e,Yd=t)}function qce(){ku.point=yv}function lAt(){ku.point=cAt}function uAt(){FIe(OIe,LIe)}function cAt(e,t){ku.point=FIe,yv(OIe=Gd=e,LIe=Yd=t)}function FIe(e,t){var n=e-Gd,r=t-Yd,i=Pa(n*n+r*r);sM+=i*(Gd+e)/2,aM+=i*(Yd+t)/2,F1+=i,i=Yd*e-Gd*t,nz+=i*(Gd+e),rz+=i*(Yd+t),SS+=i*3,yv(Gd=e,Yd=t)}function BIe(e){this._context=e}BIe.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Ma);break}}},result:as};var iz=new $a,D6,jIe,zIe,TS,CS,YC={point:as,lineStart:function(){YC.point=dAt},lineEnd:function(){D6&&UIe(jIe,zIe),YC.point=as},polygonStart:function(){D6=!0},polygonEnd:function(){D6=null},result:function(){var e=+iz;return iz=new $a,e}};function dAt(e,t){YC.point=UIe,jIe=TS=e,zIe=CS=t}function UIe(e,t){TS-=e,CS-=t,iz.add(Pa(TS*TS+CS*CS)),TS=e,CS=t}let Gce,lM,Yce,Kce;class Xce{constructor(t){this._append=t==null?HIe:hAt(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==Yce||this._append!==lM){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Yce=r,lM=this._append,Kce=this._,this._=i}this._+=Kce;break}}}result(){const t=this._;return this._="",t.length?t:null}}function HIe(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function hAt(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return HIe;if(t!==Gce){const n=10**t;Gce=t,lM=function(i){let o=1;this._+=i[0];for(const s=i.length;o<s;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}return lM}function VIe(e,t){let n=3,r=4.5,i,o;function s(a){return a&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),$f(a,i(o))),o.result()}return s.area=function(a){return $f(a,i(Df)),Df.result()},s.measure=function(a){return $f(a,i(YC)),YC.result()},s.bounds=function(a){return $f(a,i(oM)),oM.result()},s.centroid=function(a){return $f(a,i(ku)),ku.result()},s.projection=function(a){return arguments.length?(i=a==null?(e=null,qC):(e=a).stream,s):e},s.context=function(a){return arguments.length?(o=a==null?(t=null,new Xce(n)):new BIe(t=a),typeof r!="function"&&o.pointRadius(r),s):t},s.pointRadius=function(a){return arguments.length?(r=typeof a=="function"?a:(o.pointRadius(+a),+a),s):r},s.digits=function(a){if(!arguments.length)return n;if(a==null)n=null;else{const l=Math.floor(a);if(!(l>=0))throw new RangeError(`invalid digits: ${a}`);n=l}return t===null&&(o=new Xce(n)),s},s.projection(e).digits(n).context(t)}function BO(e){return function(t){var n=new oz;for(var r in e)n[r]=e[r];return n.stream=t,n}}function oz(){}oz.prototype={constructor:oz,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function NX(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),$f(n,e.stream(oM)),t(oM.result()),r!=null&&e.clipExtent(r),e}function jO(e,t,n){return NX(e,function(r){var i=t[1][0]-t[0][0],o=t[1][1]-t[0][1],s=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),a=+t[0][0]+(i-s*(r[1][0]+r[0][0]))/2,l=+t[0][1]+(o-s*(r[1][1]+r[0][1]))/2;e.scale(150*s).translate([a,l])},n)}function OX(e,t,n){return jO(e,[[0,0],t],n)}function LX(e,t,n){return NX(e,function(r){var i=+t,o=i/(r[1][0]-r[0][0]),s=(i-o*(r[1][0]+r[0][0]))/2,a=-o*r[0][1];e.scale(150*o).translate([s,a])},n)}function FX(e,t,n){return NX(e,function(r){var i=+t,o=i/(r[1][1]-r[0][1]),s=-o*r[0][0],a=(i-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([s,a])},n)}var Qce=16,fAt=Xt(30*xn);function Jce(e,t){return+t?mAt(e,t):pAt(e)}function pAt(e){return BO({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function mAt(e,t){function n(r,i,o,s,a,l,u,c,d,h,f,p,m,g){var y=u-r,v=c-i,b=y*y+v*v;if(b>4*t&&m--){var _=s+h,x=a+f,w=l+p,E=Pa(_*_+x*x+w*w),S=xl(w/=E),T=jn(jn(w)-1)<Qt||jn(o-d)<Qt?(o+d)/2:Yu(x,_),C=e(T,S),D=C[0],$=C[1],I=D-r,R=$-i,A=v*I-y*R;(A*A/b>t||jn((y*I+v*R)/b-.5)>.3||s*h+a*f+l*p<fAt)&&(n(r,i,o,s,a,l,D,$,T,_/=E,x/=E,w,m,g),g.point(D,$),n(D,$,T,_,x,w,u,c,d,h,f,p,m,g))}}return function(r){var i,o,s,a,l,u,c,d,h,f,p,m,g={point:y,lineStart:v,lineEnd:_,polygonStart:function(){r.polygonStart(),g.lineStart=x},polygonEnd:function(){r.polygonEnd(),g.lineStart=v}};function y(S,T){S=e(S,T),r.point(S[0],S[1])}function v(){d=NaN,g.point=b,r.lineStart()}function b(S,T){var C=gv([S,T]),D=e(S,T);n(d,h,c,f,p,m,d=D[0],h=D[1],c=S,f=C[0],p=C[1],m=C[2],Qce,r),r.point(d,h)}function _(){g.point=y,r.lineEnd()}function x(){v(),g.point=w,g.lineEnd=E}function w(S,T){b(i=S,T),o=d,s=h,a=f,l=p,u=m,g.point=b}function E(){n(d,h,c,f,p,m,o,s,i,a,l,u,Qce,r),g.lineEnd=_,_()}return g}}var gAt=BO({point:function(e,t){this.stream.point(e*xn,t*xn)}});function yAt(e){return BO({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function vAt(e,t,n,r,i){function o(s,a){return s*=r,a*=i,[t+e*s,n-e*a]}return o.invert=function(s,a){return[(s-t)/e*r,(n-a)/e*i]},o}function Zce(e,t,n,r,i,o){if(!o)return vAt(e,t,n,r,i);var s=Xt(o),a=Vt(o),l=s*e,u=a*e,c=s/e,d=a/e,h=(a*n-s*t)/e,f=(a*t+s*n)/e;function p(m,g){return m*=r,g*=i,[l*m-u*g+t,n-u*m-l*g]}return p.invert=function(m,g){return[r*(c*m-d*g+h),i*(f-d*m-c*g)]},p}function Yh(e){return WIe(function(){return e})()}function WIe(e){var t,n=150,r=480,i=250,o=0,s=0,a=0,l=0,u=0,c,d=0,h=1,f=1,p=null,m=Uce,g=null,y,v,b,_=qC,x=.5,w,E,S,T,C;function D(A){return S(A[0]*xn,A[1]*xn)}function $(A){return A=S.invert(A[0],A[1]),A&&[A[0]*$i,A[1]*$i]}D.stream=function(A){return T&&C===A?T:T=gAt(yAt(c)(m(w(_(C=A)))))},D.preclip=function(A){return arguments.length?(m=A,p=void 0,R()):m},D.postclip=function(A){return arguments.length?(_=A,g=y=v=b=null,R()):_},D.clipAngle=function(A){return arguments.length?(m=+A?ZCt(p=A*xn):(p=null,Uce),R()):p*$i},D.clipExtent=function(A){return arguments.length?(_=A==null?(g=y=v=b=null,qC):DIe(g=+A[0][0],y=+A[0][1],v=+A[1][0],b=+A[1][1]),R()):g==null?null:[[g,y],[v,b]]},D.scale=function(A){return arguments.length?(n=+A,I()):n},D.translate=function(A){return arguments.length?(r=+A[0],i=+A[1],I()):[r,i]},D.center=function(A){return arguments.length?(o=A[0]%360*xn,s=A[1]%360*xn,I()):[o*$i,s*$i]},D.rotate=function(A){return arguments.length?(a=A[0]%360*xn,l=A[1]%360*xn,u=A.length>2?A[2]%360*xn:0,I()):[a*$i,l*$i,u*$i]},D.angle=function(A){return arguments.length?(d=A%360*xn,I()):d*$i},D.reflectX=function(A){return arguments.length?(h=A?-1:1,I()):h<0},D.reflectY=function(A){return arguments.length?(f=A?-1:1,I()):f<0},D.precision=function(A){return arguments.length?(w=Jce(E,x=A*A),R()):Pa(x)},D.fitExtent=function(A,M){return jO(D,A,M)},D.fitSize=function(A,M){return OX(D,A,M)},D.fitWidth=function(A,M){return LX(D,A,M)},D.fitHeight=function(A,M){return FX(D,A,M)};function I(){var A=Zce(n,0,0,h,f,d).apply(null,t(o,s)),M=Zce(n,r-A[0],i-A[1],h,f,d);return c=kIe(a,l,u),E=K7(t,M),S=K7(c,E),w=Jce(E,x),R()}function R(){return T=C=null,D}return function(){return t=e.apply(this,arguments),D.invert=t.invert&&$,I()}}function BX(e){var t=0,n=Cn/3,r=WIe(e),i=r(t,n);return i.parallels=function(o){return arguments.length?r(t=o[0]*xn,n=o[1]*xn):[t*$i,n*$i]},i}function bAt(e){var t=Xt(e);function n(r,i){return[r*t,Vt(i)/t]}return n.invert=function(r,i){return[r/t,xl(i*t)]},n}function wAt(e,t){var n=Vt(e),r=(n+Vt(t))/2;if(jn(r)<Qt)return bAt(e);var i=1+n*(2*r-n),o=Pa(i)/r;function s(a,l){var u=Pa(i-2*r*Vt(l))/r;return[u*Vt(a*=r),o-u*Xt(a)]}return s.invert=function(a,l){var u=o-l,c=Yu(a,jn(u))*$u(u);return u*r<0&&(c-=Cn*$u(a)*$u(u)),[c/r,xl((i-(a*a+u*u)*r*r)/(2*r))]},s}function uM(){return BX(wAt).scale(155.424).center([0,33.6442])}function qIe(){return uM().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function xAt(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function _At(){var e,t,n=qIe(),r,i=uM().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,s=uM().rotate([157,0]).center([-3,19.9]).parallels([8,18]),a,l,u={point:function(h,f){l=[h,f]}};function c(h){var f=h[0],p=h[1];return l=null,r.point(f,p),l||(o.point(f,p),l)||(a.point(f,p),l)}c.invert=function(h){var f=n.scale(),p=n.translate(),m=(h[0]-p[0])/f,g=(h[1]-p[1])/f;return(g>=.12&&g<.234&&m>=-.425&&m<-.214?i:g>=.166&&g<.234&&m>=-.214&&m<-.115?s:n).invert(h)},c.stream=function(h){return e&&t===h?e:e=xAt([n.stream(t=h),i.stream(h),s.stream(h)])},c.precision=function(h){return arguments.length?(n.precision(h),i.precision(h),s.precision(h),d()):n.precision()},c.scale=function(h){return arguments.length?(n.scale(h),i.scale(h*.35),s.scale(h),c.translate(n.translate())):n.scale()},c.translate=function(h){if(!arguments.length)return n.translate();var f=n.scale(),p=+h[0],m=+h[1];return r=n.translate(h).clipExtent([[p-.455*f,m-.238*f],[p+.455*f,m+.238*f]]).stream(u),o=i.translate([p-.307*f,m+.201*f]).clipExtent([[p-.425*f+Qt,m+.12*f+Qt],[p-.214*f-Qt,m+.234*f-Qt]]).stream(u),a=s.translate([p-.205*f,m+.212*f]).clipExtent([[p-.214*f+Qt,m+.166*f+Qt],[p-.115*f-Qt,m+.234*f-Qt]]).stream(u),d()},c.fitExtent=function(h,f){return jO(c,h,f)},c.fitSize=function(h,f){return OX(c,h,f)},c.fitWidth=function(h,f){return LX(c,h,f)},c.fitHeight=function(h,f){return FX(c,h,f)};function d(){return e=t=null,c}return c.scale(1070)}function GIe(e){return function(t,n){var r=Xt(t),i=Xt(n),o=e(r*i);return o===1/0?[2,0]:[o*i*Vt(t),o*Vt(n)]}}function P2(e){return function(t,n){var r=Pa(t*t+n*n),i=e(r),o=Vt(i),s=Xt(i);return[Yu(t*o,r*s),xl(r&&n*o/r)]}}var YIe=GIe(function(e){return Pa(2/(1+e))});YIe.invert=P2(function(e){return 2*xl(e/2)});function EAt(){return Yh(YIe).scale(124.75).clipAngle(180-.001)}var KIe=GIe(function(e){return(e=yIe(e))&&e/Vt(e)});KIe.invert=P2(function(e){return e});function SAt(){return Yh(KIe).scale(79.4188).clipAngle(180-.001)}function zO(e,t){return[e,VD(MX((xi+t)/2))]}zO.invert=function(e,t){return[e,2*P_(gIe(t))-xi]};function TAt(){return XIe(zO).scale(961/Ma)}function XIe(e){var t=Yh(e),n=t.center,r=t.scale,i=t.translate,o=t.clipExtent,s=null,a,l,u;t.scale=function(d){return arguments.length?(r(d),c()):r()},t.translate=function(d){return arguments.length?(i(d),c()):i()},t.center=function(d){return arguments.length?(n(d),c()):n()},t.clipExtent=function(d){return arguments.length?(d==null?s=a=l=u=null:(s=+d[0][0],a=+d[0][1],l=+d[1][0],u=+d[1][1]),c()):s==null?null:[[s,a],[l,u]]};function c(){var d=Cn*r(),h=t(WCt(t.rotate()).invert([0,0]));return o(s==null?[[h[0]-d,h[1]-d],[h[0]+d,h[1]+d]]:e===zO?[[Math.max(h[0]-d,s),a],[Math.min(h[0]+d,l),u]]:[[s,Math.max(h[1]-d,a)],[l,Math.min(h[1]+d,u)]])}return c()}function M3(e){return MX((xi+e)/2)}function CAt(e,t){var n=Xt(e),r=e===t?Vt(e):VD(n/Xt(t))/VD(M3(t)/M3(e)),i=n*k6(M3(e),r)/r;if(!r)return zO;function o(s,a){i>0?a<-xi+Qt&&(a=-xi+Qt):a>xi-Qt&&(a=xi-Qt);var l=i/k6(M3(a),r);return[l*Vt(r*s),i-l*Xt(r*s)]}return o.invert=function(s,a){var l=i-a,u=$u(r)*Pa(s*s+l*l),c=Yu(s,jn(l))*$u(l);return l*r<0&&(c-=Cn*$u(s)*$u(l)),[c/r,2*P_(k6(i/u,1/r))-xi]},o}function AAt(){return BX(CAt).scale(109.5).parallels([30,30])}function cM(e,t){return[e,t]}cM.invert=cM;function kAt(){return Yh(cM).scale(152.63)}function IAt(e,t){var n=Xt(e),r=e===t?Vt(e):(n-Xt(t))/(t-e),i=n/r+e;if(jn(r)<Qt)return cM;function o(s,a){var l=i-a,u=r*s;return[l*Vt(u),i-l*Xt(u)]}return o.invert=function(s,a){var l=i-a,u=Yu(s,jn(l))*$u(l);return l*r<0&&(u-=Cn*$u(s)*$u(l)),[u/r,i-$u(r)*Pa(s*s+l*l)]},o}function RAt(){return BX(IAt).scale(131.154).center([0,13.9389])}var wT=1.340264,xT=-.081106,_T=893e-6,ET=.003796,dM=Pa(3)/2,$At=12;function QIe(e,t){var n=xl(dM*Vt(t)),r=n*n,i=r*r*r;return[e*Xt(n)/(dM*(wT+3*xT*r+i*(7*_T+9*ET*r))),n*(wT+xT*r+i*(_T+ET*r))]}QIe.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,o=0,s,a,l;o<$At&&(a=n*(wT+xT*r+i*(_T+ET*r))-t,l=wT+3*xT*r+i*(7*_T+9*ET*r),n-=s=a/l,r=n*n,i=r*r*r,!(jn(s)<B7));++o);return[dM*e*(wT+3*xT*r+i*(7*_T+9*ET*r))/Xt(n),xl(Vt(n)/dM)]};function DAt(){return Yh(QIe).scale(177.158)}function JIe(e,t){var n=Xt(t),r=Xt(e)*n;return[n*Vt(e)/r,Vt(t)/r]}JIe.invert=P2(P_);function MAt(){return Yh(JIe).scale(144.049).clipAngle(60)}function PAt(){var e=1,t=0,n=0,r=1,i=1,o=0,s,a,l=null,u,c,d,h=1,f=1,p=BO({point:function(_,x){var w=b([_,x]);this.stream.point(w[0],w[1])}}),m=qC,g,y;function v(){return h=e*r,f=e*i,g=y=null,b}function b(_){var x=_[0]*h,w=_[1]*f;if(o){var E=w*s-x*a;x=x*s+w*a,w=E}return[x+t,w+n]}return b.invert=function(_){var x=_[0]-t,w=_[1]-n;if(o){var E=w*s+x*a;x=x*s-w*a,w=E}return[x/h,w/f]},b.stream=function(_){return g&&y===_?g:g=p(m(y=_))},b.postclip=function(_){return arguments.length?(m=_,l=u=c=d=null,v()):m},b.clipExtent=function(_){return arguments.length?(m=_==null?(l=u=c=d=null,qC):DIe(l=+_[0][0],u=+_[0][1],c=+_[1][0],d=+_[1][1]),v()):l==null?null:[[l,u],[c,d]]},b.scale=function(_){return arguments.length?(e=+_,v()):e},b.translate=function(_){return arguments.length?(t=+_[0],n=+_[1],v()):[t,n]},b.angle=function(_){return arguments.length?(o=_%360*xn,a=Vt(o),s=Xt(o),v()):o*$i},b.reflectX=function(_){return arguments.length?(r=_?-1:1,v()):r<0},b.reflectY=function(_){return arguments.length?(i=_?-1:1,v()):i<0},b.fitExtent=function(_,x){return jO(b,_,x)},b.fitSize=function(_,x){return OX(b,_,x)},b.fitWidth=function(_,x){return LX(b,_,x)},b.fitHeight=function(_,x){return FX(b,_,x)},b}function ZIe(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),t*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}ZIe.invert=function(e,t){var n=t,r=25,i;do{var o=n*n,s=o*o;n-=i=(n*(1.007226+o*(.015085+s*(-.044475+.028874*o-.005916*s)))-t)/(1.007226+o*(.015085*3+s*(-.044475*7+.028874*9*o-.005916*11*s)))}while(jn(i)>Qt&&--r>0);return[e/(.8707+(o=n*n)*(-.131979+o*(-.013791+o*o*o*(.003971-.001529*o)))),n]};function NAt(){return Yh(ZIe).scale(175.295)}function eRe(e,t){return[Xt(t)*Vt(e),Vt(t)]}eRe.invert=P2(xl);function OAt(){return Yh(eRe).scale(249.5).clipAngle(90+Qt)}function tRe(e,t){var n=Xt(t),r=1+Xt(e)*n;return[n*Vt(e)/r,Vt(t)/r]}tRe.invert=P2(function(e){return 2*P_(e)});function LAt(){return Yh(tRe).scale(250).clipAngle(142)}function nRe(e,t){return[VD(MX((xi+t)/2)),-e]}nRe.invert=function(e,t){return[-t,2*P_(gIe(e))-xi]};function FAt(){var e=XIe(nRe),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}var BAt=Math.abs,sz=Math.cos,hM=Math.sin,jAt=1e-6,rRe=Math.PI,az=rRe/2,ede=zAt(2);function tde(e){return e>1?az:e<-1?-az:Math.asin(e)}function zAt(e){return e>0?Math.sqrt(e):0}function UAt(e,t){var n=e*hM(t),r=30,i;do t-=i=(t+hM(t)-n)/(1+sz(t));while(BAt(i)>jAt&&--r>0);return t/2}function HAt(e,t,n){function r(i,o){return[e*i*sz(o=UAt(n,o)),t*hM(o)]}return r.invert=function(i,o){return o=tde(o/t),[i/(e*sz(o)),tde((2*o+hM(2*o))/n)]},r}var VAt=HAt(ede/az,ede,rRe);function WAt(){return Yh(VAt).scale(169.529)}const qAt=VIe(),lz=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function GAt(e,t){return function n(){const r=t();return r.type=e,r.path=VIe().projection(r),r.copy=r.copy||function(){const i=n();return lz.forEach(o=>{r[o]&&i[o](r[o]())}),i.path.pointRadius(r.path.pointRadius()),i},vke(r)}}function jX(e,t){if(!e||typeof e!="string")throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(fM[e]=GAt(e,t),this):fM[e]||null}function iRe(e){return e&&e.path||qAt}const fM={albers:qIe,albersusa:_At,azimuthalequalarea:EAt,azimuthalequidistant:SAt,conicconformal:AAt,conicequalarea:uM,conicequidistant:RAt,equalEarth:DAt,equirectangular:kAt,gnomonic:MAt,identity:PAt,mercator:TAt,mollweide:WAt,naturalEarth1:NAt,orthographic:OAt,stereographic:LAt,transversemercator:FAt};for(const e in fM)jX(e,fM[e]);function YAt(){}const vf=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function oRe(){var e=1,t=1,n=a;function r(l,u){return u.map(c=>i(l,c))}function i(l,u){var c=[],d=[];return o(l,u,h=>{n(h,l,u),KAt(h)>0?c.push([h]):d.push(h)}),d.forEach(h=>{for(var f=0,p=c.length,m;f<p;++f)if(XAt((m=c[f])[0],h)!==-1){m.push(h);return}}),{type:"MultiPolygon",value:u,coordinates:c}}function o(l,u,c){var d=[],h=[],f,p,m,g,y,v;for(f=p=-1,g=l[0]>=u,vf[g<<1].forEach(b);++f<e-1;)m=g,g=l[f+1]>=u,vf[m|g<<1].forEach(b);for(vf[g<<0].forEach(b);++p<t-1;){for(f=-1,g=l[p*e+e]>=u,y=l[p*e]>=u,vf[g<<1|y<<2].forEach(b);++f<e-1;)m=g,g=l[p*e+e+f+1]>=u,v=y,y=l[p*e+f+1]>=u,vf[m|g<<1|y<<2|v<<3].forEach(b);vf[g|y<<3].forEach(b)}for(f=-1,y=l[p*e]>=u,vf[y<<2].forEach(b);++f<e-1;)v=y,y=l[p*e+f+1]>=u,vf[y<<2|v<<3].forEach(b);vf[y<<3].forEach(b);function b(_){var x=[_[0][0]+f,_[0][1]+p],w=[_[1][0]+f,_[1][1]+p],E=s(x),S=s(w),T,C;(T=h[E])?(C=d[S])?(delete h[T.end],delete d[C.start],T===C?(T.ring.push(w),c(T.ring)):d[T.start]=h[C.end]={start:T.start,end:C.end,ring:T.ring.concat(C.ring)}):(delete h[T.end],T.ring.push(w),h[T.end=S]=T):(T=d[S])?(C=h[E])?(delete d[T.start],delete h[C.end],T===C?(T.ring.push(w),c(T.ring)):d[C.start]=h[T.end]={start:C.start,end:T.end,ring:C.ring.concat(T.ring)}):(delete d[T.start],T.ring.unshift(x),d[T.start=E]=T):d[E]=h[S]={start:E,end:S,ring:[x,w]}}}function s(l){return l[0]*2+l[1]*(e+1)*4}function a(l,u,c){l.forEach(d=>{var h=d[0],f=d[1],p=h|0,m=f|0,g,y=u[m*e+p];h>0&&h<e&&p===h&&(g=u[m*e+p-1],d[0]=h+(c-g)/(y-g)-.5),f>0&&f<t&&m===f&&(g=u[(m-1)*e+p],d[1]=f+(c-g)/(y-g)-.5)})}return r.contour=i,r.size=function(l){if(!arguments.length)return[e,t];var u=Math.floor(l[0]),c=Math.floor(l[1]);return u>=0&&c>=0||Re("invalid size"),e=u,t=c,r},r.smooth=function(l){return arguments.length?(n=l?a:YAt,r):n===a},r}function KAt(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}function XAt(e,t){for(var n=-1,r=t.length,i;++n<r;)if(i=QAt(e,t[n]))return i;return 0}function QAt(e,t){for(var n=t[0],r=t[1],i=-1,o=0,s=e.length,a=s-1;o<s;a=o++){var l=e[o],u=l[0],c=l[1],d=e[a],h=d[0],f=d[1];if(JAt(l,d,t))return 0;c>r!=f>r&&n<(h-u)*(r-c)/(f-c)+u&&(i=-i)}return i}function JAt(e,t,n){var r;return ZAt(e,t,n)&&e2t(e[r=+(e[0]===t[0])],n[r],t[r])}function ZAt(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}function e2t(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}function sRe(e,t,n){return function(r){var i=Ah(r),o=n?Math.min(i[0],0):i[0],s=i[1],a=s-o,l=t?Mg(o,s,e):a/(e+1);return Ul(o+l,s,l)}}function zX(e){Se.call(this,null,e)}zX.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]};dt(zX,Se,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=e.field||sa,o=oRe().smooth(e.smooth!==!1),s=e.thresholds||t2t(r,i,e),a=e.as===null?null:e.as||"contour",l=[];return r.forEach(u=>{const c=i(u),d=o.size([c.width,c.height])(c.values,Pe(s)?s:s(c.values));n2t(d,c,u,e),d.forEach(h=>{l.push(rO(u,ir(a!=null?{[a]:h}:h)))})}),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});function t2t(e,t,n){const r=sRe(n.levels||10,n.nice,n.zero!==!1);return n.resolve!=="shared"?r:r(e.map(i=>Oy(t(i).values)))}function n2t(e,t,n,r){let i=r.scale||t.scale,o=r.translate||t.translate;if(vn(i)&&(i=i(n,r)),vn(o)&&(o=o(n,r)),(i===1||i==null)&&!o)return;const s=(er(i)?i:i[0])||1,a=(er(i)?i:i[1])||1,l=o&&o[0]||0,u=o&&o[1]||0;e.forEach(aRe(t,s,a,l,u))}function aRe(e,t,n,r,i){const o=e.x1||0,s=e.y1||0,a=t*n<0;function l(d){d.forEach(u)}function u(d){a&&d.reverse(),d.forEach(c)}function c(d){d[0]=(d[0]-o)*t+r,d[1]=(d[1]-s)*n+i}return function(d){return d.coordinates.forEach(l),d}}function nde(e,t,n){const r=e>=0?e:DY(t,n);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function M6(e){return vn(e)?e:aa(+e)}function lRe(){var e=l=>l[0],t=l=>l[1],n=w_,r=[-1,-1],i=960,o=500,s=2;function a(l,u){const c=nde(r[0],l,e)>>s,d=nde(r[1],l,t)>>s,h=c?c+2:0,f=d?d+2:0,p=2*h+(i>>s),m=2*f+(o>>s),g=new Float32Array(p*m),y=new Float32Array(p*m);let v=g;l.forEach(_=>{const x=h+(+e(_)>>s),w=f+(+t(_)>>s);x>=0&&x<p&&w>=0&&w<m&&(g[x+w*p]+=+n(_))}),c>0&&d>0?(Xb(p,m,g,y,c),Qb(p,m,y,g,d),Xb(p,m,g,y,c),Qb(p,m,y,g,d),Xb(p,m,g,y,c),Qb(p,m,y,g,d)):c>0?(Xb(p,m,g,y,c),Xb(p,m,y,g,c),Xb(p,m,g,y,c),v=y):d>0&&(Qb(p,m,g,y,d),Qb(p,m,y,g,d),Qb(p,m,g,y,d),v=y);const b=u?Math.pow(2,-2*s):1/_Ce(v);for(let _=0,x=p*m;_<x;++_)v[_]*=b;return{values:v,scale:1<<s,width:p,height:m,x1:h,y1:f,x2:h+(i>>s),y2:f+(o>>s)}}return a.x=function(l){return arguments.length?(e=M6(l),a):e},a.y=function(l){return arguments.length?(t=M6(l),a):t},a.weight=function(l){return arguments.length?(n=M6(l),a):n},a.size=function(l){if(!arguments.length)return[i,o];var u=+l[0],c=+l[1];return u>=0&&c>=0||Re("invalid size"),i=u,o=c,a},a.cellSize=function(l){return arguments.length?((l=+l)>=1||Re("invalid cell size"),s=Math.floor(Math.log(l)/Math.LN2),a):1<<s},a.bandwidth=function(l){return arguments.length?(l=_t(l),l.length===1&&(l=[+l[0],+l[0]]),l.length!==2&&Re("invalid bandwidth"),r=l,a):r},a}function Xb(e,t,n,r,i){const o=(i<<1)+1;for(let s=0;s<t;++s)for(let a=0,l=0;a<e+i;++a)a<e&&(l+=n[a+s*e]),a>=i&&(a>=o&&(l-=n[a-o+s*e]),r[a-i+s*e]=l/Math.min(a+1,e-1+o-a,o))}function Qb(e,t,n,r,i){const o=(i<<1)+1;for(let s=0;s<e;++s)for(let a=0,l=0;a<t+i;++a)a<t&&(l+=n[s+a*e]),a>=i&&(a>=o&&(l-=n[s+(a-o)*e]),r[s+(a-i)*e]=l/Math.min(a+1,t-1+o-a,o))}function UX(e){Se.call(this,null,e)}UX.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};const r2t=["x","y","weight","size","cellSize","bandwidth"];function uRe(e,t){return r2t.forEach(n=>t[n]!=null?e[n](t[n]):0),e}dt(UX,Se,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=i2t(r,e.groupby),o=(e.groupby||[]).map(_i),s=uRe(lRe(),e),a=e.as||"grid",l=[];function u(c,d){for(let h=0;h<o.length;++h)c[o[h]]=d[h];return c}return l=i.map(c=>ir(u({[a]:s(c,e.counts)},c.dims))),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});function i2t(e,t){var n=[],r=c=>c(a),i,o,s,a,l,u;if(t==null)n.push(e);else for(i={},o=0,s=e.length;o<s;++o)a=e[o],l=t.map(r),u=i[l],u||(i[l]=u=[],u.dims=l,n.push(u)),u.push(a);return n}function HX(e){Se.call(this,null,e)}HX.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]};dt(HX,Se,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=oRe().smooth(e.smooth!==!1),i=e.values,o=e.thresholds||sRe(e.count||10,e.nice,!!i),s=e.size,a,l;return i||(i=t.materialize(t.SOURCE).source,a=uRe(lRe(),e)(i,!0),l=aRe(a,a.scale||1,a.scale||1,0,0),s=[a.width,a.height],i=a.values),o=Pe(o)?o:o(i),i=r.size(s)(i,o),l&&i.forEach(l),this.value&&(n.rem=this.value),this.value=n.source=n.add=(i||[]).map(ir),n}});const uz="Feature",VX="FeatureCollection",o2t="MultiPoint";function WX(e){Se.call(this,null,e)}WX.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};dt(WX,Se,{transform(e,t){var n=this._features,r=this._points,i=e.fields,o=i&&i[0],s=i&&i[1],a=e.geojson||!i&&sa,l=t.ADD,u;u=e.modified()||t.changed(t.REM)||t.modified(Qs(a))||o&&t.modified(Qs(o))||s&&t.modified(Qs(s)),(!this.value||u)&&(l=t.SOURCE,this._features=n=[],this._points=r=[]),a&&t.visit(l,c=>n.push(a(c))),o&&s&&(t.visit(l,c=>{var d=o(c),h=s(c);d!=null&&h!=null&&(d=+d)===d&&(h=+h)===h&&r.push([d,h])}),n=n.concat({type:uz,geometry:{type:o2t,coordinates:r}})),this.value={type:VX,features:n}}});function qX(e){Se.call(this,null,e)}qX.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]};dt(qX,Se,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.field||sa,o=e.as||"path",s=n.SOURCE;!r||e.modified()?(this.value=r=iRe(e.projection),n.materialize().reflow()):s=i===sa||t.modified(i.fields)?n.ADD_MOD:n.ADD;const a=s2t(r,e.pointRadius);return n.visit(s,l=>l[o]=r(i(l))),r.pointRadius(a),n.modifies(o)}});function s2t(e,t){const n=e.pointRadius();return e.context(null),t!=null&&e.pointRadius(t),n}function GX(e){Se.call(this,null,e)}GX.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]};dt(GX,Se,{transform(e,t){var n=e.projection,r=e.fields[0],i=e.fields[1],o=e.as||["x","y"],s=o[0],a=o[1],l;function u(c){const d=n([r(c),i(c)]);d?(c[s]=d[0],c[a]=d[1]):(c[s]=void 0,c[a]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,u):(l=t.modified(r.fields)||t.modified(i.fields),t.visit(l?t.ADD_MOD:t.ADD,u)),t.modifies(o)}});function YX(e){Se.call(this,null,e)}YX.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]};dt(YX,Se,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.as||"shape",o=n.ADD;return(!r||e.modified())&&(this.value=r=a2t(iRe(e.projection),e.field||Vu("datum"),e.pointRadius),n.materialize().reflow(),o=n.SOURCE),n.visit(o,s=>s[i]=r),n.modifies(i)}});function a2t(e,t,n){const r=n==null?i=>e(t(i)):i=>{var o=e.pointRadius(),s=e.pointRadius(n)(t(i));return e.pointRadius(o),s};return r.context=i=>(e.context(i),r),r}function KX(e){Se.call(this,[],e),this.generator=tAt()}KX.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]};dt(KX,Se,{transform(e,t){var n=this.value,r=this.generator,i;if(!n.length||e.modified())for(const o in e)vn(r[o])&&r[o](e[o]);return i=r(),n.length?t.mod.push(yAe(n[0],i)):t.add.push(ir(i)),n[0]=i,t}});function XX(e){Se.call(this,null,e)}XX.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]};dt(XX,Se,{transform(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var n=t.materialize(t.SOURCE).source,r=e.resolve==="shared",i=e.field||sa,o=u2t(e.opacity,e),s=l2t(e.color,e),a=e.as||"image",l={$x:0,$y:0,$value:0,$max:r?Oy(n.map(u=>Oy(i(u).values))):0};return n.forEach(u=>{const c=i(u),d=yn({},u,l);r||(d.$max=Oy(c.values||[])),u[a]=c2t(c,d,s.dep?s:aa(s(d)),o.dep?o:aa(o(d)))}),t.reflow(!0).modifies(a)}});function l2t(e,t){let n;return vn(e)?(n=r=>Og(e(r,t)),n.dep=cRe(e)):n=aa(Og(e||"#888")),n}function u2t(e,t){let n;return vn(e)?(n=r=>e(r,t),n.dep=cRe(e)):e?n=aa(e):(n=r=>r.$value/r.$max||0,n.dep=!0),n}function cRe(e){if(!vn(e))return!1;const t=id(Qs(e));return t.$x||t.$y||t.$value||t.$max}function c2t(e,t,n,r){const i=e.width,o=e.height,s=e.x1||0,a=e.y1||0,l=e.x2||i,u=e.y2||o,c=e.values,d=c?g=>c[g]:$m,h=hg(l-s,u-a),f=h.getContext("2d"),p=f.getImageData(0,0,l-s,u-a),m=p.data;for(let g=a,y=0;g<u;++g){t.$y=g-a;for(let v=s,b=g*i;v<l;++v,y+=4){t.$x=v-s,t.$value=d(v+b);const _=n(t);m[y+0]=_.r,m[y+1]=_.g,m[y+2]=_.b,m[y+3]=~~(255*r(t))}}return f.putImageData(p,0,0),h}function dRe(e){Se.call(this,null,e),this.modified(!0)}dt(dRe,Se,{transform(e,t){let n=this.value;return!n||e.modified("type")?(this.value=n=h2t(e.type),lz.forEach(r=>{e[r]!=null&&rde(n,r,e[r])})):lz.forEach(r=>{e.modified(r)&&rde(n,r,e[r])}),e.pointRadius!=null&&n.path.pointRadius(e.pointRadius),e.fit&&d2t(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function d2t(e,t){const n=f2t(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}function h2t(e){const t=jX((e||"mercator").toLowerCase());return t||Re("Unrecognized projection type: "+e),t()}function rde(e,t,n){vn(e[t])&&e[t](n)}function f2t(e){return e=_t(e),e.length===1?e[0]:{type:VX,features:e.reduce((t,n)=>t.concat(p2t(n)),[])}}function p2t(e){return e.type===VX?e.features:_t(e).filter(t=>t!=null).map(t=>t.type===uz?t:{type:uz,geometry:t})}const m2t=Object.freeze(Object.defineProperty({__proto__:null,contour:HX,geojson:WX,geopath:qX,geopoint:GX,geoshape:YX,graticule:KX,heatmap:XX,isocontour:zX,kde2d:UX,projection:dRe},Symbol.toStringTag,{value:"Module"}));function g2t(e,t){var n,r=1;e==null&&(e=0),t==null&&(t=0);function i(){var o,s=n.length,a,l=0,u=0;for(o=0;o<s;++o)a=n[o],l+=a.x,u+=a.y;for(l=(l/s-e)*r,u=(u/s-t)*r,o=0;o<s;++o)a=n[o],a.x-=l,a.y-=u}return i.initialize=function(o){n=o},i.x=function(o){return arguments.length?(e=+o,i):e},i.y=function(o){return arguments.length?(t=+o,i):t},i.strength=function(o){return arguments.length?(r=+o,i):r},i}function y2t(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return hRe(this.cover(t,n),t,n,e)}function hRe(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o=e._root,s={data:r},a=e._x0,l=e._y0,u=e._x1,c=e._y1,d,h,f,p,m,g,y,v;if(!o)return e._root=s,e;for(;o.length;)if((m=t>=(d=(a+u)/2))?a=d:u=d,(g=n>=(h=(l+c)/2))?l=h:c=h,i=o,!(o=o[y=g<<1|m]))return i[y]=s,e;if(f=+e._x.call(null,o.data),p=+e._y.call(null,o.data),t===f&&n===p)return s.next=o,i?i[y]=s:e._root=s,e;do i=i?i[y]=new Array(4):e._root=new Array(4),(m=t>=(d=(a+u)/2))?a=d:u=d,(g=n>=(h=(l+c)/2))?l=h:c=h;while((y=g<<1|m)===(v=(p>=h)<<1|f>=d));return i[v]=o,i[y]=s,e}function v2t(e){var t,n,r=e.length,i,o,s=new Array(r),a=new Array(r),l=1/0,u=1/0,c=-1/0,d=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(o=+this._y.call(null,t))||(s[n]=i,a[n]=o,i<l&&(l=i),i>c&&(c=i),o<u&&(u=o),o>d&&(d=o));if(l>c||u>d)return this;for(this.cover(l,u).cover(c,d),n=0;n<r;++n)hRe(this,s[n],a[n],e[n]);return this}function b2t(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var s=i-n||1,a=this._root,l,u;n>e||e>=i||r>t||t>=o;)switch(u=(t<r)<<1|e<n,l=new Array(4),l[u]=a,a=l,s*=2,u){case 0:i=n+s,o=r+s;break;case 1:n=i-s,o=r+s;break;case 2:i=n+s,r=o-s;break;case 3:n=i-s,r=o-s;break}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this}function w2t(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function x2t(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Ta(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function _2t(e,t,n){var r,i=this._x0,o=this._y0,s,a,l,u,c=this._x1,d=this._y1,h=[],f=this._root,p,m;for(f&&h.push(new Ta(f,i,o,c,d)),n==null?n=1/0:(i=e-n,o=t-n,c=e+n,d=t+n,n*=n);p=h.pop();)if(!(!(f=p.node)||(s=p.x0)>c||(a=p.y0)>d||(l=p.x1)<i||(u=p.y1)<o))if(f.length){var g=(s+l)/2,y=(a+u)/2;h.push(new Ta(f[3],g,y,l,u),new Ta(f[2],s,y,g,u),new Ta(f[1],g,a,l,y),new Ta(f[0],s,a,g,y)),(m=(t>=y)<<1|e>=g)&&(p=h[h.length-1],h[h.length-1]=h[h.length-1-m],h[h.length-1-m]=p)}else{var v=e-+this._x.call(null,f.data),b=t-+this._y.call(null,f.data),_=v*v+b*b;if(_<n){var x=Math.sqrt(n=_);i=e-x,o=t-x,c=e+x,d=t+x,r=f.data}}return r}function E2t(e){if(isNaN(c=+this._x.call(null,e))||isNaN(d=+this._y.call(null,e)))return this;var t,n=this._root,r,i,o,s=this._x0,a=this._y0,l=this._x1,u=this._y1,c,d,h,f,p,m,g,y;if(!n)return this;if(n.length)for(;;){if((p=c>=(h=(s+l)/2))?s=h:l=h,(m=d>=(f=(a+u)/2))?a=f:u=f,t=n,!(n=n[g=m<<1|p]))return this;if(!n.length)break;(t[g+1&3]||t[g+2&3]||t[g+3&3])&&(r=t,y=g)}for(;n.data!==e;)if(i=n,!(n=n.next))return this;return(o=n.next)&&delete n.next,i?(o?i.next=o:delete i.next,this):t?(o?t[g]=o:delete t[g],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[y]=n:this._root=n),this):(this._root=o,this)}function S2t(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function T2t(){return this._root}function C2t(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function A2t(e){var t=[],n,r=this._root,i,o,s,a,l;for(r&&t.push(new Ta(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,o=n.x0,s=n.y0,a=n.x1,l=n.y1)&&r.length){var u=(o+a)/2,c=(s+l)/2;(i=r[3])&&t.push(new Ta(i,u,c,a,l)),(i=r[2])&&t.push(new Ta(i,o,c,u,l)),(i=r[1])&&t.push(new Ta(i,u,s,a,c)),(i=r[0])&&t.push(new Ta(i,o,s,u,c))}return this}function k2t(e){var t=[],n=[],r;for(this._root&&t.push(new Ta(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var i=r.node;if(i.length){var o,s=r.x0,a=r.y0,l=r.x1,u=r.y1,c=(s+l)/2,d=(a+u)/2;(o=i[0])&&t.push(new Ta(o,s,a,c,d)),(o=i[1])&&t.push(new Ta(o,c,a,l,d)),(o=i[2])&&t.push(new Ta(o,s,d,c,u)),(o=i[3])&&t.push(new Ta(o,c,d,l,u))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function I2t(e){return e[0]}function R2t(e){return arguments.length?(this._x=e,this):this._x}function $2t(e){return e[1]}function D2t(e){return arguments.length?(this._y=e,this):this._y}function QX(e,t,n){var r=new JX(t??I2t,n??$2t,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function JX(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function ide(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var Ba=QX.prototype=JX.prototype;Ba.copy=function(){var e=new JX(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=ide(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var i=0;i<4;++i)(r=t.source[i])&&(r.length?n.push({source:r,target:t.target[i]=new Array(4)}):t.target[i]=ide(r));return e};Ba.add=y2t;Ba.addAll=v2t;Ba.cover=b2t;Ba.data=w2t;Ba.extent=x2t;Ba.find=_2t;Ba.remove=E2t;Ba.removeAll=S2t;Ba.root=T2t;Ba.size=C2t;Ba.visit=A2t;Ba.visitAfter=k2t;Ba.x=R2t;Ba.y=D2t;function Aa(e){return function(){return e}}function Hm(e){return(e()-.5)*1e-6}function M2t(e){return e.x+e.vx}function P2t(e){return e.y+e.vy}function N2t(e){var t,n,r,i=1,o=1;typeof e!="function"&&(e=Aa(e==null?1:+e));function s(){for(var u,c=t.length,d,h,f,p,m,g,y=0;y<o;++y)for(d=QX(t,M2t,P2t).visitAfter(a),u=0;u<c;++u)h=t[u],m=n[h.index],g=m*m,f=h.x+h.vx,p=h.y+h.vy,d.visit(v);function v(b,_,x,w,E){var S=b.data,T=b.r,C=m+T;if(S){if(S.index>h.index){var D=f-S.x-S.vx,$=p-S.y-S.vy,I=D*D+$*$;I<C*C&&(D===0&&(D=Hm(r),I+=D*D),$===0&&($=Hm(r),I+=$*$),I=(C-(I=Math.sqrt(I)))/I*i,h.vx+=(D*=I)*(C=(T*=T)/(g+T)),h.vy+=($*=I)*C,S.vx-=D*(C=1-C),S.vy-=$*C)}return}return _>f+C||w<f-C||x>p+C||E<p-C}}function a(u){if(u.data)return u.r=n[u.data.index];for(var c=u.r=0;c<4;++c)u[c]&&u[c].r>u.r&&(u.r=u[c].r)}function l(){if(t){var u,c=t.length,d;for(n=new Array(c),u=0;u<c;++u)d=t[u],n[d.index]=+e(d,u,t)}}return s.initialize=function(u,c){t=u,r=c,l()},s.iterations=function(u){return arguments.length?(o=+u,s):o},s.strength=function(u){return arguments.length?(i=+u,s):i},s.radius=function(u){return arguments.length?(e=typeof u=="function"?u:Aa(+u),l(),s):e},s}function O2t(e){return e.index}function ode(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function L2t(e){var t=O2t,n=d,r,i=Aa(30),o,s,a,l,u,c=1;e==null&&(e=[]);function d(g){return 1/Math.min(a[g.source.index],a[g.target.index])}function h(g){for(var y=0,v=e.length;y<c;++y)for(var b=0,_,x,w,E,S,T,C;b<v;++b)_=e[b],x=_.source,w=_.target,E=w.x+w.vx-x.x-x.vx||Hm(u),S=w.y+w.vy-x.y-x.vy||Hm(u),T=Math.sqrt(E*E+S*S),T=(T-o[b])/T*g*r[b],E*=T,S*=T,w.vx-=E*(C=l[b]),w.vy-=S*C,x.vx+=E*(C=1-C),x.vy+=S*C}function f(){if(s){var g,y=s.length,v=e.length,b=new Map(s.map((x,w)=>[t(x,w,s),x])),_;for(g=0,a=new Array(y);g<v;++g)_=e[g],_.index=g,typeof _.source!="object"&&(_.source=ode(b,_.source)),typeof _.target!="object"&&(_.target=ode(b,_.target)),a[_.source.index]=(a[_.source.index]||0)+1,a[_.target.index]=(a[_.target.index]||0)+1;for(g=0,l=new Array(v);g<v;++g)_=e[g],l[g]=a[_.source.index]/(a[_.source.index]+a[_.target.index]);r=new Array(v),p(),o=new Array(v),m()}}function p(){if(s)for(var g=0,y=e.length;g<y;++g)r[g]=+n(e[g],g,e)}function m(){if(s)for(var g=0,y=e.length;g<y;++g)o[g]=+i(e[g],g,e)}return h.initialize=function(g,y){s=g,u=y,f()},h.links=function(g){return arguments.length?(e=g,f(),h):e},h.id=function(g){return arguments.length?(t=g,h):t},h.iterations=function(g){return arguments.length?(c=+g,h):c},h.strength=function(g){return arguments.length?(n=typeof g=="function"?g:Aa(+g),p(),h):n},h.distance=function(g){return arguments.length?(i=typeof g=="function"?g:Aa(+g),m(),h):i},h}var F2t={value:()=>{}};function ZX(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new lR(n)}function lR(e){this._=e}function B2t(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}lR.prototype=ZX.prototype={constructor:lR,on:function(e,t){var n=this._,r=B2t(e+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(e=r[o]).type)&&(i=j2t(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=sde(n[i],e.name,t);else if(t==null)for(i in n)n[i]=sde(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new lR(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function j2t(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function sde(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=F2t,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var cx=0,AS=0,DE=0,fRe=1e3,pM,kS,mM=0,vv=0,UO=0,KC=typeof performance=="object"&&performance.now?performance:Date,pRe=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function HO(){return vv||(pRe(z2t),vv=KC.now()+UO)}function z2t(){vv=0}function XC(){this._call=this._time=this._next=null}XC.prototype=eQ.prototype={constructor:XC,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?HO():+n)+(t==null?0:+t),!this._next&&kS!==this&&(kS?kS._next=this:pM=this,kS=this),this._call=e,this._time=n,cz()},stop:function(){this._call&&(this._call=null,this._time=1/0,cz())}};function eQ(e,t,n){var r=new XC;return r.restart(e,t,n),r}function U2t(){HO(),++cx;for(var e=pM,t;e;)(t=vv-e._time)>=0&&e._call.call(void 0,t),e=e._next;--cx}function ade(){vv=(mM=KC.now())+UO,cx=AS=0;try{U2t()}finally{cx=0,V2t(),vv=0}}function H2t(){var e=KC.now(),t=e-mM;t>fRe&&(UO-=t,mM=e)}function V2t(){for(var e,t=pM,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:pM=n);kS=e,cz(r)}function cz(e){if(!cx){AS&&(AS=clearTimeout(AS));var t=e-vv;t>24?(e<1/0&&(AS=setTimeout(ade,e-KC.now()-UO)),DE&&(DE=clearInterval(DE))):(DE||(mM=KC.now(),DE=setInterval(H2t,fRe)),cx=1,pRe(ade))}}function lde(e,t,n){var r=new XC;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}function W2t(e,t,n){var r=new XC,i=t;return t==null?(r.restart(e,t,n),r):(r._restart=r.restart,r.restart=function(o,s,a){s=+s,a=a==null?HO():+a,r._restart(function l(u){u+=i,r._restart(l,i+=s,a),o(u)},s,a)},r.restart(e,t,n),r)}const q2t=1664525,G2t=1013904223,ude=4294967296;function Y2t(){let e=1;return()=>(e=(q2t*e+G2t)%ude)/ude}function K2t(e){return e.x}function X2t(e){return e.y}var Q2t=10,J2t=Math.PI*(3-Math.sqrt(5));function Z2t(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,s=.6,a=new Map,l=eQ(d),u=ZX("tick","end"),c=Y2t();e==null&&(e=[]);function d(){h(),u.call("tick",t),n<r&&(l.stop(),u.call("end",t))}function h(m){var g,y=e.length,v;m===void 0&&(m=1);for(var b=0;b<m;++b)for(n+=(o-n)*i,a.forEach(function(_){_(n)}),g=0;g<y;++g)v=e[g],v.fx==null?v.x+=v.vx*=s:(v.x=v.fx,v.vx=0),v.fy==null?v.y+=v.vy*=s:(v.y=v.fy,v.vy=0);return t}function f(){for(var m=0,g=e.length,y;m<g;++m){if(y=e[m],y.index=m,y.fx!=null&&(y.x=y.fx),y.fy!=null&&(y.y=y.fy),isNaN(y.x)||isNaN(y.y)){var v=Q2t*Math.sqrt(.5+m),b=m*J2t;y.x=v*Math.cos(b),y.y=v*Math.sin(b)}(isNaN(y.vx)||isNaN(y.vy))&&(y.vx=y.vy=0)}}function p(m){return m.initialize&&m.initialize(e,c),m}return f(),t={tick:h,restart:function(){return l.restart(d),t},stop:function(){return l.stop(),t},nodes:function(m){return arguments.length?(e=m,f(),a.forEach(p),t):e},alpha:function(m){return arguments.length?(n=+m,t):n},alphaMin:function(m){return arguments.length?(r=+m,t):r},alphaDecay:function(m){return arguments.length?(i=+m,t):+i},alphaTarget:function(m){return arguments.length?(o=+m,t):o},velocityDecay:function(m){return arguments.length?(s=1-m,t):1-s},randomSource:function(m){return arguments.length?(c=m,a.forEach(p),t):c},force:function(m,g){return arguments.length>1?(g==null?a.delete(m):a.set(m,p(g)),t):a.get(m)},find:function(m,g,y){var v=0,b=e.length,_,x,w,E,S;for(y==null?y=1/0:y*=y,v=0;v<b;++v)E=e[v],_=m-E.x,x=g-E.y,w=_*_+x*x,w<y&&(S=E,y=w);return S},on:function(m,g){return arguments.length>1?(u.on(m,g),t):u.on(m)}}}function ekt(){var e,t,n,r,i=Aa(-30),o,s=1,a=1/0,l=.81;function u(f){var p,m=e.length,g=QX(e,K2t,X2t).visitAfter(d);for(r=f,p=0;p<m;++p)t=e[p],g.visit(h)}function c(){if(e){var f,p=e.length,m;for(o=new Array(p),f=0;f<p;++f)m=e[f],o[m.index]=+i(m,f,e)}}function d(f){var p=0,m,g,y=0,v,b,_;if(f.length){for(v=b=_=0;_<4;++_)(m=f[_])&&(g=Math.abs(m.value))&&(p+=m.value,y+=g,v+=g*m.x,b+=g*m.y);f.x=v/y,f.y=b/y}else{m=f,m.x=m.data.x,m.y=m.data.y;do p+=o[m.data.index];while(m=m.next)}f.value=p}function h(f,p,m,g){if(!f.value)return!0;var y=f.x-t.x,v=f.y-t.y,b=g-p,_=y*y+v*v;if(b*b/l<_)return _<a&&(y===0&&(y=Hm(n),_+=y*y),v===0&&(v=Hm(n),_+=v*v),_<s&&(_=Math.sqrt(s*_)),t.vx+=y*f.value*r/_,t.vy+=v*f.value*r/_),!0;if(f.length||_>=a)return;(f.data!==t||f.next)&&(y===0&&(y=Hm(n),_+=y*y),v===0&&(v=Hm(n),_+=v*v),_<s&&(_=Math.sqrt(s*_)));do f.data!==t&&(b=o[f.data.index]*r/_,t.vx+=y*b,t.vy+=v*b);while(f=f.next)}return u.initialize=function(f,p){e=f,n=p,c()},u.strength=function(f){return arguments.length?(i=typeof f=="function"?f:Aa(+f),c(),u):i},u.distanceMin=function(f){return arguments.length?(s=f*f,u):Math.sqrt(s)},u.distanceMax=function(f){return arguments.length?(a=f*f,u):Math.sqrt(a)},u.theta=function(f){return arguments.length?(l=f*f,u):Math.sqrt(l)},u}function tkt(e){var t=Aa(.1),n,r,i;typeof e!="function"&&(e=Aa(e==null?0:+e));function o(a){for(var l=0,u=n.length,c;l<u;++l)c=n[l],c.vx+=(i[l]-c.x)*r[l]*a}function s(){if(n){var a,l=n.length;for(r=new Array(l),i=new Array(l),a=0;a<l;++a)r[a]=isNaN(i[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return o.initialize=function(a){n=a,s()},o.strength=function(a){return arguments.length?(t=typeof a=="function"?a:Aa(+a),s(),o):t},o.x=function(a){return arguments.length?(e=typeof a=="function"?a:Aa(+a),s(),o):e},o}function nkt(e){var t=Aa(.1),n,r,i;typeof e!="function"&&(e=Aa(e==null?0:+e));function o(a){for(var l=0,u=n.length,c;l<u;++l)c=n[l],c.vy+=(i[l]-c.y)*r[l]*a}function s(){if(n){var a,l=n.length;for(r=new Array(l),i=new Array(l),a=0;a<l;++a)r[a]=isNaN(i[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return o.initialize=function(a){n=a,s()},o.strength=function(a){return arguments.length?(t=typeof a=="function"?a:Aa(+a),s(),o):t},o.y=function(a){return arguments.length?(e=typeof a=="function"?a:Aa(+a),s(),o):e},o}const cde={center:g2t,collide:N2t,nbody:ekt,link:L2t,x:tkt,y:nkt},IS="forces",dz=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],rkt=["static","iterations"],mRe=["x","y","vx","vy"];function tQ(e){Se.call(this,null,e)}tQ.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30,expr:!0},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:mRe}]};dt(tQ,Se,{transform(e,t){var n=this.value,r=t.changed(t.ADD_REM),i=e.modified(dz),o=e.iterations||300;if(n?(r&&(t.modifies("index"),n.nodes(t.source)),(i||t.changed(t.MOD))&&gRe(n,e,0,t)):(this.value=n=okt(t.source,e),n.on("tick",ikt(t.dataflow,this)),e.static||(r=!0,n.tick()),t.modifies("index")),i||r||e.modified(rkt)||t.changed()&&e.restart){if(n.alpha(Math.max(n.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(n.alphaMin(),1/o)),e.static)for(n.stop();--o>=0;)n.tick();else if(n.stopped()&&n.restart(),!r)return t.StopPropagation}return this.finish(e,t)},finish(e,t){const n=t.dataflow;for(let a=this._argops,l=0,u=a.length,c;l<u;++l)if(c=a[l],!(c.name!==IS||c.op._argval.force!=="link")){for(var r=c.op._argops,i=0,o=r.length,s;i<o;++i)if(r[i].name==="links"&&(s=r[i].op.source)){n.pulse(s,n.changeset().reflow());break}}return t.reflow(e.modified()).modifies(mRe)}});function ikt(e,t){return()=>e.touch(t).run()}function okt(e,t){const n=Z2t(e),r=n.stop,i=n.restart;let o=!1;return n.stopped=()=>o,n.restart=()=>(o=!1,i()),n.stop=()=>(o=!0,r()),gRe(n,t,!0).on("end",()=>o=!0)}function gRe(e,t,n,r){var i=_t(t.forces),o,s,a,l;for(o=0,s=dz.length;o<s;++o)a=dz[o],a!==IS&&t.modified(a)&&e[a](t[a]);for(o=0,s=i.length;o<s;++o)l=IS+o,a=n||t.modified(IS,o)?akt(i[o]):r&&skt(i[o],r)?e.force(l):null,a&&e.force(l,a);for(s=e.numForces||0;o<s;++o)e.force(IS+o,null);return e.numForces=i.length,e}function skt(e,t){var n,r;for(n in e)if(vn(r=e[n])&&t.modified(Qs(r)))return 1;return 0}function akt(e){var t,n;Tt(cde,e.force)||Re("Unrecognized force: "+e.force),t=cde[e.force]();for(n in e)vn(t[n])&&lkt(t[n],e[n],e);return t}function lkt(e,t,n){e(vn(t)?r=>t(r,n):t)}const ukt=Object.freeze(Object.defineProperty({__proto__:null,force:tQ},Symbol.toStringTag,{value:"Module"}));function ckt(e,t){return e.parent===t.parent?1:2}function dkt(e){return e.reduce(hkt,0)/e.length}function hkt(e,t){return e+t.x}function fkt(e){return 1+e.reduce(pkt,0)}function pkt(e,t){return Math.max(e,t.y)}function mkt(e){for(var t;t=e.children;)e=t[0];return e}function gkt(e){for(var t;t=e.children;)e=t[t.length-1];return e}function ykt(){var e=ckt,t=1,n=1,r=!1;function i(o){var s,a=0;o.eachAfter(function(h){var f=h.children;f?(h.x=dkt(f),h.y=fkt(f)):(h.x=s?a+=e(h,s):0,h.y=0,s=h)});var l=mkt(o),u=gkt(o),c=l.x-e(l,u)/2,d=u.x+e(u,l)/2;return o.eachAfter(r?function(h){h.x=(h.x-o.x)*t,h.y=(o.y-h.y)*n}:function(h){h.x=(h.x-c)/(d-c)*t,h.y=(1-(o.y?h.y/o.y:1))*n})}return i.separation=function(o){return arguments.length?(e=o,i):e},i.size=function(o){return arguments.length?(r=!1,t=+o[0],n=+o[1],i):r?null:[t,n]},i.nodeSize=function(o){return arguments.length?(r=!0,t=+o[0],n=+o[1],i):r?[t,n]:null},i}function vkt(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function bkt(){return this.eachAfter(vkt)}function wkt(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function xkt(e,t){for(var n=this,r=[n],i,o,s=-1;n=r.pop();)if(e.call(t,n,++s,this),i=n.children)for(o=i.length-1;o>=0;--o)r.push(i[o]);return this}function _kt(e,t){for(var n=this,r=[n],i=[],o,s,a,l=-1;n=r.pop();)if(i.push(n),o=n.children)for(s=0,a=o.length;s<a;++s)r.push(o[s]);for(;n=i.pop();)e.call(t,n,++l,this);return this}function Ekt(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function Skt(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function Tkt(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function Ckt(e){for(var t=this,n=Akt(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function Akt(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function kkt(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function Ikt(){return Array.from(this)}function Rkt(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function $kt(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*Dkt(){var e=this,t,n=[e],r,i,o;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,o=r.length;i<o;++i)n.push(r[i]);while(n.length)}function nQ(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=Nkt)):t===void 0&&(t=Pkt);for(var n=new dx(e),r,i=[n],o,s,a,l;r=i.pop();)if((s=t(r.data))&&(l=(s=Array.from(s)).length))for(r.children=s,a=l-1;a>=0;--a)i.push(o=s[a]=new dx(s[a])),o.parent=r,o.depth=r.depth+1;return n.eachBefore(yRe)}function Mkt(){return nQ(this).eachBefore(Okt)}function Pkt(e){return e.children}function Nkt(e){return Array.isArray(e)?e[1]:null}function Okt(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function yRe(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function dx(e){this.data=e,this.depth=this.height=0,this.parent=null}dx.prototype=nQ.prototype={constructor:dx,count:bkt,each:wkt,eachAfter:_kt,eachBefore:xkt,find:Ekt,sum:Skt,sort:Tkt,path:Ckt,ancestors:kkt,descendants:Ikt,leaves:Rkt,links:$kt,copy:Mkt,[Symbol.iterator]:Dkt};function uR(e){return e==null?null:vRe(e)}function vRe(e){if(typeof e!="function")throw new Error;return e}function dy(){return 0}function m1(e){return function(){return e}}const Lkt=1664525,Fkt=1013904223,dde=4294967296;function Bkt(){let e=1;return()=>(e=(Lkt*e+Fkt)%dde)/dde}function jkt(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function zkt(e,t){let n=e.length,r,i;for(;n;)i=t()*n--|0,r=e[n],e[n]=e[i],e[i]=r;return e}function Ukt(e,t){for(var n=0,r=(e=zkt(Array.from(e),t)).length,i=[],o,s;n<r;)o=e[n],s&&bRe(s,o)?++n:(s=Vkt(i=Hkt(i,o)),n=0);return s}function Hkt(e,t){var n,r;if(P6(t,e))return[t];for(n=0;n<e.length;++n)if(P3(t,e[n])&&P6(RS(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(P3(RS(e[n],e[r]),t)&&P3(RS(e[n],t),e[r])&&P3(RS(e[r],t),e[n])&&P6(wRe(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function P3(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function bRe(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function P6(e,t){for(var n=0;n<t.length;++n)if(!bRe(e,t[n]))return!1;return!0}function Vkt(e){switch(e.length){case 1:return Wkt(e[0]);case 2:return RS(e[0],e[1]);case 3:return wRe(e[0],e[1],e[2])}}function Wkt(e){return{x:e.x,y:e.y,r:e.r}}function RS(e,t){var n=e.x,r=e.y,i=e.r,o=t.x,s=t.y,a=t.r,l=o-n,u=s-r,c=a-i,d=Math.sqrt(l*l+u*u);return{x:(n+o+l/d*c)/2,y:(r+s+u/d*c)/2,r:(d+i+a)/2}}function wRe(e,t,n){var r=e.x,i=e.y,o=e.r,s=t.x,a=t.y,l=t.r,u=n.x,c=n.y,d=n.r,h=r-s,f=r-u,p=i-a,m=i-c,g=l-o,y=d-o,v=r*r+i*i-o*o,b=v-s*s-a*a+l*l,_=v-u*u-c*c+d*d,x=f*p-h*m,w=(p*_-m*b)/(x*2)-r,E=(m*g-p*y)/x,S=(f*b-h*_)/(x*2)-i,T=(h*y-f*g)/x,C=E*E+T*T-1,D=2*(o+w*E+S*T),$=w*w+S*S-o*o,I=-(Math.abs(C)>1e-6?(D+Math.sqrt(D*D-4*C*$))/(2*C):$/D);return{x:r+w+E*I,y:i+S+T*I,r:I}}function hde(e,t,n){var r=e.x-t.x,i,o,s=e.y-t.y,a,l,u=r*r+s*s;u?(o=t.r+n.r,o*=o,l=e.r+n.r,l*=l,o>l?(i=(u+l-o)/(2*u),a=Math.sqrt(Math.max(0,l/u-i*i)),n.x=e.x-i*r-a*s,n.y=e.y-i*s+a*r):(i=(u+o-l)/(2*u),a=Math.sqrt(Math.max(0,o/u-i*i)),n.x=t.x+i*r-a*s,n.y=t.y+i*s+a*r)):(n.x=t.x+n.r,n.y=t.y)}function fde(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function pde(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,o=(t.y*n.r+n.y*t.r)/r;return i*i+o*o}function N3(e){this._=e,this.next=null,this.previous=null}function qkt(e,t){if(!(o=(e=jkt(e)).length))return 0;var n,r,i,o,s,a,l,u,c,d,h;if(n=e[0],n.x=0,n.y=0,!(o>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(o>2))return n.r+r.r;hde(r,n,i=e[2]),n=new N3(n),r=new N3(r),i=new N3(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(l=3;l<o;++l){hde(n._,r._,i=e[l]),i=new N3(i),u=r.next,c=n.previous,d=r._.r,h=n._.r;do if(d<=h){if(fde(u._,i._)){r=u,n.next=r,r.previous=n,--l;continue e}d+=u._.r,u=u.next}else{if(fde(c._,i._)){n=c,n.next=r,r.previous=n,--l;continue e}h+=c._.r,c=c.previous}while(u!==c.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,s=pde(n);(i=i.next)!==r;)(a=pde(i))<s&&(n=i,s=a);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=Ukt(n,t),l=0;l<o;++l)n=e[l],n.x-=i.x,n.y-=i.y;return i.r}function Gkt(e){return Math.sqrt(e.value)}function Ykt(){var e=null,t=1,n=1,r=dy;function i(o){const s=Bkt();return o.x=t/2,o.y=n/2,e?o.eachBefore(mde(e)).eachAfter(N6(r,.5,s)).eachBefore(gde(1)):o.eachBefore(mde(Gkt)).eachAfter(N6(dy,1,s)).eachAfter(N6(r,o.r/Math.min(t,n),s)).eachBefore(gde(Math.min(t,n)/(2*o.r))),o}return i.radius=function(o){return arguments.length?(e=uR(o),i):e},i.size=function(o){return arguments.length?(t=+o[0],n=+o[1],i):[t,n]},i.padding=function(o){return arguments.length?(r=typeof o=="function"?o:m1(+o),i):r},i}function mde(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function N6(e,t,n){return function(r){if(i=r.children){var i,o,s=i.length,a=e(r)*t||0,l;if(a)for(o=0;o<s;++o)i[o].r+=a;if(l=qkt(i,n),a)for(o=0;o<s;++o)i[o].r-=a;r.r=l+a}}}function gde(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function xRe(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function N2(e,t,n,r,i){for(var o=e.children,s,a=-1,l=o.length,u=e.value&&(r-t)/e.value;++a<l;)s=o[a],s.y0=n,s.y1=i,s.x0=t,s.x1=t+=s.value*u}function Kkt(){var e=1,t=1,n=0,r=!1;function i(s){var a=s.height+1;return s.x0=s.y0=n,s.x1=e,s.y1=t/a,s.eachBefore(o(t,a)),r&&s.eachBefore(xRe),s}function o(s,a){return function(l){l.children&&N2(l,l.x0,s*(l.depth+1)/a,l.x1,s*(l.depth+2)/a);var u=l.x0,c=l.y0,d=l.x1-n,h=l.y1-n;d<u&&(u=d=(u+d)/2),h<c&&(c=h=(c+h)/2),l.x0=u,l.y0=c,l.x1=d,l.y1=h}}return i.round=function(s){return arguments.length?(r=!!s,i):r},i.size=function(s){return arguments.length?(e=+s[0],t=+s[1],i):[e,t]},i.padding=function(s){return arguments.length?(n=+s,i):n},i}var Xkt={depth:-1},yde={},O6={};function Qkt(e){return e.id}function Jkt(e){return e.parentId}function vde(){var e=Qkt,t=Jkt,n;function r(i){var o=Array.from(i),s=e,a=t,l,u,c,d,h,f,p,m,g=new Map;if(n!=null){const y=o.map((_,x)=>Zkt(n(_,x,i))),v=y.map(bde),b=new Set(y).add("");for(const _ of v)b.has(_)||(b.add(_),y.push(_),v.push(bde(_)),o.push(O6));s=(_,x)=>y[x],a=(_,x)=>v[x]}for(c=0,l=o.length;c<l;++c)u=o[c],f=o[c]=new dx(u),(p=s(u,c,i))!=null&&(p+="")&&(m=f.id=p,g.set(m,g.has(m)?yde:f)),(p=a(u,c,i))!=null&&(p+="")&&(f.parent=p);for(c=0;c<l;++c)if(f=o[c],p=f.parent){if(h=g.get(p),!h)throw new Error("missing: "+p);if(h===yde)throw new Error("ambiguous: "+p);h.children?h.children.push(f):h.children=[f],f.parent=h}else{if(d)throw new Error("multiple roots");d=f}if(!d)throw new Error("no root");if(n!=null){for(;d.data===O6&&d.children.length===1;)d=d.children[0],--l;for(let y=o.length-1;y>=0&&(f=o[y],f.data===O6);--y)f.data=null}if(d.parent=Xkt,d.eachBefore(function(y){y.depth=y.parent.depth+1,--l}).eachBefore(yRe),d.parent=null,l>0)throw new Error("cycle");return d}return r.id=function(i){return arguments.length?(e=uR(i),r):e},r.parentId=function(i){return arguments.length?(t=uR(i),r):t},r.path=function(i){return arguments.length?(n=uR(i),r):n},r}function Zkt(e){e=`${e}`;let t=e.length;return hz(e,t-1)&&!hz(e,t-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function bde(e){let t=e.length;if(t<2)return"";for(;--t>1&&!hz(e,t););return e.slice(0,t)}function hz(e,t){if(e[t]==="/"){let n=0;for(;t>0&&e[--t]==="\\";)++n;if(!(n&1))return!0}return!1}function e3t(e,t){return e.parent===t.parent?1:2}function L6(e){var t=e.children;return t?t[0]:e.t}function F6(e){var t=e.children;return t?t[t.length-1]:e.t}function t3t(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function n3t(e){for(var t=0,n=0,r=e.children,i=r.length,o;--i>=0;)o=r[i],o.z+=t,o.m+=t,t+=o.s+(n+=o.c)}function r3t(e,t,n){return e.a.parent===t.parent?e.a:n}function cR(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}cR.prototype=Object.create(dx.prototype);function i3t(e){for(var t=new cR(e,0),n,r=[t],i,o,s,a;n=r.pop();)if(o=n._.children)for(n.children=new Array(a=o.length),s=a-1;s>=0;--s)r.push(i=n.children[s]=new cR(o[s],s)),i.parent=n;return(t.parent=new cR(null,0)).children=[t],t}function o3t(){var e=e3t,t=1,n=1,r=null;function i(u){var c=i3t(u);if(c.eachAfter(o),c.parent.m=-c.z,c.eachBefore(s),r)u.eachBefore(l);else{var d=u,h=u,f=u;u.eachBefore(function(v){v.x<d.x&&(d=v),v.x>h.x&&(h=v),v.depth>f.depth&&(f=v)});var p=d===h?1:e(d,h)/2,m=p-d.x,g=t/(h.x+p+m),y=n/(f.depth||1);u.eachBefore(function(v){v.x=(v.x+m)*g,v.y=v.depth*y})}return u}function o(u){var c=u.children,d=u.parent.children,h=u.i?d[u.i-1]:null;if(c){n3t(u);var f=(c[0].z+c[c.length-1].z)/2;h?(u.z=h.z+e(u._,h._),u.m=u.z-f):u.z=f}else h&&(u.z=h.z+e(u._,h._));u.parent.A=a(u,h,u.parent.A||d[0])}function s(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function a(u,c,d){if(c){for(var h=u,f=u,p=c,m=h.parent.children[0],g=h.m,y=f.m,v=p.m,b=m.m,_;p=F6(p),h=L6(h),p&&h;)m=L6(m),f=F6(f),f.a=u,_=p.z+v-h.z-g+e(p._,h._),_>0&&(t3t(r3t(p,u,d),u,_),g+=_,y+=_),v+=p.m,g+=h.m,b+=m.m,y+=f.m;p&&!F6(f)&&(f.t=p,f.m+=v-y),h&&!L6(m)&&(m.t=h,m.m+=g-b,d=u)}return d}function l(u){u.x*=t,u.y=u.depth*n}return i.separation=function(u){return arguments.length?(e=u,i):e},i.size=function(u){return arguments.length?(r=!1,t=+u[0],n=+u[1],i):r?null:[t,n]},i.nodeSize=function(u){return arguments.length?(r=!0,t=+u[0],n=+u[1],i):r?[t,n]:null},i}function VO(e,t,n,r,i){for(var o=e.children,s,a=-1,l=o.length,u=e.value&&(i-n)/e.value;++a<l;)s=o[a],s.x0=t,s.x1=r,s.y0=n,s.y1=n+=s.value*u}var _Re=(1+Math.sqrt(5))/2;function ERe(e,t,n,r,i,o){for(var s=[],a=t.children,l,u,c=0,d=0,h=a.length,f,p,m=t.value,g,y,v,b,_,x,w;c<h;){f=i-n,p=o-r;do g=a[d++].value;while(!g&&d<h);for(y=v=g,x=Math.max(p/f,f/p)/(m*e),w=g*g*x,_=Math.max(v/w,w/y);d<h;++d){if(g+=u=a[d].value,u<y&&(y=u),u>v&&(v=u),w=g*g*x,b=Math.max(v/w,w/y),b>_){g-=u;break}_=b}s.push(l={value:g,dice:f<p,children:a.slice(c,d)}),l.dice?N2(l,n,r,i,m?r+=p*g/m:o):VO(l,n,r,m?n+=f*g/m:i,o),m-=g,c=d}return s}const SRe=function e(t){function n(r,i,o,s,a){ERe(t,r,i,o,s,a)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(_Re);function s3t(){var e=SRe,t=!1,n=1,r=1,i=[0],o=dy,s=dy,a=dy,l=dy,u=dy;function c(h){return h.x0=h.y0=0,h.x1=n,h.y1=r,h.eachBefore(d),i=[0],t&&h.eachBefore(xRe),h}function d(h){var f=i[h.depth],p=h.x0+f,m=h.y0+f,g=h.x1-f,y=h.y1-f;g<p&&(p=g=(p+g)/2),y<m&&(m=y=(m+y)/2),h.x0=p,h.y0=m,h.x1=g,h.y1=y,h.children&&(f=i[h.depth+1]=o(h)/2,p+=u(h)-f,m+=s(h)-f,g-=a(h)-f,y-=l(h)-f,g<p&&(p=g=(p+g)/2),y<m&&(m=y=(m+y)/2),e(h,p,m,g,y))}return c.round=function(h){return arguments.length?(t=!!h,c):t},c.size=function(h){return arguments.length?(n=+h[0],r=+h[1],c):[n,r]},c.tile=function(h){return arguments.length?(e=vRe(h),c):e},c.padding=function(h){return arguments.length?c.paddingInner(h).paddingOuter(h):c.paddingInner()},c.paddingInner=function(h){return arguments.length?(o=typeof h=="function"?h:m1(+h),c):o},c.paddingOuter=function(h){return arguments.length?c.paddingTop(h).paddingRight(h).paddingBottom(h).paddingLeft(h):c.paddingTop()},c.paddingTop=function(h){return arguments.length?(s=typeof h=="function"?h:m1(+h),c):s},c.paddingRight=function(h){return arguments.length?(a=typeof h=="function"?h:m1(+h),c):a},c.paddingBottom=function(h){return arguments.length?(l=typeof h=="function"?h:m1(+h),c):l},c.paddingLeft=function(h){return arguments.length?(u=typeof h=="function"?h:m1(+h),c):u},c}function a3t(e,t,n,r,i){var o=e.children,s,a=o.length,l,u=new Array(a+1);for(u[0]=l=s=0;s<a;++s)u[s+1]=l+=o[s].value;c(0,a,e.value,t,n,r,i);function c(d,h,f,p,m,g,y){if(d>=h-1){var v=o[d];v.x0=p,v.y0=m,v.x1=g,v.y1=y;return}for(var b=u[d],_=f/2+b,x=d+1,w=h-1;x<w;){var E=x+w>>>1;u[E]<_?x=E+1:w=E}_-u[x-1]<u[x]-_&&d+1<x&&--x;var S=u[x]-b,T=f-S;if(g-p>y-m){var C=f?(p*T+g*S)/f:g;c(d,x,S,p,m,C,y),c(x,h,T,C,m,g,y)}else{var D=f?(m*T+y*S)/f:y;c(d,x,S,p,m,g,D),c(x,h,T,p,D,g,y)}}}function l3t(e,t,n,r,i){(e.depth&1?VO:N2)(e,t,n,r,i)}const u3t=function e(t){function n(r,i,o,s,a){if((l=r._squarify)&&l.ratio===t)for(var l,u,c,d,h=-1,f,p=l.length,m=r.value;++h<p;){for(u=l[h],c=u.children,d=u.value=0,f=c.length;d<f;++d)u.value+=c[d].value;u.dice?N2(u,i,o,s,m?o+=(a-o)*u.value/m:a):VO(u,i,o,m?i+=(s-i)*u.value/m:s,a),m-=u.value}else r._squarify=l=ERe(t,r,i,o,s,a),l.ratio=t}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(_Re);function fz(e,t,n){const r={};return e.each(i=>{const o=i.data;n(o)&&(r[t(o)]=i)}),e.lookup=r,e}function rQ(e){Se.call(this,null,e)}rQ.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const c3t=e=>e.values;dt(rQ,Se,{transform(e,t){t.source||Re("Nest transform requires an upstream data source.");var n=e.generate,r=e.modified(),i=t.clone(),o=this.value;return(!o||r||t.changed())&&(o&&o.each(s=>{s.children&&nO(s.data)&&i.rem.push(s.data)}),this.value=o=nQ({values:_t(e.keys).reduce((s,a)=>(s.key(a),s),d3t()).entries(i.source)},c3t),n&&o.each(s=>{s.children&&(s=ir(s.data),i.add.push(s),i.source.push(s))}),fz(o,Ht,Ht)),i.source.root=o,i}});function d3t(){const e=[],t={entries:i=>r(n(i,0),0),key:i=>(e.push(i),t)};function n(i,o){if(o>=e.length)return i;const s=i.length,a=e[o++],l={},u={};let c=-1,d,h,f;for(;++c<s;)d=a(h=i[c])+"",(f=l[d])?f.push(h):l[d]=[h];for(d in l)u[d]=n(l[d],o);return u}function r(i,o){if(++o>e.length)return i;const s=[];for(const a in i)s.push({key:a,values:r(i[a],o)});return s}return t}function qp(e){Se.call(this,null,e)}const h3t=(e,t)=>e.parent===t.parent?1:2;dt(qp,Se,{transform(e,t){(!t.source||!t.source.root)&&Re(this.constructor.name+" transform requires a backing tree data source.");const n=this.layout(e.method),r=this.fields,i=t.source.root,o=e.as||r;e.field?i.sum(e.field):i.count(),e.sort&&i.sort(db(e.sort,s=>s.data)),f3t(n,this.params,e),n.separation&&n.separation(e.separation!==!1?h3t:w_);try{this.value=n(i)}catch(s){Re(s)}return i.each(s=>p3t(s,r,o)),t.reflow(e.modified()).modifies(o).modifies("leaf")}});function f3t(e,t,n){for(let r,i=0,o=t.length;i<o;++i)r=t[i],r in n&&e[r](n[r])}function p3t(e,t,n){const r=e.data,i=t.length-1;for(let o=0;o<i;++o)r[n[o]]=e[t[o]];r[n[i]]=e.children?e.children.length:0}const pz=["x","y","r","depth","children"];function iQ(e){qp.call(this,e)}iQ.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:pz.length,default:pz}]};dt(iQ,qp,{layout:Ykt,params:["radius","size","padding"],fields:pz});const mz=["x0","y0","x1","y1","depth","children"];function oQ(e){qp.call(this,e)}oQ.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:mz.length,default:mz}]};dt(oQ,qp,{layout:Kkt,params:["size","round","padding"],fields:mz});function sQ(e){Se.call(this,null,e)}sQ.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};dt(sQ,Se,{transform(e,t){t.source||Re("Stratify transform requires an upstream data source.");let n=this.value;const r=e.modified(),i=t.fork(t.ALL).materialize(t.SOURCE),o=!n||r||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return i.source=i.source.slice(),o&&(n=i.source.length?fz(vde().id(e.key).parentId(e.parentKey)(i.source),e.key,Wu):fz(vde()([{}]),e.key,e.key)),i.source.root=this.value=n,i}});const wde={tidy:o3t,cluster:ykt},gz=["x","y","depth","children"];function aQ(e){qp.call(this,e)}aQ.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:gz.length,default:gz}]};dt(aQ,qp,{layout(e){const t=e||"tidy";if(Tt(wde,t))return wde[t]();Re("Unrecognized Tree layout method: "+t)},params:["size","nodeSize"],fields:gz});function lQ(e){Se.call(this,[],e)}lQ.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};dt(lQ,Se,{transform(e,t){const n=this.value,r=t.source&&t.source.root,i=t.fork(t.NO_SOURCE),o={};return r||Re("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(i.rem=n,t.visit(t.SOURCE,s=>o[Ht(s)]=1),r.each(s=>{const a=s.data,l=s.parent&&s.parent.data;l&&o[Ht(a)]&&o[Ht(l)]&&i.add.push(ir({source:l,target:a}))}),this.value=i.add):t.changed(t.MOD)&&(t.visit(t.MOD,s=>o[Ht(s)]=1),n.forEach(s=>{(o[Ht(s.source)]||o[Ht(s.target)])&&i.mod.push(s)})),i}});const xde={binary:a3t,dice:N2,slice:VO,slicedice:l3t,squarify:SRe,resquarify:u3t},yz=["x0","y0","x1","y1","depth","children"];function uQ(e){qp.call(this,e)}uQ.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:yz.length,default:yz}]};dt(uQ,qp,{layout(){const e=s3t();return e.ratio=t=>{const n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=t=>{Tt(xde,t)?e.tile(xde[t]):Re("Unrecognized Treemap layout method: "+t)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:yz});const m3t=Object.freeze(Object.defineProperty({__proto__:null,nest:rQ,pack:iQ,partition:oQ,stratify:sQ,tree:aQ,treelinks:lQ,treemap:uQ},Symbol.toStringTag,{value:"Module"})),B6=4278190080;function g3t(e,t){const n=e.bitmap();return(t||[]).forEach(r=>n.set(e(r.boundary[0]),e(r.boundary[3]))),[n,void 0]}function y3t(e,t,n,r,i){const o=e.width,s=e.height,a=r||i,l=hg(o,s).getContext("2d"),u=hg(o,s).getContext("2d"),c=a&&hg(o,s).getContext("2d");n.forEach(S=>dR(l,S,!1)),dR(u,t,!1),a&&dR(c,t,!0);const d=j6(l,o,s),h=j6(u,o,s),f=a&&j6(c,o,s),p=e.bitmap(),m=a&&e.bitmap();let g,y,v,b,_,x,w,E;for(y=0;y<s;++y)for(g=0;g<o;++g)_=y*o+g,x=d[_]&B6,E=h[_]&B6,w=a&&f[_]&B6,(x||w||E)&&(v=e(g),b=e(y),!i&&(x||E)&&p.set(v,b),a&&(x||w)&&m.set(v,b));return[p,m]}function j6(e,t,n){return new Uint32Array(e.getImageData(0,0,t,n).data.buffer)}function dR(e,t,n){if(!t.length)return;const r=t[0].mark.marktype;r==="group"?t.forEach(i=>{i.items.forEach(o=>dR(e,o.items,n))}):cu[r].draw(e,{items:n?t.map(v3t):t})}function v3t(e){const t=rO(e,{});return t.stroke&&t.strokeOpacity!==0||t.fill&&t.fillOpacity!==0?{...t,strokeOpacity:1,stroke:"#000",fillOpacity:0}:t}const bf=5,ga=31,QC=32,wm=new Uint32Array(QC+1),Ic=new Uint32Array(QC+1);Ic[0]=0;wm[0]=~Ic[0];for(let e=1;e<=QC;++e)Ic[e]=Ic[e-1]<<1|1,wm[e]=~Ic[e];function b3t(e,t){const n=new Uint32Array(~~((e*t+QC)/QC));function r(o,s){n[o]|=s}function i(o,s){n[o]&=s}return{array:n,get:(o,s)=>{const a=s*e+o;return n[a>>>bf]&1<<(a&ga)},set:(o,s)=>{const a=s*e+o;r(a>>>bf,1<<(a&ga))},clear:(o,s)=>{const a=s*e+o;i(a>>>bf,~(1<<(a&ga)))},getRange:(o,s,a,l)=>{let u=l,c,d,h,f;for(;u>=s;--u)if(c=u*e+o,d=u*e+a,h=c>>>bf,f=d>>>bf,h===f){if(n[h]&wm[c&ga]&Ic[(d&ga)+1])return!0}else{if(n[h]&wm[c&ga]||n[f]&Ic[(d&ga)+1])return!0;for(let p=h+1;p<f;++p)if(n[p])return!0}return!1},setRange:(o,s,a,l)=>{let u,c,d,h,f;for(;s<=l;++s)if(u=s*e+o,c=s*e+a,d=u>>>bf,h=c>>>bf,d===h)r(d,wm[u&ga]&Ic[(c&ga)+1]);else for(r(d,wm[u&ga]),r(h,Ic[(c&ga)+1]),f=d+1;f<h;++f)r(f,4294967295)},clearRange:(o,s,a,l)=>{let u,c,d,h,f;for(;s<=l;++s)if(u=s*e+o,c=s*e+a,d=u>>>bf,h=c>>>bf,d===h)i(d,Ic[u&ga]|wm[(c&ga)+1]);else for(i(d,Ic[u&ga]),i(h,wm[(c&ga)+1]),f=d+1;f<h;++f)i(f,0)},outOfBounds:(o,s,a,l)=>o<0||s<0||l>=t||a>=e}}function w3t(e,t,n){const r=Math.max(1,Math.sqrt(e*t/1e6)),i=~~((e+2*n+r)/r),o=~~((t+2*n+r)/r),s=a=>~~((a+n)/r);return s.invert=a=>a*r-n,s.bitmap=()=>b3t(i,o),s.ratio=r,s.padding=n,s.width=e,s.height=t,s}function x3t(e,t,n,r){const i=e.width,o=e.height;return function(s){const a=s.datum.datum.items[r].items,l=a.length,u=s.datum.fontSize,c=Kl.width(s.datum,s.datum.text);let d=0,h,f,p,m,g,y,v;for(let b=0;b<l;++b)h=a[b].x,p=a[b].y,f=a[b].x2===void 0?h:a[b].x2,m=a[b].y2===void 0?p:a[b].y2,g=(h+f)/2,y=(p+m)/2,v=Math.abs(f-h+m-p),v>=d&&(d=v,s.x=g,s.y=y);return g=c/2,y=u/2,h=s.x-g,f=s.x+g,p=s.y-y,m=s.y+y,s.align="center",h<0&&f<=i?s.align="left":0<=h&&i<f&&(s.align="right"),s.baseline="middle",p<0&&m<=o?s.baseline="top":0<=p&&o<m&&(s.baseline="bottom"),!0}}function gM(e,t,n,r,i,o){let s=n/2;return e-s<0||e+s>i||t-(s=r/2)<0||t+s>o}function Vm(e,t,n,r,i,o,s,a){const l=i*o/(r*2),u=e(t-l),c=e(t+l),d=e(n-(o=o/2)),h=e(n+o);return s.outOfBounds(u,d,c,h)||s.getRange(u,d,c,h)||a&&a.getRange(u,d,c,h)}function _3t(e,t,n,r){const i=e.width,o=e.height,s=t[0],a=t[1];function l(u,c,d,h,f){const p=e.invert(u),m=e.invert(c);let g=d,y=o,v;if(!gM(p,m,h,f,i,o)&&!Vm(e,p,m,f,h,g,s,a)&&!Vm(e,p,m,f,h,f,s,null)){for(;y-g>=1;)v=(g+y)/2,Vm(e,p,m,f,h,v,s,a)?y=v:g=v;if(g>d)return[p,m,g,!0]}}return function(u){const c=u.datum.datum.items[r].items,d=c.length,h=u.datum.fontSize,f=Kl.width(u.datum,u.datum.text);let p=n?h:0,m=!1,g=!1,y=0,v,b,_,x,w,E,S,T,C,D,$,I,R,A,M,N,L;for(let z=0;z<d;++z){for(v=c[z].x,_=c[z].y,b=c[z].x2===void 0?v:c[z].x2,x=c[z].y2===void 0?_:c[z].y2,v>b&&(L=v,v=b,b=L),_>x&&(L=_,_=x,x=L),C=e(v),$=e(b),D=~~((C+$)/2),I=e(_),A=e(x),R=~~((I+A)/2),S=D;S>=C;--S)for(T=R;T>=I;--T)N=l(S,T,p,f,h),N&&([u.x,u.y,p,m]=N);for(S=D;S<=$;++S)for(T=R;T<=A;++T)N=l(S,T,p,f,h),N&&([u.x,u.y,p,m]=N);!m&&!n&&(M=Math.abs(b-v+x-_),w=(v+b)/2,E=(_+x)/2,M>=y&&!gM(w,E,f,h,i,o)&&!Vm(e,w,E,h,f,h,s,null)&&(y=M,u.x=w,u.y=E,g=!0))}return m||g?(w=f/2,E=h/2,s.setRange(e(u.x-w),e(u.y-E),e(u.x+w),e(u.y+E)),u.align="center",u.baseline="middle",!0):!1}}const E3t=[-1,-1,1,1],S3t=[-1,1,-1,1];function T3t(e,t,n,r){const i=e.width,o=e.height,s=t[0],a=t[1],l=e.bitmap();return function(u){const c=u.datum.datum.items[r].items,d=c.length,h=u.datum.fontSize,f=Kl.width(u.datum,u.datum.text),p=[];let m=n?h:0,g=!1,y=!1,v=0,b,_,x,w,E,S,T,C,D,$,I,R;for(let A=0;A<d;++A){for(b=c[A].x,x=c[A].y,_=c[A].x2===void 0?b:c[A].x2,w=c[A].y2===void 0?x:c[A].y2,p.push([e((b+_)/2),e((x+w)/2)]);p.length;)if([T,C]=p.pop(),!(s.get(T,C)||a.get(T,C)||l.get(T,C))){l.set(T,C);for(let M=0;M<4;++M)E=T+E3t[M],S=C+S3t[M],l.outOfBounds(E,S,E,S)||p.push([E,S]);if(E=e.invert(T),S=e.invert(C),D=m,$=o,!gM(E,S,f,h,i,o)&&!Vm(e,E,S,h,f,D,s,a)&&!Vm(e,E,S,h,f,h,s,null)){for(;$-D>=1;)I=(D+$)/2,Vm(e,E,S,h,f,I,s,a)?$=I:D=I;D>m&&(u.x=E,u.y=S,m=D,g=!0)}}!g&&!n&&(R=Math.abs(_-b+w-x),E=(b+_)/2,S=(x+w)/2,R>=v&&!gM(E,S,f,h,i,o)&&!Vm(e,E,S,h,f,h,s,null)&&(v=R,u.x=E,u.y=S,y=!0))}return g||y?(E=f/2,S=h/2,s.setRange(e(u.x-E),e(u.y-S),e(u.x+E),e(u.y+S)),u.align="center",u.baseline="middle",!0):!1}}const C3t=["right","center","left"],A3t=["bottom","middle","top"];function k3t(e,t,n,r){const i=e.width,o=e.height,s=t[0],a=t[1],l=r.length;return function(u){const c=u.boundary,d=u.datum.fontSize;if(c[2]<0||c[5]<0||c[0]>i||c[3]>o)return!1;let h=u.textWidth??0,f,p,m,g,y,v,b,_,x,w,E,S,T,C,D;for(let $=0;$<l;++$){if(f=(n[$]&3)-1,p=(n[$]>>>2&3)-1,m=f===0&&p===0||r[$]<0,g=f&&p?Math.SQRT1_2:1,y=r[$]<0?-1:1,v=c[1+f]+r[$]*f*g,E=c[4+p]+y*d*p/2+r[$]*p*g,_=E-d/2,x=E+d/2,S=e(v),C=e(_),D=e(x),!h)if(_de(S,S,C,D,s,a,v,v,_,x,c,m))h=Kl.width(u.datum,u.datum.text);else continue;if(w=v+y*h*f/2,v=w-h/2,b=w+h/2,S=e(v),T=e(b),_de(S,T,C,D,s,a,v,b,_,x,c,m))return u.x=f?f*y<0?b:v:w,u.y=p?p*y<0?x:_:E,u.align=C3t[f*y+1],u.baseline=A3t[p*y+1],s.setRange(S,C,T,D),!0}return!1}}function _de(e,t,n,r,i,o,s,a,l,u,c,d){return!(i.outOfBounds(e,n,t,r)||(d&&o||i).getRange(e,n,t,r))}const z6=0,U6=4,H6=8,V6=0,W6=1,q6=2,I3t={"top-left":z6+V6,top:z6+W6,"top-right":z6+q6,left:U6+V6,middle:U6+W6,right:U6+q6,"bottom-left":H6+V6,bottom:H6+W6,"bottom-right":H6+q6},R3t={naive:x3t,"reduced-search":_3t,floodfill:T3t};function $3t(e,t,n,r,i,o,s,a,l,u,c){if(!e.length)return e;const d=Math.max(r.length,i.length),h=D3t(r,d),f=M3t(i,d),p=P3t(e[0].datum),m=p==="group"&&e[0].datum.items[l].marktype,g=m==="area",y=N3t(p,m,a,l),v=u===null||u===1/0,b=g&&c==="naive";let _=-1,x=-1;const w=e.map(C=>{const D=v?Kl.width(C,C.text):void 0;return _=Math.max(_,D),x=Math.max(x,C.fontSize),{datum:C,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:y(C),textWidth:D}});u=u===null||u===1/0?Math.max(_,x)+Math.max(...r):u;const E=w3t(t[0],t[1],u);let S;if(!b){n&&w.sort(($,I)=>n($.datum,I.datum));let C=!1;for(let $=0;$<f.length&&!C;++$)C=f[$]===5||h[$]<0;const D=(p&&s||g)&&e.map($=>$.datum);S=o.length||D?y3t(E,D||[],o,C,g):g3t(E,s&&w)}const T=g?R3t[c](E,S,s,l):k3t(E,S,f,h);return w.forEach(C=>C.opacity=+T(C)),w}function D3t(e,t){const n=new Float64Array(t),r=e.length;for(let i=0;i<r;++i)n[i]=e[i]||0;for(let i=r;i<t;++i)n[i]=n[r-1];return n}function M3t(e,t){const n=new Int8Array(t),r=e.length;for(let i=0;i<r;++i)n[i]|=I3t[e[i]];for(let i=r;i<t;++i)n[i]=n[r-1];return n}function P3t(e){return e&&e.mark&&e.mark.marktype}function N3t(e,t,n,r){const i=o=>[o.x,o.x,o.x,o.y,o.y,o.y];return e?e==="line"||e==="area"?o=>i(o.datum):t==="line"?o=>{const s=o.datum.items[r].items;return i(s.length?s[n==="start"?0:s.length-1]:{x:NaN,y:NaN})}:o=>{const s=o.datum.bounds;return[s.x1,(s.x1+s.x2)/2,s.x2,s.y1,(s.y1+s.y2)/2,s.y2]}:i}const vz=["x","y","opacity","align","baseline"],TRe=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function cQ(e){Se.call(this,null,e)}cQ.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:TRe},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:vz.length,default:vz}]};dt(cQ,Se,{transform(e,t){function n(o){const s=e[o];return vn(s)&&t.modified(s.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||n("sort")))return;(!e.size||e.size.length!==2)&&Re("Size parameter should be specified as a [width, height] array.");const i=e.as||vz;return $3t(t.materialize(t.SOURCE).source||[],e.size,e.sort,_t(e.offset==null?1:e.offset),_t(e.anchor||TRe),e.avoidMarks||[],e.avoidBaseMark!==!1,e.lineAnchor||"end",e.markIndex||0,e.padding===void 0?0:e.padding,e.method||"naive").forEach(o=>{const s=o.datum;s[i[0]]=o.x,s[i[1]]=o.y,s[i[2]]=o.opacity,s[i[3]]=o.align,s[i[4]]=o.baseline}),t.reflow(r).modifies(i)}});const O3t=Object.freeze(Object.defineProperty({__proto__:null,label:cQ},Symbol.toStringTag,{value:"Module"}));function CRe(e,t){var n=[],r=function(c){return c(a)},i,o,s,a,l,u;if(t==null)n.push(e);else for(i={},o=0,s=e.length;o<s;++o)a=e[o],l=t.map(r),u=i[l],u||(i[l]=u=[],u.dims=l,n.push(u)),u.push(a);return n}function dQ(e){Se.call(this,null,e)}dQ.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]};dt(dQ,Se,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=CRe(r,e.groupby),o=(e.groupby||[]).map(_i),s=o.length,a=e.as||[_i(e.x),_i(e.y)],l=[];i.forEach(u=>{NAe(u,e.x,e.y,e.bandwidth||.3).forEach(c=>{const d={};for(let h=0;h<s;++h)d[o[h]]=u.dims[h];d[a[0]]=c[0],d[a[1]]=c[1],l.push(ir(d))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n}});const bz={constant:VY,linear:WY,log:$Ae,exp:DAe,pow:MAe,quad:qY,poly:PAe},L3t=(e,t)=>e==="poly"?t:e==="quad"?2:1;function hQ(e){Se.call(this,null,e)}hQ.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(bz)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]};dt(hQ,Se,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=CRe(r,e.groupby),o=(e.groupby||[]).map(_i),s=e.method||"linear",a=e.order==null?3:e.order,l=L3t(s,a),u=e.as||[_i(e.x),_i(e.y)],c=bz[s],d=[];let h=e.extent;Tt(bz,s)||Re("Invalid regression method: "+s),h!=null&&s==="log"&&h[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),h=null),i.forEach(f=>{if(f.length<=l){t.dataflow.warn("Skipping regression with more parameters than data points.");return}const m=c(f,e.x,e.y,a);if(e.params){d.push(ir({keys:f.dims,coef:m.coef,rSquared:m.rSquared}));return}const g=h||Ah(f,e.x),y=v=>{const b={};for(let _=0;_<o.length;++_)b[o[_]]=f.dims[_];b[u[0]]=v[0],b[u[1]]=v[1],d.push(ir(b))};s==="linear"||s==="constant"?g.forEach(v=>y([v,m.predict(v)])):cO(m.predict,g,25,200).forEach(y)}),this.value&&(n.rem=this.value),this.value=n.add=n.source=d}return n}});const F3t=Object.freeze(Object.defineProperty({__proto__:null,loess:dQ,regression:hQ},Symbol.toStringTag,{value:"Module"})),tp=11102230246251565e-32,Os=134217729,B3t=(3+8*tp)*tp;function G6(e,t,n,r,i){let o,s,a,l,u=t[0],c=r[0],d=0,h=0;c>u==c>-u?(o=u,u=t[++d]):(o=c,c=r[++h]);let f=0;if(d<e&&h<n)for(c>u==c>-u?(s=u+o,a=o-(s-u),u=t[++d]):(s=c+o,a=o-(s-c),c=r[++h]),o=s,a!==0&&(i[f++]=a);d<e&&h<n;)c>u==c>-u?(s=o+u,l=s-o,a=o-(s-l)+(u-l),u=t[++d]):(s=o+c,l=s-o,a=o-(s-l)+(c-l),c=r[++h]),o=s,a!==0&&(i[f++]=a);for(;d<e;)s=o+u,l=s-o,a=o-(s-l)+(u-l),u=t[++d],o=s,a!==0&&(i[f++]=a);for(;h<n;)s=o+c,l=s-o,a=o-(s-l)+(c-l),c=r[++h],o=s,a!==0&&(i[f++]=a);return(o!==0||f===0)&&(i[f++]=o),f}function j3t(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}function O2(e){return new Float64Array(e)}const z3t=(3+16*tp)*tp,U3t=(2+12*tp)*tp,H3t=(9+64*tp)*tp*tp,Jb=O2(4),Ede=O2(8),Sde=O2(12),Tde=O2(16),ya=O2(4);function V3t(e,t,n,r,i,o,s){let a,l,u,c,d,h,f,p,m,g,y,v,b,_,x,w,E,S;const T=e-i,C=n-i,D=t-o,$=r-o;_=T*$,h=Os*T,f=h-(h-T),p=T-f,h=Os*$,m=h-(h-$),g=$-m,x=p*g-(_-f*m-p*m-f*g),w=D*C,h=Os*D,f=h-(h-D),p=D-f,h=Os*C,m=h-(h-C),g=C-m,E=p*g-(w-f*m-p*m-f*g),y=x-E,d=x-y,Jb[0]=x-(y+d)+(d-E),v=_+y,d=v-_,b=_-(v-d)+(y-d),y=b-w,d=b-y,Jb[1]=b-(y+d)+(d-w),S=v+y,d=S-v,Jb[2]=v-(S-d)+(y-d),Jb[3]=S;let I=j3t(4,Jb),R=U3t*s;if(I>=R||-I>=R||(d=e-T,a=e-(T+d)+(d-i),d=n-C,u=n-(C+d)+(d-i),d=t-D,l=t-(D+d)+(d-o),d=r-$,c=r-($+d)+(d-o),a===0&&l===0&&u===0&&c===0)||(R=H3t*s+B3t*Math.abs(I),I+=T*c+$*a-(D*u+C*l),I>=R||-I>=R))return I;_=a*$,h=Os*a,f=h-(h-a),p=a-f,h=Os*$,m=h-(h-$),g=$-m,x=p*g-(_-f*m-p*m-f*g),w=l*C,h=Os*l,f=h-(h-l),p=l-f,h=Os*C,m=h-(h-C),g=C-m,E=p*g-(w-f*m-p*m-f*g),y=x-E,d=x-y,ya[0]=x-(y+d)+(d-E),v=_+y,d=v-_,b=_-(v-d)+(y-d),y=b-w,d=b-y,ya[1]=b-(y+d)+(d-w),S=v+y,d=S-v,ya[2]=v-(S-d)+(y-d),ya[3]=S;const A=G6(4,Jb,4,ya,Ede);_=T*c,h=Os*T,f=h-(h-T),p=T-f,h=Os*c,m=h-(h-c),g=c-m,x=p*g-(_-f*m-p*m-f*g),w=D*u,h=Os*D,f=h-(h-D),p=D-f,h=Os*u,m=h-(h-u),g=u-m,E=p*g-(w-f*m-p*m-f*g),y=x-E,d=x-y,ya[0]=x-(y+d)+(d-E),v=_+y,d=v-_,b=_-(v-d)+(y-d),y=b-w,d=b-y,ya[1]=b-(y+d)+(d-w),S=v+y,d=S-v,ya[2]=v-(S-d)+(y-d),ya[3]=S;const M=G6(A,Ede,4,ya,Sde);_=a*c,h=Os*a,f=h-(h-a),p=a-f,h=Os*c,m=h-(h-c),g=c-m,x=p*g-(_-f*m-p*m-f*g),w=l*u,h=Os*l,f=h-(h-l),p=l-f,h=Os*u,m=h-(h-u),g=u-m,E=p*g-(w-f*m-p*m-f*g),y=x-E,d=x-y,ya[0]=x-(y+d)+(d-E),v=_+y,d=v-_,b=_-(v-d)+(y-d),y=b-w,d=b-y,ya[1]=b-(y+d)+(d-w),S=v+y,d=S-v,ya[2]=v-(S-d)+(y-d),ya[3]=S;const N=G6(M,Sde,4,ya,Tde);return Tde[N-1]}function O3(e,t,n,r,i,o){const s=(t-o)*(n-i),a=(e-i)*(r-o),l=s-a,u=Math.abs(s+a);return Math.abs(l)>=z3t*u?l:-V3t(e,t,n,r,i,o,u)}const Cde=Math.pow(2,-52),L3=new Uint32Array(512);class yM{static from(t,n=K3t,r=X3t){const i=t.length,o=new Float64Array(i*2);for(let s=0;s<i;s++){const a=t[s];o[2*s]=n(a),o[2*s+1]=r(a)}return new yM(o)}constructor(t){const n=t.length>>1;if(n>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:o}=this,s=t.length>>1;let a=1/0,l=1/0,u=-1/0,c=-1/0;for(let T=0;T<s;T++){const C=t[2*T],D=t[2*T+1];C<a&&(a=C),D<l&&(l=D),C>u&&(u=C),D>c&&(c=D),this._ids[T]=T}const d=(a+u)/2,h=(l+c)/2;let f,p,m;for(let T=0,C=1/0;T<s;T++){const D=Y6(d,h,t[2*T],t[2*T+1]);D<C&&(f=T,C=D)}const g=t[2*f],y=t[2*f+1];for(let T=0,C=1/0;T<s;T++){if(T===f)continue;const D=Y6(g,y,t[2*T],t[2*T+1]);D<C&&D>0&&(p=T,C=D)}let v=t[2*p],b=t[2*p+1],_=1/0;for(let T=0;T<s;T++){if(T===f||T===p)continue;const C=G3t(g,y,v,b,t[2*T],t[2*T+1]);C<_&&(m=T,_=C)}let x=t[2*m],w=t[2*m+1];if(_===1/0){for(let D=0;D<s;D++)this._dists[D]=t[2*D]-t[0]||t[2*D+1]-t[1];B1(this._ids,this._dists,0,s-1);const T=new Uint32Array(s);let C=0;for(let D=0,$=-1/0;D<s;D++){const I=this._ids[D],R=this._dists[I];R>$&&(T[C++]=I,$=R)}this.hull=T.subarray(0,C),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(O3(g,y,v,b,x,w)<0){const T=p,C=v,D=b;p=m,v=x,b=w,m=T,x=C,w=D}const E=Y3t(g,y,v,b,x,w);this._cx=E.x,this._cy=E.y;for(let T=0;T<s;T++)this._dists[T]=Y6(t[2*T],t[2*T+1],E.x,E.y);B1(this._ids,this._dists,0,s-1),this._hullStart=f;let S=3;r[f]=n[m]=p,r[p]=n[f]=m,r[m]=n[p]=f,i[f]=0,i[p]=1,i[m]=2,o.fill(-1),o[this._hashKey(g,y)]=f,o[this._hashKey(v,b)]=p,o[this._hashKey(x,w)]=m,this.trianglesLen=0,this._addTriangle(f,p,m,-1,-1,-1);for(let T=0,C,D;T<this._ids.length;T++){const $=this._ids[T],I=t[2*$],R=t[2*$+1];if(T>0&&Math.abs(I-C)<=Cde&&Math.abs(R-D)<=Cde||(C=I,D=R,$===f||$===p||$===m))continue;let A=0;for(let F=0,j=this._hashKey(I,R);F<this._hashSize&&(A=o[(j+F)%this._hashSize],!(A!==-1&&A!==r[A]));F++);A=n[A];let M=A,N;for(;N=r[M],O3(I,R,t[2*M],t[2*M+1],t[2*N],t[2*N+1])>=0;)if(M=N,M===A){M=-1;break}if(M===-1)continue;let L=this._addTriangle(M,$,r[M],-1,-1,i[M]);i[$]=this._legalize(L+2),i[M]=L,S++;let z=r[M];for(;N=r[z],O3(I,R,t[2*z],t[2*z+1],t[2*N],t[2*N+1])<0;)L=this._addTriangle(z,$,N,i[$],-1,i[z]),i[$]=this._legalize(L+2),r[z]=z,S--,z=N;if(M===A)for(;N=n[M],O3(I,R,t[2*N],t[2*N+1],t[2*M],t[2*M+1])<0;)L=this._addTriangle(N,$,M,-1,i[M],i[N]),this._legalize(L+2),i[N]=L,r[M]=M,S--,M=N;this._hullStart=n[$]=M,r[M]=n[z]=$,r[$]=z,o[this._hashKey(I,R)]=$,o[this._hashKey(t[2*M],t[2*M+1])]=M}this.hull=new Uint32Array(S);for(let T=0,C=this._hullStart;T<S;T++)this.hull[T]=C,C=r[C];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(W3t(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:r,coords:i}=this;let o=0,s=0;for(;;){const a=r[t],l=t-t%3;if(s=l+(t+2)%3,a===-1){if(o===0)break;t=L3[--o];continue}const u=a-a%3,c=l+(t+1)%3,d=u+(a+2)%3,h=n[s],f=n[t],p=n[c],m=n[d];if(q3t(i[2*h],i[2*h+1],i[2*f],i[2*f+1],i[2*p],i[2*p+1],i[2*m],i[2*m+1])){n[t]=m,n[a]=h;const y=r[d];if(y===-1){let b=this._hullStart;do{if(this._hullTri[b]===d){this._hullTri[b]=t;break}b=this._hullPrev[b]}while(b!==this._hullStart)}this._link(t,y),this._link(a,r[s]),this._link(s,d);const v=u+(a+1)%3;o<L3.length&&(L3[o++]=v)}else{if(o===0)break;t=L3[--o]}}return s}_link(t,n){this._halfedges[t]=n,n!==-1&&(this._halfedges[n]=t)}_addTriangle(t,n,r,i,o,s){const a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=n,this._triangles[a+2]=r,this._link(a,i),this._link(a+1,o),this._link(a+2,s),this.trianglesLen+=3,a}}function W3t(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}function Y6(e,t,n,r){const i=e-n,o=t-r;return i*i+o*o}function q3t(e,t,n,r,i,o,s,a){const l=e-s,u=t-a,c=n-s,d=r-a,h=i-s,f=o-a,p=l*l+u*u,m=c*c+d*d,g=h*h+f*f;return l*(d*g-m*f)-u*(c*g-m*h)+p*(c*f-d*h)<0}function G3t(e,t,n,r,i,o){const s=n-e,a=r-t,l=i-e,u=o-t,c=s*s+a*a,d=l*l+u*u,h=.5/(s*u-a*l),f=(u*c-a*d)*h,p=(s*d-l*c)*h;return f*f+p*p}function Y3t(e,t,n,r,i,o){const s=n-e,a=r-t,l=i-e,u=o-t,c=s*s+a*a,d=l*l+u*u,h=.5/(s*u-a*l),f=e+(u*c-a*d)*h,p=t+(s*d-l*c)*h;return{x:f,y:p}}function B1(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const o=e[i],s=t[o];let a=i-1;for(;a>=n&&t[e[a]]>s;)e[a+1]=e[a--];e[a+1]=o}else{const i=n+r>>1;let o=n+1,s=r;ME(e,i,o),t[e[n]]>t[e[r]]&&ME(e,n,r),t[e[o]]>t[e[r]]&&ME(e,o,r),t[e[n]]>t[e[o]]&&ME(e,n,o);const a=e[o],l=t[a];for(;;){do o++;while(t[e[o]]<l);do s--;while(t[e[s]]>l);if(s<o)break;ME(e,o,s)}e[n+1]=e[s],e[s]=a,r-o+1>=s-n?(B1(e,t,o,r),B1(e,t,n,s-1)):(B1(e,t,n,s-1),B1(e,t,o,r))}}function ME(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function K3t(e){return e[0]}function X3t(e){return e[1]}const Ade=1e-6;class Ay{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,r){t=+t,n=+n,r=+r;const i=t+r,o=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${o}`:(Math.abs(this._x1-i)>Ade||Math.abs(this._y1-o)>Ade)&&(this._+="L"+i+","+o),r&&(this._+=`A${r},${r},0,1,1,${t-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=o}`)}rect(t,n,r,i){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}class wz{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}let Q3t=class{constructor(t,[n,r,i,o]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((o=+o)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=i,this.xmin=n,this.ymax=o,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:r},vectors:i}=this;let o,s;const a=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let m=0,g=0,y=r.length,v,b;m<y;m+=3,g+=2){const _=r[m]*2,x=r[m+1]*2,w=r[m+2]*2,E=t[_],S=t[_+1],T=t[x],C=t[x+1],D=t[w],$=t[w+1],I=T-E,R=C-S,A=D-E,M=$-S,N=(I*M-R*A)*2;if(Math.abs(N)<1e-9){if(o===void 0){o=s=0;for(const z of n)o+=t[z*2],s+=t[z*2+1];o/=n.length,s/=n.length}const L=1e9*Math.sign((o-E)*M-(s-S)*A);v=(E+D)/2-L*M,b=(S+$)/2+L*A}else{const L=1/N,z=I*I+R*R,F=A*A+M*M;v=E+(M*z-R*F)*L,b=S+(I*F-A*z)*L}a[g]=v,a[g+1]=b}let l=n[n.length-1],u,c=l*4,d,h=t[2*l],f,p=t[2*l+1];i.fill(0);for(let m=0;m<n.length;++m)l=n[m],u=c,d=h,f=p,c=l*4,h=t[2*l],p=t[2*l+1],i[u+2]=i[c]=f-p,i[u+3]=i[c+1]=h-d}render(t){const n=t==null?t=new Ay:void 0,{delaunay:{halfedges:r,inedges:i,hull:o},circumcenters:s,vectors:a}=this;if(o.length<=1)return null;for(let c=0,d=r.length;c<d;++c){const h=r[c];if(h<c)continue;const f=Math.floor(c/3)*2,p=Math.floor(h/3)*2,m=s[f],g=s[f+1],y=s[p],v=s[p+1];this._renderSegment(m,g,y,v,t)}let l,u=o[o.length-1];for(let c=0;c<o.length;++c){l=u,u=o[c];const d=Math.floor(i[u]/3)*2,h=s[d],f=s[d+1],p=l*4,m=this._project(h,f,a[p+2],a[p+3]);m&&this._renderSegment(h,f,m[0],m[1],t)}return n&&n.value()}renderBounds(t){const n=t==null?t=new Ay:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const r=n==null?n=new Ay:void 0,i=this._clip(t);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let o=i.length;for(;i[0]===i[o-2]&&i[1]===i[o-1]&&o>1;)o-=2;for(let s=2;s<o;s+=2)(i[s]!==i[s-2]||i[s+1]!==i[s-1])&&n.lineTo(i[s],i[s+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,r=t.length/2;n<r;++n){const i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(t){const n=new wz;return this.renderCell(t,n),n.value()}_renderSegment(t,n,r,i,o){let s;const a=this._regioncode(t,n),l=this._regioncode(r,i);a===0&&l===0?(o.moveTo(t,n),o.lineTo(r,i)):(s=this._clipSegment(t,n,r,i,a,l))&&(o.moveTo(s[0],s[1]),o.lineTo(s[2],s[3]))}contains(t,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(t,n,r)===t}*neighbors(t){const n=this._clip(t);if(n)for(const r of this.delaunay.neighbors(t)){const i=this._clip(r);if(i){e:for(let o=0,s=n.length;o<s;o+=2)for(let a=0,l=i.length;a<l;a+=2)if(n[o]===i[a]&&n[o+1]===i[a+1]&&n[(o+2)%s]===i[(a+l-2)%l]&&n[(o+3)%s]===i[(a+l-1)%l]){yield r;break e}}}}_cell(t){const{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:o}}=this,s=r[t];if(s===-1)return null;const a=[];let l=s;do{const u=Math.floor(l/3);if(a.push(n[u*2],n[u*2+1]),l=l%3===2?l-2:l+1,o[l]!==t)break;l=i[l]}while(l!==s&&l!==-1);return a}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(n===null)return null;const{vectors:r}=this,i=t*4;return this._simplify(r[i]||r[i+1]?this._clipInfinite(t,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(t,n))}_clipFinite(t,n){const r=n.length;let i=null,o,s,a=n[r-2],l=n[r-1],u,c=this._regioncode(a,l),d,h=0;for(let f=0;f<r;f+=2)if(o=a,s=l,a=n[f],l=n[f+1],u=c,c=this._regioncode(a,l),u===0&&c===0)d=h,h=0,i?i.push(a,l):i=[a,l];else{let p,m,g,y,v;if(u===0){if((p=this._clipSegment(o,s,a,l,u,c))===null)continue;[m,g,y,v]=p}else{if((p=this._clipSegment(a,l,o,s,c,u))===null)continue;[y,v,m,g]=p,d=h,h=this._edgecode(m,g),d&&h&&this._edge(t,d,h,i,i.length),i?i.push(m,g):i=[m,g]}d=h,h=this._edgecode(y,v),d&&h&&this._edge(t,d,h,i,i.length),i?i.push(y,v):i=[y,v]}if(i)d=h,h=this._edgecode(i[0],i[1]),d&&h&&this._edge(t,d,h,i,i.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(t,n,r,i,o,s){const a=o<s;for(a&&([t,n,r,i,o,s]=[r,i,t,n,s,o]);;){if(o===0&&s===0)return a?[r,i,t,n]:[t,n,r,i];if(o&s)return null;let l,u,c=o||s;c&8?(l=t+(r-t)*(this.ymax-n)/(i-n),u=this.ymax):c&4?(l=t+(r-t)*(this.ymin-n)/(i-n),u=this.ymin):c&2?(u=n+(i-n)*(this.xmax-t)/(r-t),l=this.xmax):(u=n+(i-n)*(this.xmin-t)/(r-t),l=this.xmin),o?(t=l,n=u,o=this._regioncode(t,n)):(r=l,i=u,s=this._regioncode(r,i))}}_clipInfinite(t,n,r,i,o,s){let a=Array.from(n),l;if((l=this._project(a[0],a[1],r,i))&&a.unshift(l[0],l[1]),(l=this._project(a[a.length-2],a[a.length-1],o,s))&&a.push(l[0],l[1]),a=this._clipFinite(t,a))for(let u=0,c=a.length,d,h=this._edgecode(a[c-2],a[c-1]);u<c;u+=2)d=h,h=this._edgecode(a[u],a[u+1]),d&&h&&(u=this._edge(t,d,h,a,u),c=a.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(a=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return a}_edge(t,n,r,i,o){for(;n!==r;){let s,a;switch(n){case 5:n=4;continue;case 4:n=6,s=this.xmax,a=this.ymin;break;case 6:n=2;continue;case 2:n=10,s=this.xmax,a=this.ymax;break;case 10:n=8;continue;case 8:n=9,s=this.xmin,a=this.ymax;break;case 9:n=1;continue;case 1:n=5,s=this.xmin,a=this.ymin;break}(i[o]!==s||i[o+1]!==a)&&this.contains(t,s,a)&&(i.splice(o,0,s,a),o+=2)}return o}_project(t,n,r,i){let o=1/0,s,a,l;if(i<0){if(n<=this.ymin)return null;(s=(this.ymin-n)/i)<o&&(l=this.ymin,a=t+(o=s)*r)}else if(i>0){if(n>=this.ymax)return null;(s=(this.ymax-n)/i)<o&&(l=this.ymax,a=t+(o=s)*r)}if(r>0){if(t>=this.xmax)return null;(s=(this.xmax-t)/r)<o&&(a=this.xmax,l=n+(o=s)*i)}else if(r<0){if(t<=this.xmin)return null;(s=(this.xmin-t)/r)<o&&(a=this.xmin,l=n+(o=s)*i)}return[a,l]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let n=0;n<t.length;n+=2){const r=(n+2)%t.length,i=(n+4)%t.length;(t[n]===t[r]&&t[r]===t[i]||t[n+1]===t[r+1]&&t[r+1]===t[i+1])&&(t.splice(r,2),n-=2)}t.length||(t=null)}return t}};const J3t=2*Math.PI,Zb=Math.pow;function Z3t(e){return e[0]}function eIt(e){return e[1]}function tIt(e){const{triangles:t,coords:n}=e;for(let r=0;r<t.length;r+=3){const i=2*t[r],o=2*t[r+1],s=2*t[r+2];if((n[s]-n[i])*(n[o+1]-n[i+1])-(n[o]-n[i])*(n[s+1]-n[i+1])>1e-10)return!1}return!0}function nIt(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class fQ{static from(t,n=Z3t,r=eIt,i){return new fQ("length"in t?rIt(t,n,r,i):Float64Array.from(iIt(t,n,r,i)))}constructor(t){this._delaunator=new yM(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&tIt(t)){this.collinear=Int32Array.from({length:n.length/2},(h,f)=>f).sort((h,f)=>n[2*h]-n[2*f]||n[2*h+1]-n[2*f+1]);const l=this.collinear[0],u=this.collinear[this.collinear.length-1],c=[n[2*l],n[2*l+1],n[2*u],n[2*u+1]],d=1e-8*Math.hypot(c[3]-c[1],c[2]-c[0]);for(let h=0,f=n.length/2;h<f;++h){const p=nIt(n[2*h],n[2*h+1],d);n[2*h]=p[0],n[2*h+1]=p[1]}this._delaunator=new yM(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,s=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let l=0,u=r.length;l<u;++l){const c=o[l%3===2?l-2:l+1];(r[l]===-1||s[c]===-1)&&(s[c]=l)}for(let l=0,u=i.length;l<u;++l)a[i[l]]=l;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],s[i[0]]=1,i.length===2&&(s[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(t){return new Q3t(this,t)}*neighbors(t){const{inedges:n,hull:r,_hullIndex:i,halfedges:o,triangles:s,collinear:a}=this;if(a){const d=a.indexOf(t);d>0&&(yield a[d-1]),d<a.length-1&&(yield a[d+1]);return}const l=n[t];if(l===-1)return;let u=l,c=-1;do{if(yield c=s[u],u=u%3===2?u-2:u+1,s[u]!==t)return;if(u=o[u],u===-1){const d=r[(i[t]+1)%r.length];d!==c&&(yield d);return}}while(u!==l)}find(t,n,r=0){if(t=+t,t!==t||(n=+n,n!==n))return-1;const i=r;let o;for(;(o=this._step(r,t,n))>=0&&o!==r&&o!==i;)r=o;return o}_step(t,n,r){const{inedges:i,hull:o,_hullIndex:s,halfedges:a,triangles:l,points:u}=this;if(i[t]===-1||!u.length)return(t+1)%(u.length>>1);let c=t,d=Zb(n-u[t*2],2)+Zb(r-u[t*2+1],2);const h=i[t];let f=h;do{let p=l[f];const m=Zb(n-u[p*2],2)+Zb(r-u[p*2+1],2);if(m<d&&(d=m,c=p),f=f%3===2?f-2:f+1,l[f]!==t)break;if(f=a[f],f===-1){if(f=o[(s[t]+1)%o.length],f!==p&&Zb(n-u[f*2],2)+Zb(r-u[f*2+1],2)<d)return f;break}}while(f!==h);return c}render(t){const n=t==null?t=new Ay:void 0,{points:r,halfedges:i,triangles:o}=this;for(let s=0,a=i.length;s<a;++s){const l=i[s];if(l<s)continue;const u=o[s]*2,c=o[l]*2;t.moveTo(r[u],r[u+1]),t.lineTo(r[c],r[c+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n){n===void 0&&(!t||typeof t.moveTo!="function")&&(n=t,t=null),n=n==null?2:+n;const r=t==null?t=new Ay:void 0,{points:i}=this;for(let o=0,s=i.length;o<s;o+=2){const a=i[o],l=i[o+1];t.moveTo(a+n,l),t.arc(a,l,n,0,J3t)}return r&&r.value()}renderHull(t){const n=t==null?t=new Ay:void 0,{hull:r,points:i}=this,o=r[0]*2,s=r.length;t.moveTo(i[o],i[o+1]);for(let a=1;a<s;++a){const l=2*r[a];t.lineTo(i[l],i[l+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new wz;return this.renderHull(t),t.value()}renderTriangle(t,n){const r=n==null?n=new Ay:void 0,{points:i,triangles:o}=this,s=o[t*=3]*2,a=o[t+1]*2,l=o[t+2]*2;return n.moveTo(i[s],i[s+1]),n.lineTo(i[a],i[a+1]),n.lineTo(i[l],i[l+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,r=t.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new wz;return this.renderTriangle(t,n),n.value()}}function rIt(e,t,n,r){const i=e.length,o=new Float64Array(i*2);for(let s=0;s<i;++s){const a=e[s];o[s*2]=t.call(r,a,s,e),o[s*2+1]=n.call(r,a,s,e)}return o}function*iIt(e,t,n,r){let i=0;for(const o of e)yield t.call(r,o,i,e),yield n.call(r,o,i,e),++i}function pQ(e){Se.call(this,null,e)}pQ.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const oIt=[-1e5,-1e5,1e5,1e5];dt(pQ,Se,{transform(e,t){const n=e.as||"path",r=t.source;if(!r||!r.length)return t;let i=e.size;i=i?[0,0,i[0],i[1]]:(i=e.extent)?[i[0][0],i[0][1],i[1][0],i[1][1]]:oIt;const o=this.value=fQ.from(r,e.x,e.y).voronoi(i);for(let s=0,a=r.length;s<a;++s){const l=o.cellPolygon(s);r[s][n]=l&&!aIt(l)?sIt(l):null}return t.reflow(e.modified()).modifies(n)}});function sIt(e){const t=e[0][0],n=e[0][1];let r=e.length-1;for(;e[r][0]===t&&e[r][1]===n;--r);return"M"+e.slice(0,r+1).join("L")+"Z"}function aIt(e){return e.length===2&&e[0][0]===e[1][0]&&e[0][1]===e[1][1]}const lIt=Object.freeze(Object.defineProperty({__proto__:null,voronoi:pQ},Symbol.toStringTag,{value:"Module"}));var K6=Math.PI/180,$S=64,hR=2048;function uIt(){var e=[256,256],t,n,r,i,o,s,a,l=ARe,u=[],c=Math.random,d={};d.layout=function(){for(var p=h(hg()),m=mIt((e[0]>>5)*e[1]),g=null,y=u.length,v=-1,b=[],_=u.map(w=>({text:t(w),font:n(w),style:i(w),weight:o(w),rotate:s(w),size:~~(r(w)+1e-14),padding:a(w),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:w})).sort((w,E)=>E.size-w.size);++v<y;){var x=_[v];x.x=e[0]*(c()+.5)>>1,x.y=e[1]*(c()+.5)>>1,cIt(p,x,_,v),x.hasText&&f(m,x,g)&&(b.push(x),g?hIt(g,x):g=[{x:x.x+x.x0,y:x.y+x.y0},{x:x.x+x.x1,y:x.y+x.y1}],x.x-=e[0]>>1,x.y-=e[1]>>1)}return b};function h(p){p.width=p.height=1;var m=Math.sqrt(p.getContext("2d").getImageData(0,0,1,1).data.length>>2);p.width=($S<<5)/m,p.height=hR/m;var g=p.getContext("2d");return g.fillStyle=g.strokeStyle="red",g.textAlign="center",{context:g,ratio:m}}function f(p,m,g){for(var y=m.x,v=m.y,b=Math.hypot(e[0],e[1]),_=l(e),x=c()<.5?1:-1,w=-x,E,S,T;(E=_(w+=x))&&(S=~~E[0],T=~~E[1],!(Math.min(Math.abs(S),Math.abs(T))>=b));)if(m.x=y+S,m.y=v+T,!(m.x+m.x0<0||m.y+m.y0<0||m.x+m.x1>e[0]||m.y+m.y1>e[1])&&(!g||!dIt(m,p,e[0]))&&(!g||fIt(m,g))){for(var C=m.sprite,D=m.width>>5,$=e[0]>>5,I=m.x-(D<<4),R=I&127,A=32-R,M=m.y1-m.y0,N=(m.y+m.y0)*$+(I>>5),L,z=0;z<M;z++){L=0;for(var F=0;F<=D;F++)p[N+F]|=L<<A|(F<D?(L=C[z*D+F])>>>R:0);N+=$}return m.sprite=null,!0}return!1}return d.words=function(p){return arguments.length?(u=p,d):u},d.size=function(p){return arguments.length?(e=[+p[0],+p[1]],d):e},d.font=function(p){return arguments.length?(n=M0(p),d):n},d.fontStyle=function(p){return arguments.length?(i=M0(p),d):i},d.fontWeight=function(p){return arguments.length?(o=M0(p),d):o},d.rotate=function(p){return arguments.length?(s=M0(p),d):s},d.text=function(p){return arguments.length?(t=M0(p),d):t},d.spiral=function(p){return arguments.length?(l=gIt[p]||p,d):l},d.fontSize=function(p){return arguments.length?(r=M0(p),d):r},d.padding=function(p){return arguments.length?(a=M0(p),d):a},d.random=function(p){return arguments.length?(c=p,d):c},d}function cIt(e,t,n,r){if(!t.sprite){var i=e.context,o=e.ratio;i.clearRect(0,0,($S<<5)/o,hR/o);var s=0,a=0,l=0,u=n.length,c,d,h,f,p;for(--r;++r<u;){if(t=n[r],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/o)+"px "+t.font,c=i.measureText(t.text+"m").width*o,h=t.size<<1,t.rotate){var m=Math.sin(t.rotate*K6),g=Math.cos(t.rotate*K6),y=c*g,v=c*m,b=h*g,_=h*m;c=Math.max(Math.abs(y+_),Math.abs(y-_))+31>>5<<5,h=~~Math.max(Math.abs(v+b),Math.abs(v-b))}else c=c+31>>5<<5;if(h>l&&(l=h),s+c>=$S<<5&&(s=0,a+=l,l=0),a+h>=hR)break;i.translate((s+(c>>1))/o,(a+(h>>1))/o),t.rotate&&i.rotate(t.rotate*K6),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=c,t.height=h,t.xoff=s,t.yoff=a,t.x1=c>>1,t.y1=h>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,s+=c}for(var x=i.getImageData(0,0,($S<<5)/o,hR/o).data,w=[];--r>=0;)if(t=n[r],!!t.hasText){for(c=t.width,d=c>>5,h=t.y1-t.y0,f=0;f<h*d;f++)w[f]=0;if(s=t.xoff,s==null)return;a=t.yoff;var E=0,S=-1;for(p=0;p<h;p++){for(f=0;f<c;f++){var T=d*p+(f>>5),C=x[(a+p)*($S<<5)+(s+f)<<2]?1<<31-f%32:0;w[T]|=C,E|=C}E?S=p:(t.y0++,h--,p--,a++)}t.y1=t.y0+S,t.sprite=w.slice(0,(t.y1-t.y0)*d)}}}function dIt(e,t,n){n>>=5;for(var r=e.sprite,i=e.width>>5,o=e.x-(i<<4),s=o&127,a=32-s,l=e.y1-e.y0,u=(e.y+e.y0)*n+(o>>5),c,d=0;d<l;d++){c=0;for(var h=0;h<=i;h++)if((c<<a|(h<i?(c=r[d*i+h])>>>s:0))&t[u+h])return!0;u+=n}return!1}function hIt(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function fIt(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function ARe(e){var t=e[0]/e[1];return function(n){return[t*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function pIt(e){var t=4,n=t*e[0]/e[1],r=0,i=0;return function(o){var s=o<0?-1:1;switch(Math.sqrt(1+4*s*o)-s&3){case 0:r+=n;break;case 1:i+=t;break;case 2:r-=n;break;default:i-=t;break}return[r,i]}}function mIt(e){for(var t=[],n=-1;++n<e;)t[n]=0;return t}function M0(e){return typeof e=="function"?e:function(){return e}}var gIt={archimedean:ARe,rectangular:pIt};const kRe=["x","y","font","fontSize","fontStyle","fontWeight","angle"],yIt=["text","font","rotate","fontSize","fontStyle","fontWeight"];function mQ(e){Se.call(this,uIt(),e)}mQ.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:kRe}]};dt(mQ,Se,{transform(e,t){e.size&&!(e.size[0]&&e.size[1])&&Re("Wordcloud size dimensions must be non-zero.");function n(p){const m=e[p];return vn(m)&&t.modified(m.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||yIt.some(n)))return;const i=t.materialize(t.SOURCE).source,o=this.value,s=e.as||kRe;let a=e.fontSize||14,l;if(vn(a)?l=e.fontSizeRange:a=aa(a),l){const p=a,m=nr("sqrt")().domain(Ah(i,p)).range(l);a=g=>m(p(g))}i.forEach(p=>{p[s[0]]=NaN,p[s[1]]=NaN,p[s[3]]=0});const u=o.words(i).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(a).random(Gu).layout(),c=o.size(),d=c[0]>>1,h=c[1]>>1,f=u.length;for(let p=0,m,g;p<f;++p)m=u[p],g=m.datum,g[s[0]]=m.x+d,g[s[1]]=m.y+h,g[s[2]]=m.font,g[s[3]]=m.size,g[s[4]]=m.style,g[s[5]]=m.weight,g[s[6]]=m.rotate;return t.reflow(r).modifies(s)}});const vIt=Object.freeze(Object.defineProperty({__proto__:null,wordcloud:mQ},Symbol.toStringTag,{value:"Module"})),bIt=e=>new Uint8Array(e),wIt=e=>new Uint16Array(e),ST=e=>new Uint32Array(e);function xIt(){let e=8,t=[],n=ST(0),r=F3(0,e),i=F3(0,e);return{data:()=>t,seen:()=>n=_It(n,t.length),add(o){for(let s=0,a=t.length,l=o.length,u;s<l;++s)u=o[s],u._index=a++,t.push(u)},remove(o,s){const a=t.length,l=Array(a-o),u=t;let c,d,h;for(d=0;!s[d]&&d<a;++d)l[d]=t[d],u[d]=d;for(h=d;d<a;++d)c=t[d],s[d]?u[d]=-1:(u[d]=h,r[h]=r[d],i[h]=i[d],l[h]=c,c._index=h++),r[d]=0;return t=l,u},size:()=>t.length,curr:()=>r,prev:()=>i,reset:o=>i[o]=r[o],all:()=>e<257?255:e<65537?65535:4294967295,set(o,s){r[o]|=s},clear(o,s){r[o]&=~s},resize(o,s){const a=r.length;(o>a||s>e)&&(e=Math.max(s,e),r=F3(o,e,r),i=F3(o,e))}}}function _It(e,t,n){return e.length>=t?e:(n=n||new e.constructor(t),n.set(e),n)}function F3(e,t,n){const r=(t<257?bIt:t<65537?wIt:ST)(e);return n&&r.set(n),r}function kde(e,t,n){const r=1<<t;return{one:r,zero:~r,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd(i,o){const s=this,a=s.bisect(s.range,i.value),l=i.index,u=a[0],c=a[1],d=l.length;let h;for(h=0;h<u;++h)o[l[h]]|=r;for(h=c;h<d;++h)o[l[h]]|=r;return s}}}function Ide(){let e=ST(0),t=[],n=0;function r(a,l,u){if(!l.length)return[];const c=n,d=l.length,h=ST(d);let f=Array(d),p,m,g;for(g=0;g<d;++g)f[g]=a(l[g]),h[g]=g;if(f=EIt(f,h),c)p=t,m=e,t=Array(c+d),e=ST(c+d),SIt(u,p,m,c,f,h,d,t,e);else{if(u>0)for(g=0;g<d;++g)h[g]+=u;t=f,e=h}return n=c+d,{index:h,value:f}}function i(a,l){const u=n;let c,d,h;for(d=0;!l[e[d]]&&d<u;++d);for(h=d;d<u;++d)l[c=e[d]]||(e[h]=c,t[h]=t[d],++h);n=u-a}function o(a){for(let l=0,u=n;l<u;++l)e[l]=a[e[l]]}function s(a,l){let u;return l?u=l.length:(l=t,u=n),[Ryt(l,a[0],0,u),Dg(l,a[1],0,u)]}return{insert:r,remove:i,bisect:s,reindex:o,index:()=>e,size:()=>n}}function EIt(e,t){return e.sort.call(t,(n,r)=>{const i=e[n],o=e[r];return i<o?-1:i>o?1:0}),Pyt(e,t)}function SIt(e,t,n,r,i,o,s,a,l){let u=0,c=0,d;for(d=0;u<r&&c<s;++d)t[u]<i[c]?(a[d]=t[u],l[d]=n[u++]):(a[d]=i[c],l[d]=o[c++]+e);for(;u<r;++u,++d)a[d]=t[u],l[d]=n[u];for(;c<s;++c,++d)a[d]=i[c],l[d]=o[c]+e}function gQ(e){Se.call(this,xIt(),e),this._indices=null,this._dims=null}gQ.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};dt(gQ,Se,{transform(e,t){if(this._dims){var n=e.modified("fields")||e.fields.some(r=>t.modified(r.fields));return n?this.reinit(e,t):this.eval(e,t)}else return this.init(e,t)},init(e,t){const n=e.fields,r=e.query,i=this._indices={},o=this._dims=[],s=r.length;let a=0,l,u;for(;a<s;++a)l=n[a].fname,u=i[l]||(i[l]=Ide()),o.push(kde(u,a,r[a]));return this.eval(e,t)},reinit(e,t){const n=t.materialize().fork(),r=e.fields,i=e.query,o=this._indices,s=this._dims,a=this.value,l=a.curr(),u=a.prev(),c=a.all(),d=n.rem=n.add,h=n.mod,f=i.length,p={};let m,g,y,v,b,_,x,w,E;if(u.set(l),t.rem.length&&(b=this.remove(e,t,n)),t.add.length&&a.add(t.add),t.mod.length)for(_={},v=t.mod,x=0,w=v.length;x<w;++x)_[v[x]._index]=1;for(x=0;x<f;++x)E=r[x],(!s[x]||e.modified("fields",x)||t.modified(E.fields))&&(y=E.fname,(m=p[y])||(o[y]=g=Ide(),p[y]=m=g.insert(E,t.source,0)),s[x]=kde(g,x,i[x]).onAdd(m,l));for(x=0,w=a.data().length;x<w;++x)b[x]||(u[x]!==l[x]?d.push(x):_[x]&&l[x]!==c&&h.push(x));return a.mask=(1<<f)-1,n},eval(e,t){const n=t.materialize().fork(),r=this._dims.length;let i=0;return t.rem.length&&(this.remove(e,t,n),i|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(i|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),i|=(1<<r)-1),t.mod.length&&(this.modify(t,n),i|=(1<<r)-1),this.value.mask=i,n},insert(e,t,n){const r=t.add,i=this.value,o=this._dims,s=this._indices,a=e.fields,l={},u=n.add,c=i.size()+r.length,d=o.length;let h=i.size(),f,p,m;i.resize(c,d),i.add(r);const g=i.curr(),y=i.prev(),v=i.all();for(f=0;f<d;++f)p=a[f].fname,m=l[p]||(l[p]=s[p].insert(a[f],r,h)),o[f].onAdd(m,g);for(;h<c;++h)y[h]=v,g[h]!==v&&u.push(h)},modify(e,t){const n=t.mod,r=this.value,i=r.curr(),o=r.all(),s=e.mod;let a,l,u;for(a=0,l=s.length;a<l;++a)u=s[a]._index,i[u]!==o&&n.push(u)},remove(e,t,n){const r=this._indices,i=this.value,o=i.curr(),s=i.prev(),a=i.all(),l={},u=n.rem,c=t.rem;let d,h,f,p;for(d=0,h=c.length;d<h;++d)f=c[d]._index,l[f]=1,s[f]=p=o[f],o[f]=a,p!==a&&u.push(f);for(f in r)r[f].remove(h,l);return this.reindex(t,h,l),l},reindex(e,t,n){const r=this._indices,i=this.value;e.runAfter(()=>{const o=i.remove(t,n);for(const s in r)r[s].reindex(o)})},update(e,t,n){const r=this._dims,i=e.query,o=t.stamp,s=r.length;let a=0,l,u;for(n.filters=0,u=0;u<s;++u)e.modified("query",u)&&(l=u,++a);if(a===1)a=r[l].one,this.incrementOne(r[l],i[l],n.add,n.rem);else for(u=0,a=0;u<s;++u)e.modified("query",u)&&(a|=r[u].one,this.incrementAll(r[u],i[u],o,n.add),n.rem=n.add);return a},incrementAll(e,t,n,r){const i=this.value,o=i.seen(),s=i.curr(),a=i.prev(),l=e.index(),u=e.bisect(e.range),c=e.bisect(t),d=c[0],h=c[1],f=u[0],p=u[1],m=e.one;let g,y,v;if(d<f)for(g=d,y=Math.min(f,h);g<y;++g)v=l[g],o[v]!==n&&(a[v]=s[v],o[v]=n,r.push(v)),s[v]^=m;else if(d>f)for(g=f,y=Math.min(d,p);g<y;++g)v=l[g],o[v]!==n&&(a[v]=s[v],o[v]=n,r.push(v)),s[v]^=m;if(h>p)for(g=Math.max(d,p),y=h;g<y;++g)v=l[g],o[v]!==n&&(a[v]=s[v],o[v]=n,r.push(v)),s[v]^=m;else if(h<p)for(g=Math.max(f,h),y=p;g<y;++g)v=l[g],o[v]!==n&&(a[v]=s[v],o[v]=n,r.push(v)),s[v]^=m;e.range=t.slice()},incrementOne(e,t,n,r){const i=this.value,o=i.curr(),s=e.index(),a=e.bisect(e.range),l=e.bisect(t),u=l[0],c=l[1],d=a[0],h=a[1],f=e.one;let p,m,g;if(u<d)for(p=u,m=Math.min(d,c);p<m;++p)g=s[p],o[g]^=f,n.push(g);else if(u>d)for(p=d,m=Math.min(u,h);p<m;++p)g=s[p],o[g]^=f,r.push(g);if(c>h)for(p=Math.max(u,h),m=c;p<m;++p)g=s[p],o[g]^=f,n.push(g);else if(c<h)for(p=Math.max(d,c),m=h;p<m;++p)g=s[p],o[g]^=f,r.push(g);e.range=t.slice()}});function yQ(e){Se.call(this,null,e)}yQ.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};dt(yQ,Se,{transform(e,t){const n=~(e.ignore||0),r=e.filter,i=r.mask;if(!(i&n))return t.StopPropagation;const o=t.fork(t.ALL),s=r.data(),a=r.curr(),l=r.prev(),u=c=>a[c]&n?null:s[c];return o.filter(o.MOD,u),i&i-1?(o.filter(o.ADD,c=>{const d=a[c]&n;return!d&&d^l[c]&n?s[c]:null}),o.filter(o.REM,c=>{const d=a[c]&n;return d&&!(d^(d^l[c]&n))?s[c]:null})):(o.filter(o.ADD,u),o.filter(o.REM,c=>(a[c]&n)===i?s[c]:null)),o.filter(o.SOURCE,c=>u(c._index))}});const TIt=Object.freeze(Object.defineProperty({__proto__:null,crossfilter:gQ,resolvefilter:yQ},Symbol.toStringTag,{value:"Module"})),CIt="RawCode",bv="Literal",AIt="Property",kIt="Identifier",IIt="ArrayExpression",RIt="BinaryExpression",IRe="CallExpression",$It="ConditionalExpression",DIt="LogicalExpression",MIt="MemberExpression",PIt="ObjectExpression",NIt="UnaryExpression";function pd(e){this.type=e}pd.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=OIt(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};function OIt(e){switch(e.type){case IIt:return e.elements;case RIt:case DIt:return[e.left,e.right];case IRe:return[e.callee].concat(e.arguments);case $It:return[e.test,e.consequent,e.alternate];case MIt:return[e.object,e.property];case PIt:return e.properties;case AIt:return[e.key,e.value];case NIt:return[e.argument];case kIt:case bv:case CIt:default:return[]}}var Kh,Pt,ke,Zs,hr,WO=1,L2=2,wv=3,p0=4,qO=5,mb=6,Za=7,F2=8,LIt=9;Kh={};Kh[WO]="Boolean";Kh[L2]="<end>";Kh[wv]="Identifier";Kh[p0]="Keyword";Kh[qO]="Null";Kh[mb]="Numeric";Kh[Za]="Punctuator";Kh[F2]="String";Kh[LIt]="RegularExpression";var FIt="ArrayExpression",BIt="BinaryExpression",jIt="CallExpression",zIt="ConditionalExpression",RRe="Identifier",UIt="Literal",HIt="LogicalExpression",VIt="MemberExpression",WIt="ObjectExpression",qIt="Property",GIt="UnaryExpression",Ao="Unexpected token %0",YIt="Unexpected number",KIt="Unexpected string",XIt="Unexpected identifier",QIt="Unexpected reserved word",JIt="Unexpected end of input",xz="Invalid regular expression",X6="Invalid regular expression: missing /",$Re="Octal literals are not allowed in strict mode.",ZIt="Duplicate data property in object literal not allowed in strict mode",ls="ILLEGAL",JC="Disabled.",eRt=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),tRt=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function GO(e,t){if(!e)throw new Error("ASSERT: "+t)}function Cf(e){return e>=48&&e<=57}function vQ(e){return"0123456789abcdefABCDEF".includes(e)}function TT(e){return"01234567".includes(e)}function nRt(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(e)}function ZC(e){return e===10||e===13||e===8232||e===8233}function B2(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&eRt.test(String.fromCharCode(e))}function vM(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&tRt.test(String.fromCharCode(e))}const rRt={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function DRe(){for(;ke<Zs;){const e=Pt.charCodeAt(ke);if(nRt(e)||ZC(e))++ke;else break}}function _z(e){var t,n,r,i=0;for(n=e==="u"?4:2,t=0;t<n;++t)ke<Zs&&vQ(Pt[ke])?(r=Pt[ke++],i=i*16+"0123456789abcdef".indexOf(r.toLowerCase())):Jn({},Ao,ls);return String.fromCharCode(i)}function iRt(){var e,t,n,r;for(e=Pt[ke],t=0,e==="}"&&Jn({},Ao,ls);ke<Zs&&(e=Pt[ke++],!!vQ(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&Jn({},Ao,ls),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function MRe(){var e,t;for(e=Pt.charCodeAt(ke++),t=String.fromCharCode(e),e===92&&(Pt.charCodeAt(ke)!==117&&Jn({},Ao,ls),++ke,e=_z("u"),(!e||e==="\\"||!B2(e.charCodeAt(0)))&&Jn({},Ao,ls),t=e);ke<Zs&&(e=Pt.charCodeAt(ke),!!vM(e));)++ke,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),Pt.charCodeAt(ke)!==117&&Jn({},Ao,ls),++ke,e=_z("u"),(!e||e==="\\"||!vM(e.charCodeAt(0)))&&Jn({},Ao,ls),t+=e);return t}function oRt(){var e,t;for(e=ke++;ke<Zs;){if(t=Pt.charCodeAt(ke),t===92)return ke=e,MRe();if(vM(t))++ke;else break}return Pt.slice(e,ke)}function sRt(){var e,t,n;return e=ke,t=Pt.charCodeAt(ke)===92?MRe():oRt(),t.length===1?n=wv:rRt.hasOwnProperty(t)?n=p0:t==="null"?n=qO:t==="true"||t==="false"?n=WO:n=wv,{type:n,value:t,start:e,end:ke}}function Q6(){var e=ke,t=Pt.charCodeAt(ke),n,r=Pt[ke],i,o,s;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++ke,{type:Za,value:String.fromCharCode(t),start:e,end:ke};default:if(n=Pt.charCodeAt(ke+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return ke+=2,{type:Za,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:ke};case 33:case 61:return ke+=2,Pt.charCodeAt(ke)===61&&++ke,{type:Za,value:Pt.slice(e,ke),start:e,end:ke}}}if(s=Pt.substr(ke,4),s===">>>=")return ke+=4,{type:Za,value:s,start:e,end:ke};if(o=s.substr(0,3),o===">>>"||o==="<<="||o===">>=")return ke+=3,{type:Za,value:o,start:e,end:ke};if(i=o.substr(0,2),r===i[1]&&"+-<>&|".includes(r)||i==="=>")return ke+=2,{type:Za,value:i,start:e,end:ke};if(i==="//"&&Jn({},Ao,ls),"<>=!+-*%&|^/".includes(r))return++ke,{type:Za,value:r,start:e,end:ke};Jn({},Ao,ls)}function aRt(e){let t="";for(;ke<Zs&&vQ(Pt[ke]);)t+=Pt[ke++];return t.length===0&&Jn({},Ao,ls),B2(Pt.charCodeAt(ke))&&Jn({},Ao,ls),{type:mb,value:parseInt("0x"+t,16),start:e,end:ke}}function lRt(e){let t="0"+Pt[ke++];for(;ke<Zs&&TT(Pt[ke]);)t+=Pt[ke++];return(B2(Pt.charCodeAt(ke))||Cf(Pt.charCodeAt(ke)))&&Jn({},Ao,ls),{type:mb,value:parseInt(t,8),octal:!0,start:e,end:ke}}function Rde(){var e,t,n;if(n=Pt[ke],GO(Cf(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=ke,e="",n!=="."){if(e=Pt[ke++],n=Pt[ke],e==="0"){if(n==="x"||n==="X")return++ke,aRt(t);if(TT(n))return lRt(t);n&&Cf(n.charCodeAt(0))&&Jn({},Ao,ls)}for(;Cf(Pt.charCodeAt(ke));)e+=Pt[ke++];n=Pt[ke]}if(n==="."){for(e+=Pt[ke++];Cf(Pt.charCodeAt(ke));)e+=Pt[ke++];n=Pt[ke]}if(n==="e"||n==="E")if(e+=Pt[ke++],n=Pt[ke],(n==="+"||n==="-")&&(e+=Pt[ke++]),Cf(Pt.charCodeAt(ke)))for(;Cf(Pt.charCodeAt(ke));)e+=Pt[ke++];else Jn({},Ao,ls);return B2(Pt.charCodeAt(ke))&&Jn({},Ao,ls),{type:mb,value:parseFloat(e),start:t,end:ke}}function uRt(){var e="",t,n,r,i,o=!1;for(t=Pt[ke],GO(t==="'"||t==='"',"String literal must starts with a quote"),n=ke,++ke;ke<Zs;)if(r=Pt[ke++],r===t){t="";break}else if(r==="\\")if(r=Pt[ke++],!r||!ZC(r.charCodeAt(0)))switch(r){case"u":case"x":Pt[ke]==="{"?(++ke,e+=iRt()):e+=_z(r);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:TT(r)?(i="01234567".indexOf(r),i!==0&&(o=!0),ke<Zs&&TT(Pt[ke])&&(o=!0,i=i*8+"01234567".indexOf(Pt[ke++]),"0123".includes(r)&&ke<Zs&&TT(Pt[ke])&&(i=i*8+"01234567".indexOf(Pt[ke++]))),e+=String.fromCharCode(i)):e+=r;break}else r==="\r"&&Pt[ke]===`
`&&++ke;else{if(ZC(r.charCodeAt(0)))break;e+=r}return t!==""&&Jn({},Ao,ls),{type:F2,value:e,octal:o,start:n,end:ke}}function cRt(e,t){let n=e;t.includes("u")&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,i)=>{if(parseInt(i,16)<=1114111)return"x";Jn({},xz)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{Jn({},xz)}try{return new RegExp(e,t)}catch{return null}}function dRt(){var e,t,n,r,i;for(e=Pt[ke],GO(e==="/","Regular expression literal must start with a slash"),t=Pt[ke++],n=!1,r=!1;ke<Zs;)if(e=Pt[ke++],t+=e,e==="\\")e=Pt[ke++],ZC(e.charCodeAt(0))&&Jn({},X6),t+=e;else if(ZC(e.charCodeAt(0)))Jn({},X6);else if(n)e==="]"&&(n=!1);else if(e==="/"){r=!0;break}else e==="["&&(n=!0);return r||Jn({},X6),i=t.substr(1,t.length-2),{value:i,literal:t}}function hRt(){var e,t,n;for(t="",n="";ke<Zs&&(e=Pt[ke],!!vM(e.charCodeAt(0)));)++ke,e==="\\"&&ke<Zs?Jn({},Ao,ls):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&Jn({},xz,n),{value:n,literal:t}}function fRt(){var e,t,n,r;return hr=null,DRe(),e=ke,t=dRt(),n=hRt(),r=cRt(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:ke}}function pRt(e){return e.type===wv||e.type===p0||e.type===WO||e.type===qO}function PRe(){if(DRe(),ke>=Zs)return{type:L2,start:ke,end:ke};const e=Pt.charCodeAt(ke);return B2(e)?sRt():e===40||e===41||e===59?Q6():e===39||e===34?uRt():e===46?Cf(Pt.charCodeAt(ke+1))?Rde():Q6():Cf(e)?Rde():Q6()}function il(){const e=hr;return ke=e.end,hr=PRe(),ke=e.end,e}function NRe(){const e=ke;hr=PRe(),ke=e}function mRt(e){const t=new pd(FIt);return t.elements=e,t}function $de(e,t,n){const r=new pd(e==="||"||e==="&&"?HIt:BIt);return r.operator=e,r.left=t,r.right=n,r}function gRt(e,t){const n=new pd(jIt);return n.callee=e,n.arguments=t,n}function yRt(e,t,n){const r=new pd(zIt);return r.test=e,r.consequent=t,r.alternate=n,r}function bQ(e){const t=new pd(RRe);return t.name=e,t}function DS(e){const t=new pd(UIt);return t.value=e.value,t.raw=Pt.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function Dde(e,t,n){const r=new pd(VIt);return r.computed=e==="[",r.object=t,r.property=n,r.computed||(n.member=!0),r}function vRt(e){const t=new pd(WIt);return t.properties=e,t}function Mde(e,t,n){const r=new pd(qIt);return r.key=t,r.value=n,r.kind=e,r}function bRt(e,t){const n=new pd(GIt);return n.operator=e,n.argument=t,n.prefix=!0,n}function Jn(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(o,s)=>(GO(s<r.length,"Message reference must be in range"),r[s]));throw n=new Error(i),n.index=ke,n.description=i,n}function YO(e){e.type===L2&&Jn(e,JIt),e.type===mb&&Jn(e,YIt),e.type===F2&&Jn(e,KIt),e.type===wv&&Jn(e,XIt),e.type===p0&&Jn(e,QIt),Jn(e,Ao,e.value)}function ea(e){const t=il();(t.type!==Za||t.value!==e)&&YO(t)}function Vr(e){return hr.type===Za&&hr.value===e}function J6(e){return hr.type===p0&&hr.value===e}function wRt(){const e=[];for(ke=hr.start,ea("[");!Vr("]");)Vr(",")?(il(),e.push(null)):(e.push(xv()),Vr("]")||ea(","));return il(),mRt(e)}function Pde(){ke=hr.start;const e=il();return e.type===F2||e.type===mb?(e.octal&&Jn(e,$Re),DS(e)):bQ(e.value)}function xRt(){var e,t,n,r;if(ke=hr.start,e=hr,e.type===wv)return n=Pde(),ea(":"),r=xv(),Mde("init",n,r);if(e.type===L2||e.type===Za)YO(e);else return t=Pde(),ea(":"),r=xv(),Mde("init",t,r)}function _Rt(){var e=[],t,n,r,i={},o=String;for(ke=hr.start,ea("{");!Vr("}");)t=xRt(),t.key.type===RRe?n=t.key.name:n=o(t.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(i,r)?Jn({},ZIt):i[r]=!0,e.push(t),Vr("}")||ea(",");return ea("}"),vRt(e)}function ERt(){ea("(");const e=wQ();return ea(")"),e}const SRt={if:1};function TRt(){var e,t,n;if(Vr("("))return ERt();if(Vr("["))return wRt();if(Vr("{"))return _Rt();if(e=hr.type,ke=hr.start,e===wv||SRt[hr.value])n=bQ(il().value);else if(e===F2||e===mb)hr.octal&&Jn(hr,$Re),n=DS(il());else{if(e===p0)throw new Error(JC);e===WO?(t=il(),t.value=t.value==="true",n=DS(t)):e===qO?(t=il(),t.value=null,n=DS(t)):Vr("/")||Vr("/=")?(n=DS(fRt()),NRe()):YO(il())}return n}function CRt(){const e=[];if(ea("("),!Vr(")"))for(;ke<Zs&&(e.push(xv()),!Vr(")"));)ea(",");return ea(")"),e}function ARt(){ke=hr.start;const e=il();return pRt(e)||YO(e),bQ(e.value)}function kRt(){return ea("."),ARt()}function IRt(){ea("[");const e=wQ();return ea("]"),e}function RRt(){var e,t,n;for(e=TRt();;)if(Vr("."))n=kRt(),e=Dde(".",e,n);else if(Vr("("))t=CRt(),e=gRt(e,t);else if(Vr("["))n=IRt(),e=Dde("[",e,n);else break;return e}function Nde(){const e=RRt();if(hr.type===Za&&(Vr("++")||Vr("--")))throw new Error(JC);return e}function fR(){var e,t;if(hr.type!==Za&&hr.type!==p0)t=Nde();else{if(Vr("++")||Vr("--"))throw new Error(JC);if(Vr("+")||Vr("-")||Vr("~")||Vr("!"))e=il(),t=fR(),t=bRt(e.value,t);else{if(J6("delete")||J6("void")||J6("typeof"))throw new Error(JC);t=Nde()}}return t}function Ode(e){let t=0;if(e.type!==Za&&e.type!==p0)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function $Rt(){var e,t,n,r,i,o,s,a,l,u;if(e=hr,l=fR(),r=hr,i=Ode(r),i===0)return l;for(r.prec=i,il(),t=[e,hr],s=fR(),o=[l,r,s];(i=Ode(hr))>0;){for(;o.length>2&&i<=o[o.length-2].prec;)s=o.pop(),a=o.pop().value,l=o.pop(),t.pop(),n=$de(a,l,s),o.push(n);r=il(),r.prec=i,o.push(r),t.push(hr),n=fR(),o.push(n)}for(u=o.length-1,n=o[u],t.pop();u>1;)t.pop(),n=$de(o[u-1].value,o[u-2],n),u-=2;return n}function xv(){var e,t,n;return e=$Rt(),Vr("?")&&(il(),t=xv(),ea(":"),n=xv(),e=yRt(e,t,n)),e}function wQ(){const e=xv();if(Vr(","))throw new Error(JC);return e}function ORe(e){Pt=e,ke=0,Zs=Pt.length,hr=null,NRe();const t=wQ();if(hr.type!==L2)throw new Error("Unexpect token after expression.");return t}var LRe={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function FRe(e){function t(s,a,l,u){let c=e(a[0]);return l&&(c=l+"("+c+")",l.lastIndexOf("new ",0)===0&&(c="("+c+")")),c+"."+s+(u<0?"":u===0?"()":"("+a.slice(1).map(e).join(",")+")")}function n(s,a,l){return u=>t(s,u,a,l)}const r="new Date",i="String",o="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(s){s.length<3&&Re("Missing arguments to clamp function."),s.length>3&&Re("Too many arguments to clamp function.");const a=s.map(e);return"Math.max("+a[1]+", Math.min("+a[2]+","+a[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:r,date:n("getDate",r,0),day:n("getDay",r,0),year:n("getFullYear",r,0),month:n("getMonth",r,0),hours:n("getHours",r,0),minutes:n("getMinutes",r,0),seconds:n("getSeconds",r,0),milliseconds:n("getMilliseconds",r,0),time:n("getTime",r,0),timezoneoffset:n("getTimezoneOffset",r,0),utcdate:n("getUTCDate",r,0),utcday:n("getUTCDay",r,0),utcyear:n("getUTCFullYear",r,0),utcmonth:n("getUTCMonth",r,0),utchours:n("getUTCHours",r,0),utcminutes:n("getUTCMinutes",r,0),utcseconds:n("getUTCSeconds",r,0),utcmilliseconds:n("getUTCMilliseconds",r,0),length:n("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",i,0),lower:n("toLowerCase",i,0),substring:n("substring",i),split:n("split",i),trim:n("trim",i,0),btoa:"btoa",atob:"atob",regexp:o,test:n("test",o),if:function(s){s.length<3&&Re("Missing arguments to if function."),s.length>3&&Re("Too many arguments to if function.");const a=s.map(e);return"("+a[0]+"?"+a[1]+":"+a[2]+")"}}}function DRt(e){const t=e&&e.length-1;return t&&(e[0]==='"'&&e[t]==='"'||e[0]==="'"&&e[t]==="'")?e.slice(1,-1):e}function BRe(e){e=e||{};const t=e.allowed?id(e.allowed):{},n=e.forbidden?id(e.forbidden):{},r=e.constants||LRe,i=(e.functions||FRe)(d),o=e.globalvar,s=e.fieldvar,a=vn(o)?o:p=>`${o}["${p}"]`;let l={},u={},c=0;function d(p){if(xt(p))return p;const m=h[p.type];return m==null&&Re("Unsupported type: "+p.type),m(p)}const h={Literal:p=>p.raw,Identifier:p=>{const m=p.name;return c>0?m:Tt(n,m)?Re("Illegal identifier: "+m):Tt(r,m)?r[m]:Tt(t,m)?m:(l[m]=1,a(m))},MemberExpression:p=>{const m=!p.computed,g=d(p.object);m&&(c+=1);const y=d(p.property);return g===s&&(u[DRt(y)]=1),m&&(c-=1),g+(m?"."+y:"["+y+"]")},CallExpression:p=>{p.callee.type!=="Identifier"&&Re("Illegal callee type: "+p.callee.type);const m=p.callee.name,g=p.arguments,y=Tt(i,m)&&i[m];return y||Re("Unrecognized function: "+m),vn(y)?y(g):y+"("+g.map(d).join(",")+")"},ArrayExpression:p=>"["+p.elements.map(d).join(",")+"]",BinaryExpression:p=>"("+d(p.left)+" "+p.operator+" "+d(p.right)+")",UnaryExpression:p=>"("+p.operator+d(p.argument)+")",ConditionalExpression:p=>"("+d(p.test)+"?"+d(p.consequent)+":"+d(p.alternate)+")",LogicalExpression:p=>"("+d(p.left)+p.operator+d(p.right)+")",ObjectExpression:p=>"{"+p.properties.map(d).join(",")+"}",Property:p=>{c+=1;const m=d(p.key);return c-=1,m+":"+d(p.value)}};function f(p){const m={code:d(p),globals:Object.keys(l),fields:Object.keys(u)};return l={},u={},m}return f.functions=i,f.constants=r,f}const Lde=Symbol("vega_selection_getter");function jRe(e){return(!e.getter||!e.getter[Lde])&&(e.getter=Vu(e.field),e.getter[Lde]=!0),e.getter}const xQ="intersect",Fde="union",MRt="vlMulti",PRt="vlPoint",Bde="or",NRt="and",Ud="_vgsid_",eA=Vu(Ud),ORt="E",LRt="R",FRt="R-E",BRt="R-LE",jRt="R-RE",zRt="E-LT",URt="E-LTE",HRt="E-GT",VRt="E-GTE",WRt="E-VALID",qRt="E-ONE",bM="index:unit";function jde(e,t){for(var n=t.fields,r=t.values,i=n.length,o=0,s,a;o<i;++o)if(a=n[o],s=jRe(a)(e),ug(s)&&(s=Ks(s)),ug(r[o])&&(r[o]=Ks(r[o])),Pe(r[o])&&ug(r[o][0])&&(r[o]=r[o].map(Ks)),a.type===ORt){if(Pe(r[o])?!r[o].includes(s):s!==r[o])return!1}else if(a.type===LRt){if(!N1(s,r[o]))return!1}else if(a.type===jRt){if(!N1(s,r[o],!0,!1))return!1}else if(a.type===FRt){if(!N1(s,r[o],!1,!1))return!1}else if(a.type===BRt){if(!N1(s,r[o],!1,!0))return!1}else if(a.type===zRt){if(s>=r[o])return!1}else if(a.type===URt){if(s>r[o])return!1}else if(a.type===HRt){if(s<=r[o])return!1}else if(a.type===VRt){if(s<r[o])return!1}else if(a.type===WRt){if(s===null||isNaN(s))return!1}else if(a.type===qRt&&r[o].indexOf(s)===-1)return!1;return!0}function GRt(e,t,n){for(var r=this.context.data[e],i=r?r.values.value:[],o=r?r[bM]&&r[bM].value:void 0,s=n===xQ,a=i.length,l=0,u,c,d,h,f;l<a;++l)if(u=i[l],o&&s){if(c=c||{},d=c[h=u.unit]||0,d===-1)continue;if(f=jde(t,u),c[h]=f?-1:++d,f&&o.size===1)return!0;if(!f&&d===o.get(h).count)return!1}else if(f=jde(t,u),s^f)return f;return a&&s}const zRe=T_(eA),YRt=zRe.left,KRt=zRe.right;function XRt(e,t,n){const r=this.context.data[e],i=r?r.values.value:[],o=r?r[bM]&&r[bM].value:void 0,s=n===xQ,a=eA(t),l=YRt(i,a);if(l===i.length||eA(i[l])!==a)return!1;if(o&&s){if(o.size===1)return!0;if(KRt(i,a)-l<o.size)return!1}return!0}function QRt(e,t){return e.map(n=>yn(t.fields?{values:t.fields.map(r=>jRe(r)(n.datum))}:{[Ud]:eA(n.datum)},t))}function JRt(e,t,n,r){for(var i=this.context.data[e],o=i?i.values.value:[],s={},a={},l={},u,c,d,h,f,p,m,g,y,v,b=o.length,_=0,x,w;_<b;++_)if(u=o[_],h=u.unit,c=u.fields,d=u.values,c&&d){for(x=0,w=c.length;x<w;++x)f=c[x],m=s[f.field]||(s[f.field]={}),g=m[h]||(m[h]=[]),l[f.field]=y=f.type.charAt(0),v=Z6[`${y}_union`],m[h]=v(g,_t(d[x]));n&&(g=a[h]||(a[h]=[]),g.push(_t(d).reduce((E,S,T)=>(E[c[T].field]=S,E),{})))}else f=Ud,p=eA(u),m=s[f]||(s[f]={}),g=m[h]||(m[h]=[]),g.push(p),n&&(g=a[h]||(a[h]=[]),g.push({[Ud]:p}));if(t=t||Fde,s[Ud]?s[Ud]=Z6[`${Ud}_${t}`](...Object.values(s[Ud])):Object.keys(s).forEach(E=>{s[E]=Object.keys(s[E]).map(S=>s[E][S]).reduce((S,T)=>S===void 0?T:Z6[`${l[E]}_${t}`](S,T))}),o=Object.keys(a),n&&o.length){const E=r?PRt:MRt;s[E]=t===Fde?{[Bde]:o.reduce((S,T)=>(S.push(...a[T]),S),[])}:{[NRt]:o.map(S=>({[Bde]:a[S]}))}}return s}var Z6={[`${Ud}_union`]:Hyt,[`${Ud}_intersect`]:zyt,E_union:function(e,t){if(!e.length)return t;for(var n=0,r=t.length;n<r;++n)e.includes(t[n])||e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter(n=>t.includes(n)):t},R_union:function(e,t){var n=Ks(t[0]),r=Ks(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<r&&(e[1]=r),e):[n,r]},R_intersect:function(e,t){var n=Ks(t[0]),r=Ks(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?r<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>r&&(e[1]=r),e):[n,r]}};const ZRt=":",e$t="@";function _Q(e,t,n,r){t[0].type!==bv&&Re("First argument to selection functions must be a string literal.");const i=t[0].value,o=t.length>=2&&zn(t).value,s="unit",a=e$t+s,l=ZRt+i;o===xQ&&!Tt(r,a)&&(r[a]=n.getData(i).indataRef(n,s)),Tt(r,l)||(r[l]=n.getData(i).tuplesRef())}function URe(e){const t=this.context.data[e];return t?t.values.value:[]}function t$t(e,t,n){const r=this.context.data[e]["index:"+t],i=r?r.value.get(n):void 0;return i&&i.count}function n$t(e,t){const n=this.context.dataflow,r=this.context.data[e],i=r.input;return n.pulse(i,n.changeset().remove(Wu).insert(t)),1}function r$t(e,t,n){if(e){const r=this.context.dataflow,i=e.mark.source;r.pulse(i,r.changeset().encode(e,t))}return n!==void 0?n:e}const j2=e=>function(t,n){const r=this.context.dataflow.locale();return t===null?"null":r[e](n)(t)},i$t=j2("format"),HRe=j2("timeFormat"),o$t=j2("utcFormat"),s$t=j2("timeParse"),a$t=j2("utcParse"),B3=new Date(2e3,0,1);function KO(e,t,n){return!Number.isInteger(e)||!Number.isInteger(t)?"":(B3.setYear(2e3),B3.setMonth(e),B3.setDate(t),HRe.call(this,B3,n))}function l$t(e){return KO.call(this,e,1,"%B")}function u$t(e){return KO.call(this,e,1,"%b")}function c$t(e){return KO.call(this,0,2+e,"%A")}function d$t(e){return KO.call(this,0,2+e,"%a")}const h$t=":",f$t="@",Ez="%",VRe="$";function EQ(e,t,n,r){t[0].type!==bv&&Re("First argument to data functions must be a string literal.");const i=t[0].value,o=h$t+i;if(!Tt(o,r))try{r[o]=n.getData(i).tuplesRef()}catch{}}function p$t(e,t,n,r){t[0].type!==bv&&Re("First argument to indata must be a string literal."),t[1].type!==bv&&Re("Second argument to indata must be a string literal.");const i=t[0].value,o=t[1].value,s=f$t+o;Tt(s,r)||(r[s]=n.getData(i).indataRef(n,o))}function Da(e,t,n,r){if(t[0].type===bv)zde(n,r,t[0].value);else for(e in n.scales)zde(n,r,e)}function zde(e,t,n){const r=Ez+n;if(!Tt(t,r))try{t[r]=e.scaleRef(n)}catch{}}function Xh(e,t){if(xt(e)){const n=t.scales[e];return n&&Uue(n.value)?n.value:void 0}else if(vn(e))return Uue(e)?e:void 0}function m$t(e,t,n){t.__bandwidth=i=>i&&i.bandwidth?i.bandwidth():0,n._bandwidth=Da,n._range=Da,n._scale=Da;const r=i=>"_["+(i.type===bv?ot(Ez+i.value):ot(Ez)+"+"+e(i))+"]";return{_bandwidth:i=>`this.__bandwidth(${r(i[0])})`,_range:i=>`${r(i[0])}.range()`,_scale:i=>`${r(i[0])}(${e(i[1])})`}}function SQ(e,t){return function(n,r,i){if(n){const o=Xh(n,(i||this).context);return o&&o.path[e](r)}else return t(r)}}const g$t=SQ("area",PCt),y$t=SQ("bounds",FCt),v$t=SQ("centroid",VCt);function b$t(e,t){const n=Xh(e,(t||this).context);return n&&n.scale()}function w$t(e){const t=this.context.group;let n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n}function TQ(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(r){e.warn(r)}return n[n.length-1]}function x$t(){return TQ(this.context.dataflow,"warn",arguments)}function _$t(){return TQ(this.context.dataflow,"info",arguments)}function E$t(){return TQ(this.context.dataflow,"debug",arguments)}function eB(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Sz(e){const t=Og(e),n=eB(t.r),r=eB(t.g),i=eB(t.b);return .2126*n+.7152*r+.0722*i}function S$t(e,t){const n=Sz(e),r=Sz(t),i=Math.max(n,r),o=Math.min(n,r);return(i+.05)/(o+.05)}function T$t(){const e=[].slice.call(arguments);return e.unshift({}),yn(...e)}function WRe(e,t){return e===t||e!==e&&t!==t?!0:Pe(e)?Pe(t)&&e.length===t.length?C$t(e,t):!1:wt(e)&&wt(t)?qRe(e,t):!1}function C$t(e,t){for(let n=0,r=e.length;n<r;++n)if(!WRe(e[n],t[n]))return!1;return!0}function qRe(e,t){for(const n in e)if(!WRe(e[n],t[n]))return!1;return!0}function Ude(e){return t=>qRe(e,t)}function A$t(e,t,n,r,i,o){const s=this.context.dataflow,a=this.context.data[e],l=a.input,u=s.stamp();let c=a.changes,d,h;if(s._trigger===!1||!(l.value.length||t||r))return 0;if((!c||c.stamp<u)&&(a.changes=c=s.changeset(),c.stamp=u,s.runAfter(()=>{a.modified=!0,s.pulse(l,c).run()},!0,1)),n&&(d=n===!0?Wu:Pe(n)||nO(n)?n:Ude(n),c.remove(d)),t&&c.insert(t),r&&(d=Ude(r),l.value.some(d)?c.remove(d):c.insert(r)),i)for(h in o)c.modify(i,h,o[h]);return 1}function k$t(e){const t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.hypot(n,r)}function I$t(e){const t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)}const Hde={};function R$t(e,t){const n=Hde[t]||(Hde[t]=Vu(t));return Pe(e)?e.map(n):n(e)}function XO(e){return Pe(e)||ArrayBuffer.isView(e)?e:null}function CQ(e){return XO(e)||(xt(e)?e:null)}function $$t(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return XO(e).join(...n)}function D$t(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return CQ(e).indexOf(...n)}function M$t(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return CQ(e).lastIndexOf(...n)}function P$t(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return CQ(e).slice(...n)}function N$t(e,t,n){return vn(n)&&Re("Function argument passed to replace."),!xt(t)&&!cY(t)&&Re("Please pass a string or RegExp argument to replace."),String(e).replace(t,n)}function O$t(e){return XO(e).slice().reverse()}function L$t(e){return XO(e).slice().sort(E_)}function F$t(e,t,n){return BK(e||0,t||0,n||0)}function B$t(e,t){const n=Xh(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}function j$t(e,t){const n=Xh(e,(t||this).context);return n?n.copy():void 0}function z$t(e,t){const n=Xh(e,(t||this).context);return n?n.domain():[]}function U$t(e,t,n){const r=Xh(e,(n||this).context);return r?Pe(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}function H$t(e,t){const n=Xh(e,(t||this).context);return n&&n.range?n.range():[]}function V$t(e,t,n){const r=Xh(e,(n||this).context);return r?r(t):void 0}function W$t(e,t,n,r,i){e=Xh(e,(i||this).context);const o=Lke(t,n);let s=e.domain(),a=s[0],l=zn(s),u=sa;return l-a?u=Tke(e,a,l):e=(e.interpolator?nr("sequential")().interpolator(e.interpolator()):nr("linear")().interpolate(e.interpolate()).range(e.range())).domain([a=0,l=1]),e.ticks&&(s=e.ticks(+r||15),a!==s[0]&&s.unshift(a),l!==zn(s)&&s.push(l)),s.forEach(c=>o.stop(u(c),e(c))),o}function q$t(e,t,n){const r=Xh(e,(n||this).context);return function(i){return r?r.path.context(i)(t):""}}function G$t(e){let t=null;return function(n){return n?HC(n,t=t||ix(e)):e}}const GRe=e=>e.data;function YRe(e,t){const n=URe.call(t,e);return n.root&&n.root.lookup||{}}function Y$t(e,t,n){const r=YRe(e,this),i=r[t],o=r[n];return i&&o?i.path(o).map(GRe):void 0}function K$t(e,t){const n=YRe(e,this)[t];return n?n.ancestors().map(GRe):void 0}const KRe=()=>typeof window<"u"&&window||null;function X$t(){const e=KRe();return e?e.screen:{}}function Q$t(){const e=KRe();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]}function J$t(){const e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]}function XRe(e,t,n){if(!e)return[];const[r,i]=e,o=new qi().set(r[0],r[1],i[0],i[1]),s=n||this.context.dataflow.scenegraph().root;return P3e(s,o,Z$t(t))}function Z$t(e){let t=null;if(e){const n=_t(e.marktype),r=_t(e.markname);t=i=>(!n.length||n.some(o=>i.marktype===o))&&(!r.length||r.some(o=>i.name===o))}return t}function eDt(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:5;e=_t(e);const i=e[e.length-1];return i===void 0||Math.hypot(i[0]-t,i[1]-n)>r?[...e,[t,n]]:e}function tDt(e){return _t(e).reduce((t,n,r)=>{let[i,o]=n;return t+=r==0?`M ${i},${o} `:r===e.length-1?" Z":`L ${i},${o} `},"")}function nDt(e,t,n){const{x:r,y:i,mark:o}=n,s=new qi().set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const[l,u]of t)l<s.x1&&(s.x1=l),l>s.x2&&(s.x2=l),u<s.y1&&(s.y1=u),u>s.y2&&(s.y2=u);return s.translate(r,i),XRe([[s.x1,s.y1],[s.x2,s.y2]],e,o).filter(l=>rDt(l.x,l.y,t))}function rDt(e,t,n){let r=0;for(let i=0,o=n.length-1;i<n.length;o=i++){const[s,a]=n[o],[l,u]=n[i];u>t!=a>t&&e<(s-l)*(t-u)/(a-u)+l&&r++}return r&1}const tA={random(){return Gu()},cumulativeNormal:aO,cumulativeLogNormal:FY,cumulativeUniform:UY,densityNormal:MY,densityLogNormal:LY,densityUniform:zY,quantileNormal:lO,quantileLogNormal:BY,quantileUniform:HY,sampleNormal:sO,sampleLogNormal:OY,sampleUniform:jY,isArray:Pe,isBoolean:u0,isDate:ug,isDefined(e){return e!==void 0},isNumber:er,isObject:wt,isRegExp:cY,isString:xt,isTuple:nO,isValid(e){return e!=null&&e===e},toBoolean:hY,toDate(e){return fY(e)},toNumber:Ks,toString:pY,indexof:D$t,join:$$t,lastindexof:M$t,replace:N$t,reverse:O$t,sort:L$t,slice:P$t,flush:rCe,lerp:oCe,merge:T$t,pad:lCe,peek:zn,pluck:R$t,span:f2,inrange:N1,truncate:uCe,rgb:Og,lab:AD,hcl:kD,hsl:TD,luminance:Sz,contrast:S$t,sequence:Ul,format:i$t,utcFormat:o$t,utcParse:a$t,utcOffset:UCe,utcSequence:WCe,timeFormat:HRe,timeParse:s$t,timeOffset:zCe,timeSequence:VCe,timeUnitSpecifier:RCe,monthFormat:l$t,monthAbbrevFormat:u$t,dayFormat:c$t,dayAbbrevFormat:d$t,quarter:ZTe,utcquarter:eCe,week:DCe,utcweek:NCe,dayofyear:$Ce,utcdayofyear:PCe,warn:x$t,info:_$t,debug:E$t,extent(e){return Ah(e)},inScope:w$t,intersect:XRe,clampRange:tCe,pinchDistance:k$t,pinchAngle:I$t,screen:X$t,containerSize:J$t,windowSize:Q$t,bandspace:F$t,setdata:n$t,pathShape:G$t,panLinear:KTe,panLog:XTe,panPow:QTe,panSymlog:JTe,zoomLinear:oY,zoomLog:sY,zoomPow:hD,zoomSymlog:aY,encode:r$t,modify:A$t,lassoAppend:eDt,lassoPath:tDt,intersectLasso:nDt},iDt=["view","item","group","xy","x","y"],oDt="event.vega.",QRe="this.",AQ={},JRe={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:e=>`_[${ot(VRe+e)}]`,functions:sDt,constants:LRe,visitors:AQ},Tz=BRe(JRe);function sDt(e){const t=FRe(e);iDt.forEach(n=>t[n]=oDt+n);for(const n in tA)t[n]=QRe+n;return yn(t,m$t(e,tA,AQ)),t}function ji(e,t,n){return arguments.length===1?tA[e]:(tA[e]=t,n&&(AQ[e]=n),Tz&&(Tz.functions[e]=QRe+e),this)}ji("bandwidth",B$t,Da);ji("copy",j$t,Da);ji("domain",z$t,Da);ji("range",H$t,Da);ji("invert",U$t,Da);ji("scale",V$t,Da);ji("gradient",W$t,Da);ji("geoArea",g$t,Da);ji("geoBounds",y$t,Da);ji("geoCentroid",v$t,Da);ji("geoShape",q$t,Da);ji("geoScale",b$t,Da);ji("indata",t$t,p$t);ji("data",URe,EQ);ji("treePath",Y$t,EQ);ji("treeAncestors",K$t,EQ);ji("vlSelectionTest",GRt,_Q);ji("vlSelectionIdTest",XRt,_Q);ji("vlSelectionResolve",JRt,_Q);ji("vlSelectionTuples",QRt);function Dh(e,t){const n={};let r;try{e=xt(e)?e:ot(e)+"",r=ORe(e)}catch{Re("Expression parse error: "+e)}r.visit(o=>{if(o.type!==IRe)return;const s=o.callee.name,a=JRe.visitors[s];a&&a(s,o.arguments,t,n)});const i=Tz(r);return i.globals.forEach(o=>{const s=VRe+o;!Tt(n,s)&&t.getSignal(o)&&(n[s]=t.signalRef(o))}),{$expr:yn({code:i.code},t.options.ast?{ast:r}:null),$fields:i.fields,$params:n}}function aDt(e){const t=this,n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),n.forEach(r=>t.parseOperator(r)),n.forEach(r=>t.parseOperatorParameters(r)),(e.streams||[]).forEach(r=>t.parseStream(r)),(e.updates||[]).forEach(r=>t.parseUpdate(r)),t.resolve()}const lDt=id(["rule"]),Vde=id(["group","image","rect"]);function uDt(e,t){let n="";return lDt[t]||(e.x2&&(e.x?(Vde[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(Vde[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}function kQ(e){return(e+"").toLowerCase()}function cDt(e){return kQ(e)==="operator"}function dDt(e){return kQ(e)==="collect"}function PE(e,t,n){n.endsWith(";")||(n="return("+n+");");const r=Function(...t.concat(n));return e&&e.functions?r.bind(e.functions):r}function hDt(e,t,n,r){return`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n}
  : (u > v || v == null) && u != null ? ${r}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}
  : v !== v && u === u ? ${r} : `}var fDt={operator:(e,t)=>PE(e,["_"],t.code),parameter:(e,t)=>PE(e,["datum","_"],t.code),event:(e,t)=>PE(e,["event"],t.code),handler:(e,t)=>{const n=`var datum=event.item&&event.item.datum;return ${t.code};`;return PE(e,["_","event"],n)},encode:(e,t)=>{const{marktype:n,channels:r}=t;let i="var o=item,datum=o.datum,m=0,$;";for(const o in r){const s="o["+ot(o)+"]";i+=`$=${r[o].code};if(${s}!==$)${s}=$,m=1;`}return i+=uDt(r,n),i+="return m;",PE(e,["item","_"],i)},codegen:{get(e){const t=`[${e.map(ot).join("][")}]`,n=Function("_",`return _${t};`);return n.path=t,n},comparator(e,t){let n;const r=(o,s)=>{const a=t[s];let l,u;return o.path?(l=`a${o.path}`,u=`b${o.path}`):((n=n||{})["f"+s]=o,l=`this.f${s}(a)`,u=`this.f${s}(b)`),hDt(l,u,-a,a)},i=Function("a","b","var u, v; return "+e.map(r).join("")+"0;");return n?i.bind(n):i}}};function pDt(e){const t=this;cDt(e.type)||!e.type?t.operator(e,e.update?t.operatorExpression(e.update):null):t.transform(e,e.type)}function mDt(e){const t=this;if(e.params){const n=t.get(e.id);n||Re("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(t.parseParameters(e.params),e.react,e.initonly))}}function gDt(e,t){t=t||{};const n=this;for(const r in e){const i=e[r];t[r]=Pe(i)?i.map(o=>Wde(o,n,t)):Wde(i,n,t)}return t}function Wde(e,t,n){if(!e||!wt(e))return e;for(let r=0,i=qde.length,o;r<i;++r)if(o=qde[r],Tt(e,o.key))return o.parse(e,t,n);return e}var qde=[{key:"$ref",parse:yDt},{key:"$key",parse:bDt},{key:"$expr",parse:vDt},{key:"$field",parse:wDt},{key:"$encode",parse:_Dt},{key:"$compare",parse:xDt},{key:"$context",parse:EDt},{key:"$subflow",parse:SDt},{key:"$tupleid",parse:TDt}];function yDt(e,t){return t.get(e.$ref)||Re("Operator not defined: "+e.$ref)}function vDt(e,t,n){e.$params&&t.parseParameters(e.$params,n);const r="e:"+e.$expr.code;return t.fn[r]||(t.fn[r]=Al(t.parameterExpression(e.$expr),e.$fields))}function bDt(e,t){const n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=dY(e.$key,e.$flat,t.expr.codegen))}function wDt(e,t){if(!e.$field)return null;const n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=Vu(e.$field,e.$name,t.expr.codegen))}function xDt(e,t){const n="c:"+e.$compare+"_"+e.$order,r=_t(e.$compare).map(i=>i&&i.$tupleid?Ht:i);return t.fn[n]||(t.fn[n]=lY(r,e.$order,t.expr.codegen))}function _Dt(e,t){const n=e.$encode,r={};for(const i in n){const o=n[i];r[i]=Al(t.encodeExpression(o.$expr),o.$fields),r[i].output=o.$output}return r}function EDt(e,t){return t}function SDt(e,t){const n=e.$subflow;return function(r,i,o){const s=t.fork().parse(n),a=s.get(n.operators[0].id),l=s.signals.parent;return l&&l.set(o),a.detachSubflow=()=>t.detach(s),a}}function TDt(){return Ht}function CDt(e){var t=this,n=e.filter!=null?t.eventExpression(e.filter):void 0,r=e.stream!=null?t.get(e.stream):void 0,i;e.source?r=t.events(e.source,e.type,n):e.merge&&(i=e.merge.map(o=>t.get(o)),r=i[0].merge.apply(i[0],i.slice(1))),e.between&&(i=e.between.map(o=>t.get(o)),r=r.between(i[0],i[1])),e.filter&&(r=r.filter(n)),e.throttle!=null&&(r=r.throttle(+e.throttle)),e.debounce!=null&&(r=r.debounce(+e.debounce)),r==null&&Re("Invalid stream definition: "+JSON.stringify(e)),e.consume&&r.consume(!0),t.stream(e,r)}function ADt(e){var t=this,n=wt(n=e.source)?n.$ref:n,r=t.get(n),i=null,o=e.update,s=void 0;r||Re("Source not defined: "+e.source),i=e.target&&e.target.$expr?t.eventExpression(e.target.$expr):t.get(e.target),o&&o.$expr&&(o.$params&&(s=t.parseParameters(o.$params)),o=t.handlerExpression(o.$expr)),t.update(e,r,i,o,s)}const kDt={skip:!0};function IDt(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach(o=>{const s=t.signals[o];e.signals(o,s)&&(r[o]=s.value)})}if(e.data){var i=n.data={};Object.keys(t.data).forEach(o=>{const s=t.data[o];e.data(o,s)&&(i[o]=s.input.value)})}return t.subcontext&&e.recurse!==!1&&(n.subcontext=t.subcontext.map(o=>o.getState(e))),n}function RDt(e){var t=this,n=t.dataflow,r=e.data,i=e.signals;Object.keys(i||{}).forEach(o=>{n.update(t.signals[o],i[o],kDt)}),Object.keys(r||{}).forEach(o=>{n.pulse(t.data[o].input,n.changeset().remove(Wu).insert(r[o]))}),(e.subcontext||[]).forEach((o,s)=>{const a=t.subcontext[s];a&&a.setState(o)})}function ZRe(e,t,n,r){return new e$e(e,t,n,r)}function e$e(e,t,n,r){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=r||fDt,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function Gde(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}e$e.prototype=Gde.prototype={fork(){const e=new Gde(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach(e){this.subcontext=this.subcontext.filter(n=>n!==e);const t=Object.keys(e.nodes);for(const n of t)e.nodes[n]._targets=null;for(const n of t)e.nodes[n].detach();e.nodes=null},get(e){return this.nodes[e]},set(e,t){return this.nodes[e]=t},add(e,t){const n=this,r=n.dataflow,i=e.value;if(n.set(e.id,t),dDt(e.type)&&i&&(i.$ingest?r.ingest(t,i.$ingest,i.$format):i.$request?r.preload(t,i.$request,i.$format):r.pulse(t,r.changeset().insert(i))),e.root&&(n.root=t),e.parent){let o=n.get(e.parent.$ref);o?(r.connect(o,[t]),t.targets().add(o)):(n.unresolved=n.unresolved||[]).push(()=>{o=n.get(e.parent.$ref),r.connect(o,[t]),t.targets().add(o)})}if(e.signal&&(n.signals[e.signal]=t),e.scale&&(n.scales[e.scale]=t),e.data)for(const o in e.data){const s=n.data[o]||(n.data[o]={});e.data[o].forEach(a=>s[a]=t)}},resolve(){return(this.unresolved||[]).forEach(e=>e()),delete this.unresolved,this},operator(e,t){this.add(e,this.dataflow.add(e.value,t))},transform(e,t){this.add(e,this.dataflow.add(this.transforms[kQ(t)]))},stream(e,t){this.set(e.id,t)},update(e,t,n,r,i){this.dataflow.on(t,n,r,i,e.options)},operatorExpression(e){return this.expr.operator(this,e)},parameterExpression(e){return this.expr.parameter(this,e)},eventExpression(e){return this.expr.event(this,e)},handlerExpression(e){return this.expr.handler(this,e)},encodeExpression(e){return this.expr.encode(this,e)},parse:aDt,parseOperator:pDt,parseOperatorParameters:mDt,parseParameters:gDt,parseStream:CDt,parseUpdate:ADt,getState:IDt,setState:RDt};function $Dt(e){const t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),t$e(t,e.description()))}function t$e(e,t){e&&(t==null?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}function DDt(e){e.add(null,t=>(e._background=t.bg,e._resize=1,t.bg),{bg:e._signals.background})}const tB="default";function MDt(e){const t=e._signals.cursor||(e._signals.cursor=e.add({user:tB,item:null}));e.on(e.events("view","pointermove"),t,(n,r)=>{const i=t.value,o=i?xt(i)?i:i.user:tB,s=r.item&&r.item.cursor||null;return i&&o===i.user&&s==i.item?i:{user:o,item:s}}),e.add(null,function(n){let r=n.cursor,i=this.value;return xt(r)||(i=r.item,r=r.user),Cz(e,r&&r!==tB?r:i||r),i},{cursor:t})}function Cz(e,t){const n=e.globalCursor()?typeof document<"u"&&document.body:e.container();if(n)return t==null?n.style.removeProperty("cursor"):n.style.cursor=t}function wM(e,t){var n=e._runtime.data;return Tt(n,t)||Re("Unrecognized data set: "+t),n[t]}function PDt(e,t){return arguments.length<2?wM(this,e).values.value:QO.call(this,e,hb().remove(Wu).insert(t))}function QO(e,t){vAe(t)||Re("Second argument to changes must be a changeset.");const n=wM(this,e);return n.modified=!0,this.pulse(n.input,t)}function NDt(e,t){return QO.call(this,e,hb().insert(t))}function ODt(e,t){return QO.call(this,e,hb().remove(t))}function n$e(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function r$e(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function JO(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function LDt(e){var t=JO(e),n=n$e(e),r=r$e(e);e._renderer.background(e.background()),e._renderer.resize(n,r,t),e._handler.origin(t),e._resizeListeners.forEach(i=>{try{i(n,r)}catch(o){e.error(o)}})}function FDt(e,t,n){var r=e._renderer,i=r&&r.canvas(),o,s,a;return i&&(a=JO(e),s=t.changedTouches?t.changedTouches[0]:t,o=OO(s,i),o[0]-=a[0],o[1]-=a[1]),t.dataflow=e,t.item=n,t.vega=BDt(e,n,o),t}function BDt(e,t,n){const r=t?t.mark.marktype==="group"?t:t.mark.group:null;function i(s){var a=r,l;if(s){for(l=t;l;l=l.mark.group)if(l.mark.name===s){a=l;break}}return a&&a.mark&&a.mark.interactive?a:{}}function o(s){if(!s)return n;xt(s)&&(s=i(s));const a=n.slice();for(;s;)a[0]-=s.x||0,a[1]-=s.y||0,s=s.mark&&s.mark.group;return a}return{view:aa(e),item:aa(t||{}),group:i,xy:o,x:s=>o(s)[0],y:s=>o(s)[1]}}const Yde="view",jDt="timer",zDt="window",UDt={trap:!1};function HDt(e){const t=yn({defaults:{}},e),n=(r,i)=>{i.forEach(o=>{Pe(r[o])&&(r[o]=id(r[o]))})};return n(t.defaults,["prevent","allow"]),n(t,["view","window","selector"]),t}function i$e(e,t,n,r){e._eventListeners.push({type:n,sources:_t(t),handler:r})}function VDt(e,t){var n=e._eventConfig.defaults,r=n.prevent,i=n.allow;return r===!1||i===!0?!1:r===!0||i===!1?!0:r?r[t]:i?!i[t]:e.preventDefault()}function j3(e,t,n){const r=e._eventConfig&&e._eventConfig[t];return r===!1||wt(r)&&!r[n]?(e.warn(`Blocked ${t} ${n} event listener.`),!1):!0}function WDt(e,t,n){var r=this,i=new oO(n),o=function(u,c){r.runAsync(null,()=>{e===Yde&&VDt(r,t)&&u.preventDefault(),i.receive(FDt(r,u,c))})},s;if(e===jDt)j3(r,"timer",t)&&r.timer(o,t);else if(e===Yde)j3(r,"view",t)&&r.addEventListener(t,o,UDt);else if(e===zDt?j3(r,"window",t)&&typeof window<"u"&&(s=[window]):typeof document<"u"&&j3(r,"selector",t)&&(s=Array.from(document.querySelectorAll(e))),!s)r.warn("Can not resolve event source: "+e);else{for(var a=0,l=s.length;a<l;++a)s[a].addEventListener(t,o);i$e(r,s,t,o)}return i}function Kde(e){return e.item}function Xde(e){return e.item.mark.source}function Qde(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}function qDt(e,t){return e=[e||"hover"],t=[t||"update",e[0]],this.on(this.events("view","pointerover",Kde),Xde,Qde(e)),this.on(this.events("view","pointerout",Kde),Xde,Qde(t)),this}function GDt(){var e=this._tooltip,t=this._timers,n=this._handler.handlers(),r=this._eventListeners,i,o,s,a,l;for(i=t.length;--i>=0;)t[i].stop();for(i=r.length;--i>=0;)for(s=r[i],o=s.sources.length;--o>=0;)s.sources[o].removeEventListener(s.type,s.handler);for(e&&e.call(this,this._handler,null,null,null),i=n.length;--i>=0;)l=n[i].type,a=n[i].handler,this._handler.off(l,a);return this}function Xl(e,t,n){const r=document.createElement(e);for(const i in t)r.setAttribute(i,t[i]);return n!=null&&(r.textContent=n),r}const YDt="vega-bind",KDt="vega-bind-name",XDt="vega-bind-radio";function QDt(e,t,n){if(!t)return;const r=n.param;let i=n.state;return i||(i=n.state={elements:null,active:!1,set:null,update:s=>{s!=e.signal(r.signal)&&e.runAsync(null,()=>{i.source=!0,e.signal(r.signal,s)})}},r.debounce&&(i.update=uY(r.debounce,i.update))),(r.input==null&&r.element?JDt:eMt)(i,t,r,e),i.active||(e.on(e._signals[r.signal],null,()=>{i.source?i.source=!1:i.set(e.signal(r.signal))}),i.active=!0),i}function JDt(e,t,n,r){const i=n.event||"input",o=()=>e.update(t.value);r.signal(n.signal,t.value),t.addEventListener(i,o),i$e(r,t,i,o),e.set=s=>{t.value=s,t.dispatchEvent(ZDt(i))}}function ZDt(e){return typeof Event<"u"?new Event(e):{type:e}}function eMt(e,t,n,r){const i=r.signal(n.signal),o=Xl("div",{class:YDt}),s=n.input==="radio"?o:o.appendChild(Xl("label"));s.appendChild(Xl("span",{class:KDt},n.name||n.signal)),t.appendChild(o);let a=tMt;switch(n.input){case"checkbox":a=nMt;break;case"select":a=rMt;break;case"radio":a=iMt;break;case"range":a=oMt;break}a(e,s,n,i)}function tMt(e,t,n,r){const i=Xl("input");for(const o in n)o!=="signal"&&o!=="element"&&i.setAttribute(o==="input"?"type":o,n[o]);i.setAttribute("name",n.signal),i.value=r,t.appendChild(i),i.addEventListener("input",()=>e.update(i.value)),e.elements=[i],e.set=o=>i.value=o}function nMt(e,t,n,r){const i={type:"checkbox",name:n.signal};r&&(i.checked=!0);const o=Xl("input",i);t.appendChild(o),o.addEventListener("change",()=>e.update(o.checked)),e.elements=[o],e.set=s=>o.checked=!!s||null}function rMt(e,t,n,r){const i=Xl("select",{name:n.signal}),o=n.labels||[];n.options.forEach((s,a)=>{const l={value:s};xM(s,r)&&(l.selected=!0),i.appendChild(Xl("option",l,(o[a]||s)+""))}),t.appendChild(i),i.addEventListener("change",()=>{e.update(n.options[i.selectedIndex])}),e.elements=[i],e.set=s=>{for(let a=0,l=n.options.length;a<l;++a)if(xM(n.options[a],s)){i.selectedIndex=a;return}}}function iMt(e,t,n,r){const i=Xl("span",{class:XDt}),o=n.labels||[];t.appendChild(i),e.elements=n.options.map((s,a)=>{const l={type:"radio",name:n.signal,value:s};xM(s,r)&&(l.checked=!0);const u=Xl("input",l);u.addEventListener("change",()=>e.update(s));const c=Xl("label",{},(o[a]||s)+"");return c.prepend(u),i.appendChild(c),u}),e.set=s=>{const a=e.elements,l=a.length;for(let u=0;u<l;++u)xM(a[u].value,s)&&(a[u].checked=!0)}}function oMt(e,t,n,r){r=r!==void 0?r:(+n.max+ +n.min)/2;const i=n.max!=null?n.max:Math.max(100,+r)||100,o=n.min||Math.min(0,i,+r)||0,s=n.step||Mg(o,i,100),a=Xl("input",{type:"range",name:n.signal,min:o,max:i,step:s});a.value=r;const l=Xl("span",{},+r);t.appendChild(a),t.appendChild(l);const u=()=>{l.textContent=a.value,e.update(+a.value)};a.addEventListener("input",u),a.addEventListener("change",u),e.elements=[a],e.set=c=>{a.value=c,l.textContent=c}}function xM(e,t){return e===t||e+""==t+""}function o$e(e,t,n,r,i,o){return t=t||new r(e.loader()),t.initialize(n,n$e(e),r$e(e),JO(e),i,o).background(e.background())}function IQ(e,t){return t?function(){try{t.apply(this,arguments)}catch(n){e.error(n)}}:null}function sMt(e,t,n,r){const i=new r(e.loader(),IQ(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,JO(e),e);return t&&t.handlers().forEach(o=>{i.on(o.type,o.handler)}),i}function aMt(e,t){const n=this,r=n._renderType,i=n._eventConfig.bind,o=LO(r);e=n._el=e?nB(n,e,!0):null,$Dt(n),o||n.error("Unrecognized renderer type: "+r);const s=o.handler||D2,a=e?o.renderer:o.headless;return n._renderer=a?o$e(n,n._renderer,e,a):null,n._handler=sMt(n,n._handler,e,s),n._redraw=!0,e&&i!=="none"&&(t=t?n._elBind=nB(n,t,!0):e.appendChild(Xl("form",{class:"vega-bindings"})),n._bind.forEach(l=>{l.param.element&&i!=="container"&&(l.element=nB(n,l.param.element,!!l.param.input))}),n._bind.forEach(l=>{QDt(n,l.element||t,l)})),n}function nB(e,t,n){if(typeof t=="string")if(typeof document<"u"){if(t=document.querySelector(t),!t)return e.error("Signal bind element not found: "+t),null}else return e.error("DOM document instance not found."),null;if(t&&n)try{t.textContent=""}catch(r){t=null,e.error(r)}return t}const NE=e=>+e||0,lMt=e=>({top:e,bottom:e,left:e,right:e});function Jde(e){return wt(e)?{top:NE(e.top),bottom:NE(e.bottom),left:NE(e.left),right:NE(e.right)}:lMt(NE(e))}async function RQ(e,t,n,r){const i=LO(t),o=i&&i.headless;return o||Re("Unrecognized renderer type: "+t),await e.runAsync(),o$e(e,null,null,o,n,r).renderAsync(e._scenegraph.root)}async function uMt(e,t){e!==jm.Canvas&&e!==jm.SVG&&e!==jm.PNG&&Re("Unrecognized image type: "+e);const n=await RQ(this,e,t);return e===jm.SVG?cMt(n.svg(),"image/svg+xml"):n.canvas().toDataURL("image/png")}function cMt(e,t){const n=new Blob([e],{type:t});return window.URL.createObjectURL(n)}async function dMt(e,t){return(await RQ(this,jm.Canvas,e,t)).canvas()}async function hMt(e){return(await RQ(this,jm.SVG,e)).svg()}function fMt(e,t,n){return ZRe(e,Jw,tA,n).parse(t)}function pMt(e){var t=this._runtime.scales;return Tt(t,e)||Re("Unrecognized scale or projection: "+e),t[e].value}var s$e="width",a$e="height",$Q="padding",Zde={skip:!0};function l$e(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===$Q?r.left+r.right:0)}function u$e(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===$Q?r.top+r.bottom:0)}function mMt(e){var t=e._signals,n=t[s$e],r=t[a$e],i=t[$Q];function o(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,a=>{e._width=a.size,e._viewWidth=l$e(e,a.size),o()},{size:n}),e._resizeHeight=e.add(null,a=>{e._height=a.size,e._viewHeight=u$e(e,a.size),o()},{size:r});const s=e.add(null,o,{pad:i});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=r.rank+1,s.rank=i.rank+1}function gMt(e,t,n,r,i,o){this.runAfter(s=>{let a=0;s._autosize=0,s.width()!==n&&(a=1,s.signal(s$e,n,Zde),s._resizeWidth.skip(!0)),s.height()!==r&&(a=1,s.signal(a$e,r,Zde),s._resizeHeight.skip(!0)),s._viewWidth!==e&&(s._resize=1,s._viewWidth=e),s._viewHeight!==t&&(s._resize=1,s._viewHeight=t),(s._origin[0]!==i[0]||s._origin[1]!==i[1])&&(s._resize=1,s._origin=i),a&&s.run("enter"),o&&s.runAfter(l=>l.resize())},!1,1)}function yMt(e){return this._runtime.getState(e||{data:vMt,signals:bMt,recurse:!0})}function vMt(e,t){return t.modified&&Pe(t.input.value)&&!e.startsWith("_:vega:_")}function bMt(e,t){return!(e==="parent"||t instanceof Jw.proxy)}function wMt(e){return this.runAsync(null,t=>{t._trigger=!1,t._runtime.setState(e)},t=>{t._trigger=!0}),this}function xMt(e,t){function n(r){e({timestamp:Date.now(),elapsed:r})}this._timers.push(W2t(n,t))}function _Mt(e,t,n,r){const i=e.element();i&&i.setAttribute("title",EMt(r))}function EMt(e){return e==null?"":Pe(e)?c$e(e):wt(e)&&!ug(e)?SMt(e):e+""}function SMt(e){return Object.keys(e).map(t=>{const n=e[t];return t+": "+(Pe(n)?c$e(n):d$e(n))}).join(`
`)}function c$e(e){return"["+e.map(d$e).join(", ")+"]"}function d$e(e){return Pe(e)?"[]":wt(e)&&!ug(e)?"{}":e}function TMt(){if(this.renderer()==="canvas"&&this._renderer._canvas){let e=null;const t=()=>{e!=null&&e();const n=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`);n.addEventListener("change",t),e=()=>{n.removeEventListener("change",t)},this._renderer._canvas.getContext("2d").pixelRatio=window.devicePixelRatio||1,this._redraw=!0,this._resize=1,this.resize().runAsync()};t()}}function h$e(e,t){const n=this;if(t=t||{},cw.call(n),t.loader&&n.loader(t.loader),t.logger&&n.logger(t.logger),t.logLevel!=null&&n.logLevel(t.logLevel),t.locale||e.locale){const o=yn({},e.locale,t.locale);n.locale(lAe(o.number,o.time))}n._el=null,n._elBind=null,n._renderType=t.renderer||jm.Canvas,n._scenegraph=new a3e;const r=n._scenegraph.root;n._renderer=null,n._tooltip=t.tooltip||_Mt,n._redraw=!0,n._handler=new D2().scene(r),n._globalCursor=!1,n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=HDt(e.eventConfig),n.globalCursor(n._eventConfig.globalCursor);const i=fMt(n,e,t.expr);n._runtime=i,n._signals=i.signals,n._bind=(e.bindings||[]).map(o=>({state:null,param:yn({},o)})),i.root&&i.root.set(r),r.source=i.data.root.input,n.pulse(i.data.root.input,n.changeset().insert(r.items)),n._width=n.width(),n._height=n.height(),n._viewWidth=l$e(n,n._width),n._viewHeight=u$e(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,mMt(n),DDt(n),MDt(n),n.description(e.description),t.hover&&n.hover(),t.container&&n.initialize(t.container,t.bind),t.watchPixelRatio&&n._watchPixelRatio()}function z3(e,t){return Tt(e._signals,t)?e._signals[t]:Re("Unrecognized signal name: "+ot(t))}function f$e(e,t){const n=(e._targets||[]).filter(r=>r._update&&r._update.handler===t);return n.length?n[0]:null}function ehe(e,t,n,r){let i=f$e(n,r);return i||(i=IQ(e,()=>r(t,n.value)),i.handler=r,e.on(n,null,i)),e}function the(e,t,n){const r=f$e(t,n);return r&&t._targets.remove(r),e}dt(h$e,cw,{async evaluate(e,t,n){if(await cw.prototype.evaluate.call(this,e,t),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,LDt(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(r){this.error(r)}return n&&XI(this,n),this},dirty(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description(e){if(arguments.length){const t=e!=null?e+"":null;return t!==this._desc&&t$e(this._el,this._desc=t),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(e,t,n){const r=z3(this,e);return arguments.length===1?r.value:this.update(r,t,n)},width(e){return arguments.length?this.signal("width",e):this.signal("width")},height(e){return arguments.length?this.signal("height",e):this.signal("height")},padding(e){return arguments.length?this.signal("padding",Jde(e)):Jde(this.signal("padding"))},autosize(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer(e){return arguments.length?(LO(e)||Re("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader(e){return arguments.length?(e!==this._loader&&(cw.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(z3(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:gMt,addEventListener(e,t,n){let r=t;return n&&n.trap===!1||(r=IQ(this,t),r.raw=t),this._handler.on(e,r),this},removeEventListener(e,t){for(var n=this._handler.handlers(e),r=n.length,i,o;--r>=0;)if(o=n[r].type,i=n[r].handler,e===o&&(t===i||t===i.raw)){this._handler.off(o,i);break}return this},addResizeListener(e){const t=this._resizeListeners;return t.includes(e)||t.push(e),this},removeResizeListener(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},addSignalListener(e,t){return ehe(this,e,z3(this,e),t)},removeSignalListener(e,t){return the(this,z3(this,e),t)},addDataListener(e,t){return ehe(this,e,wM(this,e).values,t)},removeDataListener(e,t){return the(this,wM(this,e).values,t)},globalCursor(e){if(arguments.length){if(this._globalCursor!==!!e){const t=Cz(this,null);this._globalCursor=!!e,t&&Cz(this,t)}return this}else return this._globalCursor},preventDefault(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:xMt,events:WDt,finalize:GDt,hover:qDt,data:PDt,change:QO,insert:NDt,remove:ODt,scale:pMt,initialize:aMt,toImageURL:uMt,toCanvas:dMt,toSVG:hMt,getState:yMt,setState:wMt,_watchPixelRatio:TMt});const CMt="view",_M="[",EM="]",p$e="{",m$e="}",AMt=":",g$e=",",kMt="@",IMt=">",RMt=/[[\]{}]/,$Mt={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let y$e,v$e;function m0(e,t,n){return y$e=t||CMt,v$e=n||$Mt,b$e(e.trim()).map(Az)}function DMt(e){return v$e[e]}function CT(e,t,n,r,i){const o=e.length;let s=0,a;for(;t<o;++t){if(a=e[t],!s&&a===n)return t;i&&i.indexOf(a)>=0?--s:r&&r.indexOf(a)>=0&&++s}return t}function b$e(e){const t=[],n=e.length;let r=0,i=0;for(;i<n;)i=CT(e,i,g$e,_M+p$e,EM+m$e),t.push(e.substring(r,i).trim()),r=++i;if(t.length===0)throw"Empty event selector: "+e;return t}function Az(e){return e[0]==="["?MMt(e):PMt(e)}function MMt(e){const t=e.length;let n=1,r;if(n=CT(e,n,EM,_M,EM),n===t)throw"Empty between selector: "+e;if(r=b$e(e.substring(1,n)),r.length!==2)throw"Between selector must have two elements: "+e;if(e=e.slice(n+1).trim(),e[0]!==IMt)throw"Expected '>' after between selector: "+e;r=r.map(Az);const i=Az(e.slice(1).trim());return i.between?{between:r,stream:i}:(i.between=r,i)}function PMt(e){const t={source:y$e},n=[];let r=[0,0],i=0,o=0,s=e.length,a=0,l,u;if(e[s-1]===m$e){if(a=e.lastIndexOf(p$e),a>=0){try{r=NMt(e.substring(a+1,s-1))}catch{throw"Invalid throttle specification: "+e}e=e.slice(0,a).trim(),s=e.length}else throw"Unmatched right brace: "+e;a=0}if(!s)throw e;if(e[0]===kMt&&(i=++a),l=CT(e,a,AMt),l<s&&(n.push(e.substring(o,l).trim()),o=a=++l),a=CT(e,a,_M),a===s)n.push(e.substring(o,s).trim());else if(n.push(e.substring(o,a).trim()),u=[],o=++a,o===s)throw"Unmatched left bracket: "+e;for(;a<s;){if(a=CT(e,a,EM),a===s)throw"Unmatched left bracket: "+e;if(u.push(e.substring(o,a).trim()),a<s-1&&e[++a]!==_M)throw"Expected left bracket: "+e;o=++a}if(!(s=n.length)||RMt.test(n[s-1]))throw"Invalid event selector: "+e;return s>1?(t.type=n[1],i?t.markname=n[0].slice(1):DMt(n[0])?t.marktype=n[0]:t.source=n[0]):t.type=n[0],t.type.slice(-1)==="!"&&(t.consume=!0,t.type=t.type.slice(0,-1)),u!=null&&(t.filter=u),r[0]&&(t.throttle=r[0]),r[1]&&(t.debounce=r[1]),t}function NMt(e){const t=e.split(g$e);if(!e.length||t.length>2)throw e;return t.map(n=>{const r=+n;if(r!==r)throw e;return r})}function OMt(e){return wt(e)?e:{type:e||"pad"}}const OE=e=>+e||0,LMt=e=>({top:e,bottom:e,left:e,right:e});function FMt(e){return wt(e)?e.signal?e:{top:OE(e.top),bottom:OE(e.bottom),left:OE(e.left),right:OE(e.right)}:LMt(OE(e))}const ko=e=>wt(e)&&!Pe(e)?yn({},e):{value:e};function nhe(e,t,n,r){return n!=null?(wt(n)&&!Pe(n)||Pe(n)&&n.length&&wt(n[0])?e.update[t]=n:e[r||"enter"][t]={value:n},1):0}function vs(e,t,n){for(const r in t)nhe(e,r,t[r]);for(const r in n)nhe(e,r,n[r],"update")}function N_(e,t,n){for(const r in t)n&&Tt(n,r)||(e[r]=yn(e[r]||{},t[r]));return e}function g1(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}const DQ="mark",MQ="frame",PQ="scope",BMt="axis",jMt="axis-domain",zMt="axis-grid",UMt="axis-label",HMt="axis-tick",VMt="axis-title",WMt="legend",qMt="legend-band",GMt="legend-entry",YMt="legend-gradient",w$e="legend-label",KMt="legend-symbol",XMt="legend-title",QMt="title",JMt="title-text",ZMt="title-subtitle";function ePt(e,t,n,r,i){const o={},s={};let a,l,u,c;l="lineBreak",t==="text"&&i[l]!=null&&!g1(l,e)&&rB(o,l,i[l]),(n=="legend"||String(n).startsWith("axis"))&&(n=null),c=n===MQ?i.group:n===DQ?yn({},i.mark,i[t]):null;for(l in c)u=g1(l,e)||(l==="fill"||l==="stroke")&&(g1("fill",e)||g1("stroke",e)),u||rB(o,l,c[l]);_t(r).forEach(d=>{const h=i.style&&i.style[d];for(const f in h)g1(f,e)||rB(o,f,h[f])}),e=yn({},e);for(l in o)c=o[l],c.signal?(a=a||{})[l]=c:s[l]=c;return e.enter=yn(s,e.enter),a&&(e.update=yn(a,e.update)),e}function rB(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}const x$e=e=>xt(e)?ot(e):e.signal?`(${e.signal})`:_$e(e);function ZO(e){if(e.gradient!=null)return nPt(e);let t=e.signal?`(${e.signal})`:e.color?tPt(e.color):e.field!=null?_$e(e.field):e.value!==void 0?ot(e.value):void 0;return e.scale!=null&&(t=rPt(e,t)),t===void 0&&(t=null),e.exponent!=null&&(t=`pow(${t},${pR(e.exponent)})`),e.mult!=null&&(t+=`*${pR(e.mult)}`),e.offset!=null&&(t+=`+${pR(e.offset)}`),e.round&&(t=`round(${t})`),t}const U3=(e,t,n,r)=>`(${e}(${[t,n,r].map(ZO).join(",")})+'')`;function tPt(e){return e.c?U3("hcl",e.h,e.c,e.l):e.h||e.s?U3("hsl",e.h,e.s,e.l):e.l||e.a?U3("lab",e.l,e.a,e.b):e.r||e.g||e.b?U3("rgb",e.r,e.g,e.b):null}function nPt(e){const t=[e.start,e.stop,e.count].map(n=>n==null?null:ot(n));for(;t.length&&zn(t)==null;)t.pop();return t.unshift(x$e(e.gradient)),`gradient(${t.join(",")})`}function pR(e){return wt(e)?"("+ZO(e)+")":e}function _$e(e){return E$e(wt(e)?e:{datum:e})}function E$e(e){let t,n,r;if(e.signal)t="datum",r=e.signal;else if(e.group||e.parent){for(n=Math.max(1,e.level||1),t="item";n-- >0;)t+=".mark.group";e.parent?(r=e.parent,t+=".datum"):r=e.group}else e.datum?(t="datum",r=e.datum):Re("Invalid field reference: "+ot(e));return e.signal||(r=xt(r)?Vh(r).map(ot).join("]["):E$e(r)),t+"["+r+"]"}function rPt(e,t){const n=x$e(e.scale);return e.range!=null?t=`lerp(_range(${n}), ${+e.range})`:(t!==void 0&&(t=`_scale(${n}, ${t})`),e.band&&(t=(t?t+"+":"")+`_bandwidth(${n})`+(+e.band==1?"":"*"+pR(e.band)),e.extra&&(t=`(datum.extra ? _scale(${n}, datum.extra.value) : ${t})`)),t==null&&(t="0")),t}function iPt(e){let t="";return e.forEach(n=>{const r=ZO(n);t+=n.test?`(${n.test})?${r}:`:r}),zn(t)===":"&&(t+="null"),t}function S$e(e,t,n,r,i,o){const s={};o=o||{},o.encoders={$encode:s},e=ePt(e,t,n,r,i.config);for(const a in e)s[a]=oPt(e[a],t,o,i);return o}function oPt(e,t,n,r){const i={},o={};for(const s in e)e[s]!=null&&(i[s]=aPt(sPt(e[s]),r,n,o));return{$expr:{marktype:t,channels:i},$fields:Object.keys(o),$output:Object.keys(e)}}function sPt(e){return Pe(e)?iPt(e):ZO(e)}function aPt(e,t,n,r){const i=Dh(e,t);return i.$fields.forEach(o=>r[o]=1),yn(n,i.$params),i.$expr}const lPt="outer",uPt=["value","update","init","react","bind"];function rhe(e,t){Re(e+' for "outer" push: '+ot(t))}function T$e(e,t){const n=e.name;if(e.push===lPt)t.signals[n]||rhe("No prior signal definition",n),uPt.forEach(r=>{e[r]!==void 0&&rhe("Invalid property ",r)});else{const r=t.addSignal(n,e.value);e.react===!1&&(r.react=!1),e.bind&&t.addBinding(n,e.bind)}}function kz(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function eL(e,t,n,r){return new kz(e,t,n,r)}function SM(e,t){return eL("operator",e,t)}function Ut(e){const t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function nA(e,t){return t?{$field:e,$name:t}:{$field:e}}const Iz=nA("key");function ihe(e,t){return{$compare:e,$order:t}}function cPt(e,t){const n={$key:e};return t&&(n.$flat=!0),n}const dPt="ascending",hPt="descending";function fPt(e){return wt(e)?(e.order===hPt?"-":"+")+tL(e.op,e.field):""}function tL(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}const NQ="scope",Rz="view";function co(e){return e&&e.signal}function pPt(e){return e&&e.expr}function mR(e){if(co(e))return!0;if(wt(e)){for(const t in e)if(mR(e[t]))return!0}return!1}function Tc(e,t){return e??t}function jy(e){return e&&e.signal||e}const ohe="timer";function rA(e,t){return(e.merge?gPt:e.stream?yPt:e.type?vPt:Re("Invalid stream specification: "+ot(e)))(e,t)}function mPt(e){return e===NQ?Rz:e||Rz}function gPt(e,t){const n=e.merge.map(i=>rA(i,t)),r=OQ({merge:n},e,t);return t.addStream(r).id}function yPt(e,t){const n=rA(e.stream,t),r=OQ({stream:n},e,t);return t.addStream(r).id}function vPt(e,t){let n;e.type===ohe?(n=t.event(ohe,e.throttle),e={between:e.between,filter:e.filter}):n=t.event(mPt(e.source),e.type);const r=OQ({stream:n},e,t);return Object.keys(r).length===1?n:t.addStream(r).id}function OQ(e,t,n){let r=t.between;return r&&(r.length!==2&&Re('Stream "between" parameter must have 2 entries: '+ot(t)),e.between=[rA(r[0],n),rA(r[1],n)]),r=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&r.push(bPt(t.marktype,t.markname,t.markrole)),t.source===NQ&&r.push("inScope(event.item)"),r.length&&(e.filter=Dh("("+r.join(")&&(")+")",n).$expr),(r=t.throttle)!=null&&(e.throttle=+r),(r=t.debounce)!=null&&(e.debounce=+r),t.consume&&(e.consume=!0),e}function bPt(e,t,n){const r="event.item";return r+(e&&e!=="*"?"&&"+r+".mark.marktype==='"+e+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}const wPt={code:"_.$value",ast:{type:"Identifier",value:"value"}};function xPt(e,t,n){const r=e.encode,i={target:n};let o=e.events,s=e.update,a=[];o||Re("Signal update missing events specification."),xt(o)&&(o=m0(o,t.isSubscope()?NQ:Rz)),o=_t(o).filter(l=>l.signal||l.scale?(a.push(l),0):1),a.length>1&&(a=[EPt(a)]),o.length&&a.push(o.length>1?{merge:o}:o[0]),r!=null&&(s&&Re("Signal encode and update are mutually exclusive."),s="encode(item(),"+ot(r)+")"),i.update=xt(s)?Dh(s,t):s.expr!=null?Dh(s.expr,t):s.value!=null?s.value:s.signal!=null?{$expr:wPt,$params:{$value:t.signalRef(s.signal)}}:Re("Invalid signal update specification."),e.force&&(i.options={force:!0}),a.forEach(l=>t.addUpdate(yn(_Pt(l,t),i)))}function _Pt(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):rA(e,t)}}function EPt(e){return{signal:"["+e.map(t=>t.scale?'scale("'+t.scale+'")':t.signal)+"]"}}function SPt(e,t){const n=t.getSignal(e.name);let r=e.update;e.init&&(r?Re("Signals can not include both init and update expressions."):(r=e.init,n.initonly=!0)),r&&(r=Dh(r,t),n.update=r.$expr,n.params=r.$params),e.on&&e.on.forEach(i=>xPt(i,t,n.id))}const Sr=e=>(t,n,r)=>eL(e,n,t||void 0,r),C$e=Sr("aggregate"),TPt=Sr("axisticks"),A$e=Sr("bound"),md=Sr("collect"),she=Sr("compare"),CPt=Sr("datajoin"),k$e=Sr("encode"),APt=Sr("expression"),kPt=Sr("facet"),IPt=Sr("field"),RPt=Sr("key"),$Pt=Sr("legendentries"),DPt=Sr("load"),MPt=Sr("mark"),PPt=Sr("multiextent"),NPt=Sr("multivalues"),OPt=Sr("overlap"),LPt=Sr("params"),I$e=Sr("prefacet"),FPt=Sr("projection"),BPt=Sr("proxy"),jPt=Sr("relay"),R$e=Sr("render"),zPt=Sr("scale"),gb=Sr("sieve"),UPt=Sr("sortitems"),$$e=Sr("viewlayout"),HPt=Sr("values");let VPt=0;const D$e={min:"min",max:"max",count:"sum"};function WPt(e,t){const n=e.type||"linear";bke(n)||Re("Unrecognized scale type: "+ot(n)),t.addScale(e.name,{type:n,domain:void 0})}function qPt(e,t){const n=t.getScale(e.name).params;let r;n.domain=M$e(e.domain,e,t),e.range!=null&&(n.range=N$e(e,t,n)),e.interpolate!=null&&nNt(e.interpolate,n),e.nice!=null&&(n.nice=tNt(e.nice,t)),e.bins!=null&&(n.bins=eNt(e.bins,t));for(r in e)Tt(n,r)||r==="name"||(n[r]=Du(e[r],t))}function Du(e,t){return wt(e)?e.signal?t.signalRef(e.signal):Re("Unsupported object: "+ot(e)):e}function gR(e,t){return e.signal?t.signalRef(e.signal):e.map(n=>Du(n,t))}function nL(e){Re("Can not find data set: "+ot(e))}function M$e(e,t,n){if(!e){(t.domainMin!=null||t.domainMax!=null)&&Re("No scale domain defined for domainMin/domainMax to override.");return}return e.signal?n.signalRef(e.signal):(Pe(e)?GPt:e.fields?KPt:YPt)(e,t,n)}function GPt(e,t,n){return e.map(r=>Du(r,n))}function YPt(e,t,n){const r=n.getData(e.data);return r||nL(e.data),rx(t.type)?r.valuesRef(n,e.field,P$e(e.sort,!1)):_ke(t.type)?r.domainRef(n,e.field):r.extentRef(n,e.field)}function KPt(e,t,n){const r=e.data,i=e.fields.reduce((o,s)=>(s=xt(s)?{data:r,field:s}:Pe(s)||s.signal?XPt(s,n):s,o.push(s),o),[]);return(rx(t.type)?QPt:_ke(t.type)?JPt:ZPt)(e,n,i)}function XPt(e,t){const n="_:vega:_"+VPt++,r=md({});if(Pe(e))r.value={$ingest:e};else if(e.signal){const i="setdata("+ot(n)+","+e.signal+")";r.params.input=t.signalRef(i)}return t.addDataPipeline(n,[r,gb({})]),{data:n,field:"data"}}function QPt(e,t,n){const r=P$e(e.sort,!0);let i,o;const s=n.map(u=>{const c=t.getData(u.data);return c||nL(u.data),c.countsRef(t,u.field,r)}),a={groupby:Iz,pulse:s};r&&(i=r.op||"count",o=r.field?tL(i,r.field):"count",a.ops=[D$e[i]],a.fields=[t.fieldRef(o)],a.as=[o]),i=t.add(C$e(a));const l=t.add(md({pulse:Ut(i)}));return o=t.add(HPt({field:Iz,sort:t.sortRef(r),pulse:Ut(l)})),Ut(o)}function P$e(e,t){return e&&(!e.field&&!e.op?wt(e)?e.field="key":e={field:"key"}:!e.field&&e.op!=="count"?Re("No field provided for sort aggregate op: "+e.op):t&&e.field&&e.op&&!D$e[e.op]&&Re("Multiple domain scales can not be sorted using "+e.op)),e}function JPt(e,t,n){const r=n.map(i=>{const o=t.getData(i.data);return o||nL(i.data),o.domainRef(t,i.field)});return Ut(t.add(NPt({values:r})))}function ZPt(e,t,n){const r=n.map(i=>{const o=t.getData(i.data);return o||nL(i.data),o.extentRef(t,i.field)});return Ut(t.add(PPt({extents:r})))}function eNt(e,t){return e.signal||Pe(e)?gR(e,t):t.objectProperty(e)}function tNt(e,t){return e.signal?t.signalRef(e.signal):wt(e)?{interval:Du(e.interval),step:Du(e.step)}:Du(e)}function nNt(e,t){t.interpolate=Du(e.type||e),e.gamma!=null&&(t.interpolateGamma=Du(e.gamma))}function N$e(e,t,n){const r=t.config.range;let i=e.range;if(i.signal)return t.signalRef(i.signal);if(xt(i)){if(r&&Tt(r,i))return e=yn({},e,{range:r[i]}),N$e(e,t,n);i==="width"?i=[0,{signal:"width"}]:i==="height"?i=rx(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:Re("Unrecognized scale range value: "+ot(i))}else if(i.scheme){n.scheme=Pe(i.scheme)?gR(i.scheme,t):Du(i.scheme,t),i.extent&&(n.schemeExtent=gR(i.extent,t)),i.count&&(n.schemeCount=Du(i.count,t));return}else if(i.step){n.rangeStep=Du(i.step,t);return}else{if(rx(e.type)&&!Pe(i))return M$e(i,e,t);Pe(i)||Re("Unsupported range type: "+ot(i))}return i.map(o=>(Pe(o)?gR:Du)(o,t))}function rNt(e,t){const n=t.config.projection||{},r={};for(const i in e)i!=="name"&&(r[i]=$z(e[i],i,t));for(const i in n)r[i]==null&&(r[i]=$z(n[i],i,t));t.addProjection(e.name,r)}function $z(e,t,n){return Pe(e)?e.map(r=>$z(r,t,n)):wt(e)?e.signal?n.signalRef(e.signal):t==="fit"?e:Re("Unsupported parameter object: "+ot(e)):e}const gd="top",O_="left",L_="right",zg="bottom",O$e="center",iNt="vertical",oNt="start",sNt="middle",aNt="end",Dz="index",LQ="label",lNt="offset",hx="perc",uNt="perc2",Ou="value",z2="guide-label",FQ="guide-title",cNt="group-title",dNt="group-subtitle",ahe="symbol",yR="gradient",Mz="discrete",Pz="size",hNt="shape",fNt="fill",pNt="stroke",mNt="strokeWidth",gNt="strokeDash",yNt="opacity",BQ=[Pz,hNt,fNt,pNt,mNt,gNt,yNt],U2={name:1,style:1,interactive:1},Wn={value:0},Lu={value:1},rL="group",L$e="rect",jQ="rule",vNt="symbol",yb="text";function iA(e){return e.type=rL,e.interactive=e.interactive||!1,e}function kl(e,t){const n=(r,i)=>Tc(e[r],Tc(t[r],i));return n.isVertical=r=>iNt===Tc(e.direction,t.direction||(r?t.symbolDirection:t.gradientDirection)),n.gradientLength=()=>Tc(e.gradientLength,t.gradientLength||t.gradientWidth),n.gradientThickness=()=>Tc(e.gradientThickness,t.gradientThickness||t.gradientHeight),n.entryColumns=()=>Tc(e.columns,Tc(t.columns,+n.isVertical(!0))),n}function F$e(e,t){const n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function bNt(e,t,n){const r=t.config.style[n];return r&&r[e]}function iL(e,t,n){return`item.anchor === '${oNt}' ? ${e} : item.anchor === '${aNt}' ? ${t} : ${n}`}const zQ=iL(ot(O_),ot(L_),ot(O$e));function wNt(e){const t=e("tickBand");let n=e("tickOffset"),r,i;return t?t.signal?(r={signal:`(${t.signal}) === 'extent' ? 1 : 0.5`},i={signal:`(${t.signal}) === 'extent'`},wt(n)||(n={signal:`(${t.signal}) === 'extent' ? 0 : ${n}`})):t==="extent"?(r=1,i=!0,n=0):(r=.5,i=!1):(r=e("bandPosition"),i=e("tickExtra")),{extra:i,band:r,offset:n}}function B$e(e,t){return t?e?wt(e)?Object.assign({},e,{offset:B$e(e.offset,t)}):{value:e,offset:t}:t:e}function du(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=N_(e.encode,t,U2)):e.interactive=!1,e}function xNt(e,t,n,r){const i=kl(e,n),o=i.isVertical(),s=i.gradientThickness(),a=i.gradientLength();let l,u,c,d,h;o?(u=[0,1],c=[0,0],d=s,h=a):(u=[0,0],c=[1,0],d=a,h=s);const f={enter:l={opacity:Wn,x:Wn,y:Wn,width:ko(d),height:ko(h)},update:yn({},l,{opacity:Lu,fill:{gradient:t,start:u,stop:c}}),exit:{opacity:Wn}};return vs(f,{stroke:i("gradientStrokeColor"),strokeWidth:i("gradientStrokeWidth")},{opacity:i("gradientOpacity")}),du({type:L$e,role:YMt,encode:f},r)}function _Nt(e,t,n,r,i){const o=kl(e,n),s=o.isVertical(),a=o.gradientThickness(),l=o.gradientLength();let u,c,d,h,f="";s?(u="y",d="y2",c="x",h="width",f="1-"):(u="x",d="x2",c="y",h="height");const p={opacity:Wn,fill:{scale:t,field:Ou}};p[u]={signal:f+"datum."+hx,mult:l},p[c]=Wn,p[d]={signal:f+"datum."+uNt,mult:l},p[h]=ko(a);const m={enter:p,update:yn({},p,{opacity:Lu}),exit:{opacity:Wn}};return vs(m,{stroke:o("gradientStrokeColor"),strokeWidth:o("gradientStrokeWidth")},{opacity:o("gradientOpacity")}),du({type:L$e,role:qMt,key:Ou,from:i,encode:m},r)}const ENt=`datum.${hx}<=0?"${O_}":datum.${hx}>=1?"${L_}":"${O$e}"`,SNt=`datum.${hx}<=0?"${zg}":datum.${hx}>=1?"${gd}":"${sNt}"`;function lhe(e,t,n,r){const i=kl(e,t),o=i.isVertical(),s=ko(i.gradientThickness()),a=i.gradientLength();let l=i("labelOverlap"),u,c,d,h,f="";const p={enter:u={opacity:Wn},update:c={opacity:Lu,text:{field:LQ}},exit:{opacity:Wn}};return vs(p,{fill:i("labelColor"),fillOpacity:i("labelOpacity"),font:i("labelFont"),fontSize:i("labelFontSize"),fontStyle:i("labelFontStyle"),fontWeight:i("labelFontWeight"),limit:Tc(e.labelLimit,t.gradientLabelLimit)}),o?(u.align={value:"left"},u.baseline=c.baseline={signal:SNt},d="y",h="x",f="1-"):(u.align=c.align={signal:ENt},u.baseline={value:"top"},d="x",h="y"),u[d]=c[d]={signal:f+"datum."+hx,mult:a},u[h]=c[h]=s,s.offset=Tc(e.labelOffset,t.gradientLabelOffset)||0,l=l?{separation:i("labelSeparation"),method:l,order:"datum."+Dz}:void 0,du({type:yb,role:w$e,style:z2,key:Ou,from:r,encode:p,overlap:l},n)}function TNt(e,t,n,r,i){const o=kl(e,t),s=n.entries,a=!!(s&&s.interactive),l=s?s.name:void 0,u=o("clipHeight"),c=o("symbolOffset"),d={data:"value"},h=`(${i}) ? datum.${lNt} : datum.${Pz}`,f=u?ko(u):{field:Pz},p=`datum.${Dz}`,m=`max(1, ${i})`;let g,y,v,b,_;f.mult=.5,g={enter:y={opacity:Wn,x:{signal:h,mult:.5,offset:c},y:f},update:v={opacity:Lu,x:y.x,y:y.y},exit:{opacity:Wn}};let x=null,w=null;e.fill||(x=t.symbolBaseFillColor,w=t.symbolBaseStrokeColor),vs(g,{fill:o("symbolFillColor",x),shape:o("symbolType"),size:o("symbolSize"),stroke:o("symbolStrokeColor",w),strokeDash:o("symbolDash"),strokeDashOffset:o("symbolDashOffset"),strokeWidth:o("symbolStrokeWidth")},{opacity:o("symbolOpacity")}),BQ.forEach(C=>{e[C]&&(v[C]=y[C]={scale:e[C],field:Ou})});const E=du({type:vNt,role:KMt,key:Ou,from:d,clip:u?!0:void 0,encode:g},n.symbols),S=ko(c);S.offset=o("labelOffset"),g={enter:y={opacity:Wn,x:{signal:h,offset:S},y:f},update:v={opacity:Lu,text:{field:LQ},x:y.x,y:y.y},exit:{opacity:Wn}},vs(g,{align:o("labelAlign"),baseline:o("labelBaseline"),fill:o("labelColor"),fillOpacity:o("labelOpacity"),font:o("labelFont"),fontSize:o("labelFontSize"),fontStyle:o("labelFontStyle"),fontWeight:o("labelFontWeight"),limit:o("labelLimit")});const T=du({type:yb,role:w$e,style:z2,key:Ou,from:d,encode:g},n.labels);return g={enter:{noBound:{value:!u},width:Wn,height:u?ko(u):Wn,opacity:Wn},exit:{opacity:Wn},update:v={opacity:Lu,row:{signal:null},column:{signal:null}}},o.isVertical(!0)?(b=`ceil(item.mark.items.length / ${m})`,v.row.signal=`${p}%${b}`,v.column.signal=`floor(${p} / ${b})`,_={field:["row",p]}):(v.row.signal=`floor(${p} / ${m})`,v.column.signal=`${p} % ${m}`,_={field:p}),v.column.signal=`(${i})?${v.column.signal}:${p}`,r={facet:{data:r,name:"value",groupby:Dz}},iA({role:PQ,from:r,encode:N_(g,s,U2),marks:[E,T],name:l,interactive:a,sort:_})}function CNt(e,t){const n=kl(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}const UQ='item.orient === "left"',HQ='item.orient === "right"',oL=`(${UQ} || ${HQ})`,ANt=`datum.vgrad && ${oL}`,kNt=iL('"top"','"bottom"','"middle"'),INt=iL('"right"','"left"','"center"'),RNt=`datum.vgrad && ${HQ} ? (${INt}) : (${oL} && !(datum.vgrad && ${UQ})) ? "left" : ${zQ}`,$Nt=`item._anchor || (${oL} ? "middle" : "start")`,DNt=`${ANt} ? (${UQ} ? -90 : 90) : 0`,MNt=`${oL} ? (datum.vgrad ? (${HQ} ? "bottom" : "top") : ${kNt}) : "top"`;function PNt(e,t,n,r){const i=kl(e,t),o={enter:{opacity:Wn},update:{opacity:Lu,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:Wn}};return vs(o,{orient:i("titleOrient"),_anchor:i("titleAnchor"),anchor:{signal:$Nt},angle:{signal:DNt},align:{signal:RNt},baseline:{signal:MNt},text:e.title,fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),baseline:i("titleBaseline")}),du({type:yb,role:XMt,style:FQ,from:r,encode:o},n)}function NNt(e,t){let n;return wt(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+uhe(e.path)+")":e.sphere&&(n="geoShape("+uhe(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e}function uhe(e){return wt(e)&&e.signal?e.signal:ot(e)}function j$e(e){const t=e.role||"";return t.startsWith("axis")||t.startsWith("legend")||t.startsWith("title")?t:e.type===rL?PQ:t||DQ}function ONt(e){return{marktype:e.type,name:e.name||void 0,role:e.role||j$e(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function LNt(e,t){return e&&e.signal?t.signalRef(e.signal):e!==!1}function VQ(e,t){const n=xAe(e.type);n||Re("Unrecognized transform type: "+ot(e.type));const r=eL(n.type.toLowerCase(),null,z$e(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=n.metadata||{},r}function z$e(e,t,n){const r={},i=e.params.length;for(let o=0;o<i;++o){const s=e.params[o];r[s.name]=FNt(s,t,n)}return r}function FNt(e,t,n){const r=e.type,i=t[e.name];if(r==="index")return BNt(e,t,n);if(i===void 0){e.required&&Re("Missing required "+ot(t.type)+" parameter: "+ot(e.name));return}else{if(r==="param")return jNt(e,t,n);if(r==="projection")return n.projectionRef(t[e.name])}return e.array&&!co(i)?i.map(o=>che(e,o,n)):che(e,i,n)}function che(e,t,n){const r=e.type;if(co(t))return hhe(r)?Re("Expression references can not be signals."):iB(r)?n.fieldRef(t):fhe(r)?n.compareRef(t):n.signalRef(t.signal);{const i=e.expr||iB(r);return i&&zNt(t)?n.exprRef(t.expr,t.as):i&&UNt(t)?nA(t.field,t.as):hhe(r)?Dh(t,n):HNt(r)?Ut(n.getData(t).values):iB(r)?nA(t):fhe(r)?n.compareRef(t):t}}function BNt(e,t,n){return xt(t.from)||Re('Lookup "from" parameter must be a string literal.'),n.getData(t.from).lookupRef(n,t.key)}function jNt(e,t,n){const r=t[e.name];return e.array?(Pe(r)||Re("Expected an array of sub-parameters. Instead: "+ot(r)),r.map(i=>dhe(e,i,n))):dhe(e,r,n)}function dhe(e,t,n){const r=e.params.length;let i;for(let s=0;s<r;++s){i=e.params[s];for(const a in i.key)if(i.key[a]!==t[a]){i=null;break}if(i)break}i||Re("Unsupported parameter: "+ot(t));const o=yn(z$e(i,t,n),i.key);return Ut(n.add(LPt(o)))}const zNt=e=>e&&e.expr,UNt=e=>e&&e.field,HNt=e=>e==="data",hhe=e=>e==="expr",iB=e=>e==="field",fhe=e=>e==="compare";function VNt(e,t,n){let r,i,o,s,a;return e?(r=e.facet)&&(t||Re("Only group marks can be faceted."),r.field!=null?s=a=vR(r,n):(e.data?a=Ut(n.getData(e.data).aggregate):(o=VQ(yn({type:"aggregate",groupby:_t(r.groupby)},r.aggregate),n),o.params.key=n.keyRef(r.groupby),o.params.pulse=vR(r,n),s=a=Ut(n.add(o))),i=n.keyRef(r.groupby,!0))):s=Ut(n.add(md(null,[{}]))),s||(s=vR(e,n)),{key:i,pulse:s,parent:a}}function vR(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:Ut(t.getData(e.data).output)}function _v(e,t,n,r,i){this.scope=e,this.input=t,this.output=n,this.values=r,this.aggregate=i,this.index={}}_v.fromEntries=function(e,t){const n=t.length,r=t[n-1],i=t[n-2];let o=t[0],s=null,a=1;for(o&&o.type==="load"&&(o=t[1]),e.add(t[0]);a<n;++a)t[a].params.pulse=Ut(t[a-1]),e.add(t[a]),t[a].type==="aggregate"&&(s=t[a]);return new _v(e,o,i,r,s)};function U$e(e){return xt(e)?e:null}function phe(e,t,n){const r=tL(n.op,n.field);let i;if(t.ops){for(let o=0,s=t.as.length;o<s;++o)if(t.as[o]===r)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((i=n.op.signal)?e.signalRef(i):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(r))}function LE(e,t,n,r,i,o,s){const a=t[n]||(t[n]={}),l=fPt(o);let u=U$e(i),c,d;if(u!=null&&(e=t.scope,u=u+(l?"|"+l:""),c=a[u]),!c){const h=o?{field:Iz,pulse:t.countsRef(e,i,o)}:{field:e.fieldRef(i),pulse:Ut(t.output)};l&&(h.sort=e.sortRef(o)),d=e.add(eL(r,void 0,h)),s&&(t.index[i]=d),c=Ut(d),u!=null&&(a[u]=c)}return c}_v.prototype={countsRef(e,t,n){const r=this,i=r.counts||(r.counts={}),o=U$e(t);let s,a,l;return o!=null&&(e=r.scope,s=i[o]),s?n&&n.field&&phe(e,s.agg.params,n):(l={groupby:e.fieldRef(t,"key"),pulse:Ut(r.output)},n&&n.field&&phe(e,l,n),a=e.add(C$e(l)),s=e.add(md({pulse:Ut(a)})),s={agg:a,ref:Ut(s)},o!=null&&(i[o]=s)),s.ref},tuplesRef(){return Ut(this.values)},extentRef(e,t){return LE(e,this,"extent","extent",t,!1)},domainRef(e,t){return LE(e,this,"domain","values",t,!1)},valuesRef(e,t,n){return LE(e,this,"vals","values",t,n||!0)},lookupRef(e,t){return LE(e,this,"lookup","tupleindex",t,!1)},indataRef(e,t){return LE(e,this,"indata","tupleindex",t,!0,!0)}};function WNt(e,t,n){const r=e.from.facet,i=r.name,o=vR(r,t);let s;r.name||Re("Facet must have a name: "+ot(r)),r.data||Re("Facet must reference a data set: "+ot(r)),r.field?s=t.add(I$e({field:t.fieldRef(r.field),pulse:o})):r.groupby?s=t.add(kPt({key:t.keyRef(r.groupby),group:Ut(t.proxy(n.parent)),pulse:o})):Re("Facet must specify groupby or field: "+ot(r));const a=t.fork(),l=a.add(md()),u=a.add(gb({pulse:Ut(l)}));a.addData(i,new _v(a,l,l,u)),a.addSignal("parent",null),s.params.subflow={$subflow:a.parse(e).toRuntime()}}function qNt(e,t,n){const r=t.add(I$e({pulse:n.pulse})),i=t.fork();i.add(gb()),i.addSignal("parent",null),r.params.subflow={$subflow:i.parse(e).toRuntime()}}function H$e(e,t,n){const r=e.remove,i=e.insert,o=e.toggle,s=e.modify,a=e.values,l=t.add(SM()),u="if("+e.trigger+',modify("'+n+'",'+[i,r,o,s,a].map(d=>d??"null").join(",")+"),0)",c=Dh(u,t);l.update=c.$expr,l.params=c.$params}function sL(e,t){const n=j$e(e),r=e.type===rL,i=e.from&&e.from.facet,o=e.overlap;let s=e.layout||n===PQ||n===MQ,a,l,u,c,d,h,f;const p=n===DQ||s||i,m=VNt(e.from,r,t);l=t.add(CPt({key:m.key||(e.key?nA(e.key):void 0),pulse:m.pulse,clean:!r}));const g=Ut(l);l=u=t.add(md({pulse:g})),l=t.add(MPt({markdef:ONt(e),interactive:LNt(e.interactive,t),clip:NNt(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:Ut(l)}));const y=Ut(l);l=c=t.add(k$e(S$e(e.encode,e.type,n,e.style,t,{mod:!1,pulse:y}))),l.params.parent=t.encode(),e.transform&&e.transform.forEach(w=>{const E=VQ(w,t),S=E.metadata;(S.generates||S.changes)&&Re("Mark transforms should not generate new data."),S.nomod||(c.params.mod=!0),E.params.pulse=Ut(l),t.add(l=E)}),e.sort&&(l=t.add(UPt({sort:t.compareRef(e.sort),pulse:Ut(l)})));const v=Ut(l);(i||s)&&(s=t.add($$e({layout:t.objectProperty(e.layout),legends:t.legends,mark:y,pulse:v})),h=Ut(s));const b=t.add(A$e({mark:y,pulse:h||v}));f=Ut(b),r&&(p&&(a=t.operators,a.pop(),s&&a.pop()),t.pushState(v,h||f,g),i?WNt(e,t,m):p?qNt(e,t,m):t.parse(e),t.popState(),p&&(s&&a.push(s),a.push(b))),o&&(f=GNt(o,f,t));const _=t.add(R$e({pulse:f})),x=t.add(gb({pulse:Ut(_)},void 0,t.parent()));e.name!=null&&(d=e.name,t.addData(d,new _v(t,u,_,x)),e.on&&e.on.forEach(w=>{(w.insert||w.remove||w.toggle)&&Re("Marks only support modify triggers."),H$e(w,t,d)}))}function GNt(e,t,n){const r=e.method,i=e.bound,o=e.separation,s={separation:co(o)?n.signalRef(o.signal):o,method:co(r)?n.signalRef(r.signal):r,pulse:t};if(e.order&&(s.sort=n.compareRef({field:e.order})),i){const a=i.tolerance;s.boundTolerance=co(a)?n.signalRef(a.signal):+a,s.boundScale=n.scaleRef(i.scale),s.boundOrient=i.orient}return Ut(n.add(OPt(s)))}function YNt(e,t){const n=t.config.legend,r=e.encode||{},i=kl(e,n),o=r.legend||{},s=o.name||void 0,a=o.interactive,l=o.style,u={};let c=0,d,h,f;BQ.forEach(b=>e[b]?(u[b]=e[b],c=c||e[b]):0),c||Re("Missing valid scale for legend.");const p=KNt(e,t.scaleType(c)),m={title:e.title!=null,scales:u,type:p,vgrad:p!=="symbol"&&i.isVertical()},g=Ut(t.add(md(null,[m]))),y={enter:{x:{value:0},y:{value:0}}},v=Ut(t.add($Pt(h={type:p,scale:t.scaleRef(c),count:t.objectProperty(i("tickCount")),limit:t.property(i("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)})));return p===yR?(f=[xNt(e,c,n,r.gradient),lhe(e,n,r.labels,v)],h.count=h.count||t.signalRef(`max(2,2*floor((${jy(i.gradientLength())})/100))`)):p===Mz?f=[_Nt(e,c,n,r.gradient,v),lhe(e,n,r.labels,v)]:(d=CNt(e,n),f=[TNt(e,n,r,v,jy(d.columns))],h.size=JNt(e,t,f[0].marks)),f=[iA({role:GMt,from:g,encode:y,marks:f,layout:d,interactive:a})],m.title&&f.push(PNt(e,n,r.title,g)),sL(iA({role:WMt,from:g,encode:N_(QNt(i,e,n),o,U2),marks:f,aria:i("aria"),description:i("description"),zindex:i("zindex"),name:s,interactive:a,style:l}),t)}function KNt(e,t){let n=e.type||ahe;return!e.type&&XNt(e)===1&&(e.fill||e.stroke)&&(n=VK(t)?yR:S7(t)?Mz:ahe),n!==yR?n:S7(t)?Mz:yR}function XNt(e){return BQ.reduce((t,n)=>t+(e[n]?1:0),0)}function QNt(e,t,n){const r={enter:{},update:{}};return vs(r,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),r}function JNt(e,t,n){const r=jy(mhe("size",e,n)),i=jy(mhe("strokeWidth",e,n)),o=jy(ZNt(n[1].encode,t,z2));return Dh(`max(ceil(sqrt(${r})+${i}),${o})`,t)}function mhe(e,t,n){return t[e]?`scale("${t[e]}",datum)`:F$e(e,n[0].encode)}function ZNt(e,t,n){return F$e("fontSize",e)||bNt("fontSize",t,n)}const eOt=`item.orient==="${O_}"?-90:item.orient==="${L_}"?90:0`;function tOt(e,t){e=xt(e)?{text:e}:e;const n=kl(e,t.config.title),r=e.encode||{},i=r.group||{},o=i.name||void 0,s=i.interactive,a=i.style,l=[],u={},c=Ut(t.add(md(null,[u])));return l.push(iOt(e,n,nOt(e),c)),e.subtitle&&l.push(oOt(e,n,r.subtitle,c)),sL(iA({role:QMt,from:c,encode:rOt(n,i),marks:l,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:o,interactive:s,style:a}),t)}function nOt(e){const t=e.encode;return t&&t.title||yn({name:e.name,interactive:e.interactive,style:e.style},t)}function rOt(e,t){const n={enter:{},update:{}};return vs(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:zQ},angle:{signal:eOt},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),N_(n,t,U2)}function iOt(e,t,n,r){const i={value:0},o=e.text,s={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return vs(s,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),du({type:yb,role:JMt,style:cNt,from:r,encode:s},n)}function oOt(e,t,n,r){const i={value:0},o=e.subtitle,s={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return vs(s,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),du({type:yb,role:ZMt,style:dNt,from:r,encode:s},n)}function sOt(e,t){const n=[];e.transform&&e.transform.forEach(r=>{n.push(VQ(r,t))}),e.on&&e.on.forEach(r=>{H$e(r,t,e.name)}),t.addDataPipeline(e.name,aOt(e,t,n))}function aOt(e,t,n){const r=[];let i=null,o=!1,s=!1,a,l,u,c,d;for(e.values?co(e.values)||mR(e.format)?(r.push(ghe(t,e)),r.push(i=P0())):r.push(i=P0({$ingest:e.values,$format:e.format})):e.url?mR(e.url)||mR(e.format)?(r.push(ghe(t,e)),r.push(i=P0())):r.push(i=P0({$request:e.url,$format:e.format})):e.source&&(i=a=_t(e.source).map(h=>Ut(t.getData(h).output)),r.push(null)),l=0,u=n.length;l<u;++l)c=n[l],d=c.metadata,!i&&!d.source&&r.push(i=P0()),r.push(c),d.generates&&(s=!0),d.modifies&&!s&&(o=!0),d.source?i=c:d.changes&&(i=null);return a&&(u=a.length-1,r[0]=jPt({derive:o,pulse:u?a:a[0]}),(o||u)&&r.splice(1,0,P0())),i||r.push(P0()),r.push(gb({})),r}function P0(e){const t=md({},e);return t.metadata={source:!0},t}function ghe(e,t){return DPt({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}const V$e=e=>e===zg||e===gd,aL=(e,t,n)=>co(e)?dOt(e.signal,t,n):e===O_||e===gd?t:n,Io=(e,t,n)=>co(e)?uOt(e.signal,t,n):V$e(e)?t:n,Qc=(e,t,n)=>co(e)?cOt(e.signal,t,n):V$e(e)?n:t,W$e=(e,t,n)=>co(e)?hOt(e.signal,t,n):e===gd?{value:t}:{value:n},lOt=(e,t,n)=>co(e)?fOt(e.signal,t,n):e===L_?{value:t}:{value:n},uOt=(e,t,n)=>q$e(`${e} === '${gd}' || ${e} === '${zg}'`,t,n),cOt=(e,t,n)=>q$e(`${e} !== '${gd}' && ${e} !== '${zg}'`,t,n),dOt=(e,t,n)=>WQ(`${e} === '${O_}' || ${e} === '${gd}'`,t,n),hOt=(e,t,n)=>WQ(`${e} === '${gd}'`,t,n),fOt=(e,t,n)=>WQ(`${e} === '${L_}'`,t,n),q$e=(e,t,n)=>(t=t!=null?ko(t):t,n=n!=null?ko(n):n,yhe(t)&&yhe(n)?(t=t?t.signal||ot(t.value):null,n=n?n.signal||ot(n.value):null,{signal:`${e} ? (${t}) : (${n})`}):[yn({test:e},t)].concat(n||[])),yhe=e=>e==null||Object.keys(e).length===1,WQ=(e,t,n)=>({signal:`${e} ? (${j1(t)}) : (${j1(n)})`}),pOt=(e,t,n,r,i)=>({signal:(r!=null?`${e} === '${O_}' ? (${j1(r)}) : `:"")+(n!=null?`${e} === '${zg}' ? (${j1(n)}) : `:"")+(i!=null?`${e} === '${L_}' ? (${j1(i)}) : `:"")+(t!=null?`${e} === '${gd}' ? (${j1(t)}) : `:"")+"(null)"}),j1=e=>co(e)?e.signal:e==null?null:ot(e),mOt=(e,t)=>t===0?0:co(e)?{signal:`(${e.signal}) * ${t}`}:{value:e*t},pw=(e,t)=>{const n=e.signal;return n&&n.endsWith("(null)")?{signal:n.slice(0,-6)+t.signal}:e};function e1(e,t,n,r){let i;if(t&&Tt(t,e))return t[e];if(Tt(n,e))return n[e];if(e.startsWith("title")){switch(e){case"titleColor":i="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":i=e[5].toLowerCase()+e.slice(6)}return r[FQ][i]}else if(e.startsWith("label")){switch(e){case"labelColor":i="fill";break;case"labelFont":case"labelFontSize":i=e[5].toLowerCase()+e.slice(6)}return r[z2][i]}return null}function vhe(e){const t={};for(const n of e)if(n)for(const r in n)t[r]=1;return Object.keys(t)}function gOt(e,t){var n=t.config,r=n.style,i=n.axis,o=t.scaleType(e.scale)==="band"&&n.axisBand,s=e.orient,a,l,u;if(co(s)){const d=vhe([n.axisX,n.axisY]),h=vhe([n.axisTop,n.axisBottom,n.axisLeft,n.axisRight]);a={};for(u of d)a[u]=Io(s,e1(u,n.axisX,i,r),e1(u,n.axisY,i,r));l={};for(u of h)l[u]=pOt(s.signal,e1(u,n.axisTop,i,r),e1(u,n.axisBottom,i,r),e1(u,n.axisLeft,i,r),e1(u,n.axisRight,i,r))}else a=s===gd||s===zg?n.axisX:n.axisY,l=n["axis"+s[0].toUpperCase()+s.slice(1)];return a||l||o?yn({},i,a,l,o):i}function yOt(e,t,n,r){const i=kl(e,t),o=e.orient;let s,a;const l={enter:s={opacity:Wn},update:a={opacity:Lu},exit:{opacity:Wn}};vs(l,{stroke:i("domainColor"),strokeCap:i("domainCap"),strokeDash:i("domainDash"),strokeDashOffset:i("domainDashOffset"),strokeWidth:i("domainWidth"),strokeOpacity:i("domainOpacity")});const u=bhe(e,0),c=bhe(e,1);return s.x=a.x=Io(o,u,Wn),s.x2=a.x2=Io(o,c),s.y=a.y=Qc(o,u,Wn),s.y2=a.y2=Qc(o,c),du({type:jQ,role:jMt,from:r,encode:l},n)}function bhe(e,t){return{scale:e.scale,range:t}}function vOt(e,t,n,r,i){const o=kl(e,t),s=e.orient,a=e.gridScale,l=aL(s,1,-1),u=bOt(e.offset,l);let c,d,h;const f={enter:c={opacity:Wn},update:h={opacity:Lu},exit:d={opacity:Wn}};vs(f,{stroke:o("gridColor"),strokeCap:o("gridCap"),strokeDash:o("gridDash"),strokeDashOffset:o("gridDashOffset"),strokeOpacity:o("gridOpacity"),strokeWidth:o("gridWidth")});const p={scale:e.scale,field:Ou,band:i.band,extra:i.extra,offset:i.offset,round:o("tickRound")},m=Io(s,{signal:"height"},{signal:"width"}),g=a?{scale:a,range:0,mult:l,offset:u}:{value:0,offset:u},y=a?{scale:a,range:1,mult:l,offset:u}:yn(m,{mult:l,offset:u});return c.x=h.x=Io(s,p,g),c.y=h.y=Qc(s,p,g),c.x2=h.x2=Qc(s,y),c.y2=h.y2=Io(s,y),d.x=Io(s,p),d.y=Qc(s,p),du({type:jQ,role:zMt,key:Ou,from:r,encode:f},n)}function bOt(e,t){if(t!==1)if(!wt(e))e=co(t)?{signal:`(${t.signal}) * (${e||0})`}:t*(e||0);else{let n=e=yn({},e);for(;n.mult!=null;)if(wt(n.mult))n=n.mult=yn({},n.mult);else return n.mult=co(t)?{signal:`(${n.mult}) * (${t.signal})`}:n.mult*t,e;n.mult=t}return e}function wOt(e,t,n,r,i,o){const s=kl(e,t),a=e.orient,l=aL(a,-1,1);let u,c,d;const h={enter:u={opacity:Wn},update:d={opacity:Lu},exit:c={opacity:Wn}};vs(h,{stroke:s("tickColor"),strokeCap:s("tickCap"),strokeDash:s("tickDash"),strokeDashOffset:s("tickDashOffset"),strokeOpacity:s("tickOpacity"),strokeWidth:s("tickWidth")});const f=ko(i);f.mult=l;const p={scale:e.scale,field:Ou,band:o.band,extra:o.extra,offset:o.offset,round:s("tickRound")};return d.y=u.y=Io(a,Wn,p),d.y2=u.y2=Io(a,f),c.x=Io(a,p),d.x=u.x=Qc(a,Wn,p),d.x2=u.x2=Qc(a,f),c.y=Qc(a,p),du({type:jQ,role:HMt,key:Ou,from:r,encode:h},n)}function oB(e,t,n,r,i){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+r+","+i+")"}}function xOt(e,t,n,r,i,o){const s=kl(e,t),a=e.orient,l=e.scale,u=aL(a,-1,1),c=jy(s("labelFlush")),d=jy(s("labelFlushOffset")),h=s("labelAlign"),f=s("labelBaseline");let p=c===0||!!c,m;const g=ko(i);g.mult=u,g.offset=ko(s("labelPadding")||0),g.offset.mult=u;const y={scale:l,field:Ou,band:.5,offset:B$e(o.offset,s("labelOffset"))},v=Io(a,p?oB(l,c,'"left"','"right"','"center"'):{value:"center"},lOt(a,"left","right")),b=Io(a,W$e(a,"bottom","top"),p?oB(l,c,'"top"','"bottom"','"middle"'):{value:"middle"}),_=oB(l,c,`-(${d})`,d,0);p=p&&d;const x={opacity:Wn,x:Io(a,y,g),y:Qc(a,y,g)},w={enter:x,update:m={opacity:Lu,text:{field:LQ},x:x.x,y:x.y,align:v,baseline:b},exit:{opacity:Wn,x:x.x,y:x.y}};vs(w,{dx:!h&&p?Io(a,_):null,dy:!f&&p?Qc(a,_):null}),vs(w,{angle:s("labelAngle"),fill:s("labelColor"),fillOpacity:s("labelOpacity"),font:s("labelFont"),fontSize:s("labelFontSize"),fontWeight:s("labelFontWeight"),fontStyle:s("labelFontStyle"),limit:s("labelLimit"),lineHeight:s("labelLineHeight")},{align:h,baseline:f});const E=s("labelBound");let S=s("labelOverlap");return S=S||E?{separation:s("labelSeparation"),method:S,order:"datum.index",bound:E?{scale:l,orient:a,tolerance:E}:null}:void 0,m.align!==v&&(m.align=pw(m.align,v)),m.baseline!==b&&(m.baseline=pw(m.baseline,b)),du({type:yb,role:UMt,style:z2,key:Ou,from:r,encode:w,overlap:S},n)}function _Ot(e,t,n,r){const i=kl(e,t),o=e.orient,s=aL(o,-1,1);let a,l;const u={enter:a={opacity:Wn,anchor:ko(i("titleAnchor",null)),align:{signal:zQ}},update:l=yn({},a,{opacity:Lu,text:ko(e.title)}),exit:{opacity:Wn}},c={signal:`lerp(range("${e.scale}"), ${iL(0,1,.5)})`};return l.x=Io(o,c),l.y=Qc(o,c),a.angle=Io(o,Wn,mOt(s,90)),a.baseline=Io(o,W$e(o,zg,gd),{value:zg}),l.angle=a.angle,l.baseline=a.baseline,vs(u,{fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),angle:i("titleAngle"),baseline:i("titleBaseline")}),EOt(i,o,u,n),u.update.align=pw(u.update.align,a.align),u.update.angle=pw(u.update.angle,a.angle),u.update.baseline=pw(u.update.baseline,a.baseline),du({type:yb,role:VMt,style:FQ,from:r,encode:u},n)}function EOt(e,t,n,r){const i=(a,l)=>a!=null?(n.update[l]=pw(ko(a),n.update[l]),!1):!g1(l,r),o=i(e("titleX"),"x"),s=i(e("titleY"),"y");n.enter.auto=s===o?ko(s):Io(t,ko(s),ko(o))}function SOt(e,t){const n=gOt(e,t),r=e.encode||{},i=r.axis||{},o=i.name||void 0,s=i.interactive,a=i.style,l=kl(e,n),u=wNt(l),c={scale:e.scale,ticks:!!l("ticks"),labels:!!l("labels"),grid:!!l("grid"),domain:!!l("domain"),title:e.title!=null},d=Ut(t.add(md({},[c]))),h=Ut(t.add(TPt({scale:t.scaleRef(e.scale),extra:t.property(u.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),f=[];let p;return c.grid&&f.push(vOt(e,n,r.grid,h,u)),c.ticks&&(p=l("tickSize"),f.push(wOt(e,n,r.ticks,h,p,u))),c.labels&&(p=c.ticks?p:0,f.push(xOt(e,n,r.labels,h,p,u))),c.domain&&f.push(yOt(e,n,r.domain,d)),c.title&&f.push(_Ot(e,n,r.title,d)),sL(iA({role:BMt,from:d,encode:N_(TOt(l,e),i,U2),marks:f,aria:l("aria"),description:l("description"),zindex:l("zindex"),name:o,interactive:s,style:a}),t)}function TOt(e,t){const n={enter:{},update:{}};return vs(n,{orient:e("orient"),offset:e("offset")||0,position:Tc(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:`abs(span(range("${t.scale}")))`},translate:e("translate"),format:t.format,formatType:t.formatType}),n}function G$e(e,t,n){const r=_t(e.signals),i=_t(e.scales);return n||r.forEach(o=>T$e(o,t)),_t(e.projections).forEach(o=>rNt(o,t)),i.forEach(o=>WPt(o,t)),_t(e.data).forEach(o=>sOt(o,t)),i.forEach(o=>qPt(o,t)),(n||r).forEach(o=>SPt(o,t)),_t(e.axes).forEach(o=>SOt(o,t)),_t(e.marks).forEach(o=>sL(o,t)),_t(e.legends).forEach(o=>YNt(o,t)),e.title&&tOt(e.title,t),t.parseLambdas(),t}const COt=e=>N_({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e);function AOt(e,t){const n=t.config,r=Ut(t.root=t.add(SM())),i=kOt(e,n);i.forEach(u=>T$e(u,t)),t.description=e.description||n.description,t.eventConfig=n.events,t.legends=t.objectProperty(n.legend&&n.legend.layout),t.locale=n.locale;const o=t.add(md()),s=t.add(k$e(S$e(COt(e.encode),rL,MQ,e.style,t,{pulse:Ut(o)}))),a=t.add($$e({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:r,pulse:Ut(s)}));t.operators.pop(),t.pushState(Ut(s),Ut(a),null),G$e(e,t,i),t.operators.push(a);let l=t.add(A$e({mark:r,pulse:Ut(a)}));return l=t.add(R$e({pulse:Ut(l)})),l=t.add(gb({pulse:Ut(l)})),t.addData("root",new _v(t,o,o,l)),t}function FE(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function kOt(e,t){const n=s=>Tc(e[s],t[s]),r=[FE("background",n("background")),FE("autosize",OMt(n("autosize"))),FE("padding",FMt(n("padding"))),FE("width",n("width")||0),FE("height",n("height")||0)],i=r.reduce((s,a)=>(s[a.name]=a,s),{}),o={};return _t(e.signals).forEach(s=>{Tt(i,s.name)?s=yn(i[s.name],s):r.push(s),o[s.name]=s}),_t(t.signals).forEach(s=>{!Tt(o,s.name)&&!Tt(i,s.name)&&r.push(s)}),r}function Y$e(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function whe(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}Y$e.prototype=whe.prototype={parse(e){return G$e(e,this)},fork(){return new whe(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach(t=>{t.$ref=e.id}),e.refs=null),e},proxy(e){const t=e instanceof kz?Ut(e):e;return this.add(BPt({value:t}))},addStream(e){return this.streams.push(e),e.id=this.id(),e},addUpdate(e){return this.updates.push(e),e},finish(){let e,t;this.root&&(this.root.root=!0);for(e in this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(r,i,o){let s,a;r&&(s=r.data||(r.data={}),a=s[i]||(s[i]=[]),a.push(o))}for(e in this.data){t=this.data[e],n(t.input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values");for(const r in t.index)n(t.index[r],e,"index:"+r)}return this},pushState(e,t,n){this._encode.push(Ut(this.add(gb({pulse:e})))),this._parent.push(t),this._lookup.push(n?Ut(this.proxy(n)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return zn(this._parent)},encode(){return zn(this._encode)},lookup(){return zn(this._lookup)},markpath(){const e=this._markpath;return++e[e.length-1]},fieldRef(e,t){if(xt(e))return nA(e,t);e.signal||Re("Unsupported field reference: "+ot(e));const n=e.signal;let r=this.field[n];if(!r){const i={name:this.signalRef(n)};t&&(i.as=t),this.field[n]=r=Ut(this.add(IPt(i)))}return r},compareRef(e){let t=!1;const n=o=>co(o)?(t=!0,this.signalRef(o.signal)):pPt(o)?(t=!0,this.exprRef(o.expr)):o,r=_t(e.field).map(n),i=_t(e.order).map(n);return t?Ut(this.add(she({fields:r,orders:i}))):ihe(r,i)},keyRef(e,t){let n=!1;const r=o=>co(o)?(n=!0,Ut(i[o.signal])):o,i=this.signals;return e=_t(e).map(r),n?Ut(this.add(RPt({fields:e,flat:t}))):cPt(e,t)},sortRef(e){if(!e)return e;const t=tL(e.op,e.field),n=e.order||dPt;return n.signal?Ut(this.add(she({fields:t,orders:this.signalRef(n.signal)}))):ihe(t,n)},event(e,t){const n=e+":"+t;if(!this.events[n]){const r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[n]=r}return this.events[n]},hasOwnSignal(e){return Tt(this.signals,e)},addSignal(e,t){this.hasOwnSignal(e)&&Re("Duplicate signal name: "+ot(e));const n=t instanceof kz?t:this.add(SM(t));return this.signals[e]=n},getSignal(e){return this.signals[e]||Re("Unrecognized signal name: "+ot(e)),this.signals[e]},signalRef(e){return this.signals[e]?Ut(this.signals[e]):(Tt(this.lambdas,e)||(this.lambdas[e]=this.add(SM(null))),Ut(this.lambdas[e]))},parseLambdas(){const e=Object.keys(this.lambdas);for(let t=0,n=e.length;t<n;++t){const r=e[t],i=Dh(r,this),o=this.lambdas[r];o.params=i.$params,o.update=i.$expr}},property(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty(e){return!e||!wt(e)?e:this.signalRef(e.signal||qQ(e))},exprRef(e,t){const n={expr:Dh(e,this)};return t&&(n.expr.$name=t),Ut(this.add(APt(n)))},addBinding(e,t){this.bindings||Re("Nested signals do not support binding: "+ot(e)),this.bindings.push(yn({signal:e},t))},addScaleProj(e,t){Tt(this.scales,e)&&Re("Duplicate scale or projection name: "+ot(e)),this.scales[e]=this.add(t)},addScale(e,t){this.addScaleProj(e,zPt(t))},addProjection(e,t){this.addScaleProj(e,FPt(t))},getScale(e){return this.scales[e]||Re("Unrecognized scale name: "+ot(e)),this.scales[e]},scaleRef(e){return Ut(this.getScale(e))},scaleType(e){return this.getScale(e).params.type},projectionRef(e){return this.scaleRef(e)},projectionType(e){return this.scaleType(e)},addData(e,t){return Tt(this.data,e)&&Re("Duplicate data set name: "+ot(e)),this.data[e]=t},getData(e){return this.data[e]||Re("Undefined data set name: "+ot(e)),this.data[e]},addDataPipeline(e,t){return Tt(this.data,e)&&Re("Duplicate data set name: "+ot(e)),this.addData(e,_v.fromEntries(this,t))}};function qQ(e){return(Pe(e)?IOt:ROt)(e)}function IOt(e){const t=e.length;let n="[";for(let r=0;r<t;++r){const i=e[r];n+=(r>0?",":"")+(wt(i)?i.signal||qQ(i):ot(i))}return n+"]"}function ROt(e){let t="{",n=0,r,i;for(r in e)i=e[r],t+=(++n>1?",":"")+ot(r)+":"+(wt(i)?i.signal||qQ(i):ot(i));return t+"}"}function $Ot(){const e="sans-serif",r="#4c78a8",i="#000",o="#888",s="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:r},area:{fill:r},image:null,line:{stroke:r,strokeWidth:2},path:{stroke:r},rect:{fill:r},rule:{stroke:i},shape:{stroke:r},symbol:{fill:r,size:64},text:{fill:i,font:e,fontSize:11},trail:{fill:r,size:2},style:{"guide-label":{fill:i,font:e,fontSize:10},"guide-title":{fill:i,font:e,fontSize:11,fontWeight:"bold"},"group-title":{fill:i,font:e,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:i,font:e,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:s},view:{fill:"transparent"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:o,grid:!1,gridWidth:1,gridColor:s,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:o,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:s,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:o,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}function DOt(e,t,n){return wt(e)||Re("Input Vega specification must be an object."),t=x_($Ot(),t,e.config),AOt(e,new Y$e(t,n)).toRuntime()}var MOt="5.33.0";yn(Jw,Swt,JTt,RCt,m2t,ukt,O3t,m3t,F3t,lIt,vIt,TIt);const POt=Object.freeze(Object.defineProperty({__proto__:null,Bounds:qi,CanvasHandler:D2,CanvasRenderer:jD,DATE:wl,DAY:Gs,DAYOFYEAR:Rh,Dataflow:cw,Debug:VTe,Error:nY,EventStream:oO,Gradient:Lke,GroupItem:IO,HOURS:lu,Handler:mX,HybridHandler:k3e,HybridRenderer:N7,Info:HTe,Item:kO,MILLISECONDS:od,MINUTES:uu,MONTH:Js,Marks:cu,MultiPulse:kY,None:UTe,Operator:Ir,Parameters:iO,Pulse:dg,QUARTER:bl,RenderType:jm,Renderer:$2,ResourceLoader:Vke,SECONDS:qu,SVGHandler:m3e,SVGRenderer:xX,SVGStringRenderer:A3e,Scenegraph:a3e,TIME_UNITS:vY,Transform:Se,View:h$e,WEEK:oo,Warn:rY,YEAR:fs,accessor:Al,accessorFields:Qs,accessorName:_i,array:_t,ascending:E_,bandwidthNRD:DY,bin:SAe,bootstrapCI:TAe,boundClip:F3e,boundContext:A2,boundItem:R7,boundMark:r3e,boundStroke:Wp,changeset:hb,clampRange:tCe,codegenExpression:BRe,compare:lY,constant:aa,cumulativeLogNormal:FY,cumulativeNormal:aO,cumulativeUniform:UY,dayofyear:$Ce,debounce:uY,defaultLocale:EY,definition:xAe,densityLogNormal:LY,densityNormal:MY,densityUniform:zY,domChild:ro,domClear:Au,domCreate:Fm,domFind:pX,dotbin:CAe,error:Re,expressionFunction:ji,extend:yn,extent:Ah,extentIndex:nCe,falsy:dm,fastmap:S_,field:Vu,flush:rCe,font:PO,fontFamily:R2,fontSize:Gh,format:KI,formatLocale:vD,formats:CY,hasOwnProperty:Tt,id:h2,identity:sa,inferType:cAe,inferTypes:dAe,ingest:ir,inherits:dt,inrange:N1,interpolate:WK,interpolateColors:CO,interpolateRange:Eke,intersect:P3e,intersectBoxLine:O1,intersectPath:ZK,intersectPoint:eX,intersectRule:qke,isArray:Pe,isBoolean:u0,isDate:ug,isFunction:vn,isIterable:iCe,isNumber:er,isObject:wt,isRegExp:cY,isString:xt,isTuple:nO,key:dY,lerp:oCe,lineHeight:Fg,loader:eO,locale:lAe,logger:iY,lruCache:sCe,markup:wX,merge:aCe,mergeConfig:x_,multiLineOffset:dX,one:w_,pad:lCe,panLinear:KTe,panLog:XTe,panPow:QTe,panSymlog:JTe,parse:DOt,parseExpression:ORe,parseSelector:m0,path:hO,pathCurves:XK,pathEqual:B3e,pathParse:ix,pathRectangle:jke,pathRender:HC,pathSymbols:Bke,pathTrail:zke,peek:zn,point:OO,projection:jX,quantileLogNormal:BY,quantileNormal:lO,quantileUniform:HY,quantiles:RY,quantizeInterpolator:Ske,quarter:ZTe,quartiles:$Y,get random(){return Gu},randomInteger:k1t,randomKDE:NY,randomLCG:A1t,randomLogNormal:kAe,randomMixture:IAe,randomNormal:PY,randomUniform:RAe,read:pAe,regressionConstant:VY,regressionExp:DAe,regressionLinear:WY,regressionLoess:NAe,regressionLog:$Ae,regressionPoly:PAe,regressionPow:MAe,regressionQuad:qY,renderModule:LO,repeat:fS,resetDefaultLocale:Sbt,resetSVGClipId:Hke,resetSVGDefIds:gTt,responseType:fAe,runtimeContext:ZRe,sampleCurve:cO,sampleLogNormal:OY,sampleNormal:sO,sampleUniform:jY,scale:nr,sceneEqual:_X,sceneFromJSON:o3e,scenePickVisit:DD,sceneToJSON:i3e,sceneVisit:sd,sceneZOrder:tX,scheme:qK,serializeXML:E3e,setHybridRendererOptions:hTt,setRandom:T1t,span:f2,splitAccessPath:Vh,stringValue:ot,textMetrics:Kl,timeBin:YCe,timeFloor:FCe,timeFormatLocale:LC,timeInterval:k_,timeOffset:zCe,timeSequence:VCe,timeUnitSpecifier:RCe,timeUnits:bY,toBoolean:hY,toDate:fY,toNumber:Ks,toSet:id,toString:pY,transform:_Ae,transforms:Jw,truncate:uCe,truthy:Wu,tupleid:Ht,typeParsers:f7,utcFloor:BCe,utcInterval:I_,utcOffset:UCe,utcSequence:WCe,utcdayofyear:PCe,utcquarter:eCe,utcweek:NCe,version:MOt,visitArray:ym,week:DCe,writeConfig:__,zero:$m,zoomLinear:oY,zoomLog:sY,zoomPow:hD,zoomSymlog:aY},Symbol.toStringTag,{value:"Module"}));function NOt(e,t,n){let r;t.x2&&(t.x?(n&&e.x>e.x2&&(r=e.x,e.x=e.x2,e.x2=r),e.width=e.x2-e.x):e.x=e.x2-(e.width||0)),t.xc&&(e.x=e.xc-(e.width||0)/2),t.y2&&(t.y?(n&&e.y>e.y2&&(r=e.y,e.y=e.y2,e.y2=r),e.height=e.y2-e.y):e.y=e.y2-(e.height||0)),t.yc&&(e.y=e.yc-(e.height||0)/2)}var OOt={NaN:NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},LOt={"*":(e,t)=>e*t,"+":(e,t)=>e+t,"-":(e,t)=>e-t,"/":(e,t)=>e/t,"%":(e,t)=>e%t,">":(e,t)=>e>t,"<":(e,t)=>e<t,"<=":(e,t)=>e<=t,">=":(e,t)=>e>=t,"==":(e,t)=>e==t,"!=":(e,t)=>e!=t,"===":(e,t)=>e===t,"!==":(e,t)=>e!==t,"&":(e,t)=>e&t,"|":(e,t)=>e|t,"^":(e,t)=>e^t,"<<":(e,t)=>e<<t,">>":(e,t)=>e>>t,">>>":(e,t)=>e>>>t},FOt={"+":e=>+e,"-":e=>-e,"~":e=>~e,"!":e=>!e};const BOt=Array.prototype.slice,N0=(e,t,n)=>{const r=n?n(t[0]):t[0];return r[e].apply(r,BOt.call(t,1))},jOt=(e,t,n,r,i,o,s)=>new Date(e,t||0,n??1,r||0,i||0,o||0,s||0);var zOt={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(e,t,n)=>Math.max(t,Math.min(n,e)),now:Date.now,utc:Date.UTC,datetime:jOt,date:e=>new Date(e).getDate(),day:e=>new Date(e).getDay(),year:e=>new Date(e).getFullYear(),month:e=>new Date(e).getMonth(),hours:e=>new Date(e).getHours(),minutes:e=>new Date(e).getMinutes(),seconds:e=>new Date(e).getSeconds(),milliseconds:e=>new Date(e).getMilliseconds(),time:e=>new Date(e).getTime(),timezoneoffset:e=>new Date(e).getTimezoneOffset(),utcdate:e=>new Date(e).getUTCDate(),utcday:e=>new Date(e).getUTCDay(),utcyear:e=>new Date(e).getUTCFullYear(),utcmonth:e=>new Date(e).getUTCMonth(),utchours:e=>new Date(e).getUTCHours(),utcminutes:e=>new Date(e).getUTCMinutes(),utcseconds:e=>new Date(e).getUTCSeconds(),utcmilliseconds:e=>new Date(e).getUTCMilliseconds(),length:e=>e.length,join:function(){return N0("join",arguments)},indexof:function(){return N0("indexOf",arguments)},lastindexof:function(){return N0("lastIndexOf",arguments)},slice:function(){return N0("slice",arguments)},reverse:e=>e.slice().reverse(),sort:e=>e.slice().sort(E_),parseFloat,parseInt,upper:e=>String(e).toUpperCase(),lower:e=>String(e).toLowerCase(),substring:function(){return N0("substring",arguments,String)},split:function(){return N0("split",arguments,String)},replace:function(){return N0("replace",arguments,String)},trim:e=>String(e).trim(),btoa:e=>btoa(e),atob:e=>atob(e),regexp:RegExp,test:(e,t)=>RegExp(e).test(t)};const UOt=["view","item","group","xy","x","y"],Nz=new Set([Function,eval,setTimeout,setInterval]);typeof setImmediate=="function"&&Nz.add(setImmediate);const HOt={Literal:(e,t)=>t.value,Identifier:(e,t)=>{const n=t.name;return e.memberDepth>0?n:n==="datum"?e.datum:n==="event"?e.event:n==="item"?e.item:OOt[n]||e.params["$"+n]},MemberExpression:(e,t)=>{const n=!t.computed,r=e(t.object);n&&(e.memberDepth+=1);const i=e(t.property);if(n&&(e.memberDepth-=1),Nz.has(r[i])){console.error(`Prevented interpretation of member "${i}" which could lead to insecure code execution`);return}return r[i]},CallExpression:(e,t)=>{const n=t.arguments;let r=t.callee.name;return r.startsWith("_")&&(r=r.slice(1)),r==="if"?e(n[0])?e(n[1]):e(n[2]):(e.fn[r]||zOt[r]).apply(e.fn,n.map(e))},ArrayExpression:(e,t)=>t.elements.map(e),BinaryExpression:(e,t)=>LOt[t.operator](e(t.left),e(t.right)),UnaryExpression:(e,t)=>FOt[t.operator](e(t.argument)),ConditionalExpression:(e,t)=>e(t.test)?e(t.consequent):e(t.alternate),LogicalExpression:(e,t)=>t.operator==="&&"?e(t.left)&&e(t.right):e(t.left)||e(t.right),ObjectExpression:(e,t)=>t.properties.reduce((n,r)=>{e.memberDepth+=1;const i=e(r.key);return e.memberDepth-=1,Nz.has(e(r.value))?console.error(`Prevented interpretation of property "${i}" which could lead to insecure code execution`):n[i]=e(r.value),n},{})};function BE(e,t,n,r,i,o){const s=a=>HOt[a.type](s,a);return s.memberDepth=0,s.fn=Object.create(t),s.params=n,s.datum=r,s.event=i,s.item=o,UOt.forEach(a=>s.fn[a]=function(){return i.vega[a](...arguments)}),s(e)}var VOt={operator(e,t){const n=t.ast,r=e.functions;return i=>BE(n,r,i)},parameter(e,t){const n=t.ast,r=e.functions;return(i,o)=>BE(n,r,o,i)},event(e,t){const n=t.ast,r=e.functions;return i=>BE(n,r,void 0,void 0,i)},handler(e,t){const n=t.ast,r=e.functions;return(i,o)=>{const s=o.item&&o.item.datum;return BE(n,r,i,s,o)}},encode(e,t){const{marktype:n,channels:r}=t,i=e.functions,o=n==="group"||n==="image"||n==="rect";return(s,a)=>{const l=s.datum;let u=0,c;for(const d in r)c=BE(r[d].ast,i,a,l,void 0,s),s[d]!==c&&(s[d]=c,u=1);return n!=="rule"&&NOt(s,r,o),u}}};const WOt="5.23.0",qOt={version:WOt};function GQ(e){return Ye(e,"or")}function YQ(e){return Ye(e,"and")}function KQ(e){return Ye(e,"not")}function bR(e,t){if(KQ(e))bR(e.not,t);else if(YQ(e))for(const n of e.and)bR(n,t);else if(GQ(e))for(const n of e.or)bR(n,t);else t(e)}function mw(e,t){return KQ(e)?{not:mw(e.not,t)}:YQ(e)?{and:e.and.map(n=>mw(n,t))}:GQ(e)?{or:e.or.map(n=>mw(n,t))}:t(e)}const sn=structuredClone;function K$e(e){throw new Error(e)}function fx(e,t){const n={};for(const r of t)Tt(e,r)&&(n[r]=e[r]);return n}function gl(e,t){const n={...e};for(const r of t)delete n[r];return n}Set.prototype.toJSON=function(){return`Set(${[...this].map(e=>_r(e)).join(",")})`};function On(e){if(er(e))return e;const t=xt(e)?e:_r(e);if(t.length<250)return t;let n=0;for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);n=(n<<5)-n+i,n=n&n}return n}function Oz(e){return e===!1||e===null}function An(e,t){return e.includes(t)}function px(e,t){let n=0;for(const[r,i]of e.entries())if(t(i,r,n++))return!0;return!1}function XQ(e,t){let n=0;for(const[r,i]of e.entries())if(!t(i,r,n++))return!1;return!0}function X$e(e,...t){for(const n of t)GOt(e,n??{});return e}function GOt(e,t){for(const n of qe(t))__(e,n,t[n],!0)}function Zd(e,t){const n=[],r={};let i;for(const o of e)i=t(o),!(i in r)&&(r[i]=1,n.push(o));return n}function YOt(e,t){const n=qe(e),r=qe(t);if(n.length!==r.length)return!1;for(const i of n)if(e[i]!==t[i])return!1;return!0}function Q$e(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function QQ(e,t){for(const n of e)if(t.has(n))return!0;return!1}function Lz(e){const t=new Set;for(const n of e){const i=Vh(n).map((s,a)=>a===0?s:`[${s}]`),o=i.map((s,a)=>i.slice(0,a+1).join(""));for(const s of o)t.add(s)}return t}function JQ(e,t){return e===void 0||t===void 0?!0:QQ(Lz(e),Lz(t))}function xr(e){return qe(e).length===0}const qe=Object.keys,ps=Object.values,Ug=Object.entries;function oA(e){return e===!0||e===!1}function ti(e){const t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function AT(e,t){return KQ(e)?`!(${AT(e.not,t)})`:YQ(e)?`(${e.and.map(n=>AT(n,t)).join(") && (")})`:GQ(e)?`(${e.or.map(n=>AT(n,t)).join(") || (")})`:t(e)}function TM(e,t){if(t.length===0)return!0;const n=t.shift();return n in e&&TM(e[n],t)&&delete e[n],xr(e)}function H2(e){return e.charAt(0).toUpperCase()+e.substr(1)}function ZQ(e,t="datum"){const n=Vh(e),r=[];for(let i=1;i<=n.length;i++){const o=`[${n.slice(0,i).map(ot).join("][")}]`;r.push(`${t}${o}`)}return r.join(" && ")}function J$e(e,t="datum"){return`${t}[${ot(Vh(e).join("."))}]`}function cr(e){return`datum['${e.replaceAll("'","\\'")}']`}function KOt(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function Ku(e){return`${Vh(e).map(KOt).join("\\.")}`}function Ev(e,t,n){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function F_(e){return`${Vh(e).join(".")}`}function mx(e){return e?Vh(e).length:0}function Fi(...e){return e.find(t=>t!==void 0)}let Z$e=42;function eDe(e){const t=++Z$e;return e?String(e)+t:t}function XOt(){Z$e=42}function tDe(e){return nDe(e)?e:`__${e}`}function nDe(e){return e.startsWith("__")}function sA(e){if(e!==void 0)return(e%360+360)%360}function lL(e){return er(e)?!0:!isNaN(e)&&!isNaN(parseFloat(e))}const xhe=Object.getPrototypeOf(structuredClone({}));function Hl(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor.name!==t.constructor.name)return!1;let n,r;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Hl(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const o of e.entries())if(!t.has(o[0]))return!1;for(const o of e.entries())if(!Hl(o[1],t.get(o[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const o of e.entries())if(!t.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&e.valueOf!==xhe.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&e.toString!==xhe.toString)return e.toString()===t.toString();const i=Object.keys(e);if(n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!Hl(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function _r(e){const t=[];return function n(r){if(r&&r.toJSON&&typeof r.toJSON=="function"&&(r=r.toJSON()),r===void 0)return;if(typeof r=="number")return isFinite(r)?""+r:"null";if(typeof r!="object")return JSON.stringify(r);let i,o;if(Array.isArray(r)){for(o="[",i=0;i<r.length;i++)i&&(o+=","),o+=n(r[i])||"null";return o+"]"}if(r===null)return"null";if(t.includes(r))throw new TypeError("Converting circular structure to JSON");const s=t.push(r)-1,a=Object.keys(r).sort();for(o="",i=0;i<a.length;i++){const l=a[i],u=n(r[l]);u&&(o&&(o+=","),o+=JSON.stringify(l)+":"+u)}return t.splice(s,1),`{${o}}`}(e)}function Ye(e,t){return wt(e)&&Tt(e,t)&&e[t]!==void 0}const np="row",rp="column",uL="facet",ri="x",Bo="y",yd="x2",Qh="y2",g0="xOffset",B_="yOffset",vd="radius",Gp="radius2",oc="theta",Yp="theta2",bd="latitude",wd="longitude",xd="latitude2",Xu="longitude2",y0="time",_l="color",Jh="fill",Zh="stroke",El="shape",Kp="size",vb="angle",Xp="opacity",v0="fillOpacity",b0="strokeOpacity",w0="strokeWidth",x0="strokeDash",V2="text",gx="order",W2="detail",cL="key",Sv="tooltip",dL="href",hL="url",fL="description",QOt={x:1,y:1,x2:1,y2:1},rDe={theta:1,theta2:1,radius:1,radius2:1};function iDe(e){return Tt(rDe,e)}const eJ={longitude:1,longitude2:1,latitude:1,latitude2:1};function oDe(e){switch(e){case bd:return"y";case xd:return"y2";case wd:return"x";case Xu:return"x2"}}function sDe(e){return Tt(eJ,e)}const JOt=qe(eJ),tJ={...QOt,...rDe,...eJ,xOffset:1,yOffset:1,color:1,fill:1,stroke:1,time:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1};function gw(e){return e===_l||e===Jh||e===Zh}const aDe={row:1,column:1,facet:1},Mu=qe(aDe),nJ={...tJ,...aDe},ZOt=qe(nJ),{order:iZt,detail:oZt,tooltip:sZt,...eLt}=nJ,{row:aZt,column:lZt,facet:uZt,...tLt}=eLt;function nLt(e){return Tt(tLt,e)}function lDe(e){return Tt(nJ,e)}const rLt=[yd,Qh,xd,Xu,Yp,Gp];function uDe(e){return bb(e)!==e}function bb(e){switch(e){case yd:return ri;case Qh:return Bo;case xd:return bd;case Xu:return wd;case Yp:return oc;case Gp:return vd}return e}function Hg(e){if(iDe(e))switch(e){case oc:return"startAngle";case Yp:return"endAngle";case vd:return"outerRadius";case Gp:return"innerRadius"}return e}function ef(e){switch(e){case ri:return yd;case Bo:return Qh;case bd:return xd;case wd:return Xu;case oc:return Yp;case vd:return Gp}}function Sl(e){switch(e){case ri:case yd:return"width";case Bo:case Qh:return"height"}}function cDe(e){switch(e){case ri:return"xOffset";case Bo:return"yOffset";case yd:return"x2Offset";case Qh:return"y2Offset";case oc:return"thetaOffset";case vd:return"radiusOffset";case Yp:return"theta2Offset";case Gp:return"radius2Offset"}}function rJ(e){switch(e){case ri:return"xOffset";case Bo:return"yOffset"}}function iLt(e){switch(e){case"xOffset":return"x";case"yOffset":return"y"}}const oLt=qe(tJ),{x:cZt,y:dZt,x2:hZt,y2:fZt,xOffset:pZt,yOffset:mZt,latitude:gZt,longitude:yZt,latitude2:vZt,longitude2:bZt,theta:wZt,theta2:xZt,radius:_Zt,radius2:EZt,...iJ}=tJ,sLt=qe(iJ),oJ={x:1,y:1},Qp=qe(oJ);function Bi(e){return Tt(oJ,e)}const sJ={theta:1,radius:1},aLt=qe(sJ);function pL(e){return e==="width"?ri:Bo}const dDe={xOffset:1,yOffset:1};function q2(e){return Tt(dDe,e)}const lLt={time:1};function sB(e){return e in lLt}const{text:SZt,tooltip:TZt,href:CZt,url:AZt,description:kZt,detail:IZt,key:RZt,order:$Zt,...hDe}=iJ,uLt=qe(hDe);function cLt(e){return Tt(iJ,e)}function dLt(e){switch(e){case _l:case Jh:case Zh:case Kp:case El:case Xp:case w0:case x0:return!0;case v0:case b0:case vb:case y0:return!1}}const fDe={...oJ,...sJ,...dDe,...hDe},aJ=qe(fDe);function tf(e){return Tt(fDe,e)}function hLt(e,t){return pLt(e)[t]}const pDe={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},{geoshape:DZt,...fLt}=pDe;function pLt(e){switch(e){case _l:case Jh:case Zh:case fL:case W2:case cL:case Sv:case dL:case gx:case Xp:case v0:case b0:case w0:case uL:case np:case rp:return pDe;case ri:case Bo:case g0:case B_:case bd:case wd:case y0:return fLt;case yd:case Qh:case xd:case Xu:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case Kp:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case x0:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case El:return{point:"always",geoshape:"always"};case V2:return{text:"always"};case vb:return{point:"always",square:"always",text:"always"};case hL:return{image:"always"};case oc:return{text:"always",arc:"always"};case vd:return{text:"always",arc:"always"};case Yp:case Gp:return{arc:"always"}}}function aB(e){switch(e){case ri:case Bo:case oc:case vd:case g0:case B_:case Kp:case vb:case w0:case Xp:case v0:case b0:case y0:case yd:case Qh:case Yp:case Gp:return;case uL:case np:case rp:case El:case x0:case V2:case Sv:case dL:case hL:case fL:return"discrete";case _l:case Jh:case Zh:return"flexible";case bd:case wd:case xd:case Xu:case W2:case cL:case gx:return}}const mLt={argmax:1,argmin:1,average:1,count:1,distinct:1,exponential:1,exponentialb:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},gLt={count:1,min:1,max:1};function Rp(e){return Ye(e,"argmin")}function _0(e){return Ye(e,"argmax")}function lJ(e){return xt(e)&&Tt(mLt,e)}const yLt=new Set(["count","valid","missing","distinct"]);function mL(e){return xt(e)&&yLt.has(e)}function vLt(e){return xt(e)&&An(["min","max"],e)}const bLt=new Set(["count","sum","distinct","valid","missing"]),wLt=new Set(["mean","average","median","q1","q3","min","max"]);function mDe(e){return u0(e)&&(e=AL(e,void 0)),"bin"+qe(e).map(t=>gL(e[t])?ti(`_${t}_${Ug(e[t])}`):ti(`_${t}_${e[t]}`)).join("")}function Fr(e){return e===!0||wb(e)&&!e.binned}function Jo(e){return e==="binned"||wb(e)&&e.binned===!0}function wb(e){return wt(e)}function gL(e){return Ye(e,"param")}function _he(e){switch(e){case np:case rp:case Kp:case _l:case Jh:case Zh:case w0:case Xp:case v0:case b0:case El:return 6;case x0:return 4;default:return 10}}function G2(e){return Ye(e,"expr")}function es(e,{level:t}={level:0}){const n=qe(e||{}),r={};for(const i of n)r[i]=t===0?Bl(e[i]):es(e[i],{level:t-1});return r}function gDe(e){const{anchor:t,frame:n,offset:r,orient:i,angle:o,limit:s,color:a,subtitleColor:l,subtitleFont:u,subtitleFontSize:c,subtitleFontStyle:d,subtitleFontWeight:h,subtitleLineHeight:f,subtitlePadding:p,...m}=e,g={...m,...a?{fill:a}:{}},y={...t?{anchor:t}:{},...n?{frame:n}:{},...r?{offset:r}:{},...i?{orient:i}:{},...o!==void 0?{angle:o}:{},...s!==void 0?{limit:s}:{}},v={...l?{subtitleColor:l}:{},...u?{subtitleFont:u}:{},...c?{subtitleFontSize:c}:{},...d?{subtitleFontStyle:d}:{},...h?{subtitleFontWeight:h}:{},...f?{subtitleLineHeight:f}:{},...p?{subtitlePadding:p}:{}},b=fx(e,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:g,subtitleMarkConfig:b,nonMarkTitleProperties:y,subtitle:v}}function xm(e){return xt(e)||Pe(e)&&xt(e[0])}function Ot(e){return Ye(e,"signal")}function xb(e){return Ye(e,"step")}function xLt(e){return Pe(e)?!1:Ye(e,"fields")&&!Ye(e,"data")}function _Lt(e){return Pe(e)?!1:Ye(e,"fields")&&Ye(e,"data")}function Wf(e){return Pe(e)?!1:Ye(e,"field")&&Ye(e,"data")}const ELt={aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1},SLt=qe(ELt),TLt={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},Fz=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function yDe(e){const t=Pe(e.condition)?e.condition.map(Ehe):Ehe(e.condition);return{...Bl(e),condition:t}}function Bl(e){if(G2(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function Ehe(e){if(G2(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function Wr(e){if(G2(e)){const{expr:t,...n}=e;return{signal:t,...n}}return Ot(e)?e:e!==void 0?{value:e}:void 0}function CLt(e){return Ot(e)?e.signal:ot(e)}function She(e){return Ot(e)?e.signal:ot(e.value)}function Uc(e){return Ot(e)?e.signal:e==null?null:ot(e)}function ALt(e,t,n){for(const r of n){const i=Mh(r,t.markDef,t.config);i!==void 0&&(e[r]=Wr(i))}return e}function vDe(e){return[].concat(e.type,e.style??[])}function wr(e,t,n,r={}){const{vgChannel:i,ignoreVgConfig:o}=r;return i&&Ye(t,i)?t[i]:t[e]!==void 0?t[e]:o&&(!i||i===e)?void 0:Mh(e,t,n,r)}function Mh(e,t,n,{vgChannel:r}={}){const i=Bz(e,t,n.style);return Fi(r?i:void 0,i,r?n[t.type][r]:void 0,n[t.type][e],r?n.mark[r]:n.mark[e])}function Bz(e,t,n){return bDe(e,vDe(t),n)}function bDe(e,t,n){t=_t(t);let r;for(const i of t){const o=n[i];Ye(o,e)&&(r=o[e])}return r}function wDe(e,t){return _t(e).reduce((n,r)=>(n.field.push(pt(r,t)),n.order.push(r.sort??"ascending"),n),{field:[],order:[]})}function xDe(e,t){const n=[...e];return t.forEach(r=>{for(const i of n)if(Hl(i,r))return;n.push(r)}),n}function _De(e,t){return Hl(e,t)||!t?e:e?[..._t(e),..._t(t)].join(", "):t}function EDe(e,t){const n=e.value,r=t.value;if(n==null||r===null)return{explicit:e.explicit,value:null};if((xm(n)||Ot(n))&&(xm(r)||Ot(r)))return{explicit:e.explicit,value:_De(n,r)};if(xm(n)||Ot(n))return{explicit:e.explicit,value:n};if(xm(r)||Ot(r))return{explicit:e.explicit,value:r};if(!xm(n)&&!Ot(n)&&!xm(r)&&!Ot(r))return{explicit:e.explicit,value:xDe(n,r)};throw new Error("It should never reach here")}function uJ(e){return`Invalid specification ${_r(e)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}const kLt='Autosize "fit" only works for single views and layered views.';function The(e){return`${e=="width"?"Width":"Height"} "container" only works for single views and layered views.`}function Che(e){const t=e=="width"?"Width":"Height",n=e=="width"?"x":"y";return`${t} "container" only works well with autosize "fit" or "fit-${n}".`}function Ahe(e){return e?`Dropping "fit-${e}" because spec has discrete ${Sl(e)}.`:'Dropping "fit" because spec has discrete size.'}function cJ(e){return`Unknown field for ${e}. Cannot calculate view size.`}function khe(e){return`Cannot project a selection on encoding channel "${e}", which has no field.`}function ILt(e,t){return`Cannot project a selection on encoding channel "${e}" as it uses an aggregate function ("${t}").`}function RLt(e){return`The "nearest" transform is not supported for ${e} marks.`}function SDe(e){return`Selection not supported for ${e} yet.`}function $Lt(e){return`Cannot find a selection named "${e}".`}const DLt="Scale bindings are currently only supported for scales with unbinned, continuous domains.",MLt="Sequntial scales are deprecated. The available quantitative scale type values are linear, log, pow, sqrt, symlog, time and utc",PLt="Legend bindings are only supported for selections over an individual field or encoding channel.";function NLt(e){return`Lookups can only be performed on selection parameters. "${e}" is a variable parameter.`}function OLt(e){return`Cannot define and lookup the "${e}" selection in the same view. Try moving the lookup into a second, layered view?`}const LLt="The same selection must be used to override scale domains in a layered view.",FLt='Interval selections should be initialized using "x", "y", "longitude", or "latitude" keys.';function BLt(e){return`Unknown repeated value "${e}".`}function Ihe(e){return`The "columns" property cannot be used when "${e}" has nested row/column.`}const jLt="Multiple timer selections in one unit spec are not supported. Ignoring all but the first.",dJ="Animation involving facet, layer, or concat is currently unsupported.";function zLt(e){return`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${ot(e)}.`}function ULt(e,t,n,r){return(e.length?"Multiple ":"No ")+`matching ${ot(t)} encoding found for selection ${ot(n.param)}. Using "field": ${ot(r)}.`}const HLt="Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function VLt(e){return`Unrecognized parse "${e}".`}function Rhe(e,t,n){return`An ancestor parsed field "${e}" as ${n} but a child wants to parse the field as ${t}.`}const WLt="Attempt to add the same child twice.";function qLt(e){return`Ignoring an invalid transform: ${_r(e)}.`}const GLt='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function $he(e){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${e} are dropped.`}function YLt(e){const{parentProjection:t,projection:n}=e;return`Layer's shared projection ${_r(t)} is overridden by a child projection ${_r(n)}.`}const KLt="Arc marks uses theta channel rather than angle, replacing angle with theta.";function XLt(e){return`${e}Offset dropped because ${e} is continuous`}function QLt(e,t,n){return`Channel ${e} is a ${t}. Converted to {value: ${_r(n)}}.`}function TDe(e){return`Invalid field type "${e}".`}function JLt(e,t){return`Invalid field type "${e}" for aggregate: "${t}", using "quantitative" instead.`}function ZLt(e){return`Invalid aggregation operator "${e}".`}function CDe(e,t){const{fill:n,stroke:r}=t;return`Dropping color ${e} as the plot also has ${n&&r?"fill and stroke":n?"fill":"stroke"}.`}function e4t(e){return`Position range does not support relative band size for ${e}.`}function jz(e,t){return`Dropping ${_r(e)} from channel "${t}" since it does not contain any data field, datum, value, or signal.`}const t4t="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function yL(e,t,n){return`${e} dropped as it is incompatible with "${t}".`}function n4t(e){return`${e}-encoding is dropped as ${e} is not a valid encoding channel.`}function r4t(e){return`${e} encoding should be discrete (ordinal / nominal / binned).`}function i4t(e){return`${e} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}function o4t(e){return`Facet encoding dropped as ${e.join(" and ")} ${e.length>1?"are":"is"} also specified.`}function lB(e,t){return`Using discrete channel "${e}" to encode "${t}" field can be misleading as it does not encode ${t==="ordinal"?"order":"magnitude"}.`}function s4t(e){return`The ${e} for range marks cannot be an expression`}function a4t(e,t){return`Line mark is for continuous lines and thus cannot be used with ${e&&t?"x2 and y2":e?"x2":"y2"}. We will use the rule mark (line segments) instead.`}function l4t(e,t){return`Specified orient "${e}" overridden with "${t}".`}function u4t(e){return`Cannot use the scale property "${e}" with non-color channel.`}function c4t(e){return`Cannot use the relative band size with ${e} scale.`}function d4t(e){return`Using unaggregated domain with raw field has no effect (${_r(e)}).`}function h4t(e){return`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}function f4t(e){return`Unaggregated domain is currently unsupported for log scale (${_r(e)}).`}function p4t(e){return`Cannot apply size to non-oriented mark "${e}".`}function m4t(e,t,n){return`Channel "${e}" does not work with "${t}" scale. We are using "${n}" scale instead.`}function g4t(e,t){return`FieldDef does not work with "${e}" scale. We are using "${t}" scale instead.`}function ADe(e,t,n){return`${n}-scale's "${t}" is dropped as it does not work with ${e} scale.`}function kDe(e){return`The step for "${e}" is dropped because the ${e==="width"?"x":"y"} is continuous.`}function y4t(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${_r(n)} and ${_r(r)}). Using ${_r(n)}.`}function v4t(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${_r(n)} and ${_r(r)}). Using the union of the two domains.`}function b4t(e){return`Setting the scale to be independent for "${e}" means we also have to set the guide (axis or legend) to be independent.`}function w4t(e){return`Dropping sort property ${_r(e)} as unioned domains only support boolean or op "count", "min", and "max".`}const Dhe="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",x4t="Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.",_4t="Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.",E4t="Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.";function S4t(e){return`Cannot stack "${e}" if there is already "${e}2".`}function T4t(e){return`Stack is applied to a non-linear scale (${e}).`}function C4t(e){return`Stacking is applied even though the aggregate function is non-summative ("${e}").`}function CM(e,t){return`Invalid ${e}: ${_r(t)}.`}function A4t(e){return`Dropping day from datetime ${_r(e)} as day cannot be combined with other units.`}function k4t(e,t){return`${t?"extent ":""}${t&&e?"and ":""}${e?"center ":""}${t&&e?"are ":"is "}not needed when data are aggregated.`}function I4t(e,t,n){return`${e} is not usually used with ${t} for ${n}.`}function R4t(e,t){return`Continuous axis should not have customized aggregation function ${e}; ${t} already agregates the axis.`}function Mhe(e){return`1D error band does not support ${e}.`}function IDe(e){return`Channel ${e} is required for "binned" bin.`}function $4t(e){return`Channel ${e} should not be used with "binned" bin.`}function D4t(e){return`Domain for ${e} is required for threshold scale.`}const RDe=iY(rY);let Tv=RDe;function M4t(e){return Tv=e,Tv}function P4t(){return Tv=RDe,Tv}function hJ(...e){Tv.error(...e)}function Qe(...e){Tv.warn(...e)}function N4t(...e){Tv.debug(...e)}function _b(e){if(e&&wt(e)){for(const t of pJ)if(Ye(e,t))return!0}return!1}const $De=["january","february","march","april","may","june","july","august","september","october","november","december"],O4t=$De.map(e=>e.substr(0,3)),DDe=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],L4t=DDe.map(e=>e.substr(0,3));function F4t(e){if(lL(e)&&(e=+e),er(e))return e>4&&Qe(CM("quarter",e)),e-1;throw new Error(CM("quarter",e))}function B4t(e){if(lL(e)&&(e=+e),er(e))return e-1;{const t=e.toLowerCase(),n=$De.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=O4t.indexOf(r);if(i!==-1)return i;throw new Error(CM("month",e))}}function j4t(e){if(lL(e)&&(e=+e),er(e))return e%7;{const t=e.toLowerCase(),n=DDe.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=L4t.indexOf(r);if(i!==-1)return i;throw new Error(CM("day",e))}}function fJ(e,t){const n=[];if(t&&e.day!==void 0&&qe(e).length>1&&(Qe(A4t(e)),e=sn(e),delete e.day),e.year!==void 0?n.push(e.year):n.push(2012),e.month!==void 0){const r=t?B4t(e.month):e.month;n.push(r)}else if(e.quarter!==void 0){const r=t?F4t(e.quarter):e.quarter;n.push(er(r)?r*3:`${r}*3`)}else n.push(0);if(e.date!==void 0)n.push(e.date);else if(e.day!==void 0){const r=t?j4t(e.day):e.day;n.push(er(r)?r+1:`${r}+1`)}else n.push(1);for(const r of["hours","minutes","seconds","milliseconds"]){const i=e[r];n.push(typeof i>"u"?0:i)}return n}function Cv(e){const n=fJ(e,!0).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function z4t(e){const n=fJ(e,!1).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function U4t(e){const t=fJ(e,!0);return e.utc?+new Date(Date.UTC(...t)):+new Date(...t)}const MDe={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},pJ=qe(MDe);function H4t(e){return Tt(MDe,e)}function Eb(e){return wt(e)?e.binned:PDe(e)}function PDe(e){return e&&e.startsWith("binned")}function mJ(e){return e.startsWith("utc")}function V4t(e){return e.substring(3)}const W4t={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function vL(e){return pJ.filter(t=>ODe(e,t))}function NDe(e){const t=vL(e);return t[t.length-1]}function ODe(e,t){const n=e.indexOf(t);return!(n<0||n>0&&t==="seconds"&&e.charAt(n-1)==="i"||e.length>n+3&&t==="day"&&e.charAt(n+3)==="o"||n>0&&t==="year"&&e.charAt(n-1)==="f")}function q4t(e,t,{end:n}={end:!1}){const r=ZQ(t),i=mJ(e)?"utc":"";function o(l){return l==="quarter"?`(${i}quarter(${r})-1)`:`${i}${l}(${r})`}let s;const a={};for(const l of pJ)ODe(e,l)&&(a[l]=o(l),s=l);return n&&(a[s]+="+1"),z4t(a)}function LDe(e){if(!e)return;const t=vL(e);return`timeUnitSpecifier(${_r(t)}, ${_r(W4t)})`}function G4t(e,t,n){if(!e)return;const r=LDe(e);return`${n||mJ(e)?"utc":"time"}Format(${t}, ${r})`}function Do(e){if(!e)return;let t;return xt(e)?PDe(e)?t={unit:e.substring(6),binned:!0}:t={unit:e}:wt(e)&&(t={...e,...e.unit?{unit:e.unit}:{}}),mJ(t.unit)&&(t.utc=!0,t.unit=V4t(t.unit)),t}function Y4t(e){const{utc:t,...n}=Do(e);return n.unit?(t?"utc":"")+qe(n).map(r=>ti(`${r==="unit"?"":`_${r}_`}${n[r]}`)).join(""):(t?"utc":"")+"timeunit"+qe(n).map(r=>ti(`_${r}_${n[r]}`)).join("")}function FDe(e,t=n=>n){const n=Do(e),r=NDe(n.unit);if(r&&r!=="day"){const i={year:2001,month:1,date:1,hours:0,minutes:0,seconds:0,milliseconds:0},{step:o,part:s}=BDe(r,n.step),a={...i,[s]:+i[s]+o};return`${t(Cv(a))} - ${t(Cv(i))}`}}const K4t={year:1,month:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1};function X4t(e){return Tt(K4t,e)}function BDe(e,t=1){if(X4t(e))return{part:e,step:t};switch(e){case"day":case"dayofyear":return{part:"date",step:t};case"quarter":return{part:"month",step:t*3};case"week":return{part:"date",step:t*7}}}function Q4t(e){return Ye(e,"param")}function gJ(e){return!!(e!=null&&e.field)&&e.equal!==void 0}function yJ(e){return!!(e!=null&&e.field)&&e.lt!==void 0}function vJ(e){return!!(e!=null&&e.field)&&e.lte!==void 0}function bJ(e){return!!(e!=null&&e.field)&&e.gt!==void 0}function wJ(e){return!!(e!=null&&e.field)&&e.gte!==void 0}function xJ(e){if(e!=null&&e.field){if(Pe(e.range)&&e.range.length===2)return!0;if(Ot(e.range))return!0}return!1}function _J(e){return!!(e!=null&&e.field)&&(Pe(e.oneOf)||Pe(e.in))}function J4t(e){return!!(e!=null&&e.field)&&e.valid!==void 0}function jDe(e){return _J(e)||gJ(e)||xJ(e)||yJ(e)||bJ(e)||vJ(e)||wJ(e)}function Md(e,t){return kL(e,{timeUnit:t,wrapTime:!0})}function Z4t(e,t){return e.map(n=>Md(n,t))}function zDe(e,t=!0){const{field:n}=e,r=Do(e.timeUnit),{unit:i,binned:o}=r||{},s=pt(e,{expr:"datum"}),a=i?`time(${o?s:q4t(i,n)})`:s;if(gJ(e))return`${a}===${Md(e.equal,i)}`;if(yJ(e)){const l=e.lt;return`${a}<${Md(l,i)}`}else if(bJ(e)){const l=e.gt;return`${a}>${Md(l,i)}`}else if(vJ(e)){const l=e.lte;return`${a}<=${Md(l,i)}`}else if(wJ(e)){const l=e.gte;return`${a}>=${Md(l,i)}`}else{if(_J(e))return`indexof([${Z4t(e.oneOf,i).join(",")}], ${a}) !== -1`;if(J4t(e))return bL(a,e.valid);if(xJ(e)){const{range:l}=es(e),u=Ot(l)?{signal:`${l.signal}[0]`}:l[0],c=Ot(l)?{signal:`${l.signal}[1]`}:l[1];if(u!==null&&c!==null&&t)return"inrange("+a+", ["+Md(u,i)+", "+Md(c,i)+"])";const d=[];return u!==null&&d.push(`${a} >= ${Md(u,i)}`),c!==null&&d.push(`${a} <= ${Md(c,i)}`),d.length>0?d.join(" && "):"true"}}throw new Error(`Invalid field predicate: ${_r(e)}`)}function bL(e,t=!0){return t?`isValid(${e}) && isFinite(+${e})`:`!isValid(${e}) || !isFinite(+${e})`}function eFt(e){return jDe(e)&&e.timeUnit?{...e,timeUnit:Do(e.timeUnit)}:e}const Y2={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};function tFt(e){return e==="quantitative"||e==="temporal"}function UDe(e){return e==="ordinal"||e==="nominal"}const Av=Y2.quantitative,EJ=Y2.ordinal,yx=Y2.temporal,SJ=Y2.nominal,j_=Y2.geojson;function nFt(e){if(e)switch(e=e.toLowerCase(),e){case"q":case Av:return"quantitative";case"t":case yx:return"temporal";case"o":case EJ:return"ordinal";case"n":case SJ:return"nominal";case j_:return"geojson"}}const ns={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",TIME:"time",UTC:"utc",POINT:"point",BAND:"band"},zz={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};function rFt(e,t){const n=zz[e],r=zz[t];return n===r||n==="ordinal-position"&&r==="time"||r==="ordinal-position"&&n==="time"}const iFt={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function Phe(e){return iFt[e]}const HDe=new Set(["linear","log","pow","sqrt","symlog"]),VDe=new Set([...HDe,"time","utc"]);function WDe(e){return HDe.has(e)}const qDe=new Set(["quantile","quantize","threshold"]),oFt=new Set([...VDe,...qDe,"sequential","identity"]),sFt=new Set(["ordinal","bin-ordinal","point","band"]);function No(e){return sFt.has(e)}function ad(e){return oFt.has(e)}function eh(e){return VDe.has(e)}function vx(e){return qDe.has(e)}const aFt={pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,tickBandPaddingInner:.25,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:4,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0,framesPerSecond:2,animationDuration:5};function lFt(e){return!xt(e)&&Ye(e,"name")}function GDe(e){return Ye(e,"param")}function uFt(e){return Ye(e,"unionWith")}function cFt(e){return wt(e)&&"field"in e}const dFt={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,domainRaw:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},{type:MZt,domain:PZt,range:NZt,rangeMax:OZt,rangeMin:LZt,scheme:FZt,...hFt}=dFt,fFt=qe(hFt);function Uz(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(e);case"bins":return!["point","band","identity","ordinal"].includes(e);case"round":return eh(e)||e==="band"||e==="point";case"padding":case"rangeMin":case"rangeMax":return eh(e)||["point","band"].includes(e);case"paddingOuter":case"align":return["point","band"].includes(e);case"paddingInner":return e==="band";case"domainMax":case"domainMid":case"domainMin":case"domainRaw":case"clamp":return eh(e);case"nice":return eh(e)||e==="quantize"||e==="threshold";case"exponent":return e==="pow";case"base":return e==="log";case"constant":return e==="symlog";case"zero":return ad(e)&&!An(["log","time","utc","threshold","quantile"],e)}}function YDe(e,t){switch(t){case"interpolate":case"scheme":case"domainMid":return gw(e)?void 0:u4t(t);case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"domainRaw":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}function pFt(e,t){return An([EJ,SJ],t)?e===void 0||No(e):t===yx?An([ns.TIME,ns.UTC,void 0],e):t===Av?WDe(e)||vx(e)||e===void 0:!0}function mFt(e,t,n=!1){if(!tf(e))return!1;switch(e){case ri:case Bo:case g0:case B_:case oc:case vd:return eh(t)||t==="band"?!0:t==="point"?!n:!1;case y0:return An(["linear","band"],t);case Kp:case w0:case Xp:case v0:case b0:case vb:return eh(t)||vx(t)||An(["band","point","ordinal"],t);case _l:case Jh:case Zh:return t!=="band";case x0:case El:return t==="ordinal"||vx(t)}}function gFt(e){return wt(e)&&"value"in e}const ja={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},KDe=ja.arc,wL=ja.area,xL=ja.bar,yFt=ja.image,_L=ja.line,EL=ja.point,vFt=ja.rect,AM=ja.rule,XDe=ja.text,TJ=ja.tick,bFt=ja.trail,CJ=ja.circle,AJ=ja.square,QDe=ja.geoshape;function E0(e){return["line","area","trail"].includes(e)}function aA(e){return["rect","bar","image","arc","tick"].includes(e)}const wFt=new Set(qe(ja));function Ph(e){return Ye(e,"type")}const xFt=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],_Ft=["fill","fillOpacity"],EFt=[...xFt,..._Ft],SFt={color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1},Nhe=qe(SFt),uB=["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],TFt={area:["line","point"],bar:uB,rect:uB,line:["point"],tick:["bandSize","thickness",...uB]},CFt={color:"#4c78a8",invalid:"break-paths-show-path-domains",timeUnitBandSize:1},AFt={mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1},JDe=qe(AFt);function kv(e){return Ye(e,"band")}const kFt={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},IFt=5,kJ={binSpacing:0,continuousBandSize:IFt,minBandSize:.25,timeUnitBandPosition:.5},RFt={...kJ,binSpacing:1},$Ft={...kJ,thickness:1};function DFt(e){return Ph(e)?e.type:e}function ZDe(e,{isPath:t}){return e===void 0||e==="break-paths-show-path-domains"?t?"break-paths-show-domains":"filter":e===null?"show":e}function IJ({markDef:e,config:t,scaleChannel:n,scaleType:r,isCountAggregate:i}){var a,l;if(!r||!ad(r)||i)return"always-valid";const o=ZDe(wr("invalid",e,t),{isPath:E0(e.type)});return((l=(a=t.scale)==null?void 0:a.invalid)==null?void 0:l[n])!==void 0?"show":o}function MFt(e){return e==="break-paths-filter-domains"||e==="break-paths-show-domains"}function eMe({scaleName:e,scale:t,mode:n}){const r=`domain('${e}')`;if(!t||!e)return;const i=`${r}[0]`,o=`peek(${r})`,s=t.domainHasZero();return s==="definitely"?{scale:e,value:0}:s==="maybe"?{signal:`scale('${e}', inrange(0, ${r}) ? 0 : ${n==="zeroOrMin"?i:o})`}:{signal:`scale('${e}', ${n==="zeroOrMin"?i:o})`}}function tMe({scaleChannel:e,channelDef:t,scale:n,scaleName:r,markDef:i,config:o}){var c;const s=n==null?void 0:n.get("type"),a=ud(t),l=mL(a==null?void 0:a.aggregate),u=IJ({scaleChannel:e,markDef:i,config:o,scaleType:s,isCountAggregate:l});if(a&&u==="show"){const d=((c=o.scale.invalid)==null?void 0:c[e])??"zero-or-min";return{test:bL(pt(a,{expr:"datum"}),!1),...PFt(d,n,r)}}}function PFt(e,t,n){if(gFt(e)){const{value:r}=e;return Ot(r)?{signal:r.signal}:{value:r}}return eMe({scale:t,scaleName:n,mode:"zeroOrMin"})}function RJ(e){const{channel:t,channelDef:n,markDef:r,scale:i,scaleName:o,config:s}=e,a=bb(t),l=$J(e),u=tMe({scaleChannel:a,channelDef:n,scale:i,scaleName:o,markDef:r,config:s});return u!==void 0?[u,l]:l}function NFt(e){const{datum:t}=e;return _b(t)?Cv(t):`${_r(t)}`}function zy(e,t,n,r){const i={};if(t&&(i.scale=t),nf(e)){const{datum:o}=e;_b(o)?i.signal=Cv(o):Ot(o)?i.signal=o.signal:G2(o)?i.signal=o.expr:i.value=o}else i.field=pt(e,n);if(r){const{offset:o,band:s}=r;o&&(i.offset=o),s&&(i.band=s)}return i}function kM({scaleName:e,fieldOrDatumDef:t,fieldOrDatumDef2:n,offset:r,startSuffix:i,endSuffix:o="end",bandPosition:s=.5}){const a=!Ot(s)&&0<s&&s<1?"datum":void 0,l=pt(t,{expr:a,suffix:i}),u=n!==void 0?pt(n,{expr:a}):pt(t,{suffix:o,expr:a}),c={};if(s===0||s===1){c.scale=e;const d=s===0?l:u;c.field=d}else{const d=Ot(s)?`(1-${s.signal}) * ${l} + ${s.signal} * ${u}`:`${1-s} * ${l} + ${s} * ${u}`;c.signal=`scale("${e}", ${d})`}return r&&(c.offset=r),c}function OFt({scaleName:e,fieldDef:t}){const n=pt(t,{expr:"datum"}),r=pt(t,{expr:"datum",suffix:"end"});return`abs(scale("${e}", ${r}) - scale("${e}", ${n}))`}function $J({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:o,scale:s,stack:a,offset:l,defaultRef:u,bandPosition:c}){if(t){if(cn(t)){const d=s==null?void 0:s.get("type");if(Na(t)){c??(c=Vg({fieldDef:t,fieldDef2:n,markDef:r,config:i}));const{bin:h,timeUnit:f,type:p}=t;if(Fr(h)||c&&f&&p===yx)return a!=null&&a.impute?zy(t,o,{binSuffix:"mid"},{offset:l}):c&&!No(d)?kM({scaleName:o,fieldOrDatumDef:t,bandPosition:c,offset:l}):zy(t,o,Z2(t,e)?{binSuffix:"range"}:{},{offset:l});if(Jo(h)){if(et(n))return kM({scaleName:o,fieldOrDatumDef:t,fieldOrDatumDef2:n,bandPosition:c,offset:l});Qe(IDe(e===ri?yd:Qh))}}return zy(t,o,No(d)?{binSuffix:"range"}:{},{offset:l,band:d==="band"?c??t.bandPosition??.5:void 0})}else if(ld(t)){const d=t.value,h=l?{offset:l}:{};return{...kT(e,d),...h}}}return vn(u)&&(u=u()),u&&{...u,...l?{offset:l}:{}}}function kT(e,t){return An(["x","x2"],e)&&t==="width"?{field:{group:"width"}}:An(["y","y2"],e)&&t==="height"?{field:{group:"height"}}:Wr(t)}function Iv(e){return e&&e!=="number"&&e!=="time"}function nMe(e,t,n){return`${e}(${t}${n?`, ${_r(n)}`:""})`}const LFt="  ";function DJ({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:o}){var l,u;if(Iv(n))return Hc({fieldOrDatumDef:e,format:t,formatType:n,expr:r,config:o});const s=rMe(e,r,i),a=bx(e);if(t===void 0&&n===void 0&&o.customFormatTypes){if(a==="quantitative"){if(i&&o.normalizedNumberFormatType)return Hc({fieldOrDatumDef:e,format:o.normalizedNumberFormat,formatType:o.normalizedNumberFormatType,expr:r,config:o});if(o.numberFormatType)return Hc({fieldOrDatumDef:e,format:o.numberFormat,formatType:o.numberFormatType,expr:r,config:o})}if(a==="temporal"&&o.timeFormatType&&et(e)&&e.timeUnit===void 0)return Hc({fieldOrDatumDef:e,format:o.timeFormat,formatType:o.timeFormatType,expr:r,config:o})}if(xx(e)){const c=BFt({field:s,timeUnit:et(e)?(l=Do(e.timeUnit))==null?void 0:l.unit:void 0,format:t,formatType:o.timeFormatType,rawTimeFormat:o.timeFormat,isUTCScale:Sb(e)&&((u=e.scale)==null?void 0:u.type)===ns.UTC});return c?{signal:c}:void 0}if(t=Hz({type:a,specifiedFormat:t,config:o,normalizeStack:i}),et(e)&&Fr(e.bin)){const c=pt(e,{expr:r,binSuffix:"end"});return{signal:K2(s,c,t,n,o)}}else return t||bx(e)==="quantitative"?{signal:`${sMe(s,t)}`}:{signal:`isValid(${s}) ? ${s} : ""+${s}`}}function rMe(e,t,n){return et(e)?n?`${pt(e,{expr:t,suffix:"end"})}-${pt(e,{expr:t,suffix:"start"})}`:pt(e,{expr:t}):NFt(e)}function Hc({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:o,field:s}){if(s??(s=rMe(e,r,i)),s!=="datum.value"&&et(e)&&Fr(e.bin)){const a=pt(e,{expr:r,binSuffix:"end"});return{signal:K2(s,a,t,n,o)}}return{signal:nMe(n,s,t)}}function iMe(e,t,n,r,i,o){var s;if(!(xt(r)&&Iv(r))&&!(n===void 0&&r===void 0&&i.customFormatTypes&&bx(e)==="quantitative"&&(i.normalizedNumberFormatType&&wx(e)&&e.stack==="normalize"||i.numberFormatType))){if(wx(e)&&e.stack==="normalize"&&i.normalizedNumberFormat)return Hz({type:"quantitative",config:i,normalizeStack:!0});if(xx(e)){const a=et(e)?(s=Do(e.timeUnit))==null?void 0:s.unit:void 0;return a===void 0&&i.customFormatTypes&&i.timeFormatType?void 0:FFt({specifiedFormat:n,timeUnit:a,config:i,omitTimeFormatConfig:o})}return Hz({type:t,specifiedFormat:n,config:i})}}function oMe(e,t,n){var r;if(e&&(Ot(e)||e==="number"||e==="time"))return e;if(xx(t)&&n!=="time"&&n!=="utc")return et(t)&&((r=Do(t==null?void 0:t.timeUnit))!=null&&r.utc)?"utc":"time"}function Hz({type:e,specifiedFormat:t,config:n,normalizeStack:r}){if(xt(t))return t;if(e===Av)return r?n.normalizedNumberFormat:n.numberFormat}function FFt({specifiedFormat:e,timeUnit:t,config:n,omitTimeFormatConfig:r}){return e||(t?{signal:LDe(t)}:r?void 0:n.timeFormat)}function sMe(e,t){return`format(${e}, "${t||""}")`}function Ohe(e,t,n,r){return Iv(n)?nMe(n,e,t):sMe(e,(xt(t)?t:void 0)??r.numberFormat)}function K2(e,t,n,r,i){if(n===void 0&&r===void 0&&i.customFormatTypes&&i.numberFormatType)return K2(e,t,i.numberFormat,i.numberFormatType,i);const o=Ohe(e,n,r,i),s=Ohe(t,n,r,i);return`${bL(e,!1)} ? "null" : ${o} + "${LFt}" + ${s}`}function BFt({field:e,timeUnit:t,format:n,formatType:r,rawTimeFormat:i,isUTCScale:o}){return!t||n?!t&&r?`${r}(${e}, '${n}')`:(n=xt(n)?n:i,`${o?"utc":"time"}Format(${e}, '${n}')`):G4t(t,e,o)}const SL="min",jFt={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function Lhe(e){return Tt(jFt,e)}function zFt(e){return Ye(e,"encoding")}function ip(e){return e&&(e.op==="count"||Ye(e,"field"))}function aMe(e){return e&&Pe(e)}function X2(e){return Ye(e,"row")||Ye(e,"column")}function MJ(e){return Ye(e,"header")}function TL(e){return Ye(e,"facet")}function UFt(e){return Ye(e,"param")}function HFt(e){return!xt(e)&&Ye(e,"repeat")}function Fhe(e){const{field:t,timeUnit:n,bin:r,aggregate:i}=e;return{...n?{timeUnit:n}:{},...r?{bin:r}:{},...i?{aggregate:i}:{},field:t}}function PJ(e){return Ye(e,"sort")}function Vg({fieldDef:e,fieldDef2:t,markDef:n,config:r}){if(cn(e)&&e.bandPosition!==void 0)return e.bandPosition;if(et(e)){const{timeUnit:i,bin:o}=e;if(i&&!t)return Mh("timeUnitBandPosition",n,r);if(Fr(o))return .5}}function lMe({channel:e,fieldDef:t,fieldDef2:n,markDef:r,config:i,scaleType:o,useVlSizeChannel:s}){var u,c,d;const a=Sl(e),l=wr(s?"size":a,r,i,{vgChannel:a});if(l!==void 0)return l;if(et(t)){const{timeUnit:h,bin:f}=t;if(h&&!n)return{band:Mh("timeUnitBandSize",r,i)};if(Fr(f)&&!No(o))return{band:1}}if(aA(r.type))return o?No(o)?((u=i[r.type])==null?void 0:u.discreteBandSize)||{band:1}:(c=i[r.type])==null?void 0:c.continuousBandSize:(d=i[r.type])==null?void 0:d.discreteBandSize}function uMe(e,t,n,r){return Fr(e.bin)||e.timeUnit&&Na(e)&&e.type==="temporal"?Vg({fieldDef:e,fieldDef2:t,markDef:n,config:r})!==void 0:!1}function cMe(e){return Ye(e,"sort")&&!Ye(e,"field")}function Q2(e){return Ye(e,"condition")}function CL(e){const t=e==null?void 0:e.condition;return!!t&&!Pe(t)&&et(t)}function J2(e){const t=e==null?void 0:e.condition;return!!t&&!Pe(t)&&cn(t)}function VFt(e){const t=e==null?void 0:e.condition;return!!t&&(Pe(t)||ld(t))}function et(e){return Ye(e,"field")||(e==null?void 0:e.aggregate)==="count"}function bx(e){return e==null?void 0:e.type}function nf(e){return Ye(e,"datum")}function Wm(e){return Na(e)&&!RM(e)||IM(e)}function Bhe(e){return Na(e)&&e.type==="quantitative"&&!e.bin||IM(e)}function IM(e){return nf(e)&&er(e.datum)}function cn(e){return et(e)||nf(e)}function Na(e){return e&&(Ye(e,"field")||e.aggregate==="count")&&Ye(e,"type")}function ld(e){return Ye(e,"value")}function Sb(e){return Ye(e,"scale")||Ye(e,"sort")}function wx(e){return Ye(e,"axis")||Ye(e,"stack")||Ye(e,"impute")}function dMe(e){return Ye(e,"legend")}function hMe(e){return Ye(e,"format")||Ye(e,"formatType")}function WFt(e){return gl(e,["legend","axis","header","scale"])}function qFt(e){return Ye(e,"op")}function pt(e,t={}){let n=e.field;const r=t.prefix;let i=t.suffix,o="";if(YFt(e))n=tDe("count");else{let s;if(!t.nofn)if(qFt(e))s=e.op;else{const{bin:a,aggregate:l,timeUnit:u}=e;Fr(a)?(s=mDe(a),i=(t.binSuffix??"")+(t.suffix??"")):l?_0(l)?(o=`["${n}"]`,n=`argmax_${l.argmax}`):Rp(l)?(o=`["${n}"]`,n=`argmin_${l.argmin}`):s=String(l):u&&!Eb(u)&&(s=Y4t(u),i=(!["range","mid"].includes(t.binSuffix)&&t.binSuffix||"")+(t.suffix??""))}s&&(n=n?`${s}_${n}`:s)}return i&&(n=`${n}_${i}`),r&&(n=`${r}_${n}`),t.forAs?F_(n):t.expr?J$e(n,t.expr)+o:Ku(n)+o}function RM(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return et(e)&&!!e.bin;case"temporal":return!1}throw new Error(TDe(e.type))}function GFt(e){var t;return Sb(e)&&vx((t=e.scale)==null?void 0:t.type)}function YFt(e){return e.aggregate==="count"}function KFt(e,t){var s;const{field:n,bin:r,timeUnit:i,aggregate:o}=e;if(o==="count")return t.countTitle;if(Fr(r))return`${n} (binned)`;if(i&&!Eb(i)){const a=(s=Do(i))==null?void 0:s.unit;if(a)return`${n} (${vL(a).join("-")})`}else if(o)return _0(o)?`${n} for max ${o.argmax}`:Rp(o)?`${n} for min ${o.argmin}`:`${H2(o)} of ${n}`;return n}function XFt(e){const{aggregate:t,bin:n,timeUnit:r,field:i}=e;if(_0(t))return`${i} for argmax(${t.argmax})`;if(Rp(t))return`${i} for argmin(${t.argmin})`;const o=r&&!Eb(r)?Do(r):void 0,s=t||(o==null?void 0:o.unit)||(o==null?void 0:o.maxbins)&&"timeunit"||Fr(n)&&"bin";return s?`${s.toUpperCase()}(${i})`:i}const fMe=(e,t)=>{switch(t.fieldTitle){case"plain":return e.field;case"functional":return XFt(e);default:return KFt(e,t)}};let pMe=fMe;function mMe(e){pMe=e}function QFt(){mMe(fMe)}function yw(e,t,{allowDisabling:n,includeDefault:r=!0}){var a;const i=(a=NJ(e))==null?void 0:a.title;if(!et(e))return i??e.title;const o=e,s=r?OJ(o,t):void 0;return n?Fi(i,o.title,s):i??o.title??s}function NJ(e){if(wx(e)&&e.axis)return e.axis;if(dMe(e)&&e.legend)return e.legend;if(MJ(e)&&e.header)return e.header}function OJ(e,t){return pMe(e,t)}function $M(e){if(hMe(e)){const{format:t,formatType:n}=e;return{format:t,formatType:n}}else{const t=NJ(e)??{},{format:n,formatType:r}=t;return{format:n,formatType:r}}}function JFt(e,t){var o;switch(t){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(PJ(e)&&Pe(e.sort))return"ordinal";const{aggregate:n,bin:r,timeUnit:i}=e;if(i)return"temporal";if(r||n&&!_0(n)&&!Rp(n))return"quantitative";if(Sb(e)&&((o=e.scale)!=null&&o.type))switch(zz[e.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}function ud(e){if(et(e))return e;if(CL(e))return e.condition}function so(e){if(cn(e))return e;if(J2(e))return e.condition}function gMe(e,t,n,r={}){if(xt(e)||er(e)||u0(e)){const i=xt(e)?"string":er(e)?"number":"boolean";return Qe(QLt(t,i,e)),{value:e}}return cn(e)?DM(e,t,n,r):J2(e)?{...e,condition:DM(e.condition,t,n,r)}:e}function DM(e,t,n,r){if(hMe(e)){const{format:i,formatType:o,...s}=e;if(Iv(o)&&!n.customFormatTypes)return Qe($he(t)),DM(s,t,n,r)}else{const i=wx(e)?"axis":dMe(e)?"legend":MJ(e)?"header":null;if(i&&e[i]){const{format:o,formatType:s,...a}=e[i];if(Iv(s)&&!n.customFormatTypes)return Qe($he(t)),DM({...e,[i]:a},t,n,r)}}return et(e)?LJ(e,t,r):ZFt(e)}function ZFt(e){let t=e.type;if(t)return e;const{datum:n}=e;return t=er(n)?"quantitative":xt(n)?"nominal":_b(n)?"temporal":void 0,{...e,type:t}}function LJ(e,t,{compositeMark:n=!1}={}){const{aggregate:r,timeUnit:i,bin:o,field:s}=e,a={...e};if(!n&&r&&!lJ(r)&&!_0(r)&&!Rp(r)&&(Qe(ZLt(r)),delete a.aggregate),i&&(a.timeUnit=Do(i)),s&&(a.field=`${s}`),Fr(o)&&(a.bin=AL(o,t)),Jo(o)&&!Bi(t)&&Qe($4t(t)),Na(a)){const{type:l}=a,u=nFt(l);l!==u&&(a.type=u),l!=="quantitative"&&mL(r)&&(Qe(JLt(l,r)),a.type="quantitative")}else if(!uDe(t)){const l=JFt(a,t);a.type=l}if(Na(a)){const{compatible:l,warning:u}=e5t(a,t)||{};l===!1&&Qe(u)}if(PJ(a)&&xt(a.sort)){const{sort:l}=a;if(Lhe(l))return{...a,sort:{encoding:l}};const u=l.substring(1);if(l.charAt(0)==="-"&&Lhe(u))return{...a,sort:{encoding:u,order:"descending"}}}if(MJ(a)){const{header:l}=a;if(l){const{orient:u,...c}=l;if(u)return{...a,header:{...c,labelOrient:l.labelOrient||u,titleOrient:l.titleOrient||u}}}}return a}function AL(e,t){return u0(e)?{maxbins:_he(t)}:e==="binned"?{binned:!0}:!e.maxbins&&!e.step?{...e,maxbins:_he(t)}:e}const t1={compatible:!0};function e5t(e,t){const n=e.type;if(n==="geojson"&&t!=="shape")return{compatible:!1,warning:`Channel ${t} should not be used with a geojson data.`};switch(t){case np:case rp:case uL:return RM(e)?t1:{compatible:!1,warning:r4t(t)};case ri:case Bo:case g0:case B_:case _l:case Jh:case Zh:case V2:case W2:case cL:case Sv:case dL:case hL:case vb:case oc:case vd:case fL:return t1;case wd:case Xu:case bd:case xd:return n!==Av?{compatible:!1,warning:`Channel ${t} should be used with a quantitative field only, not ${e.type} field.`}:t1;case Xp:case v0:case b0:case w0:case Kp:case Yp:case Gp:case yd:case Qh:case y0:return n==="nominal"&&!e.sort?{compatible:!1,warning:`Channel ${t} should not be used with an unsorted discrete field.`}:t1;case El:case x0:return!RM(e)&&!GFt(e)?{compatible:!1,warning:i4t(t)}:t1;case gx:return e.type==="nominal"&&!("sort"in e)?{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}:t1}}function xx(e){const{formatType:t}=$M(e);return t==="time"||!t&&t5t(e)}function t5t(e){return e&&(e.type==="temporal"||et(e)&&!!e.timeUnit)}function kL(e,{timeUnit:t,type:n,wrapTime:r,undefinedIfExprNotRequired:i}){var l;const o=t&&((l=Do(t))==null?void 0:l.unit);let s=o||n==="temporal",a;return G2(e)?a=e.expr:Ot(e)?a=e.signal:_b(e)?(s=!0,a=Cv(e)):(xt(e)||er(e))&&s&&(a=`datetime(${_r(e)})`,H4t(o)&&(er(e)&&e<1e4||xt(e)&&isNaN(Date.parse(e)))&&(a=Cv({[o]:e}))),a?r&&s?`time(${a})`:a:i?void 0:_r(e)}function yMe(e,t){const{type:n}=e;return t.map(r=>{const i=et(e)&&!Eb(e.timeUnit)?e.timeUnit:void 0,o=kL(r,{timeUnit:i,type:n,undefinedIfExprNotRequired:!0});return o!==void 0?{signal:o}:r})}function Z2(e,t){return Fr(e.bin)?tf(t)&&["ordinal","nominal"].includes(e.type):(console.warn("Only call this method for binned field defs."),!1)}const jhe={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function ek(e){return e==null?void 0:e.condition}const vMe=["domain","grid","labels","ticks","title"],n5t={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},bMe={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},r5t={...bMe,style:1,labelExpr:1,encoding:1};function zhe(e){return Tt(r5t,e)}const i5t={axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1},wMe=qe(i5t);function Jp(e){return Ye(e,"mark")}class IL{constructor(t,n){this.name=t,this.run=n}hasMatchingType(t){return Jp(t)?DFt(t.mark)===this.name:!1}}function Uy(e,t){const n=e&&e[t];return n?Pe(n)?px(n,r=>!!r.field):et(n)||CL(n):!1}function xMe(e,t){const n=e&&e[t];return n?Pe(n)?px(n,r=>!!r.field):et(n)||nf(n)||J2(n):!1}function _Me(e,t){if(Bi(t)){const n=e[t];if((et(n)||nf(n))&&(UDe(n.type)||et(n)&&n.timeUnit)){const r=rJ(t);return xMe(e,r)}}return!1}function EMe(e){return px(ZOt,t=>{if(Uy(e,t)){const n=e[t];if(Pe(n))return px(n,r=>!!r.aggregate);{const r=ud(n);return r&&!!r.aggregate}}return!1})}function SMe(e,t){const n=[],r=[],i=[],o=[],s={};return FJ(e,(a,l)=>{if(et(a)){const{field:u,aggregate:c,bin:d,timeUnit:h,...f}=a;if(c||h||d){const p=NJ(a),m=p==null?void 0:p.title;let g=pt(a,{forAs:!0});const y={...m?[]:{title:yw(a,t,{allowDisabling:!0})},...f,field:g};if(c){let v;if(_0(c)?(v="argmax",g=pt({op:"argmax",field:c.argmax},{forAs:!0}),y.field=`${g}.${u}`):Rp(c)?(v="argmin",g=pt({op:"argmin",field:c.argmin},{forAs:!0}),y.field=`${g}.${u}`):c!=="boxplot"&&c!=="errorbar"&&c!=="errorband"&&(v=c),v){const b={op:v,as:g};u&&(b.field=u),o.push(b)}}else if(n.push(g),Na(a)&&Fr(d)){if(r.push({bin:d,field:u,as:g}),n.push(pt(a,{binSuffix:"end"})),Z2(a,l)&&n.push(pt(a,{binSuffix:"range"})),Bi(l)){const v={field:`${g}_end`};s[`${l}2`]=v}y.bin="binned",uDe(l)||(y.type=Av)}else if(h&&!Eb(h)){i.push({timeUnit:h,field:u,as:g});const v=Na(a)&&a.type!==yx&&"time";v&&(l===V2||l===Sv?y.formatType=v:cLt(l)?y.legend={formatType:v,...y.legend}:Bi(l)&&(y.axis={formatType:v,...y.axis}))}s[l]=y}else n.push(u),s[l]=e[l]}else s[l]=e[l]}),{bins:r,timeUnits:i,aggregate:o,groupby:n,encoding:s}}function o5t(e,t,n){const r=hLt(t,n);if(r){if(r==="binned"){const i=e[t===yd?ri:Bo];return!!(et(i)&&et(e[t])&&Jo(i.bin))}}else return!1;return!0}function s5t(e,t,n,r){const i={};for(const o of qe(e))lDe(o)||Qe(n4t(o));for(let o of oLt){if(!e[o])continue;const s=e[o];if(q2(o)){const a=iLt(o),l=i[a];if(et(l)&&tFt(l.type)&&et(s)&&!l.timeUnit){Qe(XLt(a));continue}}if(o==="angle"&&t==="arc"&&!e.theta&&(Qe(KLt),o=oc),!o5t(e,o,t)){Qe(yL(o,t));continue}if(o===Kp&&t==="line"){const a=ud(e[o]);if(a!=null&&a.aggregate){Qe(t4t);continue}}if(o===_l&&(n?"fill"in e:"stroke"in e)){Qe(CDe("encoding",{fill:"fill"in e,stroke:"stroke"in e}));continue}if(o===W2||o===gx&&!Pe(s)&&!ld(s)||o===Sv&&Pe(s)){if(s){if(o===gx){const a=e[o];if(cMe(a)){i[o]=a;continue}}i[o]=_t(s).reduce((a,l)=>(et(l)?a.push(LJ(l,o)):Qe(jz(l,o)),a),[])}}else{if(o===Sv&&s===null)i[o]=null;else if(!et(s)&&!nf(s)&&!ld(s)&&!Q2(s)&&!Ot(s)){Qe(jz(s,o));continue}i[o]=gMe(s,o,r)}}return i}function RL(e,t){const n={};for(const r of qe(e)){const i=gMe(e[r],r,t,{compositeMark:!0});n[r]=i}return n}function a5t(e){const t=[];for(const n of qe(e))if(Uy(e,n)){const r=e[n],i=_t(r);for(const o of i)et(o)?t.push(o):CL(o)&&t.push(o.condition)}return t}function FJ(e,t,n){if(e)for(const r of qe(e)){const i=e[r];if(Pe(i))for(const o of i)t.call(n,o,r);else t.call(n,i,r)}}function l5t(e,t,n,r){return e?qe(e).reduce((i,o)=>{const s=e[o];return Pe(s)?s.reduce((a,l)=>t.call(r,a,l,o),i):t.call(r,i,s,o)},n):n}function TMe(e,t){return qe(t).reduce((n,r)=>{switch(r){case ri:case Bo:case dL:case fL:case hL:case yd:case Qh:case g0:case B_:case oc:case Yp:case vd:case Gp:case y0:case bd:case wd:case xd:case Xu:case V2:case El:case vb:case Sv:return n;case gx:if(e==="line"||e==="trail")return n;case W2:case cL:{const i=t[r];if(Pe(i)||et(i))for(const o of _t(i))o.aggregate||n.push(pt(o,{}));return n}case Kp:if(e==="trail")return n;case _l:case Jh:case Zh:case Xp:case v0:case b0:case x0:case w0:{const i=ud(t[r]);return i&&!i.aggregate&&n.push(pt(i,{})),n}}},[])}function u5t(e){const{tooltip:t,...n}=e;if(!t)return{filteredEncoding:n};let r,i;if(Pe(t)){for(const o of t)o.aggregate?(r||(r=[]),r.push(o)):(i||(i=[]),i.push(o));r&&(n.tooltip=r)}else t.aggregate?n.tooltip=t:i=t;return Pe(i)&&i.length===1&&(i=i[0]),{customTooltipWithoutAggregatedField:i,filteredEncoding:n}}function Vz(e,t,n,r=!0){if("tooltip"in n)return{tooltip:n.tooltip};const i=e.map(({fieldPrefix:s,titlePrefix:a})=>{const l=r?` of ${BJ(t)}`:"";return{field:s+t.field,type:t.type,title:Ot(a)?{signal:`${a}"${escape(l)}"`}:a+l}}),o=a5t(n).map(WFt);return{tooltip:[...i,...Zd(o,On)]}}function BJ(e){const{title:t,field:n}=e;return Fi(t,n)}function jJ(e,t,n,r,i){const{scale:o,axis:s}=n;return({partName:a,mark:l,positionPrefix:u,endPositionPrefix:c=void 0,extraEncoding:d={}})=>{const h=BJ(n);return CMe(e,a,i,{mark:l,encoding:{[t]:{field:`${u}_${n.field}`,type:n.type,...h!==void 0?{title:h}:{},...o!==void 0?{scale:o}:{},...s!==void 0?{axis:s}:{}},...xt(c)?{[`${t}2`]:{field:`${c}_${n.field}`}}:{},...r,...d}})}}function CMe(e,t,n,r){const{clip:i,color:o,opacity:s}=e,a=e.type;return e[t]||e[t]===void 0&&n[t]?[{...r,mark:{...n[t],...i?{clip:i}:{},...o?{color:o}:{},...s?{opacity:s}:{},...Ph(r.mark)?r.mark:{type:r.mark},style:`${a}-${String(t)}`,...u0(e[t])?{}:e[t]}}]:[]}function AMe(e,t,n){const{encoding:r}=e,i=t==="vertical"?"y":"x",o=r[i],s=r[`${i}2`],a=r[`${i}Error`],l=r[`${i}Error2`];return{continuousAxisChannelDef:H3(o,n),continuousAxisChannelDef2:H3(s,n),continuousAxisChannelDefError:H3(a,n),continuousAxisChannelDefError2:H3(l,n),continuousAxis:i}}function H3(e,t){if(e!=null&&e.aggregate){const{aggregate:n,...r}=e;return n!==t&&Qe(R4t(n,t)),r}else return e}function kMe(e,t){const{mark:n,encoding:r}=e,{x:i,y:o}=r;if(Ph(n)&&n.orient)return n.orient;if(Wm(i)){if(Wm(o)){const s=et(i)&&i.aggregate,a=et(o)&&o.aggregate;if(!s&&a===t)return"vertical";if(!a&&s===t)return"horizontal";if(s===t&&a===t)throw new Error("Both x and y cannot have aggregate");return xx(o)&&!xx(i)?"horizontal":"vertical"}return"horizontal"}else{if(Wm(o))return"vertical";throw new Error(`Need a valid continuous axis for ${t}s`)}}const MM="boxplot",c5t=["box","median","outliers","rule","ticks"],d5t=new IL(MM,RMe);function IMe(e){return er(e)?"tukey":e}function RMe(e,{config:t}){e={...e,encoding:RL(e.encoding,t)};const{mark:n,encoding:r,params:i,projection:o,...s}=e,a=Ph(n)?n:{type:n};i&&Qe(SDe("boxplot"));const l=a.extent??t.boxplot.extent,u=wr("size",a,t),c=a.invalid,d=IMe(l),{bins:h,timeUnits:f,transform:p,continuousAxisChannelDef:m,continuousAxis:g,groupby:y,aggregate:v,encodingWithoutContinuousAxis:b,ticksOrient:_,boxOrient:x,customTooltipWithoutAggregatedField:w}=h5t(e,l,t),E=F_(m.field),{color:S,size:T,...C}=b,D=$e=>jJ(a,g,m,$e,t.boxplot),$=D(C),I=D(b),R=(wt(t.boxplot.box)?t.boxplot.box.color:t.mark.color)||"#4c78a8",A=D({...C,...T?{size:T}:{},color:{condition:{test:`${cr(`lower_box_${m.field}`)} >= ${cr(`upper_box_${m.field}`)}`,...S||{value:R}}}}),M=Vz([{fieldPrefix:d==="min-max"?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:d==="min-max"?"lower_whisker_":"min_",titlePrefix:"Min"}],m,b),N={type:"tick",color:"black",opacity:1,orient:_,invalid:c,aria:!1},L=d==="min-max"?M:Vz([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],m,b),z=[...$({partName:"rule",mark:{type:"rule",invalid:c,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:L}),...$({partName:"rule",mark:{type:"rule",invalid:c,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:L}),...$({partName:"ticks",mark:N,positionPrefix:"lower_whisker",extraEncoding:L}),...$({partName:"ticks",mark:N,positionPrefix:"upper_whisker",extraEncoding:L})],F=[...d!=="tukey"?z:[],...I({partName:"box",mark:{type:"bar",...u?{size:u}:{},orient:x,invalid:c,ariaRoleDescription:"box"},positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:M}),...A({partName:"median",mark:{type:"tick",invalid:c,...wt(t.boxplot.median)&&t.boxplot.median.color?{color:t.boxplot.median.color}:{},...u?{size:u}:{},orient:_,aria:!1},positionPrefix:"mid_box",extraEncoding:M})];if(d==="min-max")return{...s,transform:(s.transform??[]).concat(p),layer:F};const j=cr(`lower_box_${m.field}`),W=cr(`upper_box_${m.field}`),B=`(${W} - ${j})`,H=`${j} - ${l} * ${B}`,V=`${W} + ${l} * ${B}`,G=cr(m.field),ne={joinaggregate:$Me(m.field),groupby:y},X={transform:[{filter:`(${H} <= ${G}) && (${G} <= ${V})`},{aggregate:[{op:"min",field:m.field,as:`lower_whisker_${E}`},{op:"max",field:m.field,as:`upper_whisker_${E}`},{op:"min",field:`lower_box_${m.field}`,as:`lower_box_${E}`},{op:"max",field:`upper_box_${m.field}`,as:`upper_box_${E}`},...v],groupby:y}],layer:z},{tooltip:te,...se}=C,{scale:ve,axis:pe}=m,Ge=BJ(m),Ne=gl(pe,["title"]),Ke=CMe(a,"outliers",t.boxplot,{transform:[{filter:`(${G} < ${H}) || (${G} > ${V})`}],mark:"point",encoding:{[g]:{field:m.field,type:m.type,...Ge!==void 0?{title:Ge}:{},...ve!==void 0?{scale:ve}:{},...xr(Ne)?{}:{axis:Ne}},...se,...S?{color:S}:{},...w?{tooltip:w}:{}}})[0];let Je;const Ae=[...h,...f,ne];return Ke?Je={transform:Ae,layer:[Ke,X]}:(Je=X,Je.transform.unshift(...Ae)),{...s,layer:[Je,{transform:p,layer:F}]}}function $Me(e){const t=F_(e);return[{op:"q1",field:e,as:`lower_box_${t}`},{op:"q3",field:e,as:`upper_box_${t}`}]}function h5t(e,t,n){const r=kMe(e,MM),{continuousAxisChannelDef:i,continuousAxis:o}=AMe(e,r,MM),s=i.field,a=F_(s),l=IMe(t),u=[...$Me(s),{op:"median",field:s,as:`mid_box_${a}`},{op:"min",field:s,as:(l==="min-max"?"lower_whisker_":"min_")+a},{op:"max",field:s,as:(l==="min-max"?"upper_whisker_":"max_")+a}],c=l==="min-max"||l==="tukey"?[]:[{calculate:`${cr(`upper_box_${a}`)} - ${cr(`lower_box_${a}`)}`,as:`iqr_${a}`},{calculate:`min(${cr(`upper_box_${a}`)} + ${cr(`iqr_${a}`)} * ${t}, ${cr(`max_${a}`)})`,as:`upper_whisker_${a}`},{calculate:`max(${cr(`lower_box_${a}`)} - ${cr(`iqr_${a}`)} * ${t}, ${cr(`min_${a}`)})`,as:`lower_whisker_${a}`}],{[o]:d,...h}=e.encoding,{customTooltipWithoutAggregatedField:f,filteredEncoding:p}=u5t(h),{bins:m,timeUnits:g,aggregate:y,groupby:v,encoding:b}=SMe(p,n),_=r==="vertical"?"horizontal":"vertical",x=r,w=[...m,...g,{aggregate:[...y,...u],groupby:v},...c];return{bins:m,timeUnits:g,transform:w,groupby:v,aggregate:y,continuousAxisChannelDef:i,continuousAxis:o,encodingWithoutContinuousAxis:b,ticksOrient:_,boxOrient:x,customTooltipWithoutAggregatedField:f}}const zJ="errorbar",f5t=["ticks","rule"],p5t=new IL(zJ,DMe);function DMe(e,{config:t}){e={...e,encoding:RL(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:o,ticksOrient:s,markDef:a,outerSpec:l,tooltipEncoding:u}=MMe(e,zJ,t);delete o.size;const c=jJ(a,i,r,o,t.errorbar),d=a.thickness,h=a.size,f={type:"tick",orient:s,aria:!1,...d!==void 0?{thickness:d}:{},...h!==void 0?{size:h}:{}},p=[...c({partName:"ticks",mark:f,positionPrefix:"lower",extraEncoding:u}),...c({partName:"ticks",mark:f,positionPrefix:"upper",extraEncoding:u}),...c({partName:"rule",mark:{type:"rule",ariaRoleDescription:"errorbar",...d!==void 0?{size:d}:{}},positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:u})];return{...l,transform:n,...p.length>1?{layer:p}:{...p[0]}}}function m5t(e,t){const{encoding:n}=e;if(g5t(n))return{orient:kMe(e,t),inputType:"raw"};const r=y5t(n),i=v5t(n),o=n.x,s=n.y;if(r){if(i)throw new Error(`${t} cannot be both type aggregated-upper-lower and aggregated-error`);const a=n.x2,l=n.y2;if(cn(a)&&cn(l))throw new Error(`${t} cannot have both x2 and y2`);if(cn(a)){if(Wm(o))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error(`Both x and x2 have to be quantitative in ${t}`)}else if(cn(l)){if(Wm(s))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error(`Both y and y2 have to be quantitative in ${t}`)}throw new Error("No ranged axis")}else{const a=n.xError,l=n.xError2,u=n.yError,c=n.yError2;if(cn(l)&&!cn(a))throw new Error(`${t} cannot have xError2 without xError`);if(cn(c)&&!cn(u))throw new Error(`${t} cannot have yError2 without yError`);if(cn(a)&&cn(u))throw new Error(`${t} cannot have both xError and yError with both are quantiative`);if(cn(a)){if(Wm(o))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}else if(cn(u)){if(Wm(s))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}function g5t(e){return(cn(e.x)||cn(e.y))&&!cn(e.x2)&&!cn(e.y2)&&!cn(e.xError)&&!cn(e.xError2)&&!cn(e.yError)&&!cn(e.yError2)}function y5t(e){return cn(e.x2)||cn(e.y2)}function v5t(e){return cn(e.xError)||cn(e.xError2)||cn(e.yError)||cn(e.yError2)}function MMe(e,t,n){const{mark:r,encoding:i,params:o,projection:s,...a}=e,l=Ph(r)?r:{type:r};o&&Qe(SDe(t));const{orient:u,inputType:c}=m5t(e,t),{continuousAxisChannelDef:d,continuousAxisChannelDef2:h,continuousAxisChannelDefError:f,continuousAxisChannelDefError2:p,continuousAxis:m}=AMe(e,u,t),{errorBarSpecificAggregate:g,postAggregateCalculates:y,tooltipSummary:v,tooltipTitleWithFieldName:b}=b5t(l,d,h,f,p,c,t,n),{[m]:_,[m==="x"?"x2":"y2"]:x,[m==="x"?"xError":"yError"]:w,[m==="x"?"xError2":"yError2"]:E,...S}=i,{bins:T,timeUnits:C,aggregate:D,groupby:$,encoding:I}=SMe(S,n),R=[...D,...g],A=c!=="raw"?[]:$,M=Vz(v,d,I,b);return{transform:[...a.transform??[],...T,...C,...R.length===0?[]:[{aggregate:R,groupby:A}],...y],groupby:A,continuousAxisChannelDef:d,continuousAxis:m,encodingWithoutContinuousAxis:I,ticksOrient:u==="vertical"?"horizontal":"vertical",markDef:l,outerSpec:a,tooltipEncoding:M}}function b5t(e,t,n,r,i,o,s,a){let l=[],u=[];const c=t.field;let d,h=!1;if(o==="raw"){const f=e.center?e.center:e.extent?e.extent==="iqr"?"median":"mean":a.errorbar.center,p=e.extent?e.extent:f==="mean"?"stderr":"iqr";if(f==="median"!=(p==="iqr")&&Qe(I4t(f,p,s)),p==="stderr"||p==="stdev")l=[{op:p,field:c,as:`extent_${c}`},{op:f,field:c,as:`center_${c}`}],u=[{calculate:`${cr(`center_${c}`)} + ${cr(`extent_${c}`)}`,as:`upper_${c}`},{calculate:`${cr(`center_${c}`)} - ${cr(`extent_${c}`)}`,as:`lower_${c}`}],d=[{fieldPrefix:"center_",titlePrefix:H2(f)},{fieldPrefix:"upper_",titlePrefix:Uhe(f,p,"+")},{fieldPrefix:"lower_",titlePrefix:Uhe(f,p,"-")}],h=!0;else{let m,g,y;p==="ci"?(m="mean",g="ci0",y="ci1"):(m="median",g="q1",y="q3"),l=[{op:g,field:c,as:`lower_${c}`},{op:y,field:c,as:`upper_${c}`},{op:m,field:c,as:`center_${c}`}],d=[{fieldPrefix:"upper_",titlePrefix:yw({field:c,aggregate:y,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:yw({field:c,aggregate:g,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:yw({field:c,aggregate:m,type:"quantitative"},a,{allowDisabling:!1})}]}}else{(e.center||e.extent)&&Qe(k4t(e.center,e.extent)),o==="aggregated-upper-lower"?(d=[],u=[{calculate:cr(n.field),as:`upper_${c}`},{calculate:cr(c),as:`lower_${c}`}]):o==="aggregated-error"&&(d=[{fieldPrefix:"",titlePrefix:c}],u=[{calculate:`${cr(c)} + ${cr(r.field)}`,as:`upper_${c}`}],i?u.push({calculate:`${cr(c)} + ${cr(i.field)}`,as:`lower_${c}`}):u.push({calculate:`${cr(c)} - ${cr(r.field)}`,as:`lower_${c}`}));for(const f of u)d.push({fieldPrefix:f.as.substring(0,6),titlePrefix:Ev(Ev(f.calculate,"datum['",""),"']","")})}return{postAggregateCalculates:u,errorBarSpecificAggregate:l,tooltipSummary:d,tooltipTitleWithFieldName:h}}function Uhe(e,t,n){return`${H2(e)} ${n} ${t}`}const UJ="errorband",w5t=["band","borders"],x5t=new IL(UJ,PMe);function PMe(e,{config:t}){e={...e,encoding:RL(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:o,markDef:s,outerSpec:a,tooltipEncoding:l}=MMe(e,UJ,t),u=s,c=jJ(u,i,r,o,t.errorband),d=e.encoding.x!==void 0&&e.encoding.y!==void 0;let h={type:d?"area":"rect"},f={type:d?"line":"rule"};const p={...u.interpolate?{interpolate:u.interpolate}:{},...u.tension&&u.interpolate?{tension:u.tension}:{}};return d?(h={...h,...p,ariaRoleDescription:"errorband"},f={...f,...p,aria:!1}):u.interpolate?Qe(Mhe("interpolate")):u.tension&&Qe(Mhe("tension")),{...a,transform:n,layer:[...c({partName:"band",mark:h,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:l}),...c({partName:"borders",mark:f,positionPrefix:"lower",extraEncoding:l}),...c({partName:"borders",mark:f,positionPrefix:"upper",extraEncoding:l})]}}const NMe={};function HJ(e,t,n){const r=new IL(e,t);NMe[e]={normalizer:r,parts:n}}function _5t(){return qe(NMe)}HJ(MM,RMe,c5t);HJ(zJ,DMe,f5t);HJ(UJ,PMe,w5t);const E5t=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],OMe={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},LMe={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},S5t=qe(OMe),T5t=qe(LMe),C5t={header:1,headerRow:1,headerColumn:1,headerFacet:1},FMe=qe(C5t),BMe=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],A5t={gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},k5t={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},cd="_vgsid_",I5t={point:{on:"click",fields:[cd],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[pointerdown, window:pointerup] > window:pointermove!",encodings:["x","y"],translate:"[pointerdown, window:pointerup] > window:pointermove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function VJ(e){return e==="legend"||!!(e!=null&&e.legend)}function cB(e){return VJ(e)&&wt(e)}function WJ(e){return!!(e!=null&&e.select)}function jMe(e){const t=[];for(const n of e||[]){if(WJ(n))continue;const{expr:r,bind:i,...o}=n;if(i&&r){const s={...o,bind:i,init:r};t.push(s)}else{const s={...o,...r?{update:r}:{},...i?{bind:i}:{}};t.push(s)}}return t}function R5t(e){return $L(e)||GJ(e)||qJ(e)}function qJ(e){return Ye(e,"concat")}function $L(e){return Ye(e,"vconcat")}function GJ(e){return Ye(e,"hconcat")}function zMe({step:e,offsetIsDiscrete:t}){return t?e.for??"offset":"position"}function Nh(e){return Ye(e,"step")}function Hhe(e){return Ye(e,"view")||Ye(e,"width")||Ye(e,"height")}const Vhe=20,$5t={align:1,bounds:1,center:1,columns:1,spacing:1},D5t=qe($5t);function M5t(e,t,n){const r=n[t],i={},{spacing:o,columns:s}=r;o!==void 0&&(i.spacing=o),s!==void 0&&(TL(e)&&!X2(e.facet)||qJ(e))&&(i.columns=s),$L(e)&&(i.columns=1);for(const a of D5t)if(e[a]!==void 0)if(a==="spacing"){const l=e[a];i[a]=er(l)?l:{row:l.row??o,column:l.column??o}}else i[a]=e[a];return i}function Wz(e,t){return e[t]??e[t==="width"?"continuousWidth":"continuousHeight"]}function qz(e,t){const n=PM(e,t);return Nh(n)?n.step:UMe}function PM(e,t){const n=e[t]??e[t==="width"?"discreteWidth":"discreteHeight"];return Fi(n,{step:e.step})}const UMe=20,P5t={continuousWidth:200,continuousHeight:200,step:UMe},N5t={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:P5t,mark:CFt,arc:{},area:{},bar:RFt,circle:{},geoshape:{},image:{},line:{},point:{},rect:kJ,rule:{color:"black"},square:{},text:{color:"black"},tick:$Ft,trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:aFt,projection:{},legend:A5t,header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:I5t,style:{},title:{},facet:{spacing:Vhe},concat:{spacing:Vhe},normalizedNumberFormat:".0%"},wf=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],Whe={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},qhe={blue:wf[0],orange:wf[1],red:wf[2],teal:wf[3],green:wf[4],yellow:wf[5],purple:wf[6],pink:wf[7],brown:wf[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function O5t(e={}){return{signals:[{name:"color",value:wt(e)?{...qhe,...e}:qhe}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function L5t(e){return{signals:[{name:"fontSize",value:wt(e)?{...Whe,...e}:Whe}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function F5t(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}function HMe(e){const t=qe(e||{}),n={};for(const r of t){const i=e[r];n[r]=ek(i)?yDe(i):Bl(i)}return n}function B5t(e){const t=qe(e),n={};for(const r of t)n[r]=HMe(e[r]);return n}const j5t=[...JDe,...wMe,...FMe,"background","padding","legend","lineBreak","scale","style","title","view"];function VMe(e={}){const{color:t,font:n,fontSize:r,selection:i,...o}=e,s=x_({},sn(N5t),n?F5t(n):{},t?O5t(t):{},r?L5t(r):{},o||{});i&&__(s,"selection",i,!0);const a=gl(s,j5t);for(const l of["background","lineBreak","padding"])s[l]&&(a[l]=Bl(s[l]));for(const l of JDe)s[l]&&(a[l]=es(s[l]));for(const l of wMe)s[l]&&(a[l]=HMe(s[l]));for(const l of FMe)s[l]&&(a[l]=es(s[l]));if(s.legend&&(a.legend=es(s.legend)),s.scale){const{invalid:l,...u}=s.scale,c=es(l,{level:1});a.scale={...es(u),...qe(c).length>0?{invalid:c}:{}}}return s.style&&(a.style=B5t(s.style)),s.title&&(a.title=es(s.title)),s.view&&(a.view=es(s.view)),a}const z5t=new Set(["view",...wFt]),U5t=["color","fontSize","background","padding","facet","concat","numberFormat","numberFormatType","normalizedNumberFormat","normalizedNumberFormatType","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],H5t={view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"],...TFt};function V5t(e){e=sn(e);for(const t of U5t)delete e[t];if(e.axis)for(const t in e.axis)ek(e.axis[t])&&delete e.axis[t];if(e.legend)for(const t of E5t)delete e.legend[t];if(e.mark){for(const t of Nhe)delete e.mark[t];e.mark.tooltip&&wt(e.mark.tooltip)&&delete e.mark.tooltip}e.params&&(e.signals=(e.signals||[]).concat(jMe(e.params)),delete e.params);for(const t of z5t){for(const r of Nhe)delete e[t][r];const n=H5t[t];if(n)for(const r of n)delete e[t][r];q5t(e,t)}for(const t of _5t())delete e[t];W5t(e);for(const t in e)wt(e[t])&&xr(e[t])&&delete e[t];return xr(e)?void 0:e}function W5t(e){const{titleMarkConfig:t,subtitleMarkConfig:n,subtitle:r}=gDe(e.title);xr(t)||(e.style["group-title"]={...e.style["group-title"],...t}),xr(n)||(e.style["group-subtitle"]={...e.style["group-subtitle"],...n}),xr(r)?delete e.title:e.title=r}function q5t(e,t,n,r){const i=e[t];t==="view"&&(n="cell");const o={...i,...e.style[n??t]};xr(o)||(e.style[n??t]=o),delete e[t]}function DL(e){return Ye(e,"layer")}function G5t(e){return Ye(e,"repeat")}function Y5t(e){return!Pe(e.repeat)&&Ye(e.repeat,"layer")}class YJ{map(t,n){return TL(t)?this.mapFacet(t,n):G5t(t)?this.mapRepeat(t,n):GJ(t)?this.mapHConcat(t,n):$L(t)?this.mapVConcat(t,n):qJ(t)?this.mapConcat(t,n):this.mapLayerOrUnit(t,n)}mapLayerOrUnit(t,n){if(DL(t))return this.mapLayer(t,n);if(Jp(t))return this.mapUnit(t,n);throw new Error(uJ(t))}mapLayer(t,n){return{...t,layer:t.layer.map(r=>this.mapLayerOrUnit(r,n))}}mapHConcat(t,n){return{...t,hconcat:t.hconcat.map(r=>this.map(r,n))}}mapVConcat(t,n){return{...t,vconcat:t.vconcat.map(r=>this.map(r,n))}}mapConcat(t,n){const{concat:r,...i}=t;return{...i,concat:r.map(o=>this.map(o,n))}}mapFacet(t,n){return{...t,spec:this.map(t.spec,n)}}mapRepeat(t,n){return{...t,spec:this.map(t.spec,n)}}}const K5t={zero:1,center:1,normalize:1};function X5t(e){return Tt(K5t,e)}const Q5t=new Set([KDe,xL,wL,AM,EL,CJ,AJ,_L,XDe,TJ]),J5t=new Set([xL,wL,KDe]);function n1(e){return et(e)&&bx(e)==="quantitative"&&!e.bin}function Ghe(e,t,{orient:n,type:r}){const i=t==="x"?"y":"radius",o=t==="x"&&["bar","area"].includes(r),s=e[t],a=e[i];if(et(s)&&et(a))if(n1(s)&&n1(a)){if(s.stack)return t;if(a.stack)return i;const l=et(s)&&!!s.aggregate,u=et(a)&&!!a.aggregate;if(l!==u)return l?t:i;if(o){if(n==="vertical")return i;if(n==="horizontal")return t}}else{if(n1(s))return t;if(n1(a))return i}else{if(n1(s))return o&&n==="vertical"?void 0:t;if(n1(a))return o&&n==="horizontal"?void 0:i}}function Z5t(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}function WMe(e,t){var m,g;const n=Ph(e)?e:{type:e},r=n.type;if(!Q5t.has(r))return null;const i=Ghe(t,"x",n)||Ghe(t,"theta",n);if(!i)return null;const o=t[i],s=et(o)?pt(o,{}):void 0,a=Z5t(i),l=[],u=new Set;if(t[a]){const y=t[a],v=et(y)?pt(y,{}):void 0;v&&v!==s&&(l.push(a),u.add(v))}const c=a==="x"?"xOffset":"yOffset",d=t[c],h=et(d)?pt(d,{}):void 0;h&&h!==s&&(l.push(c),u.add(h));const f=sLt.reduce((y,v)=>{if(v!=="tooltip"&&Uy(t,v)){const b=t[v];for(const _ of _t(b)){const x=ud(_);if(x.aggregate)continue;const w=pt(x,{});(!w||!u.has(w))&&y.push({channel:v,fieldDef:x})}}return y},[]);let p;return o.stack!==void 0?u0(o.stack)?p=o.stack?"zero":null:p=o.stack:J5t.has(r)&&(p="zero"),!p||!X5t(p)||EMe(t)&&f.length===0?null:((m=o==null?void 0:o.scale)!=null&&m.type&&((g=o==null?void 0:o.scale)==null?void 0:g.type)!==ns.LINEAR&&o!=null&&o.stack&&Qe(T4t(o.scale.type)),cn(t[ef(i)])?(o.stack!==void 0&&Qe(S4t(i)),null):(et(o)&&o.aggregate&&!bLt.has(o.aggregate)&&Qe(C4t(o.aggregate)),{groupbyChannels:l,groupbyFields:u,fieldChannel:i,impute:o.impute===null?!1:E0(r),stackBy:f,offset:p}))}function qMe(e,t,n){const r=es(e),i=wr("orient",r,n);if(r.orient=r6t(r.type,t,i),i!==void 0&&i!==r.orient&&Qe(l4t(r.orient,i)),r.type==="bar"&&r.orient){const l=wr("cornerRadiusEnd",r,n);if(l!==void 0){const u=r.orient==="horizontal"&&t.x2||r.orient==="vertical"&&t.y2?["cornerRadius"]:kFt[r.orient];for(const c of u)r[c]=l;r.cornerRadiusEnd!==void 0&&delete r.cornerRadiusEnd}}const o=wr("opacity",r,n),s=wr("fillOpacity",r,n);return o===void 0&&s===void 0&&(r.opacity=t6t(r.type,t)),wr("cursor",r,n)===void 0&&(r.cursor=e6t(r,t,n)),r}function e6t(e,t,n){return t.href||e.href||wr("href",e,n)?"pointer":e.cursor}function t6t(e,t){if(An([EL,TJ,CJ,AJ],e)&&!EMe(t))return .7}function n6t(e,t,{graticule:n}){if(n)return!1;const r=Mh("filled",e,t),i=e.type;return Fi(r,i!==EL&&i!==_L&&i!==AM)}function r6t(e,t,n){switch(e){case EL:case CJ:case AJ:case XDe:case vFt:case yFt:return}const{x:r,y:i,x2:o,y2:s}=t;switch(e){case xL:if(et(r)&&(Jo(r.bin)||et(i)&&i.aggregate&&!r.aggregate))return"vertical";if(et(i)&&(Jo(i.bin)||et(r)&&r.aggregate&&!i.aggregate))return"horizontal";if(s||o){if(n)return n;if(!o)return(et(r)&&r.type===Av&&!Fr(r.bin)||IM(r))&&et(i)&&Jo(i.bin)?"horizontal":"vertical";if(!s)return(et(i)&&i.type===Av&&!Fr(i.bin)||IM(i))&&et(r)&&Jo(r.bin)?"vertical":"horizontal"}case AM:if(o&&!(et(r)&&Jo(r.bin))&&s&&!(et(i)&&Jo(i.bin)))return;case wL:if(s)return et(i)&&Jo(i.bin)?"horizontal":"vertical";if(o)return et(r)&&Jo(r.bin)?"vertical":"horizontal";if(e===AM){if(r&&!i)return"vertical";if(i&&!r)return"horizontal"}case _L:case TJ:{const a=Bhe(r),l=Bhe(i);if(n)return n;if(a&&!l)return e!=="tick"?"horizontal":"vertical";if(!a&&l)return e!=="tick"?"vertical":"horizontal";if(a&&l)return"vertical";{const u=Na(r)&&r.type===yx,c=Na(i)&&i.type===yx;if(u&&!c)return"vertical";if(!u&&c)return"horizontal"}return}}return"vertical"}function i6t(e){const{point:t,line:n,...r}=e;return qe(r).length>1?r:r.type}function o6t(e){for(const t of["line","area","rule","trail"])e[t]&&(e={...e,[t]:gl(e[t],["point","line"])});return e}function dB(e,t={},n){return e.point==="transparent"?{opacity:0}:e.point?wt(e.point)?e.point:{}:e.point!==void 0?null:t.point||n.shape?wt(t.point)?t.point:{}:void 0}function Yhe(e,t={}){return e.line?e.line===!0?{}:e.line:e.line!==void 0?null:t.line?t.line===!0?{}:t.line:void 0}class s6t{constructor(){this.name="path-overlay"}hasMatchingType(t,n){if(Jp(t)){const{mark:r,encoding:i}=t,o=Ph(r)?r:{type:r};switch(o.type){case"line":case"rule":case"trail":return!!dB(o,n[o.type],i);case"area":return!!dB(o,n[o.type],i)||!!Yhe(o,n[o.type])}}return!1}run(t,n,r){const{config:i}=n,{params:o,projection:s,mark:a,name:l,encoding:u,...c}=t,d=RL(u,i),h=Ph(a)?a:{type:a},f=dB(h,i[h.type],d),p=h.type==="area"&&Yhe(h,i[h.type]),m=[{name:l,...o?{params:o}:{},mark:i6t({...h.type==="area"&&h.opacity===void 0&&h.fillOpacity===void 0?{opacity:.7}:{},...h}),encoding:gl(d,["shape"])}],g=WMe(qMe(h,d,i),d);let y=d;if(g){const{fieldChannel:v,offset:b}=g;y={...d,[v]:{...d[v],...b?{stack:b}:{}}}}return y=gl(y,["y2","x2"]),p&&m.push({...s?{projection:s}:{},mark:{type:"line",...fx(h,["clip","interpolate","tension","tooltip"]),...p},encoding:y}),f&&m.push({...s?{projection:s}:{},mark:{type:"point",opacity:1,filled:!0,...fx(h,["clip","tooltip"]),...f},encoding:y}),r({...c,layer:m},{...n,config:o6t(i)})}}function a6t(e,t){return t?X2(e)?YMe(e,t):GMe(e,t):e}function hB(e,t){return t?YMe(e,t):e}function Gz(e,t,n){const r=t[e];if(HFt(r)){if(r.repeat in n)return{...t,[e]:n[r.repeat]};Qe(BLt(r.repeat));return}return t}function GMe(e,t){if(e=Gz("field",e,t),e!==void 0){if(e===null)return null;if(PJ(e)&&ip(e.sort)){const n=Gz("field",e.sort,t);e={...e,...n?{sort:n}:{}}}return e}}function Khe(e,t){if(et(e))return GMe(e,t);{const n=Gz("datum",e,t);return n!==e&&!n.type&&(n.type="nominal"),n}}function Xhe(e,t){if(cn(e)){const n=Khe(e,t);if(n)return n;if(Q2(e))return{condition:e.condition}}else{if(J2(e)){const n=Khe(e.condition,t);if(n)return{...e,condition:n};{const{condition:r,...i}=e;return i}}return e}}function YMe(e,t){const n={};for(const r in e)if(Ye(e,r)){const i=e[r];if(Pe(i))n[r]=i.map(o=>Xhe(o,t)).filter(o=>o);else{const o=Xhe(i,t);o!==void 0&&(n[r]=o)}}return n}class l6t{constructor(){this.name="RuleForRangedLine"}hasMatchingType(t){if(Jp(t)){const{encoding:n,mark:r}=t;if(r==="line"||Ph(r)&&r.type==="line")for(const i of rLt){const o=bb(i),s=n[o];if(n[i]&&(et(s)&&!Jo(s.bin)||nf(s)))return!0}}return!1}run(t,n,r){const{encoding:i,mark:o}=t;return Qe(a4t(!!i.x2,!!i.y2)),r({...t,mark:wt(o)?{...o,type:"rule"}:"rule"},n)}}class u6t extends YJ{constructor(){super(...arguments),this.nonFacetUnitNormalizers=[d5t,p5t,x5t,new s6t,new l6t]}map(t,n){if(Jp(t)){const r=Uy(t.encoding,np),i=Uy(t.encoding,rp),o=Uy(t.encoding,uL);if(r||i||o)return this.mapFacetedUnit(t,n)}return super.map(t,n)}mapUnit(t,n){const{parentEncoding:r,parentProjection:i}=n,o=hB(t.encoding,n.repeater),s={...t,...t.name?{name:[n.repeaterPrefix,t.name].filter(l=>l).join("_")}:{},...o?{encoding:o}:{}};if(r||i)return this.mapUnitWithParentEncodingOrProjection(s,n);const a=this.mapLayerOrUnit.bind(this);for(const l of this.nonFacetUnitNormalizers)if(l.hasMatchingType(s,n.config))return l.run(s,n,a);return s}mapRepeat(t,n){return Y5t(t)?this.mapLayerRepeat(t,n):this.mapNonLayerRepeat(t,n)}mapLayerRepeat(t,n){const{repeat:r,spec:i,...o}=t,{row:s,column:a,layer:l}=r,{repeater:u={},repeaterPrefix:c=""}=n;return s||a?this.mapRepeat({...t,repeat:{...s?{row:s}:{},...a?{column:a}:{}},spec:{repeat:{layer:l},spec:i}},n):{...o,layer:l.map(d=>{const h={...u,layer:d},f=`${(i.name?`${i.name}_`:"")+c}child__layer_${ti(d)}`,p=this.mapLayerOrUnit(i,{...n,repeater:h,repeaterPrefix:f});return p.name=f,p})}}mapNonLayerRepeat(t,n){const{repeat:r,spec:i,data:o,...s}=t;!Pe(r)&&t.columns&&(t=gl(t,["columns"]),Qe(Ihe("repeat")));const a=[],{repeater:l={},repeaterPrefix:u=""}=n,c=!Pe(r)&&r.row||[l?l.row:null],d=!Pe(r)&&r.column||[l?l.column:null],h=Pe(r)&&r||[l?l.repeat:null];for(const p of h)for(const m of c)for(const g of d){const y={repeat:p,row:m,column:g,layer:l.layer},v=(i.name?`${i.name}_`:"")+u+"child__"+(Pe(r)?`${ti(p)}`:(r.row?`row_${ti(m)}`:"")+(r.column?`column_${ti(g)}`:"")),b=this.map(i,{...n,repeater:y,repeaterPrefix:v});b.name=v,a.push(gl(b,["data"]))}const f=Pe(r)?t.columns:r.column?r.column.length:1;return{data:i.data??o,align:"all",...s,columns:f,concat:a}}mapFacet(t,n){const{facet:r}=t;return X2(r)&&t.columns&&(t=gl(t,["columns"]),Qe(Ihe("facet"))),super.mapFacet(t,n)}mapUnitWithParentEncodingOrProjection(t,n){const{encoding:r,projection:i}=t,{parentEncoding:o,parentProjection:s,config:a}=n,l=Jhe({parentProjection:s,projection:i}),u=Qhe({parentEncoding:o,encoding:hB(r,n.repeater)});return this.mapUnit({...t,...l?{projection:l}:{},...u?{encoding:u}:{}},{config:a})}mapFacetedUnit(t,n){const{row:r,column:i,facet:o,...s}=t.encoding,{mark:a,width:l,projection:u,height:c,view:d,params:h,encoding:f,...p}=t,{facetMapping:m,layout:g}=this.getFacetMappingAndLayout({row:r,column:i,facet:o},n),y=hB(s,n.repeater);return this.mapFacet({...p,...g,facet:m,spec:{...l?{width:l}:{},...c?{height:c}:{},...d?{view:d}:{},...u?{projection:u}:{},mark:a,encoding:y,...h?{params:h}:{}}},n)}getFacetMappingAndLayout(t,n){const{row:r,column:i,facet:o}=t;if(r||i){o&&Qe(o4t([...r?[np]:[],...i?[rp]:[]]));const s={},a={};for(const l of[np,rp]){const u=t[l];if(u){const{align:c,center:d,spacing:h,columns:f,...p}=u;s[l]=p;for(const m of["align","center","spacing"])u[m]!==void 0&&(a[m]??(a[m]={}),a[m][l]=u[m])}}return{facetMapping:s,layout:a}}else{const{align:s,center:a,spacing:l,columns:u,...c}=o;return{facetMapping:a6t(c,n.repeater),layout:{...s?{align:s}:{},...a?{center:a}:{},...l?{spacing:l}:{},...u?{columns:u}:{}}}}}mapLayer(t,{parentEncoding:n,parentProjection:r,...i}){const{encoding:o,projection:s,...a}=t,l={...i,parentEncoding:Qhe({parentEncoding:n,encoding:o,layer:!0}),parentProjection:Jhe({parentProjection:r,projection:s})};return super.mapLayer({...a,...t.name?{name:[l.repeaterPrefix,t.name].filter(u=>u).join("_")}:{}},l)}}function Qhe({parentEncoding:e,encoding:t={},layer:n}){let r={};if(e){const i=new Set([...qe(e),...qe(t)]);for(const o of i){const s=t[o],a=e[o];if(cn(s)){const l={...a,...s};r[o]=l}else J2(s)?r[o]={...s,condition:{...a,...s.condition}}:s||s===null?r[o]=s:(n||ld(a)||Ot(a)||cn(a)||Pe(a))&&(r[o]=a)}}else r=t;return!r||xr(r)?void 0:r}function Jhe(e){const{parentProjection:t,projection:n}=e;return t&&n&&Qe(YLt({parentProjection:t,projection:n})),n??t}function KJ(e){return Ye(e,"filter")}function c6t(e){return Ye(e,"stop")}function KMe(e){return Ye(e,"lookup")}function d6t(e){return Ye(e,"data")}function h6t(e){return Ye(e,"param")}function f6t(e){return Ye(e,"pivot")}function p6t(e){return Ye(e,"density")}function m6t(e){return Ye(e,"quantile")}function g6t(e){return Ye(e,"regression")}function y6t(e){return Ye(e,"loess")}function v6t(e){return Ye(e,"sample")}function b6t(e){return Ye(e,"window")}function w6t(e){return Ye(e,"joinaggregate")}function x6t(e){return Ye(e,"flatten")}function _6t(e){return Ye(e,"calculate")}function XMe(e){return Ye(e,"bin")}function E6t(e){return Ye(e,"impute")}function S6t(e){return Ye(e,"timeUnit")}function T6t(e){return Ye(e,"aggregate")}function C6t(e){return Ye(e,"stack")}function A6t(e){return Ye(e,"fold")}function k6t(e){return Ye(e,"extent")&&!Ye(e,"density")&&!Ye(e,"regression")}function I6t(e){return e.map(t=>KJ(t)?{filter:mw(t.filter,eFt)}:t)}class R6t extends YJ{map(t,n){return n.emptySelections??(n.emptySelections={}),n.selectionPredicates??(n.selectionPredicates={}),t=Zhe(t,n),super.map(t,n)}mapLayerOrUnit(t,n){if(t=Zhe(t,n),t.encoding){const r={};for(const[i,o]of Ug(t.encoding))r[i]=QMe(o,n);t={...t,encoding:r}}return super.mapLayerOrUnit(t,n)}mapUnit(t,n){const{selection:r,...i}=t;return r?{...i,params:Ug(r).map(([o,s])=>{const{init:a,bind:l,empty:u,...c}=s;c.type==="single"?(c.type="point",c.toggle=!1):c.type==="multi"&&(c.type="point"),n.emptySelections[o]=u!=="none";for(const d of ps(n.selectionPredicates[o]??{}))d.empty=u!=="none";return{name:o,value:a,select:c,bind:l}})}:t}}function Zhe(e,t){const{transform:n,...r}=e;if(n){const i=n.map(o=>{if(KJ(o))return{filter:Yz(o,t)};if(XMe(o)&&wb(o.bin))return{...o,bin:JMe(o.bin)};if(KMe(o)){const{selection:s,...a}=o.from;return s?{...o,from:{param:s,...a}}:o}return o});return{...r,transform:i}}return e}function QMe(e,t){var r,i;const n=sn(e);if(et(n)&&wb(n.bin)&&(n.bin=JMe(n.bin)),Sb(n)&&((i=(r=n.scale)==null?void 0:r.domain)!=null&&i.selection)){const{selection:o,...s}=n.scale.domain;n.scale.domain={...s,...o?{param:o}:{}}}if(Q2(n))if(Pe(n.condition))n.condition=n.condition.map(o=>{const{selection:s,param:a,test:l,...u}=o;return a?o:{...u,test:Yz(o,t)}});else{const{selection:o,param:s,test:a,...l}=QMe(n.condition,t);n.condition=s?n.condition:{...l,test:Yz(n.condition,t)}}return n}function JMe(e){const t=e.extent;if(t!=null&&t.selection){const{selection:n,...r}=t;return{...e,extent:{...r,param:n}}}return e}function Yz(e,t){const n=r=>mw(r,i=>{var o;const s=t.emptySelections[i]??!0,a={param:i,empty:s};return(o=t.selectionPredicates)[i]??(o[i]=[]),t.selectionPredicates[i].push(a),a});return e.selection?n(e.selection):mw(e.test||e.filter,r=>r.selection?n(r.selection):r)}class Kz extends YJ{map(t,n){const r=n.selections??[];if(t.params&&!Jp(t)){const i=[];for(const o of t.params)WJ(o)?r.push(o):i.push(o);t.params=i}return n.selections=r,super.map(t,n)}mapUnit(t,n){const r=n.selections;if(!r||!r.length)return t;const i=(n.path??[]).concat(t.name),o=[];for(const s of r)if(!s.views||!s.views.length)o.push(s);else for(const a of s.views)(xt(a)&&(a===t.name||i.includes(a))||Pe(a)&&a.map(l=>i.indexOf(l)).every((l,u,c)=>l!==-1&&(u===0||l>c[u-1])))&&o.push(s);return o.length&&(t.params=o),t}}for(const e of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const t=Kz.prototype[e];Kz.prototype[e]=function(n,r){return t.call(this,n,$6t(n,r))}}function $6t(e,t){return e.name?{...t,path:(t.path??[]).concat(e.name)}:t}function ZMe(e,t){t===void 0&&(t=VMe(e.config));const n=N6t(e,t),{width:r,height:i}=e,o=O6t(n,{width:r,height:i,autosize:e.autosize},t);return{...n,...o?{autosize:o}:{}}}const D6t=new u6t,M6t=new R6t,P6t=new Kz;function N6t(e,t={}){const n={config:t};return P6t.map(D6t.map(M6t.map(e,n),n),n)}function efe(e){return xt(e)?{type:e}:e??{}}function O6t(e,t,n){let{width:r,height:i}=t;const o=Jp(e)||DL(e),s={};o?r=="container"&&i=="container"?(s.type="fit",s.contains="padding"):r=="container"?(s.type="fit-x",s.contains="padding"):i=="container"&&(s.type="fit-y",s.contains="padding"):(r=="container"&&(Qe(The("width")),r=void 0),i=="container"&&(Qe(The("height")),i=void 0));const a={type:"pad",...s,...n?efe(n.autosize):{},...efe(e.autosize)};if(a.type==="fit"&&!o&&(Qe(kLt),a.type="pad"),r=="container"&&!(a.type=="fit"||a.type=="fit-x")&&Qe(Che("width")),i=="container"&&!(a.type=="fit"||a.type=="fit-y")&&Qe(Che("height")),!Hl(a,{type:"pad"}))return a}function L6t(e){return["fit","fit-x","fit-y"].includes(e)}function F6t(e){return e?`fit-${pL(e)}`:"fit"}const B6t=["background","padding"];function tfe(e,t){const n={};for(const r of B6t)e&&e[r]!==void 0&&(n[r]=Bl(e[r]));return t&&(n.params=e.params),n}class Zp{constructor(t={},n={}){this.explicit=t,this.implicit=n}clone(){return new Zp(sn(this.explicit),sn(this.implicit))}combine(){return{...this.explicit,...this.implicit}}get(t){return Fi(this.explicit[t],this.implicit[t])}getWithExplicit(t){return this.explicit[t]!==void 0?{explicit:!0,value:this.explicit[t]}:this.implicit[t]!==void 0?{explicit:!1,value:this.implicit[t]}:{explicit:!1,value:void 0}}setWithExplicit(t,{value:n,explicit:r}){n!==void 0&&this.set(t,n,r)}set(t,n,r){return delete this[r?"implicit":"explicit"][t],this[r?"explicit":"implicit"][t]=n,this}copyKeyFromSplit(t,{explicit:n,implicit:r}){n[t]!==void 0?this.set(t,n[t],!0):r[t]!==void 0&&this.set(t,r[t],!1)}copyKeyFromObject(t,n){n[t]!==void 0&&this.set(t,n[t],!0)}copyAll(t){for(const n of qe(t.combine())){const r=t.getWithExplicit(n);this.setWithExplicit(n,r)}}}function jd(e){return{explicit:!0,value:e}}function Pl(e){return{explicit:!1,value:e}}function ePe(e){return(t,n,r,i)=>{const o=e(t.value,n.value);return o>0?t:o<0?n:ML(t,n,r,i)}}function ML(e,t,n,r){return e.explicit&&t.explicit&&Qe(y4t(n,r,e.value,t.value)),e}function Wg(e,t,n,r,i=ML){return e===void 0||e.value===void 0?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:Hl(e.value,t.value)?e:i(e,t,n,r)}class j6t extends Zp{constructor(t={},n={},r=!1){super(t,n),this.explicit=t,this.implicit=n,this.parseNothing=r}clone(){const t=super.clone();return t.parseNothing=this.parseNothing,t}}function _x(e){return Ye(e,"url")}function lA(e){return Ye(e,"values")}function tPe(e){return Ye(e,"name")&&!_x(e)&&!lA(e)&&!pg(e)}function pg(e){return e&&(nPe(e)||rPe(e)||XJ(e))}function nPe(e){return Ye(e,"sequence")}function rPe(e){return Ye(e,"sphere")}function XJ(e){return Ye(e,"graticule")}var ui;(function(e){e[e.Raw=0]="Raw",e[e.Main=1]="Main",e[e.Row=2]="Row",e[e.Column=3]="Column",e[e.Lookup=4]="Lookup",e[e.PreFilterInvalid=5]="PreFilterInvalid",e[e.PostFilterInvalid=6]="PostFilterInvalid"})(ui||(ui={}));function iPe({invalid:e,isPath:t}){switch(ZDe(e,{isPath:t})){case"filter":return{marks:"exclude-invalid-values",scales:"exclude-invalid-values"};case"break-paths-show-domains":return{marks:t?"include-invalid-values":"exclude-invalid-values",scales:"include-invalid-values"};case"break-paths-filter-domains":return{marks:t?"include-invalid-values":"exclude-invalid-values",scales:"exclude-invalid-values"};case"show":return{marks:"include-invalid-values",scales:"include-invalid-values"}}}function z6t(e){const{marks:t,scales:n}=iPe(e);return t===n?ui.Main:n==="include-invalid-values"?ui.PreFilterInvalid:ui.PostFilterInvalid}class gr{constructor(t,n){this.debugName=n,this._children=[],this._parent=null,t&&(this.parent=t)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(t){this._parent=t,t&&t.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(t,n){if(this._children.includes(t)){Qe(WLt);return}n!==void 0?this._children.splice(n,0,t):this._children.push(t)}removeChild(t){const n=this._children.indexOf(t);return this._children.splice(n,1),n}remove(){let t=this._parent.removeChild(this);for(const n of this._children)n._parent=this._parent,this._parent.addChild(n,t++)}insertAsParentOf(t){const n=t.parent;n.removeChild(this),this.parent=n,t.parent=this}swapWithParent(){const t=this._parent,n=t.parent;for(const i of this._children)i.parent=t;this._children=[],t.removeChild(this);const r=t.parent.removeChild(t);this._parent=n,n.addChild(this,r),t.parent=this}}class yl extends gr{clone(){const t=new this.constructor;return t.debugName=`clone_${this.debugName}`,t._source=this._source,t._name=`clone_${this._name}`,t.type=this.type,t.refCounts=this.refCounts,t.refCounts[t._name]=0,t}constructor(t,n,r,i){super(t,n),this.type=r,this.refCounts=i,this._source=this._name=n,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){return this._hash===void 0&&(this._hash=`Output ${eDe()}`),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(t){this._source=t}}function fB(e){return e.as!==void 0}function nfe(e){return`${e}_end`}class vh extends gr{clone(){return new vh(null,sn(this.timeUnits))}constructor(t,n){super(t),this.timeUnits=n}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,o,s)=>{const{field:a,timeUnit:l}=o;if(l){let u;if(Eb(l)){if(ai(n)){const{mark:c,markDef:d,config:h}=n,f=Vg({fieldDef:o,markDef:d,config:h});(aA(c)||f)&&(u={timeUnit:Do(l),field:a})}}else u={as:pt(o,{forAs:!0}),field:a,timeUnit:l};if(ai(n)){const{mark:c,markDef:d,config:h}=n,f=Vg({fieldDef:o,markDef:d,config:h});aA(c)&&Bi(s)&&f!==.5&&(u.rectBandPosition=f)}u&&(i[On(u)]=u)}return i},{});return xr(r)?null:new vh(t,r)}static makeFromTransform(t,n){const{timeUnit:r,...i}={...n},o=Do(r),s={...i,timeUnit:o};return new vh(t,{[On(s)]:s})}merge(t){this.timeUnits={...this.timeUnits};for(const n in t.timeUnits)this.timeUnits[n]||(this.timeUnits[n]=t.timeUnits[n]);for(const n of t.children)t.removeChild(n),n.parent=this;t.remove()}removeFormulas(t){const n={};for(const[r,i]of Ug(this.timeUnits)){const o=fB(i)?i.as:`${i.field}_end`;t.has(o)||(n[r]=i)}this.timeUnits=n}producedFields(){return new Set(ps(this.timeUnits).map(t=>fB(t)?t.as:nfe(t.field)))}dependentFields(){return new Set(ps(this.timeUnits).map(t=>t.field))}hash(){return`TimeUnit ${On(this.timeUnits)}`}assemble(){const t=[];for(const n of ps(this.timeUnits)){const{rectBandPosition:r}=n,i=Do(n.timeUnit);if(fB(n)){const{field:o,as:s}=n,{unit:a,utc:l,...u}=i,c=[s,`${s}_end`];t.push({field:Ku(o),type:"timeunit",...a?{units:vL(a)}:{},...l?{timezone:"utc"}:{},...u,as:c}),t.push(...rfe(c,r,i))}else if(n){const{field:o}=n,s=o.replaceAll("\\.","."),a=oPe({timeUnit:i,field:s}),l=nfe(s);t.push({type:"formula",expr:a,as:l}),t.push(...rfe([s,l],r,i))}}return t}}const PL="offsetted_rect_start",NL="offsetted_rect_end";function oPe({timeUnit:e,field:t,reverse:n}){const{unit:r,utc:i}=e,o=NDe(r),{part:s,step:a}=BDe(o,e.step);return`${i?"utcOffset":"timeOffset"}('${s}', ${cr(t)}, ${n?-a:a})`}function rfe([e,t],n,r){if(n!==void 0&&n!==.5){const i=cr(e),o=cr(t);return[{type:"formula",expr:ife([oPe({timeUnit:r,field:e,reverse:!0}),i],n+.5),as:`${e}_${PL}`},{type:"formula",expr:ife([i,o],n+.5),as:`${e}_${NL}`}]}return[]}function ife([e,t],n){return`${1-n} * ${e} + ${n} * ${t}`}const tk="_tuple_fields";class U6t{constructor(...t){this.items=t,this.hasChannel={},this.hasField={},this.hasSelectionId=!1}}const H6t={defined:()=>!0,parse:(e,t,n)=>{const r=t.name,i=t.project??(t.project=new U6t),o={},s={},a=new Set,l=(p,m)=>{const g=m==="visual"?p.channel:p.field;let y=ti(`${r}_${g}`);for(let v=1;a.has(y);v++)y=ti(`${r}_${g}_${v}`);return a.add(y),{[m]:y}},u=t.type,c=e.config.selection[u],d=n.value!==void 0?_t(n.value):null;let{fields:h,encodings:f}=wt(n.select)?n.select:{};if(!h&&!f&&d){for(const p of d)if(wt(p))for(const m of qe(p))nLt(m)?(f||(f=[])).push(m):u==="interval"?(Qe(FLt),f=c.encodings):(h??(h=[])).push(m)}!h&&!f&&(f=c.encodings,"fields"in c&&(h=c.fields));for(const p of f??[]){const m=e.fieldDef(p);if(m){let g=m.field;if(m.aggregate){Qe(ILt(p,m.aggregate));continue}else if(!g){Qe(khe(p));continue}if(m.timeUnit&&!Eb(m.timeUnit)){g=e.vgField(p);const y={timeUnit:m.timeUnit,as:g,field:m.field};s[On(y)]=y}if(!o[g]){const y=u==="interval"&&tf(p)&&ad(e.getScaleComponent(p).get("type"))?"R":m.bin?"R-RE":"E",v={field:g,channel:p,type:y,index:i.items.length};v.signals={...l(v,"data"),...l(v,"visual")},i.items.push(o[g]=v),i.hasField[g]=o[g],i.hasSelectionId=i.hasSelectionId||g===cd,sDe(p)?(v.geoChannel=p,v.channel=oDe(p),i.hasChannel[v.channel]=o[g]):i.hasChannel[p]=o[g]}}else Qe(khe(p))}for(const p of h??[]){if(i.hasField[p])continue;const m={type:"E",field:p,index:i.items.length};m.signals={...l(m,"data")},i.items.push(m),i.hasField[p]=m,i.hasSelectionId=i.hasSelectionId||p===cd}d&&(t.init=d.map(p=>i.items.map(m=>wt(p)?p[m.geoChannel||m.channel]!==void 0?p[m.geoChannel||m.channel]:p[m.field]:p))),xr(s)||(i.timeUnit=new vh(null,s))},signals:(e,t,n)=>{const r=t.name+tk;return n.filter(o=>o.name===r).length>0||t.project.hasSelectionId?n:n.concat({name:r,value:t.project.items.map(uPe)})}},sPe="_curr",wR="anim_value",y1="anim_clock",Xz="eased_anim_clock",aPe="min_extent",lPe="max_range_extent",pB="last_tick_at",mB="is_playing",V6t=1/60*1e3,W6t=(e,t)=>[{name:Xz,update:y1},{name:`${e}_domain`,init:`domain('${t}')`},{name:aPe,init:`extent(${e}_domain)[0]`},{name:lPe,init:`extent(range('${t}'))[1]`},{name:wR,update:`invert('${t}', ${Xz})`}],q6t={defined:e=>e.type==="point",topLevelSignals:(e,t,n)=>(bh(t)&&(n=n.concat([{name:y1,init:"0",on:[{events:{type:"timer",throttle:V6t},update:`${mB} ? (${y1} + (now() - ${pB}) > ${lPe} ? 0 : ${y1} + (now() - ${pB})) : ${y1}`}]},{name:pB,init:"now()",on:[{events:[{signal:y1},{signal:mB}],update:"now()"}]},{name:mB,init:"true"}])),n),signals:(e,t,n)=>{const r=t.name,i=r+tk,o=t.project,s="(item().isVoronoi ? datum.datum : datum)",a=ps(e.component.selection??{}).reduce((c,d)=>d.type==="interval"?c.concat(d.name+vw):c,[]).map(c=>`indexof(item().mark.name, '${c}') < 0`).join(" && "),l=`datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0${a?` && ${a}`:""}`;let u=`unit: ${Hy(e)}, `;if(t.project.hasSelectionId)u+=`${cd}: ${s}[${ot(cd)}]`;else if(bh(t))u+=`fields: ${i}, values: [${wR} ? ${wR} : ${aPe}]`;else{const c=o.items.map(d=>{const h=e.fieldDef(d.channel);return h!=null&&h.bin?`[${s}[${ot(e.vgField(d.channel,{}))}], ${s}[${ot(e.vgField(d.channel,{binSuffix:"end"}))}]]`:`${s}[${ot(d.field)}]`}).join(", ");u+=`fields: ${i}, values: [${c}]`}if(bh(t))return n.concat(W6t(t.name,e.scaleName(y0)),[{name:r+Dp,on:[{events:[{signal:Xz},{signal:wR}],update:`{${u}}`,force:!0}]}]);{const c=t.events;return n.concat([{name:r+Dp,on:c?[{events:c,update:`${l} ? {${u}} : null`,force:!0}]:[]}])}}};function uPe(e){const{signals:t,hasLegend:n,index:r,...i}=e;return i.field=Ku(i.field),i}function Rv(e,t=!0,n=sa){if(Pe(e)){const r=e.map(i=>Rv(i,t,n));return t?`[${r.join(", ")}]`:r}else if(_b(e))return n(t?Cv(e):U4t(e));return t?n(_r(e)):e}function G6t(e,t){for(const n of ps(e.component.selection??{})){const r=n.name;let i=`${r}${Dp}, ${n.resolve==="global"?"true":`{unit: ${Hy(e)}}`}`;for(const o of LL)o.defined(n)&&(o.signals&&(t=o.signals(e,n,t)),o.modifyExpr&&(i=o.modifyExpr(e,n,i)));t.push({name:r+wBt,on:[{events:{signal:n.name+Dp},update:`modify(${ot(n.name+$v)}, ${i})`}]})}return QJ(t)}function Y6t(e,t){if(e.component.selection&&qe(e.component.selection).length){const n=ot(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:m0("pointermove","scope"),update:`isTuple(facet) ? facet : group(${n}).datum`}]})}return QJ(t)}function K6t(e,t){let n=!1;for(const r of ps(e.component.selection??{})){const i=r.name,o=ot(i+$v);if(t.filter(a=>a.name===i).length===0){const a=r.resolve==="global"?"union":r.resolve,l=r.type==="point"?", true, true)":")";t.push({name:r.name,update:`${CPe}(${o}, ${ot(a)}${l}`})}n=!0;for(const a of LL)a.defined(r)&&a.topLevelSignals&&(t=a.topLevelSignals(e,r,t))}return n&&t.filter(i=>i.name==="unit").length===0&&t.unshift({name:"unit",value:{},on:[{events:"pointermove",update:"isTuple(group()) ? group() : unit"}]}),QJ(t)}function X6t(e,t){const n=[],r=[],i=Hy(e,{escape:!1});for(const o of ps(e.component.selection??{})){const s={name:o.name+$v};if(o.project.hasSelectionId&&(s.transform=[{type:"collect",sort:{field:cd}}]),o.init){const l=o.project.items.map(uPe);s.values=o.project.hasSelectionId?o.init.map(u=>({unit:i,[cd]:Rv(u,!1)[0]})):o.init.map(u=>({unit:i,fields:l,values:Rv(u,!1)}))}if([...n,...t].filter(l=>l.name===o.name+$v).length||n.push(s),bh(o)&&t.length){const l=e.lookupDataSource(e.getDataName(ui.Main)),u=t.find(d=>d.name===l),c=u.transform.find(d=>d.type==="filter"&&d.expr.includes("vlSelectionTest"));if(c){u.transform=u.transform.filter(h=>h!==c);const d={name:u.name+sPe,source:u.name,transform:[c]};r.push(d)}}}return n.concat(t,r)}function cPe(e,t){for(const n of ps(e.component.selection??{}))for(const r of LL)r.defined(n)&&r.marks&&(t=r.marks(e,n,t));return t}function Q6t(e,t){for(const n of e.children)ai(n)&&(t=cPe(n,t));return t}function J6t(e,t,n,r){const i=LPe(e,t.param,t);return{signal:ad(n.get("type"))&&Pe(r)&&r[0]>r[1]?`isValid(${i}) && reverse(${i})`:i}}function QJ(e){return e.map(t=>(t.on&&!t.on.length&&delete t.on,t))}const op={defined:e=>e.type==="interval"&&e.resolve==="global"&&e.bind&&e.bind==="scales",parse:(e,t)=>{const n=t.scales=[];for(const r of t.project.items){const i=r.channel;if(!tf(i))continue;const o=e.getScaleComponent(i),s=o?o.get("type"):void 0;if(s=="sequential"&&Qe(MLt),!o||!ad(s)){Qe(DLt);continue}o.set("selectionExtent",{param:t.name,field:r.field},!0),n.push(r)}},topLevelSignals:(e,t,n)=>{const r=t.scales.filter(s=>n.filter(a=>a.name===s.signals.data).length===0);if(!e.parent||Jz(e)||r.length===0)return n;const i=n.find(s=>s.name===t.name);let o=i.update;if(o.includes(CPe))i.update=`{${r.map(s=>`${ot(Ku(s.field))}: ${s.signals.data}`).join(", ")}}`;else{for(const s of r){const a=`${ot(Ku(s.field))}: ${s.signals.data}`;o.includes(a)||(o=`${o.substring(0,o.length-1)}, ${a}}`)}i.update=o}return n.concat(r.map(s=>({name:s.signals.data})))},signals:(e,t,n)=>{if(e.parent&&!Jz(e))for(const r of t.scales){const i=n.find(o=>o.name===r.signals.data);i.push="outer",delete i.value,delete i.update}return n}};function Qz(e,t){return`domain(${ot(e.scaleName(t))})`}function Jz(e){return e.parent&&W_(e.parent)&&(!e.parent.parent||Jz(e.parent.parent))}const vw="_brush",dPe="_scale_trigger",jE="geo_interval_init_tick",hPe="_init",Z6t="_center",eBt={defined:e=>e.type==="interval",parse:(e,t,n)=>{var r;if(e.hasProjection){const i={...wt(n.select)?n.select:{}};i.fields=[cd],i.encodings||(i.encodings=n.value?qe(n.value):[wd,bd]),n.select={type:"interval",...i}}if(t.translate&&!op.defined(t)){const i=`!event.item || event.item.mark.name !== ${ot(t.name+vw)}`;for(const o of t.events){if(!o.between){Qe(`${o} is not an ordered event stream for interval selections.`);continue}const s=_t((r=o.between[0]).filter??(r.filter=[]));s.includes(i)||s.push(i)}}},signals:(e,t,n)=>{const r=t.name,i=r+Dp,o=ps(t.project.hasChannel).filter(a=>a.channel===ri||a.channel===Bo),s=t.init?t.init[0]:null;if(n.push(...o.reduce((a,l)=>a.concat(tBt(e,t,l,s&&s[l.index])),[])),e.hasProjection){const a=ot(e.projectionName()),l=e.projectionName()+Z6t,{x:u,y:c}=t.project.hasChannel,d=u&&u.signals.visual,h=c&&c.signals.visual,f=u?s&&s[u.index]:`${l}[0]`,p=c?s&&s[c.index]:`${l}[1]`,m=x=>e.getSizeSignalRef(x).signal,g=`[[${d?d+"[0]":"0"}, ${h?h+"[0]":"0"}],[${d?d+"[1]":m("width")}, ${h?h+"[1]":m("height")}]]`;s&&(n.unshift({name:r+hPe,init:`[scale(${a}, [${u?f[0]:f}, ${c?p[0]:p}]), scale(${a}, [${u?f[1]:f}, ${c?p[1]:p}])]`}),(!u||!c)&&(n.find(w=>w.name===l)||n.unshift({name:l,update:`invert(${a}, [${m("width")}/2, ${m("height")}/2])`})));const y=`intersect(${g}, {markname: ${ot(e.getName("marks"))}}, unit.mark)`,v=`{unit: ${Hy(e)}}`,b=`vlSelectionTuples(${y}, ${v})`,_=o.map(x=>x.signals.visual);return n.concat({name:i,on:[{events:[..._.length?[{signal:_.join(" || ")}]:[],...s?[{signal:jE}]:[]],update:b}]})}else{if(!op.defined(t)){const u=r+dPe,c=o.map(d=>{const h=d.channel,{data:f,visual:p}=d.signals,m=ot(e.scaleName(h)),g=e.getScaleComponent(h).get("type"),y=ad(g)?"+":"";return`(!isArray(${f}) || (${y}invert(${m}, ${p})[0] === ${y}${f}[0] && ${y}invert(${m}, ${p})[1] === ${y}${f}[1]))`});c.length&&n.push({name:u,value:{},on:[{events:o.map(d=>({scale:e.scaleName(d.channel)})),update:c.join(" && ")+` ? ${u} : {}`}]})}const a=o.map(u=>u.signals.data),l=`unit: ${Hy(e)}, fields: ${r+tk}, values`;return n.concat({name:i,...s?{init:`{${l}: ${Rv(s)}}`}:{},...a.length?{on:[{events:[{signal:a.join(" || ")}],update:`${a.join(" && ")} ? {${l}: [${a}]} : null`}]}:{}})}},topLevelSignals:(e,t,n)=>(ai(e)&&e.hasProjection&&t.init&&(n.filter(i=>i.name===jE).length||n.unshift({name:jE,value:null,on:[{events:"timer{1}",update:`${jE} === null ? {} : ${jE}`}]})),n),marks:(e,t,n)=>{const r=t.name,{x:i,y:o}=t.project.hasChannel,s=i==null?void 0:i.signals.visual,a=o==null?void 0:o.signals.visual,l=`data(${ot(t.name+$v)})`;if(op.defined(t)||!i&&!o)return n;const u={x:i!==void 0?{signal:`${s}[0]`}:{value:0},y:o!==void 0?{signal:`${a}[0]`}:{value:0},x2:i!==void 0?{signal:`${s}[1]`}:{field:{group:"width"}},y2:o!==void 0?{signal:`${a}[1]`}:{field:{group:"height"}}};if(t.resolve==="global")for(const g of qe(u))u[g]=[{test:`${l}.length && ${l}[0].unit === ${Hy(e)}`,...u[g]},{value:0}];const{fill:c,fillOpacity:d,cursor:h,...f}=t.mark,p=qe(f).reduce((g,y)=>(g[y]=[{test:[i!==void 0&&`${s}[0] !== ${s}[1]`,o!==void 0&&`${a}[0] !== ${a}[1]`].filter(v=>v).join(" && "),value:f[y]},{value:null}],g),{}),m=h??(t.translate?"move":null);return[{name:`${r+vw}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:c},fillOpacity:{value:d}},update:u}},...n,{name:r+vw,type:"rect",clip:!0,encode:{enter:{...m?{cursor:{value:m}}:{},fill:{value:"transparent"}},update:{...u,...p}}}]}};function tBt(e,t,n,r){const i=!e.hasProjection,o=n.channel,s=n.signals.visual,a=ot(i?e.scaleName(o):e.projectionName()),l=h=>`scale(${a}, ${h})`,u=e.getSizeSignalRef(o===ri?"width":"height").signal,c=`${o}(unit)`,d=t.events.reduce((h,f)=>[...h,{events:f.between[0],update:`[${c}, ${c}]`},{events:f,update:`[${s}[0], clamp(${c}, 0, ${u})]`}],[]);if(i){const h=n.signals.data,f=op.defined(t),p=e.getScaleComponent(o),m=p?p.get("type"):void 0,g=r?{init:Rv(r,!0,l)}:{value:[]};return d.push({events:{signal:t.name+dPe},update:ad(m)?`[${l(`${h}[0]`)}, ${l(`${h}[1]`)}]`:"[0, 0]"}),f?[{name:h,on:[]}]:[{name:s,...g,on:d},{name:h,...r?{init:Rv(r)}:{},on:[{events:{signal:s},update:`${s}[0] === ${s}[1] ? null : invert(${a}, ${s})`}]}]}else{const h=o===ri?0:1,f=t.name+hPe,p=r?{init:`[${f}[0][${h}], ${f}[1][${h}]]`}:{value:[]};return[{name:s,...p,on:d}]}}function z_({model:e,channelDef:t,vgChannel:n,invalidValueRef:r,mainRefFn:i}){const o=Q2(t)&&t.condition;let s=[];o&&(s=_t(o).map(u=>{const c=i(u);if(UFt(u)){const{param:d,empty:h}=u;return{test:OPe(e,{param:d,empty:h}),...c}}else return{test:FM(e,u.test),...c}})),r!==void 0&&s.push(r);const a=i(t);return a!==void 0&&s.push(a),s.length>1||s.length===1&&s[0].test?{[n]:s}:s.length===1?{[n]:s[0]}:{}}function JJ(e,t="text"){const n=e.encoding[t];return z_({model:e,channelDef:n,vgChannel:t,mainRefFn:r=>OL(r,e.config),invalidValueRef:void 0})}function OL(e,t,n="datum"){if(e){if(ld(e))return Wr(e.value);if(cn(e)){const{format:r,formatType:i}=$M(e);return DJ({fieldOrDatumDef:e,format:r,formatType:i,expr:n,config:t})}}}function fPe(e,t={}){const{encoding:n,markDef:r,config:i,stack:o}=e,s=n.tooltip;if(Pe(s))return{tooltip:ofe({tooltip:s},o,i,t)};{const a=t.reactiveGeom?"datum.datum":"datum";return z_({model:e,channelDef:s,vgChannel:"tooltip",mainRefFn:u=>{const c=OL(u,i,a);if(c)return c;if(u===null)return;let d=wr("tooltip",r,i);if(d===!0&&(d={content:"encoding"}),xt(d))return{value:d};if(wt(d))return Ot(d)?d:d.content==="encoding"?ofe(n,o,i,t):{signal:a}},invalidValueRef:void 0})}}function pPe(e,t,n,{reactiveGeom:r}={}){const i={...n,...n.tooltipFormat},o=new Set,s=r?"datum.datum":"datum",a=[];function l(c,d){const h=bb(d),f=Na(c)?c:{...c,type:e[h].type},p=f.title||OJ(f,i),m=_t(p).join(", ").replaceAll(/"/g,'\\"');let g;if(Bi(d)){const y=d==="x"?"x2":"y2",v=ud(e[y]);if(Jo(f.bin)&&v){const b=pt(f,{expr:s}),_=pt(v,{expr:s}),{format:x,formatType:w}=$M(f);g=K2(b,_,x,w,i),o.add(y)}}if((Bi(d)||d===oc||d===vd)&&t&&t.fieldChannel===d&&t.offset==="normalize"){const{format:y,formatType:v}=$M(f);g=DJ({fieldOrDatumDef:f,format:y,formatType:v,expr:s,config:i,normalizeStack:!0}).signal}g??(g=OL(f,i,s).signal),a.push({channel:d,key:m,value:g})}FJ(e,(c,d)=>{et(c)?l(c,d):CL(c)&&l(c.condition,d)});const u={};for(const{channel:c,key:d,value:h}of a)!o.has(c)&&!u[d]&&(u[d]=h);return u}function ofe(e,t,n,{reactiveGeom:r}={}){const i=pPe(e,t,n,{reactiveGeom:r}),o=Ug(i).map(([s,a])=>`"${s}": ${a}`);return o.length>0?{signal:`{${o.join(", ")}}`}:void 0}function nBt(e){const{markDef:t,config:n}=e,r=wr("aria",t,n);return r===!1?{}:{...r?{aria:r}:{},...rBt(e),...iBt(e)}}function rBt(e){const{mark:t,markDef:n,config:r}=e;if(r.aria===!1)return{};const i=wr("ariaRoleDescription",n,r);return i!=null?{ariaRoleDescription:{value:i}}:Tt(TLt,t)?{}:{ariaRoleDescription:{value:t}}}function iBt(e){const{encoding:t,markDef:n,config:r,stack:i}=e,o=t.description;if(o)return z_({model:e,channelDef:o,vgChannel:"description",mainRefFn:l=>OL(l,e.config),invalidValueRef:void 0});const s=wr("description",n,r);if(s!=null)return{description:Wr(s)};if(r.aria===!1)return{};const a=pPe(t,i,r);if(!xr(a))return{description:{signal:Ug(a).map(([l,u],c)=>`"${c>0?"; ":""}${l}: " + (${u})`).join(" + ")}}}function ss(e,t,n={}){const{markDef:r,encoding:i,config:o}=t,{vgChannel:s}=n;let{defaultRef:a,defaultValue:l}=n;const u=i[e];a===void 0&&(l??(l=wr(e,r,o,{vgChannel:s,ignoreVgConfig:!Q2(u)})),l!==void 0&&(a=Wr(l)));const c={markDef:r,config:o,scaleName:t.scaleName(e),scale:t.getScaleComponent(e)},d=tMe({...c,scaleChannel:e,channelDef:u});return z_({model:t,channelDef:u,vgChannel:s??e,invalidValueRef:d,mainRefFn:f=>$J({...c,channel:e,channelDef:f,stack:null,defaultRef:a})})}function mPe(e,t={filled:void 0}){const{markDef:n,encoding:r,config:i}=e,{type:o}=n,s=t.filled??wr("filled",n,i),a=An(["bar","point","circle","square","geoshape"],o)?"transparent":void 0,l=wr(s===!0?"color":void 0,n,i,{vgChannel:"fill"})??i.mark[s===!0&&"color"]??a,u=wr(s===!1?"color":void 0,n,i,{vgChannel:"stroke"})??i.mark[s===!1&&"color"],c=s?"fill":"stroke",d={...l?{fill:Wr(l)}:{},...u?{stroke:Wr(u)}:{}};return n.color&&(s?n.fill:n.stroke)&&Qe(CDe("property",{fill:"fill"in n,stroke:"stroke"in n})),{...d,...ss("color",e,{vgChannel:c,defaultValue:s?l:u}),...ss("fill",e,{defaultValue:r.fill?l:void 0}),...ss("stroke",e,{defaultValue:r.stroke?u:void 0})}}function oBt(e){const{encoding:t,mark:n}=e,r=t.order;return!E0(n)&&ld(r)?z_({model:e,channelDef:r,vgChannel:"zindex",mainRefFn:i=>Wr(i.value),invalidValueRef:void 0}):{}}function Ex({channel:e,markDef:t,encoding:n={},model:r,bandPosition:i}){const o=`${e}Offset`,s=t[o],a=n[o];if((o==="xOffset"||o==="yOffset")&&a)return{offsetType:"encoding",offset:$J({channel:o,channelDef:a,markDef:t,config:r==null?void 0:r.config,scaleName:r.scaleName(o),scale:r.getScaleComponent(o),stack:null,defaultRef:Wr(s),bandPosition:i})};const l=t[o];return l?{offsetType:"visual",offset:l}:{}}function ka(e,t,{defaultPos:n,vgChannel:r}){const{encoding:i,markDef:o,config:s,stack:a}=t,l=i[e],u=i[ef(e)],c=t.scaleName(e),d=t.getScaleComponent(e),{offset:h,offsetType:f}=Ex({channel:e,markDef:o,encoding:i,model:t,bandPosition:.5}),p=ZJ({model:t,defaultPos:n,channel:e,scaleName:c,scale:d}),m=!l&&Bi(e)&&(i.latitude||i.longitude)?{field:t.getName(e)}:sBt({channel:e,channelDef:l,channel2Def:u,markDef:o,config:s,scaleName:c,scale:d,stack:a,offset:h,defaultRef:p,bandPosition:f==="encoding"?0:void 0});return m?{[r||e]:m}:void 0}function sBt(e){const{channel:t,channelDef:n,scaleName:r,stack:i,offset:o,markDef:s}=e;if(cn(n)&&i&&t===i.fieldChannel){if(et(n)){let a=n.bandPosition;if(a===void 0&&s.type==="text"&&(t==="radius"||t==="theta")&&(a=.5),a!==void 0)return kM({scaleName:r,fieldOrDatumDef:n,startSuffix:"start",bandPosition:a,offset:o})}return zy(n,r,{suffix:"end"},{offset:o})}return RJ(e)}function ZJ({model:e,defaultPos:t,channel:n,scaleName:r,scale:i}){const{markDef:o,config:s}=e;return()=>{const a=bb(n),l=Hg(n),u=wr(n,o,s,{vgChannel:l});if(u!==void 0)return kT(n,u);switch(t){case"zeroOrMin":return sfe({scaleName:r,scale:i,mode:"zeroOrMin",mainChannel:a,config:s});case"zeroOrMax":return sfe({scaleName:r,scale:i,mode:{zeroOrMax:{widthSignal:e.width.signal,heightSignal:e.height.signal}},mainChannel:a,config:s});case"mid":return{...e[Sl(n)],mult:.5}}}}function sfe({mainChannel:e,config:t,...n}){const r=eMe(n),{mode:i}=n;if(r)return r;switch(e){case"radius":{if(i==="zeroOrMin")return{value:0};const{widthSignal:o,heightSignal:s}=i.zeroOrMax;return{signal:`min(${o},${s})/2`}}case"theta":return i==="zeroOrMin"?{value:0}:{signal:"2*PI"};case"x":return i==="zeroOrMin"?{value:0}:{field:{group:"width"}};case"y":return i==="zeroOrMin"?{field:{group:"height"}}:{value:0}}}const aBt={left:"x",center:"xc",right:"x2"},lBt={top:"y",middle:"yc",bottom:"y2"};function gPe(e,t,n,r="middle"){if(e==="radius"||e==="theta")return Hg(e);const i=e==="x"?"align":"baseline",o=wr(i,t,n);let s;return Ot(o)?(Qe(s4t(i)),s=void 0):s=o,e==="x"?aBt[s||(r==="top"?"left":"center")]:lBt[s||r]}function NM(e,t,{defaultPos:n,defaultPos2:r,range:i}){return i?yPe(e,t,{defaultPos:n,defaultPos2:r}):ka(e,t,{defaultPos:n})}function yPe(e,t,{defaultPos:n,defaultPos2:r}){const{markDef:i,config:o}=t,s=ef(e),a=Sl(e),l=uBt(t,r,s),u=l[a]?gPe(e,i,o):Hg(e);return{...ka(e,t,{defaultPos:n,vgChannel:u}),...l}}function uBt(e,t,n){const{encoding:r,mark:i,markDef:o,stack:s,config:a}=e,l=bb(n),u=Sl(n),c=Hg(n),d=r[l],h=e.scaleName(l),f=e.getScaleComponent(l),{offset:p}=n in r||n in o?Ex({channel:n,markDef:o,encoding:r,model:e}):Ex({channel:l,markDef:o,encoding:r,model:e});if(!d&&(n==="x2"||n==="y2")&&(r.latitude||r.longitude)){const g=Sl(n),y=e.markDef[g];return y!=null?{[g]:{value:y}}:{[c]:{field:e.getName(n)}}}const m=cBt({channel:n,channelDef:d,channel2Def:r[n],markDef:o,config:a,scaleName:h,scale:f,stack:s,offset:p,defaultRef:void 0});return m!==void 0?{[c]:m}:V3(n,o)||V3(n,{[n]:Bz(n,o,a.style),[u]:Bz(u,o,a.style)})||V3(n,a[i])||V3(n,a.mark)||{[c]:ZJ({model:e,defaultPos:t,channel:n,scaleName:h,scale:f})()}}function cBt({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:o,scale:s,stack:a,offset:l,defaultRef:u}){return cn(t)&&a&&e.charAt(0)===a.fieldChannel.charAt(0)?zy(t,o,{suffix:"start"},{offset:l}):RJ({channel:e,channelDef:n,scaleName:o,scale:s,stack:a,markDef:r,config:i,offset:l,defaultRef:u})}function V3(e,t){const n=Sl(e),r=Hg(e);if(t[r]!==void 0)return{[r]:kT(e,t[r])};if(t[e]!==void 0)return{[r]:kT(e,t[e])};if(t[n]){const i=t[n];if(kv(i))Qe(e4t(n));else return{[n]:kT(e,i)}}}function $p(e,t){const{config:n,encoding:r,markDef:i}=e,o=i.type,s=ef(t),a=Sl(t),l=r[t],u=r[s],c=e.getScaleComponent(t),d=c?c.get("type"):void 0,h=i.orient,f=r[a]??r.size??wr("size",i,n,{vgChannel:a}),p=cDe(t),m=o==="bar"&&(t==="x"?h==="vertical":h==="horizontal")||o==="tick"&&(t==="y"?h==="vertical":h==="horizontal");return et(l)&&(Fr(l.bin)||Jo(l.bin)||l.timeUnit&&!u)&&!(f&&!kv(f))&&!r[p]&&!No(d)?fBt({fieldDef:l,fieldDef2:u,channel:t,model:e}):(cn(l)&&No(d)||m)&&!u?hBt(l,t,e):yPe(t,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function dBt(e,t,n,r,i,o,s){if(kv(i))if(n){const l=n.get("type");if(l==="band"){let u=`bandwidth('${t}')`;i.band!==1&&(u=`${i.band} * ${u}`);const c=Mh("minBandSize",{type:s},r);return{signal:c?`max(${Uc(c)}, ${u})`:u}}else i.band!==1&&(Qe(c4t(l)),i=void 0)}else return{mult:i.band,field:{group:e}};else{if(Ot(i))return i;if(i)return{value:i}}if(n){const l=n.get("range");if(xb(l)&&er(l.step))return{value:l.step-2}}if(!o){const{bandPaddingInner:l,barBandPaddingInner:u,rectBandPaddingInner:c,tickBandPaddingInner:d}=r.scale,h=Fi(l,s==="tick"?d:s==="bar"?u:c);if(Ot(h))return{signal:`(1 - (${h.signal})) * ${e}`};if(er(h))return{signal:`${1-h} * ${e}`}}return{value:qz(r.view,e)-2}}function hBt(e,t,n){var T,C;const{markDef:r,encoding:i,config:o,stack:s}=n,a=r.orient,l=n.scaleName(t),u=n.getScaleComponent(t),c=Sl(t),d=ef(t),h=cDe(t),f=n.scaleName(h),p=n.getScaleComponent(rJ(t)),m=r.type==="tick"||a==="horizontal"&&t==="y"||a==="vertical"&&t==="x";let g;(i.size||r.size)&&(m?g=ss("size",n,{vgChannel:c,defaultRef:Wr(r.size)}):Qe(p4t(r.type)));const y=!!g,v=lMe({channel:t,fieldDef:e,markDef:r,config:o,scaleType:(T=u||p)==null?void 0:T.get("type"),useVlSizeChannel:m});g=g||{[c]:dBt(c,f||l,p||u,o,v,!!e,r.type)};const b=((C=u||p)==null?void 0:C.get("type"))==="band"&&kv(v)&&!y?"top":"middle",_=gPe(t,r,o,b),x=_==="xc"||_==="yc",{offset:w,offsetType:E}=Ex({channel:t,markDef:r,encoding:i,model:n,bandPosition:x?.5:0}),S=RJ({channel:t,channelDef:e,markDef:r,config:o,scaleName:l,scale:u,stack:s,offset:w,defaultRef:ZJ({model:n,defaultPos:"mid",channel:t,scaleName:l,scale:u}),bandPosition:x?E==="encoding"?0:.5:Ot(v)?{signal:`(1-${v})/2`}:kv(v)?(1-v.band)/2:0});if(c)return{[_]:S,...g};{const D=Hg(d),$=g[c],I=w?{...$,offset:w}:$;return{[_]:S,[D]:Pe(S)?[S[0],{...S[1],offset:I}]:{...S,offset:I}}}}function afe(e,t,n,r,i,o,s){if(iDe(e))return 0;const a=e==="x"||e==="y2",l=a?-t/2:t/2;if(Ot(n)||Ot(i)||Ot(r)||o){const u=Uc(n),c=Uc(i),d=Uc(r),h=Uc(o),p=o?`(${s} < ${h} ? ${a?"":"-"}0.5 * (${h} - (${s})) : ${l})`:l,m=d?`${d} + `:"",g=u?`(${u} ? -1 : 1) * `:"",y=c?`(${c} + ${p})`:p;return{signal:m+g+y}}else return i=i||0,r+(n?-i-l:+i+l)}function fBt({fieldDef:e,fieldDef2:t,channel:n,model:r}){var C;const{config:i,markDef:o,encoding:s}=r,a=r.getScaleComponent(n),l=r.scaleName(n),u=a?a.get("type"):void 0,c=a.get("reverse"),d=lMe({channel:n,fieldDef:e,markDef:o,config:i,scaleType:u}),h=(C=r.component.axes[n])==null?void 0:C[0],f=(h==null?void 0:h.get("translate"))??.5,p=Bi(n)?wr("binSpacing",o,i)??0:0,m=ef(n),g=Hg(n),y=Hg(m),v=Mh("minBandSize",o,i),{offset:b}=Ex({channel:n,markDef:o,encoding:s,model:r,bandPosition:0}),{offset:_}=Ex({channel:m,markDef:o,encoding:s,model:r,bandPosition:0}),x=OFt({fieldDef:e,scaleName:l}),w=afe(n,p,c,f,b,v,x),E=afe(m,p,c,f,_??b,v,x),S=Ot(d)?{signal:`(1-${d.signal})/2`}:kv(d)?(1-d.band)/2:.5,T=Vg({fieldDef:e,fieldDef2:t,markDef:o,config:i});if(Fr(e.bin)||e.timeUnit){const D=e.timeUnit&&T!==.5;return{[y]:lfe({fieldDef:e,scaleName:l,bandPosition:S,offset:E,useRectOffsetField:D}),[g]:lfe({fieldDef:e,scaleName:l,bandPosition:Ot(S)?{signal:`1-${S.signal}`}:1-S,offset:w,useRectOffsetField:D})}}else if(Jo(e.bin)){const D=zy(e,l,{},{offset:E});if(et(t))return{[y]:D,[g]:zy(t,l,{},{offset:w})};if(wb(e.bin)&&e.bin.step)return{[y]:D,[g]:{signal:`scale("${l}", ${pt(e,{expr:"datum"})} + ${e.bin.step})`,offset:w}}}Qe(IDe(m))}function lfe({fieldDef:e,scaleName:t,bandPosition:n,offset:r,useRectOffsetField:i}){return kM({scaleName:t,fieldOrDatumDef:e,bandPosition:n,offset:r,...i?{startSuffix:PL,endSuffix:NL}:{}})}const pBt=new Set(["aria","width","height"]);function sc(e,t){const{fill:n=void 0,stroke:r=void 0}=t.color==="include"?mPe(e):{};return{...mBt(e.markDef,t),...ufe("fill",n),...ufe("stroke",r),...ss("opacity",e),...ss("fillOpacity",e),...ss("strokeOpacity",e),...ss("strokeWidth",e),...ss("strokeDash",e),...oBt(e),...fPe(e),...JJ(e,"href"),...nBt(e)}}function ufe(e,t){return t?{[e]:t}:{}}function mBt(e,t){return SLt.reduce((n,r)=>(!pBt.has(r)&&Ye(e,r)&&t[r]!=="ignore"&&(n[r]=Wr(e[r])),n),{})}function eZ(e){const{config:t,markDef:n}=e,r=new Set;if(e.forEachFieldDef((i,o)=>{var u;let s;if(!tf(o)||!(s=e.getScaleType(o)))return;const a=mL(i.aggregate),l=IJ({scaleChannel:o,markDef:n,config:t,scaleType:s,isCountAggregate:a});if(MFt(l)){const c=e.vgField(o,{expr:"datum",binSuffix:(u=e.stack)!=null&&u.impute?"mid":void 0});c&&r.add(c)}}),r.size>0)return{defined:{signal:[...r].map(o=>bL(o,!0)).join(" && ")}}}function cfe(e,t){if(t!==void 0)return{[e]:Wr(t)}}const gB="voronoi",vPe={defined:e=>e.type==="point"&&e.nearest,parse:(e,t)=>{if(t.events)for(const n of t.events)n.markname=e.getName(gB)},marks:(e,t,n)=>{const{x:r,y:i}=t.project.hasChannel,o=e.mark;if(E0(o))return Qe(RLt(o)),n;const s={name:e.getName(gB),type:"path",interactive:!0,from:{data:e.getName("marks")},encode:{update:{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0},...fPe(e,{reactiveGeom:!0})}},transform:[{type:"voronoi",x:{expr:r||!i?"datum.datum.x || 0":"0"},y:{expr:i||!r?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]};let a=0,l=!1;return n.forEach((u,c)=>{const d=u.name??"";d===e.component.mark[0].name?a=c:d.includes(gB)&&(l=!0)}),l||n.splice(a+1,0,s),n}},bPe={defined:e=>e.type==="point"&&e.resolve==="global"&&e.bind&&e.bind!=="scales"&&!VJ(e.bind),parse:(e,t,n)=>APe(t,n),topLevelSignals:(e,t,n)=>{const r=t.name,i=t.project,o=t.bind,s=t.init&&t.init[0],a=vPe.defined(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return i.items.forEach((l,u)=>{const c=ti(`${r}_${l.field}`);n.filter(h=>h.name===c).length||n.unshift({name:c,...s?{init:Rv(s[u])}:{value:null},on:t.events?[{events:t.events,update:`datum && item().mark.marktype !== 'group' ? ${a}[${ot(l.field)}] : null`}]:[],bind:o[l.field]??o[l.channel]??o})}),n},signals:(e,t,n)=>{const r=t.name,i=t.project,o=n.find(u=>u.name===r+Dp),s=r+tk,a=i.items.map(u=>ti(`${r}_${u.field}`)),l=a.map(u=>`${u} !== null`).join(" && ");return a.length&&(o.update=`${l} ? {fields: ${s}, values: [${a.join(", ")}]} : null`),delete o.value,delete o.on,n}},OM="_toggle",wPe={defined:e=>e.type==="point"&&!bh(e)&&!!e.toggle,signals:(e,t,n)=>n.concat({name:t.name+OM,value:!1,on:[{events:t.events,update:t.toggle}]}),modifyExpr:(e,t)=>{const n=t.name+Dp,r=t.name+OM;return`${r} ? null : ${n}, `+(t.resolve==="global"?`${r} ? null : true, `:`${r} ? null : {unit: ${Hy(e)}}, `)+`${r} ? ${n} : null`}},gBt={defined:e=>e.clear!==void 0&&e.clear!==!1&&!bh(e),parse:(e,t)=>{t.clear&&(t.clear=xt(t.clear)?m0(t.clear,"view"):t.clear)},topLevelSignals:(e,t,n)=>{if(bPe.defined(t))for(const r of t.project.items){const i=n.findIndex(o=>o.name===ti(`${t.name}_${r.field}`));i!==-1&&n[i].on.push({events:t.clear,update:"null"})}return n},signals:(e,t,n)=>{function r(i,o){i!==-1&&n[i].on&&n[i].on.push({events:t.clear,update:o})}if(t.type==="interval")for(const i of t.project.items){const o=n.findIndex(s=>s.name===i.signals.visual);if(r(o,"[0, 0]"),o===-1){const s=n.findIndex(a=>a.name===i.signals.data);r(s,"null")}}else{let i=n.findIndex(o=>o.name===t.name+Dp);r(i,"null"),wPe.defined(t)&&(i=n.findIndex(o=>o.name===t.name+OM),r(i,"false"))}return n}},xPe={defined:e=>{const t=e.resolve==="global"&&e.bind&&VJ(e.bind),n=e.project.items.length===1&&e.project.items[0].field!==cd;return t&&!n&&Qe(PLt),t&&n},parse:(e,t,n)=>{const r=sn(n);if(r.select=xt(r.select)?{type:r.select,toggle:t.toggle}:{...r.select,toggle:t.toggle},APe(t,r),wt(n.select)&&(n.select.on||n.select.clear)){const s='event.item && indexof(event.item.mark.role, "legend") < 0';for(const a of t.events)a.filter=_t(a.filter??[]),a.filter.includes(s)||a.filter.push(s)}const i=cB(t.bind)?t.bind.legend:"click",o=xt(i)?m0(i,"view"):_t(i);t.bind={legend:{merge:o}}},topLevelSignals:(e,t,n)=>{const r=t.name,i=cB(t.bind)&&t.bind.legend,o=s=>a=>{const l=sn(a);return l.markname=s,l};for(const s of t.project.items){if(!s.hasLegend)continue;const a=`${ti(s.field)}_legend`,l=`${r}_${a}`;if(n.filter(c=>c.name===l).length===0){const c=i.merge.map(o(`${a}_symbols`)).concat(i.merge.map(o(`${a}_labels`))).concat(i.merge.map(o(`${a}_entries`)));n.unshift({name:l,...t.init?{}:{value:null},on:[{events:c,update:"isDefined(datum.value) ? datum.value : item().items[0].items[0].datum.value",force:!0},{events:i.merge,update:`!event.item || !datum ? null : ${l}`,force:!0}]})}}return n},signals:(e,t,n)=>{const r=t.name,i=t.project,o=n.find(h=>h.name===r+Dp),s=r+tk,a=i.items.filter(h=>h.hasLegend).map(h=>ti(`${r}_${ti(h.field)}_legend`)),u=`${a.map(h=>`${h} !== null`).join(" && ")} ? {fields: ${s}, values: [${a.join(", ")}]} : null`;t.events&&a.length>0?o.on.push({events:a.map(h=>({signal:h})),update:u}):a.length>0&&(o.update=u,delete o.value,delete o.on);const c=n.find(h=>h.name===r+OM),d=cB(t.bind)&&t.bind.legend;return c&&(t.events?c.on.push({...c.on[0],events:d}):c.on[0].events=d),n}};function yBt(e,t,n){var i;const r=(i=e.fieldDef(t))==null?void 0:i.field;for(const o of ps(e.component.selection??{})){const s=o.project.hasField[r]??o.project.hasChannel[t];if(s&&xPe.defined(o)){const a=n.get("selections")??[];a.push(o.name),n.set("selections",a,!1),s.hasLegend=!0}}}const _Pe="_translate_anchor",EPe="_translate_delta",vBt={defined:e=>e.type==="interval"&&e.translate,signals:(e,t,n)=>{const r=t.name,i=op.defined(t),o=r+_Pe,{x:s,y:a}=t.project.hasChannel;let l=m0(t.translate,"scope");return i||(l=l.map(u=>(u.between[0].markname=r+vw,u))),n.push({name:o,value:{},on:[{events:l.map(u=>u.between[0]),update:"{x: x(unit), y: y(unit)"+(s!==void 0?`, extent_x: ${i?Qz(e,ri):`slice(${s.signals.visual})`}`:"")+(a!==void 0?`, extent_y: ${i?Qz(e,Bo):`slice(${a.signals.visual})`}`:"")+"}"}]},{name:r+EPe,value:{},on:[{events:l,update:`{x: ${o}.x - x(unit), y: ${o}.y - y(unit)}`}]}),s!==void 0&&dfe(e,t,s,"width",n),a!==void 0&&dfe(e,t,a,"height",n),n}};function dfe(e,t,n,r,i){const o=t.name,s=o+_Pe,a=o+EPe,l=n.channel,u=op.defined(t),c=i.find(x=>x.name===n.signals[u?"data":"visual"]),d=e.getSizeSignalRef(r).signal,h=e.getScaleComponent(l),f=h&&h.get("type"),p=h&&h.get("reverse"),m=u?l===ri?p?"":"-":p?"-":"":"",g=`${s}.extent_${l}`,y=`${m}${a}.${l} / ${u?`${d}`:`span(${g})`}`,v=!u||!h?"panLinear":f==="log"?"panLog":f==="symlog"?"panSymlog":f==="pow"?"panPow":"panLinear",b=u?f==="pow"?`, ${h.get("exponent")??1}`:f==="symlog"?`, ${h.get("constant")??1}`:"":"",_=`${v}(${g}, ${y}${b})`;c.on.push({events:{signal:a},update:u?_:`clampRange(${_}, 0, ${d})`})}const SPe="_zoom_anchor",TPe="_zoom_delta",bBt={defined:e=>e.type==="interval"&&e.zoom,signals:(e,t,n)=>{const r=t.name,i=op.defined(t),o=r+TPe,{x:s,y:a}=t.project.hasChannel,l=ot(e.scaleName(ri)),u=ot(e.scaleName(Bo));let c=m0(t.zoom,"scope");return i||(c=c.map(d=>(d.markname=r+vw,d))),n.push({name:r+SPe,on:[{events:c,update:i?"{"+[l?`x: invert(${l}, x(unit))`:"",u?`y: invert(${u}, y(unit))`:""].filter(d=>d).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:o,on:[{events:c,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),s!==void 0&&hfe(e,t,s,"width",n),a!==void 0&&hfe(e,t,a,"height",n),n}};function hfe(e,t,n,r,i){const o=t.name,s=n.channel,a=op.defined(t),l=i.find(v=>v.name===n.signals[a?"data":"visual"]),u=e.getSizeSignalRef(r).signal,c=e.getScaleComponent(s),d=c&&c.get("type"),h=a?Qz(e,s):l.name,f=o+TPe,p=`${o}${SPe}.${s}`,m=!a||!c?"zoomLinear":d==="log"?"zoomLog":d==="symlog"?"zoomSymlog":d==="pow"?"zoomPow":"zoomLinear",g=a?d==="pow"?`, ${c.get("exponent")??1}`:d==="symlog"?`, ${c.get("constant")??1}`:"":"",y=`${m}(${h}, ${p}, ${f}${g})`;l.on.push({events:{signal:f},update:a?y:`clampRange(${y}, 0, ${u})`})}const $v="_store",Dp="_tuple",wBt="_modify",CPe="vlSelectionResolve",LL=[q6t,eBt,H6t,wPe,bPe,op,xPe,gBt,vBt,bBt,vPe];function xBt(e){let t=e.parent;for(;t&&!Ql(t);)t=t.parent;return t}function Hy(e,{escape:t}={escape:!0}){let n=t?ot(e.name):e.name;const r=xBt(e);if(r){const{facet:i}=r;for(const o of Mu)i[o]&&(n+=` + '__facet_${o}_' + (facet[${ot(r.vgField(o))}])`)}return n}function tZ(e){return ps(e.component.selection??{}).reduce((t,n)=>t||n.project.hasSelectionId,!1)}function APe(e,t){(xt(t.select)||!t.select.on)&&delete e.events,(xt(t.select)||!t.select.clear)&&delete e.clear,(xt(t.select)||!t.select.toggle)&&delete e.toggle}function bh(e){var t;return(t=e.events)==null?void 0:t.find(n=>"type"in n&&n.type==="timer")}const _Bt="RawCode",EBt="Literal",SBt="Property",TBt="Identifier",CBt="ArrayExpression",ABt="BinaryExpression",kBt="CallExpression",IBt="ConditionalExpression",RBt="LogicalExpression",$Bt="MemberExpression",DBt="ObjectExpression",MBt="UnaryExpression";function _d(e){this.type=e}_d.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=PBt(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};function PBt(e){switch(e.type){case CBt:return e.elements;case ABt:case RBt:return[e.left,e.right];case kBt:return[e.callee].concat(e.arguments);case IBt:return[e.test,e.consequent,e.alternate];case $Bt:return[e.object,e.property];case DBt:return e.properties;case SBt:return[e.key,e.value];case MBt:return[e.argument];case TBt:case EBt:case _Bt:default:return[]}}var rf,Nt,Ie,ta,fr,FL=1,nk=2,Dv=3,S0=4,BL=5,Tb=6,el=7,rk=8,NBt=9;rf={};rf[FL]="Boolean";rf[nk]="<end>";rf[Dv]="Identifier";rf[S0]="Keyword";rf[BL]="Null";rf[Tb]="Numeric";rf[el]="Punctuator";rf[rk]="String";rf[NBt]="RegularExpression";var OBt="ArrayExpression",LBt="BinaryExpression",FBt="CallExpression",BBt="ConditionalExpression",kPe="Identifier",jBt="Literal",zBt="LogicalExpression",UBt="MemberExpression",HBt="ObjectExpression",VBt="Property",WBt="UnaryExpression",Ro="Unexpected token %0",qBt="Unexpected number",GBt="Unexpected string",YBt="Unexpected identifier",KBt="Unexpected reserved word",XBt="Unexpected end of input",Zz="Invalid regular expression",yB="Invalid regular expression: missing /",IPe="Octal literals are not allowed in strict mode.",QBt="Duplicate data property in object literal not allowed in strict mode",us="ILLEGAL",uA="Disabled.",JBt=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),ZBt=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function jL(e,t){if(!e)throw new Error("ASSERT: "+t)}function Af(e){return e>=48&&e<=57}function nZ(e){return"0123456789abcdefABCDEF".includes(e)}function IT(e){return"01234567".includes(e)}function e8t(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(e)}function cA(e){return e===10||e===13||e===8232||e===8233}function ik(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&JBt.test(String.fromCharCode(e))}function LM(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&ZBt.test(String.fromCharCode(e))}const t8t={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function RPe(){for(;Ie<ta;){const e=Nt.charCodeAt(Ie);if(e8t(e)||cA(e))++Ie;else break}}function eU(e){var t,n,r,i=0;for(n=e==="u"?4:2,t=0;t<n;++t)Ie<ta&&nZ(Nt[Ie])?(r=Nt[Ie++],i=i*16+"0123456789abcdef".indexOf(r.toLowerCase())):Zn({},Ro,us);return String.fromCharCode(i)}function n8t(){var e,t,n,r;for(e=Nt[Ie],t=0,e==="}"&&Zn({},Ro,us);Ie<ta&&(e=Nt[Ie++],!!nZ(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&Zn({},Ro,us),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function $Pe(){var e,t;for(e=Nt.charCodeAt(Ie++),t=String.fromCharCode(e),e===92&&(Nt.charCodeAt(Ie)!==117&&Zn({},Ro,us),++Ie,e=eU("u"),(!e||e==="\\"||!ik(e.charCodeAt(0)))&&Zn({},Ro,us),t=e);Ie<ta&&(e=Nt.charCodeAt(Ie),!!LM(e));)++Ie,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),Nt.charCodeAt(Ie)!==117&&Zn({},Ro,us),++Ie,e=eU("u"),(!e||e==="\\"||!LM(e.charCodeAt(0)))&&Zn({},Ro,us),t+=e);return t}function r8t(){var e,t;for(e=Ie++;Ie<ta;){if(t=Nt.charCodeAt(Ie),t===92)return Ie=e,$Pe();if(LM(t))++Ie;else break}return Nt.slice(e,Ie)}function i8t(){var e,t,n;return e=Ie,t=Nt.charCodeAt(Ie)===92?$Pe():r8t(),t.length===1?n=Dv:t8t.hasOwnProperty(t)?n=S0:t==="null"?n=BL:t==="true"||t==="false"?n=FL:n=Dv,{type:n,value:t,start:e,end:Ie}}function vB(){var e=Ie,t=Nt.charCodeAt(Ie),n,r=Nt[Ie],i,o,s;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Ie,{type:el,value:String.fromCharCode(t),start:e,end:Ie};default:if(n=Nt.charCodeAt(Ie+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Ie+=2,{type:el,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:Ie};case 33:case 61:return Ie+=2,Nt.charCodeAt(Ie)===61&&++Ie,{type:el,value:Nt.slice(e,Ie),start:e,end:Ie}}}if(s=Nt.substr(Ie,4),s===">>>=")return Ie+=4,{type:el,value:s,start:e,end:Ie};if(o=s.substr(0,3),o===">>>"||o==="<<="||o===">>=")return Ie+=3,{type:el,value:o,start:e,end:Ie};if(i=o.substr(0,2),r===i[1]&&"+-<>&|".includes(r)||i==="=>")return Ie+=2,{type:el,value:i,start:e,end:Ie};if(i==="//"&&Zn({},Ro,us),"<>=!+-*%&|^/".includes(r))return++Ie,{type:el,value:r,start:e,end:Ie};Zn({},Ro,us)}function o8t(e){let t="";for(;Ie<ta&&nZ(Nt[Ie]);)t+=Nt[Ie++];return t.length===0&&Zn({},Ro,us),ik(Nt.charCodeAt(Ie))&&Zn({},Ro,us),{type:Tb,value:parseInt("0x"+t,16),start:e,end:Ie}}function s8t(e){let t="0"+Nt[Ie++];for(;Ie<ta&&IT(Nt[Ie]);)t+=Nt[Ie++];return(ik(Nt.charCodeAt(Ie))||Af(Nt.charCodeAt(Ie)))&&Zn({},Ro,us),{type:Tb,value:parseInt(t,8),octal:!0,start:e,end:Ie}}function ffe(){var e,t,n;if(n=Nt[Ie],jL(Af(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=Ie,e="",n!=="."){if(e=Nt[Ie++],n=Nt[Ie],e==="0"){if(n==="x"||n==="X")return++Ie,o8t(t);if(IT(n))return s8t(t);n&&Af(n.charCodeAt(0))&&Zn({},Ro,us)}for(;Af(Nt.charCodeAt(Ie));)e+=Nt[Ie++];n=Nt[Ie]}if(n==="."){for(e+=Nt[Ie++];Af(Nt.charCodeAt(Ie));)e+=Nt[Ie++];n=Nt[Ie]}if(n==="e"||n==="E")if(e+=Nt[Ie++],n=Nt[Ie],(n==="+"||n==="-")&&(e+=Nt[Ie++]),Af(Nt.charCodeAt(Ie)))for(;Af(Nt.charCodeAt(Ie));)e+=Nt[Ie++];else Zn({},Ro,us);return ik(Nt.charCodeAt(Ie))&&Zn({},Ro,us),{type:Tb,value:parseFloat(e),start:t,end:Ie}}function a8t(){var e="",t,n,r,i,o=!1;for(t=Nt[Ie],jL(t==="'"||t==='"',"String literal must starts with a quote"),n=Ie,++Ie;Ie<ta;)if(r=Nt[Ie++],r===t){t="";break}else if(r==="\\")if(r=Nt[Ie++],!r||!cA(r.charCodeAt(0)))switch(r){case"u":case"x":Nt[Ie]==="{"?(++Ie,e+=n8t()):e+=eU(r);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:IT(r)?(i="01234567".indexOf(r),i!==0&&(o=!0),Ie<ta&&IT(Nt[Ie])&&(o=!0,i=i*8+"01234567".indexOf(Nt[Ie++]),"0123".includes(r)&&Ie<ta&&IT(Nt[Ie])&&(i=i*8+"01234567".indexOf(Nt[Ie++]))),e+=String.fromCharCode(i)):e+=r;break}else r==="\r"&&Nt[Ie]===`
`&&++Ie;else{if(cA(r.charCodeAt(0)))break;e+=r}return t!==""&&Zn({},Ro,us),{type:rk,value:e,octal:o,start:n,end:Ie}}function l8t(e,t){let n=e;t.includes("u")&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,i)=>{if(parseInt(i,16)<=1114111)return"x";Zn({},Zz)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{Zn({},Zz)}try{return new RegExp(e,t)}catch{return null}}function u8t(){var e,t,n,r,i;for(e=Nt[Ie],jL(e==="/","Regular expression literal must start with a slash"),t=Nt[Ie++],n=!1,r=!1;Ie<ta;)if(e=Nt[Ie++],t+=e,e==="\\")e=Nt[Ie++],cA(e.charCodeAt(0))&&Zn({},yB),t+=e;else if(cA(e.charCodeAt(0)))Zn({},yB);else if(n)e==="]"&&(n=!1);else if(e==="/"){r=!0;break}else e==="["&&(n=!0);return r||Zn({},yB),i=t.substr(1,t.length-2),{value:i,literal:t}}function c8t(){var e,t,n;for(t="",n="";Ie<ta&&(e=Nt[Ie],!!LM(e.charCodeAt(0)));)++Ie,e==="\\"&&Ie<ta?Zn({},Ro,us):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&Zn({},Zz,n),{value:n,literal:t}}function d8t(){var e,t,n,r;return fr=null,RPe(),e=Ie,t=u8t(),n=c8t(),r=l8t(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:Ie}}function h8t(e){return e.type===Dv||e.type===S0||e.type===FL||e.type===BL}function DPe(){if(RPe(),Ie>=ta)return{type:nk,start:Ie,end:Ie};const e=Nt.charCodeAt(Ie);return ik(e)?i8t():e===40||e===41||e===59?vB():e===39||e===34?a8t():e===46?Af(Nt.charCodeAt(Ie+1))?ffe():vB():Af(e)?ffe():vB()}function ol(){const e=fr;return Ie=e.end,fr=DPe(),Ie=e.end,e}function MPe(){const e=Ie;fr=DPe(),Ie=e}function f8t(e){const t=new _d(OBt);return t.elements=e,t}function pfe(e,t,n){const r=new _d(e==="||"||e==="&&"?zBt:LBt);return r.operator=e,r.left=t,r.right=n,r}function p8t(e,t){const n=new _d(FBt);return n.callee=e,n.arguments=t,n}function m8t(e,t,n){const r=new _d(BBt);return r.test=e,r.consequent=t,r.alternate=n,r}function rZ(e){const t=new _d(kPe);return t.name=e,t}function MS(e){const t=new _d(jBt);return t.value=e.value,t.raw=Nt.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function mfe(e,t,n){const r=new _d(UBt);return r.computed=e==="[",r.object=t,r.property=n,r.computed||(n.member=!0),r}function g8t(e){const t=new _d(HBt);return t.properties=e,t}function gfe(e,t,n){const r=new _d(VBt);return r.key=t,r.value=n,r.kind=e,r}function y8t(e,t){const n=new _d(WBt);return n.operator=e,n.argument=t,n.prefix=!0,n}function Zn(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(o,s)=>(jL(s<r.length,"Message reference must be in range"),r[s]));throw n=new Error(i),n.index=Ie,n.description=i,n}function zL(e){e.type===nk&&Zn(e,XBt),e.type===Tb&&Zn(e,qBt),e.type===rk&&Zn(e,GBt),e.type===Dv&&Zn(e,YBt),e.type===S0&&Zn(e,KBt),Zn(e,Ro,e.value)}function na(e){const t=ol();(t.type!==el||t.value!==e)&&zL(t)}function qr(e){return fr.type===el&&fr.value===e}function bB(e){return fr.type===S0&&fr.value===e}function v8t(){const e=[];for(Ie=fr.start,na("[");!qr("]");)qr(",")?(ol(),e.push(null)):(e.push(Mv()),qr("]")||na(","));return ol(),f8t(e)}function yfe(){Ie=fr.start;const e=ol();return e.type===rk||e.type===Tb?(e.octal&&Zn(e,IPe),MS(e)):rZ(e.value)}function b8t(){var e,t,n,r;if(Ie=fr.start,e=fr,e.type===Dv)return n=yfe(),na(":"),r=Mv(),gfe("init",n,r);if(e.type===nk||e.type===el)zL(e);else return t=yfe(),na(":"),r=Mv(),gfe("init",t,r)}function w8t(){var e=[],t,n,r,i={},o=String;for(Ie=fr.start,na("{");!qr("}");)t=b8t(),t.key.type===kPe?n=t.key.name:n=o(t.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(i,r)?Zn({},QBt):i[r]=!0,e.push(t),qr("}")||na(",");return na("}"),g8t(e)}function x8t(){na("(");const e=iZ();return na(")"),e}const _8t={if:1};function E8t(){var e,t,n;if(qr("("))return x8t();if(qr("["))return v8t();if(qr("{"))return w8t();if(e=fr.type,Ie=fr.start,e===Dv||_8t[fr.value])n=rZ(ol().value);else if(e===rk||e===Tb)fr.octal&&Zn(fr,IPe),n=MS(ol());else{if(e===S0)throw new Error(uA);e===FL?(t=ol(),t.value=t.value==="true",n=MS(t)):e===BL?(t=ol(),t.value=null,n=MS(t)):qr("/")||qr("/=")?(n=MS(d8t()),MPe()):zL(ol())}return n}function S8t(){const e=[];if(na("("),!qr(")"))for(;Ie<ta&&(e.push(Mv()),!qr(")"));)na(",");return na(")"),e}function T8t(){Ie=fr.start;const e=ol();return h8t(e)||zL(e),rZ(e.value)}function C8t(){return na("."),T8t()}function A8t(){na("[");const e=iZ();return na("]"),e}function k8t(){var e,t,n;for(e=E8t();;)if(qr("."))n=C8t(),e=mfe(".",e,n);else if(qr("("))t=S8t(),e=p8t(e,t);else if(qr("["))n=A8t(),e=mfe("[",e,n);else break;return e}function vfe(){const e=k8t();if(fr.type===el&&(qr("++")||qr("--")))throw new Error(uA);return e}function xR(){var e,t;if(fr.type!==el&&fr.type!==S0)t=vfe();else{if(qr("++")||qr("--"))throw new Error(uA);if(qr("+")||qr("-")||qr("~")||qr("!"))e=ol(),t=xR(),t=y8t(e.value,t);else{if(bB("delete")||bB("void")||bB("typeof"))throw new Error(uA);t=vfe()}}return t}function bfe(e){let t=0;if(e.type!==el&&e.type!==S0)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function I8t(){var e,t,n,r,i,o,s,a,l,u;if(e=fr,l=xR(),r=fr,i=bfe(r),i===0)return l;for(r.prec=i,ol(),t=[e,fr],s=xR(),o=[l,r,s];(i=bfe(fr))>0;){for(;o.length>2&&i<=o[o.length-2].prec;)s=o.pop(),a=o.pop().value,l=o.pop(),t.pop(),n=pfe(a,l,s),o.push(n);r=ol(),r.prec=i,o.push(r),t.push(fr),n=xR(),o.push(n)}for(u=o.length-1,n=o[u],t.pop();u>1;)t.pop(),n=pfe(o[u-1].value,o[u-2],n),u-=2;return n}function Mv(){var e,t,n;return e=I8t(),qr("?")&&(ol(),t=Mv(),na(":"),n=Mv(),e=m8t(e,t,n)),e}function iZ(){const e=Mv();if(qr(","))throw new Error(uA);return e}function R8t(e){Nt=e,Ie=0,ta=Nt.length,fr=null,MPe();const t=iZ();if(fr.type!==nk)throw new Error("Unexpect token after expression.");return t}function tU(e){const t=[];return e.type==="Identifier"?[e.name]:e.type==="Literal"?[e.value]:(e.type==="MemberExpression"&&(t.push(...tU(e.object)),t.push(...tU(e.property))),t)}function PPe(e){return e.object.type==="MemberExpression"?PPe(e.object):e.object.name==="datum"}function NPe(e){const t=R8t(e),n=new Set;return t.visit(r=>{r.type==="MemberExpression"&&PPe(r)&&n.add(tU(r).slice(1).join("."))}),n}class U_ extends gr{clone(){return new U_(null,this.model,sn(this.filter))}constructor(t,n,r){super(t),this.model=n,this.filter=r,this.expr=FM(this.model,this.filter,this),this._dependentFields=NPe(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}function $8t(e,t){const n={},r=e.config.selection;if(!t||!t.length)return n;let i=0;for(const o of t){const s=ti(o.name),a=o.select,l=xt(a)?a:a.type,u=wt(a)?sn(a):{type:l},c=r[l];for(const f in c)f==="fields"||f==="encodings"||(f==="mark"&&(u.mark={...c.mark,...u.mark}),(u[f]===void 0||u[f]===!0)&&(u[f]=sn(c[f]??u[f])));const d=n[s]={...u,name:s,type:l,init:o.value,bind:o.bind,events:xt(u.on)?m0(u.on,"scope"):_t(sn(u.on))};if(bh(d)&&(i++,i>1)){delete n[s];continue}const h=sn(o);for(const f of LL)f.defined(d)&&f.parse&&f.parse(e,d,h)}return i>1&&Qe(jLt),n}function OPe(e,t,n,r="datum"){const i=xt(t)?t:t.param,o=ti(i),s=ot(o+$v);let a;try{a=e.getSelectionComponent(o,i)}catch{return`!!${o}`}if(a.project.timeUnit){const h=n??e.component.data.raw,f=a.project.timeUnit.clone();h.parent?f.insertAsParentOf(h):h.parent=f}const l=a.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(",u=a.resolve==="global"?")":`, ${ot(a.resolve)})`,c=`${l}${s}, ${r}${u}`,d=`length(data(${s}))`;return t.empty===!1?`${d} && ${c}`:`!${d} || ${c}`}function LPe(e,t,n){const r=ti(t),i=n.encoding;let o=n.field,s;try{s=e.getSelectionComponent(r,t)}catch{return r}if(!i&&!o)o=s.project.items[0].field,s.project.items.length>1&&Qe(zLt(o));else if(i&&!o){const a=s.project.items.filter(l=>l.channel===i);!a.length||a.length>1?(o=s.project.items[0].field,Qe(ULt(a,i,n,o))):o=a[0].field}return`${s.name}[${ot(Ku(o))}]`}function D8t(e,t){for(const[n,r]of Ug(e.component.selection??{})){const i=e.getName(`lookup_${n}`);e.component.data.outputNodes[i]=r.materialized=new yl(new U_(t,e,{param:n}),i,ui.Lookup,e.component.data.outputNodeRefCounts)}}function FM(e,t,n){return AT(t,r=>xt(r)?r:Q4t(r)?OPe(e,r,n):zDe(r))}function M8t(e,t){if(e)return Pe(e)&&!xm(e)?e.map(n=>OJ(n,t)).join(", "):e}function wB(e,t,n,r){var i,o;e.encode??(e.encode={}),(i=e.encode)[t]??(i[t]={}),(o=e.encode[t]).update??(o.update={}),e.encode[t].update[n]=r}function PS(e,t,n,r={header:!1}){var d,h;const{disable:i,orient:o,scale:s,labelExpr:a,title:l,zindex:u,...c}=e.combine();if(!i){for(const f in c){const p=f,m=n5t[p],g=c[p];if(m&&m!==t&&m!=="both")delete c[p];else if(ek(g)){const{condition:y,...v}=g,b=_t(y),_=jhe[p];if(_){const{vgProp:x,part:w}=_,E=[...b.map(S=>{const{test:T,...C}=S;return{test:FM(null,T),...C}}),v];wB(c,w,x,E),delete c[p]}else if(_===null){const x={signal:b.map(w=>{const{test:E,...S}=w;return`${FM(null,E)} ? ${She(S)} : `}).join("")+She(v)};c[p]=x}}else if(Ot(g)){const y=jhe[p];if(y){const{vgProp:v,part:b}=y;wB(c,b,v,g),delete c[p]}}An(["labelAlign","labelBaseline"],p)&&c[p]===null&&delete c[p]}if(t==="grid"){if(!c.grid)return;if(c.encode){const{grid:f}=c.encode;c.encode={...f?{grid:f}:{}},xr(c.encode)&&delete c.encode}return{scale:s,orient:o,...c,domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:Fi(u,0)}}else{if(!r.header&&e.mainExtracted)return;if(a!==void 0){let p=a;(h=(d=c.encode)==null?void 0:d.labels)!=null&&h.update&&Ot(c.encode.labels.update.text)&&(p=Ev(a,"datum.label",c.encode.labels.update.text.signal)),wB(c,"labels","text",{signal:p})}if(c.labelAlign===null&&delete c.labelAlign,c.encode){for(const p of vMe)e.hasAxisPart(p)||delete c.encode[p];xr(c.encode)&&delete c.encode}const f=M8t(l,n);return{scale:s,orient:o,grid:!1,...f?{title:f}:{},...c,...n.aria===!1?{aria:!1}:{},zindex:Fi(u,0)}}}}function FPe(e){const{axes:t}=e.component,n=[];for(const r of Qp)if(t[r]){for(const i of t[r])if(!i.get("disable")&&!i.get("gridScale")){const o=r==="x"?"height":"width",s=e.getSizeSignalRef(o).signal;o!==s&&n.push({name:o,update:s})}}return n}function P8t(e,t){const{x:n=[],y:r=[]}=e;return[...n.map(i=>PS(i,"grid",t)),...r.map(i=>PS(i,"grid",t)),...n.map(i=>PS(i,"main",t)),...r.map(i=>PS(i,"main",t))].filter(i=>i)}function wfe(e,t,n,r){return Object.assign.apply(null,[{},...e.map(i=>{if(i==="axisOrient"){const o=n==="x"?"bottom":"left",s=t[n==="x"?"axisBottom":"axisLeft"]||{},a=t[n==="x"?"axisTop":"axisRight"]||{},l=new Set([...qe(s),...qe(a)]),u={};for(const c of l.values())u[c]={signal:`${r.signal} === "${o}" ? ${Uc(s[c])} : ${Uc(a[c])}`};return u}return t[i]})])}function N8t(e,t,n,r){const i=t==="band"?["axisDiscrete","axisBand"]:t==="point"?["axisDiscrete","axisPoint"]:WDe(t)?["axisQuantitative"]:t==="time"||t==="utc"?["axisTemporal"]:[],o=e==="x"?"axisX":"axisY",s=Ot(n)?"axisOrient":`axis${H2(n)}`,a=[...i,...i.map(u=>o+u.substr(4))],l=["axis",s,o];return{vlOnlyAxisConfig:wfe(a,r,e,n),vgAxisConfig:wfe(l,r,e,n),axisConfigStyle:O8t([...l,...a],r)}}function O8t(e,t){var r;const n=[{}];for(const i of e){let o=(r=t[i])==null?void 0:r.style;if(o){o=_t(o);for(const s of o)n.push(t.style[s])}}return Object.assign.apply(null,n)}function nU(e,t,n,r={}){var o;const i=bDe(e,n,t);if(i!==void 0)return{configFrom:"style",configValue:i};for(const s of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"])if(((o=r[s])==null?void 0:o[e])!==void 0)return{configFrom:s,configValue:r[s][e]};return{}}const xfe={scale:({model:e,channel:t})=>e.scaleName(t),format:({format:e})=>e,formatType:({formatType:e})=>e,grid:({fieldOrDatumDef:e,axis:t,scaleType:n})=>t.grid??L8t(n,e),gridScale:({model:e,channel:t})=>F8t(e,t),labelAlign:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelAlign||jPe(t,n,r),labelAngle:({labelAngle:e})=>e,labelBaseline:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelBaseline||BPe(t,n,r),labelFlush:({axis:e,fieldOrDatumDef:t,channel:n})=>e.labelFlush??j8t(t.type,n),labelOverlap:({axis:e,fieldOrDatumDef:t,scaleType:n})=>e.labelOverlap??z8t(t.type,n,et(t)&&!!t.timeUnit,et(t)?t.sort:void 0),orient:({orient:e})=>e,tickCount:({channel:e,model:t,axis:n,fieldOrDatumDef:r,scaleType:i})=>{const o=e==="x"?"width":e==="y"?"height":void 0,s=o?t.getSizeSignalRef(o):void 0;return n.tickCount??H8t({fieldOrDatumDef:r,scaleType:i,size:s,values:n.values})},tickMinStep:V8t,title:({axis:e,model:t,channel:n})=>{if(e.title!==void 0)return e.title;const r=zPe(t,n);if(r!==void 0)return r;const i=t.typedFieldDef(n),o=n==="x"?"x2":"y2",s=t.fieldDef(o);return xDe(i?[Fhe(i)]:[],et(s)?[Fhe(s)]:[])},values:({axis:e,fieldOrDatumDef:t})=>W8t(e,t),zindex:({axis:e,fieldOrDatumDef:t,mark:n})=>e.zindex??q8t(n,t)};function L8t(e,t){return!No(e)&&et(t)&&!Fr(t==null?void 0:t.bin)&&!Jo(t==null?void 0:t.bin)}function F8t(e,t){const n=t==="x"?"y":"x";if(e.getScaleComponent(n))return e.scaleName(n)}function B8t(e,t,n,r,i){const o=t==null?void 0:t.labelAngle;if(o!==void 0)return Ot(o)?o:sA(o);{const{configValue:s}=nU("labelAngle",r,t==null?void 0:t.style,i);return s!==void 0?sA(s):n===ri&&An([SJ,EJ],e.type)&&!(et(e)&&e.timeUnit)?270:void 0}}function rU(e){return`(((${e.signal} % 360) + 360) % 360)`}function BPe(e,t,n,r){if(e!==void 0)if(n==="x"){if(Ot(e)){const i=rU(e),o=Ot(t)?`(${t.signal} === "top")`:t==="top";return{signal:`(45 < ${i} && ${i} < 135) || (225 < ${i} && ${i} < 315) ? "middle" :(${i} <= 45 || 315 <= ${i}) === ${o} ? "bottom" : "top"`}}if(45<e&&e<135||225<e&&e<315)return"middle";if(Ot(t)){const i=e<=45||315<=e?"===":"!==";return{signal:`${t.signal} ${i} "top" ? "bottom" : "top"`}}return(e<=45||315<=e)==(t==="top")?"bottom":"top"}else{if(Ot(e)){const i=rU(e),o=Ot(t)?`(${t.signal} === "left")`:t==="left";return{signal:`${i} <= 45 || 315 <= ${i} || (135 <= ${i} && ${i} <= 225) ? ${r?'"middle"':"null"} : (45 <= ${i} && ${i} <= 135) === ${o} ? "top" : "bottom"`}}if(e<=45||315<=e||135<=e&&e<=225)return r?"middle":null;if(Ot(t)){const i=45<=e&&e<=135?"===":"!==";return{signal:`${t.signal} ${i} "left" ? "top" : "bottom"`}}return(45<=e&&e<=135)==(t==="left")?"top":"bottom"}}function jPe(e,t,n){if(e===void 0)return;const r=n==="x",i=r?0:90,o=r?"bottom":"left";if(Ot(e)){const s=rU(e),a=Ot(t)?`(${t.signal} === "${o}")`:t===o;return{signal:`(${i?`(${s} + 90)`:s} % 180 === 0) ? ${r?null:'"center"'} :(${i} < ${s} && ${s} < ${180+i}) === ${a} ? "left" : "right"`}}if((e+i)%180===0)return r?null:"center";if(Ot(t)){const s=i<e&&e<180+i?"===":"!==";return{signal:`${`${t.signal} ${s} "${o}"`} ? "left" : "right"`}}return(i<e&&e<180+i)==(t===o)?"left":"right"}function j8t(e,t){if(t==="x"&&An(["quantitative","temporal"],e))return!0}function z8t(e,t,n,r){if(n&&!wt(r)||e!=="nominal"&&e!=="ordinal")return t==="log"||t==="symlog"?"greedy":!0}function U8t(e){return e==="x"?"bottom":"left"}function H8t({fieldOrDatumDef:e,scaleType:t,size:n,values:r}){var i;if(!r&&!No(t)&&t!=="log"){if(et(e)){if(Fr(e.bin))return{signal:`ceil(${n.signal}/10)`};if(e.timeUnit&&An(["month","hours","day","quarter"],(i=Do(e.timeUnit))==null?void 0:i.unit))return}return{signal:`ceil(${n.signal}/40)`}}}function V8t({format:e,fieldOrDatumDef:t}){if(e==="d")return 1;if(et(t)){const{timeUnit:n}=t;if(n){const r=FDe(n);if(r)return{signal:r}}}}function zPe(e,t){const n=t==="x"?"x2":"y2",r=e.fieldDef(t),i=e.fieldDef(n),o=r?r.title:void 0,s=i?i.title:void 0;if(o&&s)return _De(o,s);if(o)return o;if(s)return s;if(o!==void 0)return o;if(s!==void 0)return s}function W8t(e,t){const n=e.values;if(Pe(n))return yMe(t,n);if(Ot(n))return n}function q8t(e,t){return e==="rect"&&RM(t)?1:0}class Sx extends gr{clone(){return new Sx(null,sn(this.transform))}constructor(t,n){super(t),this.transform=n,this._dependentFields=NPe(this.transform.calculate)}static parseAllForSortIndex(t,n){return n.forEachFieldDef((r,i)=>{if(Sb(r)&&aMe(r.sort)){const{field:o,timeUnit:s}=r,a=r.sort,l=a.map((u,c)=>`${zDe({field:o,timeUnit:s,equal:u})} ? ${c} : `).join("")+a.length;t=new Sx(t,{calculate:l,as:Tx(r,i,{forAs:!0})})}}),t}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${On(this.transform)}`}}function Tx(e,t,n){return pt(e,{prefix:t,suffix:"sort_index",...n})}function UL(e,t){return An(["top","bottom"],t)?"column":An(["left","right"],t)||e==="row"?"row":"column"}function Cx(e,t,n,r){const i=r==="row"?n.headerRow:r==="column"?n.headerColumn:n.headerFacet;return Fi((t||{})[e],i[e],n.header[e])}function HL(e,t,n,r){const i={};for(const o of e){const s=Cx(o,t||{},n,r);s!==void 0&&(i[o]=s)}return i}const oZ=["row","column"],sZ=["header","footer"];function G8t(e,t){const n=e.component.layoutHeaders[t].title,r=e.config?e.config:void 0,i=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,{titleAnchor:o,titleAngle:s,titleOrient:a}=HL(["titleAnchor","titleAngle","titleOrient"],i.header,r,t),l=UL(t,a),u=sA(s);return{name:`${t}-title`,type:"group",role:`${l}-title`,title:{text:n,...t==="row"?{orient:"left"}:{},style:"guide-title",...HPe(u,l),...UPe(l,u,o),...VPe(r,i,t,S5t,OMe)}}}function UPe(e,t,n="middle"){switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}const r=jPe(t,e==="row"?"left":"top",e==="row"?"y":"x");return r?{align:r}:{}}function HPe(e,t){const n=BPe(e,t==="row"?"left":"top",t==="row"?"y":"x",!0);return n?{baseline:n}:{}}function Y8t(e,t){const n=e.component.layoutHeaders[t],r=[];for(const i of sZ)if(n[i])for(const o of n[i]){const s=X8t(e,t,i,n,o);s!=null&&r.push(s)}return r}function K8t(e,t){const{sort:n}=e;return ip(n)?{field:pt(n,{expr:"datum"}),order:n.order??"ascending"}:Pe(n)?{field:Tx(e,t,{expr:"datum"}),order:"ascending"}:{field:pt(e,{expr:"datum"}),order:n??"ascending"}}function iU(e,t,n){const{format:r,formatType:i,labelAngle:o,labelAnchor:s,labelOrient:a,labelExpr:l}=HL(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e.header,n,t),u=DJ({fieldOrDatumDef:e,format:r,formatType:i,expr:"parent",config:n}).signal,c=UL(t,a);return{text:{signal:l?Ev(Ev(l,"datum.label",u),"datum.value",pt(e,{expr:"parent"})):u},...t==="row"?{orient:"left"}:{},style:"guide-label",frame:"group",...HPe(o,c),...UPe(c,o,s),...VPe(n,e,t,T5t,LMe)}}function X8t(e,t,n,r,i){if(i){let o=null;const{facetFieldDef:s}=r,a=e.config?e.config:void 0;if(s&&i.labels){const{labelOrient:d}=HL(["labelOrient"],s.header,a,t);(t==="row"&&!An(["top","bottom"],d)||t==="column"&&!An(["left","right"],d))&&(o=iU(s,t,a))}const l=Ql(e)&&!X2(e.facet),u=i.axes,c=(u==null?void 0:u.length)>0;if(o||c){const d=t==="row"?"height":"width";return{name:e.getName(`${t}_${n}`),type:"group",role:`${t}-${n}`,...r.facetFieldDef?{from:{data:e.getName(`${t}_domain`)},sort:K8t(s,t)}:{},...c&&l?{from:{data:e.getName(`facet_domain_${t}`)}}:{},...o?{title:o}:{},...i.sizeSignal?{encode:{update:{[d]:i.sizeSignal}}}:{},...c?{axes:u}:{}}}}return null}const Q8t={column:{start:0,end:1},row:{start:1,end:0}};function J8t(e,t){return Q8t[t][e]}function Z8t(e,t){const n={};for(const r of Mu){const i=e[r];if(i!=null&&i.facetFieldDef){const{titleAnchor:o,titleOrient:s}=HL(["titleAnchor","titleOrient"],i.facetFieldDef.header,t,r),a=UL(r,s),l=J8t(o,a);l!==void 0&&(n[a]=l)}}return xr(n)?void 0:n}function VPe(e,t,n,r,i){const o={};for(const s of r){if(!i[s])continue;const a=Cx(s,t==null?void 0:t.header,e,n);a!==void 0&&(o[i[s]]=a)}return o}function aZ(e){return[...W3(e,"width"),...W3(e,"height"),...W3(e,"childWidth"),...W3(e,"childHeight")]}function W3(e,t){const n=t==="width"?"x":"y",r=e.component.layoutSize.get(t);if(!r||r==="merged")return[];const i=e.getSizeSignalRef(t).signal;if(r==="step"){const o=e.getScaleComponent(n);if(o){const s=o.get("type"),a=o.get("range");if(No(s)&&xb(a)){const l=e.scaleName(n);return Ql(e.parent)&&e.parent.component.resolve.scale[n]==="independent"?[_fe(l,a)]:[_fe(l,a),{name:i,update:WPe(l,o,`domain('${l}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}else if(r=="container"){const o=i.endsWith("width"),s=o?"containerSize()[0]":"containerSize()[1]",a=Wz(e.config.view,o?"width":"height"),l=`isFinite(${s}) ? ${s} : ${a}`;return[{name:i,init:l,on:[{update:l,events:"window:resize"}]}]}else return[{name:i,value:r}]}function _fe(e,t){const n=`${e}_step`;return Ot(t.step)?{name:n,update:t.step.signal}:{name:n,value:t.step}}function WPe(e,t,n){const r=t.get("type"),i=t.get("padding"),o=Fi(t.get("paddingOuter"),i);let s=t.get("paddingInner");return s=r==="band"?s!==void 0?s:i:1,`bandspace(${n}, ${Uc(s)}, ${Uc(o)}) * ${e}_step`}function qPe(e){return e==="childWidth"?"width":e==="childHeight"?"height":e}function GPe(e,t){return qe(e).reduce((n,r)=>({...n,...z_({model:t,channelDef:e[r],vgChannel:r,mainRefFn:i=>Wr(i.value),invalidValueRef:void 0})}),{})}function YPe(e,t){if(Ql(t))return e==="theta"?"independent":"shared";if(W_(t))return"shared";if(pZ(t))return Bi(e)||e==="theta"||e==="radius"?"independent":"shared";throw new Error("invalid model type for resolve")}function lZ(e,t){const n=e.scale[t],r=Bi(t)?"axis":"legend";return n==="independent"?(e[r][t]==="shared"&&Qe(b4t(t)),"independent"):e[r][t]||"shared"}const e9t={...k5t,disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1},KPe=qe(e9t);class t9t extends Zp{}const Efe={symbols:n9t,gradient:r9t,labels:i9t,entries:o9t};function n9t(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i,legendType:o}){if(o!=="symbol")return;const{markDef:s,encoding:a,config:l,mark:u}=n,c=s.filled&&u!=="trail";let d={...ALt({},n,EFt),...mPe(n,{filled:c})};const h=i.get("symbolOpacity")??l.legend.symbolOpacity,f=i.get("symbolFillColor")??l.legend.symbolFillColor,p=i.get("symbolStrokeColor")??l.legend.symbolStrokeColor,m=h===void 0?XPe(a.opacity)??s.opacity:void 0;if(d.fill){if(r==="fill"||c&&r===_l)delete d.fill;else if(Ye(d.fill,"field"))f?delete d.fill:(d.fill=Wr(l.legend.symbolBaseFillColor??"black"),d.fillOpacity=Wr(m??1));else if(Pe(d.fill)){const g=oU(a.fill??a.color)??s.fill??(c&&s.color);g&&(d.fill=Wr(g))}}if(d.stroke){if(r==="stroke"||!c&&r===_l)delete d.stroke;else if(Ye(d.stroke,"field")||p)delete d.stroke;else if(Pe(d.stroke)){const g=Fi(oU(a.stroke||a.color),s.stroke,c?s.color:void 0);g&&(d.stroke={value:g})}}if(r!==Xp){const g=et(t)&&JPe(n,i,t);g?d.opacity=[{test:g,...Wr(m??1)},Wr(l.legend.unselectedOpacity)]:m&&(d.opacity=Wr(m))}return d={...d,...e},xr(d)?void 0:d}function r9t(e,{model:t,legendType:n,legendCmpt:r}){if(n!=="gradient")return;const{config:i,markDef:o,encoding:s}=t;let a={};const u=(r.get("gradientOpacity")??i.legend.gradientOpacity)===void 0?XPe(s.opacity)||o.opacity:void 0;return u&&(a.opacity=Wr(u)),a={...a,...e},xr(a)?void 0:a}function i9t(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i}){const o=n.legend(r)||{},s=n.config,a=et(t)?JPe(n,i,t):void 0,l=a?[{test:a,value:1},{value:s.legend.unselectedOpacity}]:void 0,{format:u,formatType:c}=o;let d;Iv(c)?d=Hc({fieldOrDatumDef:t,field:"datum.value",format:u,formatType:c,config:s}):u===void 0&&c===void 0&&s.customFormatTypes&&(t.type==="quantitative"&&s.numberFormatType?d=Hc({fieldOrDatumDef:t,field:"datum.value",format:s.numberFormat,formatType:s.numberFormatType,config:s}):t.type==="temporal"&&s.timeFormatType&&et(t)&&t.timeUnit===void 0&&(d=Hc({fieldOrDatumDef:t,field:"datum.value",format:s.timeFormat,formatType:s.timeFormatType,config:s})));const h={...l?{opacity:l}:{},...d?{text:d}:{},...e};return xr(h)?void 0:h}function o9t(e,{legendCmpt:t}){const n=t.get("selections");return n!=null&&n.length?{...e,fill:{value:"transparent"}}:e}function XPe(e){return QPe(e,(t,n)=>Math.max(t,n.value))}function oU(e){return QPe(e,(t,n)=>Fi(t,n.value))}function QPe(e,t){if(VFt(e))return _t(e.condition).reduce(t,e.value);if(ld(e))return e.value}function JPe(e,t,n){const r=t.get("selections");if(!(r!=null&&r.length))return;const i=ot(n.field);return r.map(o=>`(!length(data(${ot(ti(o)+$v)})) || (${o}[${i}] && indexof(${o}[${i}], datum.value) >= 0))`).join(" || ")}const Sfe={direction:({direction:e})=>e,format:({fieldOrDatumDef:e,legend:t,config:n})=>{const{format:r,formatType:i}=t;return iMe(e,e.type,r,i,n,!1)},formatType:({legend:e,fieldOrDatumDef:t,scaleType:n})=>{const{formatType:r}=e;return oMe(r,t,n)},gradientLength:e=>{const{legend:t,legendConfig:n}=e;return t.gradientLength??n.gradientLength??h9t(e)},labelOverlap:({legend:e,legendConfig:t,scaleType:n})=>e.labelOverlap??t.labelOverlap??f9t(n),symbolType:({legend:e,markDef:t,channel:n,encoding:r})=>e.symbolType??a9t(t.type,n,r.shape,t.shape),title:({fieldOrDatumDef:e,config:t})=>yw(e,t,{allowDisabling:!0}),type:({legendType:e,scaleType:t,channel:n})=>{if(gw(n)&&eh(t)){if(e==="gradient")return}else if(e==="symbol")return;return e},values:({fieldOrDatumDef:e,legend:t})=>s9t(t,e)};function s9t(e,t){const n=e.values;if(Pe(n))return yMe(t,n);if(Ot(n))return n}function a9t(e,t,n,r){if(t!=="shape"){const i=oU(n)??r;if(i)return i}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}function l9t(e){const{legend:t}=e;return Fi(t.type,u9t(e))}function u9t({channel:e,timeUnit:t,scaleType:n}){if(gw(e)){if(An(["quarter","month","day"],t))return"symbol";if(eh(n))return"gradient"}return"symbol"}function c9t({legendConfig:e,legendType:t,orient:n,legend:r}){return r.direction??e[t?"gradientDirection":"symbolDirection"]??d9t(n,t)}function d9t(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return t==="gradient"?"horizontal":void 0}}function h9t({legendConfig:e,model:t,direction:n,orient:r,scaleType:i}){const{gradientHorizontalMaxLength:o,gradientHorizontalMinLength:s,gradientVerticalMaxLength:a,gradientVerticalMinLength:l}=e;if(eh(i))return n==="horizontal"?r==="top"||r==="bottom"?Tfe(t,"width",s,o):s:Tfe(t,"height",l,a)}function Tfe(e,t,n,r){return{signal:`clamp(${e.getSizeSignalRef(t).signal}, ${n}, ${r})`}}function f9t(e){if(An(["quantile","threshold","log","symlog"],e))return"greedy"}function ZPe(e){const t=ai(e)?p9t(e):v9t(e);return e.component.legends=t,t}function p9t(e){const{encoding:t}=e,n={};for(const r of[_l,...BMe]){const i=so(t[r]);!i||!e.getScaleComponent(r)||r===El&&et(i)&&i.type===j_||(n[r]=y9t(e,r))}return n}function m9t(e,t){const n=e.scaleName(t);if(e.mark==="trail"){if(t==="color")return{stroke:n};if(t==="size")return{strokeWidth:n}}return t==="color"?e.markDef.filled?{fill:n}:{stroke:n}:{[t]:n}}function g9t(e,t,n,r){switch(t){case"disable":return n!==void 0;case"values":return!!(n!=null&&n.values);case"title":if(t==="title"&&e===(r==null?void 0:r.title))return!0}return e===(n||{})[t]}function y9t(e,t){var _;let n=e.legend(t);const{markDef:r,encoding:i,config:o}=e,s=o.legend,a=new t9t({},m9t(e,t));yBt(e,t,a);const l=n!==void 0?!n:s.disable;if(a.set("disable",l,n!==void 0),l)return a;n=n||{};const u=e.getScaleComponent(t).get("type"),c=so(i[t]),d=et(c)?(_=Do(c.timeUnit))==null?void 0:_.unit:void 0,h=n.orient||o.legend.orient||"right",f=l9t({legend:n,channel:t,timeUnit:d,scaleType:u}),p=c9t({legend:n,legendType:f,orient:h,legendConfig:s}),m={legend:n,channel:t,model:e,markDef:r,encoding:i,fieldOrDatumDef:c,legendConfig:s,config:o,scaleType:u,orient:h,legendType:f,direction:p};for(const x of KPe){if(f==="gradient"&&x.startsWith("symbol")||f==="symbol"&&x.startsWith("gradient"))continue;const w=x in Sfe?Sfe[x](m):n[x];if(w!==void 0){const E=g9t(w,x,n,e.fieldDef(t));(E||o.legend[x]===void 0)&&a.set(x,w,E)}}const g=(n==null?void 0:n.encoding)??{},y=a.get("selections"),v={},b={fieldOrDatumDef:c,model:e,channel:t,legendCmpt:a,legendType:f};for(const x of["labels","legend","title","symbols","gradient","entries"]){const w=GPe(g[x]??{},e),E=x in Efe?Efe[x](w,b):w;E!==void 0&&!xr(E)&&(v[x]={...y!=null&&y.length&&et(c)?{name:`${ti(c.field)}_legend_${x}`}:{},...y!=null&&y.length?{interactive:!!y}:{},update:E})}return xr(v)||a.set("encode",v,!!(n!=null&&n.encoding)),a}function v9t(e){const{legends:t,resolve:n}=e.component;for(const r of e.children){ZPe(r);for(const i of qe(r.component.legends))n.legend[i]=lZ(e.component.resolve,i),n.legend[i]==="shared"&&(t[i]=eNe(t[i],r.component.legends[i]),t[i]||(n.legend[i]="independent",delete t[i]))}for(const r of qe(t))for(const i of e.children)i.component.legends[r]&&n.legend[r]==="shared"&&delete i.component.legends[r];return t}function eNe(e,t){var o,s,a,l;if(!e)return t.clone();const n=e.getWithExplicit("orient"),r=t.getWithExplicit("orient");if(n.explicit&&r.explicit&&n.value!==r.value)return;let i=!1;for(const u of KPe){const c=Wg(e.getWithExplicit(u),t.getWithExplicit(u),u,"legend",(d,h)=>{switch(u){case"symbolType":return b9t(d,h);case"title":return EDe(d,h);case"type":return i=!0,Pl("symbol")}return ML(d,h,u,"legend")});e.setWithExplicit(u,c)}return i&&((s=(o=e.implicit)==null?void 0:o.encode)!=null&&s.gradient&&TM(e.implicit,["encode","gradient"]),(l=(a=e.explicit)==null?void 0:a.encode)!=null&&l.gradient&&TM(e.explicit,["encode","gradient"])),e}function b9t(e,t){return t.value==="circle"?t:e}function w9t(e,t,n,r){var i,o;e.encode??(e.encode={}),(i=e.encode)[t]??(i[t]={}),(o=e.encode[t]).update??(o.update={}),e.encode[t].update[n]=r}function tNe(e){const t=e.component.legends,n={};for(const i of qe(t)){const o=e.getScaleComponent(i),s=_r(o.get("domains"));if(n[s])for(const a of n[s])eNe(a,t[i])||n[s].push(t[i]);else n[s]=[t[i].clone()]}return ps(n).flat().map(i=>x9t(i,e.config)).filter(i=>i!==void 0)}function x9t(e,t){var s,a,l;const{disable:n,labelExpr:r,selections:i,...o}=e.combine();if(!n){if(t.aria===!1&&o.aria==null&&(o.aria=!1),(s=o.encode)!=null&&s.symbols){const u=o.encode.symbols.update;u.fill&&u.fill.value!=="transparent"&&!u.stroke&&!o.stroke&&(u.stroke={value:"transparent"});for(const c of BMe)o[c]&&delete u[c]}if(o.title||delete o.title,r!==void 0){let u=r;(l=(a=o.encode)==null?void 0:a.labels)!=null&&l.update&&Ot(o.encode.labels.update.text)&&(u=Ev(r,"datum.label",o.encode.labels.update.text.signal)),w9t(o,"labels","text",{signal:u})}return o}}function _9t(e){return W_(e)||pZ(e)?E9t(e):nNe(e)}function E9t(e){return e.children.reduce((t,n)=>t.concat(n.assembleProjections()),nNe(e))}function nNe(e){const t=e.component.projection;if(!t||t.merged)return[];const n=t.combine(),{name:r}=n;if(t.data){const i={signal:`[${t.size.map(s=>s.signal).join(", ")}]`},o=t.data.reduce((s,a)=>{const l=Ot(a)?a.signal:`data('${e.lookupDataSource(a)}')`;return An(s,l)||s.push(l),s},[]);if(o.length<=0)throw new Error("Projection's fit didn't find any data sources");return[{name:r,size:i,fit:{signal:o.length>1?`[${o.join(", ")}]`:o[0]},...n}]}else return[{name:r,translate:{signal:"[width / 2, height / 2]"},...n}]}const S9t=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class rNe extends Zp{constructor(t,n,r,i){super({...n},{name:t}),this.specifiedProjection=n,this.size=r,this.data=i,this.merged=!1}get isFit(){return!!this.data}}function iNe(e){e.component.projection=ai(e)?T9t(e):k9t(e)}function T9t(e){if(e.hasProjection){const t=es(e.specifiedProjection),n=!(t&&(t.scale!=null||t.translate!=null)),r=n?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,i=n?C9t(e):void 0,o=new rNe(e.projectionName(!0),{...es(e.config.projection),...t},r,i);return o.get("type")||o.set("type","equalEarth",!1),o}}function C9t(e){const t=[],{encoding:n}=e;for(const r of[[wd,bd],[Xu,xd]])(so(n[r[0]])||so(n[r[1]]))&&t.push({signal:e.getName(`geojson_${t.length}`)});return e.channelHasField(El)&&e.typedFieldDef(El).type===j_&&t.push({signal:e.getName(`geojson_${t.length}`)}),t.length===0&&t.push(e.requestDataName(ui.Main)),t}function A9t(e,t){const n=XQ(S9t,i=>!!(!Tt(e.explicit,i)&&!Tt(t.explicit,i)||Tt(e.explicit,i)&&Tt(t.explicit,i)&&Hl(e.get(i),t.get(i))));if(Hl(e.size,t.size)){if(n)return e;if(Hl(e.explicit,{}))return t;if(Hl(t.explicit,{}))return e}return null}function k9t(e){if(e.children.length===0)return;let t;for(const r of e.children)iNe(r);const n=XQ(e.children,r=>{const i=r.component.projection;if(i)if(t){const o=A9t(t,i);return o&&(t=o),!!o}else return t=i,!0;else return!0});if(t&&n){const r=e.projectionName(!0),i=new rNe(r,t.specifiedProjection,t.size,sn(t.data));for(const o of e.children){const s=o.component.projection;s&&(s.isFit&&i.data.push(...o.component.projection.data),o.renameProjection(s.get("name"),r),s.merged=!0)}return i}}function I9t(e,t,n,r){if(Z2(t,n)){const i=ai(e)?e.axis(n)??e.legend(n)??{}:{},o=pt(t,{expr:"datum"}),s=pt(t,{expr:"datum",binSuffix:"end"});return{formulaAs:pt(t,{binSuffix:"range",forAs:!0}),formula:K2(o,s,i.format,i.formatType,r)}}return{}}function oNe(e,t){return`${mDe(e)}_${t}`}function R9t(e,t){return{signal:e.getName(`${t}_bins`),extentSignal:e.getName(`${t}_extent`)}}function uZ(e,t,n){const r=AL(n,void 0)??{},i=oNe(r,t);return e.getName(`${i}_bins`)}function $9t(e){return"as"in e}function Cfe(e,t,n){let r,i;$9t(e)?r=xt(e.as)?[e.as,`${e.as}_end`]:[e.as[0],e.as[1]]:r=[pt(e,{forAs:!0}),pt(e,{binSuffix:"end",forAs:!0})];const o={...AL(t,void 0)},s=oNe(o,e.field),{signal:a,extentSignal:l}=R9t(n,s);if(gL(o.extent)){const c=o.extent;i=LPe(n,c.param,c),delete o.extent}const u={bin:o,field:e.field,as:[r],...a?{signal:a}:{},...l?{extentSignal:l}:{},...i?{span:i}:{}};return{key:s,binComponent:u}}class wh extends gr{clone(){return new wh(null,sn(this.bins))}constructor(t,n){super(t),this.bins=n}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,o,s)=>{if(Na(o)&&Fr(o.bin)){const{key:a,binComponent:l}=Cfe(o,o.bin,n);i[a]={...l,...i[a],...I9t(n,o,s,n.config)}}return i},{});return xr(r)?null:new wh(t,r)}static makeFromTransform(t,n,r){const{key:i,binComponent:o}=Cfe(n,n.bin,r);return new wh(t,{[i]:o})}merge(t,n){for(const r of qe(t.bins))r in this.bins?(n(t.bins[r].signal,this.bins[r].signal),this.bins[r].as=Zd([...this.bins[r].as,...t.bins[r].as],On)):this.bins[r]=t.bins[r];for(const r of t.children)t.removeChild(r),r.parent=this;t.remove()}producedFields(){return new Set(ps(this.bins).map(t=>t.as).flat(2))}dependentFields(){return new Set(ps(this.bins).map(t=>t.field))}hash(){return`Bin ${On(this.bins)}`}assemble(){return ps(this.bins).flatMap(t=>{const n=[],[r,...i]=t.as,{extent:o,...s}=t.bin,a={type:"bin",field:Ku(t.field),as:r,signal:t.signal,...gL(o)?{extent:null}:{extent:o},...t.span?{span:{signal:`span(${t.span})`}}:{},...s};!o&&t.extentSignal&&(n.push({type:"extent",field:Ku(t.field),signal:t.extentSignal}),a.extent={signal:t.extentSignal}),n.push(a);for(const l of i)for(let u=0;u<2;u++)n.push({type:"formula",expr:pt({field:r[u]},{expr:"datum"}),as:l[u]});return t.formula&&n.push({type:"formula",expr:t.formula,as:t.formulaAs}),n})}}function D9t(e,t,n,r){var o;const i=ai(r)?r.encoding[ef(t)]:void 0;if(Na(n)&&ai(r)&&uMe(n,i,r.markDef,r.config)){e.add(pt(n,{})),e.add(pt(n,{suffix:"end"}));const{mark:s,markDef:a,config:l}=r,u=Vg({fieldDef:n,markDef:a,config:l});aA(s)&&u!==.5&&Bi(t)&&(e.add(pt(n,{suffix:PL})),e.add(pt(n,{suffix:NL}))),n.bin&&Z2(n,t)&&e.add(pt(n,{binSuffix:"range"}))}else if(sDe(t)){const s=oDe(t);e.add(r.getName(s))}else e.add(pt(n));return Sb(n)&&cFt((o=n.scale)==null?void 0:o.range)&&e.add(n.scale.range.field),e}function M9t(e,t){for(const n of qe(t)){const r=t[n];for(const i of qe(r))n in e?e[n][i]=new Set([...e[n][i]??[],...r[i]]):e[n]={[i]:r[i]}}}class Jc extends gr{clone(){return new Jc(null,new Set(this.dimensions),sn(this.measures))}constructor(t,n,r){super(t),this.dimensions=n,this.measures=r}get groupBy(){return this.dimensions}static makeFromEncoding(t,n){let r=!1;n.forEachFieldDef(s=>{s.aggregate&&(r=!0)});const i={},o=new Set;return!r||(n.forEachFieldDef((s,a)=>{const{aggregate:l,field:u}=s;if(l)if(l==="count")i["*"]??(i["*"]={}),i["*"].count=new Set([pt(s,{forAs:!0})]);else{if(Rp(l)||_0(l)){const c=Rp(l)?"argmin":"argmax",d=l[c];i[d]??(i[d]={}),i[d][c]=new Set([pt({op:c,field:d},{forAs:!0})])}else i[u]??(i[u]={}),i[u][l]=new Set([pt(s,{forAs:!0})]);tf(a)&&n.scaleDomain(a)==="unaggregated"&&(i[u]??(i[u]={}),i[u].min=new Set([pt({field:u,aggregate:"min"},{forAs:!0})]),i[u].max=new Set([pt({field:u,aggregate:"max"},{forAs:!0})]))}else D9t(o,a,s,n)}),o.size+qe(i).length===0)?null:new Jc(t,o,i)}static makeFromTransform(t,n){var r;const i=new Set,o={};for(const s of n.aggregate){const{op:a,field:l,as:u}=s;a&&(a==="count"?(o["*"]??(o["*"]={}),o["*"].count=new Set([u||pt(s,{forAs:!0})])):(o[l]??(o[l]={}),(r=o[l])[a]??(r[a]=new Set),o[l][a].add(u||pt(s,{forAs:!0}))))}for(const s of n.groupby??[])i.add(s);return i.size+qe(o).length===0?null:new Jc(t,i,o)}merge(t){return Q$e(this.dimensions,t.dimensions)?(M9t(this.measures,t.measures),!0):(N4t("different dimensions, cannot merge"),!1)}addDimensions(t){t.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...qe(this.measures)])}producedFields(){const t=new Set;for(const n of qe(this.measures))for(const r of qe(this.measures[n])){const i=this.measures[n][r];i.size===0?t.add(`${r}_${n}`):i.forEach(t.add,t)}return t}hash(){return`Aggregate ${On({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const t=[],n=[],r=[];for(const o of qe(this.measures))for(const s of qe(this.measures[o]))for(const a of this.measures[o][s])r.push(a),t.push(s),n.push(o==="*"?null:Ku(o));return{type:"aggregate",groupby:[...this.dimensions].map(Ku),ops:t,fields:n,as:r}}}class H_ extends gr{constructor(t,n,r,i){super(t),this.model=n,this.name=r,this.data=i;for(const o of Mu){const s=n.facet[o];if(s){const{bin:a,sort:l}=s;this[o]={name:n.getName(`${o}_domain`),fields:[pt(s),...Fr(a)?[pt(s,{binSuffix:"end"})]:[]],...ip(l)?{sortField:l}:Pe(l)?{sortIndexField:Tx(s,o)}:{}}}}this.childModel=n.child}hash(){let t="Facet";for(const n of Mu)this[n]&&(t+=` ${n.charAt(0)}:${On(this[n])}`);return t}get fields(){var n;const t=[];for(const r of Mu)(n=this[r])!=null&&n.fields&&t.push(...this[r].fields);return t}dependentFields(){const t=new Set(this.fields);for(const n of Mu)this[n]&&(this[n].sortField&&t.add(this[n].sortField.field),this[n].sortIndexField&&t.add(this[n].sortIndexField));return t}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const t={};for(const n of Qp){const r=this.childModel.component.scales[n];if(r&&!r.merged){const i=r.get("type"),o=r.get("range");if(No(i)&&xb(o)){const s=VL(this.childModel,n),a=fZ(s);a?t[n]=a:Qe(cJ(n))}}}return t}assembleRowColumnHeaderData(t,n,r){const i={row:"y",column:"x",facet:void 0}[t],o=[],s=[],a=[];i&&r&&r[i]&&(n?(o.push(`distinct_${r[i]}`),s.push("max")):(o.push(r[i]),s.push("distinct")),a.push(`distinct_${r[i]}`));const{sortField:l,sortIndexField:u}=this[t];if(l){const{op:c=SL,field:d}=l;o.push(d),s.push(c),a.push(pt(l,{forAs:!0}))}else u&&(o.push(u),s.push("max"),a.push(u));return{name:this[t].name,source:n??this.data,transform:[{type:"aggregate",groupby:this[t].fields,...o.length?{fields:o,ops:s,as:a}:{}}]}}assembleFacetHeaderData(t){var l;const{columns:n}=this.model.layout,{layoutHeaders:r}=this.model.component,i=[],o={};for(const u of oZ){for(const c of sZ){const d=(r[u]&&r[u][c])??[];for(const h of d)if(((l=h.axes)==null?void 0:l.length)>0){o[u]=!0;break}}if(o[u]){const c=`length(data("${this.facet.name}"))`,d=u==="row"?n?{signal:`ceil(${c} / ${n})`}:1:n?{signal:`min(${c}, ${n})`}:{signal:c};i.push({name:`${this.facet.name}_${u}`,transform:[{type:"sequence",start:0,stop:d}]})}}const{row:s,column:a}=o;return(s||a)&&i.unshift(this.assembleRowColumnHeaderData("facet",null,t)),i}assemble(){const t=[];let n=null;const r=this.getChildIndependentFieldsWithStep(),{column:i,row:o,facet:s}=this;if(i&&o&&(r.x||r.y)){n=`cross_${this.column.name}_${this.row.name}`;const a=[].concat(r.x??[],r.y??[]),l=a.map(()=>"distinct");t.push({name:n,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:a,ops:l}]})}for(const a of[rp,np])this[a]&&t.push(this.assembleRowColumnHeaderData(a,n,r));if(s){const a=this.assembleFacetHeaderData(r);a&&t.push(...a)}return t}}function Afe(e){return e.startsWith("'")&&e.endsWith("'")||e.startsWith('"')&&e.endsWith('"')?e.slice(1,-1):e}function P9t(e,t){const n=ZQ(e);if(t==="number")return`toNumber(${n})`;if(t==="boolean")return`toBoolean(${n})`;if(t==="string")return`toString(${n})`;if(t==="date")return`toDate(${n})`;if(t==="flatten")return n;if(t.startsWith("date:")){const r=Afe(t.slice(5,t.length));return`timeParse(${n},'${r}')`}else if(t.startsWith("utc:")){const r=Afe(t.slice(4,t.length));return`utcParse(${n},'${r}')`}else return Qe(VLt(t)),null}function N9t(e){const t={};return bR(e.filter,n=>{if(jDe(n)){let r=null;gJ(n)?r=Bl(n.equal):vJ(n)?r=Bl(n.lte):yJ(n)?r=Bl(n.lt):bJ(n)?r=Bl(n.gt):wJ(n)?r=Bl(n.gte):xJ(n)?r=n.range[0]:_J(n)&&(r=(n.oneOf??n.in)[0]),r&&(_b(r)?t[n.field]="date":er(r)?t[n.field]="number":xt(r)&&(t[n.field]="string")),n.timeUnit&&(t[n.field]="date")}}),t}function O9t(e){const t={};function n(r){xx(r)?t[r.field]="date":r.type==="quantitative"&&vLt(r.aggregate)?t[r.field]="number":mx(r.field)>1?r.field in t||(t[r.field]="flatten"):Sb(r)&&ip(r.sort)&&mx(r.sort.field)>1&&(r.sort.field in t||(t[r.sort.field]="flatten"))}if((ai(e)||Ql(e))&&e.forEachFieldDef((r,i)=>{if(Na(r))n(r);else{const o=bb(i),s=e.fieldDef(o);n({...r,type:s.type})}}),ai(e)){const{mark:r,markDef:i,encoding:o}=e;if(E0(r)&&!e.encoding.order){const s=i.orient==="horizontal"?"y":"x",a=o[s];et(a)&&a.type==="quantitative"&&!(a.field in t)&&(t[a.field]="number")}}return t}function L9t(e){const t={};if(ai(e)&&e.component.selection)for(const n of qe(e.component.selection)){const r=e.component.selection[n];for(const i of r.project.items)!i.channel&&mx(i.field)>1&&(t[i.field]="flatten")}return t}class Xs extends gr{clone(){return new Xs(null,sn(this._parse))}constructor(t,n){super(t),this._parse=n}hash(){return`Parse ${On(this._parse)}`}static makeExplicit(t,n,r){var s;let i={};const o=n.data;return!pg(o)&&((s=o==null?void 0:o.format)!=null&&s.parse)&&(i=o.format.parse),this.makeWithAncestors(t,i,{},r)}static makeWithAncestors(t,n,r,i){for(const a of qe(r)){const l=i.getWithExplicit(a);l.value!==void 0&&(l.explicit||l.value===r[a]||l.value==="derived"||r[a]==="flatten"?delete r[a]:Qe(Rhe(a,r[a],l.value)))}for(const a of qe(n)){const l=i.get(a);l!==void 0&&(l===n[a]?delete n[a]:Qe(Rhe(a,n[a],l)))}const o=new Zp(n,r);i.copyAll(o);const s={};for(const a of qe(o.combine())){const l=o.get(a);l!==null&&(s[a]=l)}return qe(s).length===0||i.parseNothing?null:new Xs(t,s)}get parse(){return this._parse}merge(t){this._parse={...this._parse,...t.parse},t.remove()}assembleFormatParse(){const t={};for(const n of qe(this._parse)){const r=this._parse[n];mx(n)===1&&(t[n]=r)}return t}producedFields(){return new Set(qe(this._parse))}dependentFields(){return new Set(qe(this._parse))}assembleTransforms(t=!1){return qe(this._parse).filter(n=>t?mx(n)>1:!0).map(n=>{const r=P9t(n,this._parse[n]);return r?{type:"formula",expr:r,as:F_(n)}:null}).filter(n=>n!==null)}}class qg extends gr{clone(){return new qg(null)}constructor(t){super(t)}dependentFields(){return new Set}producedFields(){return new Set([cd])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:cd}}}class ok extends gr{clone(){return new ok(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${On(this.params)}`}assemble(){return{type:"graticule",...this.params===!0?{}:this.params}}}class sk extends gr{clone(){return new sk(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){return new Set([this.params.as??"data"])}hash(){return`Hash ${On(this.params)}`}assemble(){return{type:"sequence",...this.params}}}class Pv extends gr{constructor(t){super(null),t??(t={name:"source"});let n;if(pg(t)||(n=t.format?{...gl(t.format,["parse"])}:{}),lA(t))this._data={values:t.values};else if(_x(t)){if(this._data={url:t.url},!n.type){let r=/(?:\.([^.]+))?$/.exec(t.url)[1];An(["json","csv","tsv","dsv","topojson"],r)||(r="json"),n.type=r}}else rPe(t)?this._data={values:[{type:"Sphere"}]}:(tPe(t)||pg(t))&&(this._data={});this._generator=pg(t),t.name&&(this._name=t.name),n&&!xr(n)&&(this._data.format=n)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(t){this._name=t}set parent(t){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return{name:this._name,...this._data,transform:[]}}}var kfe=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},F9t=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},NS;function cZ(e){return e instanceof Pv||e instanceof ok||e instanceof sk}class dZ{constructor(){NS.set(this,void 0),kfe(this,NS,!1,"f")}setModified(){kfe(this,NS,!0,"f")}get modifiedFlag(){return F9t(this,NS,"f")}}NS=new WeakMap;class Cb extends dZ{getNodeDepths(t,n,r){r.set(t,n);for(const i of t.children)this.getNodeDepths(i,n+1,r);return r}optimize(t){const r=[...this.getNodeDepths(t,0,new Map).entries()].sort((i,o)=>o[1]-i[1]);for(const i of r)this.run(i[0]);return this.modifiedFlag}}class hZ extends dZ{optimize(t){this.run(t);for(const n of t.children)this.optimize(n);return this.modifiedFlag}}class B9t extends hZ{mergeNodes(t,n){const r=n.shift();for(const i of n)t.removeChild(i),i.parent=r,i.remove()}run(t){const n=t.children.map(i=>i.hash()),r={};for(let i=0;i<n.length;i++)r[n[i]]===void 0?r[n[i]]=[t.children[i]]:r[n[i]].push(t.children[i]);for(const i of qe(r))r[i].length>1&&(this.setModified(),this.mergeNodes(t,r[i]))}}class j9t extends hZ{constructor(t){super(),this.requiresSelectionId=t&&tZ(t)}run(t){t instanceof qg&&(this.requiresSelectionId&&(cZ(t.parent)||t.parent instanceof Jc||t.parent instanceof Xs)||(this.setModified(),t.remove()))}}class z9t extends dZ{optimize(t){return this.run(t,new Set),this.modifiedFlag}run(t,n){let r=new Set;t instanceof vh&&(r=t.producedFields(),QQ(r,n)&&(this.setModified(),t.removeFormulas(n),t.producedFields.length===0&&t.remove()));for(const i of t.children)this.run(i,new Set([...n,...r]))}}class U9t extends hZ{constructor(){super()}run(t){t instanceof yl&&!t.isRequired()&&(this.setModified(),t.remove())}}class H9t extends Cb{run(t){if(!cZ(t)&&!(t.numChildren()>1)){for(const n of t.children)if(n instanceof Xs)if(t instanceof Xs)this.setModified(),t.merge(n);else{if(JQ(t.producedFields(),n.dependentFields()))continue;this.setModified(),n.swapWithParent()}}}}class V9t extends Cb{run(t){const n=[...t.children],r=t.children.filter(i=>i instanceof Xs);if(t.numChildren()>1&&r.length>=1){const i={},o=new Set;for(const s of r){const a=s.parse;for(const l of qe(a))l in i?i[l]!==a[l]&&o.add(l):i[l]=a[l]}for(const s of o)delete i[s];if(!xr(i)){this.setModified();const s=new Xs(t,i);for(const a of n){if(a instanceof Xs)for(const l of qe(i))delete a.parse[l];t.removeChild(a),a.parent=s,a instanceof Xs&&qe(a.parse).length===0&&a.remove()}}}}}class W9t extends Cb{run(t){t instanceof yl||t.numChildren()>0||t instanceof H_||t instanceof Pv||(this.setModified(),t.remove())}}class q9t extends Cb{run(t){const n=t.children.filter(i=>i instanceof vh),r=n.pop();for(const i of n)this.setModified(),r.merge(i)}}class G9t extends Cb{run(t){const n=t.children.filter(i=>i instanceof Jc),r={};for(const i of n){const o=On(i.groupBy);o in r||(r[o]=[]),r[o].push(i)}for(const i of qe(r)){const o=r[i];if(o.length>1){const s=o.pop();for(const a of o)s.merge(a)&&(t.removeChild(a),a.parent=s,a.remove(),this.setModified())}}}}class Y9t extends Cb{constructor(t){super(),this.model=t}run(t){const n=!(cZ(t)||t instanceof U_||t instanceof Xs||t instanceof qg),r=[],i=[];for(const o of t.children)o instanceof wh&&(n&&!JQ(t.producedFields(),o.dependentFields())?r.push(o):i.push(o));if(r.length>0){const o=r.pop();for(const s of r)o.merge(s,this.model.renameSignal.bind(this.model));this.setModified(),t instanceof wh?t.merge(o,this.model.renameSignal.bind(this.model)):o.swapWithParent()}if(i.length>1){const o=i.pop();for(const s of i)o.merge(s,this.model.renameSignal.bind(this.model));this.setModified()}}}class K9t extends Cb{run(t){const n=[...t.children];if(!px(n,s=>s instanceof yl)||t.numChildren()<=1)return;const i=[];let o;for(const s of n)if(s instanceof yl){let a=s;for(;a.numChildren()===1;){const[l]=a.children;if(l instanceof yl)a=l;else break}i.push(...a.children),o?(t.removeChild(s),s.parent=o.parent,o.parent.removeChild(o),o.parent=a,this.setModified()):o=a}else i.push(s);if(i.length){this.setModified();for(const s of i)s.parent.removeChild(s),s.parent=o}}}class Ab extends gr{clone(){return new Ab(null,sn(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=Zd(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return this.transform.groupby&&this.transform.groupby.forEach(t.add,t),this.transform.joinaggregate.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(t){return t.as??pt(t)}hash(){return`JoinAggregateTransform ${On(this.transform)}`}assemble(){const t=[],n=[],r=[];for(const o of this.transform.joinaggregate)n.push(o.op),r.push(this.getDefaultName(o)),t.push(o.field===void 0?null:o.field);const i=this.transform.groupby;return{type:"joinaggregate",as:r,ops:n,fields:t,...i!==void 0?{groupby:i}:{}}}}class Ax extends gr{clone(){return new Ax(null,{...this.filter})}constructor(t,n){super(t),this.filter=n}static make(t,n,r){const{config:i,markDef:o}=n,{marks:s,scales:a}=r;if(s==="include-invalid-values"&&a==="include-invalid-values")return null;const l=n.reduceFieldDef((u,c,d)=>{const h=tf(d)&&n.getScaleComponent(d);if(h){const f=h.get("type"),{aggregate:p}=c,m=IJ({scaleChannel:d,markDef:o,config:i,scaleType:f,isCountAggregate:mL(p)});m!=="show"&&m!=="always-valid"&&(u[c.field]=c)}return u},{});return qe(l).length?new Ax(t,l):null}dependentFields(){return new Set(qe(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${On(this.filter)}`}assemble(){const t=qe(this.filter).reduce((n,r)=>{const i=this.filter[r],o=pt(i,{expr:"datum"});return i!==null&&(i.type==="temporal"?n.push(`(isDate(${o}) || (${sU(o)}))`):i.type==="quantitative"&&n.push(sU(o))),n},[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null}}function sU(e){return`isValid(${e}) && isFinite(+${e})`}function X9t(e){return e.stack.stackBy.reduce((t,n)=>{const r=n.fieldDef,i=pt(r);return i&&t.push(i),t},[])}function Q9t(e){return Pe(e)&&e.every(t=>xt(t))&&e.length>1}class sp extends gr{clone(){return new sp(null,sn(this._stack))}constructor(t,n){super(t),this._stack=n}static makeFromTransform(t,n){const{stack:r,groupby:i,as:o,offset:s="zero"}=n,a=[],l=[];if(n.sort!==void 0)for(const d of n.sort)a.push(d.field),l.push(Fi(d.order,"ascending"));const u={field:a,order:l};let c;return Q9t(o)?c=o:xt(o)?c=[o,`${o}_end`]:c=[`${n.stack}_start`,`${n.stack}_end`],new sp(t,{dimensionFieldDefs:[],stackField:r,groupby:i,offset:s,sort:u,facetby:[],as:c})}static makeFromEncoding(t,n){const r=n.stack,{encoding:i}=n;if(!r)return null;const{groupbyChannels:o,fieldChannel:s,offset:a,impute:l}=r,u=o.map(f=>{const p=i[f];return ud(p)}).filter(f=>!!f),c=X9t(n),d=n.encoding.order;let h;if(Pe(d)||et(d))h=wDe(d);else{const f=cMe(d)?d.sort:s==="y"?"descending":"ascending";h=c.reduce((p,m)=>(p.field.includes(m)||(p.field.push(m),p.order.push(f)),p),{field:[],order:[]})}return new sp(t,{dimensionFieldDefs:u,stackField:n.vgField(s),facetby:[],stackby:c,sort:h,offset:a,impute:l,as:[n.vgField(s,{suffix:"start",forAs:!0}),n.vgField(s,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(t){this._stack.facetby.push(...t)}dependentFields(){const t=new Set;return t.add(this._stack.stackField),this.getGroupbyFields().forEach(t.add,t),this._stack.facetby.forEach(t.add,t),this._stack.sort.field.forEach(t.add,t),t}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${On(this._stack)}`}getGroupbyFields(){const{dimensionFieldDefs:t,impute:n,groupby:r}=this._stack;return t.length>0?t.map(i=>i.bin?n?[pt(i,{binSuffix:"mid"})]:[pt(i,{}),pt(i,{binSuffix:"end"})]:[pt(i)]).flat():r??[]}assemble(){const t=[],{facetby:n,dimensionFieldDefs:r,stackField:i,stackby:o,sort:s,offset:a,impute:l,as:u}=this._stack;if(l)for(const c of r){const{bandPosition:d=.5,bin:h}=c;if(h){const f=pt(c,{expr:"datum"}),p=pt(c,{expr:"datum",binSuffix:"end"});t.push({type:"formula",expr:`${sU(f)} ? ${d}*${f}+${1-d}*${p} : ${f}`,as:pt(c,{binSuffix:"mid",forAs:!0})})}t.push({type:"impute",field:i,groupby:[...o,...n],key:pt(c,{binSuffix:"mid"}),method:"value",value:0})}return t.push({type:"stack",groupby:[...this.getGroupbyFields(),...n],field:i,sort:s,as:u,offset:a}),t}}class V_ extends gr{clone(){return new V_(null,sn(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=Zd(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return(this.transform.groupby??[]).forEach(t.add,t),(this.transform.sort??[]).forEach(n=>t.add(n.field)),this.transform.window.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(t){return t.as??pt(t)}hash(){return`WindowTransform ${On(this.transform)}`}assemble(){const t=[],n=[],r=[],i=[];for(const d of this.transform.window)n.push(d.op),r.push(this.getDefaultName(d)),i.push(d.param===void 0?null:d.param),t.push(d.field===void 0?null:d.field);const o=this.transform.frame,s=this.transform.groupby;if(o&&o[0]===null&&o[1]===null&&n.every(d=>lJ(d)))return{type:"joinaggregate",as:r,ops:n,fields:t,...s!==void 0?{groupby:s}:{}};const a=[],l=[];if(this.transform.sort!==void 0)for(const d of this.transform.sort)a.push(d.field),l.push(d.order??"ascending");const u={field:a,order:l},c=this.transform.ignorePeers;return{type:"window",params:i,as:r,ops:n,fields:t,sort:u,...c!==void 0?{ignorePeers:c}:{},...s!==void 0?{groupby:s}:{},...o!==void 0?{frame:o}:{}}}}function J9t(e){function t(n){if(!(n instanceof H_)){const r=n.clone();if(r instanceof yl){const i=lU+r.getSource();r.setSource(i),e.model.component.data.outputNodes[i]=r}else(r instanceof Jc||r instanceof sp||r instanceof V_||r instanceof Ab)&&r.addDimensions(e.fields);for(const i of n.children.flatMap(t))i.parent=r;return[r]}return n.children.flatMap(t)}return t}function aU(e){if(e instanceof H_)if(e.numChildren()===1&&!(e.children[0]instanceof yl)){const t=e.children[0];(t instanceof Jc||t instanceof sp||t instanceof V_||t instanceof Ab)&&t.addDimensions(e.fields),t.swapWithParent(),aU(e)}else{const t=e.model.component.data.main;sNe(t);const n=J9t(e),r=e.children.map(n).flat();for(const i of r)i.parent=t}else e.children.map(aU)}function sNe(e){if(e instanceof yl&&e.type===ui.Main&&e.numChildren()===1){const t=e.children[0];t instanceof H_||(t.swapWithParent(),sNe(e))}}const lU="scale_",q3=5;function uU(e){for(const t of e){for(const n of t.children)if(n.parent!==t)return!1;if(!uU(t.children))return!1}return!0}function mc(e,t){let n=!1;for(const r of t)n=e.optimize(r)||n;return n}function Ife(e,t,n){let r=e.sources,i=!1;return i=mc(new U9t,r)||i,i=mc(new j9t(t),r)||i,r=r.filter(o=>o.numChildren()>0),i=mc(new W9t,r)||i,r=r.filter(o=>o.numChildren()>0),n||(i=mc(new H9t,r)||i,i=mc(new Y9t(t),r)||i,i=mc(new z9t,r)||i,i=mc(new V9t,r)||i,i=mc(new G9t,r)||i,i=mc(new q9t,r)||i,i=mc(new B9t,r)||i,i=mc(new K9t,r)||i),e.sources=r,i}function Z9t(e,t){uU(e.sources);let n=0,r=0;for(let i=0;i<q3&&Ife(e,t,!0);i++)n++;e.sources.map(aU);for(let i=0;i<q3&&Ife(e,t,!1);i++)r++;uU(e.sources),Math.max(n,r)===q3&&Qe(`Maximum optimization runs(${q3}) reached.`)}class Eo{constructor(t){Object.defineProperty(this,"signal",{enumerable:!0,get:t})}static fromName(t,n){return new Eo(()=>t(n))}}function aNe(e){ai(e)?ejt(e):tjt(e)}function ejt(e){const t=e.component.scales;for(const n of qe(t)){const r=rjt(e,n);if(t[n].setWithExplicit("domains",r),ojt(e,n),e.component.data.isFaceted){let o=e;for(;!Ql(o)&&o.parent;)o=o.parent;if(o.component.resolve.scale[n]==="shared")for(const a of r.value)Wf(a)&&(a.data=lU+a.data.replace(lU,""))}}}function tjt(e){for(const n of e.children)aNe(n);const t=e.component.scales;for(const n of qe(t)){let r,i=null;for(const o of e.children){const s=o.component.scales[n];if(s){r===void 0?r=s.getWithExplicit("domains"):r=Wg(r,s.getWithExplicit("domains"),"domains","scale",cU);const a=s.get("selectionExtent");i&&a&&i.param!==a.param&&Qe(LLt),i=a}}t[n].setWithExplicit("domains",r),i&&t[n].set("selectionExtent",i,!0)}}function njt(e,t,n,r){if(e==="unaggregated"){const{valid:i,reason:o}=Rfe(t,n);if(!i){Qe(o);return}}else if(e===void 0&&r.useUnaggregatedDomain){const{valid:i}=Rfe(t,n);if(i)return"unaggregated"}return e}function rjt(e,t){const n=e.getScaleComponent(t).get("type"),{encoding:r}=e,i=njt(e.scaleDomain(t),e.typedFieldDef(t),n,e.config.scale);return i!==e.scaleDomain(t)&&(e.specifiedScales[t]={...e.specifiedScales[t],domain:i}),t==="x"&&so(r.x2)?so(r.x)?Wg(fm(n,i,e,"x"),fm(n,i,e,"x2"),"domain","scale",cU):fm(n,i,e,"x2"):t==="y"&&so(r.y2)?so(r.y)?Wg(fm(n,i,e,"y"),fm(n,i,e,"y2"),"domain","scale",cU):fm(n,i,e,"y2"):fm(n,i,e,t)}function ijt(e,t,n){return e.map(r=>({signal:`{data: ${kL(r,{timeUnit:n,type:t})}}`}))}function xB(e,t,n){var i;const r=(i=Do(n))==null?void 0:i.unit;return t==="temporal"||r?ijt(e,t,r):[e]}function fm(e,t,n,r){const{encoding:i,markDef:o,mark:s,config:a,stack:l}=n,u=so(i[r]),{type:c}=u,d=u.timeUnit,h=z6t({invalid:Mh("invalid",o,a),isPath:E0(s)});if(uFt(t)){const m=fm(e,void 0,n,r),g=xB(t.unionWith,c,d);return jd([...g,...m.value])}else{if(Ot(t))return jd([t]);if(t&&t!=="unaggregated"&&!GDe(t))return jd(xB(t,c,d))}if(l&&r===l.fieldChannel){if(l.offset==="normalize")return Pl([[0,1]]);const m=n.requestDataName(h);return Pl([{data:m,field:n.vgField(r,{suffix:"start"})},{data:m,field:n.vgField(r,{suffix:"end"})}])}const f=tf(r)&&et(u)?sjt(n,r,e):void 0;if(nf(u)){const m=xB([u.datum],c,d);return Pl(m)}const p=u;if(t==="unaggregated"){const{field:m}=u;return Pl([{data:n.requestDataName(h),field:pt({field:m,aggregate:"min"})},{data:n.requestDataName(h),field:pt({field:m,aggregate:"max"})}])}else if(Fr(p.bin)){if(No(e))return Pl(e==="bin-ordinal"?[]:[{data:oA(f)?n.requestDataName(h):n.requestDataName(ui.Raw),field:n.vgField(r,Z2(p,r)?{binSuffix:"range"}:{}),sort:f===!0||!wt(f)?{field:n.vgField(r,{}),op:"min"}:f}]);{const{bin:m}=p;if(Fr(m)){const g=uZ(n,p.field,m);return Pl([new Eo(()=>{const y=n.getSignalName(g);return`[${y}.start, ${y}.stop]`})])}else return Pl([{data:n.requestDataName(h),field:n.vgField(r,{})}])}}else if(p.timeUnit&&An(["time","utc"],e)){const m=i[ef(r)];if(uMe(p,m,o,a)){const g=n.requestDataName(h),y=Vg({fieldDef:p,fieldDef2:m,markDef:o,config:a}),v=aA(s)&&y!==.5&&Bi(r);return Pl([{data:g,field:n.vgField(r,v?{suffix:PL}:{})},{data:g,field:n.vgField(r,{suffix:v?NL:"end"})}])}}return Pl(f?[{data:oA(f)?n.requestDataName(h):n.requestDataName(ui.Raw),field:n.vgField(r),sort:f}]:[{data:n.requestDataName(h),field:n.vgField(r)}])}function _B(e,t){const{op:n,field:r,order:i}=e;return{op:n??(t?"sum":SL),...r?{field:Ku(r)}:{},...i?{order:i}:{}}}function ojt(e,t){var a;const n=e.component.scales[t],r=e.specifiedScales[t].domain,i=(a=e.fieldDef(t))==null?void 0:a.bin,o=GDe(r)?r:void 0,s=wb(i)&&gL(i.extent)?i.extent:void 0;(o||s)&&n.set("selectionExtent",o??s,!0)}function sjt(e,t,n){if(!No(n))return;const r=e.fieldDef(t),i=r.sort;if(aMe(i))return{op:"min",field:Tx(r,t),order:"ascending"};const{stack:o}=e,s=o?new Set([...o.groupbyFields,...o.stackBy.map(a=>a.fieldDef.field)]):void 0;if(ip(i)){const a=o&&!s.has(i.field);return _B(i,a)}else if(zFt(i)){const{encoding:a,order:l}=i,u=e.fieldDef(a),{aggregate:c,field:d}=u,h=o&&!s.has(d);if(Rp(c)||_0(c))return _B({field:pt(u),order:l},h);if(lJ(c)||!c)return _B({op:c,field:d,order:l},h)}else{if(i==="descending")return{op:"min",field:e.vgField(t),order:"descending"};if(An(["ascending",void 0],i))return!0}}function Rfe(e,t){const{aggregate:n,type:r}=e;return n?xt(n)&&!wLt.has(n)?{valid:!1,reason:h4t(n)}:r==="quantitative"&&t==="log"?{valid:!1,reason:f4t(e)}:{valid:!0}:{valid:!1,reason:d4t(e)}}function cU(e,t,n,r){return e.explicit&&t.explicit&&Qe(v4t(n,r,e.value,t.value)),{explicit:e.explicit,value:[...e.value,...t.value]}}function ajt(e){const t=Zd(e.map(s=>{if(Wf(s)){const{sort:a,...l}=s;return l}return s}),On),n=Zd(e.map(s=>{if(Wf(s)){const a=s.sort;return a!==void 0&&!oA(a)&&("op"in a&&a.op==="count"&&delete a.field,a.order==="ascending"&&delete a.order),a}}).filter(s=>s!==void 0),On);if(t.length===0)return;if(t.length===1){const s=e[0];if(Wf(s)&&n.length>0){let a=n[0];if(n.length>1){Qe(Dhe);const l=n.filter(u=>wt(u)&&"op"in u&&u.op!=="min");n.every(u=>wt(u)&&"op"in u)&&l.length===1?a=l[0]:a=!0}else if(wt(a)&&"field"in a){const l=a.field;s.field===l&&(a=a.order?{order:a.order}:!0)}return{...s,sort:a}}return s}const r=Zd(n.map(s=>oA(s)||!("op"in s)||xt(s.op)&&Tt(gLt,s.op)?s:(Qe(w4t(s)),!0)),On);let i;r.length===1?i=r[0]:r.length>1&&(Qe(Dhe),i=!0);const o=Zd(e.map(s=>Wf(s)?s.data:null),s=>s);return o.length===1&&o[0]!==null?{data:o[0],fields:t.map(a=>a.field),...i?{sort:i}:{}}:{fields:t,...i?{sort:i}:{}}}function fZ(e){if(Wf(e)&&xt(e.field))return e.field;if(xLt(e)){let t;for(const n of e.fields)if(Wf(n)&&xt(n.field)){if(!t)t=n.field;else if(t!==n.field)return Qe(x4t),t}return Qe(_4t),t}else if(_Lt(e)){Qe(E4t);const t=e.fields[0];return xt(t)?t:void 0}}function VL(e,t){const r=e.component.scales[t].get("domains").map(i=>(Wf(i)&&(i.data=e.lookupDataSource(i.data)),i));return ajt(r)}function lNe(e){return W_(e)||pZ(e)?e.children.reduce((t,n)=>t.concat(lNe(n)),$fe(e)):$fe(e)}function $fe(e){return qe(e.component.scales).reduce((t,n)=>{const r=e.component.scales[n];if(r.merged)return t;const i=r.combine(),{name:o,type:s,selectionExtent:a,domains:l,range:u,reverse:c,...d}=i,h=ljt(i.range,o,n,e),f=VL(e,n),p=a?J6t(e,a,r,f):null;return t.push({name:o,type:s,...f?{domain:f}:{},...p?{domainRaw:p}:{},range:h,...c!==void 0?{reverse:c}:{},...d}),t},[])}function ljt(e,t,n,r){if(Bi(n)){if(xb(e))return{step:{signal:`${t}_step`}}}else if(wt(e)&&Wf(e))return{...e,data:r.lookupDataSource(e.data)};return e}class uNe extends Zp{constructor(t,n){super({},{name:t}),this.merged=!1,this.setWithExplicit("type",n)}domainHasZero(){const t=this.get("type");if(An([ns.LOG,ns.TIME,ns.UTC],t))return"definitely-not";const n=this.get("zero");if(n===!0||n===void 0&&An([ns.LINEAR,ns.SQRT,ns.POW],t))return"definitely";const r=this.get("domains");if(r.length>0){let i=!1,o=!1,s=!1;for(const a of r){if(Pe(a)){const l=a[0],u=a[a.length-1];if(er(l)&&er(u))if(l<=0&&u>=0){i=!0;continue}else{o=!0;continue}}s=!0}if(i)return"definitely";if(o&&!s)return"definitely-not"}return"maybe"}}const ujt=["range","scheme"];function cjt(e){const t=e.component.scales;for(const n of aJ){const r=t[n];if(!r)continue;const i=djt(n,e);r.setWithExplicit("range",i)}}function Dfe(e,t){const n=e.fieldDef(t);if(n!=null&&n.bin){const{bin:r,field:i}=n,o=Sl(t),s=e.getName(o);if(wt(r)&&r.binned&&r.step!==void 0)return new Eo(()=>{const a=e.scaleName(t),l=`(domain("${a}")[1] - domain("${a}")[0]) / ${r.step}`;return`${e.getSignalName(s)} / (${l})`});if(Fr(r)){const a=uZ(e,i,r);return new Eo(()=>{const l=e.getSignalName(a),u=`(${l}.stop - ${l}.start) / ${l}.step`;return`${e.getSignalName(s)} / (${u})`})}}}function djt(e,t){const n=t.specifiedScales[e],{size:r}=t,o=t.getScaleComponent(e).get("type");for(const d of ujt)if(n[d]!==void 0){const h=Uz(o,d),f=YDe(e,d);if(!h)Qe(ADe(o,d,e));else if(f)Qe(f);else switch(d){case"range":{const p=n.range;if(Pe(p)){if(Bi(e))return jd(p.map(m=>{if(m==="width"||m==="height"){const g=t.getName(m),y=t.getSignalName.bind(t);return Eo.fromName(y,g)}return m}))}else if(wt(p))return jd({data:t.requestDataName(ui.Main),field:p.field,sort:{op:"min",field:t.vgField(e)}});return jd(p)}case"scheme":return jd(hjt(n[d]))}}const s=e===ri||e==="xOffset"?"width":"height",a=r[s];if(Nh(a)){if(Bi(e))if(No(o)){const d=dNe(a,t,e);if(d)return jd({step:d})}else Qe(kDe(s));else if(q2(e)){const d=e===g0?"x":"y";if(t.getScaleComponent(d).get("type")==="band"){const p=hNe(a,o);if(p)return jd(p)}}}const{rangeMin:l,rangeMax:u}=n,c=fjt(e,t);return(l!==void 0||u!==void 0)&&Uz(o,"rangeMin")&&Pe(c)&&c.length===2?jd([l??c[0],u??c[1]]):Pl(c)}function hjt(e){return lFt(e)?{scheme:e.name,...gl(e,["name"])}:{scheme:e}}function cNe(e,t,n,{center:r}={}){const i=Sl(e),o=t.getName(i),s=t.getSignalName.bind(t);return e===Bo&&ad(n)?r?[Eo.fromName(a=>`${s(a)}/2`,o),Eo.fromName(a=>`-${s(a)}/2`,o)]:[Eo.fromName(s,o),0]:r?[Eo.fromName(a=>`-${s(a)}/2`,o),Eo.fromName(a=>`${s(a)}/2`,o)]:[0,Eo.fromName(s,o)]}function fjt(e,t){const{size:n,config:r,mark:i,encoding:o}=t,{type:s}=so(o[e]),l=t.getScaleComponent(e).get("type"),{domain:u,domainMid:c}=t.specifiedScales[e];switch(e){case ri:case Bo:{if(An(["point","band"],l)){const d=fNe(e,n,r.view);if(Nh(d))return{step:dNe(d,t,e)}}return cNe(e,t,l)}case g0:case B_:return pjt(e,t,l);case Kp:{const d=yjt(i,r),h=vjt(i,n,t,r);return vx(l)?gjt(d,h,mjt(l,r,u,e)):[d,h]}case oc:return[0,Math.PI*2];case vb:return[0,360];case vd:return[0,new Eo(()=>{const d=t.getSignalName(Ql(t.parent)?"child_width":"width"),h=t.getSignalName(Ql(t.parent)?"child_height":"height");return`min(${d},${h})/2`})];case y0:return{step:1e3/r.scale.framesPerSecond};case w0:return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case x0:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case El:return"symbol";case _l:case Jh:case Zh:return l==="ordinal"?s==="nominal"?"category":"ordinal":c!==void 0?"diverging":i==="rect"||i==="geoshape"?"heatmap":"ramp";case Xp:case v0:case b0:return[r.scale.minOpacity,r.scale.maxOpacity]}}function dNe(e,t,n){const{encoding:r}=t,i=t.getScaleComponent(n),o=rJ(n),s=r[o];if(zMe({step:e,offsetIsDiscrete:cn(s)&&UDe(s.type)})==="offset"&&xMe(r,o)){const l=t.getScaleComponent(o);let c=`domain('${t.scaleName(o)}').length`;if(l.get("type")==="band"){const h=l.get("paddingInner")??l.get("padding")??0,f=l.get("paddingOuter")??l.get("padding")??0;c=`bandspace(${c}, ${h}, ${f})`}const d=i.get("paddingInner")??i.get("padding");return{signal:`${e.step} * ${c} / (1-${CLt(d)})`}}else return e.step}function hNe(e,t){if(zMe({step:e,offsetIsDiscrete:No(t)})==="offset")return{step:e.step}}function pjt(e,t,n){const r=e===g0?"x":"y",i=t.getScaleComponent(r);if(!i)return cNe(r,t,n,{center:!0});const o=i.get("type"),s=t.scaleName(r),{markDef:a,config:l}=t;if(o==="band"){const u=fNe(r,t.size,t.config.view);if(Nh(u)){const c=hNe(u,n);if(c)return c}return[0,{signal:`bandwidth('${s}')`}]}else{const u=t.encoding[r];if(et(u)&&u.timeUnit){const c=FDe(u.timeUnit,p=>`scale('${s}', ${p})`),d=t.config.scale.bandWithNestedOffsetPaddingInner,h=Vg({fieldDef:u,markDef:a,config:l})-.5,f=h!==0?` + ${h}`:"";if(d){const p=Ot(d)?`${d.signal}/2`+f:`${d/2+h}`,m=Ot(d)?`(1 - ${d.signal}/2)`+f:`${1-d/2+h}`;return[{signal:`${p} * (${c})`},{signal:`${m} * (${c})`}]}return[0,{signal:c}]}return K$e(`Cannot use ${e} scale if ${r} scale is not discrete.`)}}function fNe(e,t,n){const r=e===ri?"width":"height",i=t[r];return i||PM(n,r)}function mjt(e,t,n,r){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return n!==void 0&&Pe(n)?n.length+1:(Qe(D4t(r)),3)}}function gjt(e,t,n){const r=()=>{const i=Uc(t),o=Uc(e),s=`(${i} - ${o}) / (${n} - 1)`;return`sequence(${o}, ${i} + ${s}, ${s})`};return Ot(t)?new Eo(r):{signal:r()}}function yjt(e,t){switch(e){case"bar":case"tick":return t.scale.minBandSize;case"line":case"trail":case"rule":return t.scale.minStrokeWidth;case"text":return t.scale.minFontSize;case"point":case"square":case"circle":return t.scale.minSize}throw new Error(yL("size",e))}const Mfe=.95;function vjt(e,t,n,r){const i={x:Dfe(n,"x"),y:Dfe(n,"y")};switch(e){case"bar":case"tick":{if(r.scale.maxBandSize!==void 0)return r.scale.maxBandSize;const o=Pfe(t,i,r.view);return er(o)?o-1:new Eo(()=>`${o.signal} - 1`)}case"line":case"trail":case"rule":return r.scale.maxStrokeWidth;case"text":return r.scale.maxFontSize;case"point":case"square":case"circle":{if(r.scale.maxSize)return r.scale.maxSize;const o=Pfe(t,i,r.view);return er(o)?Math.pow(Mfe*o,2):new Eo(()=>`pow(${Mfe} * ${o.signal}, 2)`)}}throw new Error(yL("size",e))}function Pfe(e,t,n){const r=Nh(e.width)?e.width.step:qz(n,"width"),i=Nh(e.height)?e.height.step:qz(n,"height");return t.x||t.y?new Eo(()=>`min(${[t.x?t.x.signal:r,t.y?t.y.signal:i].join(", ")})`):Math.min(r,i)}function pNe(e,t){ai(e)?bjt(e,t):gNe(e,t)}function bjt(e,t){const n=e.component.scales,{config:r,encoding:i,markDef:o,specifiedScales:s}=e;for(const a of qe(n)){const l=s[a],u=n[a],c=e.getScaleComponent(a),d=so(i[a]),h=l[t],f=c.get("type"),p=c.get("padding"),m=c.get("paddingInner"),g=Uz(f,t),y=YDe(a,t);if(h!==void 0&&(g?y&&Qe(y):Qe(ADe(f,t,a))),g&&y===void 0)if(h!==void 0){const v=d.timeUnit,b=d.type;switch(t){case"domainMax":case"domainMin":_b(l[t])||b==="temporal"||v?u.set(t,{signal:kL(l[t],{type:b,timeUnit:v})},!0):u.set(t,l[t],!0);break;default:u.copyKeyFromObject(t,l)}}else{const v=Ye(Nfe,t)?Nfe[t]({model:e,channel:a,fieldOrDatumDef:d,scaleType:f,scalePadding:p,scalePaddingInner:m,domain:l.domain,domainMin:l.domainMin,domainMax:l.domainMax,markDef:o,config:r,hasNestedOffsetScale:_Me(i,a),hasSecondaryRangeChannel:!!i[ef(a)]}):r.scale[t];v!==void 0&&u.set(t,v,!1)}}}const Nfe={bins:({model:e,fieldOrDatumDef:t})=>et(t)?wjt(e,t):void 0,interpolate:({channel:e,fieldOrDatumDef:t})=>xjt(e,t.type),nice:({scaleType:e,channel:t,domain:n,domainMin:r,domainMax:i,fieldOrDatumDef:o})=>_jt(e,t,n,r,i,o),padding:({channel:e,scaleType:t,fieldOrDatumDef:n,markDef:r,config:i})=>Ejt(e,t,i.scale,n,r,i.bar),paddingInner:({scalePadding:e,channel:t,markDef:n,scaleType:r,config:i,hasNestedOffsetScale:o})=>Sjt(e,t,n.type,r,i.scale,o),paddingOuter:({scalePadding:e,channel:t,scaleType:n,scalePaddingInner:r,config:i,hasNestedOffsetScale:o})=>Tjt(e,t,n,r,i.scale,o),reverse:({fieldOrDatumDef:e,scaleType:t,channel:n,config:r})=>{const i=et(e)?e.sort:void 0;return Cjt(t,i,n,r.scale)},zero:({channel:e,fieldOrDatumDef:t,domain:n,markDef:r,scaleType:i,config:o,hasSecondaryRangeChannel:s})=>Ajt(e,t,n,r,i,o.scale,s)};function mNe(e){ai(e)?cjt(e):gNe(e,"range")}function gNe(e,t){const n=e.component.scales;for(const r of e.children)t==="range"?mNe(r):pNe(r,t);for(const r of qe(n)){let i;for(const o of e.children){const s=o.component.scales[r];if(s){const a=s.getWithExplicit(t);i=Wg(i,a,t,"scale",ePe((l,u)=>{switch(t){case"range":return l.step&&u.step?l.step-u.step:0}return 0}))}}n[r].setWithExplicit(t,i)}}function wjt(e,t){const n=t.bin;if(Fr(n)){const r=uZ(e,t.field,n);return new Eo(()=>e.getSignalName(r))}else if(Jo(n)&&wb(n)&&n.step!==void 0)return{step:n.step}}function xjt(e,t){if(An([_l,Jh,Zh],e)&&t!=="nominal")return"hcl"}function _jt(e,t,n,r,i,o){var s;if(!((s=ud(o))!=null&&s.bin||Pe(n)||i!=null||r!=null||An([ns.TIME,ns.UTC],e)))return Bi(t)?!0:void 0}function Ejt(e,t,n,r,i,o){if(Bi(e)){if(eh(t)){if(n.continuousPadding!==void 0)return n.continuousPadding;const{type:s,orient:a}=i;if(s==="bar"&&!(et(r)&&(r.bin||r.timeUnit))&&(a==="vertical"&&e==="x"||a==="horizontal"&&e==="y"))return o.continuousBandSize}if(t===ns.POINT)return n.pointPadding}}function Sjt(e,t,n,r,i,o=!1){if(e===void 0){if(Bi(t)){const{bandPaddingInner:s,barBandPaddingInner:a,rectBandPaddingInner:l,tickBandPaddingInner:u,bandWithNestedOffsetPaddingInner:c}=i;return o?c:Fi(s,n==="bar"?a:n==="tick"?u:l)}else if(q2(t)&&r===ns.BAND)return i.offsetBandPaddingInner}}function Tjt(e,t,n,r,i,o=!1){if(e===void 0){if(Bi(t)){const{bandPaddingOuter:s,bandWithNestedOffsetPaddingOuter:a}=i;if(o)return a;if(n===ns.BAND)return Fi(s,Ot(r)?{signal:`${r.signal}/2`}:r/2)}else if(q2(t)){if(n===ns.POINT)return .5;if(n===ns.BAND)return i.offsetBandPaddingOuter}}}function Cjt(e,t,n,r){if(n==="x"&&r.xReverse!==void 0)return ad(e)&&t==="descending"?Ot(r.xReverse)?{signal:`!${r.xReverse.signal}`}:!r.xReverse:r.xReverse;if(ad(e)&&t==="descending")return!0}function Ajt(e,t,n,r,i,o,s){if(!!n&&n!=="unaggregated"&&ad(i)){if(Pe(n)){const l=n[0],u=n[n.length-1];if(er(l)&&l<=0&&er(u)&&u>=0)return!0}return!1}if(e==="size"&&t.type==="quantitative"&&!vx(i))return!0;if(!(et(t)&&t.bin)&&An([...Qp,...aLt],e)){const{orient:l,type:u}=r;return An(["bar","area","line","trail"],u)&&(l==="horizontal"&&e==="y"||l==="vertical"&&e==="x")?!1:An(["bar","area"],u)&&!s?!0:o==null?void 0:o.zero}return!1}function kjt(e,t,n,r,i=!1){const o=Ijt(t,n,r,i),{type:s}=e;return tf(t)?s!==void 0?mFt(t,s)?et(n)&&!pFt(s,n.type)?(Qe(g4t(s,o)),o):s:(Qe(m4t(t,s,o)),o):o:null}function Ijt(e,t,n,r){var i;switch(t.type){case"nominal":case"ordinal":{if(gw(e)||aB(e)==="discrete")return e==="shape"&&t.type==="ordinal"&&Qe(lB(e,"ordinal")),"ordinal";if(sB(e))return"band";if(Bi(e)||q2(e)){if(An(["rect","bar","image","rule","tick"],n.type)||r)return"band"}else if(n.type==="arc"&&e in sJ)return"band";const o=n[Sl(e)];return kv(o)||wx(t)&&((i=t.axis)!=null&&i.tickBand)?"band":"point"}case"temporal":return gw(e)?"time":aB(e)==="discrete"?(Qe(lB(e,"temporal")),"ordinal"):et(t)&&t.timeUnit&&Do(t.timeUnit).utc?"utc":sB(e)?"band":"time";case"quantitative":return gw(e)?et(t)&&Fr(t.bin)?"bin-ordinal":"linear":aB(e)==="discrete"?(Qe(lB(e,"quantitative")),"ordinal"):sB(e)?"band":"linear";case"geojson":return}throw new Error(TDe(t.type))}function Rjt(e,{ignoreRange:t}={}){yNe(e),aNe(e);for(const n of fFt)pNe(e,n);t||mNe(e)}function yNe(e){ai(e)?e.component.scales=$jt(e):e.component.scales=Mjt(e)}function $jt(e){const{encoding:t,mark:n,markDef:r}=e,i={};for(const o of aJ){const s=so(t[o]);if(s&&n===QDe&&o===El&&s.type===j_)continue;let a=s&&s.scale;if(s&&a!==null&&a!==!1){a??(a={});const l=_Me(t,o),u=kjt(a,o,s,r,l);i[o]=new uNe(e.scaleName(`${o}`,!0),{value:u,explicit:a.type===u})}}return i}const Djt=ePe((e,t)=>Phe(e)-Phe(t));function Mjt(e){var t;const n=e.component.scales={},r={},i=e.component.resolve;for(const o of e.children){yNe(o);for(const s of qe(o.component.scales))if((t=i.scale)[s]??(t[s]=YPe(s,e)),i.scale[s]==="shared"){const a=r[s],l=o.component.scales[s].getWithExplicit("type");a?rFt(a.value,l.value)?r[s]=Wg(a,l,"type","scale",Djt):(i.scale[s]="independent",delete r[s]):r[s]=l}}for(const o of qe(r)){const s=e.scaleName(o,!0),a=r[o];n[o]=new uNe(s,a);for(const l of e.children){const u=l.component.scales[o];u&&(l.renameScale(u.get("name"),s),u.merged=!0)}}return n}class EB{constructor(){this.nameMap={}}rename(t,n){this.nameMap[t]=n}has(t){return this.nameMap[t]!==void 0}get(t){for(;this.nameMap[t]&&t!==this.nameMap[t];)t=this.nameMap[t];return t}}function ai(e){return(e==null?void 0:e.type)==="unit"}function Ql(e){return(e==null?void 0:e.type)==="facet"}function pZ(e){return(e==null?void 0:e.type)==="concat"}function W_(e){return(e==null?void 0:e.type)==="layer"}class mZ{constructor(t,n,r,i,o,s,a){this.type=n,this.parent=r,this.config=o,this.parent=r,this.config=o,this.view=es(a),this.name=t.name??i,this.title=xm(t.title)?{text:t.title}:t.title?es(t.title):void 0,this.scaleNameMap=r?r.scaleNameMap:new EB,this.projectionNameMap=r?r.projectionNameMap:new EB,this.signalNameMap=r?r.signalNameMap:new EB,this.data=t.data,this.description=t.description,this.transforms=I6t(t.transform??[]),this.layout=n==="layer"||n==="unit"?{}:M5t(t,n,o),this.component={data:{sources:r?r.component.data.sources:[],outputNodes:r?r.component.data.outputNodes:{},outputNodeRefCounts:r?r.component.data.outputNodeRefCounts:{},isFaceted:TL(t)||(r==null?void 0:r.component.data.isFaceted)&&t.data===void 0},layoutSize:new Zp,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:{scale:{},axis:{},legend:{},...s?sn(s):{}},selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){Rjt(this)}parseProjection(){iNe(this)}renameTopLevelLayoutSizeSignal(){this.getName("width")!=="width"&&this.renameSignal(this.getName("width"),"width"),this.getName("height")!=="height"&&this.renameSignal(this.getName("height"),"height")}parseLegends(){ZPe(this)}assembleEncodeFromView(t){const{style:n,...r}=t,i={};for(const o of qe(r)){const s=r[o];s!==void 0&&(i[o]=Wr(s))}return i}assembleGroupEncodeEntry(t){let n={};return this.view&&(n=this.assembleEncodeFromView(this.view)),!t&&(this.description&&(n.description=Wr(this.description)),this.type==="unit"||this.type==="layer")?{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height"),...n}:xr(n)?void 0:n}assembleLayout(){if(!this.layout)return;const{spacing:t,...n}=this.layout,{component:r,config:i}=this,o=Z8t(r.layoutHeaders,i);return{padding:t,...this.assembleDefaultLayout(),...n,...o?{titleBand:o}:{}}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const{layoutHeaders:t}=this.component;let n=[];for(const r of Mu)t[r].title&&n.push(G8t(this,r));for(const r of oZ)n=n.concat(Y8t(this,r));return n}assembleAxes(){return P8t(this.component.axes,this.config)}assembleLegends(){return tNe(this)}assembleProjections(){return _9t(this)}assembleTitle(){const{encoding:t,...n}=this.title??{},r={...gDe(this.config.title).nonMarkTitleProperties,...n,...t?{encode:{update:t}}:{}};if(r.text)return An(["unit","layer"],this.type)?An(["middle",void 0],r.anchor)&&(r.frame??(r.frame="group")):r.anchor??(r.anchor="start"),xr(r)?void 0:r}assembleGroup(t=[]){const n={};t=t.concat(this.assembleSignals()),t.length>0&&(n.signals=t);const r=this.assembleLayout();r&&(n.layout=r),n.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());const i=!this.parent||Ql(this.parent)?lNe(this):[];i.length>0&&(n.scales=i);const o=this.assembleAxes();o.length>0&&(n.axes=o);const s=this.assembleLegends();return s.length>0&&(n.legends=s),n}getName(t){return ti((this.name?`${this.name}_`:"")+t)}getDataName(t){return this.getName(ui[t].toLowerCase())}requestDataName(t){const n=this.getDataName(t),r=this.component.data.outputNodeRefCounts;return r[n]=(r[n]||0)+1,n}getSizeSignalRef(t){if(Ql(this.parent)){const n=qPe(t),r=pL(n),i=this.component.scales[r];if(i&&!i.merged){const o=i.get("type"),s=i.get("range");if(No(o)&&xb(s)){const a=i.get("name"),l=VL(this,r),u=fZ(l);if(u){const c=pt({aggregate:"distinct",field:u},{expr:"datum"});return{signal:WPe(a,i,c)}}else return Qe(cJ(r)),null}}}return{signal:this.signalNameMap.get(this.getName(t))}}lookupDataSource(t){const n=this.component.data.outputNodes[t];return n?n.getSource():t}getSignalName(t){return this.signalNameMap.get(t)}renameSignal(t,n){this.signalNameMap.rename(t,n)}renameScale(t,n){this.scaleNameMap.rename(t,n)}renameProjection(t,n){this.projectionNameMap.rename(t,n)}scaleName(t,n){if(n)return this.getName(t);if(lDe(t)&&tf(t)&&this.component.scales[t]||this.scaleNameMap.has(this.getName(t)))return this.scaleNameMap.get(this.getName(t))}projectionName(t){if(t)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(t){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const n=this.component.scales[t];return n&&!n.merged?n:this.parent?this.parent.getScaleComponent(t):void 0}getScaleType(t){const n=this.getScaleComponent(t);return n?n.get("type"):void 0}getSelectionComponent(t,n){let r=this.component.selection[t];if(!r&&this.parent&&(r=this.parent.getSelectionComponent(t,n)),!r)throw new Error($Lt(n));return r}hasAxisOrientSignalRef(){var t,n;return((t=this.component.axes.x)==null?void 0:t.some(r=>r.hasOrientSignalRef()))||((n=this.component.axes.y)==null?void 0:n.some(r=>r.hasOrientSignalRef()))}}class vNe extends mZ{vgField(t,n={}){const r=this.fieldDef(t);if(r)return pt(r,n)}reduceFieldDef(t,n){return l5t(this.getMapping(),(r,i,o)=>{const s=ud(i);return s?t(r,s,o):r},n)}forEachFieldDef(t,n){FJ(this.getMapping(),(r,i)=>{const o=ud(r);o&&t(o,i)},n)}}class WL extends gr{clone(){return new WL(null,sn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=sn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"value",r[1]??"density"];const i=this.transform.resolve??"shared";this.transform.resolve=i}dependentFields(){return new Set([this.transform.density,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${On(this.transform)}`}assemble(){const{density:t,...n}=this.transform,r={type:"kde",field:t,...n};return r.resolve=this.transform.resolve,r}}class qL extends gr{clone(){return new qL(null,sn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=sn(n)}dependentFields(){return new Set([this.transform.extent])}producedFields(){return new Set([])}hash(){return`ExtentTransform ${On(this.transform)}`}assemble(){const{extent:t,param:n}=this.transform;return{type:"extent",field:t,signal:n}}}class GL extends gr{clone(){return new GL(this.parent,sn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=sn(n);const{flatten:r,as:i=[]}=this.transform;this.transform.as=r.map((o,s)=>i[s]??o)}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${On(this.transform)}`}assemble(){const{flatten:t,as:n}=this.transform;return{type:"flatten",fields:t,as:n}}}class YL extends gr{clone(){return new YL(null,sn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=sn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"key",r[1]??"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${On(this.transform)}`}assemble(){const{fold:t,as:n}=this.transform;return{type:"fold",fields:t,as:n}}}class bw extends gr{clone(){return new bw(null,sn(this.fields),this.geojson,this.signal)}static parseAll(t,n){if(n.component.projection&&!n.component.projection.isFit)return t;let r=0;for(const i of[[wd,bd],[Xu,xd]]){const o=i.map(s=>{const a=so(n.encoding[s]);return et(a)?a.field:nf(a)?{expr:`${a.datum}`}:ld(a)?{expr:`${a.value}`}:void 0});(o[0]||o[1])&&(t=new bw(t,o,null,n.getName(`geojson_${r++}`)))}if(n.channelHasField(El)){const i=n.typedFieldDef(El);i.type===j_&&(t=new bw(t,null,i.field,n.getName(`geojson_${r++}`)))}return t}constructor(t,n,r,i){super(t),this.fields=n,this.geojson=r,this.signal=i}dependentFields(){const t=(this.fields??[]).filter(xt);return new Set([...this.geojson?[this.geojson]:[],...t])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${On(this.fields)}`}assemble(){return[...this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[],{type:"geojson",...this.fields?{fields:this.fields}:{},...this.geojson?{geojson:this.geojson}:{},signal:this.signal}]}}class dA extends gr{clone(){return new dA(null,this.projection,sn(this.fields),sn(this.as))}constructor(t,n,r,i){super(t),this.projection=n,this.fields=r,this.as=i}static parseAll(t,n){if(!n.projectionName())return t;for(const r of[[wd,bd],[Xu,xd]]){const i=r.map(s=>{const a=so(n.encoding[s]);return et(a)?a.field:nf(a)?{expr:`${a.datum}`}:ld(a)?{expr:`${a.value}`}:void 0}),o=r[0]===Xu?"2":"";(i[0]||i[1])&&(t=new dA(t,n.projectionName(),i,[n.getName(`x${o}`),n.getName(`y${o}`)]))}return t}dependentFields(){return new Set(this.fields.filter(xt))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${On(this.fields)} ${On(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class Vy extends gr{clone(){return new Vy(null,sn(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set([this.transform.impute,this.transform.key,...this.transform.groupby??[]])}producedFields(){return new Set([this.transform.impute])}processSequence(t){const{start:n=0,stop:r,step:i}=t;return{signal:`sequence(${[n,r,...i?[i]:[]].join(",")})`}}static makeFromTransform(t,n){return new Vy(t,n)}static makeFromEncoding(t,n){const r=n.encoding,i=r.x,o=r.y;if(et(i)&&et(o)){const s=i.impute?i:o.impute?o:void 0;if(s===void 0)return;const a=i.impute?o:o.impute?i:void 0,{method:l,value:u,frame:c,keyvals:d}=s.impute,h=TMe(n.mark,r);return new Vy(t,{impute:s.field,key:a.field,...l?{method:l}:{},...u!==void 0?{value:u}:{},...c?{frame:c}:{},...d!==void 0?{keyvals:d}:{},...h.length?{groupby:h}:{}})}return null}hash(){return`Impute ${On(this.transform)}`}assemble(){const{impute:t,key:n,keyvals:r,method:i,groupby:o,value:s,frame:a=[null,null]}=this.transform,l={type:"impute",field:t,key:n,...r?{keyvals:c6t(r)?this.processSequence(r):r}:{},method:"value",...o?{groupby:o}:{},value:!i||i==="value"?s:null};if(i&&i!=="value"){const u={type:"window",as:[`imputed_${t}_value`],ops:[i],fields:[t],frame:a,ignorePeers:!1,...o?{groupby:o}:{}},c={type:"formula",expr:`datum.${t} === null ? datum.imputed_${t}_value : datum.${t}`,as:t};return[l,u,c]}else return[l]}}class KL extends gr{clone(){return new KL(null,sn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=sn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??n.on,r[1]??n.loess]}dependentFields(){return new Set([this.transform.loess,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${On(this.transform)}`}assemble(){const{loess:t,on:n,...r}=this.transform;return{type:"loess",x:n,y:t,...r}}}class hA extends gr{clone(){return new hA(null,sn(this.transform),this.secondary)}constructor(t,n,r){super(t),this.transform=n,this.secondary=r}static make(t,n,r,i){const o=n.component.data.sources,{from:s}=r;let a=null;if(d6t(s)){let l=xNe(s.data,o);l||(l=new Pv(s.data),o.push(l));const u=n.getName(`lookup_${i}`);a=new yl(l,u,ui.Lookup,n.component.data.outputNodeRefCounts),n.component.data.outputNodes[u]=a}else if(h6t(s)){const l=s.param;r={as:l,...r};let u;try{u=n.getSelectionComponent(ti(l),l)}catch{throw new Error(NLt(l))}if(a=u.materialized,!a)throw new Error(OLt(l))}return new hA(t,r,a.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?_t(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${On({transform:this.transform,secondary:this.secondary})}`}assemble(){let t;if(this.transform.from.fields)t={values:this.transform.from.fields,...this.transform.as?{as:_t(this.transform.as)}:{}};else{let n=this.transform.as;xt(n)||(Qe(GLt),n="_lookup"),t={as:[n]}}return{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup],...t,...this.transform.default?{default:this.transform.default}:{}}}}class XL extends gr{clone(){return new XL(null,sn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=sn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"prob",r[1]??"value"]}dependentFields(){return new Set([this.transform.quantile,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${On(this.transform)}`}assemble(){const{quantile:t,...n}=this.transform;return{type:"quantile",field:t,...n}}}class QL extends gr{clone(){return new QL(null,sn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=sn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??n.on,r[1]??n.regression]}dependentFields(){return new Set([this.transform.regression,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${On(this.transform)}`}assemble(){const{regression:t,on:n,...r}=this.transform;return{type:"regression",x:n,y:t,...r}}}class JL extends gr{clone(){return new JL(null,sn(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=Zd((this.transform.groupby??[]).concat(t),n=>n)}producedFields(){}dependentFields(){return new Set([this.transform.pivot,this.transform.value,...this.transform.groupby??[]])}hash(){return`PivotTransform ${On(this.transform)}`}assemble(){const{pivot:t,value:n,groupby:r,limit:i,op:o}=this.transform;return{type:"pivot",field:t,value:n,...i!==void 0?{limit:i}:{},...o!==void 0?{op:o}:{},...r!==void 0?{groupby:r}:{}}}}class ZL extends gr{clone(){return new ZL(null,sn(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${On(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}function bNe(e){let t=0;function n(r,i){if(r instanceof Pv&&!r.isGenerator&&!_x(r.data)&&(e.push(i),i={name:null,source:i.name,transform:[]}),r instanceof Xs&&(r.parent instanceof Pv&&!i.source?(i.format={...i.format,parse:r.assembleFormatParse()},i.transform.push(...r.assembleTransforms(!0))):i.transform.push(...r.assembleTransforms())),r instanceof H_){i.name||(i.name=`data_${t++}`),!i.source||i.transform.length>0?(e.push(i),r.data=i.name):r.data=i.source,e.push(...r.assemble());return}switch((r instanceof ok||r instanceof sk||r instanceof Ax||r instanceof U_||r instanceof Sx||r instanceof dA||r instanceof Jc||r instanceof hA||r instanceof V_||r instanceof Ab||r instanceof YL||r instanceof GL||r instanceof WL||r instanceof KL||r instanceof XL||r instanceof QL||r instanceof qg||r instanceof ZL||r instanceof JL||r instanceof qL)&&i.transform.push(r.assemble()),(r instanceof wh||r instanceof vh||r instanceof Vy||r instanceof sp||r instanceof bw)&&i.transform.push(...r.assemble()),r instanceof yl&&(i.source&&i.transform.length===0?r.setSource(i.source):r.parent instanceof yl?r.setSource(i.name):(i.name||(i.name=`data_${t++}`),r.setSource(i.name),r.numChildren()===1&&(e.push(i),i={name:null,source:i.name,transform:[]}))),r.numChildren()){case 0:r instanceof yl&&(!i.source||i.transform.length>0)&&e.push(i);break;case 1:n(r.children[0],i);break;default:{i.name||(i.name=`data_${t++}`);let o=i.name;!i.source||i.transform.length>0?e.push(i):o=i.source;for(const s of r.children)n(s,{name:null,source:o,transform:[]});break}}}return n}function Pjt(e){const t=[],n=bNe(t);for(const r of e.children)n(r,{source:e.name,name:null,transform:[]});return t}function Njt(e,t){const n=[],r=bNe(n);let i=0;for(const s of e.sources){s.hasName()||(s.dataName=`source_${i++}`);const a=s.assemble();r(s,a)}for(const s of n)s.transform.length===0&&delete s.transform;let o=0;for(const[s,a]of n.entries())(a.transform??[]).length===0&&!a.source&&n.splice(o++,0,n.splice(s,1)[0]);for(const s of n)for(const a of s.transform??[])a.type==="lookup"&&(a.from=e.outputNodes[a.from].getSource());for(const s of n)s.name in t&&(s.values=t[s.name]);return n}function Ojt(e){return e==="top"||e==="left"||Ot(e)?"header":"footer"}function Ljt(e){for(const t of Mu)Fjt(e,t);Ofe(e,"x"),Ofe(e,"y")}function Fjt(e,t){var s;const{facet:n,config:r,child:i,component:o}=e;if(e.channelHasField(t)){const a=n[t],l=Cx("title",null,r,t);let u=yw(a,r,{allowDisabling:!0,includeDefault:l===void 0||!!l});i.component.layoutHeaders[t].title&&(u=Pe(u)?u.join(", "):u,u+=` / ${i.component.layoutHeaders[t].title}`,i.component.layoutHeaders[t].title=null);const c=Cx("labelOrient",a.header,r,t),d=a.header!==null?Fi((s=a.header)==null?void 0:s.labels,r.header.labels,!0):!1,h=An(["bottom","right"],c)?"footer":"header";o.layoutHeaders[t]={title:a.header!==null?u:null,facetFieldDef:a,[h]:t==="facet"?[]:[wNe(e,t,d)]}}}function wNe(e,t,n){const r=t==="row"?"height":"width";return{labels:n,sizeSignal:e.child.component.layoutSize.get(r)?e.child.getSizeSignalRef(r):void 0,axes:[]}}function Ofe(e,t){const{child:n}=e;if(n.component.axes[t]){const{layoutHeaders:r,resolve:i}=e.component;if(i.axis[t]=lZ(i,t),i.axis[t]==="shared"){const o=t==="x"?"column":"row",s=r[o];for(const a of n.component.axes[t]){const l=Ojt(a.get("orient"));s[l]??(s[l]=[wNe(e,o,!1)]);const u=PS(a,"main",e.config,{header:!0});u&&s[l][0].axes.push(u),a.mainExtracted=!0}}}}function Bjt(e){gZ(e),BM(e,"width"),BM(e,"height")}function jjt(e){gZ(e);const t=e.layout.columns===1?"width":"childWidth",n=e.layout.columns===void 0?"height":"childHeight";BM(e,t),BM(e,n)}function gZ(e){for(const t of e.children)t.parseLayoutSize()}function BM(e,t){const n=qPe(t),r=pL(n),i=e.component.resolve,o=e.component.layoutSize;let s;for(const a of e.children){const l=a.component.layoutSize.getWithExplicit(n),u=i.scale[r]??YPe(r,e);if(u==="independent"&&l.value==="step"){s=void 0;break}if(s){if(u==="independent"&&s.value!==l.value){s=void 0;break}s=Wg(s,l,n,"")}else s=l}if(s){for(const a of e.children)e.renameSignal(a.getName(n),e.getName(t)),a.component.layoutSize.set(n,"merged",!1);o.setWithExplicit(t,s)}else o.setWithExplicit(t,{explicit:!1,value:void 0})}function zjt(e){const{size:t,component:n}=e;for(const r of Qp){const i=Sl(r);if(t[i]){const o=t[i];n.layoutSize.set(i,Nh(o)?"step":o,!0)}else{const o=Ujt(e,i);n.layoutSize.set(i,o,!1)}}}function Ujt(e,t){const n=t==="width"?"x":"y",r=e.config,i=e.getScaleComponent(n);if(i){const o=i.get("type"),s=i.get("range");if(No(o)){const a=PM(r.view,t);return xb(s)||Nh(a)?"step":a}else return Wz(r.view,t)}else{if(e.hasProjection||e.mark==="arc")return Wz(r.view,t);{const o=PM(r.view,t);return Nh(o)?o.step:o}}}function dU(e,t,n){return pt(t,{suffix:`by_${pt(e)}`,...n})}class RT extends vNe{constructor(t,n,r,i){super(t,"facet",n,r,i,t.resolve),this.child=xZ(t.spec,this,this.getName("child"),void 0,i),this.children=[this.child],this.facet=this.initFacet(t.facet)}initFacet(t){if(!X2(t))return{facet:this.initFacetFieldDef(t,"facet")};const n=qe(t),r={};for(const i of n){if(![np,rp].includes(i)){Qe(yL(i,"facet"));break}const o=t[i];if(o.field===void 0){Qe(jz(o,i));break}r[i]=this.initFacetFieldDef(o,i)}return r}initFacetFieldDef(t,n){const r=LJ(t,n);return r.header?r.header=es(r.header):r.header===null&&(r.header=null),r}channelHasField(t){return Ye(this.facet,t)}fieldDef(t){return this.facet[t]}parseData(){this.component.data=e4(this),this.child.parseData()}parseLayoutSize(){gZ(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection,Object.values(this.component.selection).some(t=>bh(t))&&hJ(dJ)}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),Ljt(this)}assembleSelectionTopLevelSignals(t){return this.child.assembleSelectionTopLevelSignals(t)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(t){return this.child.assembleSelectionData(t)}getHeaderLayoutMixins(){const t={};for(const n of Mu)for(const r of sZ){const i=this.component.layoutHeaders[n],o=i[r],{facetFieldDef:s}=i;if(s){const a=Cx("titleOrient",s.header,this.config,n);if(["right","bottom"].includes(a)){const l=UL(n,a);t.titleAnchor??(t.titleAnchor={}),t.titleAnchor[l]="end"}}if(o!=null&&o[0]){const a=n==="row"?"height":"width",l=r==="header"?"headerBand":"footerBand";n!=="facet"&&!this.child.component.layoutSize.get(a)&&(t[l]??(t[l]={}),t[l][n]=.5),i.title&&(t.offset??(t.offset={}),t.offset[n==="row"?"rowTitle":"columnTitle"]=10)}}return t}assembleDefaultLayout(){const{column:t,row:n}=this.facet,r=t?this.columnDistinctSignal():n?1:void 0;let i="all";return(!n&&this.component.resolve.scale.x==="independent"||!t&&this.component.resolve.scale.y==="independent")&&(i="none"),{...this.getHeaderLayoutMixins(),...r?{columns:r}:{},bounds:"full",align:i}}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof RT))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(t){return this.parent&&this.parent instanceof RT?{...this.channelHasField("column")?{encode:{update:{columns:{field:pt(this.facet.column,{prefix:"distinct"})}}}}:{},...super.assembleGroup(t)}:super.assembleGroup(t)}getCardinalityAggregateForChild(){const t=[],n=[],r=[];if(this.child instanceof RT){if(this.child.channelHasField("column")){const i=pt(this.child.facet.column);t.push(i),n.push("distinct"),r.push(`distinct_${i}`)}}else for(const i of Qp){const o=this.child.component.scales[i];if(o&&!o.merged){const s=o.get("type"),a=o.get("range");if(No(s)&&xb(a)){const l=VL(this.child,i),u=fZ(l);u?(t.push(u),n.push("distinct"),r.push(`distinct_${u}`)):Qe(cJ(i))}}}return{fields:t,ops:n,as:r}}assembleFacet(){const{name:t,data:n}=this.component.data.facetRoot,{row:r,column:i}=this.facet,{fields:o,ops:s,as:a}=this.getCardinalityAggregateForChild(),l=[];for(const c of Mu){const d=this.facet[c];if(d){l.push(pt(d));const{bin:h,sort:f}=d;if(Fr(h)&&l.push(pt(d,{binSuffix:"end"})),ip(f)){const{field:p,op:m=SL}=f,g=dU(d,f);r&&i?(o.push(g),s.push("max"),a.push(g)):(o.push(p),s.push(m),a.push(g))}else if(Pe(f)){const p=Tx(d,c);o.push(p),s.push("max"),a.push(p)}}}const u=!!r&&!!i;return{name:t,data:n,groupby:l,...u||o.length>0?{aggregate:{...u?{cross:u}:{},...o.length?{fields:o,ops:s,as:a}:{}}}:{}}}facetSortFields(t){const{facet:n}=this,r=n[t];return r?ip(r.sort)?[dU(r,r.sort,{expr:"datum"})]:Pe(r.sort)?[Tx(r,t,{expr:"datum"})]:[pt(r,{expr:"datum"})]:[]}facetSortOrder(t){const{facet:n}=this,r=n[t];if(r){const{sort:i}=r;return[(ip(i)?i.order:!Pe(i)&&i)||"ascending"]}return[]}assembleLabelTitle(){var i;const{facet:t,config:n}=this;if(t.facet)return iU(t.facet,"facet",n);const r={row:["top","bottom"],column:["left","right"]};for(const o of oZ)if(t[o]){const s=Cx("labelOrient",(i=t[o])==null?void 0:i.header,n,o);if(r[o].includes(s))return iU(t[o],o,n)}}assembleMarks(){const{child:t}=this,n=this.component.data.facetRoot,r=Pjt(n),i=t.assembleGroupEncodeEntry(!1),o=this.assembleLabelTitle()||t.assembleTitle(),s=t.assembleGroupStyle();return[{name:this.getName("cell"),type:"group",...o?{title:o}:{},...s?{style:s}:{},from:{facet:this.assembleFacet()},sort:{field:Mu.map(l=>this.facetSortFields(l)).flat(),order:Mu.map(l=>this.facetSortOrder(l)).flat()},...r.length>0?{data:r}:{},...i?{encode:{update:i}}:{},...t.assembleGroup(Y6t(this,[]))}]}getMapping(){return this.facet}}function Hjt(e,t){const{row:n,column:r}=t;if(n&&r){let i=null;for(const o of[n,r])if(ip(o.sort)){const{field:s,op:a=SL}=o.sort;e=i=new Ab(e,{joinaggregate:[{op:a,field:s,as:dU(o,o.sort,{forAs:!0})}],groupby:[pt(o)]})}return i}return null}function xNe(e,t){var n,r,i,o;for(const s of t){const a=s.data;if(e.name&&s.hasName()&&e.name!==s.dataName)continue;const l=(n=e.format)==null?void 0:n.mesh,u=(r=a.format)==null?void 0:r.feature;if(l&&u)continue;const c=(i=e.format)==null?void 0:i.feature;if((c||u)&&c!==u)continue;const d=(o=a.format)==null?void 0:o.mesh;if(!((l||d)&&l!==d)){if(lA(e)&&lA(a)){if(Hl(e.values,a.values))return s}else if(_x(e)&&_x(a)){if(e.url===a.url)return s}else if(tPe(e)&&e.name===s.dataName)return s}}return null}function Vjt(e,t){if(e.data||!e.parent){if(e.data===null){const r=new Pv({values:[]});return t.push(r),r}const n=xNe(e.data,t);if(n)return pg(e.data)||(n.data.format=X$e({},e.data.format,n.data.format)),!n.hasName()&&e.data.name&&(n.dataName=e.data.name),n;{const r=new Pv(e.data);return t.push(r),r}}else return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}function Wjt(e,t,n){let r=0;for(const i of t.transforms){let o,s;if(_6t(i))s=e=new Sx(e,i),o="derived";else if(KJ(i)){const a=N9t(i);s=e=Xs.makeWithAncestors(e,{},a,n)??e,e=new U_(e,t,i.filter)}else if(XMe(i))s=e=wh.makeFromTransform(e,i,t),o="number";else if(S6t(i))o="date",n.getWithExplicit(i.field).value===void 0&&(e=new Xs(e,{[i.field]:o}),n.set(i.field,o,!1)),s=e=vh.makeFromTransform(e,i);else if(T6t(i))s=e=Jc.makeFromTransform(e,i),o="number",tZ(t)&&(e=new qg(e));else if(KMe(i))s=e=hA.make(e,t,i,r++),o="derived";else if(b6t(i))s=e=new V_(e,i),o="number";else if(w6t(i))s=e=new Ab(e,i),o="number";else if(C6t(i))s=e=sp.makeFromTransform(e,i),o="derived";else if(A6t(i))s=e=new YL(e,i),o="derived";else if(k6t(i))s=e=new qL(e,i),o="derived";else if(x6t(i))s=e=new GL(e,i),o="derived";else if(f6t(i))s=e=new JL(e,i),o="derived";else if(v6t(i))e=new ZL(e,i);else if(E6t(i))s=e=Vy.makeFromTransform(e,i),o="derived";else if(p6t(i))s=e=new WL(e,i),o="derived";else if(m6t(i))s=e=new XL(e,i),o="derived";else if(g6t(i))s=e=new QL(e,i),o="derived";else if(y6t(i))s=e=new KL(e,i),o="derived";else{Qe(qLt(i));continue}if(s&&o!==void 0)for(const a of s.producedFields()??[])n.set(a,o,!1)}return e}function e4(e){var g;let t=Vjt(e,e.component.data.sources);const{outputNodes:n,outputNodeRefCounts:r}=e.component.data,i=e.data,s=!(i&&(pg(i)||_x(i)||lA(i)))&&e.parent?e.parent.component.data.ancestorParse.clone():new j6t;pg(i)?(nPe(i)?t=new sk(t,i.sequence):XJ(i)&&(t=new ok(t,i.graticule)),s.parseNothing=!0):((g=i==null?void 0:i.format)==null?void 0:g.parse)===null&&(s.parseNothing=!0),t=Xs.makeExplicit(t,e,s)??t,t=new qg(t);const a=e.parent&&W_(e.parent);(ai(e)||Ql(e))&&a&&(t=wh.makeFromEncoding(t,e)??t),e.transforms.length>0&&(t=Wjt(t,e,s));const l=L9t(e),u=O9t(e);t=Xs.makeWithAncestors(t,{},{...l,...u},s)??t,ai(e)&&(t=bw.parseAll(t,e),t=dA.parseAll(t,e)),(ai(e)||Ql(e))&&(a||(t=wh.makeFromEncoding(t,e)??t),t=vh.makeFromEncoding(t,e)??t,t=Sx.parseAllForSortIndex(t,e));const c=t=G3(ui.Raw,e,t);if(ai(e)){const y=Jc.makeFromEncoding(t,e);y&&(t=y,tZ(e)&&(t=new qg(t))),t=Vy.makeFromEncoding(t,e)??t,t=sp.makeFromEncoding(t,e)??t}let d,h;if(ai(e)){const{markDef:y,mark:v,config:b}=e,_=wr("invalid",y,b),{marks:x,scales:w}=h=iPe({invalid:_,isPath:E0(v)});x!==w&&w==="include-invalid-values"&&(d=t=G3(ui.PreFilterInvalid,e,t)),x==="exclude-invalid-values"&&(t=Ax.make(t,e,h)??t)}const f=t=G3(ui.Main,e,t);let p;if(ai(e)&&h){const{marks:y,scales:v}=h;y==="include-invalid-values"&&v==="exclude-invalid-values"&&(t=Ax.make(t,e,h)??t,p=t=G3(ui.PostFilterInvalid,e,t))}ai(e)&&D8t(e,f);let m=null;if(Ql(e)){const y=e.getName("facet");t=Hjt(t,e.facet)??t,m=new H_(t,e,y,f.getSource()),n[y]=m}return{...e.component.data,outputNodes:n,outputNodeRefCounts:r,raw:c,main:f,facetRoot:m,ancestorParse:s,preFilterInvalid:d,postFilterInvalid:p}}function G3(e,t,n){const{outputNodes:r,outputNodeRefCounts:i}=t.component.data,o=t.getDataName(e),s=new yl(n,o,e,i);return r[o]=s,s}class qjt extends mZ{constructor(t,n,r,i){var o,s,a,l;super(t,"concat",n,r,i,t.resolve),(((s=(o=t.resolve)==null?void 0:o.axis)==null?void 0:s.x)==="shared"||((l=(a=t.resolve)==null?void 0:a.axis)==null?void 0:l.y)==="shared")&&Qe(HLt),this.children=this.getChildren(t).map((u,c)=>xZ(u,this,this.getName(`concat_${c}`),void 0,i))}parseData(){this.component.data=e4(this);for(const t of this.children)t.parseData()}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of qe(t.component.selection))this.component.selection[n]=t.component.selection[n]}Object.values(this.component.selection).some(t=>bh(t))&&hJ(dJ)}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){for(const t of this.children)t.parseAxesAndHeaders()}getChildren(t){return $L(t)?t.vconcat:GJ(t)?t.hconcat:t.concat}parseLayoutSize(){jjt(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.forEach(t=>t.assembleSignals()),[]}assembleLayoutSignals(){const t=aZ(this);for(const n of this.children)t.push(...n.assembleLayoutSignals());return t}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleMarks(){return this.children.map(t=>{const n=t.assembleTitle(),r=t.assembleGroupStyle(),i=t.assembleGroupEncodeEntry(!1);return{type:"group",name:t.getName("group"),...n?{title:n}:{},...r?{style:r}:{},...i?{encode:{update:i}}:{},...t.assembleGroup()}})}assembleGroupStyle(){}assembleDefaultLayout(){const t=this.layout.columns;return{...t!=null?{columns:t}:{},bounds:"full",align:"each"}}}function Gjt(e){return e===!1||e===null}const Yjt={disable:1,gridScale:1,scale:1,...bMe,labelExpr:1,encode:1},_Ne=qe(Yjt);class yZ extends Zp{constructor(t={},n={},r=!1){super(),this.explicit=t,this.implicit=n,this.mainExtracted=r}clone(){return new yZ(sn(this.explicit),sn(this.implicit),this.mainExtracted)}hasAxisPart(t){return t==="axis"?!0:t==="grid"||t==="title"?!!this.get(t):!Gjt(this.get(t))}hasOrientSignalRef(){return Ot(this.explicit.orient)}}function Kjt(e,t,n){const{encoding:r,config:i}=e,o=so(r[t])??so(r[ef(t)]),s=e.axis(t)||{},{format:a,formatType:l}=s;if(Iv(l))return{text:Hc({fieldOrDatumDef:o,field:"datum.value",format:a,formatType:l,config:i}),...n};if(a===void 0&&l===void 0&&i.customFormatTypes){if(bx(o)==="quantitative"){if(wx(o)&&o.stack==="normalize"&&i.normalizedNumberFormatType)return{text:Hc({fieldOrDatumDef:o,field:"datum.value",format:i.normalizedNumberFormat,formatType:i.normalizedNumberFormatType,config:i}),...n};if(i.numberFormatType)return{text:Hc({fieldOrDatumDef:o,field:"datum.value",format:i.numberFormat,formatType:i.numberFormatType,config:i}),...n}}if(bx(o)==="temporal"&&i.timeFormatType&&et(o)&&!o.timeUnit)return{text:Hc({fieldOrDatumDef:o,field:"datum.value",format:i.timeFormat,formatType:i.timeFormatType,config:i}),...n}}return n}function Xjt(e){return Qp.reduce((t,n)=>(e.component.scales[n]&&(t[n]=[r7t(n,e)]),t),{})}const Qjt={bottom:"top",top:"bottom",left:"right",right:"left"};function Jjt(e){const{axes:t,resolve:n}=e.component,r={top:0,bottom:0,right:0,left:0};for(const i of e.children){i.parseAxesAndHeaders();for(const o of qe(i.component.axes))n.axis[o]=lZ(e.component.resolve,o),n.axis[o]==="shared"&&(t[o]=Zjt(t[o],i.component.axes[o]),t[o]||(n.axis[o]="independent",delete t[o]))}for(const i of Qp){for(const o of e.children)if(o.component.axes[i]){if(n.axis[i]==="independent"){t[i]=(t[i]??[]).concat(o.component.axes[i]);for(const s of o.component.axes[i]){const{value:a,explicit:l}=s.getWithExplicit("orient");if(!Ot(a)){if(r[a]>0&&!l){const u=Qjt[a];r[a]>r[u]&&s.set("orient",u,!1)}r[a]++}}}delete o.component.axes[i]}if(n.axis[i]==="independent"&&t[i]&&t[i].length>1)for(const[o,s]of(t[i]||[]).entries())o>0&&s.get("grid")&&!s.explicit.grid&&(s.implicit.grid=!1)}}function Zjt(e,t){if(e){if(e.length!==t.length)return;const n=e.length;for(let r=0;r<n;r++){const i=e[r],o=t[r];if(!!i!=!!o)return;if(i&&o){const s=i.getWithExplicit("orient"),a=o.getWithExplicit("orient");if(s.explicit&&a.explicit&&s.value!==a.value)return;e[r]=e7t(i,o)}}}else return t.map(n=>n.clone());return e}function e7t(e,t){for(const n of _Ne){const r=Wg(e.getWithExplicit(n),t.getWithExplicit(n),n,"axis",(i,o)=>{switch(n){case"title":return EDe(i,o);case"gridScale":return{explicit:i.explicit,value:Fi(i.value,o.value)}}return ML(i,o,n,"axis")});e.setWithExplicit(n,r)}return e}function t7t(e,t,n,r,i){if(t==="disable")return n!==void 0;switch(n=n||{},t){case"titleAngle":case"labelAngle":return e===(Ot(n.labelAngle)?n.labelAngle:sA(n.labelAngle));case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(e===zPe(r,i))return!0}return e===n[t]}const n7t=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function r7t(e,t){var y,v;let n=t.axis(e);const r=new yZ,i=so(t.encoding[e]),{mark:o,config:s}=t,a=(n==null?void 0:n.orient)||((y=s[e==="x"?"axisX":"axisY"])==null?void 0:y.orient)||((v=s.axis)==null?void 0:v.orient)||U8t(e),l=t.getScaleComponent(e).get("type"),u=N8t(e,l,a,t.config),c=n!==void 0?!n:nU("disable",s.style,n==null?void 0:n.style,u).configValue;if(r.set("disable",c,n!==void 0),c)return r;n=n||{};const d=B8t(i,n,e,s.style,u),h=oMe(n.formatType,i,l),f=iMe(i,i.type,n.format,n.formatType,s,!0),p={fieldOrDatumDef:i,axis:n,channel:e,model:t,scaleType:l,orient:a,labelAngle:d,format:f,formatType:h,mark:o,config:s};for(const b of _Ne){const _=b in xfe?xfe[b](p):zhe(b)?n[b]:void 0,x=_!==void 0,w=t7t(_,b,n,t,e);if(x&&w)r.set(b,_,w);else{const{configValue:E=void 0,configFrom:S=void 0}=zhe(b)&&b!=="values"?nU(b,s.style,n.style,u):{},T=E!==void 0;x&&!T?r.set(b,_,w):(S!=="vgAxisConfig"||n7t.has(b)&&T||ek(E)||Ot(E))&&r.set(b,E,!1)}}const m=n.encoding??{},g=vMe.reduce((b,_)=>{if(!r.hasAxisPart(_))return b;const x=GPe(m[_]??{},t),w=_==="labels"?Kjt(t,e,x):x;return w!==void 0&&!xr(w)&&(b[_]={update:w}),b},{});return xr(g)||r.set("encode",g,!!n.encoding||n.labelAngle!==void 0),r}function i7t({encoding:e,size:t}){for(const n of Qp){const r=Sl(n);Nh(t[r])&&Wm(e[n])&&(delete t[r],Qe(kDe(r)))}return t}const o7t={vgMark:"arc",encodeEntry:e=>({...sc(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...ka("x",e,{defaultPos:"mid"}),...ka("y",e,{defaultPos:"mid"}),...$p(e,"radius"),...$p(e,"theta")})},s7t={vgMark:"area",encodeEntry:e=>({...sc(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),...NM("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="horizontal"}),...NM("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="vertical"}),...eZ(e)})},a7t={vgMark:"rect",encodeEntry:e=>({...sc(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...$p(e,"x"),...$p(e,"y")})},l7t={vgMark:"shape",encodeEntry:e=>({...sc(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})}),postEncodingTransform:e=>{const{encoding:t}=e,n=t.shape;return[{type:"geoshape",projection:e.projectionName(),...n&&et(n)&&n.type===j_?{field:pt(n,{expr:"datum"})}:{}}]}},u7t={vgMark:"image",encodeEntry:e=>({...sc(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),...$p(e,"x"),...$p(e,"y"),...JJ(e,"url")})},c7t={vgMark:"line",encodeEntry:e=>({...sc(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...ka("x",e,{defaultPos:"mid"}),...ka("y",e,{defaultPos:"mid"}),...ss("size",e,{vgChannel:"strokeWidth"}),...eZ(e)})},d7t={vgMark:"trail",encodeEntry:e=>({...sc(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...ka("x",e,{defaultPos:"mid"}),...ka("y",e,{defaultPos:"mid"}),...ss("size",e),...eZ(e)})};function vZ(e,t){const{config:n}=e;return{...sc(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...ka("x",e,{defaultPos:"mid"}),...ka("y",e,{defaultPos:"mid"}),...ss("size",e),...ss("angle",e),...h7t(e,n,t)}}function h7t(e,t,n){return n?{shape:{value:n}}:ss("shape",e)}const f7t={vgMark:"symbol",encodeEntry:e=>vZ(e)},p7t={vgMark:"symbol",encodeEntry:e=>vZ(e,"circle")},m7t={vgMark:"symbol",encodeEntry:e=>vZ(e,"square")},g7t={vgMark:"rect",encodeEntry:e=>({...sc(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...$p(e,"x"),...$p(e,"y")})},y7t={vgMark:"rule",encodeEntry:e=>{const{markDef:t}=e,n=t.orient;return!e.encoding.x&&!e.encoding.y&&!e.encoding.latitude&&!e.encoding.longitude?{}:{...sc(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...NM("x",e,{defaultPos:n==="horizontal"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="vertical"}),...NM("y",e,{defaultPos:n==="vertical"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="horizontal"}),...ss("size",e,{vgChannel:"strokeWidth"})}}},v7t={vgMark:"text",encodeEntry:e=>{const{config:t,encoding:n}=e;return{...sc(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),...ka("x",e,{defaultPos:"mid"}),...ka("y",e,{defaultPos:"mid"}),...JJ(e),...ss("size",e,{vgChannel:"fontSize"}),...ss("angle",e),...cfe("align",b7t(e.markDef,n,t)),...cfe("baseline",w7t(e.markDef,n,t)),...ka("radius",e,{defaultPos:null}),...ka("theta",e,{defaultPos:null})}}};function b7t(e,t,n){if(wr("align",e,n)===void 0)return"center"}function w7t(e,t,n){if(wr("baseline",e,n)===void 0)return"middle"}const x7t={vgMark:"rect",encodeEntry:e=>{const{config:t,markDef:n}=e,r=n.orient,i=r==="horizontal"?"x":"y",o=r==="horizontal"?"y":"x",s=r==="horizontal"?"height":"width";return{...sc(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...$p(e,i),...ka(o,e,{defaultPos:"mid",vgChannel:o==="y"?"yc":"xc"}),[s]:Wr(wr("thickness",n,t))}}},Y3={arc:o7t,area:s7t,bar:a7t,circle:p7t,geoshape:l7t,image:u7t,line:c7t,point:f7t,rect:g7t,rule:y7t,square:m7t,text:v7t,tick:x7t,trail:d7t};function _7t(e){if(An([_L,wL,bFt],e.mark)){const t=TMe(e.mark,e.encoding);if(t.length>0)return E7t(e,t)}else if(e.mark===xL){const t=Fz.some(n=>wr(n,e.markDef,e.config));if(e.stack&&!e.fieldDef("size")&&t)return S7t(e)}return bZ(e)}const Lfe="faceted_path_";function E7t(e,t){return[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:Lfe+e.requestDataName(ui.Main),data:e.requestDataName(ui.Main),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:bZ(e,{fromPrefix:Lfe})}]}const Ffe="stack_group_";function S7t(e){var u;const[t]=bZ(e,{fromPrefix:Ffe}),n=e.scaleName(e.stack.fieldChannel),r=(c={})=>e.vgField(e.stack.fieldChannel,c),i=(c,d)=>{const h=[r({prefix:"min",suffix:"start",expr:d}),r({prefix:"max",suffix:"start",expr:d}),r({prefix:"min",suffix:"end",expr:d}),r({prefix:"max",suffix:"end",expr:d})];return`${c}(${h.map(f=>`scale('${n}',${f})`).join(",")})`};let o,s;e.stack.fieldChannel==="x"?(o={...fx(t.encode.update,["y","yc","y2","height",...Fz]),x:{signal:i("min","datum")},x2:{signal:i("max","datum")},clip:{value:!0}},s={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},t.encode.update={...gl(t.encode.update,["y","yc","y2"]),height:{field:{group:"height"}}}):(o={...fx(t.encode.update,["x","xc","x2","width"]),y:{signal:i("min","datum")},y2:{signal:i("max","datum")},clip:{value:!0}},s={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},t.encode.update={...gl(t.encode.update,["x","xc","x2"]),width:{field:{group:"width"}}});for(const c of Fz){const d=Mh(c,e.markDef,e.config);t.encode.update[c]?(o[c]=t.encode.update[c],delete t.encode.update[c]):d&&(o[c]=Wr(d)),d&&(t.encode.update[c]={value:0})}const a=[];if(((u=e.stack.groupbyChannels)==null?void 0:u.length)>0)for(const c of e.stack.groupbyChannels){const d=e.fieldDef(c),h=pt(d);h&&a.push(h),(d!=null&&d.bin||d!=null&&d.timeUnit)&&a.push(pt(d,{binSuffix:"end"}))}return o=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((c,d)=>{if(t.encode.update[d])return{...c,[d]:t.encode.update[d]};{const h=Mh(d,e.markDef,e.config);return h!==void 0?{...c,[d]:Wr(h)}:c}},o),o.stroke&&(o.strokeForeground={value:!0},o.strokeOffset={value:0}),[{type:"group",from:{facet:{data:e.requestDataName(ui.Main),name:Ffe+e.requestDataName(ui.Main),groupby:a,aggregate:{fields:[r({suffix:"start"}),r({suffix:"start"}),r({suffix:"end"}),r({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:o},marks:[{type:"group",encode:{update:s},marks:[t]}]}]}function T7t(e){const{encoding:t,stack:n,mark:r,markDef:i,config:o}=e,s=t.order;if(!(!Pe(s)&&ld(s)&&Oz(s.value)||!s&&Oz(wr("order",i,o)))){if((Pe(s)||et(s))&&!n)return wDe(s,{expr:"datum"});if(E0(r)){const a=i.orient==="horizontal"?"y":"x",l=t[a];if(et(l))return{field:a}}}}function bZ(e,t={fromPrefix:""}){const{mark:n,markDef:r,encoding:i,config:o}=e,s=Fi(r.clip,C7t(e),A7t(e)),a=vDe(r),l=i.key,u=T7t(e),c=k7t(e),d=wr("aria",r,o),h=Y3[n].postEncodingTransform?Y3[n].postEncodingTransform(e):null;return[{name:e.getName("marks"),type:Y3[n].vgMark,...s?{clip:s}:{},...a?{style:a}:{},...l?{key:l.field}:{},...u?{sort:u}:{},...c||{},...d===!1?{aria:d}:{},from:{data:t.fromPrefix+e.requestDataName(ui.Main)},encode:{update:Y3[n].encodeEntry(e)},...h?{transform:h}:{}}]}function C7t(e){const t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return t!=null&&t.get("selectionExtent")||n!=null&&n.get("selectionExtent")?!0:void 0}function A7t(e){const t=e.component.projection;return t&&!t.isFit?!0:void 0}function k7t(e){if(!e.component.selection)return null;const t=qe(e.component.selection).length;let n=t,r=e.parent;for(;r&&n===0;)n=qe(r.component.selection).length,r=r.parent;return n?{interactive:t>0||e.mark==="geoshape"||!!e.encoding.tooltip||!!e.markDef.tooltip}:null}class ENe extends vNe{constructor(t,n,r,i={},o){super(t,"unit",n,r,o,void 0,Hhe(t)?t.view:void 0),this.specifiedScales={},this.specifiedAxes={},this.specifiedLegends={},this.specifiedProjection={},this.selection=[],this.children=[],this.correctDataNames=u=>{var c,d,h;return(c=u.from)!=null&&c.data&&(u.from.data=this.lookupDataSource(u.from.data),"time"in this.encoding&&(u.from.data=u.from.data+sPe)),(h=(d=u.from)==null?void 0:d.facet)!=null&&h.data&&(u.from.facet.data=this.lookupDataSource(u.from.facet.data)),u};const s=Ph(t.mark)?{...t.mark}:{type:t.mark},a=s.type;s.filled===void 0&&(s.filled=n6t(s,o,{graticule:t.data&&XJ(t.data)}));const l=this.encoding=s5t(t.encoding||{},a,s.filled,o);this.markDef=qMe(s,l,o),this.size=i7t({encoding:l,size:Hhe(t)?{...i,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}}:i}),this.stack=WMe(this.markDef,l),this.specifiedScales=this.initScales(a,l),this.specifiedAxes=this.initAxes(l),this.specifiedLegends=this.initLegends(l),this.specifiedProjection=t.projection,this.selection=(t.params??[]).filter(u=>WJ(u))}get hasProjection(){const{encoding:t}=this,n=this.mark===QDe,r=t&&JOt.some(i=>cn(t[i]));return n||r}scaleDomain(t){const n=this.specifiedScales[t];return n?n.domain:void 0}axis(t){return this.specifiedAxes[t]}legend(t){return this.specifiedLegends[t]}initScales(t,n){return aJ.reduce((r,i)=>{const o=so(n[i]);return o&&(r[i]=this.initScale(o.scale??{})),r},{})}initScale(t){const{domain:n,range:r}=t,i=es(t);return Pe(n)&&(i.domain=n.map(Bl)),Pe(r)&&(i.range=r.map(Bl)),i}initAxes(t){return Qp.reduce((n,r)=>{const i=t[r];if(cn(i)||r===ri&&cn(t.x2)||r===Bo&&cn(t.y2)){const o=cn(i)?i.axis:void 0;n[r]=o&&this.initAxis({...o})}return n},{})}initAxis(t){const n=qe(t),r={};for(const i of n){const o=t[i];r[i]=ek(o)?yDe(o):Bl(o)}return r}initLegends(t){return uLt.reduce((n,r)=>{const i=so(t[r]);if(i&&dLt(r)){const o=i.legend;n[r]=o&&es(o)}return n},{})}parseData(){this.component.data=e4(this)}parseLayoutSize(){zjt(this)}parseSelections(){this.component.selection=$8t(this,this.selection)}parseMarkGroup(){this.component.mark=_7t(this)}parseAxesAndHeaders(){this.component.axes=Xjt(this)}assembleSelectionTopLevelSignals(t){return K6t(this,t)}assembleSignals(){return[...FPe(this),...G6t(this,[])]}assembleSelectionData(t){return X6t(this,t)}assembleLayout(){return null}assembleLayoutSignals(){return aZ(this)}assembleMarks(){let t=this.component.mark??[];return(!this.parent||!W_(this.parent))&&(t=cPe(this,t)),t.map(this.correctDataNames)}assembleGroupStyle(){const{style:t}=this.view||{};return t!==void 0?t:this.encoding.x||this.encoding.y?"cell":"view"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(t){return Uy(this.encoding,t)}fieldDef(t){const n=this.encoding[t];return ud(n)}typedFieldDef(t){const n=this.fieldDef(t);return Na(n)?n:null}}class wZ extends mZ{constructor(t,n,r,i,o){super(t,"layer",n,r,o,t.resolve,t.view);const s={...i,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}};this.children=t.layer.map((a,l)=>{if(DL(a))return new wZ(a,this,this.getName(`layer_${l}`),s,o);if(Jp(a))return new ENe(a,this,this.getName(`layer_${l}`),s,o);throw new Error(uJ(a))})}parseData(){this.component.data=e4(this);for(const t of this.children)t.parseData()}parseLayoutSize(){Bjt(this)}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of qe(t.component.selection))this.component.selection[n]=t.component.selection[n]}Object.values(this.component.selection).some(t=>bh(t))&&hJ(dJ)}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){Jjt(this)}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleSignals()),FPe(this))}assembleLayoutSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleLayoutSignals()),aZ(this))}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleGroupStyle(){const t=new Set;for(const r of this.children)for(const i of _t(r.assembleGroupStyle()))t.add(i);const n=Array.from(t);return n.length>1?n:n.length===1?n[0]:void 0}assembleTitle(){let t=super.assembleTitle();if(t)return t;for(const n of this.children)if(t=n.assembleTitle(),t)return t}assembleLayout(){return null}assembleMarks(){return Q6t(this,this.children.flatMap(t=>t.assembleMarks()))}assembleLegends(){return this.children.reduce((t,n)=>t.concat(n.assembleLegends()),tNe(this))}}function xZ(e,t,n,r,i){if(TL(e))return new RT(e,t,n,i);if(DL(e))return new wZ(e,t,n,r,i);if(Jp(e))return new ENe(e,t,n,r,i);if(R5t(e))return new qjt(e,t,n,i);throw new Error(uJ(e))}function I7t(e,t={}){t.logger&&M4t(t.logger),t.fieldTitle&&mMe(t.fieldTitle);try{const n=VMe(x_(t.config,e.config)),r=ZMe(e,n),i=xZ(r,null,"",void 0,n);return i.parse(),Z9t(i.component.data,i),{spec:$7t(i,R7t(e,r.autosize,n,i),e.datasets,e.usermeta),normalized:r}}finally{t.logger&&P4t(),t.fieldTitle&&QFt()}}function R7t(e,t,n,r){const i=r.component.layoutSize.get("width"),o=r.component.layoutSize.get("height");if(t===void 0?(t={type:"pad"},r.hasAxisOrientSignalRef()&&(t.resize=!0)):xt(t)&&(t={type:t}),i&&o&&L6t(t.type)){if(i==="step"&&o==="step")Qe(Ahe()),t.type="pad";else if(i==="step"||o==="step"){const s=i==="step"?"width":"height";Qe(Ahe(pL(s)));const a=s==="width"?"height":"width";t.type=F6t(a)}}return{...qe(t).length===1&&t.type?t.type==="pad"?{}:{autosize:t.type}:{autosize:t},...tfe(n,!1),...tfe(e,!0)}}function $7t(e,t,n={},r){const i=e.config?V5t(e.config):void 0,o=Njt(e.component.data,n),s=e.assembleSelectionData(o),a=e.assembleProjections(),l=e.assembleTitle(),u=e.assembleGroupStyle(),c=e.assembleGroupEncodeEntry(!0);let d=e.assembleLayoutSignals();d=d.filter(p=>(p.name==="width"||p.name==="height")&&p.value!==void 0?(t[p.name]=+p.value,!1):!0);const{params:h,...f}=t;return{$schema:"https://vega.github.io/schema/vega/v5.json",...e.description?{description:e.description}:{},...f,...l?{title:l}:{},...u?{style:u}:{},...c?{encode:{update:c}}:{},data:s,...a.length>0?{projections:a}:{},...e.assembleGroup([...d,...e.assembleSelectionTopLevelSignals([]),...jMe(h)]),...i?{config:i}:{},...r?{usermeta:r}:{}}}const D7t=qOt.version,M7t=Object.freeze(Object.defineProperty({__proto__:null,accessPathDepth:mx,accessPathWithDatum:ZQ,accessWithDatumToUnescapedPath:cr,compile:I7t,contains:An,deepEqual:Hl,deleteNestedProperty:TM,duplicate:sn,entries:Ug,every:XQ,fieldIntersection:JQ,flatAccessWithDatum:J$e,getFirstDefined:Fi,hasIntersection:QQ,hasProperty:Ye,hash:On,internalField:tDe,isBoolean:oA,isEmpty:xr,isEqual:YOt,isInternalField:nDe,isNullOrFalse:Oz,isNumeric:lL,keys:qe,logicalExpr:AT,mergeDeep:X$e,never:K$e,normalize:ZMe,normalizeAngle:sA,omit:gl,pick:fx,prefixGenerator:Lz,removePathFromField:F_,replaceAll:Ev,replacePathInField:Ku,resetIdCounter:XOt,setEqual:Q$e,some:px,stringify:_r,titleCase:H2,unique:Zd,uniqueId:eDe,vals:ps,varName:ti,version:D7t},Symbol.toStringTag,{value:"Module"}));function SNe(e){const[t,n]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:t,version:n}}var P7t="2.15.0",N7t={version:P7t};const r1="#fff",Bfe="#888",O7t={background:"#333",view:{stroke:Bfe},title:{color:r1,subtitleColor:r1},style:{"guide-label":{fill:r1},"guide-title":{fill:r1}},axis:{domainColor:r1,gridColor:Bfe,tickColor:r1}},O0="#4572a7",L7t={background:"#fff",arc:{fill:O0},area:{fill:O0},line:{stroke:O0,strokeWidth:2},path:{stroke:O0},rect:{fill:O0},shape:{stroke:O0},symbol:{fill:O0,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},L0="#30a2da",SB="#cbcbcb",F7t="#999",B7t="#333",jfe="#f0f0f0",zfe="#333",j7t={arc:{fill:L0},area:{fill:L0},axis:{domainColor:SB,grid:!0,gridColor:SB,gridWidth:1,labelColor:F7t,labelFontSize:10,titleColor:B7t,tickColor:SB,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:jfe,group:{fill:jfe},legend:{labelColor:zfe,labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:zfe,titleFontSize:14,titlePadding:10},line:{stroke:L0,strokeWidth:2},path:{stroke:L0,strokeWidth:.5},rect:{fill:L0},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:L0},bar:{binSpacing:2,fill:L0,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},F0="#000",z7t={group:{fill:"#e5e5e5"},arc:{fill:F0},area:{fill:F0},line:{stroke:F0},path:{stroke:F0},rect:{fill:F0},shape:{stroke:F0},symbol:{fill:F0,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},U7t=22,H7t="normal",Ufe="Benton Gothic, sans-serif",Hfe=11.5,V7t="normal",B0="#82c6df",TB="Benton Gothic Bold, sans-serif",Vfe="normal",Wfe=13,zE={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"]},W7t={background:"#ffffff",title:{anchor:"start",color:"#000000",font:TB,fontSize:U7t,fontWeight:H7t},arc:{fill:B0},area:{fill:B0},line:{stroke:B0,strokeWidth:2},path:{stroke:B0},rect:{fill:B0},shape:{stroke:B0},symbol:{fill:B0,size:30},axis:{labelFont:Ufe,labelFontSize:Hfe,labelFontWeight:V7t,titleFont:TB,titleFontSize:Wfe,titleFontWeight:Vfe},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:Ufe,labelFontSize:Hfe,symbolType:"square",titleFont:TB,titleFontSize:Wfe,titleFontWeight:Vfe},range:{category:zE["category-6"],diverging:zE["fireandice-6"],heatmap:zE["fire-7"],ordinal:zE["fire-7"],ramp:zE["fire-7"]}},j0="#ab5787",K3="#979797",q7t={background:"#f9f9f9",arc:{fill:j0},area:{fill:j0},line:{stroke:j0},path:{stroke:j0},rect:{fill:j0},shape:{stroke:j0},symbol:{fill:j0,size:30},axis:{domainColor:K3,domainWidth:.5,gridWidth:.2,labelColor:K3,tickColor:K3,tickWidth:.2,titleColor:K3},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},z0="#3e5c69",G7t={background:"#fff",arc:{fill:z0},area:{fill:z0},line:{stroke:z0},path:{stroke:z0},rect:{fill:z0},shape:{stroke:z0},symbol:{fill:z0},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},wu="#1696d2",qfe="#000000",Y7t="#FFFFFF",X3="Lato",CB="Lato",K7t="Lato",X7t="#DEDDDD",Q7t=18,UE={"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},J7t={background:Y7t,title:{anchor:"start",fontSize:Q7t,font:X3},axisX:{domain:!0,domainColor:qfe,domainWidth:1,grid:!1,labelFontSize:12,labelFont:CB,labelAngle:0,tickColor:qfe,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:X3},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:X7t,gridWidth:1,labelFontSize:12,labelFont:CB,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:X3,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:CB,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:X3,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:UE["six-groups-cat-1"],diverging:UE["diverging-colors"],heatmap:UE["diverging-colors"],ordinal:UE["six-groups-seq"],ramp:UE["shades-blue"]},area:{fill:wu},rect:{fill:wu},line:{color:wu,stroke:wu,strokeWidth:5},trail:{color:wu,stroke:wu,strokeWidth:0,size:1},path:{stroke:wu,strokeWidth:.5},point:{filled:!0},text:{font:K7t,color:wu,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:wu,stroke:null}},arc:{fill:wu},shape:{stroke:wu},symbol:{fill:wu,size:30}},U0="#3366CC",Gfe="#ccc",Q3="Arial, sans-serif",Z7t={arc:{fill:U0},area:{fill:U0},path:{stroke:U0},rect:{fill:U0},shape:{stroke:U0},symbol:{stroke:U0},circle:{fill:U0},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:Q3,fontSize:12},"guide-title":{font:Q3,fontSize:12},"group-title":{font:Q3,fontSize:12}},title:{font:Q3,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:Gfe,tickColor:Gfe,domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},_Z=e=>e*(1/3+1),Yfe=_Z(9),Kfe=_Z(10),Xfe=_Z(12),HE="Segoe UI",Qfe="wf_standard-font, helvetica, arial, sans-serif",Jfe="#252423",VE="#605E5C",Zfe="transparent",ezt="#C8C6C4",vc="#118DFF",tzt="#12239E",nzt="#E66C37",rzt="#6B007B",izt="#E044A7",ozt="#744EC2",szt="#D9B300",azt="#D64550",TNe=vc,CNe="#DEEFFF",epe=[CNe,TNe],lzt=[CNe,"#c7e4ff","#b0d9ff","#9aceff","#83c3ff","#6cb9ff","#55aeff","#3fa3ff","#2898ff",TNe],uzt={view:{stroke:Zfe},background:Zfe,font:HE,header:{titleFont:Qfe,titleFontSize:Xfe,titleColor:Jfe,labelFont:HE,labelFontSize:Kfe,labelColor:VE},axis:{ticks:!1,grid:!1,domain:!1,labelColor:VE,labelFontSize:Yfe,titleFont:Qfe,titleColor:Jfe,titleFontSize:Xfe,titleFontWeight:"normal"},axisQuantitative:{tickCount:3,grid:!0,gridColor:ezt,gridDash:[1,5],labelFlush:!1},axisBand:{tickExtra:!0},axisX:{labelPadding:5},axisY:{labelPadding:10},bar:{fill:vc},line:{stroke:vc,strokeWidth:3,strokeCap:"round",strokeJoin:"round"},text:{font:HE,fontSize:Yfe,fill:VE},arc:{fill:vc},area:{fill:vc,line:!0,opacity:.6},path:{stroke:vc},rect:{fill:vc},point:{fill:vc,filled:!0,size:75},shape:{stroke:vc},symbol:{fill:vc,strokeWidth:1.5,size:50},legend:{titleFont:HE,titleFontWeight:"bold",titleColor:VE,labelFont:HE,labelFontSize:Kfe,labelColor:VE,symbolType:"circle",symbolSize:75},range:{category:[vc,tzt,nzt,rzt,izt,ozt,szt,azt],diverging:epe,heatmap:epe,ordinal:lzt}},AB='IBM Plex Sans,system-ui,-apple-system,BlinkMacSystemFont,".sfnstext-regular",sans-serif',czt='IBM Plex Sans Condensed, system-ui, -apple-system, BlinkMacSystemFont, ".SFNSText-Regular", sans-serif',kB=400,J3={textPrimary:{g90:"#f4f4f4",g100:"#f4f4f4",white:"#161616",g10:"#161616"},textSecondary:{g90:"#c6c6c6",g100:"#c6c6c6",white:"#525252",g10:"#525252"},layerAccent01:{white:"#e0e0e0",g10:"#e0e0e0",g90:"#525252",g100:"#393939"},gridBg:{white:"#ffffff",g10:"#ffffff",g90:"#161616",g100:"#161616"}},dzt=["#8a3ffc","#33b1ff","#007d79","#ff7eb6","#fa4d56","#fff1f1","#6fdc8c","#4589ff","#d12771","#d2a106","#08bdba","#bae6ff","#ba4e00","#d4bbff"],hzt=["#6929c4","#1192e8","#005d5d","#9f1853","#fa4d56","#570408","#198038","#002d9c","#ee538b","#b28600","#009d9a","#012749","#8a3800","#a56eff"];function t4({theme:e,background:t}){const n=["white","g10"].includes(e)?"light":"dark",r=J3.gridBg[e],i=J3.textPrimary[e],o=J3.textSecondary[e],s=n==="dark"?dzt:hzt,a=n==="dark"?"#d4bbff":"#6929c4";return{background:t,arc:{fill:a},area:{fill:a},path:{stroke:a},rect:{fill:a},shape:{stroke:a},symbol:{stroke:a},circle:{fill:a},view:{fill:r,stroke:r},group:{fill:r},title:{color:i,anchor:"start",dy:-15,fontSize:16,font:AB,fontWeight:600},axis:{labelColor:o,labelFontSize:12,labelFont:czt,labelFontWeight:kB,titleColor:i,titleFontWeight:600,titleFontSize:12,grid:!0,gridColor:J3.layerAccent01[e],labelAngle:0},axisX:{titlePadding:10},axisY:{titlePadding:2.5},style:{"guide-label":{font:AB,fill:o,fontWeight:kB},"guide-title":{font:AB,fill:o,fontWeight:kB}},range:{category:s,diverging:["#750e13","#a2191f","#da1e28","#fa4d56","#ff8389","#ffb3b8","#ffd7d9","#fff1f1","#e5f6ff","#bae6ff","#82cfff","#33b1ff","#1192e8","#0072c3","#00539a","#003a6d"],heatmap:["#f6f2ff","#e8daff","#d4bbff","#be95ff","#a56eff","#8a3ffc","#6929c4","#491d8b","#31135e","#1c0f30"]}}}const fzt=t4({theme:"white",background:"#ffffff"}),pzt=t4({theme:"g10",background:"#f4f4f4"}),mzt=t4({theme:"g90",background:"#262626"}),gzt=t4({theme:"g100",background:"#161616"}),yzt=N7t.version,vzt=Object.freeze(Object.defineProperty({__proto__:null,carbong10:pzt,carbong100:gzt,carbong90:mzt,carbonwhite:fzt,dark:O7t,excel:L7t,fivethirtyeight:j7t,ggplot2:z7t,googlecharts:Z7t,latimes:W7t,powerbi:uzt,quartz:q7t,urbaninstitute:J7t,version:yzt,vox:G7t},Symbol.toStringTag,{value:"Module"}));function bzt(e,t,n,r){if(Pe(e))return`[${e.map(i=>t(xt(i)?i:tpe(i,n))).join(", ")}]`;if(wt(e)){let i="";const{title:o,image:s,...a}=e;o&&(i+=`<h2>${t(o)}</h2>`),s&&(i+=`<img src="${new URL(t(s),r||location.href).href}">`);const l=Object.keys(a);if(l.length>0){i+="<table>";for(const u of l){let c=a[u];c!==void 0&&(wt(c)&&(c=tpe(c,n)),i+=`<tr><td class="key">${t(u)}</td><td class="value">${t(c)}</td></tr>`)}i+="</table>"}return i||"{}"}return t(e)}function wzt(e){const t=[];return function(n,r){if(typeof r!="object"||r===null)return r;const i=t.indexOf(this)+1;return t.length=i,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}function tpe(e,t){return JSON.stringify(e,wzt(t))}var xzt=`#vg-tooltip-element {
  visibility: hidden;
  padding: 8px;
  position: fixed;
  z-index: 1000;
  font-family: sans-serif;
  font-size: 11px;
  border-radius: 3px;
  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  /* The default theme is the light theme. */
  background-color: rgba(255, 255, 255, 0.95);
  border: 1px solid #d9d9d9;
  color: black;
}
#vg-tooltip-element.visible {
  visibility: visible;
}
#vg-tooltip-element h2 {
  margin-top: 0;
  margin-bottom: 10px;
  font-size: 13px;
}
#vg-tooltip-element table {
  border-spacing: 0;
}
#vg-tooltip-element table tr {
  border: none;
}
#vg-tooltip-element table tr td {
  overflow: hidden;
  text-overflow: ellipsis;
  padding-top: 2px;
  padding-bottom: 2px;
}
#vg-tooltip-element table tr td.key {
  color: #808080;
  max-width: 150px;
  text-align: right;
  padding-right: 4px;
}
#vg-tooltip-element table tr td.value {
  display: block;
  max-width: 300px;
  max-height: 7em;
  text-align: left;
}
#vg-tooltip-element.dark-theme {
  background-color: rgba(32, 32, 32, 0.9);
  border: 1px solid #f5f5f5;
  color: white;
}
#vg-tooltip-element.dark-theme td.key {
  color: #bfbfbf;
}
`;const ANe="vg-tooltip-element",_zt={offsetX:10,offsetY:10,id:ANe,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:Ezt,maxDepth:2,formatTooltip:bzt,baseURL:"",anchor:"cursor",position:["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right"]};function Ezt(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function Szt(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return xzt.toString().replace(ANe,e)}function kNe(e,t,{offsetX:n,offsetY:r}){const i=INe({x1:e.clientX,x2:e.clientX,y1:e.clientY,y2:e.clientY},t,n,r),o=["bottom-right","bottom-left","top-right","top-left"];for(const s of o)if(RNe(i[s],t))return i[s];return i["top-left"]}function Tzt(e,t,n,r,i){const{position:o,offsetX:s,offsetY:a}=i,l=e._el.getBoundingClientRect(),u=e._origin,c=Czt(l,u,n),d=INe(c,r,s,a),h=Array.isArray(o)?o:[o];for(const f of h)if(RNe(d[f],r)&&!Azt(t,d[f],r))return d[f];return kNe(t,r,i)}function Czt(e,t,n){const r=n.isVoronoi?n.datum.bounds:n.bounds;let i=e.left+t[0]+r.x1,o=e.top+t[1]+r.y1,s=n;for(;s.mark.group;)s=s.mark.group,i+=s.x??0,o+=s.y??0;const a=r.x2-r.x1,l=r.y2-r.y1;return{x1:i,x2:i+a,y1:o,y2:o+l}}function INe(e,t,n,r){const i=(e.x1+e.x2)/2,o=(e.y1+e.y2)/2,s=e.x1-t.width-n,a=i-t.width/2,l=e.x2+n,u=e.y1-t.height-r,c=o-t.height/2,d=e.y2+r;return{top:{x:a,y:u},bottom:{x:a,y:d},left:{x:s,y:c},right:{x:l,y:c},"top-left":{x:s,y:u},"top-right":{x:l,y:u},"bottom-left":{x:s,y:d},"bottom-right":{x:l,y:d}}}function RNe(e,t){return e.x>=0&&e.y>=0&&e.x+t.width<=window.innerWidth&&e.y+t.height<=window.innerHeight}function Azt(e,t,n){return e.clientX>=t.x&&e.clientX<=t.x+n.width&&e.clientY>=t.y&&e.clientY<=t.y+n.height}class kzt{constructor(t){this.options={..._zt,...t};const n=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const r=document.createElement("style");r.setAttribute("id",this.options.styleId),r.innerHTML=Szt(n);const i=document.head;i.childNodes.length>0?i.insertBefore(r,i.childNodes[0]):i.appendChild(r)}}tooltipHandler(t,n,r,i){if(this.el=document.getElementById(this.options.id),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),(document.fullscreenElement??document.body).appendChild(this.el)),i==null||i===""){this.el.classList.remove("visible",`${this.options.theme}-theme`);return}this.el.innerHTML=this.options.formatTooltip(i,this.options.sanitize,this.options.maxDepth,this.options.baseURL),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:o,y:s}=this.options.anchor==="mark"?Tzt(t,n,r,this.el.getBoundingClientRect(),this.options):kNe(n,this.el.getBoundingClientRect(),this.options);this.el.style.top=`${s}px`,this.el.style.left=`${o}px`}}var IB={};/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var Izt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Rzt=Object.prototype.hasOwnProperty;function hU(e,t){return Rzt.call(e,t)}function fU(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)hU(e,i)&&r.push(i);return r}function Vl(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function pU(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function iy(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function $Ne(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function mU(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(mU(e[t]))return!0}else if(typeof e=="object"){for(var r=fU(e),i=r.length,o=0;o<i;o++)if(mU(e[r[o]]))return!0}}return!1}function npe(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var DNe=function(e){Izt(t,e);function t(n,r,i,o,s){var a=this.constructor,l=e.call(this,npe(n,{name:r,index:i,operation:o,tree:s}))||this;return l.name=r,l.index=i,l.operation=o,l.tree=s,Object.setPrototypeOf(l,a.prototype),l.message=npe(n,{name:r,index:i,operation:o,tree:s}),l}return t}(Error),yi=DNe,$zt=Vl,z1={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=jM(n,this.path);r&&(r=Vl(r));var i=Wy(n,{op:"remove",path:this.from}).removed;return Wy(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=jM(n,this.from);return Wy(n,{op:"add",path:this.path,value:Vl(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:fA(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},Dzt={add:function(e,t,n){return pU(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:z1.move,copy:z1.copy,test:z1.test,_get:z1._get};function jM(e,t){if(t=="")return e;var n={op:"_get",path:t};return Wy(e,n),n.value}function Wy(e,t,n,r,i,o){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),o===void 0&&(o=0),n&&(typeof n=="function"?n(t,0,e,t.path):zM(t,0)),t.path===""){var s={newDocument:e};if(t.op==="add")return s.newDocument=t.value,s;if(t.op==="replace")return s.newDocument=t.value,s.removed=e,s;if(t.op==="move"||t.op==="copy")return s.newDocument=jM(e,t.from),t.op==="move"&&(s.removed=e),s;if(t.op==="test"){if(s.test=fA(e,t.value),s.test===!1)throw new yi("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s.newDocument=e,s}else{if(t.op==="remove")return s.removed=e,s.newDocument=null,s;if(t.op==="_get")return t.value=e,s;if(n)throw new yi("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,t,e);return s}}else{r||(e=Vl(e));var a=t.path||"",l=a.split("/"),u=e,c=1,d=l.length,h=void 0,f=void 0,p=void 0;for(typeof n=="function"?p=n:p=zM;;){if(f=l[c],f&&f.indexOf("~")!=-1&&(f=$Ne(f)),i&&(f=="__proto__"||f=="prototype"&&c>0&&l[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&h===void 0&&(u[f]===void 0?h=l.slice(0,c).join("/"):c==d-1&&(h=t.path),h!==void 0&&p(t,0,e,h)),c++,Array.isArray(u)){if(f==="-")f=u.length;else{if(n&&!pU(f))throw new yi("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,t,e);pU(f)&&(f=~~f)}if(c>=d){if(n&&t.op==="add"&&f>u.length)throw new yi("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,t,e);var s=Dzt[t.op].call(t,u,f,e);if(s.test===!1)throw new yi("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s}}else if(c>=d){var s=z1[t.op].call(t,u,f,e);if(s.test===!1)throw new yi("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s}if(u=u[f],n&&c<d&&(!u||typeof u!="object"))throw new yi("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",o,t,e)}}}function n4(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new yi("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=Vl(e));for(var o=new Array(t.length),s=0,a=t.length;s<a;s++)o[s]=Wy(e,t[s],n,!0,i,s),e=o[s].newDocument;return o.newDocument=e,o}function Mzt(e,t,n){var r=Wy(e,t);if(r.test===!1)throw new yi("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function zM(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new yi("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(z1[e.op]){if(typeof e.path!="string")throw new yi("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new yi('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new yi("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new yi("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&mU(e.value))throw new yi("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,o=r.split("/").length;if(i!==o+1&&i!==o)throw new yi("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new yi("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var s={op:"_get",path:e.from,value:void 0},a=MNe([s],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new yi("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new yi("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function MNe(e,t,n){try{if(!Array.isArray(e))throw new yi("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)n4(Vl(t),Vl(e),n||!0);else{n=n||zM;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof yi)return i;throw i}}function fA(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,o,s;if(n&&r){if(o=e.length,o!=t.length)return!1;for(i=o;i--!==0;)if(!fA(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=Object.keys(e);if(o=a.length,o!==Object.keys(t).length)return!1;for(i=o;i--!==0;)if(!t.hasOwnProperty(a[i]))return!1;for(i=o;i--!==0;)if(s=a[i],!fA(e[s],t[s]))return!1;return!0}return e!==e&&t!==t}var Pzt=Object.freeze({__proto__:null,JsonPatchError:yi,_areEquals:fA,applyOperation:Wy,applyPatch:n4,applyReducer:Mzt,deepClone:$zt,getValueByPointer:jM,validate:MNe,validator:zM});/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var EZ=new WeakMap,Nzt=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),Ozt=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function Lzt(e){return EZ.get(e)}function Fzt(e,t){return e.observers.get(t)}function Bzt(e,t){e.observers.delete(t.callback)}function jzt(e,t){t.unobserve()}function zzt(e,t){var n=[],r,i=Lzt(e);if(!i)i=new Nzt(e),EZ.set(e,i);else{var o=Fzt(i,t);r=o&&o.observer}if(r)return r;if(r={},i.value=Vl(e),t){r.callback=t,r.next=null;var s=function(){gU(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(s)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=n,r.object=e,r.unobserve=function(){gU(r),clearTimeout(r.next),Bzt(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},i.observers.set(t,new Ozt(t,r)),r}function gU(e,t){t===void 0&&(t=!1);var n=EZ.get(e.object);SZ(n.value,e.object,e.patches,"",t),e.patches.length&&n4(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function SZ(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var o=fU(t),s=fU(e),a=!1,l=s.length-1;l>=0;l--){var u=s[l],c=e[u];if(hU(t,u)&&!(t[u]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var d=t[u];typeof c=="object"&&c!=null&&typeof d=="object"&&d!=null&&Array.isArray(c)===Array.isArray(d)?SZ(c,d,n,r+"/"+iy(u),i):c!==d&&(i&&n.push({op:"test",path:r+"/"+iy(u),value:Vl(c)}),n.push({op:"replace",path:r+"/"+iy(u),value:Vl(d)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+iy(u),value:Vl(c)}),n.push({op:"remove",path:r+"/"+iy(u)}),a=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!a&&o.length==s.length))for(var l=0;l<o.length;l++){var u=o[l];!hU(e,u)&&t[u]!==void 0&&n.push({op:"add",path:r+"/"+iy(u),value:Vl(t[u])})}}}function Uzt(e,t,n){n===void 0&&(n=!1);var r=[];return SZ(e,t,r,"",n),r}var Hzt=Object.freeze({__proto__:null,compare:Uzt,generate:gU,observe:zzt,unobserve:jzt});Object.assign({},Pzt,Hzt,{JsonPatchError:DNe,deepClone:Vl,escapePathComponent:iy,unescapePathComponent:$Ne});function Vzt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var RB,rpe;function Wzt(){if(rpe)return RB;rpe=1;class e{constructor(){this.max=1e3,this.map=new Map}get(n){const r=this.map.get(n);if(r!==void 0)return this.map.delete(n),this.map.set(n,r),r}delete(n){return this.map.delete(n)}set(n,r){if(!this.delete(n)&&r!==void 0){if(this.map.size>=this.max){const o=this.map.keys().next().value;this.delete(o)}this.map.set(n,r)}return this}}return RB=e,RB}var $B,ipe;function TZ(){if(ipe)return $B;ipe=1;const e=Object.freeze({loose:!0}),t=Object.freeze({});return $B=r=>r?typeof r!="object"?e:r:t,$B}var Z3={exports:{}},DB,ope;function CZ(){if(ope)return DB;ope=1;const e="2.0.0",t=256,n=Number.MAX_SAFE_INTEGER||9007199254740991,r=16,i=t-6;return DB={MAX_LENGTH:t,MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:i,MAX_SAFE_INTEGER:n,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},DB}var MB,spe;function r4(){return spe||(spe=1,MB=typeof process=="object"&&IB&&IB.NODE_DEBUG&&/\bsemver\b/i.test(IB.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{}),MB}var ape;function AZ(){return ape||(ape=1,function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=CZ(),o=r4();t=e.exports={};const s=t.re=[],a=t.safeRe=[],l=t.src=[],u=t.t={};let c=0;const d="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",i],[d,r]],f=m=>{for(const[g,y]of h)m=m.split(`${g}*`).join(`${g}{0,${y}}`).split(`${g}+`).join(`${g}{1,${y}}`);return m},p=(m,g,y)=>{const v=f(g),b=c++;o(m,b,g),u[m]=b,l[b]=g,s[b]=new RegExp(g,y?"g":void 0),a[b]=new RegExp(v,y?"g":void 0)};p("NUMERICIDENTIFIER","0|[1-9]\\d*"),p("NUMERICIDENTIFIERLOOSE","\\d+"),p("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),p("MAINVERSION",`(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})`),p("MAINVERSIONLOOSE",`(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})`),p("PRERELEASEIDENTIFIER",`(?:${l[u.NUMERICIDENTIFIER]}|${l[u.NONNUMERICIDENTIFIER]})`),p("PRERELEASEIDENTIFIERLOOSE",`(?:${l[u.NUMERICIDENTIFIERLOOSE]}|${l[u.NONNUMERICIDENTIFIER]})`),p("PRERELEASE",`(?:-(${l[u.PRERELEASEIDENTIFIER]}(?:\\.${l[u.PRERELEASEIDENTIFIER]})*))`),p("PRERELEASELOOSE",`(?:-?(${l[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[u.PRERELEASEIDENTIFIERLOOSE]})*))`),p("BUILDIDENTIFIER",`${d}+`),p("BUILD",`(?:\\+(${l[u.BUILDIDENTIFIER]}(?:\\.${l[u.BUILDIDENTIFIER]})*))`),p("FULLPLAIN",`v?${l[u.MAINVERSION]}${l[u.PRERELEASE]}?${l[u.BUILD]}?`),p("FULL",`^${l[u.FULLPLAIN]}$`),p("LOOSEPLAIN",`[v=\\s]*${l[u.MAINVERSIONLOOSE]}${l[u.PRERELEASELOOSE]}?${l[u.BUILD]}?`),p("LOOSE",`^${l[u.LOOSEPLAIN]}$`),p("GTLT","((?:<|>)?=?)"),p("XRANGEIDENTIFIERLOOSE",`${l[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),p("XRANGEIDENTIFIER",`${l[u.NUMERICIDENTIFIER]}|x|X|\\*`),p("XRANGEPLAIN",`[v=\\s]*(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:${l[u.PRERELEASE]})?${l[u.BUILD]}?)?)?`),p("XRANGEPLAINLOOSE",`[v=\\s]*(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:${l[u.PRERELEASELOOSE]})?${l[u.BUILD]}?)?)?`),p("XRANGE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAIN]}$`),p("XRANGELOOSE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAINLOOSE]}$`),p("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),p("COERCE",`${l[u.COERCEPLAIN]}(?:$|[^\\d])`),p("COERCEFULL",l[u.COERCEPLAIN]+`(?:${l[u.PRERELEASE]})?(?:${l[u.BUILD]})?(?:$|[^\\d])`),p("COERCERTL",l[u.COERCE],!0),p("COERCERTLFULL",l[u.COERCEFULL],!0),p("LONETILDE","(?:~>?)"),p("TILDETRIM",`(\\s*)${l[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",p("TILDE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAIN]}$`),p("TILDELOOSE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAINLOOSE]}$`),p("LONECARET","(?:\\^)"),p("CARETTRIM",`(\\s*)${l[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",p("CARET",`^${l[u.LONECARET]}${l[u.XRANGEPLAIN]}$`),p("CARETLOOSE",`^${l[u.LONECARET]}${l[u.XRANGEPLAINLOOSE]}$`),p("COMPARATORLOOSE",`^${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]})$|^$`),p("COMPARATOR",`^${l[u.GTLT]}\\s*(${l[u.FULLPLAIN]})$|^$`),p("COMPARATORTRIM",`(\\s*)${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]}|${l[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",p("HYPHENRANGE",`^\\s*(${l[u.XRANGEPLAIN]})\\s+-\\s+(${l[u.XRANGEPLAIN]})\\s*$`),p("HYPHENRANGELOOSE",`^\\s*(${l[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[u.XRANGEPLAINLOOSE]})\\s*$`),p("STAR","(<|>)?=?\\s*\\*"),p("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),p("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(Z3,Z3.exports)),Z3.exports}var PB,lpe;function qzt(){if(lpe)return PB;lpe=1;const e=/^[0-9]+$/,t=(r,i)=>{const o=e.test(r),s=e.test(i);return o&&s&&(r=+r,i=+i),r===i?0:o&&!s?-1:s&&!o?1:r<i?-1:1};return PB={compareIdentifiers:t,rcompareIdentifiers:(r,i)=>t(i,r)},PB}var NB,upe;function kZ(){if(upe)return NB;upe=1;const e=r4(),{MAX_LENGTH:t,MAX_SAFE_INTEGER:n}=CZ(),{safeRe:r,t:i}=AZ(),o=TZ(),{compareIdentifiers:s}=qzt();class a{constructor(u,c){if(c=o(c),u instanceof a){if(u.loose===!!c.loose&&u.includePrerelease===!!c.includePrerelease)return u;u=u.version}else if(typeof u!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof u}".`);if(u.length>t)throw new TypeError(`version is longer than ${t} characters`);e("SemVer",u,c),this.options=c,this.loose=!!c.loose,this.includePrerelease=!!c.includePrerelease;const d=u.trim().match(c.loose?r[i.LOOSE]:r[i.FULL]);if(!d)throw new TypeError(`Invalid Version: ${u}`);if(this.raw=u,this.major=+d[1],this.minor=+d[2],this.patch=+d[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");d[4]?this.prerelease=d[4].split(".").map(h=>{if(/^[0-9]+$/.test(h)){const f=+h;if(f>=0&&f<n)return f}return h}):this.prerelease=[],this.build=d[5]?d[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(u){if(e("SemVer.compare",this.version,this.options,u),!(u instanceof a)){if(typeof u=="string"&&u===this.version)return 0;u=new a(u,this.options)}return u.version===this.version?0:this.compareMain(u)||this.comparePre(u)}compareMain(u){return u instanceof a||(u=new a(u,this.options)),s(this.major,u.major)||s(this.minor,u.minor)||s(this.patch,u.patch)}comparePre(u){if(u instanceof a||(u=new a(u,this.options)),this.prerelease.length&&!u.prerelease.length)return-1;if(!this.prerelease.length&&u.prerelease.length)return 1;if(!this.prerelease.length&&!u.prerelease.length)return 0;let c=0;do{const d=this.prerelease[c],h=u.prerelease[c];if(e("prerelease compare",c,d,h),d===void 0&&h===void 0)return 0;if(h===void 0)return 1;if(d===void 0)return-1;if(d===h)continue;return s(d,h)}while(++c)}compareBuild(u){u instanceof a||(u=new a(u,this.options));let c=0;do{const d=this.build[c],h=u.build[c];if(e("build compare",c,d,h),d===void 0&&h===void 0)return 0;if(h===void 0)return 1;if(d===void 0)return-1;if(d===h)continue;return s(d,h)}while(++c)}inc(u,c,d){switch(u){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",c,d);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",c,d);break;case"prepatch":this.prerelease.length=0,this.inc("patch",c,d),this.inc("pre",c,d);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",c,d),this.inc("pre",c,d);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const h=Number(d)?1:0;if(!c&&d===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[h];else{let f=this.prerelease.length;for(;--f>=0;)typeof this.prerelease[f]=="number"&&(this.prerelease[f]++,f=-2);if(f===-1){if(c===this.prerelease.join(".")&&d===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(h)}}if(c){let f=[c,h];d===!1&&(f=[c]),s(this.prerelease[0],c)===0?isNaN(this.prerelease[1])&&(this.prerelease=f):this.prerelease=f}break}default:throw new Error(`invalid increment argument: ${u}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return NB=a,NB}var OB,cpe;function q_(){if(cpe)return OB;cpe=1;const e=kZ();return OB=(n,r,i)=>new e(n,i).compare(new e(r,i)),OB}var LB,dpe;function Gzt(){if(dpe)return LB;dpe=1;const e=q_();return LB=(n,r,i)=>e(n,r,i)===0,LB}var FB,hpe;function Yzt(){if(hpe)return FB;hpe=1;const e=q_();return FB=(n,r,i)=>e(n,r,i)!==0,FB}var BB,fpe;function Kzt(){if(fpe)return BB;fpe=1;const e=q_();return BB=(n,r,i)=>e(n,r,i)>0,BB}var jB,ppe;function Xzt(){if(ppe)return jB;ppe=1;const e=q_();return jB=(n,r,i)=>e(n,r,i)>=0,jB}var zB,mpe;function Qzt(){if(mpe)return zB;mpe=1;const e=q_();return zB=(n,r,i)=>e(n,r,i)<0,zB}var UB,gpe;function Jzt(){if(gpe)return UB;gpe=1;const e=q_();return UB=(n,r,i)=>e(n,r,i)<=0,UB}var HB,ype;function Zzt(){if(ype)return HB;ype=1;const e=Gzt(),t=Yzt(),n=Kzt(),r=Xzt(),i=Qzt(),o=Jzt();return HB=(a,l,u,c)=>{switch(l){case"===":return typeof a=="object"&&(a=a.version),typeof u=="object"&&(u=u.version),a===u;case"!==":return typeof a=="object"&&(a=a.version),typeof u=="object"&&(u=u.version),a!==u;case"":case"=":case"==":return e(a,u,c);case"!=":return t(a,u,c);case">":return n(a,u,c);case">=":return r(a,u,c);case"<":return i(a,u,c);case"<=":return o(a,u,c);default:throw new TypeError(`Invalid operator: ${l}`)}},HB}var VB,vpe;function eUt(){if(vpe)return VB;vpe=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(c,d){if(d=n(d),c instanceof t){if(c.loose===!!d.loose)return c;c=c.value}c=c.trim().split(/\s+/).join(" "),s("comparator",c,d),this.options=d,this.loose=!!d.loose,this.parse(c),this.semver===e?this.value="":this.value=this.operator+this.semver.version,s("comp",this)}parse(c){const d=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],h=c.match(d);if(!h)throw new TypeError(`Invalid comparator: ${c}`);this.operator=h[1]!==void 0?h[1]:"",this.operator==="="&&(this.operator=""),h[2]?this.semver=new a(h[2],this.options.loose):this.semver=e}toString(){return this.value}test(c){if(s("Comparator.test",c,this.options.loose),this.semver===e||c===e)return!0;if(typeof c=="string")try{c=new a(c,this.options)}catch{return!1}return o(c,this.operator,this.semver,this.options)}intersects(c,d){if(!(c instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(c.value,d).test(this.value):c.operator===""?c.value===""?!0:new l(this.value,d).test(c.semver):(d=n(d),d.includePrerelease&&(this.value==="<0.0.0-0"||c.value==="<0.0.0-0")||!d.includePrerelease&&(this.value.startsWith("<0.0.0")||c.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&c.operator.startsWith(">")||this.operator.startsWith("<")&&c.operator.startsWith("<")||this.semver.version===c.semver.version&&this.operator.includes("=")&&c.operator.includes("=")||o(this.semver,"<",c.semver,d)&&this.operator.startsWith(">")&&c.operator.startsWith("<")||o(this.semver,">",c.semver,d)&&this.operator.startsWith("<")&&c.operator.startsWith(">")))}}VB=t;const n=TZ(),{safeRe:r,t:i}=AZ(),o=Zzt(),s=r4(),a=kZ(),l=PNe();return VB}var WB,bpe;function PNe(){if(bpe)return WB;bpe=1;const e=/\s+/g;class t{constructor(A,M){if(M=i(M),A instanceof t)return A.loose===!!M.loose&&A.includePrerelease===!!M.includePrerelease?A:new t(A.raw,M);if(A instanceof o)return this.raw=A.value,this.set=[[A]],this.formatted=void 0,this;if(this.options=M,this.loose=!!M.loose,this.includePrerelease=!!M.includePrerelease,this.raw=A.trim().replace(e," "),this.set=this.raw.split("||").map(N=>this.parseRange(N.trim())).filter(N=>N.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const N=this.set[0];if(this.set=this.set.filter(L=>!m(L[0])),this.set.length===0)this.set=[N];else if(this.set.length>1){for(const L of this.set)if(L.length===1&&g(L[0])){this.set=[L];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let A=0;A<this.set.length;A++){A>0&&(this.formatted+="||");const M=this.set[A];for(let N=0;N<M.length;N++)N>0&&(this.formatted+=" "),this.formatted+=M[N].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(A){const N=((this.options.includePrerelease&&f)|(this.options.loose&&p))+":"+A,L=r.get(N);if(L)return L;const z=this.options.loose,F=z?l[u.HYPHENRANGELOOSE]:l[u.HYPHENRANGE];A=A.replace(F,$(this.options.includePrerelease)),s("hyphen replace",A),A=A.replace(l[u.COMPARATORTRIM],c),s("comparator trim",A),A=A.replace(l[u.TILDETRIM],d),s("tilde trim",A),A=A.replace(l[u.CARETTRIM],h),s("caret trim",A);let j=A.split(" ").map(V=>v(V,this.options)).join(" ").split(/\s+/).map(V=>D(V,this.options));z&&(j=j.filter(V=>(s("loose invalid filter",V,this.options),!!V.match(l[u.COMPARATORLOOSE])))),s("range list",j);const W=new Map,B=j.map(V=>new o(V,this.options));for(const V of B){if(m(V))return[V];W.set(V.value,V)}W.size>1&&W.has("")&&W.delete("");const H=[...W.values()];return r.set(N,H),H}intersects(A,M){if(!(A instanceof t))throw new TypeError("a Range is required");return this.set.some(N=>y(N,M)&&A.set.some(L=>y(L,M)&&N.every(z=>L.every(F=>z.intersects(F,M)))))}test(A){if(!A)return!1;if(typeof A=="string")try{A=new a(A,this.options)}catch{return!1}for(let M=0;M<this.set.length;M++)if(I(this.set[M],A,this.options))return!0;return!1}}WB=t;const n=Wzt(),r=new n,i=TZ(),o=eUt(),s=r4(),a=kZ(),{safeRe:l,t:u,comparatorTrimReplace:c,tildeTrimReplace:d,caretTrimReplace:h}=AZ(),{FLAG_INCLUDE_PRERELEASE:f,FLAG_LOOSE:p}=CZ(),m=R=>R.value==="<0.0.0-0",g=R=>R.value==="",y=(R,A)=>{let M=!0;const N=R.slice();let L=N.pop();for(;M&&N.length;)M=N.every(z=>L.intersects(z,A)),L=N.pop();return M},v=(R,A)=>(s("comp",R,A),R=w(R,A),s("caret",R),R=_(R,A),s("tildes",R),R=S(R,A),s("xrange",R),R=C(R,A),s("stars",R),R),b=R=>!R||R.toLowerCase()==="x"||R==="*",_=(R,A)=>R.trim().split(/\s+/).map(M=>x(M,A)).join(" "),x=(R,A)=>{const M=A.loose?l[u.TILDELOOSE]:l[u.TILDE];return R.replace(M,(N,L,z,F,j)=>{s("tilde",R,N,L,z,F,j);let W;return b(L)?W="":b(z)?W=`>=${L}.0.0 <${+L+1}.0.0-0`:b(F)?W=`>=${L}.${z}.0 <${L}.${+z+1}.0-0`:j?(s("replaceTilde pr",j),W=`>=${L}.${z}.${F}-${j} <${L}.${+z+1}.0-0`):W=`>=${L}.${z}.${F} <${L}.${+z+1}.0-0`,s("tilde return",W),W})},w=(R,A)=>R.trim().split(/\s+/).map(M=>E(M,A)).join(" "),E=(R,A)=>{s("caret",R,A);const M=A.loose?l[u.CARETLOOSE]:l[u.CARET],N=A.includePrerelease?"-0":"";return R.replace(M,(L,z,F,j,W)=>{s("caret",R,L,z,F,j,W);let B;return b(z)?B="":b(F)?B=`>=${z}.0.0${N} <${+z+1}.0.0-0`:b(j)?z==="0"?B=`>=${z}.${F}.0${N} <${z}.${+F+1}.0-0`:B=`>=${z}.${F}.0${N} <${+z+1}.0.0-0`:W?(s("replaceCaret pr",W),z==="0"?F==="0"?B=`>=${z}.${F}.${j}-${W} <${z}.${F}.${+j+1}-0`:B=`>=${z}.${F}.${j}-${W} <${z}.${+F+1}.0-0`:B=`>=${z}.${F}.${j}-${W} <${+z+1}.0.0-0`):(s("no pr"),z==="0"?F==="0"?B=`>=${z}.${F}.${j}${N} <${z}.${F}.${+j+1}-0`:B=`>=${z}.${F}.${j}${N} <${z}.${+F+1}.0-0`:B=`>=${z}.${F}.${j} <${+z+1}.0.0-0`),s("caret return",B),B})},S=(R,A)=>(s("replaceXRanges",R,A),R.split(/\s+/).map(M=>T(M,A)).join(" ")),T=(R,A)=>{R=R.trim();const M=A.loose?l[u.XRANGELOOSE]:l[u.XRANGE];return R.replace(M,(N,L,z,F,j,W)=>{s("xRange",R,N,L,z,F,j,W);const B=b(z),H=B||b(F),V=H||b(j),G=V;return L==="="&&G&&(L=""),W=A.includePrerelease?"-0":"",B?L===">"||L==="<"?N="<0.0.0-0":N="*":L&&G?(H&&(F=0),j=0,L===">"?(L=">=",H?(z=+z+1,F=0,j=0):(F=+F+1,j=0)):L==="<="&&(L="<",H?z=+z+1:F=+F+1),L==="<"&&(W="-0"),N=`${L+z}.${F}.${j}${W}`):H?N=`>=${z}.0.0${W} <${+z+1}.0.0-0`:V&&(N=`>=${z}.${F}.0${W} <${z}.${+F+1}.0-0`),s("xRange return",N),N})},C=(R,A)=>(s("replaceStars",R,A),R.trim().replace(l[u.STAR],"")),D=(R,A)=>(s("replaceGTE0",R,A),R.trim().replace(l[A.includePrerelease?u.GTE0PRE:u.GTE0],"")),$=R=>(A,M,N,L,z,F,j,W,B,H,V,G)=>(b(N)?M="":b(L)?M=`>=${N}.0.0${R?"-0":""}`:b(z)?M=`>=${N}.${L}.0${R?"-0":""}`:F?M=`>=${M}`:M=`>=${M}${R?"-0":""}`,b(B)?W="":b(H)?W=`<${+B+1}.0.0-0`:b(V)?W=`<${B}.${+H+1}.0-0`:G?W=`<=${B}.${H}.${V}-${G}`:R?W=`<${B}.${H}.${+V+1}-0`:W=`<=${W}`,`${M} ${W}`.trim()),I=(R,A,M)=>{for(let N=0;N<R.length;N++)if(!R[N].test(A))return!1;if(A.prerelease.length&&!M.includePrerelease){for(let N=0;N<R.length;N++)if(s(R[N].semver),R[N].semver!==o.ANY&&R[N].semver.prerelease.length>0){const L=R[N].semver;if(L.major===A.major&&L.minor===A.minor&&L.patch===A.patch)return!0}return!1}return!0};return WB}var qB,wpe;function tUt(){if(wpe)return qB;wpe=1;const e=PNe();return qB=(n,r,i)=>{try{r=new e(r,i)}catch{return!1}return r.test(n)},qB}var nUt=tUt(),NNe=Vzt(nUt);function rUt(e,t,n){const r=e.open(t),i=250,{origin:o}=new URL(t);let s=40;function a(u){u.source===r&&(s=0,e.removeEventListener("message",a,!1))}e.addEventListener("message",a,!1);function l(){s<=0||(r.postMessage(n,o),setTimeout(l,i),s-=1)}setTimeout(l,i)}var iUt=`.vega-embed {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
}
.vega-embed.has-actions {
  padding-right: 38px;
}
.vega-embed details:not([open]) > :not(summary) {
  display: none !important;
}
.vega-embed summary {
  list-style: none;
  position: absolute;
  top: 0;
  right: 0;
  padding: 6px;
  z-index: 1000;
  background: white;
  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
  color: #1b1e23;
  border: 1px solid #aaa;
  border-radius: 999px;
  opacity: 0.2;
  transition: opacity 0.4s ease-in;
  cursor: pointer;
  line-height: 0px;
}
.vega-embed summary::-webkit-details-marker {
  display: none;
}
.vega-embed summary:active {
  box-shadow: #aaa 0px 0px 0px 1px inset;
}
.vega-embed summary svg {
  width: 14px;
  height: 14px;
}
.vega-embed details[open] summary {
  opacity: 0.7;
}
.vega-embed:hover summary, .vega-embed:focus-within summary {
  opacity: 1 !important;
  transition: opacity 0.2s ease;
}
.vega-embed .vega-actions {
  position: absolute;
  z-index: 1001;
  top: 35px;
  right: -9px;
  display: flex;
  flex-direction: column;
  padding-bottom: 8px;
  padding-top: 8px;
  border-radius: 4px;
  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);
  border: 1px solid #d9d9d9;
  background: white;
  animation-duration: 0.15s;
  animation-name: scale-in;
  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);
  text-align: left;
}
.vega-embed .vega-actions a {
  padding: 8px 16px;
  font-family: sans-serif;
  font-size: 14px;
  font-weight: 600;
  white-space: nowrap;
  color: #434a56;
  text-decoration: none;
}
.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {
  background-color: #f7f7f9;
  color: black;
}
.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {
  content: "";
  display: inline-block;
  position: absolute;
}
.vega-embed .vega-actions::before {
  left: auto;
  right: 14px;
  top: -16px;
  border: 8px solid rgba(0, 0, 0, 0);
  border-bottom-color: #d9d9d9;
}
.vega-embed .vega-actions::after {
  left: auto;
  right: 15px;
  top: -14px;
  border: 7px solid rgba(0, 0, 0, 0);
  border-bottom-color: #fff;
}
.vega-embed .chart-wrapper.fit-x {
  width: 100%;
}
.vega-embed .chart-wrapper.fit-y {
  height: 100%;
}

.vega-embed-wrapper {
  max-width: 100%;
  overflow: auto;
  padding-right: 14px;
}

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.6);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}
`;function ONe(e,...t){for(const n of t)oUt(e,n);return e}function oUt(e,t){for(const n of Object.keys(t))__(e,n,t[n],!0)}const _c=POt;let pA=M7t;const eI=typeof window<"u"?window:void 0;var Tme;pA===void 0&&((Tme=eI==null?void 0:eI.vl)!=null&&Tme.compile)&&(pA=eI.vl);const sUt={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},aUt={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},OS={vega:"Vega","vega-lite":"Vega-Lite"},UM={vega:_c.version,"vega-lite":pA?pA.version:"not available"},lUt={vega:e=>e,"vega-lite":(e,t)=>pA.compile(e,{config:t}).spec},uUt=`
<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
  <circle r="2" cy="8" cx="2"></circle>
  <circle r="2" cy="8" cx="8"></circle>
  <circle r="2" cy="8" cx="14"></circle>
</svg>`,cUt="chart-wrapper";function dUt(e){return typeof e=="function"}function xpe(e,t,n,r){const i=`<html><head>${t}</head><body><pre><code class="json">`,o=`</code></pre>${n}</body></html>`,s=window.open("");s.document.write(i+e+o),s.document.title=`${OS[r]} JSON Source`}function hUt(e,t){if(e.$schema){const n=SNe(e.$schema);t&&t!==n.library&&console.warn(`The given visualization spec is written in ${OS[n.library]}, but mode argument sets ${OS[t]??t}.`);const r=n.library;return NNe(UM[r],`^${n.version.slice(1)}`)||console.warn(`The input spec uses ${OS[r]} ${n.version}, but the current version of ${OS[r]} is v${UM[r]}.`),r}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":t??"vega"}function LNe(e){return!!(e&&"load"in e)}function _pe(e){return LNe(e)?e:_c.loader(e)}function fUt(e){var n;const t=((n=e.usermeta)==null?void 0:n.embedOptions)??{};return xt(t.defaultStyle)&&(t.defaultStyle=!1),t}async function pUt(e,t,n={}){let r,i;xt(t)?(i=_pe(n.loader),r=JSON.parse(await i.load(t))):r=t;const o=fUt(r),s=o.loader;(!i||s)&&(i=_pe(n.loader??s));const a=await Epe(o,i),l=await Epe(n,i),u={...ONe(l,a),config:x_(l.config??{},a.config??{})};return await gUt(e,r,u,i)}async function Epe(e,t){const n=xt(e.config)?JSON.parse(await t.load(e.config)):e.config??{},r=xt(e.patch)?JSON.parse(await t.load(e.patch)):e.patch;return{...e,...r?{patch:r}:{},...n?{config:n}:{}}}function mUt(e){const t=e.getRootNode?e.getRootNode():document;return t instanceof ShadowRoot?{root:t,rootContainer:t}:{root:document,rootContainer:document.head??document.body}}async function gUt(e,t,n={},r){const i=n.theme?x_(vzt[n.theme],n.config??{}):n.config,o=u0(n.actions)?n.actions:ONe({},sUt,n.actions??{}),s={...aUt,...n.i18n},a=n.renderer??"canvas",l=n.logLevel??_c.Warn,u=n.downloadFileName??"visualization",c=typeof e=="string"?document.querySelector(e):e;if(!c)throw new Error(`${e} does not exist`);if(n.defaultStyle!==!1){const x="vega-embed-style",{root:w,rootContainer:E}=mUt(c);if(!w.getElementById(x)){const S=document.createElement("style");S.id=x,S.innerHTML=n.defaultStyle===void 0||n.defaultStyle===!0?iUt.toString():n.defaultStyle,E.appendChild(S)}}const d=hUt(t,n.mode);let h=lUt[d](t,i);if(d==="vega-lite"&&h.$schema){const x=SNe(h.$schema);NNe(UM.vega,`^${x.version.slice(1)}`)||console.warn(`The compiled spec uses Vega ${x.version}, but current version is v${UM.vega}.`)}c.classList.add("vega-embed"),o&&c.classList.add("has-actions"),c.innerHTML="";let f=c;if(o){const x=document.createElement("div");x.classList.add(cUt),c.appendChild(x),f=x}const p=n.patch;if(p&&(h=p instanceof Function?p(h):n4(h,p,!0,!1).newDocument),n.formatLocale&&_c.formatLocale(n.formatLocale),n.timeFormatLocale&&_c.timeFormatLocale(n.timeFormatLocale),n.expressionFunctions)for(const x in n.expressionFunctions){const w=n.expressionFunctions[x];"fn"in w?_c.expressionFunction(x,w.fn,w.visitor):w instanceof Function&&_c.expressionFunction(x,w)}const{ast:m}=n,g=_c.parse(h,d==="vega-lite"?{}:i,{ast:m}),y=new(n.viewClass||_c.View)(g,{loader:r,logLevel:l,renderer:a,...m?{expr:_c.expressionInterpreter??n.expr??VOt}:{}});if(y.addSignalListener("autosize",(x,w)=>{const{type:E}=w;E=="fit-x"?(f.classList.add("fit-x"),f.classList.remove("fit-y")):E=="fit-y"?(f.classList.remove("fit-x"),f.classList.add("fit-y")):E=="fit"?f.classList.add("fit-x","fit-y"):f.classList.remove("fit-x","fit-y")}),n.tooltip!==!1){const{loader:x,tooltip:w}=n,E=x&&!LNe(x)?x==null?void 0:x.baseURL:void 0,S=dUt(w)?w:new kzt({baseURL:E,...w===!0?{}:w}).call;y.tooltip(S)}let{hover:v}=n;if(v===void 0&&(v=d==="vega"),v){const{hoverSet:x,updateSet:w}=typeof v=="boolean"?{}:v;y.hover(x,w)}n&&(n.width!=null&&y.width(n.width),n.height!=null&&y.height(n.height),n.padding!=null&&y.padding(n.padding)),await y.initialize(f,n.bind).runAsync();let b;if(o!==!1){let x=c;if(n.defaultStyle!==!1||n.forceActionsMenu){const E=document.createElement("details");E.title=s.CLICK_TO_VIEW_ACTIONS,c.append(E),x=E;const S=document.createElement("summary");S.innerHTML=uUt,E.append(S),b=T=>{E.contains(T.target)||E.removeAttribute("open")},document.addEventListener("click",b)}const w=document.createElement("div");if(x.append(w),w.classList.add("vega-actions"),o===!0||o.export!==!1){for(const E of["svg","png"])if(o===!0||o.export===!0||o.export[E]){const S=s[`${E.toUpperCase()}_ACTION`],T=document.createElement("a"),C=wt(n.scaleFactor)?n.scaleFactor[E]:n.scaleFactor;T.text=S,T.href="#",T.target="_blank",T.download=`${u}.${E}`,T.addEventListener("mousedown",async function(D){D.preventDefault();const $=await y.toImageURL(E,C);this.href=$}),w.append(T)}}if(o===!0||o.source!==!1){const E=document.createElement("a");E.text=s.SOURCE_ACTION,E.href="#",E.addEventListener("click",function(S){xpe(e6(t),n.sourceHeader??"",n.sourceFooter??"",d),S.preventDefault()}),w.append(E)}if(d==="vega-lite"&&(o===!0||o.compiled!==!1)){const E=document.createElement("a");E.text=s.COMPILED_ACTION,E.href="#",E.addEventListener("click",function(S){xpe(e6(h),n.sourceHeader??"",n.sourceFooter??"","vega"),S.preventDefault()}),w.append(E)}if(o===!0||o.editor!==!1){const E=n.editorUrl??"https://vega.github.io/editor/",S=document.createElement("a");S.text=s.EDITOR_ACTION,S.href="#",S.addEventListener("click",function(T){rUt(window,E,{config:i,mode:p?"vega":d,renderer:a,spec:e6(p?h:t)}),T.preventDefault()}),w.append(S)}}function _(){b&&document.removeEventListener("click",b),y.finalize()}return{view:y,spec:t,vgSpec:h,finalize:_,embedOptions:n}}function yUt(e){return!!e&&{}.toString.call(e)==="[object Function]"}function vUt(e,t,n){n&&(yUt(n)?n(e.data(t)):e.change(t,_c.changeset().remove(()=>!0).insert(n)))}function bUt(e,t){Object.keys(t).forEach(n=>{vUt(e,n,t[n])})}function FNe(e){const t=new Set;return e.forEach(n=>{Object.keys(n).forEach(r=>{t.add(r)})}),t}const BNe=()=>{};function GB(e,t){const n=Object.keys(t);return n.forEach(r=>{try{e.addSignalListener(r,t[r])}catch(i){console.warn("Cannot add invalid signal listener.",i)}}),n.length>0}function wUt(e,t){if(e===t)return!1;const n={width:!1,height:!1,isExpensive:!1},r=FNe([e,t]);return r.has("width")&&(!("width"in e)||!("width"in t)||e.width!==t.width)&&("width"in e&&typeof e.width=="number"?n.width=e.width:n.isExpensive=!0),r.has("height")&&(!("height"in e)||!("height"in t)||e.height!==t.height)&&("height"in e&&typeof e.height=="number"?n.height=e.height:n.isExpensive=!0),r.delete("width"),r.delete("height"),[...r].some(i=>!(i in e)||!(i in t)||!hS(e[i],t[i]))&&(n.isExpensive=!0),n.width!==!1||n.height!==!1||n.isExpensive?n:!1}function Spe(e,t){const n=Object.keys(t);return n.forEach(r=>{try{e.removeSignalListener(r,t[r])}catch(i){console.warn("Cannot remove invalid signal listener.",i)}}),n.length>0}function YB(e){const{spec:t,width:n,height:r}=e;return typeof n<"u"&&typeof r<"u"?{...t,width:n,height:r}:typeof n<"u"?{...t,width:n}:typeof r<"u"?{...t,height:r}:t}function LS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class jNe extends Nn.PureComponent{constructor(){super(...arguments),LS(this,"containerRef",Nn.createRef()),LS(this,"resultPromise",void 0),LS(this,"handleError",t=>{const{onError:n=BNe}=this.props;n(t,this.containerRef.current),console.warn(t)}),LS(this,"modifyView",t=>{this.resultPromise&&this.resultPromise.then(n=>(n&&t(n.view),!0)).catch(this.handleError)})}componentDidMount(){this.createView()}componentDidUpdate(t){const n=FNe([this.props,t]);if(n.delete("className"),n.delete("signalListeners"),n.delete("spec"),n.delete("style"),n.delete("width"),n.delete("height"),Array.from(n).some(r=>this.props[r]!==t[r]))this.clearView(),this.createView();else{const r=wUt(YB(this.props),YB(t)),{signalListeners:i}=this.props,{signalListeners:o}=t;if(r)if(r.isExpensive)this.clearView(),this.createView();else{const s=!Zj(i,o);this.modifyView(a=>{r.width!==!1&&a.width(r.width),r.height!==!1&&a.height(r.height),s&&(o&&Spe(a,o),i&&GB(a,i)),a.run()})}else Zj(i,o)||this.modifyView(s=>{o&&Spe(s,o),i&&GB(s,i),s.run()})}}componentWillUnmount(){this.clearView()}createView(){const{spec:t,onNewView:n,signalListeners:r={},width:i,height:o,...s}=this.props;if(this.containerRef.current){const a=YB(this.props);this.resultPromise=pUt(this.containerRef.current,a,s).then(l=>{if(l){const{view:u}=l;GB(u,r)&&u.run()}return l}).catch(this.handleError),n&&this.modifyView(n)}}clearView(){return this.resultPromise&&this.resultPromise.then(t=>{t&&t.finalize()}).catch(this.handleError),this.resultPromise=void 0,this}render(){const{className:t,style:n}=this.props;return Nn.createElement("div",{ref:this.containerRef,className:t,style:n})}}LS(jNe,"propTypes",{className:g$.string,onError:g$.func});function yU(){return yU=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yU.apply(this,arguments)}function vU(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const xUt={};class IZ extends Nn.PureComponent{constructor(){super(...arguments),vU(this,"vegaEmbed",Nn.createRef()),vU(this,"handleNewView",t=>{this.update();const{onNewView:n=BNe}=this.props;n(t)})}componentDidMount(){this.update()}componentDidUpdate(t){Zj(this.props.data,t.data)||this.update()}update(){const{data:t}=this.props;this.vegaEmbed.current&&t&&Object.keys(t).length>0&&this.vegaEmbed.current.modifyView(n=>{bUt(n,t),n.resize().run()})}render(){const{data:t,...n}=this.props;return Nn.createElement(jNe,yU({ref:this.vegaEmbed},n,{onNewView:this.handleNewView}))}}vU(IZ,"defaultProps",{data:xUt});function bU(){return bU=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bU.apply(this,arguments)}function Tpe(e){return Nn.createElement(IZ,bU({},e,{mode:"vega-lite"}))}const _Ut=IZ;function EUt({currentConfig:e,provState:t}){const n=bs(),[r,i]=O.useState(null),[o,s]=O.useState(!0),a=lb(),{updateResponseBlockValidation:l,setReactiveAnswers:u}=Po(),[c,d]=O.useState(),{actions:h,trrack:f}=O.useMemo(()=>{const v=Hp.create(),b=v.register("signal",(x,w)=>(x.event=w,x)),_=rb({registry:v,initialState:{event:{}}});return{actions:{signalAction:b},trrack:_}},[]),p=O.useCallback(({status:v,provenanceGraph:b,answers:_})=>{n(l({location:"stimulus",identifier:a,status:v,values:_,provenanceGraph:b})),n(u(_))},[n,l,a,u]),m=O.useCallback((v,b)=>{f.apply(v,h.signalAction({key:v,value:b}))},[h,f]),g=O.useCallback((v,b)=>{const{responseId:_,response:x}=b;p({status:!0,provenanceGraph:f.graph.backend,answers:{[_]:x}})},[p,f.graph.backend]),y=O.useMemo(()=>{var b;const v=(b=r==null?void 0:r.config)==null?void 0:b.signals;return v?v.reduce((_,x)=>(x.name==="revisitAnswer"?_[x.name]=g:_[x.name]=m,_),{}):{}},[g,m,r]);return O.useEffect(()=>{async function v(){s(!0);let b;"path"in e?b=await B0t(e.path):b=e.config,b!==void 0&&i(b),s(!1)}e&&v()},[e]),O.useEffect(()=>{c&&t&&t.event&&t.event.key&&c.signal(t.event.key,t.event.value).run()},[c,t]),o?k.jsx("div",{children:"Loading..."}):"path"in e&&!r?k.jsx(Cp,{path:e.path}):r?k.jsx(_Ut,{spec:structuredClone(r),signalListeners:y,onNewView:v=>d(v)}):k.jsx("div",{children:"Failed to load vega config"})}function Et(e,t,n){return(t=TUt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SUt(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TUt(e){var t=SUt(e,"string");return typeof t=="symbol"?t:String(t)}function CUt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cpe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function AUt(e,t,n){return t&&Cpe(e.prototype,t),n&&Cpe(e,n),e}function kUt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ape(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kpe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ape(Object(n),!0).forEach(function(r){kUt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ape(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Ipe={addCSS:!0,thumbWidth:15,watch:!0};function IUt(e,t){return(function(){return Array.from(document.querySelectorAll(t)).includes(this)}).call(e,t)}function RUt(e,t){if(e&&t){var n=new Event(t,{bubbles:!0});e.dispatchEvent(n)}}var ak=function(e){return e!=null?e.constructor:null},RZ=function(e,t){return!!(e&&t&&e instanceof t)},zNe=function(e){return e==null},UNe=function(e){return ak(e)===Object},$Ut=function(e){return ak(e)===Number&&!Number.isNaN(e)},HNe=function(e){return ak(e)===String},DUt=function(e){return ak(e)===Boolean},MUt=function(e){return ak(e)===Function},VNe=function(e){return Array.isArray(e)},WNe=function(e){return RZ(e,NodeList)},PUt=function(e){return RZ(e,Element)},NUt=function(e){return RZ(e,Event)},OUt=function(e){return zNe(e)||(HNe(e)||VNe(e)||WNe(e))&&!e.length||UNe(e)&&!Object.keys(e).length},Ls={nullOrUndefined:zNe,object:UNe,number:$Ut,string:HNe,boolean:DUt,function:MUt,array:VNe,nodeList:WNe,element:PUt,event:NUt,empty:OUt};function LUt(e){var t="".concat(e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}function FUt(e,t){if(1>t){var n=LUt(t);return parseFloat(e.toFixed(n))}return Math.round(e/t)*t}var BUt=function(){function e(t,n){CUt(this,e),Ls.element(t)?this.element=t:Ls.string(t)&&(this.element=document.querySelector(t)),Ls.element(this.element)&&Ls.empty(this.element.rangeTouch)&&(this.config=kpe({},Ipe,{},n),this.init())}return AUt(e,[{key:"init",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(t){var n=this,r=t?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach(function(i){n.element[r](i,function(o){return n.set(o)},!1)})}},{key:"get",value:function(t){if(!e.enabled||!Ls.event(t))return null;var n,r=t.target,i=t.changedTouches[0],o=parseFloat(r.getAttribute("min"))||0,s=parseFloat(r.getAttribute("max"))||100,a=parseFloat(r.getAttribute("step"))||1,l=r.getBoundingClientRect(),u=100/l.width*(this.config.thumbWidth/2)/100;return 0>(n=100/l.width*(i.clientX-l.left))?n=0:100<n&&(n=100),50>n?n-=(100-2*n)*u:50<n&&(n+=2*(n-50)*u),o+FUt(n/100*(s-o),a)}},{key:"set",value:function(t){e.enabled&&Ls.event(t)&&!t.target.disabled&&(t.preventDefault(),t.target.value=this.get(t),RUt(t.target,t.type==="touchend"?"change":"input"))}}],[{key:"setup",value:function(t){var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},r=null;if(Ls.empty(t)||Ls.string(t)?r=Array.from(document.querySelectorAll(Ls.string(t)?t:'input[type="range"]')):Ls.element(t)?r=[t]:Ls.nodeList(t)?r=Array.from(t):Ls.array(t)&&(r=t.filter(Ls.element)),Ls.empty(r))return null;var i=kpe({},Ipe,{},n);if(Ls.string(t)&&i.watch){var o=new MutationObserver(function(s){Array.from(s).forEach(function(a){Array.from(a.addedNodes).forEach(function(l){Ls.element(l)&&IUt(l,t)&&new e(l,i)})})});o.observe(document.body,{childList:!0,subtree:!0})}return r.map(function(s){return new e(s,n)})}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),e}();const lk=e=>e!=null?e.constructor:null,Mp=(e,t)=>!!(e&&t&&e instanceof t),$Z=e=>e==null,qNe=e=>lk(e)===Object,jUt=e=>lk(e)===Number&&!Number.isNaN(e),i4=e=>lk(e)===String,zUt=e=>lk(e)===Boolean,GNe=e=>typeof e=="function",YNe=e=>Array.isArray(e),UUt=e=>Mp(e,WeakMap),KNe=e=>Mp(e,NodeList),HUt=e=>lk(e)===Text,VUt=e=>Mp(e,Event),WUt=e=>Mp(e,KeyboardEvent),qUt=e=>Mp(e,window.TextTrackCue)||Mp(e,window.VTTCue),GUt=e=>Mp(e,TextTrack)||!$Z(e)&&i4(e.kind),YUt=e=>Mp(e,Promise)&&GNe(e.then),KUt=e=>e!==null&&typeof e=="object"&&e.nodeType===1&&typeof e.style=="object"&&typeof e.ownerDocument=="object",XNe=e=>$Z(e)||(i4(e)||YNe(e)||KNe(e))&&!e.length||qNe(e)&&!Object.keys(e).length,XUt=e=>{if(Mp(e,window.URL))return!0;if(!i4(e))return!1;let t=e;e.startsWith("http://")&&e.startsWith("https://")||(t=`http://${e}`);try{return!XNe(new URL(t).hostname)}catch{return!1}};var ae={nullOrUndefined:$Z,object:qNe,number:jUt,string:i4,boolean:zUt,function:GNe,array:YNe,weakMap:UUt,nodeList:KNe,element:KUt,textNode:HUt,event:VUt,keyboardEvent:WUt,cue:qUt,track:GUt,promise:YUt,url:XUt,empty:XNe};const wU=(()=>{const e=document.createElement("span"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},n=Object.keys(t).find(r=>e.style[r]!==void 0);return!!ae.string(n)&&t[n]})();function QNe(e,t){setTimeout(()=>{try{e.hidden=!0,e.offsetHeight,e.hidden=!1}catch{}},t)}const QUt=!!window.document.documentMode,JUt=/Edge/g.test(navigator.userAgent),ZUt="WebkitAppearance"in document.documentElement.style&&!/Edge/g.test(navigator.userAgent),eHt=/iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1,tHt=navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,nHt=/iPad|iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1;var _o={isIE:QUt,isEdge:JUt,isWebKit:ZUt,isIPhone:eHt,isIPadOS:tHt,isIos:nHt};function rHt(e){return JSON.parse(JSON.stringify(e))}function JNe(e,t){return t.split(".").reduce((n,r)=>n&&n[r],e)}function Ri(e={},...t){if(!t.length)return e;const n=t.shift();return ae.object(n)?(Object.keys(n).forEach(r=>{ae.object(n[r])?(Object.keys(e).includes(r)||Object.assign(e,{[r]:{}}),Ri(e[r],n[r])):Object.assign(e,{[r]:n[r]})}),Ri(e,...t)):e}function ZNe(e,t){const n=e.length?e:[e];Array.from(n).reverse().forEach((r,i)=>{const o=i>0?t.cloneNode(!0):t,s=r.parentNode,a=r.nextSibling;o.appendChild(r),a?s.insertBefore(o,a):s.appendChild(o)})}function xU(e,t){ae.element(e)&&!ae.empty(t)&&Object.entries(t).filter(([,n])=>!ae.nullOrUndefined(n)).forEach(([n,r])=>e.setAttribute(n,r))}function en(e,t,n){const r=document.createElement(e);return ae.object(t)&&xU(r,t),ae.string(n)&&(r.innerText=n),r}function iHt(e,t){ae.element(e)&&ae.element(t)&&t.parentNode.insertBefore(e,t.nextSibling)}function Rpe(e,t,n,r){ae.element(t)&&t.appendChild(en(e,n,r))}function qf(e){ae.nodeList(e)||ae.array(e)?Array.from(e).forEach(qf):ae.element(e)&&ae.element(e.parentNode)&&e.parentNode.removeChild(e)}function _R(e){if(!ae.element(e))return;let{length:t}=e.childNodes;for(;t>0;)e.removeChild(e.lastChild),t-=1}function HM(e,t){return ae.element(t)&&ae.element(t.parentNode)&&ae.element(e)?(t.parentNode.replaceChild(e,t),e):null}function Ld(e,t){if(!ae.string(e)||ae.empty(e))return{};const n={},r=Ri({},t);return e.split(",").forEach(i=>{const o=i.trim(),s=o.replace(".",""),a=o.replace(/[[\]]/g,"").split("="),[l]=a,u=a.length>1?a[1].replace(/["']/g,""):"";switch(o.charAt(0)){case".":ae.string(r.class)?n.class=`${r.class} ${s}`:n.class=s;break;case"#":n.id=o.replace("#","");break;case"[":n[l]=u}}),Ri(r,n)}function H0(e,t){if(!ae.element(e))return;let n=t;ae.boolean(n)||(n=!e.hidden),e.hidden=n}function ar(e,t,n){if(ae.nodeList(e))return Array.from(e).map(r=>ar(r,t,n));if(ae.element(e)){let r="toggle";return n!==void 0&&(r=n?"add":"remove"),e.classList[r](t),e.classList.contains(t)}return!1}function VM(e,t){return ae.element(e)&&e.classList.contains(t)}function ky(e,t){const{prototype:n}=Element;return(n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||function(){return Array.from(document.querySelectorAll(t)).includes(this)}).call(e,t)}function oHt(e,t){const{prototype:n}=Element;return(n.closest||function(){let r=this;do{if(ky.matches(r,t))return r;r=r.parentElement||r.parentNode}while(r!==null&&r.nodeType===1);return null}).call(e,t)}function mA(e){return this.elements.container.querySelectorAll(e)}function Ji(e){return this.elements.container.querySelector(e)}function KB(e=null,t=!1){ae.element(e)&&e.focus({preventScroll:!0,focusVisible:t})}const $pe={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},Di={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check(e,t){const n=Di[e]||t!=="html5";return{api:n,ui:n&&Di.rangeInput}},pip:!(_o.isIPhone||!ae.function(en("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||en("video").disablePictureInPicture)),airplay:ae.function(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime(e){if(ae.empty(e))return!1;const[t]=e.split("/");let n=e;if(!this.isHTML5||t!==this.type)return!1;Object.keys($pe).includes(n)&&(n+=`; codecs="${$pe[e]}"`);try{return!!(n&&this.media.canPlayType(n).replace(/no/,""))}catch{return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:(()=>{const e=document.createElement("input");return e.type="range",e.type==="range"})(),touch:"ontouchstart"in document.documentElement,transitions:wU!==!1,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},sHt=(()=>{let e=!1;try{const t=Object.defineProperty({},"passive",{get:()=>(e=!0,null)});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return e})();function gA(e,t,n,r=!1,i=!0,o=!1){if(!e||!("addEventListener"in e)||ae.empty(t)||!ae.function(n))return;const s=t.split(" ");let a=o;sHt&&(a={passive:i,capture:o}),s.forEach(l=>{this&&this.eventListeners&&r&&this.eventListeners.push({element:e,type:l,callback:n,options:a}),e[r?"addEventListener":"removeEventListener"](l,n,a)})}function Yn(e,t="",n,r=!0,i=!1){gA.call(this,e,t,n,!0,r,i)}function o4(e,t="",n,r=!0,i=!1){gA.call(this,e,t,n,!1,r,i)}function DZ(e,t="",n,r=!0,i=!1){const o=(...s)=>{o4(e,t,o,r,i),n.apply(this,s)};gA.call(this,e,t,o,!0,r,i)}function tn(e,t="",n=!1,r={}){if(!ae.element(e)||ae.empty(t))return;const i=new CustomEvent(t,{bubbles:n,detail:{...r,plyr:this}});e.dispatchEvent(i)}function aHt(){this&&this.eventListeners&&(this.eventListeners.forEach(e=>{const{element:t,type:n,callback:r,options:i}=e;t.removeEventListener(n,r,i)}),this.eventListeners=[])}function lHt(){return new Promise(e=>this.ready?setTimeout(e,0):Yn.call(this,this.elements.container,"ready",e)).then(()=>{})}function Kd(e){ae.promise(e)&&e.then(null,()=>{})}function _U(e){return ae.array(e)?e.filter((t,n)=>e.indexOf(t)===n):e}function eOe(e,t){return ae.array(e)&&e.length?e.reduce((n,r)=>Math.abs(r-t)<Math.abs(n-t)?r:n):null}function tOe(e){return!(!window||!window.CSS)&&window.CSS.supports(e)}const Dpe=[[1,1],[4,3],[3,4],[5,4],[4,5],[3,2],[2,3],[16,10],[10,16],[16,9],[9,16],[21,9],[9,21],[32,9],[9,32]].reduce((e,[t,n])=>({...e,[t/n]:[t,n]}),{});function nOe(e){return ae.array(e)||ae.string(e)&&e.includes(":")?(ae.array(e)?e:e.split(":")).map(Number).every(ae.number):!1}function WM(e){if(!ae.array(e)||!e.every(ae.number))return null;const[t,n]=e,r=(o,s)=>s===0?o:r(s,o%s),i=r(t,n);return[t/i,n/i]}function MZ(e){const t=r=>nOe(r)?r.split(":").map(Number):null;let n=t(e);if(n===null&&(n=t(this.config.ratio)),n===null&&!ae.empty(this.embed)&&ae.array(this.embed.ratio)&&({ratio:n}=this.embed),n===null&&this.isHTML5){const{videoWidth:r,videoHeight:i}=this.media;n=[r,i]}return WM(n)}function kx(e){if(!this.isVideo)return{};const{wrapper:t}=this.elements,n=MZ.call(this,e);if(!ae.array(n))return{};const[r,i]=WM(n),o=100/r*i;if(tOe(`aspect-ratio: ${r}/${i}`)?t.style.aspectRatio=`${r}/${i}`:t.style.paddingBottom=`${o}%`,this.isVimeo&&!this.config.vimeo.premium&&this.supported.ui){const s=100/this.media.offsetWidth*parseInt(window.getComputedStyle(this.media).paddingBottom,10),a=(s-o)/(s/50);this.fullscreen.active?t.style.paddingBottom=null:this.media.style.transform=`translateY(-${a}%)`}else this.isHTML5&&t.classList.add(this.config.classNames.videoFixedRatio);return{padding:o,ratio:n}}function rOe(e,t,n=.05){const r=e/t,i=eOe(Object.keys(Dpe),r);return Math.abs(i-r)<=n?Dpe[i]:[e,t]}function uHt(){return[Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)]}const qm={getSources(){return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter(e=>{const t=e.getAttribute("type");return!!ae.empty(t)||Di.mime.call(this,t)}):[]},getQualityOptions(){return this.config.quality.forced?this.config.quality.options:qm.getSources.call(this).map(e=>Number(e.getAttribute("size"))).filter(Boolean)},setup(){if(!this.isHTML5)return;const e=this;e.options.speed=e.config.speed.options,ae.empty(this.config.ratio)||kx.call(e),Object.defineProperty(e.media,"quality",{get(){const t=qm.getSources.call(e).find(n=>n.getAttribute("src")===e.source);return t&&Number(t.getAttribute("size"))},set(t){if(e.quality!==t){if(e.config.quality.forced&&ae.function(e.config.quality.onChange))e.config.quality.onChange(t);else{const n=qm.getSources.call(e).find(l=>Number(l.getAttribute("size"))===t);if(!n)return;const{currentTime:r,paused:i,preload:o,readyState:s,playbackRate:a}=e.media;e.media.src=n.getAttribute("src"),(o!=="none"||s)&&(e.once("loadedmetadata",()=>{e.speed=a,e.currentTime=r,i||Kd(e.play())}),e.media.load())}tn.call(e,e.media,"qualitychange",!1,{quality:t})}}})},cancelRequests(){this.isHTML5&&(qf(qm.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function cHt(e){return`${e}-${Math.floor(1e4*Math.random())}`}function EU(e,...t){return ae.empty(e)?e:e.toString().replace(/{(\d+)}/g,(n,r)=>t[r].toString())}function dHt(e,t){return e===0||t===0||Number.isNaN(e)||Number.isNaN(t)?0:(e/t*100).toFixed(2)}const $T=(e="",t="",n="")=>e.replace(new RegExp(t.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),n.toString()),iOe=(e="")=>e.toString().replace(/\w\S*/g,t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase());function hHt(e=""){let t=e.toString();return t=$T(t,"-"," "),t=$T(t,"_"," "),t=iOe(t),$T(t," ","")}function fHt(e=""){let t=e.toString();return t=hHt(t),t.charAt(0).toLowerCase()+t.slice(1)}function pHt(e){const t=document.createDocumentFragment(),n=document.createElement("div");return t.appendChild(n),n.innerHTML=e,t.firstChild.innerText}function mHt(e){const t=document.createElement("div");return t.appendChild(e),t.innerHTML}const Mpe={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},bo={get(e="",t={}){if(ae.empty(e)||ae.empty(t))return"";let n=JNe(t.i18n,e);if(ae.empty(n))return Object.keys(Mpe).includes(e)?Mpe[e]:"";const r={"{seektime}":t.seekTime,"{title}":t.title};return Object.entries(r).forEach(([i,o])=>{n=$T(n,i,o)}),n}};class yA{constructor(t){Et(this,"get",n=>{if(!yA.supported||!this.enabled)return null;const r=window.localStorage.getItem(this.key);if(ae.empty(r))return null;const i=JSON.parse(r);return ae.string(n)&&n.length?i[n]:i}),Et(this,"set",n=>{if(!yA.supported||!this.enabled||!ae.object(n))return;let r=this.get();ae.empty(r)&&(r={}),Ri(r,n);try{window.localStorage.setItem(this.key,JSON.stringify(r))}catch{}}),this.enabled=t.config.storage.enabled,this.key=t.config.storage.key}static get supported(){try{if(!("localStorage"in window))return!1;const t="___test";return window.localStorage.setItem(t,t),window.localStorage.removeItem(t),!0}catch{return!1}}}function uk(e,t="text"){return new Promise((n,r)=>{try{const i=new XMLHttpRequest;if(!("withCredentials"in i))return;i.addEventListener("load",()=>{if(t==="text")try{n(JSON.parse(i.responseText))}catch{n(i.responseText)}else n(i.response)}),i.addEventListener("error",()=>{throw new Error(i.status)}),i.open("GET",e,!0),i.responseType=t,i.send()}catch(i){r(i)}})}function oOe(e,t){if(!ae.string(e))return;const n="cache",r=ae.string(t);let i=!1;const o=()=>document.getElementById(t)!==null,s=(a,l)=>{a.innerHTML=l,r&&o()||document.body.insertAdjacentElement("afterbegin",a)};if(!r||!o()){const a=yA.supported,l=document.createElement("div");if(l.setAttribute("hidden",""),r&&l.setAttribute("id",t),a){const u=window.localStorage.getItem(`${n}-${t}`);if(i=u!==null,i){const c=JSON.parse(u);s(l,c.content)}}uk(e).then(u=>{if(!ae.empty(u)){if(a)try{window.localStorage.setItem(`${n}-${t}`,JSON.stringify({content:u}))}catch{}s(l,u)}}).catch(()=>{})}}const sOe=e=>Math.trunc(e/60/60%60,10),gHt=e=>Math.trunc(e/60%60,10),yHt=e=>Math.trunc(e%60,10);function s4(e=0,t=!1,n=!1){if(!ae.number(e))return s4(void 0,t,n);const r=a=>`0${a}`.slice(-2);let i=sOe(e);const o=gHt(e),s=yHt(e);return i=t||i>0?`${i}:`:"",`${n&&e>0?"-":""}${i}${r(o)}:${r(s)}`}const bt={getIconUrl(){const e=new URL(this.config.iconUrl,window.location),t=window.location.host?window.location.host:window.top.location.host,n=e.host!==t||_o.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:n}},findElements(){try{return this.elements.controls=Ji.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:mA.call(this,this.config.selectors.buttons.play),pause:Ji.call(this,this.config.selectors.buttons.pause),restart:Ji.call(this,this.config.selectors.buttons.restart),rewind:Ji.call(this,this.config.selectors.buttons.rewind),fastForward:Ji.call(this,this.config.selectors.buttons.fastForward),mute:Ji.call(this,this.config.selectors.buttons.mute),pip:Ji.call(this,this.config.selectors.buttons.pip),airplay:Ji.call(this,this.config.selectors.buttons.airplay),settings:Ji.call(this,this.config.selectors.buttons.settings),captions:Ji.call(this,this.config.selectors.buttons.captions),fullscreen:Ji.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=Ji.call(this,this.config.selectors.progress),this.elements.inputs={seek:Ji.call(this,this.config.selectors.inputs.seek),volume:Ji.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:Ji.call(this,this.config.selectors.display.buffer),currentTime:Ji.call(this,this.config.selectors.display.currentTime),duration:Ji.call(this,this.config.selectors.display.duration)},ae.element(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(`.${this.config.classNames.tooltip}`)),!0}catch(e){return this.debug.warn("It looks like there is a problem with your custom controls HTML",e),this.toggleNativeControls(!0),!1}},createIcon(e,t){const n="http://www.w3.org/2000/svg",r=bt.getIconUrl.call(this),i=`${r.cors?"":r.url}#${this.config.iconPrefix}`,o=document.createElementNS(n,"svg");xU(o,Ri(t,{"aria-hidden":"true",focusable:"false"}));const s=document.createElementNS(n,"use"),a=`${i}-${e}`;return"href"in s&&s.setAttributeNS("http://www.w3.org/1999/xlink","href",a),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a),o.appendChild(s),o},createLabel(e,t={}){const n=bo.get(e,this.config);return en("span",{...t,class:[t.class,this.config.classNames.hidden].filter(Boolean).join(" ")},n)},createBadge(e){if(ae.empty(e))return null;const t=en("span",{class:this.config.classNames.menu.value});return t.appendChild(en("span",{class:this.config.classNames.menu.badge},e)),t},createButton(e,t){const n=Ri({},t);let r=fHt(e);const i={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach(s=>{Object.keys(n).includes(s)&&(i[s]=n[s],delete n[s])}),i.element!=="button"||Object.keys(n).includes("type")||(n.type="button"),Object.keys(n).includes("class")?n.class.split(" ").some(s=>s===this.config.classNames.control)||Ri(n,{class:`${n.class} ${this.config.classNames.control}`}):n.class=this.config.classNames.control,e){case"play":i.toggle=!0,i.label="play",i.labelPressed="pause",i.icon="play",i.iconPressed="pause";break;case"mute":i.toggle=!0,i.label="mute",i.labelPressed="unmute",i.icon="volume",i.iconPressed="muted";break;case"captions":i.toggle=!0,i.label="enableCaptions",i.labelPressed="disableCaptions",i.icon="captions-off",i.iconPressed="captions-on";break;case"fullscreen":i.toggle=!0,i.label="enterFullscreen",i.labelPressed="exitFullscreen",i.icon="enter-fullscreen",i.iconPressed="exit-fullscreen";break;case"play-large":n.class+=` ${this.config.classNames.control}--overlaid`,r="play",i.label="play",i.icon="play";break;default:ae.empty(i.label)&&(i.label=r),ae.empty(i.icon)&&(i.icon=e)}const o=en(i.element);return i.toggle?(o.appendChild(bt.createIcon.call(this,i.iconPressed,{class:"icon--pressed"})),o.appendChild(bt.createIcon.call(this,i.icon,{class:"icon--not-pressed"})),o.appendChild(bt.createLabel.call(this,i.labelPressed,{class:"label--pressed"})),o.appendChild(bt.createLabel.call(this,i.label,{class:"label--not-pressed"}))):(o.appendChild(bt.createIcon.call(this,i.icon)),o.appendChild(bt.createLabel.call(this,i.label))),Ri(n,Ld(this.config.selectors.buttons[r],n)),xU(o,n),r==="play"?(ae.array(this.elements.buttons[r])||(this.elements.buttons[r]=[]),this.elements.buttons[r].push(o)):this.elements.buttons[r]=o,o},createRange(e,t){const n=en("input",Ri(Ld(this.config.selectors.inputs[e]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":bo.get(e,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},t));return this.elements.inputs[e]=n,bt.updateRangeFill.call(this,n),BUt.setup(n),n},createProgress(e,t){const n=en("progress",Ri(Ld(this.config.selectors.display[e]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},t));if(e!=="volume"){n.appendChild(en("span",null,"0"));const r={played:"played",buffer:"buffered"}[e],i=r?bo.get(r,this.config):"";n.innerText=`% ${i.toLowerCase()}`}return this.elements.display[e]=n,n},createTime(e,t){const n=Ld(this.config.selectors.display[e],t),r=en("div",Ri(n,{class:`${n.class?n.class:""} ${this.config.classNames.display.time} `.trim(),"aria-label":bo.get(e,this.config),role:"timer"}),"00:00");return this.elements.display[e]=r,r},bindMenuItemShortcuts(e,t){Yn.call(this,e,"keydown keyup",n=>{if(![" ","ArrowUp","ArrowDown","ArrowRight"].includes(n.key)||(n.preventDefault(),n.stopPropagation(),n.type==="keydown"))return;const r=ky(e,'[role="menuitemradio"]');if(!r&&[" ","ArrowRight"].includes(n.key))bt.showMenuPanel.call(this,t,!0);else{let i;n.key!==" "&&(n.key==="ArrowDown"||r&&n.key==="ArrowRight"?(i=e.nextElementSibling,ae.element(i)||(i=e.parentNode.firstElementChild)):(i=e.previousElementSibling,ae.element(i)||(i=e.parentNode.lastElementChild)),KB.call(this,i,!0))}},!1),Yn.call(this,e,"keyup",n=>{n.key==="Return"&&bt.focusFirstMenuItem.call(this,null,!0)})},createMenuItem({value:e,list:t,type:n,title:r,badge:i=null,checked:o=!1}){const s=Ld(this.config.selectors.inputs[n]),a=en("button",Ri(s,{type:"button",role:"menuitemradio",class:`${this.config.classNames.control} ${s.class?s.class:""}`.trim(),"aria-checked":o,value:e})),l=en("span");l.innerHTML=r,ae.element(i)&&l.appendChild(i),a.appendChild(l),Object.defineProperty(a,"checked",{enumerable:!0,get:()=>a.getAttribute("aria-checked")==="true",set(u){u&&Array.from(a.parentNode.children).filter(c=>ky(c,'[role="menuitemradio"]')).forEach(c=>c.setAttribute("aria-checked","false")),a.setAttribute("aria-checked",u?"true":"false")}}),this.listeners.bind(a,"click keyup",u=>{if(!ae.keyboardEvent(u)||u.key===" "){switch(u.preventDefault(),u.stopPropagation(),a.checked=!0,n){case"language":this.currentTrack=Number(e);break;case"quality":this.quality=e;break;case"speed":this.speed=parseFloat(e)}bt.showMenuPanel.call(this,"home",ae.keyboardEvent(u))}},n,!1),bt.bindMenuItemShortcuts.call(this,a,n),t.appendChild(a)},formatTime(e=0,t=!1){return ae.number(e)?s4(e,sOe(this.duration)>0,t):e},updateTimeDisplay(e=null,t=0,n=!1){ae.element(e)&&ae.number(t)&&(e.innerText=bt.formatTime(t,n))},updateVolume(){this.supported.ui&&(ae.element(this.elements.inputs.volume)&&bt.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),ae.element(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||this.volume===0))},setRange(e,t=0){ae.element(e)&&(e.value=t,bt.updateRangeFill.call(this,e))},updateProgress(e){if(!this.supported.ui||!ae.event(e))return;let t=0;const n=(r,i)=>{const o=ae.number(i)?i:0,s=ae.element(r)?r:this.elements.display.buffer;if(ae.element(s)){s.value=o;const a=s.getElementsByTagName("span")[0];ae.element(a)&&(a.childNodes[0].nodeValue=o)}};if(e)switch(e.type){case"timeupdate":case"seeking":case"seeked":t=dHt(this.currentTime,this.duration),e.type==="timeupdate"&&bt.setRange.call(this,this.elements.inputs.seek,t);break;case"playing":case"progress":n(this.elements.display.buffer,100*this.buffered)}},updateRangeFill(e){const t=ae.event(e)?e.target:e;if(ae.element(t)&&t.getAttribute("type")==="range"){if(ky(t,this.config.selectors.inputs.seek)){t.setAttribute("aria-valuenow",this.currentTime);const n=bt.formatTime(this.currentTime),r=bt.formatTime(this.duration),i=bo.get("seekLabel",this.config);t.setAttribute("aria-valuetext",i.replace("{currentTime}",n).replace("{duration}",r))}else if(ky(t,this.config.selectors.inputs.volume)){const n=100*t.value;t.setAttribute("aria-valuenow",n),t.setAttribute("aria-valuetext",`${n.toFixed(1)}%`)}else t.setAttribute("aria-valuenow",t.value);(_o.isWebKit||_o.isIPadOS)&&t.style.setProperty("--value",t.value/t.max*100+"%")}},updateSeekTooltip(e){var t,n;if(!this.config.tooltips.seek||!ae.element(this.elements.inputs.seek)||!ae.element(this.elements.display.seekTooltip)||this.duration===0)return;const r=this.elements.display.seekTooltip,i=`${this.config.classNames.tooltip}--visible`,o=c=>ar(r,i,c);if(this.touch)return void o(!1);let s=0;const a=this.elements.progress.getBoundingClientRect();if(ae.event(e))s=100/a.width*(e.pageX-a.left);else{if(!VM(r,i))return;s=parseFloat(r.style.left,10)}s<0?s=0:s>100&&(s=100);const l=this.duration/100*s;r.innerText=bt.formatTime(l);const u=(t=this.config.markers)===null||t===void 0||(n=t.points)===null||n===void 0?void 0:n.find(({time:c})=>c===Math.round(l));u&&r.insertAdjacentHTML("afterbegin",`${u.label}<br>`),r.style.left=`${s}%`,ae.event(e)&&["mouseenter","mouseleave"].includes(e.type)&&o(e.type==="mouseenter")},timeUpdate(e){const t=!ae.element(this.elements.display.duration)&&this.config.invertTime;bt.updateTimeDisplay.call(this,this.elements.display.currentTime,t?this.duration-this.currentTime:this.currentTime,t),e&&e.type==="timeupdate"&&this.media.seeking||bt.updateProgress.call(this,e)},durationUpdate(){if(!this.supported.ui||!this.config.invertTime&&this.currentTime)return;if(this.duration>=2**32)return H0(this.elements.display.currentTime,!0),void H0(this.elements.progress,!0);ae.element(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);const e=ae.element(this.elements.display.duration);!e&&this.config.displayDuration&&this.paused&&bt.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),e&&bt.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),this.config.markers.enabled&&bt.setMarkers.call(this),bt.updateSeekTooltip.call(this)},toggleMenuButton(e,t){H0(this.elements.settings.buttons[e],!t)},updateSetting(e,t,n){const r=this.elements.settings.panels[e];let i=null,o=t;if(e==="captions")i=this.currentTrack;else{if(i=ae.empty(n)?this[e]:n,ae.empty(i)&&(i=this.config[e].default),!ae.empty(this.options[e])&&!this.options[e].includes(i))return void this.debug.warn(`Unsupported value of '${i}' for ${e}`);if(!this.config[e].options.includes(i))return void this.debug.warn(`Disabled value of '${i}' for ${e}`)}if(ae.element(o)||(o=r&&r.querySelector('[role="menu"]')),!ae.element(o))return;this.elements.settings.buttons[e].querySelector(`.${this.config.classNames.menu.value}`).innerHTML=bt.getLabel.call(this,e,i);const s=o&&o.querySelector(`[value="${i}"]`);ae.element(s)&&(s.checked=!0)},getLabel(e,t){switch(e){case"speed":return t===1?bo.get("normal",this.config):`${t}&times;`;case"quality":if(ae.number(t)){const n=bo.get(`qualityLabel.${t}`,this.config);return n.length?n:`${t}p`}return iOe(t);case"captions":return Qn.getLabel.call(this);default:return null}},setQualityMenu(e){if(!ae.element(this.elements.settings.panels.quality))return;const t="quality",n=this.elements.settings.panels.quality.querySelector('[role="menu"]');ae.array(e)&&(this.options.quality=_U(e).filter(o=>this.config.quality.options.includes(o)));const r=!ae.empty(this.options.quality)&&this.options.quality.length>1;if(bt.toggleMenuButton.call(this,t,r),_R(n),bt.checkMenu.call(this),!r)return;const i=o=>{const s=bo.get(`qualityBadge.${o}`,this.config);return s.length?bt.createBadge.call(this,s):null};this.options.quality.sort((o,s)=>{const a=this.config.quality.options;return a.indexOf(o)>a.indexOf(s)?1:-1}).forEach(o=>{bt.createMenuItem.call(this,{value:o,list:n,type:t,title:bt.getLabel.call(this,"quality",o),badge:i(o)})}),bt.updateSetting.call(this,t,n)},setCaptionsMenu(){if(!ae.element(this.elements.settings.panels.captions))return;const e="captions",t=this.elements.settings.panels.captions.querySelector('[role="menu"]'),n=Qn.getTracks.call(this),r=!!n.length;if(bt.toggleMenuButton.call(this,e,r),_R(t),bt.checkMenu.call(this),!r)return;const i=n.map((o,s)=>({value:s,checked:this.captions.toggled&&this.currentTrack===s,title:Qn.getLabel.call(this,o),badge:o.language&&bt.createBadge.call(this,o.language.toUpperCase()),list:t,type:"language"}));i.unshift({value:-1,checked:!this.captions.toggled,title:bo.get("disabled",this.config),list:t,type:"language"}),i.forEach(bt.createMenuItem.bind(this)),bt.updateSetting.call(this,e,t)},setSpeedMenu(){if(!ae.element(this.elements.settings.panels.speed))return;const e="speed",t=this.elements.settings.panels.speed.querySelector('[role="menu"]');this.options.speed=this.options.speed.filter(r=>r>=this.minimumSpeed&&r<=this.maximumSpeed);const n=!ae.empty(this.options.speed)&&this.options.speed.length>1;bt.toggleMenuButton.call(this,e,n),_R(t),bt.checkMenu.call(this),n&&(this.options.speed.forEach(r=>{bt.createMenuItem.call(this,{value:r,list:t,type:e,title:bt.getLabel.call(this,"speed",r)})}),bt.updateSetting.call(this,e,t))},checkMenu(){const{buttons:e}=this.elements.settings,t=!ae.empty(e)&&Object.values(e).some(n=>!n.hidden);H0(this.elements.settings.menu,!t)},focusFirstMenuItem(e,t=!1){if(this.elements.settings.popup.hidden)return;let n=e;ae.element(n)||(n=Object.values(this.elements.settings.panels).find(i=>!i.hidden));const r=n.querySelector('[role^="menuitem"]');KB.call(this,r,t)},toggleMenu(e){const{popup:t}=this.elements.settings,n=this.elements.buttons.settings;if(!ae.element(t)||!ae.element(n))return;const{hidden:r}=t;let i=r;if(ae.boolean(e))i=e;else if(ae.keyboardEvent(e)&&e.key==="Escape")i=!1;else if(ae.event(e)){const o=ae.function(e.composedPath)?e.composedPath()[0]:e.target,s=t.contains(o);if(s||!s&&e.target!==n&&i)return}n.setAttribute("aria-expanded",i),H0(t,!i),ar(this.elements.container,this.config.classNames.menu.open,i),i&&ae.keyboardEvent(e)?bt.focusFirstMenuItem.call(this,null,!0):i||r||KB.call(this,n,ae.keyboardEvent(e))},getMenuSize(e){const t=e.cloneNode(!0);t.style.position="absolute",t.style.opacity=0,t.removeAttribute("hidden"),e.parentNode.appendChild(t);const n=t.scrollWidth,r=t.scrollHeight;return qf(t),{width:n,height:r}},showMenuPanel(e="",t=!1){const n=this.elements.container.querySelector(`#plyr-settings-${this.id}-${e}`);if(!ae.element(n))return;const r=n.parentNode,i=Array.from(r.children).find(o=>!o.hidden);if(Di.transitions&&!Di.reducedMotion){r.style.width=`${i.scrollWidth}px`,r.style.height=`${i.scrollHeight}px`;const o=bt.getMenuSize.call(this,n),s=a=>{a.target===r&&["width","height"].includes(a.propertyName)&&(r.style.width="",r.style.height="",o4.call(this,r,wU,s))};Yn.call(this,r,wU,s),r.style.width=`${o.width}px`,r.style.height=`${o.height}px`}H0(i,!0),H0(n,!1),bt.focusFirstMenuItem.call(this,n,t)},setDownloadUrl(){const e=this.elements.buttons.download;ae.element(e)&&e.setAttribute("href",this.download)},create(e){const{bindMenuItemShortcuts:t,createButton:n,createProgress:r,createRange:i,createTime:o,setQualityMenu:s,setSpeedMenu:a,showMenuPanel:l}=bt;this.elements.controls=null,ae.array(this.config.controls)&&this.config.controls.includes("play-large")&&this.elements.container.appendChild(n.call(this,"play-large"));const u=en("div",Ld(this.config.selectors.controls.wrapper));this.elements.controls=u;const c={class:"plyr__controls__item"};return _U(ae.array(this.config.controls)?this.config.controls:[]).forEach(d=>{if(d==="restart"&&u.appendChild(n.call(this,"restart",c)),d==="rewind"&&u.appendChild(n.call(this,"rewind",c)),d==="play"&&u.appendChild(n.call(this,"play",c)),d==="fast-forward"&&u.appendChild(n.call(this,"fast-forward",c)),d==="progress"){const h=en("div",{class:`${c.class} plyr__progress__container`}),f=en("div",Ld(this.config.selectors.progress));if(f.appendChild(i.call(this,"seek",{id:`plyr-seek-${e.id}`})),f.appendChild(r.call(this,"buffer")),this.config.tooltips.seek){const p=en("span",{class:this.config.classNames.tooltip},"00:00");f.appendChild(p),this.elements.display.seekTooltip=p}this.elements.progress=f,h.appendChild(this.elements.progress),u.appendChild(h)}if(d==="current-time"&&u.appendChild(o.call(this,"currentTime",c)),d==="duration"&&u.appendChild(o.call(this,"duration",c)),d==="mute"||d==="volume"){let{volume:h}=this.elements;if(ae.element(h)&&u.contains(h)||(h=en("div",Ri({},c,{class:`${c.class} plyr__volume`.trim()})),this.elements.volume=h,u.appendChild(h)),d==="mute"&&h.appendChild(n.call(this,"mute")),d==="volume"&&!_o.isIos&&!_o.isIPadOS){const f={max:1,step:.05,value:this.config.volume};h.appendChild(i.call(this,"volume",Ri(f,{id:`plyr-volume-${e.id}`})))}}if(d==="captions"&&u.appendChild(n.call(this,"captions",c)),d==="settings"&&!ae.empty(this.config.settings)){const h=en("div",Ri({},c,{class:`${c.class} plyr__menu`.trim(),hidden:""}));h.appendChild(n.call(this,"settings",{"aria-haspopup":!0,"aria-controls":`plyr-settings-${e.id}`,"aria-expanded":!1}));const f=en("div",{class:"plyr__menu__container",id:`plyr-settings-${e.id}`,hidden:""}),p=en("div"),m=en("div",{id:`plyr-settings-${e.id}-home`}),g=en("div",{role:"menu"});m.appendChild(g),p.appendChild(m),this.elements.settings.panels.home=m,this.config.settings.forEach(y=>{const v=en("button",Ri(Ld(this.config.selectors.buttons.settings),{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--forward`,role:"menuitem","aria-haspopup":!0,hidden:""}));t.call(this,v,y),Yn.call(this,v,"click",()=>{l.call(this,y,!1)});const b=en("span",null,bo.get(y,this.config)),_=en("span",{class:this.config.classNames.menu.value});_.innerHTML=e[y],b.appendChild(_),v.appendChild(b),g.appendChild(v);const x=en("div",{id:`plyr-settings-${e.id}-${y}`,hidden:""}),w=en("button",{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--back`});w.appendChild(en("span",{"aria-hidden":!0},bo.get(y,this.config))),w.appendChild(en("span",{class:this.config.classNames.hidden},bo.get("menuBack",this.config))),Yn.call(this,x,"keydown",E=>{E.key==="ArrowLeft"&&(E.preventDefault(),E.stopPropagation(),l.call(this,"home",!0))},!1),Yn.call(this,w,"click",()=>{l.call(this,"home",!1)}),x.appendChild(w),x.appendChild(en("div",{role:"menu"})),p.appendChild(x),this.elements.settings.buttons[y]=v,this.elements.settings.panels[y]=x}),f.appendChild(p),h.appendChild(f),u.appendChild(h),this.elements.settings.popup=f,this.elements.settings.menu=h}if(d==="pip"&&Di.pip&&u.appendChild(n.call(this,"pip",c)),d==="airplay"&&Di.airplay&&u.appendChild(n.call(this,"airplay",c)),d==="download"){const h=Ri({},c,{element:"a",href:this.download,target:"_blank"});this.isHTML5&&(h.download="");const{download:f}=this.config.urls;!ae.url(f)&&this.isEmbed&&Ri(h,{icon:`logo-${this.provider}`,label:this.provider}),u.appendChild(n.call(this,"download",h))}d==="fullscreen"&&u.appendChild(n.call(this,"fullscreen",c))}),this.isHTML5&&s.call(this,qm.getQualityOptions.call(this)),a.call(this),u},inject(){if(this.config.loadSprite){const i=bt.getIconUrl.call(this);i.cors&&oOe(i.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());let e=null;this.elements.controls=null;const t={id:this.id,seektime:this.config.seekTime,title:this.config.title};let n=!0;ae.function(this.config.controls)&&(this.config.controls=this.config.controls.call(this,t)),this.config.controls||(this.config.controls=[]),ae.element(this.config.controls)||ae.string(this.config.controls)?e=this.config.controls:(e=bt.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:Qn.getLabel.call(this)}),n=!1);let r;if(n&&ae.string(this.config.controls)&&(e=(i=>{let o=i;return Object.entries(t).forEach(([s,a])=>{o=$T(o,`{${s}}`,a)}),o})(e)),ae.string(this.config.selectors.controls.container)&&(r=document.querySelector(this.config.selectors.controls.container)),ae.element(r)||(r=this.elements.container),r[ae.element(e)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",e),ae.element(this.elements.controls)||bt.findElements.call(this),!ae.empty(this.elements.buttons)){const i=o=>{const s=this.config.classNames.controlPressed;o.setAttribute("aria-pressed","false"),Object.defineProperty(o,"pressed",{configurable:!0,enumerable:!0,get:()=>VM(o,s),set(a=!1){ar(o,s,a),o.setAttribute("aria-pressed",a?"true":"false")}})};Object.values(this.elements.buttons).filter(Boolean).forEach(o=>{ae.array(o)||ae.nodeList(o)?Array.from(o).filter(Boolean).forEach(i):i(o)})}if(_o.isEdge&&QNe(r),this.config.tooltips.controls){const{classNames:i,selectors:o}=this.config,s=`${o.controls.wrapper} ${o.labels} .${i.hidden}`,a=mA.call(this,s);Array.from(a).forEach(l=>{ar(l,this.config.classNames.hidden,!1),ar(l,this.config.classNames.tooltip,!0)})}},setMediaMetadata(){try{"mediaSession"in navigator&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:this.config.mediaMetadata.title,artist:this.config.mediaMetadata.artist,album:this.config.mediaMetadata.album,artwork:this.config.mediaMetadata.artwork}))}catch{}},setMarkers(){var e,t;if(!this.duration||this.elements.markers)return;const n=(e=this.config.markers)===null||e===void 0||(t=e.points)===null||t===void 0?void 0:t.filter(({time:l})=>l>0&&l<this.duration);if(n==null||!n.length)return;const r=document.createDocumentFragment(),i=document.createDocumentFragment();let o=null;const s=`${this.config.classNames.tooltip}--visible`,a=l=>ar(o,s,l);n.forEach(l=>{const u=en("span",{class:this.config.classNames.marker},""),c=l.time/this.duration*100+"%";o&&(u.addEventListener("mouseenter",()=>{l.label||(o.style.left=c,o.innerHTML=l.label,a(!0))}),u.addEventListener("mouseleave",()=>{a(!1)})),u.addEventListener("click",()=>{this.currentTime=l.time}),u.style.left=c,i.appendChild(u)}),r.appendChild(i),this.config.tooltips.seek||(o=en("span",{class:this.config.classNames.tooltip},""),r.appendChild(o)),this.elements.markers={points:i,tip:o},this.elements.progress.appendChild(r)}};function aOe(e,t=!0){let n=e;if(t){const r=document.createElement("a");r.href=n,n=r.href}try{return new URL(n)}catch{return null}}function lOe(e){const t=new URLSearchParams;return ae.object(e)&&Object.entries(e).forEach(([n,r])=>{t.set(n,r)}),t}const Qn={setup(){if(!this.supported.ui)return;if(!this.isVideo||this.isYouTube||this.isHTML5&&!Di.textTracks)return void(ae.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&bt.setCaptionsMenu.call(this));if(ae.element(this.elements.captions)||(this.elements.captions=en("div",Ld(this.config.selectors.captions)),this.elements.captions.setAttribute("dir","auto"),iHt(this.elements.captions,this.elements.wrapper)),_o.isIE&&window.URL){const r=this.media.querySelectorAll("track");Array.from(r).forEach(i=>{const o=i.getAttribute("src"),s=aOe(o);s!==null&&s.hostname!==window.location.href.hostname&&["http:","https:"].includes(s.protocol)&&uk(o,"blob").then(a=>{i.setAttribute("src",window.URL.createObjectURL(a))}).catch(()=>{qf(i)})})}const e=_U((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map(r=>r.split("-")[0]));let t=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();t==="auto"&&([t]=e);let n=this.storage.get("captions");if(ae.boolean(n)||({active:n}=this.config.captions),Object.assign(this.captions,{toggled:!1,active:n,language:t,languages:e}),this.isHTML5){const r=this.config.captions.update?"addtrack removetrack":"removetrack";Yn.call(this,this.media.textTracks,r,Qn.update.bind(this))}setTimeout(Qn.update.bind(this),0)},update(){const e=Qn.getTracks.call(this,!0),{active:t,language:n,meta:r,currentTrackNode:i}=this.captions,o=!!e.find(s=>s.language===n);this.isHTML5&&this.isVideo&&e.filter(s=>!r.get(s)).forEach(s=>{this.debug.log("Track added",s),r.set(s,{default:s.mode==="showing"}),s.mode==="showing"&&(s.mode="hidden"),Yn.call(this,s,"cuechange",()=>Qn.updateCues.call(this))}),(o&&this.language!==n||!e.includes(i))&&(Qn.setLanguage.call(this,n),Qn.toggle.call(this,t&&o)),this.elements&&ar(this.elements.container,this.config.classNames.captions.enabled,!ae.empty(e)),ae.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&bt.setCaptionsMenu.call(this)},toggle(e,t=!0){if(!this.supported.ui)return;const{toggled:n}=this.captions,r=this.config.classNames.captions.active,i=ae.nullOrUndefined(e)?!n:e;if(i!==n){if(t||(this.captions.active=i,this.storage.set({captions:i})),!this.language&&i&&!t){const o=Qn.getTracks.call(this),s=Qn.findTrack.call(this,[this.captions.language,...this.captions.languages],!0);return this.captions.language=s.language,void Qn.set.call(this,o.indexOf(s))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=i),ar(this.elements.container,r,i),this.captions.toggled=i,bt.updateSetting.call(this,"captions"),tn.call(this,this.media,i?"captionsenabled":"captionsdisabled")}setTimeout(()=>{i&&this.captions.toggled&&(this.captions.currentTrackNode.mode="hidden")})},set(e,t=!0){const n=Qn.getTracks.call(this);if(e!==-1)if(ae.number(e))if(e in n){if(this.captions.currentTrack!==e){this.captions.currentTrack=e;const r=n[e],{language:i}=r||{};this.captions.currentTrackNode=r,bt.updateSetting.call(this,"captions"),t||(this.captions.language=i,this.storage.set({language:i})),this.isVimeo&&this.embed.enableTextTrack(i),tn.call(this,this.media,"languagechange")}Qn.toggle.call(this,!0,t),this.isHTML5&&this.isVideo&&Qn.updateCues.call(this)}else this.debug.warn("Track not found",e);else this.debug.warn("Invalid caption argument",e);else Qn.toggle.call(this,!1,t)},setLanguage(e,t=!0){if(!ae.string(e))return void this.debug.warn("Invalid language argument",e);const n=e.toLowerCase();this.captions.language=n;const r=Qn.getTracks.call(this),i=Qn.findTrack.call(this,[n]);Qn.set.call(this,r.indexOf(i),t)},getTracks(e=!1){return Array.from((this.media||{}).textTracks||[]).filter(t=>!this.isHTML5||e||this.captions.meta.has(t)).filter(t=>["captions","subtitles"].includes(t.kind))},findTrack(e,t=!1){const n=Qn.getTracks.call(this),r=s=>Number((this.captions.meta.get(s)||{}).default),i=Array.from(n).sort((s,a)=>r(a)-r(s));let o;return e.every(s=>(o=i.find(a=>a.language===s),!o)),o||(t?i[0]:void 0)},getCurrentTrack(){return Qn.getTracks.call(this)[this.currentTrack]},getLabel(e){let t=e;return!ae.track(t)&&Di.textTracks&&this.captions.toggled&&(t=Qn.getCurrentTrack.call(this)),ae.track(t)?ae.empty(t.label)?ae.empty(t.language)?bo.get("enabled",this.config):e.language.toUpperCase():t.label:bo.get("disabled",this.config)},updateCues(e){if(!this.supported.ui)return;if(!ae.element(this.elements.captions))return void this.debug.warn("No captions element to render to");if(!ae.nullOrUndefined(e)&&!Array.isArray(e))return void this.debug.warn("updateCues: Invalid input",e);let t=e;if(!t){const r=Qn.getCurrentTrack.call(this);t=Array.from((r||{}).activeCues||[]).map(i=>i.getCueAsHTML()).map(mHt)}const n=t.map(r=>r.trim()).join(`
`);if(n!==this.elements.captions.innerHTML){_R(this.elements.captions);const r=en("span",Ld(this.config.selectors.caption));r.innerHTML=n,this.elements.captions.appendChild(r),tn.call(this,this.media,"cuechange")}}},uOe={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.7.8/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",pip:"PIP",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/oembed.json?url={0}"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",marker:"plyr__progress__marker",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id",hash:"data-plyr-embed-hash"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1,customControls:!0,referrerPolicy:null,premium:!1},youtube:{rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,customControls:!0,noCookie:!1},mediaMetadata:{title:"",artist:"",album:"",artwork:[]},markers:{enabled:!1,points:[]}},XB={active:"picture-in-picture",inactive:"inline"},Dm={html5:"html5",youtube:"youtube",vimeo:"vimeo"},QB={audio:"audio",video:"video"};function vHt(e){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(e)?Dm.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(e)?Dm.vimeo:null}const JB=()=>{};class bHt{constructor(t=!1){this.enabled=window.console&&t,this.enabled&&this.log("Debugging enabled")}get log(){return this.enabled?Function.prototype.bind.call(console.log,console):JB}get warn(){return this.enabled?Function.prototype.bind.call(console.warn,console):JB}get error(){return this.enabled?Function.prototype.bind.call(console.error,console):JB}}class wc{constructor(t){Et(this,"onChange",()=>{if(!this.supported)return;const n=this.player.elements.buttons.fullscreen;ae.element(n)&&(n.pressed=this.active);const r=this.target===this.player.media?this.target:this.player.elements.container;tn.call(this.player,r,this.active?"enterfullscreen":"exitfullscreen",!0)}),Et(this,"toggleFallback",(n=!1)=>{if(n?this.scrollPosition={x:window.scrollX??0,y:window.scrollY??0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=n?"hidden":"",ar(this.target,this.player.config.classNames.fullscreen.fallback,n),_o.isIos){let r=document.head.querySelector('meta[name="viewport"]');const i="viewport-fit=cover";r||(r=document.createElement("meta"),r.setAttribute("name","viewport"));const o=ae.string(r.content)&&r.content.includes(i);n?(this.cleanupViewport=!o,o||(r.content+=`,${i}`)):this.cleanupViewport&&(r.content=r.content.split(",").filter(s=>s.trim()!==i).join(","))}this.onChange()}),Et(this,"trapFocus",n=>{if(_o.isIos||_o.isIPadOS||!this.active||n.key!=="Tab")return;const r=document.activeElement,i=mA.call(this.player,"a[href], button:not(:disabled), input:not(:disabled), [tabindex]"),[o]=i,s=i[i.length-1];r!==s||n.shiftKey?r===o&&n.shiftKey&&(s.focus(),n.preventDefault()):(o.focus(),n.preventDefault())}),Et(this,"update",()=>{if(this.supported){let n;n=this.forceFallback?"Fallback (forced)":wc.nativeSupported?"Native":"Fallback",this.player.debug.log(`${n} fullscreen enabled`)}else this.player.debug.log("Fullscreen not supported and fallback disabled");ar(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.supported)}),Et(this,"enter",()=>{this.supported&&(_o.isIos&&this.player.config.fullscreen.iosNative?this.player.isVimeo?this.player.embed.requestFullscreen():this.target.webkitEnterFullscreen():!wc.nativeSupported||this.forceFallback?this.toggleFallback(!0):this.prefix?ae.empty(this.prefix)||this.target[`${this.prefix}Request${this.property}`]():this.target.requestFullscreen({navigationUI:"hide"}))}),Et(this,"exit",()=>{if(this.supported)if(_o.isIos&&this.player.config.fullscreen.iosNative)this.player.isVimeo?this.player.embed.exitFullscreen():this.target.webkitEnterFullscreen(),Kd(this.player.play());else if(!wc.nativeSupported||this.forceFallback)this.toggleFallback(!1);else if(this.prefix){if(!ae.empty(this.prefix)){const n=this.prefix==="moz"?"Cancel":"Exit";document[`${this.prefix}${n}${this.property}`]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)}),Et(this,"toggle",()=>{this.active?this.exit():this.enter()}),this.player=t,this.prefix=wc.prefix,this.property=wc.property,this.scrollPosition={x:0,y:0},this.forceFallback=t.config.fullscreen.fallback==="force",this.player.elements.fullscreen=t.config.fullscreen.container&&oHt(this.player.elements.container,t.config.fullscreen.container),Yn.call(this.player,document,this.prefix==="ms"?"MSFullscreenChange":`${this.prefix}fullscreenchange`,()=>{this.onChange()}),Yn.call(this.player,this.player.elements.container,"dblclick",n=>{ae.element(this.player.elements.controls)&&this.player.elements.controls.contains(n.target)||this.player.listeners.proxy(n,this.toggle,"fullscreen")}),Yn.call(this,this.player.elements.container,"keydown",n=>this.trapFocus(n)),this.update()}static get nativeSupported(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}get useNative(){return wc.nativeSupported&&!this.forceFallback}static get prefix(){if(ae.function(document.exitFullscreen))return"";let t="";return["webkit","moz","ms"].some(n=>!(!ae.function(document[`${n}ExitFullscreen`])&&!ae.function(document[`${n}CancelFullScreen`]))&&(t=n,!0)),t}static get property(){return this.prefix==="moz"?"FullScreen":"Fullscreen"}get supported(){return[this.player.config.fullscreen.enabled,this.player.isVideo,wc.nativeSupported||this.player.config.fullscreen.fallback,!this.player.isYouTube||wc.nativeSupported||!_o.isIos||this.player.config.playsinline&&!this.player.config.fullscreen.iosNative].every(Boolean)}get active(){if(!this.supported)return!1;if(!wc.nativeSupported||this.forceFallback)return VM(this.target,this.player.config.classNames.fullscreen.fallback);const t=this.prefix?this.target.getRootNode()[`${this.prefix}${this.property}Element`]:this.target.getRootNode().fullscreenElement;return t&&t.shadowRoot?t===this.target.getRootNode().host:t===this.target}get target(){return _o.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.fullscreen??this.player.elements.container}}function ER(e,t=1){return new Promise((n,r)=>{const i=new Image,o=()=>{delete i.onload,delete i.onerror,(i.naturalWidth>=t?n:r)(i)};Object.assign(i,{onload:o,onerror:o,src:e})})}const vr={addStyleHook(){ar(this.elements.container,this.config.selectors.container.replace(".",""),!0),ar(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls(e=!1){e&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build(){if(this.listeners.media(),!this.supported.ui)return this.debug.warn(`Basic support only for ${this.provider} ${this.type}`),void vr.toggleNativeControls.call(this,!0);ae.element(this.elements.controls)||(bt.inject.call(this),this.listeners.controls()),vr.toggleNativeControls.call(this),this.isHTML5&&Qn.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,bt.updateVolume.call(this),bt.timeUpdate.call(this),bt.durationUpdate.call(this),vr.checkPlaying.call(this),ar(this.elements.container,this.config.classNames.pip.supported,Di.pip&&this.isHTML5&&this.isVideo),ar(this.elements.container,this.config.classNames.airplay.supported,Di.airplay&&this.isHTML5),ar(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout(()=>{tn.call(this,this.media,"ready")},0),vr.setTitle.call(this),this.poster&&vr.setPoster.call(this,this.poster,!1).catch(()=>{}),this.config.duration&&bt.durationUpdate.call(this),this.config.mediaMetadata&&bt.setMediaMetadata.call(this)},setTitle(){let e=bo.get("play",this.config);if(ae.string(this.config.title)&&!ae.empty(this.config.title)&&(e+=`, ${this.config.title}`),Array.from(this.elements.buttons.play||[]).forEach(t=>{t.setAttribute("aria-label",e)}),this.isEmbed){const t=Ji.call(this,"iframe");if(!ae.element(t))return;const n=ae.empty(this.config.title)?"video":this.config.title,r=bo.get("frameTitle",this.config);t.setAttribute("title",r.replace("{title}",n))}},togglePoster(e){ar(this.elements.container,this.config.classNames.posterEnabled,e)},setPoster(e,t=!0){return t&&this.poster?Promise.reject(new Error("Poster already set")):(this.media.setAttribute("data-poster",e),this.elements.poster.removeAttribute("hidden"),lHt.call(this).then(()=>ER(e)).catch(n=>{throw e===this.poster&&vr.togglePoster.call(this,!1),n}).then(()=>{if(e!==this.poster)throw new Error("setPoster cancelled by later call to setPoster")}).then(()=>(Object.assign(this.elements.poster.style,{backgroundImage:`url('${e}')`,backgroundSize:""}),vr.togglePoster.call(this,!0),e)))},checkPlaying(e){ar(this.elements.container,this.config.classNames.playing,this.playing),ar(this.elements.container,this.config.classNames.paused,this.paused),ar(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach(t=>{Object.assign(t,{pressed:this.playing}),t.setAttribute("aria-label",bo.get(this.playing?"pause":"play",this.config))}),ae.event(e)&&e.type==="timeupdate"||vr.toggleControls.call(this)},checkLoading(e){this.loading=["stalled","waiting"].includes(e.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout(()=>{ar(this.elements.container,this.config.classNames.loading,this.loading),vr.toggleControls.call(this)},this.loading?250:0)},toggleControls(e){const{controls:t}=this.elements;if(t&&this.config.hideControls){const n=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(!!(e||this.loading||this.paused||t.pressed||t.hover||n))}},migrateStyles(){Object.values({...this.media.style}).filter(e=>!ae.empty(e)&&ae.string(e)&&e.startsWith("--plyr")).forEach(e=>{this.elements.container.style.setProperty(e,this.media.style.getPropertyValue(e)),this.media.style.removeProperty(e)}),ae.empty(this.media.style)&&this.media.removeAttribute("style")}};class wHt{constructor(t){Et(this,"firstTouch",()=>{const{player:n}=this,{elements:r}=n;n.touch=!0,ar(r.container,n.config.classNames.isTouch,!0)}),Et(this,"global",(n=!0)=>{const{player:r}=this;r.config.keyboard.global&&gA.call(r,window,"keydown keyup",this.handleKey,n,!1),gA.call(r,document.body,"click",this.toggleMenu,n),DZ.call(r,document.body,"touchstart",this.firstTouch)}),Et(this,"container",()=>{const{player:n}=this,{config:r,elements:i,timers:o}=n;!r.keyboard.global&&r.keyboard.focused&&Yn.call(n,i.container,"keydown keyup",this.handleKey,!1),Yn.call(n,i.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",l=>{const{controls:u}=i;u&&l.type==="enterfullscreen"&&(u.pressed=!1,u.hover=!1);let c=0;["touchstart","touchmove","mousemove"].includes(l.type)&&(vr.toggleControls.call(n,!0),c=n.touch?3e3:2e3),clearTimeout(o.controls),o.controls=setTimeout(()=>vr.toggleControls.call(n,!1),c)});const s=()=>{if(!n.isVimeo||n.config.vimeo.premium)return;const l=i.wrapper,{active:u}=n.fullscreen,[c,d]=MZ.call(n),h=tOe(`aspect-ratio: ${c} / ${d}`);if(!u)return void(h?(l.style.width=null,l.style.height=null):(l.style.maxWidth=null,l.style.margin=null));const[f,p]=uHt(),m=f/p>c/d;h?(l.style.width=m?"auto":"100%",l.style.height=m?"100%":"auto"):(l.style.maxWidth=m?p/d*c+"px":null,l.style.margin=m?"0 auto":null)},a=()=>{clearTimeout(o.resized),o.resized=setTimeout(s,50)};Yn.call(n,i.container,"enterfullscreen exitfullscreen",l=>{const{target:u}=n.fullscreen;u===i.container&&(!n.isEmbed&&ae.empty(n.config.ratio)||(s(),(l.type==="enterfullscreen"?Yn:o4).call(n,window,"resize",a)))})}),Et(this,"media",()=>{const{player:n}=this,{elements:r}=n;if(Yn.call(n,n.media,"timeupdate seeking seeked",o=>bt.timeUpdate.call(n,o)),Yn.call(n,n.media,"durationchange loadeddata loadedmetadata",o=>bt.durationUpdate.call(n,o)),Yn.call(n,n.media,"ended",()=>{n.isHTML5&&n.isVideo&&n.config.resetOnEnd&&(n.restart(),n.pause())}),Yn.call(n,n.media,"progress playing seeking seeked",o=>bt.updateProgress.call(n,o)),Yn.call(n,n.media,"volumechange",o=>bt.updateVolume.call(n,o)),Yn.call(n,n.media,"playing play pause ended emptied timeupdate",o=>vr.checkPlaying.call(n,o)),Yn.call(n,n.media,"waiting canplay seeked playing",o=>vr.checkLoading.call(n,o)),n.supported.ui&&n.config.clickToPlay&&!n.isAudio){const o=Ji.call(n,`.${n.config.classNames.video}`);if(!ae.element(o))return;Yn.call(n,r.container,"click",s=>{([r.container,o].includes(s.target)||o.contains(s.target))&&(n.touch&&n.config.hideControls||(n.ended?(this.proxy(s,n.restart,"restart"),this.proxy(s,()=>{Kd(n.play())},"play")):this.proxy(s,()=>{Kd(n.togglePlay())},"play")))})}n.supported.ui&&n.config.disableContextMenu&&Yn.call(n,r.wrapper,"contextmenu",o=>{o.preventDefault()},!1),Yn.call(n,n.media,"volumechange",()=>{n.storage.set({volume:n.volume,muted:n.muted})}),Yn.call(n,n.media,"ratechange",()=>{bt.updateSetting.call(n,"speed"),n.storage.set({speed:n.speed})}),Yn.call(n,n.media,"qualitychange",o=>{bt.updateSetting.call(n,"quality",null,o.detail.quality)}),Yn.call(n,n.media,"ready qualitychange",()=>{bt.setDownloadUrl.call(n)});const i=n.config.events.concat(["keyup","keydown"]).join(" ");Yn.call(n,n.media,i,o=>{let{detail:s={}}=o;o.type==="error"&&(s=n.media.error),tn.call(n,r.container,o.type,!0,s)})}),Et(this,"proxy",(n,r,i)=>{const{player:o}=this,s=o.config.listeners[i];let a=!0;ae.function(s)&&(a=s.call(o,n)),a!==!1&&ae.function(r)&&r.call(o,n)}),Et(this,"bind",(n,r,i,o,s=!0)=>{const{player:a}=this,l=a.config.listeners[o],u=ae.function(l);Yn.call(a,n,r,c=>this.proxy(c,i,o),s&&!u)}),Et(this,"controls",()=>{const{player:n}=this,{elements:r}=n,i=_o.isIE?"change":"input";if(r.buttons.play&&Array.from(r.buttons.play).forEach(o=>{this.bind(o,"click",()=>{Kd(n.togglePlay())},"play")}),this.bind(r.buttons.restart,"click",n.restart,"restart"),this.bind(r.buttons.rewind,"click",()=>{n.lastSeekTime=Date.now(),n.rewind()},"rewind"),this.bind(r.buttons.fastForward,"click",()=>{n.lastSeekTime=Date.now(),n.forward()},"fastForward"),this.bind(r.buttons.mute,"click",()=>{n.muted=!n.muted},"mute"),this.bind(r.buttons.captions,"click",()=>n.toggleCaptions()),this.bind(r.buttons.download,"click",()=>{tn.call(n,n.media,"download")},"download"),this.bind(r.buttons.fullscreen,"click",()=>{n.fullscreen.toggle()},"fullscreen"),this.bind(r.buttons.pip,"click",()=>{n.pip="toggle"},"pip"),this.bind(r.buttons.airplay,"click",n.airplay,"airplay"),this.bind(r.buttons.settings,"click",o=>{o.stopPropagation(),o.preventDefault(),bt.toggleMenu.call(n,o)},null,!1),this.bind(r.buttons.settings,"keyup",o=>{[" ","Enter"].includes(o.key)&&(o.key!=="Enter"?(o.preventDefault(),o.stopPropagation(),bt.toggleMenu.call(n,o)):bt.focusFirstMenuItem.call(n,null,!0))},null,!1),this.bind(r.settings.menu,"keydown",o=>{o.key==="Escape"&&bt.toggleMenu.call(n,o)}),this.bind(r.inputs.seek,"mousedown mousemove",o=>{const s=r.progress.getBoundingClientRect(),a=100/s.width*(o.pageX-s.left);o.currentTarget.setAttribute("seek-value",a)}),this.bind(r.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",o=>{const s=o.currentTarget,a="play-on-seeked";if(ae.keyboardEvent(o)&&!["ArrowLeft","ArrowRight"].includes(o.key))return;n.lastSeekTime=Date.now();const l=s.hasAttribute(a),u=["mouseup","touchend","keyup"].includes(o.type);l&&u?(s.removeAttribute(a),Kd(n.play())):!u&&n.playing&&(s.setAttribute(a,""),n.pause())}),_o.isIos){const o=mA.call(n,'input[type="range"]');Array.from(o).forEach(s=>this.bind(s,i,a=>QNe(a.target)))}this.bind(r.inputs.seek,i,o=>{const s=o.currentTarget;let a=s.getAttribute("seek-value");ae.empty(a)&&(a=s.value),s.removeAttribute("seek-value"),n.currentTime=a/s.max*n.duration},"seek"),this.bind(r.progress,"mouseenter mouseleave mousemove",o=>bt.updateSeekTooltip.call(n,o)),this.bind(r.progress,"mousemove touchmove",o=>{const{previewThumbnails:s}=n;s&&s.loaded&&s.startMove(o)}),this.bind(r.progress,"mouseleave touchend click",()=>{const{previewThumbnails:o}=n;o&&o.loaded&&o.endMove(!1,!0)}),this.bind(r.progress,"mousedown touchstart",o=>{const{previewThumbnails:s}=n;s&&s.loaded&&s.startScrubbing(o)}),this.bind(r.progress,"mouseup touchend",o=>{const{previewThumbnails:s}=n;s&&s.loaded&&s.endScrubbing(o)}),_o.isWebKit&&Array.from(mA.call(n,'input[type="range"]')).forEach(o=>{this.bind(o,"input",s=>bt.updateRangeFill.call(n,s.target))}),n.config.toggleInvert&&!ae.element(r.display.duration)&&this.bind(r.display.currentTime,"click",()=>{n.currentTime!==0&&(n.config.invertTime=!n.config.invertTime,bt.timeUpdate.call(n))}),this.bind(r.inputs.volume,i,o=>{n.volume=o.target.value},"volume"),this.bind(r.controls,"mouseenter mouseleave",o=>{r.controls.hover=!n.touch&&o.type==="mouseenter"}),r.fullscreen&&Array.from(r.fullscreen.children).filter(o=>!o.contains(r.container)).forEach(o=>{this.bind(o,"mouseenter mouseleave",s=>{r.controls&&(r.controls.hover=!n.touch&&s.type==="mouseenter")})}),this.bind(r.controls,"mousedown mouseup touchstart touchend touchcancel",o=>{r.controls.pressed=["mousedown","touchstart"].includes(o.type)}),this.bind(r.controls,"focusin",()=>{const{config:o,timers:s}=n;ar(r.controls,o.classNames.noTransition,!0),vr.toggleControls.call(n,!0),setTimeout(()=>{ar(r.controls,o.classNames.noTransition,!1)},0);const a=this.touch?3e3:4e3;clearTimeout(s.controls),s.controls=setTimeout(()=>vr.toggleControls.call(n,!1),a)}),this.bind(r.inputs.volume,"wheel",o=>{const s=o.webkitDirectionInvertedFromDevice,[a,l]=[o.deltaX,-o.deltaY].map(d=>s?-d:d),u=Math.sign(Math.abs(a)>Math.abs(l)?a:l);n.increaseVolume(u/50);const{volume:c}=n.media;(u===1&&c<1||u===-1&&c>0)&&o.preventDefault()},"volume",!1)}),this.player=t,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.firstTouch=this.firstTouch.bind(this)}handleKey(t){const{player:n}=this,{elements:r}=n,{key:i,type:o,altKey:s,ctrlKey:a,metaKey:l,shiftKey:u}=t,c=o==="keydown",d=c&&i===this.lastKey;if(!(s||a||l||u)&&i){if(c){const f=document.activeElement;if(ae.element(f)){const{editable:p}=n.config.selectors,{seek:m}=r.inputs;if(f!==m&&ky(f,p)||t.key===" "&&ky(f,'button, [role^="menuitem"]'))return}switch([" ","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","0","1","2","3","4","5","6","7","8","9","c","f","k","l","m"].includes(i)&&(t.preventDefault(),t.stopPropagation()),i){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":d||(h=parseInt(i,10),n.currentTime=n.duration/10*h);break;case" ":case"k":d||Kd(n.togglePlay());break;case"ArrowUp":n.increaseVolume(.1);break;case"ArrowDown":n.decreaseVolume(.1);break;case"m":d||(n.muted=!n.muted);break;case"ArrowRight":n.forward();break;case"ArrowLeft":n.rewind();break;case"f":n.fullscreen.toggle();break;case"c":d||n.toggleCaptions();break;case"l":n.loop=!n.loop}i==="Escape"&&!n.fullscreen.usingNative&&n.fullscreen.active&&n.fullscreen.toggle(),this.lastKey=i}else this.lastKey=null;var h}}toggleMenu(t){bt.toggleMenu.call(this.player,t)}}function xHt(e,t){return e(t={exports:{}},t.exports),t.exports}var _Ht=xHt(function(e,t){e.exports=function(){var n=function(){},r={},i={},o={};function s(h,f){h=h.push?h:[h];var p,m,g,y=[],v=h.length,b=v;for(p=function(_,x){x.length&&y.push(_),--b||f(y)};v--;)m=h[v],(g=i[m])?p(m,g):(o[m]=o[m]||[]).push(p)}function a(h,f){if(h){var p=o[h];if(i[h]=f,p)for(;p.length;)p[0](h,f),p.splice(0,1)}}function l(h,f){h.call&&(h={success:h}),f.length?(h.error||n)(f):(h.success||n)(h)}function u(h,f,p,m){var g,y,v=document,b=p.async,_=(p.numRetries||0)+1,x=p.before||n,w=h.replace(/[\?|#].*$/,""),E=h.replace(/^(css|img)!/,"");m=m||0,/(^css!|\.css$)/.test(w)?((y=v.createElement("link")).rel="stylesheet",y.href=E,(g="hideFocus"in y)&&y.relList&&(g=0,y.rel="preload",y.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(w)?(y=v.createElement("img")).src=E:((y=v.createElement("script")).src=h,y.async=b===void 0||b),y.onload=y.onerror=y.onbeforeload=function(S){var T=S.type[0];if(g)try{y.sheet.cssText.length||(T="e")}catch(C){C.code!=18&&(T="e")}if(T=="e"){if((m+=1)<_)return u(h,f,p,m)}else if(y.rel=="preload"&&y.as=="style")return y.rel="stylesheet";f(h,T,S.defaultPrevented)},x(h,y)!==!1&&v.head.appendChild(y)}function c(h,f,p){var m,g,y=(h=h.push?h:[h]).length,v=y,b=[];for(m=function(_,x,w){if(x=="e"&&b.push(_),x=="b"){if(!w)return;b.push(_)}--y||f(b)},g=0;g<v;g++)u(h[g],m,p)}function d(h,f,p){var m,g;if(f&&f.trim&&(m=f),g=(m?p:f)||{},m){if(m in r)throw"LoadJS";r[m]=!0}function y(v,b){c(h,function(_){l(g,_),v&&l({success:v,error:b},_),a(m,_)},g)}if(g.returnPromise)return new Promise(y);y()}return d.ready=function(h,f){return s(h,function(p){l(f,p)}),d},d.done=function(h){a(h,[])},d.reset=function(){r={},i={},o={}},d.isDefined=function(h){return h in r},d}()});function PZ(e){return new Promise((t,n)=>{_Ht(e,{success:t,error:n})})}function EHt(e){return ae.empty(e)?null:ae.number(Number(e))?e:e.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:e}function SHt(e){const t=e.match(/^.*(vimeo.com\/|video\/)(\d+)(\?.*&*h=|\/)+([\d,a-f]+)/);return t&&t.length===5?t[4]:null}function WE(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,tn.call(this,this.media,e?"play":"pause"))}const SU={setup(){const e=this;ar(e.elements.wrapper,e.config.classNames.embed,!0),e.options.speed=e.config.speed.options,kx.call(e),ae.object(window.Vimeo)?SU.ready.call(e):PZ(e.config.urls.vimeo.sdk).then(()=>{SU.ready.call(e)}).catch(t=>{e.debug.warn("Vimeo SDK (player.js) failed to load",t)})},ready(){const e=this,t=e.config.vimeo,{premium:n,referrerPolicy:r,...i}=t;let o=e.media.getAttribute("src"),s="";ae.empty(o)?(o=e.media.getAttribute(e.config.attributes.embed.id),s=e.media.getAttribute(e.config.attributes.embed.hash)):s=SHt(o);const a=s?{h:s}:{};n&&Object.assign(i,{controls:!1,sidedock:!1});const l=lOe({loop:e.config.loop.active,autoplay:e.autoplay,muted:e.muted,gesture:"media",playsinline:e.config.playsinline,...a,...i}),u=EHt(o),c=en("iframe"),d=EU(e.config.urls.vimeo.iframe,u,l);if(c.setAttribute("src",d),c.setAttribute("allowfullscreen",""),c.setAttribute("allow",["autoplay","fullscreen","picture-in-picture","encrypted-media","accelerometer","gyroscope"].join("; ")),ae.empty(r)||c.setAttribute("referrerPolicy",r),n||!t.customControls)c.setAttribute("data-poster",e.poster),e.media=HM(c,e.media);else{const v=en("div",{class:e.config.classNames.embedContainer,"data-poster":e.poster});v.appendChild(c),e.media=HM(v,e.media)}t.customControls||uk(EU(e.config.urls.vimeo.api,d)).then(v=>{!ae.empty(v)&&v.thumbnail_url&&vr.setPoster.call(e,v.thumbnail_url).catch(()=>{})}),e.embed=new window.Vimeo.Player(c,{autopause:e.config.autopause,muted:e.muted}),e.media.paused=!0,e.media.currentTime=0,e.supported.ui&&e.embed.disableTextTrack(),e.media.play=()=>(WE.call(e,!0),e.embed.play()),e.media.pause=()=>(WE.call(e,!1),e.embed.pause()),e.media.stop=()=>{e.pause(),e.currentTime=0};let{currentTime:h}=e.media;Object.defineProperty(e.media,"currentTime",{get:()=>h,set(v){const{embed:b,media:_,paused:x,volume:w}=e,E=x&&!b.hasPlayed;_.seeking=!0,tn.call(e,_,"seeking"),Promise.resolve(E&&b.setVolume(0)).then(()=>b.setCurrentTime(v)).then(()=>E&&b.pause()).then(()=>E&&b.setVolume(w)).catch(()=>{})}});let f=e.config.speed.selected;Object.defineProperty(e.media,"playbackRate",{get:()=>f,set(v){e.embed.setPlaybackRate(v).then(()=>{f=v,tn.call(e,e.media,"ratechange")}).catch(()=>{e.options.speed=[1]})}});let{volume:p}=e.config;Object.defineProperty(e.media,"volume",{get:()=>p,set(v){e.embed.setVolume(v).then(()=>{p=v,tn.call(e,e.media,"volumechange")})}});let{muted:m}=e.config;Object.defineProperty(e.media,"muted",{get:()=>m,set(v){const b=!!ae.boolean(v)&&v;e.embed.setMuted(!!b||e.config.muted).then(()=>{m=b,tn.call(e,e.media,"volumechange")})}});let g,{loop:y}=e.config;Object.defineProperty(e.media,"loop",{get:()=>y,set(v){const b=ae.boolean(v)?v:e.config.loop.active;e.embed.setLoop(b).then(()=>{y=b})}}),e.embed.getVideoUrl().then(v=>{g=v,bt.setDownloadUrl.call(e)}).catch(v=>{this.debug.warn(v)}),Object.defineProperty(e.media,"currentSrc",{get:()=>g}),Object.defineProperty(e.media,"ended",{get:()=>e.currentTime===e.duration}),Promise.all([e.embed.getVideoWidth(),e.embed.getVideoHeight()]).then(v=>{const[b,_]=v;e.embed.ratio=rOe(b,_),kx.call(this)}),e.embed.setAutopause(e.config.autopause).then(v=>{e.config.autopause=v}),e.embed.getVideoTitle().then(v=>{e.config.title=v,vr.setTitle.call(this)}),e.embed.getCurrentTime().then(v=>{h=v,tn.call(e,e.media,"timeupdate")}),e.embed.getDuration().then(v=>{e.media.duration=v,tn.call(e,e.media,"durationchange")}),e.embed.getTextTracks().then(v=>{e.media.textTracks=v,Qn.setup.call(e)}),e.embed.on("cuechange",({cues:v=[]})=>{const b=v.map(_=>pHt(_.text));Qn.updateCues.call(e,b)}),e.embed.on("loaded",()=>{e.embed.getPaused().then(v=>{WE.call(e,!v),v||tn.call(e,e.media,"playing")}),ae.element(e.embed.element)&&e.supported.ui&&e.embed.element.setAttribute("tabindex",-1)}),e.embed.on("bufferstart",()=>{tn.call(e,e.media,"waiting")}),e.embed.on("bufferend",()=>{tn.call(e,e.media,"playing")}),e.embed.on("play",()=>{WE.call(e,!0),tn.call(e,e.media,"playing")}),e.embed.on("pause",()=>{WE.call(e,!1)}),e.embed.on("timeupdate",v=>{e.media.seeking=!1,h=v.seconds,tn.call(e,e.media,"timeupdate")}),e.embed.on("progress",v=>{e.media.buffered=v.percent,tn.call(e,e.media,"progress"),parseInt(v.percent,10)===1&&tn.call(e,e.media,"canplaythrough"),e.embed.getDuration().then(b=>{b!==e.media.duration&&(e.media.duration=b,tn.call(e,e.media,"durationchange"))})}),e.embed.on("seeked",()=>{e.media.seeking=!1,tn.call(e,e.media,"seeked")}),e.embed.on("ended",()=>{e.media.paused=!0,tn.call(e,e.media,"ended")}),e.embed.on("error",v=>{e.media.error=v,tn.call(e,e.media,"error")}),t.customControls&&setTimeout(()=>vr.build.call(e),0)}};function THt(e){return ae.empty(e)?null:e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:e}function qE(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,tn.call(this,this.media,e?"play":"pause"))}function CHt(e){return e.noCookie?"https://www.youtube-nocookie.com":window.location.protocol==="http:"?"http://www.youtube.com":void 0}const SR={setup(){if(ar(this.elements.wrapper,this.config.classNames.embed,!0),ae.object(window.YT)&&ae.function(window.YT.Player))SR.ready.call(this);else{const e=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{ae.function(e)&&e(),SR.ready.call(this)},PZ(this.config.urls.youtube.sdk).catch(t=>{this.debug.warn("YouTube API failed to load",t)})}},getTitle(e){uk(EU(this.config.urls.youtube.api,e)).then(t=>{if(ae.object(t)){const{title:n,height:r,width:i}=t;this.config.title=n,vr.setTitle.call(this),this.embed.ratio=rOe(i,r)}kx.call(this)}).catch(()=>{kx.call(this)})},ready(){const e=this,t=e.config.youtube,n=e.media&&e.media.getAttribute("id");if(!ae.empty(n)&&n.startsWith("youtube-"))return;let r=e.media.getAttribute("src");ae.empty(r)&&(r=e.media.getAttribute(this.config.attributes.embed.id));const i=THt(r),o=en("div",{id:cHt(e.provider),"data-poster":t.customControls?e.poster:void 0});if(e.media=HM(o,e.media),t.customControls){const s=a=>`https://i.ytimg.com/vi/${i}/${a}default.jpg`;ER(s("maxres"),121).catch(()=>ER(s("sd"),121)).catch(()=>ER(s("hq"))).then(a=>vr.setPoster.call(e,a.src)).then(a=>{a.includes("maxres")||(e.elements.poster.style.backgroundSize="cover")}).catch(()=>{})}e.embed=new window.YT.Player(e.media,{videoId:i,host:CHt(t),playerVars:Ri({},{autoplay:e.config.autoplay?1:0,hl:e.config.hl,controls:e.supported.ui&&t.customControls?0:1,disablekb:1,playsinline:e.config.playsinline&&!e.config.fullscreen.iosNative?1:0,cc_load_policy:e.captions.active?1:0,cc_lang_pref:e.config.captions.language,widget_referrer:window?window.location.href:null},t),events:{onError(s){if(!e.media.error){const a=s.data,l={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[a]||"An unknown error occurred";e.media.error={code:a,message:l},tn.call(e,e.media,"error")}},onPlaybackRateChange(s){const a=s.target;e.media.playbackRate=a.getPlaybackRate(),tn.call(e,e.media,"ratechange")},onReady(s){if(ae.function(e.media.play))return;const a=s.target;SR.getTitle.call(e,i),e.media.play=()=>{qE.call(e,!0),a.playVideo()},e.media.pause=()=>{qE.call(e,!1),a.pauseVideo()},e.media.stop=()=>{a.stopVideo()},e.media.duration=a.getDuration(),e.media.paused=!0,e.media.currentTime=0,Object.defineProperty(e.media,"currentTime",{get:()=>Number(a.getCurrentTime()),set(d){e.paused&&!e.embed.hasPlayed&&e.embed.mute(),e.media.seeking=!0,tn.call(e,e.media,"seeking"),a.seekTo(d)}}),Object.defineProperty(e.media,"playbackRate",{get:()=>a.getPlaybackRate(),set(d){a.setPlaybackRate(d)}});let{volume:l}=e.config;Object.defineProperty(e.media,"volume",{get:()=>l,set(d){l=d,a.setVolume(100*l),tn.call(e,e.media,"volumechange")}});let{muted:u}=e.config;Object.defineProperty(e.media,"muted",{get:()=>u,set(d){const h=ae.boolean(d)?d:u;u=h,a[h?"mute":"unMute"](),a.setVolume(100*l),tn.call(e,e.media,"volumechange")}}),Object.defineProperty(e.media,"currentSrc",{get:()=>a.getVideoUrl()}),Object.defineProperty(e.media,"ended",{get:()=>e.currentTime===e.duration});const c=a.getAvailablePlaybackRates();e.options.speed=c.filter(d=>e.config.speed.options.includes(d)),e.supported.ui&&t.customControls&&e.media.setAttribute("tabindex",-1),tn.call(e,e.media,"timeupdate"),tn.call(e,e.media,"durationchange"),clearInterval(e.timers.buffering),e.timers.buffering=setInterval(()=>{e.media.buffered=a.getVideoLoadedFraction(),(e.media.lastBuffered===null||e.media.lastBuffered<e.media.buffered)&&tn.call(e,e.media,"progress"),e.media.lastBuffered=e.media.buffered,e.media.buffered===1&&(clearInterval(e.timers.buffering),tn.call(e,e.media,"canplaythrough"))},200),t.customControls&&setTimeout(()=>vr.build.call(e),50)},onStateChange(s){const a=s.target;switch(clearInterval(e.timers.playing),e.media.seeking&&[1,2].includes(s.data)&&(e.media.seeking=!1,tn.call(e,e.media,"seeked")),s.data){case-1:tn.call(e,e.media,"timeupdate"),e.media.buffered=a.getVideoLoadedFraction(),tn.call(e,e.media,"progress");break;case 0:qE.call(e,!1),e.media.loop?(a.stopVideo(),a.playVideo()):tn.call(e,e.media,"ended");break;case 1:t.customControls&&!e.config.autoplay&&e.media.paused&&!e.embed.hasPlayed?e.media.pause():(qE.call(e,!0),tn.call(e,e.media,"playing"),e.timers.playing=setInterval(()=>{tn.call(e,e.media,"timeupdate")},50),e.media.duration!==a.getDuration()&&(e.media.duration=a.getDuration(),tn.call(e,e.media,"durationchange")));break;case 2:e.muted||e.embed.unMute(),qE.call(e,!1);break;case 3:tn.call(e,e.media,"waiting")}tn.call(e,e.elements.container,"statechange",!1,{code:s.data})}}})}},cOe={setup(){this.media?(ar(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),ar(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&ar(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=en("div",{class:this.config.classNames.video}),ZNe(this.media,this.elements.wrapper),this.elements.poster=en("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?qm.setup.call(this):this.isYouTube?SR.setup.call(this):this.isVimeo&&SU.setup.call(this)):this.debug.warn("No media element found!")}};class AHt{constructor(t){Et(this,"load",()=>{this.enabled&&(ae.object(window.google)&&ae.object(window.google.ima)?this.ready():PZ(this.player.config.urls.googleIMA.sdk).then(()=>{this.ready()}).catch(()=>{this.trigger("error",new Error("Google IMA SDK failed to load"))}))}),Et(this,"ready",()=>{var n;this.enabled||((n=this).manager&&n.manager.destroy(),n.elements.displayContainer&&n.elements.displayContainer.destroy(),n.elements.container.remove()),this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then(()=>{this.clearSafetyTimer("onAdsManagerLoaded()")}),this.listeners(),this.setupIMA()}),Et(this,"setupIMA",()=>{this.elements.container=en("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container,this.player.media),this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,n=>this.onAdsManagerLoaded(n),!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,n=>this.onAdError(n),!1),this.requestAds()}),Et(this,"requestAds",()=>{const{container:n}=this.player.elements;try{const r=new google.ima.AdsRequest;r.adTagUrl=this.tagUrl,r.linearAdSlotWidth=n.offsetWidth,r.linearAdSlotHeight=n.offsetHeight,r.nonLinearAdSlotWidth=n.offsetWidth,r.nonLinearAdSlotHeight=n.offsetHeight,r.forceNonLinearFullSlot=!1,r.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(r)}catch(r){this.onAdError(r)}}),Et(this,"pollCountdown",(n=!1)=>{if(!n)return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");this.countdownTimer=setInterval(()=>{const r=s4(Math.max(this.manager.getRemainingTime(),0)),i=`${bo.get("advertisement",this.player.config)} - ${r}`;this.elements.container.setAttribute("data-badge-text",i)},100)}),Et(this,"onAdsManagerLoaded",n=>{if(!this.enabled)return;const r=new google.ima.AdsRenderingSettings;r.restoreCustomPlaybackStateOnAdBreakComplete=!0,r.enablePreloading=!0,this.manager=n.getAdsManager(this.player,r),this.cuePoints=this.manager.getCuePoints(),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,i=>this.onAdError(i)),Object.keys(google.ima.AdEvent.Type).forEach(i=>{this.manager.addEventListener(google.ima.AdEvent.Type[i],o=>this.onAdEvent(o))}),this.trigger("loaded")}),Et(this,"addCuePoints",()=>{ae.empty(this.cuePoints)||this.cuePoints.forEach(n=>{if(n!==0&&n!==-1&&n<this.player.duration){const r=this.player.elements.progress;if(ae.element(r)){const i=100/this.player.duration*n,o=en("span",{class:this.player.config.classNames.cues});o.style.left=`${i.toString()}%`,r.appendChild(o)}}})}),Et(this,"onAdEvent",n=>{const{container:r}=this.player.elements,i=n.getAd(),o=n.getAdData();switch((s=>{tn.call(this.player,this.player.media,`ads${s.replace(/_/g,"").toLowerCase()}`)})(n.type),n.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),this.pollCountdown(!0),i.isLinear()||(i.width=r.offsetWidth,i.height=r.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:this.manager.setVolume(this.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.player.ended?this.loadAds():this.loader.contentComplete();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.LOG:o.adError&&this.player.debug.warn(`Non-fatal ad error: ${o.adError.getMessage()}`)}}),Et(this,"onAdError",n=>{this.cancel(),this.player.debug.warn("Ads error",n)}),Et(this,"listeners",()=>{const{container:n}=this.player.elements;let r;this.player.on("canplay",()=>{this.addCuePoints()}),this.player.on("ended",()=>{this.loader.contentComplete()}),this.player.on("timeupdate",()=>{r=this.player.currentTime}),this.player.on("seeked",()=>{const i=this.player.currentTime;ae.empty(this.cuePoints)||this.cuePoints.forEach((o,s)=>{r<o&&o<i&&(this.manager.discardAdBreak(),this.cuePoints.splice(s,1))})}),window.addEventListener("resize",()=>{this.manager&&this.manager.resize(n.offsetWidth,n.offsetHeight,google.ima.ViewMode.NORMAL)})}),Et(this,"play",()=>{const{container:n}=this.player.elements;this.managerPromise||this.resumeContent(),this.managerPromise.then(()=>{this.manager.setVolume(this.player.volume),this.elements.displayContainer.initialize();try{this.initialized||(this.manager.init(n.offsetWidth,n.offsetHeight,google.ima.ViewMode.NORMAL),this.manager.start()),this.initialized=!0}catch(r){this.onAdError(r)}}).catch(()=>{})}),Et(this,"resumeContent",()=>{this.elements.container.style.zIndex="",this.playing=!1,Kd(this.player.media.play())}),Et(this,"pauseContent",()=>{this.elements.container.style.zIndex=3,this.playing=!0,this.player.media.pause()}),Et(this,"cancel",()=>{this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()}),Et(this,"loadAds",()=>{this.managerPromise.then(()=>{this.manager&&this.manager.destroy(),this.managerPromise=new Promise(n=>{this.on("loaded",n),this.player.debug.log(this.manager)}),this.initialized=!1,this.requestAds()}).catch(()=>{})}),Et(this,"trigger",(n,...r)=>{const i=this.events[n];ae.array(i)&&i.forEach(o=>{ae.function(o)&&o.apply(this,r)})}),Et(this,"on",(n,r)=>(ae.array(this.events[n])||(this.events[n]=[]),this.events[n].push(r),this)),Et(this,"startSafetyTimer",(n,r)=>{this.player.debug.log(`Safety timer invoked from: ${r}`),this.safetyTimer=setTimeout(()=>{this.cancel(),this.clearSafetyTimer("startSafetyTimer()")},n)}),Et(this,"clearSafetyTimer",n=>{ae.nullOrUndefined(this.safetyTimer)||(this.player.debug.log(`Safety timer cleared from: ${n}`),clearTimeout(this.safetyTimer),this.safetyTimer=null)}),this.player=t,this.config=t.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise((n,r)=>{this.on("loaded",n),this.on("error",r)}),this.load()}get enabled(){const{config:t}=this;return this.player.isHTML5&&this.player.isVideo&&t.enabled&&(!ae.empty(t.publisherId)||ae.url(t.tagUrl))}get tagUrl(){const{config:t}=this;return ae.url(t.tagUrl)?t.tagUrl:`https://go.aniview.com/api/adserver6/vast/?${lOe({AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:t.publisherId})}`}}function dOe(e=0,t=0,n=255){return Math.min(Math.max(e,t),n)}const kHt=e=>{const t=[];return e.split(/\r\n\r\n|\n\n|\r\r/).forEach(n=>{const r={};n.split(/\r\n|\n|\r/).forEach(i=>{if(ae.number(r.startTime)){if(!ae.empty(i.trim())&&ae.empty(r.text)){const o=i.trim().split("#xywh=");[r.text]=o,o[1]&&([r.x,r.y,r.w,r.h]=o[1].split(","))}}else{const o=i.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);o&&(r.startTime=60*Number(o[1]||0)*60+60*Number(o[2])+Number(o[3])+ +`0.${o[4]}`,r.endTime=60*Number(o[6]||0)*60+60*Number(o[7])+Number(o[8])+ +`0.${o[9]}`)}}),r.text&&t.push(r)}),t},Ppe=(e,t)=>{const n={};return e>t.width/t.height?(n.width=t.width,n.height=1/e*t.width):(n.height=t.height,n.width=e*t.height),n};class TU{constructor(t){Et(this,"load",()=>{this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),this.enabled&&this.getThumbnails().then(()=>{this.enabled&&(this.render(),this.determineContainerAutoSizing(),this.listeners(),this.loaded=!0)})}),Et(this,"getThumbnails",()=>new Promise(n=>{const{src:r}=this.player.config.previewThumbnails;if(ae.empty(r))throw new Error("Missing previewThumbnails.src config attribute");const i=()=>{this.thumbnails.sort((o,s)=>o.height-s.height),this.player.debug.log("Preview thumbnails",this.thumbnails),n()};if(ae.function(r))r(o=>{this.thumbnails=o,i()});else{const o=(ae.string(r)?[r]:r).map(s=>this.getThumbnail(s));Promise.all(o).then(i)}})),Et(this,"getThumbnail",n=>new Promise(r=>{uk(n).then(i=>{const o={frames:kHt(i),height:null,urlPrefix:""};o.frames[0].text.startsWith("/")||o.frames[0].text.startsWith("http://")||o.frames[0].text.startsWith("https://")||(o.urlPrefix=n.substring(0,n.lastIndexOf("/")+1));const s=new Image;s.onload=()=>{o.height=s.naturalHeight,o.width=s.naturalWidth,this.thumbnails.push(o),r()},s.src=o.urlPrefix+o.frames[0].text})})),Et(this,"startMove",n=>{if(this.loaded&&ae.event(n)&&["touchmove","mousemove"].includes(n.type)&&this.player.media.duration){if(n.type==="touchmove")this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100);else{var r,i;const o=this.player.elements.progress.getBoundingClientRect(),s=100/o.width*(n.pageX-o.left);this.seekTime=this.player.media.duration*(s/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=n.pageX,this.elements.thumb.time.innerText=s4(this.seekTime);const a=(r=this.player.config.markers)===null||r===void 0||(i=r.points)===null||i===void 0?void 0:i.find(({time:l})=>l===Math.round(this.seekTime));a&&this.elements.thumb.time.insertAdjacentHTML("afterbegin",`${a.label}<br>`)}this.showImageAtCurrentTime()}}),Et(this,"endMove",()=>{this.toggleThumbContainer(!1,!0)}),Et(this,"startScrubbing",n=>{(ae.nullOrUndefined(n.button)||n.button===!1||n.button===0)&&(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))}),Et(this,"endScrubbing",()=>{this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):DZ.call(this.player,this.player.media,"timeupdate",()=>{this.mouseDown||this.toggleScrubbingContainer(!1)})}),Et(this,"listeners",()=>{this.player.on("play",()=>{this.toggleThumbContainer(!1,!0)}),this.player.on("seeked",()=>{this.toggleThumbContainer(!1)}),this.player.on("timeupdate",()=>{this.lastTime=this.player.media.currentTime})}),Et(this,"render",()=>{this.elements.thumb.container=en("div",{class:this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=en("div",{class:this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);const n=en("div",{class:this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=en("span",{},"00:00"),n.appendChild(this.elements.thumb.time),this.elements.thumb.imageContainer.appendChild(n),ae.element(this.player.elements.progress)&&this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=en("div",{class:this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)}),Et(this,"destroy",()=>{this.elements.thumb.container&&this.elements.thumb.container.remove(),this.elements.scrubbing.container&&this.elements.scrubbing.container.remove()}),Et(this,"showImageAtCurrentTime",()=>{this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos();const n=this.thumbnails[0].frames.findIndex(o=>this.seekTime>=o.startTime&&this.seekTime<=o.endTime),r=n>=0;let i=0;this.mouseDown||this.toggleThumbContainer(r),r&&(this.thumbnails.forEach((o,s)=>{this.loadedImages.includes(o.frames[n].text)&&(i=s)}),n!==this.showingThumb&&(this.showingThumb=n,this.loadImage(i)))}),Et(this,"loadImage",(n=0)=>{const r=this.showingThumb,i=this.thumbnails[n],{urlPrefix:o}=i,s=i.frames[r],a=i.frames[r].text,l=o+a;if(this.currentImageElement&&this.currentImageElement.dataset.filename===a)this.showImage(this.currentImageElement,s,n,r,a,!1),this.currentImageElement.dataset.index=r,this.removeOldImages(this.currentImageElement);else{this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null);const u=new Image;u.src=l,u.dataset.index=r,u.dataset.filename=a,this.showingThumbFilename=a,this.player.debug.log(`Loading image: ${l}`),u.onload=()=>this.showImage(u,s,n,r,a,!0),this.loadingImage=u,this.removeOldImages(u)}}),Et(this,"showImage",(n,r,i,o,s,a=!0)=>{this.player.debug.log(`Showing thumb: ${s}. num: ${o}. qual: ${i}. newimg: ${a}`),this.setImageSizeAndOffset(n,r),a&&(this.currentImageContainer.appendChild(n),this.currentImageElement=n,this.loadedImages.includes(s)||this.loadedImages.push(s)),this.preloadNearby(o,!0).then(this.preloadNearby(o,!1)).then(this.getHigherQuality(i,n,r,s))}),Et(this,"removeOldImages",n=>{Array.from(this.currentImageContainer.children).forEach(r=>{if(r.tagName.toLowerCase()!=="img")return;const i=this.usingSprites?500:1e3;if(r.dataset.index!==n.dataset.index&&!r.dataset.deleting){r.dataset.deleting=!0;const{currentImageContainer:o}=this;setTimeout(()=>{o.removeChild(r),this.player.debug.log(`Removing thumb: ${r.dataset.filename}`)},i)}})}),Et(this,"preloadNearby",(n,r=!0)=>new Promise(i=>{setTimeout(()=>{const o=this.thumbnails[0].frames[n].text;if(this.showingThumbFilename===o){let s;s=r?this.thumbnails[0].frames.slice(n):this.thumbnails[0].frames.slice(0,n).reverse();let a=!1;s.forEach(l=>{const u=l.text;if(u!==o&&!this.loadedImages.includes(u)){a=!0,this.player.debug.log(`Preloading thumb filename: ${u}`);const{urlPrefix:c}=this.thumbnails[0],d=c+u,h=new Image;h.src=d,h.onload=()=>{this.player.debug.log(`Preloaded thumb filename: ${u}`),this.loadedImages.includes(u)||this.loadedImages.push(u),i()}}}),a||i()}},300)})),Et(this,"getHigherQuality",(n,r,i,o)=>{if(n<this.thumbnails.length-1){let s=r.naturalHeight;this.usingSprites&&(s=i.h),s<this.thumbContainerHeight&&setTimeout(()=>{this.showingThumbFilename===o&&(this.player.debug.log(`Showing higher quality thumb for: ${o}`),this.loadImage(n+1))},300)}}),Et(this,"toggleThumbContainer",(n=!1,r=!1)=>{const i=this.player.config.classNames.previewThumbnails.thumbContainerShown;this.elements.thumb.container.classList.toggle(i,n),!n&&r&&(this.showingThumb=null,this.showingThumbFilename=null)}),Et(this,"toggleScrubbingContainer",(n=!1)=>{const r=this.player.config.classNames.previewThumbnails.scrubbingContainerShown;this.elements.scrubbing.container.classList.toggle(r,n),n||(this.showingThumb=null,this.showingThumbFilename=null)}),Et(this,"determineContainerAutoSizing",()=>{(this.elements.thumb.imageContainer.clientHeight>20||this.elements.thumb.imageContainer.clientWidth>20)&&(this.sizeSpecifiedInCSS=!0)}),Et(this,"setThumbContainerSizeAndPos",()=>{const{imageContainer:n}=this.elements.thumb;if(this.sizeSpecifiedInCSS){if(n.clientHeight>20&&n.clientWidth<20){const r=Math.floor(n.clientHeight*this.thumbAspectRatio);n.style.width=`${r}px`}else if(n.clientHeight<20&&n.clientWidth>20){const r=Math.floor(n.clientWidth/this.thumbAspectRatio);n.style.height=`${r}px`}}else{const r=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio);n.style.height=`${this.thumbContainerHeight}px`,n.style.width=`${r}px`}this.setThumbContainerPos()}),Et(this,"setThumbContainerPos",()=>{const n=this.player.elements.progress.getBoundingClientRect(),r=this.player.elements.container.getBoundingClientRect(),{container:i}=this.elements.thumb,o=r.left-n.left+10,s=r.right-n.left-i.clientWidth-10,a=this.mousePosX-n.left-i.clientWidth/2,l=dOe(a,o,s);i.style.left=`${l}px`,i.style.setProperty("--preview-arrow-offset",a-l+"px")}),Et(this,"setScrubbingContainerSize",()=>{const{width:n,height:r}=Ppe(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});this.elements.scrubbing.container.style.width=`${n}px`,this.elements.scrubbing.container.style.height=`${r}px`}),Et(this,"setImageSizeAndOffset",(n,r)=>{if(!this.usingSprites)return;const i=this.thumbContainerHeight/r.h;n.style.height=n.naturalHeight*i+"px",n.style.width=n.naturalWidth*i+"px",n.style.left=`-${r.x*i}px`,n.style.top=`-${r.y*i}px`}),this.player=t,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}get enabled(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}get currentImageContainer(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}get usingSprites(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}get thumbAspectRatio(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}get thumbContainerHeight(){if(this.mouseDown){const{height:t}=Ppe(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});return t}return this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}get currentImageElement(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement}set currentImageElement(t){this.mouseDown?this.currentScrubbingImageElement=t:this.currentThumbnailImageElement=t}}const CU={insertElements(e,t){ae.string(t)?Rpe(e,this.media,{src:t}):ae.array(t)&&t.forEach(n=>{Rpe(e,this.media,n)})},change(e){JNe(e,"sources.length")?(qm.cancelRequests.call(this),this.destroy.call(this,()=>{this.options.quality=[],qf(this.media),this.media=null,ae.element(this.elements.container)&&this.elements.container.removeAttribute("class");const{sources:t,type:n}=e,[{provider:r=Dm.html5,src:i}]=t,o=r==="html5"?n:"div",s=r==="html5"?{}:{src:i};Object.assign(this,{provider:r,type:n,supported:Di.check(n,r,this.config.playsinline),media:en(o,s)}),this.elements.container.appendChild(this.media),ae.boolean(e.autoplay)&&(this.config.autoplay=e.autoplay),this.isHTML5&&(this.config.crossorigin&&this.media.setAttribute("crossorigin",""),this.config.autoplay&&this.media.setAttribute("autoplay",""),ae.empty(e.poster)||(this.poster=e.poster),this.config.loop.active&&this.media.setAttribute("loop",""),this.config.muted&&this.media.setAttribute("muted",""),this.config.playsinline&&this.media.setAttribute("playsinline","")),vr.addStyleHook.call(this),this.isHTML5&&CU.insertElements.call(this,"source",t),this.config.title=e.title,cOe.setup.call(this),this.isHTML5&&Object.keys(e).includes("tracks")&&CU.insertElements.call(this,"track",e.tracks),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&vr.build.call(this),this.isHTML5&&this.media.load(),ae.empty(e.previewThumbnails)||(Object.assign(this.config.previewThumbnails,e.previewThumbnails),this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new TU(this))),this.fullscreen.update()},!0)):this.debug.warn("Invalid source format")}};let hOe=class AU{constructor(t,n){if(Et(this,"play",()=>ae.function(this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then(()=>this.ads.play()).catch(()=>Kd(this.media.play())),this.media.play()):null),Et(this,"pause",()=>this.playing&&ae.function(this.media.pause)?this.media.pause():null),Et(this,"togglePlay",a=>(ae.boolean(a)?a:!this.playing)?this.play():this.pause()),Et(this,"stop",()=>{this.isHTML5?(this.pause(),this.restart()):ae.function(this.media.stop)&&this.media.stop()}),Et(this,"restart",()=>{this.currentTime=0}),Et(this,"rewind",a=>{this.currentTime-=ae.number(a)?a:this.config.seekTime}),Et(this,"forward",a=>{this.currentTime+=ae.number(a)?a:this.config.seekTime}),Et(this,"increaseVolume",a=>{const l=this.media.muted?0:this.volume;this.volume=l+(ae.number(a)?a:0)}),Et(this,"decreaseVolume",a=>{this.increaseVolume(-a)}),Et(this,"airplay",()=>{Di.airplay&&this.media.webkitShowPlaybackTargetPicker()}),Et(this,"toggleControls",a=>{if(this.supported.ui&&!this.isAudio){const l=VM(this.elements.container,this.config.classNames.hideControls),u=a===void 0?void 0:!a,c=ar(this.elements.container,this.config.classNames.hideControls,u);if(c&&ae.array(this.config.controls)&&this.config.controls.includes("settings")&&!ae.empty(this.config.settings)&&bt.toggleMenu.call(this,!1),c!==l){const d=c?"controlshidden":"controlsshown";tn.call(this,this.media,d)}return!c}return!1}),Et(this,"on",(a,l)=>{Yn.call(this,this.elements.container,a,l)}),Et(this,"once",(a,l)=>{DZ.call(this,this.elements.container,a,l)}),Et(this,"off",(a,l)=>{o4(this.elements.container,a,l)}),Et(this,"destroy",(a,l=!1)=>{if(!this.ready)return;const u=()=>{document.body.style.overflow="",this.embed=null,l?(Object.keys(this.elements).length&&(qf(this.elements.buttons.play),qf(this.elements.captions),qf(this.elements.controls),qf(this.elements.wrapper),this.elements.buttons.play=null,this.elements.captions=null,this.elements.controls=null,this.elements.wrapper=null),ae.function(a)&&a()):(aHt.call(this),qm.cancelRequests.call(this),HM(this.elements.original,this.elements.container),tn.call(this,this.elements.original,"destroyed",!0),ae.function(a)&&a.call(this.elements.original),this.ready=!1,setTimeout(()=>{this.elements=null,this.media=null},200))};this.stop(),clearTimeout(this.timers.loading),clearTimeout(this.timers.controls),clearTimeout(this.timers.resized),this.isHTML5?(vr.toggleNativeControls.call(this,!0),u()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),this.embed!==null&&ae.function(this.embed.destroy)&&this.embed.destroy(),u()):this.isVimeo&&(this.embed!==null&&this.embed.unload().then(u),setTimeout(u,200))}),Et(this,"supports",a=>Di.mime.call(this,a)),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=Di.touch,this.media=t,ae.string(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||ae.nodeList(this.media)||ae.array(this.media))&&(this.media=this.media[0]),this.config=Ri({},uOe,AU.defaults,n||{},(()=>{try{return JSON.parse(this.media.getAttribute("data-plyr-config"))}catch{return{}}})()),this.elements={container:null,fullscreen:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new bHt(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",Di),ae.nullOrUndefined(this.media)||!ae.element(this.media))return void this.debug.error("Setup failed: no suitable element passed");if(this.media.plyr)return void this.debug.warn("Target already setup");if(!this.config.enabled)return void this.debug.error("Setup failed: disabled by config");if(!Di.check().api)return void this.debug.error("Setup failed: no support");const r=this.media.cloneNode(!0);r.autoplay=!1,this.elements.original=r;const i=this.media.tagName.toLowerCase();let o=null,s=null;switch(i){case"div":if(o=this.media.querySelector("iframe"),ae.element(o)){if(s=aOe(o.getAttribute("src")),this.provider=vHt(s.toString()),this.elements.container=this.media,this.media=o,this.elements.container.className="",s.search.length){const a=["1","true"];a.includes(s.searchParams.get("autoplay"))&&(this.config.autoplay=!0),a.includes(s.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=a.includes(s.searchParams.get("playsinline")),this.config.youtube.hl=s.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(ae.empty(this.provider)||!Object.values(Dm).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=QB.video;break;case"video":case"audio":this.type=i,this.provider=Dm.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=Di.check(this.type,this.provider),this.supported.api?(this.eventListeners=[],this.listeners=new wHt(this),this.storage=new yA(this),this.media.plyr=this,ae.element(this.elements.container)||(this.elements.container=en("div"),ZNe(this.media,this.elements.container)),vr.migrateStyles.call(this),vr.addStyleHook.call(this),cOe.setup.call(this),this.config.debug&&Yn.call(this,this.elements.container,this.config.events.join(" "),a=>{this.debug.log(`event: ${a.type}`)}),this.fullscreen=new wc(this),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&vr.build.call(this),this.listeners.container(),this.listeners.global(),this.config.ads.enabled&&(this.ads=new AHt(this)),this.isHTML5&&this.config.autoplay&&this.once("canplay",()=>Kd(this.play())),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new TU(this))):this.debug.error("Setup failed: no support")}get isHTML5(){return this.provider===Dm.html5}get isEmbed(){return this.isYouTube||this.isVimeo}get isYouTube(){return this.provider===Dm.youtube}get isVimeo(){return this.provider===Dm.vimeo}get isVideo(){return this.type===QB.video}get isAudio(){return this.type===QB.audio}get playing(){return!!(this.ready&&!this.paused&&!this.ended)}get paused(){return!!this.media.paused}get stopped(){return!!(this.paused&&this.currentTime===0)}get ended(){return!!this.media.ended}set currentTime(t){if(!this.duration)return;const n=ae.number(t)&&t>0;this.media.currentTime=n?Math.min(t,this.duration):0,this.debug.log(`Seeking to ${this.currentTime} seconds`)}get currentTime(){return Number(this.media.currentTime)}get buffered(){const{buffered:t}=this.media;return ae.number(t)?t:t&&t.length&&this.duration>0?t.end(0)/this.duration:0}get seeking(){return!!this.media.seeking}get duration(){const t=parseFloat(this.config.duration),n=(this.media||{}).duration,r=ae.number(n)&&n!==1/0?n:0;return t||r}set volume(t){let n=t;ae.string(n)&&(n=Number(n)),ae.number(n)||(n=this.storage.get("volume")),ae.number(n)||({volume:n}=this.config),n>1&&(n=1),n<0&&(n=0),this.config.volume=n,this.media.volume=n,!ae.empty(t)&&this.muted&&n>0&&(this.muted=!1)}get volume(){return Number(this.media.volume)}set muted(t){let n=t;ae.boolean(n)||(n=this.storage.get("muted")),ae.boolean(n)||(n=this.config.muted),this.config.muted=n,this.media.muted=n}get muted(){return!!this.media.muted}get hasAudio(){return!this.isHTML5||!!this.isAudio||!!this.media.mozHasAudio||!!this.media.webkitAudioDecodedByteCount||!!(this.media.audioTracks&&this.media.audioTracks.length)}set speed(t){let n=null;ae.number(t)&&(n=t),ae.number(n)||(n=this.storage.get("speed")),ae.number(n)||(n=this.config.speed.selected);const{minimumSpeed:r,maximumSpeed:i}=this;n=dOe(n,r,i),this.config.speed.selected=n,setTimeout(()=>{this.media&&(this.media.playbackRate=n)},0)}get speed(){return Number(this.media.playbackRate)}get minimumSpeed(){return this.isYouTube?Math.min(...this.options.speed):this.isVimeo?.5:.0625}get maximumSpeed(){return this.isYouTube?Math.max(...this.options.speed):this.isVimeo?2:16}set quality(t){const n=this.config.quality,r=this.options.quality;if(!r.length)return;let i=[!ae.empty(t)&&Number(t),this.storage.get("quality"),n.selected,n.default].find(ae.number),o=!0;if(!r.includes(i)){const s=eOe(r,i);this.debug.warn(`Unsupported quality option: ${i}, using ${s} instead`),i=s,o=!1}n.selected=i,this.media.quality=i,o&&this.storage.set({quality:i})}get quality(){return this.media.quality}set loop(t){const n=ae.boolean(t)?t:this.config.loop.active;this.config.loop.active=n,this.media.loop=n}get loop(){return!!this.media.loop}set source(t){CU.change.call(this,t)}get source(){return this.media.currentSrc}get download(){const{download:t}=this.config.urls;return ae.url(t)?t:this.source}set download(t){ae.url(t)&&(this.config.urls.download=t,bt.setDownloadUrl.call(this))}set poster(t){this.isVideo?vr.setPoster.call(this,t,!1).catch(()=>{}):this.debug.warn("Poster can only be set for video")}get poster(){return this.isVideo?this.media.getAttribute("poster")||this.media.getAttribute("data-poster"):null}get ratio(){if(!this.isVideo)return null;const t=WM(MZ.call(this));return ae.array(t)?t.join(":"):t}set ratio(t){this.isVideo?ae.string(t)&&nOe(t)?(this.config.ratio=WM(t),kx.call(this)):this.debug.error(`Invalid aspect ratio specified (${t})`):this.debug.warn("Aspect ratio can only be set for video")}set autoplay(t){this.config.autoplay=ae.boolean(t)?t:this.config.autoplay}get autoplay(){return!!this.config.autoplay}toggleCaptions(t){Qn.toggle.call(this,t,!1)}set currentTrack(t){Qn.set.call(this,t,!1),Qn.setup.call(this)}get currentTrack(){const{toggled:t,currentTrack:n}=this.captions;return t?n:-1}set language(t){Qn.setLanguage.call(this,t,!1)}get language(){return(Qn.getCurrentTrack.call(this)||{}).language}set pip(t){if(!Di.pip)return;const n=ae.boolean(t)?t:!this.pip;ae.function(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(n?XB.active:XB.inactive),ae.function(this.media.requestPictureInPicture)&&(!this.pip&&n?this.media.requestPictureInPicture():this.pip&&!n&&document.exitPictureInPicture())}get pip(){return Di.pip?ae.empty(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===XB.active:null}setPreviewThumbnails(t){this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),Object.assign(this.config.previewThumbnails,t),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new TU(this))}static supported(t,n){return Di.check(t,n)}static loadSprite(t,n){return oOe(t,n)}static setup(t,n={}){let r=null;return ae.string(t)?r=Array.from(document.querySelectorAll(t)):ae.nodeList(t)?r=Array.from(t):ae.array(t)&&(r=t.filter(ae.element)),ae.empty(r)?null:r.map(i=>new AU(i,n))}};hOe.defaults=rHt(uOe);function IHt(e,t,n=[]){const[r,i]=O.useState(null),o=O.useRef(null),{instantiate:s,destroy:a,getAPI:l,params:u}=t;O.useEffect(()=>{const d=s(o.current,u);return i(d),()=>{a&&a(d,u)}},n);const c=O.useMemo(()=>l(r,u),[r]);return O.useImperativeHandle(e,c,[c]),o}const RHt={},$Ht=(e,t)=>{const n=new hOe(".plyr-react",t.options||{});return t.source&&(n.source=t.source),n},DHt=e=>{e&&e.destroy()},MHt=()=>{},PHt=e=>e?()=>({plyr:e}):()=>new Proxy({plyr:{source:null}},{get:(t,n)=>n==="plyr"?t[n]:MHt});function fOe(e,t,n=null){return IHt(e,{instantiate:$Ht,getAPI:PHt,destroy:DHt,params:t},n||[t.options,t.source])}const ZB=O.forwardRef((e,t)=>{const{source:n,options:r=null,...i}=e,o=fOe(t,{source:n,options:r});return k.jsx("video",{ref:o,className:"plyr-react plyr",...i})});(RHt&&"production")!=="production"&&(ZB.displayName="Plyr",ZB.defaultProps={options:{controls:["rewind","play","fast-forward","progress","current-time","duration","mute","volume","settings","fullscreen"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop"}},source:{type:"video",sources:[{src:"https://cdn.plyr.io/static/blank.mp4",type:"video/mp4",size:720},{src:"https://cdn.plyr.io/static/blank.mp4",type:"video/mp4",size:1080}]}},ZB.propTypes={options:g$.object,source:g$.any});const NHt=O.forwardRef((e,t)=>{const{source:n,options:r=null,endedCallback:i,errorCallback:o}=e,s=fOe(t,{options:r,source:n});return O.useEffect(()=>{const{current:a}=t;a.plyr.source!==null&&(a.plyr.on("ended",i),a.plyr.on("error",o))}),k.jsx("video",{ref:s,className:"plyr-react plyr"})});function OHt({currentConfig:e}){const t=O.useMemo(()=>e.path.startsWith("http")?e.path:`${hi}${e.path}`,[e.path]),[n,r]=O.useState(!0),[i,o]=O.useState(!1);O.useEffect(()=>{async function m(){if(t.startsWith("http"))o(!0);else{const g=await WN(t);o(!!g)}r(!1)}m()},[t]);const s=O.useMemo(()=>t.includes("youtube")?[{src:t,provider:"youtube"}]:t.includes("vimeo")?[{src:t,provider:"vimeo"}]:[{src:t,type:"video/mp4"}],[t]),a=O.useMemo(()=>({controls:[e.forceCompletion!==!1?"play-large":"play","current-time",...e.withTimeline?["progress"]:[],"volume","fullscreen"]}),[e.forceCompletion,e.withTimeline]),l=Hh(),u=gu(),c=bs(),{updateResponseBlockValidation:d}=Po();O.useEffect(()=>{e.forceCompletion&&c(d({location:"stimulus",identifier:`${l}_${u}`,status:!1,values:{}}))},[l,e.forceCompletion,u,c,d]);const h=O.useCallback(()=>{e.forceCompletion&&c(d({location:"stimulus",identifier:`${l}_${u}`,status:!0,values:{}}))},[l,e.forceCompletion,u,c,d]),f=O.useCallback(()=>{o(!1)},[]),p=O.useRef(null);return n||i?k.jsx(ge,{mb:"md",children:k.jsx(NHt,{ref:p,source:{type:"video",sources:s},options:a,endedCallback:h,errorCallback:f})}):k.jsx(Cp,{path:e.path})}function LHt(){const e=Ch(),t=gu(),n=Hh(),r=e.components[n],{storageEngine:i}=Si(),o=qn(D=>D.answers),s=O.useRef(null),[a,l]=O.useState(null),{setIsRecording:u}=Po(),c=qn(D=>D.analysisProvState.stimulus),d=b_(),h=ZG(),f=qn(D=>D.sequence),[p]=jh(),m=qn(D=>D.participantId),g=O.useMemo(()=>p.get("participantId"),[p]);LTe();const y=bs(),{setAlertModal:v}=Po();O.useEffect(()=>{(i==null?void 0:i.getEngine())!=="firebase"&&y(v({show:!0,message:"There was an issue connecting to the firebase database. This could be caused by a network issue or your adblocker. If you are using an adblocker, please disable it for this website and refresh."}))},[v,i,y]),O.useEffect(()=>{!e||!e.uiConfig.recordStudyAudio||!i||i.getEngine()!=="firebase"||h&&h.endTime>0||d||(s.current&&a&&i.saveAudio(s.current,a),s.current&&(s.current.stream.getTracks().forEach(D=>{var $;D.stop(),($=s.current)==null||$.stream.removeTrack(D)}),s.current.stream.getAudioTracks().forEach(D=>{var $;D.stop(),($=s.current)==null||$.stream.removeTrack(D)}),s.current.stop(),s.current=null),r&&r.recordAudio!==void 0&&!r.recordAudio||n==="end"?(l(null),y(u(!1))):navigator.mediaDevices.getUserMedia({audio:!0}).then(D=>{const $=new MediaRecorder(D);s.current=$,s.current.start(),y(u(!0)),l(`${n}_${t}`)}))},[n,t]);const[b,_]=O.useState([]),x=O.useRef([]);O.useEffect(()=>{async function D(){var R;const I=((R=KG(f,t))==null?void 0:R.map(A=>A.currentBlock.id).filter(A=>A!==void 0))||[];_(I)}async function $(){const I=x.current;JSON.stringify(I)!==JSON.stringify(b)&&b.length>0&&i&&await i.addParticipantTags(b),x.current=b}D().then($)},[t,i,f]);const w=lb(),E=O.useMemo(()=>{var $,I;const D=n&&n!=="end"&&!n.startsWith("__")&&ph(r,e);if(typeof D=="object"){const R=($=o[w])==null?void 0:$.parameters,A=(I=o[w])==null?void 0:I.correctAnswer;return{...D,parameters:R||D.parameters||void 0,correctAnswer:A||D.correctAnswer||void 0}}return D},[o,n,w,r,e]);if(n==="end")return k.jsx(tyt,{});if(n==="__dynamicLoading")return null;if(n==="__trainingFailed")return k.jsx(nyt,{});if(n==="__timedOut")return k.jsx(ryt,{});if(n==="Notfound")return k.jsx(Cp,{email:e.uiConfig.contactEmail});if(g&&m!==g)return k.jsx(zu,{style:{height:"80vh"},children:k.jsx(Bh,{})});const S=E.instruction||"",{instructionLocation:T}=E,C=e.uiConfig.sidebar&&(T==="sidebar"||T===void 0);return k.jsxs(k.Fragment,{children:[T==="aboveStimulus"&&k.jsx(gs,{text:S}),k.jsx(cD,{status:h,config:E,location:"aboveStimulus"},`${t}-above-response-block`),k.jsxs(O.Suspense,{fallback:k.jsx("div",{children:"Loading..."}),children:[E.type==="markdown"&&k.jsx(V0t,{currentConfig:E}),E.type==="website"&&k.jsx(F0t,{currentConfig:E,provState:c,answers:o}),E.type==="image"&&k.jsx(z0t,{currentConfig:E}),E.type==="react-component"&&k.jsx(H0t,{currentConfig:E,provState:c,answers:o}),E.type==="vega"&&k.jsx(EUt,{currentConfig:E,provState:c}),E.type==="video"&&k.jsx(OHt,{currentConfig:E})]},`${t}-stimulus`),(T==="belowStimulus"||T===void 0&&!C)&&k.jsx(gs,{text:S}),k.jsx(cD,{status:h,config:E,location:"belowStimulus"},`${t}-below-response-block`)]})}function pOe(e){const[t]=jh();return k.jsx(MW,{...e,to:{pathname:e.to,search:t.toString()}})}var FHt="Expected a function",Npe=NaN,BHt="[object Symbol]",jHt=/^\s+|\s+$/g,zHt=/^[-+]0x[0-9a-f]+$/i,UHt=/^0b[01]+$/i,HHt=/^0o[0-7]+$/i,VHt=parseInt,WHt=typeof vt=="object"&&vt&&vt.Object===Object&&vt,qHt=typeof self=="object"&&self&&self.Object===Object&&self,GHt=WHt||qHt||Function("return this")(),YHt=Object.prototype,KHt=YHt.toString,XHt=Math.max,QHt=Math.min,e8=function(){return GHt.Date.now()};function JHt(e,t,n){var r,i,o,s,a,l,u=0,c=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(FHt);t=Ope(t)||0,kU(n)&&(c=!!n.leading,d="maxWait"in n,o=d?XHt(Ope(n.maxWait)||0,t):o,h="trailing"in n?!!n.trailing:h);function f(w){var E=r,S=i;return r=i=void 0,u=w,s=e.apply(S,E),s}function p(w){return u=w,a=setTimeout(y,t),c?f(w):s}function m(w){var E=w-l,S=w-u,T=t-E;return d?QHt(T,o-S):T}function g(w){var E=w-l,S=w-u;return l===void 0||E>=t||E<0||d&&S>=o}function y(){var w=e8();if(g(w))return v(w);a=setTimeout(y,m(w))}function v(w){return a=void 0,h&&r?f(w):(r=i=void 0,s)}function b(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function _(){return a===void 0?s:v(e8())}function x(){var w=e8(),E=g(w);if(r=arguments,i=this,l=w,E){if(a===void 0)return p(l);if(d)return a=setTimeout(y,t),f(l)}return a===void 0&&(a=setTimeout(y,t)),s}return x.cancel=b,x.flush=_,x}function kU(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function ZHt(e){return!!e&&typeof e=="object"}function eVt(e){return typeof e=="symbol"||ZHt(e)&&KHt.call(e)==BHt}function Ope(e){if(typeof e=="number")return e;if(eVt(e))return Npe;if(kU(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=kU(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(jHt,"");var n=UHt.test(e);return n||HHt.test(e)?VHt(e.slice(2),n?2:8):zHt.test(e)?Npe:+e}var tVt=JHt;const Dd=hu(tVt);function mOe(e,t,n,r){let i=0;for(let o=0;o<e.components.length;o+=1){const s=e.components[o];if(typeof s=="string"){if(r===e.orderPath&&s===t&&o>=n)break;i+=1}else if(s.order==="dynamic"?i+=1:i+=mOe(s,t,n,r),r.includes(s.orderPath))break}return i}function gOe(e,t){let n=0;return t.components.forEach(r=>{var i;if(typeof r=="string"&&((i=e.interruptions)!=null&&i.flatMap(o=>o.components).includes(r)))n+=1;else if(typeof r!="string"){const o=e.components.find(s=>typeof s!="string"&&s.orderPath===r.orderPath);n+=gOe(o,r)}}),n}function nVt(e,t){const n=[];return t.forEach(r=>{const i=e.findIndex(o=>typeof o=="string"?o===r:typeof r!="string"&&o.orderPath===r.orderPath);i!==-1&&(n.push(e[i]),e.splice(i,1)),i===-1&&typeof r=="string"&&n.push(r)}),e&&n.push(...e),n}function rVt({step:e,disabled:t,fullSequence:n,startIndex:r,interruption:i,participantView:o,studyConfig:s,subSequence:a,analysisNavigation:l,parentBlock:u,parentActive:c,answers:d}){const h=Vp(),f=mu(),p=gu(),m=s.components[e]&&ph(s.components[e],s),g=a&&a.components.slice(r).includes(e)?mOe(n,e,r,a.orderPath):-1,{trialId:y,funcIndex:v,analysisTab:b}=ia(),[_]=jh(),x=O.useMemo(()=>_.get("participantId"),[_]),w=b?[]:ob(),E=y===e,S=c&&u&&v?r===uv(v):!1,T=o?p===g||S:p===`reviewer-${e}`,C=l?E:T,D=y?`./../${e}`:`./${e}`,$=u.order==="dynamic"?`/${h}/${no(w.indexOf(u.id))}/${no(r)}`:"",I=o?u.order==="dynamic"?$:`/${h}/${no(g)}`:`/${h}/reviewer-${e}`,R=l?()=>f(D):()=>f(`${I}${x?`?participantId=${x}`:""}`),A=e.includes(".co.")?".co.":e.includes(".components.")?".components.":!1,M=e.includes("$")&&A&&e.includes(A)?e.split(A).at(-1):e,N=u.order==="dynamic"?Object.entries(d).find(([j,W])=>j===`${u.id}_${w.indexOf(u.id)}_${M}_${r}`):Object.entries(d).find(([j,W])=>j===`${M}_${r}`),L=N?N[1]:null,z=L&&L.correctAnswer.length>0&&Object.keys(L.answer).length>0&&L.correctAnswer,F=z&&L&&Object.values(z).every(j=>L.answer[j.id]===j.answer);return k.jsxs(Dy,{withinPortal:!0,position:"left",withArrow:!0,arrowSize:10,shadow:"md",offset:0,children:[k.jsx(Dy.Target,{children:k.jsx(UP,{active:C,style:{lineHeight:"32px",height:"32px"},label:k.jsxs(ge,{children:[i&&k.jsx(xqe,{size:16,style:{marginRight:4,marginBottom:-2},color:"orange"}),e!==M&&k.jsx(Oqe,{size:16,style:{marginRight:4,marginBottom:-2},color:"blue"}),L&&z?F?k.jsx(jA,{size:16,style:{marginRight:4,marginBottom:-2},color:"green"}):k.jsx(Jx,{size:16,style:{marginRight:4,marginBottom:-2},color:"red"}):null,k.jsx(Fe,{size:"sm",span:C,fw:C?"700":void 0,display:"inline",style:{textWrap:"nowrap"},children:M})]}),onClick:R,disabled:t&&u.order!=="dynamic"})}),m&&k.jsx(Dy.Dropdown,{children:k.jsxs(ge,{mah:700,style:{overflow:"auto"},children:[k.jsxs(ge,{children:[k.jsx(Fe,{fw:900,display:"inline-block",mr:2,children:"Name:"})," ",k.jsx(Fe,{fw:400,component:"span",children:M})]}),m.description&&k.jsxs(ge,{children:[k.jsx(Fe,{fw:900,display:"inline-block",mr:2,children:"Description:"})," ",k.jsx(Fe,{fw:400,component:"span",children:m.description})]}),("parameters"in m||L)&&k.jsxs(ge,{children:[k.jsx(Fe,{fw:900,display:"inline-block",mr:2,children:"Parameters:"})," ",k.jsx(Of,{block:!0,children:L&&JSON.stringify(Object.keys(L).length>0?L.parameters:"parameters"in m?m.parameters:{},null,2)})]}),k.jsxs(ge,{children:[k.jsx(Fe,{fw:900,display:"inline-block",mr:2,children:"Response:"})," ",k.jsx(Of,{block:!0,children:JSON.stringify(m.response,null,2)})]}),m.correctAnswer&&k.jsxs(ge,{children:[k.jsx(Fe,{fw:900,display:"inline-block",mr:2,children:"Correct Answer:"})," ",k.jsx(Of,{block:!0,children:JSON.stringify(m.correctAnswer,null,2)})]}),m.meta&&k.jsxs(ge,{children:[k.jsx(Fe,{fw:"900",component:"span",children:"Task Meta: "}),k.jsx(Of,{block:!0,children:JSON.stringify(m.meta,null,2)})]})]})})]})}function qM({configSequence:e,fullSequence:t,participantSequence:n,participantView:r,studyConfig:i,analysisNavigation:o}){var E;let s=structuredClone(e.components);n&&r&&(s=nVt(structuredClone(e.components),structuredClone(n.components)));const{analysisTab:a}=ia();let l={};a||(l=qn(S=>S.answers)),r||(s=[...((E=e.interruptions)==null?void 0:E.flatMap(S=>S.components))||[],...s||[]]);const u=O.useMemo(()=>n?Rg(n).length-gOe(e,n):0,[e,n]),c=O.useMemo(()=>Rg(e),[e]),[d,h]=O.useState(u>0),[f]=jh(),p=O.useMemo(()=>f.get("participantId"),[f]),m=gu(),g=a?[]:ob(),y=typeof m=="number"&&e.order==="dynamic"&&g[m]===e.id,v=e.id&&g.indexOf(e.id)||-1,b=Vp(),_=mu(),x=()=>_(`/${b}/${no(v)}/${no(0)}${p?`?participantId=${p}`:""}`),w=[...s,...Object.entries(l).filter(([S,T])=>S.startsWith(`${e.id}_${v}_`)).map(([S,T])=>T.componentName)];return k.jsx(UP,{active:y,label:k.jsxs(ge,{style:{opacity:u>0?1:.5},children:[k.jsx(Fe,{size:"sm",display:"inline",fw:y?900:700,children:e.id?e.id:e.order}),e.order==="random"||e.order==="latinSquare"?k.jsx(Ur,{label:e.order,position:"right",withArrow:!0,children:k.jsx(bqe,{size:"15",opacity:.5,style:{marginLeft:"5px",verticalAlign:"middle"}})}):null,r&&k.jsx(qc,{ml:5,variant:"light",children:e.order==="dynamic"?`${Object.keys(l).filter(S=>S.startsWith(`${e.id}_`)).length} / ?`:`${u}/${c.length}`}),r&&e.interruptions&&k.jsx(qc,{ml:5,color:"orange",variant:"light",children:(n==null?void 0:n.components.filter(S=>{var T;return typeof S=="string"&&((T=e.interruptions)==null?void 0:T.flatMap(C=>C.components).includes(S))}).length)||0})]}),opened:d,onClick:()=>e.order==="dynamic"&&!o&&r?x():h(!d),childrenOffset:32,style:{lineHeight:"32px",height:"32px"},children:d?k.jsx(ge,{style:{borderLeft:"1px solid #e9ecef"},children:w.map((S,T)=>{if(typeof S=="string")return k.jsx(rVt,{step:S,disabled:r&&(n==null?void 0:n.components[T])!==S,fullSequence:t,startIndex:T,interruption:e.interruptions&&e.interruptions.findIndex(D=>D.components.includes(S))>-1||!1,participantView:r,studyConfig:i,subSequence:n,analysisNavigation:o,parentBlock:e,parentActive:y,answers:l},T);const C=n==null?void 0:n.components.find(D=>typeof D!="string"&&D.orderPath===S.orderPath);return k.jsx(qM,{configSequence:S,participantSequence:C,fullSequence:t,participantView:r,studyConfig:i,analysisNavigation:o},T)})}):null},e.id)}function yOe(e,t,n,r){e==null||e.nextParticipant().then(()=>{window.location.href=r}).catch(i=>{console.error(i)})}function Lpe({text:e}){return k.jsx(Ur,{label:e,multiline:!0,w:200,style:{whiteSpace:"normal"},withinPortal:!0,position:"bottom",children:k.jsx(FW,{size:16,style:{marginBottom:-3,marginLeft:4}})})}function iVt(){const e=qn(p=>p.sequence),t=qn(p=>p.metadata),{toggleStudyBrowser:n}=Po(),r=ib(),i=Ch(),o=bs(),s=Vp(),a=RW(`/${s}`),{storageEngine:l}=Si(),u=b_(),c=O.useMemo(()=>{let p=structuredClone(i.sequence);return p=XG(p,"root"),p.components.push("end"),p},[i.sequence]),[d,h]=O.useState("participant"),f=O.useMemo(()=>d==="allTrials"||u,[d,u]);return k.jsxs(br.Aside,{p:"0",children:[k.jsx(br.Section,{p:"md",children:k.jsxs(Rt,{direction:"row",justify:"space-between",children:[k.jsx(Fe,{size:"md",fw:700,pt:3,children:"Study Browser"}),k.jsx(Ur,{label:"Go to the sequence of the next participant in the experiment. Sequences can be different between participants due to randomization, etc.",w:280,multiline:!0,disabled:f,children:k.jsx(Kt,{variant:"light",leftSection:k.jsx(BW,{size:14}),onClick:()=>yOe(l,i,t,a),size:"xs",disabled:f,children:"Next Participant"})}),k.jsx(t0,{onClick:()=>o(n()),mt:1})]})}),k.jsx(br.Section,{grow:!0,component:gp,p:"md",children:k.jsxs(Fn,{value:d,onChange:h,children:[k.jsx(ge,{style:{position:"sticky",top:0,backgroundColor:r?"":"white",zIndex:1},children:k.jsxs(Fn.List,{grow:!0,children:[k.jsxs(Fn.Tab,{value:"participant",children:["Participant View",k.jsx(Lpe,{text:"The Participants View shows items just as a participants would see them, considering randomization, omissions, etc. You can navigate between multiple participants using the next participant button."})]}),k.jsxs(Fn.Tab,{value:"allTrials",disabled:u,children:["All Trials View",k.jsx(Lpe,{text:"The All Trials View shows all items in the order defined in the config."})]})]})}),k.jsx(Fn.Panel,{value:"participant",children:k.jsx(qM,{configSequence:c,participantSequence:e,fullSequence:e,participantView:!0,studyConfig:i})}),k.jsx(Fn.Panel,{value:"allTrials",children:k.jsx(qM,{configSequence:c,participantSequence:e,fullSequence:e,participantView:!1,studyConfig:i})})]})})]})}function oVt({studyNavigatorEnabled:e,dataCollectionEnabled:t}){const n=qn(C=>C.config),r=qn(C=>C.metadata),i=qn(C=>C.answers),o=ob(),s=bs(),{toggleShowHelpText:a,toggleStudyBrowser:l,incrementHelpCounter:u}=Po(),{storageEngine:c}=Si(),d=Hh(),h=gu(),f=O.useMemo(()=>{const C=Object.values(i).filter($=>$.endTime>-1).length,D=o.map(($,I)=>n.components[$]?1:typeof h=="number"&&h<=I&&$!=="end"?55:Object.entries(i).filter(([R,A])=>R.includes(`${$}_`)).length).reduce(($,I)=>$+I,0);return C/D*100},[i,h,o,n.components]),[p,m]=O.useState(!1),g=n==null?void 0:n.uiConfig.logoPath,y=n==null?void 0:n.uiConfig.withProgressBar,v=Vp(),b=RW(`/${v}`),_=O.useRef(null),[x,w]=O.useState(!1),E=qn(C=>C.isRecording);O.useEffect(()=>{const C=_.current;C&&w(C.scrollWidth>C.offsetWidth)},[n]);const{colorScheme:S,setColorScheme:T}=sye();return k.jsx(br.Header,{p:"md",children:k.jsxs(Qd,{mt:-7,align:"center",children:[k.jsx(Qd.Col,{span:4,children:k.jsxs(Rt,{align:"center",children:[k.jsx(i0,{w:40,src:`${hi}${g}`,alt:"Study Logo"}),k.jsx(Gl,{w:"md"}),k.jsx(wi,{ref:_,order:4,style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},title:x?n==null?void 0:n.studyMetadata.title:void 0,children:n==null?void 0:n.studyMetadata.title})]})}),k.jsx(Qd.Col,{span:4,children:y&&k.jsx(qx,{radius:"md",size:"lg",value:f})}),k.jsx(Qd.Col,{span:4,children:k.jsxs(Dr,{wrap:"nowrap",justify:"right",children:[E?k.jsxs(Dr,{ml:"xl",gap:20,wrap:"nowrap",children:[k.jsx(Fe,{color:"red",children:"Recording audio"}),k.jsx(nTe,{})]}):null,!t&&k.jsx(Ur,{multiline:!0,withArrow:!0,arrowSize:6,w:300,label:"This is a demo version of the study, were not collecting any data.",children:k.jsx(qc,{size:"lg",color:"orange",children:"Demo Mode"})}),k.jsx(ng,{color:"dark.4",size:"md",checked:S==="dark",onLabel:k.jsx(Wqe,{size:16,stroke:2.5,color:"var(--mantine-color-yellow-4)"}),offLabel:k.jsx(Pqe,{size:16,stroke:2.5,color:"var(--mantine-color-blue-6)"}),onChange:C=>T(C.currentTarget.checked?"dark":"light")}),(n==null?void 0:n.uiConfig.helpTextPath)!==void 0&&k.jsx(Kt,{variant:"outline",onClick:()=>{s(a()),s(u({identifier:`${d}_${h}`}))},children:"Help"}),k.jsxs(Zo,{shadow:"md",width:200,withinPortal:!0,opened:p,onChange:m,children:[k.jsx(Zo.Target,{children:k.jsx(e0,{size:"lg",className:"studyBrowserMenuDropdown",variant:"subtle",color:"gray",children:k.jsx(kqe,{})})}),k.jsxs(Zo.Dropdown,{children:[e&&k.jsx(Zo.Item,{leftSection:k.jsx(zqe,{size:14}),onClick:()=>s(l()),children:"Study Browser"}),k.jsx(Zo.Item,{component:"a",href:n!==null?`mailto:${n.uiConfig.contactEmail}`:void 0,leftSection:k.jsx(Mqe,{size:14}),children:"Contact"}),e&&k.jsx(Zo.Item,{leftSection:k.jsx(BW,{size:14}),onClick:()=>yOe(c,n,r,b),children:"Next Participant"}),e&&k.jsx(Zo.Item,{leftSection:k.jsx(a1e,{size:14}),component:"a",href:`${hi}analysis/stats/${v}`,children:"Analyze & Manage"})]})]})]})})]})})}function sVt(){var u;const e=(u=Ch())==null?void 0:u.uiConfig.sidebar,t=Ch(),n=Hh(),r=t.components[n],i=O.useMemo(()=>r?ph(r,t):null,[r,t]),o=ib(),s=ZG(),a=(i==null?void 0:i.instruction)||"",l=(i==null?void 0:i.instructionLocation)==="sidebar"||(i==null?void 0:i.instructionLocation)===void 0;return e&&i?k.jsxs(br.Navbar,{bg:o?"":"gray.1",display:"block",style:{zIndex:0,overflowY:"scroll"},children:[l&&a!==""&&k.jsxs(br.Section,{bg:o?"":"gray.3",p:"md",children:[k.jsx(Fe,{span:!0,c:"orange.8",fw:700,inherit:!0,children:"Task:"}),k.jsx(gs,{text:a})]}),k.jsx(br.Section,{p:"md",children:k.jsx(cD,{status:s,config:i,location:"sidebar"},`${n}-sidebar-response-block`)})]}):k.jsx(br.Navbar,{bg:o?"":"gray.1",display:"block",style:{zIndex:0,overflowY:"scroll"},children:k.jsx(cD,{status:s,config:i,location:"sidebar",style:{display:"hidden"}},`${n}-sidebar-response-block`)})}function aVt(){const e=qn(d=>d.showHelpText),t=qn(d=>d.config),n=bs(),{toggleShowHelpText:r}=Po(),[i,o]=O.useState(""),[s,a]=O.useState(!0),l=Hh(),u=O.useMemo(()=>ph(t.components[l]||{},t),[l,t]),c=O.useMemo(()=>u.helpTextPathOverride?u.helpTextPathOverride:t.uiConfig.helpTextPath,[u.helpTextPathOverride,t.uiConfig.helpTextPath]);return O.useEffect(()=>{async function d(){if(!c){a(!1);return}const h=await WN(`${hi}${c}`);h!==void 0&&o(h),a(!1)}d()},[c]),k.jsx(li,{size:"70%",opened:e,withCloseButton:!1,onClose:()=>n(r()),children:s||i?k.jsx(gs,{text:i}):k.jsx(Cp,{path:t.uiConfig.helpTextPath})})}function lVt(){const e=qn(s=>s.alertModal),{setAlertModal:t}=Po(),n=bs(),[r,i]=O.useState(e.show),o=O.useCallback(()=>n(t({...e,show:!1})),[e,t,n]);return O.useEffect(()=>i(e.show),[e.show]),k.jsx(li,{opened:r,centered:!0,size:"lg",withCloseButton:!1,onClose:o,children:k.jsxs(Kf,{color:"red",radius:"xs",title:"Alert",icon:k.jsx(vqe,{}),onClose:o,styles:{root:{backgroundColor:"unset"}},children:[k.jsx(Fe,{my:"md",children:e.message}),k.jsx(Dr,{w:"100%",justify:"end",children:k.jsx(Kt,{onClick:o,color:"red",variant:"filled",m:"xs",children:"Continue Study"})})]})})}var IU="http://www.w3.org/1999/xhtml";const Fpe={svg:"http://www.w3.org/2000/svg",xhtml:IU,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function a4(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Fpe.hasOwnProperty(t)?{space:Fpe[t],local:e}:e}function uVt(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===IU&&t.documentElement.namespaceURI===IU?t.createElement(e):t.createElementNS(n,e)}}function cVt(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function vOe(e){var t=a4(e);return(t.local?cVt:uVt)(t)}function dVt(){}function NZ(e){return e==null?dVt:function(){return this.querySelector(e)}}function hVt(e){typeof e!="function"&&(e=NZ(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=new Array(s),l,u,c=0;c<s;++c)(l=o[c])&&(u=e.call(l,l.__data__,c,o))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new dd(r,this._parents)}function fVt(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function pVt(){return[]}function bOe(e){return e==null?pVt:function(){return this.querySelectorAll(e)}}function mVt(e){return function(){return fVt(e.apply(this,arguments))}}function gVt(e){typeof e=="function"?e=mVt(e):e=bOe(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s=t[o],a=s.length,l,u=0;u<a;++u)(l=s[u])&&(r.push(e.call(l,l.__data__,u,s)),i.push(l));return new dd(r,i)}function wOe(e){return function(){return this.matches(e)}}function xOe(e){return function(t){return t.matches(e)}}var yVt=Array.prototype.find;function vVt(e){return function(){return yVt.call(this.children,e)}}function bVt(){return this.firstElementChild}function wVt(e){return this.select(e==null?bVt:vVt(typeof e=="function"?e:xOe(e)))}var xVt=Array.prototype.filter;function _Vt(){return Array.from(this.children)}function EVt(e){return function(){return xVt.call(this.children,e)}}function SVt(e){return this.selectAll(e==null?_Vt:EVt(typeof e=="function"?e:xOe(e)))}function TVt(e){typeof e!="function"&&(e=wOe(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],l,u=0;u<s;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&a.push(l);return new dd(r,this._parents)}function _Oe(e){return new Array(e.length)}function CVt(){return new dd(this._enter||this._groups.map(_Oe),this._parents)}function GM(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}GM.prototype={constructor:GM,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function AVt(e){return function(){return e}}function kVt(e,t,n,r,i,o){for(var s=0,a,l=t.length,u=o.length;s<u;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new GM(e,o[s]);for(;s<l;++s)(a=t[s])&&(i[s]=a)}function IVt(e,t,n,r,i,o,s){var a,l,u=new Map,c=t.length,d=o.length,h=new Array(c),f;for(a=0;a<c;++a)(l=t[a])&&(h[a]=f=s.call(l,l.__data__,a,t)+"",u.has(f)?i[a]=l:u.set(f,l));for(a=0;a<d;++a)f=s.call(e,o[a],a,o)+"",(l=u.get(f))?(r[a]=l,l.__data__=o[a],u.delete(f)):n[a]=new GM(e,o[a]);for(a=0;a<c;++a)(l=t[a])&&u.get(h[a])===l&&(i[a]=l)}function RVt(e){return e.__data__}function $Vt(e,t){if(!arguments.length)return Array.from(this,RVt);var n=t?IVt:kVt,r=this._parents,i=this._groups;typeof e!="function"&&(e=AVt(e));for(var o=i.length,s=new Array(o),a=new Array(o),l=new Array(o),u=0;u<o;++u){var c=r[u],d=i[u],h=d.length,f=DVt(e.call(c,c&&c.__data__,u,r)),p=f.length,m=a[u]=new Array(p),g=s[u]=new Array(p),y=l[u]=new Array(h);n(c,d,m,g,y,f,t);for(var v=0,b=0,_,x;v<p;++v)if(_=m[v]){for(v>=b&&(b=v+1);!(x=g[b])&&++b<p;);_._next=x||null}}return s=new dd(s,r),s._enter=a,s._exit=l,s}function DVt(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function MVt(){return new dd(this._exit||this._groups.map(_Oe),this._parents)}function PVt(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function NVt(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),l=0;l<s;++l)for(var u=n[l],c=r[l],d=u.length,h=a[l]=new Array(d),f,p=0;p<d;++p)(f=u[p]||c[p])&&(h[p]=f);for(;l<i;++l)a[l]=n[l];return new dd(a,this._parents)}function OVt(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function LVt(e){e||(e=FVt);function t(d,h){return d&&h?e(d.__data__,h.__data__):!d-!h}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,l=i[o]=new Array(a),u,c=0;c<a;++c)(u=s[c])&&(l[c]=u);l.sort(t)}return new dd(i,this._parents).order()}function FVt(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function BVt(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function jVt(){return Array.from(this)}function zVt(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function UVt(){let e=0;for(const t of this)++e;return e}function HVt(){return!this.node()}function VVt(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&e.call(a,a.__data__,o,i);return this}function WVt(e){return function(){this.removeAttribute(e)}}function qVt(e){return function(){this.removeAttributeNS(e.space,e.local)}}function GVt(e,t){return function(){this.setAttribute(e,t)}}function YVt(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function KVt(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function XVt(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function QVt(e,t){var n=a4(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?qVt:WVt:typeof t=="function"?n.local?XVt:KVt:n.local?YVt:GVt)(n,t))}function EOe(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function JVt(e){return function(){this.style.removeProperty(e)}}function ZVt(e,t,n){return function(){this.style.setProperty(e,t,n)}}function eWt(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function tWt(e,t,n){return arguments.length>1?this.each((t==null?JVt:typeof t=="function"?eWt:ZVt)(e,t,n??"")):Ix(this.node(),e)}function Ix(e,t){return e.style.getPropertyValue(t)||EOe(e).getComputedStyle(e,null).getPropertyValue(t)}function nWt(e){return function(){delete this[e]}}function rWt(e,t){return function(){this[e]=t}}function iWt(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function oWt(e,t){return arguments.length>1?this.each((t==null?nWt:typeof t=="function"?iWt:rWt)(e,t)):this.node()[e]}function SOe(e){return e.trim().split(/^|\s+/)}function OZ(e){return e.classList||new TOe(e)}function TOe(e){this._node=e,this._names=SOe(e.getAttribute("class")||"")}TOe.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function COe(e,t){for(var n=OZ(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function AOe(e,t){for(var n=OZ(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function sWt(e){return function(){COe(this,e)}}function aWt(e){return function(){AOe(this,e)}}function lWt(e,t){return function(){(t.apply(this,arguments)?COe:AOe)(this,e)}}function uWt(e,t){var n=SOe(e+"");if(arguments.length<2){for(var r=OZ(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?lWt:t?sWt:aWt)(n,t))}function cWt(){this.textContent=""}function dWt(e){return function(){this.textContent=e}}function hWt(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function fWt(e){return arguments.length?this.each(e==null?cWt:(typeof e=="function"?hWt:dWt)(e)):this.node().textContent}function pWt(){this.innerHTML=""}function mWt(e){return function(){this.innerHTML=e}}function gWt(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function yWt(e){return arguments.length?this.each(e==null?pWt:(typeof e=="function"?gWt:mWt)(e)):this.node().innerHTML}function vWt(){this.nextSibling&&this.parentNode.appendChild(this)}function bWt(){return this.each(vWt)}function wWt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function xWt(){return this.each(wWt)}function _Wt(e){var t=typeof e=="function"?e:vOe(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function EWt(){return null}function SWt(e,t){var n=typeof e=="function"?e:vOe(e),r=t==null?EWt:typeof t=="function"?t:NZ(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function TWt(){var e=this.parentNode;e&&e.removeChild(this)}function CWt(){return this.each(TWt)}function AWt(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function kWt(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function IWt(e){return this.select(e?kWt:AWt)}function RWt(e){return arguments.length?this.property("__data__",e):this.node().__data__}function $Wt(e){return function(t){e.call(this,t,this.__data__)}}function DWt(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function MWt(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function PWt(e,t,n){return function(){var r=this.__on,i,o=$Wt(t);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function NWt(e,t,n){var r=DWt(e+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(i=0,c=a[l];i<o;++i)if((s=r[i]).type===c.type&&s.name===c.name)return c.value}return}for(a=t?PWt:MWt,i=0;i<o;++i)this.each(a(r[i],t,n));return this}function kOe(e,t,n){var r=EOe(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function OWt(e,t){return function(){return kOe(this,e,t)}}function LWt(e,t){return function(){return kOe(this,e,t.apply(this,arguments))}}function FWt(e,t){return this.each((typeof t=="function"?LWt:OWt)(e,t))}function*BWt(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var jWt=[null];function dd(e,t){this._groups=e,this._parents=t}function ck(){return new dd([[document.documentElement]],jWt)}function zWt(){return this}dd.prototype=ck.prototype={constructor:dd,select:hVt,selectAll:gVt,selectChild:wVt,selectChildren:SVt,filter:TVt,data:$Vt,enter:CVt,exit:MVt,join:PVt,merge:NVt,selection:zWt,order:OVt,sort:LVt,call:BVt,nodes:jVt,node:zVt,size:UVt,empty:HVt,each:VVt,attr:QVt,style:tWt,property:oWt,classed:uWt,text:fWt,html:yWt,raise:bWt,lower:xWt,append:_Wt,insert:SWt,remove:CWt,clone:IWt,datum:RWt,on:NWt,dispatch:FWt,[Symbol.iterator]:BWt};var UWt=ZX("start","end","cancel","interrupt"),HWt=[],IOe=0,Bpe=1,RU=2,TR=3,jpe=4,$U=5,CR=6;function l4(e,t,n,r,i,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;VWt(e,n,{name:t,index:r,group:i,on:UWt,tween:HWt,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:IOe})}function LZ(e,t){var n=Ed(e,t);if(n.state>IOe)throw new Error("too late; already scheduled");return n}function of(e,t){var n=Ed(e,t);if(n.state>TR)throw new Error("too late; already running");return n}function Ed(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function VWt(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=eQ(o,0,n.time);function o(u){n.state=Bpe,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var c,d,h,f;if(n.state!==Bpe)return l();for(c in r)if(f=r[c],f.name===n.name){if(f.state===TR)return lde(s);f.state===jpe?(f.state=CR,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete r[c]):+c<t&&(f.state=CR,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete r[c])}if(lde(function(){n.state===TR&&(n.state=jpe,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=RU,n.on.call("start",e,e.__data__,n.index,n.group),n.state===RU){for(n.state=TR,i=new Array(h=n.tween.length),c=0,d=-1;c<h;++c)(f=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++d]=f);i.length=d+1}}function a(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=$U,1),d=-1,h=i.length;++d<h;)i[d].call(e,c);n.state===$U&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=CR,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function WWt(e,t){var n=e.__transition,r,i,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){o=!1;continue}i=r.state>RU&&r.state<$U,r.state=CR,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}o&&delete e.__transition}}function qWt(e){return this.each(function(){WWt(this,e)})}function GWt(e,t){var n,r;return function(){var i=of(this,e),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function YWt(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=of(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=a;break}l===u&&i.push(a)}o.tween=i}}function KWt(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Ed(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?GWt:YWt)(n,e,t))}function FZ(e,t,n){var r=e._id;return e.each(function(){var i=of(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Ed(i,r).value[t]}}function ROe(e,t){var n;return(typeof t=="number"?Cu:t instanceof hv?UC:(n=hv(t))?(t=n,UC):IK)(e,t)}function XWt(e){return function(){this.removeAttribute(e)}}function QWt(e){return function(){this.removeAttributeNS(e.space,e.local)}}function JWt(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttribute(e);return s===i?null:s===r?o:o=t(r=s,n)}}function ZWt(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?o:o=t(r=s,n)}}function eqt(e,t,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a)))}}function tqt(e,t,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a)))}}function nqt(e,t){var n=a4(e),r=n==="transform"?X2e:ROe;return this.attrTween(e,typeof t=="function"?(n.local?tqt:eqt)(n,r,FZ(this,"attr."+e,t)):t==null?(n.local?QWt:XWt)(n):(n.local?ZWt:JWt)(n,r,t))}function rqt(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function iqt(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function oqt(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&iqt(e,o)),n}return i._value=t,i}function sqt(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&rqt(e,o)),n}return i._value=t,i}function aqt(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=a4(e);return this.tween(n,(r.local?oqt:sqt)(r,t))}function lqt(e,t){return function(){LZ(this,e).delay=+t.apply(this,arguments)}}function uqt(e,t){return t=+t,function(){LZ(this,e).delay=t}}function cqt(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?lqt:uqt)(t,e)):Ed(this.node(),t).delay}function dqt(e,t){return function(){of(this,e).duration=+t.apply(this,arguments)}}function hqt(e,t){return t=+t,function(){of(this,e).duration=t}}function fqt(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?dqt:hqt)(t,e)):Ed(this.node(),t).duration}function pqt(e,t){if(typeof t!="function")throw new Error;return function(){of(this,e).ease=t}}function mqt(e){var t=this._id;return arguments.length?this.each(pqt(t,e)):Ed(this.node(),t).ease}function gqt(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;of(this,e).ease=n}}function yqt(e){if(typeof e!="function")throw new Error;return this.each(gqt(this._id,e))}function vqt(e){typeof e!="function"&&(e=wOe(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],l,u=0;u<s;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&a.push(l);return new Pp(r,this._parents,this._name,this._id)}function bqt(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var l=t[a],u=n[a],c=l.length,d=s[a]=new Array(c),h,f=0;f<c;++f)(h=l[f]||u[f])&&(d[f]=h);for(;a<r;++a)s[a]=t[a];return new Pp(s,this._parents,this._name,this._id)}function wqt(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function xqt(e,t,n){var r,i,o=wqt(t)?LZ:of;return function(){var s=o(this,e),a=s.on;a!==r&&(i=(r=a).copy()).on(t,n),s.on=i}}function _qt(e,t){var n=this._id;return arguments.length<2?Ed(this.node(),n).on.on(e):this.each(xqt(n,e,t))}function Eqt(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Sqt(){return this.on("end.remove",Eqt(this._id))}function Tqt(e){var t=this._name,n=this._id;typeof e!="function"&&(e=NZ(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],l=a.length,u=o[s]=new Array(l),c,d,h=0;h<l;++h)(c=a[h])&&(d=e.call(c,c.__data__,h,a))&&("__data__"in c&&(d.__data__=c.__data__),u[h]=d,l4(u[h],t,n,h,u,Ed(c,n)));return new Pp(o,this._parents,t,n)}function Cqt(e){var t=this._name,n=this._id;typeof e!="function"&&(e=bOe(e));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var l=r[a],u=l.length,c,d=0;d<u;++d)if(c=l[d]){for(var h=e.call(c,c.__data__,d,l),f,p=Ed(c,n),m=0,g=h.length;m<g;++m)(f=h[m])&&l4(f,t,n,m,h,p);o.push(h),s.push(c)}return new Pp(o,s,t,n)}var Aqt=ck.prototype.constructor;function kqt(){return new Aqt(this._groups,this._parents)}function Iqt(e,t){var n,r,i;return function(){var o=Ix(this,e),s=(this.style.removeProperty(e),Ix(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}function $Oe(e){return function(){this.style.removeProperty(e)}}function Rqt(e,t,n){var r,i=n+"",o;return function(){var s=Ix(this,e);return s===i?null:s===r?o:o=t(r=s,n)}}function $qt(e,t,n){var r,i,o;return function(){var s=Ix(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),Ix(this,e))),s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a))}}function Dqt(e,t){var n,r,i,o="style."+t,s="end."+o,a;return function(){var l=of(this,e),u=l.on,c=l.value[o]==null?a||(a=$Oe(t)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(s,i=c),l.on=r}}function Mqt(e,t,n){var r=(e+="")=="transform"?K2e:ROe;return t==null?this.styleTween(e,Iqt(e,r)).on("end.style."+e,$Oe(e)):typeof t=="function"?this.styleTween(e,$qt(e,r,FZ(this,"style."+e,t))).each(Dqt(this._id,e)):this.styleTween(e,Rqt(e,r,t),n).on("end.style."+e,null)}function Pqt(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Nqt(e,t,n){var r,i;function o(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&Pqt(e,s,n)),r}return o._value=t,o}function Oqt(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Nqt(e,t,n??""))}function Lqt(e){return function(){this.textContent=e}}function Fqt(e){return function(){var t=e(this);this.textContent=t??""}}function Bqt(e){return this.tween("text",typeof e=="function"?Fqt(FZ(this,"text",e)):Lqt(e==null?"":e+""))}function jqt(e){return function(t){this.textContent=e.call(this,t)}}function zqt(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&jqt(i)),t}return r._value=e,r}function Uqt(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,zqt(e))}function Hqt(){for(var e=this._name,t=this._id,n=DOe(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,u=0;u<a;++u)if(l=s[u]){var c=Ed(l,t);l4(l,e,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Pp(r,this._parents,e,n)}function Vqt(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},l={value:function(){--i===0&&o()}};n.each(function(){var u=of(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),u.on=t}),i===0&&o()})}var Wqt=0;function Pp(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function DOe(){return++Wqt}var xf=ck.prototype;Pp.prototype={constructor:Pp,select:Tqt,selectAll:Cqt,selectChild:xf.selectChild,selectChildren:xf.selectChildren,filter:vqt,merge:bqt,selection:kqt,transition:Hqt,call:xf.call,nodes:xf.nodes,node:xf.node,size:xf.size,empty:xf.empty,each:xf.each,on:_qt,attr:nqt,attrTween:aqt,style:Mqt,styleTween:Oqt,text:Bqt,textTween:Uqt,remove:Sqt,tween:KWt,delay:cqt,duration:fqt,ease:mqt,easeVarying:yqt,end:Vqt,[Symbol.iterator]:xf[Symbol.iterator]};function qqt(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Gqt={time:null,delay:0,duration:250,ease:qqt};function Yqt(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Kqt(e){var t,n;e instanceof Pp?(t=e._id,e=e._name):(t=DOe(),(n=Gqt).time=HO(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,u=0;u<a;++u)(l=s[u])&&l4(l,e,t,u,s,n||Yqt(l,t));return new Pp(r,this._parents,e,t)}ck.prototype.interrupt=qWt;ck.prototype.transition=Kqt;function FS(e,t,n){this.k=e,this.x=t,this.y=n}FS.prototype={constructor:FS,scale:function(e){return e===1?this:new FS(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new FS(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};FS.prototype;const tI=15,nI=3,zpe=["#4269d0","#ff725c","#6cc5b0","#3ca951","#ff8ab7","#a463f2","#97bbf5","#9c6b4e"];function Xqt({xScale:e,height:t,currentNode:n,provenance:r,answer:i}){const o=O.useMemo(()=>{var a;const s=new Map;if(s.set("Root","#efb118"),i.provenanceGraph){let l=0;Object.entries(((a=i.provenanceGraph.stimulus)==null?void 0:a.nodes)||{}).forEach(u=>{const[,c]=u;s.has(c.label)||(s.set(c.label,zpe[l]),l=(l+1)%zpe.length)})}return s},[i]);return k.jsxs("g",{style:{cursor:"pointer"},children:[r?Object.entries(r.nodes||{}).map(s=>{const[a,l]=s;return k.jsx("g",{children:k.jsx("rect",{fill:o.get(l.label)||"#9498a0",opacity:l.id===n?1:.7,x:e(l.createdOn)-nI/2,y:t/2-tI/2,width:nI,height:tI})},a)}):null,n&&r&&r.nodes[n]&&k.jsx("rect",{fill:o.get(r.nodes[n].label)||"#9498a0",x:e(r.nodes[n].createdOn)-nI/2,y:t/2-tI/2,width:nI,height:tI}),k.jsx(bV,{position:{bottom:10,left:10},children:k.jsxs(hs,{width:200,position:"bottom",withArrow:!0,shadow:"md",children:[k.jsx(hs.Target,{children:k.jsx(Kt,{children:"Show Legend"})}),k.jsx(hs.Dropdown,{children:k.jsx(tu,{children:Array.from(o.keys()).map(s=>k.jsxs(Dr,{children:[k.jsx(WV,{color:o.get(s)}),k.jsx("span",{children:s})]},s))})})]})})]})}const Upe={left:5};function Qqt({xScale:e,answers:t,width:n,height:r,currentNode:i,trialName:o}){const s=O.useMemo(()=>Object.entries(t).filter(a=>o?o===a[0]:!0).map(a=>{const[l,u]=a;return Object.keys(u.provenanceGraph).map(d=>{const h=u.provenanceGraph[d];return h?k.jsx(Xqt,{answer:t[o],height:r,currentNode:i,xScale:e,provenance:h},l+d):null})}),[i,r,t,o,e]);return k.jsxs("svg",{style:{width:n,height:r},children:[k.jsx("line",{stroke:"black",strokeWidth:1,x1:Upe.left,x2:n+Upe.left,y1:r/2,y2:r/2}),s]})}function MOe(e){const t=O.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return O.useLayoutEffect(()=>{t.current=e}),O.useCallback((...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Jqt({width:e,height:t,updateTimer:n,duration:r,isPlaying:i,xScale:o,startTime:s}){const a=O.useRef(0),l=O.useRef(Date.now()),[u,c]=O.useState(0);O.useEffect(()=>{s&&(a.current=0,n(s,0))},[s,n]);const d=MOe(()=>{if(a.current>=r)return;const f=Date.now();a.current=f-l.current,n(s+a.current,void 0),c(u+1)});O.useEffect(()=>{i&&a.current>=r&&(n(s,0),l.current=Date.now()-a.current,a.current=0)},[s,i,r,n]),O.useEffect(()=>{let f=null;return i&&a.current<r&&(l.current=Date.now()-a.current,f=setInterval(()=>{i&&d()},30)),()=>{f&&clearInterval(f)}},[r,d,i]);const h=O.useCallback(f=>{a.current=o.invert(f.clientX-10)-o.domain()[0],l.current=Date.now()-a.current,c(u+1),n(s+a.current,a.current/r)},[r,u,s,n,o]);return k.jsx("svg",{onClick:h,style:{width:e,height:t,position:"absolute",zIndex:1e4},children:k.jsx("line",{stroke:"#e15759",strokeWidth:3,y1:0,y2:t,x1:o(s+a.current),x2:o(s+a.current)})})}function DU(e){const t=Math.floor(e/1e3/60/60),n=Math.floor((e/1e3/60/60-t)*60),r=Math.floor(((e/1e3/60/60-t)*60-n)*60),i=r<10?`0${r}`:`${r}`,o=n<10?`0${n}`:`${n}`,s=t<10?`0${t}`:`${t}`;return`${t>0?`${s}h`:""} ${n>0?`${o}m`:""} ${i}s`}function t8(e,t,n,r,i){const{saveAnalysisState:o}=Po(),s=bs(),a=O.useMemo(()=>{const l=Hp.create(),u=rb({registry:l,initialState:{}});return n&&u.importObject(structuredClone(n)),u},[n]);O.useEffect(()=>{if(!n){r&&(i(null,e),s(o({prov:null,location:e})));return}if(!r||!n.nodes[r]){i(n.root,e),s(o({prov:a.getState(n.nodes[n.root]),location:e}));return}let l=n.nodes[r];for(;;)if(t<l.createdOn){if(PSe(l))break;{const u=l.parent;l=n.nodes[u]}}else if(l.children.length>0){const u=l.children[0];if(t>n.nodes[u].createdOn)l=n.nodes[u];else break}else break;l.id!==r&&(i(l.id,e),s(o({prov:a.getState(l),location:e})))},[r,t,n,s,o,e,i,a])}const n8={left:0,right:0};function Zqt({setTimeString:e}){var H,V,G,ne;const[t]=jh(),n=O.useMemo(()=>t.get("participantId")||void 0,[t]),{storageEngine:r}=Si(),i=qn(X=>X.analysisIsPlaying),o=qn(X=>X.analysisHasAudio),{saveAnalysisState:s,setAnalysisHasAudio:a,setAnalysisIsPlaying:l}=Po(),u=bs(),c=Hh(),d=gu();O.useEffect(()=>{u(s({prov:void 0,location:"stimulus"}))},[d,s,u]);const[h,{width:f}]=CA(),[p,m]=O.useState(0),[g,y]=O.useState(null),[v,b]=O.useState({aboveStimulus:void 0,belowStimulus:void 0,sidebar:void 0,stimulus:void 0}),[_,x]=O.useState(null),[w,E]=O.useState(0),S=qn(X=>X.answers),[T,C]=A6e(0,100),D=O.useRef(null),[$,I]=O.useState(!0),R=O.useRef(null),A=lb(),M=MOe((X,te)=>{var ve;const se=(ve=S[A])==null?void 0:ve.provenanceGraph[te];se&&X&&(!_||se.nodes[X].createdOn>_.time||T<_.time)&&x({name:X||"",time:se.nodes[X].createdOn}),b({...v,[te]:X})});t8("aboveStimulus",T,(H=S[A])==null?void 0:H.provenanceGraph.aboveStimulus,v.aboveStimulus,M),t8("belowStimulus",T,(V=S[A])==null?void 0:V.provenanceGraph.belowStimulus,v.belowStimulus,M),t8("sidebar",T,(G=S[A])==null?void 0:G.provenanceGraph.sidebar,v.sidebar,M),O.useEffect(()=>{u(l(!1))},[n,c,d,u,l]),O.useEffect(()=>{var X,te,se;if(A&&((X=S[A])!=null&&X.provenanceGraph)){const ve=Hp.create(),pe=rb({registry:ve,initialState:{}});(te=S[A])!=null&&te.provenanceGraph.stimulus&&(pe.importObject(structuredClone((se=S[A])==null?void 0:se.provenanceGraph.stimulus)),R.current=pe)}},[S,A,u]);const N=O.useCallback(X=>{var te,se;X&&(A&&R.current&&(u(s({prov:R.current.getState((se=(te=S[A])==null?void 0:te.provenanceGraph.stimulus)==null?void 0:se.nodes[X]),location:"stimulus"})),R.current.to(X)),M(X,"stimulus"),y(X))},[A,M,u,s,S]);O.useEffect(()=>{var se,ve;if(!A||!R.current||!((se=S[A])!=null&&se.provenanceGraph))return;const X=(ve=S[A])==null?void 0:ve.provenanceGraph;if(!X.stimulus)return;if(!g||!X.stimulus.nodes[g]){N(X.stimulus.root);return}let te=X.stimulus.nodes[g];for(;;)if(T<te.createdOn){if(PSe(te))break;{const pe=te.parent;te=X.stimulus.nodes[pe]}}else if(te.children.length>0){const pe=te.children[0];if(T>X.stimulus.nodes[pe].createdOn)te=X.stimulus.nodes[pe];else break}else break;te.id!==g&&N(te.id)},[N,g,n,T,A,S]);const L=O.useMemo(()=>{var X;return((X=S[A])==null?void 0:X.startTime)||0},[S,A]);O.useEffect(()=>{w===0?e(""):T!==0&&e(`${DU(T-L)} / ${DU(w*1e3)}`)},[A,T,e,L,w]),O.useEffect(()=>{var X,te;if(!o){const se=((X=S[A])==null?void 0:X.endTime)-((te=S[A])==null?void 0:te.startTime);E(se>-1?se/1e3:0)}},[o,S,A]);const z=b_(),F=O.useRef(null),j=O.useCallback(async X=>{if(F.current=X,X&&z&&A&&r)try{const te=await r.getAudio(A,n);await X.load(te),I(!1),u(a(!0)),E(X.getDuration()),m(X.getWidth()),X.seekTo(0),X.on("redrawcomplete",()=>m(X.getWidth()))}catch(te){throw u(a(!1)),new Error(te)}else u(a(!1)),E(0)},[z,A,r,n,u,a]),W=O.useCallback((X,te)=>{if(X>w*1e3+L){u(l(!1)),C(X);return}C(X),F.current&&te!==void 0&&setTimeout(()=>{var se;(se=F.current)==null||se.seekTo(te)})},[l,C,L,u,w]);O.useEffect(()=>{F.current&&(i?F.current.play():F.current.pause())},[F,i,w,L,C]);const B=O.useMemo(()=>{var se,ve,pe,Ge,Ne;if(!((se=S[A])!=null&&se.startTime)||!((ve=S[A])!=null&&ve.endTime))return null;const X=w>0?((pe=S[A])==null?void 0:pe.startTime)+w*1e3:(Ge=S[A])==null?void 0:Ge.endTime;return wO([n8.left,f+n8.left+n8.right]).domain([(Ne=S[A])==null?void 0:Ne.startTime,X]).clamp(!0)},[S,A,w,f]);return O.useEffect(()=>{j(F.current)},[W,j,n,F]),k.jsx(Dr,{wrap:"nowrap",gap:10,mx:10,children:k.jsxs(tu,{ref:h,style:{width:"100%"},gap:0,children:[k.jsx(zu,{}),n!==void 0&&A?k.jsxs(ge,{ref:D,style:{overflow:"hidden",width:"100%",pointerEvents:"none"},display:o?"block":"none",id:"waveformDiv",children:[k.jsx(ZSe,{onMount:j,plugins:[],container:"#waveformDiv",height:50,waveColor:"#484848",progressColor:"#e15759",barHeight:0,cursorColor:"rgba(0, 0, 0, 0)",children:k.jsx(eTe,{id:"waveform",height:50})}),$?k.jsx(Bh,{}):null]}):null,B&&A&&((ne=S[A])!=null&&ne.provenanceGraph)?k.jsx(Qqt,{xScale:B,trialName:A,currentNode:(_==null?void 0:_.name)||"",answers:S,width:p||f,height:25}):null,B?k.jsx(Jqt,{duration:w*1e3,height:(o?50:0)+25,isPlaying:i,startTime:L,width:f,xScale:B,updateTimer:W}):null]})})}function eGt(e){return e?e.getAllParticipantNames():null}function tGt(){const[e]=jh(),t=O.useMemo(()=>e.get("participantId")||void 0,[e]),n=Hh(),r=gu(),{funcIndex:i}=ia(),o=mu(),{setAnalysisIsPlaying:s}=Po(),a=bs(),l=qn(m=>m.analysisIsPlaying),{storageEngine:u}=Si(),{value:c}=FTe(eGt,[u]),[d,h]=O.useMemo(()=>{if(c&&t&&n){const m=c.findIndex(v=>v===t),g=m<c.length-1?c[m+1]:c[0],y=m>0?c[m-1]:c[c.length-1];return[[g,r],[y,r]]}return[["",0],["",0]]},[c,n,r,t]),[f,p]=O.useState("");return k.jsx(br.Footer,{zIndex:101,withBorder:!1,children:k.jsxs(ge,{style:{backgroundColor:"var(--mantine-color-blue-1)",height:"150px"},children:[k.jsx(Zqt,{setTimeString:p}),k.jsx(zu,{children:k.jsxs(Dr,{gap:"xs",style:{height:"50px"},children:[k.jsx(Fe,{size:"sm",ff:"monospace",children:f}),k.jsx(e0,{variant:"filled",size:30,onClick:()=>a(s(!l)),children:l?k.jsx(Yqe,{}):k.jsx(Kqe,{})}),k.jsx(Fe,{mx:"0",children:"Participant:"}),k.jsx(Gx,{style:{width:"300px"},value:t||"",onChange:m=>{o(`./../${no(0)}?participantId=${m}`)},data:c||[]}),k.jsx(Kt,{onClick:()=>o(`../${i?"..":""}${no(+r-1)}?participantId=${t}`,{relative:"path"}),children:k.jsx(bre,{})}),k.jsx(Kt,{onClick:()=>o(`../${i?"..":""}${no(+r+1)}?participantId=${t}`,{relative:"path"}),children:k.jsx(wre,{})}),k.jsxs(Kt,{px:"xs",disabled:h[0]===t,onClick:()=>o(`./../${i?"..":""}${no(h[1])}?participantId=${h[0]}`),children:[k.jsx(bre,{}),k.jsx(xre,{})]}),k.jsxs(Kt,{px:"xs",disabled:d[0]===t,onClick:()=>o(`./../${i?"..":""}${no(d[1])}?participantId=${d[0]}`),children:[k.jsx(xre,{}),k.jsx(wre,{})]})]})})]})})}function nGt(){const e=O.useRef([]),t=Ch(),n=t.uiConfig.windowEventDebounceTime??100,r=qn(d=>d.showStudyBrowser),i=qn(d=>d.analysisHasAudio),o=qn(d=>d.modes);O.useEffect(()=>{const d=Dd(x=>{e.current.push([Date.now(),"focus",x.target instanceof HTMLElement?x.target.tagName:""])},n,{maxWait:n}),h=Dd(x=>{e.current.push([Date.now(),"input",x.data??""])},n,{maxWait:n}),f=Dd(x=>{e.current.push([Date.now(),"keydown",x.key])},n,{maxWait:n}),p=Dd(x=>{e.current.push([Date.now(),"keyup",x.key])},n,{maxWait:n}),m=Dd(x=>{e.current.push([Date.now(),"mousedown",[x.clientX,x.clientY]])},n,{maxWait:n}),g=Dd(x=>{e.current.push([Date.now(),"mouseup",[x.clientX,x.clientY]])},n,{maxWait:n}),y=Dd(()=>{e.current.push([Date.now(),"resize",[window.innerWidth,window.innerHeight]])},n,{maxWait:n}),v=Dd(x=>{e.current.push([Date.now(),"mousemove",[x.clientX,x.clientY]])},n,{maxWait:n}),b=Dd(()=>{e.current.push([Date.now(),"scroll",[window.scrollX,window.scrollY]])},n,{maxWait:n}),_=Dd(()=>{e.current.push([Date.now(),"visibility",document.visibilityState])},n,{maxWait:n});return window.addEventListener("focus",d,!0),window.addEventListener("input",h),window.addEventListener("keydown",f),window.addEventListener("keyup",p),window.addEventListener("mousedown",m),window.addEventListener("mouseup",g),window.addEventListener("resize",y),window.addEventListener("mousemove",v),window.addEventListener("scroll",b),document.addEventListener("visibilitychange",_),()=>{window.removeEventListener("focus",d,!0),window.removeEventListener("input",h),window.removeEventListener("keydown",f),window.removeEventListener("keyup",p),window.removeEventListener("mousedown",m),window.removeEventListener("mouseup",g),window.removeEventListener("resize",y),window.removeEventListener("mousemove",v),window.removeEventListener("scroll",b),document.removeEventListener("visibilitychange",_)}},[]);const s=t.uiConfig.sidebarWidth??300,{studyNavigatorEnabled:a,dataCollectionEnabled:l}=O.useMemo(()=>o,[o]),u=O.useMemo(()=>a&&r,[a,r]),c=b_();return k.jsx($Te.Provider,{value:e,children:k.jsxs(br,{padding:"md",header:{height:70},navbar:{width:s,breakpoint:"xs",collapsed:{desktop:!t.uiConfig.sidebar,mobile:!t.uiConfig.sidebar}},aside:{width:360,breakpoint:"xs",collapsed:{desktop:!u,mobile:!u}},footer:{height:(c?75:0)+(i?50:0)},children:[k.jsx(sVt,{}),k.jsx(iVt,{}),k.jsx(oVt,{studyNavigatorEnabled:a,dataCollectionEnabled:l}),k.jsx(aVt,{}),k.jsx(lVt,{}),k.jsx(br.Main,{children:k.jsx(kWe,{})}),c&&k.jsx(tGt,{})]})})}function rGt(e,t=!1){return typeof e=="number"?Hpe(e,t):Hpe(e.length,t).map(r=>r.map(i=>e[i]))}function Hpe(e,t){if(e<0)throw new Error("Latin square size must be > 0");if(e==0)return[];if(e==1)return[[0]];let n=new Array(e);for(let o=0;o<e;o++)o<2?n[o]=o:o%2==0?n[o]=e-o/2:n[o]=Math.floor(o/2)+1;let r=[n],i=n;for(let o=1;o<e;o+=1){let s=i.map(a=>(a+1)%e);r.push(s),i=s}if(t&&e%2>0)for(let o=0;o<e;o+=1)r.push(r[o].slice().reverse());return r}function POe(e,t,n){if(au(e))return{id:e.id,orderPath:n,order:e.order,components:[],skip:[]};let r=e.components;e.order==="random"?r=e.components.sort(()=>.5-Math.random()):e.order==="latinSquare"&&t&&(r=t[n].pop().map(i=>i.startsWith("_componentBlock")?e.components[+i.slice(15)]:i)),r=r.slice(0,e.numSamples);for(let i=0;i<r.length;i+=1){const o=r[i];if(typeof o!="string"&&!Array.isArray(o)){const s=e.components.indexOf(o);r[i]=POe(o,t,`${n}-${s}`)}}return e.interruptions&&e.interruptions.forEach(i=>{const o=[];if(i.spacing!=="random")for(let s=0;s<r.length;s+=1)(s===i.firstLocation||s>i.firstLocation&&s%i.spacing===0)&&o.push(...i.components),o.push(r[s]);if(i.spacing==="random"){const s=new Set;if(i.numInterruptions>r.length-1)throw new Error("Number of interruptions cannot be greater than the number of components");for(;s.size<i.numInterruptions;){const u=Math.floor(Math.random()*r.length-1)+1;s.add(u)}const a=Array.from(s).sort((u,c)=>u-c);let l=0;for(let u=0;u<r.length;u+=1)u===a[l]&&(o.push(...i.components),l+=1),o.push(r[u])}r=o}),{id:e.id,orderPath:n,order:e.order,components:r.flat(),skip:e.skip}}function iGt(e,t){const n=structuredClone(e);return POe(n,t,"root")}function NOe(e,t,n,r=0){const i=n.length>0?`${n}-${r}`:"root";e.order==="latinSquare"&&t.push(i),!au(e)&&e.components.forEach((o,s)=>{typeof o!="string"&&!au(o)&&NOe(o,t,i,s)})}function oGt(e){const t=[];return NOe(e,t,"",0),t}function Vpe(e,t){const n=t.split("-");let r={};n.forEach(s=>{if(s==="root")r=e.sequence;else{if(au(r))return;r=r.components[+s]}});const i=r.components.map((s,a)=>typeof s=="string"?s:`_componentBlock${a}`);return rGt(i.sort(()=>.5-Math.random()),!0)}function Wpe(e){const n=oGt(e.sequence).map(o=>({[o]:Vpe(e,o)})).reduce((o,s)=>({...o,...s}),{}),r=e.uiConfig.numSequences||1e3,i=[];return Array.from({length:r}).forEach(()=>{const o=iGt(e.sequence,n);o.components.push("end"),i.push(o),Object.entries(n).forEach(([s,a])=>{a.length===0&&(n[s]=Vpe(e,s))})}),i}var MU={exports:{}},OOe={},Zc={},Rx={},dk={},kn={},vA={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends t{constructor(v){if(super(),!e.IDENTIFIER.test(v))throw new Error("CodeGen: name must be a valid identifier");this.str=v}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=n;class r extends t{constructor(v){super(),this._items=typeof v=="string"?[v]:v}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const v=this._items[0];return v===""||v==='""'}get str(){var v;return(v=this._str)!==null&&v!==void 0?v:this._str=this._items.reduce((b,_)=>`${b}${_}`,"")}get names(){var v;return(v=this._names)!==null&&v!==void 0?v:this._names=this._items.reduce((b,_)=>(_ instanceof n&&(b[_.str]=(b[_.str]||0)+1),b),{})}}e._Code=r,e.nil=new r("");function i(y,...v){const b=[y[0]];let _=0;for(;_<v.length;)a(b,v[_]),b.push(y[++_]);return new r(b)}e._=i;const o=new r("+");function s(y,...v){const b=[f(y[0])];let _=0;for(;_<v.length;)b.push(o),a(b,v[_]),b.push(o,f(y[++_]));return l(b),new r(b)}e.str=s;function a(y,v){v instanceof r?y.push(...v._items):v instanceof n?y.push(v):y.push(d(v))}e.addCodeArg=a;function l(y){let v=1;for(;v<y.length-1;){if(y[v]===o){const b=u(y[v-1],y[v+1]);if(b!==void 0){y.splice(v-1,3,b);continue}y[v++]="+"}v++}}function u(y,v){if(v==='""')return y;if(y==='""')return v;if(typeof y=="string")return v instanceof n||y[y.length-1]!=='"'?void 0:typeof v!="string"?`${y.slice(0,-1)}${v}"`:v[0]==='"'?y.slice(0,-1)+v.slice(1):void 0;if(typeof v=="string"&&v[0]==='"'&&!(y instanceof n))return`"${y}${v.slice(1)}`}function c(y,v){return v.emptyStr()?y:y.emptyStr()?v:s`${y}${v}`}e.strConcat=c;function d(y){return typeof y=="number"||typeof y=="boolean"||y===null?y:f(Array.isArray(y)?y.join(","):y)}function h(y){return new r(f(y))}e.stringify=h;function f(y){return JSON.stringify(y).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=f;function p(y){return typeof y=="string"&&e.IDENTIFIER.test(y)?new r(`.${y}`):i`[${y}]`}e.getProperty=p;function m(y){if(typeof y=="string"&&e.IDENTIFIER.test(y))return new r(`${y}`);throw new Error(`CodeGen: invalid export name: ${y}, use explicit $id name mapping`)}e.getEsmExportName=m;function g(y){return new r(y.toString())}e.regexpCode=g})(vA);var PU={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=vA;class n extends Error{constructor(u){super(`CodeGen: "code" for ${u} not defined`),this.value=u.value}}var r;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(r||(e.UsedValueState=r={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:u,parent:c}={}){this._names={},this._prefixes=u,this._parent=c}toName(u){return u instanceof t.Name?u:this.name(u)}name(u){return new t.Name(this._newName(u))}_newName(u){const c=this._names[u]||this._nameGroup(u);return`${u}${c.index++}`}_nameGroup(u){var c,d;if(!((d=(c=this._parent)===null||c===void 0?void 0:c._prefixes)===null||d===void 0)&&d.has(u)||this._prefixes&&!this._prefixes.has(u))throw new Error(`CodeGen: prefix "${u}" is not allowed in this scope`);return this._names[u]={prefix:u,index:0}}}e.Scope=i;class o extends t.Name{constructor(u,c){super(c),this.prefix=u}setValue(u,{property:c,itemIndex:d}){this.value=u,this.scopePath=(0,t._)`.${new t.Name(c)}[${d}]`}}e.ValueScopeName=o;const s=(0,t._)`\n`;class a extends i{constructor(u){super(u),this._values={},this._scope=u.scope,this.opts={...u,_n:u.lines?s:t.nil}}get(){return this._scope}name(u){return new o(u,this._newName(u))}value(u,c){var d;if(c.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const h=this.toName(u),{prefix:f}=h,p=(d=c.key)!==null&&d!==void 0?d:c.ref;let m=this._values[f];if(m){const v=m.get(p);if(v)return v}else m=this._values[f]=new Map;m.set(p,h);const g=this._scope[f]||(this._scope[f]=[]),y=g.length;return g[y]=c.ref,h.setValue(c,{property:f,itemIndex:y}),h}getValue(u,c){const d=this._values[u];if(d)return d.get(c)}scopeRefs(u,c=this._values){return this._reduceValues(c,d=>{if(d.scopePath===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return(0,t._)`${u}${d.scopePath}`})}scopeCode(u=this._values,c,d){return this._reduceValues(u,h=>{if(h.value===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return h.value.code},c,d)}_reduceValues(u,c,d={},h){let f=t.nil;for(const p in u){const m=u[p];if(!m)continue;const g=d[p]=d[p]||new Map;m.forEach(y=>{if(g.has(y))return;g.set(y,r.Started);let v=c(y);if(v){const b=this.opts.es5?e.varKinds.var:e.varKinds.const;f=(0,t._)`${f}${b} ${y} = ${v};${this.opts._n}`}else if(v=h==null?void 0:h(y))f=(0,t._)`${f}${v}${this.opts._n}`;else throw new n(y);g.set(y,r.Completed)})}return f}}e.ValueScope=a})(PU);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=vA,n=PU;var r=vA;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}});var i=PU;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class o{optimizeNodes(){return this}optimizeNames(H,V){return this}}class s extends o{constructor(H,V,G){super(),this.varKind=H,this.name=V,this.rhs=G}render({es5:H,_n:V}){const G=H?n.varKinds.var:this.varKind,ne=this.rhs===void 0?"":` = ${this.rhs}`;return`${G} ${this.name}${ne};`+V}optimizeNames(H,V){if(H[this.name.str])return this.rhs&&(this.rhs=R(this.rhs,H,V)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends o{constructor(H,V,G){super(),this.lhs=H,this.rhs=V,this.sideEffects=G}render({_n:H}){return`${this.lhs} = ${this.rhs};`+H}optimizeNames(H,V){if(!(this.lhs instanceof t.Name&&!H[this.lhs.str]&&!this.sideEffects))return this.rhs=R(this.rhs,H,V),this}get names(){const H=this.lhs instanceof t.Name?{}:{...this.lhs.names};return I(H,this.rhs)}}class l extends a{constructor(H,V,G,ne){super(H,G,ne),this.op=V}render({_n:H}){return`${this.lhs} ${this.op}= ${this.rhs};`+H}}class u extends o{constructor(H){super(),this.label=H,this.names={}}render({_n:H}){return`${this.label}:`+H}}class c extends o{constructor(H){super(),this.label=H,this.names={}}render({_n:H}){return`break${this.label?` ${this.label}`:""};`+H}}class d extends o{constructor(H){super(),this.error=H}render({_n:H}){return`throw ${this.error};`+H}get names(){return this.error.names}}class h extends o{constructor(H){super(),this.code=H}render({_n:H}){return`${this.code};`+H}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(H,V){return this.code=R(this.code,H,V),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class f extends o{constructor(H=[]){super(),this.nodes=H}render(H){return this.nodes.reduce((V,G)=>V+G.render(H),"")}optimizeNodes(){const{nodes:H}=this;let V=H.length;for(;V--;){const G=H[V].optimizeNodes();Array.isArray(G)?H.splice(V,1,...G):G?H[V]=G:H.splice(V,1)}return H.length>0?this:void 0}optimizeNames(H,V){const{nodes:G}=this;let ne=G.length;for(;ne--;){const X=G[ne];X.optimizeNames(H,V)||(A(H,X.names),G.splice(ne,1))}return G.length>0?this:void 0}get names(){return this.nodes.reduce((H,V)=>$(H,V.names),{})}}class p extends f{render(H){return"{"+H._n+super.render(H)+"}"+H._n}}class m extends f{}class g extends p{}g.kind="else";class y extends p{constructor(H,V){super(V),this.condition=H}render(H){let V=`if(${this.condition})`+super.render(H);return this.else&&(V+="else "+this.else.render(H)),V}optimizeNodes(){super.optimizeNodes();const H=this.condition;if(H===!0)return this.nodes;let V=this.else;if(V){const G=V.optimizeNodes();V=this.else=Array.isArray(G)?new g(G):G}if(V)return H===!1?V instanceof y?V:V.nodes:this.nodes.length?this:new y(M(H),V instanceof y?[V]:V.nodes);if(!(H===!1||!this.nodes.length))return this}optimizeNames(H,V){var G;if(this.else=(G=this.else)===null||G===void 0?void 0:G.optimizeNames(H,V),!!(super.optimizeNames(H,V)||this.else))return this.condition=R(this.condition,H,V),this}get names(){const H=super.names;return I(H,this.condition),this.else&&$(H,this.else.names),H}}y.kind="if";class v extends p{}v.kind="for";class b extends v{constructor(H){super(),this.iteration=H}render(H){return`for(${this.iteration})`+super.render(H)}optimizeNames(H,V){if(super.optimizeNames(H,V))return this.iteration=R(this.iteration,H,V),this}get names(){return $(super.names,this.iteration.names)}}class _ extends v{constructor(H,V,G,ne){super(),this.varKind=H,this.name=V,this.from=G,this.to=ne}render(H){const V=H.es5?n.varKinds.var:this.varKind,{name:G,from:ne,to:X}=this;return`for(${V} ${G}=${ne}; ${G}<${X}; ${G}++)`+super.render(H)}get names(){const H=I(super.names,this.from);return I(H,this.to)}}class x extends v{constructor(H,V,G,ne){super(),this.loop=H,this.varKind=V,this.name=G,this.iterable=ne}render(H){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(H)}optimizeNames(H,V){if(super.optimizeNames(H,V))return this.iterable=R(this.iterable,H,V),this}get names(){return $(super.names,this.iterable.names)}}class w extends p{constructor(H,V,G){super(),this.name=H,this.args=V,this.async=G}render(H){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(H)}}w.kind="func";class E extends f{render(H){return"return "+super.render(H)}}E.kind="return";class S extends p{render(H){let V="try"+super.render(H);return this.catch&&(V+=this.catch.render(H)),this.finally&&(V+=this.finally.render(H)),V}optimizeNodes(){var H,V;return super.optimizeNodes(),(H=this.catch)===null||H===void 0||H.optimizeNodes(),(V=this.finally)===null||V===void 0||V.optimizeNodes(),this}optimizeNames(H,V){var G,ne;return super.optimizeNames(H,V),(G=this.catch)===null||G===void 0||G.optimizeNames(H,V),(ne=this.finally)===null||ne===void 0||ne.optimizeNames(H,V),this}get names(){const H=super.names;return this.catch&&$(H,this.catch.names),this.finally&&$(H,this.finally.names),H}}class T extends p{constructor(H){super(),this.error=H}render(H){return`catch(${this.error})`+super.render(H)}}T.kind="catch";class C extends p{render(H){return"finally"+super.render(H)}}C.kind="finally";class D{constructor(H,V={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...V,_n:V.lines?`
`:""},this._extScope=H,this._scope=new n.Scope({parent:H}),this._nodes=[new m]}toString(){return this._root.render(this.opts)}name(H){return this._scope.name(H)}scopeName(H){return this._extScope.name(H)}scopeValue(H,V){const G=this._extScope.value(H,V);return(this._values[G.prefix]||(this._values[G.prefix]=new Set)).add(G),G}getScopeValue(H,V){return this._extScope.getValue(H,V)}scopeRefs(H){return this._extScope.scopeRefs(H,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(H,V,G,ne){const X=this._scope.toName(V);return G!==void 0&&ne&&(this._constants[X.str]=G),this._leafNode(new s(H,X,G)),X}const(H,V,G){return this._def(n.varKinds.const,H,V,G)}let(H,V,G){return this._def(n.varKinds.let,H,V,G)}var(H,V,G){return this._def(n.varKinds.var,H,V,G)}assign(H,V,G){return this._leafNode(new a(H,V,G))}add(H,V){return this._leafNode(new l(H,e.operators.ADD,V))}code(H){return typeof H=="function"?H():H!==t.nil&&this._leafNode(new h(H)),this}object(...H){const V=["{"];for(const[G,ne]of H)V.length>1&&V.push(","),V.push(G),(G!==ne||this.opts.es5)&&(V.push(":"),(0,t.addCodeArg)(V,ne));return V.push("}"),new t._Code(V)}if(H,V,G){if(this._blockNode(new y(H)),V&&G)this.code(V).else().code(G).endIf();else if(V)this.code(V).endIf();else if(G)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(H){return this._elseNode(new y(H))}else(){return this._elseNode(new g)}endIf(){return this._endBlockNode(y,g)}_for(H,V){return this._blockNode(H),V&&this.code(V).endFor(),this}for(H,V){return this._for(new b(H),V)}forRange(H,V,G,ne,X=this.opts.es5?n.varKinds.var:n.varKinds.let){const te=this._scope.toName(H);return this._for(new _(X,te,V,G),()=>ne(te))}forOf(H,V,G,ne=n.varKinds.const){const X=this._scope.toName(H);if(this.opts.es5){const te=V instanceof t.Name?V:this.var("_arr",V);return this.forRange("_i",0,(0,t._)`${te}.length`,se=>{this.var(X,(0,t._)`${te}[${se}]`),G(X)})}return this._for(new x("of",ne,X,V),()=>G(X))}forIn(H,V,G,ne=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(H,(0,t._)`Object.keys(${V})`,G);const X=this._scope.toName(H);return this._for(new x("in",ne,X,V),()=>G(X))}endFor(){return this._endBlockNode(v)}label(H){return this._leafNode(new u(H))}break(H){return this._leafNode(new c(H))}return(H){const V=new E;if(this._blockNode(V),this.code(H),V.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(E)}try(H,V,G){if(!V&&!G)throw new Error('CodeGen: "try" without "catch" and "finally"');const ne=new S;if(this._blockNode(ne),this.code(H),V){const X=this.name("e");this._currNode=ne.catch=new T(X),V(X)}return G&&(this._currNode=ne.finally=new C,this.code(G)),this._endBlockNode(T,C)}throw(H){return this._leafNode(new d(H))}block(H,V){return this._blockStarts.push(this._nodes.length),H&&this.code(H).endBlock(V),this}endBlock(H){const V=this._blockStarts.pop();if(V===void 0)throw new Error("CodeGen: not in self-balancing block");const G=this._nodes.length-V;if(G<0||H!==void 0&&G!==H)throw new Error(`CodeGen: wrong number of nodes: ${G} vs ${H} expected`);return this._nodes.length=V,this}func(H,V=t.nil,G,ne){return this._blockNode(new w(H,V,G)),ne&&this.code(ne).endFunc(),this}endFunc(){return this._endBlockNode(w)}optimize(H=1){for(;H-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(H){return this._currNode.nodes.push(H),this}_blockNode(H){this._currNode.nodes.push(H),this._nodes.push(H)}_endBlockNode(H,V){const G=this._currNode;if(G instanceof H||V&&G instanceof V)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${V?`${H.kind}/${V.kind}`:H.kind}"`)}_elseNode(H){const V=this._currNode;if(!(V instanceof y))throw new Error('CodeGen: "else" without "if"');return this._currNode=V.else=H,this}get _root(){return this._nodes[0]}get _currNode(){const H=this._nodes;return H[H.length-1]}set _currNode(H){const V=this._nodes;V[V.length-1]=H}}e.CodeGen=D;function $(B,H){for(const V in H)B[V]=(B[V]||0)+(H[V]||0);return B}function I(B,H){return H instanceof t._CodeOrName?$(B,H.names):B}function R(B,H,V){if(B instanceof t.Name)return G(B);if(!ne(B))return B;return new t._Code(B._items.reduce((X,te)=>(te instanceof t.Name&&(te=G(te)),te instanceof t._Code?X.push(...te._items):X.push(te),X),[]));function G(X){const te=V[X.str];return te===void 0||H[X.str]!==1?X:(delete H[X.str],te)}function ne(X){return X instanceof t._Code&&X._items.some(te=>te instanceof t.Name&&H[te.str]===1&&V[te.str]!==void 0)}}function A(B,H){for(const V in H)B[V]=(B[V]||0)-(H[V]||0)}function M(B){return typeof B=="boolean"||typeof B=="number"||B===null?!B:(0,t._)`!${W(B)}`}e.not=M;const N=j(e.operators.AND);function L(...B){return B.reduce(N)}e.and=L;const z=j(e.operators.OR);function F(...B){return B.reduce(z)}e.or=F;function j(B){return(H,V)=>H===t.nil?V:V===t.nil?H:(0,t._)`${W(H)} ${B} ${W(V)}`}function W(B){return B instanceof t.Name?B:(0,t._)`(${B})`}})(kn);var At={};Object.defineProperty(At,"__esModule",{value:!0});At.checkStrictMode=At.getErrorPath=At.Type=At.useFunc=At.setEvaluated=At.evaluatedPropsToName=At.mergeEvaluated=At.eachItem=At.unescapeJsonPointer=At.escapeJsonPointer=At.escapeFragment=At.unescapeFragment=At.schemaRefOrVal=At.schemaHasRulesButRef=At.schemaHasRules=At.checkUnknownRules=At.alwaysValidSchema=At.toHash=void 0;const kr=kn,sGt=vA;function aGt(e){const t={};for(const n of e)t[n]=!0;return t}At.toHash=aGt;function lGt(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(LOe(e,t),!FOe(t,e.self.RULES.all))}At.alwaysValidSchema=lGt;function LOe(e,t=e.schema){const{opts:n,self:r}=e;if(!n.strictSchema||typeof t=="boolean")return;const i=r.RULES.keywords;for(const o in t)i[o]||zOe(e,`unknown keyword: "${o}"`)}At.checkUnknownRules=LOe;function FOe(e,t){if(typeof e=="boolean")return!e;for(const n in e)if(t[n])return!0;return!1}At.schemaHasRules=FOe;function uGt(e,t){if(typeof e=="boolean")return!e;for(const n in e)if(n!=="$ref"&&t.all[n])return!0;return!1}At.schemaHasRulesButRef=uGt;function cGt({topSchemaRef:e,schemaPath:t},n,r,i){if(!i){if(typeof n=="number"||typeof n=="boolean")return n;if(typeof n=="string")return(0,kr._)`${n}`}return(0,kr._)`${e}${t}${(0,kr.getProperty)(r)}`}At.schemaRefOrVal=cGt;function dGt(e){return BOe(decodeURIComponent(e))}At.unescapeFragment=dGt;function hGt(e){return encodeURIComponent(BZ(e))}At.escapeFragment=hGt;function BZ(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}At.escapeJsonPointer=BZ;function BOe(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}At.unescapeJsonPointer=BOe;function fGt(e,t){if(Array.isArray(e))for(const n of e)t(n);else t(e)}At.eachItem=fGt;function qpe({mergeNames:e,mergeToName:t,mergeValues:n,resultToName:r}){return(i,o,s,a)=>{const l=s===void 0?o:s instanceof kr.Name?(o instanceof kr.Name?e(i,o,s):t(i,o,s),s):o instanceof kr.Name?(t(i,s,o),o):n(o,s);return a===kr.Name&&!(l instanceof kr.Name)?r(i,l):l}}At.mergeEvaluated={props:qpe({mergeNames:(e,t,n)=>e.if((0,kr._)`${n} !== true && ${t} !== undefined`,()=>{e.if((0,kr._)`${t} === true`,()=>e.assign(n,!0),()=>e.assign(n,(0,kr._)`${n} || {}`).code((0,kr._)`Object.assign(${n}, ${t})`))}),mergeToName:(e,t,n)=>e.if((0,kr._)`${n} !== true`,()=>{t===!0?e.assign(n,!0):(e.assign(n,(0,kr._)`${n} || {}`),jZ(e,n,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:jOe}),items:qpe({mergeNames:(e,t,n)=>e.if((0,kr._)`${n} !== true && ${t} !== undefined`,()=>e.assign(n,(0,kr._)`${t} === true ? true : ${n} > ${t} ? ${n} : ${t}`)),mergeToName:(e,t,n)=>e.if((0,kr._)`${n} !== true`,()=>e.assign(n,t===!0?!0:(0,kr._)`${n} > ${t} ? ${n} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function jOe(e,t){if(t===!0)return e.var("props",!0);const n=e.var("props",(0,kr._)`{}`);return t!==void 0&&jZ(e,n,t),n}At.evaluatedPropsToName=jOe;function jZ(e,t,n){Object.keys(n).forEach(r=>e.assign((0,kr._)`${t}${(0,kr.getProperty)(r)}`,!0))}At.setEvaluated=jZ;const Gpe={};function pGt(e,t){return e.scopeValue("func",{ref:t,code:Gpe[t.code]||(Gpe[t.code]=new sGt._Code(t.code))})}At.useFunc=pGt;var NU;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(NU||(At.Type=NU={}));function mGt(e,t,n){if(e instanceof kr.Name){const r=t===NU.Num;return n?r?(0,kr._)`"[" + ${e} + "]"`:(0,kr._)`"['" + ${e} + "']"`:r?(0,kr._)`"/" + ${e}`:(0,kr._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return n?(0,kr.getProperty)(e).toString():"/"+BZ(e)}At.getErrorPath=mGt;function zOe(e,t,n=e.opts.strictSchema){if(n){if(t=`strict mode: ${t}`,n===!0)throw new Error(t);e.self.logger.warn(t)}}At.checkStrictMode=zOe;var sf={};Object.defineProperty(sf,"__esModule",{value:!0});const Fs=kn,gGt={data:new Fs.Name("data"),valCxt:new Fs.Name("valCxt"),instancePath:new Fs.Name("instancePath"),parentData:new Fs.Name("parentData"),parentDataProperty:new Fs.Name("parentDataProperty"),rootData:new Fs.Name("rootData"),dynamicAnchors:new Fs.Name("dynamicAnchors"),vErrors:new Fs.Name("vErrors"),errors:new Fs.Name("errors"),this:new Fs.Name("this"),self:new Fs.Name("self"),scope:new Fs.Name("scope"),json:new Fs.Name("json"),jsonPos:new Fs.Name("jsonPos"),jsonLen:new Fs.Name("jsonLen"),jsonPart:new Fs.Name("jsonPart")};sf.default=gGt;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=kn,n=At,r=sf;e.keywordError={message:({keyword:g})=>(0,t.str)`must pass "${g}" keyword validation`},e.keyword$DataError={message:({keyword:g,schemaType:y})=>y?(0,t.str)`"${g}" keyword must be ${y} ($data)`:(0,t.str)`"${g}" keyword is invalid ($data)`};function i(g,y=e.keywordError,v,b){const{it:_}=g,{gen:x,compositeRule:w,allErrors:E}=_,S=d(g,y,v);b??(w||E)?l(x,S):u(_,(0,t._)`[${S}]`)}e.reportError=i;function o(g,y=e.keywordError,v){const{it:b}=g,{gen:_,compositeRule:x,allErrors:w}=b,E=d(g,y,v);l(_,E),x||w||u(b,r.default.vErrors)}e.reportExtraError=o;function s(g,y){g.assign(r.default.errors,y),g.if((0,t._)`${r.default.vErrors} !== null`,()=>g.if(y,()=>g.assign((0,t._)`${r.default.vErrors}.length`,y),()=>g.assign(r.default.vErrors,null)))}e.resetErrorsCount=s;function a({gen:g,keyword:y,schemaValue:v,data:b,errsCount:_,it:x}){if(_===void 0)throw new Error("ajv implementation error");const w=g.name("err");g.forRange("i",_,r.default.errors,E=>{g.const(w,(0,t._)`${r.default.vErrors}[${E}]`),g.if((0,t._)`${w}.instancePath === undefined`,()=>g.assign((0,t._)`${w}.instancePath`,(0,t.strConcat)(r.default.instancePath,x.errorPath))),g.assign((0,t._)`${w}.schemaPath`,(0,t.str)`${x.errSchemaPath}/${y}`),x.opts.verbose&&(g.assign((0,t._)`${w}.schema`,v),g.assign((0,t._)`${w}.data`,b))})}e.extendErrors=a;function l(g,y){const v=g.const("err",y);g.if((0,t._)`${r.default.vErrors} === null`,()=>g.assign(r.default.vErrors,(0,t._)`[${v}]`),(0,t._)`${r.default.vErrors}.push(${v})`),g.code((0,t._)`${r.default.errors}++`)}function u(g,y){const{gen:v,validateName:b,schemaEnv:_}=g;_.$async?v.throw((0,t._)`new ${g.ValidationError}(${y})`):(v.assign((0,t._)`${b}.errors`,y),v.return(!1))}const c={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function d(g,y,v){const{createErrors:b}=g.it;return b===!1?(0,t._)`{}`:h(g,y,v)}function h(g,y,v={}){const{gen:b,it:_}=g,x=[f(_,v),p(g,v)];return m(g,y,x),b.object(...x)}function f({errorPath:g},{instancePath:y}){const v=y?(0,t.str)`${g}${(0,n.getErrorPath)(y,n.Type.Str)}`:g;return[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,v)]}function p({keyword:g,it:{errSchemaPath:y}},{schemaPath:v,parentSchema:b}){let _=b?y:(0,t.str)`${y}/${g}`;return v&&(_=(0,t.str)`${_}${(0,n.getErrorPath)(v,n.Type.Str)}`),[c.schemaPath,_]}function m(g,{params:y,message:v},b){const{keyword:_,data:x,schemaValue:w,it:E}=g,{opts:S,propertyName:T,topSchemaRef:C,schemaPath:D}=E;b.push([c.keyword,_],[c.params,typeof y=="function"?y(g):y||(0,t._)`{}`]),S.messages&&b.push([c.message,typeof v=="function"?v(g):v]),S.verbose&&b.push([c.schema,w],[c.parentSchema,(0,t._)`${C}${D}`],[r.default.data,x]),T&&b.push([c.propertyName,T])}})(dk);Object.defineProperty(Rx,"__esModule",{value:!0});Rx.boolOrEmptySchema=Rx.topBoolOrEmptySchema=void 0;const yGt=dk,vGt=kn,bGt=sf,wGt={message:"boolean schema is false"};function xGt(e){const{gen:t,schema:n,validateName:r}=e;n===!1?UOe(e,!1):typeof n=="object"&&n.$async===!0?t.return(bGt.default.data):(t.assign((0,vGt._)`${r}.errors`,null),t.return(!0))}Rx.topBoolOrEmptySchema=xGt;function _Gt(e,t){const{gen:n,schema:r}=e;r===!1?(n.var(t,!1),UOe(e)):n.var(t,!0)}Rx.boolOrEmptySchema=_Gt;function UOe(e,t){const{gen:n,data:r}=e,i={gen:n,keyword:"false schema",data:r,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,yGt.reportError)(i,wGt,void 0,t)}var eo={},Nv={};Object.defineProperty(Nv,"__esModule",{value:!0});Nv.getRules=Nv.isJSONType=void 0;const EGt=["string","number","integer","boolean","null","object","array"],SGt=new Set(EGt);function TGt(e){return typeof e=="string"&&SGt.has(e)}Nv.isJSONType=TGt;function CGt(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}Nv.getRules=CGt;var ap={};Object.defineProperty(ap,"__esModule",{value:!0});ap.shouldUseRule=ap.shouldUseGroup=ap.schemaHasRulesForType=void 0;function AGt({schema:e,self:t},n){const r=t.RULES.types[n];return r&&r!==!0&&HOe(e,r)}ap.schemaHasRulesForType=AGt;function HOe(e,t){return t.rules.some(n=>VOe(e,n))}ap.shouldUseGroup=HOe;function VOe(e,t){var n;return e[t.keyword]!==void 0||((n=t.definition.implements)===null||n===void 0?void 0:n.some(r=>e[r]!==void 0))}ap.shouldUseRule=VOe;Object.defineProperty(eo,"__esModule",{value:!0});eo.reportTypeError=eo.checkDataTypes=eo.checkDataType=eo.coerceAndCheckDataType=eo.getJSONTypes=eo.getSchemaTypes=eo.DataType=void 0;const kGt=Nv,IGt=ap,RGt=dk,bn=kn,WOe=At;var ww;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(ww||(eo.DataType=ww={}));function $Gt(e){const t=qOe(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}eo.getSchemaTypes=$Gt;function qOe(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(kGt.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}eo.getJSONTypes=qOe;function DGt(e,t){const{gen:n,data:r,opts:i}=e,o=MGt(t,i.coerceTypes),s=t.length>0&&!(o.length===0&&t.length===1&&(0,IGt.schemaHasRulesForType)(e,t[0]));if(s){const a=zZ(t,r,i.strictNumbers,ww.Wrong);n.if(a,()=>{o.length?PGt(e,t,o):UZ(e)})}return s}eo.coerceAndCheckDataType=DGt;const GOe=new Set(["string","number","integer","boolean","null"]);function MGt(e,t){return t?e.filter(n=>GOe.has(n)||t==="array"&&n==="array"):[]}function PGt(e,t,n){const{gen:r,data:i,opts:o}=e,s=r.let("dataType",(0,bn._)`typeof ${i}`),a=r.let("coerced",(0,bn._)`undefined`);o.coerceTypes==="array"&&r.if((0,bn._)`${s} == 'object' && Array.isArray(${i}) && ${i}.length == 1`,()=>r.assign(i,(0,bn._)`${i}[0]`).assign(s,(0,bn._)`typeof ${i}`).if(zZ(t,i,o.strictNumbers),()=>r.assign(a,i))),r.if((0,bn._)`${a} !== undefined`);for(const u of n)(GOe.has(u)||u==="array"&&o.coerceTypes==="array")&&l(u);r.else(),UZ(e),r.endIf(),r.if((0,bn._)`${a} !== undefined`,()=>{r.assign(i,a),NGt(e,a)});function l(u){switch(u){case"string":r.elseIf((0,bn._)`${s} == "number" || ${s} == "boolean"`).assign(a,(0,bn._)`"" + ${i}`).elseIf((0,bn._)`${i} === null`).assign(a,(0,bn._)`""`);return;case"number":r.elseIf((0,bn._)`${s} == "boolean" || ${i} === null
              || (${s} == "string" && ${i} && ${i} == +${i})`).assign(a,(0,bn._)`+${i}`);return;case"integer":r.elseIf((0,bn._)`${s} === "boolean" || ${i} === null
              || (${s} === "string" && ${i} && ${i} == +${i} && !(${i} % 1))`).assign(a,(0,bn._)`+${i}`);return;case"boolean":r.elseIf((0,bn._)`${i} === "false" || ${i} === 0 || ${i} === null`).assign(a,!1).elseIf((0,bn._)`${i} === "true" || ${i} === 1`).assign(a,!0);return;case"null":r.elseIf((0,bn._)`${i} === "" || ${i} === 0 || ${i} === false`),r.assign(a,null);return;case"array":r.elseIf((0,bn._)`${s} === "string" || ${s} === "number"
              || ${s} === "boolean" || ${i} === null`).assign(a,(0,bn._)`[${i}]`)}}}function NGt({gen:e,parentData:t,parentDataProperty:n},r){e.if((0,bn._)`${t} !== undefined`,()=>e.assign((0,bn._)`${t}[${n}]`,r))}function OU(e,t,n,r=ww.Correct){const i=r===ww.Correct?bn.operators.EQ:bn.operators.NEQ;let o;switch(e){case"null":return(0,bn._)`${t} ${i} null`;case"array":o=(0,bn._)`Array.isArray(${t})`;break;case"object":o=(0,bn._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":o=s((0,bn._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":o=s();break;default:return(0,bn._)`typeof ${t} ${i} ${e}`}return r===ww.Correct?o:(0,bn.not)(o);function s(a=bn.nil){return(0,bn.and)((0,bn._)`typeof ${t} == "number"`,a,n?(0,bn._)`isFinite(${t})`:bn.nil)}}eo.checkDataType=OU;function zZ(e,t,n,r){if(e.length===1)return OU(e[0],t,n,r);let i;const o=(0,WOe.toHash)(e);if(o.array&&o.object){const s=(0,bn._)`typeof ${t} != "object"`;i=o.null?s:(0,bn._)`!${t} || ${s}`,delete o.null,delete o.array,delete o.object}else i=bn.nil;o.number&&delete o.integer;for(const s in o)i=(0,bn.and)(i,OU(s,t,n,r));return i}eo.checkDataTypes=zZ;const OGt={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,bn._)`{type: ${e}}`:(0,bn._)`{type: ${t}}`};function UZ(e){const t=LGt(e);(0,RGt.reportError)(t,OGt)}eo.reportTypeError=UZ;function LGt(e){const{gen:t,data:n,schema:r}=e,i=(0,WOe.schemaRefOrVal)(e,r,"type");return{gen:t,keyword:"type",data:n,schema:r.type,schemaCode:i,schemaValue:i,parentSchema:r,params:{},it:e}}var u4={};Object.defineProperty(u4,"__esModule",{value:!0});u4.assignDefaults=void 0;const i1=kn,FGt=At;function BGt(e,t){const{properties:n,items:r}=e.schema;if(t==="object"&&n)for(const i in n)Ype(e,i,n[i].default);else t==="array"&&Array.isArray(r)&&r.forEach((i,o)=>Ype(e,o,i.default))}u4.assignDefaults=BGt;function Ype(e,t,n){const{gen:r,compositeRule:i,data:o,opts:s}=e;if(n===void 0)return;const a=(0,i1._)`${o}${(0,i1.getProperty)(t)}`;if(i){(0,FGt.checkStrictMode)(e,`default is ignored for: ${a}`);return}let l=(0,i1._)`${a} === undefined`;s.useDefaults==="empty"&&(l=(0,i1._)`${l} || ${a} === null || ${a} === ""`),r.if(l,(0,i1._)`${a} = ${(0,i1.stringify)(n)}`)}var th={},Sn={};Object.defineProperty(Sn,"__esModule",{value:!0});Sn.validateUnion=Sn.validateArray=Sn.usePattern=Sn.callValidateCode=Sn.schemaProperties=Sn.allSchemaProperties=Sn.noPropertyInData=Sn.propertyInData=Sn.isOwnProperty=Sn.hasPropFunc=Sn.reportMissingProp=Sn.checkMissingProp=Sn.checkReportMissingProp=void 0;const Gr=kn,HZ=At,am=sf,jGt=At;function zGt(e,t){const{gen:n,data:r,it:i}=e;n.if(WZ(n,r,t,i.opts.ownProperties),()=>{e.setParams({missingProperty:(0,Gr._)`${t}`},!0),e.error()})}Sn.checkReportMissingProp=zGt;function UGt({gen:e,data:t,it:{opts:n}},r,i){return(0,Gr.or)(...r.map(o=>(0,Gr.and)(WZ(e,t,o,n.ownProperties),(0,Gr._)`${i} = ${o}`)))}Sn.checkMissingProp=UGt;function HGt(e,t){e.setParams({missingProperty:t},!0),e.error()}Sn.reportMissingProp=HGt;function YOe(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Gr._)`Object.prototype.hasOwnProperty`})}Sn.hasPropFunc=YOe;function VZ(e,t,n){return(0,Gr._)`${YOe(e)}.call(${t}, ${n})`}Sn.isOwnProperty=VZ;function VGt(e,t,n,r){const i=(0,Gr._)`${t}${(0,Gr.getProperty)(n)} !== undefined`;return r?(0,Gr._)`${i} && ${VZ(e,t,n)}`:i}Sn.propertyInData=VGt;function WZ(e,t,n,r){const i=(0,Gr._)`${t}${(0,Gr.getProperty)(n)} === undefined`;return r?(0,Gr.or)(i,(0,Gr.not)(VZ(e,t,n))):i}Sn.noPropertyInData=WZ;function KOe(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}Sn.allSchemaProperties=KOe;function WGt(e,t){return KOe(t).filter(n=>!(0,HZ.alwaysValidSchema)(e,t[n]))}Sn.schemaProperties=WGt;function qGt({schemaCode:e,data:t,it:{gen:n,topSchemaRef:r,schemaPath:i,errorPath:o},it:s},a,l,u){const c=u?(0,Gr._)`${e}, ${t}, ${r}${i}`:t,d=[[am.default.instancePath,(0,Gr.strConcat)(am.default.instancePath,o)],[am.default.parentData,s.parentData],[am.default.parentDataProperty,s.parentDataProperty],[am.default.rootData,am.default.rootData]];s.opts.dynamicRef&&d.push([am.default.dynamicAnchors,am.default.dynamicAnchors]);const h=(0,Gr._)`${c}, ${n.object(...d)}`;return l!==Gr.nil?(0,Gr._)`${a}.call(${l}, ${h})`:(0,Gr._)`${a}(${h})`}Sn.callValidateCode=qGt;const GGt=(0,Gr._)`new RegExp`;function YGt({gen:e,it:{opts:t}},n){const r=t.unicodeRegExp?"u":"",{regExp:i}=t.code,o=i(n,r);return e.scopeValue("pattern",{key:o.toString(),ref:o,code:(0,Gr._)`${i.code==="new RegExp"?GGt:(0,jGt.useFunc)(e,i)}(${n}, ${r})`})}Sn.usePattern=YGt;function KGt(e){const{gen:t,data:n,keyword:r,it:i}=e,o=t.name("valid");if(i.allErrors){const a=t.let("valid",!0);return s(()=>t.assign(a,!1)),a}return t.var(o,!0),s(()=>t.break()),o;function s(a){const l=t.const("len",(0,Gr._)`${n}.length`);t.forRange("i",0,l,u=>{e.subschema({keyword:r,dataProp:u,dataPropType:HZ.Type.Num},o),t.if((0,Gr.not)(o),a)})}}Sn.validateArray=KGt;function XGt(e){const{gen:t,schema:n,keyword:r,it:i}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some(l=>(0,HZ.alwaysValidSchema)(i,l))&&!i.opts.unevaluated)return;const s=t.let("valid",!1),a=t.name("_valid");t.block(()=>n.forEach((l,u)=>{const c=e.subschema({keyword:r,schemaProp:u,compositeRule:!0},a);t.assign(s,(0,Gr._)`${s} || ${a}`),e.mergeValidEvaluated(c,a)||t.if((0,Gr.not)(s))})),e.result(s,()=>e.reset(),()=>e.error(!0))}Sn.validateUnion=XGt;Object.defineProperty(th,"__esModule",{value:!0});th.validateKeywordUsage=th.validSchemaType=th.funcKeywordCode=th.macroKeywordCode=void 0;const wa=kn,hy=sf,QGt=Sn,JGt=dk;function ZGt(e,t){const{gen:n,keyword:r,schema:i,parentSchema:o,it:s}=e,a=t.macro.call(s.self,i,o,s),l=XOe(n,r,a);s.opts.validateSchema!==!1&&s.self.validateSchema(a,!0);const u=n.name("valid");e.subschema({schema:a,schemaPath:wa.nil,errSchemaPath:`${s.errSchemaPath}/${r}`,topSchemaRef:l,compositeRule:!0},u),e.pass(u,()=>e.error(!0))}th.macroKeywordCode=ZGt;function eYt(e,t){var n;const{gen:r,keyword:i,schema:o,parentSchema:s,$data:a,it:l}=e;nYt(l,t);const u=!a&&t.compile?t.compile.call(l.self,o,s,l):t.validate,c=XOe(r,i,u),d=r.let("valid");e.block$data(d,h),e.ok((n=t.valid)!==null&&n!==void 0?n:d);function h(){if(t.errors===!1)m(),t.modifying&&Kpe(e),g(()=>e.error());else{const y=t.async?f():p();t.modifying&&Kpe(e),g(()=>tYt(e,y))}}function f(){const y=r.let("ruleErrs",null);return r.try(()=>m((0,wa._)`await `),v=>r.assign(d,!1).if((0,wa._)`${v} instanceof ${l.ValidationError}`,()=>r.assign(y,(0,wa._)`${v}.errors`),()=>r.throw(v))),y}function p(){const y=(0,wa._)`${c}.errors`;return r.assign(y,null),m(wa.nil),y}function m(y=t.async?(0,wa._)`await `:wa.nil){const v=l.opts.passContext?hy.default.this:hy.default.self,b=!("compile"in t&&!a||t.schema===!1);r.assign(d,(0,wa._)`${y}${(0,QGt.callValidateCode)(e,c,v,b)}`,t.modifying)}function g(y){var v;r.if((0,wa.not)((v=t.valid)!==null&&v!==void 0?v:d),y)}}th.funcKeywordCode=eYt;function Kpe(e){const{gen:t,data:n,it:r}=e;t.if(r.parentData,()=>t.assign(n,(0,wa._)`${r.parentData}[${r.parentDataProperty}]`))}function tYt(e,t){const{gen:n}=e;n.if((0,wa._)`Array.isArray(${t})`,()=>{n.assign(hy.default.vErrors,(0,wa._)`${hy.default.vErrors} === null ? ${t} : ${hy.default.vErrors}.concat(${t})`).assign(hy.default.errors,(0,wa._)`${hy.default.vErrors}.length`),(0,JGt.extendErrors)(e)},()=>e.error())}function nYt({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function XOe(e,t,n){if(n===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof n=="function"?{ref:n}:{ref:n,code:(0,wa.stringify)(n)})}function rYt(e,t,n=!1){return!t.length||t.some(r=>r==="array"?Array.isArray(e):r==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==r||n&&typeof e>"u")}th.validSchemaType=rYt;function iYt({schema:e,opts:t,self:n,errSchemaPath:r},i,o){if(Array.isArray(i.keyword)?!i.keyword.includes(o):i.keyword!==o)throw new Error("ajv implementation error");const s=i.dependencies;if(s!=null&&s.some(a=>!Object.prototype.hasOwnProperty.call(e,a)))throw new Error(`parent schema must have dependencies of ${o}: ${s.join(",")}`);if(i.validateSchema&&!i.validateSchema(e[o])){const l=`keyword "${o}" value is invalid at path "${r}": `+n.errorsText(i.validateSchema.errors);if(t.validateSchema==="log")n.logger.error(l);else throw new Error(l)}}th.validateKeywordUsage=iYt;var mg={};Object.defineProperty(mg,"__esModule",{value:!0});mg.extendSubschemaMode=mg.extendSubschemaData=mg.getSubschema=void 0;const Xd=kn,QOe=At;function oYt(e,{keyword:t,schemaProp:n,schema:r,schemaPath:i,errSchemaPath:o,topSchemaRef:s}){if(t!==void 0&&r!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const a=e.schema[t];return n===void 0?{schema:a,schemaPath:(0,Xd._)`${e.schemaPath}${(0,Xd.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:a[n],schemaPath:(0,Xd._)`${e.schemaPath}${(0,Xd.getProperty)(t)}${(0,Xd.getProperty)(n)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,QOe.escapeFragment)(n)}`}}if(r!==void 0){if(i===void 0||o===void 0||s===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:r,schemaPath:i,topSchemaRef:s,errSchemaPath:o}}throw new Error('either "keyword" or "schema" must be passed')}mg.getSubschema=oYt;function sYt(e,t,{dataProp:n,dataPropType:r,data:i,dataTypes:o,propertyName:s}){if(i!==void 0&&n!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:a}=t;if(n!==void 0){const{errorPath:u,dataPathArr:c,opts:d}=t,h=a.let("data",(0,Xd._)`${t.data}${(0,Xd.getProperty)(n)}`,!0);l(h),e.errorPath=(0,Xd.str)`${u}${(0,QOe.getErrorPath)(n,r,d.jsPropertySyntax)}`,e.parentDataProperty=(0,Xd._)`${n}`,e.dataPathArr=[...c,e.parentDataProperty]}if(i!==void 0){const u=i instanceof Xd.Name?i:a.let("data",i,!0);l(u),s!==void 0&&(e.propertyName=s)}o&&(e.dataTypes=o);function l(u){e.data=u,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,u]}}mg.extendSubschemaData=sYt;function aYt(e,{jtdDiscriminator:t,jtdMetadata:n,compositeRule:r,createErrors:i,allErrors:o}){r!==void 0&&(e.compositeRule=r),i!==void 0&&(e.createErrors=i),o!==void 0&&(e.allErrors=o),e.jtdDiscriminator=t,e.jtdMetadata=n}mg.extendSubschemaMode=aYt;var rs={},JOe={exports:{}},Gm=JOe.exports=function(e,t,n){typeof t=="function"&&(n=t,t={}),n=t.cb||n;var r=typeof n=="function"?n:n.pre||function(){},i=n.post||function(){};AR(t,r,i,e,"",e)};Gm.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Gm.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Gm.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Gm.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function AR(e,t,n,r,i,o,s,a,l,u){if(r&&typeof r=="object"&&!Array.isArray(r)){t(r,i,o,s,a,l,u);for(var c in r){var d=r[c];if(Array.isArray(d)){if(c in Gm.arrayKeywords)for(var h=0;h<d.length;h++)AR(e,t,n,d[h],i+"/"+c+"/"+h,o,i,c,r,h)}else if(c in Gm.propsKeywords){if(d&&typeof d=="object")for(var f in d)AR(e,t,n,d[f],i+"/"+c+"/"+lYt(f),o,i,c,r,f)}else(c in Gm.keywords||e.allKeys&&!(c in Gm.skipKeywords))&&AR(e,t,n,d,i+"/"+c,o,i,c,r)}n(r,i,o,s,a,l,u)}}function lYt(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var uYt=JOe.exports;Object.defineProperty(rs,"__esModule",{value:!0});rs.getSchemaRefs=rs.resolveUrl=rs.normalizeId=rs._getFullPath=rs.getFullPath=rs.inlineRef=void 0;const cYt=At,dYt=eY,hYt=uYt,fYt=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function pYt(e,t=!0){return typeof e=="boolean"?!0:t===!0?!LU(e):t?ZOe(e)<=t:!1}rs.inlineRef=pYt;const mYt=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function LU(e){for(const t in e){if(mYt.has(t))return!0;const n=e[t];if(Array.isArray(n)&&n.some(LU)||typeof n=="object"&&LU(n))return!0}return!1}function ZOe(e){let t=0;for(const n in e){if(n==="$ref")return 1/0;if(t++,!fYt.has(n)&&(typeof e[n]=="object"&&(0,cYt.eachItem)(e[n],r=>t+=ZOe(r)),t===1/0))return 1/0}return t}function eLe(e,t="",n){n!==!1&&(t=xw(t));const r=e.parse(t);return tLe(e,r)}rs.getFullPath=eLe;function tLe(e,t){return e.serialize(t).split("#")[0]+"#"}rs._getFullPath=tLe;const gYt=/#\/?$/;function xw(e){return e?e.replace(gYt,""):""}rs.normalizeId=xw;function yYt(e,t,n){return n=xw(n),e.resolve(t,n)}rs.resolveUrl=yYt;const vYt=/^[a-z_][-a-z0-9._]*$/i;function bYt(e,t){if(typeof e=="boolean")return{};const{schemaId:n,uriResolver:r}=this.opts,i=xw(e[n]||t),o={"":i},s=eLe(r,i,!1),a={},l=new Set;return hYt(e,{allKeys:!0},(d,h,f,p)=>{if(p===void 0)return;const m=s+h;let g=o[p];typeof d[n]=="string"&&(g=y.call(this,d[n])),v.call(this,d.$anchor),v.call(this,d.$dynamicAnchor),o[h]=g;function y(b){const _=this.opts.uriResolver.resolve;if(b=xw(g?_(g,b):b),l.has(b))throw c(b);l.add(b);let x=this.refs[b];return typeof x=="string"&&(x=this.refs[x]),typeof x=="object"?u(d,x.schema,b):b!==xw(m)&&(b[0]==="#"?(u(d,a[b],b),a[b]=d):this.refs[b]=m),b}function v(b){if(typeof b=="string"){if(!vYt.test(b))throw new Error(`invalid anchor "${b}"`);y.call(this,`#${b}`)}}}),a;function u(d,h,f){if(h!==void 0&&!dYt(d,h))throw c(f)}function c(d){return new Error(`reference "${d}" resolves to more than one schema`)}}rs.getSchemaRefs=bYt;Object.defineProperty(Zc,"__esModule",{value:!0});Zc.getData=Zc.KeywordCxt=Zc.validateFunctionCode=void 0;const nLe=Rx,Xpe=eo,qZ=ap,YM=eo,wYt=u4,DT=th,r8=mg,Bt=kn,ln=sf,xYt=rs,lp=At,GE=dk;function _Yt(e){if(oLe(e)&&(sLe(e),iLe(e))){TYt(e);return}rLe(e,()=>(0,nLe.topBoolOrEmptySchema)(e))}Zc.validateFunctionCode=_Yt;function rLe({gen:e,validateName:t,schema:n,schemaEnv:r,opts:i},o){i.code.es5?e.func(t,(0,Bt._)`${ln.default.data}, ${ln.default.valCxt}`,r.$async,()=>{e.code((0,Bt._)`"use strict"; ${Qpe(n,i)}`),SYt(e,i),e.code(o)}):e.func(t,(0,Bt._)`${ln.default.data}, ${EYt(i)}`,r.$async,()=>e.code(Qpe(n,i)).code(o))}function EYt(e){return(0,Bt._)`{${ln.default.instancePath}="", ${ln.default.parentData}, ${ln.default.parentDataProperty}, ${ln.default.rootData}=${ln.default.data}${e.dynamicRef?(0,Bt._)`, ${ln.default.dynamicAnchors}={}`:Bt.nil}}={}`}function SYt(e,t){e.if(ln.default.valCxt,()=>{e.var(ln.default.instancePath,(0,Bt._)`${ln.default.valCxt}.${ln.default.instancePath}`),e.var(ln.default.parentData,(0,Bt._)`${ln.default.valCxt}.${ln.default.parentData}`),e.var(ln.default.parentDataProperty,(0,Bt._)`${ln.default.valCxt}.${ln.default.parentDataProperty}`),e.var(ln.default.rootData,(0,Bt._)`${ln.default.valCxt}.${ln.default.rootData}`),t.dynamicRef&&e.var(ln.default.dynamicAnchors,(0,Bt._)`${ln.default.valCxt}.${ln.default.dynamicAnchors}`)},()=>{e.var(ln.default.instancePath,(0,Bt._)`""`),e.var(ln.default.parentData,(0,Bt._)`undefined`),e.var(ln.default.parentDataProperty,(0,Bt._)`undefined`),e.var(ln.default.rootData,ln.default.data),t.dynamicRef&&e.var(ln.default.dynamicAnchors,(0,Bt._)`{}`)})}function TYt(e){const{schema:t,opts:n,gen:r}=e;rLe(e,()=>{n.$comment&&t.$comment&&lLe(e),RYt(e),r.let(ln.default.vErrors,null),r.let(ln.default.errors,0),n.unevaluated&&CYt(e),aLe(e),MYt(e)})}function CYt(e){const{gen:t,validateName:n}=e;e.evaluated=t.const("evaluated",(0,Bt._)`${n}.evaluated`),t.if((0,Bt._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,Bt._)`${e.evaluated}.props`,(0,Bt._)`undefined`)),t.if((0,Bt._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,Bt._)`${e.evaluated}.items`,(0,Bt._)`undefined`))}function Qpe(e,t){const n=typeof e=="object"&&e[t.schemaId];return n&&(t.code.source||t.code.process)?(0,Bt._)`/*# sourceURL=${n} */`:Bt.nil}function AYt(e,t){if(oLe(e)&&(sLe(e),iLe(e))){kYt(e,t);return}(0,nLe.boolOrEmptySchema)(e,t)}function iLe({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const n in e)if(t.RULES.all[n])return!0;return!1}function oLe(e){return typeof e.schema!="boolean"}function kYt(e,t){const{schema:n,gen:r,opts:i}=e;i.$comment&&n.$comment&&lLe(e),$Yt(e),DYt(e);const o=r.const("_errs",ln.default.errors);aLe(e,o),r.var(t,(0,Bt._)`${o} === ${ln.default.errors}`)}function sLe(e){(0,lp.checkUnknownRules)(e),IYt(e)}function aLe(e,t){if(e.opts.jtd)return Jpe(e,[],!1,t);const n=(0,Xpe.getSchemaTypes)(e.schema),r=(0,Xpe.coerceAndCheckDataType)(e,n);Jpe(e,n,!r,t)}function IYt(e){const{schema:t,errSchemaPath:n,opts:r,self:i}=e;t.$ref&&r.ignoreKeywordsWithRef&&(0,lp.schemaHasRulesButRef)(t,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${n}"`)}function RYt(e){const{schema:t,opts:n}=e;t.default!==void 0&&n.useDefaults&&n.strictSchema&&(0,lp.checkStrictMode)(e,"default is ignored in the schema root")}function $Yt(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,xYt.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function DYt(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function lLe({gen:e,schemaEnv:t,schema:n,errSchemaPath:r,opts:i}){const o=n.$comment;if(i.$comment===!0)e.code((0,Bt._)`${ln.default.self}.logger.log(${o})`);else if(typeof i.$comment=="function"){const s=(0,Bt.str)`${r}/$comment`,a=e.scopeValue("root",{ref:t.root});e.code((0,Bt._)`${ln.default.self}.opts.$comment(${o}, ${s}, ${a}.schema)`)}}function MYt(e){const{gen:t,schemaEnv:n,validateName:r,ValidationError:i,opts:o}=e;n.$async?t.if((0,Bt._)`${ln.default.errors} === 0`,()=>t.return(ln.default.data),()=>t.throw((0,Bt._)`new ${i}(${ln.default.vErrors})`)):(t.assign((0,Bt._)`${r}.errors`,ln.default.vErrors),o.unevaluated&&PYt(e),t.return((0,Bt._)`${ln.default.errors} === 0`))}function PYt({gen:e,evaluated:t,props:n,items:r}){n instanceof Bt.Name&&e.assign((0,Bt._)`${t}.props`,n),r instanceof Bt.Name&&e.assign((0,Bt._)`${t}.items`,r)}function Jpe(e,t,n,r){const{gen:i,schema:o,data:s,allErrors:a,opts:l,self:u}=e,{RULES:c}=u;if(o.$ref&&(l.ignoreKeywordsWithRef||!(0,lp.schemaHasRulesButRef)(o,c))){i.block(()=>dLe(e,"$ref",c.all.$ref.definition));return}l.jtd||NYt(e,t),i.block(()=>{for(const h of c.rules)d(h);d(c.post)});function d(h){(0,qZ.shouldUseGroup)(o,h)&&(h.type?(i.if((0,YM.checkDataType)(h.type,s,l.strictNumbers)),Zpe(e,h),t.length===1&&t[0]===h.type&&n&&(i.else(),(0,YM.reportTypeError)(e)),i.endIf()):Zpe(e,h),a||i.if((0,Bt._)`${ln.default.errors} === ${r||0}`))}}function Zpe(e,t){const{gen:n,schema:r,opts:{useDefaults:i}}=e;i&&(0,wYt.assignDefaults)(e,t.type),n.block(()=>{for(const o of t.rules)(0,qZ.shouldUseRule)(r,o)&&dLe(e,o.keyword,o.definition,t.type)})}function NYt(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(OYt(e,t),e.opts.allowUnionTypes||LYt(e,t),FYt(e,e.dataTypes))}function OYt(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(n=>{uLe(e.dataTypes,n)||GZ(e,`type "${n}" not allowed by context "${e.dataTypes.join(",")}"`)}),jYt(e,t)}}function LYt(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&GZ(e,"use allowUnionTypes to allow union type keyword")}function FYt(e,t){const n=e.self.RULES.all;for(const r in n){const i=n[r];if(typeof i=="object"&&(0,qZ.shouldUseRule)(e.schema,i)){const{type:o}=i.definition;o.length&&!o.some(s=>BYt(t,s))&&GZ(e,`missing type "${o.join(",")}" for keyword "${r}"`)}}}function BYt(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function uLe(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function jYt(e,t){const n=[];for(const r of e.dataTypes)uLe(t,r)?n.push(r):t.includes("integer")&&r==="number"&&n.push("integer");e.dataTypes=n}function GZ(e,t){const n=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${n}" (strictTypes)`,(0,lp.checkStrictMode)(e,t,e.opts.strictTypes)}class cLe{constructor(t,n,r){if((0,DT.validateKeywordUsage)(t,n,r),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=r,this.data=t.data,this.schema=t.schema[r],this.$data=n.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,lp.schemaRefOrVal)(t,this.schema,r,this.$data),this.schemaType=n.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=n,this.$data)this.schemaCode=t.gen.const("vSchema",hLe(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,DT.validSchemaType)(this.schema,n.schemaType,n.allowUndefined))throw new Error(`${r} value must be ${JSON.stringify(n.schemaType)}`);("code"in n?n.trackErrors:n.errors!==!1)&&(this.errsCount=t.gen.const("_errs",ln.default.errors))}result(t,n,r){this.failResult((0,Bt.not)(t),n,r)}failResult(t,n,r){this.gen.if(t),r?r():this.error(),n?(this.gen.else(),n(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,n){this.failResult((0,Bt.not)(t),void 0,n)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:n}=this;this.fail((0,Bt._)`${n} !== undefined && (${(0,Bt.or)(this.invalid$data(),t)})`)}error(t,n,r){if(n){this.setParams(n),this._error(t,r),this.setParams({});return}this._error(t,r)}_error(t,n){(t?GE.reportExtraError:GE.reportError)(this,this.def.error,n)}$dataError(){(0,GE.reportError)(this,this.def.$dataError||GE.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,GE.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,n){n?Object.assign(this.params,t):this.params=t}block$data(t,n,r=Bt.nil){this.gen.block(()=>{this.check$data(t,r),n()})}check$data(t=Bt.nil,n=Bt.nil){if(!this.$data)return;const{gen:r,schemaCode:i,schemaType:o,def:s}=this;r.if((0,Bt.or)((0,Bt._)`${i} === undefined`,n)),t!==Bt.nil&&r.assign(t,!0),(o.length||s.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),t!==Bt.nil&&r.assign(t,!1)),r.else()}invalid$data(){const{gen:t,schemaCode:n,schemaType:r,def:i,it:o}=this;return(0,Bt.or)(s(),a());function s(){if(r.length){if(!(n instanceof Bt.Name))throw new Error("ajv implementation error");const l=Array.isArray(r)?r:[r];return(0,Bt._)`${(0,YM.checkDataTypes)(l,n,o.opts.strictNumbers,YM.DataType.Wrong)}`}return Bt.nil}function a(){if(i.validateSchema){const l=t.scopeValue("validate$data",{ref:i.validateSchema});return(0,Bt._)`!${l}(${n})`}return Bt.nil}}subschema(t,n){const r=(0,r8.getSubschema)(this.it,t);(0,r8.extendSubschemaData)(r,this.it,t),(0,r8.extendSubschemaMode)(r,t);const i={...this.it,...r,items:void 0,props:void 0};return AYt(i,n),i}mergeEvaluated(t,n){const{it:r,gen:i}=this;r.opts.unevaluated&&(r.props!==!0&&t.props!==void 0&&(r.props=lp.mergeEvaluated.props(i,t.props,r.props,n)),r.items!==!0&&t.items!==void 0&&(r.items=lp.mergeEvaluated.items(i,t.items,r.items,n)))}mergeValidEvaluated(t,n){const{it:r,gen:i}=this;if(r.opts.unevaluated&&(r.props!==!0||r.items!==!0))return i.if(n,()=>this.mergeEvaluated(t,Bt.Name)),!0}}Zc.KeywordCxt=cLe;function dLe(e,t,n,r){const i=new cLe(e,n,t);"code"in n?n.code(i,r):i.$data&&n.validate?(0,DT.funcKeywordCode)(i,n):"macro"in n?(0,DT.macroKeywordCode)(i,n):(n.compile||n.validate)&&(0,DT.funcKeywordCode)(i,n)}const zYt=/^\/(?:[^~]|~0|~1)*$/,UYt=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function hLe(e,{dataLevel:t,dataNames:n,dataPathArr:r}){let i,o;if(e==="")return ln.default.rootData;if(e[0]==="/"){if(!zYt.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);i=e,o=ln.default.rootData}else{const u=UYt.exec(e);if(!u)throw new Error(`Invalid JSON-pointer: ${e}`);const c=+u[1];if(i=u[2],i==="#"){if(c>=t)throw new Error(l("property/index",c));return r[t-c]}if(c>t)throw new Error(l("data",c));if(o=n[t-c],!i)return o}let s=o;const a=i.split("/");for(const u of a)u&&(o=(0,Bt._)`${o}${(0,Bt.getProperty)((0,lp.unescapeJsonPointer)(u))}`,s=(0,Bt._)`${s} && ${o}`);return s;function l(u,c){return`Cannot access ${u} ${c} levels up, current level is ${t}`}}Zc.getData=hLe;var hk={};Object.defineProperty(hk,"__esModule",{value:!0});class HYt extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}hk.default=HYt;var G_={};Object.defineProperty(G_,"__esModule",{value:!0});const i8=rs;class VYt extends Error{constructor(t,n,r,i){super(i||`can't resolve reference ${r} from id ${n}`),this.missingRef=(0,i8.resolveUrl)(t,n,r),this.missingSchema=(0,i8.normalizeId)((0,i8.getFullPath)(t,this.missingRef))}}G_.default=VYt;var sl={};Object.defineProperty(sl,"__esModule",{value:!0});sl.resolveSchema=sl.getCompilingSchema=sl.resolveRef=sl.compileSchema=sl.SchemaEnv=void 0;const gc=kn,WYt=hk,V0=sf,Pc=rs,eme=At,qYt=Zc;class c4{constructor(t){var n;this.refs={},this.dynamicAnchors={};let r;typeof t.schema=="object"&&(r=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(n=t.baseId)!==null&&n!==void 0?n:(0,Pc.normalizeId)(r==null?void 0:r[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=r==null?void 0:r.$async,this.refs={}}}sl.SchemaEnv=c4;function YZ(e){const t=fLe.call(this,e);if(t)return t;const n=(0,Pc.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:r,lines:i}=this.opts.code,{ownProperties:o}=this.opts,s=new gc.CodeGen(this.scope,{es5:r,lines:i,ownProperties:o});let a;e.$async&&(a=s.scopeValue("Error",{ref:WYt.default,code:(0,gc._)`require("ajv/dist/runtime/validation_error").default`}));const l=s.scopeName("validate");e.validateName=l;const u={gen:s,allErrors:this.opts.allErrors,data:V0.default.data,parentData:V0.default.parentData,parentDataProperty:V0.default.parentDataProperty,dataNames:[V0.default.data],dataPathArr:[gc.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:s.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,gc.stringify)(e.schema)}:{ref:e.schema}),validateName:l,ValidationError:a,schema:e.schema,schemaEnv:e,rootId:n,baseId:e.baseId||n,schemaPath:gc.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,gc._)`""`,opts:this.opts,self:this};let c;try{this._compilations.add(e),(0,qYt.validateFunctionCode)(u),s.optimize(this.opts.code.optimize);const d=s.toString();c=`${s.scopeRefs(V0.default.scope)}return ${d}`,this.opts.code.process&&(c=this.opts.code.process(c,e));const f=new Function(`${V0.default.self}`,`${V0.default.scope}`,c)(this,this.scope.get());if(this.scope.value(l,{ref:f}),f.errors=null,f.schema=e.schema,f.schemaEnv=e,e.$async&&(f.$async=!0),this.opts.code.source===!0&&(f.source={validateName:l,validateCode:d,scopeValues:s._values}),this.opts.unevaluated){const{props:p,items:m}=u;f.evaluated={props:p instanceof gc.Name?void 0:p,items:m instanceof gc.Name?void 0:m,dynamicProps:p instanceof gc.Name,dynamicItems:m instanceof gc.Name},f.source&&(f.source.evaluated=(0,gc.stringify)(f.evaluated))}return e.validate=f,e}catch(d){throw delete e.validate,delete e.validateName,c&&this.logger.error("Error compiling schema, function code:",c),d}finally{this._compilations.delete(e)}}sl.compileSchema=YZ;function GYt(e,t,n){var r;n=(0,Pc.resolveUrl)(this.opts.uriResolver,t,n);const i=e.refs[n];if(i)return i;let o=XYt.call(this,e,n);if(o===void 0){const s=(r=e.localRefs)===null||r===void 0?void 0:r[n],{schemaId:a}=this.opts;s&&(o=new c4({schema:s,schemaId:a,root:e,baseId:t}))}if(o!==void 0)return e.refs[n]=YYt.call(this,o)}sl.resolveRef=GYt;function YYt(e){return(0,Pc.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:YZ.call(this,e)}function fLe(e){for(const t of this._compilations)if(KYt(t,e))return t}sl.getCompilingSchema=fLe;function KYt(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function XYt(e,t){let n;for(;typeof(n=this.refs[t])=="string";)t=n;return n||this.schemas[t]||d4.call(this,e,t)}function d4(e,t){const n=this.opts.uriResolver.parse(t),r=(0,Pc._getFullPath)(this.opts.uriResolver,n);let i=(0,Pc.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&r===i)return o8.call(this,n,e);const o=(0,Pc.normalizeId)(r),s=this.refs[o]||this.schemas[o];if(typeof s=="string"){const a=d4.call(this,e,s);return typeof(a==null?void 0:a.schema)!="object"?void 0:o8.call(this,n,a)}if(typeof(s==null?void 0:s.schema)=="object"){if(s.validate||YZ.call(this,s),o===(0,Pc.normalizeId)(t)){const{schema:a}=s,{schemaId:l}=this.opts,u=a[l];return u&&(i=(0,Pc.resolveUrl)(this.opts.uriResolver,i,u)),new c4({schema:a,schemaId:l,root:e,baseId:i})}return o8.call(this,n,s)}}sl.resolveSchema=d4;const QYt=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function o8(e,{baseId:t,schema:n,root:r}){var i;if(((i=e.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(const a of e.fragment.slice(1).split("/")){if(typeof n=="boolean")return;const l=n[(0,eme.unescapeFragment)(a)];if(l===void 0)return;n=l;const u=typeof n=="object"&&n[this.opts.schemaId];!QYt.has(a)&&u&&(t=(0,Pc.resolveUrl)(this.opts.uriResolver,t,u))}let o;if(typeof n!="boolean"&&n.$ref&&!(0,eme.schemaHasRulesButRef)(n,this.RULES)){const a=(0,Pc.resolveUrl)(this.opts.uriResolver,t,n.$ref);o=d4.call(this,r,a)}const{schemaId:s}=this.opts;if(o=o||new c4({schema:n,schemaId:s,root:r,baseId:t}),o.schema!==o.root.schema)return o}const JYt="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",ZYt="Meta-schema for $data reference (JSON AnySchema extension proposal)",eKt="object",tKt=["$data"],nKt={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},rKt=!1,iKt={$id:JYt,description:ZYt,type:eKt,required:tKt,properties:nKt,additionalProperties:rKt};var KZ={},h4={exports:{}};const oKt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};var sKt={HEX:oKt};const{HEX:aKt}=sKt,lKt=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function pLe(e){if(gLe(e,".")<3)return{host:e,isIPV4:!1};const t=e.match(lKt)||[],[n]=t;return n?{host:cKt(n,"."),isIPV4:!0}:{host:e,isIPV4:!1}}function tme(e,t=!1){let n="",r=!0;for(const i of e){if(aKt[i]===void 0)return;i!=="0"&&r===!0&&(r=!1),r||(n+=i)}return t&&n.length===0&&(n="0"),n}function uKt(e){let t=0;const n={error:!1,address:"",zone:""},r=[],i=[];let o=!1,s=!1,a=!1;function l(){if(i.length){if(o===!1){const u=tme(i);if(u!==void 0)r.push(u);else return n.error=!0,!1}i.length=0}return!0}for(let u=0;u<e.length;u++){const c=e[u];if(!(c==="["||c==="]"))if(c===":"){if(s===!0&&(a=!0),!l())break;if(t++,r.push(":"),t>7){n.error=!0;break}u-1>=0&&e[u-1]===":"&&(s=!0);continue}else if(c==="%"){if(!l())break;o=!0}else{i.push(c);continue}}return i.length&&(o?n.zone=i.join(""):a?r.push(i.join("")):r.push(tme(i))),n.address=r.join(""),n}function mLe(e){if(gLe(e,":")<2)return{host:e,isIPV6:!1};const t=uKt(e);if(t.error)return{host:e,isIPV6:!1};{let n=t.address,r=t.address;return t.zone&&(n+="%"+t.zone,r+="%25"+t.zone),{host:n,escapedHost:r,isIPV6:!0}}}function cKt(e,t){let n="",r=!0;const i=e.length;for(let o=0;o<i;o++){const s=e[o];s==="0"&&r?(o+1<=i&&e[o+1]===t||o+1===i)&&(n+=s,r=!1):(s===t?r=!0:r=!1,n+=s)}return n}function gLe(e,t){let n=0;for(let r=0;r<e.length;r++)e[r]===t&&n++;return n}const nme=/^\.\.?\//u,rme=/^\/\.(?:\/|$)/u,ime=/^\/\.\.(?:\/|$)/u,dKt=/^\/?(?:.|\n)*?(?=\/|$)/u;function hKt(e){const t=[];for(;e.length;)if(e.match(nme))e=e.replace(nme,"");else if(e.match(rme))e=e.replace(rme,"/");else if(e.match(ime))e=e.replace(ime,"/"),t.pop();else if(e==="."||e==="..")e="";else{const n=e.match(dKt);if(n){const r=n[0];e=e.slice(r.length),t.push(r)}else throw new Error("Unexpected dot segment condition")}return t.join("")}function fKt(e,t){const n=t!==!0?escape:unescape;return e.scheme!==void 0&&(e.scheme=n(e.scheme)),e.userinfo!==void 0&&(e.userinfo=n(e.userinfo)),e.host!==void 0&&(e.host=n(e.host)),e.path!==void 0&&(e.path=n(e.path)),e.query!==void 0&&(e.query=n(e.query)),e.fragment!==void 0&&(e.fragment=n(e.fragment)),e}function pKt(e){const t=[];if(e.userinfo!==void 0&&(t.push(e.userinfo),t.push("@")),e.host!==void 0){let n=unescape(e.host);const r=pLe(n);if(r.isIPV4)n=r.host;else{const i=mLe(r.host);i.isIPV6===!0?n=`[${i.escapedHost}]`:n=e.host}t.push(n)}return(typeof e.port=="number"||typeof e.port=="string")&&(t.push(":"),t.push(String(e.port))),t.length?t.join(""):void 0}var mKt={recomposeAuthority:pKt,normalizeComponentEncoding:fKt,removeDotSegments:hKt,normalizeIPv4:pLe,normalizeIPv6:mLe};const gKt=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,yKt=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function yLe(e){return typeof e.secure=="boolean"?e.secure:String(e.scheme).toLowerCase()==="wss"}function vLe(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function bLe(e){const t=String(e.scheme).toLowerCase()==="https";return(e.port===(t?443:80)||e.port==="")&&(e.port=void 0),e.path||(e.path="/"),e}function vKt(e){return e.secure=yLe(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e}function bKt(e){if((e.port===(yLe(e)?443:80)||e.port==="")&&(e.port=void 0),typeof e.secure=="boolean"&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){const[t,n]=e.resourceName.split("?");e.path=t&&t!=="/"?t:void 0,e.query=n,e.resourceName=void 0}return e.fragment=void 0,e}function wKt(e,t){if(!e.path)return e.error="URN can not be parsed",e;const n=e.path.match(yKt);if(n){const r=t.scheme||e.scheme||"urn";e.nid=n[1].toLowerCase(),e.nss=n[2];const i=`${r}:${t.nid||e.nid}`,o=XZ[i];e.path=void 0,o&&(e=o.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e}function xKt(e,t){const n=t.scheme||e.scheme||"urn",r=e.nid.toLowerCase(),i=`${n}:${t.nid||r}`,o=XZ[i];o&&(e=o.serialize(e,t));const s=e,a=e.nss;return s.path=`${r||t.nid}:${a}`,t.skipEscape=!0,s}function _Kt(e,t){const n=e;return n.uuid=n.nss,n.nss=void 0,!t.tolerant&&(!n.uuid||!gKt.test(n.uuid))&&(n.error=n.error||"UUID is not valid."),n}function EKt(e){const t=e;return t.nss=(e.uuid||"").toLowerCase(),t}const wLe={scheme:"http",domainHost:!0,parse:vLe,serialize:bLe},SKt={scheme:"https",domainHost:wLe.domainHost,parse:vLe,serialize:bLe},kR={scheme:"ws",domainHost:!0,parse:vKt,serialize:bKt},TKt={scheme:"wss",domainHost:kR.domainHost,parse:kR.parse,serialize:kR.serialize},CKt={scheme:"urn",parse:wKt,serialize:xKt,skipNormalize:!0},AKt={scheme:"urn:uuid",parse:_Kt,serialize:EKt,skipNormalize:!0},XZ={http:wLe,https:SKt,ws:kR,wss:TKt,urn:CKt,"urn:uuid":AKt};var kKt=XZ;const{normalizeIPv6:IKt,normalizeIPv4:RKt,removeDotSegments:BS,recomposeAuthority:$Kt,normalizeComponentEncoding:rI}=mKt,QZ=kKt;function DKt(e,t){return typeof e=="string"?e=nh(Np(e,t),t):typeof e=="object"&&(e=Np(nh(e,t),t)),e}function MKt(e,t,n){const r=Object.assign({scheme:"null"},n),i=xLe(Np(e,r),Np(t,r),r,!0);return nh(i,{...r,skipEscape:!0})}function xLe(e,t,n,r){const i={};return r||(e=Np(nh(e,n),n),t=Np(nh(t,n),n)),n=n||{},!n.tolerant&&t.scheme?(i.scheme=t.scheme,i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=BS(t.path||""),i.query=t.query):(t.userinfo!==void 0||t.host!==void 0||t.port!==void 0?(i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=BS(t.path||""),i.query=t.query):(t.path?(t.path.charAt(0)==="/"?i.path=BS(t.path):((e.userinfo!==void 0||e.host!==void 0||e.port!==void 0)&&!e.path?i.path="/"+t.path:e.path?i.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:i.path=t.path,i.path=BS(i.path)),i.query=t.query):(i.path=e.path,t.query!==void 0?i.query=t.query:i.query=e.query),i.userinfo=e.userinfo,i.host=e.host,i.port=e.port),i.scheme=e.scheme),i.fragment=t.fragment,i}function PKt(e,t,n){return typeof e=="string"?(e=unescape(e),e=nh(rI(Np(e,n),!0),{...n,skipEscape:!0})):typeof e=="object"&&(e=nh(rI(e,!0),{...n,skipEscape:!0})),typeof t=="string"?(t=unescape(t),t=nh(rI(Np(t,n),!0),{...n,skipEscape:!0})):typeof t=="object"&&(t=nh(rI(t,!0),{...n,skipEscape:!0})),e.toLowerCase()===t.toLowerCase()}function nh(e,t){const n={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},r=Object.assign({},t),i=[],o=QZ[(r.scheme||n.scheme||"").toLowerCase()];o&&o.serialize&&o.serialize(n,r),n.path!==void 0&&(r.skipEscape?n.path=unescape(n.path):(n.path=escape(n.path),n.scheme!==void 0&&(n.path=n.path.split("%3A").join(":")))),r.reference!=="suffix"&&n.scheme&&i.push(n.scheme,":");const s=$Kt(n);if(s!==void 0&&(r.reference!=="suffix"&&i.push("//"),i.push(s),n.path&&n.path.charAt(0)!=="/"&&i.push("/")),n.path!==void 0){let a=n.path;!r.absolutePath&&(!o||!o.absolutePath)&&(a=BS(a)),s===void 0&&(a=a.replace(/^\/\//u,"/%2F")),i.push(a)}return n.query!==void 0&&i.push("?",n.query),n.fragment!==void 0&&i.push("#",n.fragment),i.join("")}const NKt=Array.from({length:127},(e,t)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(t)));function OKt(e){let t=0;for(let n=0,r=e.length;n<r;++n)if(t=e.charCodeAt(n),t>126||NKt[t])return!0;return!1}const LKt=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function Np(e,t){const n=Object.assign({},t),r={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},i=e.indexOf("%")!==-1;let o=!1;n.reference==="suffix"&&(e=(n.scheme?n.scheme+":":"")+"//"+e);const s=e.match(LKt);if(s){if(r.scheme=s[1],r.userinfo=s[3],r.host=s[4],r.port=parseInt(s[5],10),r.path=s[6]||"",r.query=s[7],r.fragment=s[8],isNaN(r.port)&&(r.port=s[5]),r.host){const l=RKt(r.host);if(l.isIPV4===!1){const u=IKt(l.host);r.host=u.host.toLowerCase(),o=u.isIPV6}else r.host=l.host,o=!0}r.scheme===void 0&&r.userinfo===void 0&&r.host===void 0&&r.port===void 0&&r.query===void 0&&!r.path?r.reference="same-document":r.scheme===void 0?r.reference="relative":r.fragment===void 0?r.reference="absolute":r.reference="uri",n.reference&&n.reference!=="suffix"&&n.reference!==r.reference&&(r.error=r.error||"URI is not a "+n.reference+" reference.");const a=QZ[(n.scheme||r.scheme||"").toLowerCase()];if(!n.unicodeSupport&&(!a||!a.unicodeSupport)&&r.host&&(n.domainHost||a&&a.domainHost)&&o===!1&&OKt(r.host))try{r.host=URL.domainToASCII(r.host.toLowerCase())}catch(l){r.error=r.error||"Host's domain name can not be converted to ASCII: "+l}(!a||a&&!a.skipNormalize)&&(i&&r.scheme!==void 0&&(r.scheme=unescape(r.scheme)),i&&r.host!==void 0&&(r.host=unescape(r.host)),r.path&&(r.path=escape(unescape(r.path))),r.fragment&&(r.fragment=encodeURI(decodeURIComponent(r.fragment)))),a&&a.parse&&a.parse(r,n)}else r.error=r.error||"URI can not be parsed.";return r}const JZ={SCHEMES:QZ,normalize:DKt,resolve:MKt,resolveComponents:xLe,equal:PKt,serialize:nh,parse:Np};h4.exports=JZ;h4.exports.default=JZ;h4.exports.fastUri=JZ;var FKt=h4.exports;Object.defineProperty(KZ,"__esModule",{value:!0});const _Le=FKt;_Le.code='require("ajv/dist/runtime/uri").default';KZ.default=_Le;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Zc;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var n=kn;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=hk,i=G_,o=Nv,s=sl,a=kn,l=rs,u=eo,c=At,d=iKt,h=KZ,f=(F,j)=>new RegExp(F,j);f.code="new RegExp";const p=["removeAdditional","useDefaults","coerceTypes"],m=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),g={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},y={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},v=200;function b(F){var j,W,B,H,V,G,ne,X,te,se,ve,pe,Ge,Ne,Ke,Je,Ae,$e,Ze,lt,gt,st,ht,Oe,ut;const ee=F.strict,he=(j=F.code)===null||j===void 0?void 0:j.optimize,xe=he===!0||he===void 0?1:he||0,Me=(B=(W=F.code)===null||W===void 0?void 0:W.regExp)!==null&&B!==void 0?B:f,je=(H=F.uriResolver)!==null&&H!==void 0?H:h.default;return{strictSchema:(G=(V=F.strictSchema)!==null&&V!==void 0?V:ee)!==null&&G!==void 0?G:!0,strictNumbers:(X=(ne=F.strictNumbers)!==null&&ne!==void 0?ne:ee)!==null&&X!==void 0?X:!0,strictTypes:(se=(te=F.strictTypes)!==null&&te!==void 0?te:ee)!==null&&se!==void 0?se:"log",strictTuples:(pe=(ve=F.strictTuples)!==null&&ve!==void 0?ve:ee)!==null&&pe!==void 0?pe:"log",strictRequired:(Ne=(Ge=F.strictRequired)!==null&&Ge!==void 0?Ge:ee)!==null&&Ne!==void 0?Ne:!1,code:F.code?{...F.code,optimize:xe,regExp:Me}:{optimize:xe,regExp:Me},loopRequired:(Ke=F.loopRequired)!==null&&Ke!==void 0?Ke:v,loopEnum:(Je=F.loopEnum)!==null&&Je!==void 0?Je:v,meta:(Ae=F.meta)!==null&&Ae!==void 0?Ae:!0,messages:($e=F.messages)!==null&&$e!==void 0?$e:!0,inlineRefs:(Ze=F.inlineRefs)!==null&&Ze!==void 0?Ze:!0,schemaId:(lt=F.schemaId)!==null&&lt!==void 0?lt:"$id",addUsedSchema:(gt=F.addUsedSchema)!==null&&gt!==void 0?gt:!0,validateSchema:(st=F.validateSchema)!==null&&st!==void 0?st:!0,validateFormats:(ht=F.validateFormats)!==null&&ht!==void 0?ht:!0,unicodeRegExp:(Oe=F.unicodeRegExp)!==null&&Oe!==void 0?Oe:!0,int32range:(ut=F.int32range)!==null&&ut!==void 0?ut:!0,uriResolver:je}}class _{constructor(j={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,j=this.opts={...j,...b(j)};const{es5:W,lines:B}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:m,es5:W,lines:B}),this.logger=$(j.logger);const H=j.validateFormats;j.validateFormats=!1,this.RULES=(0,o.getRules)(),x.call(this,g,j,"NOT SUPPORTED"),x.call(this,y,j,"DEPRECATED","warn"),this._metaOpts=C.call(this),j.formats&&S.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),j.keywords&&T.call(this,j.keywords),typeof j.meta=="object"&&this.addMetaSchema(j.meta),E.call(this),j.validateFormats=H}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:j,meta:W,schemaId:B}=this.opts;let H=d;B==="id"&&(H={...d},H.id=H.$id,delete H.$id),W&&j&&this.addMetaSchema(H,H[B],!1)}defaultMeta(){const{meta:j,schemaId:W}=this.opts;return this.opts.defaultMeta=typeof j=="object"?j[W]||j:void 0}validate(j,W){let B;if(typeof j=="string"){if(B=this.getSchema(j),!B)throw new Error(`no schema with key or ref "${j}"`)}else B=this.compile(j);const H=B(W);return"$async"in B||(this.errors=B.errors),H}compile(j,W){const B=this._addSchema(j,W);return B.validate||this._compileSchemaEnv(B)}compileAsync(j,W){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:B}=this.opts;return H.call(this,j,W);async function H(se,ve){await V.call(this,se.$schema);const pe=this._addSchema(se,ve);return pe.validate||G.call(this,pe)}async function V(se){se&&!this.getSchema(se)&&await H.call(this,{$ref:se},!0)}async function G(se){try{return this._compileSchemaEnv(se)}catch(ve){if(!(ve instanceof i.default))throw ve;return ne.call(this,ve),await X.call(this,ve.missingSchema),G.call(this,se)}}function ne({missingSchema:se,missingRef:ve}){if(this.refs[se])throw new Error(`AnySchema ${se} is loaded but ${ve} cannot be resolved`)}async function X(se){const ve=await te.call(this,se);this.refs[se]||await V.call(this,ve.$schema),this.refs[se]||this.addSchema(ve,se,W)}async function te(se){const ve=this._loading[se];if(ve)return ve;try{return await(this._loading[se]=B(se))}finally{delete this._loading[se]}}}addSchema(j,W,B,H=this.opts.validateSchema){if(Array.isArray(j)){for(const G of j)this.addSchema(G,void 0,B,H);return this}let V;if(typeof j=="object"){const{schemaId:G}=this.opts;if(V=j[G],V!==void 0&&typeof V!="string")throw new Error(`schema ${G} must be string`)}return W=(0,l.normalizeId)(W||V),this._checkUnique(W),this.schemas[W]=this._addSchema(j,B,W,H,!0),this}addMetaSchema(j,W,B=this.opts.validateSchema){return this.addSchema(j,W,!0,B),this}validateSchema(j,W){if(typeof j=="boolean")return!0;let B;if(B=j.$schema,B!==void 0&&typeof B!="string")throw new Error("$schema must be a string");if(B=B||this.opts.defaultMeta||this.defaultMeta(),!B)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const H=this.validate(B,j);if(!H&&W){const V="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(V);else throw new Error(V)}return H}getSchema(j){let W;for(;typeof(W=w.call(this,j))=="string";)j=W;if(W===void 0){const{schemaId:B}=this.opts,H=new s.SchemaEnv({schema:{},schemaId:B});if(W=s.resolveSchema.call(this,H,j),!W)return;this.refs[j]=W}return W.validate||this._compileSchemaEnv(W)}removeSchema(j){if(j instanceof RegExp)return this._removeAllSchemas(this.schemas,j),this._removeAllSchemas(this.refs,j),this;switch(typeof j){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const W=w.call(this,j);return typeof W=="object"&&this._cache.delete(W.schema),delete this.schemas[j],delete this.refs[j],this}case"object":{const W=j;this._cache.delete(W);let B=j[this.opts.schemaId];return B&&(B=(0,l.normalizeId)(B),delete this.schemas[B],delete this.refs[B]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(j){for(const W of j)this.addKeyword(W);return this}addKeyword(j,W){let B;if(typeof j=="string")B=j,typeof W=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),W.keyword=B);else if(typeof j=="object"&&W===void 0){if(W=j,B=W.keyword,Array.isArray(B)&&!B.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(R.call(this,B,W),!W)return(0,c.eachItem)(B,V=>A.call(this,V)),this;N.call(this,W);const H={...W,type:(0,u.getJSONTypes)(W.type),schemaType:(0,u.getJSONTypes)(W.schemaType)};return(0,c.eachItem)(B,H.type.length===0?V=>A.call(this,V,H):V=>H.type.forEach(G=>A.call(this,V,H,G))),this}getKeyword(j){const W=this.RULES.all[j];return typeof W=="object"?W.definition:!!W}removeKeyword(j){const{RULES:W}=this;delete W.keywords[j],delete W.all[j];for(const B of W.rules){const H=B.rules.findIndex(V=>V.keyword===j);H>=0&&B.rules.splice(H,1)}return this}addFormat(j,W){return typeof W=="string"&&(W=new RegExp(W)),this.formats[j]=W,this}errorsText(j=this.errors,{separator:W=", ",dataVar:B="data"}={}){return!j||j.length===0?"No errors":j.map(H=>`${B}${H.instancePath} ${H.message}`).reduce((H,V)=>H+W+V)}$dataMetaSchema(j,W){const B=this.RULES.all;j=JSON.parse(JSON.stringify(j));for(const H of W){const V=H.split("/").slice(1);let G=j;for(const ne of V)G=G[ne];for(const ne in B){const X=B[ne];if(typeof X!="object")continue;const{$data:te}=X.definition,se=G[ne];te&&se&&(G[ne]=z(se))}}return j}_removeAllSchemas(j,W){for(const B in j){const H=j[B];(!W||W.test(B))&&(typeof H=="string"?delete j[B]:H&&!H.meta&&(this._cache.delete(H.schema),delete j[B]))}}_addSchema(j,W,B,H=this.opts.validateSchema,V=this.opts.addUsedSchema){let G;const{schemaId:ne}=this.opts;if(typeof j=="object")G=j[ne];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof j!="boolean")throw new Error("schema must be object or boolean")}let X=this._cache.get(j);if(X!==void 0)return X;B=(0,l.normalizeId)(G||B);const te=l.getSchemaRefs.call(this,j,B);return X=new s.SchemaEnv({schema:j,schemaId:ne,meta:W,baseId:B,localRefs:te}),this._cache.set(X.schema,X),V&&!B.startsWith("#")&&(B&&this._checkUnique(B),this.refs[B]=X),H&&this.validateSchema(j,!0),X}_checkUnique(j){if(this.schemas[j]||this.refs[j])throw new Error(`schema with key or id "${j}" already exists`)}_compileSchemaEnv(j){if(j.meta?this._compileMetaSchema(j):s.compileSchema.call(this,j),!j.validate)throw new Error("ajv implementation error");return j.validate}_compileMetaSchema(j){const W=this.opts;this.opts=this._metaOpts;try{s.compileSchema.call(this,j)}finally{this.opts=W}}}_.ValidationError=r.default,_.MissingRefError=i.default,e.default=_;function x(F,j,W,B="error"){for(const H in F){const V=H;V in j&&this.logger[B](`${W}: option ${H}. ${F[V]}`)}}function w(F){return F=(0,l.normalizeId)(F),this.schemas[F]||this.refs[F]}function E(){const F=this.opts.schemas;if(F)if(Array.isArray(F))this.addSchema(F);else for(const j in F)this.addSchema(F[j],j)}function S(){for(const F in this.opts.formats){const j=this.opts.formats[F];j&&this.addFormat(F,j)}}function T(F){if(Array.isArray(F)){this.addVocabulary(F);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const j in F){const W=F[j];W.keyword||(W.keyword=j),this.addKeyword(W)}}function C(){const F={...this.opts};for(const j of p)delete F[j];return F}const D={log(){},warn(){},error(){}};function $(F){if(F===!1)return D;if(F===void 0)return console;if(F.log&&F.warn&&F.error)return F;throw new Error("logger must implement log, warn and error methods")}const I=/^[a-z_$][a-z0-9_$:-]*$/i;function R(F,j){const{RULES:W}=this;if((0,c.eachItem)(F,B=>{if(W.keywords[B])throw new Error(`Keyword ${B} is already defined`);if(!I.test(B))throw new Error(`Keyword ${B} has invalid name`)}),!!j&&j.$data&&!("code"in j||"validate"in j))throw new Error('$data keyword must have "code" or "validate" function')}function A(F,j,W){var B;const H=j==null?void 0:j.post;if(W&&H)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:V}=this;let G=H?V.post:V.rules.find(({type:X})=>X===W);if(G||(G={type:W,rules:[]},V.rules.push(G)),V.keywords[F]=!0,!j)return;const ne={keyword:F,definition:{...j,type:(0,u.getJSONTypes)(j.type),schemaType:(0,u.getJSONTypes)(j.schemaType)}};j.before?M.call(this,G,ne,j.before):G.rules.push(ne),V.all[F]=ne,(B=j.implements)===null||B===void 0||B.forEach(X=>this.addKeyword(X))}function M(F,j,W){const B=F.rules.findIndex(H=>H.keyword===W);B>=0?F.rules.splice(B,0,j):(F.rules.push(j),this.logger.warn(`rule ${W} is not defined`))}function N(F){let{metaSchema:j}=F;j!==void 0&&(F.$data&&this.opts.$data&&(j=z(j)),F.validateSchema=this.compile(j,!0))}const L={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function z(F){return{anyOf:[F,L]}}})(OOe);var ZZ={},eee={},tee={};Object.defineProperty(tee,"__esModule",{value:!0});const BKt={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};tee.default=BKt;var Ov={};Object.defineProperty(Ov,"__esModule",{value:!0});Ov.callRef=Ov.getValidate=void 0;const jKt=G_,ome=Sn,Xa=kn,o1=sf,sme=sl,iI=At,zKt={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:n,it:r}=e,{baseId:i,schemaEnv:o,validateName:s,opts:a,self:l}=r,{root:u}=o;if((n==="#"||n==="#/")&&i===u.baseId)return d();const c=sme.resolveRef.call(l,u,i,n);if(c===void 0)throw new jKt.default(r.opts.uriResolver,i,n);if(c instanceof sme.SchemaEnv)return h(c);return f(c);function d(){if(o===u)return IR(e,s,o,o.$async);const p=t.scopeValue("root",{ref:u});return IR(e,(0,Xa._)`${p}.validate`,u,u.$async)}function h(p){const m=ELe(e,p);IR(e,m,p,p.$async)}function f(p){const m=t.scopeValue("schema",a.code.source===!0?{ref:p,code:(0,Xa.stringify)(p)}:{ref:p}),g=t.name("valid"),y=e.subschema({schema:p,dataTypes:[],schemaPath:Xa.nil,topSchemaRef:m,errSchemaPath:n},g);e.mergeEvaluated(y),e.ok(g)}}};function ELe(e,t){const{gen:n}=e;return t.validate?n.scopeValue("validate",{ref:t.validate}):(0,Xa._)`${n.scopeValue("wrapper",{ref:t})}.validate`}Ov.getValidate=ELe;function IR(e,t,n,r){const{gen:i,it:o}=e,{allErrors:s,schemaEnv:a,opts:l}=o,u=l.passContext?o1.default.this:Xa.nil;r?c():d();function c(){if(!a.$async)throw new Error("async schema referenced by sync schema");const p=i.let("valid");i.try(()=>{i.code((0,Xa._)`await ${(0,ome.callValidateCode)(e,t,u)}`),f(t),s||i.assign(p,!0)},m=>{i.if((0,Xa._)`!(${m} instanceof ${o.ValidationError})`,()=>i.throw(m)),h(m),s||i.assign(p,!1)}),e.ok(p)}function d(){e.result((0,ome.callValidateCode)(e,t,u),()=>f(t),()=>h(t))}function h(p){const m=(0,Xa._)`${p}.errors`;i.assign(o1.default.vErrors,(0,Xa._)`${o1.default.vErrors} === null ? ${m} : ${o1.default.vErrors}.concat(${m})`),i.assign(o1.default.errors,(0,Xa._)`${o1.default.vErrors}.length`)}function f(p){var m;if(!o.opts.unevaluated)return;const g=(m=n==null?void 0:n.validate)===null||m===void 0?void 0:m.evaluated;if(o.props!==!0)if(g&&!g.dynamicProps)g.props!==void 0&&(o.props=iI.mergeEvaluated.props(i,g.props,o.props));else{const y=i.var("props",(0,Xa._)`${p}.evaluated.props`);o.props=iI.mergeEvaluated.props(i,y,o.props,Xa.Name)}if(o.items!==!0)if(g&&!g.dynamicItems)g.items!==void 0&&(o.items=iI.mergeEvaluated.items(i,g.items,o.items));else{const y=i.var("items",(0,Xa._)`${p}.evaluated.items`);o.items=iI.mergeEvaluated.items(i,y,o.items,Xa.Name)}}}Ov.callRef=IR;Ov.default=zKt;Object.defineProperty(eee,"__esModule",{value:!0});const UKt=tee,HKt=Ov,VKt=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",UKt.default,HKt.default];eee.default=VKt;var nee={},ree={};Object.defineProperty(ree,"__esModule",{value:!0});const KM=kn,lm=KM.operators,XM={maximum:{okStr:"<=",ok:lm.LTE,fail:lm.GT},minimum:{okStr:">=",ok:lm.GTE,fail:lm.LT},exclusiveMaximum:{okStr:"<",ok:lm.LT,fail:lm.GTE},exclusiveMinimum:{okStr:">",ok:lm.GT,fail:lm.LTE}},WKt={message:({keyword:e,schemaCode:t})=>(0,KM.str)`must be ${XM[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,KM._)`{comparison: ${XM[e].okStr}, limit: ${t}}`},qKt={keyword:Object.keys(XM),type:"number",schemaType:"number",$data:!0,error:WKt,code(e){const{keyword:t,data:n,schemaCode:r}=e;e.fail$data((0,KM._)`${n} ${XM[t].fail} ${r} || isNaN(${n})`)}};ree.default=qKt;var iee={};Object.defineProperty(iee,"__esModule",{value:!0});const MT=kn,GKt={message:({schemaCode:e})=>(0,MT.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,MT._)`{multipleOf: ${e}}`},YKt={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:GKt,code(e){const{gen:t,data:n,schemaCode:r,it:i}=e,o=i.opts.multipleOfPrecision,s=t.let("res"),a=o?(0,MT._)`Math.abs(Math.round(${s}) - ${s}) > 1e-${o}`:(0,MT._)`${s} !== parseInt(${s})`;e.fail$data((0,MT._)`(${r} === 0 || (${s} = ${n}/${r}, ${a}))`)}};iee.default=YKt;var oee={},see={};Object.defineProperty(see,"__esModule",{value:!0});function SLe(e){const t=e.length;let n=0,r=0,i;for(;r<t;)n++,i=e.charCodeAt(r++),i>=55296&&i<=56319&&r<t&&(i=e.charCodeAt(r),(i&64512)===56320&&r++);return n}see.default=SLe;SLe.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(oee,"__esModule",{value:!0});const fy=kn,KKt=At,XKt=see,QKt={message({keyword:e,schemaCode:t}){const n=e==="maxLength"?"more":"fewer";return(0,fy.str)`must NOT have ${n} than ${t} characters`},params:({schemaCode:e})=>(0,fy._)`{limit: ${e}}`},JKt={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:QKt,code(e){const{keyword:t,data:n,schemaCode:r,it:i}=e,o=t==="maxLength"?fy.operators.GT:fy.operators.LT,s=i.opts.unicode===!1?(0,fy._)`${n}.length`:(0,fy._)`${(0,KKt.useFunc)(e.gen,XKt.default)}(${n})`;e.fail$data((0,fy._)`${s} ${o} ${r}`)}};oee.default=JKt;var aee={};Object.defineProperty(aee,"__esModule",{value:!0});const ZKt=Sn,QM=kn,eXt={message:({schemaCode:e})=>(0,QM.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,QM._)`{pattern: ${e}}`},tXt={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:eXt,code(e){const{data:t,$data:n,schema:r,schemaCode:i,it:o}=e,s=o.opts.unicodeRegExp?"u":"",a=n?(0,QM._)`(new RegExp(${i}, ${s}))`:(0,ZKt.usePattern)(e,r);e.fail$data((0,QM._)`!${a}.test(${t})`)}};aee.default=tXt;var lee={};Object.defineProperty(lee,"__esModule",{value:!0});const PT=kn,nXt={message({keyword:e,schemaCode:t}){const n=e==="maxProperties"?"more":"fewer";return(0,PT.str)`must NOT have ${n} than ${t} properties`},params:({schemaCode:e})=>(0,PT._)`{limit: ${e}}`},rXt={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:nXt,code(e){const{keyword:t,data:n,schemaCode:r}=e,i=t==="maxProperties"?PT.operators.GT:PT.operators.LT;e.fail$data((0,PT._)`Object.keys(${n}).length ${i} ${r}`)}};lee.default=rXt;var uee={};Object.defineProperty(uee,"__esModule",{value:!0});const YE=Sn,NT=kn,iXt=At,oXt={message:({params:{missingProperty:e}})=>(0,NT.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,NT._)`{missingProperty: ${e}}`},sXt={keyword:"required",type:"object",schemaType:"array",$data:!0,error:oXt,code(e){const{gen:t,schema:n,schemaCode:r,data:i,$data:o,it:s}=e,{opts:a}=s;if(!o&&n.length===0)return;const l=n.length>=a.loopRequired;if(s.allErrors?u():c(),a.strictRequired){const f=e.parentSchema.properties,{definedProperties:p}=e.it;for(const m of n)if((f==null?void 0:f[m])===void 0&&!p.has(m)){const g=s.schemaEnv.baseId+s.errSchemaPath,y=`required property "${m}" is not defined at "${g}" (strictRequired)`;(0,iXt.checkStrictMode)(s,y,s.opts.strictRequired)}}function u(){if(l||o)e.block$data(NT.nil,d);else for(const f of n)(0,YE.checkReportMissingProp)(e,f)}function c(){const f=t.let("missing");if(l||o){const p=t.let("valid",!0);e.block$data(p,()=>h(f,p)),e.ok(p)}else t.if((0,YE.checkMissingProp)(e,n,f)),(0,YE.reportMissingProp)(e,f),t.else()}function d(){t.forOf("prop",r,f=>{e.setParams({missingProperty:f}),t.if((0,YE.noPropertyInData)(t,i,f,a.ownProperties),()=>e.error())})}function h(f,p){e.setParams({missingProperty:f}),t.forOf(f,r,()=>{t.assign(p,(0,YE.propertyInData)(t,i,f,a.ownProperties)),t.if((0,NT.not)(p),()=>{e.error(),t.break()})},NT.nil)}}};uee.default=sXt;var cee={};Object.defineProperty(cee,"__esModule",{value:!0});const OT=kn,aXt={message({keyword:e,schemaCode:t}){const n=e==="maxItems"?"more":"fewer";return(0,OT.str)`must NOT have ${n} than ${t} items`},params:({schemaCode:e})=>(0,OT._)`{limit: ${e}}`},lXt={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:aXt,code(e){const{keyword:t,data:n,schemaCode:r}=e,i=t==="maxItems"?OT.operators.GT:OT.operators.LT;e.fail$data((0,OT._)`${n}.length ${i} ${r}`)}};cee.default=lXt;var dee={},fk={};Object.defineProperty(fk,"__esModule",{value:!0});const TLe=eY;TLe.code='require("ajv/dist/runtime/equal").default';fk.default=TLe;Object.defineProperty(dee,"__esModule",{value:!0});const s8=eo,Yo=kn,uXt=At,cXt=fk,dXt={message:({params:{i:e,j:t}})=>(0,Yo.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Yo._)`{i: ${e}, j: ${t}}`},hXt={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:dXt,code(e){const{gen:t,data:n,$data:r,schema:i,parentSchema:o,schemaCode:s,it:a}=e;if(!r&&!i)return;const l=t.let("valid"),u=o.items?(0,s8.getSchemaTypes)(o.items):[];e.block$data(l,c,(0,Yo._)`${s} === false`),e.ok(l);function c(){const p=t.let("i",(0,Yo._)`${n}.length`),m=t.let("j");e.setParams({i:p,j:m}),t.assign(l,!0),t.if((0,Yo._)`${p} > 1`,()=>(d()?h:f)(p,m))}function d(){return u.length>0&&!u.some(p=>p==="object"||p==="array")}function h(p,m){const g=t.name("item"),y=(0,s8.checkDataTypes)(u,g,a.opts.strictNumbers,s8.DataType.Wrong),v=t.const("indices",(0,Yo._)`{}`);t.for((0,Yo._)`;${p}--;`,()=>{t.let(g,(0,Yo._)`${n}[${p}]`),t.if(y,(0,Yo._)`continue`),u.length>1&&t.if((0,Yo._)`typeof ${g} == "string"`,(0,Yo._)`${g} += "_"`),t.if((0,Yo._)`typeof ${v}[${g}] == "number"`,()=>{t.assign(m,(0,Yo._)`${v}[${g}]`),e.error(),t.assign(l,!1).break()}).code((0,Yo._)`${v}[${g}] = ${p}`)})}function f(p,m){const g=(0,uXt.useFunc)(t,cXt.default),y=t.name("outer");t.label(y).for((0,Yo._)`;${p}--;`,()=>t.for((0,Yo._)`${m} = ${p}; ${m}--;`,()=>t.if((0,Yo._)`${g}(${n}[${p}], ${n}[${m}])`,()=>{e.error(),t.assign(l,!1).break(y)})))}}};dee.default=hXt;var hee={};Object.defineProperty(hee,"__esModule",{value:!0});const FU=kn,fXt=At,pXt=fk,mXt={message:"must be equal to constant",params:({schemaCode:e})=>(0,FU._)`{allowedValue: ${e}}`},gXt={keyword:"const",$data:!0,error:mXt,code(e){const{gen:t,data:n,$data:r,schemaCode:i,schema:o}=e;r||o&&typeof o=="object"?e.fail$data((0,FU._)`!${(0,fXt.useFunc)(t,pXt.default)}(${n}, ${i})`):e.fail((0,FU._)`${o} !== ${n}`)}};hee.default=gXt;var fee={};Object.defineProperty(fee,"__esModule",{value:!0});const jS=kn,yXt=At,vXt=fk,bXt={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,jS._)`{allowedValues: ${e}}`},wXt={keyword:"enum",schemaType:"array",$data:!0,error:bXt,code(e){const{gen:t,data:n,$data:r,schema:i,schemaCode:o,it:s}=e;if(!r&&i.length===0)throw new Error("enum must have non-empty array");const a=i.length>=s.opts.loopEnum;let l;const u=()=>l??(l=(0,yXt.useFunc)(t,vXt.default));let c;if(a||r)c=t.let("valid"),e.block$data(c,d);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const f=t.const("vSchema",o);c=(0,jS.or)(...i.map((p,m)=>h(f,m)))}e.pass(c);function d(){t.assign(c,!1),t.forOf("v",o,f=>t.if((0,jS._)`${u()}(${n}, ${f})`,()=>t.assign(c,!0).break()))}function h(f,p){const m=i[p];return typeof m=="object"&&m!==null?(0,jS._)`${u()}(${n}, ${f}[${p}])`:(0,jS._)`${n} === ${m}`}}};fee.default=wXt;Object.defineProperty(nee,"__esModule",{value:!0});const xXt=ree,_Xt=iee,EXt=oee,SXt=aee,TXt=lee,CXt=uee,AXt=cee,kXt=dee,IXt=hee,RXt=fee,$Xt=[xXt.default,_Xt.default,EXt.default,SXt.default,TXt.default,CXt.default,AXt.default,kXt.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},IXt.default,RXt.default];nee.default=$Xt;var pee={},Y_={};Object.defineProperty(Y_,"__esModule",{value:!0});Y_.validateAdditionalItems=void 0;const py=kn,BU=At,DXt={message:({params:{len:e}})=>(0,py.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,py._)`{limit: ${e}}`},MXt={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:DXt,code(e){const{parentSchema:t,it:n}=e,{items:r}=t;if(!Array.isArray(r)){(0,BU.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas');return}CLe(e,r)}};function CLe(e,t){const{gen:n,schema:r,data:i,keyword:o,it:s}=e;s.items=!0;const a=n.const("len",(0,py._)`${i}.length`);if(r===!1)e.setParams({len:t.length}),e.pass((0,py._)`${a} <= ${t.length}`);else if(typeof r=="object"&&!(0,BU.alwaysValidSchema)(s,r)){const u=n.var("valid",(0,py._)`${a} <= ${t.length}`);n.if((0,py.not)(u),()=>l(u)),e.ok(u)}function l(u){n.forRange("i",t.length,a,c=>{e.subschema({keyword:o,dataProp:c,dataPropType:BU.Type.Num},u),s.allErrors||n.if((0,py.not)(u),()=>n.break())})}}Y_.validateAdditionalItems=CLe;Y_.default=MXt;var mee={},K_={};Object.defineProperty(K_,"__esModule",{value:!0});K_.validateTuple=void 0;const ame=kn,RR=At,PXt=Sn,NXt={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:n}=e;if(Array.isArray(t))return ALe(e,"additionalItems",t);n.items=!0,!(0,RR.alwaysValidSchema)(n,t)&&e.ok((0,PXt.validateArray)(e))}};function ALe(e,t,n=e.schema){const{gen:r,parentSchema:i,data:o,keyword:s,it:a}=e;c(i),a.opts.unevaluated&&n.length&&a.items!==!0&&(a.items=RR.mergeEvaluated.items(r,n.length,a.items));const l=r.name("valid"),u=r.const("len",(0,ame._)`${o}.length`);n.forEach((d,h)=>{(0,RR.alwaysValidSchema)(a,d)||(r.if((0,ame._)`${u} > ${h}`,()=>e.subschema({keyword:s,schemaProp:h,dataProp:h},l)),e.ok(l))});function c(d){const{opts:h,errSchemaPath:f}=a,p=n.length,m=p===d.minItems&&(p===d.maxItems||d[t]===!1);if(h.strictTuples&&!m){const g=`"${s}" is ${p}-tuple, but minItems or maxItems/${t} are not specified or different at path "${f}"`;(0,RR.checkStrictMode)(a,g,h.strictTuples)}}}K_.validateTuple=ALe;K_.default=NXt;Object.defineProperty(mee,"__esModule",{value:!0});const OXt=K_,LXt={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,OXt.validateTuple)(e,"items")};mee.default=LXt;var gee={};Object.defineProperty(gee,"__esModule",{value:!0});const lme=kn,FXt=At,BXt=Sn,jXt=Y_,zXt={message:({params:{len:e}})=>(0,lme.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,lme._)`{limit: ${e}}`},UXt={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:zXt,code(e){const{schema:t,parentSchema:n,it:r}=e,{prefixItems:i}=n;r.items=!0,!(0,FXt.alwaysValidSchema)(r,t)&&(i?(0,jXt.validateAdditionalItems)(e,i):e.ok((0,BXt.validateArray)(e)))}};gee.default=UXt;var yee={};Object.defineProperty(yee,"__esModule",{value:!0});const xu=kn,oI=At,HXt={message:({params:{min:e,max:t}})=>t===void 0?(0,xu.str)`must contain at least ${e} valid item(s)`:(0,xu.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,xu._)`{minContains: ${e}}`:(0,xu._)`{minContains: ${e}, maxContains: ${t}}`},VXt={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:HXt,code(e){const{gen:t,schema:n,parentSchema:r,data:i,it:o}=e;let s,a;const{minContains:l,maxContains:u}=r;o.opts.next?(s=l===void 0?1:l,a=u):s=1;const c=t.const("len",(0,xu._)`${i}.length`);if(e.setParams({min:s,max:a}),a===void 0&&s===0){(0,oI.checkStrictMode)(o,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&s>a){(0,oI.checkStrictMode)(o,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,oI.alwaysValidSchema)(o,n)){let m=(0,xu._)`${c} >= ${s}`;a!==void 0&&(m=(0,xu._)`${m} && ${c} <= ${a}`),e.pass(m);return}o.items=!0;const d=t.name("valid");a===void 0&&s===1?f(d,()=>t.if(d,()=>t.break())):s===0?(t.let(d,!0),a!==void 0&&t.if((0,xu._)`${i}.length > 0`,h)):(t.let(d,!1),h()),e.result(d,()=>e.reset());function h(){const m=t.name("_valid"),g=t.let("count",0);f(m,()=>t.if(m,()=>p(g)))}function f(m,g){t.forRange("i",0,c,y=>{e.subschema({keyword:"contains",dataProp:y,dataPropType:oI.Type.Num,compositeRule:!0},m),g()})}function p(m){t.code((0,xu._)`${m}++`),a===void 0?t.if((0,xu._)`${m} >= ${s}`,()=>t.assign(d,!0).break()):(t.if((0,xu._)`${m} > ${a}`,()=>t.assign(d,!1).break()),s===1?t.assign(d,!0):t.if((0,xu._)`${m} >= ${s}`,()=>t.assign(d,!0)))}}};yee.default=VXt;var kLe={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=kn,n=At,r=Sn;e.error={message:({params:{property:l,depsCount:u,deps:c}})=>{const d=u===1?"property":"properties";return(0,t.str)`must have ${d} ${c} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:c,missingProperty:d}})=>(0,t._)`{property: ${l},
    missingProperty: ${d},
    depsCount: ${u},
    deps: ${c}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[u,c]=o(l);s(l,u),a(l,c)}};function o({schema:l}){const u={},c={};for(const d in l){if(d==="__proto__")continue;const h=Array.isArray(l[d])?u:c;h[d]=l[d]}return[u,c]}function s(l,u=l.schema){const{gen:c,data:d,it:h}=l;if(Object.keys(u).length===0)return;const f=c.let("missing");for(const p in u){const m=u[p];if(m.length===0)continue;const g=(0,r.propertyInData)(c,d,p,h.opts.ownProperties);l.setParams({property:p,depsCount:m.length,deps:m.join(", ")}),h.allErrors?c.if(g,()=>{for(const y of m)(0,r.checkReportMissingProp)(l,y)}):(c.if((0,t._)`${g} && (${(0,r.checkMissingProp)(l,m,f)})`),(0,r.reportMissingProp)(l,f),c.else())}}e.validatePropertyDeps=s;function a(l,u=l.schema){const{gen:c,data:d,keyword:h,it:f}=l,p=c.name("valid");for(const m in u)(0,n.alwaysValidSchema)(f,u[m])||(c.if((0,r.propertyInData)(c,d,m,f.opts.ownProperties),()=>{const g=l.subschema({keyword:h,schemaProp:m},p);l.mergeValidEvaluated(g,p)},()=>c.var(p,!0)),l.ok(p))}e.validateSchemaDeps=a,e.default=i})(kLe);var vee={};Object.defineProperty(vee,"__esModule",{value:!0});const ILe=kn,WXt=At,qXt={message:"property name must be valid",params:({params:e})=>(0,ILe._)`{propertyName: ${e.propertyName}}`},GXt={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:qXt,code(e){const{gen:t,schema:n,data:r,it:i}=e;if((0,WXt.alwaysValidSchema)(i,n))return;const o=t.name("valid");t.forIn("key",r,s=>{e.setParams({propertyName:s}),e.subschema({keyword:"propertyNames",data:s,dataTypes:["string"],propertyName:s,compositeRule:!0},o),t.if((0,ILe.not)(o),()=>{e.error(!0),i.allErrors||t.break()})}),e.ok(o)}};vee.default=GXt;var f4={};Object.defineProperty(f4,"__esModule",{value:!0});const sI=Sn,bc=kn,YXt=sf,aI=At,KXt={message:"must NOT have additional properties",params:({params:e})=>(0,bc._)`{additionalProperty: ${e.additionalProperty}}`},XXt={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:KXt,code(e){const{gen:t,schema:n,parentSchema:r,data:i,errsCount:o,it:s}=e;if(!o)throw new Error("ajv implementation error");const{allErrors:a,opts:l}=s;if(s.props=!0,l.removeAdditional!=="all"&&(0,aI.alwaysValidSchema)(s,n))return;const u=(0,sI.allSchemaProperties)(r.properties),c=(0,sI.allSchemaProperties)(r.patternProperties);d(),e.ok((0,bc._)`${o} === ${YXt.default.errors}`);function d(){t.forIn("key",i,g=>{!u.length&&!c.length?p(g):t.if(h(g),()=>p(g))})}function h(g){let y;if(u.length>8){const v=(0,aI.schemaRefOrVal)(s,r.properties,"properties");y=(0,sI.isOwnProperty)(t,v,g)}else u.length?y=(0,bc.or)(...u.map(v=>(0,bc._)`${g} === ${v}`)):y=bc.nil;return c.length&&(y=(0,bc.or)(y,...c.map(v=>(0,bc._)`${(0,sI.usePattern)(e,v)}.test(${g})`))),(0,bc.not)(y)}function f(g){t.code((0,bc._)`delete ${i}[${g}]`)}function p(g){if(l.removeAdditional==="all"||l.removeAdditional&&n===!1){f(g);return}if(n===!1){e.setParams({additionalProperty:g}),e.error(),a||t.break();return}if(typeof n=="object"&&!(0,aI.alwaysValidSchema)(s,n)){const y=t.name("valid");l.removeAdditional==="failing"?(m(g,y,!1),t.if((0,bc.not)(y),()=>{e.reset(),f(g)})):(m(g,y),a||t.if((0,bc.not)(y),()=>t.break()))}}function m(g,y,v){const b={keyword:"additionalProperties",dataProp:g,dataPropType:aI.Type.Str};v===!1&&Object.assign(b,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(b,y)}}};f4.default=XXt;var bee={};Object.defineProperty(bee,"__esModule",{value:!0});const QXt=Zc,ume=Sn,a8=At,cme=f4,JXt={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,parentSchema:r,data:i,it:o}=e;o.opts.removeAdditional==="all"&&r.additionalProperties===void 0&&cme.default.code(new QXt.KeywordCxt(o,cme.default,"additionalProperties"));const s=(0,ume.allSchemaProperties)(n);for(const d of s)o.definedProperties.add(d);o.opts.unevaluated&&s.length&&o.props!==!0&&(o.props=a8.mergeEvaluated.props(t,(0,a8.toHash)(s),o.props));const a=s.filter(d=>!(0,a8.alwaysValidSchema)(o,n[d]));if(a.length===0)return;const l=t.name("valid");for(const d of a)u(d)?c(d):(t.if((0,ume.propertyInData)(t,i,d,o.opts.ownProperties)),c(d),o.allErrors||t.else().var(l,!0),t.endIf()),e.it.definedProperties.add(d),e.ok(l);function u(d){return o.opts.useDefaults&&!o.compositeRule&&n[d].default!==void 0}function c(d){e.subschema({keyword:"properties",schemaProp:d,dataProp:d},l)}}};bee.default=JXt;var wee={};Object.defineProperty(wee,"__esModule",{value:!0});const dme=Sn,lI=kn,hme=At,fme=At,ZXt={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,data:r,parentSchema:i,it:o}=e,{opts:s}=o,a=(0,dme.allSchemaProperties)(n),l=a.filter(m=>(0,hme.alwaysValidSchema)(o,n[m]));if(a.length===0||l.length===a.length&&(!o.opts.unevaluated||o.props===!0))return;const u=s.strictSchema&&!s.allowMatchingProperties&&i.properties,c=t.name("valid");o.props!==!0&&!(o.props instanceof lI.Name)&&(o.props=(0,fme.evaluatedPropsToName)(t,o.props));const{props:d}=o;h();function h(){for(const m of a)u&&f(m),o.allErrors?p(m):(t.var(c,!0),p(m),t.if(c))}function f(m){for(const g in u)new RegExp(m).test(g)&&(0,hme.checkStrictMode)(o,`property ${g} matches pattern ${m} (use allowMatchingProperties)`)}function p(m){t.forIn("key",r,g=>{t.if((0,lI._)`${(0,dme.usePattern)(e,m)}.test(${g})`,()=>{const y=l.includes(m);y||e.subschema({keyword:"patternProperties",schemaProp:m,dataProp:g,dataPropType:fme.Type.Str},c),o.opts.unevaluated&&d!==!0?t.assign((0,lI._)`${d}[${g}]`,!0):!y&&!o.allErrors&&t.if((0,lI.not)(c),()=>t.break())})})}}};wee.default=ZXt;var xee={};Object.defineProperty(xee,"__esModule",{value:!0});const eQt=At,tQt={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:n,it:r}=e;if((0,eQt.alwaysValidSchema)(r,n)){e.fail();return}const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};xee.default=tQt;var _ee={};Object.defineProperty(_ee,"__esModule",{value:!0});const nQt=Sn,rQt={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:nQt.validateUnion,error:{message:"must match a schema in anyOf"}};_ee.default=rQt;var Eee={};Object.defineProperty(Eee,"__esModule",{value:!0});const $R=kn,iQt=At,oQt={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,$R._)`{passingSchemas: ${e.passing}}`},sQt={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:oQt,code(e){const{gen:t,schema:n,parentSchema:r,it:i}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(i.opts.discriminator&&r.discriminator)return;const o=n,s=t.let("valid",!1),a=t.let("passing",null),l=t.name("_valid");e.setParams({passing:a}),t.block(u),e.result(s,()=>e.reset(),()=>e.error(!0));function u(){o.forEach((c,d)=>{let h;(0,iQt.alwaysValidSchema)(i,c)?t.var(l,!0):h=e.subschema({keyword:"oneOf",schemaProp:d,compositeRule:!0},l),d>0&&t.if((0,$R._)`${l} && ${s}`).assign(s,!1).assign(a,(0,$R._)`[${a}, ${d}]`).else(),t.if(l,()=>{t.assign(s,!0),t.assign(a,d),h&&e.mergeEvaluated(h,$R.Name)})})}}};Eee.default=sQt;var See={};Object.defineProperty(See,"__esModule",{value:!0});const aQt=At,lQt={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:n,it:r}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");const i=t.name("valid");n.forEach((o,s)=>{if((0,aQt.alwaysValidSchema)(r,o))return;const a=e.subschema({keyword:"allOf",schemaProp:s},i);e.ok(i),e.mergeEvaluated(a)})}};See.default=lQt;var Tee={};Object.defineProperty(Tee,"__esModule",{value:!0});const JM=kn,RLe=At,uQt={message:({params:e})=>(0,JM.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,JM._)`{failingKeyword: ${e.ifClause}}`},cQt={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:uQt,code(e){const{gen:t,parentSchema:n,it:r}=e;n.then===void 0&&n.else===void 0&&(0,RLe.checkStrictMode)(r,'"if" without "then" and "else" is ignored');const i=pme(r,"then"),o=pme(r,"else");if(!i&&!o)return;const s=t.let("valid",!0),a=t.name("_valid");if(l(),e.reset(),i&&o){const c=t.let("ifClause");e.setParams({ifClause:c}),t.if(a,u("then",c),u("else",c))}else i?t.if(a,u("then")):t.if((0,JM.not)(a),u("else"));e.pass(s,()=>e.error(!0));function l(){const c=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);e.mergeEvaluated(c)}function u(c,d){return()=>{const h=e.subschema({keyword:c},a);t.assign(s,a),e.mergeValidEvaluated(h,s),d?t.assign(d,(0,JM._)`${c}`):e.setParams({ifClause:c})}}}};function pme(e,t){const n=e.schema[t];return n!==void 0&&!(0,RLe.alwaysValidSchema)(e,n)}Tee.default=cQt;var Cee={};Object.defineProperty(Cee,"__esModule",{value:!0});const dQt=At,hQt={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:n}){t.if===void 0&&(0,dQt.checkStrictMode)(n,`"${e}" without "if" is ignored`)}};Cee.default=hQt;Object.defineProperty(pee,"__esModule",{value:!0});const fQt=Y_,pQt=mee,mQt=K_,gQt=gee,yQt=yee,vQt=kLe,bQt=vee,wQt=f4,xQt=bee,_Qt=wee,EQt=xee,SQt=_ee,TQt=Eee,CQt=See,AQt=Tee,kQt=Cee;function IQt(e=!1){const t=[EQt.default,SQt.default,TQt.default,CQt.default,AQt.default,kQt.default,bQt.default,wQt.default,vQt.default,xQt.default,_Qt.default];return e?t.push(pQt.default,gQt.default):t.push(fQt.default,mQt.default),t.push(yQt.default),t}pee.default=IQt;var Aee={},kee={};Object.defineProperty(kee,"__esModule",{value:!0});const Ii=kn,RQt={message:({schemaCode:e})=>(0,Ii.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,Ii._)`{format: ${e}}`},$Qt={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:RQt,code(e,t){const{gen:n,data:r,$data:i,schema:o,schemaCode:s,it:a}=e,{opts:l,errSchemaPath:u,schemaEnv:c,self:d}=a;if(!l.validateFormats)return;i?h():f();function h(){const p=n.scopeValue("formats",{ref:d.formats,code:l.code.formats}),m=n.const("fDef",(0,Ii._)`${p}[${s}]`),g=n.let("fType"),y=n.let("format");n.if((0,Ii._)`typeof ${m} == "object" && !(${m} instanceof RegExp)`,()=>n.assign(g,(0,Ii._)`${m}.type || "string"`).assign(y,(0,Ii._)`${m}.validate`),()=>n.assign(g,(0,Ii._)`"string"`).assign(y,m)),e.fail$data((0,Ii.or)(v(),b()));function v(){return l.strictSchema===!1?Ii.nil:(0,Ii._)`${s} && !${y}`}function b(){const _=c.$async?(0,Ii._)`(${m}.async ? await ${y}(${r}) : ${y}(${r}))`:(0,Ii._)`${y}(${r})`,x=(0,Ii._)`(typeof ${y} == "function" ? ${_} : ${y}.test(${r}))`;return(0,Ii._)`${y} && ${y} !== true && ${g} === ${t} && !${x}`}}function f(){const p=d.formats[o];if(!p){v();return}if(p===!0)return;const[m,g,y]=b(p);m===t&&e.pass(_());function v(){if(l.strictSchema===!1){d.logger.warn(x());return}throw new Error(x());function x(){return`unknown format "${o}" ignored in schema at path "${u}"`}}function b(x){const w=x instanceof RegExp?(0,Ii.regexpCode)(x):l.code.formats?(0,Ii._)`${l.code.formats}${(0,Ii.getProperty)(o)}`:void 0,E=n.scopeValue("formats",{key:o,ref:x,code:w});return typeof x=="object"&&!(x instanceof RegExp)?[x.type||"string",x.validate,(0,Ii._)`${E}.validate`]:["string",x,E]}function _(){if(typeof p=="object"&&!(p instanceof RegExp)&&p.async){if(!c.$async)throw new Error("async format in sync schema");return(0,Ii._)`await ${y}(${r})`}return typeof g=="function"?(0,Ii._)`${y}(${r})`:(0,Ii._)`${y}.test(${r})`}}}};kee.default=$Qt;Object.defineProperty(Aee,"__esModule",{value:!0});const DQt=kee,MQt=[DQt.default];Aee.default=MQt;var $x={};Object.defineProperty($x,"__esModule",{value:!0});$x.contentVocabulary=$x.metadataVocabulary=void 0;$x.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];$x.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(ZZ,"__esModule",{value:!0});const PQt=eee,NQt=nee,OQt=pee,LQt=Aee,mme=$x,FQt=[PQt.default,NQt.default,(0,OQt.default)(),LQt.default,mme.metadataVocabulary,mme.contentVocabulary];ZZ.default=FQt;var Iee={},p4={};Object.defineProperty(p4,"__esModule",{value:!0});p4.DiscrError=void 0;var gme;(function(e){e.Tag="tag",e.Mapping="mapping"})(gme||(p4.DiscrError=gme={}));Object.defineProperty(Iee,"__esModule",{value:!0});const v1=kn,jU=p4,yme=sl,BQt=G_,jQt=At,zQt={message:({params:{discrError:e,tagName:t}})=>e===jU.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:n}})=>(0,v1._)`{error: ${e}, tag: ${n}, tagValue: ${t}}`},UQt={keyword:"discriminator",type:"object",schemaType:"object",error:zQt,code(e){const{gen:t,data:n,schema:r,parentSchema:i,it:o}=e,{oneOf:s}=i;if(!o.opts.discriminator)throw new Error("discriminator: requires discriminator option");const a=r.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(r.mapping)throw new Error("discriminator: mapping is not supported");if(!s)throw new Error("discriminator: requires oneOf keyword");const l=t.let("valid",!1),u=t.const("tag",(0,v1._)`${n}${(0,v1.getProperty)(a)}`);t.if((0,v1._)`typeof ${u} == "string"`,()=>c(),()=>e.error(!1,{discrError:jU.DiscrError.Tag,tag:u,tagName:a})),e.ok(l);function c(){const f=h();t.if(!1);for(const p in f)t.elseIf((0,v1._)`${u} === ${p}`),t.assign(l,d(f[p]));t.else(),e.error(!1,{discrError:jU.DiscrError.Mapping,tag:u,tagName:a}),t.endIf()}function d(f){const p=t.name("valid"),m=e.subschema({keyword:"oneOf",schemaProp:f},p);return e.mergeEvaluated(m,v1.Name),p}function h(){var f;const p={},m=y(i);let g=!0;for(let _=0;_<s.length;_++){let x=s[_];if(x!=null&&x.$ref&&!(0,jQt.schemaHasRulesButRef)(x,o.self.RULES)){const E=x.$ref;if(x=yme.resolveRef.call(o.self,o.schemaEnv.root,o.baseId,E),x instanceof yme.SchemaEnv&&(x=x.schema),x===void 0)throw new BQt.default(o.opts.uriResolver,o.baseId,E)}const w=(f=x==null?void 0:x.properties)===null||f===void 0?void 0:f[a];if(typeof w!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);g=g&&(m||y(x)),v(w,_)}if(!g)throw new Error(`discriminator: "${a}" must be required`);return p;function y({required:_}){return Array.isArray(_)&&_.includes(a)}function v(_,x){if(_.const)b(_.const,x);else if(_.enum)for(const w of _.enum)b(w,x);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function b(_,x){if(typeof _!="string"||_ in p)throw new Error(`discriminator: "${a}" values must be unique strings`);p[_]=x}}}};Iee.default=UQt;const HQt="http://json-schema.org/draft-07/schema#",VQt="http://json-schema.org/draft-07/schema#",WQt="Core schema meta-schema",qQt={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},GQt=["object","boolean"],YQt={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},KQt={$schema:HQt,$id:VQt,title:WQt,definitions:qQt,type:GQt,properties:YQt,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const n=OOe,r=ZZ,i=Iee,o=KQt,s=["/properties"],a="http://json-schema.org/draft-07/schema";class l extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(p=>this.addVocabulary(p)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const p=this.opts.$data?this.$dataMetaSchema(o,s):o;this.addMetaSchema(p,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}t.Ajv=l,e.exports=t=l,e.exports.Ajv=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var u=Zc;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var c=kn;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});var d=hk;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return d.default}});var h=G_;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return h.default}})})(MU,MU.exports);var XQt=MU.exports;const Ree=hu(XQt),QQt="#/definitions/StudyConfig",JQt="http://json-schema.org/draft-07/schema#",ZQt={Answer:{additionalProperties:!1,description:`The Answer interface is used to define the properties of an answer. Answers are used to define the correct answer for a task. These are generally used in training tasks or if skip logic is required based on the answer.

Answers are used to defined correct answers for a task. These are generally used in training tasks or if skip logic is required based on the answer. The answer field is used to define the correct answer to the question. The acceptableLow and acceptableHigh fields are used to define a range of acceptable answers (these are currently only used for training). For example, if the correct answer is 5, and the acceptableLow is 4 and the acceptableHigh is 6, then any answer between 4 and 6 will be considered correct.

Here's an example of how to use the Answer interface to define the correct answer to a question:

\`\`\`js { "type": "markdown", "path": "<study-name>/assets/question.md", "response": [  {    "id": "response1",    "prompt": "What is 2 + 2?",    "location": "belowStimulus",    "type": "numerical"  } ] "correctAnswer": [{  "id": "response1",  "answer": 4 }] } \`\`\`

In this example, the correct answer to the question "What is 2 + 2?" is 4. If the participant answers 4, they will be considered correct. If they answer anything other than 4, they will be considered incorrect.`,properties:{acceptableHigh:{description:"The acceptable high value for the answer. This is used to define a range of acceptable answers.",type:"number"},acceptableLow:{description:"The acceptable low value for the answer. This is used to define a range of acceptable answers.",type:"number"},answer:{description:"The correct answer to the question."},id:{description:"The id of the answer. This is used to identify the answer in the data file.",type:"string"}},required:["id","answer"],type:"object"},BaseComponents:{additionalProperties:{additionalProperties:!1,properties:{allowFailedTraining:{description:"Controls whether the component should allow failed training. If not provided, the default is true.",type:"boolean"},config:{description:"The vega or vega-lite configuration.",type:"object"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},forceCompletion:{description:"Whether to force the video to play until the end. Defaults to true.",type:"boolean"},helpTextPathOverride:{description:"Optional override for the help text. If present, will override the default help text path set in the uiConfig.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonDisableTime:{description:"A timeout (in ms) after which the next button will be disabled.",type:"number"},nextButtonEnableTime:{description:"A timer (in ms) after which the next button will be enabled.",type:"number"},nextButtonLocation:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{anyOf:[{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"}],description:"The parameters that are passed to the react component. These can be used within your react component to render different things."},path:{anyOf:[{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},{description:"The path to the react component. This should be a relative path from the src/public folder.",type:"string"},{description:"The path to the image. This could be a relative path from the public folder or a url to an external image.",type:"string"},{description:"The path to the website. This should be a relative path from the public folder or could be an external website.",type:"string"},{description:"The path to the vega file. This should be a relative path from the public folder.",type:"string"},{description:"The path to the video. This could be a relative path from the public folder or might be a url to an external website.",type:"string"}],description:"The path to the markdown file. This should be a relative path from the public folder."},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},recordAudio:{description:"Whether or not to record audio for a component. Only relevant if recordStudyAudio in the uiConfig is true. Defaults to false.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},responseDividers:{description:"Whether to show the response dividers. Defaults to false.",type:"boolean"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},trainingAttempts:{description:"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.",type:"number"},type:{enum:["markdown","react-component","image","website","questionnaire","vega","video"],type:"string"},withTimeline:{description:"Whether to show the video timeline. Defaults to false.",type:"boolean"}},type:"object"},description:'The baseComponents is an optional set of components which can help template other components. For example, suppose you have a single HTML file that you want to display to the user several times. Instead of having the same component twice in the `components` list, you can have a single baseComponent with all the information that the two HTML components will share. A great example is showing the same HTML component but with two different questions;\n\n Using baseComponents:\n\n```js "baseComponents": { "my-image-component": { "instructionLocation": "sidebar", "nextButtonLocation": "sidebar", "path": "<study-name>/assets/my-image.jpg", "response": [   {     "id": "my-image-id",     "options": ["Europe", "Japan", "USA"],     "prompt": "Your Selected Answer:",     "type": "dropdown"   } ], "type": "image" } } ``` In the above code snippet, we have a single base component which holds the information about the type of component, the path to the image, and the response (which is a dropdown containing three choices). Any component which contains the `"baseComponent":"my-image-component"` key-value pair will inherit each of these properties. Thus, if we have three different questions which have the same choices and are concerning the same image, we can define our components like below: ```js "components": { "q1": { "baseComponent": "my-image-component", "description": "Choosing section with largest GDP", "instruction": "Which region has the largest GDP?" }, "q2": { "baseComponent": "my-image-component", "description": "Choosing section with lowest GDP", "instruction": "Which region has the lowest GDP?" }, "q3": { "baseComponent": "my-image-component", "description": "Choosing section with highest exports of Wheat", "instruction": "Which region had the most Wheat exported in 2022?" } } ```',type:"object"},ButtonsResponse:{additionalProperties:!1,description:'The ButtonsResponse interface is used to define the properties of a buttons response. ButtonsResponses render as a list of buttons that the participant can click. When a button is clicked, the value of the button is stored in the data file. Participants can cycle through the options using the arrow keys.\n\nExample: ```js {   "id": "buttonsResponse",   "type": "buttons",   "prompt": "Click a button",   "location": "belowStimulus",   "options": [     "Option 1",     "Option 2",     "Option 3"   ] } ``` In this example, the participant can click one of the buttons labeled "Option 1", "Option 2", or "Option 3".',properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},options:{items:{anyOf:[{$ref:"#/definitions/StringOption"},{type:"string"}]},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered. Defaults to true.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"buttons",type:"string"},withDivider:{description:"Renders the response with a trailing divider.",type:"boolean"},withDontKnow:{description:`Renders the response with an option for "I don't know". This counts as a completed answer for the validation.`,type:"boolean"}},required:["id","options","prompt","type"],type:"object"},CheckboxResponse:{additionalProperties:!1,description:'The CheckboxResponse interface is used to define the properties of a checkbox response. CheckboxResponses render as a checkbox input with user specified options.\n\n```js { "id": "q7", "prompt": "Checkbox example (not required)", "location": "aboveStimulus", "type": "checkbox", "options": ["Option 1", "Option 2", "Option 3"] } ```',properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},horizontal:{description:"Whether to render the checkboxes horizontally. Defaults to false, so they render horizontally.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},maxSelections:{description:"The maximum number of selections that are required.",type:"number"},minSelections:{description:"The minimum number of selections that are required.",type:"number"},options:{description:"The options that are displayed as checkboxes, provided as an array of objects, with label and value fields.",items:{anyOf:[{$ref:"#/definitions/StringOption"},{type:"string"}]},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered. Defaults to true.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"checkbox",type:"string"},withDivider:{description:"Renders the response with a trailing divider.",type:"boolean"},withDontKnow:{description:`Renders the response with an option for "I don't know". This counts as a completed answer for the validation.`,type:"boolean"},withOther:{description:'Whether to render the checkboxes with an "other" option.',type:"boolean"}},required:["id","options","prompt","type"],type:"object"},ComponentBlock:{additionalProperties:!1,description:'The ComponentBlock interface is used to define order properties within the sequence. This is used to define the order of components in a study and the skip logic. It supports random assignment of trials using a pure random assignment and a [latin square](https://en.wikipedia.org/wiki/Latin_square).\n\nThe pure random assignment is a random assignment with no guarantees. For example, one component _could_ show up in the first position 10 times in a row. However, this situation is unlikely.\n\nHere\'s a snippet that shows how to use the random order:\n\n```js { "order": "random", "components": [ "component1", "component2", "component3" ] } ``` This snippet would produce a random order of the components in the sequence array. For example, the resulting sequence array could be :\n\n```js [ ["component2", "component3", "component1"], ["component1", "component3", "component2"], ["component3", "component1", "component2"], ... ] ```\n\nThe latin square assignment is a random assignment with some guarantees. It ensures that each component is shown an equal number of times in each position. Here\'s a snippet that shows how to use the latin square order:\n\n```js { "order": "latinSquare", "components": [ "component1", "component2", "component3" ] } ```\n\nThis snippet would produce a latin square order of the components in the sequence array. Since the latin square guarantees that each component is shown an equal number of times in each position, the resulting sequence array could be:\n\n```js [ ["component1", "component2", "component3"], ["component2", "component3", "component1"], ["component3", "component1", "component2"], ... ] ```\n\nThe fixed assignment is a fixed assignment of components. This is used when you want to show the components in a specific order. Here\'s a snippet that shows how to use the fixed order:\n\n```js { "order": "fixed", "components": [ "component1", "component2", "component3" ] } ```\n\nThis snippet would produce a fixed order of the components in the sequence array. The resulting sequence array would be:\n\n```js [ ["component1", "component2", "component3"], ["component1", "component2", "component3"], ["component1", "component2", "component3"], ... ] ```\n\nIn addition to the order property, the ComponentBlock interface also includes the `"numSamples"` property. This is used to reduce the number of components shown to a participant. This property respects the order property and the guarantees provided by the order property. For example, if you have three components in the components array and you set `"numSamples"` to 2, you would randomize across the three components while only showing a participant two of them. Here\'s a snippet that shows how to use the numSamples property:\n\n```js { "order": "latinSquare", "components": [ "component1", "component2", "component3" ], "numSamples": 2 } ```\n\nThis snippet would produce a latin square order of the components in the sequence array. Since the latin square guarantees that each component is shown an equal number of times in each position, the resulting sequence array could be:\n\n```js [ ["component1", "component2"], ["component2", "component3"], ["component3", "component1"], ... ] ```\n\nThe interruptions property specifies an array of interruptions. These can be used for breaks or attention checks. Interruptions can be deterministic or random. Please see [InterruptionBlock](../../type-aliases/InterruptionBlock) for more specific information.\n\nThe skip property is used to define skip conditions. This is used to skip to a different component or block based on the response to a component or the number of correct or incorrect responses in a block. Please see [SkipConditions](../../type-aliases/SkipConditions) for more specific information.',properties:{components:{description:"The components that are included in the order.",items:{anyOf:[{type:"string"},{$ref:"#/definitions/ComponentBlock"},{$ref:"#/definitions/DynamicBlock"}]},type:"array"},id:{description:"The id of the block. This is used to identify the block in the SkipConditions and is only required if you want to refer to the whole block in the condition.to property.",type:"string"},interruptions:{description:"The interruptions property specifies an array of interruptions. These can be used for breaks or attention checks.",items:{$ref:"#/definitions/InterruptionBlock"},type:"array"},numSamples:{description:"The number of samples to use for the random assignments. This means you can randomize across 3 components while only showing a participant 2 at a time.",type:"number"},order:{description:"The type of order. This can be random (pure random), latinSquare (random with some guarantees), or fixed.",enum:["random","latinSquare","fixed"],type:"string"},skip:{$ref:"#/definitions/SkipConditions",description:"The skip conditions for the block."}},required:["order","components"],type:"object"},ComponentBlockCondition:{additionalProperties:!1,description:`The ComponentBlockCondition interface is used to define a SkipCondition based on the number of correct or incorrect components in a block. All answers on all components in the block are checked.

Answers are checked against the correct answers defined in the IndividualComponent's [CorrectAnswer](../Answer). If no correct answers are defined, the component is considered correct by default.

You might use this if a participant answers two questions in a block incorrectly. Here's an example of how to use the ComponentBlockCondition:

\`\`\`js { ... "skip": [ {   "check": "block",   "condition": "numIncorrect",   "value": 2,   "to": "end" } ] ... } \`\`\`

In this example, when the number of components with incorrect responses in the block is two, the participant will be redirected to the end of the study. If the number of incorrect responses is less than two, the participant will continue to the next component in the sequence.

When the condition is met, the participant will immediately be redirected to the component or block specified in the \`"to"\` property. If no conditions are met, the participant will continue to the next component in the sequence.`,properties:{check:{const:"block",description:"The check we'll perform.",type:"string"},condition:{description:"The condition to check.",enum:["numCorrect","numIncorrect"],type:"string"},to:{description:"The id of the component or block to skip to",type:"string"},value:{description:"The number of correct or incorrect responses to check for.",type:"number"}},required:["check","condition","value","to"],type:"object"},ConfigResponseBlockLocation:{enum:["sidebar","aboveStimulus","belowStimulus"],type:"string"},DeterministicInterruption:{additionalProperties:!1,description:`The DeterministicInterruption interface is used to define an interruption that will be shown at a specific location in the block.

For example, if you want to show an interruption after the second component in the block, you would set firstLocation to 2. If you want to show an interruption after every 3 components, you would set spacing to 3. If you want to show an interruption after the second component and then every 3 components, you would set firstLocation to 2 and spacing to 3.

The components property is an array of the components that will be inserted at the location specified by firstLocation and spacing. These components should reference components in the StudyConfig.components section of the config.

Here's an example of how to use the DeterministicInterruption:

\`\`\`js { "order": "fixed", "components": [ "component1", "component2", "component3", "component4", "component5", "component6" ], "interruptions": [ {   "firstLocation": 2,   "spacing": 3,   "components": [     "interruption1",     "interruption2"   ] } ] } \`\`\`

The resulting sequence array could be:

\`\`\`js [ ["component1", "component2", "interruption1", "component3", "component4", "component5", "interruption2", "component6"], ["component1", "component2", "interruption1", "component3", "component4", "component5", "interruption2", "component6"], ["component1", "component2", "interruption1", "component3", "component4", "component5", "interruption2", "component6"], ... ] \`\`\``,properties:{components:{description:"The components that are included in the interruption. These reference components in the StudyConfig.components section of the config.",items:{type:"string"},type:"array"},firstLocation:{description:"The Location of the first instance of the interruption. If this is set to 2, the interruption will be shown after the second component (inserted at index 2).",type:"number"},spacing:{description:"The number of components between breaks.",type:"number"}},required:["firstLocation","spacing","components"],type:"object"},DropdownResponse:{additionalProperties:!1,description:'The DropdownResponse interface is used to define the properties of a dropdown response. DropdownResponses render as a select input with user specified options.\n\nExample: ```js { "id": "q-color", "prompt": "What is your favorite color?", "location": "aboveStimulus", "type": "dropdown", "placeholder": "Please choose your favorite color", "options": ["Red", "Blue"] } ```',properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},options:{description:"The options that are displayed in the dropdown.",items:{anyOf:[{$ref:"#/definitions/StringOption"},{type:"string"}]},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered. Defaults to true.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"dropdown",type:"string"},withDivider:{description:"Renders the response with a trailing divider.",type:"boolean"},withDontKnow:{description:`Renders the response with an option for "I don't know". This counts as a completed answer for the validation.`,type:"boolean"}},required:["id","options","prompt","type"],type:"object"},DynamicBlock:{additionalProperties:!1,description:`The DynamicBlock interface is used to define a block where displayed components are controlled by a function. This is useful when you want to generate the sequence based on answers to previous questions or other factors.

The functionPath property is a path to the function that generates the components. This should be a relative path from the src/public folder.

Here's an example of how to use the DynamicBlock:

\`\`\`js {   "id": "funcBlock",   "order": "dynamic",   "functionPath": "<study-name>/assets/function.js",   "parameters": {     "param1": "value1",     "param2": "value2"   } } \`\`\``,properties:{functionPath:{description:"The path to the function that generates the components. This should be a relative path from the src/public folder.",type:"string"},id:{description:"The id of the block. This is used to identify the block in the SkipConditions and is only required if you want to refer to the whole block in the condition.to property.",type:"string"},order:{const:"dynamic",description:"The type of order. This can be random (pure random), latinSquare (random with some guarantees), or fixed.",type:"string"},parameters:{additionalProperties:{},description:"The parameters that are passed to the function. These can be used within your function to render different things.",type:"object"}},required:["id","order","functionPath"],type:"object"},ImageComponent:{additionalProperties:!1,description:'The ImageComponent interface is used to define the properties of an image component. This component is used to render an image with optional styling.\n\nFor example, to render an image with a path of `path/to/study/assets/image.jpg` and a max width of 50%, you would use the following snippet: ```js { "type": "image", "path": "<study-name>/assets/image.jpg", "style": { "maxWidth": "50%" } } ```',properties:{allowFailedTraining:{description:"Controls whether the component should allow failed training. If not provided, the default is true.",type:"boolean"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},helpTextPathOverride:{description:"Optional override for the help text. If present, will override the default help text path set in the uiConfig.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonDisableTime:{description:"A timeout (in ms) after which the next button will be disabled.",type:"number"},nextButtonEnableTime:{description:"A timer (in ms) after which the next button will be enabled.",type:"number"},nextButtonLocation:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},path:{description:"The path to the image. This could be a relative path from the public folder or a url to an external image.",type:"string"},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},recordAudio:{description:"Whether or not to record audio for a component. Only relevant if recordStudyAudio in the uiConfig is true. Defaults to false.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},responseDividers:{description:"Whether to show the response dividers. Defaults to false.",type:"boolean"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},trainingAttempts:{description:"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.",type:"number"},type:{const:"image",type:"string"}},required:["path","response","type"],type:"object"},IndividualComponent:{anyOf:[{$ref:"#/definitions/MarkdownComponent"},{$ref:"#/definitions/ReactComponent"},{$ref:"#/definitions/ImageComponent"},{$ref:"#/definitions/WebsiteComponent"},{$ref:"#/definitions/QuestionnaireComponent"},{$ref:"#/definitions/VegaComponent"},{$ref:"#/definitions/VideoComponent"}]},IndividualComponentAllResponsesCondition:{additionalProperties:!1,description:`The IndividualComponentAllResponsesCondition interface is used to define a SkipCondition based on all answers to a specific component. The skip logic will be checked for every component in the block that has the specified name.

:::info

If you need to check all instances of a repeated component, you should use the RepeatedComponentBlockCondition.

:::


Here's an example of how to use the IndividualComponentAllResponsesCondition:

\`\`\`js { ... "skip": [ {   "name": "attentionCheck",   "check": "responses",   "to": "end" } ] ... } \`\`\`

In this example, if all responses to the component with the ID "attentionCheck" are correct, the participant will be redirected to the end of the study. If any response is incorrect, the participant will continue to the next component in the sequence.`,properties:{check:{const:"responses",description:"The check we'll perform.",type:"string"},name:{description:"The name of the component to check.",type:"string"},to:{description:"The id of the component or block to skip to",type:"string"}},required:["name","check","to"],type:"object"},IndividualComponentSingleResponseCondition:{additionalProperties:!1,description:`The IndividualComponentSingleResponseCondition interface is used to define a SkipCondition based on a single answer to a specific component. The skip logic will be checked for every component in the block that has the specified name.

:::info

If you need to check all instances of a repeated component, you should use the RepeatedComponentBlockCondition.

:::

For example, if you want to skip to a different component based on a response to a specific component, you would use the IndividualComponentSingleResponseCondition. Here's an example of how to use the IndividualComponentSingleResponseCondition:

\`\`\`js { ... "skip": [ {   "name": "attentionCheck",   "check": "response",   "responseId": "attentionCheckResponse",   "value": "the right answer",   "comparison": "equal",   "to": "end" } ] ... } \`\`\`

In this example, we assign our skip logic to the component whose ID is "attentionCheck". If the answer given to the response "attentionCheckResponse" is equal to "the right answer", then the user will be redirected to the end of the study. If the response is _not_ equal to "the right answer", then the participant will continue to the next component in the sequence.`,properties:{check:{const:"response",description:"The check we'll perform.",type:"string"},comparison:{description:"The comparison to use.",enum:["equal","notEqual"],type:"string"},name:{description:"The name of the component to check.",type:"string"},responseId:{description:"The response id to check.",type:"string"},to:{description:"The id of the component or block to skip to",type:"string"},value:{description:"The value to check.",type:["string","number"]}},required:["name","check","responseId","value","comparison","to"],type:"object"},InheritedComponent:{additionalProperties:!1,description:"An InheritedComponent is a component that inherits properties from a baseComponent. This is used to avoid repeating properties in components. This also means that components in the baseComponents object can be partially defined, while components in the components object can inherit from them and must be fully defined and include all properties (after potentially merging with a base component).",properties:{allowFailedTraining:{description:"Controls whether the component should allow failed training. If not provided, the default is true.",type:"boolean"},baseComponent:{type:"string"},config:{description:"The vega or vega-lite configuration.",type:"object"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},forceCompletion:{description:"Whether to force the video to play until the end. Defaults to true.",type:"boolean"},helpTextPathOverride:{description:"Optional override for the help text. If present, will override the default help text path set in the uiConfig.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonDisableTime:{description:"A timeout (in ms) after which the next button will be disabled.",type:"number"},nextButtonEnableTime:{description:"A timer (in ms) after which the next button will be enabled.",type:"number"},nextButtonLocation:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{anyOf:[{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"}],description:"The parameters that are passed to the react component. These can be used within your react component to render different things."},path:{anyOf:[{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},{description:"The path to the react component. This should be a relative path from the src/public folder.",type:"string"},{description:"The path to the image. This could be a relative path from the public folder or a url to an external image.",type:"string"},{description:"The path to the website. This should be a relative path from the public folder or could be an external website.",type:"string"},{description:"The path to the vega file. This should be a relative path from the public folder.",type:"string"},{description:"The path to the video. This could be a relative path from the public folder or might be a url to an external website.",type:"string"}],description:"The path to the markdown file. This should be a relative path from the public folder."},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},recordAudio:{description:"Whether or not to record audio for a component. Only relevant if recordStudyAudio in the uiConfig is true. Defaults to false.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},responseDividers:{description:"Whether to show the response dividers. Defaults to false.",type:"boolean"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},trainingAttempts:{description:"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.",type:"number"},type:{enum:["markdown","react-component","image","website","questionnaire","vega","video"],type:"string"},withTimeline:{description:"Whether to show the video timeline. Defaults to false.",type:"boolean"}},required:["baseComponent"],type:"object"},InterruptionBlock:{anyOf:[{$ref:"#/definitions/DeterministicInterruption"},{$ref:"#/definitions/RandomInterruption"}],description:"The InterruptionBlock interface is used to define interruptions in a block. These can be used for breaks or attention checks. Interruptions can be deterministic or random."},LikertResponse:{additionalProperties:!1,description:`The LikertResponse interface is used to define the properties of a likert response. LikertResponses render as radio buttons with a user specified number of options, which can be controlled through the numItems. For example, numItems: 5 will render 5 radio buttons, and numItems: 7 will render 7 radio buttons. LikertResponses can also have a description, and left and right labels. The left and right labels are used to label the left and right ends of the likert scale with values such as 'Strongly Disagree' and 'Strongly Agree'.

Example for a five-point Likert Scale:

\`\`\`js { "id": "q-satisfaction", "prompt": "Rate your satisfaction from 1 (not enjoyable) to 5 (very enjoyable).", "location": "aboveStimulus", "type": "likert", "leftLabel": "Not Enjoyable", "rightLabel": "Very Enjoyable", "numItems": 5 } \`\`\``,properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},leftLabel:{description:"The left label of the likert scale. E.g Strongly Disagree",type:"string"},location:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},numItems:{description:"The number of options to render.",type:"number"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered. Defaults to true.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},rightLabel:{description:"The right label of the likert scale. E.g Strongly Agree",type:"string"},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"likert",type:"string"},withDivider:{description:"Renders the response with a trailing divider.",type:"boolean"},withDontKnow:{description:`Renders the response with an option for "I don't know". This counts as a completed answer for the validation.`,type:"boolean"}},required:["id","numItems","prompt","type"],type:"object"},LongTextResponse:{additionalProperties:!1,description:'The LongTextResponse interface is used to define the properties of a long text response. LongTextResponses render as a text area that accepts any text and can optionally have a placeholder. ```js { "id": "q-name", "prompt": "What is your first name?", "location": "aboveStimulus", "type": "longText", "placeholder": "Please enter your first name" } ```',properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered. Defaults to true.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"longText",type:"string"},withDivider:{description:"Renders the response with a trailing divider.",type:"boolean"},withDontKnow:{description:`Renders the response with an option for "I don't know". This counts as a completed answer for the validation.`,type:"boolean"}},required:["id","prompt","type"],type:"object"},MarkdownComponent:{additionalProperties:!1,description:'The MarkdownComponent interface is used to define the properties of a markdown component. The components can be used to render many different things, such as consent forms, instructions, and debriefs. Additionally, you can use the markdown component to render images, videos, and other media, with supporting text. Markdown components can have responses (e.g. in a consent form), or no responses (e.g. in a help text file). Here\'s an example with no responses for a simple help text file:\n\n```js { "type": "markdown", "path": "<study-name>/assets/help.md", "response": [] } ```',properties:{allowFailedTraining:{description:"Controls whether the component should allow failed training. If not provided, the default is true.",type:"boolean"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},helpTextPathOverride:{description:"Optional override for the help text. If present, will override the default help text path set in the uiConfig.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonDisableTime:{description:"A timeout (in ms) after which the next button will be disabled.",type:"number"},nextButtonEnableTime:{description:"A timer (in ms) after which the next button will be enabled.",type:"number"},nextButtonLocation:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},path:{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},recordAudio:{description:"Whether or not to record audio for a component. Only relevant if recordStudyAudio in the uiConfig is true. Defaults to false.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},responseDividers:{description:"Whether to show the response dividers. Defaults to false.",type:"boolean"},trainingAttempts:{description:"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.",type:"number"},type:{const:"markdown",type:"string"}},required:["path","response","type"],type:"object"},MatrixResponse:{additionalProperties:!1,description:`The MatrixResponse interface is used to define the properties of a matrix radio or matrix checkbox response. Question options are rendered as rows of the matrix, each row containing its own radio/checkbox group. Answer options are rendered as column headers of the matrix. These can be customized by passing in the custom strings into the answer options. Alternatively, \`answerOptions\` can be set to one of the following custom strings: 'satisfaction5','satisfaction7', 'likely5', 'likely7'. This will automatically generate the appropriate headers for the matrix.

Example for a 5-scale satisfaction matrix with three questions:

\`\`\`js { "id": "multi-satisfaction", "prompt": "Rate your satisfaction from 1 (not enjoyable) to 5 (very enjoyable) for the following items.", "location": "aboveStimulus", "type": "matrix-radio", "answerOptions": "satisfaction5", "questionOptions": [  "The tool we created",  "The technique we developed",  "The authors of the tools" ] } \`\`\`

Here's an example using custom columns (answerOptions):

\`\`\`js { "id": "multi-custom", "prompt": "Which categories do the following items belong to?", "location": "aboveStimulus", "type": "matrix-checkbox", "answerOptions": [  "Has Legs",  "Has Wings",  "Can Swim" ], "questionOptions": [  "Dog",  "Snake",  "Eagle",  "Salmon",  "Platypus" ]

} \`\`\``,properties:{answerOptions:{anyOf:[{items:{anyOf:[{type:"string"},{$ref:"#/definitions/StringOption"}]},type:"array"},{const:"likely5",type:"string"},{const:"likely7",type:"string"},{const:"satisfaction5",type:"string"},{const:"satisfaction7",type:"string"}],description:"The answer options (columns). We provide some shortcuts for a likelihood scale (ranging from highly unlikely to highly likely) and a satisfaction scale (ranging from highly unsatisfied to highly satisfied) with either 5 or 7 options to choose from."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},questionOptions:{description:"The question options (rows) are the prompts for each response you'd like to record.",items:{type:"string"},type:"array"},required:{description:"Controls whether the response is required to be answered. Defaults to true.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{enum:["matrix-radio","matrix-checkbox"],type:"string"},withDivider:{description:"Renders the response with a trailing divider.",type:"boolean"},withDontKnow:{description:`Renders the response with an option for "I don't know". This counts as a completed answer for the validation.`,type:"boolean"}},required:["answerOptions","id","prompt","questionOptions","type"],type:"object"},NumberOption:{additionalProperties:!1,description:"The NumberOption interface is used to define the options for a slider response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file.",properties:{label:{description:"The label displayed to participants.",type:"string"},value:{description:"The value stored in the participant's data.",type:"number"}},required:["label","value"],type:"object"},NumericalResponse:{additionalProperties:!1,description:'The NumericalResponse interface is used to define the properties of a numerical response. NumericalResponses render as a text input that only accepts numbers, and can optionally have a min and max value, or a placeholder.\n\nExample: ```js { "id": "q-numerical", "prompt": "Numerical example", "location": "aboveStimulus", "type": "numerical", "placeholder": "Enter your age, range from 0 - 120", "max": 120, "min": 0 } ```',properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},max:{description:"The maximum value that is accepted in the input.",type:"number"},min:{description:"The minimum value that is accepted in the input.",type:"number"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered. Defaults to true.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"numerical",type:"string"},withDivider:{description:"Renders the response with a trailing divider.",type:"boolean"},withDontKnow:{description:`Renders the response with an option for "I don't know". This counts as a completed answer for the validation.`,type:"boolean"}},required:["id","prompt","type"],type:"object"},QuestionnaireComponent:{additionalProperties:!1,description:'A QuestionnaireComponent is used to render simple questions that require a response. The main use case of this component type is to ask participants questions when you don\'t need to render a stimulus. Please note, that even though we\'re not using a stimulus, the responses still require a `location`. For example this could be used to collect demographic information from a participant using the following snippet:\n\n```js { "type": "questionnaire", "response": [  {    "id": "gender",    "prompt": "Gender:",    "location": "belowStimulus",    "type": "checkbox",    "options": ["Man", "Woman", "Genderqueer", "Third-gender", ...]  } ] } ```',properties:{allowFailedTraining:{description:"Controls whether the component should allow failed training. If not provided, the default is true.",type:"boolean"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},helpTextPathOverride:{description:"Optional override for the help text. If present, will override the default help text path set in the uiConfig.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonDisableTime:{description:"A timeout (in ms) after which the next button will be disabled.",type:"number"},nextButtonEnableTime:{description:"A timer (in ms) after which the next button will be enabled.",type:"number"},nextButtonLocation:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},recordAudio:{description:"Whether or not to record audio for a component. Only relevant if recordStudyAudio in the uiConfig is true. Defaults to false.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},responseDividers:{description:"Whether to show the response dividers. Defaults to false.",type:"boolean"},trainingAttempts:{description:"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.",type:"number"},type:{const:"questionnaire",type:"string"}},required:["response","type"],type:"object"},RadioResponse:{additionalProperties:!1,description:'The RadioResponse interface is used to define the properties of a radio response. Radios have only one allowable selection. RadioResponses render as a radio input with user specified options, and optionally left and right labels.\n\nExample: ```js { "id": "q-radio", "prompt": "Radio button example", "location": "aboveStimulus", "type": "radio", "options": ["Option 1", "Option 2"] } ```',properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},horizontal:{description:"Whether to render the radio buttons horizontally. Defaults to false, so they render horizontally.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},leftLabel:{description:"The left label of the radio group. Used in Likert scales for example",type:"string"},location:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},options:{description:"The options that are displayed as checkboxes, provided as an array of objects, with label and value fields.",items:{anyOf:[{$ref:"#/definitions/StringOption"},{type:"string"}]},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered. Defaults to true.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},rightLabel:{description:"The right label of the radio group. Used in Likert scales for example",type:"string"},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"radio",type:"string"},withDivider:{description:"Renders the response with a trailing divider.",type:"boolean"},withDontKnow:{description:`Renders the response with an option for "I don't know". This counts as a completed answer for the validation.`,type:"boolean"},withOther:{description:'Whether to render the radios with an "other" option.',type:"boolean"}},required:["id","options","prompt","type"],type:"object"},RandomInterruption:{additionalProperties:!1,description:'The RandomInterruption interface is used to define an interruption that will be shown randomly in the block.\n\nFor example, if you want to show a single interruption randomly in the block, you would set `"spacing"` to "random" and `"numInterruptions"` to 1. If you want to show 3 interruptions randomly in the block, you would set `"spacing"` to "random" and `"numInterruptions"` to 3.\n\nThe components property is an array of the components that will be inserted randomly in the block. These components should reference components in the StudyConfig.components section of the config.\n\nHere\'s an example of how to use the RandomInterruption:\n\n```js { "order": "fixed", "components": [ "component1", "component2", "component3", "component4", "component5", "component6" ], "interruptions": [ {   "spacing": "random",   "numInterruptions": 3,   "components": [     "interruption1",     "interruption2"   ] } ] } ```\n\nThe resulting sequence array could be:\n\n```js [ ["component1", "interruption1", "interruption2", "component2", "interruption1", "interruption2", "component3", "component4", "component5", "interruption1", "interruption2", "component6], ["component1", "interruption1", "interruption2", "component2", "interruption1", "interruption2", "component3", "component4", "interruption1", "interruption2", "component5", "component6], ["component1", "component2" "interruption1", "interruption2", "component3", "interruption1", "interruption2", "component4", "component5", "interruption1", "interruption2", "component6], ... ] ```',properties:{components:{description:"The components that are included in the interruption. These reference components in the StudyConfig.components section of the config.",items:{type:"string"},type:"array"},numInterruptions:{description:"The number of times the interruption will be randomly added",type:"number"},spacing:{const:"random",description:"If spacing is set to random, reVISit will add interruptions randomly. These interruptions will not ever be displayed as the first component in the block.",type:"string"}},required:["spacing","numInterruptions","components"],type:"object"},ReactComponent:{additionalProperties:!1,description:"The ReactComponent interface is used to define the properties of a react component. This component is used to render react code with certain parameters. These parameters can be used within your react code to render different things.\n\nUnlike other types of components, the path for a React component is relative to the `src/public/` folder. Similar to our standard assets, we suggest creating a folder named `src/public/{studyName}/assets` to house all of the React component assets for a particular study. Your React component which you link to in the path must be default exported from its file.\n\nReact components created this way have a generic prop type passed to the component on render, `<StimulusParams<T>>`, which has the following types.\n\n```ts { parameters: T; setAnswer: ({ status, provenanceGraph, answers }: { status: boolean, provenanceGraph?: TrrackedProvenance, answers: Record<string, any> }) => void } ```\n\nparameters is the same object passed in from the ReactComponent type below, allowing you to pass options in from the config to your component. setAnswer is a callback function allowing the creator of the ReactComponent to programmatically set the answer, as well as the provenance graph. This can be useful if you don't use the default answer interface, and instead have something more unique.\n\nSo, for example, if I had the following ReactComponent in my config ```js { type: 'react-component'; path: 'my_study/CoolComponent.tsx'; parameters: {  name: 'Zach';  age: 26; } } ```\n\nMy react component, CoolComponent.tsx, would exist in src/public/my_study/assets, and look something like this\n\n```ts export default function CoolComponent({ parameters, setAnswer }: StimulusParams<{name: string, age: number}>) { // render something } ```\n\nFor in depth examples, see the following studies, and their associated codebases. https://revisit.dev/study/demo-click-accuracy-test (https://github.com/revisit-studies/study/tree/v2.1.1/src/public/demo-click-accuracy-test/assets) https://revisit.dev/study/example-brush-interactions (https://github.com/revisit-studies/study/tree/v2.1.1/src/public/example-brush-interactions/assets)",properties:{allowFailedTraining:{description:"Controls whether the component should allow failed training. If not provided, the default is true.",type:"boolean"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},helpTextPathOverride:{description:"Optional override for the help text. If present, will override the default help text path set in the uiConfig.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonDisableTime:{description:"A timeout (in ms) after which the next button will be disabled.",type:"number"},nextButtonEnableTime:{description:"A timer (in ms) after which the next button will be enabled.",type:"number"},nextButtonLocation:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},path:{description:"The path to the react component. This should be a relative path from the src/public folder.",type:"string"},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},recordAudio:{description:"Whether or not to record audio for a component. Only relevant if recordStudyAudio in the uiConfig is true. Defaults to false.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},responseDividers:{description:"Whether to show the response dividers. Defaults to false.",type:"boolean"},trainingAttempts:{description:"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.",type:"number"},type:{const:"react-component",type:"string"}},required:["path","response","type"],type:"object"},ReactiveResponse:{additionalProperties:!1,description:'The ReactiveResponse interface is used to define the properties of a reactive response. ReactiveResponses render as a list, that is connected to a WebsiteComponent, VegaComponent, or ReactComponent. When data is sent from the components, it is displayed in the list.\n\n```js { "id": "reactiveResponse", "prompt": "Answer clicked in the stimulus", "location": "aboveStimulus", "type": "reactive" } ```',properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered. Defaults to true.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"reactive",type:"string"},withDivider:{description:"Renders the response with a trailing divider.",type:"boolean"},withDontKnow:{description:`Renders the response with an option for "I don't know". This counts as a completed answer for the validation.`,type:"boolean"}},required:["id","prompt","type"],type:"object"},RepeatedComponentBlockCondition:{additionalProperties:!1,description:`The RepeatedComponentBlockCondition interface is used to define a SkipCondition based on the number of correct or incorrect repeated components. You might use this if you need to check if an attention check was failed multiple times. This is similar to the [ComponentBlockCondition](../ComponentBlockCondition), but it only checks a specific repeated component.

Here's an example of how to use the RepeatedComponentBlockCondition:

\`\`\`js { ... "skip": [ {   "name": "attentionCheck",   "check": "repeatedComponent",   "condition": "numIncorrect",   "value": 2,   "to": "end" } ] ... } \`\`\`

In this example, when the number of incorrect responses to the repeated component with the name "attentionCheck" is two, the participant will be redirected to the end of the study. If the number of incorrect responses is less than two, the participant will continue to the next component in the sequence.`,properties:{check:{const:"repeatedComponent",description:"The check we'll perform.",type:"string"},condition:{description:"The condition to check.",enum:["numCorrect","numIncorrect"],type:"string"},name:{description:"The name of the repeated component to check (e.g. attentionCheck).",type:"string"},to:{description:"The id of the component or block to skip to",type:"string"},value:{description:"The number of correct or incorrect responses to check for.",type:"number"}},required:["name","check","condition","value","to"],type:"object"},Response:{anyOf:[{$ref:"#/definitions/NumericalResponse"},{$ref:"#/definitions/ShortTextResponse"},{$ref:"#/definitions/LongTextResponse"},{$ref:"#/definitions/LikertResponse"},{$ref:"#/definitions/DropdownResponse"},{$ref:"#/definitions/SliderResponse"},{$ref:"#/definitions/RadioResponse"},{$ref:"#/definitions/CheckboxResponse"},{$ref:"#/definitions/ReactiveResponse"},{$ref:"#/definitions/MatrixResponse"},{$ref:"#/definitions/ButtonsResponse"}]},ShortTextResponse:{additionalProperties:!1,description:'The ShortTextResponse interface is used to define the properties of a short text response. ShortTextResponses render as a text input that accepts any text and can optionally have a placeholder.\n\n```js { "id": "q-short-text", "prompt": "Short text example", "location": "aboveStimulus", "type": "shortText", "placeholder": "Enter your answer here" } ```',properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered. Defaults to true.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"shortText",type:"string"},withDivider:{description:"Renders the response with a trailing divider.",type:"boolean"},withDontKnow:{description:`Renders the response with an option for "I don't know". This counts as a completed answer for the validation.`,type:"boolean"}},required:["id","prompt","type"],type:"object"},SkipConditions:{description:`The SkipConditions interface is used to define skip conditions. This is used to skip to a different component/block based on the response to a component or based on the number of correct/incorrect responses in a block. Skip conditions work recursively: if you have a nested block, the parent blocks' skip conditions will be considered when computing the skip logic.

Skip conditions are evaluated in the order they are defined in the array. If a condition is met, the participant will be redirected to the component or block specified in the \`"to"\` property. If no conditions are met, the participant will continue to the next component in the sequence.

Skip conditions allow you to jump to a different component or block. If you intend to skip to a block, you should specify a block id in the sequence. If you intend to skip to a component, you should specify a component id. Skipping backwards is not supported. Skipping to a repeated component will skip to the first instance of the component after the component that triggered the skip.

Please see the interface definitions for more specific information on the different types of skip conditions.`,items:{anyOf:[{$ref:"#/definitions/IndividualComponentSingleResponseCondition"},{$ref:"#/definitions/IndividualComponentAllResponsesCondition"},{$ref:"#/definitions/ComponentBlockCondition"},{$ref:"#/definitions/RepeatedComponentBlockCondition"}]},type:"array"},SliderResponse:{additionalProperties:!1,description:'The SliderResponse interface is used to define the properties of a slider response. SliderResponses render as a slider input with user specified steps. For example, you could have steps of 0, 50, and 100.\n\nExample: ```js { "id": "q-slider", "prompt": "How are you feeling?", "location": "aboveStimulus", "type": "slider", "options": [  {    "label": "Bad",    "value": 0  },  {    "label": "OK",    "value": 50  },  {    "label": "Good",    "value": 100  } ] } ```',properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},options:{description:"This defines the steps in the slider and the extent of the slider as an array of objects that have a label and a value.",items:{$ref:"#/definitions/NumberOption"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered. Defaults to true.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},snap:{description:"Whether the slider should snap between values. Defaults to false. Slider snapping disables the label above the handle.",type:"boolean"},startingValue:{description:"The starting value of the slider. Defaults to the minimum value.",type:"number"},step:{description:"The step value of the slider. If not provided (and snap not enabled), the step value is calculated as the range of the slider divided by 100.",type:"number"},tlxStyle:{description:"Whether to render the slider with a NASA-tlx style. Defaults to false.",type:"boolean"},type:{const:"slider",type:"string"},withBar:{description:"Whether to render the slider with a bar to the left. Defaults to true.",type:"boolean"},withDivider:{description:"Renders the response with a trailing divider.",type:"boolean"},withDontKnow:{description:`Renders the response with an option for "I don't know". This counts as a completed answer for the validation.`,type:"boolean"}},required:["id","options","prompt","type"],type:"object"},StringOption:{additionalProperties:!1,description:"The StringOption interface is used to define the options for a dropdown, radio, buttons, or checkbox response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file.",properties:{label:{description:"The label displayed to participants.",type:"string"},separator:{description:"Separate this option from the previous options via divider",type:"boolean"},value:{description:"The value stored in the participant's data.",type:"string"}},required:["label","value"],type:"object"},StudyConfig:{additionalProperties:!1,description:'The StudyConfig interface is used to define the properties of a study configuration. This is a JSON object with four main components: the StudyMetadata, the UIConfig, the Components, and the Sequence. Below is the general template that should be followed when constructing a Study configuration file.\n\n```js { "$schema": "https://raw.githubusercontent.com/revisit-studies/study/v2.1.1/src/parser/StudyConfigSchema.json", "studyMetadata": {  ... }, "uiConfig": {  ... }, "components": {  ... }, "sequence": {  ... } } ```\n\n:::info For information about each of the individual pieces of the study configuration file, you can visit the documentation for each one individually. ::: <br/>\n\nThe `$schema` line is used to verify the schema. If you\'re using VSCode (or other similar IDEs), including this line will allow for autocomplete and helpful suggestions when writing the study configuration.',properties:{$schema:{description:"A required json schema property. This should point to the github link for the version of the schema you would like. The `$schema` line is used to verify the schema. If you're using VSCode (or other similar IDEs), including this line will allow for autocomplete and helpful suggestions when writing the study configuration. See examples for more information",type:"string"},baseComponents:{$ref:"#/definitions/BaseComponents",description:"The base components that are used in the study. These components can be used to template other components. See [BaseComponents](../../type-aliases/BaseComponents) for more information."},components:{additionalProperties:{anyOf:[{$ref:"#/definitions/IndividualComponent"},{$ref:"#/definitions/InheritedComponent"}]},description:"The components that are used in the study. They must be fully defined here with all properties. Some properties may be inherited from baseComponents.",type:"object"},importedLibraries:{description:"A list of libraries that are used in the study. This is used to import external libraries into the study. Library names are valid namespaces to be used later.",items:{type:"string"},type:"array"},sequence:{anyOf:[{$ref:"#/definitions/ComponentBlock"},{$ref:"#/definitions/DynamicBlock"}],description:"The order of the components in the study. This might include some randomness."},studyMetadata:{$ref:"#/definitions/StudyMetadata",description:"The metadata for the study. This is used to identify the study and version in the data file."},uiConfig:{$ref:"#/definitions/UIConfig",description:"The UI configuration for the study. This is used to configure the UI of the app."}},required:["$schema","studyMetadata","uiConfig","components","sequence"],type:"object"},StudyMetadata:{additionalProperties:!1,description:'The StudyMetadata is used to describe certain properties of a study. Some of this data is displayed on the landing page when running the app, such as the title and description. Below is an example of a StudyMetadata entry in your study configuration file:\n\n```js "studyMetadata" : { "title": "My New Study", "version": "pilot", "authors": [  "Jane Doe",  "John Doe" ], "date": "2024-04-01", "description": "This study is meant to test your ability.", "organizations": [  "The reVISit Team",  "The Other Team" ] } ```',properties:{authors:{description:"The authors of your study.",items:{type:"string"},type:"array"},date:{description:"The date of your study, may be useful for the researcher.",type:"string"},description:{description:"The description of your study, shown on the landing page.",type:"string"},organizations:{description:"The organizations that are associated with your study.",items:{type:"string"},type:"array"},title:{description:"The title of your study, shown on the landing page.",type:"string"},version:{description:"The version of your study. When you change a configuration file after a study has already been distributed to participants, you can change the version number so that the participants who see this new configuration file can be identified.",type:"string"}},required:["title","version","authors","date","description","organizations"],type:"object"},UIConfig:{additionalProperties:!1,description:'The UIConfig is used to configure the UI of the app. This includes the logo, contact email, and whether to show a progress bar. The UIConfig is also used to configure the sidebar, which can be used to display the task instructions and capture responses. Below is an example of how the UI Config would look in your study configuration (note, there are optional fields that are not shown here): ```js uiConfig:{ "contactEmail": "contact@revisit.dev", "helpTextPath": "<study-name>/assets/help.md", "logoPath": "<study-name>/assets/logo.jpg", "withProgressBar": true, "autoDownloadStudy": true "autoDownloadTime": 5000, "studyEndMsg": "Thank you for completing this study. You\'re the best!", "sidebar": true, "windowEventDebounceTime": 500, "urlParticipantIdParam": "PROLIFIC_ID", "numSequences": 500 } ``` In the above, the `<study-name>/assets/` path is referring to the path to your individual study assets. It is common practice to have your study directory contain an `assets` directory where all components and images relevant to your study reside. Note that this path is relative to the `public` folder of the repository - as is all other paths you define in reVISit (aside from React components whose paths are relative to `src/public`.)',properties:{autoDownloadStudy:{description:"Controls whether the study data is automatically downloaded at the end of the study.",type:"boolean"},autoDownloadTime:{description:"The time in milliseconds to wait before automatically downloading the study data.",type:"number"},contactEmail:{description:"The email address that used during the study if a participant clicks contact.",type:"string"},enumerateQuestions:{description:"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar.",type:"boolean"},helpTextPath:{description:"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported.",type:"string"},logoPath:{description:"The path to the logo image. This is displayed on the landing page and the header.",type:"string"},nextOnEnter:{description:"Whether enter key should move to the next question. Defaults to false.",type:"boolean"},numSequences:{description:"The number of sequences to generate for the study. This is used to generate the random sequences for the study. The default is 1000.",type:"number"},participantNameField:{description:"The default name field for a participant. Directs revisit to use the task and response id as a name in UI elements. For example, if you wanted the response 'prolificId' from the task 'introduction' to be the name, this field would be 'introduction.prolificId'",type:"string"},recordStudyAudio:{description:"Whether or not we want to utilize think-aloud features. If true, will record audio on all components unless deactivated on individual components. Defaults to false.",type:"boolean"},sidebar:{description:"Controls whether the left sidebar is rendered at all. Required to be true if your response's location is set to sidebar for any question.",type:"boolean"},sidebarWidth:{description:"The width of the left sidebar. Defaults to 300.",type:"number"},studyEndMsg:{description:"The message to display when the study ends.",type:"string"},timeoutReject:{description:"Whether to redirect a timed out participant to a rejection page. This only works for components where the `nextButtonDisableTime` field is set.",type:"boolean"},urlParticipantIdParam:{description:"If the participant ID is passed in the URL, this is the name of the querystring parameter that is used to capture the participant ID (e.g. PROLIFIC_ID). This will allow a user to continue a study on different devices and browsers.",type:"string"},windowEventDebounceTime:{description:"Debounce time in milliseconds for automatically tracked window events. Defaults to 100. E.g 100 here means 1000ms / 100ms = 10 times a second, 200 here means 1000ms / 200ms = 5 times per second",type:"number"},withProgressBar:{description:"Controls whether the progress bar is rendered in the study.",type:"boolean"}},required:["contactEmail","logoPath","withProgressBar","sidebar"],type:"object"},VegaComponent:{anyOf:[{$ref:"#/definitions/VegaComponentPath"},{$ref:"#/definitions/VegaComponentConfig"}]},VegaComponentConfig:{additionalProperties:!1,description:'The VegaComponentConfig interface is used to define the properties of a Vega Component. This component is used to render a Vega/Vega-Lite Component by adding Vega/Vega-Lite specs within the reVISit config itself.\n\nTo do this, would use the following snippet: ```js { "type": "vega", "config": { ... vega specs here ...}, }\n\nIIf you are using Vega, you can use signals with `revisitAnswer` to send the user\'s responses back to the reVISit. For example, you can use the following snippet in your Vega spec\'s signals section: ```js { "signals": [  {    "name": "revisitAnswer",    "value": {},    "on": [      {        "events": "rect:click",        "update": "{responseId: \'vegaDemoResponse1\', response: datum.category}"      }    ]  } ] } In this example, when a user clicks on a rectangle in the Vega chart, the `revisitAnswer` signal is updated with the responseId and response. ```',properties:{allowFailedTraining:{description:"Controls whether the component should allow failed training. If not provided, the default is true.",type:"boolean"},config:{description:"The vega or vega-lite configuration.",type:"object"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},helpTextPathOverride:{description:"Optional override for the help text. If present, will override the default help text path set in the uiConfig.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonDisableTime:{description:"A timeout (in ms) after which the next button will be disabled.",type:"number"},nextButtonEnableTime:{description:"A timer (in ms) after which the next button will be enabled.",type:"number"},nextButtonLocation:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},recordAudio:{description:"Whether or not to record audio for a component. Only relevant if recordStudyAudio in the uiConfig is true. Defaults to false.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},responseDividers:{description:"Whether to show the response dividers. Defaults to false.",type:"boolean"},trainingAttempts:{description:"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.",type:"number"},type:{const:"vega",type:"string"}},required:["config","response","type"],type:"object"},VegaComponentPath:{additionalProperties:!1,description:'The VegaComponentPath interface is used to define the properties of a Vega Component. This component is used to render a Vega/Vega-Lite Component with path pointing to your Vega/Vega-Lite specs file.\n\nFor example, to render a vega based stimuli with a path of `<study-name>/assets/vega.spec.json`, you would use the following snippet: ```js { "type": "vega", "path": "<study-name>/assets/vega.spec.json", } ```\n\nIf you are using Vega, you can use signals with `revisitAnswer` to send the user\'s responses back to the reVISit. For example, you can use the following snippet in your Vega spec file\'s signals section: ```js { "signals": [  {    "name": "revisitAnswer",    "value": {},    "on": [      {        "events": "rect:click",        "update": "{responseId: \'vegaDemoResponse1\', response: datum.category}"      }    ]  } ] } In this example, when a user clicks on a rectangle in the Vega chart, the `revisitAnswer` signal is updated with the responseId and response. This signal is then passed to reVISit as the participant\'s response. ```',properties:{allowFailedTraining:{description:"Controls whether the component should allow failed training. If not provided, the default is true.",type:"boolean"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},helpTextPathOverride:{description:"Optional override for the help text. If present, will override the default help text path set in the uiConfig.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonDisableTime:{description:"A timeout (in ms) after which the next button will be disabled.",type:"number"},nextButtonEnableTime:{description:"A timer (in ms) after which the next button will be enabled.",type:"number"},nextButtonLocation:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},path:{description:"The path to the vega file. This should be a relative path from the public folder.",type:"string"},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},recordAudio:{description:"Whether or not to record audio for a component. Only relevant if recordStudyAudio in the uiConfig is true. Defaults to false.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},responseDividers:{description:"Whether to show the response dividers. Defaults to false.",type:"boolean"},trainingAttempts:{description:"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.",type:"number"},type:{const:"vega",type:"string"}},required:["path","response","type"],type:"object"},VideoComponent:{additionalProperties:!1,description:'The VideoComponent interface is used to define the properties of a video component. This component is used to render a video with optional controls.\n\nMost often, video components will be used for trainings, and will have a `forceCompletion` field set to true. This will prevent the participant from moving on until the video has finished playing.\n\nAs such, the `forceCompletion` field is set to true by default, and the `withTimeline` field is set to false by default.\n\nFor example, to render a training video with a path of `<study-name>/assets/video.mp4`, you would use the following snippet: ```js {   "type": "video",   "path": "<study-name>/assets/video.mp4", } ```',properties:{allowFailedTraining:{description:"Controls whether the component should allow failed training. If not provided, the default is true.",type:"boolean"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},forceCompletion:{description:"Whether to force the video to play until the end. Defaults to true.",type:"boolean"},helpTextPathOverride:{description:"Optional override for the help text. If present, will override the default help text path set in the uiConfig.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonDisableTime:{description:"A timeout (in ms) after which the next button will be disabled.",type:"number"},nextButtonEnableTime:{description:"A timer (in ms) after which the next button will be enabled.",type:"number"},nextButtonLocation:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},path:{description:"The path to the video. This could be a relative path from the public folder or might be a url to an external website.",type:"string"},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},recordAudio:{description:"Whether or not to record audio for a component. Only relevant if recordStudyAudio in the uiConfig is true. Defaults to false.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},responseDividers:{description:"Whether to show the response dividers. Defaults to false.",type:"boolean"},trainingAttempts:{description:"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.",type:"number"},type:{const:"video",type:"string"},withTimeline:{description:"Whether to show the video timeline. Defaults to false.",type:"boolean"}},required:["path","response","type"],type:"object"},WebsiteComponent:{additionalProperties:!1,description:'The WebsiteComponent interface is used to define the properties of a website component. A WebsiteComponent is used to render an iframe with a website inside of it. This can be used to display an external website or an html file that is located in the public folder.\n\n```js { "type": "website", "path": "<study-name>/assets/website.html", } ```\n\nTo pass a data from the config to the website, you can use the `parameters` field as below:\n\n```js { "type": "website", "path": "<study-name>/website.html", "parameters": {  "barData": [0.32, 0.01, 1.2, 1.3, 0.82, 0.4, 0.3] }, "response": [  {    "id": "barChart",    "prompt": "Your selected answer:",    "location": "belowStimulus",    "type": "reactive"  } ] } ``` In the `website.html` file, by including `revisit-communicate.js`, you can use the `Revisit.onDataReceive` method to retrieve the data, and `Revisit.postAnswers` to send the user\'s responses back to the reVISit as shown in the example below:\n\n```html <script src="../../revisitUtilities/revisit-communicate.js"><\/script> <script> Revisit.onDataReceive((data) => {  const barData = data[\'barData\'];  ... });\n\n// Call out that \'barChart\' needs to match ID in \'response\' object Revisit.postAnswers({ barChart: userAnswer }); <\/script> ```\n\n If the html website implements Trrack library for provenance tracking, you can send the provenance graph back to reVISit by calling `Revisit.postProvenanceGraph` as shown in the example below. You need to call this each time the Trrack state is updated so that reVISit is kept aware of the changes in the provenance graph.\n\n```js const trrack = initializeTrrack({ initialState, registry });\n\n... Revisit.postProvenance(trrack.graph.backend); ```',properties:{allowFailedTraining:{description:"Controls whether the component should allow failed training. If not provided, the default is true.",type:"boolean"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},helpTextPathOverride:{description:"Optional override for the help text. If present, will override the default help text path set in the uiConfig.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonDisableTime:{description:"A timeout (in ms) after which the next button will be disabled.",type:"number"},nextButtonEnableTime:{description:"A timer (in ms) after which the next button will be enabled.",type:"number"},nextButtonLocation:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"},path:{description:"The path to the website. This should be a relative path from the public folder or could be an external website.",type:"string"},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},recordAudio:{description:"Whether or not to record audio for a component. Only relevant if recordStudyAudio in the uiConfig is true. Defaults to false.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},responseDividers:{description:"Whether to show the response dividers. Defaults to false.",type:"boolean"},trainingAttempts:{description:"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.",type:"number"},type:{const:"website",type:"string"}},required:["path","response","type"],type:"object"}},eJt={$ref:QQt,$schema:JQt,definitions:ZQt},tJt="#/definitions/GlobalConfig",nJt="http://json-schema.org/draft-07/schema#",rJt={GlobalConfig:{additionalProperties:!1,description:"The GlobalConfig is used to generate the list of available studies in the UI. This list is displayed on the landing page when running the app.",properties:{$schema:{description:"A required json schema property. This should point to the github link for the version of the schema you would like. See examples in the public folder for more information",type:"string"},configs:{additionalProperties:{additionalProperties:!1,description:"The key is used to identify the study config file. This key is used in the configList property.",properties:{path:{description:"The path to the study config file. This should be a relative path from the public folder.",type:"string"},test:{description:"Indicates whether the study is a test study. This is used to hide the study from the landing page.",type:"boolean"}},required:["path"],type:"object"},description:"A required property that specifies the options for the configList property.",type:"object"},configsList:{description:"A required property that is used to generate the list of available studies in the UI. This list is displayed on the landing page when running the app.",items:{type:"string"},type:"array"}},required:["$schema","configs","configsList"],type:"object"}},iJt={$ref:tJt,$schema:nJt,definitions:rJt},oJt="#/definitions/LibraryConfig",sJt="http://json-schema.org/draft-07/schema#",aJt={Answer:{additionalProperties:!1,description:`The Answer interface is used to define the properties of an answer. Answers are used to define the correct answer for a task. These are generally used in training tasks or if skip logic is required based on the answer.

Answers are used to defined correct answers for a task. These are generally used in training tasks or if skip logic is required based on the answer. The answer field is used to define the correct answer to the question. The acceptableLow and acceptableHigh fields are used to define a range of acceptable answers (these are currently only used for training). For example, if the correct answer is 5, and the acceptableLow is 4 and the acceptableHigh is 6, then any answer between 4 and 6 will be considered correct.

Here's an example of how to use the Answer interface to define the correct answer to a question:

\`\`\`js { "type": "markdown", "path": "<study-name>/assets/question.md", "response": [  {    "id": "response1",    "prompt": "What is 2 + 2?",    "location": "belowStimulus",    "type": "numerical"  } ] "correctAnswer": [{  "id": "response1",  "answer": 4 }] } \`\`\`

In this example, the correct answer to the question "What is 2 + 2?" is 4. If the participant answers 4, they will be considered correct. If they answer anything other than 4, they will be considered incorrect.`,properties:{acceptableHigh:{description:"The acceptable high value for the answer. This is used to define a range of acceptable answers.",type:"number"},acceptableLow:{description:"The acceptable low value for the answer. This is used to define a range of acceptable answers.",type:"number"},answer:{description:"The correct answer to the question."},id:{description:"The id of the answer. This is used to identify the answer in the data file.",type:"string"}},required:["id","answer"],type:"object"},BaseComponents:{additionalProperties:{additionalProperties:!1,properties:{allowFailedTraining:{description:"Controls whether the component should allow failed training. If not provided, the default is true.",type:"boolean"},config:{description:"The vega or vega-lite configuration.",type:"object"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},forceCompletion:{description:"Whether to force the video to play until the end. Defaults to true.",type:"boolean"},helpTextPathOverride:{description:"Optional override for the help text. If present, will override the default help text path set in the uiConfig.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonDisableTime:{description:"A timeout (in ms) after which the next button will be disabled.",type:"number"},nextButtonEnableTime:{description:"A timer (in ms) after which the next button will be enabled.",type:"number"},nextButtonLocation:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{anyOf:[{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"}],description:"The parameters that are passed to the react component. These can be used within your react component to render different things."},path:{anyOf:[{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},{description:"The path to the react component. This should be a relative path from the src/public folder.",type:"string"},{description:"The path to the image. This could be a relative path from the public folder or a url to an external image.",type:"string"},{description:"The path to the website. This should be a relative path from the public folder or could be an external website.",type:"string"},{description:"The path to the vega file. This should be a relative path from the public folder.",type:"string"},{description:"The path to the video. This could be a relative path from the public folder or might be a url to an external website.",type:"string"}],description:"The path to the markdown file. This should be a relative path from the public folder."},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},recordAudio:{description:"Whether or not to record audio for a component. Only relevant if recordStudyAudio in the uiConfig is true. Defaults to false.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},responseDividers:{description:"Whether to show the response dividers. Defaults to false.",type:"boolean"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},trainingAttempts:{description:"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.",type:"number"},type:{enum:["markdown","react-component","image","website","questionnaire","vega","video"],type:"string"},withTimeline:{description:"Whether to show the video timeline. Defaults to false.",type:"boolean"}},type:"object"},description:'The baseComponents is an optional set of components which can help template other components. For example, suppose you have a single HTML file that you want to display to the user several times. Instead of having the same component twice in the `components` list, you can have a single baseComponent with all the information that the two HTML components will share. A great example is showing the same HTML component but with two different questions;\n\n Using baseComponents:\n\n```js "baseComponents": { "my-image-component": { "instructionLocation": "sidebar", "nextButtonLocation": "sidebar", "path": "<study-name>/assets/my-image.jpg", "response": [   {     "id": "my-image-id",     "options": ["Europe", "Japan", "USA"],     "prompt": "Your Selected Answer:",     "type": "dropdown"   } ], "type": "image" } } ``` In the above code snippet, we have a single base component which holds the information about the type of component, the path to the image, and the response (which is a dropdown containing three choices). Any component which contains the `"baseComponent":"my-image-component"` key-value pair will inherit each of these properties. Thus, if we have three different questions which have the same choices and are concerning the same image, we can define our components like below: ```js "components": { "q1": { "baseComponent": "my-image-component", "description": "Choosing section with largest GDP", "instruction": "Which region has the largest GDP?" }, "q2": { "baseComponent": "my-image-component", "description": "Choosing section with lowest GDP", "instruction": "Which region has the lowest GDP?" }, "q3": { "baseComponent": "my-image-component", "description": "Choosing section with highest exports of Wheat", "instruction": "Which region had the most Wheat exported in 2022?" } } ```',type:"object"},ButtonsResponse:{additionalProperties:!1,description:'The ButtonsResponse interface is used to define the properties of a buttons response. ButtonsResponses render as a list of buttons that the participant can click. When a button is clicked, the value of the button is stored in the data file. Participants can cycle through the options using the arrow keys.\n\nExample: ```js {   "id": "buttonsResponse",   "type": "buttons",   "prompt": "Click a button",   "location": "belowStimulus",   "options": [     "Option 1",     "Option 2",     "Option 3"   ] } ``` In this example, the participant can click one of the buttons labeled "Option 1", "Option 2", or "Option 3".',properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},options:{items:{anyOf:[{$ref:"#/definitions/StringOption"},{type:"string"}]},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered. Defaults to true.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"buttons",type:"string"},withDivider:{description:"Renders the response with a trailing divider.",type:"boolean"},withDontKnow:{description:`Renders the response with an option for "I don't know". This counts as a completed answer for the validation.`,type:"boolean"}},required:["id","options","prompt","type"],type:"object"},CheckboxResponse:{additionalProperties:!1,description:'The CheckboxResponse interface is used to define the properties of a checkbox response. CheckboxResponses render as a checkbox input with user specified options.\n\n```js { "id": "q7", "prompt": "Checkbox example (not required)", "location": "aboveStimulus", "type": "checkbox", "options": ["Option 1", "Option 2", "Option 3"] } ```',properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},horizontal:{description:"Whether to render the checkboxes horizontally. Defaults to false, so they render horizontally.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},maxSelections:{description:"The maximum number of selections that are required.",type:"number"},minSelections:{description:"The minimum number of selections that are required.",type:"number"},options:{description:"The options that are displayed as checkboxes, provided as an array of objects, with label and value fields.",items:{anyOf:[{$ref:"#/definitions/StringOption"},{type:"string"}]},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered. Defaults to true.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"checkbox",type:"string"},withDivider:{description:"Renders the response with a trailing divider.",type:"boolean"},withDontKnow:{description:`Renders the response with an option for "I don't know". This counts as a completed answer for the validation.`,type:"boolean"},withOther:{description:'Whether to render the checkboxes with an "other" option.',type:"boolean"}},required:["id","options","prompt","type"],type:"object"},ComponentBlock:{additionalProperties:!1,description:'The ComponentBlock interface is used to define order properties within the sequence. This is used to define the order of components in a study and the skip logic. It supports random assignment of trials using a pure random assignment and a [latin square](https://en.wikipedia.org/wiki/Latin_square).\n\nThe pure random assignment is a random assignment with no guarantees. For example, one component _could_ show up in the first position 10 times in a row. However, this situation is unlikely.\n\nHere\'s a snippet that shows how to use the random order:\n\n```js { "order": "random", "components": [ "component1", "component2", "component3" ] } ``` This snippet would produce a random order of the components in the sequence array. For example, the resulting sequence array could be :\n\n```js [ ["component2", "component3", "component1"], ["component1", "component3", "component2"], ["component3", "component1", "component2"], ... ] ```\n\nThe latin square assignment is a random assignment with some guarantees. It ensures that each component is shown an equal number of times in each position. Here\'s a snippet that shows how to use the latin square order:\n\n```js { "order": "latinSquare", "components": [ "component1", "component2", "component3" ] } ```\n\nThis snippet would produce a latin square order of the components in the sequence array. Since the latin square guarantees that each component is shown an equal number of times in each position, the resulting sequence array could be:\n\n```js [ ["component1", "component2", "component3"], ["component2", "component3", "component1"], ["component3", "component1", "component2"], ... ] ```\n\nThe fixed assignment is a fixed assignment of components. This is used when you want to show the components in a specific order. Here\'s a snippet that shows how to use the fixed order:\n\n```js { "order": "fixed", "components": [ "component1", "component2", "component3" ] } ```\n\nThis snippet would produce a fixed order of the components in the sequence array. The resulting sequence array would be:\n\n```js [ ["component1", "component2", "component3"], ["component1", "component2", "component3"], ["component1", "component2", "component3"], ... ] ```\n\nIn addition to the order property, the ComponentBlock interface also includes the `"numSamples"` property. This is used to reduce the number of components shown to a participant. This property respects the order property and the guarantees provided by the order property. For example, if you have three components in the components array and you set `"numSamples"` to 2, you would randomize across the three components while only showing a participant two of them. Here\'s a snippet that shows how to use the numSamples property:\n\n```js { "order": "latinSquare", "components": [ "component1", "component2", "component3" ], "numSamples": 2 } ```\n\nThis snippet would produce a latin square order of the components in the sequence array. Since the latin square guarantees that each component is shown an equal number of times in each position, the resulting sequence array could be:\n\n```js [ ["component1", "component2"], ["component2", "component3"], ["component3", "component1"], ... ] ```\n\nThe interruptions property specifies an array of interruptions. These can be used for breaks or attention checks. Interruptions can be deterministic or random. Please see [InterruptionBlock](../../type-aliases/InterruptionBlock) for more specific information.\n\nThe skip property is used to define skip conditions. This is used to skip to a different component or block based on the response to a component or the number of correct or incorrect responses in a block. Please see [SkipConditions](../../type-aliases/SkipConditions) for more specific information.',properties:{components:{description:"The components that are included in the order.",items:{anyOf:[{type:"string"},{$ref:"#/definitions/ComponentBlock"},{$ref:"#/definitions/DynamicBlock"}]},type:"array"},id:{description:"The id of the block. This is used to identify the block in the SkipConditions and is only required if you want to refer to the whole block in the condition.to property.",type:"string"},interruptions:{description:"The interruptions property specifies an array of interruptions. These can be used for breaks or attention checks.",items:{$ref:"#/definitions/InterruptionBlock"},type:"array"},numSamples:{description:"The number of samples to use for the random assignments. This means you can randomize across 3 components while only showing a participant 2 at a time.",type:"number"},order:{description:"The type of order. This can be random (pure random), latinSquare (random with some guarantees), or fixed.",enum:["random","latinSquare","fixed"],type:"string"},skip:{$ref:"#/definitions/SkipConditions",description:"The skip conditions for the block."}},required:["order","components"],type:"object"},ComponentBlockCondition:{additionalProperties:!1,description:`The ComponentBlockCondition interface is used to define a SkipCondition based on the number of correct or incorrect components in a block. All answers on all components in the block are checked.

Answers are checked against the correct answers defined in the IndividualComponent's [CorrectAnswer](../Answer). If no correct answers are defined, the component is considered correct by default.

You might use this if a participant answers two questions in a block incorrectly. Here's an example of how to use the ComponentBlockCondition:

\`\`\`js { ... "skip": [ {   "check": "block",   "condition": "numIncorrect",   "value": 2,   "to": "end" } ] ... } \`\`\`

In this example, when the number of components with incorrect responses in the block is two, the participant will be redirected to the end of the study. If the number of incorrect responses is less than two, the participant will continue to the next component in the sequence.

When the condition is met, the participant will immediately be redirected to the component or block specified in the \`"to"\` property. If no conditions are met, the participant will continue to the next component in the sequence.`,properties:{check:{const:"block",description:"The check we'll perform.",type:"string"},condition:{description:"The condition to check.",enum:["numCorrect","numIncorrect"],type:"string"},to:{description:"The id of the component or block to skip to",type:"string"},value:{description:"The number of correct or incorrect responses to check for.",type:"number"}},required:["check","condition","value","to"],type:"object"},ConfigResponseBlockLocation:{enum:["sidebar","aboveStimulus","belowStimulus"],type:"string"},DeterministicInterruption:{additionalProperties:!1,description:`The DeterministicInterruption interface is used to define an interruption that will be shown at a specific location in the block.

For example, if you want to show an interruption after the second component in the block, you would set firstLocation to 2. If you want to show an interruption after every 3 components, you would set spacing to 3. If you want to show an interruption after the second component and then every 3 components, you would set firstLocation to 2 and spacing to 3.

The components property is an array of the components that will be inserted at the location specified by firstLocation and spacing. These components should reference components in the StudyConfig.components section of the config.

Here's an example of how to use the DeterministicInterruption:

\`\`\`js { "order": "fixed", "components": [ "component1", "component2", "component3", "component4", "component5", "component6" ], "interruptions": [ {   "firstLocation": 2,   "spacing": 3,   "components": [     "interruption1",     "interruption2"   ] } ] } \`\`\`

The resulting sequence array could be:

\`\`\`js [ ["component1", "component2", "interruption1", "component3", "component4", "component5", "interruption2", "component6"], ["component1", "component2", "interruption1", "component3", "component4", "component5", "interruption2", "component6"], ["component1", "component2", "interruption1", "component3", "component4", "component5", "interruption2", "component6"], ... ] \`\`\``,properties:{components:{description:"The components that are included in the interruption. These reference components in the StudyConfig.components section of the config.",items:{type:"string"},type:"array"},firstLocation:{description:"The Location of the first instance of the interruption. If this is set to 2, the interruption will be shown after the second component (inserted at index 2).",type:"number"},spacing:{description:"The number of components between breaks.",type:"number"}},required:["firstLocation","spacing","components"],type:"object"},DropdownResponse:{additionalProperties:!1,description:'The DropdownResponse interface is used to define the properties of a dropdown response. DropdownResponses render as a select input with user specified options.\n\nExample: ```js { "id": "q-color", "prompt": "What is your favorite color?", "location": "aboveStimulus", "type": "dropdown", "placeholder": "Please choose your favorite color", "options": ["Red", "Blue"] } ```',properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},options:{description:"The options that are displayed in the dropdown.",items:{anyOf:[{$ref:"#/definitions/StringOption"},{type:"string"}]},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered. Defaults to true.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"dropdown",type:"string"},withDivider:{description:"Renders the response with a trailing divider.",type:"boolean"},withDontKnow:{description:`Renders the response with an option for "I don't know". This counts as a completed answer for the validation.`,type:"boolean"}},required:["id","options","prompt","type"],type:"object"},DynamicBlock:{additionalProperties:!1,description:`The DynamicBlock interface is used to define a block where displayed components are controlled by a function. This is useful when you want to generate the sequence based on answers to previous questions or other factors.

The functionPath property is a path to the function that generates the components. This should be a relative path from the src/public folder.

Here's an example of how to use the DynamicBlock:

\`\`\`js {   "id": "funcBlock",   "order": "dynamic",   "functionPath": "<study-name>/assets/function.js",   "parameters": {     "param1": "value1",     "param2": "value2"   } } \`\`\``,properties:{functionPath:{description:"The path to the function that generates the components. This should be a relative path from the src/public folder.",type:"string"},id:{description:"The id of the block. This is used to identify the block in the SkipConditions and is only required if you want to refer to the whole block in the condition.to property.",type:"string"},order:{const:"dynamic",description:"The type of order. This can be random (pure random), latinSquare (random with some guarantees), or fixed.",type:"string"},parameters:{additionalProperties:{},description:"The parameters that are passed to the function. These can be used within your function to render different things.",type:"object"}},required:["id","order","functionPath"],type:"object"},ImageComponent:{additionalProperties:!1,description:'The ImageComponent interface is used to define the properties of an image component. This component is used to render an image with optional styling.\n\nFor example, to render an image with a path of `path/to/study/assets/image.jpg` and a max width of 50%, you would use the following snippet: ```js { "type": "image", "path": "<study-name>/assets/image.jpg", "style": { "maxWidth": "50%" } } ```',properties:{allowFailedTraining:{description:"Controls whether the component should allow failed training. If not provided, the default is true.",type:"boolean"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},helpTextPathOverride:{description:"Optional override for the help text. If present, will override the default help text path set in the uiConfig.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonDisableTime:{description:"A timeout (in ms) after which the next button will be disabled.",type:"number"},nextButtonEnableTime:{description:"A timer (in ms) after which the next button will be enabled.",type:"number"},nextButtonLocation:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},path:{description:"The path to the image. This could be a relative path from the public folder or a url to an external image.",type:"string"},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},recordAudio:{description:"Whether or not to record audio for a component. Only relevant if recordStudyAudio in the uiConfig is true. Defaults to false.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},responseDividers:{description:"Whether to show the response dividers. Defaults to false.",type:"boolean"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},trainingAttempts:{description:"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.",type:"number"},type:{const:"image",type:"string"}},required:["path","response","type"],type:"object"},IndividualComponent:{anyOf:[{$ref:"#/definitions/MarkdownComponent"},{$ref:"#/definitions/ReactComponent"},{$ref:"#/definitions/ImageComponent"},{$ref:"#/definitions/WebsiteComponent"},{$ref:"#/definitions/QuestionnaireComponent"},{$ref:"#/definitions/VegaComponent"},{$ref:"#/definitions/VideoComponent"}]},IndividualComponentAllResponsesCondition:{additionalProperties:!1,description:`The IndividualComponentAllResponsesCondition interface is used to define a SkipCondition based on all answers to a specific component. The skip logic will be checked for every component in the block that has the specified name.

:::info

If you need to check all instances of a repeated component, you should use the RepeatedComponentBlockCondition.

:::


Here's an example of how to use the IndividualComponentAllResponsesCondition:

\`\`\`js { ... "skip": [ {   "name": "attentionCheck",   "check": "responses",   "to": "end" } ] ... } \`\`\`

In this example, if all responses to the component with the ID "attentionCheck" are correct, the participant will be redirected to the end of the study. If any response is incorrect, the participant will continue to the next component in the sequence.`,properties:{check:{const:"responses",description:"The check we'll perform.",type:"string"},name:{description:"The name of the component to check.",type:"string"},to:{description:"The id of the component or block to skip to",type:"string"}},required:["name","check","to"],type:"object"},IndividualComponentSingleResponseCondition:{additionalProperties:!1,description:`The IndividualComponentSingleResponseCondition interface is used to define a SkipCondition based on a single answer to a specific component. The skip logic will be checked for every component in the block that has the specified name.

:::info

If you need to check all instances of a repeated component, you should use the RepeatedComponentBlockCondition.

:::

For example, if you want to skip to a different component based on a response to a specific component, you would use the IndividualComponentSingleResponseCondition. Here's an example of how to use the IndividualComponentSingleResponseCondition:

\`\`\`js { ... "skip": [ {   "name": "attentionCheck",   "check": "response",   "responseId": "attentionCheckResponse",   "value": "the right answer",   "comparison": "equal",   "to": "end" } ] ... } \`\`\`

In this example, we assign our skip logic to the component whose ID is "attentionCheck". If the answer given to the response "attentionCheckResponse" is equal to "the right answer", then the user will be redirected to the end of the study. If the response is _not_ equal to "the right answer", then the participant will continue to the next component in the sequence.`,properties:{check:{const:"response",description:"The check we'll perform.",type:"string"},comparison:{description:"The comparison to use.",enum:["equal","notEqual"],type:"string"},name:{description:"The name of the component to check.",type:"string"},responseId:{description:"The response id to check.",type:"string"},to:{description:"The id of the component or block to skip to",type:"string"},value:{description:"The value to check.",type:["string","number"]}},required:["name","check","responseId","value","comparison","to"],type:"object"},InheritedComponent:{additionalProperties:!1,description:"An InheritedComponent is a component that inherits properties from a baseComponent. This is used to avoid repeating properties in components. This also means that components in the baseComponents object can be partially defined, while components in the components object can inherit from them and must be fully defined and include all properties (after potentially merging with a base component).",properties:{allowFailedTraining:{description:"Controls whether the component should allow failed training. If not provided, the default is true.",type:"boolean"},baseComponent:{type:"string"},config:{description:"The vega or vega-lite configuration.",type:"object"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},forceCompletion:{description:"Whether to force the video to play until the end. Defaults to true.",type:"boolean"},helpTextPathOverride:{description:"Optional override for the help text. If present, will override the default help text path set in the uiConfig.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonDisableTime:{description:"A timeout (in ms) after which the next button will be disabled.",type:"number"},nextButtonEnableTime:{description:"A timer (in ms) after which the next button will be enabled.",type:"number"},nextButtonLocation:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{anyOf:[{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"}],description:"The parameters that are passed to the react component. These can be used within your react component to render different things."},path:{anyOf:[{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},{description:"The path to the react component. This should be a relative path from the src/public folder.",type:"string"},{description:"The path to the image. This could be a relative path from the public folder or a url to an external image.",type:"string"},{description:"The path to the website. This should be a relative path from the public folder or could be an external website.",type:"string"},{description:"The path to the vega file. This should be a relative path from the public folder.",type:"string"},{description:"The path to the video. This could be a relative path from the public folder or might be a url to an external website.",type:"string"}],description:"The path to the markdown file. This should be a relative path from the public folder."},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},recordAudio:{description:"Whether or not to record audio for a component. Only relevant if recordStudyAudio in the uiConfig is true. Defaults to false.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},responseDividers:{description:"Whether to show the response dividers. Defaults to false.",type:"boolean"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},trainingAttempts:{description:"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.",type:"number"},type:{enum:["markdown","react-component","image","website","questionnaire","vega","video"],type:"string"},withTimeline:{description:"Whether to show the video timeline. Defaults to false.",type:"boolean"}},required:["baseComponent"],type:"object"},InterruptionBlock:{anyOf:[{$ref:"#/definitions/DeterministicInterruption"},{$ref:"#/definitions/RandomInterruption"}],description:"The InterruptionBlock interface is used to define interruptions in a block. These can be used for breaks or attention checks. Interruptions can be deterministic or random."},LibraryConfig:{additionalProperties:!1,description:'LibraryConfig is used to define the properties of a library configuration. This is a JSON object with three main components: baseComponents, components, and the sequences. Libraries are useful for defining components and sequences of these components that are to be reused across multiple studies. We (the reVISit team) provide several libraries that can be used in your study configurations. Check the public/libraries folder in the reVISit-studies repository for available libraries. We also plan to accept community contributions for libraries. If you have a library that you think would be useful for others, please reach out to us. We would love to include it in our repository.\n\nBelow is the general template that should be followed when constructing a Library configuration file.\n\n```js {  "$schema": "https://raw.githubusercontent.com/revisit-studies/study/v2.1.1/src/parser/LibraryConfigSchema.json",  "baseComponents": {    // BaseComponents here are defined exactly as is in the StudyConfig  },  "components": {    // Components here are defined exactly as is in the StudyConfig  },  "sequences": {   // Sequences here are defined as "key": "value" pairs where the key is the name of the sequence and the value is a ComponentBlock, just like in the StudyConfig  } } ```',properties:{$schema:{description:"A required json schema property. This should point to the github link for the version of the schema you would like. The `$schema` line is used to verify the schema. If you're using VSCode (or other similar IDEs), including this line will allow for autocomplete and helpful suggestions when writing the study configuration. See examples for more information",type:"string"},baseComponents:{$ref:"#/definitions/BaseComponents",description:"The base components that are used in the study. These components can be used to template other components. See [BaseComponents](../../type-aliases/BaseComponents) for more information."},components:{additionalProperties:{anyOf:[{$ref:"#/definitions/IndividualComponent"},{$ref:"#/definitions/InheritedComponent"}]},description:"The components that are used in the study. They must be fully defined here with all properties. Some properties may be inherited from baseComponents.",type:"object"},description:{description:"A description of the library.",type:"string"},doi:{description:"The DOI of the paper where the content of the library is based on.",type:"string"},externalLink:{description:"The external link to the paper/website where the content of the library is based on.",type:"string"},reference:{description:"The reference to the paper where the content of the library is based on.",type:"string"},sequences:{additionalProperties:{anyOf:[{$ref:"#/definitions/ComponentBlock"},{$ref:"#/definitions/DynamicBlock"}],description:"The order of the components in the study. This might include some randomness."},description:"The order of the components in the study. This might include some randomness.",type:"object"}},required:["$schema","description","components","sequences"],type:"object"},LikertResponse:{additionalProperties:!1,description:`The LikertResponse interface is used to define the properties of a likert response. LikertResponses render as radio buttons with a user specified number of options, which can be controlled through the numItems. For example, numItems: 5 will render 5 radio buttons, and numItems: 7 will render 7 radio buttons. LikertResponses can also have a description, and left and right labels. The left and right labels are used to label the left and right ends of the likert scale with values such as 'Strongly Disagree' and 'Strongly Agree'.

Example for a five-point Likert Scale:

\`\`\`js { "id": "q-satisfaction", "prompt": "Rate your satisfaction from 1 (not enjoyable) to 5 (very enjoyable).", "location": "aboveStimulus", "type": "likert", "leftLabel": "Not Enjoyable", "rightLabel": "Very Enjoyable", "numItems": 5 } \`\`\``,properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},leftLabel:{description:"The left label of the likert scale. E.g Strongly Disagree",type:"string"},location:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},numItems:{description:"The number of options to render.",type:"number"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered. Defaults to true.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},rightLabel:{description:"The right label of the likert scale. E.g Strongly Agree",type:"string"},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"likert",type:"string"},withDivider:{description:"Renders the response with a trailing divider.",type:"boolean"},withDontKnow:{description:`Renders the response with an option for "I don't know". This counts as a completed answer for the validation.`,type:"boolean"}},required:["id","numItems","prompt","type"],type:"object"},LongTextResponse:{additionalProperties:!1,description:'The LongTextResponse interface is used to define the properties of a long text response. LongTextResponses render as a text area that accepts any text and can optionally have a placeholder. ```js { "id": "q-name", "prompt": "What is your first name?", "location": "aboveStimulus", "type": "longText", "placeholder": "Please enter your first name" } ```',properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered. Defaults to true.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"longText",type:"string"},withDivider:{description:"Renders the response with a trailing divider.",type:"boolean"},withDontKnow:{description:`Renders the response with an option for "I don't know". This counts as a completed answer for the validation.`,type:"boolean"}},required:["id","prompt","type"],type:"object"},MarkdownComponent:{additionalProperties:!1,description:'The MarkdownComponent interface is used to define the properties of a markdown component. The components can be used to render many different things, such as consent forms, instructions, and debriefs. Additionally, you can use the markdown component to render images, videos, and other media, with supporting text. Markdown components can have responses (e.g. in a consent form), or no responses (e.g. in a help text file). Here\'s an example with no responses for a simple help text file:\n\n```js { "type": "markdown", "path": "<study-name>/assets/help.md", "response": [] } ```',properties:{allowFailedTraining:{description:"Controls whether the component should allow failed training. If not provided, the default is true.",type:"boolean"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},helpTextPathOverride:{description:"Optional override for the help text. If present, will override the default help text path set in the uiConfig.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonDisableTime:{description:"A timeout (in ms) after which the next button will be disabled.",type:"number"},nextButtonEnableTime:{description:"A timer (in ms) after which the next button will be enabled.",type:"number"},nextButtonLocation:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},path:{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},recordAudio:{description:"Whether or not to record audio for a component. Only relevant if recordStudyAudio in the uiConfig is true. Defaults to false.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},responseDividers:{description:"Whether to show the response dividers. Defaults to false.",type:"boolean"},trainingAttempts:{description:"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.",type:"number"},type:{const:"markdown",type:"string"}},required:["path","response","type"],type:"object"},MatrixResponse:{additionalProperties:!1,description:`The MatrixResponse interface is used to define the properties of a matrix radio or matrix checkbox response. Question options are rendered as rows of the matrix, each row containing its own radio/checkbox group. Answer options are rendered as column headers of the matrix. These can be customized by passing in the custom strings into the answer options. Alternatively, \`answerOptions\` can be set to one of the following custom strings: 'satisfaction5','satisfaction7', 'likely5', 'likely7'. This will automatically generate the appropriate headers for the matrix.

Example for a 5-scale satisfaction matrix with three questions:

\`\`\`js { "id": "multi-satisfaction", "prompt": "Rate your satisfaction from 1 (not enjoyable) to 5 (very enjoyable) for the following items.", "location": "aboveStimulus", "type": "matrix-radio", "answerOptions": "satisfaction5", "questionOptions": [  "The tool we created",  "The technique we developed",  "The authors of the tools" ] } \`\`\`

Here's an example using custom columns (answerOptions):

\`\`\`js { "id": "multi-custom", "prompt": "Which categories do the following items belong to?", "location": "aboveStimulus", "type": "matrix-checkbox", "answerOptions": [  "Has Legs",  "Has Wings",  "Can Swim" ], "questionOptions": [  "Dog",  "Snake",  "Eagle",  "Salmon",  "Platypus" ]

} \`\`\``,properties:{answerOptions:{anyOf:[{items:{anyOf:[{type:"string"},{$ref:"#/definitions/StringOption"}]},type:"array"},{const:"likely5",type:"string"},{const:"likely7",type:"string"},{const:"satisfaction5",type:"string"},{const:"satisfaction7",type:"string"}],description:"The answer options (columns). We provide some shortcuts for a likelihood scale (ranging from highly unlikely to highly likely) and a satisfaction scale (ranging from highly unsatisfied to highly satisfied) with either 5 or 7 options to choose from."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},questionOptions:{description:"The question options (rows) are the prompts for each response you'd like to record.",items:{type:"string"},type:"array"},required:{description:"Controls whether the response is required to be answered. Defaults to true.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{enum:["matrix-radio","matrix-checkbox"],type:"string"},withDivider:{description:"Renders the response with a trailing divider.",type:"boolean"},withDontKnow:{description:`Renders the response with an option for "I don't know". This counts as a completed answer for the validation.`,type:"boolean"}},required:["answerOptions","id","prompt","questionOptions","type"],type:"object"},NumberOption:{additionalProperties:!1,description:"The NumberOption interface is used to define the options for a slider response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file.",properties:{label:{description:"The label displayed to participants.",type:"string"},value:{description:"The value stored in the participant's data.",type:"number"}},required:["label","value"],type:"object"},NumericalResponse:{additionalProperties:!1,description:'The NumericalResponse interface is used to define the properties of a numerical response. NumericalResponses render as a text input that only accepts numbers, and can optionally have a min and max value, or a placeholder.\n\nExample: ```js { "id": "q-numerical", "prompt": "Numerical example", "location": "aboveStimulus", "type": "numerical", "placeholder": "Enter your age, range from 0 - 120", "max": 120, "min": 0 } ```',properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},max:{description:"The maximum value that is accepted in the input.",type:"number"},min:{description:"The minimum value that is accepted in the input.",type:"number"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered. Defaults to true.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"numerical",type:"string"},withDivider:{description:"Renders the response with a trailing divider.",type:"boolean"},withDontKnow:{description:`Renders the response with an option for "I don't know". This counts as a completed answer for the validation.`,type:"boolean"}},required:["id","prompt","type"],type:"object"},QuestionnaireComponent:{additionalProperties:!1,description:'A QuestionnaireComponent is used to render simple questions that require a response. The main use case of this component type is to ask participants questions when you don\'t need to render a stimulus. Please note, that even though we\'re not using a stimulus, the responses still require a `location`. For example this could be used to collect demographic information from a participant using the following snippet:\n\n```js { "type": "questionnaire", "response": [  {    "id": "gender",    "prompt": "Gender:",    "location": "belowStimulus",    "type": "checkbox",    "options": ["Man", "Woman", "Genderqueer", "Third-gender", ...]  } ] } ```',properties:{allowFailedTraining:{description:"Controls whether the component should allow failed training. If not provided, the default is true.",type:"boolean"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},helpTextPathOverride:{description:"Optional override for the help text. If present, will override the default help text path set in the uiConfig.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonDisableTime:{description:"A timeout (in ms) after which the next button will be disabled.",type:"number"},nextButtonEnableTime:{description:"A timer (in ms) after which the next button will be enabled.",type:"number"},nextButtonLocation:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},recordAudio:{description:"Whether or not to record audio for a component. Only relevant if recordStudyAudio in the uiConfig is true. Defaults to false.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},responseDividers:{description:"Whether to show the response dividers. Defaults to false.",type:"boolean"},trainingAttempts:{description:"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.",type:"number"},type:{const:"questionnaire",type:"string"}},required:["response","type"],type:"object"},RadioResponse:{additionalProperties:!1,description:'The RadioResponse interface is used to define the properties of a radio response. Radios have only one allowable selection. RadioResponses render as a radio input with user specified options, and optionally left and right labels.\n\nExample: ```js { "id": "q-radio", "prompt": "Radio button example", "location": "aboveStimulus", "type": "radio", "options": ["Option 1", "Option 2"] } ```',properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},horizontal:{description:"Whether to render the radio buttons horizontally. Defaults to false, so they render horizontally.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},leftLabel:{description:"The left label of the radio group. Used in Likert scales for example",type:"string"},location:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},options:{description:"The options that are displayed as checkboxes, provided as an array of objects, with label and value fields.",items:{anyOf:[{$ref:"#/definitions/StringOption"},{type:"string"}]},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered. Defaults to true.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},rightLabel:{description:"The right label of the radio group. Used in Likert scales for example",type:"string"},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"radio",type:"string"},withDivider:{description:"Renders the response with a trailing divider.",type:"boolean"},withDontKnow:{description:`Renders the response with an option for "I don't know". This counts as a completed answer for the validation.`,type:"boolean"},withOther:{description:'Whether to render the radios with an "other" option.',type:"boolean"}},required:["id","options","prompt","type"],type:"object"},RandomInterruption:{additionalProperties:!1,description:'The RandomInterruption interface is used to define an interruption that will be shown randomly in the block.\n\nFor example, if you want to show a single interruption randomly in the block, you would set `"spacing"` to "random" and `"numInterruptions"` to 1. If you want to show 3 interruptions randomly in the block, you would set `"spacing"` to "random" and `"numInterruptions"` to 3.\n\nThe components property is an array of the components that will be inserted randomly in the block. These components should reference components in the StudyConfig.components section of the config.\n\nHere\'s an example of how to use the RandomInterruption:\n\n```js { "order": "fixed", "components": [ "component1", "component2", "component3", "component4", "component5", "component6" ], "interruptions": [ {   "spacing": "random",   "numInterruptions": 3,   "components": [     "interruption1",     "interruption2"   ] } ] } ```\n\nThe resulting sequence array could be:\n\n```js [ ["component1", "interruption1", "interruption2", "component2", "interruption1", "interruption2", "component3", "component4", "component5", "interruption1", "interruption2", "component6], ["component1", "interruption1", "interruption2", "component2", "interruption1", "interruption2", "component3", "component4", "interruption1", "interruption2", "component5", "component6], ["component1", "component2" "interruption1", "interruption2", "component3", "interruption1", "interruption2", "component4", "component5", "interruption1", "interruption2", "component6], ... ] ```',properties:{components:{description:"The components that are included in the interruption. These reference components in the StudyConfig.components section of the config.",items:{type:"string"},type:"array"},numInterruptions:{description:"The number of times the interruption will be randomly added",type:"number"},spacing:{const:"random",description:"If spacing is set to random, reVISit will add interruptions randomly. These interruptions will not ever be displayed as the first component in the block.",type:"string"}},required:["spacing","numInterruptions","components"],type:"object"},ReactComponent:{additionalProperties:!1,description:"The ReactComponent interface is used to define the properties of a react component. This component is used to render react code with certain parameters. These parameters can be used within your react code to render different things.\n\nUnlike other types of components, the path for a React component is relative to the `src/public/` folder. Similar to our standard assets, we suggest creating a folder named `src/public/{studyName}/assets` to house all of the React component assets for a particular study. Your React component which you link to in the path must be default exported from its file.\n\nReact components created this way have a generic prop type passed to the component on render, `<StimulusParams<T>>`, which has the following types.\n\n```ts { parameters: T; setAnswer: ({ status, provenanceGraph, answers }: { status: boolean, provenanceGraph?: TrrackedProvenance, answers: Record<string, any> }) => void } ```\n\nparameters is the same object passed in from the ReactComponent type below, allowing you to pass options in from the config to your component. setAnswer is a callback function allowing the creator of the ReactComponent to programmatically set the answer, as well as the provenance graph. This can be useful if you don't use the default answer interface, and instead have something more unique.\n\nSo, for example, if I had the following ReactComponent in my config ```js { type: 'react-component'; path: 'my_study/CoolComponent.tsx'; parameters: {  name: 'Zach';  age: 26; } } ```\n\nMy react component, CoolComponent.tsx, would exist in src/public/my_study/assets, and look something like this\n\n```ts export default function CoolComponent({ parameters, setAnswer }: StimulusParams<{name: string, age: number}>) { // render something } ```\n\nFor in depth examples, see the following studies, and their associated codebases. https://revisit.dev/study/demo-click-accuracy-test (https://github.com/revisit-studies/study/tree/v2.1.1/src/public/demo-click-accuracy-test/assets) https://revisit.dev/study/example-brush-interactions (https://github.com/revisit-studies/study/tree/v2.1.1/src/public/example-brush-interactions/assets)",properties:{allowFailedTraining:{description:"Controls whether the component should allow failed training. If not provided, the default is true.",type:"boolean"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},helpTextPathOverride:{description:"Optional override for the help text. If present, will override the default help text path set in the uiConfig.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonDisableTime:{description:"A timeout (in ms) after which the next button will be disabled.",type:"number"},nextButtonEnableTime:{description:"A timer (in ms) after which the next button will be enabled.",type:"number"},nextButtonLocation:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},path:{description:"The path to the react component. This should be a relative path from the src/public folder.",type:"string"},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},recordAudio:{description:"Whether or not to record audio for a component. Only relevant if recordStudyAudio in the uiConfig is true. Defaults to false.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},responseDividers:{description:"Whether to show the response dividers. Defaults to false.",type:"boolean"},trainingAttempts:{description:"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.",type:"number"},type:{const:"react-component",type:"string"}},required:["path","response","type"],type:"object"},ReactiveResponse:{additionalProperties:!1,description:'The ReactiveResponse interface is used to define the properties of a reactive response. ReactiveResponses render as a list, that is connected to a WebsiteComponent, VegaComponent, or ReactComponent. When data is sent from the components, it is displayed in the list.\n\n```js { "id": "reactiveResponse", "prompt": "Answer clicked in the stimulus", "location": "aboveStimulus", "type": "reactive" } ```',properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered. Defaults to true.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"reactive",type:"string"},withDivider:{description:"Renders the response with a trailing divider.",type:"boolean"},withDontKnow:{description:`Renders the response with an option for "I don't know". This counts as a completed answer for the validation.`,type:"boolean"}},required:["id","prompt","type"],type:"object"},RepeatedComponentBlockCondition:{additionalProperties:!1,description:`The RepeatedComponentBlockCondition interface is used to define a SkipCondition based on the number of correct or incorrect repeated components. You might use this if you need to check if an attention check was failed multiple times. This is similar to the [ComponentBlockCondition](../ComponentBlockCondition), but it only checks a specific repeated component.

Here's an example of how to use the RepeatedComponentBlockCondition:

\`\`\`js { ... "skip": [ {   "name": "attentionCheck",   "check": "repeatedComponent",   "condition": "numIncorrect",   "value": 2,   "to": "end" } ] ... } \`\`\`

In this example, when the number of incorrect responses to the repeated component with the name "attentionCheck" is two, the participant will be redirected to the end of the study. If the number of incorrect responses is less than two, the participant will continue to the next component in the sequence.`,properties:{check:{const:"repeatedComponent",description:"The check we'll perform.",type:"string"},condition:{description:"The condition to check.",enum:["numCorrect","numIncorrect"],type:"string"},name:{description:"The name of the repeated component to check (e.g. attentionCheck).",type:"string"},to:{description:"The id of the component or block to skip to",type:"string"},value:{description:"The number of correct or incorrect responses to check for.",type:"number"}},required:["name","check","condition","value","to"],type:"object"},Response:{anyOf:[{$ref:"#/definitions/NumericalResponse"},{$ref:"#/definitions/ShortTextResponse"},{$ref:"#/definitions/LongTextResponse"},{$ref:"#/definitions/LikertResponse"},{$ref:"#/definitions/DropdownResponse"},{$ref:"#/definitions/SliderResponse"},{$ref:"#/definitions/RadioResponse"},{$ref:"#/definitions/CheckboxResponse"},{$ref:"#/definitions/ReactiveResponse"},{$ref:"#/definitions/MatrixResponse"},{$ref:"#/definitions/ButtonsResponse"}]},ShortTextResponse:{additionalProperties:!1,description:'The ShortTextResponse interface is used to define the properties of a short text response. ShortTextResponses render as a text input that accepts any text and can optionally have a placeholder.\n\n```js { "id": "q-short-text", "prompt": "Short text example", "location": "aboveStimulus", "type": "shortText", "placeholder": "Enter your answer here" } ```',properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered. Defaults to true.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"shortText",type:"string"},withDivider:{description:"Renders the response with a trailing divider.",type:"boolean"},withDontKnow:{description:`Renders the response with an option for "I don't know". This counts as a completed answer for the validation.`,type:"boolean"}},required:["id","prompt","type"],type:"object"},SkipConditions:{description:`The SkipConditions interface is used to define skip conditions. This is used to skip to a different component/block based on the response to a component or based on the number of correct/incorrect responses in a block. Skip conditions work recursively: if you have a nested block, the parent blocks' skip conditions will be considered when computing the skip logic.

Skip conditions are evaluated in the order they are defined in the array. If a condition is met, the participant will be redirected to the component or block specified in the \`"to"\` property. If no conditions are met, the participant will continue to the next component in the sequence.

Skip conditions allow you to jump to a different component or block. If you intend to skip to a block, you should specify a block id in the sequence. If you intend to skip to a component, you should specify a component id. Skipping backwards is not supported. Skipping to a repeated component will skip to the first instance of the component after the component that triggered the skip.

Please see the interface definitions for more specific information on the different types of skip conditions.`,items:{anyOf:[{$ref:"#/definitions/IndividualComponentSingleResponseCondition"},{$ref:"#/definitions/IndividualComponentAllResponsesCondition"},{$ref:"#/definitions/ComponentBlockCondition"},{$ref:"#/definitions/RepeatedComponentBlockCondition"}]},type:"array"},SliderResponse:{additionalProperties:!1,description:'The SliderResponse interface is used to define the properties of a slider response. SliderResponses render as a slider input with user specified steps. For example, you could have steps of 0, 50, and 100.\n\nExample: ```js { "id": "q-slider", "prompt": "How are you feeling?", "location": "aboveStimulus", "type": "slider", "options": [  {    "label": "Bad",    "value": 0  },  {    "label": "OK",    "value": 50  },  {    "label": "Good",    "value": 100  } ] } ```',properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},options:{description:"This defines the steps in the slider and the extent of the slider as an array of objects that have a label and a value.",items:{$ref:"#/definitions/NumberOption"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered. Defaults to true.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},snap:{description:"Whether the slider should snap between values. Defaults to false. Slider snapping disables the label above the handle.",type:"boolean"},startingValue:{description:"The starting value of the slider. Defaults to the minimum value.",type:"number"},step:{description:"The step value of the slider. If not provided (and snap not enabled), the step value is calculated as the range of the slider divided by 100.",type:"number"},tlxStyle:{description:"Whether to render the slider with a NASA-tlx style. Defaults to false.",type:"boolean"},type:{const:"slider",type:"string"},withBar:{description:"Whether to render the slider with a bar to the left. Defaults to true.",type:"boolean"},withDivider:{description:"Renders the response with a trailing divider.",type:"boolean"},withDontKnow:{description:`Renders the response with an option for "I don't know". This counts as a completed answer for the validation.`,type:"boolean"}},required:["id","options","prompt","type"],type:"object"},StringOption:{additionalProperties:!1,description:"The StringOption interface is used to define the options for a dropdown, radio, buttons, or checkbox response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file.",properties:{label:{description:"The label displayed to participants.",type:"string"},separator:{description:"Separate this option from the previous options via divider",type:"boolean"},value:{description:"The value stored in the participant's data.",type:"string"}},required:["label","value"],type:"object"},VegaComponent:{anyOf:[{$ref:"#/definitions/VegaComponentPath"},{$ref:"#/definitions/VegaComponentConfig"}]},VegaComponentConfig:{additionalProperties:!1,description:'The VegaComponentConfig interface is used to define the properties of a Vega Component. This component is used to render a Vega/Vega-Lite Component by adding Vega/Vega-Lite specs within the reVISit config itself.\n\nTo do this, would use the following snippet: ```js { "type": "vega", "config": { ... vega specs here ...}, }\n\nIIf you are using Vega, you can use signals with `revisitAnswer` to send the user\'s responses back to the reVISit. For example, you can use the following snippet in your Vega spec\'s signals section: ```js { "signals": [  {    "name": "revisitAnswer",    "value": {},    "on": [      {        "events": "rect:click",        "update": "{responseId: \'vegaDemoResponse1\', response: datum.category}"      }    ]  } ] } In this example, when a user clicks on a rectangle in the Vega chart, the `revisitAnswer` signal is updated with the responseId and response. ```',properties:{allowFailedTraining:{description:"Controls whether the component should allow failed training. If not provided, the default is true.",type:"boolean"},config:{description:"The vega or vega-lite configuration.",type:"object"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},helpTextPathOverride:{description:"Optional override for the help text. If present, will override the default help text path set in the uiConfig.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonDisableTime:{description:"A timeout (in ms) after which the next button will be disabled.",type:"number"},nextButtonEnableTime:{description:"A timer (in ms) after which the next button will be enabled.",type:"number"},nextButtonLocation:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},recordAudio:{description:"Whether or not to record audio for a component. Only relevant if recordStudyAudio in the uiConfig is true. Defaults to false.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},responseDividers:{description:"Whether to show the response dividers. Defaults to false.",type:"boolean"},trainingAttempts:{description:"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.",type:"number"},type:{const:"vega",type:"string"}},required:["config","response","type"],type:"object"},VegaComponentPath:{additionalProperties:!1,description:'The VegaComponentPath interface is used to define the properties of a Vega Component. This component is used to render a Vega/Vega-Lite Component with path pointing to your Vega/Vega-Lite specs file.\n\nFor example, to render a vega based stimuli with a path of `<study-name>/assets/vega.spec.json`, you would use the following snippet: ```js { "type": "vega", "path": "<study-name>/assets/vega.spec.json", } ```\n\nIf you are using Vega, you can use signals with `revisitAnswer` to send the user\'s responses back to the reVISit. For example, you can use the following snippet in your Vega spec file\'s signals section: ```js { "signals": [  {    "name": "revisitAnswer",    "value": {},    "on": [      {        "events": "rect:click",        "update": "{responseId: \'vegaDemoResponse1\', response: datum.category}"      }    ]  } ] } In this example, when a user clicks on a rectangle in the Vega chart, the `revisitAnswer` signal is updated with the responseId and response. This signal is then passed to reVISit as the participant\'s response. ```',properties:{allowFailedTraining:{description:"Controls whether the component should allow failed training. If not provided, the default is true.",type:"boolean"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},helpTextPathOverride:{description:"Optional override for the help text. If present, will override the default help text path set in the uiConfig.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonDisableTime:{description:"A timeout (in ms) after which the next button will be disabled.",type:"number"},nextButtonEnableTime:{description:"A timer (in ms) after which the next button will be enabled.",type:"number"},nextButtonLocation:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},path:{description:"The path to the vega file. This should be a relative path from the public folder.",type:"string"},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},recordAudio:{description:"Whether or not to record audio for a component. Only relevant if recordStudyAudio in the uiConfig is true. Defaults to false.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},responseDividers:{description:"Whether to show the response dividers. Defaults to false.",type:"boolean"},trainingAttempts:{description:"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.",type:"number"},type:{const:"vega",type:"string"}},required:["path","response","type"],type:"object"},VideoComponent:{additionalProperties:!1,description:'The VideoComponent interface is used to define the properties of a video component. This component is used to render a video with optional controls.\n\nMost often, video components will be used for trainings, and will have a `forceCompletion` field set to true. This will prevent the participant from moving on until the video has finished playing.\n\nAs such, the `forceCompletion` field is set to true by default, and the `withTimeline` field is set to false by default.\n\nFor example, to render a training video with a path of `<study-name>/assets/video.mp4`, you would use the following snippet: ```js {   "type": "video",   "path": "<study-name>/assets/video.mp4", } ```',properties:{allowFailedTraining:{description:"Controls whether the component should allow failed training. If not provided, the default is true.",type:"boolean"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},forceCompletion:{description:"Whether to force the video to play until the end. Defaults to true.",type:"boolean"},helpTextPathOverride:{description:"Optional override for the help text. If present, will override the default help text path set in the uiConfig.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonDisableTime:{description:"A timeout (in ms) after which the next button will be disabled.",type:"number"},nextButtonEnableTime:{description:"A timer (in ms) after which the next button will be enabled.",type:"number"},nextButtonLocation:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},path:{description:"The path to the video. This could be a relative path from the public folder or might be a url to an external website.",type:"string"},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},recordAudio:{description:"Whether or not to record audio for a component. Only relevant if recordStudyAudio in the uiConfig is true. Defaults to false.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},responseDividers:{description:"Whether to show the response dividers. Defaults to false.",type:"boolean"},trainingAttempts:{description:"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.",type:"number"},type:{const:"video",type:"string"},withTimeline:{description:"Whether to show the video timeline. Defaults to false.",type:"boolean"}},required:["path","response","type"],type:"object"},WebsiteComponent:{additionalProperties:!1,description:'The WebsiteComponent interface is used to define the properties of a website component. A WebsiteComponent is used to render an iframe with a website inside of it. This can be used to display an external website or an html file that is located in the public folder.\n\n```js { "type": "website", "path": "<study-name>/assets/website.html", } ```\n\nTo pass a data from the config to the website, you can use the `parameters` field as below:\n\n```js { "type": "website", "path": "<study-name>/website.html", "parameters": {  "barData": [0.32, 0.01, 1.2, 1.3, 0.82, 0.4, 0.3] }, "response": [  {    "id": "barChart",    "prompt": "Your selected answer:",    "location": "belowStimulus",    "type": "reactive"  } ] } ``` In the `website.html` file, by including `revisit-communicate.js`, you can use the `Revisit.onDataReceive` method to retrieve the data, and `Revisit.postAnswers` to send the user\'s responses back to the reVISit as shown in the example below:\n\n```html <script src="../../revisitUtilities/revisit-communicate.js"><\/script> <script> Revisit.onDataReceive((data) => {  const barData = data[\'barData\'];  ... });\n\n// Call out that \'barChart\' needs to match ID in \'response\' object Revisit.postAnswers({ barChart: userAnswer }); <\/script> ```\n\n If the html website implements Trrack library for provenance tracking, you can send the provenance graph back to reVISit by calling `Revisit.postProvenanceGraph` as shown in the example below. You need to call this each time the Trrack state is updated so that reVISit is kept aware of the changes in the provenance graph.\n\n```js const trrack = initializeTrrack({ initialState, registry });\n\n... Revisit.postProvenance(trrack.graph.backend); ```',properties:{allowFailedTraining:{description:"Controls whether the component should allow failed training. If not provided, the default is true.",type:"boolean"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},helpTextPathOverride:{description:"Optional override for the help text. If present, will override the default help text path set in the uiConfig.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonDisableTime:{description:"A timeout (in ms) after which the next button will be disabled.",type:"number"},nextButtonEnableTime:{description:"A timer (in ms) after which the next button will be enabled.",type:"number"},nextButtonLocation:{$ref:"#/definitions/ConfigResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"},path:{description:"The path to the website. This should be a relative path from the public folder or could be an external website.",type:"string"},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},recordAudio:{description:"Whether or not to record audio for a component. Only relevant if recordStudyAudio in the uiConfig is true. Defaults to false.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},responseDividers:{description:"Whether to show the response dividers. Defaults to false.",type:"boolean"},trainingAttempts:{description:"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.",type:"number"},type:{const:"website",type:"string"}},required:["path","response","type"],type:"object"}},lJt={$ref:oJt,$schema:sJt,definitions:aJt},$Le=new Ree;$Le.addSchema(lJt);const uJt=$Le.getSchema("#/definitions/LibraryConfig");function DLe(e,t){return au(e)?e:{...e,components:e.components.map(n=>typeof n=="object"?DLe(n,t):`$${t}.components.${n}`)}}function MLe(e,t,n=[]){return au(e)?e:{...e,components:(e.components||[]).map(r=>{if(typeof r=="object")return MLe(r,t);const i=r.includes(".se.")?".se.":r.includes(".sequences.")?".sequences.":!1;if(typeof r=="string"&&r.startsWith("$")&&i){const[o,s]=r.split(i),a=o.slice(1);if(!t[a]){const c={message:`Library ${a} not found in imported libraries`,instancePath:"",params:{action:"check the library name"}};return n.push(c),r}let u=t[a].sequences[s];if(!u){const c={message:`Sequence ${s} not found in library ${o}`,instancePath:"",params:{action:"check the sequence name"}};return n.push(c),r}return u=DLe(u,a),u}return r})}}function cJt(e,t,n){Object.entries(n).forEach(([r,i])=>{Object.entries(i.components).forEach(([o,s])=>{var a;HN(s)&&!((a=i.baseComponents)!=null&&a[s.baseComponent])&&t.push({message:`Base component \`${s.baseComponent}\` is not defined in baseComponents object in library \`${r}\``,instancePath:`/importedLibraries/${r}/components/${o}`,params:{action:"add the base component to the baseComponents object"}})})})}function dJt(e,t){let n=!1,r;try{r=JSON.parse(e),n=uJt(r)}catch{n=!1}const i=[],o=[];return r?n||i.push({message:"Library config is not valid",instancePath:"",params:{action:"fix the errors in the library config"}}):i.push({message:`Could not find library \`${t}\``,instancePath:"/importedLibraries/",params:{action:"make sure the library is in the correct location"}}),{...r,errors:i,warnings:o}}async function hJt(e){const t=await(await fetch(`${hi}libraries/${e}/config.json`)).text();return dJt(t,e)}async function fJt(e,t,n){const r=e.map(async o=>{const s=await hJt(o);return s.errors&&t.push(...s.errors),s.warnings&&n.push(...s.warnings),[o,s]}),i=Object.fromEntries(await Promise.all(r));return Object.entries(i).forEach(([o,s])=>{s.components||delete i[o]}),e.forEach(o=>{i[o]&&(i[o].components=Object.fromEntries(Object.entries(i[o].components).map(([s,a])=>{if(HN(a)){const l=TTe({},i[o].baseComponents[a.baseComponent],a);return delete l.baseComponent,[[`$${o}.components.${s}`,l],[`$${o}.co.${s}`,l]]}return[[`$${o}.components.${s}`,a],[`$${o}.co.${s}`,a]]}).reduce((s,[a,l])=>(s.push(a,l),s),[])))}),i}const PLe=new Ree;PLe.addSchema(iJt);const vme=PLe.getSchema("#/definitions/GlobalConfig"),NLe=new Ree;NLe.addSchema(eJt);const bme=NLe.getSchema("#/definitions/StudyConfig");function pJt(e){const t=[];return[e.configsList.every(r=>e.configs[r]===void 0?(t.push({message:`Config ${r} is not defined in configs object, but is present in configsList`}),!1):!0),t]}function mJt(e){const t=JSON.parse(e),n=vme(t),r=pJt(t);if(n&&r[0])return t;throw console.error("Global config parsing errors",[...vme.errors||[],...r[1]]),Error("There was an issue validating your file global.json")}function OLe(e,t,n=[]){if(!au(e)){if(e.components.length===0){n.push({message:"Sequence has an empty components array",instancePath:"/sequence/",params:{action:"remove empty components block"}});return}e.id&&t.map((i,o)=>i===e.id?o:null).forEach(i=>{i!==null&&t.splice(i,1)}),e.components.forEach(r=>{typeof r=="string"?t.includes(r)&&t.map((o,s)=>o===r?s:null).forEach(o=>{o!==null&&t.splice(o,1)}):OLe(r,t,n)}),e.skip&&t.push(...e.skip.map(r=>r.to).filter(r=>r!=="end"))}}function gJt(e,t){const n=[],r=[];cJt(e,n,t),Object.entries(e.components).forEach(([s,a])=>{var l;HN(a)&&!((l=e.baseComponents)!=null&&l[a.baseComponent])&&n.push({message:`Base component \`${a.baseComponent}\` is not defined in baseComponents object`,instancePath:`/components/${s}`,params:{action:"add the base component to the baseComponents object"}})});const i=xTe(e.sequence);i.forEach(s=>{var a;e.components[s]||n.push({message:(a=e.baseComponents)!=null&&a[s]?`Component \`${s}\` is a base component and cannot be used in the sequence`:`Component \`${s}\` is not defined in components object`,instancePath:"/sequence/",params:{action:"add the component to the components object"}})}),Object.keys(e.components).filter(s=>!i.includes(s)&&!s.includes(".se.")&&!s.includes(".sequences.")&&!s.includes(".co.")&&!s.includes(".components.")).forEach(s=>{r.push({message:`Component \`${s}\` is defined in components object but not used deterministically in the sequence`,instancePath:"/components/",params:{action:"remove the component from the components object or add it to the sequence"}})});const o=[];return OLe(e.sequence,o),o.forEach(s=>{n.push({message:`Skip target \`${s}\` does not occur after the skip block it is used in`,instancePath:"/sequence/",params:{action:"add the target to the sequence after the skip block"}})}),{errors:n,warnings:r}}async function $ee(e){let t=!1,n;try{n=JSON.parse(e),t=bme(n)}catch{t=!1}let r=bme.errors||[],i=[];if(t&&n){const o=n.importedLibraries||[],s=await fJt(o,r,i);Object.values(s).forEach(u=>{n.components={...n.components,...u.components},n.baseComponents={...n.baseComponents,...u.components}}),n.sequence=MLe(n.sequence,s,r);const{errors:a,warnings:l}=gJt(n,s);r=[...r,...a],i=[...i,...l]}else r=[...r,{message:"There was an issue validating your config file",instancePath:"root",params:{action:"fix the errors in your file or make sure the global config references the right file path"}}];return{...n,errors:r,warnings:i}}async function yJt(e){const t=await(await fetch(`${hi}${e}`)).text();return await $ee(t)}async function Dee(e,t){const n=t.configsList.find(r=>p1e(r)===e);if(n){const r=t.configs[n];return await yJt(`${r.path}`)}return null}async function vJt(e){const t={},n=e.configsList.map(async i=>Dee(i,e)),r=await Promise.all(n);return e.configsList.forEach((i,o)=>{t[i]=r[o]}),t}function bJt({globalConfig:e}){const t=Vp(),[n,r]=O.useState(null),i=e.configsList.includes(t)||t==="__revisit-widget";O.useEffect(()=>{if(t!=="__revisit-widget")return Dee(t,e).then(p=>{r(p)}),()=>{};if(e&&t){const p=m=>{m.data.type==="revisitWidget/CONFIG"&&$ee(m.data.payload).then(async g=>{r(g);const y=await Wpe(g);window.parent.postMessage({type:"revisitWidget/SEQUENCE_ARRAY",payload:y},"*")})};return window.addEventListener("message",p),window.parent.postMessage({type:"revisitWidget/READY"},"*"),()=>{window.removeEventListener("message",p)}}return()=>{}},[e,t]);const[o,s]=O.useState([]),[a,l]=O.useState(null),{storageEngine:u}=Si(),[c]=jh(),d=O.useMemo(()=>c.get("participantId"),[c]);O.useEffect(()=>{async function p(){if(!u||!n||!t)return;await u.initializeStudyDb(t,n),await u.getSequenceArray()||await u.setSequenceArray(await Wpe(n));const g=n.uiConfig.urlParticipantIdParam&&c.get(n.uiConfig.urlParticipantIdParam)||void 0,y=Object.fromEntries(c.entries()),v=await fetch("https://api.ipify.org?format=json").catch(C=>""),b=v instanceof Response?await v.json():{ip:""},_={language:navigator.language,userAgent:navigator.userAgent,resolution:{width:window.screen.width,height:window.screen.height,availHeight:window.screen.availHeight,availWidth:window.screen.availWidth,colorDepth:window.screen.colorDepth,orientation:window.screen.orientation.type,pixelDepth:window.screen.pixelDepth},ip:b.ip},x=await u.initializeParticipantSession(t,y,n,_,d||g),w=await u.getModes(t),E=await TC(JSON.stringify(n));let S=n;x.participantConfigHash!==E&&(S=(await u.getAllConfigsFromHash([x.participantConfigHash],t))[x.participantConfigHash]);const T=await pgt(t,S,x.sequence,_,x.answers,w,x.participantId);l(T),s([{element:k.jsx(nGt,{}),children:[{path:"/",element:k.jsx(pOe,{to:no(0),replace:!0})},{path:"/:index/:funcIndex?",element:n.errors.length>0?k.jsxs(k.Fragment,{children:[k.jsx(wi,{order:2,mb:8,children:"Error loading config"}),k.jsx(OI,{issues:n.errors,type:"error"})]}):k.jsx(LHt,{})}]}])}p()},[u,n,t,c,d]);const h=Jbe(o);let f=null;return i?o.length===0?f=k.jsx(Uu,{visible:!0}):f=h&&a?k.jsx(CTe.Provider,{value:a,children:k.jsx(Mdt,{store:a.store,children:h})}):k.jsx(Cp,{}):f=k.jsx(Cp,{}),f}function DR({studyIds:e}){const t=mu(),{studyId:n}=ia(),r=nc(),i=e.map(s=>({value:s,label:s})).sort((s,a)=>s.label.localeCompare(a.label)),o=r.pathname.includes("analysis");return k.jsx(br.Header,{p:"md",children:k.jsxs(Qd,{mt:-7,align:"center",children:[k.jsx(Qd.Col,{span:6,children:k.jsxs(Rt,{align:"center",onClick:()=>t("/"),style:{cursor:"pointer"},children:[k.jsx(i0,{w:40,src:`${hi}revisitAssets/revisitLogoSquare.svg`,alt:"Revisit Logo"}),k.jsx(Gl,{w:"md"}),k.jsx(wi,{order:4,style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:o?"ReVISit Analytics Platform":"ReVISit Studies"})]})}),k.jsx(Qd.Col,{span:6,children:k.jsxs(Rt,{justify:"flex-end",direction:"row",children:[o&&k.jsxs(k.Fragment,{children:[k.jsx(Gx,{allowDeselect:!1,placeholder:"Select Study",data:i,value:n,onChange:s=>t(`/analysis/stats/${s}`),mr:16}),k.jsx(Kt,{component:"a",href:`${hi}${n}`,target:"_blank",leftSection:k.jsx(u1e,{}),mr:"sm",children:"Go to Study"})]}),k.jsx(d1e,{onClick:()=>t("/settings"),style:{cursor:"pointer",marginTop:o?6:void 0}})]})})]})})}function LLe({visibleParticipants:e,studyId:t,gap:n,fileName:r}){const[i,{open:o,close:s}]=BH(!1),[a,l]=O.useState([]),u=async()=>typeof e=="function"?await e():e,c=async()=>{const h=await u(),f=r?`${r}.json`:`${t}_all.json`;tY(JSON.stringify(h,null,2),f)},d=async()=>{const h=await u();l(h),o()};return k.jsxs(k.Fragment,{children:[k.jsxs(Dr,{style:{gap:n},children:[k.jsx(Ur,{label:"Download all participants data as JSON",children:k.jsx(Kt,{variant:"light",disabled:e.length===0&&typeof e!="function",onClick:c,px:4,children:k.jsx(Aqe,{})})}),k.jsx(Ur,{label:"Download all participants data as a tidy CSV",children:k.jsx(Kt,{variant:"light",disabled:e.length===0&&typeof e!="function",onClick:d,px:4,children:k.jsx(h1e,{})})})]}),i&&a.length>0&&k.jsx(eyt,{opened:i,close:s,filename:r?`${r}_tidy.csv`:`${t}_all_tidy.csv`,data:a,studyId:t})]})}function FLe(e,t){if(!e)return null;if(t!=null&&t.uiConfig&&t.uiConfig.participantNameField){const[n,r]=t.uiConfig.participantNameField.split("."),i=Object.keys(e.answers).find(o=>o.startsWith(n));if(i)return`${e.answers[i].answer[r]}`}return null}function wJt({cellData:e}){return Number.isFinite(e.endTime)&&Number.isFinite(e.startTime)?k.jsx(Mt.Td,{children:k.jsx(tu,{miw:100,children:e.timedOut?k.jsx(Fe,{children:"Timed out"}):Object.entries(e.answer).map(([t,n])=>k.jsxs(ge,{children:[k.jsxs(Fe,{fw:700,span:!0,children:[" ",`${t}: `]}),typeof n=="object"?k.jsx(Fe,{size:"xs",component:"pre",span:!0,children:`${JSON.stringify(n,null,2)}`}):k.jsx(Fe,{span:!0,children:n})]},`cell-${t}`))})}):k.jsx(Mt.Td,{children:"N/A"})}function wme({cellData:e}){const t=e.endTime&&e.startTime?(e.endTime-e.startTime)/1e3:NaN,n=e.endTime&&e.startTime?BTe(e):NaN;return Number.isFinite(e.endTime)&&Number.isFinite(e.startTime)?k.jsxs(Mt.Td,{children:[t.toFixed(1)," ","s",n&&k.jsxs(k.Fragment,{children:[k.jsx("br",{})," ","(",(n/1e3).toFixed(1)," ","s)"]})]}):k.jsx(Mt.Td,{children:"N/A"})}function xJt(e){const{metaData:t}=e;return k.jsx(Mt.Td,{children:k.jsx(yW,{w:200,hideLabel:"hide",maxHeight:50,showLabel:"more",children:k.jsxs(tu,{gap:"xs",children:[k.jsxs(ge,{children:["IP:"," ",t.ip]}),k.jsxs(ge,{children:["Language:"," ",t.language]}),k.jsxs(ge,{children:["Resolution:"," ",JSON.stringify(t.resolution)]}),k.jsxs(ge,{children:["User Agent:"," ",t.userAgent]})]})})})}function _Jt({visibleParticipants:e,studyConfig:t,refresh:n}){const{storageEngine:r}=Si(),{studyId:i}=ia(),{user:o}=g_(),s=async(_,x)=>{if(r&&i)if(o.isAdmin){const w=x===""?"Rejected by admin":x;await r.rejectParticipant(i,_,w),await n()}else console.warn("You are not authorized to perform this action.")},[a,l]=O.useState([]),[u,c]=O.useState(!1),[d,h]=O.useState(!1),[f,p]=O.useState(""),m=async()=>{c(!0),h(!1);const _=a.map(async x=>await s(x,f));await Promise.all(_),l([]),await n(),c(!1)};function g(_){_==="all"?a.length===e.length?l([]):l(e.map(x=>x.participantId)):a.includes(_)?l(a.filter(x=>x!==_)):l([...a,_])}const y=STe(t.sequence),v=[k.jsx(Mt.Th,{children:k.jsx(Rt,{justify:"center",children:k.jsx(Ys,{mb:-4,checked:a.length===e.length,onChange:()=>g("all")})})},"action"),k.jsx(Mt.Th,{children:"Index"},"index"),k.jsx(Mt.Th,{children:"Name"},"name"),k.jsx(Mt.Th,{children:"ID"},"ID"),k.jsx(Mt.Th,{children:"Start Time"},"startTime"),k.jsx(Mt.Th,{children:"End Time"},"endTime"),k.jsx(Mt.Th,{children:"Total Duration (clean)"},"total-duration"),k.jsx(Mt.Th,{children:"Status"},"status"),k.jsx(Mt.Th,{children:"Tags"},"tags"),k.jsx(Mt.Th,{children:"Meta"},"meta"),...y.flatMap(_=>[k.jsx(Mt.Th,{children:_.componentName},`header-${_.componentName}-${_.timesSeenInBlock}`),k.jsxs(Mt.Th,{children:[k.jsx("span",{style:{whiteSpace:"nowrap"},children:_.componentName})," ","Duration (clean)"]},`header-${_.componentName}-${_.timesSeenInBlock}-duration`)])],b=e.map(_=>{const x=FLe(_,t),w=_.answers&&Object.values(_.answers).filter(T=>T.startTime).sort((T,C)=>T.startTime-C.startTime),E=w&&w.length>0?w[0].startTime:void 0,S=w&&w.length>0?w[w.length-1].endTime:void 0;return k.jsxs(Mt.Tr,{children:[k.jsx(Mt.Td,{children:k.jsx(Rt,{justify:"center",children:k.jsx(Ys,{mb:-4,checked:a.includes(_.participantId),onChange:()=>g(_.participantId)})})}),k.jsx(Mt.Td,{children:`P-${_.participantIndex.toString().padStart(3,"0")}`}),k.jsx(Mt.Td,{children:x}),k.jsx(Mt.Td,{style:{whiteSpace:"nowrap"},children:_.participantId}),k.jsx(Mt.Td,{miw:110,children:E?new Date(E).toLocaleString():"N/A"}),k.jsx(Mt.Td,{miw:110,children:_.completed&&S?new Date(S).toLocaleString():"N/A"}),k.jsx(wme,{cellData:{startTime:E,endTime:S,windowEvents:Object.values(_.answers).flatMap(T=>T.windowEvents)}},`cell-${_.participantId}-total-duration`),k.jsx(Mt.Td,{children:k.jsxs(Rt,{direction:"column",miw:100,children:[k.jsxs(Rt,{direction:"row",align:"center",children:[_.rejected?k.jsx(Ur,{label:"Rejected",children:k.jsx(Jx,{size:16,color:"red",style:{marginBottom:-3}})}):_.completed?k.jsx(Ur,{label:"Completed",children:k.jsx(jA,{size:16,color:"teal",style:{marginBottom:-3}})}):k.jsx(Ur,{label:"In Progress",children:k.jsx(c1e,{size:16,color:"orange",style:{marginBottom:-3}})}),!_.completed&&k.jsxs(Fe,{size:"sm",mb:-1,ml:4,children:[(Object.entries(_.answers).filter(([T,C])=>C.endTime!==-1&&C.endTime!==void 0).length/(Rg(_.sequence).length-1)*100).toFixed(2),"%"]})]}),_.rejected&&k.jsx(Fe,{mt:5,fz:10,children:_.rejected.reason})]})}),k.jsx(Mt.Td,{children:k.jsx(Rt,{direction:"column",miw:100,children:(_.participantTags||[]).map(T=>k.jsxs(Fe,{fz:10,children:["-"," ",T]},`tag-${T}`))})}),_.metadata?k.jsx(xJt,{metaData:_.metadata}):k.jsx(Mt.Td,{children:"N/A"}),y.map(T=>{const C=KG(_.sequence,T.orderPath),D=C&&Object.entries(_.answers).sort(($,I)=>{const R=parseInt($[0].slice($[0].lastIndexOf("_")+1),10),A=parseInt(I[0].slice(I[0].lastIndexOf("_")+1),10);return R-A}).filter(([$])=>{const I=$.slice(0,$.lastIndexOf("_")),R=parseInt($.slice($.lastIndexOf("_")+1),10);return I===T.componentName&&R<=C[0].lastIndex&&R>=C[0].firstIndex});return D!==null&&D.length>=T.timesSeenInBlock+1&&D[T.timesSeenInBlock][1].endTime!==-1?k.jsxs(Nn.Fragment,{children:[k.jsx(wJt,{cellData:D[T.timesSeenInBlock][1]}),k.jsx(wme,{cellData:D[T.timesSeenInBlock][1]})]},`cellgroup-${_.participantId}-${T.componentName}-${T.timesSeenInBlock}`):k.jsxs(Nn.Fragment,{children:[k.jsx(Mt.Td,{children:"N/A"}),k.jsx(Mt.Td,{children:"N/A"})]},`cellgroup-${_.participantId}-${T.componentName}-${T.timesSeenInBlock}`)})]},_.participantId)});return e.length>0?k.jsxs(k.Fragment,{children:[k.jsx(Uu,{visible:u,overlayProps:{blur:2}}),k.jsxs(Rt,{justify:"space-between",mb:8,p:8,children:[k.jsx(Dr,{children:k.jsx(Gx,{w:350,variant:"filled",placeholder:"Search for a participant ID",data:[...new Set(e.map(_=>_.participantId))],searchable:!0,value:null,leftSection:k.jsx(Uqe,{size:14}),onChange:_=>_&&g(_)})}),k.jsxs(Dr,{children:[k.jsx(LLe,{visibleParticipants:e,studyId:i||""}),k.jsxs(Kt,{disabled:a.length===0||!o.isAdmin,onClick:()=>h(!0),color:"red",children:["Reject Participants (",a.length,")"]})]})]}),k.jsx(Rt,{direction:"column",style:{width:"100%",overflow:"auto"},children:k.jsxs(Mt,{striped:!0,withTableBorder:!0,children:[k.jsx(Mt.Thead,{children:k.jsx(Mt.Tr,{children:v})}),k.jsx(Mt.Tbody,{children:b})]})}),k.jsxs(li,{opened:d,onClose:()=>h(!1),title:k.jsxs(Fe,{children:["Reject Participants (",a.length,")"]}),children:[k.jsx(Lf,{label:"Please enter the reason for rejection.",onChange:_=>p(_.target.value)}),k.jsxs(Rt,{mt:"sm",justify:"right",children:[k.jsx(Kt,{mr:5,variant:"subtle",color:"dark",onClick:()=>{h(!1),p("")},children:"Cancel"}),k.jsx(Kt,{color:"red",onClick:()=>m(),children:"Reject Participants"})]})]})]}):k.jsxs(k.Fragment,{children:[k.jsx(Gl,{h:"xl"}),k.jsx(Rt,{justify:"center",align:"center",children:k.jsx(Fe,{children:"No data available"})})]})}function EJt({studyId:e,refresh:t}){const[n,r]=O.useState(!1),[i,o]=O.useState(!1),[s,a]=O.useState(!1),[l,u]=O.useState(!1),[c,d]=O.useState(""),[h,f]=O.useState([]),[p,m]=O.useState(""),[g,y]=O.useState(""),[v,b]=O.useState(!1),[_,x]=O.useState(!1),{storageEngine:w}=Si(),E=w,S=O.useCallback(async()=>{x(!0);const F=await E.getSnapshots(e);f(F),x(!1)},[E,e]);O.useEffect(()=>{S()},[S]);const T=async(F,...j)=>{b(!0);const W=await F(...j);W.status==="SUCCESS"?(S(),b(!1),await t(),W.notifications&&W.notifications.forEach(B=>{PC(B)})):(b(!1),PC({title:W.error.title,message:W.error.message,color:"red"}))},C=async()=>{await T(E.createSnapshot.bind(E),e,!1)},D=async()=>{m(""),r(!1),await T(E.createSnapshot.bind(E),e,!0)},$=async()=>{a(!1),await T(E.renameSnapshot.bind(E),c,g)},I=async F=>{await T(E.restoreSnapshot.bind(E),e,F)},R=async()=>{m(""),o(!1),await T(E.removeSnapshotOrLive.bind(E),c,!0)},A=async()=>{m(""),u(!1),await T(E.removeSnapshotOrLive.bind(E),e,!0)},M=()=>yre({title:"Create a Snapshot",children:k.jsx(Fe,{mb:30,children:"This will create a snapshot of the live database without impacting the live data."}),labels:{confirm:"Create",cancel:"Cancel"},cancelProps:{variant:"subtle",color:"dark"},onCancel:()=>{},onConfirm:()=>C()}),N=F=>yre({title:"Restore Snapshot",children:k.jsx(Fe,{mb:30,children:"Restoring this snapshot will perform 2 actions. First, we will create a snapshot of the current live database, then we will restore the selected snapshot into the live database."}),labels:{confirm:"Restore",cancel:"Cancel"},confirmProps:{color:"red"},cancelProps:{variant:"subtle",color:"dark"},onCancel:()=>{},onConfirm:()=>I(F)}),L=F=>{const j=/-snapshot-(.+)$/,W=F.match(j);return W&&W[1]?W[1].replace("T"," "):null},z=async F=>{const j=F.slice(F.indexOf("-")+1);return await E.getAllParticipantsDataByStudy(j)};return k.jsxs(k.Fragment,{children:[k.jsx(Uu,{visible:v}),k.jsxs(Rt,{justify:"space-between",align:"center",children:[k.jsxs(ge,{style:{width:"70%"},children:[k.jsx(wi,{order:5,children:"Create a Snapshot"}),k.jsxs(Fe,{children:["This will create a snapshot of the live"," ",k.jsx(Fe,{span:!0,fw:700,children:e})," ","database. It will"," ",k.jsx(Fe,{span:!0,fw:700,fs:"italic",children:"not"})," ","remove this data from the live database. The current study data can be restored from a snapshot at any time."]})]}),k.jsx(Ur,{label:"Create a snapshot",children:k.jsx(Kt,{onClick:M,children:"Snapshot"})})]}),k.jsx(Gl,{h:"lg"}),k.jsxs(Rt,{justify:"space-between",align:"center",children:[k.jsxs(ge,{style:{width:"70%"},children:[k.jsx(wi,{order:5,children:"Archive Data"}),k.jsxs(Fe,{children:["This will create a snapshot of the live"," ",k.jsx(Fe,{span:!0,fw:700,children:e})," ","database. It will then remove this data from the live database. The current study data can be restored from a snapshot at any time."]})]}),k.jsx(Ur,{label:"Snapshot and Delete Data",children:k.jsx(Kt,{color:"red",onClick:()=>r(!0),children:"Archive"})})]}),k.jsx(Gl,{h:"lg"}),k.jsxs(Rt,{justify:"space-between",align:"center",children:[k.jsxs(ge,{style:{width:"70%"},children:[k.jsx(wi,{order:5,children:"Delete Data"}),k.jsxs(Fe,{children:["This will delete the live"," ",k.jsx(Fe,{span:!0,fw:700,children:e})," ","database. Since this does not create a snapshot the data will be permanently deleted and cannot be restored."]})]}),k.jsx(Ur,{label:"Delete Data",children:k.jsx(Kt,{color:"red",onClick:()=>u(!0),children:"Delete"})})]}),k.jsx(Gl,{h:"xl"}),k.jsxs(Rt,{direction:"column",children:[k.jsx(Rt,{style:{borderBottom:"1px solid #dedede"},direction:"row",justify:"space-between",mb:"xs",pb:"sm",children:k.jsx(wi,{order:5,children:"Snapshots"})}),k.jsxs(ge,{style:{position:"relative"},children:[k.jsx(Uu,{visible:_}),h.length>0?k.jsxs(Mt,{children:[k.jsx(Mt.Thead,{children:k.jsxs(Mt.Tr,{children:[k.jsx(Mt.Th,{children:"Snapshot Name"}),k.jsx(Mt.Th,{children:"Date Created"}),k.jsx(Mt.Th,{children:"Actions"})]})}),k.jsx(Mt.Tbody,{children:h.map(F=>k.jsxs(Mt.Tr,{children:[k.jsx(Mt.Td,{children:F.alternateName}),k.jsx(Mt.Td,{children:L(F.originalName)}),k.jsx(Mt.Td,{children:k.jsxs(Rt,{children:[k.jsx(Ur,{label:"Rename",children:k.jsx(Kt,{color:"green",variant:"light",px:4,style:{margin:"0px 5px"},onClick:()=>{a(!0),d(F.originalName)},children:k.jsx(Lqe,{})})}),k.jsx(Ur,{label:"Restore Snapshot",children:k.jsx(Kt,{color:"blue",variant:"light",px:4,style:{margin:"0px 5px"},onClick:()=>{N(F.originalName)},children:k.jsx(jqe,{})})}),k.jsx(Ur,{label:"Delete Snapshot",children:k.jsx(Kt,{color:"red",px:4,variant:"light",style:{margin:"0px 10px 0px 5px"},onClick:()=>{o(!0),d(F.originalName)},children:k.jsx(f1e,{})})}),k.jsx(LLe,{visibleParticipants:()=>z(F.originalName),studyId:e,gap:"10px",fileName:F.alternateName})]})})]},F.originalName))})]}):k.jsx(Fe,{children:"No snapshots."})]})]}),k.jsxs(li,{opened:n,onClose:()=>{r(!1),m("")},title:k.jsx(Fe,{children:"Archive Data"}),children:[k.jsx(Fe,{mb:"sm",children:"This will create a snapshot of the live database and remove the data from the live database."}),k.jsx(Lf,{label:"To archive this data, please enter the name of the study.",placeholder:e,onChange:F=>m(F.target.value)}),k.jsxs(Rt,{mt:"sm",justify:"right",children:[k.jsx(Kt,{mr:5,variant:"subtle",color:"dark",onClick:()=>{r(!1),m("")},children:"Cancel"}),k.jsx(Kt,{color:"red",onClick:D,disabled:p!==e,children:"Archive"})]})]}),k.jsxs(li,{opened:i,onClose:()=>{o(!1),m("")},title:k.jsx(Fe,{children:"Delete Snapshot"}),children:[k.jsxs(Fe,{mb:"sm",children:["This will permanently remove this snapshot. This action is"," ",k.jsx(Fe,{span:!0,fw:700,children:"irreversible"}),"."]}),k.jsx(Lf,{label:"To delete this snapshot, please enter the name of the study.",placeholder:e,onChange:F=>m(F.target.value)}),k.jsxs(Rt,{mt:"sm",justify:"right",children:[k.jsx(Kt,{mr:5,variant:"subtle",color:"dark",onClick:()=>{o(!1),m("")},children:"Cancel"}),k.jsx(Kt,{color:"red",onClick:R,disabled:p!==e,children:"Delete"})]})]}),k.jsxs(li,{opened:s,onClose:()=>{a(!1),y("")},title:k.jsx(Fe,{children:"Rename Snapshot"}),children:[k.jsx(Lf,{label:"Enter the new name of the snapshot.",placeholder:c,onChange:F=>y(F.target.value)}),k.jsxs(Rt,{mt:"sm",justify:"right",children:[k.jsx(Kt,{mr:5,variant:"subtle",color:"dark",onClick:()=>{a(!1),y("")},children:"Cancel"}),k.jsx(Kt,{color:"green",onClick:$,disabled:!g||g.length===0,children:"Rename"})]})]}),k.jsxs(li,{opened:l,onClose:()=>{u(!1),m("")},title:k.jsx(Fe,{children:"Delete Live Data"}),children:[k.jsxs(Fe,{mb:"sm",children:["This will permanently delete the live"," ",k.jsx(Fe,{span:!0,fw:700,children:e})," ","data. This action is"," ",k.jsx(Fe,{span:!0,fw:700,children:"irreversible"}),". Please consider using archive data to create a snapshot of the live data before deleting."]}),k.jsx(Lf,{label:"To delete this live data, please enter the name of the study.",placeholder:e,onChange:F=>m(F.target.value)}),k.jsxs(Rt,{mt:"sm",justify:"right",children:[k.jsx(Kt,{mr:5,variant:"subtle",color:"dark",onClick:()=>{u(!1),m("")},children:"Cancel"}),k.jsx(Kt,{color:"red",onClick:A,disabled:p!==e,children:"Delete"})]})]})]})}function SJt({studyId:e}){const{storageEngine:t}=Si(),[n,r]=O.useState(!1),[i,o]=O.useState(!1),[s,a]=O.useState(!1),[l,u]=O.useState(!1);O.useEffect(()=>{(async()=>{if(t){const h=await t.getModes(e);o(h.dataCollectionEnabled),a(h.studyNavigatorEnabled),u(h.analyticsInterfacePubliclyAccessible),r(!0)}})()},[t,e]);const c=async(d,h)=>{t&&(await t.setMode(e,d,h),d==="dataCollectionEnabled"?o(h):d==="studyNavigatorEnabled"?a(h):d==="analyticsInterfacePubliclyAccessible"&&u(h))};return n?k.jsxs(tu,{children:[k.jsx(ng,{label:"Data Collection Enabled",checked:i,onChange:d=>c("dataCollectionEnabled",d.currentTarget.checked)}),k.jsx(ng,{label:"Study Navigator Enabled",checked:s,onChange:d=>c("studyNavigatorEnabled",d.currentTarget.checked)}),k.jsx(ng,{label:"Analytics Interface Publicly Accessible",checked:l,onChange:d=>c("analyticsInterfacePubliclyAccessible",d.currentTarget.checked)})]}):null}function TJt({studyId:e,refresh:t}){const{storageEngine:n}=Si();return k.jsx(yp,{children:k.jsxs(Hs,{multiple:!0,variant:"contained",children:[k.jsxs(Hs.Item,{value:"ReVISit Modes",children:[k.jsx(Hs.Control,{children:k.jsx(wi,{order:5,children:"ReVISit Modes"})}),k.jsx(Hs.Panel,{children:k.jsx(SJt,{studyId:e})})]},"modes"),k.jsxs(Hs.Item,{value:"Data Management",children:[k.jsx(Hs.Control,{disabled:(n==null?void 0:n.getEngine())==="localStorage",children:k.jsx(wi,{order:5,children:"Data Management"})}),k.jsx(Hs.Panel,{children:(n==null?void 0:n.getEngine())!=="localStorage"&&k.jsx(EJt,{studyId:e,refresh:t})})]},"dataManagement")]})})}function CJt({response:e,participantData:t,trialId:n,trialConfig:r}){const[i,{toggle:o}]=BH(!0),[s,a]=CA(),l=O.useMemo(()=>e.type==="metadata"?[]:t.map(h=>Object.entries(h.answers).filter(([f])=>f.slice(0,f.lastIndexOf("_"))===n)).map(h=>h.map(([,f])=>f.answer)).flat(),[t,e.type,n]),u=O.useMemo(()=>{var h;return e.type==="metadata"||(h=r.correctAnswer)==null?void 0:h.find(f=>f.id===e.id)},[e.id,e.type,r.correctAnswer]),c=O.useMemo(()=>{const d={height:"container",width:"container"};if(e.type==="shortText"||e.type==="longText")return{};if(e.type==="metadata"){const f=t.map(m=>Object.entries(m.answers).filter(([g])=>g.slice(0,g.lastIndexOf("_"))===n)).map(m=>m.filter(([g,y])=>y.endTime!==-1).map(([g,y])=>(y.endTime-y.startTime)/1e3)).flat();return{...d,data:{values:f},mark:"bar",encoding:{x:{field:"data",bin:!0,type:"quantitative",title:"Time (s)"},y:{aggregate:"count",type:"quantitative",title:"Count"}}}}const h={params:[{name:"correctAnswer",value:u==null?void 0:u.answer},{name:"variable",value:e.id}],transform:[{calculate:"datum[variable] === correctAnswer ? 'correct' : 'incorrect'",as:"result"},{calculate:"if(datum.result === 'correct', 0, if(datum.result === 'incorrect', 1, 2))",as:"order"}],color:{field:"result",type:"nominal",scale:{domain:["correct","incorrect"],range:["#69DB7C","#ADB5BD"]}},order:{field:"order"}};if(e.type==="numerical"||e.type==="slider"||e.type==="likert"){let f,p;return e.type==="numerical"&&(f=e.min,p=e.max),e.type==="slider"&&(f=Math.min(...e.options.map(g=>g.value)),p=Math.max(...e.options.map(g=>g.value))),e.type==="likert"&&(f=1,p=e.numItems),{...d,data:{values:l},mark:"bar",params:u!==void 0?h.params:void 0,transform:[{bin:e.type==="likert"?{step:1}:{maxbins:10},field:e.id,as:"bins"},...u!==void 0?h.transform:[]],encoding:{x:{field:"bins",scale:f!==void 0&&p!==void 0?{domain:[f,p]}:void 0,type:"quantitative",title:"Answer"},x2:{field:"bins_end"},y:{aggregate:"count",type:"quantitative",title:"Count",stack:!0},color:u!==void 0?h.color:void 0,order:u!==void 0?h.order:void 0}}}if(e.type==="radio"||e.type==="dropdown"||e.type==="checkbox")return{...d,data:{values:l},mark:"bar",params:u!==void 0?h.params:void 0,transform:u!==void 0?h.transform:void 0,encoding:{x:{field:e.id,type:"ordinal",title:"Answer"},y:{aggregate:"count",type:"quantitative",title:"Count"},color:u!==void 0?h.color:void 0}}},[t,l,e.id,e.max,e.min,e.numItems,e.options,e.type,n,u]);return k.jsxs(Fx,{p:"lg",withBorder:!0,ref:s,children:[k.jsxs(Rt,{direction:"row",justify:"space-between",onClick:o,children:[k.jsxs(Rt,{align:"center",children:[e.type==="metadata"&&k.jsx(Cqe,{size:20}),e.type==="numerical"&&k.jsx(Nqe,{size:20}),(e.type==="shortText"||e.type==="longText")&&k.jsx(Eqe,{size:20}),e.type==="likert"&&k.jsx(Iqe,{size:20}),e.type==="dropdown"&&k.jsx(Hqe,{size:20}),e.type==="slider"&&k.jsx(yqe,{size:20}),e.type==="radio"&&k.jsx(Bqe,{size:20}),e.type==="checkbox"&&k.jsx(Vqe,{size:20}),e.type==="reactive"&&k.jsx($qe,{size:20}),k.jsx(wi,{order:5,ml:4,children:e.id})]}),k.jsx(Tqe,{style:{rotate:i?"180deg":"none",transition:"rotate 200ms"}})]}),k.jsxs(xP,{in:i,mah:400,children:[k.jsx(ge,{style:{top:0,position:"sticky",backgroundColor:"white",zIndex:2},py:"md",children:k.jsx(r0,{})}),k.jsxs(mW,{cols:2,h:360,children:[k.jsx(gp,{mih:200,children:e.type!=="metadata"&&e.type!=="shortText"&&e.type!=="longText"&&e.type!=="reactive"?k.jsx(Tpe,{spec:c,actions:!1,height:270,width:a.width/2-60-(u===void 0?0:60),padding:0,style:{justifySelf:"center"},renderer:"svg"}):k.jsxs(Rt,{direction:"column",gap:"xs",style:{overflowX:"clip"},children:[e.type==="metadata"&&k.jsx(Of,{block:!0,children:`${JSON.stringify(r,null,2)}`}),e.type!=="metadata"&&k.jsxs(k.Fragment,{children:[k.jsx(Fe,{fw:700,children:"Response Values: "}),l.map((d,h)=>k.jsx(Rt,{align:"center",gap:"xs",children:k.jsx(Fe,{children:d[e.id]})},h))]})]})}),k.jsx(gp,{mih:200,children:e.type==="metadata"?k.jsx(Tpe,{spec:c,actions:!1,width:a.width/2-60,height:270,padding:0,style:{justifySelf:"center"}}):k.jsxs(k.Fragment,{children:[k.jsx(Fe,{fw:700,children:"Response Specification: "}),k.jsx(Of,{block:!0,children:JSON.stringify(e,null,2)}),k.jsx("br",{}),u&&k.jsxs(k.Fragment,{children:[k.jsx(Fe,{fw:700,children:"Correct Answer: "}),k.jsx(Of,{block:!0,children:JSON.stringify(u,null,2)})]})]})})]})]})]})}function AJt({participantData:e,studyConfig:t,trialId:n}){const r=n&&n!=="end"&&ph(t.components[n],t),i=O.useMemo(()=>[{id:"Config and Timing",type:"metadata"},...r?r.response:[]],[r]);return r?k.jsx(Rt,{w:"100%",direction:"column",gap:"xs",children:i.map(o=>k.jsx(CJt,{response:o,participantData:e,trialId:n,trialConfig:r},o.id))}):k.jsx(Rt,{justify:"center",align:"center",pt:"lg",pb:"md",w:"100%",children:k.jsx(Fe,{children:n!=="end"?"No trial selected":"The end component has no data."})})}function kJt({studyConfig:e,visibleParticipants:t}){const n=O.useMemo(()=>{let i=structuredClone(e.sequence);return i=XG(i,"root"),i.components.push("end"),i},[e.sequence]),{trialId:r}=ia();return k.jsx(Fx,{shadow:"sm",p:"md",withBorder:!0,children:t.length===0?k.jsx(Rt,{justify:"center",align:"center",pt:"lg",pb:"md",children:k.jsx(Fe,{children:"No data available."})}):k.jsxs(Rt,{direction:"row",children:[k.jsx(ge,{w:340,children:k.jsx(qM,{configSequence:n,participantSequence:n,fullSequence:n,participantView:!1,studyConfig:e,analysisNavigation:!0})}),k.jsx(r0,{orientation:"vertical",mx:"md"}),k.jsx(AJt,{participantData:t,studyConfig:e,trialId:r})]})})}function IJt({xScale:e,answer:t,height:n,labelHeight:r=0}){return k.jsx("g",{children:k.jsx("line",{stroke:"gray",strokeWidth:1,x1:e(t.startTime)+2,x2:e(t.startTime)+2,y1:n-45-r,y2:n-25})})}const uI=3,s1=25,cI=25,dI=20,xme=1,l8=15;function RJt({xScale:e,answer:t,name:n,height:r,setSelectedTask:i,isSelected:o,labelHeight:s=0,isCorrect:a,hasCorrect:l}){const[u,c]=O.useState(!1),[d,{width:h}]=CA();return k.jsxs("g",{onClick:()=>i(n),onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),style:{cursor:"pointer"},children:[k.jsx("rect",{opacity:1,fill:u||o?"cornflowerblue":"lightgray",x:e(t.startTime)+xme,width:e(t.endTime)-e(t.startTime)-xme*2,y:r-s1,height:s1}),k.jsx("rect",{rx:3,opacity:1,x:e(t.startTime)-uI,width:h+uI*2+(l?l8:0),y:r-s1-cI-s,height:dI,fill:"whitesmoke"}),k.jsx("line",{stroke:"black",strokeWidth:1,x1:e(t.startTime)-uI,x2:h+e(t.startTime)+uI+(l?l8:0),y1:r-s1-cI+dI-s,y2:r-s1-cI+dI-s}),k.jsx("foreignObject",{x:e(t.startTime),width:h+(l?l8:0),y:r-s1-cI-s,height:dI,children:k.jsx(zu,{style:{width:"fit-content"},children:k.jsxs(Dr,{wrap:"nowrap",gap:2,children:[k.jsx(Fe,{lineClamp:1,ref:d,mx:0,style:{width:"fit-content",fontWeight:600},size:"12px",children:n}),l?a?k.jsx(jA,{color:"var(--mantine-color-green-6)",style:{marginTop:2,strokeWidth:4},size:"14"}):k.jsx(Jx,{color:"var(--mantine-color-red-6)",style:{marginTop:2,strokeWidth:4},size:14}):""]})})})]})}const _me=25,$Jt=8,u8={left:20,right:20};function DJt({participantData:e,width:t,height:n,selectedTask:r,studyId:i,studyConfig:o,maxLength:s}){const a=O.useCallback(g=>{const y=g.split("_"),v=+y[y.length-1];window.open(`${hi}${i}/${no(v)}?participantId=${e.participantId}`,"_blank")},[e.participantId,i]),l=O.useMemo(()=>{const g=Object.values(e.answers||{}).filter(b=>b.startTime).map(b=>[b.startTime,b.endTime]).flat(),y=Myt(g);return wO([u8.left,t-u8.left-u8.right]).domain([y[0],s?y[0]+s:y[1]]).clamp(!0)},[s,e.answers,t]),[u,c,d]=O.useMemo(()=>{let g=0;const y=Object.entries(e.answers||{}).filter(x=>!!x[1].startTime).sort((x,w)=>x[1].startTime-w[1].startTime);let v=0,b=0;const _=y.map((x,w)=>{const[E,S]=x,T=w>0?y[w-g-1]:null;T&&T[0].length*($Jt+1)+l(T[1].startTime)>l(S.startTime)?g+=1:g=0;const C=E.split("_"),D=C.slice(0,C.length-1).join("_"),$=o==null?void 0:o.components[D];let I=!0,R=!1;return $&&$.correctAnswer?($.correctAnswer.forEach(A=>{const{id:M,answer:N}=A;(!$||!$.correctAnswer||S.answer[M]!==N)&&(I=!1)}),R=!0):R=!1,R&&(b+=1,I&&(v+=1)),{line:k.jsx(IJt,{labelHeight:g*_me,answer:S,height:n,xScale:l},E),label:k.jsx(Ur,{withinPortal:!0,position:"bottom-start",px:4,py:0,withArrow:!0,label:k.jsx(tu,{gap:0,children:Object.entries(S.answer).map(A=>{var z,F;const[M,N]=A,L=(F=(z=$==null?void 0:$.correctAnswer)==null?void 0:z.find(j=>j.id===M))==null?void 0:F.answer;return k.jsx(Fe,{children:`${M}: ${N} ${L?`[${L}]`:""}`},M)})}),children:k.jsx("g",{children:k.jsx(RJt,{isCorrect:I,hasCorrect:R,labelHeight:g*_me,isSelected:r===E,setSelectedTask:a,answer:S,height:n,name:E,xScale:l},E)})},`${E}-tooltip`)}});return[v,b,_]},[e.answers,l,o==null?void 0:o.components,n,r,a]),h=O.useMemo(()=>{if(!e.answers||Object.entries(e.answers).length===0)return 0;const g=Object.values(e.answers).filter(y=>y.startTime).sort((y,v)=>y.startTime-v.startTime);return new Date(g[g.length-1].endTime-(g[0]?g[0].startTime:0)).getTime()},[e]),f=O.useMemo(()=>Object.entries(e.answers||{}).sort((y,v)=>y[1].startTime-v[1].startTime).map(y=>{const[v,b]=y,_=[];let x=[-1,-1],w="visible";if(b.windowEvents)for(let E=0;E<b.windowEvents.length;E+=1)b.windowEvents[E][1]==="visibility"&&(b.windowEvents[E][2]==="hidden"&&w==="visible"?(x=[b.windowEvents[E][0],-1],w="hidden"):b.windowEvents[E][2]==="visible"&&w==="hidden"&&(x[1]=b.windowEvents[E][0],_.push(x),x=[-1,-1],w="visible"));return _.map((E,S)=>k.jsx(Ur,{withinPortal:!0,label:"Browsed away",children:k.jsx("rect",{x:l(E[0]),width:l(E[1])-l(E[0]),y:n-5,height:10})},S))}),[l,n,e.answers]),p=O.useMemo(()=>FLe(e,o),[e,o]),m=O.useMemo(()=>{if(!e.answers||Object.entries(e.answers).length===0)return"";const g=Object.values(e.answers).filter(v=>v.startTime).sort((v,b)=>v.startTime-b.startTime),y=new Date(g[g.length-1].endTime);return e.completed?`${y.toLocaleDateString()} ${y.toLocaleTimeString()}`:""},[e]);return k.jsx(zu,{children:k.jsxs(tu,{gap:15,style:{width:"100%"},children:[k.jsx(r0,{size:"md"}),k.jsxs(Dr,{justify:"space-between",children:[k.jsxs(Dr,{justify:"center",children:[e.participantIndex?k.jsx(Fe,{children:`P-${e.participantIndex.toString().padStart(3,"0")}`}):null,k.jsx(Fe,{size:"md",fw:700,children:p||e.participantId}),k.jsx(Fe,{size:"md",children:m}),e.completed?null:k.jsx(Fe,{size:"xl",c:"red",children:"Not completed"}),k.jsxs(Dr,{gap:10,children:[k.jsx(qc,{variant:"light",size:"lg",color:"green",leftSection:k.jsx(jA,{width:18,height:18,style:{paddingTop:1}}),pb:1,children:u}),k.jsx(qc,{variant:"light",size:"lg",color:"red",leftSection:k.jsx(Jx,{width:18,height:18,style:{paddingTop:1}}),pb:1,children:c-u}),k.jsx(qc,{variant:"light",size:"lg",color:"gray",leftSection:k.jsx(Rqe,{width:18,height:18,style:{paddingTop:1}}),pb:1,children:DU(h)})]})]}),k.jsx(Kt,{rightSection:k.jsx(l1e,{size:14}),component:"a",href:`${hi}${i}/${no(0)}?participantId=${e.participantId}`,target:"_blank",children:"Go to replay"})]}),e.completed?k.jsxs("svg",{style:{width:t,height:n,overflow:"visible"},children:[d.map(g=>g.line),d.map(g=>g.label),f]}):null]})})}function MJt({visibleParticipants:e,studyConfig:t}){const{studyId:n}=ia(),[r,{width:i}]=CA(),[o,s]=O.useState(!1),a=O.useMemo(()=>o?Math.max(...e.map(u=>{const c=Math.min(...Object.values(u.answers).map(h=>h.startTime||0)),d=Math.max(...Object.values(u.answers).map(h=>h.endTime||0));return d&&c?d-c:0})):void 0,[o,e]);return k.jsxs(tu,{ref:r,style:{width:"100%"},children:[k.jsx(Dr,{children:k.jsx(ng,{checked:o,label:"Scale by time",onChange:l=>s(l.currentTarget.checked)})}),e.map(l=>k.jsx(DJt,{maxLength:a,studyConfig:t,studyId:n||"",height:200,participantData:l,width:i},l.participantId))]})}function Eme(e,t){const n=Object.values(e.answers).map(i=>i.startTime).filter(i=>i!==void 0).sort(),r=Object.values(t.answers).map(i=>i.startTime).filter(i=>i!==void 0).sort();return n.length===0||r.length===0?n.length>0?-1:r.length>0?1:t.participantIndex-e.participantIndex:r[0]-n[0]}function PJt({globalConfig:e}){const{studyId:t}=ia(),[n,r]=O.useState([]),[i,o]=O.useState(void 0),[s,a]=O.useState(!1),{storageEngine:l}=Si(),u=mu(),{analysisTab:c}=ia(),{user:d}=g_();O.useEffect(()=>{if(!t)return()=>{};if(t==="__revisit-widget"){const b=async _=>{if(_.data.type==="revisitWidget/CONFIG"&&l){const x=await $ee(_.data.payload);o(x)}};return window.addEventListener("message",b),window.parent.postMessage({type:"revisitWidget/READY"},"*"),()=>{window.removeEventListener("message",b)}}return Dee(t,e).then(b=>{b&&o(b)}),()=>{}},[t,e,l]);const h=O.useCallback(async()=>{if(a(!0),t){if(!i||!l)return;await l.initializeStudyDb(t,i);const b=await l.getAllParticipantsData();r(b),a(!1)}},[l,t,i]);O.useEffect(()=>{h()},[e,l,t,h]);const[f,p]=O.useState([]),[m,g,y]=O.useMemo(()=>{const b=n.filter(w=>!w.rejected&&w.completed),_=n.filter(w=>!w.rejected&&!w.completed),x=n.filter(w=>w.rejected);return p([...b,..._,...x].sort(Eme)),[b,_,x]},[n]),v=O.useCallback(b=>{const _=[];b.includes("completed")&&_.push(...m),b.includes("inprogress")&&_.push(...g),b.includes("rejected")&&_.push(...y),p(_.sort(Eme))},[m,g,y]);return k.jsxs(k.Fragment,{children:[k.jsx(DR,{studyIds:e.configsList}),k.jsx(br.Main,{children:k.jsxs(yp,{fluid:!0,style:{height:"100%",position:"relative"},children:[k.jsx(Uu,{visible:s}),k.jsxs(Rt,{direction:"row",align:"center",justify:"space-between",children:[k.jsx(wi,{order:5,children:t}),k.jsxs(Rt,{direction:"row",align:"center",children:[k.jsx(Fe,{mt:-2,size:"sm",children:"Participants: "}),k.jsx(Ys.Group,{defaultValue:["completed","inprogress","rejected"],onChange:v,mb:"xs",mt:8,ml:"xs",children:k.jsxs(Dr,{children:[k.jsx(Ys,{value:"completed",label:"Completed"}),k.jsx(Ys,{value:"inprogress",label:"In Progress"}),k.jsx(Ys,{value:"rejected",label:"Rejected"})]})})]})]}),k.jsx(Gl,{h:"xs"}),k.jsxs(Fn,{variant:"outline",value:c,onChange:b=>u(`/analysis/stats/${t}/${b}`),style:{height:"100%"},children:[k.jsxs(Fn.List,{children:[k.jsx(Fn.Tab,{value:"table",leftSection:k.jsx(qqe,{size:16}),children:"Table View"}),k.jsx(Fn.Tab,{value:"stats",leftSection:k.jsx(Sqe,{size:16}),children:"Trial Stats"}),k.jsx(Fn.Tab,{value:"replay",leftSection:k.jsx(Fqe,{size:16}),children:"Participant Replay"}),k.jsx(Fn.Tab,{value:"manage",leftSection:k.jsx(d1e,{size:16}),disabled:!d.isAdmin,children:"Manage"})]}),k.jsx(Fn.Panel,{value:"table",pt:"xs",children:i&&k.jsx(_Jt,{visibleParticipants:f,studyConfig:i,refresh:h})}),k.jsx(Fn.Panel,{value:"stats",pt:"xs",children:i&&k.jsx(kJt,{studyConfig:i,visibleParticipants:f})}),k.jsx(Fn.Panel,{value:"replay",pt:"xs",children:k.jsx(MJt,{visibleParticipants:f,studyConfig:i})}),k.jsx(Fn.Panel,{value:"manage",pt:"xs",children:t&&d.isAdmin?k.jsx(TJt,{studyId:t,refresh:h}):k.jsx(yp,{mt:20,children:k.jsx(Kf,{title:"Unauthorized Access",variant:"light",color:"red",icon:k.jsx(FW,{}),children:"You are not authorized to manage the data for this study."})})})]})]})})]})}function Sme({children:e,paramToCheck:t,paramCallback:n}){const{user:r,verifyAdminStatus:i,logout:o}=g_(),{storageEngine:s}=Si(),[a,l]=O.useState(!1),u=ia();return O.useEffect(()=>{(async()=>{if(a===!1)if(t&&n&&u[t]){const d=await n(u[t]);d&&l(d)}else l(!0);if(a)try{r&&await i(r)||o()}catch(d){o(),console.warn(d)}})()},[r.isAdmin,a]),r.determiningStatus||!s?k.jsx(Uu,{visible:r.determiningStatus||!(s!=null&&s.getEngine())}):a&&!r.isAdmin&&!r.determiningStatus?k.jsx(MW,{to:"/login"}):k.jsx(k.Fragment,{children:e})}async function BLe(e,t){if(e instanceof Tu){t(!0);const n=new Rf,r=U$();try{await Xut(r,n,qEe)}catch(i){PC({title:"Error",message:i.message,color:"red"})}finally{t(!1)}return r.currentUser}return null}function NJt(){const{user:e}=g_(),[t,n]=O.useState(!1),{storageEngine:r}=Si();return O.useEffect(()=>{!e.determiningStatus&&!e.isAdmin&&e.adminVerification&&PC({title:"Unauthorized",message:"You are not authorized to use this application.",color:"red"})},[e.adminVerification]),!e.determiningStatus&&e.isAdmin?k.jsx(MW,{to:"/"}):k.jsx(yp,{children:k.jsx(Hx,{padding:"lg",children:k.jsxs(Rt,{align:"center",direction:"column",justify:"center",children:[k.jsx(i0,{maw:200,mt:50,mb:100,src:`${hi}revisitAssets/revisitLogoSquare.svg`,alt:"Revisit Logo"}),k.jsxs(k.Fragment,{children:[k.jsx(Fe,{mb:20,children:"To access admin settings, please sign in using your Google account."}),k.jsx(Kt,{onClick:()=>BLe(r,n),leftSection:k.jsx(Gqe,{}),variant:"filled",children:"Sign In With Google"})]}),k.jsx(Uu,{visible:t})]})})})}function OJt(){const{user:e,triggerAuth:t,logout:n}=g_(),{storageEngine:r}=Si(),[i,o]=O.useState(!1),[s,a]=O.useState([]),[l,u]=O.useState(!1),[c,d]=O.useState(!1),[h,f]=O.useState(!1),[p,m]=O.useState(!1),[g,y]=O.useState(!1),[v,b]=O.useState(""),[_,x]=O.useState(null),w=MTe({initialValues:{email:""},validate:{email:a0t("Invalid email")}});O.useEffect(()=>{(async()=>{if(u(!0),r instanceof Tu){const R=await(r==null?void 0:r.getUserManagementData("authentication"));o((R==null?void 0:R.isEnabled)||!1);const A=await(r==null?void 0:r.getUserManagementData("adminUsers"));A&&A.adminUsersList&&a(A==null?void 0:A.adminUsersList.map(M=>M.email))}else o(!1);u(!1)})()},[r]);const E=async()=>{if(u(!0),r instanceof Tu){const I=await BLe(r,u);I&&I.email?(x({email:I.email,uid:I.uid}),m(!0)):y(!0)}u(!1)},S=async I=>{u(!0),r instanceof Tu&&I&&(await r.changeAuth(!0),await r.addAdminUser(I),a([I.email]),o(!0),t()),m(!1),u(!1)},T=async()=>{if(u(!0),r instanceof Tu){await r.addAdminUser({email:w.values.email,uid:null});const I=await r.getUserManagementData("adminUsers");a((I==null?void 0:I.adminUsersList.map(R=>R.email))||[])}u(!1),d(!1),w.setValues({email:""})},C=I=>{f(!0),b(I)},D=async()=>{if(u(!0),r instanceof Tu){await r.removeAdminUser(v);const I=await r.getUserManagementData("adminUsers");a((I==null?void 0:I.adminUsersList.map(R=>R.email))||[])}f(!1),u(!1)},$=O.useMemo(()=>r instanceof Tu,[r]);return k.jsxs(k.Fragment,{children:[k.jsx(yp,{children:k.jsxs(Hx,{withBorder:!0,style:{backgroundColor:"#FAFAFA"},children:[k.jsx(wi,{mb:20,order:3,children:"Authentication"}),i?k.jsx(Rt,{children:k.jsx(Fe,{children:"Authentication is enabled."})}):k.jsxs(Rt,{justify:"space-between",children:[k.jsx(ge,{children:k.jsx(Fe,{children:"Authentication is currently disabled."})}),k.jsx(Ur,{label:"You can only enable auth when using Firebase",disabled:$,children:k.jsx(Kt,{onClick:I=>$?E():I.preventDefault(),color:"green","data-disabled":$?void 0:!0,style:{"&[dataDisabled]":{pointerEvents:"all"}},children:"Enable Authentication"})})]}),i?k.jsxs(Rt,{mt:40,direction:"column",children:[k.jsxs(Rt,{style:{borderBottom:"1px solid #dedede"},direction:"row",justify:"space-between",mb:15,pb:15,children:[k.jsx(wi,{order:6,children:"Enabled Users"}),k.jsx(BW,{style:{cursor:"pointer"},onClick:()=>d(!0)})]}),s.length>0?s.map(I=>{var R;return k.jsxs(Rt,{justify:"space-between",mb:10,children:[k.jsx(Fe,{children:I}),I===((R=e.user)==null?void 0:R.email)?k.jsx(Fe,{color:"blue",size:"xs",children:"You"}):k.jsx(e0,{variant:"subtle",onClick:()=>C(I),children:k.jsx(f1e,{color:"red"})})]},I)}):null,k.jsx(Rt,{direction:"row",justify:"left",children:k.jsx(Kt,{onClick:()=>n(),mt:20,children:"Log out"})})]}):null]})}),k.jsx(li,{opened:c,onClose:()=>d(!1),title:"Add Admin User",children:k.jsxs(ge,{component:"form",onSubmit:w.onSubmit(()=>T()),children:[k.jsx(Lf,{leftSection:k.jsx(wqe,{}),placeholder:"User Gmail Account",...w.getInputProps("email")}),k.jsxs(Rt,{mt:30,justify:"right",children:[k.jsx(Kt,{mr:5,variant:"subtle",color:"red",onClick:()=>d(!1),children:"Cancel"}),k.jsx(Kt,{type:"submit",children:"Save"})]})]})}),k.jsxs(li,{opened:h,size:"large",onClose:()=>f(!1),title:k.jsxs(Fe,{fw:700,children:["Remove",v,"?"]}),children:[k.jsxs(Fe,{mt:40,children:["Are you sure you want to remove",k.jsx("b",{children:v})," ","as an administrator?"]}),k.jsxs(Rt,{mt:40,justify:"right",children:[k.jsx(Kt,{mr:5,variant:"subtle",color:"red",onClick:()=>f(!1),children:"Cancel"}),k.jsx(Kt,{onClick:()=>D(),children:"Yes, I'm sure."})]})]}),k.jsxs(li,{opened:p,size:"md",onClose:()=>m(!1),title:k.jsx(Fe,{fw:700,children:"Enable Authentication?"}),children:[k.jsxs(Fe,{mt:40,children:["User"," ",k.jsx("b",{children:_==null?void 0:_.email})," ","will be added as an administrator to this application. After enabling authentication, you'll be able to add additional users below. This action cannot be undone."]}),k.jsxs(Rt,{mt:40,justify:"right",children:[k.jsx(Kt,{mr:5,variant:"subtle",color:"red",onClick:()=>m(!1),children:"Cancel"}),k.jsx(Kt,{onClick:()=>S(_),children:"Yes, I'm sure."})]})]}),k.jsxs(li,{opened:g,size:"md",onClose:()=>y(!1),title:k.jsx(Fe,{fw:700,children:"An Error Occurred."}),children:[k.jsxs(Fe,{mt:40,children:["An error has occurred when trying to enable authentication. Please consult the"," ",k.jsx("a",{href:"https://revisit.dev/docs/data-and-deployment/authentication-authorization/adding-removing-ui/",target:"_blank",rel:"noreferrer",children:"documentation"})," ","for more information."]}),k.jsx(Rt,{mt:40,justify:"right",children:k.jsx(Kt,{mr:5,onClick:()=>y(!1),children:"Okay"})})]}),k.jsx(Uu,{visible:l})]})}class LJt extends KEe{constructor(){super("localStorage");Rs(this,"studyDatabase");Rs(this,"studyId")}async connect(){this.connected=!0}async initializeStudyDb(n,r){this.studyId=n,this.studyDatabase=await f1.createInstance({name:n});const i=await this.getCurrentConfigHash(),o=await TC(JSON.stringify(r));i&&i!==o&&(await this.studyDatabase.removeItem("sequenceArray"),await this.clearCurrentParticipantId()),this.studyDatabase.setItem("currentConfigHash",o);const s=await this.studyDatabase.getItem("configs");await this.studyDatabase.setItem("configs",{...s,[o]:r})}async getAllParticipantNames(){return(await this.getAllParticipantsData()).map(r=>r.participantId)}getAudio(n,r){return console.warn("not yet implemented",r),Promise.resolve(void 0)}async saveAudio(n){return console.warn("not yet implemented",n),Promise.resolve()}async initializeParticipantSession(n,r,i,o,s){var f;if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");if(await this.getCurrentParticipantId(s),!this.currentParticipantId)throw new Error("Participant not initialized");const a=await this.studyDatabase.getItem(this.currentParticipantId);if(a)return a;const l=await this.getModes(n),u=await TC(JSON.stringify(i)),{currentRow:c,creationIndex:d}=await this.getSequence(),h={participantId:this.currentParticipantId,participantConfigHash:u,sequence:c,participantIndex:d,answers:{},searchParams:r,metadata:o,completed:!1,rejected:!1,participantTags:[]};return l.dataCollectionEnabled&&await((f=this.studyDatabase)==null?void 0:f.setItem(this.currentParticipantId,h)),h}async getCurrentConfigHash(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");return await this.studyDatabase.getItem("currentConfigHash")}async getAllConfigsFromHash(n,r){return await f1.createInstance({name:r}).getItem("configs")||{}}async getCurrentParticipantId(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const r=await this.studyDatabase.getItem("currentParticipant");if(n)return this.currentParticipantId=n,await this.studyDatabase.setItem("currentParticipant",n),n;if(r)return this.currentParticipantId=r,r;const i=H$();return await this.studyDatabase.setItem("currentParticipant",i),this.currentParticipantId=i,i}async clearCurrentParticipantId(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");await this.studyDatabase.removeItem("currentParticipant")}async saveAnswers(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const r=await this.studyDatabase.getItem(this.currentParticipantId);if(!r)throw new Error("Participant not initialized");r.answers=n,await this.studyDatabase.setItem(this.currentParticipantId,r)}async setSequenceArray(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");this.studyDatabase.setItem("sequenceArray",n)}async getSequence(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.studyDatabase.getItem("sequenceArray");if(!n)throw new Error("Latin square not initialized");if(!this.studyId)throw new Error("Study ID not initialized");const r=await this.getModes(this.studyId),i=r.dataCollectionEnabled?n.pop():n[Math.floor(Math.random()*n.length-1)];if(!i)throw new Error("Latin square is empty");return r.dataCollectionEnabled&&await this.studyDatabase.setItem("sequenceArray",n),{currentRow:i,creationIndex:1e3-n.length}}async getSequenceArray(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");return await this.studyDatabase.getItem("sequenceArray")}async getAllParticipantsData(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=[];return await this.studyDatabase.iterate((r,i)=>{i!=="config"&&i!=="currentParticipant"&&i!=="sequenceArray"&&i!=="configs"&&i!=="currentConfigHash"&&i!=="modes"&&n.push(r)}),n}async getAllParticipantsDataByStudy(n){const r=f1.createInstance({name:n}),i=[];return await r.iterate((o,s)=>{s!=="config"&&s!=="currentParticipant"&&s!=="sequenceArray"&&s!=="configs"&&s!=="currentConfigHash"&&s!=="modes"&&i.push(o)}),i}async getParticipantData(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const r=n||await this.studyDatabase.getItem("currentParticipant");return r?await this.studyDatabase.getItem(r):null}async getParticipantTags(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.getParticipantData();if(!n)throw new Error("Participant not initialized");return n.participantTags}async addParticipantTags(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const r=await this.getParticipantData();if(!r)throw new Error("Participant not initialized");r.participantTags=[...new Set([...r.participantTags,...n])],await this.studyDatabase.setItem(this.currentParticipantId,r)}async removeParticipantTags(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const r=await this.getParticipantData();if(!r)throw new Error("Participant not initialized");r.participantTags=r.participantTags.filter(i=>!n.includes(i)),await this.studyDatabase.setItem(this.currentParticipantId,r)}async nextParticipant(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=H$();await this.studyDatabase.setItem("currentParticipant",n)}async verifyCompletion(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.getParticipantData();if(!n)throw new Error("Participant not initialized");return n.completed||(n.completed=!0,await this.studyDatabase.setItem(this.currentParticipantId,n)),!0}async validateUser(n){return!0}async rejectParticipant(n,r,i){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const o=await this.studyDatabase.getItem(r);if(!o)throw new Error("Participant not found");if(o.rejected)return;o.rejected={reason:i,timestamp:new Date().getTime()};const s=await this.studyDatabase.getItem("sequenceArray");s&&(s.unshift(o.sequence),this.setSequenceArray(s)),await this.studyDatabase.setItem(r,o)}async rejectCurrentParticipant(n,r){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");await this.rejectParticipant(n,this.currentParticipantId,r)}async setMode(n,r,i){this.studyDatabase=await f1.createInstance({name:n});const o=await this.studyDatabase.getItem("modes");if(!o)throw new Error("Modes not initialized");o[r]=i,this.studyDatabase.setItem("modes",o)}async getModes(n){this.studyDatabase=await f1.createInstance({name:n});const r=await this.studyDatabase.getItem("modes");if(r)return r;const i={dataCollectionEnabled:!0,studyNavigatorEnabled:!0,analyticsInterfacePubliclyAccessible:!0};return this.studyDatabase.setItem("modes",i),i}async getParticipantsStatusCounts(n){const r=await this.getAllParticipantsDataByStudy(n),i=r.filter(u=>u.completed&&!u.rejected).length,o=r.filter(u=>u.rejected).length,s=r.filter(u=>!u.completed&&!u.rejected).length,a=Math.min(...r.map(u=>Math.min(...Object.values(u.answers).map(c=>c.startTime)))),l=Math.max(...r.map(u=>Math.max(...Object.values(u.answers).map(c=>c.endTime))));return{completed:i,rejected:o,inProgress:s,minTime:a===1/0?null:a,maxTime:l===-1/0?null:l}}_verifyStudyDatabase(n){return n!==void 0}}async function FJt(){let e,t=!1;{const n=new Tu;await n.connect(),n.isConnected()?e=n:t=!0}if(t){const n=new LJt;await n.connect(),e=n}return e}function KE({title:e}){const t=nc();return O.useEffect(()=>{document.title=e},[t,e]),null}async function BJt(){const t=await(await fetch(`${hi}global.json`)).text();return mJt(t)}function jJt(){const[e,t]=O.useState(null),[n,r]=O.useState({});O.useEffect(()=>{async function a(){e&&r(await vJt(e))}a()},[e]),O.useEffect(()=>{e||BJt().then(a=>{t(a)})},[e]);const{storageEngine:i,setStorageEngine:o}=Si();O.useEffect(()=>{if(i!==void 0)return;async function a(){const l=await FJt();o(l)}a()},[o,i]);const s=async a=>i instanceof Tu?!(await i.getModes(a)).analyticsInterfacePubliclyAccessible:!1;return e?k.jsx(eqe,{basename:hi,children:k.jsx(ddt,{children:k.jsx(mqe,{children:k.jsxs(RWe,{children:[k.jsx(K0,{path:"/",element:k.jsxs(k.Fragment,{children:[k.jsx(KE,{title:"ReVISit | Home"}),k.jsxs(br,{padding:"md",header:{height:70},children:[k.jsx(DR,{studyIds:e.configsList}),k.jsx(fdt,{globalConfig:e,studyConfigs:n})]})]})}),k.jsx(K0,{path:"/:studyId/*",element:k.jsxs(k.Fragment,{children:[k.jsx(KE,{title:"ReVISit | Study"}),k.jsx(bJt,{globalConfig:e})]})}),k.jsx(K0,{path:"/analysis/stats/:studyId/:analysisTab/:trialId?",element:k.jsxs(k.Fragment,{children:[k.jsx(KE,{title:"ReVISit | Analysis"}),k.jsx(Sme,{paramToCheck:"studyId",paramCallback:s,children:k.jsx(br,{padding:"md",header:{height:70},children:k.jsx(PJt,{globalConfig:e})})})]})}),k.jsx(K0,{path:"/analysis/stats/:studyId",element:k.jsx(pOe,{to:"./table",replace:!0})}),k.jsx(K0,{path:"/settings",element:k.jsxs(Sme,{children:[k.jsx(KE,{title:"ReVISit | Settings"}),k.jsxs(br,{padding:"md",header:{height:70},children:[k.jsx(DR,{studyIds:e.configsList}),k.jsx(br.Main,{children:k.jsx(OJt,{})})]})]})}),k.jsx(K0,{path:"/login",element:k.jsxs(k.Fragment,{children:[k.jsx(KE,{title:"ReVISit | Login"}),k.jsxs(br,{padding:"md",header:{height:70},children:[k.jsx(DR,{studyIds:e.configsList}),k.jsx(br.Main,{children:k.jsx(NJt,{})})]})]})})]})})})}):null}c8.createRoot(document.getElementById("root")).render(k.jsx(Nn.StrictMode,{children:k.jsx(RVe,{children:k.jsxs(oye,{defaultColorScheme:"light",children:[k.jsx(Up,{}),k.jsx(jJt,{})]})})}));
