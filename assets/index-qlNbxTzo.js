var FPe=Object.defineProperty;var BPe=(e,t,n)=>t in e?FPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var la=(e,t,n)=>BPe(e,typeof t!="symbol"?t+"":t,n);function jPe(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Ur=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ul(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function zPe(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var aF={exports:{}},q_={},lF={exports:{}},Yn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aee;function UPe(){if(aee)return Yn;aee=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),d=Symbol.iterator;function f(F){return F===null||typeof F!="object"?null:(F=d&&F[d]||F["@@iterator"],typeof F=="function"?F:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,m={};function g(F,Y,V){this.props=F,this.context=Y,this.refs=m,this.updater=V||h}g.prototype.isReactComponent={},g.prototype.setState=function(F,Y){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,Y,"setState")},g.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function y(){}y.prototype=g.prototype;function v(F,Y,V){this.props=F,this.context=Y,this.refs=m,this.updater=V||h}var w=v.prototype=new y;w.constructor=v,p(w,g.prototype),w.isPureReactComponent=!0;var E=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function C(F,Y,V){var G,X={},Z=null,oe=null;if(Y!=null)for(G in Y.ref!==void 0&&(oe=Y.ref),Y.key!==void 0&&(Z=""+Y.key),Y)_.call(Y,G)&&!S.hasOwnProperty(G)&&(X[G]=Y[G]);var ne=arguments.length-2;if(ne===1)X.children=V;else if(1<ne){for(var ie=Array(ne),fe=0;fe<ne;fe++)ie[fe]=arguments[fe+2];X.children=ie}if(F&&F.defaultProps)for(G in ne=F.defaultProps,ne)X[G]===void 0&&(X[G]=ne[G]);return{$$typeof:e,type:F,key:Z,ref:oe,props:X,_owner:x.current}}function A(F,Y){return{$$typeof:e,type:F.type,key:Y,ref:F.ref,props:F.props,_owner:F._owner}}function k(F){return typeof F=="object"&&F!==null&&F.$$typeof===e}function N(F){var Y={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(V){return Y[V]})}var M=/\/+/g;function I(F,Y){return typeof F=="object"&&F!==null&&F.key!=null?N(""+F.key):Y.toString(36)}function D(F,Y,V,G,X){var Z=typeof F;(Z==="undefined"||Z==="boolean")&&(F=null);var oe=!1;if(F===null)oe=!0;else switch(Z){case"string":case"number":oe=!0;break;case"object":switch(F.$$typeof){case e:case t:oe=!0}}if(oe)return oe=F,X=X(oe),F=G===""?"."+I(oe,0):G,E(X)?(V="",F!=null&&(V=F.replace(M,"$&/")+"/"),D(X,Y,V,"",function(fe){return fe})):X!=null&&(k(X)&&(X=A(X,V+(!X.key||oe&&oe.key===X.key?"":(""+X.key).replace(M,"$&/")+"/")+F)),Y.push(X)),1;if(oe=0,G=G===""?".":G+":",E(F))for(var ne=0;ne<F.length;ne++){Z=F[ne];var ie=G+I(Z,ne);oe+=D(Z,Y,V,ie,X)}else if(ie=f(F),typeof ie=="function")for(F=ie.call(F),ne=0;!(Z=F.next()).done;)Z=Z.value,ie=G+I(Z,ne++),oe+=D(Z,Y,V,ie,X);else if(Z==="object")throw Y=String(F),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return oe}function R(F,Y,V){if(F==null)return F;var G=[],X=0;return D(F,G,"","",function(Z){return Y.call(V,Z,X++)}),G}function O(F){if(F._status===-1){var Y=F._result;Y=Y(),Y.then(function(V){(F._status===0||F._status===-1)&&(F._status=1,F._result=V)},function(V){(F._status===0||F._status===-1)&&(F._status=2,F._result=V)}),F._status===-1&&(F._status=0,F._result=Y)}if(F._status===1)return F._result.default;throw F._result}var B={current:null},z={transition:null},W={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:z,ReactCurrentOwner:x};function U(){throw Error("act(...) is not supported in production builds of React.")}return Yn.Children={map:R,forEach:function(F,Y,V){R(F,function(){Y.apply(this,arguments)},V)},count:function(F){var Y=0;return R(F,function(){Y++}),Y},toArray:function(F){return R(F,function(Y){return Y})||[]},only:function(F){if(!k(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Yn.Component=g,Yn.Fragment=n,Yn.Profiler=i,Yn.PureComponent=v,Yn.StrictMode=r,Yn.Suspense=l,Yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W,Yn.act=U,Yn.cloneElement=function(F,Y,V){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var G=p({},F.props),X=F.key,Z=F.ref,oe=F._owner;if(Y!=null){if(Y.ref!==void 0&&(Z=Y.ref,oe=x.current),Y.key!==void 0&&(X=""+Y.key),F.type&&F.type.defaultProps)var ne=F.type.defaultProps;for(ie in Y)_.call(Y,ie)&&!S.hasOwnProperty(ie)&&(G[ie]=Y[ie]===void 0&&ne!==void 0?ne[ie]:Y[ie])}var ie=arguments.length-2;if(ie===1)G.children=V;else if(1<ie){ne=Array(ie);for(var fe=0;fe<ie;fe++)ne[fe]=arguments[fe+2];G.children=ne}return{$$typeof:e,type:F.type,key:X,ref:Z,props:G,_owner:oe}},Yn.createContext=function(F){return F={$$typeof:s,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:o,_context:F},F.Consumer=F},Yn.createElement=C,Yn.createFactory=function(F){var Y=C.bind(null,F);return Y.type=F,Y},Yn.createRef=function(){return{current:null}},Yn.forwardRef=function(F){return{$$typeof:a,render:F}},Yn.isValidElement=k,Yn.lazy=function(F){return{$$typeof:c,_payload:{_status:-1,_result:F},_init:O}},Yn.memo=function(F,Y){return{$$typeof:u,type:F,compare:Y===void 0?null:Y}},Yn.startTransition=function(F){var Y=z.transition;z.transition={};try{F()}finally{z.transition=Y}},Yn.unstable_act=U,Yn.useCallback=function(F,Y){return B.current.useCallback(F,Y)},Yn.useContext=function(F){return B.current.useContext(F)},Yn.useDebugValue=function(){},Yn.useDeferredValue=function(F){return B.current.useDeferredValue(F)},Yn.useEffect=function(F,Y){return B.current.useEffect(F,Y)},Yn.useId=function(){return B.current.useId()},Yn.useImperativeHandle=function(F,Y,V){return B.current.useImperativeHandle(F,Y,V)},Yn.useInsertionEffect=function(F,Y){return B.current.useInsertionEffect(F,Y)},Yn.useLayoutEffect=function(F,Y){return B.current.useLayoutEffect(F,Y)},Yn.useMemo=function(F,Y){return B.current.useMemo(F,Y)},Yn.useReducer=function(F,Y,V){return B.current.useReducer(F,Y,V)},Yn.useRef=function(F){return B.current.useRef(F)},Yn.useState=function(F){return B.current.useState(F)},Yn.useSyncExternalStore=function(F,Y,V){return B.current.useSyncExternalStore(F,Y,V)},Yn.useTransition=function(){return B.current.useTransition()},Yn.version="18.3.1",Yn}var lee;function Dv(){return lee||(lee=1,lF.exports=UPe()),lF.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uee;function HPe(){if(uee)return q_;uee=1;var e=Dv(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(a,l,u){var c,d={},f=null,h=null;u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),l.ref!==void 0&&(h=l.ref);for(c in l)r.call(l,c)&&!o.hasOwnProperty(c)&&(d[c]=l[c]);if(a&&a.defaultProps)for(c in l=a.defaultProps,l)d[c]===void 0&&(d[c]=l[c]);return{$$typeof:t,type:a,key:f,ref:h,props:d,_owner:i.current}}return q_.Fragment=n,q_.jsx=s,q_.jsxs=s,q_}var cee;function VPe(){return cee||(cee=1,aF.exports=HPe()),aF.exports}var $=VPe(),H=Dv();const rr=ul(H),WPe=jPe({__proto__:null,default:rr},[H]);var uk={},uF={exports:{}},El={},cF={exports:{}},dF={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dee;function qPe(){return dee||(dee=1,function(e){function t(z,W){var U=z.length;z.push(W);e:for(;0<U;){var F=U-1>>>1,Y=z[F];if(0<i(Y,W))z[F]=W,z[U]=Y,U=F;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var W=z[0],U=z.pop();if(U!==W){z[0]=U;e:for(var F=0,Y=z.length,V=Y>>>1;F<V;){var G=2*(F+1)-1,X=z[G],Z=G+1,oe=z[Z];if(0>i(X,U))Z<Y&&0>i(oe,X)?(z[F]=oe,z[Z]=U,F=Z):(z[F]=X,z[G]=U,F=G);else if(Z<Y&&0>i(oe,U))z[F]=oe,z[Z]=U,F=Z;else break e}}return W}function i(z,W){var U=z.sortIndex-W.sortIndex;return U!==0?U:z.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,d=null,f=3,h=!1,p=!1,m=!1,g=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(z){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=z)r(u),W.sortIndex=W.expirationTime,t(l,W);else break;W=n(u)}}function E(z){if(m=!1,w(z),!p)if(n(l)!==null)p=!0,O(_);else{var W=n(u);W!==null&&B(E,W.startTime-z)}}function _(z,W){p=!1,m&&(m=!1,y(C),C=-1),h=!0;var U=f;try{for(w(W),d=n(l);d!==null&&(!(d.expirationTime>W)||z&&!N());){var F=d.callback;if(typeof F=="function"){d.callback=null,f=d.priorityLevel;var Y=F(d.expirationTime<=W);W=e.unstable_now(),typeof Y=="function"?d.callback=Y:d===n(l)&&r(l),w(W)}else r(l);d=n(l)}if(d!==null)var V=!0;else{var G=n(u);G!==null&&B(E,G.startTime-W),V=!1}return V}finally{d=null,f=U,h=!1}}var x=!1,S=null,C=-1,A=5,k=-1;function N(){return!(e.unstable_now()-k<A)}function M(){if(S!==null){var z=e.unstable_now();k=z;var W=!0;try{W=S(!0,z)}finally{W?I():(x=!1,S=null)}}else x=!1}var I;if(typeof v=="function")I=function(){v(M)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,R=D.port2;D.port1.onmessage=M,I=function(){R.postMessage(null)}}else I=function(){g(M,0)};function O(z){S=z,x||(x=!0,I())}function B(z,W){C=g(function(){z(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,O(_))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(z){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var U=f;f=W;try{return z()}finally{f=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,W){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var U=f;f=z;try{return W()}finally{f=U}},e.unstable_scheduleCallback=function(z,W,U){var F=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?F+U:F):U=F,z){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=U+Y,z={id:c++,callback:W,priorityLevel:z,startTime:U,expirationTime:Y,sortIndex:-1},U>F?(z.sortIndex=U,t(u,z),n(l)===null&&z===n(u)&&(m?(y(C),C=-1):m=!0,B(E,U-F))):(z.sortIndex=Y,t(l,z),p||h||(p=!0,O(_))),z},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(z){var W=f;return function(){var U=f;f=W;try{return z.apply(this,arguments)}finally{f=U}}}}(dF)),dF}var fee;function GPe(){return fee||(fee=1,cF.exports=qPe()),cF.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hee;function YPe(){if(hee)return El;hee=1;var e=Dv(),t=GPe();function n(b){for(var T="https://reactjs.org/docs/error-decoder.html?invariant="+b,P=1;P<arguments.length;P++)T+="&args[]="+encodeURIComponent(arguments[P]);return"Minified React error #"+b+"; visit "+T+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(b,T){s(b,T),s(b+"Capture",T)}function s(b,T){for(i[b]=T,b=0;b<T.length;b++)r.add(T[b])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c={},d={};function f(b){return l.call(d,b)?!0:l.call(c,b)?!1:u.test(b)?d[b]=!0:(c[b]=!0,!1)}function h(b,T,P,j){if(P!==null&&P.type===0)return!1;switch(typeof T){case"function":case"symbol":return!0;case"boolean":return j?!1:P!==null?!P.acceptsBooleans:(b=b.toLowerCase().slice(0,5),b!=="data-"&&b!=="aria-");default:return!1}}function p(b,T,P,j){if(T===null||typeof T>"u"||h(b,T,P,j))return!0;if(j)return!1;if(P!==null)switch(P.type){case 3:return!T;case 4:return T===!1;case 5:return isNaN(T);case 6:return isNaN(T)||1>T}return!1}function m(b,T,P,j,K,J,re){this.acceptsBooleans=T===2||T===3||T===4,this.attributeName=j,this.attributeNamespace=K,this.mustUseProperty=P,this.propertyName=b,this.type=T,this.sanitizeURL=J,this.removeEmptyString=re}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(b){g[b]=new m(b,0,!1,b,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(b){var T=b[0];g[T]=new m(T,1,!1,b[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(b){g[b]=new m(b,2,!1,b.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(b){g[b]=new m(b,2,!1,b,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(b){g[b]=new m(b,3,!1,b.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(b){g[b]=new m(b,3,!0,b,null,!1,!1)}),["capture","download"].forEach(function(b){g[b]=new m(b,4,!1,b,null,!1,!1)}),["cols","rows","size","span"].forEach(function(b){g[b]=new m(b,6,!1,b,null,!1,!1)}),["rowSpan","start"].forEach(function(b){g[b]=new m(b,5,!1,b.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(b){return b[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(b){var T=b.replace(y,v);g[T]=new m(T,1,!1,b,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(b){var T=b.replace(y,v);g[T]=new m(T,1,!1,b,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(b){var T=b.replace(y,v);g[T]=new m(T,1,!1,b,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(b){g[b]=new m(b,1,!1,b.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(b){g[b]=new m(b,1,!1,b.toLowerCase(),null,!0,!0)});function w(b,T,P,j){var K=g.hasOwnProperty(T)?g[T]:null;(K!==null?K.type!==0:j||!(2<T.length)||T[0]!=="o"&&T[0]!=="O"||T[1]!=="n"&&T[1]!=="N")&&(p(T,P,K,j)&&(P=null),j||K===null?f(T)&&(P===null?b.removeAttribute(T):b.setAttribute(T,""+P)):K.mustUseProperty?b[K.propertyName]=P===null?K.type===3?!1:"":P:(T=K.attributeName,j=K.attributeNamespace,P===null?b.removeAttribute(T):(K=K.type,P=K===3||K===4&&P===!0?"":""+P,j?b.setAttributeNS(j,T,P):b.setAttribute(T,P))))}var E=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),N=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),B=Symbol.for("react.offscreen"),z=Symbol.iterator;function W(b){return b===null||typeof b!="object"?null:(b=z&&b[z]||b["@@iterator"],typeof b=="function"?b:null)}var U=Object.assign,F;function Y(b){if(F===void 0)try{throw Error()}catch(P){var T=P.stack.trim().match(/\n( *(at )?)/);F=T&&T[1]||""}return`
`+F+b}var V=!1;function G(b,T){if(!b||V)return"";V=!0;var P=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(T)if(T=function(){throw Error()},Object.defineProperty(T.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(T,[])}catch(Be){var j=Be}Reflect.construct(b,[],T)}else{try{T.call()}catch(Be){j=Be}b.call(T.prototype)}else{try{throw Error()}catch(Be){j=Be}b()}}catch(Be){if(Be&&j&&typeof Be.stack=="string"){for(var K=Be.stack.split(`
`),J=j.stack.split(`
`),re=K.length-1,ve=J.length-1;1<=re&&0<=ve&&K[re]!==J[ve];)ve--;for(;1<=re&&0<=ve;re--,ve--)if(K[re]!==J[ve]){if(re!==1||ve!==1)do if(re--,ve--,0>ve||K[re]!==J[ve]){var Ee=`
`+K[re].replace(" at new "," at ");return b.displayName&&Ee.includes("<anonymous>")&&(Ee=Ee.replace("<anonymous>",b.displayName)),Ee}while(1<=re&&0<=ve);break}}}finally{V=!1,Error.prepareStackTrace=P}return(b=b?b.displayName||b.name:"")?Y(b):""}function X(b){switch(b.tag){case 5:return Y(b.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return b=G(b.type,!1),b;case 11:return b=G(b.type.render,!1),b;case 1:return b=G(b.type,!0),b;default:return""}}function Z(b){if(b==null)return null;if(typeof b=="function")return b.displayName||b.name||null;if(typeof b=="string")return b;switch(b){case S:return"Fragment";case x:return"Portal";case A:return"Profiler";case C:return"StrictMode";case I:return"Suspense";case D:return"SuspenseList"}if(typeof b=="object")switch(b.$$typeof){case N:return(b.displayName||"Context")+".Consumer";case k:return(b._context.displayName||"Context")+".Provider";case M:var T=b.render;return b=b.displayName,b||(b=T.displayName||T.name||"",b=b!==""?"ForwardRef("+b+")":"ForwardRef"),b;case R:return T=b.displayName||null,T!==null?T:Z(b.type)||"Memo";case O:T=b._payload,b=b._init;try{return Z(b(T))}catch{}}return null}function oe(b){var T=b.type;switch(b.tag){case 24:return"Cache";case 9:return(T.displayName||"Context")+".Consumer";case 10:return(T._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return b=T.render,b=b.displayName||b.name||"",T.displayName||(b!==""?"ForwardRef("+b+")":"ForwardRef");case 7:return"Fragment";case 5:return T;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Z(T);case 8:return T===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof T=="function")return T.displayName||T.name||null;if(typeof T=="string")return T}return null}function ne(b){switch(typeof b){case"boolean":case"number":case"string":case"undefined":return b;case"object":return b;default:return""}}function ie(b){var T=b.type;return(b=b.nodeName)&&b.toLowerCase()==="input"&&(T==="checkbox"||T==="radio")}function fe(b){var T=ie(b)?"checked":"value",P=Object.getOwnPropertyDescriptor(b.constructor.prototype,T),j=""+b[T];if(!b.hasOwnProperty(T)&&typeof P<"u"&&typeof P.get=="function"&&typeof P.set=="function"){var K=P.get,J=P.set;return Object.defineProperty(b,T,{configurable:!0,get:function(){return K.call(this)},set:function(re){j=""+re,J.call(this,re)}}),Object.defineProperty(b,T,{enumerable:P.enumerable}),{getValue:function(){return j},setValue:function(re){j=""+re},stopTracking:function(){b._valueTracker=null,delete b[T]}}}}function se(b){b._valueTracker||(b._valueTracker=fe(b))}function ae(b){if(!b)return!1;var T=b._valueTracker;if(!T)return!0;var P=T.getValue(),j="";return b&&(j=ie(b)?b.checked?"true":"false":b.value),b=j,b!==P?(T.setValue(b),!0):!1}function Se(b){if(b=b||(typeof document<"u"?document:void 0),typeof b>"u")return null;try{return b.activeElement||b.body}catch{return b.body}}function Te(b,T){var P=T.checked;return U({},T,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:P??b._wrapperState.initialChecked})}function Oe(b,T){var P=T.defaultValue==null?"":T.defaultValue,j=T.checked!=null?T.checked:T.defaultChecked;P=ne(T.value!=null?T.value:P),b._wrapperState={initialChecked:j,initialValue:P,controlled:T.type==="checkbox"||T.type==="radio"?T.checked!=null:T.value!=null}}function We(b,T){T=T.checked,T!=null&&w(b,"checked",T,!1)}function Fe(b,T){We(b,T);var P=ne(T.value),j=T.type;if(P!=null)j==="number"?(P===0&&b.value===""||b.value!=P)&&(b.value=""+P):b.value!==""+P&&(b.value=""+P);else if(j==="submit"||j==="reset"){b.removeAttribute("value");return}T.hasOwnProperty("value")?rt(b,T.type,P):T.hasOwnProperty("defaultValue")&&rt(b,T.type,ne(T.defaultValue)),T.checked==null&&T.defaultChecked!=null&&(b.defaultChecked=!!T.defaultChecked)}function Ue(b,T,P){if(T.hasOwnProperty("value")||T.hasOwnProperty("defaultValue")){var j=T.type;if(!(j!=="submit"&&j!=="reset"||T.value!==void 0&&T.value!==null))return;T=""+b._wrapperState.initialValue,P||T===b.value||(b.value=T),b.defaultValue=T}P=b.name,P!==""&&(b.name=""),b.defaultChecked=!!b._wrapperState.initialChecked,P!==""&&(b.name=P)}function rt(b,T,P){(T!=="number"||Se(b.ownerDocument)!==b)&&(P==null?b.defaultValue=""+b._wrapperState.initialValue:b.defaultValue!==""+P&&(b.defaultValue=""+P))}var at=Array.isArray;function ct(b,T,P,j){if(b=b.options,T){T={};for(var K=0;K<P.length;K++)T["$"+P[K]]=!0;for(P=0;P<b.length;P++)K=T.hasOwnProperty("$"+b[P].value),b[P].selected!==K&&(b[P].selected=K),K&&j&&(b[P].defaultSelected=!0)}else{for(P=""+ne(P),T=null,K=0;K<b.length;K++){if(b[K].value===P){b[K].selected=!0,j&&(b[K].defaultSelected=!0);return}T!==null||b[K].disabled||(T=b[K])}T!==null&&(T.selected=!0)}}function vt(b,T){if(T.dangerouslySetInnerHTML!=null)throw Error(n(91));return U({},T,{value:void 0,defaultValue:void 0,children:""+b._wrapperState.initialValue})}function gt(b,T){var P=T.value;if(P==null){if(P=T.children,T=T.defaultValue,P!=null){if(T!=null)throw Error(n(92));if(at(P)){if(1<P.length)throw Error(n(93));P=P[0]}T=P}T==null&&(T=""),P=T}b._wrapperState={initialValue:ne(P)}}function Ze(b,T){var P=ne(T.value),j=ne(T.defaultValue);P!=null&&(P=""+P,P!==b.value&&(b.value=P),T.defaultValue==null&&b.defaultValue!==P&&(b.defaultValue=P)),j!=null&&(b.defaultValue=""+j)}function Tt(b){var T=b.textContent;T===b._wrapperState.initialValue&&T!==""&&T!==null&&(b.value=T)}function ue(b){switch(b){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xe(b,T){return b==null||b==="http://www.w3.org/1999/xhtml"?ue(T):b==="http://www.w3.org/2000/svg"&&T==="foreignObject"?"http://www.w3.org/1999/xhtml":b}var $e,Ye=function(b){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(T,P,j,K){MSApp.execUnsafeLocalFunction(function(){return b(T,P,j,K)})}:b}(function(b,T){if(b.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in b)b.innerHTML=T;else{for($e=$e||document.createElement("div"),$e.innerHTML="<svg>"+T.valueOf().toString()+"</svg>",T=$e.firstChild;b.firstChild;)b.removeChild(b.firstChild);for(;T.firstChild;)b.appendChild(T.firstChild)}});function tt(b,T){if(T){var P=b.firstChild;if(P&&P===b.lastChild&&P.nodeType===3){P.nodeValue=T;return}}b.textContent=T}var Et={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},an=["Webkit","ms","Moz","O"];Object.keys(Et).forEach(function(b){an.forEach(function(T){T=T+b.charAt(0).toUpperCase()+b.substring(1),Et[T]=Et[b]})});function ln(b,T,P){return T==null||typeof T=="boolean"||T===""?"":P||typeof T!="number"||T===0||Et.hasOwnProperty(b)&&Et[b]?(""+T).trim():T+"px"}function Wt(b,T){b=b.style;for(var P in T)if(T.hasOwnProperty(P)){var j=P.indexOf("--")===0,K=ln(P,T[P],j);P==="float"&&(P="cssFloat"),j?b.setProperty(P,K):b[P]=K}}var Dt=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ae(b,T){if(T){if(Dt[b]&&(T.children!=null||T.dangerouslySetInnerHTML!=null))throw Error(n(137,b));if(T.dangerouslySetInnerHTML!=null){if(T.children!=null)throw Error(n(60));if(typeof T.dangerouslySetInnerHTML!="object"||!("__html"in T.dangerouslySetInnerHTML))throw Error(n(61))}if(T.style!=null&&typeof T.style!="object")throw Error(n(62))}}function Qe(b,T){if(b.indexOf("-")===-1)return typeof T.is=="string";switch(b){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ct=null;function xn(b){return b=b.target||b.srcElement||window,b.correspondingUseElement&&(b=b.correspondingUseElement),b.nodeType===3?b.parentNode:b}var gr=null,dr=null,ii=null;function Rr(b){if(b=D_(b)){if(typeof gr!="function")throw Error(n(280));var T=b.stateNode;T&&(T=S2(T),gr(b.stateNode,b.type,T))}}function er(b){dr?ii?ii.push(b):ii=[b]:dr=b}function Es(){if(dr){var b=dr,T=ii;if(ii=dr=null,Rr(b),T)for(b=0;b<T.length;b++)Rr(T[b])}}function Do(b,T){return b(T)}function Ss(){}var $i=!1;function Un(b,T,P){if($i)return b(T,P);$i=!0;try{return Do(b,T,P)}finally{$i=!1,(dr!==null||ii!==null)&&(Ss(),Es())}}function or(b,T){var P=b.stateNode;if(P===null)return null;var j=S2(P);if(j===null)return null;P=j[T];e:switch(T){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(j=!j.disabled)||(b=b.type,j=!(b==="button"||b==="input"||b==="select"||b==="textarea")),b=!j;break e;default:b=!1}if(b)return null;if(P&&typeof P!="function")throw Error(n(231,T,typeof P));return P}var $o=!1;if(a)try{var yr={};Object.defineProperty(yr,"passive",{get:function(){$o=!0}}),window.addEventListener("test",yr,yr),window.removeEventListener("test",yr,yr)}catch{$o=!1}function Jr(b,T,P,j,K,J,re,ve,Ee){var Be=Array.prototype.slice.call(arguments,3);try{T.apply(P,Be)}catch(pt){this.onError(pt)}}var Ui=!1,Ei=null,oi=!1,Zl=null,Nc={onError:function(b){Ui=!0,Ei=b}};function La(b,T,P,j,K,J,re,ve,Ee){Ui=!1,Ei=null,Jr.apply(Nc,arguments)}function Hu(b,T,P,j,K,J,re,ve,Ee){if(La.apply(this,arguments),Ui){if(Ui){var Be=Ei;Ui=!1,Ei=null}else throw Error(n(198));oi||(oi=!0,Zl=Be)}}function hi(b){var T=b,P=b;if(b.alternate)for(;T.return;)T=T.return;else{b=T;do T=b,(T.flags&4098)!==0&&(P=T.return),b=T.return;while(b)}return T.tag===3?P:null}function kn(b){if(b.tag===13){var T=b.memoizedState;if(T===null&&(b=b.alternate,b!==null&&(T=b.memoizedState)),T!==null)return T.dehydrated}return null}function to(b){if(hi(b)!==b)throw Error(n(188))}function eu(b){var T=b.alternate;if(!T){if(T=hi(b),T===null)throw Error(n(188));return T!==b?null:b}for(var P=b,j=T;;){var K=P.return;if(K===null)break;var J=K.alternate;if(J===null){if(j=K.return,j!==null){P=j;continue}break}if(K.child===J.child){for(J=K.child;J;){if(J===P)return to(K),b;if(J===j)return to(K),T;J=J.sibling}throw Error(n(188))}if(P.return!==j.return)P=K,j=J;else{for(var re=!1,ve=K.child;ve;){if(ve===P){re=!0,P=K,j=J;break}if(ve===j){re=!0,j=K,P=J;break}ve=ve.sibling}if(!re){for(ve=J.child;ve;){if(ve===P){re=!0,P=J,j=K;break}if(ve===j){re=!0,j=J,P=K;break}ve=ve.sibling}if(!re)throw Error(n(189))}}if(P.alternate!==j)throw Error(n(190))}if(P.tag!==3)throw Error(n(188));return P.stateNode.current===P?b:T}function hl(b){return b=eu(b),b!==null?pl(b):null}function pl(b){if(b.tag===5||b.tag===6)return b;for(b=b.child;b!==null;){var T=pl(b);if(T!==null)return T;b=b.sibling}return null}var Vu=t.unstable_scheduleCallback,Mo=t.unstable_cancelCallback,Wd=t.unstable_shouldYield,tu=t.unstable_requestPaint,Gn=t.unstable_now,Oc=t.unstable_getCurrentPriorityLevel,no=t.unstable_ImmediatePriority,Qo=t.unstable_UserBlockingPriority,ro=t.unstable_NormalPriority,nu=t.unstable_LowPriority,Ts=t.unstable_IdlePriority,ml=null,io=null;function qd(b){if(io&&typeof io.onCommitFiberRoot=="function")try{io.onCommitFiberRoot(ml,b,void 0,(b.current.flags&128)===128)}catch{}}var oo=Math.clz32?Math.clz32:pe,le=Math.log,we=Math.LN2;function pe(b){return b>>>=0,b===0?32:31-(le(b)/we|0)|0}var ke=64,Re=4194304;function Ce(b){switch(b&-b){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return b&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return b}}function Ge(b,T){var P=b.pendingLanes;if(P===0)return 0;var j=0,K=b.suspendedLanes,J=b.pingedLanes,re=P&268435455;if(re!==0){var ve=re&~K;ve!==0?j=Ce(ve):(J&=re,J!==0&&(j=Ce(J)))}else re=P&~K,re!==0?j=Ce(re):J!==0&&(j=Ce(J));if(j===0)return 0;if(T!==0&&T!==j&&(T&K)===0&&(K=j&-j,J=T&-T,K>=J||K===16&&(J&4194240)!==0))return T;if((j&4)!==0&&(j|=P&16),T=b.entangledLanes,T!==0)for(b=b.entanglements,T&=j;0<T;)P=31-oo(T),K=1<<P,j|=b[P],T&=~K;return j}function st(b,T){switch(b){case 1:case 2:case 4:return T+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return T+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ut(b,T){for(var P=b.suspendedLanes,j=b.pingedLanes,K=b.expirationTimes,J=b.pendingLanes;0<J;){var re=31-oo(J),ve=1<<re,Ee=K[re];Ee===-1?((ve&P)===0||(ve&j)!==0)&&(K[re]=st(ve,T)):Ee<=T&&(b.expiredLanes|=ve),J&=~ve}}function lt(b){return b=b.pendingLanes&-1073741825,b!==0?b:b&1073741824?1073741824:0}function _t(){var b=ke;return ke<<=1,(ke&4194240)===0&&(ke=64),b}function zt(b){for(var T=[],P=0;31>P;P++)T.push(b);return T}function _n(b,T,P){b.pendingLanes|=T,T!==536870912&&(b.suspendedLanes=0,b.pingedLanes=0),b=b.eventTimes,T=31-oo(T),b[T]=P}function en(b,T){var P=b.pendingLanes&~T;b.pendingLanes=T,b.suspendedLanes=0,b.pingedLanes=0,b.expiredLanes&=T,b.mutableReadLanes&=T,b.entangledLanes&=T,T=b.entanglements;var j=b.eventTimes;for(b=b.expirationTimes;0<P;){var K=31-oo(P),J=1<<K;T[K]=0,j[K]=-1,b[K]=-1,P&=~J}}function On(b,T){var P=b.entangledLanes|=T;for(b=b.entanglements;P;){var j=31-oo(P),K=1<<j;K&T|b[j]&T&&(b[j]|=T),P&=~K}}var Qt=0;function Hn(b){return b&=-b,1<b?4<b?(b&268435455)!==0?16:536870912:4:1}var so,ta,ao,Gd,Wu,Yd=!1,Po=[],pi=null,si=null,Jo=null,qu=new Map,xo=new Map,na=[],Kd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gl(b,T){switch(b){case"focusin":case"focusout":pi=null;break;case"dragenter":case"dragleave":si=null;break;case"mouseover":case"mouseout":Jo=null;break;case"pointerover":case"pointerout":qu.delete(T.pointerId);break;case"gotpointercapture":case"lostpointercapture":xo.delete(T.pointerId)}}function Mi(b,T,P,j,K,J){return b===null||b.nativeEvent!==J?(b={blockedOn:T,domEventName:P,eventSystemFlags:j,nativeEvent:J,targetContainers:[K]},T!==null&&(T=D_(T),T!==null&&ta(T)),b):(b.eventSystemFlags|=j,T=b.targetContainers,K!==null&&T.indexOf(K)===-1&&T.push(K),b)}function lm(b,T,P,j,K){switch(T){case"focusin":return pi=Mi(pi,b,T,P,j,K),!0;case"dragenter":return si=Mi(si,b,T,P,j,K),!0;case"mouseover":return Jo=Mi(Jo,b,T,P,j,K),!0;case"pointerover":var J=K.pointerId;return qu.set(J,Mi(qu.get(J)||null,b,T,P,j,K)),!0;case"gotpointercapture":return J=K.pointerId,xo.set(J,Mi(xo.get(J)||null,b,T,P,j,K)),!0}return!1}function Xd(b){var T=D0(b.target);if(T!==null){var P=hi(T);if(P!==null){if(T=P.tag,T===13){if(T=kn(P),T!==null){b.blockedOn=T,Wu(b.priority,function(){ao(P)});return}}else if(T===3&&P.stateNode.current.memoizedState.isDehydrated){b.blockedOn=P.tag===3?P.stateNode.containerInfo:null;return}}}b.blockedOn=null}function Cs(b){if(b.blockedOn!==null)return!1;for(var T=b.targetContainers;0<T.length;){var P=cn(b.domEventName,b.eventSystemFlags,T[0],b.nativeEvent);if(P===null){P=b.nativeEvent;var j=new P.constructor(P.type,P);Ct=j,P.target.dispatchEvent(j),Ct=null}else return T=D_(P),T!==null&&ta(T),b.blockedOn=P,!1;T.shift()}return!0}function ru(b,T,P){Cs(b)&&P.delete(T)}function um(){Yd=!1,pi!==null&&Cs(pi)&&(pi=null),si!==null&&Cs(si)&&(si=null),Jo!==null&&Cs(Jo)&&(Jo=null),qu.forEach(ru),xo.forEach(ru)}function Fa(b,T){b.blockedOn===T&&(b.blockedOn=null,Yd||(Yd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,um)))}function ra(b){function T(K){return Fa(K,b)}if(0<Po.length){Fa(Po[0],b);for(var P=1;P<Po.length;P++){var j=Po[P];j.blockedOn===b&&(j.blockedOn=null)}}for(pi!==null&&Fa(pi,b),si!==null&&Fa(si,b),Jo!==null&&Fa(Jo,b),qu.forEach(T),xo.forEach(T),P=0;P<na.length;P++)j=na[P],j.blockedOn===b&&(j.blockedOn=null);for(;0<na.length&&(P=na[0],P.blockedOn===null);)Xd(P),P.blockedOn===null&&na.shift()}var me=E.ReactCurrentBatchConfig,te=!0;function ce(b,T,P,j){var K=Qt,J=me.transition;me.transition=null;try{Qt=1,At(b,T,P,j)}finally{Qt=K,me.transition=J}}function _e(b,T,P,j){var K=Qt,J=me.transition;me.transition=null;try{Qt=4,At(b,T,P,j)}finally{Qt=K,me.transition=J}}function At(b,T,P,j){if(te){var K=cn(b,T,P,j);if(K===null)QL(b,T,j,Pt,P),gl(b,j);else if(lm(K,b,T,P,j))j.stopPropagation();else if(gl(b,j),T&4&&-1<Kd.indexOf(b)){for(;K!==null;){var J=D_(K);if(J!==null&&so(J),J=cn(b,T,P,j),J===null&&QL(b,T,j,Pt,P),J===K)break;K=J}K!==null&&j.stopPropagation()}else QL(b,T,j,null,P)}}var Pt=null;function cn(b,T,P,j){if(Pt=null,b=xn(j),b=D0(b),b!==null)if(T=hi(b),T===null)b=null;else if(P=T.tag,P===13){if(b=kn(T),b!==null)return b;b=null}else if(P===3){if(T.stateNode.current.memoizedState.isDehydrated)return T.tag===3?T.stateNode.containerInfo:null;b=null}else T!==b&&(b=null);return Pt=b,null}function En(b){switch(b){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Oc()){case no:return 1;case Qo:return 4;case ro:case nu:return 16;case Ts:return 536870912;default:return 16}default:return 16}}var Zt=null,pn=null,zn=null;function kr(){if(zn)return zn;var b,T=pn,P=T.length,j,K="value"in Zt?Zt.value:Zt.textContent,J=K.length;for(b=0;b<P&&T[b]===K[b];b++);var re=P-b;for(j=1;j<=re&&T[P-j]===K[J-j];j++);return zn=K.slice(b,1<j?1-j:void 0)}function Pr(b){var T=b.keyCode;return"charCode"in b?(b=b.charCode,b===0&&T===13&&(b=13)):b=T,b===10&&(b=13),32<=b||b===13?b:0}function Zr(){return!0}function Hi(){return!1}function Nr(b){function T(P,j,K,J,re){this._reactName=P,this._targetInst=K,this.type=j,this.nativeEvent=J,this.target=re,this.currentTarget=null;for(var ve in b)b.hasOwnProperty(ve)&&(P=b[ve],this[ve]=P?P(J):J[ve]);return this.isDefaultPrevented=(J.defaultPrevented!=null?J.defaultPrevented:J.returnValue===!1)?Zr:Hi,this.isPropagationStopped=Hi,this}return U(T.prototype,{preventDefault:function(){this.defaultPrevented=!0;var P=this.nativeEvent;P&&(P.preventDefault?P.preventDefault():typeof P.returnValue!="unknown"&&(P.returnValue=!1),this.isDefaultPrevented=Zr)},stopPropagation:function(){var P=this.nativeEvent;P&&(P.stopPropagation?P.stopPropagation():typeof P.cancelBubble!="unknown"&&(P.cancelBubble=!0),this.isPropagationStopped=Zr)},persist:function(){},isPersistent:Zr}),T}var lo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(b){return b.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yl=Nr(lo),iu=U({},lo,{view:0,detail:0}),cm=Nr(iu),Lc,Th,dm,I0=U({},iu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qd,button:0,buttons:0,relatedTarget:function(b){return b.relatedTarget===void 0?b.fromElement===b.srcElement?b.toElement:b.fromElement:b.relatedTarget},movementX:function(b){return"movementX"in b?b.movementX:(b!==dm&&(dm&&b.type==="mousemove"?(Lc=b.screenX-dm.screenX,Th=b.screenY-dm.screenY):Th=Lc=0,dm=b),Lc)},movementY:function(b){return"movementY"in b?b.movementY:Th}}),wb=Nr(I0),x_=U({},I0,{dataTransfer:0}),c2=Nr(x_),xb=U({},iu,{relatedTarget:0}),_b=Nr(xb),d2=U({},lo,{animationName:0,elapsedTime:0,pseudoElement:0}),Ch=Nr(d2),f2=U({},lo,{clipboardData:function(b){return"clipboardData"in b?b.clipboardData:window.clipboardData}}),h2=Nr(f2),p2=U({},lo,{data:0}),__=Nr(p2),Eb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ba={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},m2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function g2(b){var T=this.nativeEvent;return T.getModifierState?T.getModifierState(b):(b=m2[b])?!!T[b]:!1}function Qd(){return g2}var L=U({},iu,{key:function(b){if(b.key){var T=Eb[b.key]||b.key;if(T!=="Unidentified")return T}return b.type==="keypress"?(b=Pr(b),b===13?"Enter":String.fromCharCode(b)):b.type==="keydown"||b.type==="keyup"?Ba[b.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qd,charCode:function(b){return b.type==="keypress"?Pr(b):0},keyCode:function(b){return b.type==="keydown"||b.type==="keyup"?b.keyCode:0},which:function(b){return b.type==="keypress"?Pr(b):b.type==="keydown"||b.type==="keyup"?b.keyCode:0}}),Q=Nr(L),ee=U({},I0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),de=Nr(ee),Me=U({},iu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qd}),He=Nr(Me),Nt=U({},lo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Or=Nr(Nt),No=U({},I0,{deltaX:function(b){return"deltaX"in b?b.deltaX:"wheelDeltaX"in b?-b.wheelDeltaX:0},deltaY:function(b){return"deltaY"in b?b.deltaY:"wheelDeltaY"in b?-b.wheelDeltaY:"wheelDelta"in b?-b.wheelDelta:0},deltaZ:0,deltaMode:0}),fr=Nr(No),Zo=[9,13,27,32],_o=a&&"CompositionEvent"in window,Gu=null;a&&"documentMode"in document&&(Gu=document.documentMode);var ou=a&&"TextEvent"in window&&!Gu,R0=a&&(!_o||Gu&&8<Gu&&11>=Gu),Sb=" ",tJ=!1;function nJ(b,T){switch(b){case"keyup":return Zo.indexOf(T.keyCode)!==-1;case"keydown":return T.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rJ(b){return b=b.detail,typeof b=="object"&&"data"in b?b.data:null}var Tb=!1;function NMe(b,T){switch(b){case"compositionend":return rJ(T);case"keypress":return T.which!==32?null:(tJ=!0,Sb);case"textInput":return b=T.data,b===Sb&&tJ?null:b;default:return null}}function OMe(b,T){if(Tb)return b==="compositionend"||!_o&&nJ(b,T)?(b=kr(),zn=pn=Zt=null,Tb=!1,b):null;switch(b){case"paste":return null;case"keypress":if(!(T.ctrlKey||T.altKey||T.metaKey)||T.ctrlKey&&T.altKey){if(T.char&&1<T.char.length)return T.char;if(T.which)return String.fromCharCode(T.which)}return null;case"compositionend":return R0&&T.locale!=="ko"?null:T.data;default:return null}}var LMe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iJ(b){var T=b&&b.nodeName&&b.nodeName.toLowerCase();return T==="input"?!!LMe[b.type]:T==="textarea"}function oJ(b,T,P,j){er(j),T=x2(T,"onChange"),0<T.length&&(P=new yl("onChange","change",null,P,j),b.push({event:P,listeners:T}))}var E_=null,S_=null;function FMe(b){EJ(b,0)}function y2(b){var T=Rb(b);if(ae(T))return b}function BMe(b,T){if(b==="change")return T}var sJ=!1;if(a){var UL;if(a){var HL="oninput"in document;if(!HL){var aJ=document.createElement("div");aJ.setAttribute("oninput","return;"),HL=typeof aJ.oninput=="function"}UL=HL}else UL=!1;sJ=UL&&(!document.documentMode||9<document.documentMode)}function lJ(){E_&&(E_.detachEvent("onpropertychange",uJ),S_=E_=null)}function uJ(b){if(b.propertyName==="value"&&y2(S_)){var T=[];oJ(T,S_,b,xn(b)),Un(FMe,T)}}function jMe(b,T,P){b==="focusin"?(lJ(),E_=T,S_=P,E_.attachEvent("onpropertychange",uJ)):b==="focusout"&&lJ()}function zMe(b){if(b==="selectionchange"||b==="keyup"||b==="keydown")return y2(S_)}function UMe(b,T){if(b==="click")return y2(T)}function HMe(b,T){if(b==="input"||b==="change")return y2(T)}function VMe(b,T){return b===T&&(b!==0||1/b===1/T)||b!==b&&T!==T}var Fc=typeof Object.is=="function"?Object.is:VMe;function T_(b,T){if(Fc(b,T))return!0;if(typeof b!="object"||b===null||typeof T!="object"||T===null)return!1;var P=Object.keys(b),j=Object.keys(T);if(P.length!==j.length)return!1;for(j=0;j<P.length;j++){var K=P[j];if(!l.call(T,K)||!Fc(b[K],T[K]))return!1}return!0}function cJ(b){for(;b&&b.firstChild;)b=b.firstChild;return b}function dJ(b,T){var P=cJ(b);b=0;for(var j;P;){if(P.nodeType===3){if(j=b+P.textContent.length,b<=T&&j>=T)return{node:P,offset:T-b};b=j}e:{for(;P;){if(P.nextSibling){P=P.nextSibling;break e}P=P.parentNode}P=void 0}P=cJ(P)}}function fJ(b,T){return b&&T?b===T?!0:b&&b.nodeType===3?!1:T&&T.nodeType===3?fJ(b,T.parentNode):"contains"in b?b.contains(T):b.compareDocumentPosition?!!(b.compareDocumentPosition(T)&16):!1:!1}function hJ(){for(var b=window,T=Se();T instanceof b.HTMLIFrameElement;){try{var P=typeof T.contentWindow.location.href=="string"}catch{P=!1}if(P)b=T.contentWindow;else break;T=Se(b.document)}return T}function VL(b){var T=b&&b.nodeName&&b.nodeName.toLowerCase();return T&&(T==="input"&&(b.type==="text"||b.type==="search"||b.type==="tel"||b.type==="url"||b.type==="password")||T==="textarea"||b.contentEditable==="true")}function WMe(b){var T=hJ(),P=b.focusedElem,j=b.selectionRange;if(T!==P&&P&&P.ownerDocument&&fJ(P.ownerDocument.documentElement,P)){if(j!==null&&VL(P)){if(T=j.start,b=j.end,b===void 0&&(b=T),"selectionStart"in P)P.selectionStart=T,P.selectionEnd=Math.min(b,P.value.length);else if(b=(T=P.ownerDocument||document)&&T.defaultView||window,b.getSelection){b=b.getSelection();var K=P.textContent.length,J=Math.min(j.start,K);j=j.end===void 0?J:Math.min(j.end,K),!b.extend&&J>j&&(K=j,j=J,J=K),K=dJ(P,J);var re=dJ(P,j);K&&re&&(b.rangeCount!==1||b.anchorNode!==K.node||b.anchorOffset!==K.offset||b.focusNode!==re.node||b.focusOffset!==re.offset)&&(T=T.createRange(),T.setStart(K.node,K.offset),b.removeAllRanges(),J>j?(b.addRange(T),b.extend(re.node,re.offset)):(T.setEnd(re.node,re.offset),b.addRange(T)))}}for(T=[],b=P;b=b.parentNode;)b.nodeType===1&&T.push({element:b,left:b.scrollLeft,top:b.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<T.length;P++)b=T[P],b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}var qMe=a&&"documentMode"in document&&11>=document.documentMode,Cb=null,WL=null,C_=null,qL=!1;function pJ(b,T,P){var j=P.window===P?P.document:P.nodeType===9?P:P.ownerDocument;qL||Cb==null||Cb!==Se(j)||(j=Cb,"selectionStart"in j&&VL(j)?j={start:j.selectionStart,end:j.selectionEnd}:(j=(j.ownerDocument&&j.ownerDocument.defaultView||window).getSelection(),j={anchorNode:j.anchorNode,anchorOffset:j.anchorOffset,focusNode:j.focusNode,focusOffset:j.focusOffset}),C_&&T_(C_,j)||(C_=j,j=x2(WL,"onSelect"),0<j.length&&(T=new yl("onSelect","select",null,T,P),b.push({event:T,listeners:j}),T.target=Cb)))}function v2(b,T){var P={};return P[b.toLowerCase()]=T.toLowerCase(),P["Webkit"+b]="webkit"+T,P["Moz"+b]="moz"+T,P}var Ab={animationend:v2("Animation","AnimationEnd"),animationiteration:v2("Animation","AnimationIteration"),animationstart:v2("Animation","AnimationStart"),transitionend:v2("Transition","TransitionEnd")},GL={},mJ={};a&&(mJ=document.createElement("div").style,"AnimationEvent"in window||(delete Ab.animationend.animation,delete Ab.animationiteration.animation,delete Ab.animationstart.animation),"TransitionEvent"in window||delete Ab.transitionend.transition);function b2(b){if(GL[b])return GL[b];if(!Ab[b])return b;var T=Ab[b],P;for(P in T)if(T.hasOwnProperty(P)&&P in mJ)return GL[b]=T[P];return b}var gJ=b2("animationend"),yJ=b2("animationiteration"),vJ=b2("animationstart"),bJ=b2("transitionend"),wJ=new Map,xJ="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fm(b,T){wJ.set(b,T),o(T,[b])}for(var YL=0;YL<xJ.length;YL++){var KL=xJ[YL],GMe=KL.toLowerCase(),YMe=KL[0].toUpperCase()+KL.slice(1);fm(GMe,"on"+YMe)}fm(gJ,"onAnimationEnd"),fm(yJ,"onAnimationIteration"),fm(vJ,"onAnimationStart"),fm("dblclick","onDoubleClick"),fm("focusin","onFocus"),fm("focusout","onBlur"),fm(bJ,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var A_="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KMe=new Set("cancel close invalid load scroll toggle".split(" ").concat(A_));function _J(b,T,P){var j=b.type||"unknown-event";b.currentTarget=P,Hu(j,T,void 0,b),b.currentTarget=null}function EJ(b,T){T=(T&4)!==0;for(var P=0;P<b.length;P++){var j=b[P],K=j.event;j=j.listeners;e:{var J=void 0;if(T)for(var re=j.length-1;0<=re;re--){var ve=j[re],Ee=ve.instance,Be=ve.currentTarget;if(ve=ve.listener,Ee!==J&&K.isPropagationStopped())break e;_J(K,ve,Be),J=Ee}else for(re=0;re<j.length;re++){if(ve=j[re],Ee=ve.instance,Be=ve.currentTarget,ve=ve.listener,Ee!==J&&K.isPropagationStopped())break e;_J(K,ve,Be),J=Ee}}}if(oi)throw b=Zl,oi=!1,Zl=null,b}function mi(b,T){var P=T[r4];P===void 0&&(P=T[r4]=new Set);var j=b+"__bubble";P.has(j)||(SJ(T,b,2,!1),P.add(j))}function XL(b,T,P){var j=0;T&&(j|=4),SJ(P,b,j,T)}var w2="_reactListening"+Math.random().toString(36).slice(2);function k_(b){if(!b[w2]){b[w2]=!0,r.forEach(function(P){P!=="selectionchange"&&(KMe.has(P)||XL(P,!1,b),XL(P,!0,b))});var T=b.nodeType===9?b:b.ownerDocument;T===null||T[w2]||(T[w2]=!0,XL("selectionchange",!1,T))}}function SJ(b,T,P,j){switch(En(T)){case 1:var K=ce;break;case 4:K=_e;break;default:K=At}P=K.bind(null,T,P,b),K=void 0,!$o||T!=="touchstart"&&T!=="touchmove"&&T!=="wheel"||(K=!0),j?K!==void 0?b.addEventListener(T,P,{capture:!0,passive:K}):b.addEventListener(T,P,!0):K!==void 0?b.addEventListener(T,P,{passive:K}):b.addEventListener(T,P,!1)}function QL(b,T,P,j,K){var J=j;if((T&1)===0&&(T&2)===0&&j!==null)e:for(;;){if(j===null)return;var re=j.tag;if(re===3||re===4){var ve=j.stateNode.containerInfo;if(ve===K||ve.nodeType===8&&ve.parentNode===K)break;if(re===4)for(re=j.return;re!==null;){var Ee=re.tag;if((Ee===3||Ee===4)&&(Ee=re.stateNode.containerInfo,Ee===K||Ee.nodeType===8&&Ee.parentNode===K))return;re=re.return}for(;ve!==null;){if(re=D0(ve),re===null)return;if(Ee=re.tag,Ee===5||Ee===6){j=J=re;continue e}ve=ve.parentNode}}j=j.return}Un(function(){var Be=J,pt=xn(P),bt=[];e:{var dt=wJ.get(b);if(dt!==void 0){var qt=yl,Jt=b;switch(b){case"keypress":if(Pr(P)===0)break e;case"keydown":case"keyup":qt=Q;break;case"focusin":Jt="focus",qt=_b;break;case"focusout":Jt="blur",qt=_b;break;case"beforeblur":case"afterblur":qt=_b;break;case"click":if(P.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":qt=wb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":qt=c2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":qt=He;break;case gJ:case yJ:case vJ:qt=Ch;break;case bJ:qt=Or;break;case"scroll":qt=cm;break;case"wheel":qt=fr;break;case"copy":case"cut":case"paste":qt=h2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":qt=de}var tn=(T&4)!==0,uo=!tn&&b==="scroll",Pe=tn?dt!==null?dt+"Capture":null:dt;tn=[];for(var Ie=Be,Le;Ie!==null;){Le=Ie;var $t=Le.stateNode;if(Le.tag===5&&$t!==null&&(Le=$t,Pe!==null&&($t=or(Ie,Pe),$t!=null&&tn.push(I_(Ie,$t,Le)))),uo)break;Ie=Ie.return}0<tn.length&&(dt=new qt(dt,Jt,null,P,pt),bt.push({event:dt,listeners:tn}))}}if((T&7)===0){e:{if(dt=b==="mouseover"||b==="pointerover",qt=b==="mouseout"||b==="pointerout",dt&&P!==Ct&&(Jt=P.relatedTarget||P.fromElement)&&(D0(Jt)||Jt[Ah]))break e;if((qt||dt)&&(dt=pt.window===pt?pt:(dt=pt.ownerDocument)?dt.defaultView||dt.parentWindow:window,qt?(Jt=P.relatedTarget||P.toElement,qt=Be,Jt=Jt?D0(Jt):null,Jt!==null&&(uo=hi(Jt),Jt!==uo||Jt.tag!==5&&Jt.tag!==6)&&(Jt=null)):(qt=null,Jt=Be),qt!==Jt)){if(tn=wb,$t="onMouseLeave",Pe="onMouseEnter",Ie="mouse",(b==="pointerout"||b==="pointerover")&&(tn=de,$t="onPointerLeave",Pe="onPointerEnter",Ie="pointer"),uo=qt==null?dt:Rb(qt),Le=Jt==null?dt:Rb(Jt),dt=new tn($t,Ie+"leave",qt,P,pt),dt.target=uo,dt.relatedTarget=Le,$t=null,D0(pt)===Be&&(tn=new tn(Pe,Ie+"enter",Jt,P,pt),tn.target=Le,tn.relatedTarget=uo,$t=tn),uo=$t,qt&&Jt)t:{for(tn=qt,Pe=Jt,Ie=0,Le=tn;Le;Le=kb(Le))Ie++;for(Le=0,$t=Pe;$t;$t=kb($t))Le++;for(;0<Ie-Le;)tn=kb(tn),Ie--;for(;0<Le-Ie;)Pe=kb(Pe),Le--;for(;Ie--;){if(tn===Pe||Pe!==null&&tn===Pe.alternate)break t;tn=kb(tn),Pe=kb(Pe)}tn=null}else tn=null;qt!==null&&TJ(bt,dt,qt,tn,!1),Jt!==null&&uo!==null&&TJ(bt,uo,Jt,tn,!0)}}e:{if(dt=Be?Rb(Be):window,qt=dt.nodeName&&dt.nodeName.toLowerCase(),qt==="select"||qt==="input"&&dt.type==="file")var un=BMe;else if(iJ(dt))if(sJ)un=HMe;else{un=zMe;var vn=jMe}else(qt=dt.nodeName)&&qt.toLowerCase()==="input"&&(dt.type==="checkbox"||dt.type==="radio")&&(un=UMe);if(un&&(un=un(b,Be))){oJ(bt,un,P,pt);break e}vn&&vn(b,dt,Be),b==="focusout"&&(vn=dt._wrapperState)&&vn.controlled&&dt.type==="number"&&rt(dt,"number",dt.value)}switch(vn=Be?Rb(Be):window,b){case"focusin":(iJ(vn)||vn.contentEditable==="true")&&(Cb=vn,WL=Be,C_=null);break;case"focusout":C_=WL=Cb=null;break;case"mousedown":qL=!0;break;case"contextmenu":case"mouseup":case"dragend":qL=!1,pJ(bt,P,pt);break;case"selectionchange":if(qMe)break;case"keydown":case"keyup":pJ(bt,P,pt)}var bn;if(_o)e:{switch(b){case"compositionstart":var In="onCompositionStart";break e;case"compositionend":In="onCompositionEnd";break e;case"compositionupdate":In="onCompositionUpdate";break e}In=void 0}else Tb?nJ(b,P)&&(In="onCompositionEnd"):b==="keydown"&&P.keyCode===229&&(In="onCompositionStart");In&&(R0&&P.locale!=="ko"&&(Tb||In!=="onCompositionStart"?In==="onCompositionEnd"&&Tb&&(bn=kr()):(Zt=pt,pn="value"in Zt?Zt.value:Zt.textContent,Tb=!0)),vn=x2(Be,In),0<vn.length&&(In=new __(In,b,null,P,pt),bt.push({event:In,listeners:vn}),bn?In.data=bn:(bn=rJ(P),bn!==null&&(In.data=bn)))),(bn=ou?NMe(b,P):OMe(b,P))&&(Be=x2(Be,"onBeforeInput"),0<Be.length&&(pt=new __("onBeforeInput","beforeinput",null,P,pt),bt.push({event:pt,listeners:Be}),pt.data=bn))}EJ(bt,T)})}function I_(b,T,P){return{instance:b,listener:T,currentTarget:P}}function x2(b,T){for(var P=T+"Capture",j=[];b!==null;){var K=b,J=K.stateNode;K.tag===5&&J!==null&&(K=J,J=or(b,P),J!=null&&j.unshift(I_(b,J,K)),J=or(b,T),J!=null&&j.push(I_(b,J,K))),b=b.return}return j}function kb(b){if(b===null)return null;do b=b.return;while(b&&b.tag!==5);return b||null}function TJ(b,T,P,j,K){for(var J=T._reactName,re=[];P!==null&&P!==j;){var ve=P,Ee=ve.alternate,Be=ve.stateNode;if(Ee!==null&&Ee===j)break;ve.tag===5&&Be!==null&&(ve=Be,K?(Ee=or(P,J),Ee!=null&&re.unshift(I_(P,Ee,ve))):K||(Ee=or(P,J),Ee!=null&&re.push(I_(P,Ee,ve)))),P=P.return}re.length!==0&&b.push({event:T,listeners:re})}var XMe=/\r\n?/g,QMe=/\u0000|\uFFFD/g;function CJ(b){return(typeof b=="string"?b:""+b).replace(XMe,`
`).replace(QMe,"")}function _2(b,T,P){if(T=CJ(T),CJ(b)!==T&&P)throw Error(n(425))}function E2(){}var JL=null,ZL=null;function e4(b,T){return b==="textarea"||b==="noscript"||typeof T.children=="string"||typeof T.children=="number"||typeof T.dangerouslySetInnerHTML=="object"&&T.dangerouslySetInnerHTML!==null&&T.dangerouslySetInnerHTML.__html!=null}var t4=typeof setTimeout=="function"?setTimeout:void 0,JMe=typeof clearTimeout=="function"?clearTimeout:void 0,AJ=typeof Promise=="function"?Promise:void 0,ZMe=typeof queueMicrotask=="function"?queueMicrotask:typeof AJ<"u"?function(b){return AJ.resolve(null).then(b).catch(ePe)}:t4;function ePe(b){setTimeout(function(){throw b})}function n4(b,T){var P=T,j=0;do{var K=P.nextSibling;if(b.removeChild(P),K&&K.nodeType===8)if(P=K.data,P==="/$"){if(j===0){b.removeChild(K),ra(T);return}j--}else P!=="$"&&P!=="$?"&&P!=="$!"||j++;P=K}while(P);ra(T)}function hm(b){for(;b!=null;b=b.nextSibling){var T=b.nodeType;if(T===1||T===3)break;if(T===8){if(T=b.data,T==="$"||T==="$!"||T==="$?")break;if(T==="/$")return null}}return b}function kJ(b){b=b.previousSibling;for(var T=0;b;){if(b.nodeType===8){var P=b.data;if(P==="$"||P==="$!"||P==="$?"){if(T===0)return b;T--}else P==="/$"&&T++}b=b.previousSibling}return null}var Ib=Math.random().toString(36).slice(2),Jd="__reactFiber$"+Ib,R_="__reactProps$"+Ib,Ah="__reactContainer$"+Ib,r4="__reactEvents$"+Ib,tPe="__reactListeners$"+Ib,nPe="__reactHandles$"+Ib;function D0(b){var T=b[Jd];if(T)return T;for(var P=b.parentNode;P;){if(T=P[Ah]||P[Jd]){if(P=T.alternate,T.child!==null||P!==null&&P.child!==null)for(b=kJ(b);b!==null;){if(P=b[Jd])return P;b=kJ(b)}return T}b=P,P=b.parentNode}return null}function D_(b){return b=b[Jd]||b[Ah],!b||b.tag!==5&&b.tag!==6&&b.tag!==13&&b.tag!==3?null:b}function Rb(b){if(b.tag===5||b.tag===6)return b.stateNode;throw Error(n(33))}function S2(b){return b[R_]||null}var i4=[],Db=-1;function pm(b){return{current:b}}function gi(b){0>Db||(b.current=i4[Db],i4[Db]=null,Db--)}function ai(b,T){Db++,i4[Db]=b.current,b.current=T}var mm={},ia=pm(mm),vl=pm(!1),$0=mm;function $b(b,T){var P=b.type.contextTypes;if(!P)return mm;var j=b.stateNode;if(j&&j.__reactInternalMemoizedUnmaskedChildContext===T)return j.__reactInternalMemoizedMaskedChildContext;var K={},J;for(J in P)K[J]=T[J];return j&&(b=b.stateNode,b.__reactInternalMemoizedUnmaskedChildContext=T,b.__reactInternalMemoizedMaskedChildContext=K),K}function bl(b){return b=b.childContextTypes,b!=null}function T2(){gi(vl),gi(ia)}function IJ(b,T,P){if(ia.current!==mm)throw Error(n(168));ai(ia,T),ai(vl,P)}function RJ(b,T,P){var j=b.stateNode;if(T=T.childContextTypes,typeof j.getChildContext!="function")return P;j=j.getChildContext();for(var K in j)if(!(K in T))throw Error(n(108,oe(b)||"Unknown",K));return U({},P,j)}function C2(b){return b=(b=b.stateNode)&&b.__reactInternalMemoizedMergedChildContext||mm,$0=ia.current,ai(ia,b),ai(vl,vl.current),!0}function DJ(b,T,P){var j=b.stateNode;if(!j)throw Error(n(169));P?(b=RJ(b,T,$0),j.__reactInternalMemoizedMergedChildContext=b,gi(vl),gi(ia),ai(ia,b)):gi(vl),ai(vl,P)}var kh=null,A2=!1,o4=!1;function $J(b){kh===null?kh=[b]:kh.push(b)}function rPe(b){A2=!0,$J(b)}function gm(){if(!o4&&kh!==null){o4=!0;var b=0,T=Qt;try{var P=kh;for(Qt=1;b<P.length;b++){var j=P[b];do j=j(!0);while(j!==null)}kh=null,A2=!1}catch(K){throw kh!==null&&(kh=kh.slice(b+1)),Vu(no,gm),K}finally{Qt=T,o4=!1}}return null}var Mb=[],Pb=0,k2=null,I2=0,Yu=[],Ku=0,M0=null,Ih=1,Rh="";function P0(b,T){Mb[Pb++]=I2,Mb[Pb++]=k2,k2=b,I2=T}function MJ(b,T,P){Yu[Ku++]=Ih,Yu[Ku++]=Rh,Yu[Ku++]=M0,M0=b;var j=Ih;b=Rh;var K=32-oo(j)-1;j&=~(1<<K),P+=1;var J=32-oo(T)+K;if(30<J){var re=K-K%5;J=(j&(1<<re)-1).toString(32),j>>=re,K-=re,Ih=1<<32-oo(T)+K|P<<K|j,Rh=J+b}else Ih=1<<J|P<<K|j,Rh=b}function s4(b){b.return!==null&&(P0(b,1),MJ(b,1,0))}function a4(b){for(;b===k2;)k2=Mb[--Pb],Mb[Pb]=null,I2=Mb[--Pb],Mb[Pb]=null;for(;b===M0;)M0=Yu[--Ku],Yu[Ku]=null,Rh=Yu[--Ku],Yu[Ku]=null,Ih=Yu[--Ku],Yu[Ku]=null}var su=null,au=null,Si=!1,Bc=null;function PJ(b,T){var P=Zu(5,null,null,0);P.elementType="DELETED",P.stateNode=T,P.return=b,T=b.deletions,T===null?(b.deletions=[P],b.flags|=16):T.push(P)}function NJ(b,T){switch(b.tag){case 5:var P=b.type;return T=T.nodeType!==1||P.toLowerCase()!==T.nodeName.toLowerCase()?null:T,T!==null?(b.stateNode=T,su=b,au=hm(T.firstChild),!0):!1;case 6:return T=b.pendingProps===""||T.nodeType!==3?null:T,T!==null?(b.stateNode=T,su=b,au=null,!0):!1;case 13:return T=T.nodeType!==8?null:T,T!==null?(P=M0!==null?{id:Ih,overflow:Rh}:null,b.memoizedState={dehydrated:T,treeContext:P,retryLane:1073741824},P=Zu(18,null,null,0),P.stateNode=T,P.return=b,b.child=P,su=b,au=null,!0):!1;default:return!1}}function l4(b){return(b.mode&1)!==0&&(b.flags&128)===0}function u4(b){if(Si){var T=au;if(T){var P=T;if(!NJ(b,T)){if(l4(b))throw Error(n(418));T=hm(P.nextSibling);var j=su;T&&NJ(b,T)?PJ(j,P):(b.flags=b.flags&-4097|2,Si=!1,su=b)}}else{if(l4(b))throw Error(n(418));b.flags=b.flags&-4097|2,Si=!1,su=b}}}function OJ(b){for(b=b.return;b!==null&&b.tag!==5&&b.tag!==3&&b.tag!==13;)b=b.return;su=b}function R2(b){if(b!==su)return!1;if(!Si)return OJ(b),Si=!0,!1;var T;if((T=b.tag!==3)&&!(T=b.tag!==5)&&(T=b.type,T=T!=="head"&&T!=="body"&&!e4(b.type,b.memoizedProps)),T&&(T=au)){if(l4(b))throw LJ(),Error(n(418));for(;T;)PJ(b,T),T=hm(T.nextSibling)}if(OJ(b),b.tag===13){if(b=b.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));e:{for(b=b.nextSibling,T=0;b;){if(b.nodeType===8){var P=b.data;if(P==="/$"){if(T===0){au=hm(b.nextSibling);break e}T--}else P!=="$"&&P!=="$!"&&P!=="$?"||T++}b=b.nextSibling}au=null}}else au=su?hm(b.stateNode.nextSibling):null;return!0}function LJ(){for(var b=au;b;)b=hm(b.nextSibling)}function Nb(){au=su=null,Si=!1}function c4(b){Bc===null?Bc=[b]:Bc.push(b)}var iPe=E.ReactCurrentBatchConfig;function $_(b,T,P){if(b=P.ref,b!==null&&typeof b!="function"&&typeof b!="object"){if(P._owner){if(P=P._owner,P){if(P.tag!==1)throw Error(n(309));var j=P.stateNode}if(!j)throw Error(n(147,b));var K=j,J=""+b;return T!==null&&T.ref!==null&&typeof T.ref=="function"&&T.ref._stringRef===J?T.ref:(T=function(re){var ve=K.refs;re===null?delete ve[J]:ve[J]=re},T._stringRef=J,T)}if(typeof b!="string")throw Error(n(284));if(!P._owner)throw Error(n(290,b))}return b}function D2(b,T){throw b=Object.prototype.toString.call(T),Error(n(31,b==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":b))}function FJ(b){var T=b._init;return T(b._payload)}function BJ(b){function T(Pe,Ie){if(b){var Le=Pe.deletions;Le===null?(Pe.deletions=[Ie],Pe.flags|=16):Le.push(Ie)}}function P(Pe,Ie){if(!b)return null;for(;Ie!==null;)T(Pe,Ie),Ie=Ie.sibling;return null}function j(Pe,Ie){for(Pe=new Map;Ie!==null;)Ie.key!==null?Pe.set(Ie.key,Ie):Pe.set(Ie.index,Ie),Ie=Ie.sibling;return Pe}function K(Pe,Ie){return Pe=Sm(Pe,Ie),Pe.index=0,Pe.sibling=null,Pe}function J(Pe,Ie,Le){return Pe.index=Le,b?(Le=Pe.alternate,Le!==null?(Le=Le.index,Le<Ie?(Pe.flags|=2,Ie):Le):(Pe.flags|=2,Ie)):(Pe.flags|=1048576,Ie)}function re(Pe){return b&&Pe.alternate===null&&(Pe.flags|=2),Pe}function ve(Pe,Ie,Le,$t){return Ie===null||Ie.tag!==6?(Ie=tF(Le,Pe.mode,$t),Ie.return=Pe,Ie):(Ie=K(Ie,Le),Ie.return=Pe,Ie)}function Ee(Pe,Ie,Le,$t){var un=Le.type;return un===S?pt(Pe,Ie,Le.props.children,$t,Le.key):Ie!==null&&(Ie.elementType===un||typeof un=="object"&&un!==null&&un.$$typeof===O&&FJ(un)===Ie.type)?($t=K(Ie,Le.props),$t.ref=$_(Pe,Ie,Le),$t.return=Pe,$t):($t=tk(Le.type,Le.key,Le.props,null,Pe.mode,$t),$t.ref=$_(Pe,Ie,Le),$t.return=Pe,$t)}function Be(Pe,Ie,Le,$t){return Ie===null||Ie.tag!==4||Ie.stateNode.containerInfo!==Le.containerInfo||Ie.stateNode.implementation!==Le.implementation?(Ie=nF(Le,Pe.mode,$t),Ie.return=Pe,Ie):(Ie=K(Ie,Le.children||[]),Ie.return=Pe,Ie)}function pt(Pe,Ie,Le,$t,un){return Ie===null||Ie.tag!==7?(Ie=U0(Le,Pe.mode,$t,un),Ie.return=Pe,Ie):(Ie=K(Ie,Le),Ie.return=Pe,Ie)}function bt(Pe,Ie,Le){if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number")return Ie=tF(""+Ie,Pe.mode,Le),Ie.return=Pe,Ie;if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case _:return Le=tk(Ie.type,Ie.key,Ie.props,null,Pe.mode,Le),Le.ref=$_(Pe,null,Ie),Le.return=Pe,Le;case x:return Ie=nF(Ie,Pe.mode,Le),Ie.return=Pe,Ie;case O:var $t=Ie._init;return bt(Pe,$t(Ie._payload),Le)}if(at(Ie)||W(Ie))return Ie=U0(Ie,Pe.mode,Le,null),Ie.return=Pe,Ie;D2(Pe,Ie)}return null}function dt(Pe,Ie,Le,$t){var un=Ie!==null?Ie.key:null;if(typeof Le=="string"&&Le!==""||typeof Le=="number")return un!==null?null:ve(Pe,Ie,""+Le,$t);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case _:return Le.key===un?Ee(Pe,Ie,Le,$t):null;case x:return Le.key===un?Be(Pe,Ie,Le,$t):null;case O:return un=Le._init,dt(Pe,Ie,un(Le._payload),$t)}if(at(Le)||W(Le))return un!==null?null:pt(Pe,Ie,Le,$t,null);D2(Pe,Le)}return null}function qt(Pe,Ie,Le,$t,un){if(typeof $t=="string"&&$t!==""||typeof $t=="number")return Pe=Pe.get(Le)||null,ve(Ie,Pe,""+$t,un);if(typeof $t=="object"&&$t!==null){switch($t.$$typeof){case _:return Pe=Pe.get($t.key===null?Le:$t.key)||null,Ee(Ie,Pe,$t,un);case x:return Pe=Pe.get($t.key===null?Le:$t.key)||null,Be(Ie,Pe,$t,un);case O:var vn=$t._init;return qt(Pe,Ie,Le,vn($t._payload),un)}if(at($t)||W($t))return Pe=Pe.get(Le)||null,pt(Ie,Pe,$t,un,null);D2(Ie,$t)}return null}function Jt(Pe,Ie,Le,$t){for(var un=null,vn=null,bn=Ie,In=Ie=0,ns=null;bn!==null&&In<Le.length;In++){bn.index>In?(ns=bn,bn=null):ns=bn.sibling;var wr=dt(Pe,bn,Le[In],$t);if(wr===null){bn===null&&(bn=ns);break}b&&bn&&wr.alternate===null&&T(Pe,bn),Ie=J(wr,Ie,In),vn===null?un=wr:vn.sibling=wr,vn=wr,bn=ns}if(In===Le.length)return P(Pe,bn),Si&&P0(Pe,In),un;if(bn===null){for(;In<Le.length;In++)bn=bt(Pe,Le[In],$t),bn!==null&&(Ie=J(bn,Ie,In),vn===null?un=bn:vn.sibling=bn,vn=bn);return Si&&P0(Pe,In),un}for(bn=j(Pe,bn);In<Le.length;In++)ns=qt(bn,Pe,In,Le[In],$t),ns!==null&&(b&&ns.alternate!==null&&bn.delete(ns.key===null?In:ns.key),Ie=J(ns,Ie,In),vn===null?un=ns:vn.sibling=ns,vn=ns);return b&&bn.forEach(function(Tm){return T(Pe,Tm)}),Si&&P0(Pe,In),un}function tn(Pe,Ie,Le,$t){var un=W(Le);if(typeof un!="function")throw Error(n(150));if(Le=un.call(Le),Le==null)throw Error(n(151));for(var vn=un=null,bn=Ie,In=Ie=0,ns=null,wr=Le.next();bn!==null&&!wr.done;In++,wr=Le.next()){bn.index>In?(ns=bn,bn=null):ns=bn.sibling;var Tm=dt(Pe,bn,wr.value,$t);if(Tm===null){bn===null&&(bn=ns);break}b&&bn&&Tm.alternate===null&&T(Pe,bn),Ie=J(Tm,Ie,In),vn===null?un=Tm:vn.sibling=Tm,vn=Tm,bn=ns}if(wr.done)return P(Pe,bn),Si&&P0(Pe,In),un;if(bn===null){for(;!wr.done;In++,wr=Le.next())wr=bt(Pe,wr.value,$t),wr!==null&&(Ie=J(wr,Ie,In),vn===null?un=wr:vn.sibling=wr,vn=wr);return Si&&P0(Pe,In),un}for(bn=j(Pe,bn);!wr.done;In++,wr=Le.next())wr=qt(bn,Pe,In,wr.value,$t),wr!==null&&(b&&wr.alternate!==null&&bn.delete(wr.key===null?In:wr.key),Ie=J(wr,Ie,In),vn===null?un=wr:vn.sibling=wr,vn=wr);return b&&bn.forEach(function(LPe){return T(Pe,LPe)}),Si&&P0(Pe,In),un}function uo(Pe,Ie,Le,$t){if(typeof Le=="object"&&Le!==null&&Le.type===S&&Le.key===null&&(Le=Le.props.children),typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case _:e:{for(var un=Le.key,vn=Ie;vn!==null;){if(vn.key===un){if(un=Le.type,un===S){if(vn.tag===7){P(Pe,vn.sibling),Ie=K(vn,Le.props.children),Ie.return=Pe,Pe=Ie;break e}}else if(vn.elementType===un||typeof un=="object"&&un!==null&&un.$$typeof===O&&FJ(un)===vn.type){P(Pe,vn.sibling),Ie=K(vn,Le.props),Ie.ref=$_(Pe,vn,Le),Ie.return=Pe,Pe=Ie;break e}P(Pe,vn);break}else T(Pe,vn);vn=vn.sibling}Le.type===S?(Ie=U0(Le.props.children,Pe.mode,$t,Le.key),Ie.return=Pe,Pe=Ie):($t=tk(Le.type,Le.key,Le.props,null,Pe.mode,$t),$t.ref=$_(Pe,Ie,Le),$t.return=Pe,Pe=$t)}return re(Pe);case x:e:{for(vn=Le.key;Ie!==null;){if(Ie.key===vn)if(Ie.tag===4&&Ie.stateNode.containerInfo===Le.containerInfo&&Ie.stateNode.implementation===Le.implementation){P(Pe,Ie.sibling),Ie=K(Ie,Le.children||[]),Ie.return=Pe,Pe=Ie;break e}else{P(Pe,Ie);break}else T(Pe,Ie);Ie=Ie.sibling}Ie=nF(Le,Pe.mode,$t),Ie.return=Pe,Pe=Ie}return re(Pe);case O:return vn=Le._init,uo(Pe,Ie,vn(Le._payload),$t)}if(at(Le))return Jt(Pe,Ie,Le,$t);if(W(Le))return tn(Pe,Ie,Le,$t);D2(Pe,Le)}return typeof Le=="string"&&Le!==""||typeof Le=="number"?(Le=""+Le,Ie!==null&&Ie.tag===6?(P(Pe,Ie.sibling),Ie=K(Ie,Le),Ie.return=Pe,Pe=Ie):(P(Pe,Ie),Ie=tF(Le,Pe.mode,$t),Ie.return=Pe,Pe=Ie),re(Pe)):P(Pe,Ie)}return uo}var Ob=BJ(!0),jJ=BJ(!1),$2=pm(null),M2=null,Lb=null,d4=null;function f4(){d4=Lb=M2=null}function h4(b){var T=$2.current;gi($2),b._currentValue=T}function p4(b,T,P){for(;b!==null;){var j=b.alternate;if((b.childLanes&T)!==T?(b.childLanes|=T,j!==null&&(j.childLanes|=T)):j!==null&&(j.childLanes&T)!==T&&(j.childLanes|=T),b===P)break;b=b.return}}function Fb(b,T){M2=b,d4=Lb=null,b=b.dependencies,b!==null&&b.firstContext!==null&&((b.lanes&T)!==0&&(wl=!0),b.firstContext=null)}function Xu(b){var T=b._currentValue;if(d4!==b)if(b={context:b,memoizedValue:T,next:null},Lb===null){if(M2===null)throw Error(n(308));Lb=b,M2.dependencies={lanes:0,firstContext:b}}else Lb=Lb.next=b;return T}var N0=null;function m4(b){N0===null?N0=[b]:N0.push(b)}function zJ(b,T,P,j){var K=T.interleaved;return K===null?(P.next=P,m4(T)):(P.next=K.next,K.next=P),T.interleaved=P,Dh(b,j)}function Dh(b,T){b.lanes|=T;var P=b.alternate;for(P!==null&&(P.lanes|=T),P=b,b=b.return;b!==null;)b.childLanes|=T,P=b.alternate,P!==null&&(P.childLanes|=T),P=b,b=b.return;return P.tag===3?P.stateNode:null}var ym=!1;function g4(b){b.updateQueue={baseState:b.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function UJ(b,T){b=b.updateQueue,T.updateQueue===b&&(T.updateQueue={baseState:b.baseState,firstBaseUpdate:b.firstBaseUpdate,lastBaseUpdate:b.lastBaseUpdate,shared:b.shared,effects:b.effects})}function $h(b,T){return{eventTime:b,lane:T,tag:0,payload:null,callback:null,next:null}}function vm(b,T,P){var j=b.updateQueue;if(j===null)return null;if(j=j.shared,(vr&2)!==0){var K=j.pending;return K===null?T.next=T:(T.next=K.next,K.next=T),j.pending=T,Dh(b,P)}return K=j.interleaved,K===null?(T.next=T,m4(j)):(T.next=K.next,K.next=T),j.interleaved=T,Dh(b,P)}function P2(b,T,P){if(T=T.updateQueue,T!==null&&(T=T.shared,(P&4194240)!==0)){var j=T.lanes;j&=b.pendingLanes,P|=j,T.lanes=P,On(b,P)}}function HJ(b,T){var P=b.updateQueue,j=b.alternate;if(j!==null&&(j=j.updateQueue,P===j)){var K=null,J=null;if(P=P.firstBaseUpdate,P!==null){do{var re={eventTime:P.eventTime,lane:P.lane,tag:P.tag,payload:P.payload,callback:P.callback,next:null};J===null?K=J=re:J=J.next=re,P=P.next}while(P!==null);J===null?K=J=T:J=J.next=T}else K=J=T;P={baseState:j.baseState,firstBaseUpdate:K,lastBaseUpdate:J,shared:j.shared,effects:j.effects},b.updateQueue=P;return}b=P.lastBaseUpdate,b===null?P.firstBaseUpdate=T:b.next=T,P.lastBaseUpdate=T}function N2(b,T,P,j){var K=b.updateQueue;ym=!1;var J=K.firstBaseUpdate,re=K.lastBaseUpdate,ve=K.shared.pending;if(ve!==null){K.shared.pending=null;var Ee=ve,Be=Ee.next;Ee.next=null,re===null?J=Be:re.next=Be,re=Ee;var pt=b.alternate;pt!==null&&(pt=pt.updateQueue,ve=pt.lastBaseUpdate,ve!==re&&(ve===null?pt.firstBaseUpdate=Be:ve.next=Be,pt.lastBaseUpdate=Ee))}if(J!==null){var bt=K.baseState;re=0,pt=Be=Ee=null,ve=J;do{var dt=ve.lane,qt=ve.eventTime;if((j&dt)===dt){pt!==null&&(pt=pt.next={eventTime:qt,lane:0,tag:ve.tag,payload:ve.payload,callback:ve.callback,next:null});e:{var Jt=b,tn=ve;switch(dt=T,qt=P,tn.tag){case 1:if(Jt=tn.payload,typeof Jt=="function"){bt=Jt.call(qt,bt,dt);break e}bt=Jt;break e;case 3:Jt.flags=Jt.flags&-65537|128;case 0:if(Jt=tn.payload,dt=typeof Jt=="function"?Jt.call(qt,bt,dt):Jt,dt==null)break e;bt=U({},bt,dt);break e;case 2:ym=!0}}ve.callback!==null&&ve.lane!==0&&(b.flags|=64,dt=K.effects,dt===null?K.effects=[ve]:dt.push(ve))}else qt={eventTime:qt,lane:dt,tag:ve.tag,payload:ve.payload,callback:ve.callback,next:null},pt===null?(Be=pt=qt,Ee=bt):pt=pt.next=qt,re|=dt;if(ve=ve.next,ve===null){if(ve=K.shared.pending,ve===null)break;dt=ve,ve=dt.next,dt.next=null,K.lastBaseUpdate=dt,K.shared.pending=null}}while(!0);if(pt===null&&(Ee=bt),K.baseState=Ee,K.firstBaseUpdate=Be,K.lastBaseUpdate=pt,T=K.shared.interleaved,T!==null){K=T;do re|=K.lane,K=K.next;while(K!==T)}else J===null&&(K.shared.lanes=0);F0|=re,b.lanes=re,b.memoizedState=bt}}function VJ(b,T,P){if(b=T.effects,T.effects=null,b!==null)for(T=0;T<b.length;T++){var j=b[T],K=j.callback;if(K!==null){if(j.callback=null,j=P,typeof K!="function")throw Error(n(191,K));K.call(j)}}}var M_={},Zd=pm(M_),P_=pm(M_),N_=pm(M_);function O0(b){if(b===M_)throw Error(n(174));return b}function y4(b,T){switch(ai(N_,T),ai(P_,b),ai(Zd,M_),b=T.nodeType,b){case 9:case 11:T=(T=T.documentElement)?T.namespaceURI:xe(null,"");break;default:b=b===8?T.parentNode:T,T=b.namespaceURI||null,b=b.tagName,T=xe(T,b)}gi(Zd),ai(Zd,T)}function Bb(){gi(Zd),gi(P_),gi(N_)}function WJ(b){O0(N_.current);var T=O0(Zd.current),P=xe(T,b.type);T!==P&&(ai(P_,b),ai(Zd,P))}function v4(b){P_.current===b&&(gi(Zd),gi(P_))}var Pi=pm(0);function O2(b){for(var T=b;T!==null;){if(T.tag===13){var P=T.memoizedState;if(P!==null&&(P=P.dehydrated,P===null||P.data==="$?"||P.data==="$!"))return T}else if(T.tag===19&&T.memoizedProps.revealOrder!==void 0){if((T.flags&128)!==0)return T}else if(T.child!==null){T.child.return=T,T=T.child;continue}if(T===b)break;for(;T.sibling===null;){if(T.return===null||T.return===b)return null;T=T.return}T.sibling.return=T.return,T=T.sibling}return null}var b4=[];function w4(){for(var b=0;b<b4.length;b++)b4[b]._workInProgressVersionPrimary=null;b4.length=0}var L2=E.ReactCurrentDispatcher,x4=E.ReactCurrentBatchConfig,L0=0,Ni=null,Oo=null,es=null,F2=!1,O_=!1,L_=0,oPe=0;function oa(){throw Error(n(321))}function _4(b,T){if(T===null)return!1;for(var P=0;P<T.length&&P<b.length;P++)if(!Fc(b[P],T[P]))return!1;return!0}function E4(b,T,P,j,K,J){if(L0=J,Ni=T,T.memoizedState=null,T.updateQueue=null,T.lanes=0,L2.current=b===null||b.memoizedState===null?uPe:cPe,b=P(j,K),O_){J=0;do{if(O_=!1,L_=0,25<=J)throw Error(n(301));J+=1,es=Oo=null,T.updateQueue=null,L2.current=dPe,b=P(j,K)}while(O_)}if(L2.current=z2,T=Oo!==null&&Oo.next!==null,L0=0,es=Oo=Ni=null,F2=!1,T)throw Error(n(300));return b}function S4(){var b=L_!==0;return L_=0,b}function ef(){var b={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return es===null?Ni.memoizedState=es=b:es=es.next=b,es}function Qu(){if(Oo===null){var b=Ni.alternate;b=b!==null?b.memoizedState:null}else b=Oo.next;var T=es===null?Ni.memoizedState:es.next;if(T!==null)es=T,Oo=b;else{if(b===null)throw Error(n(310));Oo=b,b={memoizedState:Oo.memoizedState,baseState:Oo.baseState,baseQueue:Oo.baseQueue,queue:Oo.queue,next:null},es===null?Ni.memoizedState=es=b:es=es.next=b}return es}function F_(b,T){return typeof T=="function"?T(b):T}function T4(b){var T=Qu(),P=T.queue;if(P===null)throw Error(n(311));P.lastRenderedReducer=b;var j=Oo,K=j.baseQueue,J=P.pending;if(J!==null){if(K!==null){var re=K.next;K.next=J.next,J.next=re}j.baseQueue=K=J,P.pending=null}if(K!==null){J=K.next,j=j.baseState;var ve=re=null,Ee=null,Be=J;do{var pt=Be.lane;if((L0&pt)===pt)Ee!==null&&(Ee=Ee.next={lane:0,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null}),j=Be.hasEagerState?Be.eagerState:b(j,Be.action);else{var bt={lane:pt,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null};Ee===null?(ve=Ee=bt,re=j):Ee=Ee.next=bt,Ni.lanes|=pt,F0|=pt}Be=Be.next}while(Be!==null&&Be!==J);Ee===null?re=j:Ee.next=ve,Fc(j,T.memoizedState)||(wl=!0),T.memoizedState=j,T.baseState=re,T.baseQueue=Ee,P.lastRenderedState=j}if(b=P.interleaved,b!==null){K=b;do J=K.lane,Ni.lanes|=J,F0|=J,K=K.next;while(K!==b)}else K===null&&(P.lanes=0);return[T.memoizedState,P.dispatch]}function C4(b){var T=Qu(),P=T.queue;if(P===null)throw Error(n(311));P.lastRenderedReducer=b;var j=P.dispatch,K=P.pending,J=T.memoizedState;if(K!==null){P.pending=null;var re=K=K.next;do J=b(J,re.action),re=re.next;while(re!==K);Fc(J,T.memoizedState)||(wl=!0),T.memoizedState=J,T.baseQueue===null&&(T.baseState=J),P.lastRenderedState=J}return[J,j]}function qJ(){}function GJ(b,T){var P=Ni,j=Qu(),K=T(),J=!Fc(j.memoizedState,K);if(J&&(j.memoizedState=K,wl=!0),j=j.queue,A4(XJ.bind(null,P,j,b),[b]),j.getSnapshot!==T||J||es!==null&&es.memoizedState.tag&1){if(P.flags|=2048,B_(9,KJ.bind(null,P,j,K,T),void 0,null),ts===null)throw Error(n(349));(L0&30)!==0||YJ(P,T,K)}return K}function YJ(b,T,P){b.flags|=16384,b={getSnapshot:T,value:P},T=Ni.updateQueue,T===null?(T={lastEffect:null,stores:null},Ni.updateQueue=T,T.stores=[b]):(P=T.stores,P===null?T.stores=[b]:P.push(b))}function KJ(b,T,P,j){T.value=P,T.getSnapshot=j,QJ(T)&&JJ(b)}function XJ(b,T,P){return P(function(){QJ(T)&&JJ(b)})}function QJ(b){var T=b.getSnapshot;b=b.value;try{var P=T();return!Fc(b,P)}catch{return!0}}function JJ(b){var T=Dh(b,1);T!==null&&Hc(T,b,1,-1)}function ZJ(b){var T=ef();return typeof b=="function"&&(b=b()),T.memoizedState=T.baseState=b,b={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:F_,lastRenderedState:b},T.queue=b,b=b.dispatch=lPe.bind(null,Ni,b),[T.memoizedState,b]}function B_(b,T,P,j){return b={tag:b,create:T,destroy:P,deps:j,next:null},T=Ni.updateQueue,T===null?(T={lastEffect:null,stores:null},Ni.updateQueue=T,T.lastEffect=b.next=b):(P=T.lastEffect,P===null?T.lastEffect=b.next=b:(j=P.next,P.next=b,b.next=j,T.lastEffect=b)),b}function eZ(){return Qu().memoizedState}function B2(b,T,P,j){var K=ef();Ni.flags|=b,K.memoizedState=B_(1|T,P,void 0,j===void 0?null:j)}function j2(b,T,P,j){var K=Qu();j=j===void 0?null:j;var J=void 0;if(Oo!==null){var re=Oo.memoizedState;if(J=re.destroy,j!==null&&_4(j,re.deps)){K.memoizedState=B_(T,P,J,j);return}}Ni.flags|=b,K.memoizedState=B_(1|T,P,J,j)}function tZ(b,T){return B2(8390656,8,b,T)}function A4(b,T){return j2(2048,8,b,T)}function nZ(b,T){return j2(4,2,b,T)}function rZ(b,T){return j2(4,4,b,T)}function iZ(b,T){if(typeof T=="function")return b=b(),T(b),function(){T(null)};if(T!=null)return b=b(),T.current=b,function(){T.current=null}}function oZ(b,T,P){return P=P!=null?P.concat([b]):null,j2(4,4,iZ.bind(null,T,b),P)}function k4(){}function sZ(b,T){var P=Qu();T=T===void 0?null:T;var j=P.memoizedState;return j!==null&&T!==null&&_4(T,j[1])?j[0]:(P.memoizedState=[b,T],b)}function aZ(b,T){var P=Qu();T=T===void 0?null:T;var j=P.memoizedState;return j!==null&&T!==null&&_4(T,j[1])?j[0]:(b=b(),P.memoizedState=[b,T],b)}function lZ(b,T,P){return(L0&21)===0?(b.baseState&&(b.baseState=!1,wl=!0),b.memoizedState=P):(Fc(P,T)||(P=_t(),Ni.lanes|=P,F0|=P,b.baseState=!0),T)}function sPe(b,T){var P=Qt;Qt=P!==0&&4>P?P:4,b(!0);var j=x4.transition;x4.transition={};try{b(!1),T()}finally{Qt=P,x4.transition=j}}function uZ(){return Qu().memoizedState}function aPe(b,T,P){var j=_m(b);if(P={lane:j,action:P,hasEagerState:!1,eagerState:null,next:null},cZ(b))dZ(T,P);else if(P=zJ(b,T,P,j),P!==null){var K=za();Hc(P,b,j,K),fZ(P,T,j)}}function lPe(b,T,P){var j=_m(b),K={lane:j,action:P,hasEagerState:!1,eagerState:null,next:null};if(cZ(b))dZ(T,K);else{var J=b.alternate;if(b.lanes===0&&(J===null||J.lanes===0)&&(J=T.lastRenderedReducer,J!==null))try{var re=T.lastRenderedState,ve=J(re,P);if(K.hasEagerState=!0,K.eagerState=ve,Fc(ve,re)){var Ee=T.interleaved;Ee===null?(K.next=K,m4(T)):(K.next=Ee.next,Ee.next=K),T.interleaved=K;return}}catch{}finally{}P=zJ(b,T,K,j),P!==null&&(K=za(),Hc(P,b,j,K),fZ(P,T,j))}}function cZ(b){var T=b.alternate;return b===Ni||T!==null&&T===Ni}function dZ(b,T){O_=F2=!0;var P=b.pending;P===null?T.next=T:(T.next=P.next,P.next=T),b.pending=T}function fZ(b,T,P){if((P&4194240)!==0){var j=T.lanes;j&=b.pendingLanes,P|=j,T.lanes=P,On(b,P)}}var z2={readContext:Xu,useCallback:oa,useContext:oa,useEffect:oa,useImperativeHandle:oa,useInsertionEffect:oa,useLayoutEffect:oa,useMemo:oa,useReducer:oa,useRef:oa,useState:oa,useDebugValue:oa,useDeferredValue:oa,useTransition:oa,useMutableSource:oa,useSyncExternalStore:oa,useId:oa,unstable_isNewReconciler:!1},uPe={readContext:Xu,useCallback:function(b,T){return ef().memoizedState=[b,T===void 0?null:T],b},useContext:Xu,useEffect:tZ,useImperativeHandle:function(b,T,P){return P=P!=null?P.concat([b]):null,B2(4194308,4,iZ.bind(null,T,b),P)},useLayoutEffect:function(b,T){return B2(4194308,4,b,T)},useInsertionEffect:function(b,T){return B2(4,2,b,T)},useMemo:function(b,T){var P=ef();return T=T===void 0?null:T,b=b(),P.memoizedState=[b,T],b},useReducer:function(b,T,P){var j=ef();return T=P!==void 0?P(T):T,j.memoizedState=j.baseState=T,b={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:b,lastRenderedState:T},j.queue=b,b=b.dispatch=aPe.bind(null,Ni,b),[j.memoizedState,b]},useRef:function(b){var T=ef();return b={current:b},T.memoizedState=b},useState:ZJ,useDebugValue:k4,useDeferredValue:function(b){return ef().memoizedState=b},useTransition:function(){var b=ZJ(!1),T=b[0];return b=sPe.bind(null,b[1]),ef().memoizedState=b,[T,b]},useMutableSource:function(){},useSyncExternalStore:function(b,T,P){var j=Ni,K=ef();if(Si){if(P===void 0)throw Error(n(407));P=P()}else{if(P=T(),ts===null)throw Error(n(349));(L0&30)!==0||YJ(j,T,P)}K.memoizedState=P;var J={value:P,getSnapshot:T};return K.queue=J,tZ(XJ.bind(null,j,J,b),[b]),j.flags|=2048,B_(9,KJ.bind(null,j,J,P,T),void 0,null),P},useId:function(){var b=ef(),T=ts.identifierPrefix;if(Si){var P=Rh,j=Ih;P=(j&~(1<<32-oo(j)-1)).toString(32)+P,T=":"+T+"R"+P,P=L_++,0<P&&(T+="H"+P.toString(32)),T+=":"}else P=oPe++,T=":"+T+"r"+P.toString(32)+":";return b.memoizedState=T},unstable_isNewReconciler:!1},cPe={readContext:Xu,useCallback:sZ,useContext:Xu,useEffect:A4,useImperativeHandle:oZ,useInsertionEffect:nZ,useLayoutEffect:rZ,useMemo:aZ,useReducer:T4,useRef:eZ,useState:function(){return T4(F_)},useDebugValue:k4,useDeferredValue:function(b){var T=Qu();return lZ(T,Oo.memoizedState,b)},useTransition:function(){var b=T4(F_)[0],T=Qu().memoizedState;return[b,T]},useMutableSource:qJ,useSyncExternalStore:GJ,useId:uZ,unstable_isNewReconciler:!1},dPe={readContext:Xu,useCallback:sZ,useContext:Xu,useEffect:A4,useImperativeHandle:oZ,useInsertionEffect:nZ,useLayoutEffect:rZ,useMemo:aZ,useReducer:C4,useRef:eZ,useState:function(){return C4(F_)},useDebugValue:k4,useDeferredValue:function(b){var T=Qu();return Oo===null?T.memoizedState=b:lZ(T,Oo.memoizedState,b)},useTransition:function(){var b=C4(F_)[0],T=Qu().memoizedState;return[b,T]},useMutableSource:qJ,useSyncExternalStore:GJ,useId:uZ,unstable_isNewReconciler:!1};function jc(b,T){if(b&&b.defaultProps){T=U({},T),b=b.defaultProps;for(var P in b)T[P]===void 0&&(T[P]=b[P]);return T}return T}function I4(b,T,P,j){T=b.memoizedState,P=P(j,T),P=P==null?T:U({},T,P),b.memoizedState=P,b.lanes===0&&(b.updateQueue.baseState=P)}var U2={isMounted:function(b){return(b=b._reactInternals)?hi(b)===b:!1},enqueueSetState:function(b,T,P){b=b._reactInternals;var j=za(),K=_m(b),J=$h(j,K);J.payload=T,P!=null&&(J.callback=P),T=vm(b,J,K),T!==null&&(Hc(T,b,K,j),P2(T,b,K))},enqueueReplaceState:function(b,T,P){b=b._reactInternals;var j=za(),K=_m(b),J=$h(j,K);J.tag=1,J.payload=T,P!=null&&(J.callback=P),T=vm(b,J,K),T!==null&&(Hc(T,b,K,j),P2(T,b,K))},enqueueForceUpdate:function(b,T){b=b._reactInternals;var P=za(),j=_m(b),K=$h(P,j);K.tag=2,T!=null&&(K.callback=T),T=vm(b,K,j),T!==null&&(Hc(T,b,j,P),P2(T,b,j))}};function hZ(b,T,P,j,K,J,re){return b=b.stateNode,typeof b.shouldComponentUpdate=="function"?b.shouldComponentUpdate(j,J,re):T.prototype&&T.prototype.isPureReactComponent?!T_(P,j)||!T_(K,J):!0}function pZ(b,T,P){var j=!1,K=mm,J=T.contextType;return typeof J=="object"&&J!==null?J=Xu(J):(K=bl(T)?$0:ia.current,j=T.contextTypes,J=(j=j!=null)?$b(b,K):mm),T=new T(P,J),b.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=U2,b.stateNode=T,T._reactInternals=b,j&&(b=b.stateNode,b.__reactInternalMemoizedUnmaskedChildContext=K,b.__reactInternalMemoizedMaskedChildContext=J),T}function mZ(b,T,P,j){b=T.state,typeof T.componentWillReceiveProps=="function"&&T.componentWillReceiveProps(P,j),typeof T.UNSAFE_componentWillReceiveProps=="function"&&T.UNSAFE_componentWillReceiveProps(P,j),T.state!==b&&U2.enqueueReplaceState(T,T.state,null)}function R4(b,T,P,j){var K=b.stateNode;K.props=P,K.state=b.memoizedState,K.refs={},g4(b);var J=T.contextType;typeof J=="object"&&J!==null?K.context=Xu(J):(J=bl(T)?$0:ia.current,K.context=$b(b,J)),K.state=b.memoizedState,J=T.getDerivedStateFromProps,typeof J=="function"&&(I4(b,T,J,P),K.state=b.memoizedState),typeof T.getDerivedStateFromProps=="function"||typeof K.getSnapshotBeforeUpdate=="function"||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(T=K.state,typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount(),T!==K.state&&U2.enqueueReplaceState(K,K.state,null),N2(b,P,K,j),K.state=b.memoizedState),typeof K.componentDidMount=="function"&&(b.flags|=4194308)}function jb(b,T){try{var P="",j=T;do P+=X(j),j=j.return;while(j);var K=P}catch(J){K=`
Error generating stack: `+J.message+`
`+J.stack}return{value:b,source:T,stack:K,digest:null}}function D4(b,T,P){return{value:b,source:null,stack:P??null,digest:T??null}}function $4(b,T){try{console.error(T.value)}catch(P){setTimeout(function(){throw P})}}var fPe=typeof WeakMap=="function"?WeakMap:Map;function gZ(b,T,P){P=$h(-1,P),P.tag=3,P.payload={element:null};var j=T.value;return P.callback=function(){K2||(K2=!0,G4=j),$4(b,T)},P}function yZ(b,T,P){P=$h(-1,P),P.tag=3;var j=b.type.getDerivedStateFromError;if(typeof j=="function"){var K=T.value;P.payload=function(){return j(K)},P.callback=function(){$4(b,T)}}var J=b.stateNode;return J!==null&&typeof J.componentDidCatch=="function"&&(P.callback=function(){$4(b,T),typeof j!="function"&&(wm===null?wm=new Set([this]):wm.add(this));var re=T.stack;this.componentDidCatch(T.value,{componentStack:re!==null?re:""})}),P}function vZ(b,T,P){var j=b.pingCache;if(j===null){j=b.pingCache=new fPe;var K=new Set;j.set(T,K)}else K=j.get(T),K===void 0&&(K=new Set,j.set(T,K));K.has(P)||(K.add(P),b=CPe.bind(null,b,T,P),T.then(b,b))}function bZ(b){do{var T;if((T=b.tag===13)&&(T=b.memoizedState,T=T!==null?T.dehydrated!==null:!0),T)return b;b=b.return}while(b!==null);return null}function wZ(b,T,P,j,K){return(b.mode&1)===0?(b===T?b.flags|=65536:(b.flags|=128,P.flags|=131072,P.flags&=-52805,P.tag===1&&(P.alternate===null?P.tag=17:(T=$h(-1,1),T.tag=2,vm(P,T,1))),P.lanes|=1),b):(b.flags|=65536,b.lanes=K,b)}var hPe=E.ReactCurrentOwner,wl=!1;function ja(b,T,P,j){T.child=b===null?jJ(T,null,P,j):Ob(T,b.child,P,j)}function xZ(b,T,P,j,K){P=P.render;var J=T.ref;return Fb(T,K),j=E4(b,T,P,j,J,K),P=S4(),b!==null&&!wl?(T.updateQueue=b.updateQueue,T.flags&=-2053,b.lanes&=~K,Mh(b,T,K)):(Si&&P&&s4(T),T.flags|=1,ja(b,T,j,K),T.child)}function _Z(b,T,P,j,K){if(b===null){var J=P.type;return typeof J=="function"&&!eF(J)&&J.defaultProps===void 0&&P.compare===null&&P.defaultProps===void 0?(T.tag=15,T.type=J,EZ(b,T,J,j,K)):(b=tk(P.type,null,j,T,T.mode,K),b.ref=T.ref,b.return=T,T.child=b)}if(J=b.child,(b.lanes&K)===0){var re=J.memoizedProps;if(P=P.compare,P=P!==null?P:T_,P(re,j)&&b.ref===T.ref)return Mh(b,T,K)}return T.flags|=1,b=Sm(J,j),b.ref=T.ref,b.return=T,T.child=b}function EZ(b,T,P,j,K){if(b!==null){var J=b.memoizedProps;if(T_(J,j)&&b.ref===T.ref)if(wl=!1,T.pendingProps=j=J,(b.lanes&K)!==0)(b.flags&131072)!==0&&(wl=!0);else return T.lanes=b.lanes,Mh(b,T,K)}return M4(b,T,P,j,K)}function SZ(b,T,P){var j=T.pendingProps,K=j.children,J=b!==null?b.memoizedState:null;if(j.mode==="hidden")if((T.mode&1)===0)T.memoizedState={baseLanes:0,cachePool:null,transitions:null},ai(Ub,lu),lu|=P;else{if((P&1073741824)===0)return b=J!==null?J.baseLanes|P:P,T.lanes=T.childLanes=1073741824,T.memoizedState={baseLanes:b,cachePool:null,transitions:null},T.updateQueue=null,ai(Ub,lu),lu|=b,null;T.memoizedState={baseLanes:0,cachePool:null,transitions:null},j=J!==null?J.baseLanes:P,ai(Ub,lu),lu|=j}else J!==null?(j=J.baseLanes|P,T.memoizedState=null):j=P,ai(Ub,lu),lu|=j;return ja(b,T,K,P),T.child}function TZ(b,T){var P=T.ref;(b===null&&P!==null||b!==null&&b.ref!==P)&&(T.flags|=512,T.flags|=2097152)}function M4(b,T,P,j,K){var J=bl(P)?$0:ia.current;return J=$b(T,J),Fb(T,K),P=E4(b,T,P,j,J,K),j=S4(),b!==null&&!wl?(T.updateQueue=b.updateQueue,T.flags&=-2053,b.lanes&=~K,Mh(b,T,K)):(Si&&j&&s4(T),T.flags|=1,ja(b,T,P,K),T.child)}function CZ(b,T,P,j,K){if(bl(P)){var J=!0;C2(T)}else J=!1;if(Fb(T,K),T.stateNode===null)V2(b,T),pZ(T,P,j),R4(T,P,j,K),j=!0;else if(b===null){var re=T.stateNode,ve=T.memoizedProps;re.props=ve;var Ee=re.context,Be=P.contextType;typeof Be=="object"&&Be!==null?Be=Xu(Be):(Be=bl(P)?$0:ia.current,Be=$b(T,Be));var pt=P.getDerivedStateFromProps,bt=typeof pt=="function"||typeof re.getSnapshotBeforeUpdate=="function";bt||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(ve!==j||Ee!==Be)&&mZ(T,re,j,Be),ym=!1;var dt=T.memoizedState;re.state=dt,N2(T,j,re,K),Ee=T.memoizedState,ve!==j||dt!==Ee||vl.current||ym?(typeof pt=="function"&&(I4(T,P,pt,j),Ee=T.memoizedState),(ve=ym||hZ(T,P,ve,j,dt,Ee,Be))?(bt||typeof re.UNSAFE_componentWillMount!="function"&&typeof re.componentWillMount!="function"||(typeof re.componentWillMount=="function"&&re.componentWillMount(),typeof re.UNSAFE_componentWillMount=="function"&&re.UNSAFE_componentWillMount()),typeof re.componentDidMount=="function"&&(T.flags|=4194308)):(typeof re.componentDidMount=="function"&&(T.flags|=4194308),T.memoizedProps=j,T.memoizedState=Ee),re.props=j,re.state=Ee,re.context=Be,j=ve):(typeof re.componentDidMount=="function"&&(T.flags|=4194308),j=!1)}else{re=T.stateNode,UJ(b,T),ve=T.memoizedProps,Be=T.type===T.elementType?ve:jc(T.type,ve),re.props=Be,bt=T.pendingProps,dt=re.context,Ee=P.contextType,typeof Ee=="object"&&Ee!==null?Ee=Xu(Ee):(Ee=bl(P)?$0:ia.current,Ee=$b(T,Ee));var qt=P.getDerivedStateFromProps;(pt=typeof qt=="function"||typeof re.getSnapshotBeforeUpdate=="function")||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(ve!==bt||dt!==Ee)&&mZ(T,re,j,Ee),ym=!1,dt=T.memoizedState,re.state=dt,N2(T,j,re,K);var Jt=T.memoizedState;ve!==bt||dt!==Jt||vl.current||ym?(typeof qt=="function"&&(I4(T,P,qt,j),Jt=T.memoizedState),(Be=ym||hZ(T,P,Be,j,dt,Jt,Ee)||!1)?(pt||typeof re.UNSAFE_componentWillUpdate!="function"&&typeof re.componentWillUpdate!="function"||(typeof re.componentWillUpdate=="function"&&re.componentWillUpdate(j,Jt,Ee),typeof re.UNSAFE_componentWillUpdate=="function"&&re.UNSAFE_componentWillUpdate(j,Jt,Ee)),typeof re.componentDidUpdate=="function"&&(T.flags|=4),typeof re.getSnapshotBeforeUpdate=="function"&&(T.flags|=1024)):(typeof re.componentDidUpdate!="function"||ve===b.memoizedProps&&dt===b.memoizedState||(T.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||ve===b.memoizedProps&&dt===b.memoizedState||(T.flags|=1024),T.memoizedProps=j,T.memoizedState=Jt),re.props=j,re.state=Jt,re.context=Ee,j=Be):(typeof re.componentDidUpdate!="function"||ve===b.memoizedProps&&dt===b.memoizedState||(T.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||ve===b.memoizedProps&&dt===b.memoizedState||(T.flags|=1024),j=!1)}return P4(b,T,P,j,J,K)}function P4(b,T,P,j,K,J){TZ(b,T);var re=(T.flags&128)!==0;if(!j&&!re)return K&&DJ(T,P,!1),Mh(b,T,J);j=T.stateNode,hPe.current=T;var ve=re&&typeof P.getDerivedStateFromError!="function"?null:j.render();return T.flags|=1,b!==null&&re?(T.child=Ob(T,b.child,null,J),T.child=Ob(T,null,ve,J)):ja(b,T,ve,J),T.memoizedState=j.state,K&&DJ(T,P,!0),T.child}function AZ(b){var T=b.stateNode;T.pendingContext?IJ(b,T.pendingContext,T.pendingContext!==T.context):T.context&&IJ(b,T.context,!1),y4(b,T.containerInfo)}function kZ(b,T,P,j,K){return Nb(),c4(K),T.flags|=256,ja(b,T,P,j),T.child}var N4={dehydrated:null,treeContext:null,retryLane:0};function O4(b){return{baseLanes:b,cachePool:null,transitions:null}}function IZ(b,T,P){var j=T.pendingProps,K=Pi.current,J=!1,re=(T.flags&128)!==0,ve;if((ve=re)||(ve=b!==null&&b.memoizedState===null?!1:(K&2)!==0),ve?(J=!0,T.flags&=-129):(b===null||b.memoizedState!==null)&&(K|=1),ai(Pi,K&1),b===null)return u4(T),b=T.memoizedState,b!==null&&(b=b.dehydrated,b!==null)?((T.mode&1)===0?T.lanes=1:b.data==="$!"?T.lanes=8:T.lanes=1073741824,null):(re=j.children,b=j.fallback,J?(j=T.mode,J=T.child,re={mode:"hidden",children:re},(j&1)===0&&J!==null?(J.childLanes=0,J.pendingProps=re):J=nk(re,j,0,null),b=U0(b,j,P,null),J.return=T,b.return=T,J.sibling=b,T.child=J,T.child.memoizedState=O4(P),T.memoizedState=N4,b):L4(T,re));if(K=b.memoizedState,K!==null&&(ve=K.dehydrated,ve!==null))return pPe(b,T,re,j,ve,K,P);if(J){J=j.fallback,re=T.mode,K=b.child,ve=K.sibling;var Ee={mode:"hidden",children:j.children};return(re&1)===0&&T.child!==K?(j=T.child,j.childLanes=0,j.pendingProps=Ee,T.deletions=null):(j=Sm(K,Ee),j.subtreeFlags=K.subtreeFlags&14680064),ve!==null?J=Sm(ve,J):(J=U0(J,re,P,null),J.flags|=2),J.return=T,j.return=T,j.sibling=J,T.child=j,j=J,J=T.child,re=b.child.memoizedState,re=re===null?O4(P):{baseLanes:re.baseLanes|P,cachePool:null,transitions:re.transitions},J.memoizedState=re,J.childLanes=b.childLanes&~P,T.memoizedState=N4,j}return J=b.child,b=J.sibling,j=Sm(J,{mode:"visible",children:j.children}),(T.mode&1)===0&&(j.lanes=P),j.return=T,j.sibling=null,b!==null&&(P=T.deletions,P===null?(T.deletions=[b],T.flags|=16):P.push(b)),T.child=j,T.memoizedState=null,j}function L4(b,T){return T=nk({mode:"visible",children:T},b.mode,0,null),T.return=b,b.child=T}function H2(b,T,P,j){return j!==null&&c4(j),Ob(T,b.child,null,P),b=L4(T,T.pendingProps.children),b.flags|=2,T.memoizedState=null,b}function pPe(b,T,P,j,K,J,re){if(P)return T.flags&256?(T.flags&=-257,j=D4(Error(n(422))),H2(b,T,re,j)):T.memoizedState!==null?(T.child=b.child,T.flags|=128,null):(J=j.fallback,K=T.mode,j=nk({mode:"visible",children:j.children},K,0,null),J=U0(J,K,re,null),J.flags|=2,j.return=T,J.return=T,j.sibling=J,T.child=j,(T.mode&1)!==0&&Ob(T,b.child,null,re),T.child.memoizedState=O4(re),T.memoizedState=N4,J);if((T.mode&1)===0)return H2(b,T,re,null);if(K.data==="$!"){if(j=K.nextSibling&&K.nextSibling.dataset,j)var ve=j.dgst;return j=ve,J=Error(n(419)),j=D4(J,j,void 0),H2(b,T,re,j)}if(ve=(re&b.childLanes)!==0,wl||ve){if(j=ts,j!==null){switch(re&-re){case 4:K=2;break;case 16:K=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:K=32;break;case 536870912:K=268435456;break;default:K=0}K=(K&(j.suspendedLanes|re))!==0?0:K,K!==0&&K!==J.retryLane&&(J.retryLane=K,Dh(b,K),Hc(j,b,K,-1))}return Z4(),j=D4(Error(n(421))),H2(b,T,re,j)}return K.data==="$?"?(T.flags|=128,T.child=b.child,T=APe.bind(null,b),K._reactRetry=T,null):(b=J.treeContext,au=hm(K.nextSibling),su=T,Si=!0,Bc=null,b!==null&&(Yu[Ku++]=Ih,Yu[Ku++]=Rh,Yu[Ku++]=M0,Ih=b.id,Rh=b.overflow,M0=T),T=L4(T,j.children),T.flags|=4096,T)}function RZ(b,T,P){b.lanes|=T;var j=b.alternate;j!==null&&(j.lanes|=T),p4(b.return,T,P)}function F4(b,T,P,j,K){var J=b.memoizedState;J===null?b.memoizedState={isBackwards:T,rendering:null,renderingStartTime:0,last:j,tail:P,tailMode:K}:(J.isBackwards=T,J.rendering=null,J.renderingStartTime=0,J.last=j,J.tail=P,J.tailMode=K)}function DZ(b,T,P){var j=T.pendingProps,K=j.revealOrder,J=j.tail;if(ja(b,T,j.children,P),j=Pi.current,(j&2)!==0)j=j&1|2,T.flags|=128;else{if(b!==null&&(b.flags&128)!==0)e:for(b=T.child;b!==null;){if(b.tag===13)b.memoizedState!==null&&RZ(b,P,T);else if(b.tag===19)RZ(b,P,T);else if(b.child!==null){b.child.return=b,b=b.child;continue}if(b===T)break e;for(;b.sibling===null;){if(b.return===null||b.return===T)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}j&=1}if(ai(Pi,j),(T.mode&1)===0)T.memoizedState=null;else switch(K){case"forwards":for(P=T.child,K=null;P!==null;)b=P.alternate,b!==null&&O2(b)===null&&(K=P),P=P.sibling;P=K,P===null?(K=T.child,T.child=null):(K=P.sibling,P.sibling=null),F4(T,!1,K,P,J);break;case"backwards":for(P=null,K=T.child,T.child=null;K!==null;){if(b=K.alternate,b!==null&&O2(b)===null){T.child=K;break}b=K.sibling,K.sibling=P,P=K,K=b}F4(T,!0,P,null,J);break;case"together":F4(T,!1,null,null,void 0);break;default:T.memoizedState=null}return T.child}function V2(b,T){(T.mode&1)===0&&b!==null&&(b.alternate=null,T.alternate=null,T.flags|=2)}function Mh(b,T,P){if(b!==null&&(T.dependencies=b.dependencies),F0|=T.lanes,(P&T.childLanes)===0)return null;if(b!==null&&T.child!==b.child)throw Error(n(153));if(T.child!==null){for(b=T.child,P=Sm(b,b.pendingProps),T.child=P,P.return=T;b.sibling!==null;)b=b.sibling,P=P.sibling=Sm(b,b.pendingProps),P.return=T;P.sibling=null}return T.child}function mPe(b,T,P){switch(T.tag){case 3:AZ(T),Nb();break;case 5:WJ(T);break;case 1:bl(T.type)&&C2(T);break;case 4:y4(T,T.stateNode.containerInfo);break;case 10:var j=T.type._context,K=T.memoizedProps.value;ai($2,j._currentValue),j._currentValue=K;break;case 13:if(j=T.memoizedState,j!==null)return j.dehydrated!==null?(ai(Pi,Pi.current&1),T.flags|=128,null):(P&T.child.childLanes)!==0?IZ(b,T,P):(ai(Pi,Pi.current&1),b=Mh(b,T,P),b!==null?b.sibling:null);ai(Pi,Pi.current&1);break;case 19:if(j=(P&T.childLanes)!==0,(b.flags&128)!==0){if(j)return DZ(b,T,P);T.flags|=128}if(K=T.memoizedState,K!==null&&(K.rendering=null,K.tail=null,K.lastEffect=null),ai(Pi,Pi.current),j)break;return null;case 22:case 23:return T.lanes=0,SZ(b,T,P)}return Mh(b,T,P)}var $Z,B4,MZ,PZ;$Z=function(b,T){for(var P=T.child;P!==null;){if(P.tag===5||P.tag===6)b.appendChild(P.stateNode);else if(P.tag!==4&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===T)break;for(;P.sibling===null;){if(P.return===null||P.return===T)return;P=P.return}P.sibling.return=P.return,P=P.sibling}},B4=function(){},MZ=function(b,T,P,j){var K=b.memoizedProps;if(K!==j){b=T.stateNode,O0(Zd.current);var J=null;switch(P){case"input":K=Te(b,K),j=Te(b,j),J=[];break;case"select":K=U({},K,{value:void 0}),j=U({},j,{value:void 0}),J=[];break;case"textarea":K=vt(b,K),j=vt(b,j),J=[];break;default:typeof K.onClick!="function"&&typeof j.onClick=="function"&&(b.onclick=E2)}Ae(P,j);var re;P=null;for(Be in K)if(!j.hasOwnProperty(Be)&&K.hasOwnProperty(Be)&&K[Be]!=null)if(Be==="style"){var ve=K[Be];for(re in ve)ve.hasOwnProperty(re)&&(P||(P={}),P[re]="")}else Be!=="dangerouslySetInnerHTML"&&Be!=="children"&&Be!=="suppressContentEditableWarning"&&Be!=="suppressHydrationWarning"&&Be!=="autoFocus"&&(i.hasOwnProperty(Be)?J||(J=[]):(J=J||[]).push(Be,null));for(Be in j){var Ee=j[Be];if(ve=K!=null?K[Be]:void 0,j.hasOwnProperty(Be)&&Ee!==ve&&(Ee!=null||ve!=null))if(Be==="style")if(ve){for(re in ve)!ve.hasOwnProperty(re)||Ee&&Ee.hasOwnProperty(re)||(P||(P={}),P[re]="");for(re in Ee)Ee.hasOwnProperty(re)&&ve[re]!==Ee[re]&&(P||(P={}),P[re]=Ee[re])}else P||(J||(J=[]),J.push(Be,P)),P=Ee;else Be==="dangerouslySetInnerHTML"?(Ee=Ee?Ee.__html:void 0,ve=ve?ve.__html:void 0,Ee!=null&&ve!==Ee&&(J=J||[]).push(Be,Ee)):Be==="children"?typeof Ee!="string"&&typeof Ee!="number"||(J=J||[]).push(Be,""+Ee):Be!=="suppressContentEditableWarning"&&Be!=="suppressHydrationWarning"&&(i.hasOwnProperty(Be)?(Ee!=null&&Be==="onScroll"&&mi("scroll",b),J||ve===Ee||(J=[])):(J=J||[]).push(Be,Ee))}P&&(J=J||[]).push("style",P);var Be=J;(T.updateQueue=Be)&&(T.flags|=4)}},PZ=function(b,T,P,j){P!==j&&(T.flags|=4)};function j_(b,T){if(!Si)switch(b.tailMode){case"hidden":T=b.tail;for(var P=null;T!==null;)T.alternate!==null&&(P=T),T=T.sibling;P===null?b.tail=null:P.sibling=null;break;case"collapsed":P=b.tail;for(var j=null;P!==null;)P.alternate!==null&&(j=P),P=P.sibling;j===null?T||b.tail===null?b.tail=null:b.tail.sibling=null:j.sibling=null}}function sa(b){var T=b.alternate!==null&&b.alternate.child===b.child,P=0,j=0;if(T)for(var K=b.child;K!==null;)P|=K.lanes|K.childLanes,j|=K.subtreeFlags&14680064,j|=K.flags&14680064,K.return=b,K=K.sibling;else for(K=b.child;K!==null;)P|=K.lanes|K.childLanes,j|=K.subtreeFlags,j|=K.flags,K.return=b,K=K.sibling;return b.subtreeFlags|=j,b.childLanes=P,T}function gPe(b,T,P){var j=T.pendingProps;switch(a4(T),T.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sa(T),null;case 1:return bl(T.type)&&T2(),sa(T),null;case 3:return j=T.stateNode,Bb(),gi(vl),gi(ia),w4(),j.pendingContext&&(j.context=j.pendingContext,j.pendingContext=null),(b===null||b.child===null)&&(R2(T)?T.flags|=4:b===null||b.memoizedState.isDehydrated&&(T.flags&256)===0||(T.flags|=1024,Bc!==null&&(X4(Bc),Bc=null))),B4(b,T),sa(T),null;case 5:v4(T);var K=O0(N_.current);if(P=T.type,b!==null&&T.stateNode!=null)MZ(b,T,P,j,K),b.ref!==T.ref&&(T.flags|=512,T.flags|=2097152);else{if(!j){if(T.stateNode===null)throw Error(n(166));return sa(T),null}if(b=O0(Zd.current),R2(T)){j=T.stateNode,P=T.type;var J=T.memoizedProps;switch(j[Jd]=T,j[R_]=J,b=(T.mode&1)!==0,P){case"dialog":mi("cancel",j),mi("close",j);break;case"iframe":case"object":case"embed":mi("load",j);break;case"video":case"audio":for(K=0;K<A_.length;K++)mi(A_[K],j);break;case"source":mi("error",j);break;case"img":case"image":case"link":mi("error",j),mi("load",j);break;case"details":mi("toggle",j);break;case"input":Oe(j,J),mi("invalid",j);break;case"select":j._wrapperState={wasMultiple:!!J.multiple},mi("invalid",j);break;case"textarea":gt(j,J),mi("invalid",j)}Ae(P,J),K=null;for(var re in J)if(J.hasOwnProperty(re)){var ve=J[re];re==="children"?typeof ve=="string"?j.textContent!==ve&&(J.suppressHydrationWarning!==!0&&_2(j.textContent,ve,b),K=["children",ve]):typeof ve=="number"&&j.textContent!==""+ve&&(J.suppressHydrationWarning!==!0&&_2(j.textContent,ve,b),K=["children",""+ve]):i.hasOwnProperty(re)&&ve!=null&&re==="onScroll"&&mi("scroll",j)}switch(P){case"input":se(j),Ue(j,J,!0);break;case"textarea":se(j),Tt(j);break;case"select":case"option":break;default:typeof J.onClick=="function"&&(j.onclick=E2)}j=K,T.updateQueue=j,j!==null&&(T.flags|=4)}else{re=K.nodeType===9?K:K.ownerDocument,b==="http://www.w3.org/1999/xhtml"&&(b=ue(P)),b==="http://www.w3.org/1999/xhtml"?P==="script"?(b=re.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild)):typeof j.is=="string"?b=re.createElement(P,{is:j.is}):(b=re.createElement(P),P==="select"&&(re=b,j.multiple?re.multiple=!0:j.size&&(re.size=j.size))):b=re.createElementNS(b,P),b[Jd]=T,b[R_]=j,$Z(b,T,!1,!1),T.stateNode=b;e:{switch(re=Qe(P,j),P){case"dialog":mi("cancel",b),mi("close",b),K=j;break;case"iframe":case"object":case"embed":mi("load",b),K=j;break;case"video":case"audio":for(K=0;K<A_.length;K++)mi(A_[K],b);K=j;break;case"source":mi("error",b),K=j;break;case"img":case"image":case"link":mi("error",b),mi("load",b),K=j;break;case"details":mi("toggle",b),K=j;break;case"input":Oe(b,j),K=Te(b,j),mi("invalid",b);break;case"option":K=j;break;case"select":b._wrapperState={wasMultiple:!!j.multiple},K=U({},j,{value:void 0}),mi("invalid",b);break;case"textarea":gt(b,j),K=vt(b,j),mi("invalid",b);break;default:K=j}Ae(P,K),ve=K;for(J in ve)if(ve.hasOwnProperty(J)){var Ee=ve[J];J==="style"?Wt(b,Ee):J==="dangerouslySetInnerHTML"?(Ee=Ee?Ee.__html:void 0,Ee!=null&&Ye(b,Ee)):J==="children"?typeof Ee=="string"?(P!=="textarea"||Ee!=="")&&tt(b,Ee):typeof Ee=="number"&&tt(b,""+Ee):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(i.hasOwnProperty(J)?Ee!=null&&J==="onScroll"&&mi("scroll",b):Ee!=null&&w(b,J,Ee,re))}switch(P){case"input":se(b),Ue(b,j,!1);break;case"textarea":se(b),Tt(b);break;case"option":j.value!=null&&b.setAttribute("value",""+ne(j.value));break;case"select":b.multiple=!!j.multiple,J=j.value,J!=null?ct(b,!!j.multiple,J,!1):j.defaultValue!=null&&ct(b,!!j.multiple,j.defaultValue,!0);break;default:typeof K.onClick=="function"&&(b.onclick=E2)}switch(P){case"button":case"input":case"select":case"textarea":j=!!j.autoFocus;break e;case"img":j=!0;break e;default:j=!1}}j&&(T.flags|=4)}T.ref!==null&&(T.flags|=512,T.flags|=2097152)}return sa(T),null;case 6:if(b&&T.stateNode!=null)PZ(b,T,b.memoizedProps,j);else{if(typeof j!="string"&&T.stateNode===null)throw Error(n(166));if(P=O0(N_.current),O0(Zd.current),R2(T)){if(j=T.stateNode,P=T.memoizedProps,j[Jd]=T,(J=j.nodeValue!==P)&&(b=su,b!==null))switch(b.tag){case 3:_2(j.nodeValue,P,(b.mode&1)!==0);break;case 5:b.memoizedProps.suppressHydrationWarning!==!0&&_2(j.nodeValue,P,(b.mode&1)!==0)}J&&(T.flags|=4)}else j=(P.nodeType===9?P:P.ownerDocument).createTextNode(j),j[Jd]=T,T.stateNode=j}return sa(T),null;case 13:if(gi(Pi),j=T.memoizedState,b===null||b.memoizedState!==null&&b.memoizedState.dehydrated!==null){if(Si&&au!==null&&(T.mode&1)!==0&&(T.flags&128)===0)LJ(),Nb(),T.flags|=98560,J=!1;else if(J=R2(T),j!==null&&j.dehydrated!==null){if(b===null){if(!J)throw Error(n(318));if(J=T.memoizedState,J=J!==null?J.dehydrated:null,!J)throw Error(n(317));J[Jd]=T}else Nb(),(T.flags&128)===0&&(T.memoizedState=null),T.flags|=4;sa(T),J=!1}else Bc!==null&&(X4(Bc),Bc=null),J=!0;if(!J)return T.flags&65536?T:null}return(T.flags&128)!==0?(T.lanes=P,T):(j=j!==null,j!==(b!==null&&b.memoizedState!==null)&&j&&(T.child.flags|=8192,(T.mode&1)!==0&&(b===null||(Pi.current&1)!==0?Lo===0&&(Lo=3):Z4())),T.updateQueue!==null&&(T.flags|=4),sa(T),null);case 4:return Bb(),B4(b,T),b===null&&k_(T.stateNode.containerInfo),sa(T),null;case 10:return h4(T.type._context),sa(T),null;case 17:return bl(T.type)&&T2(),sa(T),null;case 19:if(gi(Pi),J=T.memoizedState,J===null)return sa(T),null;if(j=(T.flags&128)!==0,re=J.rendering,re===null)if(j)j_(J,!1);else{if(Lo!==0||b!==null&&(b.flags&128)!==0)for(b=T.child;b!==null;){if(re=O2(b),re!==null){for(T.flags|=128,j_(J,!1),j=re.updateQueue,j!==null&&(T.updateQueue=j,T.flags|=4),T.subtreeFlags=0,j=P,P=T.child;P!==null;)J=P,b=j,J.flags&=14680066,re=J.alternate,re===null?(J.childLanes=0,J.lanes=b,J.child=null,J.subtreeFlags=0,J.memoizedProps=null,J.memoizedState=null,J.updateQueue=null,J.dependencies=null,J.stateNode=null):(J.childLanes=re.childLanes,J.lanes=re.lanes,J.child=re.child,J.subtreeFlags=0,J.deletions=null,J.memoizedProps=re.memoizedProps,J.memoizedState=re.memoizedState,J.updateQueue=re.updateQueue,J.type=re.type,b=re.dependencies,J.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext}),P=P.sibling;return ai(Pi,Pi.current&1|2),T.child}b=b.sibling}J.tail!==null&&Gn()>Hb&&(T.flags|=128,j=!0,j_(J,!1),T.lanes=4194304)}else{if(!j)if(b=O2(re),b!==null){if(T.flags|=128,j=!0,P=b.updateQueue,P!==null&&(T.updateQueue=P,T.flags|=4),j_(J,!0),J.tail===null&&J.tailMode==="hidden"&&!re.alternate&&!Si)return sa(T),null}else 2*Gn()-J.renderingStartTime>Hb&&P!==1073741824&&(T.flags|=128,j=!0,j_(J,!1),T.lanes=4194304);J.isBackwards?(re.sibling=T.child,T.child=re):(P=J.last,P!==null?P.sibling=re:T.child=re,J.last=re)}return J.tail!==null?(T=J.tail,J.rendering=T,J.tail=T.sibling,J.renderingStartTime=Gn(),T.sibling=null,P=Pi.current,ai(Pi,j?P&1|2:P&1),T):(sa(T),null);case 22:case 23:return J4(),j=T.memoizedState!==null,b!==null&&b.memoizedState!==null!==j&&(T.flags|=8192),j&&(T.mode&1)!==0?(lu&1073741824)!==0&&(sa(T),T.subtreeFlags&6&&(T.flags|=8192)):sa(T),null;case 24:return null;case 25:return null}throw Error(n(156,T.tag))}function yPe(b,T){switch(a4(T),T.tag){case 1:return bl(T.type)&&T2(),b=T.flags,b&65536?(T.flags=b&-65537|128,T):null;case 3:return Bb(),gi(vl),gi(ia),w4(),b=T.flags,(b&65536)!==0&&(b&128)===0?(T.flags=b&-65537|128,T):null;case 5:return v4(T),null;case 13:if(gi(Pi),b=T.memoizedState,b!==null&&b.dehydrated!==null){if(T.alternate===null)throw Error(n(340));Nb()}return b=T.flags,b&65536?(T.flags=b&-65537|128,T):null;case 19:return gi(Pi),null;case 4:return Bb(),null;case 10:return h4(T.type._context),null;case 22:case 23:return J4(),null;case 24:return null;default:return null}}var W2=!1,aa=!1,vPe=typeof WeakSet=="function"?WeakSet:Set,Xt=null;function zb(b,T){var P=b.ref;if(P!==null)if(typeof P=="function")try{P(null)}catch(j){Vi(b,T,j)}else P.current=null}function j4(b,T,P){try{P()}catch(j){Vi(b,T,j)}}var NZ=!1;function bPe(b,T){if(JL=te,b=hJ(),VL(b)){if("selectionStart"in b)var P={start:b.selectionStart,end:b.selectionEnd};else e:{P=(P=b.ownerDocument)&&P.defaultView||window;var j=P.getSelection&&P.getSelection();if(j&&j.rangeCount!==0){P=j.anchorNode;var K=j.anchorOffset,J=j.focusNode;j=j.focusOffset;try{P.nodeType,J.nodeType}catch{P=null;break e}var re=0,ve=-1,Ee=-1,Be=0,pt=0,bt=b,dt=null;t:for(;;){for(var qt;bt!==P||K!==0&&bt.nodeType!==3||(ve=re+K),bt!==J||j!==0&&bt.nodeType!==3||(Ee=re+j),bt.nodeType===3&&(re+=bt.nodeValue.length),(qt=bt.firstChild)!==null;)dt=bt,bt=qt;for(;;){if(bt===b)break t;if(dt===P&&++Be===K&&(ve=re),dt===J&&++pt===j&&(Ee=re),(qt=bt.nextSibling)!==null)break;bt=dt,dt=bt.parentNode}bt=qt}P=ve===-1||Ee===-1?null:{start:ve,end:Ee}}else P=null}P=P||{start:0,end:0}}else P=null;for(ZL={focusedElem:b,selectionRange:P},te=!1,Xt=T;Xt!==null;)if(T=Xt,b=T.child,(T.subtreeFlags&1028)!==0&&b!==null)b.return=T,Xt=b;else for(;Xt!==null;){T=Xt;try{var Jt=T.alternate;if((T.flags&1024)!==0)switch(T.tag){case 0:case 11:case 15:break;case 1:if(Jt!==null){var tn=Jt.memoizedProps,uo=Jt.memoizedState,Pe=T.stateNode,Ie=Pe.getSnapshotBeforeUpdate(T.elementType===T.type?tn:jc(T.type,tn),uo);Pe.__reactInternalSnapshotBeforeUpdate=Ie}break;case 3:var Le=T.stateNode.containerInfo;Le.nodeType===1?Le.textContent="":Le.nodeType===9&&Le.documentElement&&Le.removeChild(Le.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch($t){Vi(T,T.return,$t)}if(b=T.sibling,b!==null){b.return=T.return,Xt=b;break}Xt=T.return}return Jt=NZ,NZ=!1,Jt}function z_(b,T,P){var j=T.updateQueue;if(j=j!==null?j.lastEffect:null,j!==null){var K=j=j.next;do{if((K.tag&b)===b){var J=K.destroy;K.destroy=void 0,J!==void 0&&j4(T,P,J)}K=K.next}while(K!==j)}}function q2(b,T){if(T=T.updateQueue,T=T!==null?T.lastEffect:null,T!==null){var P=T=T.next;do{if((P.tag&b)===b){var j=P.create;P.destroy=j()}P=P.next}while(P!==T)}}function z4(b){var T=b.ref;if(T!==null){var P=b.stateNode;switch(b.tag){case 5:b=P;break;default:b=P}typeof T=="function"?T(b):T.current=b}}function OZ(b){var T=b.alternate;T!==null&&(b.alternate=null,OZ(T)),b.child=null,b.deletions=null,b.sibling=null,b.tag===5&&(T=b.stateNode,T!==null&&(delete T[Jd],delete T[R_],delete T[r4],delete T[tPe],delete T[nPe])),b.stateNode=null,b.return=null,b.dependencies=null,b.memoizedProps=null,b.memoizedState=null,b.pendingProps=null,b.stateNode=null,b.updateQueue=null}function LZ(b){return b.tag===5||b.tag===3||b.tag===4}function FZ(b){e:for(;;){for(;b.sibling===null;){if(b.return===null||LZ(b.return))return null;b=b.return}for(b.sibling.return=b.return,b=b.sibling;b.tag!==5&&b.tag!==6&&b.tag!==18;){if(b.flags&2||b.child===null||b.tag===4)continue e;b.child.return=b,b=b.child}if(!(b.flags&2))return b.stateNode}}function U4(b,T,P){var j=b.tag;if(j===5||j===6)b=b.stateNode,T?P.nodeType===8?P.parentNode.insertBefore(b,T):P.insertBefore(b,T):(P.nodeType===8?(T=P.parentNode,T.insertBefore(b,P)):(T=P,T.appendChild(b)),P=P._reactRootContainer,P!=null||T.onclick!==null||(T.onclick=E2));else if(j!==4&&(b=b.child,b!==null))for(U4(b,T,P),b=b.sibling;b!==null;)U4(b,T,P),b=b.sibling}function H4(b,T,P){var j=b.tag;if(j===5||j===6)b=b.stateNode,T?P.insertBefore(b,T):P.appendChild(b);else if(j!==4&&(b=b.child,b!==null))for(H4(b,T,P),b=b.sibling;b!==null;)H4(b,T,P),b=b.sibling}var As=null,zc=!1;function bm(b,T,P){for(P=P.child;P!==null;)BZ(b,T,P),P=P.sibling}function BZ(b,T,P){if(io&&typeof io.onCommitFiberUnmount=="function")try{io.onCommitFiberUnmount(ml,P)}catch{}switch(P.tag){case 5:aa||zb(P,T);case 6:var j=As,K=zc;As=null,bm(b,T,P),As=j,zc=K,As!==null&&(zc?(b=As,P=P.stateNode,b.nodeType===8?b.parentNode.removeChild(P):b.removeChild(P)):As.removeChild(P.stateNode));break;case 18:As!==null&&(zc?(b=As,P=P.stateNode,b.nodeType===8?n4(b.parentNode,P):b.nodeType===1&&n4(b,P),ra(b)):n4(As,P.stateNode));break;case 4:j=As,K=zc,As=P.stateNode.containerInfo,zc=!0,bm(b,T,P),As=j,zc=K;break;case 0:case 11:case 14:case 15:if(!aa&&(j=P.updateQueue,j!==null&&(j=j.lastEffect,j!==null))){K=j=j.next;do{var J=K,re=J.destroy;J=J.tag,re!==void 0&&((J&2)!==0||(J&4)!==0)&&j4(P,T,re),K=K.next}while(K!==j)}bm(b,T,P);break;case 1:if(!aa&&(zb(P,T),j=P.stateNode,typeof j.componentWillUnmount=="function"))try{j.props=P.memoizedProps,j.state=P.memoizedState,j.componentWillUnmount()}catch(ve){Vi(P,T,ve)}bm(b,T,P);break;case 21:bm(b,T,P);break;case 22:P.mode&1?(aa=(j=aa)||P.memoizedState!==null,bm(b,T,P),aa=j):bm(b,T,P);break;default:bm(b,T,P)}}function jZ(b){var T=b.updateQueue;if(T!==null){b.updateQueue=null;var P=b.stateNode;P===null&&(P=b.stateNode=new vPe),T.forEach(function(j){var K=kPe.bind(null,b,j);P.has(j)||(P.add(j),j.then(K,K))})}}function Uc(b,T){var P=T.deletions;if(P!==null)for(var j=0;j<P.length;j++){var K=P[j];try{var J=b,re=T,ve=re;e:for(;ve!==null;){switch(ve.tag){case 5:As=ve.stateNode,zc=!1;break e;case 3:As=ve.stateNode.containerInfo,zc=!0;break e;case 4:As=ve.stateNode.containerInfo,zc=!0;break e}ve=ve.return}if(As===null)throw Error(n(160));BZ(J,re,K),As=null,zc=!1;var Ee=K.alternate;Ee!==null&&(Ee.return=null),K.return=null}catch(Be){Vi(K,T,Be)}}if(T.subtreeFlags&12854)for(T=T.child;T!==null;)zZ(T,b),T=T.sibling}function zZ(b,T){var P=b.alternate,j=b.flags;switch(b.tag){case 0:case 11:case 14:case 15:if(Uc(T,b),tf(b),j&4){try{z_(3,b,b.return),q2(3,b)}catch(tn){Vi(b,b.return,tn)}try{z_(5,b,b.return)}catch(tn){Vi(b,b.return,tn)}}break;case 1:Uc(T,b),tf(b),j&512&&P!==null&&zb(P,P.return);break;case 5:if(Uc(T,b),tf(b),j&512&&P!==null&&zb(P,P.return),b.flags&32){var K=b.stateNode;try{tt(K,"")}catch(tn){Vi(b,b.return,tn)}}if(j&4&&(K=b.stateNode,K!=null)){var J=b.memoizedProps,re=P!==null?P.memoizedProps:J,ve=b.type,Ee=b.updateQueue;if(b.updateQueue=null,Ee!==null)try{ve==="input"&&J.type==="radio"&&J.name!=null&&We(K,J),Qe(ve,re);var Be=Qe(ve,J);for(re=0;re<Ee.length;re+=2){var pt=Ee[re],bt=Ee[re+1];pt==="style"?Wt(K,bt):pt==="dangerouslySetInnerHTML"?Ye(K,bt):pt==="children"?tt(K,bt):w(K,pt,bt,Be)}switch(ve){case"input":Fe(K,J);break;case"textarea":Ze(K,J);break;case"select":var dt=K._wrapperState.wasMultiple;K._wrapperState.wasMultiple=!!J.multiple;var qt=J.value;qt!=null?ct(K,!!J.multiple,qt,!1):dt!==!!J.multiple&&(J.defaultValue!=null?ct(K,!!J.multiple,J.defaultValue,!0):ct(K,!!J.multiple,J.multiple?[]:"",!1))}K[R_]=J}catch(tn){Vi(b,b.return,tn)}}break;case 6:if(Uc(T,b),tf(b),j&4){if(b.stateNode===null)throw Error(n(162));K=b.stateNode,J=b.memoizedProps;try{K.nodeValue=J}catch(tn){Vi(b,b.return,tn)}}break;case 3:if(Uc(T,b),tf(b),j&4&&P!==null&&P.memoizedState.isDehydrated)try{ra(T.containerInfo)}catch(tn){Vi(b,b.return,tn)}break;case 4:Uc(T,b),tf(b);break;case 13:Uc(T,b),tf(b),K=b.child,K.flags&8192&&(J=K.memoizedState!==null,K.stateNode.isHidden=J,!J||K.alternate!==null&&K.alternate.memoizedState!==null||(q4=Gn())),j&4&&jZ(b);break;case 22:if(pt=P!==null&&P.memoizedState!==null,b.mode&1?(aa=(Be=aa)||pt,Uc(T,b),aa=Be):Uc(T,b),tf(b),j&8192){if(Be=b.memoizedState!==null,(b.stateNode.isHidden=Be)&&!pt&&(b.mode&1)!==0)for(Xt=b,pt=b.child;pt!==null;){for(bt=Xt=pt;Xt!==null;){switch(dt=Xt,qt=dt.child,dt.tag){case 0:case 11:case 14:case 15:z_(4,dt,dt.return);break;case 1:zb(dt,dt.return);var Jt=dt.stateNode;if(typeof Jt.componentWillUnmount=="function"){j=dt,P=dt.return;try{T=j,Jt.props=T.memoizedProps,Jt.state=T.memoizedState,Jt.componentWillUnmount()}catch(tn){Vi(j,P,tn)}}break;case 5:zb(dt,dt.return);break;case 22:if(dt.memoizedState!==null){VZ(bt);continue}}qt!==null?(qt.return=dt,Xt=qt):VZ(bt)}pt=pt.sibling}e:for(pt=null,bt=b;;){if(bt.tag===5){if(pt===null){pt=bt;try{K=bt.stateNode,Be?(J=K.style,typeof J.setProperty=="function"?J.setProperty("display","none","important"):J.display="none"):(ve=bt.stateNode,Ee=bt.memoizedProps.style,re=Ee!=null&&Ee.hasOwnProperty("display")?Ee.display:null,ve.style.display=ln("display",re))}catch(tn){Vi(b,b.return,tn)}}}else if(bt.tag===6){if(pt===null)try{bt.stateNode.nodeValue=Be?"":bt.memoizedProps}catch(tn){Vi(b,b.return,tn)}}else if((bt.tag!==22&&bt.tag!==23||bt.memoizedState===null||bt===b)&&bt.child!==null){bt.child.return=bt,bt=bt.child;continue}if(bt===b)break e;for(;bt.sibling===null;){if(bt.return===null||bt.return===b)break e;pt===bt&&(pt=null),bt=bt.return}pt===bt&&(pt=null),bt.sibling.return=bt.return,bt=bt.sibling}}break;case 19:Uc(T,b),tf(b),j&4&&jZ(b);break;case 21:break;default:Uc(T,b),tf(b)}}function tf(b){var T=b.flags;if(T&2){try{e:{for(var P=b.return;P!==null;){if(LZ(P)){var j=P;break e}P=P.return}throw Error(n(160))}switch(j.tag){case 5:var K=j.stateNode;j.flags&32&&(tt(K,""),j.flags&=-33);var J=FZ(b);H4(b,J,K);break;case 3:case 4:var re=j.stateNode.containerInfo,ve=FZ(b);U4(b,ve,re);break;default:throw Error(n(161))}}catch(Ee){Vi(b,b.return,Ee)}b.flags&=-3}T&4096&&(b.flags&=-4097)}function wPe(b,T,P){Xt=b,UZ(b)}function UZ(b,T,P){for(var j=(b.mode&1)!==0;Xt!==null;){var K=Xt,J=K.child;if(K.tag===22&&j){var re=K.memoizedState!==null||W2;if(!re){var ve=K.alternate,Ee=ve!==null&&ve.memoizedState!==null||aa;ve=W2;var Be=aa;if(W2=re,(aa=Ee)&&!Be)for(Xt=K;Xt!==null;)re=Xt,Ee=re.child,re.tag===22&&re.memoizedState!==null?WZ(K):Ee!==null?(Ee.return=re,Xt=Ee):WZ(K);for(;J!==null;)Xt=J,UZ(J),J=J.sibling;Xt=K,W2=ve,aa=Be}HZ(b)}else(K.subtreeFlags&8772)!==0&&J!==null?(J.return=K,Xt=J):HZ(b)}}function HZ(b){for(;Xt!==null;){var T=Xt;if((T.flags&8772)!==0){var P=T.alternate;try{if((T.flags&8772)!==0)switch(T.tag){case 0:case 11:case 15:aa||q2(5,T);break;case 1:var j=T.stateNode;if(T.flags&4&&!aa)if(P===null)j.componentDidMount();else{var K=T.elementType===T.type?P.memoizedProps:jc(T.type,P.memoizedProps);j.componentDidUpdate(K,P.memoizedState,j.__reactInternalSnapshotBeforeUpdate)}var J=T.updateQueue;J!==null&&VJ(T,J,j);break;case 3:var re=T.updateQueue;if(re!==null){if(P=null,T.child!==null)switch(T.child.tag){case 5:P=T.child.stateNode;break;case 1:P=T.child.stateNode}VJ(T,re,P)}break;case 5:var ve=T.stateNode;if(P===null&&T.flags&4){P=ve;var Ee=T.memoizedProps;switch(T.type){case"button":case"input":case"select":case"textarea":Ee.autoFocus&&P.focus();break;case"img":Ee.src&&(P.src=Ee.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(T.memoizedState===null){var Be=T.alternate;if(Be!==null){var pt=Be.memoizedState;if(pt!==null){var bt=pt.dehydrated;bt!==null&&ra(bt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}aa||T.flags&512&&z4(T)}catch(dt){Vi(T,T.return,dt)}}if(T===b){Xt=null;break}if(P=T.sibling,P!==null){P.return=T.return,Xt=P;break}Xt=T.return}}function VZ(b){for(;Xt!==null;){var T=Xt;if(T===b){Xt=null;break}var P=T.sibling;if(P!==null){P.return=T.return,Xt=P;break}Xt=T.return}}function WZ(b){for(;Xt!==null;){var T=Xt;try{switch(T.tag){case 0:case 11:case 15:var P=T.return;try{q2(4,T)}catch(Ee){Vi(T,P,Ee)}break;case 1:var j=T.stateNode;if(typeof j.componentDidMount=="function"){var K=T.return;try{j.componentDidMount()}catch(Ee){Vi(T,K,Ee)}}var J=T.return;try{z4(T)}catch(Ee){Vi(T,J,Ee)}break;case 5:var re=T.return;try{z4(T)}catch(Ee){Vi(T,re,Ee)}}}catch(Ee){Vi(T,T.return,Ee)}if(T===b){Xt=null;break}var ve=T.sibling;if(ve!==null){ve.return=T.return,Xt=ve;break}Xt=T.return}}var xPe=Math.ceil,G2=E.ReactCurrentDispatcher,V4=E.ReactCurrentOwner,Ju=E.ReactCurrentBatchConfig,vr=0,ts=null,Eo=null,ks=0,lu=0,Ub=pm(0),Lo=0,U_=null,F0=0,Y2=0,W4=0,H_=null,xl=null,q4=0,Hb=1/0,Ph=null,K2=!1,G4=null,wm=null,X2=!1,xm=null,Q2=0,V_=0,Y4=null,J2=-1,Z2=0;function za(){return(vr&6)!==0?Gn():J2!==-1?J2:J2=Gn()}function _m(b){return(b.mode&1)===0?1:(vr&2)!==0&&ks!==0?ks&-ks:iPe.transition!==null?(Z2===0&&(Z2=_t()),Z2):(b=Qt,b!==0||(b=window.event,b=b===void 0?16:En(b.type)),b)}function Hc(b,T,P,j){if(50<V_)throw V_=0,Y4=null,Error(n(185));_n(b,P,j),((vr&2)===0||b!==ts)&&(b===ts&&((vr&2)===0&&(Y2|=P),Lo===4&&Em(b,ks)),_l(b,j),P===1&&vr===0&&(T.mode&1)===0&&(Hb=Gn()+500,A2&&gm()))}function _l(b,T){var P=b.callbackNode;ut(b,T);var j=Ge(b,b===ts?ks:0);if(j===0)P!==null&&Mo(P),b.callbackNode=null,b.callbackPriority=0;else if(T=j&-j,b.callbackPriority!==T){if(P!=null&&Mo(P),T===1)b.tag===0?rPe(GZ.bind(null,b)):$J(GZ.bind(null,b)),ZMe(function(){(vr&6)===0&&gm()}),P=null;else{switch(Hn(j)){case 1:P=no;break;case 4:P=Qo;break;case 16:P=ro;break;case 536870912:P=Ts;break;default:P=ro}P=tee(P,qZ.bind(null,b))}b.callbackPriority=T,b.callbackNode=P}}function qZ(b,T){if(J2=-1,Z2=0,(vr&6)!==0)throw Error(n(327));var P=b.callbackNode;if(Vb()&&b.callbackNode!==P)return null;var j=Ge(b,b===ts?ks:0);if(j===0)return null;if((j&30)!==0||(j&b.expiredLanes)!==0||T)T=ek(b,j);else{T=j;var K=vr;vr|=2;var J=KZ();(ts!==b||ks!==T)&&(Ph=null,Hb=Gn()+500,j0(b,T));do try{SPe();break}catch(ve){YZ(b,ve)}while(!0);f4(),G2.current=J,vr=K,Eo!==null?T=0:(ts=null,ks=0,T=Lo)}if(T!==0){if(T===2&&(K=lt(b),K!==0&&(j=K,T=K4(b,K))),T===1)throw P=U_,j0(b,0),Em(b,j),_l(b,Gn()),P;if(T===6)Em(b,j);else{if(K=b.current.alternate,(j&30)===0&&!_Pe(K)&&(T=ek(b,j),T===2&&(J=lt(b),J!==0&&(j=J,T=K4(b,J))),T===1))throw P=U_,j0(b,0),Em(b,j),_l(b,Gn()),P;switch(b.finishedWork=K,b.finishedLanes=j,T){case 0:case 1:throw Error(n(345));case 2:z0(b,xl,Ph);break;case 3:if(Em(b,j),(j&130023424)===j&&(T=q4+500-Gn(),10<T)){if(Ge(b,0)!==0)break;if(K=b.suspendedLanes,(K&j)!==j){za(),b.pingedLanes|=b.suspendedLanes&K;break}b.timeoutHandle=t4(z0.bind(null,b,xl,Ph),T);break}z0(b,xl,Ph);break;case 4:if(Em(b,j),(j&4194240)===j)break;for(T=b.eventTimes,K=-1;0<j;){var re=31-oo(j);J=1<<re,re=T[re],re>K&&(K=re),j&=~J}if(j=K,j=Gn()-j,j=(120>j?120:480>j?480:1080>j?1080:1920>j?1920:3e3>j?3e3:4320>j?4320:1960*xPe(j/1960))-j,10<j){b.timeoutHandle=t4(z0.bind(null,b,xl,Ph),j);break}z0(b,xl,Ph);break;case 5:z0(b,xl,Ph);break;default:throw Error(n(329))}}}return _l(b,Gn()),b.callbackNode===P?qZ.bind(null,b):null}function K4(b,T){var P=H_;return b.current.memoizedState.isDehydrated&&(j0(b,T).flags|=256),b=ek(b,T),b!==2&&(T=xl,xl=P,T!==null&&X4(T)),b}function X4(b){xl===null?xl=b:xl.push.apply(xl,b)}function _Pe(b){for(var T=b;;){if(T.flags&16384){var P=T.updateQueue;if(P!==null&&(P=P.stores,P!==null))for(var j=0;j<P.length;j++){var K=P[j],J=K.getSnapshot;K=K.value;try{if(!Fc(J(),K))return!1}catch{return!1}}}if(P=T.child,T.subtreeFlags&16384&&P!==null)P.return=T,T=P;else{if(T===b)break;for(;T.sibling===null;){if(T.return===null||T.return===b)return!0;T=T.return}T.sibling.return=T.return,T=T.sibling}}return!0}function Em(b,T){for(T&=~W4,T&=~Y2,b.suspendedLanes|=T,b.pingedLanes&=~T,b=b.expirationTimes;0<T;){var P=31-oo(T),j=1<<P;b[P]=-1,T&=~j}}function GZ(b){if((vr&6)!==0)throw Error(n(327));Vb();var T=Ge(b,0);if((T&1)===0)return _l(b,Gn()),null;var P=ek(b,T);if(b.tag!==0&&P===2){var j=lt(b);j!==0&&(T=j,P=K4(b,j))}if(P===1)throw P=U_,j0(b,0),Em(b,T),_l(b,Gn()),P;if(P===6)throw Error(n(345));return b.finishedWork=b.current.alternate,b.finishedLanes=T,z0(b,xl,Ph),_l(b,Gn()),null}function Q4(b,T){var P=vr;vr|=1;try{return b(T)}finally{vr=P,vr===0&&(Hb=Gn()+500,A2&&gm())}}function B0(b){xm!==null&&xm.tag===0&&(vr&6)===0&&Vb();var T=vr;vr|=1;var P=Ju.transition,j=Qt;try{if(Ju.transition=null,Qt=1,b)return b()}finally{Qt=j,Ju.transition=P,vr=T,(vr&6)===0&&gm()}}function J4(){lu=Ub.current,gi(Ub)}function j0(b,T){b.finishedWork=null,b.finishedLanes=0;var P=b.timeoutHandle;if(P!==-1&&(b.timeoutHandle=-1,JMe(P)),Eo!==null)for(P=Eo.return;P!==null;){var j=P;switch(a4(j),j.tag){case 1:j=j.type.childContextTypes,j!=null&&T2();break;case 3:Bb(),gi(vl),gi(ia),w4();break;case 5:v4(j);break;case 4:Bb();break;case 13:gi(Pi);break;case 19:gi(Pi);break;case 10:h4(j.type._context);break;case 22:case 23:J4()}P=P.return}if(ts=b,Eo=b=Sm(b.current,null),ks=lu=T,Lo=0,U_=null,W4=Y2=F0=0,xl=H_=null,N0!==null){for(T=0;T<N0.length;T++)if(P=N0[T],j=P.interleaved,j!==null){P.interleaved=null;var K=j.next,J=P.pending;if(J!==null){var re=J.next;J.next=K,j.next=re}P.pending=j}N0=null}return b}function YZ(b,T){do{var P=Eo;try{if(f4(),L2.current=z2,F2){for(var j=Ni.memoizedState;j!==null;){var K=j.queue;K!==null&&(K.pending=null),j=j.next}F2=!1}if(L0=0,es=Oo=Ni=null,O_=!1,L_=0,V4.current=null,P===null||P.return===null){Lo=1,U_=T,Eo=null;break}e:{var J=b,re=P.return,ve=P,Ee=T;if(T=ks,ve.flags|=32768,Ee!==null&&typeof Ee=="object"&&typeof Ee.then=="function"){var Be=Ee,pt=ve,bt=pt.tag;if((pt.mode&1)===0&&(bt===0||bt===11||bt===15)){var dt=pt.alternate;dt?(pt.updateQueue=dt.updateQueue,pt.memoizedState=dt.memoizedState,pt.lanes=dt.lanes):(pt.updateQueue=null,pt.memoizedState=null)}var qt=bZ(re);if(qt!==null){qt.flags&=-257,wZ(qt,re,ve,J,T),qt.mode&1&&vZ(J,Be,T),T=qt,Ee=Be;var Jt=T.updateQueue;if(Jt===null){var tn=new Set;tn.add(Ee),T.updateQueue=tn}else Jt.add(Ee);break e}else{if((T&1)===0){vZ(J,Be,T),Z4();break e}Ee=Error(n(426))}}else if(Si&&ve.mode&1){var uo=bZ(re);if(uo!==null){(uo.flags&65536)===0&&(uo.flags|=256),wZ(uo,re,ve,J,T),c4(jb(Ee,ve));break e}}J=Ee=jb(Ee,ve),Lo!==4&&(Lo=2),H_===null?H_=[J]:H_.push(J),J=re;do{switch(J.tag){case 3:J.flags|=65536,T&=-T,J.lanes|=T;var Pe=gZ(J,Ee,T);HJ(J,Pe);break e;case 1:ve=Ee;var Ie=J.type,Le=J.stateNode;if((J.flags&128)===0&&(typeof Ie.getDerivedStateFromError=="function"||Le!==null&&typeof Le.componentDidCatch=="function"&&(wm===null||!wm.has(Le)))){J.flags|=65536,T&=-T,J.lanes|=T;var $t=yZ(J,ve,T);HJ(J,$t);break e}}J=J.return}while(J!==null)}QZ(P)}catch(un){T=un,Eo===P&&P!==null&&(Eo=P=P.return);continue}break}while(!0)}function KZ(){var b=G2.current;return G2.current=z2,b===null?z2:b}function Z4(){(Lo===0||Lo===3||Lo===2)&&(Lo=4),ts===null||(F0&268435455)===0&&(Y2&268435455)===0||Em(ts,ks)}function ek(b,T){var P=vr;vr|=2;var j=KZ();(ts!==b||ks!==T)&&(Ph=null,j0(b,T));do try{EPe();break}catch(K){YZ(b,K)}while(!0);if(f4(),vr=P,G2.current=j,Eo!==null)throw Error(n(261));return ts=null,ks=0,Lo}function EPe(){for(;Eo!==null;)XZ(Eo)}function SPe(){for(;Eo!==null&&!Wd();)XZ(Eo)}function XZ(b){var T=eee(b.alternate,b,lu);b.memoizedProps=b.pendingProps,T===null?QZ(b):Eo=T,V4.current=null}function QZ(b){var T=b;do{var P=T.alternate;if(b=T.return,(T.flags&32768)===0){if(P=gPe(P,T,lu),P!==null){Eo=P;return}}else{if(P=yPe(P,T),P!==null){P.flags&=32767,Eo=P;return}if(b!==null)b.flags|=32768,b.subtreeFlags=0,b.deletions=null;else{Lo=6,Eo=null;return}}if(T=T.sibling,T!==null){Eo=T;return}Eo=T=b}while(T!==null);Lo===0&&(Lo=5)}function z0(b,T,P){var j=Qt,K=Ju.transition;try{Ju.transition=null,Qt=1,TPe(b,T,P,j)}finally{Ju.transition=K,Qt=j}return null}function TPe(b,T,P,j){do Vb();while(xm!==null);if((vr&6)!==0)throw Error(n(327));P=b.finishedWork;var K=b.finishedLanes;if(P===null)return null;if(b.finishedWork=null,b.finishedLanes=0,P===b.current)throw Error(n(177));b.callbackNode=null,b.callbackPriority=0;var J=P.lanes|P.childLanes;if(en(b,J),b===ts&&(Eo=ts=null,ks=0),(P.subtreeFlags&2064)===0&&(P.flags&2064)===0||X2||(X2=!0,tee(ro,function(){return Vb(),null})),J=(P.flags&15990)!==0,(P.subtreeFlags&15990)!==0||J){J=Ju.transition,Ju.transition=null;var re=Qt;Qt=1;var ve=vr;vr|=4,V4.current=null,bPe(b,P),zZ(P,b),WMe(ZL),te=!!JL,ZL=JL=null,b.current=P,wPe(P),tu(),vr=ve,Qt=re,Ju.transition=J}else b.current=P;if(X2&&(X2=!1,xm=b,Q2=K),J=b.pendingLanes,J===0&&(wm=null),qd(P.stateNode),_l(b,Gn()),T!==null)for(j=b.onRecoverableError,P=0;P<T.length;P++)K=T[P],j(K.value,{componentStack:K.stack,digest:K.digest});if(K2)throw K2=!1,b=G4,G4=null,b;return(Q2&1)!==0&&b.tag!==0&&Vb(),J=b.pendingLanes,(J&1)!==0?b===Y4?V_++:(V_=0,Y4=b):V_=0,gm(),null}function Vb(){if(xm!==null){var b=Hn(Q2),T=Ju.transition,P=Qt;try{if(Ju.transition=null,Qt=16>b?16:b,xm===null)var j=!1;else{if(b=xm,xm=null,Q2=0,(vr&6)!==0)throw Error(n(331));var K=vr;for(vr|=4,Xt=b.current;Xt!==null;){var J=Xt,re=J.child;if((Xt.flags&16)!==0){var ve=J.deletions;if(ve!==null){for(var Ee=0;Ee<ve.length;Ee++){var Be=ve[Ee];for(Xt=Be;Xt!==null;){var pt=Xt;switch(pt.tag){case 0:case 11:case 15:z_(8,pt,J)}var bt=pt.child;if(bt!==null)bt.return=pt,Xt=bt;else for(;Xt!==null;){pt=Xt;var dt=pt.sibling,qt=pt.return;if(OZ(pt),pt===Be){Xt=null;break}if(dt!==null){dt.return=qt,Xt=dt;break}Xt=qt}}}var Jt=J.alternate;if(Jt!==null){var tn=Jt.child;if(tn!==null){Jt.child=null;do{var uo=tn.sibling;tn.sibling=null,tn=uo}while(tn!==null)}}Xt=J}}if((J.subtreeFlags&2064)!==0&&re!==null)re.return=J,Xt=re;else e:for(;Xt!==null;){if(J=Xt,(J.flags&2048)!==0)switch(J.tag){case 0:case 11:case 15:z_(9,J,J.return)}var Pe=J.sibling;if(Pe!==null){Pe.return=J.return,Xt=Pe;break e}Xt=J.return}}var Ie=b.current;for(Xt=Ie;Xt!==null;){re=Xt;var Le=re.child;if((re.subtreeFlags&2064)!==0&&Le!==null)Le.return=re,Xt=Le;else e:for(re=Ie;Xt!==null;){if(ve=Xt,(ve.flags&2048)!==0)try{switch(ve.tag){case 0:case 11:case 15:q2(9,ve)}}catch(un){Vi(ve,ve.return,un)}if(ve===re){Xt=null;break e}var $t=ve.sibling;if($t!==null){$t.return=ve.return,Xt=$t;break e}Xt=ve.return}}if(vr=K,gm(),io&&typeof io.onPostCommitFiberRoot=="function")try{io.onPostCommitFiberRoot(ml,b)}catch{}j=!0}return j}finally{Qt=P,Ju.transition=T}}return!1}function JZ(b,T,P){T=jb(P,T),T=gZ(b,T,1),b=vm(b,T,1),T=za(),b!==null&&(_n(b,1,T),_l(b,T))}function Vi(b,T,P){if(b.tag===3)JZ(b,b,P);else for(;T!==null;){if(T.tag===3){JZ(T,b,P);break}else if(T.tag===1){var j=T.stateNode;if(typeof T.type.getDerivedStateFromError=="function"||typeof j.componentDidCatch=="function"&&(wm===null||!wm.has(j))){b=jb(P,b),b=yZ(T,b,1),T=vm(T,b,1),b=za(),T!==null&&(_n(T,1,b),_l(T,b));break}}T=T.return}}function CPe(b,T,P){var j=b.pingCache;j!==null&&j.delete(T),T=za(),b.pingedLanes|=b.suspendedLanes&P,ts===b&&(ks&P)===P&&(Lo===4||Lo===3&&(ks&130023424)===ks&&500>Gn()-q4?j0(b,0):W4|=P),_l(b,T)}function ZZ(b,T){T===0&&((b.mode&1)===0?T=1:(T=Re,Re<<=1,(Re&130023424)===0&&(Re=4194304)));var P=za();b=Dh(b,T),b!==null&&(_n(b,T,P),_l(b,P))}function APe(b){var T=b.memoizedState,P=0;T!==null&&(P=T.retryLane),ZZ(b,P)}function kPe(b,T){var P=0;switch(b.tag){case 13:var j=b.stateNode,K=b.memoizedState;K!==null&&(P=K.retryLane);break;case 19:j=b.stateNode;break;default:throw Error(n(314))}j!==null&&j.delete(T),ZZ(b,P)}var eee;eee=function(b,T,P){if(b!==null)if(b.memoizedProps!==T.pendingProps||vl.current)wl=!0;else{if((b.lanes&P)===0&&(T.flags&128)===0)return wl=!1,mPe(b,T,P);wl=(b.flags&131072)!==0}else wl=!1,Si&&(T.flags&1048576)!==0&&MJ(T,I2,T.index);switch(T.lanes=0,T.tag){case 2:var j=T.type;V2(b,T),b=T.pendingProps;var K=$b(T,ia.current);Fb(T,P),K=E4(null,T,j,b,K,P);var J=S4();return T.flags|=1,typeof K=="object"&&K!==null&&typeof K.render=="function"&&K.$$typeof===void 0?(T.tag=1,T.memoizedState=null,T.updateQueue=null,bl(j)?(J=!0,C2(T)):J=!1,T.memoizedState=K.state!==null&&K.state!==void 0?K.state:null,g4(T),K.updater=U2,T.stateNode=K,K._reactInternals=T,R4(T,j,b,P),T=P4(null,T,j,!0,J,P)):(T.tag=0,Si&&J&&s4(T),ja(null,T,K,P),T=T.child),T;case 16:j=T.elementType;e:{switch(V2(b,T),b=T.pendingProps,K=j._init,j=K(j._payload),T.type=j,K=T.tag=RPe(j),b=jc(j,b),K){case 0:T=M4(null,T,j,b,P);break e;case 1:T=CZ(null,T,j,b,P);break e;case 11:T=xZ(null,T,j,b,P);break e;case 14:T=_Z(null,T,j,jc(j.type,b),P);break e}throw Error(n(306,j,""))}return T;case 0:return j=T.type,K=T.pendingProps,K=T.elementType===j?K:jc(j,K),M4(b,T,j,K,P);case 1:return j=T.type,K=T.pendingProps,K=T.elementType===j?K:jc(j,K),CZ(b,T,j,K,P);case 3:e:{if(AZ(T),b===null)throw Error(n(387));j=T.pendingProps,J=T.memoizedState,K=J.element,UJ(b,T),N2(T,j,null,P);var re=T.memoizedState;if(j=re.element,J.isDehydrated)if(J={element:j,isDehydrated:!1,cache:re.cache,pendingSuspenseBoundaries:re.pendingSuspenseBoundaries,transitions:re.transitions},T.updateQueue.baseState=J,T.memoizedState=J,T.flags&256){K=jb(Error(n(423)),T),T=kZ(b,T,j,P,K);break e}else if(j!==K){K=jb(Error(n(424)),T),T=kZ(b,T,j,P,K);break e}else for(au=hm(T.stateNode.containerInfo.firstChild),su=T,Si=!0,Bc=null,P=jJ(T,null,j,P),T.child=P;P;)P.flags=P.flags&-3|4096,P=P.sibling;else{if(Nb(),j===K){T=Mh(b,T,P);break e}ja(b,T,j,P)}T=T.child}return T;case 5:return WJ(T),b===null&&u4(T),j=T.type,K=T.pendingProps,J=b!==null?b.memoizedProps:null,re=K.children,e4(j,K)?re=null:J!==null&&e4(j,J)&&(T.flags|=32),TZ(b,T),ja(b,T,re,P),T.child;case 6:return b===null&&u4(T),null;case 13:return IZ(b,T,P);case 4:return y4(T,T.stateNode.containerInfo),j=T.pendingProps,b===null?T.child=Ob(T,null,j,P):ja(b,T,j,P),T.child;case 11:return j=T.type,K=T.pendingProps,K=T.elementType===j?K:jc(j,K),xZ(b,T,j,K,P);case 7:return ja(b,T,T.pendingProps,P),T.child;case 8:return ja(b,T,T.pendingProps.children,P),T.child;case 12:return ja(b,T,T.pendingProps.children,P),T.child;case 10:e:{if(j=T.type._context,K=T.pendingProps,J=T.memoizedProps,re=K.value,ai($2,j._currentValue),j._currentValue=re,J!==null)if(Fc(J.value,re)){if(J.children===K.children&&!vl.current){T=Mh(b,T,P);break e}}else for(J=T.child,J!==null&&(J.return=T);J!==null;){var ve=J.dependencies;if(ve!==null){re=J.child;for(var Ee=ve.firstContext;Ee!==null;){if(Ee.context===j){if(J.tag===1){Ee=$h(-1,P&-P),Ee.tag=2;var Be=J.updateQueue;if(Be!==null){Be=Be.shared;var pt=Be.pending;pt===null?Ee.next=Ee:(Ee.next=pt.next,pt.next=Ee),Be.pending=Ee}}J.lanes|=P,Ee=J.alternate,Ee!==null&&(Ee.lanes|=P),p4(J.return,P,T),ve.lanes|=P;break}Ee=Ee.next}}else if(J.tag===10)re=J.type===T.type?null:J.child;else if(J.tag===18){if(re=J.return,re===null)throw Error(n(341));re.lanes|=P,ve=re.alternate,ve!==null&&(ve.lanes|=P),p4(re,P,T),re=J.sibling}else re=J.child;if(re!==null)re.return=J;else for(re=J;re!==null;){if(re===T){re=null;break}if(J=re.sibling,J!==null){J.return=re.return,re=J;break}re=re.return}J=re}ja(b,T,K.children,P),T=T.child}return T;case 9:return K=T.type,j=T.pendingProps.children,Fb(T,P),K=Xu(K),j=j(K),T.flags|=1,ja(b,T,j,P),T.child;case 14:return j=T.type,K=jc(j,T.pendingProps),K=jc(j.type,K),_Z(b,T,j,K,P);case 15:return EZ(b,T,T.type,T.pendingProps,P);case 17:return j=T.type,K=T.pendingProps,K=T.elementType===j?K:jc(j,K),V2(b,T),T.tag=1,bl(j)?(b=!0,C2(T)):b=!1,Fb(T,P),pZ(T,j,K),R4(T,j,K,P),P4(null,T,j,!0,b,P);case 19:return DZ(b,T,P);case 22:return SZ(b,T,P)}throw Error(n(156,T.tag))};function tee(b,T){return Vu(b,T)}function IPe(b,T,P,j){this.tag=b,this.key=P,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=T,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=j,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zu(b,T,P,j){return new IPe(b,T,P,j)}function eF(b){return b=b.prototype,!(!b||!b.isReactComponent)}function RPe(b){if(typeof b=="function")return eF(b)?1:0;if(b!=null){if(b=b.$$typeof,b===M)return 11;if(b===R)return 14}return 2}function Sm(b,T){var P=b.alternate;return P===null?(P=Zu(b.tag,T,b.key,b.mode),P.elementType=b.elementType,P.type=b.type,P.stateNode=b.stateNode,P.alternate=b,b.alternate=P):(P.pendingProps=T,P.type=b.type,P.flags=0,P.subtreeFlags=0,P.deletions=null),P.flags=b.flags&14680064,P.childLanes=b.childLanes,P.lanes=b.lanes,P.child=b.child,P.memoizedProps=b.memoizedProps,P.memoizedState=b.memoizedState,P.updateQueue=b.updateQueue,T=b.dependencies,P.dependencies=T===null?null:{lanes:T.lanes,firstContext:T.firstContext},P.sibling=b.sibling,P.index=b.index,P.ref=b.ref,P}function tk(b,T,P,j,K,J){var re=2;if(j=b,typeof b=="function")eF(b)&&(re=1);else if(typeof b=="string")re=5;else e:switch(b){case S:return U0(P.children,K,J,T);case C:re=8,K|=8;break;case A:return b=Zu(12,P,T,K|2),b.elementType=A,b.lanes=J,b;case I:return b=Zu(13,P,T,K),b.elementType=I,b.lanes=J,b;case D:return b=Zu(19,P,T,K),b.elementType=D,b.lanes=J,b;case B:return nk(P,K,J,T);default:if(typeof b=="object"&&b!==null)switch(b.$$typeof){case k:re=10;break e;case N:re=9;break e;case M:re=11;break e;case R:re=14;break e;case O:re=16,j=null;break e}throw Error(n(130,b==null?b:typeof b,""))}return T=Zu(re,P,T,K),T.elementType=b,T.type=j,T.lanes=J,T}function U0(b,T,P,j){return b=Zu(7,b,j,T),b.lanes=P,b}function nk(b,T,P,j){return b=Zu(22,b,j,T),b.elementType=B,b.lanes=P,b.stateNode={isHidden:!1},b}function tF(b,T,P){return b=Zu(6,b,null,T),b.lanes=P,b}function nF(b,T,P){return T=Zu(4,b.children!==null?b.children:[],b.key,T),T.lanes=P,T.stateNode={containerInfo:b.containerInfo,pendingChildren:null,implementation:b.implementation},T}function DPe(b,T,P,j,K){this.tag=T,this.containerInfo=b,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zt(0),this.expirationTimes=zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.identifierPrefix=j,this.onRecoverableError=K,this.mutableSourceEagerHydrationData=null}function rF(b,T,P,j,K,J,re,ve,Ee){return b=new DPe(b,T,P,ve,Ee),T===1?(T=1,J===!0&&(T|=8)):T=0,J=Zu(3,null,null,T),b.current=J,J.stateNode=b,J.memoizedState={element:j,isDehydrated:P,cache:null,transitions:null,pendingSuspenseBoundaries:null},g4(J),b}function $Pe(b,T,P){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:x,key:j==null?null:""+j,children:b,containerInfo:T,implementation:P}}function nee(b){if(!b)return mm;b=b._reactInternals;e:{if(hi(b)!==b||b.tag!==1)throw Error(n(170));var T=b;do{switch(T.tag){case 3:T=T.stateNode.context;break e;case 1:if(bl(T.type)){T=T.stateNode.__reactInternalMemoizedMergedChildContext;break e}}T=T.return}while(T!==null);throw Error(n(171))}if(b.tag===1){var P=b.type;if(bl(P))return RJ(b,P,T)}return T}function ree(b,T,P,j,K,J,re,ve,Ee){return b=rF(P,j,!0,b,K,J,re,ve,Ee),b.context=nee(null),P=b.current,j=za(),K=_m(P),J=$h(j,K),J.callback=T??null,vm(P,J,K),b.current.lanes=K,_n(b,K,j),_l(b,j),b}function rk(b,T,P,j){var K=T.current,J=za(),re=_m(K);return P=nee(P),T.context===null?T.context=P:T.pendingContext=P,T=$h(J,re),T.payload={element:b},j=j===void 0?null:j,j!==null&&(T.callback=j),b=vm(K,T,re),b!==null&&(Hc(b,K,re,J),P2(b,K,re)),re}function ik(b){if(b=b.current,!b.child)return null;switch(b.child.tag){case 5:return b.child.stateNode;default:return b.child.stateNode}}function iee(b,T){if(b=b.memoizedState,b!==null&&b.dehydrated!==null){var P=b.retryLane;b.retryLane=P!==0&&P<T?P:T}}function iF(b,T){iee(b,T),(b=b.alternate)&&iee(b,T)}function MPe(){return null}var oee=typeof reportError=="function"?reportError:function(b){console.error(b)};function oF(b){this._internalRoot=b}ok.prototype.render=oF.prototype.render=function(b){var T=this._internalRoot;if(T===null)throw Error(n(409));rk(b,T,null,null)},ok.prototype.unmount=oF.prototype.unmount=function(){var b=this._internalRoot;if(b!==null){this._internalRoot=null;var T=b.containerInfo;B0(function(){rk(null,b,null,null)}),T[Ah]=null}};function ok(b){this._internalRoot=b}ok.prototype.unstable_scheduleHydration=function(b){if(b){var T=Gd();b={blockedOn:null,target:b,priority:T};for(var P=0;P<na.length&&T!==0&&T<na[P].priority;P++);na.splice(P,0,b),P===0&&Xd(b)}};function sF(b){return!(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)}function sk(b){return!(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11&&(b.nodeType!==8||b.nodeValue!==" react-mount-point-unstable "))}function see(){}function PPe(b,T,P,j,K){if(K){if(typeof j=="function"){var J=j;j=function(){var Be=ik(re);J.call(Be)}}var re=ree(T,j,b,0,null,!1,!1,"",see);return b._reactRootContainer=re,b[Ah]=re.current,k_(b.nodeType===8?b.parentNode:b),B0(),re}for(;K=b.lastChild;)b.removeChild(K);if(typeof j=="function"){var ve=j;j=function(){var Be=ik(Ee);ve.call(Be)}}var Ee=rF(b,0,!1,null,null,!1,!1,"",see);return b._reactRootContainer=Ee,b[Ah]=Ee.current,k_(b.nodeType===8?b.parentNode:b),B0(function(){rk(T,Ee,P,j)}),Ee}function ak(b,T,P,j,K){var J=P._reactRootContainer;if(J){var re=J;if(typeof K=="function"){var ve=K;K=function(){var Ee=ik(re);ve.call(Ee)}}rk(T,re,b,K)}else re=PPe(P,T,b,K,j);return ik(re)}so=function(b){switch(b.tag){case 3:var T=b.stateNode;if(T.current.memoizedState.isDehydrated){var P=Ce(T.pendingLanes);P!==0&&(On(T,P|1),_l(T,Gn()),(vr&6)===0&&(Hb=Gn()+500,gm()))}break;case 13:B0(function(){var j=Dh(b,1);if(j!==null){var K=za();Hc(j,b,1,K)}}),iF(b,1)}},ta=function(b){if(b.tag===13){var T=Dh(b,134217728);if(T!==null){var P=za();Hc(T,b,134217728,P)}iF(b,134217728)}},ao=function(b){if(b.tag===13){var T=_m(b),P=Dh(b,T);if(P!==null){var j=za();Hc(P,b,T,j)}iF(b,T)}},Gd=function(){return Qt},Wu=function(b,T){var P=Qt;try{return Qt=b,T()}finally{Qt=P}},gr=function(b,T,P){switch(T){case"input":if(Fe(b,P),T=P.name,P.type==="radio"&&T!=null){for(P=b;P.parentNode;)P=P.parentNode;for(P=P.querySelectorAll("input[name="+JSON.stringify(""+T)+'][type="radio"]'),T=0;T<P.length;T++){var j=P[T];if(j!==b&&j.form===b.form){var K=S2(j);if(!K)throw Error(n(90));ae(j),Fe(j,K)}}}break;case"textarea":Ze(b,P);break;case"select":T=P.value,T!=null&&ct(b,!!P.multiple,T,!1)}},Do=Q4,Ss=B0;var NPe={usingClientEntryPoint:!1,Events:[D_,Rb,S2,er,Es,Q4]},W_={findFiberByHostInstance:D0,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},OPe={bundleType:W_.bundleType,version:W_.version,rendererPackageName:W_.rendererPackageName,rendererConfig:W_.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(b){return b=hl(b),b===null?null:b.stateNode},findFiberByHostInstance:W_.findFiberByHostInstance||MPe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lk=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lk.isDisabled&&lk.supportsFiber)try{ml=lk.inject(OPe),io=lk}catch{}}return El.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NPe,El.createPortal=function(b,T){var P=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sF(T))throw Error(n(200));return $Pe(b,T,null,P)},El.createRoot=function(b,T){if(!sF(b))throw Error(n(299));var P=!1,j="",K=oee;return T!=null&&(T.unstable_strictMode===!0&&(P=!0),T.identifierPrefix!==void 0&&(j=T.identifierPrefix),T.onRecoverableError!==void 0&&(K=T.onRecoverableError)),T=rF(b,1,!1,null,null,P,!1,j,K),b[Ah]=T.current,k_(b.nodeType===8?b.parentNode:b),new oF(T)},El.findDOMNode=function(b){if(b==null)return null;if(b.nodeType===1)return b;var T=b._reactInternals;if(T===void 0)throw typeof b.render=="function"?Error(n(188)):(b=Object.keys(b).join(","),Error(n(268,b)));return b=hl(T),b=b===null?null:b.stateNode,b},El.flushSync=function(b){return B0(b)},El.hydrate=function(b,T,P){if(!sk(T))throw Error(n(200));return ak(null,b,T,!0,P)},El.hydrateRoot=function(b,T,P){if(!sF(b))throw Error(n(405));var j=P!=null&&P.hydratedSources||null,K=!1,J="",re=oee;if(P!=null&&(P.unstable_strictMode===!0&&(K=!0),P.identifierPrefix!==void 0&&(J=P.identifierPrefix),P.onRecoverableError!==void 0&&(re=P.onRecoverableError)),T=ree(T,null,b,1,P??null,K,!1,J,re),b[Ah]=T.current,k_(b),j)for(b=0;b<j.length;b++)P=j[b],K=P._getVersion,K=K(P._source),T.mutableSourceEagerHydrationData==null?T.mutableSourceEagerHydrationData=[P,K]:T.mutableSourceEagerHydrationData.push(P,K);return new ok(T)},El.render=function(b,T,P){if(!sk(T))throw Error(n(200));return ak(null,b,T,!1,P)},El.unmountComponentAtNode=function(b){if(!sk(b))throw Error(n(40));return b._reactRootContainer?(B0(function(){ak(null,null,b,!1,function(){b._reactRootContainer=null,b[Ah]=null})}),!0):!1},El.unstable_batchedUpdates=Q4,El.unstable_renderSubtreeIntoContainer=function(b,T,P,j){if(!sk(P))throw Error(n(200));if(b==null||b._reactInternals===void 0)throw Error(n(38));return ak(b,T,P,!1,j)},El.version="18.3.1-next-f1338f8080-20240426",El}var pee;function Vpe(){if(pee)return uF.exports;pee=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),uF.exports=YPe(),uF.exports}var mee;function KPe(){if(mee)return uk;mee=1;var e=Vpe();return uk.createRoot=e.createRoot,uk.hydrateRoot=e.hydrateRoot,uk}var XPe=KPe();const QPe=ul(XPe);var mf=function(){return mf=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},mf.apply(this,arguments)};function TC(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function JPe(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var bI="right-scroll-bar-position",wI="width-before-scroll-bar",ZPe="with-scroll-bars-hidden",eNe="--removed-body-scroll-bar-size";function fF(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function tNe(e,t){var n=H.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var nNe=typeof window<"u"?H.useLayoutEffect:H.useEffect,gee=new WeakMap;function rNe(e,t){var n=tNe(null,function(r){return e.forEach(function(i){return fF(i,r)})});return nNe(function(){var r=gee.get(n);if(r){var i=new Set(r),o=new Set(e),s=n.current;i.forEach(function(a){o.has(a)||fF(a,null)}),o.forEach(function(a){i.has(a)||fF(a,s)})}gee.set(n,e)},[e]),n}function iNe(e){return e}function oNe(e,t){t===void 0&&(t=iNe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var s=t(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var l=function(){var c=s;s=[],c.forEach(o)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(c){s.push(c),u()},filter:function(c){return s=s.filter(c),n}}}};return i}function sNe(e){e===void 0&&(e={});var t=oNe(null);return t.options=mf({async:!0,ssr:!1},e),t}var Wpe=function(e){var t=e.sideCar,n=TC(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return H.createElement(r,mf({},n))};Wpe.isSideCarExport=!0;function aNe(e,t){return e.useMedium(t),Wpe}var qpe=sNe(),hF=function(){},GM=H.forwardRef(function(e,t){var n=H.useRef(null),r=H.useState({onScrollCapture:hF,onWheelCapture:hF,onTouchMoveCapture:hF}),i=r[0],o=r[1],s=e.forwardProps,a=e.children,l=e.className,u=e.removeScrollBar,c=e.enabled,d=e.shards,f=e.sideCar,h=e.noIsolation,p=e.inert,m=e.allowPinchZoom,g=e.as,y=g===void 0?"div":g,v=e.gapMode,w=TC(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=f,_=rNe([n,t]),x=mf(mf({},w),i);return H.createElement(H.Fragment,null,c&&H.createElement(E,{sideCar:qpe,removeScrollBar:u,shards:d,noIsolation:h,inert:p,setCallbacks:o,allowPinchZoom:!!m,lockRef:n,gapMode:v}),s?H.cloneElement(H.Children.only(a),mf(mf({},x),{ref:_})):H.createElement(y,mf({},x,{className:l,ref:_}),a))});GM.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};GM.classNames={fullWidth:wI,zeroRight:bI};var lNe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function uNe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=lNe();return t&&e.setAttribute("nonce",t),e}function cNe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function dNe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var fNe=function(){var e=0,t=null;return{add:function(n){e==0&&(t=uNe())&&(cNe(t,n),dNe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},hNe=function(){var e=fNe();return function(t,n){H.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Gpe=function(){var e=hNe(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},pNe={left:0,top:0,right:0,gap:0},pF=function(e){return parseInt(e||"",10)||0},mNe=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[pF(n),pF(r),pF(i)]},gNe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return pNe;var t=mNe(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},yNe=Gpe(),B1="data-scroll-locked",vNe=function(e,t,n,r){var i=e.left,o=e.top,s=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(ZPe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(B1,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(bI,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(wI,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(bI," .").concat(bI,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(wI," .").concat(wI,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(B1,`] {
    `).concat(eNe,": ").concat(a,`px;
  }
`)},yee=function(){var e=parseInt(document.body.getAttribute(B1)||"0",10);return isFinite(e)?e:0},bNe=function(){H.useEffect(function(){return document.body.setAttribute(B1,(yee()+1).toString()),function(){var e=yee()-1;e<=0?document.body.removeAttribute(B1):document.body.setAttribute(B1,e.toString())}},[])},wNe=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;bNe();var o=H.useMemo(function(){return gNe(i)},[i]);return H.createElement(yNe,{styles:vNe(o,!t,i,n?"":"!important")})},I8=!1;if(typeof window<"u")try{var ck=Object.defineProperty({},"passive",{get:function(){return I8=!0,!0}});window.addEventListener("test",ck,ck),window.removeEventListener("test",ck,ck)}catch{I8=!1}var Wb=I8?{passive:!1}:!1,xNe=function(e){return e.tagName==="TEXTAREA"},Ype=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!xNe(e)&&n[t]==="visible")},_Ne=function(e){return Ype(e,"overflowY")},ENe=function(e){return Ype(e,"overflowX")},vee=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=Kpe(e,r);if(i){var o=Xpe(e,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},SNe=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},TNe=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Kpe=function(e,t){return e==="v"?_Ne(t):ENe(t)},Xpe=function(e,t){return e==="v"?SNe(t):TNe(t)},CNe=function(e,t){return e==="h"&&t==="rtl"?-1:1},ANe=function(e,t,n,r,i){var o=CNe(e,window.getComputedStyle(t).direction),s=o*r,a=n.target,l=t.contains(a),u=!1,c=s>0,d=0,f=0;do{var h=Xpe(e,a),p=h[0],m=h[1],g=h[2],y=m-g-o*p;(p||y)&&Kpe(e,a)&&(d+=y,f+=p),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(c&&Math.abs(d)<1||!c&&Math.abs(f)<1)&&(u=!0),u},dk=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},bee=function(e){return[e.deltaX,e.deltaY]},wee=function(e){return e&&"current"in e?e.current:e},kNe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},INe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},RNe=0,qb=[];function DNe(e){var t=H.useRef([]),n=H.useRef([0,0]),r=H.useRef(),i=H.useState(RNe++)[0],o=H.useState(Gpe)[0],s=H.useRef(e);H.useEffect(function(){s.current=e},[e]),H.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var m=JPe([e.lockRef.current],(e.shards||[]).map(wee),!0).filter(Boolean);return m.forEach(function(g){return g.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var a=H.useCallback(function(m,g){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!s.current.allowPinchZoom;var y=dk(m),v=n.current,w="deltaX"in m?m.deltaX:v[0]-y[0],E="deltaY"in m?m.deltaY:v[1]-y[1],_,x=m.target,S=Math.abs(w)>Math.abs(E)?"h":"v";if("touches"in m&&S==="h"&&x.type==="range")return!1;var C=vee(S,x);if(!C)return!0;if(C?_=S:(_=S==="v"?"h":"v",C=vee(S,x)),!C)return!1;if(!r.current&&"changedTouches"in m&&(w||E)&&(r.current=_),!_)return!0;var A=r.current||_;return ANe(A,g,m,A==="h"?w:E)},[]),l=H.useCallback(function(m){var g=m;if(!(!qb.length||qb[qb.length-1]!==o)){var y="deltaY"in g?bee(g):dk(g),v=t.current.filter(function(_){return _.name===g.type&&(_.target===g.target||g.target===_.shadowParent)&&kNe(_.delta,y)})[0];if(v&&v.should){g.cancelable&&g.preventDefault();return}if(!v){var w=(s.current.shards||[]).map(wee).filter(Boolean).filter(function(_){return _.contains(g.target)}),E=w.length>0?a(g,w[0]):!s.current.noIsolation;E&&g.cancelable&&g.preventDefault()}}},[]),u=H.useCallback(function(m,g,y,v){var w={name:m,delta:g,target:y,should:v,shadowParent:$Ne(y)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(E){return E!==w})},1)},[]),c=H.useCallback(function(m){n.current=dk(m),r.current=void 0},[]),d=H.useCallback(function(m){u(m.type,bee(m),m.target,a(m,e.lockRef.current))},[]),f=H.useCallback(function(m){u(m.type,dk(m),m.target,a(m,e.lockRef.current))},[]);H.useEffect(function(){return qb.push(o),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Wb),document.addEventListener("touchmove",l,Wb),document.addEventListener("touchstart",c,Wb),function(){qb=qb.filter(function(m){return m!==o}),document.removeEventListener("wheel",l,Wb),document.removeEventListener("touchmove",l,Wb),document.removeEventListener("touchstart",c,Wb)}},[]);var h=e.removeScrollBar,p=e.inert;return H.createElement(H.Fragment,null,p?H.createElement(o,{styles:INe(i)}):null,h?H.createElement(wNe,{gapMode:e.gapMode}):null)}function $Ne(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const MNe=aNe(qpe,DNe);var cw=H.forwardRef(function(e,t){return H.createElement(GM,mf({},e,{ref:t,sideCar:MNe}))});cw.classNames=GM.classNames;function ti(e){return Object.keys(e)}function mF(e){return e&&typeof e=="object"&&!Array.isArray(e)}function Zz(e,t){const n={...e},r=t;return mF(e)&&mF(t)&&Object.keys(t).forEach(i=>{mF(r[i])&&i in e?n[i]=Zz(n[i],r[i]):n[i]=r[i]}),n}function PNe(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function NNe(e){var t;return typeof e!="string"||!e.includes("var(--mantine-scale)")?e:(t=e.match(/^calc\((.*?)\)$/))==null?void 0:t[1].split("*")[0].trim()}function lT(e){const t=NNe(e);return typeof t=="number"?t:typeof t=="string"?t.includes("calc")||t.includes("var")?t:t.includes("px")?Number(t.replace("px","")):t.includes("rem")?Number(t.replace("rem",""))*16:t.includes("em")?Number(t.replace("em",""))*16:Number(t):NaN}function gF(e){return e==="0rem"?"0rem":`calc(${e} * var(--mantine-scale))`}function Qpe(e,{shouldScale:t=!1}={}){function n(r){if(r===0||r==="0")return`0${e}`;if(typeof r=="number"){const i=`${r/16}${e}`;return t?gF(i):i}if(typeof r=="string"){if(r===""||r.startsWith("calc(")||r.startsWith("clamp(")||r.includes("rgba("))return r;if(r.includes(","))return r.split(",").map(o=>n(o)).join(",");if(r.includes(" "))return r.split(" ").map(o=>n(o)).join(" ");if(r.includes(e))return t?gF(r):r;const i=r.replace("px","");if(!Number.isNaN(Number(i))){const o=`${Number(i)/16}${e}`;return t?gF(o):o}}return r}return n}const je=Qpe("rem",{shouldScale:!0}),iD=Qpe("em");function Zg(e){return Object.keys(e).reduce((t,n)=>(e[n]!==void 0&&(t[n]=e[n]),t),{})}function Jpe(e){if(typeof e=="number")return!0;if(typeof e=="string"){if(e.startsWith("calc(")||e.startsWith("var(")||e.includes(" ")&&e.trim()!=="")return!0;const t=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return e.trim().split(/\s+/).every(r=>t.test(r))}return!1}function Wp(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==H.Fragment:!1}function bs(e){const t=H.createContext(null);return[({children:i,value:o})=>$.jsx(t.Provider,{value:o,children:i}),()=>{const i=H.useContext(t);if(i===null)throw new Error(e);return i}]}function e0(e=null){const t=H.createContext(e);return[({children:i,value:o})=>$.jsx(t.Provider,{value:o,children:i}),()=>H.useContext(t)]}function oD(e,t){return n=>{if(typeof n!="string"||n.trim().length===0)throw new Error(t);return`${e}-${n}`}}function sD(e,t){let n=e;for(;(n=n.parentElement)&&!n.matches(t););return n}function ONe(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].disabled)return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].disabled)return r}return e}function LNe(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].disabled)return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].disabled)return r}return e}function FNe(e,t,n){return sD(e,n)===sD(t,n)}function eU({parentSelector:e,siblingSelector:t,onKeyDown:n,loop:r=!0,activateOnFocus:i=!1,dir:o="rtl",orientation:s}){return a=>{var p;n==null||n(a);const l=Array.from(((p=sD(a.currentTarget,e))==null?void 0:p.querySelectorAll(t))||[]).filter(m=>FNe(a.currentTarget,m,e)),u=l.findIndex(m=>a.currentTarget===m),c=LNe(u,l,r),d=ONe(u,l,r),f=o==="rtl"?d:c,h=o==="rtl"?c:d;switch(a.key){case"ArrowRight":{s==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[f].focus(),i&&l[f].click());break}case"ArrowLeft":{s==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[h].focus(),i&&l[h].click());break}case"ArrowUp":{s==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[d].focus(),i&&l[d].click());break}case"ArrowDown":{s==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[c].focus(),i&&l[c].click());break}case"Home":{a.stopPropagation(),a.preventDefault(),!l[0].disabled&&l[0].focus();break}case"End":{a.stopPropagation(),a.preventDefault();const m=l.length-1;!l[m].disabled&&l[m].focus();break}}}}const BNe={app:100,modal:200,popover:300,overlay:400,max:9999};function Kl(e){return BNe[e]}const aD=()=>{};function jNe(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||aD:n=>{var r;n.key==="Escape"&&(e(n),(r=t.onTrigger)==null||r.call(t))}}function Nn(e,t="size",n=!0){if(e!==void 0)return Jpe(e)?n?je(e):e:`var(--${t}-${e})`}function ki(e){return Nn(e,"mantine-spacing")}function Hr(e){return e===void 0?"var(--mantine-radius-default)":Nn(e,"mantine-radius")}function qs(e){return Nn(e,"mantine-font-size")}function Zpe(e){return Nn(e,"mantine-line-height",!1)}function tU(e){if(e)return Nn(e,"mantine-shadow",!1)}function Nl(e,t){return n=>{e==null||e(n),t==null||t(n)}}function nU(e,t){return e in t?lT(t[e]):lT(e)}function uT(e,t){const n=e.map(r=>({value:r,px:nU(r,t)}));return n.sort((r,i)=>r.px-i.px),n}function sd(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function zNe(e,t,n){var r;return n?Array.from(((r=sD(n,t))==null?void 0:r.querySelectorAll(e))||[]).findIndex(i=>i===n):null}function UNe(){const[e,t]=H.useState(-1);return[e,{setHovered:t,resetHovered:()=>t(-1)}]}function Jh(e,t,n){return t===void 0&&n===void 0?e:t!==void 0&&n===void 0?Math.max(e,t):Math.min(t===void 0&&n!==void 0?e:Math.max(e,t),n)}function j1(e="mantine-"){return`${e}${Math.random().toString(36).slice(2,11)}`}function Vm(e){const t=H.useRef(e);return H.useEffect(()=>{t.current=e}),H.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}const HNe=()=>{};function YM(e,t){const n=typeof t=="number"?t:t.delay,r=typeof t=="number"?!1:t.flushOnUnmount,i=Vm(e),o=H.useRef(0),s=Object.assign(H.useCallback((...a)=>{window.clearTimeout(o.current);const l=()=>{o.current!==0&&(o.current=0,i(...a))};s.flush=l,o.current=window.setTimeout(l,n)},[i,n]),{flush:HNe});return H.useEffect(()=>()=>{window.clearTimeout(o.current),r&&s.flush()},[s,r]),s}const xee=["mousedown","touchstart"];function VNe(e,t,n){const r=H.useRef(null);return H.useEffect(()=>{const i=o=>{const{target:s}=o??{};if(Array.isArray(n)){const a=(s==null?void 0:s.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(s)&&s.tagName!=="HTML";n.every(u=>!!u&&!o.composedPath().includes(u))&&!a&&e()}else r.current&&!r.current.contains(s)&&e()};return(t||xee).forEach(o=>document.addEventListener(o,i)),()=>{(t||xee).forEach(o=>document.removeEventListener(o,i))}},[r,e,n]),r}function WNe(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function qNe(e,t){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function eme(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,i]=H.useState(n?t:qNe(e)),o=H.useRef(null);return H.useEffect(()=>{if("matchMedia"in window)return o.current=window.matchMedia(e),i(o.current.matches),WNe(o.current,s=>i(s.matches))},[e]),r}function GNe(e,t){return eme("(prefers-color-scheme: dark)",e==="dark",t)?"dark":"light"}const $v=typeof document<"u"?H.useLayoutEffect:H.useEffect;function zf(e,t){const n=H.useRef(!1);H.useEffect(()=>()=>{n.current=!1},[]),H.useEffect(()=>{if(n.current)return e();n.current=!0},t)}function tme({opened:e,shouldReturnFocus:t=!0}){const n=H.useRef(null),r=()=>{var i;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((i=n.current)==null||i.focus({preventScroll:!0}))};return zf(()=>{let i=-1;const o=s=>{s.key==="Tab"&&window.clearTimeout(i)};return document.addEventListener("keydown",o),e?n.current=document.activeElement:t&&(i=window.setTimeout(r,10)),()=>{window.clearTimeout(i),document.removeEventListener("keydown",o)}},[e,t]),r}const YNe=/input|select|textarea|button|object/,nme="a, input, select, textarea, button, object, [tabindex]";function KNe(e){return e.style.display==="none"}function XNe(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let n=e;for(;n&&!(n===document.body||n.nodeType===11);){if(KNe(n))return!1;n=n.parentNode}return!0}function rme(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function R8(e){const t=e.nodeName.toLowerCase(),n=!Number.isNaN(rme(e));return(YNe.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||n)&&XNe(e)}function ime(e){const t=rme(e);return(Number.isNaN(t)||t>=0)&&R8(e)}function QNe(e){return Array.from(e.querySelectorAll(nme)).filter(ime)}function JNe(e,t){const n=QNe(e);if(!n.length){t.preventDefault();return}const r=n[t.shiftKey?0:n.length-1],i=e.getRootNode();let o=r===i.activeElement||e===i.activeElement;const s=i.activeElement;if(s.tagName==="INPUT"&&s.getAttribute("type")==="radio"&&(o=n.filter(c=>c.getAttribute("type")==="radio"&&c.getAttribute("name")===s.getAttribute("name")).includes(r)),!o)return;t.preventDefault();const l=n[t.shiftKey?n.length-1:0];l&&l.focus()}function ZNe(e=!0){const t=H.useRef(null),n=i=>{let o=i.querySelector("[data-autofocus]");if(!o){const s=Array.from(i.querySelectorAll(nme));o=s.find(ime)||s.find(R8)||null,!o&&R8(i)&&(o=i)}o&&o.focus({preventScroll:!0})},r=H.useCallback(i=>{e&&i!==null&&t.current!==i&&(i?(setTimeout(()=>{i.getRootNode()&&n(i)}),t.current=i):t.current=null)},[e]);return H.useEffect(()=>{if(!e)return;t.current&&setTimeout(()=>n(t.current));const i=o=>{o.key==="Tab"&&t.current&&JNe(t.current,o)};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[e]),r}const eOe=e=>(e+1)%1e6;function tOe(){const[,e]=H.useReducer(eOe,0);return e}const nOe=rr.useId||(()=>{});function rOe(){const e=nOe();return e?`mantine-${e.replace(/:/g,"")}`:""}function cl(e){const t=rOe(),[n,r]=H.useState(t);return $v(()=>{r(j1())},[]),typeof e=="string"?e:typeof window>"u"?t:n}function ome(e,t,n){H.useEffect(()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)),[e,t])}function lD(e,t){if(typeof e=="function")return e(t);typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function sme(...e){const t=new Map;return n=>{if(e.forEach(r=>{const i=lD(r,n);i&&t.set(r,i)}),t.size>0)return()=>{e.forEach(r=>{const i=t.get(r);i?i():lD(r,null)}),t.clear()}}}function Yo(...e){return H.useCallback(sme(...e),e)}function iOe(e,t,n="ltr"){const r=H.useRef(null),i=H.useRef(!1),o=H.useRef(!1),s=H.useRef(0),[a,l]=H.useState(!1);return H.useEffect(()=>{i.current=!0},[]),H.useEffect(()=>{const u=r.current,c=({x:w,y:E})=>{cancelAnimationFrame(s.current),s.current=requestAnimationFrame(()=>{if(i.current&&u){u.style.userSelect="none";const _=u.getBoundingClientRect();if(_.width&&_.height){const x=Jh((w-_.left)/_.width,0,1);e({x:n==="ltr"?x:1-x,y:Jh((E-_.top)/_.height,0,1)})}}})},d=()=>{document.addEventListener("mousemove",g),document.addEventListener("mouseup",p),document.addEventListener("touchmove",v),document.addEventListener("touchend",p)},f=()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",p),document.removeEventListener("touchmove",v),document.removeEventListener("touchend",p)},h=()=>{!o.current&&i.current&&(o.current=!0,typeof(t==null?void 0:t.onScrubStart)=="function"&&t.onScrubStart(),l(!0),d())},p=()=>{o.current&&i.current&&(o.current=!1,l(!1),f(),setTimeout(()=>{typeof(t==null?void 0:t.onScrubEnd)=="function"&&t.onScrubEnd()},0))},m=w=>{h(),w.preventDefault(),g(w)},g=w=>c({x:w.clientX,y:w.clientY}),y=w=>{w.cancelable&&w.preventDefault(),h(),v(w)},v=w=>{w.cancelable&&w.preventDefault(),c({x:w.changedTouches[0].clientX,y:w.changedTouches[0].clientY})};return u==null||u.addEventListener("mousedown",m),u==null||u.addEventListener("touchstart",y,{passive:!1}),()=>{u&&(u.removeEventListener("mousedown",m),u.removeEventListener("touchstart",y))}},[n,e]),{ref:r,active:a}}function gs({value:e,defaultValue:t,finalValue:n,onChange:r=()=>{}}){const[i,o]=H.useState(t!==void 0?t:n),s=(a,...l)=>{o(a),r==null||r(a,...l)};return e!==void 0?[e,r,!0]:[i,s,!1]}function KM(e,t){return eme("(prefers-reduced-motion: reduce)",e,t)}const oOe={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function CC(e){const t=H.useRef(0),n=H.useRef(null),[r,i]=H.useState(oOe),o=H.useMemo(()=>typeof window<"u"?new ResizeObserver(s=>{const a=s[0];a&&(cancelAnimationFrame(t.current),t.current=requestAnimationFrame(()=>{n.current&&i(a.contentRect)}))}):null,[]);return H.useEffect(()=>(n.current&&(o==null||o.observe(n.current,e)),()=>{o==null||o.disconnect(),t.current&&cancelAnimationFrame(t.current)}),[n.current]),[n,r]}function sOe(e){const[t,{width:n,height:r}]=CC(e);return{ref:t,width:n,height:r}}function rU(e=!1,t){const{onOpen:n,onClose:r}=t||{},[i,o]=H.useState(e),s=H.useCallback(()=>{o(u=>u||(n==null||n(),!0))},[n]),a=H.useCallback(()=>{o(u=>u&&(r==null||r(),!1))},[r]),l=H.useCallback(()=>{i?a():s()},[a,s,i]);return[i,{open:s,close:a,toggle:l}]}function aOe(e){const t=H.useRef(void 0);return H.useEffect(()=>{t.current=e},[e]),t.current}function lOe(e,t){const n=Vm(e),r=H.useRef(null),i=H.useRef(null),o=H.useRef(!0),s=H.useRef(t),a=H.useRef(-1),l=()=>window.clearTimeout(a.current),u=H.useCallback((...f)=>{n(...f),r.current=f,i.current=f,o.current=!1},[n]),c=H.useCallback(()=>{r.current&&r.current!==i.current?(u(...r.current),a.current=window.setTimeout(c,s.current)):o.current=!0},[u]),d=H.useCallback((...f)=>{o.current?(u(...f),a.current=window.setTimeout(c,s.current)):r.current=f},[u,c]);return H.useEffect(()=>{s.current=t},[t]),[d,l]}function uOe(e,t){const[n,r]=H.useState(e),[i,o]=lOe(r,t);return H.useEffect(()=>o,[]),[n,i]}function cOe(e,t){window.dispatchEvent(new CustomEvent(e,{detail:t}))}function dOe(e){function t(r){const i=Object.keys(r).reduce((o,s)=>(o[`${e}:${s}`]=a=>r[s](a.detail),o),{});$v(()=>(Object.keys(i).forEach(o=>{window.removeEventListener(o,i[o]),window.addEventListener(o,i[o])}),()=>Object.keys(i).forEach(o=>{window.removeEventListener(o,i[o])})),[i])}function n(r){return(...i)=>cOe(`${e}:${String(r)}`,i[0])}return[t,n]}var fOe={};function hOe(){return typeof process<"u"&&fOe?"production":"development"}function _ee(e,t){return t.length===0?e:t.reduce((n,r)=>Math.abs(r-e)<Math.abs(n-e)?r:n)}function XM(e){var n;const t=rr.version;return typeof rr.version!="string"||t.startsWith("18.")?e==null?void 0:e.ref:(n=e==null?void 0:e.props)==null?void 0:n.ref}function ame(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=ame(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function yo(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=ame(e))&&(r&&(r+=" "),r+=t);return r}const pOe={};function mOe(e){const t={};return e.forEach(n=>{Object.entries(n).forEach(([r,i])=>{t[r]?t[r]=yo(t[r],i):t[r]=i})}),t}function QM({theme:e,classNames:t,props:n,stylesCtx:r}){const o=(Array.isArray(t)?t:[t]).map(s=>typeof s=="function"?s(e,n,r):s||pOe);return mOe(o)}function uD({theme:e,styles:t,props:n,stylesCtx:r}){return(Array.isArray(t)?t:[t]).reduce((o,s)=>typeof s=="function"?{...o,...s(e,n,r)}:{...o,...s},{})}const iU=H.createContext(null);function qp(){const e=H.useContext(iU);if(!e)throw new Error("[@mantine/core] MantineProvider was not found in tree");return e}function gOe(){return qp().cssVariablesResolver}function yOe(){return qp().classNamesPrefix}function JM(){return qp().getStyleNonce}function vOe(){return qp().withStaticClasses}function bOe(){return qp().headless}function wOe(){var e;return(e=qp().stylesTransform)==null?void 0:e.sx}function xOe(){var e;return(e=qp().stylesTransform)==null?void 0:e.styles}function lme(){return qp().env||"default"}function _Oe(e){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(e)}function EOe(e){let t=e.replace("#","");if(t.length===3){const s=t.split("");t=[s[0],s[0],s[1],s[1],s[2],s[2]].join("")}if(t.length===8){const s=parseInt(t.slice(6,8),16)/255;return{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:s}}const n=parseInt(t,16),r=n>>16&255,i=n>>8&255,o=n&255;return{r,g:i,b:o,a:1}}function SOe(e){const[t,n,r,i]=e.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:t,g:n,b:r,a:i||1}}function TOe(e){const t=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,n=e.match(t);if(!n)return{r:0,g:0,b:0,a:1};const r=parseInt(n[1],10),i=parseInt(n[2],10)/100,o=parseInt(n[3],10)/100,s=n[5]?parseFloat(n[5]):void 0,a=(1-Math.abs(2*o-1))*i,l=r/60,u=a*(1-Math.abs(l%2-1)),c=o-a/2;let d,f,h;return l>=0&&l<1?(d=a,f=u,h=0):l>=1&&l<2?(d=u,f=a,h=0):l>=2&&l<3?(d=0,f=a,h=u):l>=3&&l<4?(d=0,f=u,h=a):l>=4&&l<5?(d=u,f=0,h=a):(d=a,f=0,h=u),{r:Math.round((d+c)*255),g:Math.round((f+c)*255),b:Math.round((h+c)*255),a:s||1}}function oU(e){return _Oe(e)?EOe(e):e.startsWith("rgb")?SOe(e):e.startsWith("hsl")?TOe(e):{r:0,g:0,b:0,a:1}}function fk(e,t){if(e.startsWith("var("))return`color-mix(in srgb, ${e}, black ${t*100}%)`;const{r:n,g:r,b:i,a:o}=oU(e),s=1-t,a=l=>Math.round(l*s);return`rgba(${a(n)}, ${a(r)}, ${a(i)}, ${o})`}function cT(e,t){return typeof e.primaryShade=="number"?e.primaryShade:t==="dark"?e.primaryShade.dark:e.primaryShade.light}function yF(e){return e<=.03928?e/12.92:((e+.055)/1.055)**2.4}function COe(e){const t=e.match(/oklch\((.*?)%\s/);return t?parseFloat(t[1]):null}function AOe(e){if(e.startsWith("oklch("))return(COe(e)||0)/100;const{r:t,g:n,b:r}=oU(e),i=t/255,o=n/255,s=r/255,a=yF(i),l=yF(o),u=yF(s);return .2126*a+.7152*l+.0722*u}function G_(e,t=.179){return e.startsWith("var(")?!1:AOe(e)>t}function nh({color:e,theme:t,colorScheme:n}){if(typeof e!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof e}`);if(e==="bright")return{color:e,value:n==="dark"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:G_(n==="dark"?t.white:t.black,t.luminanceThreshold),variable:"--mantine-color-bright"};if(e==="dimmed")return{color:e,value:n==="dark"?t.colors.dark[2]:t.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:G_(n==="dark"?t.colors.dark[2]:t.colors.gray[6],t.luminanceThreshold),variable:"--mantine-color-dimmed"};if(e==="white"||e==="black")return{color:e,value:e==="white"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:G_(e==="white"?t.white:t.black,t.luminanceThreshold),variable:`--mantine-color-${e}`};const[r,i]=e.split("."),o=i?Number(i):void 0,s=r in t.colors;if(s){const a=o!==void 0?t.colors[r][o]:t.colors[r][cT(t,n||"light")];return{color:r,value:a,shade:o,isThemeColor:s,isLight:G_(a,t.luminanceThreshold),variable:i?`--mantine-color-${r}-${o}`:`--mantine-color-${r}-filled`}}return{color:e,value:e,isThemeColor:s,isLight:G_(e,t.luminanceThreshold),shade:o,variable:void 0}}function ni(e,t){const n=nh({color:e||t.primaryColor,theme:t});return n.variable?`var(${n.variable})`:e}function D8(e,t){const n={from:(e==null?void 0:e.from)||t.defaultGradient.from,to:(e==null?void 0:e.to)||t.defaultGradient.to,deg:(e==null?void 0:e.deg)??t.defaultGradient.deg??0},r=ni(n.from,t),i=ni(n.to,t);return`linear-gradient(${n.deg}deg, ${r} 0%, ${i} 100%)`}function af(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";if(e.startsWith("var(")){const o=(1-t)*100;return`color-mix(in srgb, ${e}, transparent ${o}%)`}if(e.startsWith("oklch"))return e.includes("/")?e.replace(/\/\s*[\d.]+\s*\)/,`/ ${t})`):e.replace(")",` / ${t})`);const{r:n,g:r,b:i}=oU(e);return`rgba(${n}, ${r}, ${i}, ${t})`}const Gb=af,kOe=({color:e,theme:t,variant:n,gradient:r,autoContrast:i})=>{const o=nh({color:e,theme:t}),s=typeof i=="boolean"?i:t.autoContrast;if(n==="filled"){const a=s&&o.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return o.isThemeColor?o.shade===void 0?{background:`var(--mantine-color-${e}-filled)`,hover:`var(--mantine-color-${e}-filled-hover)`,color:a,border:`${je(1)} solid transparent`}:{background:`var(--mantine-color-${o.color}-${o.shade})`,hover:`var(--mantine-color-${o.color}-${o.shade===9?8:o.shade+1})`,color:a,border:`${je(1)} solid transparent`}:{background:e,hover:fk(e,.1),color:a,border:`${je(1)} solid transparent`}}if(n==="light"){if(o.isThemeColor){if(o.shade===void 0)return{background:`var(--mantine-color-${e}-light)`,hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${je(1)} solid transparent`};const a=t.colors[o.color][o.shade];return{background:af(a,.1),hover:af(a,.12),color:`var(--mantine-color-${o.color}-${Math.min(o.shade,6)})`,border:`${je(1)} solid transparent`}}return{background:af(e,.1),hover:af(e,.12),color:e,border:`${je(1)} solid transparent`}}if(n==="outline")return o.isThemeColor?o.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${e}-outline-hover)`,color:`var(--mantine-color-${e}-outline)`,border:`${je(1)} solid var(--mantine-color-${e}-outline)`}:{background:"transparent",hover:af(t.colors[o.color][o.shade],.05),color:`var(--mantine-color-${o.color}-${o.shade})`,border:`${je(1)} solid var(--mantine-color-${o.color}-${o.shade})`}:{background:"transparent",hover:af(e,.05),color:e,border:`${je(1)} solid ${e}`};if(n==="subtle"){if(o.isThemeColor){if(o.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${je(1)} solid transparent`};const a=t.colors[o.color][o.shade];return{background:"transparent",hover:af(a,.12),color:`var(--mantine-color-${o.color}-${Math.min(o.shade,6)})`,border:`${je(1)} solid transparent`}}return{background:"transparent",hover:af(e,.12),color:e,border:`${je(1)} solid transparent`}}return n==="transparent"?o.isThemeColor?o.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${e}-light-color)`,border:`${je(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${o.color}-${Math.min(o.shade,6)})`,border:`${je(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:e,border:`${je(1)} solid transparent`}:n==="white"?o.isThemeColor?o.shade===void 0?{background:"var(--mantine-color-white)",hover:fk(t.white,.01),color:`var(--mantine-color-${e}-filled)`,border:`${je(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:fk(t.white,.01),color:`var(--mantine-color-${o.color}-${o.shade})`,border:`${je(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:fk(t.white,.01),color:e,border:`${je(1)} solid transparent`}:n==="gradient"?{background:D8(r,t),hover:D8(r,t),color:"var(--mantine-color-white)",border:"none"}:n==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${je(1)} solid var(--mantine-color-default-border)`}:{}},IOe={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},Eee="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",sU={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:IOe,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:kOe,autoContrast:!1,luminanceThreshold:.3,fontFamily:Eee,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:Eee,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:je(34),lineHeight:"1.3"},h2:{fontSize:je(26),lineHeight:"1.35"},h3:{fontSize:je(22),lineHeight:"1.4"},h4:{fontSize:je(18),lineHeight:"1.45"},h5:{fontSize:je(16),lineHeight:"1.5"},h6:{fontSize:je(14),lineHeight:"1.5"}}},fontSizes:{xs:je(12),sm:je(14),md:je(16),lg:je(18),xl:je(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:je(2),sm:je(4),md:je(8),lg:je(16),xl:je(32)},spacing:{xs:je(10),sm:je(12),md:je(16),lg:je(20),xl:je(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${je(1)} ${je(3)} rgba(0, 0, 0, 0.05), 0 ${je(1)} ${je(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${je(1)} ${je(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${je(10)} ${je(15)} ${je(-5)}, rgba(0, 0, 0, 0.04) 0 ${je(7)} ${je(7)} ${je(-5)}`,md:`0 ${je(1)} ${je(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${je(20)} ${je(25)} ${je(-5)}, rgba(0, 0, 0, 0.04) 0 ${je(10)} ${je(10)} ${je(-5)}`,lg:`0 ${je(1)} ${je(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${je(28)} ${je(23)} ${je(-7)}, rgba(0, 0, 0, 0.04) 0 ${je(12)} ${je(12)} ${je(-7)}`,xl:`0 ${je(1)} ${je(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${je(36)} ${je(28)} ${je(-7)}, rgba(0, 0, 0, 0.04) 0 ${je(17)} ${je(17)} ${je(-7)}`},other:{},components:{}};function See(e){return e==="auto"||e==="dark"||e==="light"}function ROe({key:e="mantine-color-scheme-value"}={}){let t;return{get:n=>{if(typeof window>"u")return n;try{const r=window.localStorage.getItem(e);return See(r)?r:n}catch{return n}},set:n=>{try{window.localStorage.setItem(e,n)}catch(r){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",r)}},subscribe:n=>{t=r=>{r.storageArea===window.localStorage&&r.key===e&&See(r.newValue)&&n(r.newValue)},window.addEventListener("storage",t)},unsubscribe:()=>{window.removeEventListener("storage",t)},clear:()=>{window.localStorage.removeItem(e)}}}const DOe="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color",Tee="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function vF(e){return e<0||e>9?!1:parseInt(e.toString(),10)===e}function Cee(e){if(!(e.primaryColor in e.colors))throw new Error(DOe);if(typeof e.primaryShade=="object"&&(!vF(e.primaryShade.dark)||!vF(e.primaryShade.light)))throw new Error(Tee);if(typeof e.primaryShade=="number"&&!vF(e.primaryShade))throw new Error(Tee)}function $Oe(e,t){var r;if(!t)return Cee(e),e;const n=Zz(e,t);return t.fontFamily&&!((r=t.headings)!=null&&r.fontFamily)&&(n.headings.fontFamily=t.fontFamily),Cee(n),n}const aU=H.createContext(null),MOe=()=>H.useContext(aU)||sU;function Io(){const e=H.useContext(aU);if(!e)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return e}function ume({theme:e,children:t,inherit:n=!0}){const r=MOe(),i=H.useMemo(()=>$Oe(n?r:sU,e),[e,r,n]);return $.jsx(aU.Provider,{value:i,children:t})}ume.displayName="@mantine/core/MantineThemeProvider";function POe(){const e=Io(),t=JM(),n=ti(e.breakpoints).reduce((r,i)=>{const o=e.breakpoints[i].includes("px"),s=lT(e.breakpoints[i]),a=o?`${s-.1}px`:iD(s-.1),l=o?`${s}px`:iD(s);return`${r}@media (max-width: ${a}) {.mantine-visible-from-${i} {display: none !important;}}@media (min-width: ${l}) {.mantine-hidden-from-${i} {display: none !important;}}`},"");return $.jsx("style",{"data-mantine-styles":"classes",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:n}})}function bF(e){return Object.entries(e).map(([t,n])=>`${t}: ${n};`).join("")}function Y_(e,t){return(Array.isArray(e)?e:[e]).reduce((r,i)=>`${i}{${r}}`,t)}function NOe(e,t){const n=bF(e.variables),r=n?Y_(t,n):"",i=bF(e.dark),o=bF(e.light),s=i?Y_(t===":host"?`${t}([data-mantine-color-scheme="dark"])`:`${t}[data-mantine-color-scheme="dark"]`,i):"",a=o?Y_(t===":host"?`${t}([data-mantine-color-scheme="light"])`:`${t}[data-mantine-color-scheme="light"]`,o):"";return`${r}${s}${a}`}function Mv({color:e,theme:t,autoContrast:n}){return(typeof n=="boolean"?n:t.autoContrast)&&nh({color:e||t.primaryColor,theme:t}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function Aee(e,t){return Mv({color:e.colors[e.primaryColor][cT(e,t)],theme:e,autoContrast:null})}function hk({theme:e,color:t,colorScheme:n,name:r=t,withColorValues:i=!0}){if(!e.colors[t])return{};if(n==="light"){const a=cT(e,"light"),l={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-filled)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${a===9?8:a+1})`,[`--mantine-color-${r}-light`]:Gb(e.colors[t][a],.1),[`--mantine-color-${r}-light-hover`]:Gb(e.colors[t][a],.12),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-outline-hover`]:Gb(e.colors[t][a],.05)};return i?{[`--mantine-color-${r}-0`]:e.colors[t][0],[`--mantine-color-${r}-1`]:e.colors[t][1],[`--mantine-color-${r}-2`]:e.colors[t][2],[`--mantine-color-${r}-3`]:e.colors[t][3],[`--mantine-color-${r}-4`]:e.colors[t][4],[`--mantine-color-${r}-5`]:e.colors[t][5],[`--mantine-color-${r}-6`]:e.colors[t][6],[`--mantine-color-${r}-7`]:e.colors[t][7],[`--mantine-color-${r}-8`]:e.colors[t][8],[`--mantine-color-${r}-9`]:e.colors[t][9],...l}:l}const o=cT(e,"dark"),s={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-4)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${o})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${o===9?8:o+1})`,[`--mantine-color-${r}-light`]:Gb(e.colors[t][Math.max(0,o-2)],.15),[`--mantine-color-${r}-light-hover`]:Gb(e.colors[t][Math.max(0,o-2)],.2),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${Math.max(o-5,0)})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${Math.max(o-4,0)})`,[`--mantine-color-${r}-outline-hover`]:Gb(e.colors[t][Math.max(o-4,0)],.05)};return i?{[`--mantine-color-${r}-0`]:e.colors[t][0],[`--mantine-color-${r}-1`]:e.colors[t][1],[`--mantine-color-${r}-2`]:e.colors[t][2],[`--mantine-color-${r}-3`]:e.colors[t][3],[`--mantine-color-${r}-4`]:e.colors[t][4],[`--mantine-color-${r}-5`]:e.colors[t][5],[`--mantine-color-${r}-6`]:e.colors[t][6],[`--mantine-color-${r}-7`]:e.colors[t][7],[`--mantine-color-${r}-8`]:e.colors[t][8],[`--mantine-color-${r}-9`]:e.colors[t][9],...s}:s}function OOe(e){return!!e&&typeof e=="object"&&"mantine-virtual-color"in e}function Yb(e,t,n){ti(t).forEach(r=>Object.assign(e,{[`--mantine-${n}-${r}`]:t[r]}))}const cme=e=>{const t=cT(e,"light"),n=e.defaultRadius in e.radius?e.radius[e.defaultRadius]:je(e.defaultRadius),r={variables:{"--mantine-scale":e.scale.toString(),"--mantine-cursor-type":e.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":e.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":e.fontSmoothing?"grayscale":"unset","--mantine-color-white":e.white,"--mantine-color-black":e.black,"--mantine-line-height":e.lineHeights.md,"--mantine-font-family":e.fontFamily,"--mantine-font-family-monospace":e.fontFamilyMonospace,"--mantine-font-family-headings":e.headings.fontFamily,"--mantine-heading-font-weight":e.headings.fontWeight,"--mantine-heading-text-wrap":e.headings.textWrap,"--mantine-radius-default":n,"--mantine-primary-color-filled":`var(--mantine-color-${e.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${e.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${e.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${e.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${e.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":Aee(e,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":e.black,"--mantine-color-body":e.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-${t})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":Aee(e,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};Yb(r.variables,e.breakpoints,"breakpoint"),Yb(r.variables,e.spacing,"spacing"),Yb(r.variables,e.fontSizes,"font-size"),Yb(r.variables,e.lineHeights,"line-height"),Yb(r.variables,e.shadows,"shadow"),Yb(r.variables,e.radius,"radius"),e.colors[e.primaryColor].forEach((o,s)=>{r.variables[`--mantine-primary-color-${s}`]=`var(--mantine-color-${e.primaryColor}-${s})`}),ti(e.colors).forEach(o=>{const s=e.colors[o];if(OOe(s)){Object.assign(r.light,hk({theme:e,name:s.name,color:s.light,colorScheme:"light",withColorValues:!0})),Object.assign(r.dark,hk({theme:e,name:s.name,color:s.dark,colorScheme:"dark",withColorValues:!0}));return}s.forEach((a,l)=>{r.variables[`--mantine-color-${o}-${l}`]=a}),Object.assign(r.light,hk({theme:e,color:o,colorScheme:"light",withColorValues:!1})),Object.assign(r.dark,hk({theme:e,color:o,colorScheme:"dark",withColorValues:!1}))});const i=e.headings.sizes;return ti(i).forEach(o=>{r.variables[`--mantine-${o}-font-size`]=i[o].fontSize,r.variables[`--mantine-${o}-line-height`]=i[o].lineHeight,r.variables[`--mantine-${o}-font-weight`]=i[o].fontWeight||e.headings.fontWeight}),r};function LOe({theme:e,generator:t}){const n=cme(e),r=t==null?void 0:t(e);return r?Zz(n,r):n}const wF=cme(sU);function FOe(e){const t={variables:{},light:{},dark:{}};return ti(e.variables).forEach(n=>{wF.variables[n]!==e.variables[n]&&(t.variables[n]=e.variables[n])}),ti(e.light).forEach(n=>{wF.light[n]!==e.light[n]&&(t.light[n]=e.light[n])}),ti(e.dark).forEach(n=>{wF.dark[n]!==e.dark[n]&&(t.dark[n]=e.dark[n])}),t}function BOe(e){return`
  ${e}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${e}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function dme({cssVariablesSelector:e,deduplicateCssVariables:t}){const n=Io(),r=JM(),i=gOe(),o=LOe({theme:n,generator:i}),s=e===":root"&&t,a=s?FOe(o):o,l=NOe(a,e);return l?$.jsx("style",{"data-mantine-styles":!0,nonce:r==null?void 0:r(),dangerouslySetInnerHTML:{__html:`${l}${s?"":BOe(e)}`}}):null}dme.displayName="@mantine/CssVariables";function jOe(){const e=console.error;console.error=(...t)=>{t.length>1&&typeof t[0]=="string"&&t[0].toLowerCase().includes("extra attributes from the server")&&typeof t[1]=="string"&&t[1].toLowerCase().includes("data-mantine-color-scheme")||e(...t)}}function Kb(e,t){var i,o;const n=typeof window<"u"&&"matchMedia"in window&&((i=window.matchMedia("(prefers-color-scheme: dark)"))==null?void 0:i.matches),r=e!=="auto"?e:n?"dark":"light";(o=t())==null||o.setAttribute("data-mantine-color-scheme",r)}function zOe({manager:e,defaultColorScheme:t,getRootElement:n,forceColorScheme:r}){const i=H.useRef(null),[o,s]=H.useState(()=>e.get(t)),a=r||o,l=H.useCallback(c=>{r||(Kb(c,n),s(c),e.set(c))},[e.set,a,r]),u=H.useCallback(()=>{s(t),Kb(t,n),e.clear()},[e.clear,t]);return H.useEffect(()=>(e.subscribe(l),e.unsubscribe),[e.subscribe,e.unsubscribe]),$v(()=>{Kb(e.get(t),n)},[]),H.useEffect(()=>{var d;if(r)return Kb(r,n),()=>{};r===void 0&&Kb(o,n),typeof window<"u"&&"matchMedia"in window&&(i.current=window.matchMedia("(prefers-color-scheme: dark)"));const c=f=>{o==="auto"&&Kb(f.matches?"dark":"light",n)};return(d=i.current)==null||d.addEventListener("change",c),()=>{var f;return(f=i.current)==null?void 0:f.removeEventListener("change",c)}},[o,r]),{colorScheme:a,setColorScheme:l,clearColorScheme:u}}function UOe({respectReducedMotion:e,getRootElement:t}){$v(()=>{var n;e&&((n=t())==null||n.setAttribute("data-respect-reduced-motion","true"))},[e])}jOe();function fme({theme:e,children:t,getStyleNonce:n,withStaticClasses:r=!0,withGlobalClasses:i=!0,deduplicateCssVariables:o=!0,withCssVariables:s=!0,cssVariablesSelector:a=":root",classNamesPrefix:l="mantine",colorSchemeManager:u=ROe(),defaultColorScheme:c="light",getRootElement:d=()=>document.documentElement,cssVariablesResolver:f,forceColorScheme:h,stylesTransform:p,env:m}){const{colorScheme:g,setColorScheme:y,clearColorScheme:v}=zOe({defaultColorScheme:c,forceColorScheme:h,manager:u,getRootElement:d});return UOe({respectReducedMotion:(e==null?void 0:e.respectReducedMotion)||!1,getRootElement:d}),$.jsx(iU.Provider,{value:{colorScheme:g,setColorScheme:y,clearColorScheme:v,getRootElement:d,classNamesPrefix:l,getStyleNonce:n,cssVariablesResolver:f,cssVariablesSelector:a,withStaticClasses:r,stylesTransform:p,env:m},children:$.jsxs(ume,{theme:e,children:[s&&$.jsx(dme,{cssVariablesSelector:a,deduplicateCssVariables:o}),i&&$.jsx(POe,{}),t]})})}fme.displayName="@mantine/core/MantineProvider";function Pv({classNames:e,styles:t,props:n,stylesCtx:r}){const i=Io();return{resolvedClassNames:QM({theme:i,classNames:e,props:n,stylesCtx:r||void 0}),resolvedStyles:uD({theme:i,styles:t,props:n,stylesCtx:r||void 0})}}const HOe={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function VOe({theme:e,options:t,unstyled:n}){return yo((t==null?void 0:t.focusable)&&!n&&(e.focusClassName||HOe[e.focusRing]),(t==null?void 0:t.active)&&!n&&e.activeClassName)}function WOe({selector:e,stylesCtx:t,options:n,props:r,theme:i}){return QM({theme:i,classNames:n==null?void 0:n.classNames,props:(n==null?void 0:n.props)||r,stylesCtx:t})[e]}function kee({selector:e,stylesCtx:t,theme:n,classNames:r,props:i}){return QM({theme:n,classNames:r,props:i,stylesCtx:t})[e]}function qOe({rootSelector:e,selector:t,className:n}){return e===t?n:void 0}function GOe({selector:e,classes:t,unstyled:n}){return n?void 0:t[e]}function YOe({themeName:e,classNamesPrefix:t,selector:n,withStaticClass:r}){return r===!1?[]:e.map(i=>`${t}-${i}-${n}`)}function KOe({themeName:e,theme:t,selector:n,props:r,stylesCtx:i}){return e.map(o=>{var s,a;return(a=QM({theme:t,classNames:(s=t.components[o])==null?void 0:s.classNames,props:r,stylesCtx:i}))==null?void 0:a[n]})}function XOe({options:e,classes:t,selector:n,unstyled:r}){return e!=null&&e.variant&&!r?t[`${n}--${e.variant}`]:void 0}function QOe({theme:e,options:t,themeName:n,selector:r,classNamesPrefix:i,classNames:o,classes:s,unstyled:a,className:l,rootSelector:u,props:c,stylesCtx:d,withStaticClasses:f,headless:h,transformedStyles:p}){return yo(VOe({theme:e,options:t,unstyled:a||h}),KOe({theme:e,themeName:n,selector:r,props:c,stylesCtx:d}),XOe({options:t,classes:s,selector:r,unstyled:a}),kee({selector:r,stylesCtx:d,theme:e,classNames:o,props:c}),kee({selector:r,stylesCtx:d,theme:e,classNames:p,props:c}),WOe({selector:r,stylesCtx:d,options:t,props:c,theme:e}),qOe({rootSelector:u,selector:r,className:l}),GOe({selector:r,classes:s,unstyled:a||h}),f&&!h&&YOe({themeName:n,classNamesPrefix:i,selector:r,withStaticClass:t==null?void 0:t.withStaticClass}),t==null?void 0:t.className)}function JOe({theme:e,themeName:t,props:n,stylesCtx:r,selector:i}){return t.map(o=>{var s;return uD({theme:e,styles:(s=e.components[o])==null?void 0:s.styles,props:n,stylesCtx:r})[i]}).reduce((o,s)=>({...o,...s}),{})}function $8({style:e,theme:t}){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...$8({style:r,theme:t})}),{}):typeof e=="function"?e(t):e??{}}function ZOe(e){return e.reduce((t,n)=>(n&&Object.keys(n).forEach(r=>{t[r]={...t[r],...Zg(n[r])}}),t),{})}function eLe({vars:e,varsResolver:t,theme:n,props:r,stylesCtx:i,selector:o,themeName:s,headless:a}){var l;return(l=ZOe([a?{}:t==null?void 0:t(n,r,i),...s.map(u=>{var c,d,f;return(f=(d=(c=n.components)==null?void 0:c[u])==null?void 0:d.vars)==null?void 0:f.call(d,n,r,i)}),e==null?void 0:e(n,r,i)]))==null?void 0:l[o]}function tLe({theme:e,themeName:t,selector:n,options:r,props:i,stylesCtx:o,rootSelector:s,styles:a,style:l,vars:u,varsResolver:c,headless:d,withStylesTransform:f}){return{...!f&&JOe({theme:e,themeName:t,props:i,stylesCtx:o,selector:n}),...!f&&uD({theme:e,styles:a,props:i,stylesCtx:o})[n],...!f&&uD({theme:e,styles:r==null?void 0:r.styles,props:(r==null?void 0:r.props)||i,stylesCtx:o})[n],...eLe({theme:e,props:i,stylesCtx:o,vars:u,varsResolver:c,selector:n,themeName:t,headless:d}),...s===n?$8({style:l,theme:e}):null,...$8({style:r==null?void 0:r.style,theme:e})}}function nLe({props:e,stylesCtx:t,themeName:n}){var s;const r=Io(),i=(s=xOe())==null?void 0:s();return{getTransformedStyles:a=>i?[...a.map(u=>i(u,{props:e,theme:r,ctx:t})),...n.map(u=>{var c;return i((c=r.components[u])==null?void 0:c.styles,{props:e,theme:r,ctx:t})})].filter(Boolean):[],withStylesTransform:!!i}}function Gt({name:e,classes:t,props:n,stylesCtx:r,className:i,style:o,rootSelector:s="root",unstyled:a,classNames:l,styles:u,vars:c,varsResolver:d}){const f=Io(),h=yOe(),p=vOe(),m=bOe(),g=(Array.isArray(e)?e:[e]).filter(w=>w),{withStylesTransform:y,getTransformedStyles:v}=nLe({props:n,stylesCtx:r,themeName:g});return(w,E)=>({className:QOe({theme:f,options:E,themeName:g,selector:w,classNamesPrefix:h,classNames:l,classes:t,unstyled:a,className:i,rootSelector:s,props:n,stylesCtx:r,withStaticClasses:p,headless:m,transformedStyles:v([E==null?void 0:E.styles,u])}),style:tLe({theme:f,themeName:g,selector:w,options:E,props:n,stylesCtx:r,rootSelector:s,styles:u,style:o,vars:c,varsResolver:d,headless:m,withStylesTransform:y})})}function cx(e,t){return typeof e=="boolean"?e:t.autoContrast}function Iee(e){const t=document.createElement("style");return t.setAttribute("data-mantine-styles","inline"),t.innerHTML="*, *::before, *::after {transition: none !important;}",t.setAttribute("data-mantine-disable-transition","true"),e&&t.setAttribute("nonce",e),document.head.appendChild(t),()=>document.querySelectorAll("[data-mantine-disable-transition]").forEach(r=>r.remove())}function hme({keepTransitions:e}={}){const t=H.useRef(aD),n=H.useRef(-1),r=H.useContext(iU),i=JM(),o=H.useRef(i==null?void 0:i());if(!r)throw new Error("[@mantine/core] MantineProvider was not found in tree");const s=d=>{r.setColorScheme(d),t.current=e?()=>{}:Iee(o.current),window.clearTimeout(n.current),n.current=window.setTimeout(()=>{var f;(f=t.current)==null||f.call(t)},10)},a=()=>{r.clearColorScheme(),t.current=e?()=>{}:Iee(o.current),window.clearTimeout(n.current),n.current=window.setTimeout(()=>{var d;(d=t.current)==null||d.call(t)},10)},l=GNe("light",{getInitialValueInEffect:!1}),u=r.colorScheme==="auto"?l:r.colorScheme,c=H.useCallback(()=>s(u==="light"?"dark":"light"),[s,u]);return H.useEffect(()=>()=>{var d;(d=t.current)==null||d.call(t),window.clearTimeout(n.current)},[]),{colorScheme:r.colorScheme,setColorScheme:s,clearColorScheme:a,toggleColorScheme:c}}function ze(e,t,n){var s;const r=Io(),i=(s=r.components[e])==null?void 0:s.defaultProps,o=typeof i=="function"?i(r):i;return{...t,...o,...Zg(n)}}function xF(e){return ti(e).reduce((t,n)=>e[n]!==void 0?`${t}${PNe(n)}:${e[n]};`:t,"").trim()}function rLe({selector:e,styles:t,media:n,container:r}){const i=t?xF(t):"",o=Array.isArray(n)?n.map(a=>`@media${a.query}{${e}{${xF(a.styles)}}}`):[],s=Array.isArray(r)?r.map(a=>`@container ${a.query}{${e}{${xF(a.styles)}}}`):[];return`${i?`${e}{${i}}`:""}${o.join("")}${s.join("")}`.trim()}function Nv(e){const t=JM();return $.jsx("style",{"data-mantine-styles":"inline",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:rLe(e)}})}function Ov(e){const{m:t,mx:n,my:r,mt:i,mb:o,ml:s,mr:a,me:l,ms:u,p:c,px:d,py:f,pt:h,pb:p,pl:m,pr:g,pe:y,ps:v,bd:w,bg:E,c:_,opacity:x,ff:S,fz:C,fw:A,lts:k,ta:N,lh:M,fs:I,tt:D,td:R,w:O,miw:B,maw:z,h:W,mih:U,mah:F,bgsz:Y,bgp:V,bgr:G,bga:X,pos:Z,top:oe,left:ne,bottom:ie,right:fe,inset:se,display:ae,flex:Se,hiddenFrom:Te,visibleFrom:Oe,lightHidden:We,darkHidden:Fe,sx:Ue,...rt}=e;return{styleProps:Zg({m:t,mx:n,my:r,mt:i,mb:o,ml:s,mr:a,me:l,ms:u,p:c,px:d,py:f,pt:h,pb:p,pl:m,pr:g,pe:y,ps:v,bd:w,bg:E,c:_,opacity:x,ff:S,fz:C,fw:A,lts:k,ta:N,lh:M,fs:I,tt:D,td:R,w:O,miw:B,maw:z,h:W,mih:U,mah:F,bgsz:Y,bgp:V,bgr:G,bga:X,pos:Z,top:oe,left:ne,bottom:ie,right:fe,inset:se,display:ae,flex:Se,hiddenFrom:Te,visibleFrom:Oe,lightHidden:We,darkHidden:Fe,sx:Ue}),rest:rt}}const iLe={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"size",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function lU(e,t){const n=nh({color:e,theme:t});return n.color==="dimmed"?"var(--mantine-color-dimmed)":n.color==="bright"?"var(--mantine-color-bright)":n.variable?`var(${n.variable})`:n.color}function oLe(e,t){const n=nh({color:e,theme:t});return n.isThemeColor&&n.shade===void 0?`var(--mantine-color-${n.color}-text)`:lU(e,t)}function sLe(e,t){if(typeof e=="number")return je(e);if(typeof e=="string"){const[n,r,...i]=e.split(" ").filter(s=>s.trim()!=="");let o=`${je(n)}`;return r&&(o+=` ${r}`),i.length>0&&(o+=` ${lU(i.join(" "),t)}`),o.trim()}return e}const Ree={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function aLe(e){return typeof e=="string"&&e in Ree?Ree[e]:e}const lLe=["h1","h2","h3","h4","h5","h6"];function uLe(e,t){return typeof e=="string"&&e in t.fontSizes?`var(--mantine-font-size-${e})`:typeof e=="string"&&lLe.includes(e)?`var(--mantine-${e}-font-size)`:typeof e=="number"||typeof e=="string"?je(e):e}function cLe(e){return e}const dLe=["h1","h2","h3","h4","h5","h6"];function fLe(e,t){return typeof e=="string"&&e in t.lineHeights?`var(--mantine-line-height-${e})`:typeof e=="string"&&dLe.includes(e)?`var(--mantine-${e}-line-height)`:e}function hLe(e){return typeof e=="number"?je(e):e}function pLe(e,t){if(typeof e=="number")return je(e);if(typeof e=="string"){const n=e.replace("-","");if(!(n in t.spacing))return je(e);const r=`--mantine-spacing-${n}`;return e.startsWith("-")?`calc(var(${r}) * -1)`:`var(${r})`}return e}const _F={color:lU,textColor:oLe,fontSize:uLe,spacing:pLe,identity:cLe,size:hLe,lineHeight:fLe,fontFamily:aLe,border:sLe};function Dee(e){return e.replace("(min-width: ","").replace("em)","")}function mLe({media:e,...t}){const r=Object.keys(e).sort((i,o)=>Number(Dee(i))-Number(Dee(o))).map(i=>({query:i,styles:e[i]}));return{...t,media:r}}function gLe(e){if(typeof e!="object"||e===null)return!1;const t=Object.keys(e);return!(t.length===1&&t[0]==="base")}function yLe(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function vLe(e){return typeof e=="object"&&e!==null?ti(e).filter(t=>t!=="base"):[]}function bLe(e,t){return typeof e=="object"&&e!==null&&t in e?e[t]:e}function pme({styleProps:e,data:t,theme:n}){return mLe(ti(e).reduce((r,i)=>{if(i==="hiddenFrom"||i==="visibleFrom"||i==="sx")return r;const o=t[i],s=Array.isArray(o.property)?o.property:[o.property],a=yLe(e[i]);if(!gLe(e[i]))return s.forEach(u=>{r.inlineStyles[u]=_F[o.type](a,n)}),r;r.hasResponsiveStyles=!0;const l=vLe(e[i]);return s.forEach(u=>{a&&(r.styles[u]=_F[o.type](a,n)),l.forEach(c=>{const d=`(min-width: ${n.breakpoints[c]})`;r.media[d]={...r.media[d],[u]:_F[o.type](bLe(e[i],c),n)}})}),r},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function AC(){return`__m__-${H.useId().replace(/:/g,"")}`}function uU(e,t){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...uU(r,t)}),{}):typeof e=="function"?e(t):e??{}}function mme(e){return e.startsWith("data-")?e:`data-${e}`}function wLe(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return r===void 0||r===""||r===!1||r===null||(t[mme(n)]=e[n]),t},{})}function gme(e){return e?typeof e=="string"?{[mme(e)]:!0}:Array.isArray(e)?[...e].reduce((t,n)=>({...t,...gme(n)}),{}):wLe(e):null}function M8(e,t){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...M8(r,t)}),{}):typeof e=="function"?e(t):e??{}}function xLe({theme:e,style:t,vars:n,styleProps:r}){const i=M8(t,e),o=M8(n,e);return{...i,...o,...r}}const yme=H.forwardRef(({component:e,style:t,__vars:n,className:r,variant:i,mod:o,size:s,hiddenFrom:a,visibleFrom:l,lightHidden:u,darkHidden:c,renderRoot:d,__size:f,...h},p)=>{var C;const m=Io(),g=e||"div",{styleProps:y,rest:v}=Ov(h),w=wOe(),E=(C=w==null?void 0:w())==null?void 0:C(y.sx),_=AC(),x=pme({styleProps:y,theme:m,data:iLe}),S={ref:p,style:xLe({theme:m,style:t,vars:n,styleProps:x.inlineStyles}),className:yo(r,E,{[_]:x.hasResponsiveStyles,"mantine-light-hidden":u,"mantine-dark-hidden":c,[`mantine-hidden-from-${a}`]:a,[`mantine-visible-from-${l}`]:l}),"data-variant":i,"data-size":Jpe(s)?void 0:s||void 0,size:f,...gme(o),...v};return $.jsxs($.Fragment,{children:[x.hasResponsiveStyles&&$.jsx(Nv,{selector:`.${_}`,styles:x.styles,media:x.media}),typeof d=="function"?d(S):$.jsx(g,{...S})]})});yme.displayName="@mantine/core/Box";const De=yme;function vme(e){return e}function bme(e){const t=e;return n=>{const r=H.forwardRef((i,o)=>$.jsx(t,{...n,...i,ref:o}));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r}}function ht(e){const t=H.forwardRef(e);return t.extend=vme,t.withProps=n=>{const r=H.forwardRef((i,o)=>$.jsx(t,{...n,...i,ref:o}));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r},t}function Ro(e){const t=H.forwardRef(e);return t.withProps=n=>{const r=H.forwardRef((i,o)=>$.jsx(t,{...n,...i,ref:o}));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r},t.extend=vme,t}const _Le=H.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function t0(){return H.useContext(_Le)}var ZM=Vpe();const UE=ul(ZM);function ELe(e){if(!e||typeof e=="string")return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function EF(e){return e!=null&&e.current?e.current.scrollHeight:"auto"}const K_=typeof window<"u"&&window.requestAnimationFrame;function SLe({transitionDuration:e,transitionTimingFunction:t="ease",onTransitionEnd:n=()=>{},opened:r}){const i=H.useRef(null),o=0,s={display:"none",height:0,overflow:"hidden"},[a,l]=H.useState(r?{}:s),u=p=>{ZM.flushSync(()=>l(p))},c=p=>{u(m=>({...m,...p}))};function d(p){const m=e||ELe(p);return{transition:`height ${m}ms ${t}, opacity ${m}ms ${t}`}}zf(()=>{typeof K_=="function"&&K_(r?()=>{c({willChange:"height",display:"block",overflow:"hidden"}),K_(()=>{const p=EF(i);c({...d(p),height:p})})}:()=>{const p=EF(i);c({...d(p),willChange:"height",height:p}),K_(()=>c({height:o,overflow:"hidden"}))})},[r]);const f=p=>{if(!(p.target!==i.current||p.propertyName!=="height"))if(r){const m=EF(i);m===a.height?u({}):c({height:m}),n()}else a.height===o&&(u(s),n())};function h({style:p={},refKey:m="ref",...g}={}){const y=g[m];return{"aria-hidden":!r,...g,[m]:sme(i,y),onTransitionEnd:f,style:{boxSizing:"border-box",...p,...a}}}return h}const TLe={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},eP=ht((e,t)=>{const{children:n,in:r,transitionDuration:i,transitionTimingFunction:o,style:s,onTransitionEnd:a,animateOpacity:l,...u}=ze("Collapse",TLe,e),c=Io(),d=KM(),h=(c.respectReducedMotion?d:!1)?0:i,p=SLe({opened:r,transitionDuration:h,transitionTimingFunction:o,onTransitionEnd:a});return h===0?r?$.jsx(De,{...u,children:n}):null:$.jsx(De,{...p({style:{opacity:r||!l?1:0,transition:l?`opacity ${h}ms ${o}`:"none",...uU(s,c)},ref:t,...u}),children:n})});eP.displayName="@mantine/core/Collapse";function tP(){return typeof window<"u"}function dx(e){return wme(e)?(e.nodeName||"").toLowerCase():"#document"}function Bl(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function rh(e){var t;return(t=(wme(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function wme(e){return tP()?e instanceof Node||e instanceof Bl(e).Node:!1}function yi(e){return tP()?e instanceof Element||e instanceof Bl(e).Element:!1}function ku(e){return tP()?e instanceof HTMLElement||e instanceof Bl(e).HTMLElement:!1}function P8(e){return!tP()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Bl(e).ShadowRoot}function kC(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=pc(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function CLe(e){return["table","td","th"].includes(dx(e))}function nP(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function cU(e){const t=rP(),n=yi(e)?pc(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function ALe(e){let t=Ep(e);for(;ku(t)&&!Sg(t);){if(cU(t))return t;if(nP(t))return null;t=Ep(t)}return null}function rP(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Sg(e){return["html","body","#document"].includes(dx(e))}function pc(e){return Bl(e).getComputedStyle(e)}function iP(e){return yi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ep(e){if(dx(e)==="html")return e;const t=e.assignedSlot||e.parentNode||P8(e)&&e.host||rh(e);return P8(t)?t.host:t}function xme(e){const t=Ep(e);return Sg(t)?e.ownerDocument?e.ownerDocument.body:e.body:ku(t)&&kC(t)?t:xme(t)}function cp(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=xme(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),s=Bl(i);if(o){const a=N8(s);return t.concat(s,s.visualViewport||[],kC(i)?i:[],a&&n?cp(a):[])}return t.concat(i,cp(i,[],n))}function N8(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function $ee(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function dT(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&P8(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function _me(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function Eme(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function kLe(e){return DLe()?!1:!Mee()&&e.width===0&&e.height===0||Mee()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function ILe(){return/apple/i.test(navigator.vendor)}function Mee(){const e=/android/i;return e.test(_me())||e.test(Eme())}function RLe(){return _me().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function DLe(){return Eme().includes("jsdom/")}function O8(e,t){const n=["mouse","pen"];return n.push("",void 0),n.includes(e)}function $Le(e){return"nativeEvent"in e}function MLe(e){return e.matches("html,body")}function _y(e){return(e==null?void 0:e.ownerDocument)||document}function SF(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function v1(e){return"composedPath"in e?e.composedPath()[0]:e.target}const PLe="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function NLe(e){return ku(e)&&e.matches(PLe)}const xd=Math.min,ba=Math.max,cD=Math.round,pk=Math.floor,Tf=e=>({x:e,y:e}),OLe={left:"right",right:"left",bottom:"top",top:"bottom"},LLe={start:"end",end:"start"};function L8(e,t,n){return ba(e,xd(t,n))}function Sp(e,t){return typeof e=="function"?e(t):e}function _d(e){return e.split("-")[0]}function fx(e){return e.split("-")[1]}function dU(e){return e==="x"?"y":"x"}function fU(e){return e==="y"?"height":"width"}function Tp(e){return["top","bottom"].includes(_d(e))?"y":"x"}function hU(e){return dU(Tp(e))}function FLe(e,t,n){n===void 0&&(n=!1);const r=fx(e),i=hU(e),o=fU(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=dD(s)),[s,dD(s)]}function BLe(e){const t=dD(e);return[F8(e),t,F8(t)]}function F8(e){return e.replace(/start|end/g,t=>LLe[t])}function jLe(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:s;default:return[]}}function zLe(e,t,n,r){const i=fx(e);let o=jLe(_d(e),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),t&&(o=o.concat(o.map(F8)))),o}function dD(e){return e.replace(/left|right|bottom|top/g,t=>OLe[t])}function ULe(e){return{top:0,right:0,bottom:0,left:0,...e}}function pU(e){return typeof e!="number"?ULe(e):{top:e,right:e,bottom:e,left:e}}function dw(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function Pee(e,t,n){let{reference:r,floating:i}=e;const o=Tp(t),s=hU(t),a=fU(s),l=_d(t),u=o==="y",c=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let h;switch(l){case"top":h={x:c,y:r.y-i.height};break;case"bottom":h={x:c,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-i.width,y:d};break;default:h={x:r.x,y:r.y}}switch(fx(t)){case"start":h[s]-=f*(n&&u?-1:1);break;case"end":h[s]+=f*(n&&u?-1:1);break}return h}const HLe=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:d}=Pee(u,r,l),f=r,h={},p=0;for(let m=0;m<a.length;m++){const{name:g,fn:y}=a[m],{x:v,y:w,data:E,reset:_}=await y({x:c,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:h,rects:u,platform:s,elements:{reference:e,floating:t}});c=v??c,d=w??d,h={...h,[g]:{...h[g],...E}},_&&p<=50&&(p++,typeof _=="object"&&(_.placement&&(f=_.placement),_.rects&&(u=_.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):_.rects),{x:c,y:d}=Pee(u,f,l)),m=-1)}return{x:c,y:d,placement:f,strategy:i,middlewareData:h}};async function mU(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=Sp(t,e),p=pU(h),g=a[f?d==="floating"?"reference":"floating":d],y=dw(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(g)))==null||n?g:g.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),v=d==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),E=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},_=dw(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:w,strategy:l}):v);return{top:(y.top-_.top+p.top)/E.y,bottom:(_.bottom-y.bottom+p.bottom)/E.y,left:(y.left-_.left+p.left)/E.x,right:(_.right-y.right+p.right)/E.x}}const VLe=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=t,{element:u,padding:c=0}=Sp(e,t)||{};if(u==null)return{};const d=pU(c),f={x:n,y:r},h=hU(i),p=fU(h),m=await s.getDimensions(u),g=h==="y",y=g?"top":"left",v=g?"bottom":"right",w=g?"clientHeight":"clientWidth",E=o.reference[p]+o.reference[h]-f[h]-o.floating[p],_=f[h]-o.reference[h],x=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let S=x?x[w]:0;(!S||!await(s.isElement==null?void 0:s.isElement(x)))&&(S=a.floating[w]||o.floating[p]);const C=E/2-_/2,A=S/2-m[p]/2-1,k=xd(d[y],A),N=xd(d[v],A),M=k,I=S-m[p]-N,D=S/2-m[p]/2+C,R=L8(M,D,I),O=!l.arrow&&fx(i)!=null&&D!==R&&o.reference[p]/2-(D<M?k:N)-m[p]/2<0,B=O?D<M?D-M:D-I:0;return{[h]:f[h]+B,data:{[h]:R,centerOffset:D-R-B,...O&&{alignmentOffset:B}},reset:O}}}),WLe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...g}=Sp(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const y=_d(i),v=Tp(a),w=_d(a)===a,E=await(l.isRTL==null?void 0:l.isRTL(u.floating)),_=f||(w||!m?[dD(a)]:BLe(a)),x=p!=="none";!f&&x&&_.push(...zLe(a,m,p,E));const S=[a,..._],C=await mU(t,g),A=[];let k=((r=o.flip)==null?void 0:r.overflows)||[];if(c&&A.push(C[y]),d){const D=FLe(i,s,E);A.push(C[D[0]],C[D[1]])}if(k=[...k,{placement:i,overflows:A}],!A.every(D=>D<=0)){var N,M;const D=(((N=o.flip)==null?void 0:N.index)||0)+1,R=S[D];if(R)return{data:{index:D,overflows:k},reset:{placement:R}};let O=(M=k.filter(B=>B.overflows[0]<=0).sort((B,z)=>B.overflows[1]-z.overflows[1])[0])==null?void 0:M.placement;if(!O)switch(h){case"bestFit":{var I;const B=(I=k.filter(z=>{if(x){const W=Tp(z.placement);return W===v||W==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(W=>W>0).reduce((W,U)=>W+U,0)]).sort((z,W)=>z[1]-W[1])[0])==null?void 0:I[0];B&&(O=B);break}case"initialPlacement":O=a;break}if(i!==O)return{reset:{placement:O}}}return{}}}};function Sme(e){const t=xd(...e.map(o=>o.left)),n=xd(...e.map(o=>o.top)),r=ba(...e.map(o=>o.right)),i=ba(...e.map(o=>o.bottom));return{x:t,y:n,width:r-t,height:i-n}}function qLe(e){const t=e.slice().sort((i,o)=>i.y-o.y),n=[];let r=null;for(let i=0;i<t.length;i++){const o=t[i];!r||o.y-r.y>r.height/2?n.push([o]):n[n.length-1].push(o),r=o}return n.map(i=>dw(Sme(i)))}const GLe=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:i,platform:o,strategy:s}=t,{padding:a=2,x:l,y:u}=Sp(e,t),c=Array.from(await(o.getClientRects==null?void 0:o.getClientRects(r.reference))||[]),d=qLe(c),f=dw(Sme(c)),h=pU(a);function p(){if(d.length===2&&d[0].left>d[1].right&&l!=null&&u!=null)return d.find(g=>l>g.left-h.left&&l<g.right+h.right&&u>g.top-h.top&&u<g.bottom+h.bottom)||f;if(d.length>=2){if(Tp(n)==="y"){const k=d[0],N=d[d.length-1],M=_d(n)==="top",I=k.top,D=N.bottom,R=M?k.left:N.left,O=M?k.right:N.right,B=O-R,z=D-I;return{top:I,bottom:D,left:R,right:O,width:B,height:z,x:R,y:I}}const g=_d(n)==="left",y=ba(...d.map(k=>k.right)),v=xd(...d.map(k=>k.left)),w=d.filter(k=>g?k.left===v:k.right===y),E=w[0].top,_=w[w.length-1].bottom,x=v,S=y,C=S-x,A=_-E;return{top:E,bottom:_,left:x,right:S,width:C,height:A,x,y:E}}return f}const m=await o.getElementRects({reference:{getBoundingClientRect:p},floating:r.floating,strategy:s});return i.reference.x!==m.reference.x||i.reference.y!==m.reference.y||i.reference.width!==m.reference.width||i.reference.height!==m.reference.height?{reset:{rects:m}}:{}}}};async function YLe(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=_d(n),a=fx(n),l=Tp(n)==="y",u=["left","top"].includes(s)?-1:1,c=o&&l?-1:1,d=Sp(t,e);let{mainAxis:f,crossAxis:h,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof p=="number"&&(h=a==="end"?p*-1:p),l?{x:h*c,y:f*u}:{x:f*u,y:h*c}}const KLe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=t,l=await YLe(t,e);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},XLe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:g=>{let{x:y,y:v}=g;return{x:y,y:v}}},...l}=Sp(e,t),u={x:n,y:r},c=await mU(t,l),d=Tp(_d(i)),f=dU(d);let h=u[f],p=u[d];if(o){const g=f==="y"?"top":"left",y=f==="y"?"bottom":"right",v=h+c[g],w=h-c[y];h=L8(v,h,w)}if(s){const g=d==="y"?"top":"left",y=d==="y"?"bottom":"right",v=p+c[g],w=p-c[y];p=L8(v,p,w)}const m=a.fn({...t,[f]:h,[d]:p});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[f]:o,[d]:s}}}}}},QLe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=t,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Sp(e,t),c={x:n,y:r},d=Tp(i),f=dU(d);let h=c[f],p=c[d];const m=Sp(a,t),g=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const w=f==="y"?"height":"width",E=o.reference[f]-o.floating[w]+g.mainAxis,_=o.reference[f]+o.reference[w]-g.mainAxis;h<E?h=E:h>_&&(h=_)}if(u){var y,v;const w=f==="y"?"width":"height",E=["top","left"].includes(_d(i)),_=o.reference[d]-o.floating[w]+(E&&((y=s.offset)==null?void 0:y[d])||0)+(E?0:g.crossAxis),x=o.reference[d]+o.reference[w]+(E?0:((v=s.offset)==null?void 0:v[d])||0)-(E?g.crossAxis:0);p<_?p=_:p>x&&(p=x)}return{[f]:h,[d]:p}}}},JLe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:o,platform:s,elements:a}=t,{apply:l=()=>{},...u}=Sp(e,t),c=await mU(t,u),d=_d(i),f=fx(i),h=Tp(i)==="y",{width:p,height:m}=o.floating;let g,y;d==="top"||d==="bottom"?(g=d,y=f===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(y=d,g=f==="end"?"top":"bottom");const v=m-c.top-c.bottom,w=p-c.left-c.right,E=xd(m-c[g],v),_=xd(p-c[y],w),x=!t.middlewareData.shift;let S=E,C=_;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(C=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(S=v),x&&!f){const k=ba(c.left,0),N=ba(c.right,0),M=ba(c.top,0),I=ba(c.bottom,0);h?C=p-2*(k!==0||N!==0?k+N:ba(c.left,c.right)):S=m-2*(M!==0||I!==0?M+I:ba(c.top,c.bottom))}await l({...t,availableWidth:C,availableHeight:S});const A=await s.getDimensions(a.floating);return p!==A.width||m!==A.height?{reset:{rects:!0}}:{}}}};function Tme(e){const t=pc(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=ku(e),o=i?e.offsetWidth:n,s=i?e.offsetHeight:r,a=cD(n)!==o||cD(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function gU(e){return yi(e)?e:e.contextElement}function z1(e){const t=gU(e);if(!ku(t))return Tf(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=Tme(t);let s=(o?cD(n.width):n.width)/r,a=(o?cD(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const ZLe=Tf(0);function Cme(e){const t=Bl(e);return!rP()||!t.visualViewport?ZLe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function e4e(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Bl(e)?!1:t}function Yy(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=gU(e);let s=Tf(1);t&&(r?yi(r)&&(s=z1(r)):s=z1(e));const a=e4e(o,n,r)?Cme(o):Tf(0);let l=(i.left+a.x)/s.x,u=(i.top+a.y)/s.y,c=i.width/s.x,d=i.height/s.y;if(o){const f=Bl(o),h=r&&yi(r)?Bl(r):r;let p=f,m=N8(p);for(;m&&r&&h!==p;){const g=z1(m),y=m.getBoundingClientRect(),v=pc(m),w=y.left+(m.clientLeft+parseFloat(v.paddingLeft))*g.x,E=y.top+(m.clientTop+parseFloat(v.paddingTop))*g.y;l*=g.x,u*=g.y,c*=g.x,d*=g.y,l+=w,u+=E,p=Bl(m),m=N8(p)}}return dw({width:c,height:d,x:l,y:u})}function yU(e,t){const n=iP(e).scrollLeft;return t?t.left+n:Yy(rh(e)).left+n}function Ame(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:yU(e,r)),o=r.top+t.scrollTop;return{x:i,y:o}}function t4e(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",s=rh(r),a=t?nP(t.floating):!1;if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},u=Tf(1);const c=Tf(0),d=ku(r);if((d||!d&&!o)&&((dx(r)!=="body"||kC(s))&&(l=iP(r)),ku(r))){const h=Yy(r);u=z1(r),c.x=h.x+r.clientLeft,c.y=h.y+r.clientTop}const f=s&&!d&&!o?Ame(s,l,!0):Tf(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x+f.x,y:n.y*u.y-l.scrollTop*u.y+c.y+f.y}}function n4e(e){return Array.from(e.getClientRects())}function r4e(e){const t=rh(e),n=iP(e),r=e.ownerDocument.body,i=ba(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=ba(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+yU(e);const a=-n.scrollTop;return pc(r).direction==="rtl"&&(s+=ba(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function i4e(e,t){const n=Bl(e),r=rh(e),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const u=rP();(!u||u&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function o4e(e,t){const n=Yy(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=ku(e)?z1(e):Tf(1),s=e.clientWidth*o.x,a=e.clientHeight*o.y,l=i*o.x,u=r*o.y;return{width:s,height:a,x:l,y:u}}function Nee(e,t,n){let r;if(t==="viewport")r=i4e(e,n);else if(t==="document")r=r4e(rh(e));else if(yi(t))r=o4e(t,n);else{const i=Cme(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return dw(r)}function kme(e,t){const n=Ep(e);return n===t||!yi(n)||Sg(n)?!1:pc(n).position==="fixed"||kme(n,t)}function s4e(e,t){const n=t.get(e);if(n)return n;let r=cp(e,[],!1).filter(a=>yi(a)&&dx(a)!=="body"),i=null;const o=pc(e).position==="fixed";let s=o?Ep(e):e;for(;yi(s)&&!Sg(s);){const a=pc(s),l=cU(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||kC(s)&&!l&&kme(e,s))?r=r.filter(c=>c!==s):i=a,s=Ep(s)}return t.set(e,r),r}function a4e(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s=[...n==="clippingAncestors"?nP(t)?[]:s4e(t,this._c):[].concat(n),r],a=s[0],l=s.reduce((u,c)=>{const d=Nee(t,c,i);return u.top=ba(d.top,u.top),u.right=xd(d.right,u.right),u.bottom=xd(d.bottom,u.bottom),u.left=ba(d.left,u.left),u},Nee(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function l4e(e){const{width:t,height:n}=Tme(e);return{width:t,height:n}}function u4e(e,t,n){const r=ku(t),i=rh(t),o=n==="fixed",s=Yy(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=Tf(0);if(r||!r&&!o)if((dx(t)!=="body"||kC(i))&&(a=iP(t)),r){const f=Yy(t,!0,o,t);l.x=f.x+t.clientLeft,l.y=f.y+t.clientTop}else i&&(l.x=yU(i));const u=i&&!r&&!o?Ame(i,a):Tf(0),c=s.left+a.scrollLeft-l.x-u.x,d=s.top+a.scrollTop-l.y-u.y;return{x:c,y:d,width:s.width,height:s.height}}function TF(e){return pc(e).position==="static"}function Oee(e,t){if(!ku(e)||pc(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return rh(e)===n&&(n=n.ownerDocument.body),n}function Ime(e,t){const n=Bl(e);if(nP(e))return n;if(!ku(e)){let i=Ep(e);for(;i&&!Sg(i);){if(yi(i)&&!TF(i))return i;i=Ep(i)}return n}let r=Oee(e,t);for(;r&&CLe(r)&&TF(r);)r=Oee(r,t);return r&&Sg(r)&&TF(r)&&!cU(r)?n:r||ALe(e)||n}const c4e=async function(e){const t=this.getOffsetParent||Ime,n=this.getDimensions,r=await n(e.floating);return{reference:u4e(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function d4e(e){return pc(e).direction==="rtl"}const f4e={convertOffsetParentRelativeRectToViewportRelativeRect:t4e,getDocumentElement:rh,getClippingRect:a4e,getOffsetParent:Ime,getElementRects:c4e,getClientRects:n4e,getDimensions:l4e,getScale:z1,isElement:yi,isRTL:d4e};function Rme(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function h4e(e,t){let n=null,r;const i=rh(e);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const u=e.getBoundingClientRect(),{left:c,top:d,width:f,height:h}=u;if(a||t(),!f||!h)return;const p=pk(d),m=pk(i.clientWidth-(c+f)),g=pk(i.clientHeight-(d+h)),y=pk(c),w={rootMargin:-p+"px "+-m+"px "+-g+"px "+-y+"px",threshold:ba(0,xd(1,l))||1};let E=!0;function _(x){const S=x[0].intersectionRatio;if(S!==l){if(!E)return s();S?s(!1,S):r=setTimeout(()=>{s(!1,1e-7)},1e3)}S===1&&!Rme(u,e.getBoundingClientRect())&&s(),E=!1}try{n=new IntersectionObserver(_,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(_,w)}n.observe(e)}return s(!0),o}function p4e(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=gU(e),c=i||o?[...u?cp(u):[],...cp(t)]:[];c.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),o&&y.addEventListener("resize",n)});const d=u&&a?h4e(u,n):null;let f=-1,h=null;s&&(h=new ResizeObserver(y=>{let[v]=y;v&&v.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=h)==null||w.observe(t)})),n()}),u&&!l&&h.observe(u),h.observe(t));let p,m=l?Yy(e):null;l&&g();function g(){const y=Yy(e);m&&!Rme(m,y)&&n(),m=y,p=requestAnimationFrame(g)}return n(),()=>{var y;c.forEach(v=>{i&&v.removeEventListener("scroll",n),o&&v.removeEventListener("resize",n)}),d==null||d(),(y=h)==null||y.disconnect(),h=null,l&&cancelAnimationFrame(p)}}const m4e=KLe,g4e=XLe,y4e=WLe,v4e=JLe,Lee=VLe,b4e=GLe,w4e=QLe,x4e=(e,t,n)=>{const r=new Map,i={platform:f4e,...n},o={...i.platform,_c:r};return HLe(e,t,{...i,platform:o})};var xI=typeof document<"u"?H.useLayoutEffect:H.useEffect;function fD(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!fD(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!fD(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Dme(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Fee(e,t){const n=Dme(e);return Math.round(t*n)/n}function CF(e){const t=H.useRef(e);return xI(()=>{t.current=e}),t}function _4e(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:u}=e,[c,d]=H.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,h]=H.useState(r);fD(f,r)||h(r);const[p,m]=H.useState(null),[g,y]=H.useState(null),v=H.useCallback(z=>{z!==x.current&&(x.current=z,m(z))},[]),w=H.useCallback(z=>{z!==S.current&&(S.current=z,y(z))},[]),E=o||p,_=s||g,x=H.useRef(null),S=H.useRef(null),C=H.useRef(c),A=l!=null,k=CF(l),N=CF(i),M=CF(u),I=H.useCallback(()=>{if(!x.current||!S.current)return;const z={placement:t,strategy:n,middleware:f};N.current&&(z.platform=N.current),x4e(x.current,S.current,z).then(W=>{const U={...W,isPositioned:M.current!==!1};D.current&&!fD(C.current,U)&&(C.current=U,ZM.flushSync(()=>{d(U)}))})},[f,t,n,N,M]);xI(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,d(z=>({...z,isPositioned:!1})))},[u]);const D=H.useRef(!1);xI(()=>(D.current=!0,()=>{D.current=!1}),[]),xI(()=>{if(E&&(x.current=E),_&&(S.current=_),E&&_){if(k.current)return k.current(E,_,I);I()}},[E,_,I,k,A]);const R=H.useMemo(()=>({reference:x,floating:S,setReference:v,setFloating:w}),[v,w]),O=H.useMemo(()=>({reference:E,floating:_}),[E,_]),B=H.useMemo(()=>{const z={position:n,left:0,top:0};if(!O.floating)return z;const W=Fee(O.floating,c.x),U=Fee(O.floating,c.y);return a?{...z,transform:"translate("+W+"px, "+U+"px)",...Dme(O.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:W,top:U}},[n,a,O.floating,c.x,c.y]);return H.useMemo(()=>({...c,update:I,refs:R,elements:O,floatingStyles:B}),[c,I,R,O,B])}const E4e=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Lee({element:r.current,padding:i}).fn(n):{}:r?Lee({element:r,padding:i}).fn(n):{}}}},$me=(e,t)=>({...m4e(e),options:[e,t]}),vU=(e,t)=>({...g4e(e),options:[e,t]}),Bee=(e,t)=>({...w4e(e),options:[e,t]}),hD=(e,t)=>({...y4e(e),options:[e,t]}),S4e=(e,t)=>({...v4e(e),options:[e,t]}),IS=(e,t)=>({...b4e(e),options:[e,t]}),Mme=(e,t)=>({...E4e(e),options:[e,t]});function T4e(e){return H.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})},e)}const Pme={...WPe},C4e=Pme.useInsertionEffect,A4e=C4e||(e=>e());function Gh(e){const t=H.useRef(()=>{});return A4e(()=>{t.current=e}),H.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}var Cf=typeof document<"u"?H.useLayoutEffect:H.useEffect;let jee=!1,k4e=0;const zee=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+k4e++;function I4e(){const[e,t]=H.useState(()=>jee?zee():void 0);return Cf(()=>{e==null&&t(zee())},[]),H.useEffect(()=>{jee=!0},[]),e}const R4e=Pme.useId,Nme=R4e||I4e;function D4e(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(i=>i!==n))||[])}}}const $4e=H.createContext(null),M4e=H.createContext(null),bU=()=>{var e;return((e=H.useContext($4e))==null?void 0:e.id)||null},wU=()=>H.useContext(M4e);function xU(e){return"data-floating-ui-"+e}function AF(e){const t=H.useRef(e);return Cf(()=>{t.current=e}),t}const Uee=xU("safe-polygon");function _I(e,t,n){return n&&!O8(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}function P4e(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:i,events:o,elements:s}=e,{enabled:a=!0,delay:l=0,handleClose:u=null,mouseOnly:c=!1,restMs:d=0,move:f=!0}=t,h=wU(),p=bU(),m=AF(u),g=AF(l),y=AF(n),v=H.useRef(),w=H.useRef(-1),E=H.useRef(),_=H.useRef(-1),x=H.useRef(!0),S=H.useRef(!1),C=H.useRef(()=>{}),A=H.useRef(!1),k=H.useCallback(()=>{var B;const z=(B=i.current.openEvent)==null?void 0:B.type;return(z==null?void 0:z.includes("mouse"))&&z!=="mousedown"},[i]);H.useEffect(()=>{if(!a)return;function B(z){let{open:W}=z;W||(clearTimeout(w.current),clearTimeout(_.current),x.current=!0,A.current=!1)}return o.on("openchange",B),()=>{o.off("openchange",B)}},[a,o]),H.useEffect(()=>{if(!a||!m.current||!n)return;function B(W){k()&&r(!1,W,"hover")}const z=_y(s.floating).documentElement;return z.addEventListener("mouseleave",B),()=>{z.removeEventListener("mouseleave",B)}},[s.floating,n,r,a,m,k]);const N=H.useCallback(function(B,z,W){z===void 0&&(z=!0),W===void 0&&(W="hover");const U=_I(g.current,"close",v.current);U&&!E.current?(clearTimeout(w.current),w.current=window.setTimeout(()=>r(!1,B,W),U)):z&&(clearTimeout(w.current),r(!1,B,W))},[g,r]),M=Gh(()=>{C.current(),E.current=void 0}),I=Gh(()=>{if(S.current){const B=_y(s.floating).body;B.style.pointerEvents="",B.removeAttribute(Uee),S.current=!1}}),D=Gh(()=>i.current.openEvent?["click","mousedown"].includes(i.current.openEvent.type):!1);H.useEffect(()=>{if(!a)return;function B(F){if(clearTimeout(w.current),x.current=!1,c&&!O8(v.current)||d>0&&!_I(g.current,"open"))return;const Y=_I(g.current,"open",v.current);Y?w.current=window.setTimeout(()=>{y.current||r(!0,F,"hover")},Y):n||r(!0,F,"hover")}function z(F){if(D())return;C.current();const Y=_y(s.floating);if(clearTimeout(_.current),A.current=!1,m.current&&i.current.floatingContext){n||clearTimeout(w.current),E.current=m.current({...i.current.floatingContext,tree:h,x:F.clientX,y:F.clientY,onClose(){I(),M(),D()||N(F,!0,"safe-polygon")}});const G=E.current;Y.addEventListener("mousemove",G),C.current=()=>{Y.removeEventListener("mousemove",G)};return}(v.current==="touch"?!dT(s.floating,F.relatedTarget):!0)&&N(F)}function W(F){D()||i.current.floatingContext&&(m.current==null||m.current({...i.current.floatingContext,tree:h,x:F.clientX,y:F.clientY,onClose(){I(),M(),D()||N(F)}})(F))}if(yi(s.domReference)){var U;const F=s.domReference;return n&&F.addEventListener("mouseleave",W),(U=s.floating)==null||U.addEventListener("mouseleave",W),f&&F.addEventListener("mousemove",B,{once:!0}),F.addEventListener("mouseenter",B),F.addEventListener("mouseleave",z),()=>{var Y;n&&F.removeEventListener("mouseleave",W),(Y=s.floating)==null||Y.removeEventListener("mouseleave",W),f&&F.removeEventListener("mousemove",B),F.removeEventListener("mouseenter",B),F.removeEventListener("mouseleave",z)}}},[s,a,e,c,d,f,N,M,I,r,n,y,h,g,m,i,D]),Cf(()=>{var B;if(a&&n&&(B=m.current)!=null&&B.__options.blockPointerEvents&&k()){S.current=!0;const W=s.floating;if(yi(s.domReference)&&W){var z;const U=_y(s.floating).body;U.setAttribute(Uee,"");const F=s.domReference,Y=h==null||(z=h.nodesRef.current.find(V=>V.id===p))==null||(z=z.context)==null?void 0:z.elements.floating;return Y&&(Y.style.pointerEvents=""),U.style.pointerEvents="none",F.style.pointerEvents="auto",W.style.pointerEvents="auto",()=>{U.style.pointerEvents="",F.style.pointerEvents="",W.style.pointerEvents=""}}}},[a,n,p,s,h,m,k]),Cf(()=>{n||(v.current=void 0,A.current=!1,M(),I())},[n,M,I]),H.useEffect(()=>()=>{M(),clearTimeout(w.current),clearTimeout(_.current),I()},[a,s.domReference,M,I]);const R=H.useMemo(()=>{function B(z){v.current=z.pointerType}return{onPointerDown:B,onPointerEnter:B,onMouseMove(z){const{nativeEvent:W}=z;function U(){!x.current&&!y.current&&r(!0,W,"hover")}c&&!O8(v.current)||n||d===0||A.current&&z.movementX**2+z.movementY**2<2||(clearTimeout(_.current),v.current==="touch"?U():(A.current=!0,_.current=window.setTimeout(U,d)))}}},[c,r,n,y,d]),O=H.useMemo(()=>({onMouseEnter(){clearTimeout(w.current)},onMouseLeave(B){D()||N(B.nativeEvent,!1)}}),[N,D]);return H.useMemo(()=>a?{reference:R,floating:O}:{},[a,R,O])}const B8=()=>{},Ome=H.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:B8,setState:B8,isInstantPhase:!1}),N4e=()=>H.useContext(Ome);function O4e(e){const{children:t,delay:n,timeoutMs:r=0}=e,[i,o]=H.useReducer((l,u)=>({...l,...u}),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),s=H.useRef(null),a=H.useCallback(l=>{o({currentId:l})},[]);return Cf(()=>{i.currentId?s.current===null?s.current=i.currentId:i.isInstantPhase||o({isInstantPhase:!0}):(i.isInstantPhase&&o({isInstantPhase:!1}),s.current=null)},[i.currentId,i.isInstantPhase]),H.createElement(Ome.Provider,{value:H.useMemo(()=>({...i,setState:o,setCurrentId:a}),[i,a])},t)}function L4e(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,floatingId:i}=e,{id:o,enabled:s=!0}=t,a=o??i,l=N4e(),{currentId:u,setCurrentId:c,initialDelay:d,setState:f,timeoutMs:h}=l;return Cf(()=>{s&&u&&(f({delay:{open:1,close:_I(d,"close")}}),u!==a&&r(!1))},[s,a,r,f,u,d]),Cf(()=>{function p(){r(!1),f({delay:d,currentId:null})}if(s&&u&&!n&&u===a){if(h){const m=window.setTimeout(p,h);return()=>{clearTimeout(m)}}p()}},[s,n,f,u,a,r,d,h]),Cf(()=>{s&&(c===B8||!n||c(a))},[s,n,c,a]),l}function kF(e,t){let n=e.filter(i=>{var o;return i.parentId===t&&((o=i.context)==null?void 0:o.open)}),r=n;for(;r.length;)r=e.filter(i=>{var o;return(o=r)==null?void 0:o.some(s=>{var a;return i.parentId===s.id&&((a=i.context)==null?void 0:a.open)})}),n=n.concat(r);return n}const F4e="data-floating-ui-focusable",B4e={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},j4e={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Hee=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function z4e(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,elements:i,dataRef:o}=e,{enabled:s=!0,escapeKey:a=!0,outsidePress:l=!0,outsidePressEvent:u="pointerdown",referencePress:c=!1,referencePressEvent:d="pointerdown",ancestorScroll:f=!1,bubbles:h,capture:p}=t,m=wU(),g=Gh(typeof l=="function"?l:()=>!1),y=typeof l=="function"?g:l,v=H.useRef(!1),w=H.useRef(!1),{escapeKey:E,outsidePress:_}=Hee(h),{escapeKey:x,outsidePress:S}=Hee(p),C=H.useRef(!1),A=Gh(R=>{var O;if(!n||!s||!a||R.key!=="Escape"||C.current)return;const B=(O=o.current.floatingContext)==null?void 0:O.nodeId,z=m?kF(m.nodesRef.current,B):[];if(!E&&(R.stopPropagation(),z.length>0)){let W=!0;if(z.forEach(U=>{var F;if((F=U.context)!=null&&F.open&&!U.context.dataRef.current.__escapeKeyBubbles){W=!1;return}}),!W)return}r(!1,$Le(R)?R.nativeEvent:R,"escape-key")}),k=Gh(R=>{var O;const B=()=>{var z;A(R),(z=v1(R))==null||z.removeEventListener("keydown",B)};(O=v1(R))==null||O.addEventListener("keydown",B)}),N=Gh(R=>{var O;const B=v.current;v.current=!1;const z=w.current;if(w.current=!1,u==="click"&&z||B||typeof y=="function"&&!y(R))return;const W=v1(R),U="["+xU("inert")+"]",F=_y(i.floating).querySelectorAll(U);let Y=yi(W)?W:null;for(;Y&&!Sg(Y);){const Z=Ep(Y);if(Sg(Z)||!yi(Z))break;Y=Z}if(F.length&&yi(W)&&!MLe(W)&&!dT(W,i.floating)&&Array.from(F).every(Z=>!dT(Y,Z)))return;if(ku(W)&&D){const Z=W.clientWidth>0&&W.scrollWidth>W.clientWidth,oe=W.clientHeight>0&&W.scrollHeight>W.clientHeight;let ne=oe&&R.offsetX>W.clientWidth;if(oe&&pc(W).direction==="rtl"&&(ne=R.offsetX<=W.offsetWidth-W.clientWidth),ne||Z&&R.offsetY>W.clientHeight)return}const V=(O=o.current.floatingContext)==null?void 0:O.nodeId,G=m&&kF(m.nodesRef.current,V).some(Z=>{var oe;return SF(R,(oe=Z.context)==null?void 0:oe.elements.floating)});if(SF(R,i.floating)||SF(R,i.domReference)||G)return;const X=m?kF(m.nodesRef.current,V):[];if(X.length>0){let Z=!0;if(X.forEach(oe=>{var ne;if((ne=oe.context)!=null&&ne.open&&!oe.context.dataRef.current.__outsidePressBubbles){Z=!1;return}}),!Z)return}r(!1,R,"outside-press")}),M=Gh(R=>{var O;const B=()=>{var z;N(R),(z=v1(R))==null||z.removeEventListener(u,B)};(O=v1(R))==null||O.addEventListener(u,B)});H.useEffect(()=>{if(!n||!s)return;o.current.__escapeKeyBubbles=E,o.current.__outsidePressBubbles=_;let R=-1;function O(F){r(!1,F,"ancestor-scroll")}function B(){window.clearTimeout(R),C.current=!0}function z(){R=window.setTimeout(()=>{C.current=!1},rP()?5:0)}const W=_y(i.floating);a&&(W.addEventListener("keydown",x?k:A,x),W.addEventListener("compositionstart",B),W.addEventListener("compositionend",z)),y&&W.addEventListener(u,S?M:N,S);let U=[];return f&&(yi(i.domReference)&&(U=cp(i.domReference)),yi(i.floating)&&(U=U.concat(cp(i.floating))),!yi(i.reference)&&i.reference&&i.reference.contextElement&&(U=U.concat(cp(i.reference.contextElement)))),U=U.filter(F=>{var Y;return F!==((Y=W.defaultView)==null?void 0:Y.visualViewport)}),U.forEach(F=>{F.addEventListener("scroll",O,{passive:!0})}),()=>{a&&(W.removeEventListener("keydown",x?k:A,x),W.removeEventListener("compositionstart",B),W.removeEventListener("compositionend",z)),y&&W.removeEventListener(u,S?M:N,S),U.forEach(F=>{F.removeEventListener("scroll",O)}),window.clearTimeout(R)}},[o,i,a,y,u,n,r,f,s,E,_,A,x,k,N,S,M]),H.useEffect(()=>{v.current=!1},[y,u]);const I=H.useMemo(()=>({onKeyDown:A,[B4e[d]]:R=>{c&&r(!1,R.nativeEvent,"reference-press")}}),[A,r,c,d]),D=H.useMemo(()=>({onKeyDown:A,onMouseDown(){w.current=!0},onMouseUp(){w.current=!0},[j4e[u]]:()=>{v.current=!0}}),[A,u]);return H.useMemo(()=>s?{reference:I,floating:D}:{},[s,I,D])}function U4e(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=Nme(),o=H.useRef({}),[s]=H.useState(()=>D4e()),a=bU()!=null,[l,u]=H.useState(r.reference),c=Gh((h,p,m)=>{o.current.openEvent=h?p:void 0,s.emit("openchange",{open:h,event:p,reason:m,nested:a}),n==null||n(h,p,m)}),d=H.useMemo(()=>({setPositionReference:u}),[]),f=H.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return H.useMemo(()=>({dataRef:o,open:t,onOpenChange:c,elements:f,events:s,floatingId:i,refs:d}),[t,c,f,s,i,d])}function _U(e){e===void 0&&(e={});const{nodeId:t}=e,n=U4e({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[o,s]=H.useState(null),[a,l]=H.useState(null),c=(i==null?void 0:i.domReference)||o,d=H.useRef(null),f=wU();Cf(()=>{c&&(d.current=c)},[c]);const h=_4e({...e,elements:{...i,...a&&{reference:a}}}),p=H.useCallback(w=>{const E=yi(w)?{getBoundingClientRect:()=>w.getBoundingClientRect(),contextElement:w}:w;l(E),h.refs.setReference(E)},[h.refs]),m=H.useCallback(w=>{(yi(w)||w===null)&&(d.current=w,s(w)),(yi(h.refs.reference.current)||h.refs.reference.current===null||w!==null&&!yi(w))&&h.refs.setReference(w)},[h.refs]),g=H.useMemo(()=>({...h.refs,setReference:m,setPositionReference:p,domReference:d}),[h.refs,m,p]),y=H.useMemo(()=>({...h.elements,domReference:c}),[h.elements,c]),v=H.useMemo(()=>({...h,...r,refs:g,elements:y,nodeId:t}),[h,g,y,t,r]);return Cf(()=>{r.dataRef.current.floatingContext=v;const w=f==null?void 0:f.nodesRef.current.find(E=>E.id===t);w&&(w.context=v)}),H.useMemo(()=>({...h,context:v,refs:g,elements:y}),[h,g,y,v])}function H4e(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:i,dataRef:o,elements:s}=e,{enabled:a=!0,visibleOnly:l=!0}=t,u=H.useRef(!1),c=H.useRef(),d=H.useRef(!0);H.useEffect(()=>{if(!a)return;const h=Bl(s.domReference);function p(){!n&&ku(s.domReference)&&s.domReference===$ee(_y(s.domReference))&&(u.current=!0)}function m(){d.current=!0}return h.addEventListener("blur",p),h.addEventListener("keydown",m,!0),()=>{h.removeEventListener("blur",p),h.removeEventListener("keydown",m,!0)}},[s.domReference,n,a]),H.useEffect(()=>{if(!a)return;function h(p){let{reason:m}=p;(m==="reference-press"||m==="escape-key")&&(u.current=!0)}return i.on("openchange",h),()=>{i.off("openchange",h)}},[i,a]),H.useEffect(()=>()=>{clearTimeout(c.current)},[]);const f=H.useMemo(()=>({onPointerDown(h){kLe(h.nativeEvent)||(d.current=!1)},onMouseLeave(){u.current=!1},onFocus(h){if(u.current)return;const p=v1(h.nativeEvent);if(l&&yi(p))try{if(ILe()&&RLe())throw Error();if(!p.matches(":focus-visible"))return}catch{if(!d.current&&!NLe(p))return}r(!0,h.nativeEvent,"focus")},onBlur(h){u.current=!1;const p=h.relatedTarget,m=h.nativeEvent,g=yi(p)&&p.hasAttribute(xU("focus-guard"))&&p.getAttribute("data-type")==="outside";c.current=window.setTimeout(()=>{var y;const v=$ee(s.domReference?s.domReference.ownerDocument:document);!p&&v===s.domReference||dT((y=o.current.floatingContext)==null?void 0:y.refs.floating.current,v)||dT(s.domReference,v)||g||r(!1,m,"focus")})}}),[o,s.domReference,r,l]);return H.useMemo(()=>a?{reference:f}:{},[a,f])}const Vee="active",Wee="selected";function IF(e,t,n){const r=new Map,i=n==="item";let o=e;if(i&&e){const{[Vee]:s,[Wee]:a,...l}=e;o=l}return{...n==="floating"&&{tabIndex:-1,[F4e]:""},...o,...t.map(s=>{const a=s?s[n]:null;return typeof a=="function"?e?a(e):null:a}).concat(e).reduce((s,a)=>(a&&Object.entries(a).forEach(l=>{let[u,c]=l;if(!(i&&[Vee,Wee].includes(u)))if(u.indexOf("on")===0){if(r.has(u)||r.set(u,[]),typeof c=="function"){var d;(d=r.get(u))==null||d.push(c),s[u]=function(){for(var f,h=arguments.length,p=new Array(h),m=0;m<h;m++)p[m]=arguments[m];return(f=r.get(u))==null?void 0:f.map(g=>g(...p)).find(g=>g!==void 0)}}}else s[u]=c}),s),{})}}function V4e(e){e===void 0&&(e=[]);const t=e.map(a=>a==null?void 0:a.reference),n=e.map(a=>a==null?void 0:a.floating),r=e.map(a=>a==null?void 0:a.item),i=H.useCallback(a=>IF(a,e,"reference"),t),o=H.useCallback(a=>IF(a,e,"floating"),n),s=H.useCallback(a=>IF(a,e,"item"),r);return H.useMemo(()=>({getReferenceProps:i,getFloatingProps:o,getItemProps:s}),[i,o,s])}const W4e=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function q4e(e,t){var n;t===void 0&&(t={});const{open:r,floatingId:i}=e,{enabled:o=!0,role:s="dialog"}=t,a=(n=W4e.get(s))!=null?n:s,l=Nme(),c=bU()!=null,d=H.useMemo(()=>a==="tooltip"||s==="label"?{["aria-"+(s==="label"?"labelledby":"describedby")]:r?i:void 0}:{"aria-expanded":r?"true":"false","aria-haspopup":a==="alertdialog"?"dialog":a,"aria-controls":r?i:void 0,...a==="listbox"&&{role:"combobox"},...a==="menu"&&{id:l},...a==="menu"&&c&&{role:"menuitem"},...s==="select"&&{"aria-autocomplete":"none"},...s==="combobox"&&{"aria-autocomplete":"list"}},[a,i,c,r,l,s]),f=H.useMemo(()=>{const p={id:i,...a&&{role:a}};return a==="tooltip"||s==="label"?p:{...p,...a==="menu"&&{"aria-labelledby":l}}},[a,i,l,s]),h=H.useCallback(p=>{let{active:m,selected:g}=p;const y={role:"option",...m&&{id:i+"-option"}};switch(s){case"select":return{...y,"aria-selected":m&&g};case"combobox":return{...y,...m&&{"aria-selected":!0}}}return{}},[i,s]);return H.useMemo(()=>o?{reference:d,floating:f,item:h}:{},[o,d,f,h])}const[G4e,Tc]=bs("ScrollArea.Root component was not found in tree");function fw(e,t){const n=Vm(t);$v(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}const Y4e=H.forwardRef((e,t)=>{const{style:n,...r}=e,i=Tc(),[o,s]=H.useState(0),[a,l]=H.useState(0),u=!!(o&&a);return fw(i.scrollbarX,()=>{var d;const c=((d=i.scrollbarX)==null?void 0:d.offsetHeight)||0;i.onCornerHeightChange(c),l(c)}),fw(i.scrollbarY,()=>{var d;const c=((d=i.scrollbarY)==null?void 0:d.offsetWidth)||0;i.onCornerWidthChange(c),s(c)}),u?$.jsx("div",{...r,ref:t,style:{...n,width:o,height:a}}):null}),K4e=H.forwardRef((e,t)=>{const n=Tc(),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?$.jsx(Y4e,{...e,ref:t}):null}),X4e={scrollHideDelay:1e3,type:"hover"},Lme=H.forwardRef((e,t)=>{const n=ze("ScrollAreaRoot",X4e,e),{type:r,scrollHideDelay:i,scrollbars:o,...s}=n,[a,l]=H.useState(null),[u,c]=H.useState(null),[d,f]=H.useState(null),[h,p]=H.useState(null),[m,g]=H.useState(null),[y,v]=H.useState(0),[w,E]=H.useState(0),[_,x]=H.useState(!1),[S,C]=H.useState(!1),A=Yo(t,k=>l(k));return $.jsx(G4e,{value:{type:r,scrollHideDelay:i,scrollArea:a,viewport:u,onViewportChange:c,content:d,onContentChange:f,scrollbarX:h,onScrollbarXChange:p,scrollbarXEnabled:_,onScrollbarXEnabledChange:x,scrollbarY:m,onScrollbarYChange:g,scrollbarYEnabled:S,onScrollbarYEnabledChange:C,onCornerWidthChange:v,onCornerHeightChange:E},children:$.jsx(De,{...s,ref:A,__vars:{"--sa-corner-width":o!=="xy"?"0px":`${y}px`,"--sa-corner-height":o!=="xy"?"0px":`${w}px`}})})});Lme.displayName="@mantine/core/ScrollAreaRoot";function Fme(e,t){const n=e/t;return Number.isNaN(n)?0:n}function oP(e){const t=Fme(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function Bme(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function Q4e(e,[t,n]){return Math.min(n,Math.max(t,e))}function qee(e,t,n="ltr"){const r=oP(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-i,s=t.content-t.viewport,a=o-r,l=n==="ltr"?[0,s]:[s*-1,0],u=Q4e(e,l);return Bme([0,s],[0,a])(u)}function J4e(e,t,n,r="ltr"){const i=oP(n),o=i/2,s=t||o,a=i-s,l=n.scrollbar.paddingStart+s,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,c=n.content-n.viewport,d=r==="ltr"?[0,c]:[c*-1,0];return Bme([l,u],d)(e)}function jme(e,t){return e>0&&e<t}function pD(e){return e?parseInt(e,10):0}function My(e,t,{checkForDefaultPrevented:n=!0}={}){return r=>{e==null||e(r),(n===!1||!r.defaultPrevented)&&(t==null||t(r))}}const[Z4e,zme]=bs("ScrollAreaScrollbar was not found in tree"),Ume=H.forwardRef((e,t)=>{const{sizes:n,hasThumb:r,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:s,onThumbPositionChange:a,onDragScroll:l,onWheelScroll:u,onResize:c,...d}=e,f=Tc(),[h,p]=H.useState(null),m=Yo(t,C=>p(C)),g=H.useRef(null),y=H.useRef(""),{viewport:v}=f,w=n.content-n.viewport,E=Vm(u),_=Vm(a),x=YM(c,10),S=C=>{if(g.current){const A=C.clientX-g.current.left,k=C.clientY-g.current.top;l({x:A,y:k})}};return H.useEffect(()=>{const C=A=>{const k=A.target;(h==null?void 0:h.contains(k))&&E(A,w)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[v,h,w,E]),H.useEffect(_,[n,_]),fw(h,x),fw(f.content,x),$.jsx(Z4e,{value:{scrollbar:h,hasThumb:r,onThumbChange:Vm(i),onThumbPointerUp:Vm(o),onThumbPositionChange:_,onThumbPointerDown:Vm(s)},children:$.jsx("div",{...d,ref:m,"data-mantine-scrollbar":!0,style:{position:"absolute",...d.style},onPointerDown:My(e.onPointerDown,C=>{C.preventDefault(),C.button===0&&(C.target.setPointerCapture(C.pointerId),g.current=h.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",S(C))}),onPointerMove:My(e.onPointerMove,S),onPointerUp:My(e.onPointerUp,C=>{const A=C.target;A.hasPointerCapture(C.pointerId)&&(C.preventDefault(),A.releasePointerCapture(C.pointerId))}),onLostPointerCapture:()=>{document.body.style.webkitUserSelect=y.current,g.current=null}})})}),Hme=H.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,style:i,...o}=e,s=Tc(),[a,l]=H.useState(),u=H.useRef(null),c=Yo(t,u,s.onScrollbarXChange);return H.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),$.jsx(Ume,{"data-orientation":"horizontal",...o,ref:c,sizes:n,style:{...i,"--sa-thumb-width":`${oP(n)}px`},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),jme(h,f)&&d.preventDefault()}},onResize:()=>{u.current&&s.viewport&&a&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:pD(a.paddingLeft),paddingEnd:pD(a.paddingRight)}})}})});Hme.displayName="@mantine/core/ScrollAreaScrollbarX";const Vme=H.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,style:i,...o}=e,s=Tc(),[a,l]=H.useState(),u=H.useRef(null),c=Yo(t,u,s.onScrollbarYChange);return H.useEffect(()=>{u.current&&l(window.getComputedStyle(u.current))},[]),$.jsx(Ume,{...o,"data-orientation":"vertical",ref:c,sizes:n,style:{"--sa-thumb-height":`${oP(n)}px`,...i},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),jme(h,f)&&d.preventDefault()}},onResize:()=>{u.current&&s.viewport&&a&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:pD(a.paddingTop),paddingEnd:pD(a.paddingBottom)}})}})});Vme.displayName="@mantine/core/ScrollAreaScrollbarY";const sP=H.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,{dir:i}=t0(),o=Tc(),s=H.useRef(null),a=H.useRef(0),[l,u]=H.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=Fme(l.viewport,l.content),d={...r,sizes:l,onSizesChange:u,hasThumb:c>0&&c<1,onThumbChange:h=>{s.current=h},onThumbPointerUp:()=>{a.current=0},onThumbPointerDown:h=>{a.current=h}},f=(h,p)=>J4e(h,a.current,l,p);return n==="horizontal"?$.jsx(Hme,{...d,ref:t,onThumbPositionChange:()=>{if(o.viewport&&s.current){const h=o.viewport.scrollLeft,p=qee(h,l,i);s.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{o.viewport&&(o.viewport.scrollLeft=h)},onDragScroll:h=>{o.viewport&&(o.viewport.scrollLeft=f(h,i))}}):n==="vertical"?$.jsx(Vme,{...d,ref:t,onThumbPositionChange:()=>{if(o.viewport&&s.current){const h=o.viewport.scrollTop,p=qee(h,l);l.scrollbar.size===0?s.current.style.setProperty("--thumb-opacity","0"):s.current.style.setProperty("--thumb-opacity","1"),s.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{o.viewport&&(o.viewport.scrollTop=h)},onDragScroll:h=>{o.viewport&&(o.viewport.scrollTop=f(h))}}):null});sP.displayName="@mantine/core/ScrollAreaScrollbarVisible";const EU=H.forwardRef((e,t)=>{const n=Tc(),{forceMount:r,...i}=e,[o,s]=H.useState(!1),a=e.orientation==="horizontal",l=YM(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,c=n.viewport.offsetHeight<n.viewport.scrollHeight;s(a?u:c)}},10);return fw(n.viewport,l),fw(n.content,l),r||o?$.jsx(sP,{"data-state":o?"visible":"hidden",...i,ref:t}):null});EU.displayName="@mantine/core/ScrollAreaScrollbarAuto";const Wme=H.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Tc(),[o,s]=H.useState(!1);return H.useEffect(()=>{const{scrollArea:a}=i;let l=0;if(a){const u=()=>{window.clearTimeout(l),s(!0)},c=()=>{l=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",c),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",c)}}},[i.scrollArea,i.scrollHideDelay]),n||o?$.jsx(EU,{"data-state":o?"visible":"hidden",...r,ref:t}):null});Wme.displayName="@mantine/core/ScrollAreaScrollbarHover";const eFe=H.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Tc(),o=e.orientation==="horizontal",[s,a]=H.useState("hidden"),l=YM(()=>a("idle"),100);return H.useEffect(()=>{if(s==="idle"){const u=window.setTimeout(()=>a("hidden"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[s,i.scrollHideDelay]),H.useEffect(()=>{const{viewport:u}=i,c=o?"scrollLeft":"scrollTop";if(u){let d=u[c];const f=()=>{const h=u[c];d!==h&&(a("scrolling"),l()),d=h};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[i.viewport,o,l]),n||s!=="hidden"?$.jsx(sP,{"data-state":s==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:My(e.onPointerEnter,()=>a("interacting")),onPointerLeave:My(e.onPointerLeave,()=>a("idle"))}):null}),j8=H.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Tc(),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=i,a=e.orientation==="horizontal";return H.useEffect(()=>(a?o(!0):s(!0),()=>{a?o(!1):s(!1)}),[a,o,s]),i.type==="hover"?$.jsx(Wme,{...r,ref:t,forceMount:n}):i.type==="scroll"?$.jsx(eFe,{...r,ref:t,forceMount:n}):i.type==="auto"?$.jsx(EU,{...r,ref:t,forceMount:n}):i.type==="always"?$.jsx(sP,{...r,ref:t}):null});j8.displayName="@mantine/core/ScrollAreaScrollbar";function tFe(e,t=()=>{}){let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const o={left:e.scrollLeft,top:e.scrollTop},s=n.left!==o.left,a=n.top!==o.top;(s||a)&&t(),n=o,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)}const qme=H.forwardRef((e,t)=>{const{style:n,...r}=e,i=Tc(),o=zme(),{onThumbPositionChange:s}=o,a=Yo(t,c=>o.onThumbChange(c)),l=H.useRef(void 0),u=YM(()=>{l.current&&(l.current(),l.current=void 0)},100);return H.useEffect(()=>{const{viewport:c}=i;if(c){const d=()=>{if(u(),!l.current){const f=tFe(c,s);l.current=f,s()}};return s(),c.addEventListener("scroll",d),()=>c.removeEventListener("scroll",d)}},[i.viewport,u,s]),$.jsx("div",{"data-state":o.hasThumb?"visible":"hidden",...r,ref:a,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...n},onPointerDownCapture:My(e.onPointerDownCapture,c=>{const f=c.target.getBoundingClientRect(),h=c.clientX-f.left,p=c.clientY-f.top;o.onThumbPointerDown({x:h,y:p})}),onPointerUp:My(e.onPointerUp,o.onThumbPointerUp)})});qme.displayName="@mantine/core/ScrollAreaThumb";const z8=H.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=zme();return n||i.hasThumb?$.jsx(qme,{ref:t,...r}):null});z8.displayName="@mantine/core/ScrollAreaThumb";const Gme=H.forwardRef(({children:e,style:t,...n},r)=>{const i=Tc(),o=Yo(r,i.onViewportChange);return $.jsx(De,{...n,ref:o,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...t},children:$.jsx("div",{style:{minWidth:"100%",display:"table"},ref:i.onContentChange,children:e})})});Gme.displayName="@mantine/core/ScrollAreaViewport";var SU={root:"m_d57069b5",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const Yme={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},nFe=(e,{scrollbarSize:t,overscrollBehavior:n})=>({root:{"--scrollarea-scrollbar-size":je(t),"--scrollarea-over-scroll-behavior":n}}),Cp=ht((e,t)=>{const n=ze("ScrollArea",Yme,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,scrollbarSize:l,vars:u,type:c,scrollHideDelay:d,viewportProps:f,viewportRef:h,onScrollPositionChange:p,children:m,offsetScrollbars:g,scrollbars:y,onBottomReached:v,onTopReached:w,overscrollBehavior:E,..._}=n,[x,S]=H.useState(!1),[C,A]=H.useState(!1),[k,N]=H.useState(!1),M=Gt({name:"ScrollArea",props:n,classes:SU,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:nFe}),I=H.useRef(null),D=T4e([h,I]);return H.useEffect(()=>{if(!I.current||g!=="present")return;const R=I.current,O=new ResizeObserver(()=>{const{scrollHeight:B,clientHeight:z,scrollWidth:W,clientWidth:U}=R;A(B>z),N(W>U)});return O.observe(R),()=>O.disconnect()},[I,g]),$.jsxs(Lme,{type:c==="never"?"always":c,scrollHideDelay:d,ref:t,scrollbars:y,...M("root"),..._,children:[$.jsx(Gme,{...f,...M("viewport",{style:f==null?void 0:f.style}),ref:D,"data-offset-scrollbars":g===!0?"xy":g||void 0,"data-scrollbars":y||void 0,"data-horizontal-hidden":g==="present"&&!k?"true":void 0,"data-vertical-hidden":g==="present"&&!C?"true":void 0,onScroll:R=>{var W;(W=f==null?void 0:f.onScroll)==null||W.call(f,R),p==null||p({x:R.currentTarget.scrollLeft,y:R.currentTarget.scrollTop});const{scrollTop:O,scrollHeight:B,clientHeight:z}=R.currentTarget;O-(B-z)>=0&&(v==null||v()),O===0&&(w==null||w())},children:m}),(y==="xy"||y==="x")&&$.jsx(j8,{...M("scrollbar"),orientation:"horizontal","data-hidden":c==="never"||!k||void 0,forceMount:!0,onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),children:$.jsx(z8,{...M("thumb")})}),(y==="xy"||y==="y")&&$.jsx(j8,{...M("scrollbar"),orientation:"vertical","data-hidden":c==="never"||!C||void 0,forceMount:!0,onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),children:$.jsx(z8,{...M("thumb")})}),$.jsx(K4e,{...M("corner"),"data-hovered":x||void 0,"data-hidden":c==="never"||void 0})]})});Cp.displayName="@mantine/core/ScrollArea";const TU=ht((e,t)=>{const{children:n,classNames:r,styles:i,scrollbarSize:o,scrollHideDelay:s,type:a,dir:l,offsetScrollbars:u,viewportRef:c,onScrollPositionChange:d,unstyled:f,variant:h,viewportProps:p,scrollbars:m,style:g,vars:y,onBottomReached:v,onTopReached:w,...E}=ze("ScrollAreaAutosize",Yme,e);return $.jsx(De,{...E,ref:t,style:[{display:"flex",overflow:"auto"},g],children:$.jsx(De,{style:{display:"flex",flexDirection:"column",flex:1},children:$.jsx(Cp,{classNames:r,styles:i,scrollHideDelay:s,scrollbarSize:o,type:a,dir:l,offsetScrollbars:u,viewportRef:c,onScrollPositionChange:d,unstyled:f,variant:h,viewportProps:p,vars:y,scrollbars:m,onBottomReached:v,onTopReached:w,children:n})})})});Cp.classes=SU;TU.displayName="@mantine/core/ScrollAreaAutosize";TU.classes=SU;Cp.Autosize=TU;var Kme={root:"m_87cf2631"};const rFe={__staticSelector:"UnstyledButton"},Iu=Ro((e,t)=>{const n=ze("UnstyledButton",rFe,e),{className:r,component:i="button",__staticSelector:o,unstyled:s,classNames:a,styles:l,style:u,...c}=n,d=Gt({name:o,props:n,classes:Kme,className:r,style:u,classNames:a,styles:l,unstyled:s});return $.jsx(De,{...d("root",{focusable:!0}),component:i,ref:t,type:i==="button"?"button":void 0,...c})});Iu.classes=Kme;Iu.displayName="@mantine/core/UnstyledButton";var Xme={root:"m_515a97f8"};const iFe={},CU=ht((e,t)=>{const n=ze("VisuallyHidden",iFe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,...u}=n,c=Gt({name:"VisuallyHidden",classes:Xme,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a});return $.jsx(De,{component:"span",ref:t,...c("root"),...u})});CU.classes=Xme;CU.displayName="@mantine/core/VisuallyHidden";var Qme={root:"m_1b7284a3"};const oFe={},sFe=(e,{radius:t,shadow:n})=>({root:{"--paper-radius":t===void 0?void 0:Hr(t),"--paper-shadow":tU(n)}}),hx=Ro((e,t)=>{const n=ze("Paper",oFe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,withBorder:l,vars:u,radius:c,shadow:d,variant:f,mod:h,...p}=n,m=Gt({name:"Paper",props:n,classes:Qme,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:sFe});return $.jsx(De,{ref:t,mod:[{"data-with-border":l},h],...m("root"),variant:f,...p})});hx.classes=Qme;hx.displayName="@mantine/core/Paper";function Jme(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[n,r]=t.split("-"),i=n==="right"?"left":"right";return r===void 0?i:`${i}-${r}`}return t}function Gee(e,t,n,r){return e==="center"||r==="center"?{top:t}:e==="end"?{bottom:n}:e==="start"?{top:n}:{}}function Yee(e,t,n,r,i){return e==="center"||r==="center"?{left:t}:e==="end"?{[i==="ltr"?"right":"left"]:n}:e==="start"?{[i==="ltr"?"left":"right"]:n}:{}}const aFe={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function lFe({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:i,arrowX:o,arrowY:s,dir:a}){const[l,u="center"]=e.split("-"),c={width:t,height:t,transform:"rotate(45deg)",position:"absolute",[aFe[l]]:r},d=-t/2;return l==="left"?{...c,...Gee(u,s,n,i),right:d,borderLeftColor:"transparent",borderBottomColor:"transparent",clipPath:"polygon(100% 0, 0 0, 100% 100%)"}:l==="right"?{...c,...Gee(u,s,n,i),left:d,borderRightColor:"transparent",borderTopColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 100%)"}:l==="top"?{...c,...Yee(u,o,n,i,a),bottom:d,borderTopColor:"transparent",borderLeftColor:"transparent",clipPath:"polygon(0 100%, 100% 100%, 100% 0)"}:l==="bottom"?{...c,...Yee(u,o,n,i,a),top:d,borderBottomColor:"transparent",borderRightColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 0)"}:{}}const AU=H.forwardRef(({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:i,visible:o,arrowX:s,arrowY:a,style:l,...u},c)=>{const{dir:d}=t0();return o?$.jsx("div",{...u,ref:c,style:{...l,...lFe({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:i,dir:d,arrowX:s,arrowY:a})}}):null});AU.displayName="@mantine/core/FloatingArrow";var Zme={root:"m_9814e45f"};const uFe={zIndex:Kl("modal")},cFe=(e,{gradient:t,color:n,backgroundOpacity:r,blur:i,radius:o,zIndex:s})=>({root:{"--overlay-bg":t||(n!==void 0||r!==void 0)&&af(n||"#000",r??.6)||void 0,"--overlay-filter":i?`blur(${je(i)})`:void 0,"--overlay-radius":o===void 0?void 0:Hr(o),"--overlay-z-index":s==null?void 0:s.toString()}}),hw=Ro((e,t)=>{const n=ze("Overlay",uFe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,fixed:u,center:c,children:d,radius:f,zIndex:h,gradient:p,blur:m,color:g,backgroundOpacity:y,mod:v,...w}=n,E=Gt({name:"Overlay",props:n,classes:Zme,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:cFe});return $.jsx(De,{ref:t,...E("root"),mod:[{center:c,fixed:u},v],...w,children:d})});hw.classes=Zme;hw.displayName="@mantine/core/Overlay";function RF(e){const t=document.createElement("div");return t.setAttribute("data-portal","true"),typeof e.className=="string"&&t.classList.add(...e.className.split(" ").filter(Boolean)),typeof e.style=="object"&&Object.assign(t.style,e.style),typeof e.id=="string"&&t.setAttribute("id",e.id),t}function dFe({target:e,reuseTargetNode:t,...n}){if(e)return typeof e=="string"?document.querySelector(e)||RF(n):e;if(t){const r=document.querySelector("[data-mantine-shared-portal-node]");if(r)return r;const i=RF(n);return i.setAttribute("data-mantine-shared-portal-node","true"),document.body.appendChild(i),i}return RF(n)}const fFe={},ege=ht((e,t)=>{const{children:n,target:r,reuseTargetNode:i,...o}=ze("Portal",fFe,e),[s,a]=H.useState(!1),l=H.useRef(null);return $v(()=>(a(!0),l.current=dFe({target:r,reuseTargetNode:i,...o}),lD(t,l.current),!r&&!i&&l.current&&document.body.appendChild(l.current),()=>{!r&&!i&&l.current&&document.body.removeChild(l.current)}),[r]),!s||!l.current?null:ZM.createPortal($.jsx($.Fragment,{children:n}),l.current)});ege.displayName="@mantine/core/Portal";const n0=ht(({withinPortal:e=!0,children:t,...n},r)=>lme()==="test"||!e?$.jsx($.Fragment,{children:t}):$.jsx(ege,{ref:r,...n,children:t}));n0.displayName="@mantine/core/OptionalPortal";const X_=e=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${e==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),mk={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...X_("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...X_("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...X_("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...X_("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...X_("top"),common:{transformOrigin:"top right"}}},Kee={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function hFe({transition:e,state:t,duration:n,timingFunction:r}){const i={WebkitBackfaceVisibility:"hidden",willChange:"transform, opacity",transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof e=="string"?e in mk?{transitionProperty:mk[e].transitionProperty,...i,...mk[e].common,...mk[e][Kee[t]]}:{}:{transitionProperty:e.transitionProperty,...i,...e.common,...e[Kee[t]]}}function pFe({duration:e,exitDuration:t,timingFunction:n,mounted:r,onEnter:i,onExit:o,onEntered:s,onExited:a,enterDelay:l,exitDelay:u}){const c=Io(),d=KM(),f=c.respectReducedMotion?d:!1,[h,p]=H.useState(f?0:e),[m,g]=H.useState(r?"entered":"exited"),y=H.useRef(-1),v=H.useRef(-1),w=H.useRef(-1),E=x=>{const S=x?i:o,C=x?s:a;window.clearTimeout(y.current);const A=f?0:x?e:t;p(A),A===0?(typeof S=="function"&&S(),typeof C=="function"&&C(),g(x?"entered":"exited")):w.current=requestAnimationFrame(()=>{UE.flushSync(()=>{g(x?"pre-entering":"pre-exiting")}),w.current=requestAnimationFrame(()=>{typeof S=="function"&&S(),g(x?"entering":"exiting"),y.current=window.setTimeout(()=>{typeof C=="function"&&C(),g(x?"entered":"exited")},A)})})},_=x=>{if(window.clearTimeout(v.current),typeof(x?l:u)!="number"){E(x);return}v.current=window.setTimeout(()=>{E(x)},x?l:u)};return zf(()=>{_(r)},[r]),H.useEffect(()=>()=>{window.clearTimeout(y.current),cancelAnimationFrame(w.current)},[]),{transitionDuration:h,transitionStatus:m,transitionTimingFunction:n||"ease"}}function ih({keepMounted:e,transition:t="fade",duration:n=250,exitDuration:r=n,mounted:i,children:o,timingFunction:s="ease",onExit:a,onEntered:l,onEnter:u,onExited:c,enterDelay:d,exitDelay:f}){const h=lme(),{transitionDuration:p,transitionStatus:m,transitionTimingFunction:g}=pFe({mounted:i,exitDuration:r,duration:n,timingFunction:s,onExit:a,onEntered:l,onEnter:u,onExited:c,enterDelay:d,exitDelay:f});return p===0||h==="test"?i?$.jsx($.Fragment,{children:o({})}):e?o({display:"none"}):null:m==="exited"?e?o({display:"none"}):null:$.jsx($.Fragment,{children:o(hFe({transition:t,duration:p,state:m,timingFunction:g}))})}ih.displayName="@mantine/core/Transition";const[mFe,tge]=bs("Popover component was not found in the tree");function IC({children:e,active:t=!0,refProp:n="ref",innerRef:r}){const i=ZNe(t),o=Yo(i,r);return Wp(e)?H.cloneElement(e,{[n]:o}):e}function nge(e){return $.jsx(CU,{tabIndex:-1,"data-autofocus":!0,...e})}IC.displayName="@mantine/core/FocusTrap";nge.displayName="@mantine/core/FocusTrapInitialFocus";IC.InitialFocus=nge;var rge={dropdown:"m_38a85659",arrow:"m_a31dc6c1",overlay:"m_3d7bc908"};const gFe={},kU=ht((e,t)=>{var g,y,v,w;const n=ze("PopoverDropdown",gFe,e),{className:r,style:i,vars:o,children:s,onKeyDownCapture:a,variant:l,classNames:u,styles:c,...d}=n,f=tge(),h=tme({opened:f.opened,shouldReturnFocus:f.returnFocus}),p=f.withRoles?{"aria-labelledby":f.getTargetId(),id:f.getDropdownId(),role:"dialog",tabIndex:-1}:{},m=Yo(t,f.floating);return f.disabled?null:$.jsx(n0,{...f.portalProps,withinPortal:f.withinPortal,children:$.jsx(ih,{mounted:f.opened,...f.transitionProps,transition:((g=f.transitionProps)==null?void 0:g.transition)||"fade",duration:((y=f.transitionProps)==null?void 0:y.duration)??150,keepMounted:f.keepMounted,exitDuration:typeof((v=f.transitionProps)==null?void 0:v.exitDuration)=="number"?f.transitionProps.exitDuration:(w=f.transitionProps)==null?void 0:w.duration,children:E=>$.jsx(IC,{active:f.trapFocus&&f.opened,innerRef:m,children:$.jsxs(De,{...p,...d,variant:l,onKeyDownCapture:jNe(()=>{var _,x;(_=f.onClose)==null||_.call(f),(x=f.onDismiss)==null||x.call(f)},{active:f.closeOnEscape,onTrigger:h,onKeyDown:a}),"data-position":f.placement,"data-fixed":f.floatingStrategy==="fixed"||void 0,...f.getStyles("dropdown",{className:r,props:n,classNames:u,styles:c,style:[{...E,zIndex:f.zIndex,top:f.y??0,left:f.x??0,width:f.width==="target"?void 0:je(f.width)},f.resolvedStyles.dropdown,c==null?void 0:c.dropdown,i]}),children:[s,$.jsx(AU,{ref:f.arrowRef,arrowX:f.arrowX,arrowY:f.arrowY,visible:f.withArrow,position:f.placement,arrowSize:f.arrowSize,arrowRadius:f.arrowRadius,arrowOffset:f.arrowOffset,arrowPosition:f.arrowPosition,...f.getStyles("arrow",{props:n,classNames:u,styles:c})})]})})})})});kU.classes=rge;kU.displayName="@mantine/core/PopoverDropdown";const yFe={refProp:"ref",popupType:"dialog"},ige=ht((e,t)=>{const{children:n,refProp:r,popupType:i,...o}=ze("PopoverTarget",yFe,e);if(!Wp(n))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const s=o,a=tge(),l=Yo(a.reference,XM(n),t),u=a.withRoles?{"aria-haspopup":i,"aria-expanded":a.opened,"aria-controls":a.getDropdownId(),id:a.getTargetId()}:{};return H.cloneElement(n,{...s,...u,...a.targetProps,className:yo(a.targetProps.className,s.className,n.props.className),[r]:l,...a.controlled?null:{onClick:a.onToggle}})});ige.displayName="@mantine/core/PopoverTarget";function oge({opened:e,floating:t,position:n,positionDependencies:r}){const[i,o]=H.useState(0);H.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current&&e)return p4e(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference.current,t.refs.floating.current,e,i,n]),zf(()=>{t.update()},r),zf(()=>{o(s=>s+1)},[e])}function vFe(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function bFe(e,t){const n=vFe(e.middlewares),r=[$me(e.offset)];return n.shift&&r.push(vU(typeof n.shift=="boolean"?{limiter:Bee(),padding:5}:{limiter:Bee(),padding:5,...n.shift})),n.flip&&r.push(typeof n.flip=="boolean"?hD():hD(n.flip)),n.inline&&r.push(typeof n.inline=="boolean"?IS():IS(n.inline)),r.push(Mme({element:e.arrowRef,padding:e.arrowOffset})),(n.size||e.width==="target")&&r.push(S4e({...typeof n.size=="boolean"?{}:n.size,apply({rects:i,availableWidth:o,availableHeight:s,...a}){var c;const u=((c=t().refs.floating.current)==null?void 0:c.style)??{};n.size&&(typeof n.size=="object"&&n.size.apply?n.size.apply({rects:i,availableWidth:o,availableHeight:s,...a}):Object.assign(u,{maxWidth:`${o}px`,maxHeight:`${s}px`})),e.width==="target"&&Object.assign(u,{width:`${i.reference.width}px`})}})),r}function wFe(e){const[t,n]=gs({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),r=H.useRef(t),i=()=>{t&&n(!1)},o=()=>n(!t),s=_U({strategy:e.strategy,placement:e.position,middleware:bFe(e,()=>s)});return oge({opened:t,position:e.position,positionDependencies:e.positionDependencies||[],floating:s}),zf(()=>{var a;(a=e.onPositionChange)==null||a.call(e,s.placement)},[s.placement]),zf(()=>{var a,l;t!==r.current&&(t?(l=e.onOpen)==null||l.call(e):(a=e.onClose)==null||a.call(e)),r.current=t},[t,e.onClose,e.onOpen]),{floating:s,controlled:typeof e.opened=="boolean",opened:t,onClose:i,onToggle:o}}const xFe={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,withOverlay:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:Kl("popover"),__staticSelector:"Popover",width:"max-content"},_Fe=(e,{radius:t,shadow:n})=>({dropdown:{"--popover-radius":t===void 0?void 0:Hr(t),"--popover-shadow":tU(n)}});function Gs(e){var Tt,ue,xe,$e,Ye,tt;const t=ze("Popover",xFe,e),{children:n,position:r,offset:i,onPositionChange:o,positionDependencies:s,opened:a,transitionProps:l,onExitTransitionEnd:u,onEnterTransitionEnd:c,width:d,middlewares:f,withArrow:h,arrowSize:p,arrowOffset:m,arrowRadius:g,arrowPosition:y,unstyled:v,classNames:w,styles:E,closeOnClickOutside:_,withinPortal:x,portalProps:S,closeOnEscape:C,clickOutsideEvents:A,trapFocus:k,onClose:N,onDismiss:M,onOpen:I,onChange:D,zIndex:R,radius:O,shadow:B,id:z,defaultOpened:W,__staticSelector:U,withRoles:F,disabled:Y,returnFocus:V,variant:G,keepMounted:X,vars:Z,floatingStrategy:oe,withOverlay:ne,overlayProps:ie,...fe}=t,se=Gt({name:U,props:t,classes:rge,classNames:w,styles:E,unstyled:v,rootSelector:"dropdown",vars:Z,varsResolver:_Fe}),{resolvedStyles:ae}=Pv({classNames:w,styles:E,props:t}),Se=H.useRef(null),[Te,Oe]=H.useState(null),[We,Fe]=H.useState(null),{dir:Ue}=t0(),rt=cl(z),at=wFe({middlewares:f,width:d,position:Jme(Ue,r),offset:typeof i=="number"?i+(h?p/2:0):i,arrowRef:Se,arrowOffset:m,onPositionChange:o,positionDependencies:s,opened:a,defaultOpened:W,onChange:D,onOpen:I,onClose:N,onDismiss:M,strategy:oe});VNe(()=>{_&&(at.onClose(),M==null||M())},A,[Te,We]);const ct=H.useCallback(Et=>{Oe(Et),at.floating.refs.setReference(Et)},[at.floating.refs.setReference]),vt=H.useCallback(Et=>{Fe(Et),at.floating.refs.setFloating(Et)},[at.floating.refs.setFloating]),gt=H.useCallback(()=>{var Et;(Et=l==null?void 0:l.onExited)==null||Et.call(l),u==null||u()},[l==null?void 0:l.onExited,u]),Ze=H.useCallback(()=>{var Et;(Et=l==null?void 0:l.onEntered)==null||Et.call(l),c==null||c()},[l==null?void 0:l.onEntered,c]);return $.jsxs(mFe,{value:{returnFocus:V,disabled:Y,controlled:at.controlled,reference:ct,floating:vt,x:at.floating.x,y:at.floating.y,arrowX:(xe=(ue=(Tt=at.floating)==null?void 0:Tt.middlewareData)==null?void 0:ue.arrow)==null?void 0:xe.x,arrowY:(tt=(Ye=($e=at.floating)==null?void 0:$e.middlewareData)==null?void 0:Ye.arrow)==null?void 0:tt.y,opened:at.opened,arrowRef:Se,transitionProps:{...l,onExited:gt,onEntered:Ze},width:d,withArrow:h,arrowSize:p,arrowOffset:m,arrowRadius:g,arrowPosition:y,placement:at.floating.placement,trapFocus:k,withinPortal:x,portalProps:S,zIndex:R,radius:O,shadow:B,closeOnEscape:C,onDismiss:M,onClose:at.onClose,onToggle:at.onToggle,getTargetId:()=>`${rt}-target`,getDropdownId:()=>`${rt}-dropdown`,withRoles:F,targetProps:fe,__staticSelector:U,classNames:w,styles:E,unstyled:v,variant:G,keepMounted:X,getStyles:se,resolvedStyles:ae,floatingStrategy:oe},children:[n,ne&&$.jsx(ih,{transition:"fade",mounted:at.opened,duration:(l==null?void 0:l.duration)||250,exitDuration:(l==null?void 0:l.exitDuration)||250,children:Et=>$.jsx(n0,{withinPortal:x,children:$.jsx(hw,{...ie,...se("overlay",{className:ie==null?void 0:ie.className,style:[Et,ie==null?void 0:ie.style]})})})})]})}Gs.Target=ige;Gs.Dropdown=kU;Gs.displayName="@mantine/core/Popover";Gs.extend=e=>e;var ad={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const sge=H.forwardRef(({className:e,...t},n)=>$.jsxs(De,{component:"span",className:yo(ad.barsLoader,e),...t,ref:n,children:[$.jsx("span",{className:ad.bar}),$.jsx("span",{className:ad.bar}),$.jsx("span",{className:ad.bar})]}));sge.displayName="@mantine/core/Bars";const age=H.forwardRef(({className:e,...t},n)=>$.jsxs(De,{component:"span",className:yo(ad.dotsLoader,e),...t,ref:n,children:[$.jsx("span",{className:ad.dot}),$.jsx("span",{className:ad.dot}),$.jsx("span",{className:ad.dot})]}));age.displayName="@mantine/core/Dots";const lge=H.forwardRef(({className:e,...t},n)=>$.jsx(De,{component:"span",className:yo(ad.ovalLoader,e),...t,ref:n}));lge.displayName="@mantine/core/Oval";const uge={bars:sge,oval:lge,dots:age},EFe={loaders:uge,type:"oval"},SFe=(e,{size:t,color:n})=>({root:{"--loader-size":Nn(t,"loader-size"),"--loader-color":n?ni(n,e):void 0}}),oh=ht((e,t)=>{const n=ze("Loader",EFe,e),{size:r,color:i,type:o,vars:s,className:a,style:l,classNames:u,styles:c,unstyled:d,loaders:f,variant:h,children:p,...m}=n,g=Gt({name:"Loader",props:n,classes:ad,className:a,style:l,classNames:u,styles:c,unstyled:d,vars:s,varsResolver:SFe});return p?$.jsx(De,{...g("root"),ref:t,...m,children:p}):$.jsx(De,{...g("root"),ref:t,component:f[o],variant:h,size:r,...m})});oh.defaultLoaders=uge;oh.classes=ad;oh.displayName="@mantine/core/Loader";var px={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21",groupSection:"m_437b6484"};const Xee={orientation:"horizontal"},TFe=(e,{borderWidth:t})=>({group:{"--ai-border-width":je(t)}}),IU=ht((e,t)=>{const n=ze("ActionIconGroup",Xee,e),{className:r,style:i,classNames:o,styles:s,unstyled:a,orientation:l,vars:u,borderWidth:c,variant:d,mod:f,...h}=ze("ActionIconGroup",Xee,e),p=Gt({name:"ActionIconGroup",props:n,classes:px,className:r,style:i,classNames:o,styles:s,unstyled:a,vars:u,varsResolver:TFe,rootSelector:"group"});return $.jsx(De,{...p("group"),ref:t,variant:d,mod:[{"data-orientation":l},f],role:"group",...h})});IU.classes=px;IU.displayName="@mantine/core/ActionIconGroup";const Qee={},CFe=(e,{radius:t,color:n,gradient:r,variant:i,autoContrast:o,size:s})=>{const a=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:i||"filled",autoContrast:o});return{groupSection:{"--section-height":Nn(s,"section-height"),"--section-padding-x":Nn(s,"section-padding-x"),"--section-fz":qs(s),"--section-radius":t===void 0?void 0:Hr(t),"--section-bg":n||i?a.background:void 0,"--section-color":a.color,"--section-bd":n||i?a.border:void 0}}},RU=ht((e,t)=>{const n=ze("ActionIconGroupSection",Qee,e),{className:r,style:i,classNames:o,styles:s,unstyled:a,vars:l,variant:u,gradient:c,radius:d,autoContrast:f,...h}=ze("ActionIconGroupSection",Qee,e),p=Gt({name:"ActionIconGroupSection",props:n,classes:px,className:r,style:i,classNames:o,styles:s,unstyled:a,vars:l,varsResolver:CFe,rootSelector:"groupSection"});return $.jsx(De,{...p("groupSection"),ref:t,variant:u,...h})});RU.classes=px;RU.displayName="@mantine/core/ActionIconGroupSection";const AFe={},kFe=(e,{size:t,radius:n,variant:r,gradient:i,color:o,autoContrast:s})=>{const a=e.variantColorResolver({color:o||e.primaryColor,theme:e,gradient:i,variant:r||"filled",autoContrast:s});return{root:{"--ai-size":Nn(t,"ai-size"),"--ai-radius":n===void 0?void 0:Hr(n),"--ai-bg":o||r?a.background:void 0,"--ai-hover":o||r?a.hover:void 0,"--ai-hover-color":o||r?a.hoverColor:void 0,"--ai-color":a.color,"--ai-bd":o||r?a.border:void 0}}},r0=Ro((e,t)=>{const n=ze("ActionIcon",AFe,e),{className:r,unstyled:i,variant:o,classNames:s,styles:a,style:l,loading:u,loaderProps:c,size:d,color:f,radius:h,__staticSelector:p,gradient:m,vars:g,children:y,disabled:v,"data-disabled":w,autoContrast:E,mod:_,...x}=n,S=Gt({name:["ActionIcon",p],props:n,className:r,style:l,classes:px,classNames:s,styles:a,unstyled:i,vars:g,varsResolver:kFe});return $.jsxs(Iu,{...S("root",{active:!v&&!u&&!w}),...x,unstyled:i,variant:o,size:d,disabled:v||u,ref:t,mod:[{loading:u,disabled:v||w},_],children:[$.jsx(ih,{mounted:!!u,transition:"slide-down",duration:150,children:C=>$.jsx(De,{component:"span",...S("loader",{style:C}),"aria-hidden":!0,children:$.jsx(oh,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...c})})}),$.jsx(De,{component:"span",mod:{loading:u},...S("icon"),children:y})]})});r0.classes=px;r0.displayName="@mantine/core/ActionIcon";r0.Group=IU;r0.GroupSection=RU;const cge=H.forwardRef(({size:e="var(--cb-icon-size, 70%)",style:t,...n},r)=>$.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...t,width:e,height:e},ref:r,...n,children:$.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));cge.displayName="@mantine/core/CloseIcon";var dge={root:"m_86a44da5","root--subtle":"m_220c80f2"};const IFe={variant:"subtle"},RFe=(e,{size:t,radius:n,iconSize:r})=>({root:{"--cb-size":Nn(t,"cb-size"),"--cb-radius":n===void 0?void 0:Hr(n),"--cb-icon-size":je(r)}}),i0=Ro((e,t)=>{const n=ze("CloseButton",IFe,e),{iconSize:r,children:i,vars:o,radius:s,className:a,classNames:l,style:u,styles:c,unstyled:d,"data-disabled":f,disabled:h,variant:p,icon:m,mod:g,__staticSelector:y,...v}=n,w=Gt({name:y||"CloseButton",props:n,className:a,style:u,classes:dge,classNames:l,styles:c,unstyled:d,vars:o,varsResolver:RFe});return $.jsxs(Iu,{ref:t,...v,unstyled:d,variant:p,disabled:h,mod:[{disabled:h||f},g],...w("root",{variant:p,active:!h&&!f}),children:[m||$.jsx(cge,{}),i]})});i0.classes=dge;i0.displayName="@mantine/core/CloseButton";function DFe(e){return H.Children.toArray(e).filter(Boolean)}var fge={root:"m_4081bf90"};const $Fe={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},MFe=(e,{grow:t,preventGrowOverflow:n,gap:r,align:i,justify:o,wrap:s},{childWidth:a})=>({root:{"--group-child-width":t&&n?a:void 0,"--group-gap":ki(r),"--group-align":i,"--group-justify":o,"--group-wrap":s}}),ri=ht((e,t)=>{const n=ze("Group",$Fe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,children:l,gap:u,align:c,justify:d,wrap:f,grow:h,preventGrowOverflow:p,vars:m,variant:g,__size:y,mod:v,...w}=n,E=DFe(l),_=E.length,x=ki(u??"md"),C={childWidth:`calc(${100/_}% - (${x} - ${x} / ${_}))`},A=Gt({name:"Group",props:n,stylesCtx:C,className:i,style:o,classes:fge,classNames:r,styles:s,unstyled:a,vars:m,varsResolver:MFe});return $.jsx(De,{...A("root"),ref:t,variant:g,mod:[{grow:h},v],size:y,...w,children:E})});ri.classes=fge;ri.displayName="@mantine/core/Group";const[PFe,Gp]=bs("ModalBase component was not found in tree");function NFe({opened:e,transitionDuration:t}){const[n,r]=H.useState(e),i=H.useRef(-1),s=KM()?0:t;return H.useEffect(()=>(e?(r(!0),window.clearTimeout(i.current)):s===0?r(!1):i.current=window.setTimeout(()=>r(!1),s),()=>window.clearTimeout(i.current)),[e,s]),n}function OFe({id:e,transitionProps:t,opened:n,trapFocus:r,closeOnEscape:i,onClose:o,returnFocus:s}){const a=cl(e),[l,u]=H.useState(!1),[c,d]=H.useState(!1),f=typeof(t==null?void 0:t.duration)=="number"?t==null?void 0:t.duration:200,h=NFe({opened:n,transitionDuration:f});return ome("keydown",p=>{var m;p.key==="Escape"&&i&&n&&((m=p.target)==null?void 0:m.getAttribute("data-mantine-stop-propagation"))!=="true"&&o()},{capture:!0}),tme({opened:n,shouldReturnFocus:r&&s}),{_id:a,titleMounted:l,bodyMounted:c,shouldLockScroll:h,setTitleMounted:u,setBodyMounted:d}}const hge=H.forwardRef(({keepMounted:e,opened:t,onClose:n,id:r,transitionProps:i,onExitTransitionEnd:o,onEnterTransitionEnd:s,trapFocus:a,closeOnEscape:l,returnFocus:u,closeOnClickOutside:c,withinPortal:d,portalProps:f,lockScroll:h,children:p,zIndex:m,shadow:g,padding:y,__vars:v,unstyled:w,removeScrollProps:E,..._},x)=>{const{_id:S,titleMounted:C,bodyMounted:A,shouldLockScroll:k,setTitleMounted:N,setBodyMounted:M}=OFe({id:r,transitionProps:i,opened:t,trapFocus:a,closeOnEscape:l,onClose:n,returnFocus:u}),{key:I,...D}=E||{};return $.jsx(n0,{...f,withinPortal:d,children:$.jsx(PFe,{value:{opened:t,onClose:n,closeOnClickOutside:c,onExitTransitionEnd:o,onEnterTransitionEnd:s,transitionProps:{...i,keepMounted:e},getTitleId:()=>`${S}-title`,getBodyId:()=>`${S}-body`,titleMounted:C,bodyMounted:A,setTitleMounted:N,setBodyMounted:M,trapFocus:a,closeOnEscape:l,zIndex:m,unstyled:w},children:$.jsx(cw,{enabled:k&&h,...D,children:$.jsx(De,{ref:x,..._,__vars:{...v,"--mb-z-index":(m||Kl("modal")).toString(),"--mb-shadow":tU(g),"--mb-padding":ki(y)},children:p})},I)})})});hge.displayName="@mantine/core/ModalBase";function LFe(){const e=Gp();return H.useEffect(()=>(e.setBodyMounted(!0),()=>e.setBodyMounted(!1)),[]),e.getBodyId()}var pw={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};const pge=H.forwardRef(({className:e,...t},n)=>{const r=LFe(),i=Gp();return $.jsx(De,{ref:n,...t,id:r,className:yo({[pw.body]:!i.unstyled},e)})});pge.displayName="@mantine/core/ModalBaseBody";const mge=H.forwardRef(({className:e,onClick:t,...n},r)=>{const i=Gp();return $.jsx(i0,{ref:r,...n,onClick:o=>{i.onClose(),t==null||t(o)},className:yo({[pw.close]:!i.unstyled},e),unstyled:i.unstyled})});mge.displayName="@mantine/core/ModalBaseCloseButton";const gge=H.forwardRef(({transitionProps:e,className:t,innerProps:n,onKeyDown:r,style:i,...o},s)=>{const a=Gp();return $.jsx(ih,{mounted:a.opened,transition:"pop",...a.transitionProps,onExited:()=>{var l,u,c;(l=a.onExitTransitionEnd)==null||l.call(a),(c=(u=a.transitionProps)==null?void 0:u.onExited)==null||c.call(u)},onEntered:()=>{var l,u,c;(l=a.onEnterTransitionEnd)==null||l.call(a),(c=(u=a.transitionProps)==null?void 0:u.onEntered)==null||c.call(u)},...e,children:l=>$.jsx("div",{...n,className:yo({[pw.inner]:!a.unstyled},n.className),children:$.jsx(IC,{active:a.opened&&a.trapFocus,innerRef:s,children:$.jsx(hx,{...o,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":a.bodyMounted?a.getBodyId():void 0,"aria-labelledby":a.titleMounted?a.getTitleId():void 0,style:[i,l],className:yo({[pw.content]:!a.unstyled},t),unstyled:a.unstyled,children:o.children})})})})});gge.displayName="@mantine/core/ModalBaseContent";const yge=H.forwardRef(({className:e,...t},n)=>{const r=Gp();return $.jsx(De,{component:"header",ref:n,className:yo({[pw.header]:!r.unstyled},e),...t})});yge.displayName="@mantine/core/ModalBaseHeader";const FFe={duration:200,timingFunction:"ease",transition:"fade"};function BFe(e){const t=Gp();return{...FFe,...t.transitionProps,...e}}const vge=H.forwardRef(({onClick:e,transitionProps:t,style:n,visible:r,...i},o)=>{const s=Gp(),a=BFe(t);return $.jsx(ih,{mounted:r!==void 0?r:s.opened,...a,transition:"fade",children:l=>$.jsx(hw,{ref:o,fixed:!0,style:[n,l],zIndex:s.zIndex,unstyled:s.unstyled,onClick:u=>{e==null||e(u),s.closeOnClickOutside&&s.onClose()},...i})})});vge.displayName="@mantine/core/ModalBaseOverlay";function jFe(){const e=Gp();return H.useEffect(()=>(e.setTitleMounted(!0),()=>e.setTitleMounted(!1)),[]),e.getTitleId()}const bge=H.forwardRef(({className:e,...t},n)=>{const r=jFe(),i=Gp();return $.jsx(De,{component:"h2",ref:n,className:yo({[pw.title]:!i.unstyled},e),...t,id:r})});bge.displayName="@mantine/core/ModalBaseTitle";function zFe({children:e}){return $.jsx($.Fragment,{children:e})}const[UFe,HFe]=e0({size:"sm"}),VFe={},wge=ht((e,t)=>{const n=ze("InputClearButton",VFe,e),{size:r,variant:i,vars:o,classNames:s,styles:a,...l}=n,u=HFe(),{resolvedClassNames:c,resolvedStyles:d}=Pv({classNames:s,styles:a,props:n});return $.jsx(i0,{variant:i||"transparent",ref:t,size:r||(u==null?void 0:u.size)||"sm",classNames:c,styles:d,__staticSelector:"InputClearButton",...l})});wge.displayName="@mantine/core/InputClearButton";const[WFe,mx]=e0({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var Cc={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const Jee={},qFe=(e,{size:t})=>({description:{"--input-description-size":t===void 0?void 0:`calc(${qs(t)} - ${je(2)})`}}),aP=ht((e,t)=>{const n=ze("InputDescription",Jee,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,size:u,__staticSelector:c,__inheritStyles:d=!0,variant:f,...h}=ze("InputDescription",Jee,n),p=mx(),m=Gt({name:["InputWrapper",c],props:n,classes:Cc,className:i,style:o,classNames:r,styles:s,unstyled:a,rootSelector:"description",vars:l,varsResolver:qFe}),g=d&&(p==null?void 0:p.getStyles)||m;return $.jsx(De,{component:"p",ref:t,variant:f,size:u,...g("description",p!=null&&p.getStyles?{className:i,style:o}:void 0),...h})});aP.classes=Cc;aP.displayName="@mantine/core/InputDescription";const GFe={},YFe=(e,{size:t})=>({error:{"--input-error-size":t===void 0?void 0:`calc(${qs(t)} - ${je(2)})`}}),lP=ht((e,t)=>{const n=ze("InputError",GFe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,size:u,__staticSelector:c,__inheritStyles:d=!0,variant:f,...h}=n,p=Gt({name:["InputWrapper",c],props:n,classes:Cc,className:i,style:o,classNames:r,styles:s,unstyled:a,rootSelector:"error",vars:l,varsResolver:YFe}),m=mx(),g=d&&(m==null?void 0:m.getStyles)||p;return $.jsx(De,{component:"p",ref:t,variant:f,size:u,...g("error",m!=null&&m.getStyles?{className:i,style:o}:void 0),...h})});lP.classes=Cc;lP.displayName="@mantine/core/InputError";const Zee={labelElement:"label"},KFe=(e,{size:t})=>({label:{"--input-label-size":qs(t),"--input-asterisk-color":void 0}}),uP=ht((e,t)=>{const n=ze("InputLabel",Zee,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,labelElement:u,size:c,required:d,htmlFor:f,onMouseDown:h,children:p,__staticSelector:m,variant:g,mod:y,...v}=ze("InputLabel",Zee,n),w=Gt({name:["InputWrapper",m],props:n,classes:Cc,className:i,style:o,classNames:r,styles:s,unstyled:a,rootSelector:"label",vars:l,varsResolver:KFe}),E=mx(),_=(E==null?void 0:E.getStyles)||w;return $.jsxs(De,{..._("label",E!=null&&E.getStyles?{className:i,style:o}:void 0),component:u,variant:g,size:c,ref:t,htmlFor:u==="label"?f:void 0,mod:[{required:d},y],onMouseDown:x=>{h==null||h(x),!x.defaultPrevented&&x.detail>1&&x.preventDefault()},...v,children:[p,d&&$.jsx("span",{..._("required"),"aria-hidden":!0,children:" *"})]})});uP.classes=Cc;uP.displayName="@mantine/core/InputLabel";const ete={},DU=ht((e,t)=>{const n=ze("InputPlaceholder",ete,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,__staticSelector:u,variant:c,error:d,mod:f,...h}=ze("InputPlaceholder",ete,n),p=Gt({name:["InputPlaceholder",u],props:n,classes:Cc,className:i,style:o,classNames:r,styles:s,unstyled:a,rootSelector:"placeholder"});return $.jsx(De,{...p("placeholder"),mod:[{error:!!d},f],component:"span",variant:c,ref:t,...h})});DU.classes=Cc;DU.displayName="@mantine/core/InputPlaceholder";function XFe(e,{hasDescription:t,hasError:n}){const r=e.findIndex(l=>l==="input"),i=e.slice(0,r),o=e.slice(r+1),s=t&&i.includes("description")||n&&i.includes("error");return{offsetBottom:t&&o.includes("description")||n&&o.includes("error"),offsetTop:s}}const QFe={labelElement:"label",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},JFe=(e,{size:t})=>({label:{"--input-label-size":qs(t),"--input-asterisk-color":void 0},error:{"--input-error-size":t===void 0?void 0:`calc(${qs(t)} - ${je(2)})`},description:{"--input-description-size":t===void 0?void 0:`calc(${qs(t)} - ${je(2)})`}}),$U=ht((e,t)=>{const n=ze("InputWrapper",QFe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,size:u,variant:c,__staticSelector:d,inputContainer:f,inputWrapperOrder:h,label:p,error:m,description:g,labelProps:y,descriptionProps:v,errorProps:w,labelElement:E,children:_,withAsterisk:x,id:S,required:C,__stylesApiProps:A,mod:k,...N}=n,M=Gt({name:["InputWrapper",d],props:A||n,classes:Cc,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:JFe}),I={size:u,variant:c,__staticSelector:d},D=cl(S),R=typeof x=="boolean"?x:C,O=(w==null?void 0:w.id)||`${D}-error`,B=(v==null?void 0:v.id)||`${D}-description`,z=D,W=!!m&&typeof m!="boolean",U=!!g,F=`${W?O:""} ${U?B:""}`,Y=F.trim().length>0?F.trim():void 0,V=(y==null?void 0:y.id)||`${D}-label`,G=p&&$.jsx(uP,{labelElement:E,id:V,htmlFor:z,required:R,...I,...y,children:p},"label"),X=U&&$.jsx(aP,{...v,...I,size:(v==null?void 0:v.size)||I.size,id:(v==null?void 0:v.id)||B,children:g},"description"),Z=$.jsx(H.Fragment,{children:f(_)},"input"),oe=W&&H.createElement(lP,{...w,...I,size:(w==null?void 0:w.size)||I.size,key:"error",id:(w==null?void 0:w.id)||O},m),ne=h.map(ie=>{switch(ie){case"label":return G;case"input":return Z;case"description":return X;case"error":return oe;default:return null}});return $.jsx(WFe,{value:{getStyles:M,describedBy:Y,inputId:z,labelId:V,...XFe(h,{hasDescription:U,hasError:W})},children:$.jsx(De,{ref:t,variant:c,size:u,mod:[{error:!!m},k],...M("root"),...N,children:ne})})});$U.classes=Cc;$U.displayName="@mantine/core/InputWrapper";const ZFe={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},e5e=(e,t,n)=>({wrapper:{"--input-margin-top":n.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":n.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":Nn(t.size,"input-height"),"--input-fz":qs(t.size),"--input-radius":t.radius===void 0?void 0:Hr(t.radius),"--input-left-section-width":t.leftSectionWidth!==void 0?je(t.leftSectionWidth):void 0,"--input-right-section-width":t.rightSectionWidth!==void 0?je(t.rightSectionWidth):void 0,"--input-padding-y":t.multiline?Nn(t.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":t.leftSectionPointerEvents,"--input-right-section-pointer-events":t.rightSectionPointerEvents}}),Xr=Ro((e,t)=>{const n=ze("Input",ZFe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,required:l,__staticSelector:u,__stylesApiProps:c,size:d,wrapperProps:f,error:h,disabled:p,leftSection:m,leftSectionProps:g,leftSectionWidth:y,rightSection:v,rightSectionProps:w,rightSectionWidth:E,rightSectionPointerEvents:_,leftSectionPointerEvents:x,variant:S,vars:C,pointer:A,multiline:k,radius:N,id:M,withAria:I,withErrorStyles:D,mod:R,inputSize:O,__clearSection:B,__clearable:z,__defaultRightSection:W,...U}=n,{styleProps:F,rest:Y}=Ov(U),V=mx(),G={offsetBottom:V==null?void 0:V.offsetBottom,offsetTop:V==null?void 0:V.offsetTop},X=Gt({name:["Input",u],props:c||n,classes:Cc,className:i,style:o,classNames:r,styles:s,unstyled:a,stylesCtx:G,rootSelector:"wrapper",vars:C,varsResolver:e5e}),Z=I?{required:l,disabled:p,"aria-invalid":!!h,"aria-describedby":V==null?void 0:V.describedBy,id:(V==null?void 0:V.inputId)||M}:{},oe=v||z&&B||W;return $.jsx(UFe,{value:{size:d||"sm"},children:$.jsxs(De,{...X("wrapper"),...F,...f,mod:[{error:!!h&&D,pointer:A,disabled:p,multiline:k,"data-with-right-section":!!oe,"data-with-left-section":!!m},R],variant:S,size:d,children:[m&&$.jsx("div",{...g,"data-position":"left",...X("section",{className:g==null?void 0:g.className,style:g==null?void 0:g.style}),children:m}),$.jsx(De,{component:"input",...Y,...Z,ref:t,required:l,mod:{disabled:p,error:!!h&&D},variant:S,__size:O,...X("input")}),oe&&$.jsx("div",{...w,"data-position":"right",...X("section",{className:w==null?void 0:w.className,style:w==null?void 0:w.style}),children:oe})]})})});Xr.classes=Cc;Xr.Wrapper=$U;Xr.Label=uP;Xr.Error=lP;Xr.Description=aP;Xr.Placeholder=DU;Xr.ClearButton=wge;Xr.displayName="@mantine/core/Input";function t5e(e,t,n){const r=ze(e,t,n),{label:i,description:o,error:s,required:a,classNames:l,styles:u,className:c,unstyled:d,__staticSelector:f,__stylesApiProps:h,errorProps:p,labelProps:m,descriptionProps:g,wrapperProps:y,id:v,size:w,style:E,inputContainer:_,inputWrapperOrder:x,withAsterisk:S,variant:C,vars:A,mod:k,...N}=r,{styleProps:M,rest:I}=Ov(N),D={label:i,description:o,error:s,required:a,classNames:l,className:c,__staticSelector:f,__stylesApiProps:h||r,errorProps:p,labelProps:m,descriptionProps:g,unstyled:d,styles:u,size:w,style:E,inputContainer:_,inputWrapperOrder:x,withAsterisk:S,variant:C,id:v,mod:k,...y};return{...I,classNames:l,styles:u,unstyled:d,wrapperProps:{...D,...M},inputProps:{required:a,classNames:l,styles:u,unstyled:d,size:w,__staticSelector:f,__stylesApiProps:h||r,error:s,variant:C,id:v}}}const n5e={__staticSelector:"InputBase",withAria:!0},Ac=Ro((e,t)=>{const{inputProps:n,wrapperProps:r,...i}=t5e("InputBase",n5e,e);return $.jsx(Xr.Wrapper,{...r,children:$.jsx(Xr,{...n,...i,ref:t})})});Ac.classes={...Xr.classes,...Xr.Wrapper.classes};Ac.displayName="@mantine/core/InputBase";const r5e={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"identity",property:"alignItems"},justify:{type:"identity",property:"justifyContent"},wrap:{type:"identity",property:"flexWrap"},direction:{type:"identity",property:"flexDirection"}};var xge={root:"m_8bffd616"};const i5e={},Kt=Ro((e,t)=>{const n=ze("Flex",i5e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,gap:u,rowGap:c,columnGap:d,align:f,justify:h,wrap:p,direction:m,...g}=n,y=Gt({name:"Flex",classes:xge,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l}),v=Io(),w=AC(),E=pme({styleProps:{gap:u,rowGap:c,columnGap:d,align:f,justify:h,wrap:p,direction:m},theme:v,data:r5e});return $.jsxs($.Fragment,{children:[E.hasResponsiveStyles&&$.jsx(Nv,{selector:`.${w}`,styles:E.styles,media:E.media}),$.jsx(De,{ref:t,...y("root",{className:w,style:Zg(E.inlineStyles)}),...g})]})});Kt.classes=xge;Kt.displayName="@mantine/core/Flex";const[o5e,MU]=bs("Accordion component was not found in the tree");function cP({style:e,size:t=16,...n}){return $.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:je(t),height:je(t),display:"block"},...n,children:$.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}cP.displayName="@mantine/core/AccordionChevron";const[s5e,_ge]=bs("Accordion.Item component was not found in the tree");var RC={root:"m_9bdbb667",panel:"m_df78851f",content:"m_4ba554d4",itemTitle:"m_8fa820a0",control:"m_4ba585b8","control--default":"m_6939a5e9","control--contained":"m_4271d21b",label:"m_df3ffa0f",chevron:"m_3f35ae96",icon:"m_9bd771fe",item:"m_9bd7b098","item--default":"m_fe19b709","item--contained":"m_1f921b3b","item--filled":"m_2cdf939a","item--separated":"m_9f59b069"};const a5e={},PU=ht((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,chevron:a,icon:l,onClick:u,onKeyDown:c,children:d,disabled:f,mod:h,...p}=ze("AccordionControl",a5e,e),{value:m}=_ge(),g=MU(),y=g.isItemActive(m),v=typeof g.order=="number",w=`h${g.order}`,E=$.jsxs(Iu,{...p,...g.getStyles("control",{className:r,classNames:n,style:i,styles:o,variant:g.variant}),unstyled:g.unstyled,mod:["accordion-control",{active:y,"chevron-position":g.chevronPosition,disabled:f},h],ref:t,onClick:_=>{u==null||u(_),g.onChange(m)},type:"button",disabled:f,"aria-expanded":y,"aria-controls":g.getRegionId(m),id:g.getControlId(m),onKeyDown:eU({siblingSelector:"[data-accordion-control]",parentSelector:"[data-accordion]",activateOnFocus:!1,loop:g.loop,orientation:"vertical",onKeyDown:c}),children:[$.jsx(De,{component:"span",mod:{rotate:!g.disableChevronRotation&&y,position:g.chevronPosition},...g.getStyles("chevron",{classNames:n,styles:o}),children:a||g.chevron}),$.jsx("span",{...g.getStyles("label",{classNames:n,styles:o}),children:d}),l&&$.jsx(De,{component:"span",mod:{"chevron-position":g.chevronPosition},...g.getStyles("icon",{classNames:n,styles:o}),children:l})]});return v?$.jsx(w,{...g.getStyles("itemTitle",{classNames:n,styles:o}),children:E}):E});PU.displayName="@mantine/core/AccordionControl";PU.classes=RC;const l5e={},NU=ht((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,value:a,mod:l,...u}=ze("AccordionItem",l5e,e),c=MU();return $.jsx(s5e,{value:{value:a},children:$.jsx(De,{ref:t,mod:[{active:c.isItemActive(a)},l],...c.getStyles("item",{className:r,classNames:n,styles:o,style:i,variant:c.variant}),...u})})});NU.displayName="@mantine/core/AccordionItem";NU.classes=RC;const u5e={},OU=ht((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,children:a,...l}=ze("AccordionPanel",u5e,e),{value:u}=_ge(),c=MU();return $.jsx(eP,{ref:t,...c.getStyles("panel",{className:r,classNames:n,style:i,styles:o}),...l,in:c.isItemActive(u),transitionDuration:c.transitionDuration??200,role:"region",id:c.getRegionId(u),"aria-labelledby":c.getControlId(u),children:$.jsx("div",{...c.getStyles("content",{classNames:n,styles:o}),children:a})})});OU.displayName="@mantine/core/AccordionPanel";OU.classes=RC;const c5e={multiple:!1,disableChevronRotation:!1,chevronPosition:"right",variant:"default",chevron:$.jsx(cP,{})},d5e=(e,{transitionDuration:t,chevronSize:n,radius:r})=>({root:{"--accordion-transition-duration":t===void 0?void 0:`${t}ms`,"--accordion-chevron-size":n===void 0?void 0:je(n),"--accordion-radius":r===void 0?void 0:Hr(r)}});function va(e){const t=ze("Accordion",c5e,e),{classNames:n,className:r,style:i,styles:o,unstyled:s,vars:a,children:l,multiple:u,value:c,defaultValue:d,onChange:f,id:h,loop:p,transitionDuration:m,disableChevronRotation:g,chevronPosition:y,chevronSize:v,order:w,chevron:E,variant:_,radius:x,...S}=t,C=cl(h),[A,k]=gs({value:c,defaultValue:d,finalValue:u?[]:null,onChange:f}),N=D=>Array.isArray(A)?A.includes(D):D===A,M=D=>{const R=Array.isArray(A)?A.includes(D)?A.filter(O=>O!==D):[...A,D]:D===A?null:D;k(R)},I=Gt({name:"Accordion",classes:RC,props:t,className:r,style:i,classNames:n,styles:o,unstyled:s,vars:a,varsResolver:d5e});return $.jsx(o5e,{value:{isItemActive:N,onChange:M,getControlId:oD(`${C}-control`,"Accordion.Item component was rendered with invalid value or without value"),getRegionId:oD(`${C}-panel`,"Accordion.Item component was rendered with invalid value or without value"),transitionDuration:m,disableChevronRotation:g,chevronPosition:y,order:w,chevron:E,loop:p,getStyles:I,variant:_,unstyled:s},children:$.jsx(De,{...I("root"),id:C,...S,variant:_,"data-accordion":!0,children:l})})}const f5e=e=>e;va.extend=f5e;va.withProps=bme(va);va.classes=RC;va.displayName="@mantine/core/Accordion";va.Item=NU;va.Panel=OU;va.Control=PU;va.Chevron=cP;var Ege={root:"m_7f854edf"};const h5e={position:{bottom:0,right:0},zIndex:Kl("modal"),withinPortal:!0},p5e=(e,{zIndex:t,position:n})=>({root:{"--affix-z-index":t==null?void 0:t.toString(),"--affix-top":ki(n==null?void 0:n.top),"--affix-left":ki(n==null?void 0:n.left),"--affix-bottom":ki(n==null?void 0:n.bottom),"--affix-right":ki(n==null?void 0:n.right)}}),LU=ht((e,t)=>{const n=ze("Affix",h5e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,portalProps:u,zIndex:c,withinPortal:d,position:f,...h}=n,p=Gt({name:"Affix",classes:Ege,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:p5e});return $.jsx(n0,{...u,withinPortal:d,children:$.jsx(De,{ref:t,...p("root"),...h})})});LU.classes=Ege;LU.displayName="@mantine/core/Affix";var Sge={root:"m_66836ed3",wrapper:"m_a5d60502",body:"m_667c2793",title:"m_6a03f287",label:"m_698f4f23",icon:"m_667f2a6a",message:"m_7fa78076",closeButton:"m_87f54839"};const m5e={},g5e=(e,{radius:t,color:n,variant:r,autoContrast:i})=>{const o=e.variantColorResolver({color:n||e.primaryColor,theme:e,variant:r||"light",autoContrast:i});return{root:{"--alert-radius":t===void 0?void 0:Hr(t),"--alert-bg":n||r?o.background:void 0,"--alert-color":o.color,"--alert-bd":n||r?o.border:void 0}}},dp=ht((e,t)=>{const n=ze("Alert",m5e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,radius:u,color:c,title:d,children:f,id:h,icon:p,withCloseButton:m,onClose:g,closeButtonLabel:y,variant:v,autoContrast:w,...E}=n,_=Gt({name:"Alert",classes:Sge,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:g5e}),x=cl(h),S=d&&`${x}-title`||void 0,C=`${x}-body`;return $.jsx(De,{id:x,..._("root",{variant:v}),variant:v,ref:t,...E,role:"alert","aria-describedby":C,"aria-labelledby":S,children:$.jsxs("div",{..._("wrapper"),children:[p&&$.jsx("div",{..._("icon"),children:p}),$.jsxs("div",{..._("body"),children:[d&&$.jsx("div",{..._("title"),"data-with-close-button":m||void 0,children:$.jsx("span",{id:S,..._("label"),children:d})}),f&&$.jsx("div",{id:C,..._("message"),"data-variant":v,children:f})]}),m&&$.jsx(i0,{..._("closeButton"),onClick:g,variant:"transparent",size:16,iconSize:16,"aria-label":y,unstyled:a})]})})});dp.classes=Sge;dp.displayName="@mantine/core/Alert";var Tge={root:"m_b6d8b162"};function y5e(e){if(e==="start")return"start";if(e==="end"||e)return"end"}const v5e={inherit:!1},b5e=(e,{variant:t,lineClamp:n,gradient:r,size:i,color:o})=>({root:{"--text-fz":qs(i),"--text-lh":Zpe(i),"--text-gradient":t==="gradient"?D8(r,e):void 0,"--text-line-clamp":typeof n=="number"?n.toString():void 0,"--text-color":o?ni(o,e):void 0}}),it=Ro((e,t)=>{const n=ze("Text",v5e,e),{lineClamp:r,truncate:i,inline:o,inherit:s,gradient:a,span:l,__staticSelector:u,vars:c,className:d,style:f,classNames:h,styles:p,unstyled:m,variant:g,mod:y,size:v,...w}=n,E=Gt({name:["Text",u],props:n,classes:Tge,className:d,style:f,classNames:h,styles:p,unstyled:m,vars:c,varsResolver:b5e});return $.jsx(De,{...E("root",{focusable:!0}),ref:t,component:l?"span":"p",variant:g,mod:[{"data-truncate":y5e(i),"data-line-clamp":typeof r=="number","data-inline":o,"data-inherit":s},y],size:v,...w})});it.classes=Tge;it.displayName="@mantine/core/Text";var Cge={root:"m_849cf0da"};const w5e={underline:"hover"},Lv=Ro((e,t)=>{const{underline:n,className:r,unstyled:i,mod:o,...s}=ze("Anchor",w5e,e);return $.jsx(it,{component:"a",ref:t,className:yo({[Cge.root]:!i},r),...s,mod:[{underline:n},o],__staticSelector:"Anchor",unstyled:i})});Lv.classes=Cge;Lv.displayName="@mantine/core/Anchor";const[x5e,gx]=bs("AppShell was not found in tree");var o0={root:"m_89ab340",navbar:"m_45252eee",aside:"m_9cdde9a",header:"m_3b16f56b",main:"m_8983817",footer:"m_3840c879",section:"m_6dcfc7c7"};const _5e={},FU=ht((e,t)=>{const n=ze("AppShellAside",_5e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,withBorder:u,zIndex:c,mod:d,...f}=n,h=gx();return h.disabled?null:$.jsx(De,{component:"aside",ref:t,mod:[{"with-border":u??h.withBorder},d],...h.getStyles("aside",{className:i,classNames:r,styles:s,style:o}),...f,__vars:{"--app-shell-aside-z-index":`calc(${c??h.zIndex} + 1)`}})});FU.classes=o0;FU.displayName="@mantine/core/AppShellAside";const E5e={},BU=ht((e,t)=>{var p;const n=ze("AppShellFooter",E5e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,withBorder:u,zIndex:c,mod:d,...f}=n,h=gx();return h.disabled?null:$.jsx(De,{component:"footer",ref:t,mod:[{"with-border":u??h.withBorder},d],...h.getStyles("footer",{className:yo({[cw.classNames.zeroRight]:h.offsetScrollbars},i),classNames:r,styles:s,style:o}),...f,__vars:{"--app-shell-footer-z-index":(p=c??h.zIndex)==null?void 0:p.toString()}})});BU.classes=o0;BU.displayName="@mantine/core/AppShellFooter";const S5e={},jU=ht((e,t)=>{var p;const n=ze("AppShellHeader",S5e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,withBorder:u,zIndex:c,mod:d,...f}=n,h=gx();return h.disabled?null:$.jsx(De,{component:"header",ref:t,mod:[{"with-border":u??h.withBorder},d],...h.getStyles("header",{className:yo({[cw.classNames.zeroRight]:h.offsetScrollbars},i),classNames:r,styles:s,style:o}),...f,__vars:{"--app-shell-header-z-index":(p=c??h.zIndex)==null?void 0:p.toString()}})});jU.classes=o0;jU.displayName="@mantine/core/AppShellHeader";const T5e={},zU=ht((e,t)=>{const n=ze("AppShellMain",T5e,e),{classNames:r,className:i,style:o,styles:s,vars:a,...l}=n,u=gx();return $.jsx(De,{component:"main",ref:t,...u.getStyles("main",{className:i,style:o,classNames:r,styles:s}),...l})});zU.classes=o0;zU.displayName="@mantine/core/AppShellMain";function DC(e){return typeof e=="object"?e.base:e}function $C(e){const t=typeof e=="object"&&e!==null&&typeof e.base<"u"&&Object.keys(e).length===1;return typeof e=="number"||typeof e=="string"||t}function MC(e){return!(typeof e!="object"||e===null||Object.keys(e).length===1&&"base"in e)}function C5e({baseStyles:e,minMediaStyles:t,maxMediaStyles:n,aside:r,theme:i}){var l,u,c;const o=r==null?void 0:r.width,s="translateX(var(--app-shell-aside-width))",a="translateX(calc(var(--app-shell-aside-width) * -1))";if(r!=null&&r.breakpoint&&!((l=r==null?void 0:r.collapsed)!=null&&l.mobile)&&(n[r==null?void 0:r.breakpoint]=n[r==null?void 0:r.breakpoint]||{},n[r==null?void 0:r.breakpoint]["--app-shell-aside-width"]="100%",n[r==null?void 0:r.breakpoint]["--app-shell-aside-offset"]="0px"),$C(o)){const d=je(DC(o));e["--app-shell-aside-width"]=d,e["--app-shell-aside-offset"]=d}if(MC(o)&&(typeof o.base<"u"&&(e["--app-shell-aside-width"]=je(o.base),e["--app-shell-aside-offset"]=je(o.base)),ti(o).forEach(d=>{d!=="base"&&(t[d]=t[d]||{},t[d]["--app-shell-aside-width"]=je(o[d]),t[d]["--app-shell-aside-offset"]=je(o[d]))})),(u=r==null?void 0:r.collapsed)!=null&&u.desktop){const d=r.breakpoint;t[d]=t[d]||{},t[d]["--app-shell-aside-transform"]=s,t[d]["--app-shell-aside-transform-rtl"]=a,t[d]["--app-shell-aside-offset"]="0px !important"}if((c=r==null?void 0:r.collapsed)!=null&&c.mobile){const d=nU(r.breakpoint,i.breakpoints)-.1;n[d]=n[d]||{},n[d]["--app-shell-aside-width"]="100%",n[d]["--app-shell-aside-offset"]="0px",n[d]["--app-shell-aside-transform"]=s,n[d]["--app-shell-aside-transform-rtl"]=a}}function A5e({baseStyles:e,minMediaStyles:t,footer:n}){const r=n==null?void 0:n.height,i="translateY(var(--app-shell-footer-height))",o=(n==null?void 0:n.offset)??!0;if($C(r)){const s=je(DC(r));e["--app-shell-footer-height"]=s,o&&(e["--app-shell-footer-offset"]=s)}MC(r)&&(typeof r.base<"u"&&(e["--app-shell-footer-height"]=je(r.base),o&&(e["--app-shell-footer-offset"]=je(r.base))),ti(r).forEach(s=>{s!=="base"&&(t[s]=t[s]||{},t[s]["--app-shell-footer-height"]=je(r[s]),o&&(t[s]["--app-shell-footer-offset"]=je(r[s])))})),n!=null&&n.collapsed&&(e["--app-shell-footer-transform"]=i,e["--app-shell-footer-offset"]="0px !important")}function k5e({baseStyles:e,minMediaStyles:t,header:n}){const r=n==null?void 0:n.height,i="translateY(calc(var(--app-shell-header-height) * -1))",o=(n==null?void 0:n.offset)??!0;if($C(r)){const s=je(DC(r));e["--app-shell-header-height"]=s,o&&(e["--app-shell-header-offset"]=s)}MC(r)&&(typeof r.base<"u"&&(e["--app-shell-header-height"]=je(r.base),o&&(e["--app-shell-header-offset"]=je(r.base))),ti(r).forEach(s=>{s!=="base"&&(t[s]=t[s]||{},t[s]["--app-shell-header-height"]=je(r[s]),o&&(t[s]["--app-shell-header-offset"]=je(r[s])))})),n!=null&&n.collapsed&&(e["--app-shell-header-transform"]=i,e["--app-shell-header-offset"]="0px !important")}function I5e({baseStyles:e,minMediaStyles:t,maxMediaStyles:n,navbar:r,theme:i}){var l,u,c;const o=r==null?void 0:r.width,s="translateX(calc(var(--app-shell-navbar-width) * -1))",a="translateX(var(--app-shell-navbar-width))";if(r!=null&&r.breakpoint&&!((l=r==null?void 0:r.collapsed)!=null&&l.mobile)&&(n[r==null?void 0:r.breakpoint]=n[r==null?void 0:r.breakpoint]||{},n[r==null?void 0:r.breakpoint]["--app-shell-navbar-width"]="100%",n[r==null?void 0:r.breakpoint]["--app-shell-navbar-offset"]="0px"),$C(o)){const d=je(DC(o));e["--app-shell-navbar-width"]=d,e["--app-shell-navbar-offset"]=d}if(MC(o)&&(typeof o.base<"u"&&(e["--app-shell-navbar-width"]=je(o.base),e["--app-shell-navbar-offset"]=je(o.base)),ti(o).forEach(d=>{d!=="base"&&(t[d]=t[d]||{},t[d]["--app-shell-navbar-width"]=je(o[d]),t[d]["--app-shell-navbar-offset"]=je(o[d]))})),(u=r==null?void 0:r.collapsed)!=null&&u.desktop){const d=r.breakpoint;t[d]=t[d]||{},t[d]["--app-shell-navbar-transform"]=s,t[d]["--app-shell-navbar-transform-rtl"]=a,t[d]["--app-shell-navbar-offset"]="0px !important"}if((c=r==null?void 0:r.collapsed)!=null&&c.mobile){const d=nU(r.breakpoint,i.breakpoints)-.1;n[d]=n[d]||{},n[d]["--app-shell-navbar-width"]="100%",n[d]["--app-shell-navbar-offset"]="0px",n[d]["--app-shell-navbar-transform"]=s,n[d]["--app-shell-navbar-transform-rtl"]=a}}function DF(e){return Number(e)===0?"0px":ki(e)}function R5e({padding:e,baseStyles:t,minMediaStyles:n}){$C(e)&&(t["--app-shell-padding"]=DF(DC(e))),MC(e)&&(e.base&&(t["--app-shell-padding"]=DF(e.base)),ti(e).forEach(r=>{r!=="base"&&(n[r]=n[r]||{},n[r]["--app-shell-padding"]=DF(e[r]))}))}function D5e({navbar:e,header:t,footer:n,aside:r,padding:i,theme:o}){const s={},a={},l={};I5e({baseStyles:l,minMediaStyles:s,maxMediaStyles:a,navbar:e,theme:o}),C5e({baseStyles:l,minMediaStyles:s,maxMediaStyles:a,aside:r,theme:o}),k5e({baseStyles:l,minMediaStyles:s,header:t}),A5e({baseStyles:l,minMediaStyles:s,footer:n}),R5e({baseStyles:l,minMediaStyles:s,padding:i});const u=uT(ti(s),o.breakpoints).map(f=>({query:`(min-width: ${iD(f.px)})`,styles:s[f.value]})),c=uT(ti(a),o.breakpoints).map(f=>({query:`(max-width: ${iD(f.px)})`,styles:a[f.value]})),d=[...u,...c];return{baseStyles:l,media:d}}function $5e({navbar:e,header:t,aside:n,footer:r,padding:i}){const o=Io(),s=qp(),{media:a,baseStyles:l}=D5e({navbar:e,header:t,footer:r,aside:n,padding:i,theme:o});return $.jsx(Nv,{media:a,styles:l,selector:s.cssVariablesSelector})}const M5e={},UU=ht((e,t)=>{const n=ze("AppShellNavbar",M5e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,withBorder:u,zIndex:c,mod:d,...f}=n,h=gx();return h.disabled?null:$.jsx(De,{component:"nav",ref:t,mod:[{"with-border":u??h.withBorder},d],...h.getStyles("navbar",{className:i,classNames:r,styles:s,style:o}),...f,__vars:{"--app-shell-navbar-z-index":`calc(${c??h.zIndex} + 1)`}})});UU.classes=o0;UU.displayName="@mantine/core/AppShellNavbar";const P5e={},HU=Ro((e,t)=>{const n=ze("AppShellSection",P5e,e),{classNames:r,className:i,style:o,styles:s,vars:a,grow:l,mod:u,...c}=n,d=gx();return $.jsx(De,{ref:t,mod:[{grow:l},u],...d.getStyles("section",{className:i,style:o,classNames:r,styles:s}),...c})});HU.classes=o0;HU.displayName="@mantine/core/AppShellSection";function N5e({transitionDuration:e,disabled:t}){const[n,r]=H.useState(!0),i=H.useRef(-1),o=H.useRef(-1);return ome("resize",()=>{r(!0),clearTimeout(i.current),i.current=window.setTimeout(()=>H.startTransition(()=>{r(!1)}),200)}),$v(()=>{r(!0),clearTimeout(o.current),o.current=window.setTimeout(()=>H.startTransition(()=>{r(!1)}),e||0)},[t,e]),n}const O5e={withBorder:!0,padding:0,transitionDuration:200,transitionTimingFunction:"ease",zIndex:Kl("app")},L5e=(e,{transitionDuration:t,transitionTimingFunction:n})=>({root:{"--app-shell-transition-duration":`${t}ms`,"--app-shell-transition-timing-function":n}}),qr=ht((e,t)=>{const n=ze("AppShell",O5e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,navbar:u,withBorder:c,padding:d,transitionDuration:f,transitionTimingFunction:h,header:p,zIndex:m,layout:g,disabled:y,aside:v,footer:w,offsetScrollbars:E=g!=="alt",mod:_,...x}=n,S=Gt({name:"AppShell",classes:o0,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:L5e}),C=N5e({disabled:y,transitionDuration:f});return $.jsxs(x5e,{value:{getStyles:S,withBorder:c,zIndex:m,disabled:y,offsetScrollbars:E},children:[$.jsx($5e,{navbar:u,header:p,aside:v,footer:w,padding:d}),$.jsx(De,{ref:t,...S("root"),mod:[{resizing:C,layout:g,disabled:y},_],...x})]})});qr.classes=o0;qr.displayName="@mantine/core/AppShell";qr.Navbar=UU;qr.Header=jU;qr.Main=zU;qr.Aside=FU;qr.Footer=BU;qr.Section=HU;function Age(e){return typeof e=="string"?{value:e,label:e}:"value"in e&&!("label"in e)?{value:e.value,label:e.value,disabled:e.disabled}:typeof e=="number"?{value:e.toString(),label:e.toString()}:"group"in e?{group:e.group,items:e.items.map(t=>Age(t))}:e}function kge(e){return e?e.map(t=>Age(t)):[]}function VU(e){return e.reduce((t,n)=>"group"in n?{...t,...VU(n.items)}:(t[n.value]=n,t),{})}var Ul={dropdown:"m_88b62a41",search:"m_985517d8",options:"m_b2821a6e",option:"m_92253aa5",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2"};const F5e={error:null},B5e=(e,{size:t,color:n})=>({chevron:{"--combobox-chevron-size":Nn(t,"combobox-chevron-size"),"--combobox-chevron-color":n?ni(n,e):void 0}}),WU=ht((e,t)=>{const n=ze("ComboboxChevron",F5e,e),{size:r,error:i,style:o,className:s,classNames:a,styles:l,unstyled:u,vars:c,mod:d,...f}=n,h=Gt({name:"ComboboxChevron",classes:Ul,props:n,style:o,className:s,classNames:a,styles:l,unstyled:u,vars:c,varsResolver:B5e,rootSelector:"chevron"});return $.jsx(De,{component:"svg",...f,...h("chevron"),size:r,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:i},d],ref:t,children:$.jsx("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});WU.classes=Ul;WU.displayName="@mantine/core/ComboboxChevron";const[j5e,kc]=bs("Combobox component was not found in tree"),Ige=H.forwardRef(({size:e,onMouseDown:t,onClick:n,onClear:r,...i},o)=>$.jsx(Xr.ClearButton,{ref:o,tabIndex:-1,"aria-hidden":!0,...i,onMouseDown:s=>{s.preventDefault(),t==null||t(s)},onClick:s=>{r(),n==null||n(s)}}));Ige.displayName="@mantine/core/ComboboxClearButton";const z5e={},qU=ht((e,t)=>{const{classNames:n,styles:r,className:i,style:o,hidden:s,...a}=ze("ComboboxDropdown",z5e,e),l=kc();return $.jsx(Gs.Dropdown,{...a,ref:t,role:"presentation","data-hidden":s||void 0,...l.getStyles("dropdown",{className:i,style:o,classNames:n,styles:r})})});qU.classes=Ul;qU.displayName="@mantine/core/ComboboxDropdown";const U5e={refProp:"ref"},Rge=ht((e,t)=>{const{children:n,refProp:r}=ze("ComboboxDropdownTarget",U5e,e);if(kc(),!Wp(n))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return $.jsx(Gs.Target,{ref:t,refProp:r,children:n})});Rge.displayName="@mantine/core/ComboboxDropdownTarget";const H5e={},GU=ht((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...a}=ze("ComboboxEmpty",H5e,e),l=kc();return $.jsx(De,{ref:t,...l.getStyles("empty",{className:r,classNames:n,styles:o,style:i}),...a})});GU.classes=Ul;GU.displayName="@mantine/core/ComboboxEmpty";function YU({onKeyDown:e,withKeyboardNavigation:t,withAriaAttributes:n,withExpandedAttribute:r,targetType:i,autoComplete:o}){const s=kc(),[a,l]=H.useState(null),u=d=>{if(e==null||e(d),!s.readOnly&&t){if(d.nativeEvent.isComposing)return;if(d.nativeEvent.code==="ArrowDown"&&(d.preventDefault(),s.store.dropdownOpened?l(s.store.selectNextOption()):(s.store.openDropdown("keyboard"),l(s.store.selectActiveOption()),s.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),d.nativeEvent.code==="ArrowUp"&&(d.preventDefault(),s.store.dropdownOpened?l(s.store.selectPreviousOption()):(s.store.openDropdown("keyboard"),l(s.store.selectActiveOption()),s.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),d.nativeEvent.code==="Enter"||d.nativeEvent.code==="NumpadEnter"){if(d.nativeEvent.keyCode===229)return;const f=s.store.getSelectedOptionIndex();s.store.dropdownOpened&&f!==-1?(d.preventDefault(),s.store.clickSelectedOption()):i==="button"&&(d.preventDefault(),s.store.openDropdown("keyboard"))}d.key==="Escape"&&s.store.closeDropdown("keyboard"),d.nativeEvent.code==="Space"&&i==="button"&&(d.preventDefault(),s.store.toggleDropdown("keyboard"))}};return{...n?{"aria-haspopup":"listbox","aria-expanded":r&&!!(s.store.listId&&s.store.dropdownOpened)||void 0,"aria-controls":s.store.dropdownOpened?s.store.listId:void 0,"aria-activedescendant":s.store.dropdownOpened&&a||void 0,autoComplete:o,"data-expanded":s.store.dropdownOpened||void 0,"data-mantine-stop-propagation":s.store.dropdownOpened||void 0}:{},onKeyDown:u}}const V5e={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},Dge=ht((e,t)=>{const{children:n,refProp:r,withKeyboardNavigation:i,withAriaAttributes:o,withExpandedAttribute:s,targetType:a,autoComplete:l,...u}=ze("ComboboxEventsTarget",V5e,e);if(!Wp(n))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const c=kc(),d=YU({targetType:a,withAriaAttributes:o,withKeyboardNavigation:i,withExpandedAttribute:s,onKeyDown:n.props.onKeyDown,autoComplete:l});return H.cloneElement(n,{...d,...u,[r]:Yo(t,c.store.targetRef,XM(n))})});Dge.displayName="@mantine/core/ComboboxEventsTarget";const W5e={},KU=ht((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...a}=ze("ComboboxFooter",W5e,e),l=kc();return $.jsx(De,{ref:t,...l.getStyles("footer",{className:r,classNames:n,style:i,styles:o}),...a,onMouseDown:u=>{u.preventDefault()}})});KU.classes=Ul;KU.displayName="@mantine/core/ComboboxFooter";const q5e={},XU=ht((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,children:a,label:l,...u}=ze("ComboboxGroup",q5e,e),c=kc();return $.jsxs(De,{ref:t,...c.getStyles("group",{className:r,classNames:n,style:i,styles:o}),...u,children:[l&&$.jsx("div",{...c.getStyles("groupLabel",{classNames:n,styles:o}),children:l}),a]})});XU.classes=Ul;XU.displayName="@mantine/core/ComboboxGroup";const G5e={},QU=ht((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...a}=ze("ComboboxHeader",G5e,e),l=kc();return $.jsx(De,{ref:t,...l.getStyles("header",{className:r,classNames:n,style:i,styles:o}),...a,onMouseDown:u=>{u.preventDefault()}})});QU.classes=Ul;QU.displayName="@mantine/core/ComboboxHeader";function $ge({value:e,valuesDivider:t=",",...n}){return $.jsx("input",{type:"hidden",value:Array.isArray(e)?e.join(t):e||"",...n})}$ge.displayName="@mantine/core/ComboboxHiddenInput";const Y5e={},JU=ht((e,t)=>{const n=ze("ComboboxOption",Y5e,e),{classNames:r,className:i,style:o,styles:s,vars:a,onClick:l,id:u,active:c,onMouseDown:d,onMouseOver:f,disabled:h,selected:p,mod:m,...g}=n,y=kc(),v=H.useId(),w=u||v;return $.jsx(De,{...y.getStyles("option",{className:i,classNames:r,styles:s,style:o}),...g,ref:t,id:w,mod:["combobox-option",{"combobox-active":c,"combobox-disabled":h,"combobox-selected":p},m],role:"option",onClick:E=>{var _;h?E.preventDefault():((_=y.onOptionSubmit)==null||_.call(y,n.value,n),l==null||l(E))},onMouseDown:E=>{E.preventDefault(),d==null||d(E)},onMouseOver:E=>{y.resetSelectionOnOptionHover&&y.store.resetSelectedOption(),f==null||f(E)}})});JU.classes=Ul;JU.displayName="@mantine/core/ComboboxOption";const K5e={},ZU=ht((e,t)=>{const n=ze("ComboboxOptions",K5e,e),{classNames:r,className:i,style:o,styles:s,id:a,onMouseDown:l,labelledBy:u,...c}=n,d=kc(),f=cl(a);return H.useEffect(()=>{d.store.setListId(f)},[f]),$.jsx(De,{ref:t,...d.getStyles("options",{className:i,style:o,classNames:r,styles:s}),...c,id:f,role:"listbox","aria-labelledby":u,onMouseDown:h=>{h.preventDefault(),l==null||l(h)}})});ZU.classes=Ul;ZU.displayName="@mantine/core/ComboboxOptions";const X5e={withAriaAttributes:!0,withKeyboardNavigation:!0},eH=ht((e,t)=>{const n=ze("ComboboxSearch",X5e,e),{classNames:r,styles:i,unstyled:o,vars:s,withAriaAttributes:a,onKeyDown:l,withKeyboardNavigation:u,size:c,...d}=n,f=kc(),h=f.getStyles("search"),p=YU({targetType:"input",withAriaAttributes:a,withKeyboardNavigation:u,withExpandedAttribute:!1,onKeyDown:l,autoComplete:"off"});return $.jsx(Xr,{ref:Yo(t,f.store.searchRef),classNames:[{input:h.className},r],styles:[{input:h.style},i],size:c||f.size,...p,...d,__staticSelector:"Combobox"})});eH.classes=Ul;eH.displayName="@mantine/core/ComboboxSearch";const Q5e={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},Mge=ht((e,t)=>{const{children:n,refProp:r,withKeyboardNavigation:i,withAriaAttributes:o,withExpandedAttribute:s,targetType:a,autoComplete:l,...u}=ze("ComboboxTarget",Q5e,e);if(!Wp(n))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const c=kc(),d=YU({targetType:a,withAriaAttributes:o,withKeyboardNavigation:i,withExpandedAttribute:s,onKeyDown:n.props.onKeyDown,autoComplete:l}),f=H.cloneElement(n,{...d,...u});return $.jsx(Gs.Target,{ref:Yo(t,c.store.targetRef),children:f})});Mge.displayName="@mantine/core/ComboboxTarget";function J5e(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r}return e}function Z5e(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r}return e}function e6e(e){for(let t=0;t<e.length;t+=1)if(!e[t].hasAttribute("data-combobox-disabled"))return t;return-1}function tH({defaultOpened:e,opened:t,onOpenedChange:n,onDropdownClose:r,onDropdownOpen:i,loop:o=!0,scrollBehavior:s="instant"}={}){const[a,l]=gs({value:t,defaultValue:e,finalValue:!1,onChange:n}),u=H.useRef(null),c=H.useRef(-1),d=H.useRef(null),f=H.useRef(null),h=H.useRef(-1),p=H.useRef(-1),m=H.useRef(-1),g=H.useCallback((O="unknown")=>{a||(l(!0),i==null||i(O))},[l,i,a]),y=H.useCallback((O="unknown")=>{a&&(l(!1),r==null||r(O))},[l,r,a]),v=H.useCallback((O="unknown")=>{a?y(O):g(O)},[y,g,a]),w=H.useCallback(()=>{const O=document.querySelector(`#${u.current} [data-combobox-selected]`);O==null||O.removeAttribute("data-combobox-selected"),O==null||O.removeAttribute("aria-selected")},[]),E=H.useCallback(O=>{const B=document.getElementById(u.current),z=B==null?void 0:B.querySelectorAll("[data-combobox-option]");if(!z)return null;const W=O>=z.length?0:O<0?z.length-1:O;return c.current=W,z!=null&&z[W]&&!z[W].hasAttribute("data-combobox-disabled")?(w(),z[W].setAttribute("data-combobox-selected","true"),z[W].setAttribute("aria-selected","true"),z[W].scrollIntoView({block:"nearest",behavior:s}),z[W].id):null},[s,w]),_=H.useCallback(()=>{const O=document.querySelector(`#${u.current} [data-combobox-active]`);if(O){const B=document.querySelectorAll(`#${u.current} [data-combobox-option]`),z=Array.from(B).findIndex(W=>W===O);return E(z)}return E(0)},[E]),x=H.useCallback(()=>E(Z5e(c.current,document.querySelectorAll(`#${u.current} [data-combobox-option]`),o)),[E,o]),S=H.useCallback(()=>E(J5e(c.current,document.querySelectorAll(`#${u.current} [data-combobox-option]`),o)),[E,o]),C=H.useCallback(()=>E(e6e(document.querySelectorAll(`#${u.current} [data-combobox-option]`))),[E]),A=H.useCallback((O="selected",B)=>{m.current=window.setTimeout(()=>{var U;const z=document.querySelectorAll(`#${u.current} [data-combobox-option]`),W=Array.from(z).findIndex(F=>F.hasAttribute(`data-combobox-${O}`));c.current=W,B!=null&&B.scrollIntoView&&((U=z[W])==null||U.scrollIntoView({block:"nearest",behavior:s}))},0)},[]),k=H.useCallback(()=>{c.current=-1,w()},[w]),N=H.useCallback(()=>{const O=document.querySelectorAll(`#${u.current} [data-combobox-option]`),B=O==null?void 0:O[c.current];B==null||B.click()},[]),M=H.useCallback(O=>{u.current=O},[]),I=H.useCallback(()=>{h.current=window.setTimeout(()=>d.current.focus(),0)},[]),D=H.useCallback(()=>{p.current=window.setTimeout(()=>f.current.focus(),0)},[]),R=H.useCallback(()=>c.current,[]);return H.useEffect(()=>()=>{window.clearTimeout(h.current),window.clearTimeout(p.current),window.clearTimeout(m.current)},[]),{dropdownOpened:a,openDropdown:g,closeDropdown:y,toggleDropdown:v,selectedOptionIndex:c.current,getSelectedOptionIndex:R,selectOption:E,selectFirstOption:C,selectActiveOption:_,selectNextOption:x,selectPreviousOption:S,resetSelectedOption:k,updateSelectedOptionIndex:A,listId:u.current,setListId:M,clickSelectedOption:N,searchRef:d,focusSearchInput:I,targetRef:f,focusTarget:D}}const t6e={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0}},n6e=(e,{size:t,dropdownPadding:n})=>({options:{"--combobox-option-fz":qs(t),"--combobox-option-padding":Nn(t,"combobox-option-padding")},dropdown:{"--combobox-padding":n===void 0?void 0:je(n),"--combobox-option-fz":qs(t),"--combobox-option-padding":Nn(t,"combobox-option-padding")}});function ar(e){const t=ze("Combobox",t6e,e),{classNames:n,styles:r,unstyled:i,children:o,store:s,vars:a,onOptionSubmit:l,onClose:u,size:c,dropdownPadding:d,resetSelectionOnOptionHover:f,__staticSelector:h,readOnly:p,...m}=t,g=tH(),y=s||g,v=Gt({name:h||"Combobox",classes:Ul,props:t,classNames:n,styles:r,unstyled:i,vars:a,varsResolver:n6e}),w=()=>{u==null||u(),y.closeDropdown()};return $.jsx(j5e,{value:{getStyles:v,store:y,onOptionSubmit:l,size:c,resetSelectionOnOptionHover:f,readOnly:p},children:$.jsx(Gs,{opened:y.dropdownOpened,...m,onChange:E=>!E&&w(),withRoles:!1,unstyled:i,children:o})})}const r6e=e=>e;ar.extend=r6e;ar.classes=Ul;ar.displayName="@mantine/core/Combobox";ar.Target=Mge;ar.Dropdown=qU;ar.Options=ZU;ar.Option=JU;ar.Search=eH;ar.Empty=GU;ar.Chevron=WU;ar.Footer=KU;ar.Header=QU;ar.EventsTarget=Dge;ar.DropdownTarget=Rge;ar.Group=XU;ar.ClearButton=Ige;ar.HiddenInput=$ge;var Pge={root:"m_5f75b09e",body:"m_5f6e695e",labelWrapper:"m_d3ea56bb",label:"m_8ee546b8",description:"m_328f68c0",error:"m_8e8a99cc"};const Nge=Pge,dP=H.forwardRef(({__staticSelector:e,__stylesApiProps:t,className:n,classNames:r,styles:i,unstyled:o,children:s,label:a,description:l,id:u,disabled:c,error:d,size:f,labelPosition:h="left",bodyElement:p="div",labelElement:m="label",variant:g,style:y,vars:v,mod:w,...E},_)=>{const x=Gt({name:e,props:t,className:n,style:y,classes:Pge,classNames:r,styles:i,unstyled:o});return $.jsx(De,{...x("root"),ref:_,__vars:{"--label-fz":qs(f),"--label-lh":Nn(f,"label-lh")},mod:[{"label-position":h},w],variant:g,size:f,...E,children:$.jsxs(De,{component:p,htmlFor:p==="label"?u:void 0,...x("body"),children:[s,$.jsxs("div",{...x("labelWrapper"),"data-disabled":c||void 0,children:[a&&$.jsx(De,{component:m,htmlFor:m==="label"?u:void 0,...x("label"),"data-disabled":c||void 0,children:a}),l&&$.jsx(Xr.Description,{size:f,__inheritStyles:!1,...x("description"),children:l}),d&&typeof d!="boolean"&&$.jsx(Xr.Error,{size:f,__inheritStyles:!1,...x("error"),children:d})]})]})})});dP.displayName="@mantine/core/InlineInput";const Oge=H.createContext(null),i6e=Oge.Provider,Lge=()=>H.useContext(Oge),[o6e,s6e]=e0();var Fge={card:"m_26775b0a"};const a6e={withBorder:!0},l6e=(e,{radius:t})=>({card:{"--card-radius":Hr(t)}}),nH=ht((e,t)=>{const n=ze("CheckboxCard",a6e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,checked:u,mod:c,withBorder:d,value:f,onClick:h,defaultChecked:p,onChange:m,...g}=n,y=Gt({name:"CheckboxCard",classes:Fge,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:l6e,rootSelector:"card"}),v=Lge(),w=typeof u=="boolean"?u:v?v.value.includes(f||""):void 0,[E,_]=gs({value:w,defaultValue:p,finalValue:!1,onChange:m});return $.jsx(o6e,{value:{checked:E},children:$.jsx(Iu,{ref:t,mod:[{"with-border":d,checked:E},c],...y("card"),...g,role:"checkbox","aria-checked":E,onClick:x=>{h==null||h(x),v==null||v.onChange(f||""),_(!E)}})})});nH.displayName="@mantine/core/CheckboxCard";nH.classes=Fge;function rH({children:e,role:t}){const n=mx();return n?$.jsx("div",{role:t,"aria-labelledby":n.labelId,"aria-describedby":n.describedBy,children:e}):$.jsx($.Fragment,{children:e})}const u6e={},iH=ht((e,t)=>{const{value:n,defaultValue:r,onChange:i,size:o,wrapperProps:s,children:a,readOnly:l,...u}=ze("CheckboxGroup",u6e,e),[c,d]=gs({value:n,defaultValue:r,finalValue:[],onChange:i}),f=h=>{const p=typeof h=="string"?h:h.currentTarget.value;!l&&d(c.includes(p)?c.filter(m=>m!==p):[...c,p])};return $.jsx(i6e,{value:{value:c,onChange:f,size:o},children:$.jsx(Xr.Wrapper,{size:o,ref:t,...s,...u,labelElement:"div",__staticSelector:"CheckboxGroup",children:$.jsx(rH,{role:"group",children:a})})})});iH.classes=Xr.Wrapper.classes;iH.displayName="@mantine/core/CheckboxGroup";function Bge({size:e,style:t,...n}){const r=e!==void 0?{width:je(e),height:je(e),...t}:t;return $.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:r,"aria-hidden":!0,...n,children:$.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function jge({indeterminate:e,...t}){return e?$.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6","aria-hidden":!0,...t,children:$.jsx("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})}):$.jsx(Bge,{...t})}var zge={indicator:"m_5e5256ee",icon:"m_1b1c543a","indicator--outline":"m_76e20374"};const c6e={icon:jge},d6e=(e,{radius:t,color:n,size:r,iconColor:i,variant:o,autoContrast:s})=>{const a=nh({color:n||e.primaryColor,theme:e}),l=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{indicator:{"--checkbox-size":Nn(r,"checkbox-size"),"--checkbox-radius":t===void 0?void 0:Hr(t),"--checkbox-color":o==="outline"?l:ni(n,e),"--checkbox-icon-color":i?ni(i,e):cx(s,e)?Mv({color:n,theme:e,autoContrast:s}):void 0}}},oH=ht((e,t)=>{const n=ze("CheckboxIndicator",c6e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,icon:u,indeterminate:c,radius:d,color:f,iconColor:h,autoContrast:p,checked:m,mod:g,variant:y,disabled:v,...w}=n,E=u,_=Gt({name:"CheckboxIndicator",classes:zge,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:d6e,rootSelector:"indicator"}),x=s6e(),S=typeof m=="boolean"||typeof c=="boolean"?m||c:(x==null?void 0:x.checked)||!1;return $.jsx(De,{ref:t,..._("indicator",{variant:y}),variant:y,mod:[{checked:S,disabled:v},g],...w,children:$.jsx(E,{indeterminate:c,..._("icon")})})});oH.displayName="@mantine/core/CheckboxIndicator";oH.classes=zge;var Uge={root:"m_bf2d988c",inner:"m_26062bec",input:"m_26063560",icon:"m_bf295423","input--outline":"m_215c4542"};const f6e={labelPosition:"right",icon:jge},h6e=(e,{radius:t,color:n,size:r,iconColor:i,variant:o,autoContrast:s})=>{const a=nh({color:n||e.primaryColor,theme:e}),l=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{root:{"--checkbox-size":Nn(r,"checkbox-size"),"--checkbox-radius":t===void 0?void 0:Hr(t),"--checkbox-color":o==="outline"?l:ni(n,e),"--checkbox-icon-color":i?ni(i,e):cx(s,e)?Mv({color:n,theme:e,autoContrast:s}):void 0}}},_a=ht((e,t)=>{const n=ze("Checkbox",f6e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,color:u,label:c,id:d,size:f,radius:h,wrapperProps:p,checked:m,labelPosition:g,description:y,error:v,disabled:w,variant:E,indeterminate:_,icon:x,rootRef:S,iconColor:C,onChange:A,autoContrast:k,mod:N,...M}=n,I=Lge(),D=f||(I==null?void 0:I.size),R=x,O=Gt({name:"Checkbox",props:n,classes:Uge,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:h6e}),{styleProps:B,rest:z}=Ov(M),W=cl(d),U=I?{checked:I.value.includes(z.value),onChange:V=>{I.onChange(V),A==null||A(V)}}:{},F=H.useRef(null),Y=t||F;return H.useEffect(()=>{Y&&"current"in Y&&Y.current&&(Y.current.indeterminate=_||!1)},[_,Y]),$.jsx(dP,{...O("root"),__staticSelector:"Checkbox",__stylesApiProps:n,id:W,size:D,labelPosition:g,label:c,description:y,error:v,disabled:w,classNames:r,styles:s,unstyled:a,"data-checked":U.checked||m||void 0,variant:E,ref:S,mod:N,...B,...p,children:$.jsxs(De,{...O("inner"),mod:{"data-label-position":g},children:[$.jsx(De,{component:"input",id:W,ref:Y,checked:m,disabled:w,mod:{error:!!v,indeterminate:_},...O("input",{focusable:!0,variant:E}),onChange:A,...z,...U,type:"checkbox"}),$.jsx(R,{indeterminate:_,...O("icon")})]})})});_a.classes={...Uge,...Nge};_a.displayName="@mantine/core/Checkbox";_a.Group=iH;_a.Indicator=oH;_a.Card=nH;function mw(e){return"group"in e}function Hge({options:e,search:t,limit:n}){const r=t.trim().toLowerCase(),i=[];for(let o=0;o<e.length;o+=1){const s=e[o];if(i.length===n)return i;mw(s)&&i.push({group:s.group,items:Hge({options:s.items,search:t,limit:n-i.length})}),mw(s)||s.label.toLowerCase().includes(r)&&i.push(s)}return i}function p6e(e){if(e.length===0)return!0;for(const t of e)if(!("group"in t)||t.items.length>0)return!1;return!0}function Vge(e,t=new Set){if(Array.isArray(e))for(const n of e)if(mw(n))Vge(n.items,t);else{if(typeof n.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof n.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof n.value}`);if(t.has(n.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${n.value}" was provided more than once`);t.add(n.value)}}function m6e(e,t){return Array.isArray(e)?e.includes(t):e===t}function Wge({data:e,withCheckIcon:t,value:n,checkIconPosition:r,unstyled:i,renderOption:o}){if(!mw(e)){const a=m6e(n,e.value),l=t&&a&&$.jsx(Bge,{className:Ul.optionsDropdownCheckIcon}),u=$.jsxs($.Fragment,{children:[r==="left"&&l,$.jsx("span",{children:e.label}),r==="right"&&l]});return $.jsx(ar.Option,{value:e.value,disabled:e.disabled,className:yo({[Ul.optionsDropdownOption]:!i}),"data-reverse":r==="right"||void 0,"data-checked":a||void 0,"aria-selected":a,active:a,children:typeof o=="function"?o({option:e,checked:a}):u})}const s=e.items.map(a=>$.jsx(Wge,{data:a,value:n,unstyled:i,withCheckIcon:t,checkIconPosition:r,renderOption:o},a.value));return $.jsx(ar.Group,{label:e.group,children:s})}function qge({data:e,hidden:t,hiddenWhenEmpty:n,filter:r,search:i,limit:o,maxDropdownHeight:s,withScrollArea:a=!0,filterOptions:l=!0,withCheckIcon:u=!1,value:c,checkIconPosition:d,nothingFoundMessage:f,unstyled:h,labelId:p,renderOption:m,scrollAreaProps:g,"aria-label":y}){Vge(e);const w=typeof i=="string"?(r||Hge)({options:e,search:l?i:"",limit:o??1/0}):e,E=p6e(w),_=w.map(x=>$.jsx(Wge,{data:x,withCheckIcon:u,value:c,checkIconPosition:d,unstyled:h,renderOption:m},mw(x)?x.group:x.value));return $.jsx(ar.Dropdown,{hidden:t||n&&E,"data-composed":!0,children:$.jsxs(ar.Options,{labelledBy:p,"aria-label":y,children:[a?$.jsx(Cp.Autosize,{mah:s??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",...g,children:_}):_,E&&f&&$.jsx(ar.Empty,{children:f})]})})}var Gge={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};const g6e={},y6e=(e,{radius:t,color:n,gradient:r,variant:i,size:o,autoContrast:s})=>{const a=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:i||"filled",autoContrast:s});return{root:{"--badge-height":Nn(o,"badge-height"),"--badge-padding-x":Nn(o,"badge-padding-x"),"--badge-fz":Nn(o,"badge-fz"),"--badge-radius":t===void 0?void 0:Hr(t),"--badge-bg":n||i?a.background:void 0,"--badge-color":n||i?a.color:void 0,"--badge-bd":n||i?a.border:void 0,"--badge-dot-color":i==="dot"?ni(n,e):void 0}}},pd=Ro((e,t)=>{const n=ze("Badge",g6e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,radius:u,color:c,gradient:d,leftSection:f,rightSection:h,children:p,variant:m,fullWidth:g,autoContrast:y,circle:v,mod:w,...E}=n,_=Gt({name:"Badge",props:n,classes:Gge,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:y6e});return $.jsxs(De,{variant:m,mod:[{block:g,circle:v,"with-right-section":!!h,"with-left-section":!!f},w],..._("root",{variant:m}),ref:t,...E,children:[f&&$.jsx("span",{..._("section"),"data-position":"left",children:f}),$.jsx("span",{..._("label"),children:p}),h&&$.jsx("span",{..._("section"),"data-position":"right",children:h})]})});pd.classes=Gge;pd.displayName="@mantine/core/Badge";var yx={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844",groupSection:"m_70be2a01"};const tte={orientation:"horizontal"},v6e=(e,{borderWidth:t})=>({group:{"--button-border-width":je(t)}}),sH=ht((e,t)=>{const n=ze("ButtonGroup",tte,e),{className:r,style:i,classNames:o,styles:s,unstyled:a,orientation:l,vars:u,borderWidth:c,variant:d,mod:f,...h}=ze("ButtonGroup",tte,e),p=Gt({name:"ButtonGroup",props:n,classes:yx,className:r,style:i,classNames:o,styles:s,unstyled:a,vars:u,varsResolver:v6e,rootSelector:"group"});return $.jsx(De,{...p("group"),ref:t,variant:d,mod:[{"data-orientation":l},f],role:"group",...h})});sH.classes=yx;sH.displayName="@mantine/core/ButtonGroup";const nte={},b6e=(e,{radius:t,color:n,gradient:r,variant:i,autoContrast:o,size:s})=>{const a=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:i||"filled",autoContrast:o});return{groupSection:{"--section-height":Nn(s,"section-height"),"--section-padding-x":Nn(s,"section-padding-x"),"--section-fz":s!=null&&s.includes("compact")?qs(s.replace("compact-","")):qs(s),"--section-radius":t===void 0?void 0:Hr(t),"--section-bg":n||i?a.background:void 0,"--section-color":a.color,"--section-bd":n||i?a.border:void 0}}},aH=ht((e,t)=>{const n=ze("ButtonGroupSection",nte,e),{className:r,style:i,classNames:o,styles:s,unstyled:a,vars:l,variant:u,gradient:c,radius:d,autoContrast:f,...h}=ze("ButtonGroupSection",nte,e),p=Gt({name:"ButtonGroupSection",props:n,classes:yx,className:r,style:i,classNames:o,styles:s,unstyled:a,vars:l,varsResolver:b6e,rootSelector:"groupSection"});return $.jsx(De,{...p("groupSection"),ref:t,variant:u,...h})});aH.classes=yx;aH.displayName="@mantine/core/ButtonGroupSection";const w6e={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${je(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},x6e={},_6e=(e,{radius:t,color:n,gradient:r,variant:i,size:o,justify:s,autoContrast:a})=>{const l=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:i||"filled",autoContrast:a});return{root:{"--button-justify":s,"--button-height":Nn(o,"button-height"),"--button-padding-x":Nn(o,"button-padding-x"),"--button-fz":o!=null&&o.includes("compact")?qs(o.replace("compact-","")):qs(o),"--button-radius":t===void 0?void 0:Hr(t),"--button-bg":n||i?l.background:void 0,"--button-hover":n||i?l.hover:void 0,"--button-color":l.color,"--button-bd":n||i?l.border:void 0,"--button-hover-color":n||i?l.hoverColor:void 0}}},gn=Ro((e,t)=>{const n=ze("Button",x6e,e),{style:r,vars:i,className:o,color:s,disabled:a,children:l,leftSection:u,rightSection:c,fullWidth:d,variant:f,radius:h,loading:p,loaderProps:m,gradient:g,classNames:y,styles:v,unstyled:w,"data-disabled":E,autoContrast:_,mod:x,...S}=n,C=Gt({name:"Button",props:n,classes:yx,className:o,style:r,classNames:y,styles:v,unstyled:w,vars:i,varsResolver:_6e}),A=!!u,k=!!c;return $.jsxs(Iu,{ref:t,...C("root",{active:!a&&!p&&!E}),unstyled:w,variant:f,disabled:a||p,mod:[{disabled:a||E,loading:p,block:d,"with-left-section":A,"with-right-section":k},x],...S,children:[$.jsx(ih,{mounted:!!p,transition:w6e,duration:150,children:N=>$.jsx(De,{component:"span",...C("loader",{style:N}),"aria-hidden":!0,children:$.jsx(oh,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...m})})}),$.jsxs("span",{...C("inner"),children:[u&&$.jsx(De,{component:"span",...C("section"),mod:{position:"left"},children:u}),$.jsx(De,{component:"span",mod:{loading:p},...C("label"),children:l}),c&&$.jsx(De,{component:"span",...C("section"),mod:{position:"right"},children:c})]})]})});gn.classes=yx;gn.displayName="@mantine/core/Button";gn.Group=sH;gn.GroupSection=aH;const[E6e,S6e]=bs("Card component was not found in tree");var lH={root:"m_e615b15f",section:"m_599a2148"};const T6e={},fP=Ro((e,t)=>{const n=ze("CardSection",T6e,e),{classNames:r,className:i,style:o,styles:s,vars:a,withBorder:l,inheritPadding:u,mod:c,...d}=n,f=S6e();return $.jsx(De,{ref:t,mod:[{"with-border":l,"inherit-padding":u},c],...f.getStyles("section",{className:i,style:o,styles:s,classNames:r}),...d})});fP.classes=lH;fP.displayName="@mantine/core/CardSection";const C6e={},A6e=(e,{padding:t})=>({root:{"--card-padding":ki(t)}}),vx=Ro((e,t)=>{const n=ze("Card",C6e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,children:u,padding:c,...d}=n,f=Gt({name:"Card",props:n,classes:lH,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:A6e}),h=H.Children.toArray(u),p=h.map((m,g)=>typeof m=="object"&&m&&"type"in m&&m.type===fP?H.cloneElement(m,{"data-first-section":g===0||void 0,"data-last-section":g===h.length-1||void 0}):m);return $.jsx(E6e,{value:{getStyles:f},children:$.jsx(hx,{ref:t,unstyled:a,...f("root"),...d,children:p})})});vx.classes=lH;vx.displayName="@mantine/core/Card";vx.Section=fP;var Yge={root:"m_4451eb3a"};const k6e={},mc=Ro((e,t)=>{const n=ze("Center",k6e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,inline:u,mod:c,...d}=n,f=Gt({name:"Center",props:n,classes:Yge,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l});return $.jsx(De,{ref:t,mod:[{inline:u},c],...f("root"),...d})});mc.classes=Yge;mc.displayName="@mantine/core/Center";var Kge={root:"m_b183c0a2"};const I6e={},R6e=(e,{color:t})=>({root:{"--code-bg":t?ni(t,e):void 0}}),Zh=ht((e,t)=>{const n=ze("Code",I6e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,color:u,block:c,variant:d,mod:f,...h}=n,p=Gt({name:"Code",props:n,classes:Kge,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:R6e});return $.jsx(De,{component:c?"pre":"code",variant:d,ref:t,mod:[{block:c},f],...p("root"),...h,dir:"ltr"})});Zh.classes=Kge;Zh.displayName="@mantine/core/Code";var Xge={root:"m_de3d2490",colorOverlay:"m_862f3d1b",shadowOverlay:"m_98ae7f22",alphaOverlay:"m_95709ac0",childrenOverlay:"m_93e74e3"};const rte={withShadow:!0},D6e=(e,{radius:t,size:n})=>({root:{"--cs-radius":t===void 0?void 0:Hr(t),"--cs-size":je(n)}}),uH=Ro((e,t)=>{const n=ze("ColorSwatch",rte,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,color:u,size:c,radius:d,withShadow:f,children:h,variant:p,...m}=ze("ColorSwatch",rte,n),g=Gt({name:"ColorSwatch",props:n,classes:Xge,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:D6e});return $.jsxs(De,{ref:t,variant:p,size:c,...g("root",{focusable:!0}),...m,children:[$.jsx("span",{...g("alphaOverlay")}),f&&$.jsx("span",{...g("shadowOverlay")}),$.jsx("span",{...g("colorOverlay",{style:{backgroundColor:u}})}),$.jsx("span",{...g("childrenOverlay"),children:h})]})});uH.classes=Xge;uH.displayName="@mantine/core/ColorSwatch";var Qge={root:"m_7485cace"};const $6e={},M6e=(e,{size:t,fluid:n})=>({root:{"--container-size":n?void 0:Nn(t,"container-size")}}),Ap=ht((e,t)=>{const n=ze("Container",$6e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,fluid:u,mod:c,...d}=n,f=Gt({name:"Container",classes:Qge,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:M6e});return $.jsx(De,{ref:t,mod:[{fluid:u},c],...f("root"),...d})});Ap.classes=Qge;Ap.displayName="@mantine/core/Container";var Jge={root:"m_3eebeb36",label:"m_9e365f20"};const P6e={orientation:"horizontal"},N6e=(e,{color:t,variant:n,size:r})=>({root:{"--divider-color":t?ni(t,e):void 0,"--divider-border-style":n,"--divider-size":Nn(r,"divider-size")}}),s0=ht((e,t)=>{const n=ze("Divider",P6e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,color:u,orientation:c,label:d,labelPosition:f,mod:h,...p}=n,m=Gt({name:"Divider",classes:Jge,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:N6e});return $.jsx(De,{ref:t,mod:[{orientation:c,"with-label":!!d},h],...m("root"),...p,role:"separator",children:d&&$.jsx(De,{component:"span",mod:{position:f},...m("label"),children:d})})});s0.classes=Jge;s0.displayName="@mantine/core/Divider";function Zge({open:e,close:t,openDelay:n,closeDelay:r}){const i=H.useRef(-1),o=H.useRef(-1),s=()=>{window.clearTimeout(i.current),window.clearTimeout(o.current)},a=()=>{s(),n===0||n===void 0?e():i.current=window.setTimeout(e,n)},l=()=>{s(),r===0||r===void 0?t():o.current=window.setTimeout(t,r)};return H.useEffect(()=>s,[]),{openDropdown:a,closeDropdown:l}}const[ite,e0e]=bs("Grid component was not found in tree"),U8=(e,t)=>e==="content"?"auto":e==="auto"?"0rem":e?`${100/(t/e)}%`:void 0,ote=(e,t,n)=>n||e==="auto"?"100%":e==="content"?"unset":U8(e,t),ste=(e,t)=>{if(e)return e==="auto"||t?"1":"auto"},ate=(e,t)=>e===0?"0":e?`${100/(t/e)}%`:void 0;function O6e({span:e,order:t,offset:n,selector:r}){var h;const i=Io(),o=e0e(),s=o.breakpoints||i.breakpoints,l=sd(e)===void 0?12:sd(e),u=Zg({"--col-order":(h=sd(t))==null?void 0:h.toString(),"--col-flex-grow":ste(l,o.grow),"--col-flex-basis":U8(l,o.columns),"--col-width":l==="content"?"auto":void 0,"--col-max-width":ote(l,o.columns,o.grow),"--col-offset":ate(sd(n),o.columns)}),c=ti(s).reduce((p,m)=>{var g;return p[m]||(p[m]={}),typeof t=="object"&&t[m]!==void 0&&(p[m]["--col-order"]=(g=t[m])==null?void 0:g.toString()),typeof e=="object"&&e[m]!==void 0&&(p[m]["--col-flex-grow"]=ste(e[m],o.grow),p[m]["--col-flex-basis"]=U8(e[m],o.columns),p[m]["--col-width"]=e[m]==="content"?"auto":void 0,p[m]["--col-max-width"]=ote(e[m],o.columns,o.grow)),typeof n=="object"&&n[m]!==void 0&&(p[m]["--col-offset"]=ate(n[m],o.columns)),p},{}),f=uT(ti(c),s).filter(p=>ti(c[p.value]).length>0).map(p=>({query:o.type==="container"?`mantine-grid (min-width: ${s[p.value]})`:`(min-width: ${s[p.value]})`,styles:c[p.value]}));return $.jsx(Nv,{styles:u,media:o.type==="container"?void 0:f,container:o.type==="container"?f:void 0,selector:r})}var cH={container:"m_8478a6da",root:"m_410352e9",inner:"m_dee7bd2f",col:"m_96bdd299"};const L6e={span:12},dH=ht((e,t)=>{const n=ze("GridCol",L6e,e),{classNames:r,className:i,style:o,styles:s,vars:a,span:l,order:u,offset:c,...d}=n,f=e0e(),h=AC();return $.jsxs($.Fragment,{children:[$.jsx(O6e,{selector:`.${h}`,span:l,order:u,offset:c}),$.jsx(De,{ref:t,...f.getStyles("col",{className:yo(i,h),style:o,classNames:r,styles:s}),...d})]})});dH.classes=cH;dH.displayName="@mantine/core/GridCol";function lte({gutter:e,selector:t,breakpoints:n,type:r}){const i=Io(),o=n||i.breakpoints,s=Zg({"--grid-gutter":ki(sd(e))}),a=ti(o).reduce((c,d)=>(c[d]||(c[d]={}),typeof e=="object"&&e[d]!==void 0&&(c[d]["--grid-gutter"]=ki(e[d])),c),{}),u=uT(ti(a),o).filter(c=>ti(a[c.value]).length>0).map(c=>({query:r==="container"?`mantine-grid (min-width: ${o[c.value]})`:`(min-width: ${o[c.value]})`,styles:a[c.value]}));return $.jsx(Nv,{styles:s,media:r==="container"?void 0:u,container:r==="container"?u:void 0,selector:t})}const F6e={gutter:"md",grow:!1,columns:12},B6e=(e,{justify:t,align:n,overflow:r})=>({root:{"--grid-justify":t,"--grid-align":n,"--grid-overflow":r}}),xf=ht((e,t)=>{const n=ze("Grid",F6e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,grow:u,gutter:c,columns:d,align:f,justify:h,children:p,breakpoints:m,type:g,...y}=n,v=Gt({name:"Grid",classes:cH,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:B6e}),w=AC();return g==="container"&&m?$.jsxs(ite,{value:{getStyles:v,grow:u,columns:d||12,breakpoints:m,type:g},children:[$.jsx(lte,{selector:`.${w}`,...n}),$.jsx("div",{...v("container"),children:$.jsx(De,{ref:t,...v("root",{className:w}),...y,children:$.jsx("div",{...v("inner"),children:p})})})]}):$.jsxs(ite,{value:{getStyles:v,grow:u,columns:d||12,breakpoints:m,type:g},children:[$.jsx(lte,{selector:`.${w}`,...n}),$.jsx(De,{ref:t,...v("root",{className:w}),...y,children:$.jsx("div",{...v("inner"),children:p})})]})});xf.classes=cH;xf.displayName="@mantine/core/Grid";xf.Col=dH;const[j6e,t0e]=bs("HoverCard component was not found in the tree"),z6e={};function n0e(e){const{children:t,onMouseEnter:n,onMouseLeave:r,...i}=ze("HoverCardDropdown",z6e,e),o=t0e(),s=Nl(n,o.openDropdown),a=Nl(r,o.closeDropdown);return $.jsx(Gs.Dropdown,{onMouseEnter:s,onMouseLeave:a,...i,children:t})}n0e.displayName="@mantine/core/HoverCardDropdown";const U6e={refProp:"ref"},r0e=H.forwardRef((e,t)=>{const{children:n,refProp:r,eventPropsWrapperName:i,...o}=ze("HoverCardTarget",U6e,e);if(!Wp(n))throw new Error("HoverCard.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const s=t0e(),a=Nl(n.props.onMouseEnter,s.openDropdown),l=Nl(n.props.onMouseLeave,s.closeDropdown),u={onMouseEnter:a,onMouseLeave:l};return $.jsx(Gs.Target,{refProp:r,ref:t,...o,children:H.cloneElement(n,i?{[i]:u}:u)})});r0e.displayName="@mantine/core/HoverCardTarget";const H6e={openDelay:0,closeDelay:150,initiallyOpened:!1};function Py(e){const{children:t,onOpen:n,onClose:r,openDelay:i,closeDelay:o,initiallyOpened:s,...a}=ze("HoverCard",H6e,e),[l,{open:u,close:c}]=rU(s,{onClose:r,onOpen:n}),{openDropdown:d,closeDropdown:f}=Zge({open:u,close:c,openDelay:i,closeDelay:o});return $.jsx(j6e,{value:{openDropdown:d,closeDropdown:f},children:$.jsx(Gs,{...a,opened:l,__staticSelector:"HoverCard",children:t})})}Py.displayName="@mantine/core/HoverCard";Py.Target=r0e;Py.Dropdown=n0e;Py.extend=e=>e;var i0e={root:"m_9e117634"};const V6e={},W6e=(e,{radius:t,fit:n})=>({root:{"--image-radius":t===void 0?void 0:Hr(t),"--image-object-fit":n}}),a0=Ro((e,t)=>{const n=ze("Image",V6e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,onError:u,src:c,radius:d,fit:f,fallbackSrc:h,mod:p,...m}=n,[g,y]=H.useState(!c);H.useEffect(()=>y(!c),[c]);const v=Gt({name:"Image",classes:i0e,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:W6e});return g&&h?$.jsx(De,{component:"img",ref:t,src:h,...v("root"),onError:u,mod:["fallback",p],...m}):$.jsx(De,{component:"img",ref:t,...v("root"),src:c,onError:w=>{u==null||u(w),y(!0)},mod:p,...m})});a0.classes=i0e;a0.displayName="@mantine/core/Image";function mD(){return mD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mD.apply(null,arguments)}function fH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var q6e=H.useLayoutEffect,G6e=function(t){var n=rr.useRef(t);return q6e(function(){n.current=t}),n},ute=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},Y6e=function(t,n){var r=rr.useRef();return rr.useCallback(function(i){t.current=i,r.current&&ute(r.current,null),r.current=n,n&&ute(n,i)},[n])},cte={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},K6e=function(t){Object.keys(cte).forEach(function(n){t.style.setProperty(n,cte[n],"important")})},dte=K6e,Ua=null,fte=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function X6e(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),Ua||(Ua=document.createElement("textarea"),Ua.setAttribute("tabindex","-1"),Ua.setAttribute("aria-hidden","true"),dte(Ua)),Ua.parentNode===null&&document.body.appendChild(Ua);var i=e.paddingSize,o=e.borderSize,s=e.sizingStyle,a=s.boxSizing;Object.keys(s).forEach(function(f){var h=f;Ua.style[h]=s[h]}),dte(Ua),Ua.value=t;var l=fte(Ua,e);Ua.value=t,l=fte(Ua,e),Ua.value="x";var u=Ua.scrollHeight-i,c=u*n;a==="border-box"&&(c=c+i+o),l=Math.max(c,l);var d=u*r;return a==="border-box"&&(d=d+i+o),l=Math.min(d,l),[l,u]}var hte=function(){},Q6e=function(t,n){return t.reduce(function(r,i){return r[i]=n[i],r},{})},J6e=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],Z6e=!!document.documentElement.currentStyle,eBe=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=Q6e(J6e,n),i=r.boxSizing;if(i==="")return null;Z6e&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var o=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),s=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:o,borderSize:s}},tBe=eBe;function o0e(e,t,n){var r=G6e(n);H.useLayoutEffect(function(){var i=function(s){return r.current(s)};if(e)return e.addEventListener(t,i),function(){return e.removeEventListener(t,i)}},[])}var nBe=function(t){o0e(window,"resize",t)},rBe=function(t){o0e(document.fonts,"loadingdone",t)},iBe=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],oBe=function(t,n){var r=t.cacheMeasurements,i=t.maxRows,o=t.minRows,s=t.onChange,a=s===void 0?hte:s,l=t.onHeightChange,u=l===void 0?hte:l,c=fH(t,iBe),d=c.value!==void 0,f=H.useRef(null),h=Y6e(f,n),p=H.useRef(0),m=H.useRef(),g=function(){var w=f.current,E=r&&m.current?m.current:tBe(w);if(E){m.current=E;var _=X6e(E,w.value||w.placeholder||"x",o,i),x=_[0],S=_[1];p.current!==x&&(p.current=x,w.style.setProperty("height",x+"px","important"),u(x,{rowHeight:S}))}},y=function(w){d||g(),a(w)};return H.useLayoutEffect(g),nBe(g),rBe(g),H.createElement("textarea",mD({},c,{onChange:y,ref:h}))},sBe=H.forwardRef(oBe);const aBe={},hH=ht((e,t)=>{const{autosize:n,maxRows:r,minRows:i,__staticSelector:o,resize:s,...a}=ze("Textarea",aBe,e),l=n&&hOe()!=="test",u=l?{maxRows:r,minRows:i}:{};return $.jsx(Ac,{component:l?sBe:"textarea",ref:t,...a,__staticSelector:o||"Textarea",multiline:!0,"data-no-overflow":n&&r===void 0||void 0,__vars:{"--input-resize":s},...u})});hH.classes=Ac.classes;hH.displayName="@mantine/core/Textarea";const[lBe,uBe]=bs("List component was not found in tree");var pH={root:"m_abbac491",item:"m_abb6bec2",itemWrapper:"m_75cd9f71",itemIcon:"m_60f83e5b"};const cBe={},mH=ht((e,t)=>{const n=ze("ListItem",cBe,e),{classNames:r,className:i,style:o,styles:s,vars:a,icon:l,children:u,mod:c,...d}=n,f=uBe(),h=l||f.icon,p={classNames:r,styles:s};return $.jsx(De,{...f.getStyles("item",{...p,className:i,style:o}),component:"li",mod:[{"with-icon":!!h,centered:f.center},c],ref:t,...d,children:$.jsxs("div",{...f.getStyles("itemWrapper",p),children:[h&&$.jsx("span",{...f.getStyles("itemIcon",p),children:h}),$.jsx("span",{...f.getStyles("itemLabel",p),children:u})]})})});mH.classes=pH;mH.displayName="@mantine/core/ListItem";const dBe={type:"unordered"},fBe=(e,{size:t,spacing:n})=>({root:{"--list-fz":qs(t),"--list-lh":Zpe(t),"--list-spacing":ki(n)}}),md=ht((e,t)=>{const n=ze("List",dBe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,children:u,type:c,withPadding:d,icon:f,spacing:h,center:p,listStyleType:m,mod:g,...y}=n,v=Gt({name:"List",classes:pH,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:fBe});return $.jsx(lBe,{value:{center:p,icon:f,getStyles:v},children:$.jsx(De,{...v("root",{style:{listStyleType:m}}),component:c==="unordered"?"ul":"ol",mod:[{"with-padding":d},g],ref:t,...y,children:u})})});md.classes=pH;md.displayName="@mantine/core/List";md.Item=mH;var s0e={root:"m_6e45937b",loader:"m_e8eb006c",overlay:"m_df587f17"};const pte={transitionProps:{transition:"fade",duration:0},overlayProps:{backgroundOpacity:.75},zIndex:Kl("overlay")},hBe=(e,{zIndex:t})=>({root:{"--lo-z-index":t==null?void 0:t.toString()}}),gc=ht((e,t)=>{const n=ze("LoadingOverlay",pte,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,transitionProps:u,loaderProps:c,overlayProps:d,visible:f,zIndex:h,...p}=n,m=Io(),g=Gt({name:"LoadingOverlay",classes:s0e,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:hBe}),y={...pte.overlayProps,...d};return $.jsx(ih,{transition:"fade",...u,mounted:!!f,children:v=>$.jsxs(De,{...g("root",{style:v}),ref:t,...p,children:[$.jsx(oh,{...g("loader"),unstyled:a,...c}),$.jsx(hw,{...y,...g("overlay"),darkHidden:!0,unstyled:a,color:(d==null?void 0:d.color)||m.white}),$.jsx(hw,{...y,...g("overlay"),lightHidden:!0,unstyled:a,color:(d==null?void 0:d.color)||m.colors.dark[5]})]})})});gc.classes=s0e;gc.displayName="@mantine/core/LoadingOverlay";const[pBe,PC]=bs("Menu component was not found in the tree");var bx={dropdown:"m_dc9b7c9f",label:"m_9bfac126",divider:"m_efdf90cb",item:"m_99ac2aa1",itemLabel:"m_5476e0d3",itemSection:"m_8b75e504"};const mBe={},gH=ht((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...a}=ze("MenuDivider",mBe,e),l=PC();return $.jsx(De,{ref:t,...l.getStyles("divider",{className:r,style:i,styles:o,classNames:n}),...a})});gH.classes=bx;gH.displayName="@mantine/core/MenuDivider";const gBe={},yH=ht((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,onMouseEnter:a,onMouseLeave:l,onKeyDown:u,children:c,...d}=ze("MenuDropdown",gBe,e),f=H.useRef(null),h=PC(),p=Nl(u,y=>{var v,w;(y.key==="ArrowUp"||y.key==="ArrowDown")&&(y.preventDefault(),(w=(v=f.current)==null?void 0:v.querySelectorAll("[data-menu-item]:not(:disabled)")[0])==null||w.focus())}),m=Nl(a,()=>(h.trigger==="hover"||h.trigger==="click-hover")&&h.openDropdown()),g=Nl(l,()=>(h.trigger==="hover"||h.trigger==="click-hover")&&h.closeDropdown());return $.jsxs(Gs.Dropdown,{...d,onMouseEnter:m,onMouseLeave:g,role:"menu","aria-orientation":"vertical",ref:Yo(t,f),...h.getStyles("dropdown",{className:r,style:i,styles:o,classNames:n,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:p,children:[h.withInitialFocusPlaceholder&&$.jsx("div",{tabIndex:-1,"data-autofocus":!0,"data-mantine-stop-propagation":!0,style:{outline:0}}),c]})});yH.classes=bx;yH.displayName="@mantine/core/MenuDropdown";const yBe={},vH=Ro((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,color:a,closeMenuOnClick:l,leftSection:u,rightSection:c,children:d,disabled:f,"data-disabled":h,...p}=ze("MenuItem",yBe,e),m=PC(),g=Io(),{dir:y}=t0(),v=H.useRef(null),w=m.getItemIndex(v.current),E=p,_=Nl(E.onMouseLeave,()=>m.setHovered(-1)),x=Nl(E.onMouseEnter,()=>m.setHovered(m.getItemIndex(v.current))),S=Nl(E.onClick,()=>{h||(typeof l=="boolean"?l&&m.closeDropdownImmediately():m.closeOnItemClick&&m.closeDropdownImmediately())}),C=Nl(E.onFocus,()=>m.setHovered(m.getItemIndex(v.current))),A=a?g.variantColorResolver({color:a,theme:g,variant:"light"}):void 0,k=a?nh({color:a,theme:g}):null;return $.jsxs(Iu,{...p,unstyled:m.unstyled,tabIndex:m.menuItemTabIndex,onFocus:C,...m.getStyles("item",{className:r,style:i,styles:o,classNames:n}),ref:Yo(v,t),role:"menuitem",disabled:f,"data-menu-item":!0,"data-disabled":f||h||void 0,"data-hovered":m.hovered===w?!0:void 0,"data-mantine-stop-propagation":!0,onMouseEnter:x,onMouseLeave:_,onClick:S,onKeyDown:eU({siblingSelector:"[data-menu-item]:not([data-disabled])",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:m.loop,dir:y,orientation:"vertical",onKeyDown:E.onKeyDown}),__vars:{"--menu-item-color":k!=null&&k.isThemeColor&&(k==null?void 0:k.shade)===void 0?`var(--mantine-color-${k.color}-6)`:A==null?void 0:A.color,"--menu-item-hover":A==null?void 0:A.hover},children:[u&&$.jsx("div",{...m.getStyles("itemSection",{styles:o,classNames:n}),"data-position":"left",children:u}),d&&$.jsx("div",{...m.getStyles("itemLabel",{styles:o,classNames:n}),children:d}),c&&$.jsx("div",{...m.getStyles("itemSection",{styles:o,classNames:n}),"data-position":"right",children:c})]})});vH.classes=bx;vH.displayName="@mantine/core/MenuItem";const vBe={},bH=ht((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...a}=ze("MenuLabel",vBe,e),l=PC();return $.jsx(De,{ref:t,...l.getStyles("label",{className:r,style:i,styles:o,classNames:n}),...a})});bH.classes=bx;bH.displayName="@mantine/core/MenuLabel";const bBe={refProp:"ref"},a0e=H.forwardRef((e,t)=>{const{children:n,refProp:r,...i}=ze("MenuTarget",bBe,e);if(!Wp(n))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const o=PC(),s=n.props,a=Nl(s.onClick,()=>{o.trigger==="click"?o.toggleDropdown():o.trigger==="click-hover"&&(o.setOpenedViaClick(!0),o.opened||o.openDropdown())}),l=Nl(s.onMouseEnter,()=>(o.trigger==="hover"||o.trigger==="click-hover")&&o.openDropdown()),u=Nl(s.onMouseLeave,()=>{(o.trigger==="hover"||o.trigger==="click-hover"&&!o.openedViaClick)&&o.closeDropdown()});return $.jsx(Gs.Target,{refProp:r,popupType:"menu",ref:t,...i,children:H.cloneElement(n,{onClick:a,onMouseEnter:l,onMouseLeave:u,"data-expanded":o.opened?!0:void 0})})});a0e.displayName="@mantine/core/MenuTarget";const wBe={trapFocus:!0,closeOnItemClick:!0,withInitialFocusPlaceholder:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function Os(e){const t=ze("Menu",wBe,e),{children:n,onOpen:r,onClose:i,opened:o,defaultOpened:s,trapFocus:a,onChange:l,closeOnItemClick:u,loop:c,closeOnEscape:d,trigger:f,openDelay:h,closeDelay:p,classNames:m,styles:g,unstyled:y,variant:v,vars:w,menuItemTabIndex:E,keepMounted:_,withInitialFocusPlaceholder:x,...S}=t,C=Gt({name:"Menu",classes:bx,props:t,classNames:m,styles:g,unstyled:y}),[A,{setHovered:k,resetHovered:N}]=UNe(),[M,I]=gs({value:o,defaultValue:s,finalValue:!1,onChange:l}),[D,R]=H.useState(!1),O=()=>{I(!1),R(!1),M&&(i==null||i())},B=()=>{I(!0),!M&&(r==null||r())},z=()=>{M?O():B()},{openDropdown:W,closeDropdown:U}=Zge({open:B,close:O,closeDelay:p,openDelay:h}),F=G=>zNe("[data-menu-item]","[data-menu-dropdown]",G),{resolvedClassNames:Y,resolvedStyles:V}=Pv({classNames:m,styles:g,props:t});return zf(()=>{N()},[M]),$.jsx(pBe,{value:{getStyles:C,opened:M,toggleDropdown:z,getItemIndex:F,hovered:A,setHovered:k,openedViaClick:D,setOpenedViaClick:R,closeOnItemClick:u,closeDropdown:f==="click"?O:U,openDropdown:f==="click"?B:W,closeDropdownImmediately:O,loop:c,trigger:f,unstyled:y,menuItemTabIndex:E,withInitialFocusPlaceholder:x},children:$.jsx(Gs,{...S,opened:M,onChange:z,defaultOpened:s,trapFocus:_?!1:a,closeOnEscape:d,__staticSelector:"Menu",classNames:Y,styles:V,unstyled:y,variant:v,keepMounted:_,children:n})})}Os.extend=e=>e;Os.withProps=bme(Os);Os.classes=bx;Os.displayName="@mantine/core/Menu";Os.Item=vH;Os.Label=bH;Os.Dropdown=yH;Os.Target=a0e;Os.Divider=gH;const[xBe,wx]=bs("Modal component was not found in tree");var Yp={root:"m_9df02822",content:"m_54c44539",inner:"m_1f958f16",header:"m_d0e2b9cd"};const _Be={},hP=ht((e,t)=>{const n=ze("ModalBody",_Be,e),{classNames:r,className:i,style:o,styles:s,vars:a,...l}=n,u=wx();return $.jsx(pge,{ref:t,...u.getStyles("body",{classNames:r,style:o,styles:s,className:i}),...l})});hP.classes=Yp;hP.displayName="@mantine/core/ModalBody";const EBe={},pP=ht((e,t)=>{const n=ze("ModalCloseButton",EBe,e),{classNames:r,className:i,style:o,styles:s,vars:a,...l}=n,u=wx();return $.jsx(mge,{ref:t,...u.getStyles("close",{classNames:r,style:o,styles:s,className:i}),...l})});pP.classes=Yp;pP.displayName="@mantine/core/ModalCloseButton";const SBe={},mP=ht((e,t)=>{const n=ze("ModalContent",SBe,e),{classNames:r,className:i,style:o,styles:s,vars:a,children:l,__hidden:u,...c}=n,d=wx(),f=d.scrollAreaComponent||zFe;return $.jsx(gge,{...d.getStyles("content",{className:i,style:o,styles:s,classNames:r}),innerProps:d.getStyles("inner",{className:i,style:o,styles:s,classNames:r}),"data-full-screen":d.fullScreen||void 0,"data-modal-content":!0,"data-hidden":u||void 0,ref:t,...c,children:$.jsx(f,{style:{maxHeight:d.fullScreen?"100dvh":`calc(100dvh - (${je(d.yOffset)} * 2))`},children:l})})});mP.classes=Yp;mP.displayName="@mantine/core/ModalContent";const TBe={},gP=ht((e,t)=>{const n=ze("ModalHeader",TBe,e),{classNames:r,className:i,style:o,styles:s,vars:a,...l}=n,u=wx();return $.jsx(yge,{ref:t,...u.getStyles("header",{classNames:r,style:o,styles:s,className:i}),...l})});gP.classes=Yp;gP.displayName="@mantine/core/ModalHeader";const CBe={},yP=ht((e,t)=>{const n=ze("ModalOverlay",CBe,e),{classNames:r,className:i,style:o,styles:s,vars:a,...l}=n,u=wx();return $.jsx(vge,{ref:t,...u.getStyles("overlay",{classNames:r,style:o,styles:s,className:i}),...l})});yP.classes=Yp;yP.displayName="@mantine/core/ModalOverlay";const ABe={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Kl("modal"),transitionProps:{duration:200,transition:"fade-down"},yOffset:"5dvh"},kBe=(e,{radius:t,size:n,yOffset:r,xOffset:i})=>({root:{"--modal-radius":t===void 0?void 0:Hr(t),"--modal-size":Nn(n,"modal-size"),"--modal-y-offset":je(r),"--modal-x-offset":je(i)}}),vP=ht((e,t)=>{const n=ze("ModalRoot",ABe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,yOffset:u,scrollAreaComponent:c,radius:d,fullScreen:f,centered:h,xOffset:p,__staticSelector:m,...g}=n,y=Gt({name:m,classes:Yp,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:kBe});return $.jsx(xBe,{value:{yOffset:u,scrollAreaComponent:c,getStyles:y,fullScreen:f},children:$.jsx(hge,{ref:t,...y("root"),"data-full-screen":f||void 0,"data-centered":h||void 0,unstyled:a,...g})})});vP.classes=Yp;vP.displayName="@mantine/core/ModalRoot";const[IBe,RBe]=e0();function l0e({children:e}){const[t,n]=H.useState([]),[r,i]=H.useState(Kl("modal"));return $.jsx(IBe,{value:{stack:t,addModal:(o,s)=>{n(a=>[...new Set([...a,o])]),i(a=>typeof s=="number"&&typeof a=="number"?Math.max(a,s):a)},removeModal:o=>n(s=>s.filter(a=>a!==o)),getZIndex:o=>`calc(${r} + ${t.indexOf(o)} + 1)`,currentId:t[t.length-1],maxZIndex:r},children:e})}l0e.displayName="@mantine/core/ModalStack";const DBe={},bP=ht((e,t)=>{const n=ze("ModalTitle",DBe,e),{classNames:r,className:i,style:o,styles:s,vars:a,...l}=n,u=wx();return $.jsx(bge,{ref:t,...u.getStyles("title",{classNames:r,style:o,styles:s,className:i}),...l})});bP.classes=Yp;bP.displayName="@mantine/core/ModalTitle";const $Be={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Kl("modal"),transitionProps:{duration:200,transition:"fade-down"},withOverlay:!0,withCloseButton:!0},Fi=ht((e,t)=>{const{title:n,withOverlay:r,overlayProps:i,withCloseButton:o,closeButtonProps:s,children:a,radius:l,opened:u,stackId:c,zIndex:d,...f}=ze("Modal",$Be,e),h=RBe(),p=!!n||o,m=h&&c?{closeOnEscape:h.currentId===c,trapFocus:h.currentId===c,zIndex:h.getZIndex(c)}:{},g=r===!1?!1:c&&h?h.currentId===c:u;return H.useEffect(()=>{h&&c&&(u?h.addModal(c,d||Kl("modal")):h.removeModal(c))},[u,c,d]),$.jsxs(vP,{ref:t,radius:l,opened:u,zIndex:h&&c?h.getZIndex(c):d,...f,...m,children:[r&&$.jsx(yP,{visible:g,transitionProps:h&&c?{duration:0}:void 0,...i}),$.jsxs(mP,{radius:l,__hidden:h&&c&&u?c!==h.currentId:!1,children:[p&&$.jsxs(gP,{children:[n&&$.jsx(bP,{children:n}),o&&$.jsx(pP,{...s})]}),$.jsx(hP,{children:a})]})]})});Fi.classes=Yp;Fi.displayName="@mantine/core/Modal";Fi.Root=vP;Fi.Overlay=yP;Fi.Content=mP;Fi.Body=hP;Fi.Header=gP;Fi.Title=bP;Fi.CloseButton=pP;Fi.Stack=l0e;const[MBe,wH]=e0(),[PBe,NBe]=e0();var wP={root:"m_7cda1cd6","root--default":"m_44da308b","root--contrast":"m_e3a01f8",label:"m_1e0e6180",remove:"m_ae386778",group:"m_1dcfd90b"};const OBe={},LBe=(e,{gap:t},{size:n})=>({group:{"--pg-gap":t!==void 0?Nn(t):Nn(n,"pg-gap")}}),xH=ht((e,t)=>{const n=ze("PillGroup",OBe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,size:u,disabled:c,...d}=n,f=wH(),h=(f==null?void 0:f.size)||u||void 0,p=Gt({name:"PillGroup",classes:wP,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:LBe,stylesCtx:{size:h},rootSelector:"group"});return $.jsx(PBe,{value:{size:h,disabled:c},children:$.jsx(De,{ref:t,size:h,...p("group"),...d})})});xH.classes=wP;xH.displayName="@mantine/core/PillGroup";const FBe={variant:"default"},BBe=(e,{radius:t},{size:n})=>({root:{"--pill-fz":Nn(n,"pill-fz"),"--pill-height":Nn(n,"pill-height"),"--pill-radius":t===void 0?void 0:Hr(t)}}),fT=ht((e,t)=>{const n=ze("Pill",FBe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,variant:u,children:c,withRemoveButton:d,onRemove:f,removeButtonProps:h,radius:p,size:m,disabled:g,mod:y,...v}=n,w=NBe(),E=wH(),_=m||(w==null?void 0:w.size)||void 0,x=(E==null?void 0:E.variant)==="filled"?"contrast":u||"default",S=Gt({name:"Pill",classes:wP,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:BBe,stylesCtx:{size:_}});return $.jsxs(De,{component:"span",ref:t,variant:x,size:_,...S("root",{variant:x}),mod:[{"with-remove":d&&!g,disabled:g||(w==null?void 0:w.disabled)},y],...v,children:[$.jsx("span",{...S("label"),children:c}),d&&$.jsx(i0,{variant:"transparent",radius:p,tabIndex:-1,"aria-hidden":!0,unstyled:a,...h,...S("remove",{className:h==null?void 0:h.className,style:h==null?void 0:h.style}),onMouseDown:C=>{var A;C.preventDefault(),C.stopPropagation(),(A=h==null?void 0:h.onMouseDown)==null||A.call(h,C)},onClick:C=>{var A;C.stopPropagation(),f==null||f(),(A=h==null?void 0:h.onClick)==null||A.call(h,C)}})]})});fT.classes=wP;fT.displayName="@mantine/core/Pill";fT.Group=xH;var u0e={field:"m_45c4369d"};const jBe={type:"visible"},_H=ht((e,t)=>{const n=ze("PillsInputField",jBe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,type:u,disabled:c,id:d,pointer:f,mod:h,...p}=n,m=wH(),g=mx(),y=Gt({name:"PillsInputField",classes:u0e,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,rootSelector:"field"}),v=c||(m==null?void 0:m.disabled);return $.jsx(De,{component:"input",ref:Yo(t,m==null?void 0:m.fieldRef),"data-type":u,disabled:v,mod:[{disabled:v,pointer:f},h],...y("field"),...p,id:(g==null?void 0:g.inputId)||d,"aria-invalid":m==null?void 0:m.hasError,"aria-describedby":g==null?void 0:g.describedBy,type:"text",onMouseDown:w=>!f&&w.stopPropagation()})});_H.classes=u0e;_H.displayName="@mantine/core/PillsInputField";const zBe={},gD=ht((e,t)=>{const n=ze("PillsInput",zBe,e),{children:r,onMouseDown:i,onClick:o,size:s,disabled:a,__staticSelector:l,error:u,variant:c,...d}=n,f=H.useRef(null);return $.jsx(MBe,{value:{fieldRef:f,size:s,disabled:a,hasError:!!u,variant:c},children:$.jsx(Ac,{size:s,error:u,variant:c,component:"div",ref:t,onMouseDown:h=>{var p;h.preventDefault(),i==null||i(h),(p=f.current)==null||p.focus()},onClick:h=>{var m;h.preventDefault();const p=h.currentTarget.closest("fieldset");p!=null&&p.disabled||((m=f.current)==null||m.focus(),o==null||o(h))},...d,multiline:!0,disabled:a,__staticSelector:l||"PillsInput",withAria:!1,children:r})})});gD.displayName="@mantine/core/PillsInput";gD.Field=_H;function UBe({data:e,value:t}){const n=t.map(i=>i.trim().toLowerCase());return e.reduce((i,o)=>(mw(o)?i.push({group:o.group,items:o.items.filter(s=>n.indexOf(s.value.toLowerCase().trim())===-1)}):n.indexOf(o.value.toLowerCase().trim())===-1&&i.push(o),i),[])}const HBe={maxValues:1/0,withCheckIcon:!0,checkIconPosition:"left",hiddenInputValuesDivider:","},EH=ht((e,t)=>{const n=ze("MultiSelect",HBe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,size:u,value:c,defaultValue:d,onChange:f,onKeyDown:h,variant:p,data:m,dropdownOpened:g,defaultDropdownOpened:y,onDropdownOpen:v,onDropdownClose:w,selectFirstOptionOnChange:E,onOptionSubmit:_,comboboxProps:x,filter:S,limit:C,withScrollArea:A,maxDropdownHeight:k,searchValue:N,defaultSearchValue:M,onSearchChange:I,readOnly:D,disabled:R,onFocus:O,onBlur:B,onPaste:z,radius:W,rightSection:U,rightSectionWidth:F,rightSectionPointerEvents:Y,rightSectionProps:V,leftSection:G,leftSectionWidth:X,leftSectionPointerEvents:Z,leftSectionProps:oe,inputContainer:ne,inputWrapperOrder:ie,withAsterisk:fe,labelProps:se,descriptionProps:ae,errorProps:Se,wrapperProps:Te,description:Oe,label:We,error:Fe,maxValues:Ue,searchable:rt,nothingFoundMessage:at,withCheckIcon:ct,checkIconPosition:vt,hidePickedOptions:gt,withErrorStyles:Ze,name:Tt,form:ue,id:xe,clearable:$e,clearButtonProps:Ye,hiddenInputProps:tt,placeholder:Et,hiddenInputValuesDivider:an,required:ln,mod:Wt,renderOption:Dt,onRemove:Ae,onClear:Qe,scrollAreaProps:Ct,chevronColor:xn,...gr}=n,dr=cl(xe),ii=kge(m),Rr=VU(ii),er=tH({opened:g,defaultOpened:y,onDropdownOpen:v,onDropdownClose:()=>{w==null||w(),er.resetSelectedOption()}}),{styleProps:Es,rest:{type:Do,autoComplete:Ss,...$i}}=Ov(gr),[Un,or]=gs({value:c,defaultValue:d,finalValue:[],onChange:f}),[$o,yr]=gs({value:N,defaultValue:M,finalValue:"",onChange:I}),Jr=kn=>{yr(kn),er.resetSelectedOption()},Ui=Gt({name:"MultiSelect",classes:{},props:n,classNames:r,styles:s,unstyled:a}),{resolvedClassNames:Ei,resolvedStyles:oi}=Pv({props:n,styles:s,classNames:r}),Zl=kn=>{h==null||h(kn),kn.key===" "&&!rt&&(kn.preventDefault(),er.toggleDropdown()),kn.key==="Backspace"&&$o.length===0&&Un.length>0&&(Ae==null||Ae(Un[Un.length-1]),or(Un.slice(0,Un.length-1)))},Nc=Un.map((kn,to)=>{var eu,hl;return $.jsx(fT,{withRemoveButton:!D&&!((eu=Rr[kn])!=null&&eu.disabled),onRemove:()=>{or(Un.filter(pl=>kn!==pl)),Ae==null||Ae(kn)},unstyled:a,disabled:R,...Ui("pill"),children:((hl=Rr[kn])==null?void 0:hl.label)||kn},`${kn}-${to}`)});H.useEffect(()=>{E&&er.selectFirstOption()},[E,Un]);const La=$.jsx(ar.ClearButton,{...Ye,onClear:()=>{Qe==null||Qe(),or([]),Jr("")}}),Hu=UBe({data:ii,value:Un}),hi=$e&&Un.length>0&&!R&&!D;return $.jsxs($.Fragment,{children:[$.jsxs(ar,{store:er,classNames:Ei,styles:oi,unstyled:a,size:u,readOnly:D,__staticSelector:"MultiSelect",onOptionSubmit:kn=>{_==null||_(kn),Jr(""),er.updateSelectedOptionIndex("selected"),Un.includes(Rr[kn].value)?(or(Un.filter(to=>to!==Rr[kn].value)),Ae==null||Ae(Rr[kn].value)):Un.length<Ue&&or([...Un,Rr[kn].value])},...x,children:[$.jsx(ar.DropdownTarget,{children:$.jsx(gD,{...Es,__staticSelector:"MultiSelect",classNames:Ei,styles:oi,unstyled:a,size:u,className:i,style:o,variant:p,disabled:R,radius:W,__defaultRightSection:$.jsx(ar.Chevron,{size:u,error:Fe,unstyled:a,color:xn}),__clearSection:La,__clearable:hi,rightSection:U,rightSectionPointerEvents:Y||(La?"all":"none"),rightSectionWidth:F,rightSectionProps:V,leftSection:G,leftSectionWidth:X,leftSectionPointerEvents:Z,leftSectionProps:oe,inputContainer:ne,inputWrapperOrder:ie,withAsterisk:fe,labelProps:se,descriptionProps:ae,errorProps:Se,wrapperProps:Te,description:Oe,label:We,error:Fe,multiline:!0,withErrorStyles:Ze,__stylesApiProps:{...n,rightSectionPointerEvents:Y||(hi?"all":"none"),multiline:!0},pointer:!rt,onClick:()=>rt?er.openDropdown():er.toggleDropdown(),"data-expanded":er.dropdownOpened||void 0,id:dr,required:ln,mod:Wt,children:$.jsxs(fT.Group,{disabled:R,unstyled:a,...Ui("pillsList"),children:[Nc,$.jsx(ar.EventsTarget,{autoComplete:Ss,children:$.jsx(gD.Field,{...$i,ref:t,id:dr,placeholder:Et,type:!rt&&!Et?"hidden":"visible",...Ui("inputField"),unstyled:a,onFocus:kn=>{O==null||O(kn),rt&&er.openDropdown()},onBlur:kn=>{B==null||B(kn),er.closeDropdown(),Jr("")},onKeyDown:Zl,value:$o,onChange:kn=>{Jr(kn.currentTarget.value),rt&&er.openDropdown(),E&&er.selectFirstOption()},disabled:R,readOnly:D||!rt,pointer:!rt})})]})})}),$.jsx(qge,{data:gt?Hu:ii,hidden:D||R,filter:S,search:$o,limit:C,hiddenWhenEmpty:!at,withScrollArea:A,maxDropdownHeight:k,filterOptions:rt,value:Un,checkIconPosition:vt,withCheckIcon:ct,nothingFoundMessage:at,unstyled:a,labelId:We?`${dr}-label`:void 0,"aria-label":We?void 0:gr["aria-label"],renderOption:Dt,scrollAreaProps:Ct})]}),$.jsx(ar.HiddenInput,{name:Tt,valuesDivider:an,value:Un,form:ue,disabled:R,...tt})]})});EH.classes={...Ac.classes,...ar.classes};EH.displayName="@mantine/core/MultiSelect";var c0e={root:"m_f0824112",description:"m_57492dcc",section:"m_690090b5",label:"m_1f6ac4c4",body:"m_f07af9d2",children:"m_e17b862f",chevron:"m_1fd8a00b"};const VBe={},WBe=(e,{variant:t,color:n,childrenOffset:r,autoContrast:i})=>{const o=e.variantColorResolver({color:n||e.primaryColor,theme:e,variant:t||"light",autoContrast:i});return{root:{"--nl-bg":n||t?o.background:void 0,"--nl-hover":n||t?o.hover:void 0,"--nl-color":n||t?o.color:void 0},children:{"--nl-offset":ki(r)}}},xP=Ro((e,t)=>{const n=ze("NavLink",VBe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,opened:u,defaultOpened:c,onChange:d,children:f,onClick:h,active:p,disabled:m,leftSection:g,rightSection:y,label:v,description:w,disableRightSectionRotation:E,noWrap:_,childrenOffset:x,onKeyDown:S,autoContrast:C,mod:A,...k}=n,N=Gt({name:"NavLink",props:n,classes:c0e,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:WBe}),[M,I]=gs({value:u,defaultValue:c,finalValue:!1,onChange:d}),D=!!f,R=O=>{h==null||h(O),D&&(O.preventDefault(),I(!M))};return $.jsxs($.Fragment,{children:[$.jsxs(Iu,{...N("root"),component:"a",ref:t,onClick:R,onKeyDown:O=>{S==null||S(O),O.nativeEvent.code==="Space"&&D&&(O.preventDefault(),I(!M))},unstyled:a,mod:[{disabled:m,active:p,expanded:M},A],...k,children:[g&&$.jsx(De,{component:"span",...N("section"),mod:{position:"left"},children:g}),$.jsxs(De,{...N("body"),mod:{"no-wrap":_},children:[$.jsx(De,{component:"span",...N("label"),children:v}),$.jsx(De,{component:"span",mod:{active:p},...N("description"),children:w})]}),(D||y)&&$.jsx(De,{...N("section"),component:"span",mod:{rotate:M&&!E,position:"right"},children:D?y||$.jsx(cP,{...N("chevron")}):y})]}),D&&$.jsx(eP,{in:M,...N("collapse"),children:$.jsx("div",{...N("children"),children:f})})]})});xP.classes=c0e;xP.displayName="@mantine/core/NavLink";var d0e={root:"m_a513464",icon:"m_a4ceffb",loader:"m_b0920b15",body:"m_a49ed24",title:"m_3feedf16",description:"m_3d733a3a",closeButton:"m_919a4d88"};const qBe={withCloseButton:!0},GBe=(e,{radius:t,color:n})=>({root:{"--notification-radius":t===void 0?void 0:Hr(t),"--notification-color":n?ni(n,e):void 0}}),SH=ht((e,t)=>{const n=ze("Notification",qBe,e),{className:r,color:i,radius:o,loading:s,withCloseButton:a,withBorder:l,title:u,icon:c,children:d,onClose:f,closeButtonProps:h,classNames:p,style:m,styles:g,unstyled:y,variant:v,vars:w,mod:E,loaderProps:_,...x}=n,S=Gt({name:"Notification",classes:d0e,props:n,className:r,style:m,classNames:p,styles:g,unstyled:y,vars:w,varsResolver:GBe});return $.jsxs(De,{...S("root"),mod:[{"data-with-icon":!!c||s,"data-with-border":l},E],ref:t,variant:v,...x,role:"alert",children:[c&&!s&&$.jsx("div",{...S("icon"),children:c}),s&&$.jsx(oh,{size:28,color:i,..._,...S("loader")}),$.jsxs("div",{...S("body"),children:[u&&$.jsx("div",{...S("title"),children:u}),$.jsx(De,{...S("description"),mod:{"data-with-title":!!u},children:d})]}),a&&$.jsx(i0,{iconSize:16,color:"gray",...h,unstyled:y,onClick:f,...S("closeButton")})]})});SH.classes=d0e;SH.displayName="@mantine/core/Notification";function f0e(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}var hT;(function(e){e.event="event",e.props="prop"})(hT||(hT={}));function Wm(){}function YBe(e){var t,n=void 0;return function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return t&&r.length===t.length&&r.every(function(o,s){return o===t[s]})||(t=r,n=e.apply(void 0,r)),n}}function pT(e){return!!(e||"").match(/\d/)}function U1(e){return e==null}function KBe(e){return typeof e=="number"&&isNaN(e)}function h0e(e){return U1(e)||KBe(e)||typeof e=="number"&&!isFinite(e)}function p0e(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function XBe(e){switch(e){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function QBe(e,t,n){var r=XBe(n),i=e.search(/[1-9]/);return i=i===-1?e.length:i,e.substring(0,i)+e.substring(i,e.length).replace(r,"$1"+t)}function JBe(e){var t=H.useRef(e);t.current=e;var n=H.useRef(function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return t.current.apply(t,r)});return n.current}function TH(e,t){t===void 0&&(t=!0);var n=e[0]==="-",r=n&&t;e=e.replace("-","");var i=e.split("."),o=i[0],s=i[1]||"";return{beforeDecimal:o,afterDecimal:s,hasNegation:n,addNegation:r}}function ZBe(e){if(!e)return e;var t=e[0]==="-";t&&(e=e.substring(1,e.length));var n=e.split("."),r=n[0].replace(/^0+/,"")||"0",i=n[1]||"";return(t?"-":"")+r+(i?"."+i:"")}function m0e(e,t,n){for(var r="",i=n?"0":"",o=0;o<=t-1;o++)r+=e[o]||i;return r}function mte(e,t){return Array(t+1).join(e)}function g0e(e){var t=e+"",n=t[0]==="-"?"-":"";n&&(t=t.substring(1));var r=t.split(/[eE]/g),i=r[0],o=r[1];if(o=Number(o),!o)return n+i;i=i.replace(".","");var s=1+o,a=i.length;return s<0?i="0."+mte("0",Math.abs(s))+i:s>=a?i=i+mte("0",s-a):i=(i.substring(0,s)||"0")+"."+i.substring(s),n+i}function gte(e,t,n){if(["","-"].indexOf(e)!==-1)return e;var r=(e.indexOf(".")!==-1||n)&&t,i=TH(e),o=i.beforeDecimal,s=i.afterDecimal,a=i.hasNegation,l=parseFloat("0."+(s||"0")),u=s.length<=t?"0."+s:l.toFixed(t),c=u.split("."),d=o;o&&Number(c[0])&&(d=o.split("").reverse().reduce(function(m,g,y){return m.length>y?(Number(m[0])+Number(g)).toString()+m.substring(1,m.length):g+m},c[0]));var f=m0e(c[1]||"",t,n),h=a?"-":"",p=r?".":"";return""+h+d+p+f}function gy(e,t){if(e.value=e.value,e!==null){if(e.createTextRange){var n=e.createTextRange();return n.move("character",t),n.select(),!0}return e.selectionStart||e.selectionStart===0?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}}var y0e=YBe(function(e,t){for(var n=0,r=0,i=e.length,o=t.length;e[n]===t[n]&&n<i;)n++;for(;e[i-1-r]===t[o-1-r]&&o-r>n&&i-r>n;)r++;return{from:{start:n,end:i-r},to:{start:n,end:o-r}}}),e8e=function(e,t){var n=Math.min(e.selectionStart,t);return{from:{start:n,end:e.selectionEnd},to:{start:n,end:t}}};function t8e(e,t,n){return Math.min(Math.max(e,t),n)}function $F(e){return Math.max(e.selectionStart,e.selectionEnd)}function n8e(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function r8e(e){return{from:{start:0,end:0},to:{start:0,end:e.length},lastValue:""}}function i8e(e){var t=e.currentValue,n=e.formattedValue,r=e.currentValueIndex,i=e.formattedValueIndex;return t[r]===n[i]}function o8e(e,t,n,r,i,o,s){s===void 0&&(s=i8e);var a=i.findIndex(function(E){return E}),l=e.slice(0,a);!t&&!n.startsWith(l)&&(t=l,n=l+n,r=r+l.length);for(var u=n.length,c=e.length,d={},f=new Array(u),h=0;h<u;h++){f[h]=-1;for(var p=0,m=c;p<m;p++){var g=s({currentValue:n,lastValue:t,formattedValue:e,currentValueIndex:h,formattedValueIndex:p});if(g&&d[p]!==!0){f[h]=p,d[p]=!0;break}}}for(var y=r;y<u&&(f[y]===-1||!o(n[y]));)y++;var v=y===u||f[y]===-1?c:f[y];for(y=r-1;y>0&&f[y]===-1;)y--;var w=y===-1||f[y]===-1?0:f[y]+1;return w>v?v:r-w<v-r?w:v}function yte(e,t,n,r){var i=e.length;if(t=t8e(t,0,i),r==="left"){for(;t>=0&&!n[t];)t--;t===-1&&(t=n.indexOf(!0))}else{for(;t<=i&&!n[t];)t++;t>i&&(t=n.lastIndexOf(!0))}return t===-1&&(t=i),t}function s8e(e){for(var t=Array.from({length:e.length+1}).map(function(){return!0}),n=0,r=t.length;n<r;n++)t[n]=!!(pT(e[n])||pT(e[n-1]));return t}function v0e(e,t,n,r,i,o){o===void 0&&(o=Wm);var s=JBe(function(p,m){var g,y;return h0e(p)?(y="",g=""):typeof p=="number"||m?(y=typeof p=="number"?g0e(p):p,g=r(y)):(y=i(p,void 0),g=r(y)),{formattedValue:g,numAsString:y}}),a=H.useState(function(){return s(U1(e)?t:e,n)}),l=a[0],u=a[1],c=function(p,m){p.formattedValue!==l.formattedValue&&u({formattedValue:p.formattedValue,numAsString:p.value}),o(p,m)},d=e,f=n;U1(e)&&(d=l.numAsString,f=!0);var h=s(d,f);return H.useMemo(function(){u(h)},[h.formattedValue]),[l,c]}function a8e(e){return e.replace(/[^0-9]/g,"")}function l8e(e){return e}function u8e(e){var t=e.type;t===void 0&&(t="text");var n=e.displayType;n===void 0&&(n="input");var r=e.customInput,i=e.renderText,o=e.getInputRef,s=e.format;s===void 0&&(s=l8e);var a=e.removeFormatting;a===void 0&&(a=a8e);var l=e.defaultValue,u=e.valueIsNumericString,c=e.onValueChange,d=e.isAllowed,f=e.onChange;f===void 0&&(f=Wm);var h=e.onKeyDown;h===void 0&&(h=Wm);var p=e.onMouseUp;p===void 0&&(p=Wm);var m=e.onFocus;m===void 0&&(m=Wm);var g=e.onBlur;g===void 0&&(g=Wm);var y=e.value,v=e.getCaretBoundary;v===void 0&&(v=s8e);var w=e.isValidInputCharacter;w===void 0&&(w=pT);var E=e.isCharacterSame,_=f0e(e,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),x=v0e(y,l,!!u,s,a,c),S=x[0],C=S.formattedValue,A=S.numAsString,k=x[1],N=H.useRef(),M=H.useRef({formattedValue:C,numAsString:A}),I=function(Fe,Ue){M.current={formattedValue:Fe.formattedValue,numAsString:Fe.value},k(Fe,Ue)},D=H.useState(!1),R=D[0],O=D[1],B=H.useRef(null),z=H.useRef({setCaretTimeout:null,focusTimeout:null});H.useEffect(function(){return O(!0),function(){clearTimeout(z.current.setCaretTimeout),clearTimeout(z.current.focusTimeout)}},[]);var W=s,U=function(Fe,Ue){var rt=parseFloat(Ue);return{formattedValue:Fe,value:Ue,floatValue:isNaN(rt)?void 0:rt}},F=function(Fe,Ue,rt){Fe.selectionStart===0&&Fe.selectionEnd===Fe.value.length||(gy(Fe,Ue),z.current.setCaretTimeout=setTimeout(function(){Fe.value===rt&&Fe.selectionStart!==Ue&&gy(Fe,Ue)},0))},Y=function(Fe,Ue,rt){return yte(Fe,Ue,v(Fe),rt)},V=function(Fe,Ue,rt){var at=v(Ue),ct=o8e(Ue,C,Fe,rt,at,w,E);return ct=yte(Ue,ct,at),ct},G=function(Fe){var Ue=Fe.formattedValue;Ue===void 0&&(Ue="");var rt=Fe.input,at=Fe.source,ct=Fe.event,vt=Fe.numAsString,gt;if(rt){var Ze=Fe.inputValue||rt.value,Tt=$F(rt);rt.value=Ue,gt=V(Ze,Ue,Tt),gt!==void 0&&F(rt,gt,Ue)}Ue!==C&&I(U(Ue,vt),{event:ct,source:at})};H.useEffect(function(){var Fe=M.current,Ue=Fe.formattedValue,rt=Fe.numAsString;(C!==Ue||A!==rt)&&I(U(C,A),{event:void 0,source:hT.props})},[C,A]);var X=B.current?$F(B.current):void 0,Z=typeof window<"u"?H.useLayoutEffect:H.useEffect;Z(function(){var Fe=B.current;if(C!==M.current.formattedValue&&Fe){var Ue=V(M.current.formattedValue,C,X);Fe.value=C,F(Fe,Ue,C)}},[C]);var oe=function(Fe,Ue,rt){var at=Ue.target,ct=N.current?e8e(N.current,at.selectionEnd):y0e(C,Fe),vt=Object.assign(Object.assign({},ct),{lastValue:C}),gt=a(Fe,vt),Ze=W(gt);if(gt=a(Ze,void 0),d&&!d(U(Ze,gt))){var Tt=Ue.target,ue=$F(Tt),xe=V(Fe,C,ue);return Tt.value=C,F(Tt,xe,C),!1}return G({formattedValue:Ze,numAsString:gt,inputValue:Fe,event:Ue,source:rt,input:Ue.target}),!0},ne=function(Fe,Ue){Ue===void 0&&(Ue=0);var rt=Fe.selectionStart,at=Fe.selectionEnd;N.current={selectionStart:rt,selectionEnd:at+Ue}},ie=function(Fe){var Ue=Fe.target,rt=Ue.value,at=oe(rt,Fe,hT.event);at&&f(Fe),N.current=void 0},fe=function(Fe){var Ue=Fe.target,rt=Fe.key,at=Ue.selectionStart,ct=Ue.selectionEnd,vt=Ue.value;vt===void 0&&(vt="");var gt;rt==="ArrowLeft"||rt==="Backspace"?gt=Math.max(at-1,0):rt==="ArrowRight"?gt=Math.min(at+1,vt.length):rt==="Delete"&&(gt=at);var Ze=0;rt==="Delete"&&at===ct&&(Ze=1);var Tt=rt==="ArrowLeft"||rt==="ArrowRight";if(gt===void 0||at!==ct&&!Tt){h(Fe),ne(Ue,Ze);return}var ue=gt;if(Tt){var xe=rt==="ArrowLeft"?"left":"right";ue=Y(vt,gt,xe),ue!==gt&&Fe.preventDefault()}else rt==="Delete"&&!w(vt[gt])?ue=Y(vt,gt,"right"):rt==="Backspace"&&!w(vt[gt])&&(ue=Y(vt,gt,"left"));ue!==gt&&F(Ue,ue,vt),h(Fe),ne(Ue,Ze)},se=function(Fe){var Ue=Fe.target,rt=function(){var at=Ue.selectionStart,ct=Ue.selectionEnd,vt=Ue.value;if(vt===void 0&&(vt=""),at===ct){var gt=Y(vt,at);gt!==at&&F(Ue,gt,vt)}};rt(),requestAnimationFrame(function(){rt()}),p(Fe),ne(Ue)},ae=function(Fe){Fe.persist&&Fe.persist();var Ue=Fe.target,rt=Fe.currentTarget;B.current=Ue,z.current.focusTimeout=setTimeout(function(){var at=Ue.selectionStart,ct=Ue.selectionEnd,vt=Ue.value;vt===void 0&&(vt="");var gt=Y(vt,at);gt!==at&&!(at===0&&ct===vt.length)&&F(Ue,gt,vt),m(Object.assign(Object.assign({},Fe),{currentTarget:rt}))},0)},Se=function(Fe){B.current=null,clearTimeout(z.current.focusTimeout),clearTimeout(z.current.setCaretTimeout),g(Fe)},Te=R&&n8e()?"numeric":void 0,Oe=Object.assign({inputMode:Te},_,{type:t,value:C,onChange:ie,onKeyDown:fe,onMouseUp:se,onFocus:ae,onBlur:Se});if(n==="text")return i?rr.createElement(rr.Fragment,null,i(C,_)||null):rr.createElement("span",Object.assign({},_,{ref:o}),C);if(r){var We=r;return rr.createElement(We,Object.assign({},Oe,{ref:o}))}return rr.createElement("input",Object.assign({},Oe,{ref:o}))}function vte(e,t){var n=t.decimalScale,r=t.fixedDecimalScale,i=t.prefix;i===void 0&&(i="");var o=t.suffix;o===void 0&&(o="");var s=t.allowNegative,a=t.thousandsGroupStyle;if(a===void 0&&(a="thousand"),e===""||e==="-")return e;var l=_P(t),u=l.thousandSeparator,c=l.decimalSeparator,d=n!==0&&e.indexOf(".")!==-1||n&&r,f=TH(e,s),h=f.beforeDecimal,p=f.afterDecimal,m=f.addNegation;return n!==void 0&&(p=m0e(p,n,!!r)),u&&(h=QBe(h,u,a)),i&&(h=i+h),o&&(p=p+o),m&&(h="-"+h),e=h+(d&&c||"")+p,e}function _P(e){var t=e.decimalSeparator;t===void 0&&(t=".");var n=e.thousandSeparator,r=e.allowedDecimalSeparators;return n===!0&&(n=","),r||(r=[t,"."]),{decimalSeparator:t,thousandSeparator:n,allowedDecimalSeparators:r}}function c8e(e,t){e===void 0&&(e="");var n=new RegExp("(-)"),r=new RegExp("(-)(.)*(-)"),i=n.test(e),o=r.test(e);return e=e.replace(/-/g,""),i&&!o&&t&&(e="-"+e),e}function d8e(e,t){return new RegExp("(^-)|[0-9]|"+p0e(e),"g")}function f8e(e,t,n){return e===""?!0:!(t!=null&&t.match(/\d/))&&!(n!=null&&n.match(/\d/))&&typeof e=="string"&&!isNaN(Number(e))}function h8e(e,t,n){var r;t===void 0&&(t=r8e(e));var i=n.allowNegative,o=n.prefix;o===void 0&&(o="");var s=n.suffix;s===void 0&&(s="");var a=n.decimalScale,l=t.from,u=t.to,c=u.start,d=u.end,f=_P(n),h=f.allowedDecimalSeparators,p=f.decimalSeparator,m=e[d]===p;if(pT(e)&&(e===o||e===s)&&t.lastValue==="")return e;if(d-c===1&&h.indexOf(e[c])!==-1){var g=a===0?"":p;e=e.substring(0,c)+g+e.substring(c+1,e.length)}var y=function(B,z,W){var U=!1,F=!1;o.startsWith("-")?U=!1:B.startsWith("--")?(U=!1,F=!0):s.startsWith("-")&&B.length===s.length?U=!1:B[0]==="-"&&(U=!0);var Y=U?1:0;return F&&(Y=2),Y&&(B=B.substring(Y),z-=Y,W-=Y),{value:B,start:z,end:W,hasNegation:U}},v=y(e,c,d),w=v.hasNegation;r=v,e=r.value,c=r.start,d=r.end;var E=y(t.lastValue,l.start,l.end),_=E.start,x=E.end,S=E.value,C=e.substring(c,d);e.length&&S.length&&(_>S.length-s.length||x<o.length)&&!(C&&s.startsWith(C))&&(e=S);var A=0;e.startsWith(o)?A+=o.length:c<o.length&&(A=c),e=e.substring(A),d-=A;var k=e.length,N=e.length-s.length;e.endsWith(s)?k=N:(d>N||d>e.length-s.length)&&(k=d),e=e.substring(0,k),e=c8e(w?"-"+e:e,i),e=(e.match(d8e(p))||[]).join("");var M=e.indexOf(p);e=e.replace(new RegExp(p0e(p),"g"),function(B,z){return z===M?".":""});var I=TH(e,i),D=I.beforeDecimal,R=I.afterDecimal,O=I.addNegation;return u.end-u.start<l.end-l.start&&D===""&&m&&!parseFloat(R)&&(e=O?"-":""),e}function p8e(e,t){var n=t.prefix;n===void 0&&(n="");var r=t.suffix;r===void 0&&(r="");var i=Array.from({length:e.length+1}).map(function(){return!0}),o=e[0]==="-";i.fill(!1,0,n.length+(o?1:0));var s=e.length;return i.fill(!1,s-r.length+1,s+1),i}function m8e(e){var t=_P(e),n=t.thousandSeparator,r=t.decimalSeparator,i=e.prefix;i===void 0&&(i="");var o=e.allowNegative;if(o===void 0&&(o=!0),n===r)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+n+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+r+` (default value for decimalSeparator is .)
     `);return i.startsWith("-")&&o&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+i+`
      allowNegative: `+o+`
    `),o=!1),Object.assign(Object.assign({},e),{allowNegative:o})}function g8e(e){e=m8e(e),e.decimalSeparator,e.allowedDecimalSeparators,e.thousandsGroupStyle;var t=e.suffix,n=e.allowNegative,r=e.allowLeadingZeros,i=e.onKeyDown;i===void 0&&(i=Wm);var o=e.onBlur;o===void 0&&(o=Wm);var s=e.thousandSeparator,a=e.decimalScale,l=e.fixedDecimalScale,u=e.prefix;u===void 0&&(u="");var c=e.defaultValue,d=e.value,f=e.valueIsNumericString,h=e.onValueChange,p=f0e(e,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),m=_P(e),g=m.decimalSeparator,y=m.allowedDecimalSeparators,v=function(O){return vte(O,e)},w=function(O,B){return h8e(O,B,e)},E=U1(d)?c:d,_=f??f8e(E,u,t);U1(d)?U1(c)||(_=_||typeof c=="number"):_=_||typeof d=="number";var x=function(O){return h0e(O)?O:(typeof O=="number"&&(O=g0e(O)),_&&typeof a=="number"?gte(O,a,!!l):O)},S=v0e(x(d),x(c),!!_,v,w,h),C=S[0],A=C.numAsString,k=C.formattedValue,N=S[1],M=function(O){var B=O.target,z=O.key,W=B.selectionStart,U=B.selectionEnd,F=B.value;if(F===void 0&&(F=""),(z==="Backspace"||z==="Delete")&&U<u.length){O.preventDefault();return}if(W!==U){i(O);return}z==="Backspace"&&F[0]==="-"&&W===u.length+1&&n&&gy(B,1),a&&l&&(z==="Backspace"&&F[W-1]===g?(gy(B,W-1),O.preventDefault()):z==="Delete"&&F[W]===g&&O.preventDefault()),y!=null&&y.includes(z)&&F[W]===g&&gy(B,W+1);var Y=s===!0?",":s;z==="Backspace"&&F[W-1]===Y&&gy(B,W-1),z==="Delete"&&F[W]===Y&&gy(B,W+1),i(O)},I=function(O){var B=A;if(B.match(/\d/g)||(B=""),r||(B=ZBe(B)),l&&a&&(B=gte(B,a,l)),B!==A){var z=vte(B,e);N({formattedValue:z,value:B,floatValue:parseFloat(B)},{event:O,source:hT.event})}o(O)},D=function(O){return O===g?!0:pT(O)},R=function(O){var B=O.currentValue,z=O.lastValue,W=O.formattedValue,U=O.currentValueIndex,F=O.formattedValueIndex,Y=B[U],V=W[F],G=y0e(z,B),X=G.to,Z=function(oe){return w(oe).indexOf(".")+u.length};return d===0&&l&&a&&B[X.start]===g&&Z(B)<U&&Z(W)>F?!1:U>=X.start&&U<X.end&&y&&y.includes(Y)&&V===g?!0:Y===V};return Object.assign(Object.assign({},p),{value:k,valueIsNumericString:!1,isValidInputCharacter:D,isCharacterSame:R,onValueChange:N,format:v,removeFormatting:w,getCaretBoundary:function(O){return p8e(O,e)},onKeyDown:M,onBlur:I})}function y8e(e){var t=g8e(e);return rr.createElement(u8e,Object.assign({},t))}function bte({direction:e,style:t,...n}){return $.jsx("svg",{style:{width:"var(--ni-chevron-size)",height:"var(--ni-chevron-size)",transform:e==="up"?"rotate(180deg)":void 0,...t},viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,children:$.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}var H8={root:"m_e2f5cd4e",controls:"m_95e17d22",control:"m_80b4b171"};const v8e=/^(0\.0*|-0(\.0*)?)$/,b8e=/^-?0\d+(\.\d+)?\.?$/;function V8(e){return typeof e=="string"&&e!==""&&!Number.isNaN(Number(e))}function MF(e){return typeof e=="number"?e<Number.MAX_SAFE_INTEGER:e===""||V8(e)&&Number(e)<Number.MAX_SAFE_INTEGER}function w8e(e){return e.toString().replace(".","").length}function x8e(e,t){return(typeof e=="number"?e<Number.MAX_SAFE_INTEGER:!Number.isNaN(Number(e)))&&!Number.isNaN(e)&&w8e(t)<14&&t!==""}function wte(e,t,n){if(e===void 0)return!0;const r=t===void 0||e>=t,i=n===void 0||e<=n;return r&&i}const _8e={step:1,clampBehavior:"blur",allowDecimal:!0,allowNegative:!0,withKeyboardEvents:!0,allowLeadingZeros:!0,trimLeadingZeroesOnBlur:!0,startValue:0},E8e=(e,{size:t})=>({controls:{"--ni-chevron-size":Nn(t,"ni-chevron-size")}}),CH=ht((e,t)=>{const n=ze("NumberInput",_8e,e),{className:r,classNames:i,styles:o,unstyled:s,vars:a,onChange:l,onValueChange:u,value:c,defaultValue:d,max:f,min:h,step:p,hideControls:m,rightSection:g,isAllowed:y,clampBehavior:v,onBlur:w,allowDecimal:E,decimalScale:_,onKeyDown:x,onKeyDownCapture:S,handlersRef:C,startValue:A,disabled:k,rightSectionPointerEvents:N,allowNegative:M,readOnly:I,size:D,rightSectionWidth:R,stepHoldInterval:O,stepHoldDelay:B,allowLeadingZeros:z,withKeyboardEvents:W,trimLeadingZeroesOnBlur:U,...F}=n,Y=Gt({name:"NumberInput",classes:H8,props:n,classNames:i,styles:o,unstyled:s,vars:a,varsResolver:E8e}),{resolvedClassNames:V,resolvedStyles:G}=Pv({classNames:i,styles:o,props:n}),[X,Z]=gs({value:c,defaultValue:d,finalValue:"",onChange:l}),oe=B!==void 0&&O!==void 0,ne=H.useRef(null),ie=H.useRef(null),fe=H.useRef(0),se=(Ze,Tt)=>{Tt.source==="event"&&Z(x8e(Ze.floatValue,Ze.value)&&!v8e.test(Ze.value)&&!(z&&b8e.test(Ze.value))?Ze.floatValue:Ze.value),u==null||u(Ze,Tt)},ae=Ze=>{const Tt=String(Ze).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return Tt?Math.max(0,(Tt[1]?Tt[1].length:0)-(Tt[2]?+Tt[2]:0)):0},Se=Ze=>{ne.current&&typeof Ze<"u"&&ne.current.setSelectionRange(Ze,Ze)},Te=H.useRef(aD);Te.current=()=>{if(!MF(X))return;let Ze;const Tt=ae(X),ue=ae(p),xe=Math.max(Tt,ue),$e=10**xe;if(!V8(X)&&(typeof X!="number"||Number.isNaN(X)))Ze=Jh(A,h,f);else if(f!==void 0){const tt=(Math.round(Number(X)*$e)+Math.round(p*$e))/$e;Ze=tt<=f?tt:f}else Ze=(Math.round(Number(X)*$e)+Math.round(p*$e))/$e;const Ye=Ze.toFixed(xe);Z(parseFloat(Ye)),u==null||u({floatValue:parseFloat(Ye),formattedValue:Ye,value:Ye},{source:"increment"}),setTimeout(()=>{var tt;return Se((tt=ne.current)==null?void 0:tt.value.length)},0)};const Oe=H.useRef(aD);Oe.current=()=>{if(!MF(X))return;let Ze;const Tt=h!==void 0?h:M?Number.MIN_SAFE_INTEGER:0,ue=ae(X),xe=ae(p),$e=Math.max(ue,xe),Ye=10**$e;if(!V8(X)&&typeof X!="number"||Number.isNaN(X))Ze=Jh(A,Tt,f);else{const Et=(Math.round(Number(X)*Ye)-Math.round(p*Ye))/Ye;Ze=Tt!==void 0&&Et<Tt?Tt:Et}const tt=Ze.toFixed($e);Z(parseFloat(tt)),u==null||u({floatValue:parseFloat(tt),formattedValue:tt,value:tt},{source:"decrement"}),setTimeout(()=>{var Et;return Se((Et=ne.current)==null?void 0:Et.value.length)},0)};const We=Ze=>{x==null||x(Ze),!(I||!W)&&(Ze.key==="ArrowUp"&&(Ze.preventDefault(),Te.current()),Ze.key==="ArrowDown"&&(Ze.preventDefault(),Oe.current()))},Fe=Ze=>{if(S==null||S(Ze),Ze.key==="Backspace"){const Tt=ne.current;Tt.selectionStart===0&&Tt.selectionStart===Tt.selectionEnd&&(Ze.preventDefault(),window.setTimeout(()=>Se(0),0))}},Ue=Ze=>{let Tt=X;if(v==="blur"&&typeof Tt=="number"&&(Tt=Jh(Tt,h,f)),U&&typeof Tt=="string"&&ae(Tt)<15){const ue=Tt.toString().replace(/^0+/,""),xe=parseFloat(ue);Tt=Number.isNaN(xe)||xe>Number.MAX_SAFE_INTEGER?ue:Jh(xe,h,f)}X!==Tt&&Z(Tt),w==null||w(Ze)};lD(C,{increment:Te.current,decrement:Oe.current});const rt=Ze=>{Ze?Te.current():Oe.current(),fe.current+=1},at=Ze=>{if(rt(Ze),oe){const Tt=typeof O=="number"?O:O(fe.current);ie.current=window.setTimeout(()=>at(Ze),Tt)}},ct=(Ze,Tt)=>{var ue;Ze.preventDefault(),(ue=ne.current)==null||ue.focus(),rt(Tt),oe&&(ie.current=window.setTimeout(()=>at(Tt),B))},vt=()=>{ie.current&&window.clearTimeout(ie.current),ie.current=null,fe.current=0},gt=$.jsxs("div",{...Y("controls"),children:[$.jsx(Iu,{...Y("control"),tabIndex:-1,"aria-hidden":!0,disabled:k||typeof X=="number"&&f!==void 0&&X>=f,mod:{direction:"up"},onMouseDown:Ze=>Ze.preventDefault(),onPointerDown:Ze=>{ct(Ze,!0)},onPointerUp:vt,onPointerLeave:vt,children:$.jsx(bte,{direction:"up"})}),$.jsx(Iu,{...Y("control"),tabIndex:-1,"aria-hidden":!0,disabled:k||typeof X=="number"&&h!==void 0&&X<=h,mod:{direction:"down"},onMouseDown:Ze=>Ze.preventDefault(),onPointerDown:Ze=>{ct(Ze,!1)},onPointerUp:vt,onPointerLeave:vt,children:$.jsx(bte,{direction:"down"})})]});return $.jsx(Ac,{component:y8e,allowNegative:M,className:yo(H8.root,r),size:D,...F,readOnly:I,disabled:k,value:X,getInputRef:Yo(t,ne),onValueChange:se,rightSection:m||I||!MF(X)?g:g||gt,classNames:V,styles:G,unstyled:s,__staticSelector:"NumberInput",decimalScale:E?_:0,onKeyDown:We,onKeyDownCapture:Fe,rightSectionPointerEvents:N??(k?"none":void 0),rightSectionWidth:R??`var(--ni-right-section-width-${D||"sm"})`,allowLeadingZeros:z,onBlur:Ue,isAllowed:Ze=>v==="strict"?y?y(Ze)&&wte(Ze.floatValue,h,f):wte(Ze.floatValue,h,f):y?y(Ze):!0})});CH.classes={...Ac.classes,...H8};CH.displayName="@mantine/core/NumberInput";const[S8e,b0e]=bs("Progress.Root component was not found in tree");var NC={root:"m_db6d6462",section:"m_2242eb65","stripes-animation":"m_81a374bd",label:"m_91e40b74"};const T8e={},AH=ht((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...a}=ze("ProgressLabel",T8e,e),l=b0e();return $.jsx(De,{ref:t,...l.getStyles("label",{className:r,style:i,classNames:n,styles:o}),...a})});AH.classes=NC;AH.displayName="@mantine/core/ProgressLabel";const C8e={},A8e=(e,{size:t,radius:n,transitionDuration:r})=>({root:{"--progress-size":Nn(t,"progress-size"),"--progress-radius":n===void 0?void 0:Hr(n),"--progress-transition-duration":typeof r=="number"?`${r}ms`:void 0}}),EP=ht((e,t)=>{const n=ze("ProgressRoot",C8e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,autoContrast:u,transitionDuration:c,...d}=n,f=Gt({name:"Progress",classes:NC,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:A8e});return $.jsx(S8e,{value:{getStyles:f,autoContrast:u},children:$.jsx(De,{ref:t,...f("root"),...d})})});EP.classes=NC;EP.displayName="@mantine/core/ProgressRoot";const k8e={withAria:!0},SP=ht((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,value:a,withAria:l,color:u,striped:c,animated:d,mod:f,...h}=ze("ProgressSection",k8e,e),p=b0e(),m=Io(),g=l?{role:"progressbar","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":a,"aria-valuetext":`${a}%`}:{};return $.jsx(De,{ref:t,...p.getStyles("section",{className:r,classNames:n,styles:o,style:i}),...h,...g,mod:[{striped:c||d,animated:d},f],__vars:{"--progress-section-width":`${a}%`,"--progress-section-color":ni(u,m),"--progress-label-color":cx(p.autoContrast,m)?Mv({color:u,theme:m,autoContrast:p.autoContrast}):void 0}})});SP.classes=NC;SP.displayName="@mantine/core/ProgressSection";const I8e={},xx=ht((e,t)=>{const n=ze("Progress",I8e,e),{value:r,classNames:i,styles:o,vars:s,color:a,striped:l,animated:u,"aria-label":c,...d}=n,{resolvedClassNames:f,resolvedStyles:h}=Pv({classNames:i,styles:o,props:n});return $.jsx(EP,{ref:t,classNames:f,styles:h,vars:s,...d,children:$.jsx(SP,{value:r,color:a,striped:l,animated:u,"aria-label":c})})});xx.classes=NC;xx.displayName="@mantine/core/Progress";xx.Section=SP;xx.Root=EP;xx.Label=AH;const[R8e,w0e]=e0(),[D8e,$8e]=e0();var x0e={card:"m_9dc8ae12"};const M8e={withBorder:!0},P8e=(e,{radius:t})=>({card:{"--card-radius":Hr(t)}}),kH=ht((e,t)=>{const n=ze("RadioCard",M8e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,checked:u,mod:c,withBorder:d,value:f,onClick:h,name:p,onKeyDown:m,...g}=n,y=Gt({name:"RadioCard",classes:x0e,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:P8e,rootSelector:"card"}),{dir:v}=t0(),w=w0e(),E=typeof u=="boolean"?u:(w==null?void 0:w.value)===f||!1,_=p||(w==null?void 0:w.name),x=S=>{if(m==null||m(S),["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes(S.nativeEvent.code)){S.preventDefault();const C=Array.from(document.querySelectorAll(`[role="radio"][name="${_||"__mantine"}"]`)),A=C.findIndex(M=>M===S.target),k=A+1>=C.length?0:A+1,N=A-1<0?C.length-1:A-1;S.nativeEvent.code==="ArrowDown"&&(C[k].focus(),C[k].click()),S.nativeEvent.code==="ArrowUp"&&(C[N].focus(),C[N].click()),S.nativeEvent.code==="ArrowLeft"&&(C[v==="ltr"?N:k].focus(),C[v==="ltr"?N:k].click()),S.nativeEvent.code==="ArrowRight"&&(C[v==="ltr"?k:N].focus(),C[v==="ltr"?k:N].click())}};return $.jsx(D8e,{value:{checked:E},children:$.jsx(Iu,{ref:t,mod:[{"with-border":d,checked:E},c],...y("card"),...g,role:"radio","aria-checked":E,name:_,onClick:S=>{h==null||h(S),w==null||w.onChange(f||"")},onKeyDown:x})})});kH.displayName="@mantine/core/RadioCard";kH.classes=x0e;const N8e={},IH=ht((e,t)=>{const{value:n,defaultValue:r,onChange:i,size:o,wrapperProps:s,children:a,name:l,readOnly:u,...c}=ze("RadioGroup",N8e,e),d=cl(l),[f,h]=gs({value:n,defaultValue:r,finalValue:"",onChange:i}),p=m=>!u&&h(typeof m=="string"?m:m.currentTarget.value);return $.jsx(R8e,{value:{value:f,onChange:p,size:o,name:d},children:$.jsx(Xr.Wrapper,{size:o,ref:t,...s,...c,labelElement:"div",__staticSelector:"RadioGroup",children:$.jsx(rH,{role:"radiogroup",children:a})})})});IH.classes=Xr.Wrapper.classes;IH.displayName="@mantine/core/RadioGroup";function _0e({size:e,style:t,...n}){return $.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 5 5",style:{width:je(e),height:je(e),...t},"aria-hidden":!0,...n,children:$.jsx("circle",{cx:"2.5",cy:"2.5",r:"2.5",fill:"currentColor"})})}var E0e={indicator:"m_717d7ff6",icon:"m_3e4da632","indicator--outline":"m_2980836c"};const O8e={icon:_0e},L8e=(e,{radius:t,color:n,size:r,iconColor:i,variant:o,autoContrast:s})=>{const a=nh({color:n||e.primaryColor,theme:e}),l=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{indicator:{"--radio-size":Nn(r,"radio-size"),"--radio-radius":t===void 0?void 0:Hr(t),"--radio-color":o==="outline"?l:ni(n,e),"--radio-icon-size":Nn(r,"radio-icon-size"),"--radio-icon-color":i?ni(i,e):cx(s,e)?Mv({color:n,theme:e,autoContrast:s}):void 0}}},RH=ht((e,t)=>{const n=ze("RadioIndicator",O8e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,icon:u,radius:c,color:d,iconColor:f,autoContrast:h,checked:p,mod:m,variant:g,disabled:y,...v}=n,w=u,E=Gt({name:"RadioIndicator",classes:E0e,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:L8e,rootSelector:"indicator"}),_=$8e(),x=typeof p=="boolean"?p:(_==null?void 0:_.checked)||!1;return $.jsx(De,{ref:t,...E("indicator",{variant:g}),variant:g,mod:[{checked:x,disabled:y},m],...v,children:$.jsx(w,{...E("icon")})})});RH.displayName="@mantine/core/RadioIndicator";RH.classes=E0e;var S0e={root:"m_f3f1af94",inner:"m_89c4f5e4",icon:"m_f3ed6b2b",radio:"m_8a3dbb89","radio--outline":"m_1bfe9d39"};const F8e={labelPosition:"right"},B8e=(e,{size:t,radius:n,color:r,iconColor:i,variant:o,autoContrast:s})=>{const a=nh({color:r||e.primaryColor,theme:e}),l=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{root:{"--radio-size":Nn(t,"radio-size"),"--radio-radius":n===void 0?void 0:Hr(n),"--radio-color":o==="outline"?l:ni(r,e),"--radio-icon-color":i?ni(i,e):cx(s,e)?Mv({color:r,theme:e,autoContrast:s}):void 0,"--radio-icon-size":Nn(t,"radio-icon-size")}}},_u=ht((e,t)=>{const n=ze("Radio",F8e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,id:u,size:c,label:d,labelPosition:f,description:h,error:p,radius:m,color:g,variant:y,disabled:v,wrapperProps:w,icon:E=_0e,rootRef:_,iconColor:x,onChange:S,mod:C,...A}=n,k=Gt({name:"Radio",classes:S0e,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:B8e}),N=w0e(),M=(N==null?void 0:N.size)??c,I=n.size?c:M,{styleProps:D,rest:R}=Ov(A),O=cl(u),B=N?{checked:N.value===R.value,name:R.name??N.name,onChange:z=>{N.onChange(z),S==null||S(z)}}:{};return $.jsx(dP,{...k("root"),__staticSelector:"Radio",__stylesApiProps:n,id:O,size:I,labelPosition:f,label:d,description:h,error:p,disabled:v,classNames:r,styles:s,unstyled:a,"data-checked":B.checked||void 0,variant:y,ref:_,mod:C,...D,...w,children:$.jsxs(De,{...k("inner"),mod:{"label-position":f},children:[$.jsx(De,{...k("radio",{focusable:!0,variant:y}),onChange:S,...R,...B,component:"input",mod:{error:!!p},ref:t,id:O,disabled:v,type:"radio"}),$.jsx(E,{...k("icon"),"aria-hidden":!0})]})})});_u.classes=S0e;_u.displayName="@mantine/core/Radio";_u.Group=IH;_u.Card=kH;_u.Indicator=RH;const j8e={duration:100,transition:"fade"};function z8e(e,t){return{...j8e,...t,...e}}function U8e({offset:e,position:t,defaultOpened:n}){const[r,i]=H.useState(n),o=H.useRef(null),{x:s,y:a,elements:l,refs:u,update:c,placement:d}=_U({placement:t,middleware:[vU({crossAxis:!0,padding:5,rootBoundary:"document"})]}),f=d.includes("right")?e:t.includes("left")?e*-1:0,h=d.includes("bottom")?e:t.includes("top")?e*-1:0,p=H.useCallback(({clientX:m,clientY:g})=>{u.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x:m,y:g,left:m+f,top:g+h,right:m,bottom:g}}})},[l.reference]);return H.useEffect(()=>{if(u.floating.current){const m=o.current;m.addEventListener("mousemove",p);const g=cp(u.floating.current);return g.forEach(y=>{y.addEventListener("scroll",c)}),()=>{m.removeEventListener("mousemove",p),g.forEach(y=>{y.removeEventListener("scroll",c)})}}},[l.reference,u.floating.current,c,p,r]),{handleMouseMove:p,x:s,y:a,opened:r,setOpened:i,boundaryRef:o,floating:u.setFloating}}var TP={tooltip:"m_1b3c8819",arrow:"m_f898399f"};const H8e={refProp:"ref",withinPortal:!0,offset:10,defaultOpened:!1,position:"right",zIndex:Kl("popover")},V8e=(e,{radius:t,color:n})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:Hr(t),"--tooltip-bg":n?ni(n,e):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),DH=ht((e,t)=>{const n=ze("TooltipFloating",H8e,e),{children:r,refProp:i,withinPortal:o,style:s,className:a,classNames:l,styles:u,unstyled:c,radius:d,color:f,label:h,offset:p,position:m,multiline:g,zIndex:y,disabled:v,defaultOpened:w,variant:E,vars:_,portalProps:x,...S}=n,C=Io(),A=Gt({name:"TooltipFloating",props:n,classes:TP,className:a,style:s,classNames:l,styles:u,unstyled:c,rootSelector:"tooltip",vars:_,varsResolver:V8e}),{handleMouseMove:k,x:N,y:M,opened:I,boundaryRef:D,floating:R,setOpened:O}=U8e({offset:p,position:m,defaultOpened:w});if(!Wp(r))throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const B=Yo(D,XM(r),t),z=r.props,W=F=>{var Y;(Y=z.onMouseEnter)==null||Y.call(z,F),k(F),O(!0)},U=F=>{var Y;(Y=z.onMouseLeave)==null||Y.call(z,F),O(!1)};return $.jsxs($.Fragment,{children:[$.jsx(n0,{...x,withinPortal:o,children:$.jsx(De,{...S,...A("tooltip",{style:{...uU(s,C),zIndex:y,display:!v&&I?"block":"none",top:(M&&Math.round(M))??"",left:(N&&Math.round(N))??""}}),variant:E,ref:R,mod:{multiline:g},children:h})}),H.cloneElement(r,{...z,[i]:B,onMouseEnter:W,onMouseLeave:U})]})});DH.classes=TP;DH.displayName="@mantine/core/TooltipFloating";const T0e=H.createContext(!1),W8e=T0e.Provider,q8e=()=>H.useContext(T0e),G8e={openDelay:0,closeDelay:0};function $H(e){const{openDelay:t,closeDelay:n,children:r}=ze("TooltipGroup",G8e,e);return $.jsx(W8e,{value:!0,children:$.jsx(O4e,{delay:{open:t,close:n},children:r})})}$H.displayName="@mantine/core/TooltipGroup";$H.extend=e=>e;function Y8e(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function K8e(e){const t=Y8e(e.middlewares),n=[$me(e.offset)];return t.shift&&n.push(vU(typeof t.shift=="boolean"?{padding:8}:{padding:8,...t.shift})),t.flip&&n.push(typeof t.flip=="boolean"?hD():hD(t.flip)),n.push(Mme({element:e.arrowRef,padding:e.arrowOffset})),t.inline?n.push(typeof t.inline=="boolean"?IS():IS(t.inline)):e.inline&&n.push(IS()),n}function X8e(e){var x,S,C;const[t,n]=H.useState(e.defaultOpened),i=typeof e.opened=="boolean"?e.opened:t,o=q8e(),s=cl(),a=H.useCallback(A=>{n(A),A&&v(s)},[s]),{x:l,y:u,context:c,refs:d,update:f,placement:h,middlewareData:{arrow:{x:p,y:m}={}}}=_U({strategy:e.strategy,placement:e.position,open:i,onOpenChange:a,middleware:K8e(e)}),{delay:g,currentId:y,setCurrentId:v}=L4e(c,{id:s}),{getReferenceProps:w,getFloatingProps:E}=V4e([P4e(c,{enabled:(x=e.events)==null?void 0:x.hover,delay:o?g:{open:e.openDelay,close:e.closeDelay},mouseOnly:!((S=e.events)!=null&&S.touch)}),H4e(c,{enabled:(C=e.events)==null?void 0:C.focus,visibleOnly:!0}),q4e(c,{role:"tooltip"}),z4e(c,{enabled:typeof e.opened>"u"})]);oge({opened:i,position:e.position,positionDependencies:e.positionDependencies,floating:{refs:d,update:f}}),zf(()=>{var A;(A=e.onPositionChange)==null||A.call(e,h)},[h]);const _=i&&y&&y!==s;return{x:l,y:u,arrowX:p,arrowY:m,reference:d.setReference,floating:d.setFloating,getFloatingProps:E,getReferenceProps:w,isGroupPhase:_,opened:i,placement:h}}const xte={position:"top",refProp:"ref",withinPortal:!0,inline:!1,defaultOpened:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:Kl("popover"),positionDependencies:[],middlewares:{flip:!0,shift:!0,inline:!1}},Q8e=(e,{radius:t,color:n})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:Hr(t),"--tooltip-bg":n?ni(n,e):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),vi=ht((e,t)=>{const n=ze("Tooltip",xte,e),{children:r,position:i,refProp:o,label:s,openDelay:a,closeDelay:l,onPositionChange:u,opened:c,defaultOpened:d,withinPortal:f,radius:h,color:p,classNames:m,styles:g,unstyled:y,style:v,className:w,withArrow:E,arrowSize:_,arrowOffset:x,arrowRadius:S,arrowPosition:C,offset:A,transitionProps:k,multiline:N,events:M,zIndex:I,disabled:D,positionDependencies:R,onClick:O,onMouseEnter:B,onMouseLeave:z,inline:W,variant:U,keepMounted:F,vars:Y,portalProps:V,mod:G,floatingStrategy:X,middlewares:Z,...oe}=ze("Tooltip",xte,n),{dir:ne}=t0(),ie=H.useRef(null),fe=X8e({position:Jme(ne,i),closeDelay:l,openDelay:a,onPositionChange:u,opened:c,defaultOpened:d,events:M,arrowRef:ie,arrowOffset:x,offset:typeof A=="number"?A+(E?_/2:0):A,positionDependencies:[...R,r],inline:W,strategy:X,middlewares:Z}),se=Gt({name:"Tooltip",props:n,classes:TP,className:w,style:v,classNames:m,styles:g,unstyled:y,rootSelector:"tooltip",vars:Y,varsResolver:Q8e});if(!Wp(r))throw new Error("[@mantine/core] Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const ae=Yo(fe.reference,XM(r),t),Se=z8e(k,{duration:100,transition:"fade"}),Te=r.props;return $.jsxs($.Fragment,{children:[$.jsx(n0,{...V,withinPortal:f,children:$.jsx(ih,{...Se,keepMounted:F,mounted:!D&&!!fe.opened,duration:fe.isGroupPhase?10:Se.duration,children:Oe=>$.jsxs(De,{...oe,"data-fixed":X==="fixed"||void 0,variant:U,mod:[{multiline:N},G],...fe.getFloatingProps({ref:fe.floating,className:se("tooltip").className,style:{...se("tooltip").style,...Oe,zIndex:I,top:fe.y??0,left:fe.x??0}}),children:[s,$.jsx(AU,{ref:ie,arrowX:fe.arrowX,arrowY:fe.arrowY,visible:E,position:fe.placement,arrowSize:_,arrowOffset:x,arrowRadius:S,arrowPosition:C,...se("arrow")})]})})}),H.cloneElement(r,fe.getReferenceProps({onClick:O,onMouseEnter:B,onMouseLeave:z,onMouseMove:n.onMouseMove,onPointerDown:n.onPointerDown,onPointerEnter:n.onPointerEnter,className:yo(w,Te.className),...Te,[o]:ae}))]})});vi.classes=TP;vi.displayName="@mantine/core/Tooltip";vi.Floating=DH;vi.Group=$H;const J8e={searchable:!1,withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},_x=ht((e,t)=>{const n=ze("Select",J8e,e),{classNames:r,styles:i,unstyled:o,vars:s,dropdownOpened:a,defaultDropdownOpened:l,onDropdownClose:u,onDropdownOpen:c,onFocus:d,onBlur:f,onClick:h,onChange:p,data:m,value:g,defaultValue:y,selectFirstOptionOnChange:v,onOptionSubmit:w,comboboxProps:E,readOnly:_,disabled:x,filter:S,limit:C,withScrollArea:A,maxDropdownHeight:k,size:N,searchable:M,rightSection:I,checkIconPosition:D,withCheckIcon:R,nothingFoundMessage:O,name:B,form:z,searchValue:W,defaultSearchValue:U,onSearchChange:F,allowDeselect:Y,error:V,rightSectionPointerEvents:G,id:X,clearable:Z,clearButtonProps:oe,hiddenInputProps:ne,renderOption:ie,onClear:fe,autoComplete:se,scrollAreaProps:ae,__defaultRightSection:Se,__clearSection:Te,__clearable:Oe,chevronColor:We,...Fe}=n,Ue=H.useMemo(()=>kge(m),[m]),rt=H.useMemo(()=>VU(Ue),[Ue]),at=cl(X),[ct,vt,gt]=gs({value:g,defaultValue:y,finalValue:null,onChange:p}),Ze=typeof ct=="string"?rt[ct]:void 0,Tt=aOe(Ze),[ue,xe]=gs({value:W,defaultValue:U,finalValue:Ze?Ze.label:"",onChange:F}),$e=tH({opened:a,defaultOpened:l,onDropdownOpen:()=>{c==null||c(),$e.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{u==null||u(),$e.resetSelectedOption()}}),Ye=Wt=>{xe(Wt),$e.resetSelectedOption()},{resolvedClassNames:tt,resolvedStyles:Et}=Pv({props:n,styles:i,classNames:r});H.useEffect(()=>{v&&$e.selectFirstOption()},[v,ct]),H.useEffect(()=>{g===null&&Ye(""),typeof g=="string"&&Ze&&((Tt==null?void 0:Tt.value)!==Ze.value||(Tt==null?void 0:Tt.label)!==Ze.label)&&Ye(Ze.label)},[g,Ze]);const an=$.jsx(ar.ClearButton,{...oe,onClear:()=>{vt(null,null),Ye(""),fe==null||fe()}}),ln=Z&&!!ct&&!x&&!_;return $.jsxs($.Fragment,{children:[$.jsxs(ar,{store:$e,__staticSelector:"Select",classNames:tt,styles:Et,unstyled:o,readOnly:_,onOptionSubmit:Wt=>{w==null||w(Wt);const Dt=Y&&rt[Wt].value===ct?null:rt[Wt],Ae=Dt?Dt.value:null;Ae!==ct&&vt(Ae,Dt),!gt&&Ye(typeof Ae=="string"&&(Dt==null?void 0:Dt.label)||""),$e.closeDropdown()},size:N,...E,children:[$.jsx(ar.Target,{targetType:M?"input":"button",autoComplete:se,children:$.jsx(Ac,{id:at,ref:t,__defaultRightSection:$.jsx(ar.Chevron,{size:N,error:V,unstyled:o,color:We}),__clearSection:an,__clearable:ln,rightSection:I,rightSectionPointerEvents:G||(ln?"all":"none"),...Fe,size:N,__staticSelector:"Select",disabled:x,readOnly:_||!M,value:ue,onChange:Wt=>{Ye(Wt.currentTarget.value),$e.openDropdown(),v&&$e.selectFirstOption()},onFocus:Wt=>{M&&$e.openDropdown(),d==null||d(Wt)},onBlur:Wt=>{var Dt;M&&$e.closeDropdown(),Ye(ct!=null&&((Dt=rt[ct])==null?void 0:Dt.label)||""),f==null||f(Wt)},onClick:Wt=>{M?$e.openDropdown():$e.toggleDropdown(),h==null||h(Wt)},classNames:tt,styles:Et,unstyled:o,pointer:!M,error:V})}),$.jsx(qge,{data:Ue,hidden:_||x,filter:S,search:ue,limit:C,hiddenWhenEmpty:!O,withScrollArea:A,maxDropdownHeight:k,filterOptions:M&&(Ze==null?void 0:Ze.label)!==ue,value:ct,checkIconPosition:D,withCheckIcon:R,nothingFoundMessage:O,unstyled:o,labelId:Fe.label?`${at}-label`:void 0,"aria-label":Fe.label?void 0:Fe["aria-label"],renderOption:ie,scrollAreaProps:ae})]}),$.jsx(ar.HiddenInput,{value:ct,name:B,form:z,disabled:x,...ne})]})});_x.classes={...Ac.classes,...ar.classes};_x.displayName="@mantine/core/Select";function Z8e({spacing:e,verticalSpacing:t,cols:n,selector:r}){var c;const i=Io(),o=t===void 0?e:t,s=Zg({"--sg-spacing-x":ki(sd(e)),"--sg-spacing-y":ki(sd(o)),"--sg-cols":(c=sd(n))==null?void 0:c.toString()}),a=ti(i.breakpoints).reduce((d,f)=>(d[f]||(d[f]={}),typeof e=="object"&&e[f]!==void 0&&(d[f]["--sg-spacing-x"]=ki(e[f])),typeof o=="object"&&o[f]!==void 0&&(d[f]["--sg-spacing-y"]=ki(o[f])),typeof n=="object"&&n[f]!==void 0&&(d[f]["--sg-cols"]=n[f]),d),{}),u=uT(ti(a),i.breakpoints).filter(d=>ti(a[d.value]).length>0).map(d=>({query:`(min-width: ${i.breakpoints[d.value]})`,styles:a[d.value]}));return $.jsx(Nv,{styles:s,media:u,selector:r})}function PF(e){return typeof e=="object"&&e!==null?ti(e):[]}function eje(e){return e.sort((t,n)=>lT(t)-lT(n))}function tje({spacing:e,verticalSpacing:t,cols:n}){const r=Array.from(new Set([...PF(e),...PF(t),...PF(n)]));return eje(r)}function nje({spacing:e,verticalSpacing:t,cols:n,selector:r}){var u;const i=t===void 0?e:t,o=Zg({"--sg-spacing-x":ki(sd(e)),"--sg-spacing-y":ki(sd(i)),"--sg-cols":(u=sd(n))==null?void 0:u.toString()}),s=tje({spacing:e,verticalSpacing:t,cols:n}),a=s.reduce((c,d)=>(c[d]||(c[d]={}),typeof e=="object"&&e[d]!==void 0&&(c[d]["--sg-spacing-x"]=ki(e[d])),typeof i=="object"&&i[d]!==void 0&&(c[d]["--sg-spacing-y"]=ki(i[d])),typeof n=="object"&&n[d]!==void 0&&(c[d]["--sg-cols"]=n[d]),c),{}),l=s.map(c=>({query:`simple-grid (min-width: ${c})`,styles:a[c]}));return $.jsx(Nv,{styles:o,container:l,selector:r})}var C0e={container:"m_925c2d2c",root:"m_2415a157"};const rje={cols:1,spacing:"md",type:"media"},MH=ht((e,t)=>{const n=ze("SimpleGrid",rje,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,cols:u,verticalSpacing:c,spacing:d,type:f,...h}=n,p=Gt({name:"SimpleGrid",classes:C0e,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l}),m=AC();return f==="container"?$.jsxs($.Fragment,{children:[$.jsx(nje,{...n,selector:`.${m}`}),$.jsx("div",{...p("container"),children:$.jsx(De,{ref:t,...p("root",{className:m}),...h})})]}):$.jsxs($.Fragment,{children:[$.jsx(Z8e,{...n,selector:`.${m}`}),$.jsx(De,{ref:t,...p("root",{className:m}),...h})]})});MH.classes=C0e;MH.displayName="@mantine/core/SimpleGrid";const[ije,CP]=bs("SliderProvider was not found in tree"),A0e=H.forwardRef(({size:e,disabled:t,variant:n,color:r,thumbSize:i,radius:o,...s},a)=>{const{getStyles:l}=CP();return $.jsx(De,{tabIndex:-1,variant:n,size:e,ref:a,...l("root"),...s})});A0e.displayName="@mantine/core/SliderRoot";const k0e=H.forwardRef(({max:e,min:t,value:n,position:r,label:i,dragging:o,onMouseDown:s,onKeyDownCapture:a,labelTransitionProps:l,labelAlwaysOn:u,thumbLabel:c,onFocus:d,onBlur:f,showLabelOnHover:h,isHovered:p,children:m=null,disabled:g},y)=>{const{getStyles:v}=CP(),[w,E]=H.useState(!1),_=u||o||w||h&&p;return $.jsxs(De,{tabIndex:0,role:"slider","aria-label":c,"aria-valuemax":e,"aria-valuemin":t,"aria-valuenow":n,ref:y,__vars:{"--slider-thumb-offset":`${r}%`},...v("thumb",{focusable:!0}),mod:{dragging:o,disabled:g},onFocus:x=>{E(!0),typeof d=="function"&&d(x)},onBlur:x=>{E(!1),typeof f=="function"&&f(x)},onTouchStart:s,onMouseDown:s,onKeyDownCapture:a,onClick:x=>x.stopPropagation(),children:[m,$.jsx(ih,{mounted:i!=null&&!!_,transition:"fade",duration:0,...l,children:x=>$.jsx("div",{...v("label",{style:x}),children:i})})]})});k0e.displayName="@mantine/core/SliderThumb";function I0e({value:e,min:t,max:n}){const r=(e-t)/(n-t)*100;return Math.min(Math.max(r,0),100)}function oje({mark:e,offset:t,value:n,inverted:r=!1}){return r?typeof t=="number"&&e.value<=t||e.value>=n:typeof t=="number"?e.value>=t&&e.value<=n:e.value<=n}function R0e({marks:e,min:t,max:n,disabled:r,value:i,offset:o,inverted:s}){const{getStyles:a}=CP();if(!e)return null;const l=e.map((u,c)=>H.createElement(De,{...a("markWrapper"),__vars:{"--mark-offset":`${I0e({value:u.value,min:t,max:n})}%`},key:c},$.jsx(De,{...a("mark"),mod:{filled:oje({mark:u,value:i,offset:o,inverted:s}),disabled:r}}),u.label&&$.jsx("div",{...a("markLabel"),children:u.label})));return $.jsx("div",{children:l})}R0e.displayName="@mantine/core/SliderMarks";function D0e({filled:e,children:t,offset:n,disabled:r,marksOffset:i,inverted:o,containerProps:s,...a}){const{getStyles:l}=CP();return $.jsx(De,{...l("trackContainer"),mod:{disabled:r},...s,children:$.jsxs(De,{...l("track"),mod:{inverted:o,disabled:r},children:[$.jsx(De,{mod:{inverted:o,disabled:r},__vars:{"--slider-bar-width":`calc(${e}% + var(--slider-size))`,"--slider-bar-offset":`calc(${n}% - var(--slider-size))`},...l("bar")}),t,$.jsx(R0e,{...a,offset:i,disabled:r,inverted:o})]})})}D0e.displayName="@mantine/core/SliderTrack";function sje({value:e,containerWidth:t,min:n,max:r,step:i,precision:o}){const a=(t?Math.min(Math.max(e,0),t)/t:e)*(r-n),l=(a!==0?Math.round(a/i)*i:0)+n,u=Math.max(l,n);return o!==void 0?Number(u.toFixed(o)):u}function gk(e,t){return parseFloat(e.toFixed(t))}function aje(e){if(!e)return 0;const t=e.toString().split(".");return t.length>1?t[1].length:0}function NF(e,t){const r=[...t].sort((i,o)=>i.value-o.value).find(i=>i.value>e);return r?r.value:e}function OF(e,t){const r=[...t].sort((i,o)=>o.value-i.value).find(i=>i.value<e);return r?r.value:e}function _te(e){const t=[...e].sort((n,r)=>n.value-r.value);return t.length>0?t[0].value:0}function Ete(e){const t=[...e].sort((n,r)=>n.value-r.value);return t.length>0?t[t.length-1].value:100}var $0e={root:"m_dd36362e",label:"m_c9357328",thumb:"m_c9a9a60a",trackContainer:"m_a8645c2",track:"m_c9ade57f",bar:"m_38aeed47",markWrapper:"m_b7b0423a",mark:"m_dd33bc19",markLabel:"m_68c77a5b"};const lje={radius:"xl",min:0,max:100,step:1,marks:[],label:e=>e,labelTransitionProps:{transition:"fade",duration:0},labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},uje=(e,{size:t,color:n,thumbSize:r,radius:i})=>({root:{"--slider-size":Nn(t,"slider-size"),"--slider-color":n?ni(n,e):void 0,"--slider-radius":i===void 0?void 0:Hr(i),"--slider-thumb-size":r!==void 0?je(r):"calc(var(--slider-size) * 2)"}}),PH=ht((e,t)=>{const n=ze("Slider",lje,e),{classNames:r,styles:i,value:o,onChange:s,onChangeEnd:a,size:l,min:u,max:c,step:d,precision:f,defaultValue:h,name:p,marks:m,label:g,labelTransitionProps:y,labelAlwaysOn:v,thumbLabel:w,showLabelOnHover:E,thumbChildren:_,disabled:x,unstyled:S,scale:C,inverted:A,className:k,style:N,vars:M,hiddenInputProps:I,restrictToMarks:D,thumbProps:R,...O}=n,B=Gt({name:"Slider",props:n,classes:$0e,classNames:r,className:k,styles:i,style:N,vars:M,varsResolver:uje,unstyled:S}),{dir:z}=t0(),[W,U]=H.useState(!1),[F,Y]=gs({value:typeof o=="number"?Jh(o,u,c):o,defaultValue:typeof h=="number"?Jh(h,u,c):h,finalValue:Jh(0,u,c),onChange:s}),V=H.useRef(F),G=H.useRef(null),X=H.useRef(null),Z=I0e({value:F,min:u,max:c}),oe=C(F),ne=typeof g=="function"?g(oe):g,ie=f??aje(d),fe=H.useCallback(({x:Te})=>{if(!x){const Oe=sje({value:Te,min:u,max:c,step:d,precision:ie});Y(D&&(m!=null&&m.length)?_ee(Oe,m.map(We=>We.value)):Oe),V.current=Oe}},[x,u,c,d,ie,Y,m,D]),{ref:se,active:ae}=iOe(fe,{onScrubEnd:()=>!x&&(a==null?void 0:a(D&&(m!=null&&m.length)?_ee(V.current,m.map(Te=>Te.value)):V.current))},z),Se=Te=>{var Oe,We,Fe,Ue,rt,at;if(!x)switch(Te.key){case"ArrowUp":{if(Te.preventDefault(),(Oe=X.current)==null||Oe.focus(),D&&m){const vt=NF(F,m);Y(vt),a==null||a(vt);break}const ct=gk(Math.min(Math.max(F+d,u),c),ie);Y(ct),a==null||a(ct);break}case"ArrowRight":{if(Te.preventDefault(),(We=X.current)==null||We.focus(),D&&m){const vt=z==="rtl"?OF(F,m):NF(F,m);Y(vt),a==null||a(vt);break}const ct=gk(Math.min(Math.max(z==="rtl"?F-d:F+d,u),c),ie);Y(ct),a==null||a(ct);break}case"ArrowDown":{if(Te.preventDefault(),(Fe=X.current)==null||Fe.focus(),D&&m){const vt=OF(F,m);Y(vt),a==null||a(vt);break}const ct=gk(Math.min(Math.max(F-d,u),c),ie);Y(ct),a==null||a(ct);break}case"ArrowLeft":{if(Te.preventDefault(),(Ue=X.current)==null||Ue.focus(),D&&m){const vt=z==="rtl"?NF(F,m):OF(F,m);Y(vt),a==null||a(vt);break}const ct=gk(Math.min(Math.max(z==="rtl"?F+d:F-d,u),c),ie);Y(ct),a==null||a(ct);break}case"Home":{if(Te.preventDefault(),(rt=X.current)==null||rt.focus(),D&&m){Y(_te(m)),a==null||a(_te(m));break}Y(u),a==null||a(u);break}case"End":{if(Te.preventDefault(),(at=X.current)==null||at.focus(),D&&m){Y(Ete(m)),a==null||a(Ete(m));break}Y(c),a==null||a(c);break}}};return $.jsx(ije,{value:{getStyles:B},children:$.jsxs(A0e,{...O,ref:Yo(t,G),onKeyDownCapture:Se,onMouseDownCapture:()=>{var Te;return(Te=G.current)==null?void 0:Te.focus()},size:l,disabled:x,children:[$.jsx(D0e,{inverted:A,offset:0,filled:Z,marks:m,min:u,max:c,value:oe,disabled:x,containerProps:{ref:se,onMouseEnter:E?()=>U(!0):void 0,onMouseLeave:E?()=>U(!1):void 0},children:$.jsx(k0e,{max:c,min:u,value:oe,position:Z,dragging:ae,label:ne,ref:X,labelTransitionProps:y,labelAlwaysOn:v,thumbLabel:w,showLabelOnHover:E,isHovered:W,disabled:x,...R,children:_})}),$.jsx("input",{type:"hidden",name:p,value:oe,...I})]})})});PH.classes=$0e;PH.displayName="@mantine/core/Slider";const cje={},Eu=ht((e,t)=>{const{w:n,h:r,miw:i,mih:o,...s}=ze("Space",cje,e);return $.jsx(De,{ref:t,...s,w:n,miw:i??n,h:r,mih:o??r})});Eu.displayName="@mantine/core/Space";var M0e={root:"m_559cce2d",content:"m_b912df4e",control:"m_b9131032"};const dje={maxHeight:100,initialState:!1},fje=(e,{transitionDuration:t})=>({root:{"--spoiler-transition-duration":t!==void 0?`${t}ms`:void 0}}),NH=ht((e,t)=>{const n=ze("Spoiler",dje,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,initialState:u,maxHeight:c,hideLabel:d,showLabel:f,children:h,controlRef:p,transitionDuration:m,id:g,expanded:y,onExpandedChange:v,...w}=n,E=Gt({name:"Spoiler",classes:M0e,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:fje}),_=cl(g),x=`${_}-region`,[S,C]=gs({value:y,defaultValue:u,finalValue:!1,onChange:v}),{ref:A,height:k}=sOe(),N=S?d:f,M=N!==null&&c<k;return $.jsxs(De,{...E("root"),id:_,ref:t,"data-has-spoiler":M||void 0,...w,children:[M&&$.jsx(Lv,{component:"button",type:"button",ref:p,onClick:()=>C(!S),"aria-expanded":S,"aria-controls":x,...E("control"),children:N}),$.jsx("div",{...E("content",{style:{maxHeight:S?k?je(k):void 0:je(c)}}),"data-reduce-motion":!0,role:"region",id:x,children:$.jsx("div",{ref:A,children:h})})]})});NH.classes=M0e;NH.displayName="@mantine/core/Spoiler";var P0e={root:"m_6d731127"};const hje={gap:"md",align:"stretch",justify:"flex-start"},pje=(e,{gap:t,align:n,justify:r})=>({root:{"--stack-gap":ki(t),"--stack-align":n,"--stack-justify":r}}),Ru=ht((e,t)=>{const n=ze("Stack",hje,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,align:u,justify:c,gap:d,variant:f,...h}=n,p=Gt({name:"Stack",props:n,classes:P0e,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:pje});return $.jsx(De,{ref:t,...p("root"),variant:f,...h})});Ru.classes=P0e;Ru.displayName="@mantine/core/Stack";const N0e=H.createContext(null),mje=N0e.Provider,gje=()=>H.useContext(N0e),yje={},OH=ht((e,t)=>{const{value:n,defaultValue:r,onChange:i,size:o,wrapperProps:s,children:a,readOnly:l,...u}=ze("SwitchGroup",yje,e),[c,d]=gs({value:n,defaultValue:r,finalValue:[],onChange:i}),f=h=>{const p=h.currentTarget.value;!l&&d(c.includes(p)?c.filter(m=>m!==p):[...c,p])};return $.jsx(mje,{value:{value:c,onChange:f,size:o},children:$.jsx(Xr.Wrapper,{size:o,ref:t,...s,...u,labelElement:"div",__staticSelector:"SwitchGroup",children:$.jsx(rH,{role:"group",children:a})})})});OH.classes=Xr.Wrapper.classes;OH.displayName="@mantine/core/SwitchGroup";var O0e={root:"m_5f93f3bb",input:"m_926b4011",track:"m_9307d992",thumb:"m_93039a1d",trackLabel:"m_8277e082"};const vje={labelPosition:"right"},bje=(e,{radius:t,color:n,size:r})=>({root:{"--switch-radius":t===void 0?void 0:Hr(t),"--switch-height":Nn(r,"switch-height"),"--switch-width":Nn(r,"switch-width"),"--switch-thumb-size":Nn(r,"switch-thumb-size"),"--switch-label-font-size":Nn(r,"switch-label-font-size"),"--switch-track-label-padding":Nn(r,"switch-track-label-padding"),"--switch-color":n?ni(n,e):void 0}}),dg=ht((e,t)=>{const n=ze("Switch",vje,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,color:u,label:c,offLabel:d,onLabel:f,id:h,size:p,radius:m,wrapperProps:g,thumbIcon:y,checked:v,defaultChecked:w,onChange:E,labelPosition:_,description:x,error:S,disabled:C,variant:A,rootRef:k,mod:N,...M}=n,I=gje(),D=p||(I==null?void 0:I.size),R=Gt({name:"Switch",props:n,classes:O0e,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:bje}),{styleProps:O,rest:B}=Ov(M),z=cl(h),W=I?{checked:I.value.includes(B.value),onChange:I.onChange}:{},[U,F]=gs({value:W.checked??v,defaultValue:w,finalValue:!1});return $.jsxs(dP,{...R("root"),__staticSelector:"Switch",__stylesApiProps:n,id:z,size:D,labelPosition:_,label:c,description:x,error:S,disabled:C,bodyElement:"label",labelElement:"span",classNames:r,styles:s,unstyled:a,"data-checked":W.checked||v||void 0,variant:A,ref:k,mod:N,...O,...g,children:[$.jsx("input",{...B,disabled:C,checked:U,"data-checked":W.checked||v||void 0,onChange:Y=>{var V;I?(V=W.onChange)==null||V.call(W,Y):E==null||E(Y),F(Y.currentTarget.checked)},id:z,ref:t,type:"checkbox",role:"switch",...R("input")}),$.jsxs(De,{"aria-hidden":"true",mod:{error:S,"label-position":_,"without-labels":!f&&!d},...R("track"),children:[$.jsx(De,{component:"span",mod:"reduce-motion",...R("thumb"),children:y}),$.jsx("span",{...R("trackLabel"),children:U?f:d})]})]})});dg.classes={...O0e,...Nge};dg.displayName="@mantine/core/Switch";dg.Group=OH;const[wje,xje]=bs("Table component was not found in the tree");var OC={table:"m_b23fa0ef",th:"m_4e7aa4f3",tr:"m_4e7aa4fd",td:"m_4e7aa4ef",tbody:"m_b2404537",thead:"m_b242d975",caption:"m_9e5a3ac7",scrollContainer:"m_a100c15",scrollContainerInner:"m_62259741"};function _je(e,t){if(!t)return;const n={};return t.columnBorder&&e.withColumnBorders&&(n["data-with-column-border"]=!0),t.rowBorder&&e.withRowBorders&&(n["data-with-row-border"]=!0),t.striped&&e.striped&&(n["data-striped"]=e.striped),t.highlightOnHover&&e.highlightOnHover&&(n["data-hover"]=!0),t.captionSide&&e.captionSide&&(n["data-side"]=e.captionSide),t.stickyHeader&&e.stickyHeader&&(n["data-sticky"]=!0),n}function Fv(e,t){const n=`Table${e.charAt(0).toUpperCase()}${e.slice(1)}`,r=ht((i,o)=>{const s=ze(n,{},i),{classNames:a,className:l,style:u,styles:c,...d}=s,f=xje();return $.jsx(De,{component:e,ref:o,..._je(f,t),...f.getStyles(e,{className:l,classNames:a,style:u,styles:c,props:s}),...d})});return r.displayName=`@mantine/core/${n}`,r.classes=OC,r}const W8=Fv("th",{columnBorder:!0}),L0e=Fv("td",{columnBorder:!0}),EI=Fv("tr",{rowBorder:!0,striped:!0,highlightOnHover:!0}),F0e=Fv("thead",{stickyHeader:!0}),B0e=Fv("tbody"),j0e=Fv("tfoot"),z0e=Fv("caption",{captionSide:!0});function LH({data:e}){return $.jsxs($.Fragment,{children:[e.caption&&$.jsx(z0e,{children:e.caption}),e.head&&$.jsx(F0e,{children:$.jsx(EI,{children:e.head.map((t,n)=>$.jsx(W8,{children:t},n))})}),e.body&&$.jsx(B0e,{children:e.body.map((t,n)=>$.jsx(EI,{children:t.map((r,i)=>$.jsx(L0e,{children:r},i))},n))}),e.foot&&$.jsx(j0e,{children:$.jsx(EI,{children:e.foot.map((t,n)=>$.jsx(W8,{children:t},n))})})]})}LH.displayName="@mantine/core/TableDataRenderer";const Eje={type:"scrollarea"},Sje=(e,{minWidth:t,type:n})=>({scrollContainer:{"--table-min-width":je(t),"--table-overflow":n==="native"?"auto":void 0}}),FH=ht((e,t)=>{const n=ze("TableScrollContainer",Eje,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,children:u,minWidth:c,type:d,...f}=n,h=Gt({name:"TableScrollContainer",classes:OC,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:Sje,rootSelector:"scrollContainer"});return $.jsx(De,{component:d==="scrollarea"?Cp:"div",...d==="scrollarea"?{offsetScrollbars:"x"}:{},ref:t,...h("scrollContainer"),...f,children:$.jsx("div",{...h("scrollContainerInner"),children:u})})});FH.classes=OC;FH.displayName="@mantine/core/TableScrollContainer";const Tje={withRowBorders:!0,verticalSpacing:7},Cje=(e,{layout:t,captionSide:n,horizontalSpacing:r,verticalSpacing:i,borderColor:o,stripedColor:s,highlightOnHoverColor:a,striped:l,highlightOnHover:u,stickyHeaderOffset:c,stickyHeader:d})=>({table:{"--table-layout":t,"--table-caption-side":n,"--table-horizontal-spacing":ki(r),"--table-vertical-spacing":ki(i),"--table-border-color":o?ni(o,e):void 0,"--table-striped-color":l&&s?ni(s,e):void 0,"--table-highlight-on-hover-color":u&&a?ni(a,e):void 0,"--table-sticky-header-offset":d?je(c):void 0}}),nn=ht((e,t)=>{const n=ze("Table",Tje,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,horizontalSpacing:u,verticalSpacing:c,captionSide:d,stripedColor:f,highlightOnHoverColor:h,striped:p,highlightOnHover:m,withColumnBorders:g,withRowBorders:y,withTableBorder:v,borderColor:w,layout:E,variant:_,data:x,children:S,stickyHeader:C,stickyHeaderOffset:A,mod:k,tabularNums:N,...M}=n,I=Gt({name:"Table",props:n,className:i,style:o,classes:OC,classNames:r,styles:s,unstyled:a,rootSelector:"table",vars:l,varsResolver:Cje});return $.jsx(wje,{value:{getStyles:I,stickyHeader:C,striped:p===!0?"odd":p||void 0,highlightOnHover:m,withColumnBorders:g,withRowBorders:y,captionSide:d||"bottom"},children:$.jsx(De,{component:"table",variant:_,ref:t,mod:[{"data-with-table-border":v,"data-tabular-nums":N},k],...I("table"),...M,children:S||!!x&&$.jsx(LH,{data:x})})})});nn.classes=OC;nn.displayName="@mantine/core/Table";nn.Td=L0e;nn.Th=W8;nn.Tr=EI;nn.Thead=F0e;nn.Tbody=B0e;nn.Tfoot=j0e;nn.Caption=z0e;nn.ScrollContainer=FH;nn.DataRenderer=LH;const[Aje,BH]=bs("Tabs component was not found in the tree");var LC={root:"m_89d60db1","list--default":"m_576c9d4",list:"m_89d33d6d",panel:"m_b0c91715",tab:"m_4ec4dce6",tabSection:"m_fc420b1f","tab--default":"m_539e827b","list--outline":"m_6772fbd5","tab--outline":"m_b59ab47c","tab--pills":"m_c3381914"};const kje={},jH=ht((e,t)=>{const n=ze("TabsList",kje,e),{children:r,className:i,grow:o,justify:s,classNames:a,styles:l,style:u,mod:c,...d}=n,f=BH();return $.jsx(De,{...d,...f.getStyles("list",{className:i,style:u,classNames:a,styles:l,props:n,variant:f.variant}),ref:t,role:"tablist",variant:f.variant,mod:[{grow:o,orientation:f.orientation,placement:f.orientation==="vertical"&&f.placement,inverted:f.inverted},c],"aria-orientation":f.orientation,__vars:{"--tabs-justify":s},children:r})});jH.classes=LC;jH.displayName="@mantine/core/TabsList";const Ije={},zH=ht((e,t)=>{const n=ze("TabsPanel",Ije,e),{children:r,className:i,value:o,classNames:s,styles:a,style:l,mod:u,keepMounted:c,...d}=n,f=BH(),h=f.value===o,p=f.keepMounted||c||h?r:null;return $.jsx(De,{...d,...f.getStyles("panel",{className:i,classNames:s,styles:a,style:[l,h?void 0:{display:"none"}],props:n}),ref:t,mod:[{orientation:f.orientation},u],role:"tabpanel",id:f.getPanelId(o),"aria-labelledby":f.getTabId(o),children:p})});zH.classes=LC;zH.displayName="@mantine/core/TabsPanel";const Rje={},UH=ht((e,t)=>{const n=ze("TabsTab",Rje,e),{className:r,children:i,rightSection:o,leftSection:s,value:a,onClick:l,onKeyDown:u,disabled:c,color:d,style:f,classNames:h,styles:p,vars:m,mod:g,tabIndex:y,...v}=n,w=Io(),{dir:E}=t0(),_=BH(),x=a===_.value,S=A=>{_.onChange(_.allowTabDeactivation&&a===_.value?null:a),l==null||l(A)},C={classNames:h,styles:p,props:n};return $.jsxs(Iu,{...v,..._.getStyles("tab",{className:r,style:f,variant:_.variant,...C}),disabled:c,unstyled:_.unstyled,variant:_.variant,mod:[{active:x,disabled:c,orientation:_.orientation,inverted:_.inverted,placement:_.orientation==="vertical"&&_.placement},g],ref:t,role:"tab",id:_.getTabId(a),"aria-selected":x,tabIndex:y!==void 0?y:x||_.value===null?0:-1,"aria-controls":_.getPanelId(a),onClick:S,__vars:{"--tabs-color":d?ni(d,w):void 0},onKeyDown:eU({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:_.activateTabWithKeyboard,loop:_.loop,orientation:_.orientation||"horizontal",dir:E,onKeyDown:u}),children:[s&&$.jsx("span",{..._.getStyles("tabSection",C),"data-position":"left",children:s}),i&&$.jsx("span",{..._.getStyles("tabLabel",C),children:i}),o&&$.jsx("span",{..._.getStyles("tabSection",C),"data-position":"right",children:o})]})});UH.classes=LC;UH.displayName="@mantine/core/TabsTab";const Ste="Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value",Dje={keepMounted:!0,orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,allowTabDeactivation:!1,unstyled:!1,inverted:!1,variant:"default",placement:"left"},$je=(e,{radius:t,color:n,autoContrast:r})=>({root:{"--tabs-radius":Hr(t),"--tabs-color":ni(n,e),"--tabs-text-color":cx(r,e)?Mv({color:n,theme:e,autoContrast:r}):void 0}}),sr=ht((e,t)=>{const n=ze("Tabs",Dje,e),{defaultValue:r,value:i,onChange:o,orientation:s,children:a,loop:l,id:u,activateTabWithKeyboard:c,allowTabDeactivation:d,variant:f,color:h,radius:p,inverted:m,placement:g,keepMounted:y,classNames:v,styles:w,unstyled:E,className:_,style:x,vars:S,autoContrast:C,mod:A,...k}=n,N=cl(u),[M,I]=gs({value:i,defaultValue:r,finalValue:null,onChange:o}),D=Gt({name:"Tabs",props:n,classes:LC,className:_,style:x,classNames:v,styles:w,unstyled:E,vars:S,varsResolver:$je});return $.jsx(Aje,{value:{placement:g,value:M,orientation:s,id:N,loop:l,activateTabWithKeyboard:c,getTabId:oD(`${N}-tab`,Ste),getPanelId:oD(`${N}-panel`,Ste),onChange:I,allowTabDeactivation:d,variant:f,color:h,radius:p,inverted:m,keepMounted:y,unstyled:E,getStyles:D},children:$.jsx(De,{ref:t,id:N,variant:f,mod:[{orientation:s,inverted:s==="horizontal"&&m,placement:s==="vertical"&&g},A],...D("root"),...k,children:a})})});sr.classes=LC;sr.displayName="@mantine/core/Tabs";sr.Tab=UH;sr.Panel=zH;sr.List=jH;const Mje={},ep=ht((e,t)=>{const n=ze("TextInput",Mje,e);return $.jsx(Ac,{component:"input",ref:t,...n,__staticSelector:"TextInput"})});ep.classes=Ac.classes;ep.displayName="@mantine/core/TextInput";const Pje=["h1","h2","h3","h4","h5","h6"],Nje=["xs","sm","md","lg","xl"];function Oje(e,t){const n=t!==void 0?t:`h${e}`;return Pje.includes(n)?{fontSize:`var(--mantine-${n}-font-size)`,fontWeight:`var(--mantine-${n}-font-weight)`,lineHeight:`var(--mantine-${n}-line-height)`}:Nje.includes(n)?{fontSize:`var(--mantine-font-size-${n})`,fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}:{fontSize:je(n),fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}}var U0e={root:"m_8a5d1357"};const Lje={order:1},Fje=(e,{order:t,size:n,lineClamp:r,textWrap:i})=>{const o=Oje(t,n);return{root:{"--title-fw":o.fontWeight,"--title-lh":o.lineHeight,"--title-fz":o.fontSize,"--title-line-clamp":typeof r=="number"?r.toString():void 0,"--title-text-wrap":i}}},Ki=ht((e,t)=>{const n=ze("Title",Lje,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,order:l,vars:u,size:c,variant:d,lineClamp:f,textWrap:h,mod:p,...m}=n,g=Gt({name:"Title",props:n,classes:U0e,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:Fje});return[1,2,3,4,5,6].includes(l)?$.jsx(De,{...g("root"),component:`h${l}`,variant:d,ref:t,mod:[{order:l,"data-line-clamp":typeof f=="number"},p],size:c,...m}):null});Ki.classes=U0e;Ki.displayName="@mantine/core/Title";function Bje(e){let t=e,n=!1;const r=new Set;return{getState(){return t},updateState(i){t=typeof i=="function"?i(t):i},setState(i){this.updateState(i),r.forEach(o=>o(t))},initialize(i){n||(t=i,n=!0)},subscribe(i){return r.add(i),()=>r.delete(i)}}}function jje(e){return H.useSyncExternalStore(e.subscribe,()=>e.getState(),()=>e.getState())}function zje(e,t,n){const r=[],i=[],o={};for(const s of e){const a=s.position||t;o[a]=o[a]||0,o[a]+=1,o[a]<=n?i.push(s):r.push(s)}return{notifications:i,queue:r}}const Uje=()=>Bje({notifications:[],queue:[],defaultPosition:"bottom-right",limit:5}),Bv=Uje(),Hje=(e=Bv)=>jje(e);function Ex(e,t){const n=e.getState(),r=t([...n.notifications,...n.queue]),i=zje(r,n.defaultPosition,n.limit);e.setState({notifications:i.notifications,queue:i.queue,limit:n.limit,defaultPosition:n.defaultPosition})}function Vje(e,t=Bv){const n=e.id||j1();return Ex(t,r=>e.id&&r.some(i=>i.id===e.id)?r:[...r,{...e,id:n}]),n}function H0e(e,t=Bv){return Ex(t,n=>n.filter(r=>{var i;return r.id===e?((i=r.onClose)==null||i.call(r,r),!1):!0})),e}function Wje(e,t=Bv){return Ex(t,n=>n.map(r=>r.id===e.id?{...r,...e}:r)),e.id}function qje(e=Bv){Ex(e,()=>[])}function Gje(e=Bv){Ex(e,t=>t.slice(0,e.getState().limit))}const jv={show:Vje,hide:H0e,update:Wje,clean:qje,cleanQueue:Gje,updateState:Ex};function q8(e,t){return q8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},q8(e,t)}function V0e(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,q8(e,t)}var LF={exports:{}},FF,Tte;function Yje(){if(Tte)return FF;Tte=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return FF=e,FF}var BF,Cte;function Kje(){if(Cte)return BF;Cte=1;var e=Yje();function t(){}function n(){}return n.resetWarningCache=t,BF=function(){function r(s,a,l,u,c,d){if(d!==e){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return o.PropTypes=o,o},BF}var Ate;function AP(){return Ate||(Ate=1,LF.exports=Kje()()),LF.exports}var Xje=AP();const yD=ul(Xje),kte={disabled:!1},vD=rr.createContext(null);var Qje=function(t){return t.scrollTop},HE="unmounted",oy="exited",sy="entering",b1="entered",G8="exiting",Kp=function(e){V0e(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?a?(l=oy,o.appearStatus=sy):l=b1:r.unmountOnExit||r.mountOnEnter?l=HE:l=oy,o.state={status:l},o.nextCallback=null,o}t.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===HE?{status:oy}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==sy&&s!==b1&&(o=sy):(s===sy||s===b1)&&(o=G8)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===sy){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:UE.findDOMNode(this);s&&Qje(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===oy&&this.setState({status:HE})},n.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[UE.findDOMNode(this),a],u=l[0],c=l[1],d=this.getTimeouts(),f=a?d.appear:d.enter;if(!i&&!s||kte.disabled){this.safeSetState({status:b1},function(){o.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:sy},function(){o.props.onEntering(u,c),o.onTransitionEnd(f,function(){o.safeSetState({status:b1},function(){o.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:UE.findDOMNode(this);if(!o||kte.disabled){this.safeSetState({status:oy},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:G8},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:oy},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:UE.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===HE)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=fH(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return rr.createElement(vD.Provider,{value:null},typeof s=="function"?s(i,a):rr.cloneElement(rr.Children.only(s),a))},t}(rr.Component);Kp.contextType=vD;Kp.propTypes={};function Xb(){}Kp.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Xb,onEntering:Xb,onEntered:Xb,onExit:Xb,onExiting:Xb,onExited:Xb};Kp.UNMOUNTED=HE;Kp.EXITED=oy;Kp.ENTERING=sy;Kp.ENTERED=b1;Kp.EXITING=G8;function Jje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HH(e,t){var n=function(o){return t&&H.isValidElement(o)?t(o):o},r=Object.create(null);return e&&H.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function Zje(e,t){e=e||{},t=t||{};function n(c){return c in t?t[c]:e[c]}var r=Object.create(null),i=[];for(var o in e)o in t?i.length&&(r[o]=i,i=[]):i.push(o);var s,a={};for(var l in t){if(r[l])for(s=0;s<r[l].length;s++){var u=r[l][s];a[r[l][s]]=n(u)}a[l]=n(l)}for(s=0;s<i.length;s++)a[i[s]]=n(i[s]);return a}function Ey(e,t,n){return n[t]!=null?n[t]:e.props[t]}function e9e(e,t){return HH(e.children,function(n){return H.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:Ey(n,"appear",e),enter:Ey(n,"enter",e),exit:Ey(n,"exit",e)})})}function t9e(e,t,n){var r=HH(e.children),i=Zje(t,r);return Object.keys(i).forEach(function(o){var s=i[o];if(H.isValidElement(s)){var a=o in t,l=o in r,u=t[o],c=H.isValidElement(u)&&!u.props.in;l&&(!a||c)?i[o]=H.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:Ey(s,"exit",e),enter:Ey(s,"enter",e)}):!l&&a&&!c?i[o]=H.cloneElement(s,{in:!1}):l&&a&&H.isValidElement(u)&&(i[o]=H.cloneElement(s,{onExited:n.bind(null,s),in:u.props.in,exit:Ey(s,"exit",e),enter:Ey(s,"enter",e)}))}}),i}var n9e=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},r9e={component:"div",childFactory:function(t){return t}},Fm=function(e){V0e(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var s=o.handleExited.bind(Jje(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,o){var s=o.children,a=o.handleExited,l=o.firstRender;return{children:l?e9e(i,a):t9e(i,s,a),firstRender:!1}},n.handleExited=function(i,o){var s=HH(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(a){var l=mD({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,o=i.component,s=i.childFactory,a=fH(i,["component","childFactory"]),l=this.state.contextValue,u=n9e(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,o===null?rr.createElement(vD.Provider,{value:l},u):rr.createElement(vD.Provider,{value:l},rr.createElement(o,a,u))},t}(rr.Component);Fm.propTypes={};Fm.defaultProps=r9e;const W0e=["bottom-center","bottom-left","bottom-right","top-center","top-left","top-right"];function i9e(e,t){return e.reduce((n,r)=>(n[r.position||t].push(r),n),W0e.reduce((n,r)=>(n[r]=[],n),{}))}const Ite={left:"translateX(-100%)",right:"translateX(100%)","top-center":"translateY(-100%)","bottom-center":"translateY(100%)"},o9e={left:"translateX(0)",right:"translateX(0)","top-center":"translateY(0)","bottom-center":"translateY(0)"};function s9e({state:e,maxHeight:t,position:n,transitionDuration:r}){const[i,o]=n.split("-"),s=o==="center"?`${i}-center`:o,a={opacity:0,maxHeight:t,transform:Ite[s],transitionDuration:`${r}ms, ${r}ms, ${r}ms`,transitionTimingFunction:"cubic-bezier(.51,.3,0,1.21), cubic-bezier(.51,.3,0,1.21), linear",transitionProperty:"opacity, transform, max-height"},l={opacity:1,transform:o9e[s]},u={opacity:0,maxHeight:0,transform:Ite[s]};return{...a,...{entering:l,entered:l,exiting:u,exited:u}[e]}}function a9e(e,t){return typeof t=="number"?t:t===!1||e===!1?!1:e}const q0e=H.forwardRef(({data:e,onHide:t,autoClose:n,...r},i)=>{const{autoClose:o,message:s,...a}=e,l=a9e(n,e.autoClose),u=H.useRef(-1),c=()=>window.clearTimeout(u.current),d=()=>{t(e.id),c()},f=()=>{typeof l=="number"&&(u.current=window.setTimeout(d,l))};return H.useEffect(()=>{var h;(h=e.onOpen)==null||h.call(e,e)},[]),H.useEffect(()=>(f(),c),[l]),$.jsx(SH,{...r,...a,onClose:d,ref:i,onMouseEnter:c,onMouseLeave:f,children:s})});q0e.displayName="@mantine/notifications/NotificationContainer";var G0e={root:"m_b37d9ac7",notification:"m_5ed0edd0"};const l9e=Kp,u9e={position:"bottom-right",autoClose:4e3,transitionDuration:250,containerWidth:440,notificationMaxHeight:200,limit:5,zIndex:Kl("overlay"),store:Bv,withinPortal:!0},c9e=(e,{zIndex:t,containerWidth:n})=>({root:{"--notifications-z-index":t==null?void 0:t.toString(),"--notifications-container-width":je(n)}}),Xp=ht((e,t)=>{const n=ze("Notifications",u9e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,position:u,autoClose:c,transitionDuration:d,containerWidth:f,notificationMaxHeight:h,limit:p,zIndex:m,store:g,portalProps:y,withinPortal:v,...w}=n,E=Io(),_=Hje(g),x=tOe(),S=KM(),C=H.useRef({}),A=H.useRef(0),N=(E.respectReducedMotion?S:!1)?1:d,M=Gt({name:"Notifications",classes:G0e,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:c9e});H.useEffect(()=>{g==null||g.updateState(R=>({...R,limit:p||5,defaultPosition:u}))},[p,u]),zf(()=>{_.notifications.length>A.current&&setTimeout(()=>x(),0),A.current=_.notifications.length},[_.notifications]);const I=i9e(_.notifications,u),D=W0e.reduce((R,O)=>(R[O]=I[O].map(({style:B,...z})=>$.jsx(l9e,{timeout:N,onEnter:()=>C.current[z.id].offsetHeight,nodeRef:{current:C.current[z.id]},children:W=>$.jsx(q0e,{ref:U=>{C.current[z.id]=U},data:z,onHide:U=>H0e(U,g),autoClose:c,...M("notification",{style:{...s9e({state:W,position:O,transitionDuration:N,maxHeight:h}),...B}})})},z.id)),R),{});return $.jsxs(n0,{withinPortal:v,...y,children:[$.jsx(De,{...M("root"),"data-position":"top-center",ref:t,...w,children:$.jsx(Fm,{children:D["top-center"]})}),$.jsx(De,{...M("root"),"data-position":"top-left",...w,children:$.jsx(Fm,{children:D["top-left"]})}),$.jsx(De,{...M("root",{className:cw.classNames.fullWidth}),"data-position":"top-right",...w,children:$.jsx(Fm,{children:D["top-right"]})}),$.jsx(De,{...M("root",{className:cw.classNames.fullWidth}),"data-position":"bottom-right",...w,children:$.jsx(Fm,{children:D["bottom-right"]})}),$.jsx(De,{...M("root"),"data-position":"bottom-left",...w,children:$.jsx(Fm,{children:D["bottom-left"]})}),$.jsx(De,{...M("root"),"data-position":"bottom-center",...w,children:$.jsx(Fm,{children:D["bottom-center"]})})]})});Xp.classes=G0e;Xp.displayName="@mantine/notifications/Notifications";Xp.show=jv.show;Xp.hide=jv.hide;Xp.update=jv.update;Xp.clean=jv.clean;Xp.cleanQueue=jv.cleanQueue;Xp.updateState=jv.updateState;const Y0e=H.createContext({storageEngine:void 0,setStorageEngine:()=>{}}),Zi=()=>H.useContext(Y0e);function d9e({children:e}){const[t,n]=H.useState(void 0),r=H.useMemo(()=>({storageEngine:t,setStorageEngine:n}),[t]);return $.jsx(Y0e.Provider,{value:r,children:e})}var Q_={},Rte;function f9e(){if(Rte)return Q_;Rte=1,Object.defineProperty(Q_,"__esModule",{value:!0}),Q_.parse=s,Q_.serialize=u;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const f=function(){};return f.prototype=Object.create(null),f})();function s(f,h){const p=new o,m=f.length;if(m<2)return p;const g=(h==null?void 0:h.decode)||c;let y=0;do{const v=f.indexOf("=",y);if(v===-1)break;const w=f.indexOf(";",y),E=w===-1?m:w;if(v>E){y=f.lastIndexOf(";",v-1)+1;continue}const _=a(f,y,v),x=l(f,v,_),S=f.slice(_,x);if(p[S]===void 0){let C=a(f,v+1,E),A=l(f,E,C);const k=g(f.slice(C,A));p[S]=k}y=E+1}while(y<m);return p}function a(f,h,p){do{const m=f.charCodeAt(h);if(m!==32&&m!==9)return h}while(++h<p);return p}function l(f,h,p){for(;h>p;){const m=f.charCodeAt(--h);if(m!==32&&m!==9)return h+1}return p}function u(f,h,p){const m=(p==null?void 0:p.encode)||encodeURIComponent;if(!e.test(f))throw new TypeError(`argument name is invalid: ${f}`);const g=m(h);if(!t.test(g))throw new TypeError(`argument val is invalid: ${h}`);let y=f+"="+g;if(!p)return y;if(p.maxAge!==void 0){if(!Number.isInteger(p.maxAge))throw new TypeError(`option maxAge is invalid: ${p.maxAge}`);y+="; Max-Age="+p.maxAge}if(p.domain){if(!n.test(p.domain))throw new TypeError(`option domain is invalid: ${p.domain}`);y+="; Domain="+p.domain}if(p.path){if(!r.test(p.path))throw new TypeError(`option path is invalid: ${p.path}`);y+="; Path="+p.path}if(p.expires){if(!d(p.expires)||!Number.isFinite(p.expires.valueOf()))throw new TypeError(`option expires is invalid: ${p.expires}`);y+="; Expires="+p.expires.toUTCString()}if(p.httpOnly&&(y+="; HttpOnly"),p.secure&&(y+="; Secure"),p.partitioned&&(y+="; Partitioned"),p.priority)switch(typeof p.priority=="string"?p.priority.toLowerCase():void 0){case"low":y+="; Priority=Low";break;case"medium":y+="; Priority=Medium";break;case"high":y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${p.priority}`)}if(p.sameSite)switch(typeof p.sameSite=="string"?p.sameSite.toLowerCase():p.sameSite){case!0:case"strict":y+="; SameSite=Strict";break;case"lax":y+="; SameSite=Lax";break;case"none":y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${p.sameSite}`)}return y}function c(f){if(f.indexOf("%")===-1)return f;try{return decodeURIComponent(f)}catch{return f}}function d(f){return i.call(f)==="[object Date]"}return Q_}f9e();/**
 * react-router v7.4.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Dte="popstate";function h9e(e={}){function t(r,i){let{pathname:o,search:s,hash:a}=r.location;return Y8("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:mT(i)}return m9e(t,n,null,e)}function Ri(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function yc(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function p9e(){return Math.random().toString(36).substring(2,10)}function $te(e,t){return{usr:e.state,key:e.key,idx:t}}function Y8(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Sx(t):t,state:n,key:t&&t.key||r||p9e()}}function mT({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Sx(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function m9e(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a="POP",l=null,u=c();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function c(){return(s.state||{idx:null}).idx}function d(){a="POP";let g=c(),y=g==null?null:g-u;u=g,l&&l({action:a,location:m.location,delta:y})}function f(g,y){a="PUSH";let v=Y8(m.location,g,y);u=c()+1;let w=$te(v,u),E=m.createHref(v);try{s.pushState(w,"",E)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(E)}o&&l&&l({action:a,location:m.location,delta:1})}function h(g,y){a="REPLACE";let v=Y8(m.location,g,y);u=c();let w=$te(v,u),E=m.createHref(v);s.replaceState(w,"",E),o&&l&&l({action:a,location:m.location,delta:0})}function p(g){let y=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof g=="string"?g:mT(g);return v=v.replace(/ $/,"%20"),Ri(y,`No window.location.(origin|href) available to create URL for href: ${v}`),new URL(v,y)}let m={get action(){return a},get location(){return e(i,s)},listen(g){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Dte,d),l=g,()=>{i.removeEventListener(Dte,d),l=null}},createHref(g){return t(i,g)},createURL:p,encodeLocation(g){let y=p(g);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:h,go(g){return s.go(g)}};return m}function K0e(e,t,n="/"){return g9e(e,t,n,!1)}function g9e(e,t,n,r){let i=typeof t=="string"?Sx(t):t,o=kp(i.pathname||"/",n);if(o==null)return null;let s=X0e(e);y9e(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let u=k9e(o);a=C9e(s[l],u,r)}return a}function X0e(e,t=[],n=[],r=""){let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(Ri(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let u=fp([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(Ri(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),X0e(o.children,t,c,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:S9e(u,o.index),routesMeta:c})};return e.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of Q0e(o.path))i(o,s,l)}),t}function Q0e(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=Q0e(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function y9e(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:T9e(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var v9e=/^:[\w-]+$/,b9e=3,w9e=2,x9e=1,_9e=10,E9e=-2,Mte=e=>e==="*";function S9e(e,t){let n=e.split("/"),r=n.length;return n.some(Mte)&&(r+=E9e),t&&(r+=w9e),n.filter(i=>!Mte(i)).reduce((i,o)=>i+(v9e.test(o)?b9e:o===""?x9e:_9e),r)}function T9e(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function C9e(e,t,n=!1){let{routesMeta:r}=e,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=o==="/"?t:t.slice(o.length)||"/",d=bD({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),f=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=bD({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:fp([o,d.pathname]),pathnameBase:$9e(fp([o,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(o=fp([o,d.pathnameBase]))}return s}function bD(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=A9e(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:c,isOptional:d},f)=>{if(c==="*"){let p=a[f]||"";s=o.slice(0,o.length-p.length).replace(/(.)\/+$/,"$1")}const h=a[f];return d&&!h?u[c]=void 0:u[c]=(h||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:e}}function A9e(e,t=!1,n=!0){yc(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function k9e(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return yc(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function kp(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function I9e(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Sx(e):e;return{pathname:n?n.startsWith("/")?n:R9e(n,t):t,search:M9e(r),hash:P9e(i)}}function R9e(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function jF(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function D9e(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function VH(e){let t=D9e(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function WH(e,t,n,r=!1){let i;typeof e=="string"?i=Sx(e):(i={...e},Ri(!i.pathname||!i.pathname.includes("?"),jF("?","pathname","search",i)),Ri(!i.pathname||!i.pathname.includes("#"),jF("#","pathname","hash",i)),Ri(!i.search||!i.search.includes("#"),jF("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let d=t.length-1;if(!r&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?t[d]:"/"}let l=I9e(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var fp=e=>e.join("/").replace(/\/\/+/g,"/"),$9e=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),M9e=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,P9e=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function N9e(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var J0e=["POST","PUT","PATCH","DELETE"];new Set(J0e);var O9e=["GET",...J0e];new Set(O9e);var Tx=H.createContext(null);Tx.displayName="DataRouter";var kP=H.createContext(null);kP.displayName="DataRouterState";var Z0e=H.createContext({isTransitioning:!1});Z0e.displayName="ViewTransition";var L9e=H.createContext(new Map);L9e.displayName="Fetchers";var F9e=H.createContext(null);F9e.displayName="Await";var $d=H.createContext(null);$d.displayName="Navigation";var FC=H.createContext(null);FC.displayName="Location";var Ic=H.createContext({outlet:null,matches:[],isDataRoute:!1});Ic.displayName="Route";var qH=H.createContext(null);qH.displayName="RouteError";function GH(e,{relative:t}={}){Ri(Cx(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=H.useContext($d),{hash:i,pathname:o,search:s}=BC(e,{relative:t}),a=o;return n!=="/"&&(a=o==="/"?n:fp([n,o])),r.createHref({pathname:a,search:s,hash:i})}function Cx(){return H.useContext(FC)!=null}function Rc(){return Ri(Cx(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(FC).location}var eye="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function tye(e){H.useContext($d).static||H.useLayoutEffect(e)}function zu(){let{isDataRoute:e}=H.useContext(Ic);return e?J9e():B9e()}function B9e(){Ri(Cx(),"useNavigate() may be used only in the context of a <Router> component.");let e=H.useContext(Tx),{basename:t,navigator:n}=H.useContext($d),{matches:r}=H.useContext(Ic),{pathname:i}=Rc(),o=JSON.stringify(VH(r)),s=H.useRef(!1);return tye(()=>{s.current=!0}),H.useCallback((l,u={})=>{if(yc(s.current,eye),!s.current)return;if(typeof l=="number"){n.go(l);return}let c=WH(l,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:fp([t,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[t,n,o,i,e])}var j9e=H.createContext(null);function z9e(e){let t=H.useContext(Ic).outlet;return t&&H.createElement(j9e.Provider,{value:e},t)}function Da(){let{matches:e}=H.useContext(Ic),t=e[e.length-1];return t?t.params:{}}function BC(e,{relative:t}={}){let{matches:n}=H.useContext(Ic),{pathname:r}=Rc(),i=JSON.stringify(VH(n));return H.useMemo(()=>WH(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function nye(e,t){return rye(e,t)}function rye(e,t,n,r){var v;Ri(Cx(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=H.useContext($d),{matches:s}=H.useContext(Ic),a=s[s.length-1],l=a?a.params:{},u=a?a.pathname:"/",c=a?a.pathnameBase:"/",d=a&&a.route;{let w=d&&d.path||"";iye(u,!d||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let f=Rc(),h;if(t){let w=typeof t=="string"?Sx(t):t;Ri(c==="/"||((v=w.pathname)==null?void 0:v.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${w.pathname}" was given in the \`location\` prop.`),h=w}else h=f;let p=h.pathname||"/",m=p;if(c!=="/"){let w=c.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(w.length).join("/")}let g=!o&&n&&n.matches&&n.matches.length>0?n.matches:K0e(e,{pathname:m});yc(d||g!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),yc(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=q9e(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:fp([c,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:fp([c,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,n,r);return t&&y?H.createElement(FC.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},y):y}function U9e(){let e=Q9e(),t=N9e(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=H.createElement(H.Fragment,null,H.createElement("p",null," Hey developer "),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:o},"ErrorBoundary")," or"," ",H.createElement("code",{style:o},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},t),n?H.createElement("pre",{style:i},n):null,s)}var H9e=H.createElement(U9e,null),V9e=class extends H.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?H.createElement(Ic.Provider,{value:this.props.routeContext},H.createElement(qH.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function W9e({routeContext:e,match:t,children:n}){let r=H.useContext(Tx);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),H.createElement(Ic.Provider,{value:e},n)}function q9e(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,o=n==null?void 0:n.errors;if(o!=null){let l=i.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id])!==void 0);Ri(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let s=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let u=i[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=l),u.route.id){let{loaderData:c,errors:d}=n,f=u.route.loader&&!c.hasOwnProperty(u.route.id)&&(!d||d[u.route.id]===void 0);if(u.route.lazy||f){s=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,u,c)=>{let d,f=!1,h=null,p=null;n&&(d=o&&u.route.id?o[u.route.id]:void 0,h=u.route.errorElement||H9e,s&&(a<0&&c===0?(iye("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,p=null):a===c&&(f=!0,p=u.route.hydrateFallbackElement||null)));let m=t.concat(i.slice(0,c+1)),g=()=>{let y;return d?y=h:f?y=p:u.route.Component?y=H.createElement(u.route.Component,null):u.route.element?y=u.route.element:y=l,H.createElement(W9e,{match:u,routeContext:{outlet:l,matches:m,isDataRoute:n!=null},children:y})};return n&&(u.route.ErrorBoundary||u.route.errorElement||c===0)?H.createElement(V9e,{location:n.location,revalidation:n.revalidation,component:h,error:d,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}function YH(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function G9e(e){let t=H.useContext(Tx);return Ri(t,YH(e)),t}function Y9e(e){let t=H.useContext(kP);return Ri(t,YH(e)),t}function K9e(e){let t=H.useContext(Ic);return Ri(t,YH(e)),t}function KH(e){let t=K9e(e),n=t.matches[t.matches.length-1];return Ri(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function X9e(){return KH("useRouteId")}function Q9e(){var r;let e=H.useContext(qH),t=Y9e("useRouteError"),n=KH("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function J9e(){let{router:e}=G9e("useNavigate"),t=KH("useNavigate"),n=H.useRef(!1);return tye(()=>{n.current=!0}),H.useCallback(async(i,o={})=>{yc(n.current,eye),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...o}))},[e,t])}var Pte={};function iye(e,t,n){!t&&!Pte[e]&&(Pte[e]=!0,yc(!1,n))}H.memo(Z9e);function Z9e({routes:e,future:t,state:n}){return rye(e,void 0,n,t)}function XH({to:e,replace:t,state:n,relative:r}){Ri(Cx(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=H.useContext($d);yc(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=H.useContext(Ic),{pathname:s}=Rc(),a=zu(),l=WH(e,VH(o),s,r==="path"),u=JSON.stringify(l);return H.useEffect(()=>{a(JSON.parse(u),{replace:t,state:n,relative:r})},[a,u,r,t,n]),null}function e7e(e){return z9e(e.context)}function ay(e){Ri(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function t7e({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){Ri(!Cx(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),a=H.useMemo(()=>({basename:s,navigator:i,static:o,future:{}}),[s,i,o]);typeof n=="string"&&(n=Sx(n));let{pathname:l="/",search:u="",hash:c="",state:d=null,key:f="default"}=n,h=H.useMemo(()=>{let p=kp(l,s);return p==null?null:{location:{pathname:p,search:u,hash:c,state:d,key:f},navigationType:r}},[s,l,u,c,d,f,r]);return yc(h!=null,`<Router basename="${s}"> is not able to match the URL "${l}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),h==null?null:H.createElement($d.Provider,{value:a},H.createElement(FC.Provider,{children:t,value:h}))}function n7e({children:e,location:t}){return nye(K8(e),t)}function K8(e,t=[]){let n=[];return H.Children.forEach(e,(r,i)=>{if(!H.isValidElement(r))return;let o=[...t,i];if(r.type===H.Fragment){n.push.apply(n,K8(r.props.children,o));return}Ri(r.type===ay,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ri(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=K8(r.props.children,o)),n.push(s)}),n}var SI="get",TI="application/x-www-form-urlencoded";function IP(e){return e!=null&&typeof e.tagName=="string"}function r7e(e){return IP(e)&&e.tagName.toLowerCase()==="button"}function i7e(e){return IP(e)&&e.tagName.toLowerCase()==="form"}function o7e(e){return IP(e)&&e.tagName.toLowerCase()==="input"}function s7e(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function a7e(e,t){return e.button===0&&(!t||t==="_self")&&!s7e(e)}function X8(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function l7e(e,t){let n=X8(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(o=>{n.append(i,o)})}),n}var yk=null;function u7e(){if(yk===null)try{new FormData(document.createElement("form"),0),yk=!1}catch{yk=!0}return yk}var c7e=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zF(e){return e!=null&&!c7e.has(e)?(yc(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${TI}"`),null):e}function d7e(e,t){let n,r,i,o,s;if(i7e(e)){let a=e.getAttribute("action");r=a?kp(a,t):null,n=e.getAttribute("method")||SI,i=zF(e.getAttribute("enctype"))||TI,o=new FormData(e)}else if(r7e(e)||o7e(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?kp(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||SI,i=zF(e.getAttribute("formenctype"))||zF(a.getAttribute("enctype"))||TI,o=new FormData(a,e),!u7e()){let{name:u,type:c,value:d}=e;if(c==="image"){let f=u?`${u}.`:"";o.append(`${f}x`,"0"),o.append(`${f}y`,"0")}else u&&o.append(u,d)}}else{if(IP(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=SI,r=null,i=TI,s=e}return o&&i==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}function QH(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function f7e(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function h7e(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function p7e(e,t,n){let r=await Promise.all(e.map(async i=>{let o=t.routes[i.route.id];if(o){let s=await f7e(o,n);return s.links?s.links():[]}return[]}));return v7e(r.flat(1).filter(h7e).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Nte(e,t,n,r,i,o){let s=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var c;return n[u].pathname!==l.pathname||((c=n[u].route.path)==null?void 0:c.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return o==="assets"?t.filter((l,u)=>s(l,u)||a(l,u)):o==="data"?t.filter((l,u)=>{var d;let c=r.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(s(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function m7e(e,t,{includeHydrateFallback:n}={}){return g7e(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function g7e(e){return[...new Set(e)]}function y7e(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function v7e(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let o=JSON.stringify(y7e(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function b7e(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&kp(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function oye(){let e=H.useContext(Tx);return QH(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function w7e(){let e=H.useContext(kP);return QH(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var JH=H.createContext(void 0);JH.displayName="FrameworkContext";function sye(){let e=H.useContext(JH);return QH(e,"You must render this element inside a <HydratedRouter> element"),e}function x7e(e,t){let n=H.useContext(JH),[r,i]=H.useState(!1),[o,s]=H.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:d}=t,f=H.useRef(null);H.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let m=y=>{y.forEach(v=>{s(v.isIntersecting)})},g=new IntersectionObserver(m,{threshold:.5});return f.current&&g.observe(f.current),()=>{g.disconnect()}}},[e]),H.useEffect(()=>{if(r){let m=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(m)}}},[r]);let h=()=>{i(!0)},p=()=>{i(!1),s(!1)};return n?e!=="intent"?[o,f,{}]:[o,f,{onFocus:J_(a,h),onBlur:J_(l,p),onMouseEnter:J_(u,h),onMouseLeave:J_(c,p),onTouchStart:J_(d,h)}]:[!1,f,{}]}function J_(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function _7e({page:e,...t}){let{router:n}=oye(),r=H.useMemo(()=>K0e(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?H.createElement(S7e,{page:e,matches:r,...t}):null}function E7e(e){let{manifest:t,routeModules:n}=sye(),[r,i]=H.useState([]);return H.useEffect(()=>{let o=!1;return p7e(e,t,n).then(s=>{o||i(s)}),()=>{o=!0}},[e,t,n]),r}function S7e({page:e,matches:t,...n}){let r=Rc(),{manifest:i,routeModules:o}=sye(),{basename:s}=oye(),{loaderData:a,matches:l}=w7e(),u=H.useMemo(()=>Nte(e,t,l,i,r,"data"),[e,t,l,i,r]),c=H.useMemo(()=>Nte(e,t,l,i,r,"assets"),[e,t,l,i,r]),d=H.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let p=new Set,m=!1;if(t.forEach(y=>{var w;let v=i.routes[y.route.id];!v||!v.hasLoader||(!u.some(E=>E.route.id===y.route.id)&&y.route.id in a&&((w=o[y.route.id])!=null&&w.shouldRevalidate)||v.hasClientLoader?m=!0:p.add(y.route.id))}),p.size===0)return[];let g=b7e(e,s);return m&&p.size>0&&g.searchParams.set("_routes",t.filter(y=>p.has(y.route.id)).map(y=>y.route.id).join(",")),[g.pathname+g.search]},[s,a,r,i,u,t,e,o]),f=H.useMemo(()=>m7e(c,i),[c,i]),h=E7e(c);return H.createElement(H.Fragment,null,d.map(p=>H.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...n})),f.map(p=>H.createElement("link",{key:p,rel:"modulepreload",href:p,...n})),h.map(({key:p,link:m})=>H.createElement("link",{key:p,...m})))}function T7e(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var aye=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{aye&&(window.__reactRouterVersion="7.4.1")}catch{}function C7e({basename:e,children:t,window:n}){let r=H.useRef();r.current==null&&(r.current=h9e({window:n,v5Compat:!0}));let i=r.current,[o,s]=H.useState({action:i.action,location:i.location}),a=H.useCallback(l=>{H.startTransition(()=>s(l))},[s]);return H.useLayoutEffect(()=>i.listen(a),[i,a]),H.createElement(t7e,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:i})}var lye=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uye=H.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:c,viewTransition:d,...f},h){let{basename:p}=H.useContext($d),m=typeof u=="string"&&lye.test(u),g,y=!1;if(typeof u=="string"&&m&&(g=u,aye))try{let A=new URL(window.location.href),k=u.startsWith("//")?new URL(A.protocol+u):new URL(u),N=kp(k.pathname,p);k.origin===A.origin&&N!=null?u=N+k.search+k.hash:y=!0}catch{yc(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=GH(u,{relative:i}),[w,E,_]=x7e(r,f),x=R7e(u,{replace:s,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:d});function S(A){t&&t(A),A.defaultPrevented||x(A)}let C=H.createElement("a",{...f,..._,href:g||v,onClick:y||o?t:S,ref:T7e(h,E),target:l,"data-discover":!m&&n==="render"?"true":void 0});return w&&!m?H.createElement(H.Fragment,null,C,H.createElement(_7e,{page:v})):C});uye.displayName="Link";var A7e=H.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:s,viewTransition:a,children:l,...u},c){let d=BC(s,{relative:u.relative}),f=Rc(),h=H.useContext(kP),{navigator:p,basename:m}=H.useContext($d),g=h!=null&&N7e(d)&&a===!0,y=p.encodeLocation?p.encodeLocation(d).pathname:d.pathname,v=f.pathname,w=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;n||(v=v.toLowerCase(),w=w?w.toLowerCase():null,y=y.toLowerCase()),w&&m&&(w=kp(w,m)||w);const E=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let _=v===y||!i&&v.startsWith(y)&&v.charAt(E)==="/",x=w!=null&&(w===y||!i&&w.startsWith(y)&&w.charAt(y.length)==="/"),S={isActive:_,isPending:x,isTransitioning:g},C=_?t:void 0,A;typeof r=="function"?A=r(S):A=[r,_?"active":null,x?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let k=typeof o=="function"?o(S):o;return H.createElement(uye,{...u,"aria-current":C,className:A,ref:c,style:k,to:s,viewTransition:a},typeof l=="function"?l(S):l)});A7e.displayName="NavLink";var k7e=H.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:o,method:s=SI,action:a,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:d,...f},h)=>{let p=M7e(),m=P7e(a,{relative:u}),g=s.toLowerCase()==="get"?"get":"post",y=typeof a=="string"&&lye.test(a),v=w=>{if(l&&l(w),w.defaultPrevented)return;w.preventDefault();let E=w.nativeEvent.submitter,_=(E==null?void 0:E.getAttribute("formmethod"))||s;p(E||w.currentTarget,{fetcherKey:t,method:_,navigate:n,replace:i,state:o,relative:u,preventScrollReset:c,viewTransition:d})};return H.createElement("form",{ref:h,method:g,action:m,onSubmit:r?l:v,...f,"data-discover":!y&&e==="render"?"true":void 0})});k7e.displayName="Form";function I7e(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cye(e){let t=H.useContext(Tx);return Ri(t,I7e(e)),t}function R7e(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:s}={}){let a=zu(),l=Rc(),u=BC(e,{relative:o});return H.useCallback(c=>{if(a7e(c,t)){c.preventDefault();let d=n!==void 0?n:mT(l)===mT(u);a(e,{replace:d,state:r,preventScrollReset:i,relative:o,viewTransition:s})}},[l,a,u,n,r,t,e,i,o,s])}function sh(e){yc(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=H.useRef(X8(e)),n=H.useRef(!1),r=Rc(),i=H.useMemo(()=>l7e(r.search,n.current?null:t.current),[r.search]),o=zu(),s=H.useCallback((a,l)=>{const u=X8(typeof a=="function"?a(i):a);n.current=!0,o("?"+u,l)},[o,i]);return[i,s]}var D7e=0,$7e=()=>`__${String(++D7e)}__`;function M7e(){let{router:e}=cye("useSubmit"),{basename:t}=H.useContext($d),n=X9e();return H.useCallback(async(r,i={})=>{let{action:o,method:s,encType:a,formData:l,body:u}=d7e(r,t);if(i.navigate===!1){let c=i.fetcherKey||$7e();await e.fetch(c,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function P7e(e,{relative:t}={}){let{basename:n}=H.useContext($d),r=H.useContext(Ic);Ri(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...BC(e||".",{relative:t})},s=Rc();if(e==null){o.search=s.search;let a=new URLSearchParams(o.search),l=a.getAll("index");if(l.some(c=>c==="")){a.delete("index"),l.filter(d=>d).forEach(d=>a.append("index",d));let c=a.toString();o.search=c?`?${c}`:""}}return(!e||e===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:fp([n,o.pathname])),mT(o)}function N7e(e,t={}){let n=H.useContext(Z0e);Ri(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=cye("useViewTransitionState"),i=BC(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=kp(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=kp(n.nextLocation.pathname,r)||n.nextLocation.pathname;return bD(i.pathname,s)!=null||bD(i.pathname,o)!=null}new TextEncoder;const ZH=H.createContext(null);ZH.displayName="@mantine/modals/ModalsContext";function O7e(){const e=H.useContext(ZH);if(!e)throw new Error("[@mantine/modals] useModals hook was called outside of context, wrap your app with ModalsProvider component");return e}function L7e({id:e,cancelProps:t,confirmProps:n,labels:r={cancel:"",confirm:""},closeOnConfirm:i=!0,closeOnCancel:o=!0,groupProps:s,onCancel:a,onConfirm:l,children:u}){const{cancel:c,confirm:d}=r,f=O7e(),h=m=>{typeof(t==null?void 0:t.onClick)=="function"&&(t==null||t.onClick(m)),typeof a=="function"&&a(),o&&f.closeModal(e)},p=m=>{typeof(n==null?void 0:n.onClick)=="function"&&(n==null||n.onClick(m)),typeof l=="function"&&l(),i&&f.closeModal(e)};return $.jsxs($.Fragment,{children:[u&&$.jsx(De,{mb:"md",children:u}),$.jsxs(ri,{mt:u?0:"md",justify:"flex-end",...s,children:[$.jsx(gn,{variant:"default",...t,onClick:h,children:(t==null?void 0:t.children)||c}),$.jsx(gn,{...n,onClick:p,children:(n==null?void 0:n.children)||d})]})]})}const[F7e,eV]=dOe("mantine-modals"),Ote=e=>{const t=e.modalId||j1();return eV("openConfirmModal")({...e,modalId:t}),t};eV("closeModal");eV("closeAllModals");function Lte(e,t){var n,r,i,o;t&&e.type==="confirm"&&((r=(n=e.props).onCancel)==null||r.call(n)),(o=(i=e.props).onClose)==null||o.call(i)}function B7e(e,t){var n;switch(t.type){case"OPEN":return{current:t.modal,modals:[...e.modals,t.modal]};case"CLOSE":{const r=e.modals.find(o=>o.id===t.modalId);if(!r)return e;Lte(r,t.canceled);const i=e.modals.filter(o=>o.id!==t.modalId);return{current:i[i.length-1]||e.current,modals:i}}case"CLOSE_ALL":return e.modals.length?(e.modals.concat().reverse().forEach(r=>{Lte(r,t.canceled)}),{current:e.current,modals:[]}):e;case"UPDATE":{const{modalId:r,newProps:i}=t,o=e.modals.map(a=>a.id!==r?a:a.type==="content"||a.type==="confirm"?{...a,props:{...a.props,...i}}:a.type==="context"?{...a,props:{...a.props,...i,innerProps:{...a.props.innerProps,...i.innerProps}}}:a),s=((n=e.current)==null?void 0:n.id)===r&&o.find(a=>a.id===r)||e.current;return{...e,modals:o,current:s}}default:return e}}function j7e(e){if(!e)return{confirmProps:{},modalProps:{}};const{id:t,children:n,onCancel:r,onConfirm:i,closeOnConfirm:o,closeOnCancel:s,cancelProps:a,confirmProps:l,groupProps:u,labels:c,...d}=e;return{confirmProps:{id:t,children:n,onCancel:r,onConfirm:i,closeOnConfirm:o,closeOnCancel:s,cancelProps:a,confirmProps:l,groupProps:u,labels:c},modalProps:{id:t,...d}}}function z7e({children:e,modalProps:t,labels:n,modals:r}){const[i,o]=H.useReducer(B7e,{modals:[],current:null}),s=H.useRef(i);s.current=i;const a=H.useCallback(v=>{o({type:"CLOSE_ALL",canceled:v})},[s,o]),l=H.useCallback(({modalId:v,...w})=>{const E=v||j1();return o({type:"OPEN",modal:{id:E,type:"content",props:w}}),E},[o]),u=H.useCallback(({modalId:v,...w})=>{const E=v||j1();return o({type:"OPEN",modal:{id:E,type:"confirm",props:w}}),E},[o]),c=H.useCallback((v,{modalId:w,...E})=>{const _=w||j1();return o({type:"OPEN",modal:{id:_,type:"context",props:E,ctx:v}}),_},[o]),d=H.useCallback((v,w)=>{o({type:"CLOSE",modalId:v,canceled:w})},[s,o]),f=H.useCallback(({modalId:v,...w})=>{o({type:"UPDATE",modalId:v,newProps:w})},[o]),h=H.useCallback(({modalId:v,...w})=>{o({type:"UPDATE",modalId:v,newProps:w})},[o]);F7e({openModal:l,openConfirmModal:u,openContextModal:({modal:v,...w})=>c(v,w),closeModal:d,closeContextModal:d,closeAllModals:a,updateModal:f,updateContextModal:h});const p={modalProps:t||{},modals:i.modals,openModal:l,openConfirmModal:u,openContextModal:c,closeModal:d,closeContextModal:d,closeAll:a,updateModal:f,updateContextModal:h},m=()=>{const v=s.current.current;switch(v==null?void 0:v.type){case"context":{const{innerProps:w,...E}=v.props,_=r[v.ctx];return{modalProps:E,content:$.jsx(_,{innerProps:w,context:p,id:v.id})}}case"confirm":{const{modalProps:w,confirmProps:E}=j7e(v.props);return{modalProps:w,content:$.jsx(L7e,{...E,id:v.id,labels:v.props.labels||n})}}case"content":{const{children:w,...E}=v.props;return{modalProps:E,content:w}}default:return{modalProps:{},content:null}}},{modalProps:g,content:y}=m();return $.jsxs(ZH.Provider,{value:p,children:[$.jsx(Fi,{zIndex:Kl("modal")+1,...t,...g,opened:i.modals.length>0,onClose:()=>{var v;return d((v=i.current)==null?void 0:v.id)},children:y}),e]})}/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var U7e={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=(e,t,n,r)=>{const i=H.forwardRef(({color:o="currentColor",size:s=24,stroke:a=2,title:l,className:u,children:c,...d},f)=>H.createElement("svg",{ref:f,...U7e[e],width:s,height:s,className:["tabler-icon",`tabler-icon-${t}`,u].join(" "),...e==="filled"?{fill:o}:{strokeWidth:a,stroke:o},...d},[l&&H.createElement("title",{key:"svg-title"},l),...r.map(([h,p])=>H.createElement(h,p)),...Array.isArray(c)?c:[c]]));return i.displayName=`${n}`,i};/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var H7e=An("outline","adjustments-horizontal","IconAdjustmentsHorizontal",[["path",{d:"M14 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M4 6l8 0",key:"svg-1"}],["path",{d:"M16 6l4 0",key:"svg-2"}],["path",{d:"M8 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-3"}],["path",{d:"M4 12l2 0",key:"svg-4"}],["path",{d:"M10 12l10 0",key:"svg-5"}],["path",{d:"M17 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-6"}],["path",{d:"M4 18l11 0",key:"svg-7"}],["path",{d:"M19 18l1 0",key:"svg-8"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var V7e=An("outline","alert-circle","IconAlertCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var RS=An("outline","alert-triangle","IconAlertTriangle",[["path",{d:"M12 9v4",key:"svg-0"}],["path",{d:"M10.363 3.591l-8.106 13.534a1.914 1.914 0 0 0 1.636 2.871h16.214a1.914 1.914 0 0 0 1.636 -2.87l-8.106 -13.536a1.914 1.914 0 0 0 -3.274 0z",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Fte=An("outline","arrow-left","IconArrowLeft",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M5 12l6 6",key:"svg-1"}],["path",{d:"M5 12l6 -6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Bte=An("outline","arrow-right","IconArrowRight",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var W7e=An("outline","arrows-shuffle","IconArrowsShuffle",[["path",{d:"M18 4l3 3l-3 3",key:"svg-0"}],["path",{d:"M18 20l3 -3l-3 -3",key:"svg-1"}],["path",{d:"M3 7h3a5 5 0 0 1 5 5a5 5 0 0 0 5 5h5",key:"svg-2"}],["path",{d:"M21 7h-5a4.978 4.978 0 0 0 -3 1m-4 8a4.984 4.984 0 0 1 -3 1h-3",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var q7e=An("outline","at","IconAt",[["path",{d:"M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M16 12v1.5a2.5 2.5 0 0 0 5 0v-1.5a9 9 0 1 0 -5.5 8.28",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var G7e=An("outline","brain","IconBrain",[["path",{d:"M15.5 13a3.5 3.5 0 0 0 -3.5 3.5v1a3.5 3.5 0 0 0 7 0v-1.8",key:"svg-0"}],["path",{d:"M8.5 13a3.5 3.5 0 0 1 3.5 3.5v1a3.5 3.5 0 0 1 -7 0v-1.8",key:"svg-1"}],["path",{d:"M17.5 16a3.5 3.5 0 0 0 0 -7h-.5",key:"svg-2"}],["path",{d:"M19 9.3v-2.8a3.5 3.5 0 0 0 -7 0",key:"svg-3"}],["path",{d:"M6.5 16a3.5 3.5 0 0 1 0 -7h.5",key:"svg-4"}],["path",{d:"M5 9.3v-2.8a3.5 3.5 0 0 1 7 0v10",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Y7e=An("outline","brand-python","IconBrandPython",[["path",{d:"M12 9h-7a2 2 0 0 0 -2 2v4a2 2 0 0 0 2 2h3",key:"svg-0"}],["path",{d:"M12 15h7a2 2 0 0 0 2 -2v-4a2 2 0 0 0 -2 -2h-3",key:"svg-1"}],["path",{d:"M8 9v-4a2 2 0 0 1 2 -2h4a2 2 0 0 1 2 2v5a2 2 0 0 1 -2 2h-4a2 2 0 0 0 -2 2v5a2 2 0 0 0 2 2h4a2 2 0 0 0 2 -2v-4",key:"svg-2"}],["path",{d:"M11 6l0 .01",key:"svg-3"}],["path",{d:"M13 18l0 .01",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var K7e=An("outline","bubble-text","IconBubbleText",[["path",{d:"M7 10h10",key:"svg-0"}],["path",{d:"M9 14h5",key:"svg-1"}],["path",{d:"M12.4 3a5.34 5.34 0 0 1 4.906 3.239a5.333 5.333 0 0 1 -1.195 10.6a4.26 4.26 0 0 1 -5.28 1.863l-3.831 2.298v-3.134a2.668 2.668 0 0 1 -1.795 -3.773a4.8 4.8 0 0 1 2.908 -8.933a5.33 5.33 0 0 1 4.287 -2.16",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var X7e=An("outline","chart-donut-2","IconChartDonut2",[["path",{d:"M12 3v5m4 4h5",key:"svg-0"}],["path",{d:"M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-1"}],["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var dye=An("outline","chart-histogram","IconChartHistogram",[["path",{d:"M3 3v18h18",key:"svg-0"}],["path",{d:"M20 18v3",key:"svg-1"}],["path",{d:"M16 16v5",key:"svg-2"}],["path",{d:"M12 13v8",key:"svg-3"}],["path",{d:"M8 16v5",key:"svg-4"}],["path",{d:"M3 11c6 0 5 -5 9 -5s3 5 9 5",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var jC=An("outline","check","IconCheck",[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Q7e=An("outline","chevron-down","IconChevronDown",[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var J7e=An("outline","code-plus","IconCodePlus",[["path",{d:"M9 12h6",key:"svg-0"}],["path",{d:"M12 9v6",key:"svg-1"}],["path",{d:"M6 19a2 2 0 0 1 -2 -2v-4l-1 -1l1 -1v-4a2 2 0 0 1 2 -2",key:"svg-2"}],["path",{d:"M18 19a2 2 0 0 0 2 -2v-4l1 -1l-1 -1v-4a2 2 0 0 0 -2 -2",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Z7e=An("outline","database-export","IconDatabaseExport",[["path",{d:"M4 6c0 1.657 3.582 3 8 3s8 -1.343 8 -3s-3.582 -3 -8 -3s-8 1.343 -8 3",key:"svg-0"}],["path",{d:"M4 6v6c0 1.657 3.582 3 8 3c1.118 0 2.183 -.086 3.15 -.241",key:"svg-1"}],["path",{d:"M20 12v-6",key:"svg-2"}],["path",{d:"M4 12v6c0 1.657 3.582 3 8 3c.157 0 .312 -.002 .466 -.005",key:"svg-3"}],["path",{d:"M16 19h6",key:"svg-4"}],["path",{d:"M19 16l3 3l-3 3",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var eze=An("outline","dots-vertical","IconDotsVertical",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var tze=An("outline","dots","IconDots",[["path",{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var fye=An("outline","external-link","IconExternalLink",[["path",{d:"M12 6h-6a2 2 0 0 0 -2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-6",key:"svg-0"}],["path",{d:"M11 13l9 -9",key:"svg-1"}],["path",{d:"M15 4h5v5",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var nze=An("outline","hourglass-empty","IconHourglassEmpty",[["path",{d:"M6 20v-2a6 6 0 1 1 12 0v2a1 1 0 0 1 -1 1h-10a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M6 4v2a6 6 0 1 0 12 0v-2a1 1 0 0 0 -1 -1h-10a1 1 0 0 0 -1 1z",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var rze=An("outline","html","IconHtml",[["path",{d:"M13 16v-8l2 5l2 -5v8",key:"svg-0"}],["path",{d:"M1 16v-8",key:"svg-1"}],["path",{d:"M5 8v8",key:"svg-2"}],["path",{d:"M1 12h4",key:"svg-3"}],["path",{d:"M7 8h4",key:"svg-4"}],["path",{d:"M9 8v8",key:"svg-5"}],["path",{d:"M20 8v8h3",key:"svg-6"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var tV=An("outline","info-circle","IconInfoCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 9h.01",key:"svg-1"}],["path",{d:"M11 12h1v4h1",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ize=An("outline","layout-columns","IconLayoutColumns",[["path",{d:"M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M12 4l0 16",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var hye=An("outline","list-check","IconListCheck",[["path",{d:"M3.5 5.5l1.5 1.5l2.5 -2.5",key:"svg-0"}],["path",{d:"M3.5 11.5l1.5 1.5l2.5 -2.5",key:"svg-1"}],["path",{d:"M3.5 17.5l1.5 1.5l2.5 -2.5",key:"svg-2"}],["path",{d:"M11 6l9 0",key:"svg-3"}],["path",{d:"M11 12l9 0",key:"svg-4"}],["path",{d:"M11 18l9 0",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var oze=An("outline","mail","IconMail",[["path",{d:"M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z",key:"svg-0"}],["path",{d:"M3 7l9 6l9 -6",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var sze=An("outline","moon-stars","IconMoonStars",[["path",{d:"M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z",key:"svg-0"}],["path",{d:"M17 4a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2",key:"svg-1"}],["path",{d:"M19 11h2m-1 -1v2",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var aze=An("outline","number-123","IconNumber123",[["path",{d:"M3 10l2 -2v8",key:"svg-0"}],["path",{d:"M9 8h3a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 0 -1 1v2a1 1 0 0 0 1 1h3",key:"svg-1"}],["path",{d:"M17 8h2.5a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1 -1.5 1.5h-1.5h1.5a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1 -1.5 1.5h-2.5",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var lze=An("outline","package-import","IconPackageImport",[["path",{d:"M12 21l-8 -4.5v-9l8 -4.5l8 4.5v4.5",key:"svg-0"}],["path",{d:"M12 12l8 -4.5",key:"svg-1"}],["path",{d:"M12 12v9",key:"svg-2"}],["path",{d:"M12 12l-8 -4.5",key:"svg-3"}],["path",{d:"M22 18h-7",key:"svg-4"}],["path",{d:"M18 15l-3 3l3 3",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var uze=An("outline","pencil","IconPencil",[["path",{d:"M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4",key:"svg-0"}],["path",{d:"M13.5 6.5l4 4",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var cze=An("outline","player-play","IconPlayerPlay",[["path",{d:"M7 4v16l13 -8z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var pye=An("outline","progress","IconProgress",[["path",{d:"M10 20.777a8.942 8.942 0 0 1 -2.48 -.969",key:"svg-0"}],["path",{d:"M14 3.223a9.003 9.003 0 0 1 0 17.554",key:"svg-1"}],["path",{d:"M4.579 17.093a8.961 8.961 0 0 1 -1.227 -2.592",key:"svg-2"}],["path",{d:"M3.124 10.5c.16 -.95 .468 -1.85 .9 -2.675l.169 -.305",key:"svg-3"}],["path",{d:"M6.907 4.579a8.954 8.954 0 0 1 3.093 -1.356",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var dze=An("outline","radio","IconRadio",[["path",{d:"M14 3l-9.371 3.749a1 1 0 0 0 -.629 .928v11.323a1 1 0 0 0 1 1h14a1 1 0 0 0 1 -1v-11a1 1 0 0 0 -1 -1h-14.5",key:"svg-0"}],["path",{d:"M4 12h16",key:"svg-1"}],["path",{d:"M7 12v-2",key:"svg-2"}],["path",{d:"M17 16v.01",key:"svg-3"}],["path",{d:"M13 16v.01",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var fze=An("outline","refresh","IconRefresh",[["path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4",key:"svg-0"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var hze=An("outline","schema","IconSchema",[["path",{d:"M5 2h5v4h-5z",key:"svg-0"}],["path",{d:"M15 10h5v4h-5z",key:"svg-1"}],["path",{d:"M5 18h5v4h-5z",key:"svg-2"}],["path",{d:"M5 10h5v4h-5z",key:"svg-3"}],["path",{d:"M10 12h5",key:"svg-4"}],["path",{d:"M7.5 6v4",key:"svg-5"}],["path",{d:"M7.5 14v4",key:"svg-6"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var pze=An("outline","search","IconSearch",[["path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var mze=An("outline","select","IconSelect",[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M9 11l3 3l3 -3",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var mye=An("outline","settings","IconSettings",[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var gze=An("outline","squares","IconSquares",[["path",{d:"M8 10a2 2 0 0 1 2 -2h9a2 2 0 0 1 2 2v9a2 2 0 0 1 -2 2h-9a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M16 8v-3a2 2 0 0 0 -2 -2h-9a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h3",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var yze=An("outline","sun","IconSun",[["path",{d:"M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M3 12h1m8 -9v1m8 8h1m-9 8v1m-6.4 -15.4l.7 .7m12.1 -.7l-.7 .7m0 11.4l.7 .7m-12.1 -.7l-.7 .7",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var gye=An("outline","table-export","IconTableExport",[["path",{d:"M12.5 21h-7.5a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v7.5",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}],["path",{d:"M16 19h6",key:"svg-3"}],["path",{d:"M19 16l3 3l-3 3",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var vze=An("outline","table","IconTable",[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14z",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var yye=An("outline","trash-x","IconTrashX",[["path",{d:"M4 7h16",key:"svg-0"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-1"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-2"}],["path",{d:"M10 12l4 4m0 -4l-4 4",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var nV=An("outline","user-plus","IconUserPlus",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M16 19h6",key:"svg-1"}],["path",{d:"M19 16v6",key:"svg-2"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var jte=An("outline","user","IconUser",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ax=An("outline","x","IconX",[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var bze=An("filled","brand-google-filled","IconBrandGoogleFilled",[["path",{d:"M12 2a9.96 9.96 0 0 1 6.29 2.226a1 1 0 0 1 .04 1.52l-1.51 1.362a1 1 0 0 1 -1.265 .06a6 6 0 1 0 2.103 6.836l.001 -.004h-3.66a1 1 0 0 1 -.992 -.883l-.007 -.117v-2a1 1 0 0 1 1 -1h6.945a1 1 0 0 1 .994 .89c.04 .367 .061 .737 .061 1.11c0 5.523 -4.477 10 -10 10s-10 -4.477 -10 -10s4.477 -10 10 -10z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var wze=An("filled","player-pause-filled","IconPlayerPauseFilled",[["path",{d:"M9 4h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h2a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2z",key:"svg-0"}],["path",{d:"M17 4h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h2a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2z",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var xze=An("filled","player-play-filled","IconPlayerPlayFilled",[["path",{d:"M6 4v16a1 1 0 0 0 1.524 .852l13 -8a1 1 0 0 0 0 -1.704l-13 -8a1 1 0 0 0 -1.524 .852z",key:"svg-0"}]]);function vye(e){const t=e.split("/")||[];return t[t.length-1].replace(/\.[^\.]+$/,"").replace(".","_").replace(" ","_").replace("/","_")}const ji="/reVISit_study/";function zte(e){const t=[],n=String(e||"");let r=n.indexOf(","),i=0,o=!1;for(;!o;){r===-1&&(r=n.length,o=!0);const s=n.slice(i,r).trim();(s||!o)&&t.push(s),i=r+1,r=n.indexOf(",",i)}return t}function bye(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const _ze=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Eze=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Sze={};function Ute(e,t){return(Sze.jsx?Eze:_ze).test(e)}const Tze=/[ \t\n\f\r]/g;function Cze(e){return typeof e=="object"?e.type==="text"?Hte(e.value):!1:Hte(e)}function Hte(e){return e.replace(Tze,"")===""}let zC=class{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}};zC.prototype.normal={};zC.prototype.property={};zC.prototype.space=void 0;function wye(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new zC(n,r,t)}function gT(e){return e.toLowerCase()}let Xl=class{constructor(t,n){this.attribute=n,this.property=t}};Xl.prototype.attribute="";Xl.prototype.booleanish=!1;Xl.prototype.boolean=!1;Xl.prototype.commaOrSpaceSeparated=!1;Xl.prototype.commaSeparated=!1;Xl.prototype.defined=!1;Xl.prototype.mustUseProperty=!1;Xl.prototype.number=!1;Xl.prototype.overloadedBoolean=!1;Xl.prototype.property="";Xl.prototype.spaceSeparated=!1;Xl.prototype.space=void 0;let Aze=0;const Ln=zv(),To=zv(),xye=zv(),kt=zv(),ui=zv(),H1=zv(),du=zv();function zv(){return 2**++Aze}const Q8=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ln,booleanish:To,commaOrSpaceSeparated:du,commaSeparated:H1,number:kt,overloadedBoolean:xye,spaceSeparated:ui},Symbol.toStringTag,{value:"Module"})),UF=Object.keys(Q8);let rV=class extends Xl{constructor(t,n,r,i){let o=-1;if(super(t,n),Vte(this,"space",i),typeof r=="number")for(;++o<UF.length;){const s=UF[o];Vte(this,UF[o],(r&Q8[s])===Q8[s])}}};rV.prototype.defined=!0;function Vte(e,t,n){n&&(e[t]=n)}function kx(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const o=new rV(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[gT(r)]=r,n[gT(o.attribute)]=r}return new zC(t,n,e.space)}const _ye=kx({properties:{ariaActiveDescendant:null,ariaAtomic:To,ariaAutoComplete:null,ariaBusy:To,ariaChecked:To,ariaColCount:kt,ariaColIndex:kt,ariaColSpan:kt,ariaControls:ui,ariaCurrent:null,ariaDescribedBy:ui,ariaDetails:null,ariaDisabled:To,ariaDropEffect:ui,ariaErrorMessage:null,ariaExpanded:To,ariaFlowTo:ui,ariaGrabbed:To,ariaHasPopup:null,ariaHidden:To,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ui,ariaLevel:kt,ariaLive:null,ariaModal:To,ariaMultiLine:To,ariaMultiSelectable:To,ariaOrientation:null,ariaOwns:ui,ariaPlaceholder:null,ariaPosInSet:kt,ariaPressed:To,ariaReadOnly:To,ariaRelevant:null,ariaRequired:To,ariaRoleDescription:ui,ariaRowCount:kt,ariaRowIndex:kt,ariaRowSpan:kt,ariaSelected:To,ariaSetSize:kt,ariaSort:null,ariaValueMax:kt,ariaValueMin:kt,ariaValueNow:kt,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function Eye(e,t){return t in e?e[t]:t}function Sye(e,t){return Eye(e,t.toLowerCase())}const kze=kx({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:H1,acceptCharset:ui,accessKey:ui,action:null,allow:null,allowFullScreen:Ln,allowPaymentRequest:Ln,allowUserMedia:Ln,alt:null,as:null,async:Ln,autoCapitalize:null,autoComplete:ui,autoFocus:Ln,autoPlay:Ln,blocking:ui,capture:null,charSet:null,checked:Ln,cite:null,className:ui,cols:kt,colSpan:null,content:null,contentEditable:To,controls:Ln,controlsList:ui,coords:kt|H1,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ln,defer:Ln,dir:null,dirName:null,disabled:Ln,download:xye,draggable:To,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ln,formTarget:null,headers:ui,height:kt,hidden:Ln,high:kt,href:null,hrefLang:null,htmlFor:ui,httpEquiv:ui,id:null,imageSizes:null,imageSrcSet:null,inert:Ln,inputMode:null,integrity:null,is:null,isMap:Ln,itemId:null,itemProp:ui,itemRef:ui,itemScope:Ln,itemType:ui,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ln,low:kt,manifest:null,max:null,maxLength:kt,media:null,method:null,min:null,minLength:kt,multiple:Ln,muted:Ln,name:null,nonce:null,noModule:Ln,noValidate:Ln,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ln,optimum:kt,pattern:null,ping:ui,placeholder:null,playsInline:Ln,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ln,referrerPolicy:null,rel:ui,required:Ln,reversed:Ln,rows:kt,rowSpan:kt,sandbox:ui,scope:null,scoped:Ln,seamless:Ln,selected:Ln,shadowRootClonable:Ln,shadowRootDelegatesFocus:Ln,shadowRootMode:null,shape:null,size:kt,sizes:null,slot:null,span:kt,spellCheck:To,src:null,srcDoc:null,srcLang:null,srcSet:null,start:kt,step:null,style:null,tabIndex:kt,target:null,title:null,translate:null,type:null,typeMustMatch:Ln,useMap:null,value:To,width:kt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ui,axis:null,background:null,bgColor:null,border:kt,borderColor:null,bottomMargin:kt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ln,declare:Ln,event:null,face:null,frame:null,frameBorder:null,hSpace:kt,leftMargin:kt,link:null,longDesc:null,lowSrc:null,marginHeight:kt,marginWidth:kt,noResize:Ln,noHref:Ln,noShade:Ln,noWrap:Ln,object:null,profile:null,prompt:null,rev:null,rightMargin:kt,rules:null,scheme:null,scrolling:To,standby:null,summary:null,text:null,topMargin:kt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:kt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ln,disableRemotePlayback:Ln,prefix:null,property:null,results:kt,security:null,unselectable:null},space:"html",transform:Sye}),Ize=kx({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:du,accentHeight:kt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:kt,amplitude:kt,arabicForm:null,ascent:kt,attributeName:null,attributeType:null,azimuth:kt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:kt,by:null,calcMode:null,capHeight:kt,className:ui,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:kt,diffuseConstant:kt,direction:null,display:null,dur:null,divisor:kt,dominantBaseline:null,download:Ln,dx:null,dy:null,edgeMode:null,editable:null,elevation:kt,enableBackground:null,end:null,event:null,exponent:kt,externalResourcesRequired:null,fill:null,fillOpacity:kt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:H1,g2:H1,glyphName:H1,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:kt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:kt,horizOriginX:kt,horizOriginY:kt,id:null,ideographic:kt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:kt,k:kt,k1:kt,k2:kt,k3:kt,k4:kt,kernelMatrix:du,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:kt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:kt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:kt,overlineThickness:kt,paintOrder:null,panose1:null,path:null,pathLength:kt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ui,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:kt,pointsAtY:kt,pointsAtZ:kt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:du,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:du,rev:du,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:du,requiredFeatures:du,requiredFonts:du,requiredFormats:du,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:kt,specularExponent:kt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:kt,strikethroughThickness:kt,string:null,stroke:null,strokeDashArray:du,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:kt,strokeOpacity:kt,strokeWidth:null,style:null,surfaceScale:kt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:du,tabIndex:kt,tableValues:null,target:null,targetX:kt,targetY:kt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:du,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:kt,underlineThickness:kt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:kt,values:null,vAlphabetic:kt,vMathematical:kt,vectorEffect:null,vHanging:kt,vIdeographic:kt,version:null,vertAdvY:kt,vertOriginX:kt,vertOriginY:kt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:kt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Eye}),Tye=kx({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),Cye=kx({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Sye}),Aye=kx({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Rze={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Dze=/[A-Z]/g,Wte=/-[a-z]/g,$ze=/^data[-\w.:]+$/i;function iV(e,t){const n=gT(t);let r=t,i=Xl;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&$ze.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(Wte,Pze);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!Wte.test(o)){let s=o.replace(Dze,Mze);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}i=rV}return new i(r,t)}function Mze(e){return"-"+e.toLowerCase()}function Pze(e){return e.charAt(1).toUpperCase()}const RP=wye([_ye,kze,Tye,Cye,Aye],"html"),Ix=wye([_ye,Ize,Tye,Cye,Aye],"svg");function qte(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function kye(e){return e.join(" ").trim()}var Qb={},HF,Gte;function Nze(){if(Gte)return HF;Gte=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,a=/^\s+|\s+$/g,l=`
`,u="/",c="*",d="",f="comment",h="declaration";HF=function(m,g){if(typeof m!="string")throw new TypeError("First argument must be a string");if(!m)return[];g=g||{};var y=1,v=1;function w(I){var D=I.match(t);D&&(y+=D.length);var R=I.lastIndexOf(l);v=~R?I.length-R:v+I.length}function E(){var I={line:y,column:v};return function(D){return D.position=new _(I),C(),D}}function _(I){this.start=I,this.end={line:y,column:v},this.source=g.source}_.prototype.content=m;function x(I){var D=new Error(g.source+":"+y+":"+v+": "+I);if(D.reason=I,D.filename=g.source,D.line=y,D.column=v,D.source=m,!g.silent)throw D}function S(I){var D=I.exec(m);if(D){var R=D[0];return w(R),m=m.slice(R.length),D}}function C(){S(n)}function A(I){var D;for(I=I||[];D=k();)D!==!1&&I.push(D);return I}function k(){var I=E();if(!(u!=m.charAt(0)||c!=m.charAt(1))){for(var D=2;d!=m.charAt(D)&&(c!=m.charAt(D)||u!=m.charAt(D+1));)++D;if(D+=2,d===m.charAt(D-1))return x("End of comment missing");var R=m.slice(2,D-2);return v+=2,w(R),m=m.slice(D),v+=2,I({type:f,comment:R})}}function N(){var I=E(),D=S(r);if(D){if(k(),!S(i))return x("property missing ':'");var R=S(o),O=I({type:h,property:p(D[0].replace(e,d)),value:R?p(R[0].replace(e,d)):d});return S(s),O}}function M(){var I=[];A(I);for(var D;D=N();)D!==!1&&(I.push(D),A(I));return I}return C(),M()};function p(m){return m?m.replace(a,d):d}return HF}var Yte;function Oze(){if(Yte)return Qb;Yte=1;var e=Qb&&Qb.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Qb,"__esModule",{value:!0}),Qb.default=n;var t=e(Nze());function n(r,i){var o=null;if(!r||typeof r!="string")return o;var s=(0,t.default)(r),a=typeof i=="function";return s.forEach(function(l){if(l.type==="declaration"){var u=l.property,c=l.value;a?i(u,c,l):c&&(o=o||{},o[u]=c)}}),o}return Qb}var Z_={},Kte;function Lze(){if(Kte)return Z_;Kte=1,Object.defineProperty(Z_,"__esModule",{value:!0}),Z_.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,o=function(u){return!u||n.test(u)||e.test(u)},s=function(u,c){return c.toUpperCase()},a=function(u,c){return"".concat(c,"-")},l=function(u,c){return c===void 0&&(c={}),o(u)?u:(u=u.toLowerCase(),c.reactCompat?u=u.replace(i,a):u=u.replace(r,a),u.replace(t,s))};return Z_.camelCase=l,Z_}var eE,Xte;function Fze(){if(Xte)return eE;Xte=1;var e=eE&&eE.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(Oze()),n=Lze();function r(i,o){var s={};return!i||typeof i!="string"||(0,t.default)(i,function(a,l){a&&l&&(s[(0,n.camelCase)(a,o)]=l)}),s}return r.default=r,eE=r,eE}var Bze=Fze();const jze=ul(Bze),DP=Iye("end"),ah=Iye("start");function Iye(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function zze(e){const t=ah(e),n=DP(e);if(t&&n)return{start:t,end:n}}function Uze(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Qte(e.position):"start"in e||"end"in e?Qte(e):"line"in e||"column"in e?J8(e):""}function J8(e){return Jte(e&&e.line)+":"+Jte(e&&e.column)}function Qte(e){return J8(e&&e.start)+"-"+J8(e&&e.end)}function Jte(e){return e&&typeof e=="number"?e:1}class Na extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},s=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?i=t:!o.cause&&t&&(s=!0,i=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?o.ruleId=r:(o.source=r.slice(0,l),o.ruleId=r.slice(l+1))}if(!o.place&&o.ancestors&&o.ancestors){const l=o.ancestors[o.ancestors.length-1];l&&(o.place=l.position)}const a=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=a?a.line:void 0,this.name=Uze(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=s&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}}Na.prototype.file="";Na.prototype.name="";Na.prototype.reason="";Na.prototype.message="";Na.prototype.stack="";Na.prototype.column=void 0;Na.prototype.line=void 0;Na.prototype.ancestors=void 0;Na.prototype.cause=void 0;Na.prototype.fatal=void 0;Na.prototype.place=void 0;Na.prototype.ruleId=void 0;Na.prototype.source=void 0;const oV={}.hasOwnProperty,Hze=new Map,Vze=/[A-Z]/g,Wze=new Set(["table","tbody","thead","tfoot","tr"]),qze=new Set(["td","th"]),Rye="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Gze(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=tUe(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=eUe(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Ix:RP,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=Dye(i,e,void 0);return o&&typeof o!="string"?o:i.create(e,i.Fragment,{children:o||void 0},void 0)}function Dye(e,t,n){if(t.type==="element")return Yze(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Kze(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Qze(e,t,n);if(t.type==="mdxjsEsm")return Xze(e,t);if(t.type==="root")return Jze(e,t,n);if(t.type==="text")return Zze(e,t)}function Yze(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Ix,e.schema=i),e.ancestors.push(t);const o=Mye(e,t.tagName,!1),s=nUe(e,t);let a=aV(e,t);return Wze.has(t.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!Cze(l):!0})),$ye(e,s,o,t),sV(s,a),e.ancestors.pop(),e.schema=r,e.create(t,o,s,n)}function Kze(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}yT(e,t.position)}function Xze(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);yT(e,t.position)}function Qze(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=Ix,e.schema=i),e.ancestors.push(t);const o=t.name===null?e.Fragment:Mye(e,t.name,!0),s=rUe(e,t),a=aV(e,t);return $ye(e,s,o,t),sV(s,a),e.ancestors.pop(),e.schema=r,e.create(t,o,s,n)}function Jze(e,t,n){const r={};return sV(r,aV(e,t)),e.create(t,e.Fragment,r,n)}function Zze(e,t){return t.value}function $ye(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function sV(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function eUe(e,t,n){return r;function r(i,o,s,a){const u=Array.isArray(s.children)?n:t;return a?u(o,s,a):u(o,s)}}function tUe(e,t){return n;function n(r,i,o,s){const a=Array.isArray(o.children),l=ah(r);return t(i,o,s,a,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function nUe(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&oV.call(t.properties,i)){const o=iUe(e,i,t.properties[i]);if(o){const[s,a]=o;e.tableCellAlignToStyle&&s==="align"&&typeof a=="string"&&qze.has(t.tagName)?r=a:n[s]=a}}if(r){const o=n.style||(n.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function rUe(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const o=r.data.estree.body[0];o.type;const s=o.expression;s.type;const a=s.properties[0];a.type,Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else yT(e,t.position);else{const i=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const a=r.value.data.estree.body[0];a.type,o=e.evaluater.evaluateExpression(a.expression)}else yT(e,t.position);else o=r.value===null?!0:r.value;n[i]=o}return n}function aV(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:Hze;for(;++r<t.children.length;){const o=t.children[r];let s;if(e.passKeys){const l=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(l){const u=i.get(l)||0;s=l+"-"+u,i.set(l,u+1)}}const a=Dye(e,o,s);a!==void 0&&n.push(a)}return n}function iUe(e,t,n){const r=iV(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?bye(n):kye(n)),r.property==="style"){let i=typeof n=="object"?n:oUe(e,String(n));return e.stylePropertyNameCase==="css"&&(i=sUe(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?Rze[r.property]||r.property:r.attribute,n]}}function oUe(e,t){try{return jze(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Na("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=Rye+"#cannot-parse-style-attribute",i}}function Mye(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let o=-1,s;for(;++o<i.length;){const a=Ute(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};s=s?{type:"MemberExpression",object:s,property:a,computed:!!(o&&a.type==="Literal"),optional:!1}:a}r=s}else r=Ute(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return oV.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);yT(e)}function yT(e,t){const n=new Na("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Rye+"#cannot-handle-mdx-estrees-without-createevaluater",n}function sUe(e){const t={};let n;for(n in e)oV.call(e,n)&&(t[aUe(n)]=e[n]);return t}function aUe(e){let t=e.replace(Vze,lUe);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function lUe(e){return"-"+e.toLowerCase()}const VF={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},uUe={};function cUe(e,t){const n=uUe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Pye(e,r,i)}function Pye(e,t,n){if(dUe(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Zte(e.children,t,n)}return Array.isArray(e)?Zte(e,t,n):""}function Zte(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=Pye(e[i],t,n);return r.join("")}function dUe(e){return!!(e&&typeof e=="object")}const ene=document.createElement("i");function lV(e){const t="&"+e+";";ene.innerHTML=t;const n=ene.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function vT(e,t,n,r){const i=e.length;let o=0,s;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),e.splice(...s);else for(n&&e.splice(t,n);o<r.length;)s=r.slice(o,o+1e4),s.unshift(t,0),e.splice(...s),o+=1e4,t+=1e4}function fUe(e,t){return e.length>0?(vT(e,e.length,0,t),e):t}function hUe(e,t,n,r){const i=e.length;let o=0,s;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),e.splice(...s);else for(n&&e.splice(t,n);o<r.length;)s=r.slice(o,o+1e4),s.unshift(t,0),e.splice(...s),o+=1e4,t+=1e4}const tne={}.hasOwnProperty;function pUe(e){const t={};let n=-1;for(;++n<e.length;)mUe(t,e[n]);return t}function mUe(e,t){let n;for(n in t){const i=(tne.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let s;if(o)for(s in o){tne.call(i,s)||(i[s]=[]);const a=o[s];gUe(i[s],Array.isArray(a)?a:a?[a]:[])}}}function gUe(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);hUe(e,0,0,r)}function uV(e){return e!==null&&e<-2}function nne(e){return e===-2||e===-1||e===32}function cV(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return s;function s(l){return nne(l)?(e.enter(n),a(l)):t(l)}function a(l){return nne(l)&&o++<i?(e.consume(l),a):(e.exit(n),t(l))}}const yUe={tokenize:vUe};function vUe(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),cV(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),o(a)}function o(a){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(a)}function s(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return uV(a)?(e.consume(a),e.exit("chunkText"),o):(e.consume(a),s)}}const bUe={tokenize:wUe},rne={tokenize:xUe};function wUe(e){const t=this,n=[];let r=0,i,o,s;return a;function a(w){if(r<n.length){const E=n[r];return t.containerState=E[1],e.attempt(E[0].continuation,l,u)(w)}return u(w)}function l(w){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&v();const E=t.events.length;let _=E,x;for(;_--;)if(t.events[_][0]==="exit"&&t.events[_][1].type==="chunkFlow"){x=t.events[_][1].end;break}y(r);let S=E;for(;S<t.events.length;)t.events[S][1].end={...x},S++;return vT(t.events,_+1,0,t.events.slice(E)),t.events.length=S,u(w)}return a(w)}function u(w){if(r===n.length){if(!i)return f(w);if(i.currentConstruct&&i.currentConstruct.concrete)return p(w);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(rne,c,d)(w)}function c(w){return i&&v(),y(r),f(w)}function d(w){return t.parser.lazy[t.now().line]=r!==n.length,s=t.now().offset,p(w)}function f(w){return t.containerState={},e.attempt(rne,h,p)(w)}function h(w){return r++,n.push([t.currentConstruct,t.containerState]),f(w)}function p(w){if(w===null){i&&v(),y(0),e.consume(w);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),m(w)}function m(w){if(w===null){g(e.exit("chunkFlow"),!0),y(0),e.consume(w);return}return uV(w)?(e.consume(w),g(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(w),m)}function g(w,E){const _=t.sliceStream(w);if(E&&_.push(null),w.previous=o,o&&(o.next=w),o=w,i.defineSkip(w.start),i.write(_),t.parser.lazy[w.start.line]){let x=i.events.length;for(;x--;)if(i.events[x][1].start.offset<s&&(!i.events[x][1].end||i.events[x][1].end.offset>s))return;const S=t.events.length;let C=S,A,k;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){if(A){k=t.events[C][1].end;break}A=!0}for(y(r),x=S;x<t.events.length;)t.events[x][1].end={...k},x++;vT(t.events,C+1,0,t.events.slice(S)),t.events.length=x}}function y(w){let E=n.length;for(;E-- >w;){const _=n[E];t.containerState=_[1],_[0].exit.call(t,e)}n.length=w}function v(){i.write([null]),o=void 0,i=void 0,t.containerState._closeFlow=void 0}}function xUe(e,t,n){return cV(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Rx(e,t,n,r){const i=e.length;let o=0,s;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),e.splice(...s);else for(n&&e.splice(t,n);o<r.length;)s=r.slice(o,o+1e4),s.unshift(t,0),e.splice(...s),o+=1e4,t+=1e4}function Zc(e,t){return e.length>0?(Rx(e,e.length,0,t),e):t}function _Ue(e){return e!==null&&(e<0||e===32)}const EUe=Nye(new RegExp("\\p{P}|\\p{S}","u")),SUe=Nye(/\s/);function Nye(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function ine(e){if(e===null||_Ue(e)||SUe(e))return 1;if(EUe(e))return 2}function Oye(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const Z8={name:"attention",resolveAll:TUe,tokenize:CUe};function TUe(e,t){let n=-1,r,i,o,s,a,l,u,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const d={...e[r][1].end},f={...e[n][1].start};one(d,-l),one(f,l),s={type:l>1?"strongSequence":"emphasisSequence",start:d,end:{...e[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:f},o={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...s.start},end:{...a.end}},e[r][1].end={...s.start},e[n][1].start={...a.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=Zc(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=Zc(u,[["enter",i,t],["enter",s,t],["exit",s,t],["enter",o,t]]),u=Zc(u,Oye(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=Zc(u,[["exit",o,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,u=Zc(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,Rx(e,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function CUe(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=ine(r);let o;return s;function s(l){return o=l,e.enter("attentionSequence"),a(l)}function a(l){if(l===o)return e.consume(l),a;const u=e.exit("attentionSequence"),c=ine(l),d=!c||c===2&&i||n.includes(l),f=!i||i===2&&c||n.includes(r);return u._open=!!(o===42?d:d&&(i||!f)),u._close=!!(o===42?f:f&&(c||!d)),t(l)}}function one(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const gf=Dx(/[A-Za-z]/),ld=Dx(/[\dA-Za-z]/),AUe=Dx(/[#-'*+\--9=?A-Z^-~]/);function kUe(e){return e!==null&&(e<32||e===127)}const ej=Dx(/\d/),IUe=Dx(/[\dA-Fa-f]/),RUe=Dx(/[!-/:-@[-`{-~]/);function Xn(e){return e!==null&&e<-2}function dc(e){return e!==null&&(e<0||e===32)}function Br(e){return e===-2||e===-1||e===32}function Dx(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}const DUe={name:"autolink",tokenize:$Ue};function $Ue(e,t,n){let r=0;return i;function i(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(h){return gf(h)?(e.consume(h),s):h===64?n(h):u(h)}function s(h){return h===43||h===45||h===46||ld(h)?(r=1,a(h)):u(h)}function a(h){return h===58?(e.consume(h),r=0,l):(h===43||h===45||h===46||ld(h))&&r++<32?(e.consume(h),a):(r=0,u(h))}function l(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||kUe(h)?n(h):(e.consume(h),l)}function u(h){return h===64?(e.consume(h),c):AUe(h)?(e.consume(h),u):n(h)}function c(h){return ld(h)?d(h):n(h)}function d(h){return h===46?(e.consume(h),r=0,c):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):f(h)}function f(h){if((h===45||ld(h))&&r++<63){const p=h===45?f:d;return e.consume(h),p}return n(h)}}function mo(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return s;function s(l){return Br(l)?(e.enter(n),a(l)):t(l)}function a(l){return Br(l)&&o++<i?(e.consume(l),a):(e.exit(n),t(l))}}const $P={partial:!0,tokenize:MUe};function MUe(e,t,n){return r;function r(o){return Br(o)?mo(e,i,"linePrefix")(o):i(o)}function i(o){return o===null||Xn(o)?t(o):n(o)}}const Lye={continuation:{tokenize:NUe},exit:OUe,name:"blockQuote",tokenize:PUe};function PUe(e,t,n){const r=this;return i;function i(s){if(s===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),o}return n(s)}function o(s){return Br(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function NUe(e,t,n){const r=this;return i;function i(s){return Br(s)?mo(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):o(s)}function o(s){return e.attempt(Lye,t,n)(s)}}function OUe(e){e.exit("blockQuote")}const Fye={name:"characterEscape",tokenize:LUe};function LUe(e,t,n){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),i}function i(o){return RUe(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const Bye={name:"characterReference",tokenize:FUe};function FUe(e,t,n){const r=this;let i=0,o,s;return a;function a(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),l}function l(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),o=31,s=ld,c(d))}function u(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,s=IUe,c):(e.enter("characterReferenceValue"),o=7,s=ej,c(d))}function c(d){if(d===59&&i){const f=e.exit("characterReferenceValue");return s===ld&&!lV(r.sliceSerialize(f))?n(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return s(d)&&i++<o?(e.consume(d),c):n(d)}}const sne={partial:!0,tokenize:jUe},ane={concrete:!0,name:"codeFenced",tokenize:BUe};function BUe(e,t,n){const r=this,i={partial:!0,tokenize:_};let o=0,s=0,a;return l;function l(x){return u(x)}function u(x){const S=r.events[r.events.length-1];return o=S&&S[1].type==="linePrefix"?S[2].sliceSerialize(S[1],!0).length:0,a=x,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(x)}function c(x){return x===a?(s++,e.consume(x),c):s<3?n(x):(e.exit("codeFencedFenceSequence"),Br(x)?mo(e,d,"whitespace")(x):d(x))}function d(x){return x===null||Xn(x)?(e.exit("codeFencedFence"),r.interrupt?t(x):e.check(sne,m,E)(x)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),f(x))}function f(x){return x===null||Xn(x)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(x)):Br(x)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),mo(e,h,"whitespace")(x)):x===96&&x===a?n(x):(e.consume(x),f)}function h(x){return x===null||Xn(x)?d(x):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(x))}function p(x){return x===null||Xn(x)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(x)):x===96&&x===a?n(x):(e.consume(x),p)}function m(x){return e.attempt(i,E,g)(x)}function g(x){return e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),y}function y(x){return o>0&&Br(x)?mo(e,v,"linePrefix",o+1)(x):v(x)}function v(x){return x===null||Xn(x)?e.check(sne,m,E)(x):(e.enter("codeFlowValue"),w(x))}function w(x){return x===null||Xn(x)?(e.exit("codeFlowValue"),v(x)):(e.consume(x),w)}function E(x){return e.exit("codeFenced"),t(x)}function _(x,S,C){let A=0;return k;function k(R){return x.enter("lineEnding"),x.consume(R),x.exit("lineEnding"),N}function N(R){return x.enter("codeFencedFence"),Br(R)?mo(x,M,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):M(R)}function M(R){return R===a?(x.enter("codeFencedFenceSequence"),I(R)):C(R)}function I(R){return R===a?(A++,x.consume(R),I):A>=s?(x.exit("codeFencedFenceSequence"),Br(R)?mo(x,D,"whitespace")(R):D(R)):C(R)}function D(R){return R===null||Xn(R)?(x.exit("codeFencedFence"),S(R)):C(R)}}}function jUe(e,t,n){const r=this;return i;function i(s){return s===null?n(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),o)}function o(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}const WF={name:"codeIndented",tokenize:UUe},zUe={partial:!0,tokenize:HUe};function UUe(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),mo(e,o,"linePrefix",5)(u)}function o(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?s(u):n(u)}function s(u){return u===null?l(u):Xn(u)?e.attempt(zUe,s,l)(u):(e.enter("codeFlowValue"),a(u))}function a(u){return u===null||Xn(u)?(e.exit("codeFlowValue"),s(u)):(e.consume(u),a)}function l(u){return e.exit("codeIndented"),t(u)}}function HUe(e,t,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):Xn(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):mo(e,o,"linePrefix",5)(s)}function o(s){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(s):Xn(s)?i(s):n(s)}}const VUe={name:"codeText",previous:qUe,resolve:WUe,tokenize:GUe};function WUe(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function qUe(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function GUe(e,t,n){let r=0,i,o;return s;function s(d){return e.enter("codeText"),e.enter("codeTextSequence"),a(d)}function a(d){return d===96?(e.consume(d),r++,a):(e.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===32?(e.enter("space"),e.consume(d),e.exit("space"),l):d===96?(o=e.enter("codeTextSequence"),i=0,c(d)):Xn(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(d))}function u(d){return d===null||d===32||d===96||Xn(d)?(e.exit("codeTextData"),l(d)):(e.consume(d),u)}function c(d){return d===96?(e.consume(d),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(d)):(o.type="codeTextData",u(d))}}let YUe=class{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&tE(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),tE(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),tE(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);tE(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);tE(this.left,n.reverse())}}};function tE(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function KUe(e){const t={};let n=-1,r,i,o,s,a,l,u;const c=new YUe(e);for(;++n<c.length;){for(;n in t;)n=t[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,o=0,o<l.length&&l[o][1].type==="lineEndingBlank"&&(o+=2),o<l.length&&l[o][1].type==="content"))for(;++o<l.length&&l[o][1].type!=="content";)l[o][1].type==="chunkText"&&(l[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,XUe(c,n)),n=t[n],u=!0);else if(r[1]._container){for(o=n,i=void 0;o--;)if(s=c.get(o),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=o);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(r[1].end={...c.get(i)[1].start},a=c.slice(i,n),a.unshift(r),c.splice(i,n-i+1,a))}}return Rx(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function XUe(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const o=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const a=s.events,l=[],u={};let c,d,f=-1,h=n,p=0,m=0;const g=[m];for(;h;){for(;e.get(++i)[1]!==h;);o.push(i),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),d&&s.defineSkip(h.start),h._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(c),h._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),d=h,h=h.next}for(h=n;++f<a.length;)a[f][0]==="exit"&&a[f-1][0]==="enter"&&a[f][1].type===a[f-1][1].type&&a[f][1].start.line!==a[f][1].end.line&&(m=f+1,g.push(m),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(s.events=[],h?(h._tokenizer=void 0,h.previous=void 0):g.pop(),f=g.length;f--;){const y=a.slice(g[f],g[f+1]),v=o.pop();l.push([v,v+y.length-1]),e.splice(v,2,y)}for(l.reverse(),f=-1;++f<l.length;)u[p+l[f][0]]=p+l[f][1],p+=l[f][1]-l[f][0]-1;return u}const QUe={resolve:ZUe,tokenize:eHe},JUe={partial:!0,tokenize:tHe};function ZUe(e){return KUe(e),e}function eHe(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?o(a):Xn(a)?e.check(JUe,s,o)(a):(e.consume(a),i)}function o(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function s(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function tHe(e,t,n){const r=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),mo(e,o,"linePrefix")}function o(s){if(s===null||Xn(s))return n(s);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}}function lne(e){return e!==null&&(e<32||e===127)}function nHe(e){return e!==null&&e<-2}function rHe(e){return e!==null&&(e<0||e===32)}function jye(e,t,n,r,i,o,s,a,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return d;function d(y){return y===60?(e.enter(r),e.enter(i),e.enter(o),e.consume(y),e.exit(o),f):y===null||y===32||y===41||lne(y)?n(y):(e.enter(r),e.enter(s),e.enter(a),e.enter("chunkString",{contentType:"string"}),m(y))}function f(y){return y===62?(e.enter(o),e.consume(y),e.exit(o),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),h(y))}function h(y){return y===62?(e.exit("chunkString"),e.exit(a),f(y)):y===null||y===60||nHe(y)?n(y):(e.consume(y),y===92?p:h)}function p(y){return y===60||y===62||y===92?(e.consume(y),h):h(y)}function m(y){return!c&&(y===null||y===41||rHe(y))?(e.exit("chunkString"),e.exit(a),e.exit(s),e.exit(r),t(y)):c<u&&y===40?(e.consume(y),c++,m):y===41?(e.consume(y),c--,m):y===null||y===32||y===40||lne(y)?n(y):(e.consume(y),y===92?g:m)}function g(y){return y===40||y===41||y===92?(e.consume(y),m):m(y)}}function une(e){return e!==null&&e<-2}function iHe(e){return e===-2||e===-1||e===32}function zye(e,t,n,r,i,o){const s=this;let a=0,l;return u;function u(h){return e.enter(r),e.enter(i),e.consume(h),e.exit(i),e.enter(o),c}function c(h){return a>999||h===null||h===91||h===93&&!l||h===94&&!a&&"_hiddenFootnoteSupport"in s.parser.constructs?n(h):h===93?(e.exit(o),e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):une(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===null||h===91||h===93||une(h)||a++>999?(e.exit("chunkString"),c(h)):(e.consume(h),l||(l=!iHe(h)),h===92?f:d)}function f(h){return h===91||h===92||h===93?(e.consume(h),a++,d):d(h)}}function cne(e){return e!==null&&e<-2}function dne(e){return e===-2||e===-1||e===32}function oHe(e,t,n,r){const i=Number.POSITIVE_INFINITY;let o=0;return s;function s(l){return dne(l)?(e.enter(n),a(l)):t(l)}function a(l){return dne(l)&&o++<i?(e.consume(l),a):(e.exit(n),t(l))}}function Uye(e,t,n,r,i,o){let s;return a;function a(f){return f===34||f===39||f===40?(e.enter(r),e.enter(i),e.consume(f),e.exit(i),s=f===40?41:f,l):n(f)}function l(f){return f===s?(e.enter(i),e.consume(f),e.exit(i),e.exit(r),t):(e.enter(o),u(f))}function u(f){return f===s?(e.exit(o),l(s)):f===null?n(f):cne(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),oHe(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(f))}function c(f){return f===s||f===null||cne(f)?(e.exit("chunkString"),u(f)):(e.consume(f),f===92?d:c)}function d(f){return f===s||f===92?(e.consume(f),c):c(f)}}function sHe(e){return e!==null&&e<-2}function tj(e){return e===-2||e===-1||e===32}function aHe(e,t,n,r){const i=Number.POSITIVE_INFINITY;let o=0;return s;function s(l){return tj(l)?(e.enter(n),a(l)):t(l)}function a(l){return tj(l)&&o++<i?(e.consume(l),a):(e.exit(n),t(l))}}function DS(e,t){let n;return r;function r(i){return sHe(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):tj(i)?aHe(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}function dV(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const lHe={name:"definition",tokenize:cHe},uHe={partial:!0,tokenize:dHe};function cHe(e,t,n){const r=this;let i;return o;function o(h){return e.enter("definition"),s(h)}function s(h){return zye.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function a(h){return i=dV(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),l):n(h)}function l(h){return dc(h)?DS(e,u)(h):u(h)}function u(h){return jye(e,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function c(h){return e.attempt(uHe,d,d)(h)}function d(h){return Br(h)?mo(e,f,"whitespace")(h):f(h)}function f(h){return h===null||Xn(h)?(e.exit("definition"),r.parser.defined.push(i),t(h)):n(h)}}function dHe(e,t,n){return r;function r(a){return dc(a)?DS(e,i)(a):n(a)}function i(a){return Uye(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function o(a){return Br(a)?mo(e,s,"whitespace")(a):s(a)}function s(a){return a===null||Xn(a)?t(a):n(a)}}const fHe={name:"hardBreakEscape",tokenize:hHe};function hHe(e,t,n){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),i}function i(o){return Xn(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const pHe={name:"headingAtx",resolve:mHe,tokenize:gHe};function mHe(e,t){let n=e.length-2,r=3,i,o;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},o={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Rx(e,r,n-r+1,[["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t]])),e}function gHe(e,t,n){let r=0;return i;function i(c){return e.enter("atxHeading"),o(c)}function o(c){return e.enter("atxHeadingSequence"),s(c)}function s(c){return c===35&&r++<6?(e.consume(c),s):c===null||dc(c)?(e.exit("atxHeadingSequence"),a(c)):n(c)}function a(c){return c===35?(e.enter("atxHeadingSequence"),l(c)):c===null||Xn(c)?(e.exit("atxHeading"),t(c)):Br(c)?mo(e,a,"whitespace")(c):(e.enter("atxHeadingText"),u(c))}function l(c){return c===35?(e.consume(c),l):(e.exit("atxHeadingSequence"),a(c))}function u(c){return c===null||c===35||dc(c)?(e.exit("atxHeadingText"),a(c)):(e.consume(c),u)}}const yHe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],fne=["pre","script","style","textarea"],vHe={concrete:!0,name:"htmlFlow",resolveTo:xHe,tokenize:_He},bHe={partial:!0,tokenize:SHe},wHe={partial:!0,tokenize:EHe};function xHe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function _He(e,t,n){const r=this;let i,o,s,a,l;return u;function u(V){return c(V)}function c(V){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(V),d}function d(V){return V===33?(e.consume(V),f):V===47?(e.consume(V),o=!0,m):V===63?(e.consume(V),i=3,r.interrupt?t:U):gf(V)?(e.consume(V),s=String.fromCharCode(V),g):n(V)}function f(V){return V===45?(e.consume(V),i=2,h):V===91?(e.consume(V),i=5,a=0,p):gf(V)?(e.consume(V),i=4,r.interrupt?t:U):n(V)}function h(V){return V===45?(e.consume(V),r.interrupt?t:U):n(V)}function p(V){const G="CDATA[";return V===G.charCodeAt(a++)?(e.consume(V),a===G.length?r.interrupt?t:M:p):n(V)}function m(V){return gf(V)?(e.consume(V),s=String.fromCharCode(V),g):n(V)}function g(V){if(V===null||V===47||V===62||dc(V)){const G=V===47,X=s.toLowerCase();return!G&&!o&&fne.includes(X)?(i=1,r.interrupt?t(V):M(V)):yHe.includes(s.toLowerCase())?(i=6,G?(e.consume(V),y):r.interrupt?t(V):M(V)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(V):o?v(V):w(V))}return V===45||ld(V)?(e.consume(V),s+=String.fromCharCode(V),g):n(V)}function y(V){return V===62?(e.consume(V),r.interrupt?t:M):n(V)}function v(V){return Br(V)?(e.consume(V),v):k(V)}function w(V){return V===47?(e.consume(V),k):V===58||V===95||gf(V)?(e.consume(V),E):Br(V)?(e.consume(V),w):k(V)}function E(V){return V===45||V===46||V===58||V===95||ld(V)?(e.consume(V),E):_(V)}function _(V){return V===61?(e.consume(V),x):Br(V)?(e.consume(V),_):w(V)}function x(V){return V===null||V===60||V===61||V===62||V===96?n(V):V===34||V===39?(e.consume(V),l=V,S):Br(V)?(e.consume(V),x):C(V)}function S(V){return V===l?(e.consume(V),l=null,A):V===null||Xn(V)?n(V):(e.consume(V),S)}function C(V){return V===null||V===34||V===39||V===47||V===60||V===61||V===62||V===96||dc(V)?_(V):(e.consume(V),C)}function A(V){return V===47||V===62||Br(V)?w(V):n(V)}function k(V){return V===62?(e.consume(V),N):n(V)}function N(V){return V===null||Xn(V)?M(V):Br(V)?(e.consume(V),N):n(V)}function M(V){return V===45&&i===2?(e.consume(V),O):V===60&&i===1?(e.consume(V),B):V===62&&i===4?(e.consume(V),F):V===63&&i===3?(e.consume(V),U):V===93&&i===5?(e.consume(V),W):Xn(V)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(bHe,Y,I)(V)):V===null||Xn(V)?(e.exit("htmlFlowData"),I(V)):(e.consume(V),M)}function I(V){return e.check(wHe,D,Y)(V)}function D(V){return e.enter("lineEnding"),e.consume(V),e.exit("lineEnding"),R}function R(V){return V===null||Xn(V)?I(V):(e.enter("htmlFlowData"),M(V))}function O(V){return V===45?(e.consume(V),U):M(V)}function B(V){return V===47?(e.consume(V),s="",z):M(V)}function z(V){if(V===62){const G=s.toLowerCase();return fne.includes(G)?(e.consume(V),F):M(V)}return gf(V)&&s.length<8?(e.consume(V),s+=String.fromCharCode(V),z):M(V)}function W(V){return V===93?(e.consume(V),U):M(V)}function U(V){return V===62?(e.consume(V),F):V===45&&i===2?(e.consume(V),U):M(V)}function F(V){return V===null||Xn(V)?(e.exit("htmlFlowData"),Y(V)):(e.consume(V),F)}function Y(V){return e.exit("htmlFlow"),t(V)}}function EHe(e,t,n){const r=this;return i;function i(s){return Xn(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),o):n(s)}function o(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}function SHe(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt($P,t,n)}}const THe={name:"htmlText",tokenize:CHe};function CHe(e,t,n){const r=this;let i,o,s;return a;function a(U){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(U),l}function l(U){return U===33?(e.consume(U),u):U===47?(e.consume(U),_):U===63?(e.consume(U),w):gf(U)?(e.consume(U),C):n(U)}function u(U){return U===45?(e.consume(U),c):U===91?(e.consume(U),o=0,p):gf(U)?(e.consume(U),v):n(U)}function c(U){return U===45?(e.consume(U),h):n(U)}function d(U){return U===null?n(U):U===45?(e.consume(U),f):Xn(U)?(s=d,B(U)):(e.consume(U),d)}function f(U){return U===45?(e.consume(U),h):d(U)}function h(U){return U===62?O(U):U===45?f(U):d(U)}function p(U){const F="CDATA[";return U===F.charCodeAt(o++)?(e.consume(U),o===F.length?m:p):n(U)}function m(U){return U===null?n(U):U===93?(e.consume(U),g):Xn(U)?(s=m,B(U)):(e.consume(U),m)}function g(U){return U===93?(e.consume(U),y):m(U)}function y(U){return U===62?O(U):U===93?(e.consume(U),y):m(U)}function v(U){return U===null||U===62?O(U):Xn(U)?(s=v,B(U)):(e.consume(U),v)}function w(U){return U===null?n(U):U===63?(e.consume(U),E):Xn(U)?(s=w,B(U)):(e.consume(U),w)}function E(U){return U===62?O(U):w(U)}function _(U){return gf(U)?(e.consume(U),x):n(U)}function x(U){return U===45||ld(U)?(e.consume(U),x):S(U)}function S(U){return Xn(U)?(s=S,B(U)):Br(U)?(e.consume(U),S):O(U)}function C(U){return U===45||ld(U)?(e.consume(U),C):U===47||U===62||dc(U)?A(U):n(U)}function A(U){return U===47?(e.consume(U),O):U===58||U===95||gf(U)?(e.consume(U),k):Xn(U)?(s=A,B(U)):Br(U)?(e.consume(U),A):O(U)}function k(U){return U===45||U===46||U===58||U===95||ld(U)?(e.consume(U),k):N(U)}function N(U){return U===61?(e.consume(U),M):Xn(U)?(s=N,B(U)):Br(U)?(e.consume(U),N):A(U)}function M(U){return U===null||U===60||U===61||U===62||U===96?n(U):U===34||U===39?(e.consume(U),i=U,I):Xn(U)?(s=M,B(U)):Br(U)?(e.consume(U),M):(e.consume(U),D)}function I(U){return U===i?(e.consume(U),i=void 0,R):U===null?n(U):Xn(U)?(s=I,B(U)):(e.consume(U),I)}function D(U){return U===null||U===34||U===39||U===60||U===61||U===96?n(U):U===47||U===62||dc(U)?A(U):(e.consume(U),D)}function R(U){return U===47||U===62||dc(U)?A(U):n(U)}function O(U){return U===62?(e.consume(U),e.exit("htmlTextData"),e.exit("htmlText"),t):n(U)}function B(U){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(U),e.exit("lineEnding"),z}function z(U){return Br(U)?mo(e,W,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(U):W(U)}function W(U){return e.enter("htmlTextData"),s(U)}}const fV={name:"labelEnd",resolveAll:RHe,resolveTo:DHe,tokenize:$He},AHe={tokenize:MHe},kHe={tokenize:PHe},IHe={tokenize:NHe};function RHe(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Rx(e,0,e.length,n),e}function DHe(e,t){let n=e.length,r=0,i,o,s,a;for(;n--;)if(i=e[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[o][1].start},end:{...e[s][1].end}},c={type:"labelText",start:{...e[o+r+2][1].end},end:{...e[s-2][1].start}};return a=[["enter",l,t],["enter",u,t]],a=Zc(a,e.slice(o+1,o+r+3)),a=Zc(a,[["enter",c,t]]),a=Zc(a,Oye(t.parser.constructs.insideSpan.null,e.slice(o+r+4,s-3),t)),a=Zc(a,[["exit",c,t],e[s-2],e[s-1],["exit",u,t]]),a=Zc(a,e.slice(s+1)),a=Zc(a,[["exit",l,t]]),Rx(e,o,e.length,a),e}function $He(e,t,n){const r=this;let i=r.events.length,o,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return a;function a(f){return o?o._inactive?d(f):(s=r.parser.defined.includes(dV(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelEnd"),l):n(f)}function l(f){return f===40?e.attempt(AHe,c,s?c:d)(f):f===91?e.attempt(kHe,c,s?u:d)(f):s?c(f):d(f)}function u(f){return e.attempt(IHe,c,d)(f)}function c(f){return t(f)}function d(f){return o._balanced=!0,n(f)}}function MHe(e,t,n){return r;function r(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),i}function i(d){return dc(d)?DS(e,o)(d):o(d)}function o(d){return d===41?c(d):jye(e,s,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function s(d){return dc(d)?DS(e,l)(d):c(d)}function a(d){return n(d)}function l(d){return d===34||d===39||d===40?Uye(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):c(d)}function u(d){return dc(d)?DS(e,c)(d):c(d)}function c(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),t):n(d)}}function PHe(e,t,n){const r=this;return i;function i(a){return zye.call(r,e,o,s,"reference","referenceMarker","referenceString")(a)}function o(a){return r.parser.defined.includes(dV(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function s(a){return n(a)}}function NHe(e,t,n){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),i}function i(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const OHe={name:"labelStartImage",resolveAll:fV.resolveAll,tokenize:LHe};function LHe(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),o}function o(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),s):n(a)}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const FHe={name:"labelStartLink",resolveAll:fV.resolveAll,tokenize:BHe};function BHe(e,t,n){const r=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),o}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const qF={name:"lineEnding",tokenize:jHe};function jHe(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),mo(e,t,"linePrefix")}}const CI={name:"thematicBreak",tokenize:zHe};function zHe(e,t,n){let r=0,i;return o;function o(u){return e.enter("thematicBreak"),s(u)}function s(u){return i=u,a(u)}function a(u){return u===i?(e.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||Xn(u))?(e.exit("thematicBreak"),t(u)):n(u)}function l(u){return u===i?(e.consume(u),r++,l):(e.exit("thematicBreakSequence"),Br(u)?mo(e,a,"whitespace")(u):a(u))}}const Tl={continuation:{tokenize:WHe},exit:GHe,name:"list",tokenize:VHe},UHe={partial:!0,tokenize:YHe},HHe={partial:!0,tokenize:qHe};function VHe(e,t,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return a;function a(h){const p=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:ej(h)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(CI,n,u)(h):u(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(h)}return n(h)}function l(h){return ej(h)&&++s<10?(e.consume(h),l):(!r.interrupt||s<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),u(h)):n(h)}function u(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check($P,r.interrupt?n:c,e.attempt(UHe,f,d))}function c(h){return r.containerState.initialBlankLine=!0,o++,f(h)}function d(h){return Br(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),f):n(h)}function f(h){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function WHe(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check($P,i,o);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,mo(e,t,"listItemIndent",r.containerState.size+1)(a)}function o(a){return r.containerState.furtherBlankLines||!Br(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(HHe,t,s)(a))}function s(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,mo(e,e.attempt(Tl,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function qHe(e,t,n){const r=this;return mo(e,i,"listItemIndent",r.containerState.size+1);function i(o){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(o):n(o)}}function GHe(e){e.exit(this.containerState.type)}function YHe(e,t,n){const r=this;return mo(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const s=r.events[r.events.length-1];return!Br(o)&&s&&s[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const hne={name:"setextUnderline",resolveTo:KHe,tokenize:XHe};function KHe(e,t){let n=e.length,r,i,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const s={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",o?(e.splice(i,0,["enter",s,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end={...e[o][1].end}):e[r][1]=s,e.push(["exit",s,t]),e}function XHe(e,t,n){const r=this;let i;return o;function o(u){let c=r.events.length,d;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){d=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(e.enter("setextHeadingLine"),i=u,s(u)):n(u)}function s(u){return e.enter("setextHeadingLineSequence"),a(u)}function a(u){return u===i?(e.consume(u),a):(e.exit("setextHeadingLineSequence"),Br(u)?mo(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||Xn(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const QHe={tokenize:JHe};function JHe(e){const t=this,n=e.attempt($P,r,e.attempt(this.parser.constructs.flowInitial,i,cV(e,e.attempt(this.parser.constructs.flow,i,e.attempt(QUe,i)),"linePrefix")));return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const ZHe={resolveAll:Vye()},eVe=Hye("string"),tVe=Hye("text");function Hye(e){return{resolveAll:Vye(e==="text"?nVe:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],o=n.attempt(i,s,a);return s;function s(c){return u(c)?o(c):a(c)}function a(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),l}function l(c){return u(c)?(n.exit("data"),o(c)):(n.consume(c),l)}function u(c){if(c===null)return!0;const d=i[c];let f=-1;if(d)for(;++f<d.length;){const h=d[f];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function Vye(e){return t;function t(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return e?e(n,r):n}}function nVe(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let o=i.length,s=-1,a=0,l;for(;o--;){const u=i[o];if(typeof u=="string"){for(s=u.length;u.charCodeAt(s-1)===32;)a++,s--;if(s)break;s=-1}else if(u===-2)l=!0,a++;else if(u!==-1){o++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(a=0),a){const u={type:n===e.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?s:r.start._bufferIndex+s,_index:r.start._index+o,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const rVe={42:Tl,43:Tl,45:Tl,48:Tl,49:Tl,50:Tl,51:Tl,52:Tl,53:Tl,54:Tl,55:Tl,56:Tl,57:Tl,62:Lye},iVe={91:lHe},oVe={[-2]:WF,[-1]:WF,32:WF},sVe={35:pHe,42:CI,45:[hne,CI],60:vHe,61:hne,95:CI,96:ane,126:ane},aVe={38:Bye,92:Fye},lVe={[-5]:qF,[-4]:qF,[-3]:qF,33:OHe,38:Bye,42:Z8,60:[DUe,THe],91:FHe,92:[fHe,Fye],93:fV,95:Z8,96:VUe},uVe={null:[Z8,ZHe]},cVe={null:[42,95]},dVe={null:[]},fVe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:cVe,contentInitial:iVe,disable:dVe,document:rVe,flow:sVe,flowInitial:oVe,insideSpan:uVe,string:aVe,text:lVe},Symbol.toStringTag,{value:"Module"}));function hVe(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}function pVe(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let s=[],a=[];const l={attempt:S(_),check:S(x),consume:v,enter:w,exit:E,interrupt:S(x,{interrupt:!0})},u={code:null,containerState:{},defineSkip:m,events:[],now:p,parser:e,previous:null,sliceSerialize:f,sliceStream:h,write:d};let c=t.tokenize.call(u,l);return t.resolveAll&&o.push(t),u;function d(N){return s=fUe(s,N),g(),s[s.length-1]!==null?[]:(C(t,0),u.events=hVe(o,u.events,u),u.events)}function f(N,M){return gVe(h(N),M)}function h(N){return mVe(s,N)}function p(){const{_bufferIndex:N,_index:M,line:I,column:D,offset:R}=r;return{_bufferIndex:N,_index:M,line:I,column:D,offset:R}}function m(N){i[N.line]=N.column,k()}function g(){let N;for(;r._index<s.length;){const M=s[r._index];if(typeof M=="string")for(N=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===N&&r._bufferIndex<M.length;)y(M.charCodeAt(r._bufferIndex));else y(M)}}function y(N){c=c(N)}function v(N){uV(N)?(r.line++,r.column=1,r.offset+=N===-3?2:1,k()):N!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=N}function w(N,M){const I=M||{};return I.type=N,I.start=p(),u.events.push(["enter",I,u]),a.push(I),I}function E(N){const M=a.pop();return M.end=p(),u.events.push(["exit",M,u]),M}function _(N,M){C(N,M.from)}function x(N,M){M.restore()}function S(N,M){return I;function I(D,R,O){let B,z,W,U;return Array.isArray(D)?Y(D):"tokenize"in D?Y([D]):F(D);function F(Z){return oe;function oe(ne){const ie=ne!==null&&Z[ne],fe=ne!==null&&Z.null,se=[...Array.isArray(ie)?ie:ie?[ie]:[],...Array.isArray(fe)?fe:fe?[fe]:[]];return Y(se)(ne)}}function Y(Z){return B=Z,z=0,Z.length===0?O:V(Z[z])}function V(Z){return oe;function oe(ne){return U=A(),W=Z,Z.partial||(u.currentConstruct=Z),Z.name&&u.parser.constructs.disable.null.includes(Z.name)?X():Z.tokenize.call(M?Object.assign(Object.create(u),M):u,l,G,X)(ne)}}function G(Z){return N(W,U),R}function X(Z){return U.restore(),++z<B.length?V(B[z]):O}}}function C(N,M){N.resolveAll&&!o.includes(N)&&o.push(N),N.resolve&&vT(u.events,M,u.events.length-M,N.resolve(u.events.slice(M),u)),N.resolveTo&&(u.events=N.resolveTo(u.events,u))}function A(){const N=p(),M=u.previous,I=u.currentConstruct,D=u.events.length,R=Array.from(a);return{from:D,restore:O};function O(){r=N,u.previous=M,u.currentConstruct=I,u.events.length=D,a=R,k()}}function k(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function mVe(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex;let s;if(n===i)s=[e[n].slice(r,o)];else{if(s=e.slice(n,i),r>-1){const a=s[0];typeof a=="string"?s[0]=a.slice(r):s.shift()}o>0&&s.push(e[i].slice(0,o))}return s}function gVe(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const o=e[n];let s;if(typeof o=="string")s=o;else switch(o){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&i)continue;s=" ";break}default:s=String.fromCharCode(o)}i=o===-2,r.push(s)}return r.join("")}function yVe(e){const r={constructs:pUe([fVe,...(e||{}).extensions||[]]),content:i(yUe),defined:[],document:i(bUe),flow:i(QHe),lazy:{},string:i(eVe),text:i(tVe)};return r;function i(o){return s;function s(a){return pVe(r,o,a)}}}class vVe{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&nE(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),nE(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),nE(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);nE(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);nE(this.left,n.reverse())}}}function nE(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function bVe(e){const t={};let n=-1,r,i,o,s,a,l,u;const c=new vVe(e);for(;++n<c.length;){for(;n in t;)n=t[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,o=0,o<l.length&&l[o][1].type==="lineEndingBlank"&&(o+=2),o<l.length&&l[o][1].type==="content"))for(;++o<l.length&&l[o][1].type!=="content";)l[o][1].type==="chunkText"&&(l[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,wVe(c,n)),n=t[n],u=!0);else if(r[1]._container){for(o=n,i=void 0;o--;)if(s=c.get(o),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=o);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(r[1].end={...c.get(i)[1].start},a=c.slice(i,n),a.unshift(r),c.splice(i,n-i+1,a))}}return vT(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function wVe(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const o=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const a=s.events,l=[],u={};let c,d,f=-1,h=n,p=0,m=0;const g=[m];for(;h;){for(;e.get(++i)[1]!==h;);o.push(i),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),d&&s.defineSkip(h.start),h._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(c),h._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),d=h,h=h.next}for(h=n;++f<a.length;)a[f][0]==="exit"&&a[f-1][0]==="enter"&&a[f][1].type===a[f-1][1].type&&a[f][1].start.line!==a[f][1].end.line&&(m=f+1,g.push(m),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(s.events=[],h?(h._tokenizer=void 0,h.previous=void 0):g.pop(),f=g.length;f--;){const y=a.slice(g[f],g[f+1]),v=o.pop();l.push([v,v+y.length-1]),e.splice(v,2,y)}for(l.reverse(),f=-1;++f<l.length;)u[p+l[f][0]]=p+l[f][1],p+=l[f][1]-l[f][0]-1;return u}function xVe(e){for(;!bVe(e););return e}const pne=/[\0\t\n\r]/g;function _Ve(){let e=1,t="",n=!0,r;return i;function i(o,s,a){const l=[];let u,c,d,f,h;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(s||void 0).decode(o)),d=0,t="",n&&(o.charCodeAt(0)===65279&&d++,n=void 0);d<o.length;){if(pne.lastIndex=d,u=pne.exec(o),f=u&&u.index!==void 0?u.index:o.length,h=o.charCodeAt(f),!u){t=o.slice(d);break}if(h===10&&d===f&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<f&&(l.push(o.slice(d,f)),e+=f-d),h){case 0:{l.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,l.push(-2);e++<c;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}d=f+1}return a&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}function EVe(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function SVe(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}const TVe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function CVe(e){return e.replace(TVe,AVe)}function AVe(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return SVe(n.slice(o?2:1),o?16:10)}return lV(n)||e}function GF(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}function AI(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?mne(e.position):"start"in e||"end"in e?mne(e):"line"in e||"column"in e?nj(e):""}function nj(e){return gne(e&&e.line)+":"+gne(e&&e.column)}function mne(e){return nj(e&&e.start)+"-"+nj(e&&e.end)}function gne(e){return e&&typeof e=="number"?e:1}const Wye={}.hasOwnProperty;function kVe(e,t,n){return typeof t!="string"&&(n=t,t=void 0),IVe(n)(xVe(yVe(n).document().write(_Ve()(e,t,!0))))}function IVe(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(rt),autolinkProtocol:A,autolinkEmail:A,atxHeading:o(Oe),blockQuote:o(fe),characterEscape:A,characterReference:A,codeFenced:o(se),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:o(se,s),codeText:o(ae,s),codeTextData:A,data:A,codeFlowValue:A,definition:o(Se),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:o(Te),hardBreakEscape:o(We),hardBreakTrailing:o(We),htmlFlow:o(Fe,s),htmlFlowData:A,htmlText:o(Fe,s),htmlTextData:A,image:o(Ue),label:s,link:o(rt),listItem:o(ct),listItemValue:f,listOrdered:o(at,d),listUnordered:o(at),paragraph:o(vt),reference:V,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:o(Oe),strong:o(gt),thematicBreak:o(Tt)},exit:{atxHeading:l(),atxHeadingSequence:_,autolink:l(),autolinkEmail:ie,autolinkProtocol:ne,blockQuote:l(),characterEscapeValue:k,characterReferenceMarkerHexadecimal:X,characterReferenceMarkerNumeric:X,characterReferenceValue:Z,characterReference:oe,codeFenced:l(g),codeFencedFence:m,codeFencedFenceInfo:h,codeFencedFenceMeta:p,codeFlowValue:k,codeIndented:l(y),codeText:l(R),codeTextData:k,data:k,definition:l(),definitionDestinationString:E,definitionLabelString:v,definitionTitleString:w,emphasis:l(),hardBreakEscape:l(M),hardBreakTrailing:l(M),htmlFlow:l(I),htmlFlowData:k,htmlText:l(D),htmlTextData:k,image:l(B),label:W,labelText:z,lineEnding:N,link:l(O),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:G,resourceDestinationString:U,resourceTitleString:F,resource:Y,setextHeading:l(C),setextHeadingLineSequence:S,setextHeadingText:x,strong:l(),thematicBreak:l()}};qye(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(ue){let xe={type:"root",children:[]};const $e={stack:[xe],tokenStack:[],config:t,enter:a,exit:u,buffer:s,resume:c,data:n},Ye=[];let tt=-1;for(;++tt<ue.length;)if(ue[tt][1].type==="listOrdered"||ue[tt][1].type==="listUnordered")if(ue[tt][0]==="enter")Ye.push(tt);else{const Et=Ye.pop();tt=i(ue,Et,tt)}for(tt=-1;++tt<ue.length;){const Et=t[ue[tt][0]];Wye.call(Et,ue[tt][1].type)&&Et[ue[tt][1].type].call(Object.assign({sliceSerialize:ue[tt][2].sliceSerialize},$e),ue[tt][1])}if($e.tokenStack.length>0){const Et=$e.tokenStack[$e.tokenStack.length-1];(Et[1]||yne).call($e,void 0,Et[0])}for(xe.position={start:Cm(ue.length>0?ue[0][1].start:{line:1,column:1,offset:0}),end:Cm(ue.length>0?ue[ue.length-2][1].end:{line:1,column:1,offset:0})},tt=-1;++tt<t.transforms.length;)xe=t.transforms[tt](xe)||xe;return xe}function i(ue,xe,$e){let Ye=xe-1,tt=-1,Et=!1,an,ln,Wt,Dt;for(;++Ye<=$e;){const Ae=ue[Ye];switch(Ae[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ae[0]==="enter"?tt++:tt--,Dt=void 0;break}case"lineEndingBlank":{Ae[0]==="enter"&&(an&&!Dt&&!tt&&!Wt&&(Wt=Ye),Dt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Dt=void 0}if(!tt&&Ae[0]==="enter"&&Ae[1].type==="listItemPrefix"||tt===-1&&Ae[0]==="exit"&&(Ae[1].type==="listUnordered"||Ae[1].type==="listOrdered")){if(an){let Qe=Ye;for(ln=void 0;Qe--;){const Ct=ue[Qe];if(Ct[1].type==="lineEnding"||Ct[1].type==="lineEndingBlank"){if(Ct[0]==="exit")continue;ln&&(ue[ln][1].type="lineEndingBlank",Et=!0),Ct[1].type="lineEnding",ln=Qe}else if(!(Ct[1].type==="linePrefix"||Ct[1].type==="blockQuotePrefix"||Ct[1].type==="blockQuotePrefixWhitespace"||Ct[1].type==="blockQuoteMarker"||Ct[1].type==="listItemIndent"))break}Wt&&(!ln||Wt<ln)&&(an._spread=!0),an.end=Object.assign({},ln?ue[ln][1].start:Ae[1].end),ue.splice(ln||Ye,0,["exit",an,Ae[2]]),Ye++,$e++}if(Ae[1].type==="listItemPrefix"){const Qe={type:"listItem",_spread:!1,start:Object.assign({},Ae[1].start),end:void 0};an=Qe,ue.splice(Ye,0,["enter",Qe,Ae[2]]),Ye++,$e++,Wt=void 0,Dt=!0}}}return ue[xe][1]._spread=Et,$e}function o(ue,xe){return $e;function $e(Ye){a.call(this,ue(Ye),Ye),xe&&xe.call(this,Ye)}}function s(){this.stack.push({type:"fragment",children:[]})}function a(ue,xe,$e){this.stack[this.stack.length-1].children.push(ue),this.stack.push(ue),this.tokenStack.push([xe,$e||void 0]),ue.position={start:Cm(xe.start),end:void 0}}function l(ue){return xe;function xe($e){ue&&ue.call(this,$e),u.call(this,$e)}}function u(ue,xe){const $e=this.stack.pop(),Ye=this.tokenStack.pop();if(Ye)Ye[0].type!==ue.type&&(xe?xe.call(this,ue,Ye[0]):(Ye[1]||yne).call(this,ue,Ye[0]));else throw new Error("Cannot close `"+ue.type+"` ("+AI({start:ue.start,end:ue.end})+"): its not open");$e.position.end=Cm(ue.end)}function c(){return cUe(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function f(ue){if(this.data.expectingFirstListItemValue){const xe=this.stack[this.stack.length-2];xe.start=Number.parseInt(this.sliceSerialize(ue),10),this.data.expectingFirstListItemValue=void 0}}function h(){const ue=this.resume(),xe=this.stack[this.stack.length-1];xe.lang=ue}function p(){const ue=this.resume(),xe=this.stack[this.stack.length-1];xe.meta=ue}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function g(){const ue=this.resume(),xe=this.stack[this.stack.length-1];xe.value=ue.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const ue=this.resume(),xe=this.stack[this.stack.length-1];xe.value=ue.replace(/(\r?\n|\r)$/g,"")}function v(ue){const xe=this.resume(),$e=this.stack[this.stack.length-1];$e.label=xe,$e.identifier=GF(this.sliceSerialize(ue)).toLowerCase()}function w(){const ue=this.resume(),xe=this.stack[this.stack.length-1];xe.title=ue}function E(){const ue=this.resume(),xe=this.stack[this.stack.length-1];xe.url=ue}function _(ue){const xe=this.stack[this.stack.length-1];if(!xe.depth){const $e=this.sliceSerialize(ue).length;xe.depth=$e}}function x(){this.data.setextHeadingSlurpLineEnding=!0}function S(ue){const xe=this.stack[this.stack.length-1];xe.depth=this.sliceSerialize(ue).codePointAt(0)===61?1:2}function C(){this.data.setextHeadingSlurpLineEnding=void 0}function A(ue){const $e=this.stack[this.stack.length-1].children;let Ye=$e[$e.length-1];(!Ye||Ye.type!=="text")&&(Ye=Ze(),Ye.position={start:Cm(ue.start),end:void 0},$e.push(Ye)),this.stack.push(Ye)}function k(ue){const xe=this.stack.pop();xe.value+=this.sliceSerialize(ue),xe.position.end=Cm(ue.end)}function N(ue){const xe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const $e=xe.children[xe.children.length-1];$e.position.end=Cm(ue.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(xe.type)&&(A.call(this,ue),k.call(this,ue))}function M(){this.data.atHardBreak=!0}function I(){const ue=this.resume(),xe=this.stack[this.stack.length-1];xe.value=ue}function D(){const ue=this.resume(),xe=this.stack[this.stack.length-1];xe.value=ue}function R(){const ue=this.resume(),xe=this.stack[this.stack.length-1];xe.value=ue}function O(){const ue=this.stack[this.stack.length-1];if(this.data.inReference){const xe=this.data.referenceType||"shortcut";ue.type+="Reference",ue.referenceType=xe,delete ue.url,delete ue.title}else delete ue.identifier,delete ue.label;this.data.referenceType=void 0}function B(){const ue=this.stack[this.stack.length-1];if(this.data.inReference){const xe=this.data.referenceType||"shortcut";ue.type+="Reference",ue.referenceType=xe,delete ue.url,delete ue.title}else delete ue.identifier,delete ue.label;this.data.referenceType=void 0}function z(ue){const xe=this.sliceSerialize(ue),$e=this.stack[this.stack.length-2];$e.label=CVe(xe),$e.identifier=GF(xe).toLowerCase()}function W(){const ue=this.stack[this.stack.length-1],xe=this.resume(),$e=this.stack[this.stack.length-1];if(this.data.inReference=!0,$e.type==="link"){const Ye=ue.children;$e.children=Ye}else $e.alt=xe}function U(){const ue=this.resume(),xe=this.stack[this.stack.length-1];xe.url=ue}function F(){const ue=this.resume(),xe=this.stack[this.stack.length-1];xe.title=ue}function Y(){this.data.inReference=void 0}function V(){this.data.referenceType="collapsed"}function G(ue){const xe=this.resume(),$e=this.stack[this.stack.length-1];$e.label=xe,$e.identifier=GF(this.sliceSerialize(ue)).toLowerCase(),this.data.referenceType="full"}function X(ue){this.data.characterReferenceType=ue.type}function Z(ue){const xe=this.sliceSerialize(ue),$e=this.data.characterReferenceType;let Ye;$e?(Ye=EVe(xe,$e==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ye=lV(xe);const tt=this.stack[this.stack.length-1];tt.value+=Ye}function oe(ue){const xe=this.stack.pop();xe.position.end=Cm(ue.end)}function ne(ue){k.call(this,ue);const xe=this.stack[this.stack.length-1];xe.url=this.sliceSerialize(ue)}function ie(ue){k.call(this,ue);const xe=this.stack[this.stack.length-1];xe.url="mailto:"+this.sliceSerialize(ue)}function fe(){return{type:"blockquote",children:[]}}function se(){return{type:"code",lang:null,meta:null,value:""}}function ae(){return{type:"inlineCode",value:""}}function Se(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Te(){return{type:"emphasis",children:[]}}function Oe(){return{type:"heading",depth:0,children:[]}}function We(){return{type:"break"}}function Fe(){return{type:"html",value:""}}function Ue(){return{type:"image",title:null,url:"",alt:null}}function rt(){return{type:"link",title:null,url:"",children:[]}}function at(ue){return{type:"list",ordered:ue.type==="listOrdered",start:null,spread:ue._spread,children:[]}}function ct(ue){return{type:"listItem",spread:ue._spread,checked:null,children:[]}}function vt(){return{type:"paragraph",children:[]}}function gt(){return{type:"strong",children:[]}}function Ze(){return{type:"text",value:""}}function Tt(){return{type:"thematicBreak"}}}function Cm(e){return{line:e.line,column:e.column,offset:e.offset}}function qye(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?qye(e,r):RVe(e,r)}}function RVe(e,t){let n;for(n in t)if(Wye.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function yne(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+AI({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+AI({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+AI({start:t.start,end:t.end})+") is still open")}function DVe(e){const t=this;t.parser=n;function n(r){return kVe(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function $Ve(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function MVe(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function PVe(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function NVe(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function OVe(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const vne=LVe(/[\dA-Za-z]/);function LVe(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function $x(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const o=e.charCodeAt(n);let s="";if(o===37&&vne(e.charCodeAt(n+1))&&vne(e.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(s=String.fromCharCode(o));else if(o>55295&&o<57344){const a=e.charCodeAt(n+1);o<56320&&a>56319&&a<57344?(s=String.fromCharCode(o,a),i=1):s=""}else s=String.fromCharCode(o);s&&(t.push(e.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function FVe(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=$x(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let s,a=e.footnoteCounts.get(r);a===void 0?(a=0,e.footnoteOrder.push(r),s=e.footnoteOrder.length):s=o+1,a+=1,e.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function BVe(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function jVe(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function Gye(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function zVe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Gye(e,t);const i={src:$x(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,o),e.applyData(t,o)}function UVe(e,t){const n={src:$x(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function HVe(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function VVe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Gye(e,t);const i={href:$x(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function WVe(e,t){const n={href:$x(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function qVe(e,t,n){const r=e.all(t),i=n?GVe(n):Yye(t),o={},s=[];if(typeof t.checked=="boolean"){const c=r[0];let d;c&&c.type==="element"&&c.tagName==="p"?d=c:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const c=r[a];(i||a!==0||c.type!=="element"||c.tagName!=="p")&&s.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?s.push(...c.children):s.push(c)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:o,children:s};return e.patch(t,u),e.applyData(t,u)}function GVe(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Yye(n[r])}return t}function Yye(e){const t=e.spread;return t??e.children.length>1}function YVe(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)}function KVe(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function XVe(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function QVe(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function JVe(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=ah(t.children[1]),l=DP(t.children[t.children.length-1]);a&&l&&(s.position={start:a,end:l}),i.push(s)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)}function ZVe(e,t,n){const r=n?n.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,a=s?s.length:t.children.length;let l=-1;const u=[];for(;++l<a;){const d=t.children[l],f={},h=s?s[l]:void 0;h&&(f.align=h);let p={type:"element",tagName:o,properties:f,children:[]};d&&(p.children=e.all(d),e.patch(d,p),p=e.applyData(d,p)),u.push(p)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,c),e.applyData(t,c)}function eWe(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const bne=9,wne=32;function tWe(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const o=[];for(;r;)o.push(xne(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return o.push(xne(t.slice(i),i>0,!1)),o.join("")}function xne(e,t,n){let r=0,i=e.length;if(t){let o=e.codePointAt(r);for(;o===bne||o===wne;)r++,o=e.codePointAt(r)}if(n){let o=e.codePointAt(i-1);for(;o===bne||o===wne;)i--,o=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function nWe(e,t){const n={type:"text",value:tWe(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function rWe(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const iWe={blockquote:$Ve,break:MVe,code:PVe,delete:NVe,emphasis:OVe,footnoteReference:FVe,heading:BVe,html:jVe,imageReference:zVe,image:UVe,inlineCode:HVe,linkReference:VVe,link:WVe,listItem:qVe,list:YVe,paragraph:KVe,root:XVe,strong:QVe,table:JVe,tableCell:eWe,tableRow:ZVe,text:nWe,thematicBreak:rWe,toml:vk,yaml:vk,definition:vk,footnoteDefinition:vk};function vk(){}const Kye=-1,MP=0,$S=1,wD=2,hV=3,pV=4,mV=5,gV=6,Xye=7,Qye=8,_ne=typeof self=="object"?self:globalThis,oWe=(e,t)=>{const n=(i,o)=>(e.set(o,i),i),r=i=>{if(e.has(i))return e.get(i);const[o,s]=t[i];switch(o){case MP:case Kye:return n(s,i);case $S:{const a=n([],i);for(const l of s)a.push(r(l));return a}case wD:{const a=n({},i);for(const[l,u]of s)a[r(l)]=r(u);return a}case hV:return n(new Date(s),i);case pV:{const{source:a,flags:l}=s;return n(new RegExp(a,l),i)}case mV:{const a=n(new Map,i);for(const[l,u]of s)a.set(r(l),r(u));return a}case gV:{const a=n(new Set,i);for(const l of s)a.add(r(l));return a}case Xye:{const{name:a,message:l}=s;return n(new _ne[a](l),i)}case Qye:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:a}=new Uint8Array(s);return n(new DataView(a),s)}}return n(new _ne[o](s),i)};return r},Ene=e=>oWe(new Map,e)(0),Jb="",{toString:sWe}={},{keys:aWe}=Object,rE=e=>{const t=typeof e;if(t!=="object"||!e)return[MP,t];const n=sWe.call(e).slice(8,-1);switch(n){case"Array":return[$S,Jb];case"Object":return[wD,Jb];case"Date":return[hV,Jb];case"RegExp":return[pV,Jb];case"Map":return[mV,Jb];case"Set":return[gV,Jb];case"DataView":return[$S,n]}return n.includes("Array")?[$S,n]:n.includes("Error")?[Xye,n]:[wD,n]},bk=([e,t])=>e===MP&&(t==="function"||t==="symbol"),lWe=(e,t,n,r)=>{const i=(s,a)=>{const l=r.push(s)-1;return n.set(a,l),l},o=s=>{if(n.has(s))return n.get(s);let[a,l]=rE(s);switch(a){case MP:{let c=s;switch(l){case"bigint":a=Qye,c=s.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);c=null;break;case"undefined":return i([Kye],s)}return i([a,c],s)}case $S:{if(l){let f=s;return l==="DataView"?f=new Uint8Array(s.buffer):l==="ArrayBuffer"&&(f=new Uint8Array(s)),i([l,[...f]],s)}const c=[],d=i([a,c],s);for(const f of s)c.push(o(f));return d}case wD:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(t&&"toJSON"in s)return o(s.toJSON());const c=[],d=i([a,c],s);for(const f of aWe(s))(e||!bk(rE(s[f])))&&c.push([o(f),o(s[f])]);return d}case hV:return i([a,s.toISOString()],s);case pV:{const{source:c,flags:d}=s;return i([a,{source:c,flags:d}],s)}case mV:{const c=[],d=i([a,c],s);for(const[f,h]of s)(e||!(bk(rE(f))||bk(rE(h))))&&c.push([o(f),o(h)]);return d}case gV:{const c=[],d=i([a,c],s);for(const f of s)(e||!bk(rE(f)))&&c.push(o(f));return d}}const{message:u}=s;return i([a,{name:l,message:u}],s)};return o},Sne=(e,{json:t,lossy:n}={})=>{const r=[];return lWe(!(t||n),!!t,new Map,r)(e),r},gw=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Ene(Sne(e,t)):structuredClone(e):(e,t)=>Ene(Sne(e,t));function uWe(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function cWe(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function dWe(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||uWe,r=e.options.footnoteBackLabel||cWe,i=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const c=e.all(u),d=String(u.identifier).toUpperCase(),f=$x(d.toLowerCase());let h=0;const p=[],m=e.footnoteCounts.get(d);for(;m!==void 0&&++h<=m;){p.length>0&&p.push({type:"text",value:" "});let v=typeof n=="string"?n:n(l,h);typeof v=="string"&&(v={type:"text",value:v}),p.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+f+(h>1?"-"+h:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,h),className:["data-footnote-backref"]},children:Array.isArray(v)?v:[v]})}const g=c[c.length-1];if(g&&g.type==="element"&&g.tagName==="p"){const v=g.children[g.children.length-1];v&&v.type==="text"?v.value+=" ":g.children.push({type:"text",value:" "}),g.children.push(...p)}else c.push(...p);const y={type:"element",tagName:"li",properties:{id:t+"fn-"+f},children:e.wrap(c,!0)};e.patch(u,y),a.push(y)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...gw(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const Jye=function(e){if(e==null)return mWe;if(typeof e=="function")return PP(e);if(typeof e=="object")return Array.isArray(e)?fWe(e):hWe(e);if(typeof e=="string")return pWe(e);throw new Error("Expected function, string, or object as test")};function fWe(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Jye(e[n]);return PP(r);function r(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}function hWe(e){const t=e;return PP(n);function n(r){const i=r;let o;for(o in e)if(i[o]!==t[o])return!1;return!0}}function pWe(e){return PP(t);function t(n){return n&&n.type===e}}function PP(e){return t;function t(n,r,i){return!!(gWe(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function mWe(){return!0}function gWe(e){return e!==null&&typeof e=="object"&&"type"in e}const Zye=[],yWe=!0,Tne=!1,vWe="skip";function bWe(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const o=Jye(i),s=r?-1:1;a(e,void 0,[])();function a(l,u,c){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const h=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(l.type+(h?"<"+h+">":""))+")"})}return f;function f(){let h=Zye,p,m,g;if((!t||o(l,u,c[c.length-1]||void 0))&&(h=wWe(n(l,c)),h[0]===Tne))return h;if("children"in l&&l.children){const y=l;if(y.children&&h[0]!==vWe)for(m=(r?y.children.length:-1)+s,g=c.concat(y);m>-1&&m<y.children.length;){const v=y.children[m];if(p=a(v,m,g)(),p[0]===Tne)return p;m=typeof p[1]=="number"?p[1]:m+s}}return h}}}function wWe(e){return Array.isArray(e)?e:typeof e=="number"?[yWe,e]:e==null?Zye:[e]}function yV(e,t,n,r){let i,o,s;typeof t=="function"&&typeof n!="function"?(o=void 0,s=t,i=n):(o=t,s=n,i=r),bWe(e,o,a,i);function a(l,u){const c=u[u.length-1],d=c?c.children.indexOf(l):void 0;return s(l,d,c)}}const rj={}.hasOwnProperty,xWe={};function _We(e,t){const n=t||xWe,r=new Map,i=new Map,o=new Map,s={...iWe,...n.handlers},a={all:u,applyData:SWe,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:s,one:l,options:n,patch:EWe,wrap:CWe};return yV(e,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const d=c.type==="definition"?r:i,f=String(c.identifier).toUpperCase();d.has(f)||d.set(f,c)}}),a;function l(c,d){const f=c.type,h=a.handlers[f];if(rj.call(a.handlers,f)&&h)return h(a,c,d);if(a.options.passThrough&&a.options.passThrough.includes(f)){if("children"in c){const{children:m,...g}=c,y=gw(g);return y.children=a.all(c),y}return gw(c)}return(a.options.unknownHandler||TWe)(a,c,d)}function u(c){const d=[];if("children"in c){const f=c.children;let h=-1;for(;++h<f.length;){const p=a.one(f[h],c);if(p){if(h&&f[h-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=Cne(p.value)),!Array.isArray(p)&&p.type==="element")){const m=p.children[0];m&&m.type==="text"&&(m.value=Cne(m.value))}Array.isArray(p)?d.push(...p):d.push(p)}}}return d}}function EWe(e,t){e.position&&(t.position=zze(e))}function SWe(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,o=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&o&&Object.assign(n.properties,gw(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function TWe(e,t){const n=t.data||{},r="value"in t&&!(rj.call(n,"hProperties")||rj.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function CWe(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Cne(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Ane(e,t){const n=_We(e,t),r=n.one(e,void 0),i=dWe(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function AWe(e,t){return e&&"run"in e?async function(n,r){const i=Ane(n,{file:r,...t});await e.run(i,r)}:function(n,r){return Ane(n,{file:r,...e||t})}}function kne(e){if(e)throw e}var YF,Ine;function kWe(){if(Ine)return YF;Ine=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(u){return typeof Array.isArray=="function"?Array.isArray(u):t.call(u)==="[object Array]"},o=function(u){if(!u||t.call(u)!=="[object Object]")return!1;var c=e.call(u,"constructor"),d=u.constructor&&u.constructor.prototype&&e.call(u.constructor.prototype,"isPrototypeOf");if(u.constructor&&!c&&!d)return!1;var f;for(f in u);return typeof f>"u"||e.call(u,f)},s=function(u,c){n&&c.name==="__proto__"?n(u,c.name,{enumerable:!0,configurable:!0,value:c.newValue,writable:!0}):u[c.name]=c.newValue},a=function(u,c){if(c==="__proto__")if(e.call(u,c)){if(r)return r(u,c).value}else return;return u[c]};return YF=function l(){var u,c,d,f,h,p,m=arguments[0],g=1,y=arguments.length,v=!1;for(typeof m=="boolean"&&(v=m,m=arguments[1]||{},g=2),(m==null||typeof m!="object"&&typeof m!="function")&&(m={});g<y;++g)if(u=arguments[g],u!=null)for(c in u)d=a(m,c),f=a(u,c),m!==f&&(v&&f&&(o(f)||(h=i(f)))?(h?(h=!1,p=d&&i(d)?d:[]):p=d&&o(d)?d:{},s(m,{name:c,newValue:l(v,p,f)})):typeof f<"u"&&s(m,{name:c,newValue:f}));return m},YF}var IWe=kWe();const KF=ul(IWe);function ij(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function RWe(){const e=[],t={run:n,use:r};return t;function n(...i){let o=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);a(null,...i);function a(l,...u){const c=e[++o];let d=-1;if(l){s(l);return}for(;++d<i.length;)(u[d]===null||u[d]===void 0)&&(u[d]=i[d]);i=u,c?DWe(c,a)(...u):s(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function DWe(e,t){let n;return r;function r(...s){const a=e.length>s.length;let l;a&&s.push(i);try{l=e.apply(this,s)}catch(u){const c=u;if(a&&n)throw c;return i(c)}a||(l&&l.then&&typeof l.then=="function"?l.then(o,i):l instanceof Error?i(l):o(l))}function i(s,...a){n||(n=!0,t(s,...a))}function o(s){i(null,s)}}const lf={basename:$We,dirname:MWe,extname:PWe,join:NWe,sep:"/"};function $We(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');UC(e);let n=0,r=-1,i=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let s=-1,a=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else s<0&&(o=!0,s=i+1),a>-1&&(e.codePointAt(i)===t.codePointAt(a--)?a<0&&(r=i):(a=-1,r=s));return n===r?r=s:r<0&&(r=e.length),e.slice(n,r)}function MWe(e){if(UC(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function PWe(e){UC(e);let t=e.length,n=-1,r=0,i=-1,o=0,s;for(;t--;){const a=e.codePointAt(t);if(a===47){if(s){r=t+1;break}continue}n<0&&(s=!0,n=t+1),a===46?i<0?i=t:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function NWe(...e){let t=-1,n;for(;++t<e.length;)UC(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":OWe(n)}function OWe(e){UC(e);const t=e.codePointAt(0)===47;let n=LWe(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function LWe(e,t){let n="",r=0,i=-1,o=0,s=-1,a,l;for(;++s<=e.length;){if(s<e.length)a=e.codePointAt(s);else{if(a===47)break;a=47}if(a===47){if(!(i===s-1||o===1))if(i!==s-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,o=0;continue}}else if(n.length>0){n="",r=0,i=s,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,s):n=e.slice(i+1,s),r=s-i-1;i=s,o=0}else a===46&&o>-1?o++:o=-1}return n}function UC(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const FWe={cwd:BWe};function BWe(){return"/"}function oj(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function jWe(e){if(typeof e=="string")e=new URL(e);else if(!oj(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return zWe(e)}function zWe(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const XF=["history","path","basename","stem","extname","dirname"];class eve{constructor(t){let n;t?oj(t)?n={path:t}:typeof t=="string"||UWe(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":FWe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<XF.length;){const o=XF[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)XF.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?lf.basename(this.path):void 0}set basename(t){JF(t,"basename"),QF(t,"basename"),this.path=lf.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?lf.dirname(this.path):void 0}set dirname(t){Rne(this.basename,"dirname"),this.path=lf.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?lf.extname(this.path):void 0}set extname(t){if(QF(t,"extname"),Rne(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=lf.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){oj(t)&&(t=jWe(t)),JF(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?lf.basename(this.path,this.extname):void 0}set stem(t){JF(t,"stem"),QF(t,"stem"),this.path=lf.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Na(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function QF(e,t){if(e&&e.includes(lf.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+lf.sep+"`")}function JF(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Rne(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function UWe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const HWe=function(e){const r=this.constructor.prototype,i=r[e],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o},VWe={}.hasOwnProperty;class vV extends HWe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=RWe()}copy(){const t=new vV;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(KF(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(t5("data",this.frozen),this.namespace[t]=n,this):VWe.call(this.namespace,t)&&this.namespace[t]||void 0:t?(t5("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=wk(t),r=this.parser||this.Parser;return ZF("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),ZF("process",this.parser||this.Parser),e5("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,s){const a=wk(t),l=r.parse(a);r.run(l,a,function(c,d,f){if(c||!d||!f)return u(c);const h=d,p=r.stringify(h,f);GWe(p)?f.value=p:f.result=p,u(c,f)});function u(c,d){c||!d?s(c):o?o(d):n(void 0,d)}}}processSync(t){let n=!1,r;return this.freeze(),ZF("processSync",this.parser||this.Parser),e5("processSync",this.compiler||this.Compiler),this.process(t,i),$ne("processSync","process",n),r;function i(o,s){n=!0,kne(o),r=s}}run(t,n,r){Dne(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(s,a){const l=wk(n);i.run(t,l,u);function u(c,d,f){const h=d||t;c?a(c):s?s(h):r(void 0,h,f)}}}runSync(t,n){let r=!1,i;return this.run(t,n,o),$ne("runSync","run",r),i;function o(s,a){kne(s),i=a,r=!0}}stringify(t,n){this.freeze();const r=wk(n),i=this.compiler||this.Compiler;return e5("stringify",i),Dne(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(t5("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):s(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...d]=u;l(c,d)}else s(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function s(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(u.plugins),u.settings&&(i.settings=KF(!0,i.settings,u.settings))}function a(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const d=u[c];o(d)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,c){let d=-1,f=-1;for(;++d<r.length;)if(r[d][0]===u){f=d;break}if(f===-1)r.push([u,...c]);else if(c.length>0){let[h,...p]=c;const m=r[f][1];ij(m)&&ij(h)&&(h=KF(!0,m,h)),r[f]=[u,h,...p]}}}}const WWe=new vV().freeze();function ZF(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function e5(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function t5(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Dne(e){if(!ij(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function $ne(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function wk(e){return qWe(e)?e:new eve(e)}function qWe(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function GWe(e){return typeof e=="string"||YWe(e)}function YWe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const KWe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Mne=[],Pne={allowDangerousHtml:!0},XWe=/^(https?|ircs?|mailto|xmpp)$/i,QWe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function JWe(e){const t=ZWe(e),n=eqe(e);return tqe(t.runSync(t.parse(n),n),e)}function ZWe(e){const t=e.rehypePlugins||Mne,n=e.remarkPlugins||Mne,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Pne}:Pne;return WWe().use(DVe).use(n).use(AWe,r).use(t)}function eqe(e){const t=e.children||"",n=new eve;return typeof t=="string"&&(n.value=t),n}function tqe(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,o=t.disallowedElements,s=t.skipHtml,a=t.unwrapDisallowed,l=t.urlTransform||nqe;for(const c of QWe)Object.hasOwn(t,c.from)&&(""+c.from+(c.to?"use `"+c.to+"` instead":"remove it")+KWe+c.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),yV(e,u),Gze(e,{Fragment:$.Fragment,components:i,ignoreInvalidStyle:!0,jsx:$.jsx,jsxs:$.jsxs,passKeys:!0,passNode:!0});function u(c,d,f){if(c.type==="raw"&&f&&typeof d=="number")return s?f.children.splice(d,1):f.children[d]={type:"text",value:c.value},d;if(c.type==="element"){let h;for(h in VF)if(Object.hasOwn(VF,h)&&Object.hasOwn(c.properties,h)){const p=c.properties[h],m=VF[h];(m===null||m.includes(c.tagName))&&(c.properties[h]=l(String(p||""),h,c))}}if(c.type==="element"){let h=n?!n.includes(c.tagName):o?o.includes(c.tagName):!1;if(!h&&r&&typeof d=="number"&&(h=!r(c,d,f)),h&&f&&typeof d=="number")return a&&c.children?f.children.splice(d,1,...c.children):f.children.splice(d,1),d}}}function nqe(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||XWe.test(e.slice(0,t))?e:""}const Nne=/[#.]/g;function rqe(e,t){const n=e||"",r={};let i=0,o,s;for(;i<n.length;){Nne.lastIndex=i;const a=Nne.exec(n),l=n.slice(i,a?a.index:n.length);l&&(o?o==="#"?r.id=l:Array.isArray(r.className)?r.className.push(l):r.className=[l]:s=l,i+=l.length),a&&(o=a[0],i++)}return{type:"element",tagName:s||t||"div",properties:r,children:[]}}function tve(e,t,n){const r=n?aqe(n):void 0;function i(o,s,...a){let l;if(o==null){l={type:"root",children:[]};const u=s;a.unshift(u)}else{l=rqe(o,t);const u=l.tagName.toLowerCase(),c=r?r.get(u):void 0;if(l.tagName=c||u,iqe(s))a.unshift(s);else for(const[d,f]of Object.entries(s))oqe(e,l.properties,d,f)}for(const u of a)sj(l.children,u);return l.type==="element"&&l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}return i}function iqe(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,n=Object.keys(e);for(const r of n){const i=t[r];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const o=i;for(const s of o)if(typeof s!="number"&&typeof s!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function oqe(e,t,n,r){const i=iV(e,n);let o;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;o=r}else typeof r=="boolean"?o=r:typeof r=="string"?i.spaceSeparated?o=qte(r):i.commaSeparated?o=zte(r):i.commaOrSpaceSeparated?o=qte(zte(r).join(" ")):o=One(i,i.property,r):Array.isArray(r)?o=[...r]:o=i.property==="style"?sqe(r):String(r);if(Array.isArray(o)){const s=[];for(const a of o)s.push(One(i,i.property,a));o=s}i.property==="className"&&Array.isArray(t.className)&&(o=t.className.concat(o)),t[i.property]=o}}function sj(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const n of t)sj(e,n);else if(typeof t=="object"&&"type"in t)t.type==="root"?sj(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function One(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||gT(n)===gT(t)))return!0}return n}function sqe(e){const t=[];for(const[n,r]of Object.entries(e))t.push([n,r].join(": "));return t.join("; ")}function aqe(e){const t=new Map;for(const n of e)t.set(n.toLowerCase(),n);return t}const lqe=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],uqe=tve(RP,"div"),cqe=tve(Ix,"g",lqe);function dqe(e){const t=String(e),n=[];return{toOffset:i,toPoint:r};function r(o){if(typeof o=="number"&&o>-1&&o<=t.length){let s=0;for(;;){let a=n[s];if(a===void 0){const l=Lne(t,n[s-1]);a=l===-1?t.length+1:l+1,n[s]=a}if(a>o)return{line:s+1,column:o-(s>0?n[s-1]:0)+1,offset:o};s++}}}function i(o){if(o&&typeof o.line=="number"&&typeof o.column=="number"&&!Number.isNaN(o.line)&&!Number.isNaN(o.column)){for(;n.length<o.line;){const a=n[n.length-1],l=Lne(t,a),u=l===-1?t.length+1:l+1;if(a===u)break;n.push(u)}const s=(o.line>1?n[o.line-2]:0)+o.column-1;if(s<n[o.line-1])return s}}}function Lne(e,t){const n=e.indexOf("\r",t),r=e.indexOf(`
`,t);return r===-1?n:n===-1||n+1===r?r:n<r?n:r}const Sy={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},nve={}.hasOwnProperty,fqe=Object.prototype;function hqe(e,t){const n=t||{};return bV({file:n.file||void 0,location:!1,schema:n.space==="svg"?Ix:RP,verbose:n.verbose||!1},e)}function bV(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},kI(e,r,n),n}case"#document":case"#document-fragment":{const r=t,i="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:rve(e,t.childNodes),data:{quirksMode:i}},e.file&&e.location){const o=String(e.file),s=dqe(o),a=s.toPoint(0),l=s.toPoint(o.length);n.position={start:a,end:l}}return n}case"#documentType":{const r=t;return n={type:"doctype"},kI(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},kI(e,r,n),n}default:return n=pqe(e,t),n}}function rve(e,t){let n=-1;const r=[];for(;++n<t.length;){const i=bV(e,t[n]);r.push(i)}return r}function pqe(e,t){const n=e.schema;e.schema=t.namespaceURI===Sy.svg?Ix:RP;let r=-1;const i={};for(;++r<t.attrs.length;){const a=t.attrs[r],l=(a.prefix?a.prefix+":":"")+a.name;nve.call(fqe,l)||(i[l]=a.value)}const s=(e.schema.space==="svg"?cqe:uqe)(t.tagName,i,rve(e,t.childNodes));if(kI(e,t,s),s.tagName==="template"){const a=t,l=a.sourceCodeLocation,u=l&&l.startTag&&k1(l.startTag),c=l&&l.endTag&&k1(l.endTag),d=bV(e,a.content);u&&c&&e.file&&(d.position={start:u.end,end:c.start}),s.content=d}return e.schema=n,s}function kI(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=mqe(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function mqe(e,t,n){const r=k1(n);if(t.type==="element"){const i=t.children[t.children.length-1];if(r&&!n.endTag&&i&&i.position&&i.position.end&&(r.end=Object.assign({},i.position.end)),e.verbose){const o={};let s;if(n.attrs)for(s in n.attrs)nve.call(n.attrs,s)&&(o[iV(e.schema,s).property]=k1(n.attrs[s]));n.startTag;const a=k1(n.startTag),l=n.endTag?k1(n.endTag):void 0,u={opening:a};l&&(u.closing=l),u.properties=o,t.data={position:u}}}return r}function k1(e){const t=Fne({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=Fne({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function Fne(e){return e.line&&e.column?e:void 0}class HC{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}}HC.prototype.property={};HC.prototype.normal={};HC.prototype.space=null;function ive(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new HC(n,r,t)}function aj(e){return e.toLowerCase()}let Dc=class{constructor(t,n){this.property=t,this.attribute=n}};Dc.prototype.space=null;Dc.prototype.boolean=!1;Dc.prototype.booleanish=!1;Dc.prototype.overloadedBoolean=!1;Dc.prototype.number=!1;Dc.prototype.commaSeparated=!1;Dc.prototype.spaceSeparated=!1;Dc.prototype.commaOrSpaceSeparated=!1;Dc.prototype.mustUseProperty=!1;Dc.prototype.defined=!1;let gqe=0;const Fn=Uv(),Co=Uv(),ove=Uv(),It=Uv(),ci=Uv(),V1=Uv(),fu=Uv();function Uv(){return 2**++gqe}const lj=Object.freeze(Object.defineProperty({__proto__:null,boolean:Fn,booleanish:Co,commaOrSpaceSeparated:fu,commaSeparated:V1,number:It,overloadedBoolean:ove,spaceSeparated:ci},Symbol.toStringTag,{value:"Module"})),n5=Object.keys(lj);class wV extends Dc{constructor(t,n,r,i){let o=-1;if(super(t,n),Bne(this,"space",i),typeof r=="number")for(;++o<n5.length;){const s=n5[o];Bne(this,n5[o],(r&lj[s])===lj[s])}}}wV.prototype.defined=!0;function Bne(e,t,n){n&&(e[t]=n)}const yqe={}.hasOwnProperty;function Mx(e){const t={},n={};let r;for(r in e.properties)if(yqe.call(e.properties,r)){const i=e.properties[r],o=new wV(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[aj(r)]=r,n[aj(o.attribute)]=r}return new HC(t,n,e.space)}const sve=Mx({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),ave=Mx({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function lve(e,t){return t in e?e[t]:t}function uve(e,t){return lve(e,t.toLowerCase())}const cve=Mx({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:uve,properties:{xmlns:null,xmlnsXLink:null}}),dve=Mx({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Co,ariaAutoComplete:null,ariaBusy:Co,ariaChecked:Co,ariaColCount:It,ariaColIndex:It,ariaColSpan:It,ariaControls:ci,ariaCurrent:null,ariaDescribedBy:ci,ariaDetails:null,ariaDisabled:Co,ariaDropEffect:ci,ariaErrorMessage:null,ariaExpanded:Co,ariaFlowTo:ci,ariaGrabbed:Co,ariaHasPopup:null,ariaHidden:Co,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ci,ariaLevel:It,ariaLive:null,ariaModal:Co,ariaMultiLine:Co,ariaMultiSelectable:Co,ariaOrientation:null,ariaOwns:ci,ariaPlaceholder:null,ariaPosInSet:It,ariaPressed:Co,ariaReadOnly:Co,ariaRelevant:null,ariaRequired:Co,ariaRoleDescription:ci,ariaRowCount:It,ariaRowIndex:It,ariaRowSpan:It,ariaSelected:Co,ariaSetSize:It,ariaSort:null,ariaValueMax:It,ariaValueMin:It,ariaValueNow:It,ariaValueText:null,role:null}}),vqe=Mx({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:uve,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:V1,acceptCharset:ci,accessKey:ci,action:null,allow:null,allowFullScreen:Fn,allowPaymentRequest:Fn,allowUserMedia:Fn,alt:null,as:null,async:Fn,autoCapitalize:null,autoComplete:ci,autoFocus:Fn,autoPlay:Fn,blocking:ci,capture:null,charSet:null,checked:Fn,cite:null,className:ci,cols:It,colSpan:null,content:null,contentEditable:Co,controls:Fn,controlsList:ci,coords:It|V1,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Fn,defer:Fn,dir:null,dirName:null,disabled:Fn,download:ove,draggable:Co,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Fn,formTarget:null,headers:ci,height:It,hidden:Fn,high:It,href:null,hrefLang:null,htmlFor:ci,httpEquiv:ci,id:null,imageSizes:null,imageSrcSet:null,inert:Fn,inputMode:null,integrity:null,is:null,isMap:Fn,itemId:null,itemProp:ci,itemRef:ci,itemScope:Fn,itemType:ci,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Fn,low:It,manifest:null,max:null,maxLength:It,media:null,method:null,min:null,minLength:It,multiple:Fn,muted:Fn,name:null,nonce:null,noModule:Fn,noValidate:Fn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Fn,optimum:It,pattern:null,ping:ci,placeholder:null,playsInline:Fn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Fn,referrerPolicy:null,rel:ci,required:Fn,reversed:Fn,rows:It,rowSpan:It,sandbox:ci,scope:null,scoped:Fn,seamless:Fn,selected:Fn,shadowRootClonable:Fn,shadowRootDelegatesFocus:Fn,shadowRootMode:null,shape:null,size:It,sizes:null,slot:null,span:It,spellCheck:Co,src:null,srcDoc:null,srcLang:null,srcSet:null,start:It,step:null,style:null,tabIndex:It,target:null,title:null,translate:null,type:null,typeMustMatch:Fn,useMap:null,value:Co,width:It,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ci,axis:null,background:null,bgColor:null,border:It,borderColor:null,bottomMargin:It,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Fn,declare:Fn,event:null,face:null,frame:null,frameBorder:null,hSpace:It,leftMargin:It,link:null,longDesc:null,lowSrc:null,marginHeight:It,marginWidth:It,noResize:Fn,noHref:Fn,noShade:Fn,noWrap:Fn,object:null,profile:null,prompt:null,rev:null,rightMargin:It,rules:null,scheme:null,scrolling:Co,standby:null,summary:null,text:null,topMargin:It,valueType:null,version:null,vAlign:null,vLink:null,vSpace:It,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Fn,disableRemotePlayback:Fn,prefix:null,property:null,results:It,security:null,unselectable:null}}),bqe=Mx({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:lve,properties:{about:fu,accentHeight:It,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:It,amplitude:It,arabicForm:null,ascent:It,attributeName:null,attributeType:null,azimuth:It,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:It,by:null,calcMode:null,capHeight:It,className:ci,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:It,diffuseConstant:It,direction:null,display:null,dur:null,divisor:It,dominantBaseline:null,download:Fn,dx:null,dy:null,edgeMode:null,editable:null,elevation:It,enableBackground:null,end:null,event:null,exponent:It,externalResourcesRequired:null,fill:null,fillOpacity:It,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:V1,g2:V1,glyphName:V1,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:It,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:It,horizOriginX:It,horizOriginY:It,id:null,ideographic:It,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:It,k:It,k1:It,k2:It,k3:It,k4:It,kernelMatrix:fu,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:It,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:It,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:It,overlineThickness:It,paintOrder:null,panose1:null,path:null,pathLength:It,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ci,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:It,pointsAtY:It,pointsAtZ:It,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:fu,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:fu,rev:fu,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:fu,requiredFeatures:fu,requiredFonts:fu,requiredFormats:fu,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:It,specularExponent:It,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:It,strikethroughThickness:It,string:null,stroke:null,strokeDashArray:fu,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:It,strokeOpacity:It,strokeWidth:null,style:null,surfaceScale:It,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:fu,tabIndex:It,tableValues:null,target:null,targetX:It,targetY:It,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:fu,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:It,underlineThickness:It,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:It,values:null,vAlphabetic:It,vMathematical:It,vectorEffect:null,vHanging:It,vIdeographic:It,version:null,vertAdvY:It,vertOriginX:It,vertOriginY:It,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:It,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),wqe=/^data[-\w.:]+$/i,jne=/-[a-z]/g,xqe=/[A-Z]/g;function _qe(e,t){const n=aj(t);let r=t,i=Dc;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&wqe.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(jne,Sqe);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!jne.test(o)){let s=o.replace(xqe,Eqe);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}i=wV}return new i(r,t)}function Eqe(e){return"-"+e.toLowerCase()}function Sqe(e){return e.charAt(1).toUpperCase()}const Tqe=ive([ave,sve,cve,dve,vqe],"html"),fve=ive([ave,sve,cve,dve,bqe],"svg"),zne={}.hasOwnProperty;function hve(e,t){const n=t||{};function r(i,...o){let s=r.invalid;const a=r.handlers;if(i&&zne.call(i,e)){const l=String(i[e]);s=zne.call(a,l)?a[l]:r.unknown}if(s)return s.call(this,i,...o)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const Cqe={},Aqe={}.hasOwnProperty,pve=hve("type",{handlers:{root:Iqe,element:Pqe,text:$qe,comment:Mqe,doctype:Dqe}});function kqe(e,t){const r=(t||Cqe).space;return pve(e,r==="svg"?fve:Tqe)}function Iqe(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=xV(e.children,n,t),Px(e,n),n}function Rqe(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=xV(e.children,n,t),Px(e,n),n}function Dqe(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return Px(e,t),t}function $qe(e){const t={nodeName:"#text",value:e.value,parentNode:null};return Px(e,t),t}function Mqe(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return Px(e,t),t}function Pqe(e,t){const n=t;let r=n;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=fve);const i=[];let o;if(e.properties){for(o in e.properties)if(o!=="children"&&Aqe.call(e.properties,o)){const l=Nqe(r,o,e.properties[o]);l&&i.push(l)}}const s=r.space,a={nodeName:e.tagName,tagName:e.tagName,attrs:i,namespaceURI:Sy[s],childNodes:[],parentNode:null};return a.childNodes=xV(e.children,a,r),Px(e,a),e.tagName==="template"&&e.content&&(a.content=Rqe(e.content,r)),a}function Nqe(e,t,n){const r=_qe(e,t);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?bye(n):kye(n));const i={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const o=i.name.indexOf(":");o<0?i.prefix="":(i.name=i.name.slice(o+1),i.prefix=r.attribute.slice(0,o)),i.namespace=Sy[r.space]}return i}function xV(e,t,n){let r=-1;const i=[];if(e)for(;++r<e.length;){const o=pve(e[r],n);o.parentNode=t,i.push(o)}return i}function Px(e,t){const n=e.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const Oqe=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],Lqe=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Ti="";var he;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(he||(he={}));const Sl={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function mve(e){return e>=55296&&e<=57343}function Fqe(e){return e>=56320&&e<=57343}function Bqe(e,t){return(e-55296)*1024+9216+t}function gve(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function yve(e){return e>=64976&&e<=65007||Lqe.has(e)}var qe;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(qe||(qe={}));const jqe=65536;class zqe{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=jqe,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,n){const{line:r,col:i,offset:o}=this,s=i+n,a=o+n;return{code:t,startLine:r,endLine:r,startCol:s,endCol:s,startOffset:a,endOffset:a}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(Fqe(n))return this.pos++,this._addGap(),Bqe(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,he.EOF;return this._err(qe.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,he.EOF;const r=this.html.charCodeAt(n);return r===he.CARRIAGE_RETURN?he.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,he.EOF;let t=this.html.charCodeAt(this.pos);return t===he.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,he.LINE_FEED):t===he.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,mve(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===he.LINE_FEED||t===he.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){gve(t)?this._err(qe.controlCharacterInInputStream):yve(t)&&this._err(qe.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var Kn;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(Kn||(Kn={}));function vve(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const bve=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),Uqe=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var r5;const Hqe=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),Vqe=(r5=String.fromCodePoint)!==null&&r5!==void 0?r5:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function Wqe(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=Hqe.get(e))!==null&&t!==void 0?t:e}var ls;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(ls||(ls={}));const qqe=32;var Zm;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(Zm||(Zm={}));function uj(e){return e>=ls.ZERO&&e<=ls.NINE}function Gqe(e){return e>=ls.UPPER_A&&e<=ls.UPPER_F||e>=ls.LOWER_A&&e<=ls.LOWER_F}function Yqe(e){return e>=ls.UPPER_A&&e<=ls.UPPER_Z||e>=ls.LOWER_A&&e<=ls.LOWER_Z||uj(e)}function Kqe(e){return e===ls.EQUALS||Yqe(e)}var rs;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(rs||(rs={}));var Yh;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Yh||(Yh={}));class wve{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=rs.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Yh.Strict}startEntity(t){this.decodeMode=t,this.state=rs.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case rs.EntityStart:return t.charCodeAt(n)===ls.NUM?(this.state=rs.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=rs.NamedEntity,this.stateNamedEntity(t,n));case rs.NumericStart:return this.stateNumericStart(t,n);case rs.NumericDecimal:return this.stateNumericDecimal(t,n);case rs.NumericHex:return this.stateNumericHex(t,n);case rs.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|qqe)===ls.LOWER_X?(this.state=rs.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=rs.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,i){if(n!==r){const o=r-n;this.result=this.result*Math.pow(i,o)+parseInt(t.substr(n,o),i),this.consumed+=o}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(uj(i)||Gqe(i))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(uj(i))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===ls.SEMI)this.consumed+=1;else if(this.decodeMode===Yh.Strict)return 0;return this.emitCodePoint(Wqe(this.result),this.consumed),this.errors&&(t!==ls.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let i=r[this.treeIndex],o=(i&Zm.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const s=t.charCodeAt(n);if(this.treeIndex=Xqe(r,i,this.treeIndex+Math.max(1,o),s),this.treeIndex<0)return this.result===0||this.decodeMode===Yh.Attribute&&(o===0||Kqe(s))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],o=(i&Zm.VALUE_LENGTH)>>14,o!==0){if(s===ls.SEMI)return this.emitNamedEntityData(this.treeIndex,o,this.consumed+this.excess);this.decodeMode!==Yh.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,i=(r[n]&Zm.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[t]&~Zm.VALUE_LENGTH:i[t+1],r),n===3&&this.emitCodePoint(i[t+2],r),r}end(){var t;switch(this.state){case rs.NamedEntity:return this.result!==0&&(this.decodeMode!==Yh.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case rs.NumericDecimal:return this.emitNumericEntity(0,2);case rs.NumericHex:return this.emitNumericEntity(0,3);case rs.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case rs.EntityStart:return 0}}}function xve(e){let t="";const n=new wve(e,r=>t+=Vqe(r));return function(i,o){let s=0,a=0;for(;(a=i.indexOf("&",a))>=0;){t+=i.slice(s,a),n.startEntity(o);const u=n.write(i,a+1);if(u<0){s=a+n.end();break}s=a+u,a=u===0?s+1:s}const l=t+i.slice(s);return t="",l}}function Xqe(e,t,n,r){const i=(t&Zm.BRANCH_LENGTH)>>7,o=t&Zm.JUMP_TABLE;if(i===0)return o!==0&&r===o?n:-1;if(o){const l=r-o;return l<0||l>=i?-1:e[n+l]-1}let s=n,a=s+i-1;for(;s<=a;){const l=s+a>>>1,u=e[l];if(u<r)s=l+1;else if(u>r)a=l-1;else return e[l+i]}return-1}xve(bve);xve(Uqe);var ft;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(ft||(ft={}));var Ny;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(Ny||(Ny={}));var nc;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(nc||(nc={}));var Ne;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(Ne||(Ne={}));var q;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(q||(q={}));const Qqe=new Map([[Ne.A,q.A],[Ne.ADDRESS,q.ADDRESS],[Ne.ANNOTATION_XML,q.ANNOTATION_XML],[Ne.APPLET,q.APPLET],[Ne.AREA,q.AREA],[Ne.ARTICLE,q.ARTICLE],[Ne.ASIDE,q.ASIDE],[Ne.B,q.B],[Ne.BASE,q.BASE],[Ne.BASEFONT,q.BASEFONT],[Ne.BGSOUND,q.BGSOUND],[Ne.BIG,q.BIG],[Ne.BLOCKQUOTE,q.BLOCKQUOTE],[Ne.BODY,q.BODY],[Ne.BR,q.BR],[Ne.BUTTON,q.BUTTON],[Ne.CAPTION,q.CAPTION],[Ne.CENTER,q.CENTER],[Ne.CODE,q.CODE],[Ne.COL,q.COL],[Ne.COLGROUP,q.COLGROUP],[Ne.DD,q.DD],[Ne.DESC,q.DESC],[Ne.DETAILS,q.DETAILS],[Ne.DIALOG,q.DIALOG],[Ne.DIR,q.DIR],[Ne.DIV,q.DIV],[Ne.DL,q.DL],[Ne.DT,q.DT],[Ne.EM,q.EM],[Ne.EMBED,q.EMBED],[Ne.FIELDSET,q.FIELDSET],[Ne.FIGCAPTION,q.FIGCAPTION],[Ne.FIGURE,q.FIGURE],[Ne.FONT,q.FONT],[Ne.FOOTER,q.FOOTER],[Ne.FOREIGN_OBJECT,q.FOREIGN_OBJECT],[Ne.FORM,q.FORM],[Ne.FRAME,q.FRAME],[Ne.FRAMESET,q.FRAMESET],[Ne.H1,q.H1],[Ne.H2,q.H2],[Ne.H3,q.H3],[Ne.H4,q.H4],[Ne.H5,q.H5],[Ne.H6,q.H6],[Ne.HEAD,q.HEAD],[Ne.HEADER,q.HEADER],[Ne.HGROUP,q.HGROUP],[Ne.HR,q.HR],[Ne.HTML,q.HTML],[Ne.I,q.I],[Ne.IMG,q.IMG],[Ne.IMAGE,q.IMAGE],[Ne.INPUT,q.INPUT],[Ne.IFRAME,q.IFRAME],[Ne.KEYGEN,q.KEYGEN],[Ne.LABEL,q.LABEL],[Ne.LI,q.LI],[Ne.LINK,q.LINK],[Ne.LISTING,q.LISTING],[Ne.MAIN,q.MAIN],[Ne.MALIGNMARK,q.MALIGNMARK],[Ne.MARQUEE,q.MARQUEE],[Ne.MATH,q.MATH],[Ne.MENU,q.MENU],[Ne.META,q.META],[Ne.MGLYPH,q.MGLYPH],[Ne.MI,q.MI],[Ne.MO,q.MO],[Ne.MN,q.MN],[Ne.MS,q.MS],[Ne.MTEXT,q.MTEXT],[Ne.NAV,q.NAV],[Ne.NOBR,q.NOBR],[Ne.NOFRAMES,q.NOFRAMES],[Ne.NOEMBED,q.NOEMBED],[Ne.NOSCRIPT,q.NOSCRIPT],[Ne.OBJECT,q.OBJECT],[Ne.OL,q.OL],[Ne.OPTGROUP,q.OPTGROUP],[Ne.OPTION,q.OPTION],[Ne.P,q.P],[Ne.PARAM,q.PARAM],[Ne.PLAINTEXT,q.PLAINTEXT],[Ne.PRE,q.PRE],[Ne.RB,q.RB],[Ne.RP,q.RP],[Ne.RT,q.RT],[Ne.RTC,q.RTC],[Ne.RUBY,q.RUBY],[Ne.S,q.S],[Ne.SCRIPT,q.SCRIPT],[Ne.SEARCH,q.SEARCH],[Ne.SECTION,q.SECTION],[Ne.SELECT,q.SELECT],[Ne.SOURCE,q.SOURCE],[Ne.SMALL,q.SMALL],[Ne.SPAN,q.SPAN],[Ne.STRIKE,q.STRIKE],[Ne.STRONG,q.STRONG],[Ne.STYLE,q.STYLE],[Ne.SUB,q.SUB],[Ne.SUMMARY,q.SUMMARY],[Ne.SUP,q.SUP],[Ne.TABLE,q.TABLE],[Ne.TBODY,q.TBODY],[Ne.TEMPLATE,q.TEMPLATE],[Ne.TEXTAREA,q.TEXTAREA],[Ne.TFOOT,q.TFOOT],[Ne.TD,q.TD],[Ne.TH,q.TH],[Ne.THEAD,q.THEAD],[Ne.TITLE,q.TITLE],[Ne.TR,q.TR],[Ne.TRACK,q.TRACK],[Ne.TT,q.TT],[Ne.U,q.U],[Ne.UL,q.UL],[Ne.SVG,q.SVG],[Ne.VAR,q.VAR],[Ne.WBR,q.WBR],[Ne.XMP,q.XMP]]);function Nx(e){var t;return(t=Qqe.get(e))!==null&&t!==void 0?t:q.UNKNOWN}const wt=q,Jqe={[ft.HTML]:new Set([wt.ADDRESS,wt.APPLET,wt.AREA,wt.ARTICLE,wt.ASIDE,wt.BASE,wt.BASEFONT,wt.BGSOUND,wt.BLOCKQUOTE,wt.BODY,wt.BR,wt.BUTTON,wt.CAPTION,wt.CENTER,wt.COL,wt.COLGROUP,wt.DD,wt.DETAILS,wt.DIR,wt.DIV,wt.DL,wt.DT,wt.EMBED,wt.FIELDSET,wt.FIGCAPTION,wt.FIGURE,wt.FOOTER,wt.FORM,wt.FRAME,wt.FRAMESET,wt.H1,wt.H2,wt.H3,wt.H4,wt.H5,wt.H6,wt.HEAD,wt.HEADER,wt.HGROUP,wt.HR,wt.HTML,wt.IFRAME,wt.IMG,wt.INPUT,wt.LI,wt.LINK,wt.LISTING,wt.MAIN,wt.MARQUEE,wt.MENU,wt.META,wt.NAV,wt.NOEMBED,wt.NOFRAMES,wt.NOSCRIPT,wt.OBJECT,wt.OL,wt.P,wt.PARAM,wt.PLAINTEXT,wt.PRE,wt.SCRIPT,wt.SECTION,wt.SELECT,wt.SOURCE,wt.STYLE,wt.SUMMARY,wt.TABLE,wt.TBODY,wt.TD,wt.TEMPLATE,wt.TEXTAREA,wt.TFOOT,wt.TH,wt.THEAD,wt.TITLE,wt.TR,wt.TRACK,wt.UL,wt.WBR,wt.XMP]),[ft.MATHML]:new Set([wt.MI,wt.MO,wt.MN,wt.MS,wt.MTEXT,wt.ANNOTATION_XML]),[ft.SVG]:new Set([wt.TITLE,wt.FOREIGN_OBJECT,wt.DESC]),[ft.XLINK]:new Set,[ft.XML]:new Set,[ft.XMLNS]:new Set},cj=new Set([wt.H1,wt.H2,wt.H3,wt.H4,wt.H5,wt.H6]);Ne.STYLE,Ne.SCRIPT,Ne.XMP,Ne.IFRAME,Ne.NOEMBED,Ne.NOFRAMES,Ne.PLAINTEXT;var ye;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(ye||(ye={}));const go={DATA:ye.DATA,RCDATA:ye.RCDATA,RAWTEXT:ye.RAWTEXT,SCRIPT_DATA:ye.SCRIPT_DATA,PLAINTEXT:ye.PLAINTEXT,CDATA_SECTION:ye.CDATA_SECTION};function Zqe(e){return e>=he.DIGIT_0&&e<=he.DIGIT_9}function VE(e){return e>=he.LATIN_CAPITAL_A&&e<=he.LATIN_CAPITAL_Z}function eGe(e){return e>=he.LATIN_SMALL_A&&e<=he.LATIN_SMALL_Z}function Mm(e){return eGe(e)||VE(e)}function Une(e){return Mm(e)||Zqe(e)}function xk(e){return e+32}function _ve(e){return e===he.SPACE||e===he.LINE_FEED||e===he.TABULATION||e===he.FORM_FEED}function Hne(e){return _ve(e)||e===he.SOLIDUS||e===he.GREATER_THAN_SIGN}function tGe(e){return e===he.NULL?qe.nullCharacterReference:e>1114111?qe.characterReferenceOutsideUnicodeRange:mve(e)?qe.surrogateCharacterReference:yve(e)?qe.noncharacterCharacterReference:gve(e)||e===he.CARRIAGE_RETURN?qe.controlCharacterReference:null}class nGe{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=ye.DATA,this.returnState=ye.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new zqe(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new wve(bve,(r,i)=>{this.preprocessor.pos=this.entityStartPos+i-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(qe.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err(qe.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const i=tGe(r);i&&this._err(i,1)}}:void 0)}_err(t,n=0){var r,i;(i=(r=this.handler).onParseError)===null||i===void 0||i.call(r,this.preprocessor.getError(t,n))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:Kn.START_TAG,tagName:"",tagID:q.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Kn.END_TAG,tagName:"",tagID:q.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:Kn.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:Kn.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(vve(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const i=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(qe.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=Nx(t.tagName),t.type===Kn.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(qe.endTagWithAttributes),t.selfClosing&&this._err(qe.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case Kn.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case Kn.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case Kn.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:Kn.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,n)}_emitCodePoint(t){const n=_ve(t)?Kn.WHITESPACE_CHARACTER:t===he.NULL?Kn.NULL_CHARACTER:Kn.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(Kn.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=ye.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?Yh.Attribute:Yh.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===ye.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===ye.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===ye.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case ye.DATA:{this._stateData(t);break}case ye.RCDATA:{this._stateRcdata(t);break}case ye.RAWTEXT:{this._stateRawtext(t);break}case ye.SCRIPT_DATA:{this._stateScriptData(t);break}case ye.PLAINTEXT:{this._statePlaintext(t);break}case ye.TAG_OPEN:{this._stateTagOpen(t);break}case ye.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case ye.TAG_NAME:{this._stateTagName(t);break}case ye.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case ye.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case ye.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case ye.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case ye.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case ye.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case ye.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case ye.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case ye.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case ye.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case ye.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case ye.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case ye.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case ye.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case ye.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case ye.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case ye.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case ye.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case ye.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case ye.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case ye.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case ye.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case ye.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case ye.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case ye.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case ye.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case ye.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case ye.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case ye.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case ye.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case ye.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case ye.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case ye.BOGUS_COMMENT:{this._stateBogusComment(t);break}case ye.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case ye.COMMENT_START:{this._stateCommentStart(t);break}case ye.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case ye.COMMENT:{this._stateComment(t);break}case ye.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case ye.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case ye.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case ye.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case ye.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case ye.COMMENT_END:{this._stateCommentEnd(t);break}case ye.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case ye.DOCTYPE:{this._stateDoctype(t);break}case ye.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case ye.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case ye.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case ye.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case ye.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case ye.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case ye.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case ye.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case ye.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case ye.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case ye.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case ye.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case ye.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case ye.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case ye.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case ye.CDATA_SECTION:{this._stateCdataSection(t);break}case ye.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case ye.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case ye.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case ye.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case he.LESS_THAN_SIGN:{this.state=ye.TAG_OPEN;break}case he.AMPERSAND:{this._startCharacterReference();break}case he.NULL:{this._err(qe.unexpectedNullCharacter),this._emitCodePoint(t);break}case he.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case he.AMPERSAND:{this._startCharacterReference();break}case he.LESS_THAN_SIGN:{this.state=ye.RCDATA_LESS_THAN_SIGN;break}case he.NULL:{this._err(qe.unexpectedNullCharacter),this._emitChars(Ti);break}case he.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case he.LESS_THAN_SIGN:{this.state=ye.RAWTEXT_LESS_THAN_SIGN;break}case he.NULL:{this._err(qe.unexpectedNullCharacter),this._emitChars(Ti);break}case he.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case he.LESS_THAN_SIGN:{this.state=ye.SCRIPT_DATA_LESS_THAN_SIGN;break}case he.NULL:{this._err(qe.unexpectedNullCharacter),this._emitChars(Ti);break}case he.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case he.NULL:{this._err(qe.unexpectedNullCharacter),this._emitChars(Ti);break}case he.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(Mm(t))this._createStartTagToken(),this.state=ye.TAG_NAME,this._stateTagName(t);else switch(t){case he.EXCLAMATION_MARK:{this.state=ye.MARKUP_DECLARATION_OPEN;break}case he.SOLIDUS:{this.state=ye.END_TAG_OPEN;break}case he.QUESTION_MARK:{this._err(qe.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=ye.BOGUS_COMMENT,this._stateBogusComment(t);break}case he.EOF:{this._err(qe.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(qe.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=ye.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(Mm(t))this._createEndTagToken(),this.state=ye.TAG_NAME,this._stateTagName(t);else switch(t){case he.GREATER_THAN_SIGN:{this._err(qe.missingEndTagName),this.state=ye.DATA;break}case he.EOF:{this._err(qe.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(qe.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=ye.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:{this.state=ye.BEFORE_ATTRIBUTE_NAME;break}case he.SOLIDUS:{this.state=ye.SELF_CLOSING_START_TAG;break}case he.GREATER_THAN_SIGN:{this.state=ye.DATA,this.emitCurrentTagToken();break}case he.NULL:{this._err(qe.unexpectedNullCharacter),n.tagName+=Ti;break}case he.EOF:{this._err(qe.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(VE(t)?xk(t):t)}}_stateRcdataLessThanSign(t){t===he.SOLIDUS?this.state=ye.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=ye.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){Mm(t)?(this.state=ye.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=ye.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=ye.BEFORE_ATTRIBUTE_NAME,!1;case he.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=ye.SELF_CLOSING_START_TAG,!1;case he.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=ye.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=ye.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===he.SOLIDUS?this.state=ye.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=ye.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){Mm(t)?(this.state=ye.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=ye.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=ye.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case he.SOLIDUS:{this.state=ye.SCRIPT_DATA_END_TAG_OPEN;break}case he.EXCLAMATION_MARK:{this.state=ye.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=ye.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){Mm(t)?(this.state=ye.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=ye.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=ye.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===he.HYPHEN_MINUS?(this.state=ye.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=ye.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===he.HYPHEN_MINUS?(this.state=ye.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=ye.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case he.HYPHEN_MINUS:{this.state=ye.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case he.LESS_THAN_SIGN:{this.state=ye.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case he.NULL:{this._err(qe.unexpectedNullCharacter),this._emitChars(Ti);break}case he.EOF:{this._err(qe.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case he.HYPHEN_MINUS:{this.state=ye.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case he.LESS_THAN_SIGN:{this.state=ye.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case he.NULL:{this._err(qe.unexpectedNullCharacter),this.state=ye.SCRIPT_DATA_ESCAPED,this._emitChars(Ti);break}case he.EOF:{this._err(qe.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=ye.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case he.HYPHEN_MINUS:{this._emitChars("-");break}case he.LESS_THAN_SIGN:{this.state=ye.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case he.GREATER_THAN_SIGN:{this.state=ye.SCRIPT_DATA,this._emitChars(">");break}case he.NULL:{this._err(qe.unexpectedNullCharacter),this.state=ye.SCRIPT_DATA_ESCAPED,this._emitChars(Ti);break}case he.EOF:{this._err(qe.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=ye.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===he.SOLIDUS?this.state=ye.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:Mm(t)?(this._emitChars("<"),this.state=ye.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=ye.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){Mm(t)?(this.state=ye.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=ye.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=ye.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(Sl.SCRIPT,!1)&&Hne(this.preprocessor.peek(Sl.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Sl.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=ye.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=ye.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case he.HYPHEN_MINUS:{this.state=ye.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case he.LESS_THAN_SIGN:{this.state=ye.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case he.NULL:{this._err(qe.unexpectedNullCharacter),this._emitChars(Ti);break}case he.EOF:{this._err(qe.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case he.HYPHEN_MINUS:{this.state=ye.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case he.LESS_THAN_SIGN:{this.state=ye.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case he.NULL:{this._err(qe.unexpectedNullCharacter),this.state=ye.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Ti);break}case he.EOF:{this._err(qe.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=ye.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case he.HYPHEN_MINUS:{this._emitChars("-");break}case he.LESS_THAN_SIGN:{this.state=ye.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case he.GREATER_THAN_SIGN:{this.state=ye.SCRIPT_DATA,this._emitChars(">");break}case he.NULL:{this._err(qe.unexpectedNullCharacter),this.state=ye.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Ti);break}case he.EOF:{this._err(qe.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=ye.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===he.SOLIDUS?(this.state=ye.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=ye.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(Sl.SCRIPT,!1)&&Hne(this.preprocessor.peek(Sl.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Sl.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=ye.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=ye.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:break;case he.SOLIDUS:case he.GREATER_THAN_SIGN:case he.EOF:{this.state=ye.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case he.EQUALS_SIGN:{this._err(qe.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=ye.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=ye.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:case he.SOLIDUS:case he.GREATER_THAN_SIGN:case he.EOF:{this._leaveAttrName(),this.state=ye.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case he.EQUALS_SIGN:{this._leaveAttrName(),this.state=ye.BEFORE_ATTRIBUTE_VALUE;break}case he.QUOTATION_MARK:case he.APOSTROPHE:case he.LESS_THAN_SIGN:{this._err(qe.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case he.NULL:{this._err(qe.unexpectedNullCharacter),this.currentAttr.name+=Ti;break}default:this.currentAttr.name+=String.fromCodePoint(VE(t)?xk(t):t)}}_stateAfterAttributeName(t){switch(t){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:break;case he.SOLIDUS:{this.state=ye.SELF_CLOSING_START_TAG;break}case he.EQUALS_SIGN:{this.state=ye.BEFORE_ATTRIBUTE_VALUE;break}case he.GREATER_THAN_SIGN:{this.state=ye.DATA,this.emitCurrentTagToken();break}case he.EOF:{this._err(qe.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=ye.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:break;case he.QUOTATION_MARK:{this.state=ye.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case he.APOSTROPHE:{this.state=ye.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case he.GREATER_THAN_SIGN:{this._err(qe.missingAttributeValue),this.state=ye.DATA,this.emitCurrentTagToken();break}default:this.state=ye.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case he.QUOTATION_MARK:{this.state=ye.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case he.AMPERSAND:{this._startCharacterReference();break}case he.NULL:{this._err(qe.unexpectedNullCharacter),this.currentAttr.value+=Ti;break}case he.EOF:{this._err(qe.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case he.APOSTROPHE:{this.state=ye.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case he.AMPERSAND:{this._startCharacterReference();break}case he.NULL:{this._err(qe.unexpectedNullCharacter),this.currentAttr.value+=Ti;break}case he.EOF:{this._err(qe.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:{this._leaveAttrValue(),this.state=ye.BEFORE_ATTRIBUTE_NAME;break}case he.AMPERSAND:{this._startCharacterReference();break}case he.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=ye.DATA,this.emitCurrentTagToken();break}case he.NULL:{this._err(qe.unexpectedNullCharacter),this.currentAttr.value+=Ti;break}case he.QUOTATION_MARK:case he.APOSTROPHE:case he.LESS_THAN_SIGN:case he.EQUALS_SIGN:case he.GRAVE_ACCENT:{this._err(qe.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case he.EOF:{this._err(qe.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:{this._leaveAttrValue(),this.state=ye.BEFORE_ATTRIBUTE_NAME;break}case he.SOLIDUS:{this._leaveAttrValue(),this.state=ye.SELF_CLOSING_START_TAG;break}case he.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=ye.DATA,this.emitCurrentTagToken();break}case he.EOF:{this._err(qe.eofInTag),this._emitEOFToken();break}default:this._err(qe.missingWhitespaceBetweenAttributes),this.state=ye.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case he.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=ye.DATA,this.emitCurrentTagToken();break}case he.EOF:{this._err(qe.eofInTag),this._emitEOFToken();break}default:this._err(qe.unexpectedSolidusInTag),this.state=ye.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case he.GREATER_THAN_SIGN:{this.state=ye.DATA,this.emitCurrentComment(n);break}case he.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case he.NULL:{this._err(qe.unexpectedNullCharacter),n.data+=Ti;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(Sl.DASH_DASH,!0)?(this._createCommentToken(Sl.DASH_DASH.length+1),this.state=ye.COMMENT_START):this._consumeSequenceIfMatch(Sl.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Sl.DOCTYPE.length+1),this.state=ye.DOCTYPE):this._consumeSequenceIfMatch(Sl.CDATA_START,!0)?this.inForeignNode?this.state=ye.CDATA_SECTION:(this._err(qe.cdataInHtmlContent),this._createCommentToken(Sl.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=ye.BOGUS_COMMENT):this._ensureHibernation()||(this._err(qe.incorrectlyOpenedComment),this._createCommentToken(2),this.state=ye.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case he.HYPHEN_MINUS:{this.state=ye.COMMENT_START_DASH;break}case he.GREATER_THAN_SIGN:{this._err(qe.abruptClosingOfEmptyComment),this.state=ye.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=ye.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case he.HYPHEN_MINUS:{this.state=ye.COMMENT_END;break}case he.GREATER_THAN_SIGN:{this._err(qe.abruptClosingOfEmptyComment),this.state=ye.DATA,this.emitCurrentComment(n);break}case he.EOF:{this._err(qe.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=ye.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case he.HYPHEN_MINUS:{this.state=ye.COMMENT_END_DASH;break}case he.LESS_THAN_SIGN:{n.data+="<",this.state=ye.COMMENT_LESS_THAN_SIGN;break}case he.NULL:{this._err(qe.unexpectedNullCharacter),n.data+=Ti;break}case he.EOF:{this._err(qe.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case he.EXCLAMATION_MARK:{n.data+="!",this.state=ye.COMMENT_LESS_THAN_SIGN_BANG;break}case he.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=ye.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===he.HYPHEN_MINUS?this.state=ye.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=ye.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===he.HYPHEN_MINUS?this.state=ye.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=ye.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==he.GREATER_THAN_SIGN&&t!==he.EOF&&this._err(qe.nestedComment),this.state=ye.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case he.HYPHEN_MINUS:{this.state=ye.COMMENT_END;break}case he.EOF:{this._err(qe.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=ye.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case he.GREATER_THAN_SIGN:{this.state=ye.DATA,this.emitCurrentComment(n);break}case he.EXCLAMATION_MARK:{this.state=ye.COMMENT_END_BANG;break}case he.HYPHEN_MINUS:{n.data+="-";break}case he.EOF:{this._err(qe.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=ye.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case he.HYPHEN_MINUS:{n.data+="--!",this.state=ye.COMMENT_END_DASH;break}case he.GREATER_THAN_SIGN:{this._err(qe.incorrectlyClosedComment),this.state=ye.DATA,this.emitCurrentComment(n);break}case he.EOF:{this._err(qe.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=ye.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:{this.state=ye.BEFORE_DOCTYPE_NAME;break}case he.GREATER_THAN_SIGN:{this.state=ye.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case he.EOF:{this._err(qe.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(qe.missingWhitespaceBeforeDoctypeName),this.state=ye.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(VE(t))this._createDoctypeToken(String.fromCharCode(xk(t))),this.state=ye.DOCTYPE_NAME;else switch(t){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:break;case he.NULL:{this._err(qe.unexpectedNullCharacter),this._createDoctypeToken(Ti),this.state=ye.DOCTYPE_NAME;break}case he.GREATER_THAN_SIGN:{this._err(qe.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=ye.DATA;break}case he.EOF:{this._err(qe.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=ye.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:{this.state=ye.AFTER_DOCTYPE_NAME;break}case he.GREATER_THAN_SIGN:{this.state=ye.DATA,this.emitCurrentDoctype(n);break}case he.NULL:{this._err(qe.unexpectedNullCharacter),n.name+=Ti;break}case he.EOF:{this._err(qe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(VE(t)?xk(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:break;case he.GREATER_THAN_SIGN:{this.state=ye.DATA,this.emitCurrentDoctype(n);break}case he.EOF:{this._err(qe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Sl.PUBLIC,!1)?this.state=ye.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Sl.SYSTEM,!1)?this.state=ye.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(qe.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=ye.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:{this.state=ye.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case he.QUOTATION_MARK:{this._err(qe.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=ye.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case he.APOSTROPHE:{this._err(qe.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=ye.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case he.GREATER_THAN_SIGN:{this._err(qe.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=ye.DATA,this.emitCurrentDoctype(n);break}case he.EOF:{this._err(qe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(qe.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=ye.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:break;case he.QUOTATION_MARK:{n.publicId="",this.state=ye.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case he.APOSTROPHE:{n.publicId="",this.state=ye.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case he.GREATER_THAN_SIGN:{this._err(qe.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=ye.DATA,this.emitCurrentDoctype(n);break}case he.EOF:{this._err(qe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(qe.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=ye.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case he.QUOTATION_MARK:{this.state=ye.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case he.NULL:{this._err(qe.unexpectedNullCharacter),n.publicId+=Ti;break}case he.GREATER_THAN_SIGN:{this._err(qe.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=ye.DATA;break}case he.EOF:{this._err(qe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case he.APOSTROPHE:{this.state=ye.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case he.NULL:{this._err(qe.unexpectedNullCharacter),n.publicId+=Ti;break}case he.GREATER_THAN_SIGN:{this._err(qe.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=ye.DATA;break}case he.EOF:{this._err(qe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:{this.state=ye.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case he.GREATER_THAN_SIGN:{this.state=ye.DATA,this.emitCurrentDoctype(n);break}case he.QUOTATION_MARK:{this._err(qe.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=ye.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case he.APOSTROPHE:{this._err(qe.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=ye.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case he.EOF:{this._err(qe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(qe.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=ye.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:break;case he.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=ye.DATA;break}case he.QUOTATION_MARK:{n.systemId="",this.state=ye.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case he.APOSTROPHE:{n.systemId="",this.state=ye.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case he.EOF:{this._err(qe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(qe.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=ye.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:{this.state=ye.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case he.QUOTATION_MARK:{this._err(qe.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=ye.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case he.APOSTROPHE:{this._err(qe.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=ye.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case he.GREATER_THAN_SIGN:{this._err(qe.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=ye.DATA,this.emitCurrentDoctype(n);break}case he.EOF:{this._err(qe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(qe.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=ye.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:break;case he.QUOTATION_MARK:{n.systemId="",this.state=ye.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case he.APOSTROPHE:{n.systemId="",this.state=ye.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case he.GREATER_THAN_SIGN:{this._err(qe.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=ye.DATA,this.emitCurrentDoctype(n);break}case he.EOF:{this._err(qe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(qe.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=ye.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case he.QUOTATION_MARK:{this.state=ye.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case he.NULL:{this._err(qe.unexpectedNullCharacter),n.systemId+=Ti;break}case he.GREATER_THAN_SIGN:{this._err(qe.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=ye.DATA;break}case he.EOF:{this._err(qe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case he.APOSTROPHE:{this.state=ye.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case he.NULL:{this._err(qe.unexpectedNullCharacter),n.systemId+=Ti;break}case he.GREATER_THAN_SIGN:{this._err(qe.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=ye.DATA;break}case he.EOF:{this._err(qe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:break;case he.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=ye.DATA;break}case he.EOF:{this._err(qe.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(qe.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=ye.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case he.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=ye.DATA;break}case he.NULL:{this._err(qe.unexpectedNullCharacter);break}case he.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case he.RIGHT_SQUARE_BRACKET:{this.state=ye.CDATA_SECTION_BRACKET;break}case he.EOF:{this._err(qe.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===he.RIGHT_SQUARE_BRACKET?this.state=ye.CDATA_SECTION_END:(this._emitChars("]"),this.state=ye.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case he.GREATER_THAN_SIGN:{this.state=ye.DATA;break}case he.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=ye.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(he.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&Une(this.preprocessor.peek(1))?ye.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){Une(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===he.SEMICOLON&&this._err(qe.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const Eve=new Set([q.DD,q.DT,q.LI,q.OPTGROUP,q.OPTION,q.P,q.RB,q.RP,q.RT,q.RTC]),Vne=new Set([...Eve,q.CAPTION,q.COLGROUP,q.TBODY,q.TD,q.TFOOT,q.TH,q.THEAD,q.TR]),xD=new Set([q.APPLET,q.CAPTION,q.HTML,q.MARQUEE,q.OBJECT,q.TABLE,q.TD,q.TEMPLATE,q.TH]),rGe=new Set([...xD,q.OL,q.UL]),iGe=new Set([...xD,q.BUTTON]),Wne=new Set([q.ANNOTATION_XML,q.MI,q.MN,q.MO,q.MS,q.MTEXT]),qne=new Set([q.DESC,q.FOREIGN_OBJECT,q.TITLE]),oGe=new Set([q.TR,q.TEMPLATE,q.HTML]),sGe=new Set([q.TBODY,q.TFOOT,q.THEAD,q.TEMPLATE,q.HTML]),aGe=new Set([q.TABLE,q.TEMPLATE,q.HTML]),lGe=new Set([q.TD,q.TH]);class uGe{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=q.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===q.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===ft.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const i=this._indexOf(t)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,r),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==ft.HTML);this.shortenToLength(n<0?0:n)}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(n<0?0:n)}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r<0?0:r)}popUntilNumberedHeaderPopped(){this.popUntilPopped(cj,ft.HTML)}popUntilTableCellPopped(){this.popUntilPopped(lGe,ft.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(aGe,ft.HTML)}clearBackToTableBodyContext(){this.clearBackTo(sGe,ft.HTML)}clearBackToTableRowContext(){this.clearBackTo(oGe,ft.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===q.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===q.HTML}hasInDynamicScope(t,n){for(let r=this.stackTop;r>=0;r--){const i=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case ft.HTML:{if(i===t)return!0;if(n.has(i))return!1;break}case ft.SVG:{if(qne.has(i))return!1;break}case ft.MATHML:{if(Wne.has(i))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,xD)}hasInListItemScope(t){return this.hasInDynamicScope(t,rGe)}hasInButtonScope(t){return this.hasInDynamicScope(t,iGe)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case ft.HTML:{if(cj.has(n))return!0;if(xD.has(n))return!1;break}case ft.SVG:{if(qne.has(n))return!1;break}case ft.MATHML:{if(Wne.has(n))return!1;break}}}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===ft.HTML)switch(this.tagIDs[n]){case t:return!0;case q.TABLE:case q.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===ft.HTML)switch(this.tagIDs[t]){case q.TBODY:case q.THEAD:case q.TFOOT:return!0;case q.TABLE:case q.HTML:return!1}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===ft.HTML)switch(this.tagIDs[n]){case t:return!0;case q.OPTION:case q.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;Eve.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;Vne.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==t&&Vne.has(this.currentTagId);)this.pop()}}const i5=3;var hf;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(hf||(hf={}));const Gne={type:hf.Marker};class cGe{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],i=n.length,o=this.treeAdapter.getTagName(t),s=this.treeAdapter.getNamespaceURI(t);for(let a=0;a<this.entries.length;a++){const l=this.entries[a];if(l.type===hf.Marker)break;const{element:u}=l;if(this.treeAdapter.getTagName(u)===o&&this.treeAdapter.getNamespaceURI(u)===s){const c=this.treeAdapter.getAttrList(u);c.length===i&&r.push({idx:a,attrs:c})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<i5)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<i5)return;const i=new Map(n.map(s=>[s.name,s.value]));let o=0;for(let s=0;s<r.length;s++){const a=r[s];a.attrs.every(l=>i.get(l.name)===l.value)&&(o+=1,o>=i5&&this.entries.splice(a.idx,1))}}insertMarker(){this.entries.unshift(Gne)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:hf.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:hf.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n>=0&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(Gne);t>=0?this.entries.splice(0,t+1):this.entries.length=0}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===hf.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===hf.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===hf.Element&&n.element===t)}}const Pm={createDocument(){return{nodeName:"#document",mode:nc.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const i=e.childNodes.find(o=>o.nodeName==="#documentType");if(i)i.name=t,i.publicId=n,i.systemId=r;else{const o={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};Pm.appendChild(e,o)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(Pm.isTextNode(n)){n.value+=t;return}}Pm.appendChild(e,Pm.createTextNode(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&Pm.isTextNode(r)?r.value+=t:Pm.insertBefore(e,Pm.createTextNode(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},Sve="html",dGe="about:legacy-compat",fGe="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",Tve=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],hGe=[...Tve,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],pGe=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),Cve=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],mGe=[...Cve,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function Yne(e,t){return t.some(n=>e.startsWith(n))}function gGe(e){return e.name===Sve&&e.publicId===null&&(e.systemId===null||e.systemId===dGe)}function yGe(e){if(e.name!==Sve)return nc.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===fGe)return nc.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),pGe.has(n))return nc.QUIRKS;let r=t===null?hGe:Tve;if(Yne(n,r))return nc.QUIRKS;if(r=t===null?Cve:mGe,Yne(n,r))return nc.LIMITED_QUIRKS}return nc.NO_QUIRKS}const Kne={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},vGe="definitionurl",bGe="definitionURL",wGe=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),xGe=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:ft.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:ft.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:ft.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:ft.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:ft.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:ft.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:ft.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:ft.XML}],["xml:space",{prefix:"xml",name:"space",namespace:ft.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:ft.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:ft.XMLNS}]]),_Ge=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),EGe=new Set([q.B,q.BIG,q.BLOCKQUOTE,q.BODY,q.BR,q.CENTER,q.CODE,q.DD,q.DIV,q.DL,q.DT,q.EM,q.EMBED,q.H1,q.H2,q.H3,q.H4,q.H5,q.H6,q.HEAD,q.HR,q.I,q.IMG,q.LI,q.LISTING,q.MENU,q.META,q.NOBR,q.OL,q.P,q.PRE,q.RUBY,q.S,q.SMALL,q.SPAN,q.STRONG,q.STRIKE,q.SUB,q.SUP,q.TABLE,q.TT,q.U,q.UL,q.VAR]);function SGe(e){const t=e.tagID;return t===q.FONT&&e.attrs.some(({name:r})=>r===Ny.COLOR||r===Ny.SIZE||r===Ny.FACE)||EGe.has(t)}function Ave(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===vGe){e.attrs[t].name=bGe;break}}function kve(e){for(let t=0;t<e.attrs.length;t++){const n=wGe.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function _V(e){for(let t=0;t<e.attrs.length;t++){const n=xGe.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function TGe(e){const t=_Ge.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=Nx(e.tagName))}function CGe(e,t){return t===ft.MATHML&&(e===q.MI||e===q.MO||e===q.MN||e===q.MS||e===q.MTEXT)}function AGe(e,t,n){if(t===ft.MATHML&&e===q.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===Ny.ENCODING){const i=n[r].value.toLowerCase();return i===Kne.TEXT_HTML||i===Kne.APPLICATION_XML}}return t===ft.SVG&&(e===q.FOREIGN_OBJECT||e===q.DESC||e===q.TITLE)}function kGe(e,t,n,r){return(!r||r===ft.HTML)&&AGe(e,t,n)||(!r||r===ft.MATHML)&&CGe(e,t)}const IGe="hidden",RGe=8,DGe=3;var be;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(be||(be={}));const $Ge={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},Ive=new Set([q.TABLE,q.TBODY,q.TFOOT,q.THEAD,q.TR]),Xne={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Pm,onParseError:null};class Qne{constructor(t,n,r=null,i=null){this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=be.INITIAL,this.originalInsertionMode=be.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...Xne,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new nGe(this.options,this),this.activeFormattingElements=new cGe(this.treeAdapter),this.fragmentContextID=r?Nx(this.treeAdapter.getTagName(r)):q.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new uGe(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...Xne,...n};t??(t=r.treeAdapter.createElement(Ne.TEMPLATE,ft.HTML,[]));const i=r.treeAdapter.createElement("documentmock",ft.HTML,[]),o=new this(r,i,t);return o.fragmentContextID===q.TEMPLATE&&o.tmplInsertionModeStack.unshift(be.IN_TEMPLATE),o._initTokenizerForFragmentParsing(),o._insertFakeRootElement(),o._resetInsertionMode(),o._findFormInFragmentContext(),o}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var i;if(!this.onParseError)return;const o=(i=t.location)!==null&&i!==void 0?i:$Ge,s={code:n,startLine:o.startLine,startCol:o.startCol,startOffset:o.startOffset,endLine:r?o.startLine:o.endLine,endCol:r?o.startCol:o.endCol,endOffset:r?o.startOffset:o.endOffset};this.onParseError(s)}onItemPush(t,n,r){var i,o;(o=(i=this.treeAdapter).onItemPush)===null||o===void 0||o.call(i,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(i=(r=this.treeAdapter).onItemPop)===null||i===void 0||i.call(r,t,this.openElements.current),n){let o,s;this.openElements.stackTop===0&&this.fragmentContext?(o=this.fragmentContext,s=this.fragmentContextID):{current:o,currentTagId:s}=this.openElements,this._setContextModes(o,s)}}_setContextModes(t,n){const r=t===this.document||this.treeAdapter.getNamespaceURI(t)===ft.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,ft.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=be.TEXT}switchToPlaintextParsing(){this.insertionMode=be.TEXT,this.originalInsertionMode=be.IN_BODY,this.tokenizer.state=go.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===Ne.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==ft.HTML))switch(this.fragmentContextID){case q.TITLE:case q.TEXTAREA:{this.tokenizer.state=go.RCDATA;break}case q.STYLE:case q.XMP:case q.IFRAME:case q.NOEMBED:case q.NOFRAMES:case q.NOSCRIPT:{this.tokenizer.state=go.RAWTEXT;break}case q.SCRIPT:{this.tokenizer.state=go.SCRIPT_DATA;break}case q.PLAINTEXT:{this.tokenizer.state=go.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",i=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,i),t.location){const s=this.treeAdapter.getChildNodes(this.document).find(a=>this.treeAdapter.isDocumentTypeNode(a));s&&this.treeAdapter.setNodeSourceCodeLocation(s,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,ft.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,ft.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(Ne.HTML,ft.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,q.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const i=this.treeAdapter.getChildNodes(n),o=r?i.lastIndexOf(r):i.length,s=i[o-1];if(this.treeAdapter.getNodeSourceCodeLocation(s)){const{endLine:l,endCol:u,endOffset:c}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(s,{endLine:l,endCol:u,endOffset:c})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(s,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,i=this.treeAdapter.getTagName(t),o=n.type===Kn.END_TAG&&i===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,o)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===q.SVG&&this.treeAdapter.getTagName(n)===Ne.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===ft.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===q.MGLYPH||t.tagID===q.MALIGNMARK)&&!this._isIntegrationPoint(r,n,ft.HTML)}_processToken(t){switch(t.type){case Kn.CHARACTER:{this.onCharacter(t);break}case Kn.NULL_CHARACTER:{this.onNullCharacter(t);break}case Kn.COMMENT:{this.onComment(t);break}case Kn.DOCTYPE:{this.onDoctype(t);break}case Kn.START_TAG:{this._processStartTag(t);break}case Kn.END_TAG:{this.onEndTag(t);break}case Kn.EOF:{this.onEof(t);break}case Kn.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const i=this.treeAdapter.getNamespaceURI(n),o=this.treeAdapter.getAttrList(n);return kGe(t,i,o,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===hf.Marker||this.openElements.contains(i.element)),r=n<0?t-1:n-1;for(let i=r;i>=0;i--){const o=this.activeFormattingElements.entries[i];this._insertElement(o.token,this.treeAdapter.getNamespaceURI(o.element)),o.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=be.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(q.P),this.openElements.popUntilTagNamePopped(q.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case q.TR:{this.insertionMode=be.IN_ROW;return}case q.TBODY:case q.THEAD:case q.TFOOT:{this.insertionMode=be.IN_TABLE_BODY;return}case q.CAPTION:{this.insertionMode=be.IN_CAPTION;return}case q.COLGROUP:{this.insertionMode=be.IN_COLUMN_GROUP;return}case q.TABLE:{this.insertionMode=be.IN_TABLE;return}case q.BODY:{this.insertionMode=be.IN_BODY;return}case q.FRAMESET:{this.insertionMode=be.IN_FRAMESET;return}case q.SELECT:{this._resetInsertionModeForSelect(t);return}case q.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case q.HTML:{this.insertionMode=this.headElement?be.AFTER_HEAD:be.BEFORE_HEAD;return}case q.TD:case q.TH:{if(t>0){this.insertionMode=be.IN_CELL;return}break}case q.HEAD:{if(t>0){this.insertionMode=be.IN_HEAD;return}break}}this.insertionMode=be.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===q.TEMPLATE)break;if(r===q.TABLE){this.insertionMode=be.IN_SELECT_IN_TABLE;return}}this.insertionMode=be.IN_SELECT}_isElementCausesFosterParenting(t){return Ive.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case q.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===ft.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case q.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return Jqe[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){lKe(this,t);return}switch(this.insertionMode){case be.INITIAL:{iE(this,t);break}case be.BEFORE_HTML:{MS(this,t);break}case be.BEFORE_HEAD:{PS(this,t);break}case be.IN_HEAD:{NS(this,t);break}case be.IN_HEAD_NO_SCRIPT:{OS(this,t);break}case be.AFTER_HEAD:{LS(this,t);break}case be.IN_BODY:case be.IN_CAPTION:case be.IN_CELL:case be.IN_TEMPLATE:{Dve(this,t);break}case be.TEXT:case be.IN_SELECT:case be.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case be.IN_TABLE:case be.IN_TABLE_BODY:case be.IN_ROW:{o5(this,t);break}case be.IN_TABLE_TEXT:{Lve(this,t);break}case be.IN_COLUMN_GROUP:{_D(this,t);break}case be.AFTER_BODY:{ED(this,t);break}case be.AFTER_AFTER_BODY:{II(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){aKe(this,t);return}switch(this.insertionMode){case be.INITIAL:{iE(this,t);break}case be.BEFORE_HTML:{MS(this,t);break}case be.BEFORE_HEAD:{PS(this,t);break}case be.IN_HEAD:{NS(this,t);break}case be.IN_HEAD_NO_SCRIPT:{OS(this,t);break}case be.AFTER_HEAD:{LS(this,t);break}case be.TEXT:{this._insertCharacters(t);break}case be.IN_TABLE:case be.IN_TABLE_BODY:case be.IN_ROW:{o5(this,t);break}case be.IN_COLUMN_GROUP:{_D(this,t);break}case be.AFTER_BODY:{ED(this,t);break}case be.AFTER_AFTER_BODY:{II(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){dj(this,t);return}switch(this.insertionMode){case be.INITIAL:case be.BEFORE_HTML:case be.BEFORE_HEAD:case be.IN_HEAD:case be.IN_HEAD_NO_SCRIPT:case be.AFTER_HEAD:case be.IN_BODY:case be.IN_TABLE:case be.IN_CAPTION:case be.IN_COLUMN_GROUP:case be.IN_TABLE_BODY:case be.IN_ROW:case be.IN_CELL:case be.IN_SELECT:case be.IN_SELECT_IN_TABLE:case be.IN_TEMPLATE:case be.IN_FRAMESET:case be.AFTER_FRAMESET:{dj(this,t);break}case be.IN_TABLE_TEXT:{oE(this,t);break}case be.AFTER_BODY:{BGe(this,t);break}case be.AFTER_AFTER_BODY:case be.AFTER_AFTER_FRAMESET:{jGe(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case be.INITIAL:{zGe(this,t);break}case be.BEFORE_HEAD:case be.IN_HEAD:case be.IN_HEAD_NO_SCRIPT:case be.AFTER_HEAD:{this._err(t,qe.misplacedDoctype);break}case be.IN_TABLE_TEXT:{oE(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,qe.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?uKe(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case be.INITIAL:{iE(this,t);break}case be.BEFORE_HTML:{UGe(this,t);break}case be.BEFORE_HEAD:{VGe(this,t);break}case be.IN_HEAD:{Md(this,t);break}case be.IN_HEAD_NO_SCRIPT:{GGe(this,t);break}case be.AFTER_HEAD:{KGe(this,t);break}case be.IN_BODY:{Oa(this,t);break}case be.IN_TABLE:{yw(this,t);break}case be.IN_TABLE_TEXT:{oE(this,t);break}case be.IN_CAPTION:{WYe(this,t);break}case be.IN_COLUMN_GROUP:{TV(this,t);break}case be.IN_TABLE_BODY:{LP(this,t);break}case be.IN_ROW:{FP(this,t);break}case be.IN_CELL:{YYe(this,t);break}case be.IN_SELECT:{jve(this,t);break}case be.IN_SELECT_IN_TABLE:{XYe(this,t);break}case be.IN_TEMPLATE:{JYe(this,t);break}case be.AFTER_BODY:{eKe(this,t);break}case be.IN_FRAMESET:{tKe(this,t);break}case be.AFTER_FRAMESET:{rKe(this,t);break}case be.AFTER_AFTER_BODY:{oKe(this,t);break}case be.AFTER_AFTER_FRAMESET:{sKe(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?cKe(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case be.INITIAL:{iE(this,t);break}case be.BEFORE_HTML:{HGe(this,t);break}case be.BEFORE_HEAD:{WGe(this,t);break}case be.IN_HEAD:{qGe(this,t);break}case be.IN_HEAD_NO_SCRIPT:{YGe(this,t);break}case be.AFTER_HEAD:{XGe(this,t);break}case be.IN_BODY:{OP(this,t);break}case be.TEXT:{NYe(this,t);break}case be.IN_TABLE:{bT(this,t);break}case be.IN_TABLE_TEXT:{oE(this,t);break}case be.IN_CAPTION:{qYe(this,t);break}case be.IN_COLUMN_GROUP:{GYe(this,t);break}case be.IN_TABLE_BODY:{fj(this,t);break}case be.IN_ROW:{Bve(this,t);break}case be.IN_CELL:{KYe(this,t);break}case be.IN_SELECT:{zve(this,t);break}case be.IN_SELECT_IN_TABLE:{QYe(this,t);break}case be.IN_TEMPLATE:{ZYe(this,t);break}case be.AFTER_BODY:{Hve(this,t);break}case be.IN_FRAMESET:{nKe(this,t);break}case be.AFTER_FRAMESET:{iKe(this,t);break}case be.AFTER_AFTER_BODY:{II(this,t);break}}}onEof(t){switch(this.insertionMode){case be.INITIAL:{iE(this,t);break}case be.BEFORE_HTML:{MS(this,t);break}case be.BEFORE_HEAD:{PS(this,t);break}case be.IN_HEAD:{NS(this,t);break}case be.IN_HEAD_NO_SCRIPT:{OS(this,t);break}case be.AFTER_HEAD:{LS(this,t);break}case be.IN_BODY:case be.IN_TABLE:case be.IN_CAPTION:case be.IN_COLUMN_GROUP:case be.IN_TABLE_BODY:case be.IN_ROW:case be.IN_CELL:case be.IN_SELECT:case be.IN_SELECT_IN_TABLE:{Nve(this,t);break}case be.TEXT:{OYe(this,t);break}case be.IN_TABLE_TEXT:{oE(this,t);break}case be.IN_TEMPLATE:{Uve(this,t);break}case be.AFTER_BODY:case be.IN_FRAMESET:case be.AFTER_FRAMESET:case be.AFTER_AFTER_BODY:case be.AFTER_AFTER_FRAMESET:{SV(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===he.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case be.IN_HEAD:case be.IN_HEAD_NO_SCRIPT:case be.AFTER_HEAD:case be.TEXT:case be.IN_COLUMN_GROUP:case be.IN_SELECT:case be.IN_SELECT_IN_TABLE:case be.IN_FRAMESET:case be.AFTER_FRAMESET:{this._insertCharacters(t);break}case be.IN_BODY:case be.IN_CAPTION:case be.IN_CELL:case be.IN_TEMPLATE:case be.AFTER_BODY:case be.AFTER_AFTER_BODY:case be.AFTER_AFTER_FRAMESET:{Rve(this,t);break}case be.IN_TABLE:case be.IN_TABLE_BODY:case be.IN_ROW:{o5(this,t);break}case be.IN_TABLE_TEXT:{Ove(this,t);break}}}}function MGe(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):Pve(e,t),n}function PGe(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[r])&&(n=i)}return n||(e.openElements.shortenToLength(r<0?0:r),e.activeFormattingElements.removeEntry(t)),n}function NGe(e,t,n){let r=t,i=e.openElements.getCommonAncestor(t);for(let o=0,s=i;s!==n;o++,s=i){i=e.openElements.getCommonAncestor(s);const a=e.activeFormattingElements.getElementEntry(s),l=a&&o>=DGe;!a||l?(l&&e.activeFormattingElements.removeEntry(a),e.openElements.remove(s)):(s=OGe(e,a),r===t&&(e.activeFormattingElements.bookmark=a),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(s,r),r=s)}return r}function OGe(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function LGe(e,t,n){const r=e.treeAdapter.getTagName(t),i=Nx(r);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(n);else{const o=e.treeAdapter.getNamespaceURI(t);i===q.TEMPLATE&&o===ft.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function FGe(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:i}=n,o=e.treeAdapter.createElement(i.tagName,r,i.attrs);e._adoptNodes(t,o),e.treeAdapter.appendChild(t,o),e.activeFormattingElements.insertElementAfterBookmark(o,i),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,o,i.tagID)}function EV(e,t){for(let n=0;n<RGe;n++){const r=MGe(e,t);if(!r)break;const i=PGe(e,r);if(!i)break;e.activeFormattingElements.bookmark=r;const o=NGe(e,i,r.element),s=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(o),s&&LGe(e,s,o),FGe(e,i,r)}}function dj(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function BGe(e,t){e._appendCommentNode(t,e.openElements.items[0])}function jGe(e,t){e._appendCommentNode(t,e.document)}function SV(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(r);if(i&&!i.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const o=e.openElements.items[1],s=e.treeAdapter.getNodeSourceCodeLocation(o);s&&!s.endTag&&e._setEndLocation(o,t)}}}}function zGe(e,t){e._setDocumentType(t);const n=t.forceQuirks?nc.QUIRKS:yGe(t);gGe(t)||e._err(t,qe.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=be.BEFORE_HTML}function iE(e,t){e._err(t,qe.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,nc.QUIRKS),e.insertionMode=be.BEFORE_HTML,e._processToken(t)}function UGe(e,t){t.tagID===q.HTML?(e._insertElement(t,ft.HTML),e.insertionMode=be.BEFORE_HEAD):MS(e,t)}function HGe(e,t){const n=t.tagID;(n===q.HTML||n===q.HEAD||n===q.BODY||n===q.BR)&&MS(e,t)}function MS(e,t){e._insertFakeRootElement(),e.insertionMode=be.BEFORE_HEAD,e._processToken(t)}function VGe(e,t){switch(t.tagID){case q.HTML:{Oa(e,t);break}case q.HEAD:{e._insertElement(t,ft.HTML),e.headElement=e.openElements.current,e.insertionMode=be.IN_HEAD;break}default:PS(e,t)}}function WGe(e,t){const n=t.tagID;n===q.HEAD||n===q.BODY||n===q.HTML||n===q.BR?PS(e,t):e._err(t,qe.endTagWithoutMatchingOpenElement)}function PS(e,t){e._insertFakeElement(Ne.HEAD,q.HEAD),e.headElement=e.openElements.current,e.insertionMode=be.IN_HEAD,e._processToken(t)}function Md(e,t){switch(t.tagID){case q.HTML:{Oa(e,t);break}case q.BASE:case q.BASEFONT:case q.BGSOUND:case q.LINK:case q.META:{e._appendElement(t,ft.HTML),t.ackSelfClosing=!0;break}case q.TITLE:{e._switchToTextParsing(t,go.RCDATA);break}case q.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,go.RAWTEXT):(e._insertElement(t,ft.HTML),e.insertionMode=be.IN_HEAD_NO_SCRIPT);break}case q.NOFRAMES:case q.STYLE:{e._switchToTextParsing(t,go.RAWTEXT);break}case q.SCRIPT:{e._switchToTextParsing(t,go.SCRIPT_DATA);break}case q.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=be.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(be.IN_TEMPLATE);break}case q.HEAD:{e._err(t,qe.misplacedStartTagForHeadElement);break}default:NS(e,t)}}function qGe(e,t){switch(t.tagID){case q.HEAD:{e.openElements.pop(),e.insertionMode=be.AFTER_HEAD;break}case q.BODY:case q.BR:case q.HTML:{NS(e,t);break}case q.TEMPLATE:{Hv(e,t);break}default:e._err(t,qe.endTagWithoutMatchingOpenElement)}}function Hv(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==q.TEMPLATE&&e._err(t,qe.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(q.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,qe.endTagWithoutMatchingOpenElement)}function NS(e,t){e.openElements.pop(),e.insertionMode=be.AFTER_HEAD,e._processToken(t)}function GGe(e,t){switch(t.tagID){case q.HTML:{Oa(e,t);break}case q.BASEFONT:case q.BGSOUND:case q.HEAD:case q.LINK:case q.META:case q.NOFRAMES:case q.STYLE:{Md(e,t);break}case q.NOSCRIPT:{e._err(t,qe.nestedNoscriptInHead);break}default:OS(e,t)}}function YGe(e,t){switch(t.tagID){case q.NOSCRIPT:{e.openElements.pop(),e.insertionMode=be.IN_HEAD;break}case q.BR:{OS(e,t);break}default:e._err(t,qe.endTagWithoutMatchingOpenElement)}}function OS(e,t){const n=t.type===Kn.EOF?qe.openElementsLeftAfterEof:qe.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=be.IN_HEAD,e._processToken(t)}function KGe(e,t){switch(t.tagID){case q.HTML:{Oa(e,t);break}case q.BODY:{e._insertElement(t,ft.HTML),e.framesetOk=!1,e.insertionMode=be.IN_BODY;break}case q.FRAMESET:{e._insertElement(t,ft.HTML),e.insertionMode=be.IN_FRAMESET;break}case q.BASE:case q.BASEFONT:case q.BGSOUND:case q.LINK:case q.META:case q.NOFRAMES:case q.SCRIPT:case q.STYLE:case q.TEMPLATE:case q.TITLE:{e._err(t,qe.abandonedHeadElementChild),e.openElements.push(e.headElement,q.HEAD),Md(e,t),e.openElements.remove(e.headElement);break}case q.HEAD:{e._err(t,qe.misplacedStartTagForHeadElement);break}default:LS(e,t)}}function XGe(e,t){switch(t.tagID){case q.BODY:case q.HTML:case q.BR:{LS(e,t);break}case q.TEMPLATE:{Hv(e,t);break}default:e._err(t,qe.endTagWithoutMatchingOpenElement)}}function LS(e,t){e._insertFakeElement(Ne.BODY,q.BODY),e.insertionMode=be.IN_BODY,NP(e,t)}function NP(e,t){switch(t.type){case Kn.CHARACTER:{Dve(e,t);break}case Kn.WHITESPACE_CHARACTER:{Rve(e,t);break}case Kn.COMMENT:{dj(e,t);break}case Kn.START_TAG:{Oa(e,t);break}case Kn.END_TAG:{OP(e,t);break}case Kn.EOF:{Nve(e,t);break}}}function Rve(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function Dve(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function QGe(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function JGe(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function ZGe(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,ft.HTML),e.insertionMode=be.IN_FRAMESET)}function eYe(e,t){e.openElements.hasInButtonScope(q.P)&&e._closePElement(),e._insertElement(t,ft.HTML)}function tYe(e,t){e.openElements.hasInButtonScope(q.P)&&e._closePElement(),cj.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,ft.HTML)}function nYe(e,t){e.openElements.hasInButtonScope(q.P)&&e._closePElement(),e._insertElement(t,ft.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function rYe(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(q.P)&&e._closePElement(),e._insertElement(t,ft.HTML),n||(e.formElement=e.openElements.current))}function iYe(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const i=e.openElements.tagIDs[r];if(n===q.LI&&i===q.LI||(n===q.DD||n===q.DT)&&(i===q.DD||i===q.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==q.ADDRESS&&i!==q.DIV&&i!==q.P&&e._isSpecialElement(e.openElements.items[r],i))break}e.openElements.hasInButtonScope(q.P)&&e._closePElement(),e._insertElement(t,ft.HTML)}function oYe(e,t){e.openElements.hasInButtonScope(q.P)&&e._closePElement(),e._insertElement(t,ft.HTML),e.tokenizer.state=go.PLAINTEXT}function sYe(e,t){e.openElements.hasInScope(q.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(q.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,ft.HTML),e.framesetOk=!1}function aYe(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(Ne.A);n&&(EV(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,ft.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function lYe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,ft.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function uYe(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(q.NOBR)&&(EV(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,ft.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function cYe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,ft.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function dYe(e,t){e.treeAdapter.getDocumentMode(e.document)!==nc.QUIRKS&&e.openElements.hasInButtonScope(q.P)&&e._closePElement(),e._insertElement(t,ft.HTML),e.framesetOk=!1,e.insertionMode=be.IN_TABLE}function $ve(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,ft.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function Mve(e){const t=vve(e,Ny.TYPE);return t!=null&&t.toLowerCase()===IGe}function fYe(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,ft.HTML),Mve(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function hYe(e,t){e._appendElement(t,ft.HTML),t.ackSelfClosing=!0}function pYe(e,t){e.openElements.hasInButtonScope(q.P)&&e._closePElement(),e._appendElement(t,ft.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function mYe(e,t){t.tagName=Ne.IMG,t.tagID=q.IMG,$ve(e,t)}function gYe(e,t){e._insertElement(t,ft.HTML),e.skipNextNewLine=!0,e.tokenizer.state=go.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=be.TEXT}function yYe(e,t){e.openElements.hasInButtonScope(q.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,go.RAWTEXT)}function vYe(e,t){e.framesetOk=!1,e._switchToTextParsing(t,go.RAWTEXT)}function Jne(e,t){e._switchToTextParsing(t,go.RAWTEXT)}function bYe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,ft.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===be.IN_TABLE||e.insertionMode===be.IN_CAPTION||e.insertionMode===be.IN_TABLE_BODY||e.insertionMode===be.IN_ROW||e.insertionMode===be.IN_CELL?be.IN_SELECT_IN_TABLE:be.IN_SELECT}function wYe(e,t){e.openElements.currentTagId===q.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,ft.HTML)}function xYe(e,t){e.openElements.hasInScope(q.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,ft.HTML)}function _Ye(e,t){e.openElements.hasInScope(q.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(q.RTC),e._insertElement(t,ft.HTML)}function EYe(e,t){e._reconstructActiveFormattingElements(),Ave(t),_V(t),t.selfClosing?e._appendElement(t,ft.MATHML):e._insertElement(t,ft.MATHML),t.ackSelfClosing=!0}function SYe(e,t){e._reconstructActiveFormattingElements(),kve(t),_V(t),t.selfClosing?e._appendElement(t,ft.SVG):e._insertElement(t,ft.SVG),t.ackSelfClosing=!0}function Zne(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,ft.HTML)}function Oa(e,t){switch(t.tagID){case q.I:case q.S:case q.B:case q.U:case q.EM:case q.TT:case q.BIG:case q.CODE:case q.FONT:case q.SMALL:case q.STRIKE:case q.STRONG:{lYe(e,t);break}case q.A:{aYe(e,t);break}case q.H1:case q.H2:case q.H3:case q.H4:case q.H5:case q.H6:{tYe(e,t);break}case q.P:case q.DL:case q.OL:case q.UL:case q.DIV:case q.DIR:case q.NAV:case q.MAIN:case q.MENU:case q.ASIDE:case q.CENTER:case q.FIGURE:case q.FOOTER:case q.HEADER:case q.HGROUP:case q.DIALOG:case q.DETAILS:case q.ADDRESS:case q.ARTICLE:case q.SEARCH:case q.SECTION:case q.SUMMARY:case q.FIELDSET:case q.BLOCKQUOTE:case q.FIGCAPTION:{eYe(e,t);break}case q.LI:case q.DD:case q.DT:{iYe(e,t);break}case q.BR:case q.IMG:case q.WBR:case q.AREA:case q.EMBED:case q.KEYGEN:{$ve(e,t);break}case q.HR:{pYe(e,t);break}case q.RB:case q.RTC:{xYe(e,t);break}case q.RT:case q.RP:{_Ye(e,t);break}case q.PRE:case q.LISTING:{nYe(e,t);break}case q.XMP:{yYe(e,t);break}case q.SVG:{SYe(e,t);break}case q.HTML:{QGe(e,t);break}case q.BASE:case q.LINK:case q.META:case q.STYLE:case q.TITLE:case q.SCRIPT:case q.BGSOUND:case q.BASEFONT:case q.TEMPLATE:{Md(e,t);break}case q.BODY:{JGe(e,t);break}case q.FORM:{rYe(e,t);break}case q.NOBR:{uYe(e,t);break}case q.MATH:{EYe(e,t);break}case q.TABLE:{dYe(e,t);break}case q.INPUT:{fYe(e,t);break}case q.PARAM:case q.TRACK:case q.SOURCE:{hYe(e,t);break}case q.IMAGE:{mYe(e,t);break}case q.BUTTON:{sYe(e,t);break}case q.APPLET:case q.OBJECT:case q.MARQUEE:{cYe(e,t);break}case q.IFRAME:{vYe(e,t);break}case q.SELECT:{bYe(e,t);break}case q.OPTION:case q.OPTGROUP:{wYe(e,t);break}case q.NOEMBED:case q.NOFRAMES:{Jne(e,t);break}case q.FRAMESET:{ZGe(e,t);break}case q.TEXTAREA:{gYe(e,t);break}case q.NOSCRIPT:{e.options.scriptingEnabled?Jne(e,t):Zne(e,t);break}case q.PLAINTEXT:{oYe(e,t);break}case q.COL:case q.TH:case q.TD:case q.TR:case q.HEAD:case q.FRAME:case q.TBODY:case q.TFOOT:case q.THEAD:case q.CAPTION:case q.COLGROUP:break;default:Zne(e,t)}}function TYe(e,t){if(e.openElements.hasInScope(q.BODY)&&(e.insertionMode=be.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function CYe(e,t){e.openElements.hasInScope(q.BODY)&&(e.insertionMode=be.AFTER_BODY,Hve(e,t))}function AYe(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function kYe(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(q.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(q.FORM):n&&e.openElements.remove(n))}function IYe(e){e.openElements.hasInButtonScope(q.P)||e._insertFakeElement(Ne.P,q.P),e._closePElement()}function RYe(e){e.openElements.hasInListItemScope(q.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(q.LI),e.openElements.popUntilTagNamePopped(q.LI))}function DYe(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function $Ye(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function MYe(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function PYe(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(Ne.BR,q.BR),e.openElements.pop(),e.framesetOk=!1}function Pve(e,t){const n=t.tagName,r=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const o=e.openElements.items[i],s=e.openElements.tagIDs[i];if(r===s&&(r!==q.UNKNOWN||e.treeAdapter.getTagName(o)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(o,s))break}}function OP(e,t){switch(t.tagID){case q.A:case q.B:case q.I:case q.S:case q.U:case q.EM:case q.TT:case q.BIG:case q.CODE:case q.FONT:case q.NOBR:case q.SMALL:case q.STRIKE:case q.STRONG:{EV(e,t);break}case q.P:{IYe(e);break}case q.DL:case q.UL:case q.OL:case q.DIR:case q.DIV:case q.NAV:case q.PRE:case q.MAIN:case q.MENU:case q.ASIDE:case q.BUTTON:case q.CENTER:case q.FIGURE:case q.FOOTER:case q.HEADER:case q.HGROUP:case q.DIALOG:case q.ADDRESS:case q.ARTICLE:case q.DETAILS:case q.SEARCH:case q.SECTION:case q.SUMMARY:case q.LISTING:case q.FIELDSET:case q.BLOCKQUOTE:case q.FIGCAPTION:{AYe(e,t);break}case q.LI:{RYe(e);break}case q.DD:case q.DT:{DYe(e,t);break}case q.H1:case q.H2:case q.H3:case q.H4:case q.H5:case q.H6:{$Ye(e);break}case q.BR:{PYe(e);break}case q.BODY:{TYe(e,t);break}case q.HTML:{CYe(e,t);break}case q.FORM:{kYe(e);break}case q.APPLET:case q.OBJECT:case q.MARQUEE:{MYe(e,t);break}case q.TEMPLATE:{Hv(e,t);break}default:Pve(e,t)}}function Nve(e,t){e.tmplInsertionModeStack.length>0?Uve(e,t):SV(e,t)}function NYe(e,t){var n;t.tagID===q.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function OYe(e,t){e._err(t,qe.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function o5(e,t){if(Ive.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=be.IN_TABLE_TEXT,t.type){case Kn.CHARACTER:{Lve(e,t);break}case Kn.WHITESPACE_CHARACTER:{Ove(e,t);break}}else VC(e,t)}function LYe(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,ft.HTML),e.insertionMode=be.IN_CAPTION}function FYe(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,ft.HTML),e.insertionMode=be.IN_COLUMN_GROUP}function BYe(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(Ne.COLGROUP,q.COLGROUP),e.insertionMode=be.IN_COLUMN_GROUP,TV(e,t)}function jYe(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,ft.HTML),e.insertionMode=be.IN_TABLE_BODY}function zYe(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(Ne.TBODY,q.TBODY),e.insertionMode=be.IN_TABLE_BODY,LP(e,t)}function UYe(e,t){e.openElements.hasInTableScope(q.TABLE)&&(e.openElements.popUntilTagNamePopped(q.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function HYe(e,t){Mve(t)?e._appendElement(t,ft.HTML):VC(e,t),t.ackSelfClosing=!0}function VYe(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,ft.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function yw(e,t){switch(t.tagID){case q.TD:case q.TH:case q.TR:{zYe(e,t);break}case q.STYLE:case q.SCRIPT:case q.TEMPLATE:{Md(e,t);break}case q.COL:{BYe(e,t);break}case q.FORM:{VYe(e,t);break}case q.TABLE:{UYe(e,t);break}case q.TBODY:case q.TFOOT:case q.THEAD:{jYe(e,t);break}case q.INPUT:{HYe(e,t);break}case q.CAPTION:{LYe(e,t);break}case q.COLGROUP:{FYe(e,t);break}default:VC(e,t)}}function bT(e,t){switch(t.tagID){case q.TABLE:{e.openElements.hasInTableScope(q.TABLE)&&(e.openElements.popUntilTagNamePopped(q.TABLE),e._resetInsertionMode());break}case q.TEMPLATE:{Hv(e,t);break}case q.BODY:case q.CAPTION:case q.COL:case q.COLGROUP:case q.HTML:case q.TBODY:case q.TD:case q.TFOOT:case q.TH:case q.THEAD:case q.TR:break;default:VC(e,t)}}function VC(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,NP(e,t),e.fosterParentingEnabled=n}function Ove(e,t){e.pendingCharacterTokens.push(t)}function Lve(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function oE(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)VC(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const Fve=new Set([q.CAPTION,q.COL,q.COLGROUP,q.TBODY,q.TD,q.TFOOT,q.TH,q.THEAD,q.TR]);function WYe(e,t){const n=t.tagID;Fve.has(n)?e.openElements.hasInTableScope(q.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(q.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=be.IN_TABLE,yw(e,t)):Oa(e,t)}function qYe(e,t){const n=t.tagID;switch(n){case q.CAPTION:case q.TABLE:{e.openElements.hasInTableScope(q.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(q.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=be.IN_TABLE,n===q.TABLE&&bT(e,t));break}case q.BODY:case q.COL:case q.COLGROUP:case q.HTML:case q.TBODY:case q.TD:case q.TFOOT:case q.TH:case q.THEAD:case q.TR:break;default:OP(e,t)}}function TV(e,t){switch(t.tagID){case q.HTML:{Oa(e,t);break}case q.COL:{e._appendElement(t,ft.HTML),t.ackSelfClosing=!0;break}case q.TEMPLATE:{Md(e,t);break}default:_D(e,t)}}function GYe(e,t){switch(t.tagID){case q.COLGROUP:{e.openElements.currentTagId===q.COLGROUP&&(e.openElements.pop(),e.insertionMode=be.IN_TABLE);break}case q.TEMPLATE:{Hv(e,t);break}case q.COL:break;default:_D(e,t)}}function _D(e,t){e.openElements.currentTagId===q.COLGROUP&&(e.openElements.pop(),e.insertionMode=be.IN_TABLE,e._processToken(t))}function LP(e,t){switch(t.tagID){case q.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,ft.HTML),e.insertionMode=be.IN_ROW;break}case q.TH:case q.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(Ne.TR,q.TR),e.insertionMode=be.IN_ROW,FP(e,t);break}case q.CAPTION:case q.COL:case q.COLGROUP:case q.TBODY:case q.TFOOT:case q.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=be.IN_TABLE,yw(e,t));break}default:yw(e,t)}}function fj(e,t){const n=t.tagID;switch(t.tagID){case q.TBODY:case q.TFOOT:case q.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=be.IN_TABLE);break}case q.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=be.IN_TABLE,bT(e,t));break}case q.BODY:case q.CAPTION:case q.COL:case q.COLGROUP:case q.HTML:case q.TD:case q.TH:case q.TR:break;default:bT(e,t)}}function FP(e,t){switch(t.tagID){case q.TH:case q.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,ft.HTML),e.insertionMode=be.IN_CELL,e.activeFormattingElements.insertMarker();break}case q.CAPTION:case q.COL:case q.COLGROUP:case q.TBODY:case q.TFOOT:case q.THEAD:case q.TR:{e.openElements.hasInTableScope(q.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=be.IN_TABLE_BODY,LP(e,t));break}default:yw(e,t)}}function Bve(e,t){switch(t.tagID){case q.TR:{e.openElements.hasInTableScope(q.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=be.IN_TABLE_BODY);break}case q.TABLE:{e.openElements.hasInTableScope(q.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=be.IN_TABLE_BODY,fj(e,t));break}case q.TBODY:case q.TFOOT:case q.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(q.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=be.IN_TABLE_BODY,fj(e,t));break}case q.BODY:case q.CAPTION:case q.COL:case q.COLGROUP:case q.HTML:case q.TD:case q.TH:break;default:bT(e,t)}}function YYe(e,t){const n=t.tagID;Fve.has(n)?(e.openElements.hasInTableScope(q.TD)||e.openElements.hasInTableScope(q.TH))&&(e._closeTableCell(),FP(e,t)):Oa(e,t)}function KYe(e,t){const n=t.tagID;switch(n){case q.TD:case q.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=be.IN_ROW);break}case q.TABLE:case q.TBODY:case q.TFOOT:case q.THEAD:case q.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),Bve(e,t));break}case q.BODY:case q.CAPTION:case q.COL:case q.COLGROUP:case q.HTML:break;default:OP(e,t)}}function jve(e,t){switch(t.tagID){case q.HTML:{Oa(e,t);break}case q.OPTION:{e.openElements.currentTagId===q.OPTION&&e.openElements.pop(),e._insertElement(t,ft.HTML);break}case q.OPTGROUP:{e.openElements.currentTagId===q.OPTION&&e.openElements.pop(),e.openElements.currentTagId===q.OPTGROUP&&e.openElements.pop(),e._insertElement(t,ft.HTML);break}case q.HR:{e.openElements.currentTagId===q.OPTION&&e.openElements.pop(),e.openElements.currentTagId===q.OPTGROUP&&e.openElements.pop(),e._appendElement(t,ft.HTML),t.ackSelfClosing=!0;break}case q.INPUT:case q.KEYGEN:case q.TEXTAREA:case q.SELECT:{e.openElements.hasInSelectScope(q.SELECT)&&(e.openElements.popUntilTagNamePopped(q.SELECT),e._resetInsertionMode(),t.tagID!==q.SELECT&&e._processStartTag(t));break}case q.SCRIPT:case q.TEMPLATE:{Md(e,t);break}}}function zve(e,t){switch(t.tagID){case q.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===q.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===q.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===q.OPTGROUP&&e.openElements.pop();break}case q.OPTION:{e.openElements.currentTagId===q.OPTION&&e.openElements.pop();break}case q.SELECT:{e.openElements.hasInSelectScope(q.SELECT)&&(e.openElements.popUntilTagNamePopped(q.SELECT),e._resetInsertionMode());break}case q.TEMPLATE:{Hv(e,t);break}}}function XYe(e,t){const n=t.tagID;n===q.CAPTION||n===q.TABLE||n===q.TBODY||n===q.TFOOT||n===q.THEAD||n===q.TR||n===q.TD||n===q.TH?(e.openElements.popUntilTagNamePopped(q.SELECT),e._resetInsertionMode(),e._processStartTag(t)):jve(e,t)}function QYe(e,t){const n=t.tagID;n===q.CAPTION||n===q.TABLE||n===q.TBODY||n===q.TFOOT||n===q.THEAD||n===q.TR||n===q.TD||n===q.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(q.SELECT),e._resetInsertionMode(),e.onEndTag(t)):zve(e,t)}function JYe(e,t){switch(t.tagID){case q.BASE:case q.BASEFONT:case q.BGSOUND:case q.LINK:case q.META:case q.NOFRAMES:case q.SCRIPT:case q.STYLE:case q.TEMPLATE:case q.TITLE:{Md(e,t);break}case q.CAPTION:case q.COLGROUP:case q.TBODY:case q.TFOOT:case q.THEAD:{e.tmplInsertionModeStack[0]=be.IN_TABLE,e.insertionMode=be.IN_TABLE,yw(e,t);break}case q.COL:{e.tmplInsertionModeStack[0]=be.IN_COLUMN_GROUP,e.insertionMode=be.IN_COLUMN_GROUP,TV(e,t);break}case q.TR:{e.tmplInsertionModeStack[0]=be.IN_TABLE_BODY,e.insertionMode=be.IN_TABLE_BODY,LP(e,t);break}case q.TD:case q.TH:{e.tmplInsertionModeStack[0]=be.IN_ROW,e.insertionMode=be.IN_ROW,FP(e,t);break}default:e.tmplInsertionModeStack[0]=be.IN_BODY,e.insertionMode=be.IN_BODY,Oa(e,t)}}function ZYe(e,t){t.tagID===q.TEMPLATE&&Hv(e,t)}function Uve(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(q.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):SV(e,t)}function eKe(e,t){t.tagID===q.HTML?Oa(e,t):ED(e,t)}function Hve(e,t){var n;if(t.tagID===q.HTML){if(e.fragmentContext||(e.insertionMode=be.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===q.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else ED(e,t)}function ED(e,t){e.insertionMode=be.IN_BODY,NP(e,t)}function tKe(e,t){switch(t.tagID){case q.HTML:{Oa(e,t);break}case q.FRAMESET:{e._insertElement(t,ft.HTML);break}case q.FRAME:{e._appendElement(t,ft.HTML),t.ackSelfClosing=!0;break}case q.NOFRAMES:{Md(e,t);break}}}function nKe(e,t){t.tagID===q.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==q.FRAMESET&&(e.insertionMode=be.AFTER_FRAMESET))}function rKe(e,t){switch(t.tagID){case q.HTML:{Oa(e,t);break}case q.NOFRAMES:{Md(e,t);break}}}function iKe(e,t){t.tagID===q.HTML&&(e.insertionMode=be.AFTER_AFTER_FRAMESET)}function oKe(e,t){t.tagID===q.HTML?Oa(e,t):II(e,t)}function II(e,t){e.insertionMode=be.IN_BODY,NP(e,t)}function sKe(e,t){switch(t.tagID){case q.HTML:{Oa(e,t);break}case q.NOFRAMES:{Md(e,t);break}}}function aKe(e,t){t.chars=Ti,e._insertCharacters(t)}function lKe(e,t){e._insertCharacters(t),e.framesetOk=!1}function Vve(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==ft.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function uKe(e,t){if(SGe(t))Vve(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===ft.MATHML?Ave(t):r===ft.SVG&&(TGe(t),kve(t)),_V(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function cKe(e,t){if(t.tagID===q.P||t.tagID===q.BR){Vve(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===ft.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(r);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(n);break}}}Ne.AREA,Ne.BASE,Ne.BASEFONT,Ne.BGSOUND,Ne.BR,Ne.COL,Ne.EMBED,Ne.FRAME,Ne.HR,Ne.IMG,Ne.INPUT,Ne.KEYGEN,Ne.LINK,Ne.META,Ne.PARAM,Ne.SOURCE,Ne.TRACK,Ne.WBR;const dKe=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,fKe=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),ere={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function Wve(e,t){const n=_Ke(e),r=hve("type",{handlers:{root:hKe,element:pKe,text:mKe,comment:Gve,doctype:gKe,raw:vKe},unknown:bKe}),i={parser:n?new Qne(ere):Qne.getFragmentParser(void 0,ere),handle(a){r(a,i)},stitches:!1,options:t||{}};r(e,i),Ox(i,ah());const o=n?i.parser.document:i.parser.getFragment(),s=hqe(o,{file:i.options.file});return i.stitches&&yV(s,"comment",function(a,l,u){const c=a;if(c.value.stitch&&u&&l!==void 0){const d=u.children;return d[l]=c.value.stitch,l}}),s.type==="root"&&s.children.length===1&&s.children[0].type===e.type?s.children[0]:s}function qve(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function hKe(e,t){qve(e.children,t)}function pKe(e,t){wKe(e,t),qve(e.children,t),xKe(e,t)}function mKe(e,t){t.parser.tokenizer.state>4&&(t.parser.tokenizer.state=0);const n={type:Kn.CHARACTER,chars:e.value,location:WC(e)};Ox(t,ah(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function gKe(e,t){const n={type:Kn.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:WC(e)};Ox(t,ah(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function yKe(e,t){t.stitches=!0;const n=EKe(e);if("children"in e&&"children"in n){const r=Wve({type:"root",children:e.children},t.options);n.children=r.children}Gve({type:"comment",value:{stitch:n}},t)}function Gve(e,t){const n=e.value,r={type:Kn.COMMENT,data:n,location:WC(e)};Ox(t,ah(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function vKe(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,Yve(t,ah(e)),t.parser.tokenizer.write(t.options.tagfilter?e.value.replace(dKe,"&lt;$1$2"):e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=t.parser.tokenizer._consume();t.parser.tokenizer._callState(n)}}function bKe(e,t){const n=e;if(t.options.passThrough&&t.options.passThrough.includes(n.type))yKe(n,t);else{let r="";throw fKe.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function Ox(e,t){Yve(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=go.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function Yve(e,t){if(t&&t.offset!==void 0){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function wKe(e,t){const n=e.tagName.toLowerCase();if(t.parser.tokenizer.state===go.PLAINTEXT)return;Ox(t,ah(e));const r=t.parser.openElements.current;let i="namespaceURI"in r?r.namespaceURI:Sy.html;i===Sy.html&&n==="svg"&&(i=Sy.svg);const o=kqe({...e,children:[]},{space:i===Sy.svg?"svg":"html"}),s={type:Kn.START_TAG,tagName:n,tagID:Nx(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in o?o.attrs:[],location:WC(e)};t.parser.currentToken=s,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=n}function xKe(e,t){const n=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&Oqe.includes(n)||t.parser.tokenizer.state===go.PLAINTEXT)return;Ox(t,DP(e));const r={type:Kn.END_TAG,tagName:n,tagID:Nx(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:WC(e)};t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken),n===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===go.RCDATA||t.parser.tokenizer.state===go.RAWTEXT||t.parser.tokenizer.state===go.SCRIPT_DATA)&&(t.parser.tokenizer.state=go.DATA)}function _Ke(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName.toLowerCase()==="html"))}function WC(e){const t=ah(e)||{line:void 0,column:void 0,offset:void 0},n=DP(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function EKe(e){return"children"in e?gw({...e,children:[]}):gw(e)}function SKe(e){return function(t,n){return Wve(t,{...e,file:n})}}function Xs({text:e,required:t}){const n={img({node:i,width:o,height:s,...a}){return $.jsx(a0,{...a,h:s,w:o,ref:void 0})},p({node:i,...o}){return $.jsx(it,{...o,pb:8,fw:"inherit",ref:void 0})},h1({node:i,...o}){return $.jsx(Ki,{...o,order:1,...o,pb:12})},h2({node:i,...o}){return $.jsx(Ki,{...o,order:2,...o,pb:12})},h3({node:i,...o}){return $.jsx(Ki,{...o,order:3,...o,pb:12})},h4({node:i,...o}){return $.jsx(Ki,{...o,order:4,...o,pb:12})},h5({node:i,...o}){return $.jsx(Ki,{...o,order:5,...o,pb:12})},h6({node:i,...o}){return $.jsx(Ki,{...o,order:6,...o,pb:12})},a({node:i,...o}){return $.jsx(Lv,{...o,ref:void 0})},ul({node:i,...o}){return $.jsx(md,{withPadding:!0,...o,pb:8})},ol({node:i,type:o,...s}){return $.jsx(md,{type:"ordered",withPadding:!0,...s,pb:8})}};return $.jsx(JWe,{components:n,rehypePlugins:[SKe],children:e+(t?'<span style="color: #fa5252; margin-left: 4px">*</span>':"")})}function RI({issues:e,type:t}){const n=`
    ${t==="error"?"There was an issue loading the study config. Please check the following issues:":"There were some warnings while loading the study config. Please check the following warnings:"}

    ${e.map(r=>`- You have ${t==="error"?"an error":"a warning"} at ${r.instancePath||"root"}: ${r.message} - ${JSON.stringify(r.params)}  `).join(`
`)}
  `.replace(/\n\s+/g,`
`);return $.jsx(Xs,{text:n})}const Zb=14;function TKe({completed:e,inProgress:t,rejected:n}){return $.jsxs(Kt,{ml:4,gap:4,children:[$.jsx(vi,{label:"Completed",children:$.jsx(pd,{variant:"light",color:"green",leftSection:$.jsx(jC,{width:Zb,height:Zb,style:{paddingTop:1}}),pb:1,children:e})}),$.jsx(vi,{label:"In Progress",children:$.jsx(pd,{variant:"light",color:"orange",leftSection:$.jsx(pye,{width:Zb,height:Zb,style:{paddingTop:1}}),pb:1,children:t})}),$.jsx(vi,{label:"Rejected",children:$.jsx(pd,{variant:"light",color:"red",leftSection:$.jsx(Ax,{width:Zb,height:Zb,style:{paddingTop:1}}),pb:1,children:n})})]})}const CKe={},AKe=Object.freeze(Object.defineProperty({__proto__:null,default:CKe},Symbol.toStringTag,{value:"Module"})),Kve=zPe(AKe);var s5,tre;function BP(){if(tre)return s5;tre=1;var e=Kve;function t(s,a){var l,u="",c=0,d=!0,f=0,h;function p(){return h=s.charAt(f),f++,h}for(p(),h==="-"&&(u="-",p());h>="0"&&h<="9";)d&&(h=="0"?c++:d=!1),u+=h,p();if(d&&c--,h===".")for(u+=".";p()&&h>="0"&&h<="9";)u+=h;if(h==="e"||h==="E")for(u+=h,p(),(h==="-"||h==="+")&&(u+=h,p());h>="0"&&h<="9";)u+=h,p();for(;h&&h<=" ";)p();if(a&&(h===","||h==="}"||h==="]"||h==="#"||h==="/"&&(s[f]==="/"||s[f]==="*"))&&(h=0),l=+u,!(h||c||!isFinite(l)))return l}function n(s,a){return Object.defineProperty&&Object.defineProperty(s,"__COMMENTS__",{enumerable:!1,writable:!0}),s.__COMMENTS__=a||{}}function r(s){Object.defineProperty(s,"__COMMENTS__",{value:void 0})}function i(s){return s.__COMMENTS__}function o(s){if(!s)return"";var a=s.split(`
`),l,u,c,d;for(c=0;c<a.length;c++)for(l=a[c],d=l.length,u=0;u<d;u++){var f=l[u];if(f==="#")break;if(f==="/"&&(l[u+1]==="/"||l[u+1]==="*")){l[u+1]==="*"&&(c=a.length);break}else if(f>" "){a[c]="# "+l;break}}return a.join(`
`)}return s5={EOL:e.EOL||`
`,tryParseNumber:t,createComment:n,removeComment:r,getComment:i,forceComment:o},s5}var a5,nre;function kKe(){return nre||(nre=1,a5="3.2.1"),a5}var l5,rre;function CV(){if(rre)return l5;rre=1;function e(a,l){if(Object.prototype.toString.apply(a)!=="[object Array]"){if(a)throw new Error("dsf option must contain an array!");return n}else if(a.length===0)return n;var u=[];function c(d){return{}.toString.call(d)==="[object Function]"}return a.forEach(function(d){if(!d.name||!c(d.parse)||!c(d.stringify))throw new Error("extension does not match the DSF interface");u.push(function(){try{if(l=="parse")return d.parse.apply(null,arguments);if(l=="stringify"){var f=d.stringify.apply(null,arguments);if(f!==void 0&&(typeof f!="string"||f.length===0||f[0]==='"'||[].some.call(f,function(h){return r(h)})))throw new Error("value may not be empty, start with a quote or contain a punctuator character except colon: "+f);return f}else throw new Error("Invalid type")}catch(h){throw new Error("DSF-"+d.name+" failed; "+h.message)}})}),t.bind(null,u)}function t(a,l){if(a)for(var u=0;u<a.length;u++){var c=a[u](l);if(c!==void 0)return c}}function n(){}function r(a){return a==="{"||a==="}"||a==="["||a==="]"||a===","}function i(){return{name:"math",parse:function(a){switch(a){case"+inf":case"inf":case"+Inf":case"Inf":return 1/0;case"-inf":case"-Inf":return-1/0;case"nan":case"NaN":return NaN}},stringify:function(a){if(typeof a=="number"){if(1/a===-1/0)return"-0";if(a===1/0)return"Inf";if(a===-1/0)return"-Inf";if(isNaN(a))return"NaN"}}}}i.description="support for Inf/inf, -Inf/-inf, Nan/naN and -0";function o(a){var l=a&&a.out;return{name:"hex",parse:function(u){if(/^0x[0-9A-Fa-f]+$/.test(u))return parseInt(u,16)},stringify:function(u){if(l&&Number.isInteger(u))return"0x"+u.toString(16)}}}o.description="parse hexadecimal numbers prefixed with 0x";function s(){return{name:"date",parse:function(a){if(/^\d{4}-\d{2}-\d{2}$/.test(a)||/^\d{4}-\d{2}-\d{2}T\d{2}\:\d{2}\:\d{2}(?:.\d+)(?:Z|[+-]\d{2}:\d{2})$/.test(a)){var l=Date.parse(a);if(!isNaN(l))return new Date(l)}},stringify:function(a){if(Object.prototype.toString.call(a)==="[object Date]"){var l=a.toISOString();return l.indexOf("T00:00:00.000Z",l.length-14)!==-1?l.substr(0,10):l}}}}return s.description="support ISO dates",l5={loadDsf:e,std:{math:i,hex:o,date:s}},l5}var u5,ire;function IKe(){return ire||(ire=1,u5=function(e,t){var n=BP(),r=CV(),i,o,s,a={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},l,u;function c(){o=0,s=" "}function d(D){return D==="{"||D==="}"||D==="["||D==="]"||D===","||D===":"}function f(D){var R,O=0,B=1;for(R=o-1;R>0&&i[R]!==`
`;R--,O++);for(;R>0;R--)i[R]===`
`&&B++;throw new Error(D+" at line "+B+","+O+" >>>"+i.substr(o-O,20)+" ...")}function h(){return s=i.charAt(o),o++,s}function p(D){return i.charAt(o+D)}function m(D){for(var R="",O=s;h();){if(s===O)return h(),D&&O==="'"&&s==="'"&&R.length===0?(h(),g()):R;if(s==="\\")if(h(),s==="u"){for(var B=0,z=0;z<4;z++){h();var W=s.charCodeAt(0),U;s>="0"&&s<="9"?U=W-48:s>="a"&&s<="f"?U=W-97+10:s>="A"&&s<="F"?U=W-65+10:f("Bad \\u char "+s),B=B*16+U}R+=String.fromCharCode(B)}else if(typeof a[s]=="string")R+=a[s];else break;else s===`
`||s==="\r"?f("Bad string containing newline"):R+=s}f("Bad string")}function g(){for(var D="",R=0,O=0;;){var B=p(-O-5);if(!B||B===`
`)break;O++}function z(){for(var W=O;s&&s<=" "&&s!==`
`&&W-- >0;)h()}for(;s&&s<=" "&&s!==`
`;)h();for(s===`
`&&(h(),z());;){if(!s)f("Bad multiline string");else if(s==="'"){if(R++,h(),R===3)return D.slice(-1)===`
`&&(D=D.slice(0,-1)),D;continue}else for(;R>0;)D+="'",R--;s===`
`?(D+=`
`,h(),z()):(s!=="\r"&&(D+=s),h())}}function y(){if(s==='"'||s==="'")return m(!1);for(var D="",R=o,O=-1;;){if(s===":")return D?O>=0&&O!==D.length&&(o=R+O,f("Found whitespace in your key name (use quotes to include)")):f("Found ':' but no key name (for an empty key name use quotes)"),D;s<=" "?s?O<0&&(O=D.length):f("Found EOF while looking for a key name (check your syntax)"):d(s)?f("Found '"+s+"' where a key name was expected (check your syntax or use quotes if the key name includes {}[],: or whitespace)"):D+=s,h()}}function v(){for(;s;){for(;s&&s<=" ";)h();if(s==="#"||s==="/"&&p(0)==="/")for(;s&&s!==`
`;)h();else if(s==="/"&&p(0)==="*"){for(h(),h();s&&!(s==="*"&&p(0)==="/");)h();s&&(h(),h())}else break}}function w(){var D=s;for(d(s)&&f("Found a punctuator character '"+s+"' when expecting a quoteless string (check your syntax)");;){h();var R=s==="\r"||s===`
`||s==="";if(R||s===","||s==="}"||s==="]"||s==="#"||s==="/"&&(p(0)==="/"||p(0)==="*")){var O=D[0];switch(O){case"f":if(D.trim()==="false")return!1;break;case"n":if(D.trim()==="null")return null;break;case"t":if(D.trim()==="true")return!0;break;default:if(O==="-"||O>="0"&&O<="9"){var B=n.tryParseNumber(D);if(B!==void 0)return B}}if(R){D=D.trim();var z=u(D);return z!==void 0?z:D}}D+=s}}function E(D,R){var O;for(D--,O=o-2;O>D&&i[O]<=" "&&i[O]!==`
`;O--);i[O]===`
`&&O--,i[O]==="\r"&&O--;var B=i.substr(D,O-D+1);for(O=0;O<B.length;O++)if(B[O]>" "){var z=B.indexOf(`
`);if(z>=0){var W=[B.substr(0,z),B.substr(z+1)];return R&&W[0].trim().length===0&&W.shift(),W}else return[B]}return[]}function _(D){function R(B,z){var W,U,F,Y;switch(typeof B){case"string":B.indexOf(z)>=0&&(Y=B);break;case"object":if(Object.prototype.toString.apply(B)==="[object Array]")for(W=0,F=B.length;W<F;W++)Y=R(B[W],z)||Y;else for(U in B)Object.prototype.hasOwnProperty.call(B,U)&&(Y=R(B[U],z)||Y)}return Y}function O(B){var z=R(D,B);return z?"found '"+B+`' in a string value, your mistake could be with:
  > `+z+`
  (unquoted strings contain everything up to the next line!)`:""}return O("}")||O("]")}function x(){var D=[],R,O,B;try{if(l&&(R=n.createComment(D,{a:[]})),h(),O=o,v(),R&&(B=E(O,!0).join(`
`)),s==="]")return h(),R&&(R.e=[B]),D;for(;s;){if(D.push(C()),O=o,v(),s===","&&(h(),O=o,v()),R){var z=E(O);R.a.push([B||"",z[0]||""]),B=z[1]}if(s==="]")return h(),R&&(R.a[R.a.length-1][1]+=B||""),D;v()}f("End of input while parsing an array (missing ']')")}catch(W){throw W.hint=W.hint||_(D),W}}function S(D){var R="",O={},B,z,W;try{if(l&&(B=n.createComment(O,{c:{},o:[]})),D?z=1:(h(),z=o),v(),B&&(W=E(z,!0).join(`
`)),s==="}"&&!D)return B&&(B.e=[W]),h(),O;for(;s;){if(R=y(),v(),s!==":"&&f("Expected ':' instead of '"+s+"'"),h(),O[R]=C(),z=o,v(),s===","&&(h(),z=o,v()),B){var U=E(z);B.c[R]=[W||"",U[0]||""],W=U[1],B.o.push(R)}if(s==="}"&&!D)return h(),B&&(B.c[R][1]+=W||""),O;v()}if(D)return O;f("End of input while parsing an object (missing '}')")}catch(F){throw F.hint=F.hint||_(O),F}}function C(){switch(v(),s){case"{":return S();case"[":return x();case"'":case'"':return m(!0);default:return w()}}function A(D,R){var O=o;if(v(),s&&f("Syntax error, found trailing characters"),l){var B=R.join(`
`),z=E(O).join(`
`);if(z||B){var W=n.createComment(D,n.getComment(D));W.r=[B,z]}}return D}function k(){v();var D=l?E(1):null;switch(s){case"{":return A(S(),D);case"[":return A(x(),D);default:return A(C(),D)}}function N(){v();var D=l?E(1):null;switch(s){case"{":return A(S(),D);case"[":return A(x(),D)}try{return A(S(!0),D)}catch(R){c();try{return A(C(),D)}catch{throw R}}}if(typeof e!="string")throw new Error("source is not a string");var M=null,I=!0;return t&&typeof t=="object"&&(l=t.keepWsc,M=t.dsf,I=t.legacyRoot!==!1),u=r.loadDsf(M,"parse"),i=e,c(),I?N():k()}),u5}var c5,ore;function RKe(){return ore||(ore=1,c5=function(e,t){var n=BP(),r=CV(),i={obj:["{","}"],arr:["[","]"],key:["",""],qkey:['"','"'],col:[":",""],com:[",",""],str:["",""],qstr:['"','"'],mstr:["'''","'''"],num:["",""],lit:["",""],dsf:["",""],esc:["\\",""],uni:["\\u",""],rem:["",""]},o=n.EOL,s="  ",a=!1,l=!1,u=!1,c=!1,d=0,f=1,h="",p=null,m=!1,g=i;if(t&&typeof t=="object"){t.quotes=t.quotes==="always"?"strings":t.quotes,(t.eol===`
`||t.eol===`\r
`)&&(o=t.eol),a=t.keepWsc,d=t.condense||0,l=t.bracesSameLine,u=t.quotes==="all"||t.quotes==="keys",c=t.quotes==="all"||t.quotes==="strings"||t.separator===!0,c||t.multiline=="off"?f=0:f=t.multiline=="no-tabs"?2:1,h=t.separator===!0?g.com[0]:"",p=t.dsf,m=t.sortProps,typeof t.space=="number"?s=new Array(t.space+1).join(" "):typeof t.space=="string"&&(s=t.space),t.colors===!0&&(g={obj:["\x1B[37m{\x1B[0m","\x1B[37m}\x1B[0m"],arr:["\x1B[37m[\x1B[0m","\x1B[37m]\x1B[0m"],key:["\x1B[33m","\x1B[0m"],qkey:['\x1B[33m"','"\x1B[0m'],col:["\x1B[37m:\x1B[0m",""],com:["\x1B[37m,\x1B[0m",""],str:["\x1B[37;1m","\x1B[0m"],qstr:['\x1B[37;1m"','"\x1B[0m'],mstr:["\x1B[37;1m'''","'''\x1B[0m"],num:["\x1B[36;1m","\x1B[0m"],lit:["\x1B[36m","\x1B[0m"],dsf:["\x1B[37m","\x1B[0m"],esc:["\x1B[31m\\","\x1B[0m"],uni:["\x1B[31m\\u","\x1B[0m"],rem:["\x1B[35m","\x1B[0m"]});var y,v=Object.keys(i);for(y=v.length-1;y>=0;y--){var w=v[y];g[w].push(i[w][0].length,i[w][1].length)}}var E,_="---\u2028--\uFEFF-",x=new RegExp('[\\\\\\"\0-'+_+"]","g"),S=new RegExp(`^\\s|^"|^'|^#|^\\/\\*|^\\/\\/|^\\{|^\\}|^\\[|^\\]|^:|^,|\\s$|[\0-`+_+"]","g"),C=new RegExp("'''|^[\\s]+$|[\0-"+(f===2?"	":"\b")+"\v\f-"+_+"]","g"),A=new RegExp("^(true|false|null)\\s*((,|\\]|\\}|#|//|/\\*).*)?$"),k={"\b":"b","	":"t","\n":"n","\f":"f","\r":"r",'"':'"',"\\":"\\"},N=/[,\{\[\}\]\s:#"']|\/\/|\/\*/,M="",I=0;function D(Y,V){return I+=Y[0].length+Y[1].length-Y[2]-Y[3],Y[0]+V+Y[1]}function R(Y){return Y.replace(x,function(V){var G=k[V];return typeof G=="string"?D(g.esc,G):D(g.uni,("0000"+V.charCodeAt(0).toString(16)).slice(-4))})}function O(Y,V,G,X){return Y?(S.lastIndex=0,A.lastIndex=0,c||G||S.test(Y)||n.tryParseNumber(Y,!0)!==void 0||A.test(Y)?(x.lastIndex=0,C.lastIndex=0,x.test(Y)?!C.test(Y)&&!X&&f?B(Y,V):D(g.qstr,R(Y)):D(g.qstr,Y)):D(g.str,Y)):D(g.qstr,"")}function B(Y,V){var G,X=Y.replace(/\r/g,"").split(`
`);if(V+=s,X.length===1)return D(g.mstr,X[0]);var Z=o+V+g.mstr[0];for(G=0;G<X.length;G++)Z+=o,X[G]&&(Z+=V+X[G]);return Z+o+V+g.mstr[1]}function z(Y){return Y?u||N.test(Y)?(x.lastIndex=0,D(g.qkey,x.test(Y)?R(Y):Y)):D(g.key,Y):'""'}function W(Y,V,G,X){function Z(Dt){return Dt&&Dt[Dt[0]==="\r"?1:0]===`
`}function oe(Dt){return Dt&&!Z(Dt)}function ne(Dt,Ae,Qe){if(!Dt)return"";Dt=n.forceComment(Dt);var Ct,xn=Dt.length;for(Ct=0;Ct<xn&&Dt[Ct]<=" ";Ct++);return Qe&&Ct>0&&(Dt=Dt.substr(Ct)),Ct<xn?Ae+D(g.rem,Dt):Dt}var ie=E(Y);if(ie!==void 0)return D(g.dsf,ie);switch(typeof Y){case"string":return O(Y,M,V,X);case"number":return isFinite(Y)?D(g.num,String(Y)):D(g.lit,"null");case"boolean":return D(g.lit,String(Y));case"object":if(!Y)return D(g.lit,"null");var fe;a&&(fe=n.getComment(Y));var se=Object.prototype.toString.apply(Y)==="[object Array]",ae=M;M+=s;var Se=o+ae,Te=o+M,Oe=G||l?"":Se,We=[],Fe,Ue=d?[]:null,rt=c,at=f,ct=h?"":g.com[0],vt=0,gt,Ze,Tt,ue,xe,$e,Ye,tt,Et;if(se){for(gt=0,Ze=Y.length;gt<Ze;gt++){if(Fe=gt<Ze-1,fe?($e=fe.a[gt]||[],Ye=oe($e[1]),We.push(ne($e[0],`
`)+Te),Ue&&($e[0]||$e[1]||Ye)&&(Ue=null)):We.push(Te),I=0,ue=Y[gt],We.push(W(ue,fe?Ye:!1,!0)+(Fe?h:"")),Ue){switch(typeof ue){case"string":I=0,c=!0,f=0,Ue.push(W(ue,!1,!0)+(Fe?g.com[0]:"")),c=rt,f=at;break;case"object":if(ue){Ue=null;break}default:Ue.push(We[We.length-1]+(Fe?ct:""));break}Fe&&(I+=g.com[0].length-g.com[2]),vt+=I}fe&&$e[1]&&We.push(ne($e[1],Ye?" ":`
`,Ye))}Ze===0?fe&&fe.e&&We.push(ne(fe.e[0],`
`)+Se):We.push(Se),We.length===0?tt=D(g.arr,""):(tt=Oe+D(g.arr,We.join("")),Ue&&(Et=Ue.join(" "),Et.length-vt<=d&&(tt=D(g.arr,Et))))}else{var an=fe?fe.o.slice():[],ln=[];for(Tt in Y)Object.prototype.hasOwnProperty.call(Y,Tt)&&an.indexOf(Tt)<0&&ln.push(Tt);m&&ln.sort();var Wt=an.concat(ln);for(gt=0,Ze=Wt.length;gt<Ze;gt++)if(Fe=gt<Ze-1,Tt=Wt[gt],fe?($e=fe.c[Tt]||[],Ye=oe($e[1]),We.push(ne($e[0],`
`)+Te),Ue&&($e[0]||$e[1]||Ye)&&(Ue=null)):We.push(Te),I=0,ue=Y[Tt],xe=W(ue,fe&&Ye),We.push(z(Tt)+g.col[0]+(Z(xe)?"":" ")+xe+(Fe?h:"")),fe&&$e[1]&&We.push(ne($e[1],Ye?" ":`
`,Ye)),Ue){switch(typeof ue){case"string":I=0,c=!0,f=0,xe=W(ue,!1),c=rt,f=at,Ue.push(z(Tt)+g.col[0]+" "+xe+(Fe?g.com[0]:""));break;case"object":if(ue){Ue=null;break}default:Ue.push(We[We.length-1]+(Fe?ct:""));break}I+=g.col[0].length-g.col[2],Fe&&(I+=g.com[0].length-g.com[2]),vt+=I}Ze===0?fe&&fe.e&&We.push(ne(fe.e[0],`
`)+Se):We.push(Se),We.length===0?tt=D(g.obj,""):(tt=Oe+D(g.obj,We.join("")),Ue&&(Et=Ue.join(" "),Et.length-vt<=d&&(tt=D(g.obj,Et))))}return M=ae,tt}}E=r.loadDsf(p,"stringify");var U="",F=a?F=(n.getComment(e)||{}).r:null;return F&&F[0]&&(U=F[0]+`
`),U+=W(e,null,!0,!0),F&&(U+=F[1]||""),U}),c5}var d5,sre;function DKe(){if(sre)return d5;sre=1;var e=BP();function t(c,d,f){var h;return c&&(h={b:c}),d&&((h=h||{}).a=d),f&&((h=h||{}).x=f),h}function n(c,d){if(!(c===null||typeof c!="object")){var f=e.getComment(c);f&&e.removeComment(c);var h,p,m,g;if(Object.prototype.toString.apply(c)==="[object Array]"){for(g={a:{}},h=0,p=c.length;h<p;h++)o(g.a,h,f.a[h],n(c[h]))&&(m=!0);!m&&f.e&&(g.e=t(f.e[0],f.e[1]),m=!0)}else{g={s:{}};var y,v=Object.keys(c);for(f&&f.o?(y=[],f.o.concat(v).forEach(function(E){Object.prototype.hasOwnProperty.call(c,E)&&y.indexOf(E)<0&&y.push(E)})):y=v,g.o=y,h=0,p=y.length;h<p;h++){var w=y[h];o(g.s,w,f.c[w],n(c[w]))&&(m=!0)}!m&&f.e&&(g.e=t(f.e[0],f.e[1]),m=!0)}return d&&f&&f.r&&(g.r=t(f.r[0],f.r[1])),m?g:void 0}}function r(){var c="";return[].forEach.call(arguments,function(d){d&&d.trim()!==""&&(c&&(c+="; "),c+=d.trim())}),c}function i(c,d){var f=[];if(l(c,d,f,[]),f.length>0){var h=u(d,null,1);h+=`
# Orphaned comments:
`,f.forEach(function(p){h+=("# "+p.path.join("/")+": "+r(p.b,p.a,p.e)).replace(`
`,"\\n ")+`
`}),u(d,h,1)}}function o(c,d,f,h){var p=t(f?f[0]:void 0,f?f[1]:void 0,h);return p&&(c[d]=p),p}function s(c,d){var f=t(d.b,d.a);return f.path=c,f}function a(c,d,f){if(c){var h,p;if(c.a)for(h=0,p=c.a.length;h<p;h++){var m=f.slice().concat([h]),g=c.a[h];g&&(d.push(s(m,g)),a(g.x,d,m))}else c.o&&c.o.forEach(function(y){var v=f.slice().concat([y]),w=c.s[y];w&&(d.push(s(v,w)),a(w.x,d,v))});c.e&&d.push(s(f,c.e))}}function l(c,d,f,h){if(c){if(d===null||typeof d!="object"){a(c,f,h);return}var p,m=e.createComment(d);if(h.length===0&&c.r&&(m.r=[c.r.b,c.r.a]),Object.prototype.toString.apply(d)==="[object Array]"){m.a=[];var g=c.a||{};for(var y in g)if(g.hasOwnProperty(y)){p=parseInt(y);var v=c.a[y];if(v){var w=h.slice().concat([p]);p<d.length?(m.a[p]=[v.b,v.a],l(v.x,d[p],f,w)):(f.push(s(w,v)),a(v.x,f,w))}}p===0&&c.e&&(m.e=[c.e.b,c.e.a])}else m.c={},m.o=[],(c.o||[]).forEach(function(E){var _=h.slice().concat([E]),x=c.s[E];Object.prototype.hasOwnProperty.call(d,E)?(m.o.push(E),x&&(m.c[E]=[x.b,x.a],l(x.x,d[E],f,_))):x&&(f.push(s(_,x)),a(x.x,f,_))}),c.e&&(m.e=[c.e.b,c.e.a])}}function u(c,d,f){var h=e.createComment(c,e.getComment(c));return h.r||(h.r=["",""]),(d||d==="")&&(h.r[f]=e.forceComment(d)),h.r[f]||""}return d5={extract:function(c){return n(c,!0)},merge:i,header:function(c,d){return u(c,d,0)},footer:function(c,d){return u(c,d,1)}},d5}/*!
 * Hjson v3.2.1
 * https://hjson.github.io
 *
 * Copyright 2014-2017 Christian Zangl, MIT license
 * Details and documentation:
 * https://github.com/hjson/hjson-js
 *
 * This code is based on the the JSON version by Douglas Crockford:
 * https://github.com/douglascrockford/JSON-js (json_parse.js, json2.js)
 */var f5,are;function $Ke(){if(are)return f5;are=1;var e=BP(),t=kKe(),n=IKe(),r=RKe(),i=DKe(),o=CV();return f5={parse:n,stringify:r,endOfLine:function(){return e.EOL},setEndOfLine:function(s){(s===`
`||s===`\r
`)&&(e.EOL=s)},version:t,rt:{parse:function(s,a){return(a=a||{}).keepWsc=!0,n(s,a)},stringify:function(s,a){return(a=a||{}).keepWsc=!0,r(s,a)}},comments:i,dsf:o.std},f5}var MKe=$Ke();const PKe=()=>{};var lre={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xve=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},NKe=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=e[n++],s=e[n++],a=e[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},AV={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const o=e[i],s=i+1<e.length,a=s?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=o>>2,d=(o&3)<<4|a>>4;let f=(a&15)<<2|u>>6,h=u&63;l||(h=64,s||(f=64)),r.push(n[c],n[d],n[f],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Xve(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):NKe(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,o==null||a==null||u==null||d==null)throw new OKe;const f=o<<2|a>>4;if(r.push(f),u!==64){const h=a<<4&240|u>>2;if(r.push(h),d!==64){const p=u<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class OKe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LKe=function(e){const t=Xve(e);return AV.encodeByteArray(t,!0)},SD=function(e){return LKe(e).replace(/\./g,"")},Qve=function(e){try{return AV.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jve(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FKe=()=>Jve().__FIREBASE_DEFAULTS__,BKe=()=>{if(typeof process>"u"||typeof lre>"u")return;const e=lre.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},jKe=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Qve(e[1]);return t&&JSON.parse(t)},jP=()=>{try{return PKe()||FKe()||BKe()||jKe()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Zve=e=>{var t,n;return(n=(t=jP())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},zKe=e=>{const t=Zve(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},ebe=()=>{var e;return(e=jP())===null||e===void 0?void 0:e.config},tbe=e=>{var t;return(t=jP())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UKe(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[SD(JSON.stringify(n)),SD(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $a(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HKe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($a())}function VKe(){var e;const t=(e=jP())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WKe(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qKe(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function GKe(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YKe(){const e=$a();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function KKe(){return!VKe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kV(){try{return typeof indexedDB=="object"}catch{return!1}}function XKe(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QKe="FirebaseError";class lh extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=QKe,Object.setPrototypeOf(this,lh.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lx.prototype.create)}}class Lx{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?JKe(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new lh(i,a,r)}}function JKe(e,t){return e.replace(ZKe,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const ZKe=/\{\$([^}]+)}/g;function eXe(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ky(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const o=e[i],s=t[i];if(ure(o)&&ure(s)){if(!Ky(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ure(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function tXe(e,t){const n=new nXe(e,t);return n.subscribe.bind(n)}class nXe{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");rXe(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=h5),i.error===void 0&&(i.error=h5),i.complete===void 0&&(i.complete=h5);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rXe(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function h5(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iXe=1e3,oXe=2,sXe=4*60*60*1e3,aXe=.5;function lXe(e,t=iXe,n=oXe){const r=t*Math.pow(n,e),i=Math.round(aXe*r*(Math.random()-.5)*2);return Math.min(sXe,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(e){return e&&e._delegate?e._delegate:e}class Uf{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uXe=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new wT;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(dXe(t))try{this.getOrInitializeService({instanceIdentifier:ly})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=ly){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ly){return this.instances.has(t)}getOptions(t=ly){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&t(s,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:cXe(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=ly){return this.component?this.component.multipleInstances?t:ly:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function cXe(e){return e===ly?void 0:e}function dXe(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fXe{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new uXe(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tr;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(tr||(tr={}));const hXe={debug:tr.DEBUG,verbose:tr.VERBOSE,info:tr.INFO,warn:tr.WARN,error:tr.ERROR,silent:tr.SILENT},pXe=tr.INFO,mXe={[tr.DEBUG]:"log",[tr.VERBOSE]:"log",[tr.INFO]:"info",[tr.WARN]:"warn",[tr.ERROR]:"error"},gXe=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=mXe[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class zP{constructor(t){this.name=t,this._logLevel=pXe,this._logHandler=gXe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in tr))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?hXe[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,tr.DEBUG,...t),this._logHandler(this,tr.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,tr.VERBOSE,...t),this._logHandler(this,tr.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,tr.INFO,...t),this._logHandler(this,tr.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,tr.WARN,...t),this._logHandler(this,tr.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,tr.ERROR,...t),this._logHandler(this,tr.ERROR,...t)}}const yXe=(e,t)=>t.some(n=>e instanceof n);let cre,dre;function vXe(){return cre||(cre=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bXe(){return dre||(dre=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nbe=new WeakMap,hj=new WeakMap,rbe=new WeakMap,p5=new WeakMap,IV=new WeakMap;function wXe(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(fg(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&nbe.set(n,e)}).catch(()=>{}),IV.set(t,e),t}function xXe(e){if(hj.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});hj.set(e,t)}let pj={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return hj.get(e);if(t==="objectStoreNames")return e.objectStoreNames||rbe.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fg(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function _Xe(e){pj=e(pj)}function EXe(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(m5(this),t,...n);return rbe.set(r,t.sort?t.sort():[t]),fg(r)}:bXe().includes(e)?function(...t){return e.apply(m5(this),t),fg(nbe.get(this))}:function(...t){return fg(e.apply(m5(this),t))}}function SXe(e){return typeof e=="function"?EXe(e):(e instanceof IDBTransaction&&xXe(e),yXe(e,vXe())?new Proxy(e,pj):e)}function fg(e){if(e instanceof IDBRequest)return wXe(e);if(p5.has(e))return p5.get(e);const t=SXe(e);return t!==e&&(p5.set(e,t),IV.set(t,e)),t}const m5=e=>IV.get(e);function TXe(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=fg(s);return r&&s.addEventListener("upgradeneeded",l=>{r(fg(s.result),l.oldVersion,l.newVersion,fg(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const CXe=["get","getKey","getAll","getAllKeys","count"],AXe=["put","add","delete","clear"],g5=new Map;function fre(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(g5.get(t))return g5.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=AXe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||CXe.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return g5.set(t,o),o}_Xe(e=>({...e,get:(t,n,r)=>fre(t,n)||e.get(t,n,r),has:(t,n)=>!!fre(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kXe{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(IXe(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function IXe(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const mj="@firebase/app",hre="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip=new zP("@firebase/app"),RXe="@firebase/app-compat",DXe="@firebase/analytics-compat",$Xe="@firebase/analytics",MXe="@firebase/app-check-compat",PXe="@firebase/app-check",NXe="@firebase/auth",OXe="@firebase/auth-compat",LXe="@firebase/database",FXe="@firebase/data-connect",BXe="@firebase/database-compat",jXe="@firebase/functions",zXe="@firebase/functions-compat",UXe="@firebase/installations",HXe="@firebase/installations-compat",VXe="@firebase/messaging",WXe="@firebase/messaging-compat",qXe="@firebase/performance",GXe="@firebase/performance-compat",YXe="@firebase/remote-config",KXe="@firebase/remote-config-compat",XXe="@firebase/storage",QXe="@firebase/storage-compat",JXe="@firebase/firestore",ZXe="@firebase/vertexai",eQe="@firebase/firestore-compat",tQe="firebase",nQe="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj="[DEFAULT]",rQe={[mj]:"fire-core",[RXe]:"fire-core-compat",[$Xe]:"fire-analytics",[DXe]:"fire-analytics-compat",[PXe]:"fire-app-check",[MXe]:"fire-app-check-compat",[NXe]:"fire-auth",[OXe]:"fire-auth-compat",[LXe]:"fire-rtdb",[FXe]:"fire-data-connect",[BXe]:"fire-rtdb-compat",[jXe]:"fire-fn",[zXe]:"fire-fn-compat",[UXe]:"fire-iid",[HXe]:"fire-iid-compat",[VXe]:"fire-fcm",[WXe]:"fire-fcm-compat",[qXe]:"fire-perf",[GXe]:"fire-perf-compat",[YXe]:"fire-rc",[KXe]:"fire-rc-compat",[XXe]:"fire-gcs",[QXe]:"fire-gcs-compat",[JXe]:"fire-fst",[eQe]:"fire-fst-compat",[ZXe]:"fire-vertex","fire-js":"fire-js",[tQe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=new Map,iQe=new Map,yj=new Map;function pre(e,t){try{e.container.addComponent(t)}catch(n){Ip.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Rp(e){const t=e.name;if(yj.has(t))return Ip.debug(`There were multiple attempts to register component ${t}.`),!1;yj.set(t,e);for(const n of TD.values())pre(n,e);for(const n of iQe.values())pre(n,e);return!0}function Fx(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function gu(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oQe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hg=new Lx("app","Firebase",oQe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sQe{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Uf("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw hg.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv=nQe;function ibe(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:gj,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw hg.create("bad-app-name",{appName:String(i)});if(n||(n=ebe()),!n)throw hg.create("no-options");const o=TD.get(i);if(o){if(Ky(n,o.options)&&Ky(r,o.config))return o;throw hg.create("duplicate-app",{appName:i})}const s=new fXe(i);for(const l of yj.values())s.addComponent(l);const a=new sQe(n,r,s);return TD.set(i,a),a}function RV(e=gj){const t=TD.get(e);if(!t&&e===gj&&ebe())return ibe();if(!t)throw hg.create("no-app",{appName:e});return t}function gd(e,t,n){var r;let i=(r=rQe[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${t}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ip.warn(a.join(" "));return}Rp(new Uf(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aQe="firebase-heartbeat-database",lQe=1,xT="firebase-heartbeat-store";let y5=null;function obe(){return y5||(y5=TXe(aQe,lQe,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(xT)}catch(n){console.warn(n)}}}}).catch(e=>{throw hg.create("idb-open",{originalErrorMessage:e.message})})),y5}async function uQe(e){try{const n=(await obe()).transaction(xT),r=await n.objectStore(xT).get(sbe(e));return await n.done,r}catch(t){if(t instanceof lh)Ip.warn(t.message);else{const n=hg.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ip.warn(n.message)}}}async function mre(e,t){try{const r=(await obe()).transaction(xT,"readwrite");await r.objectStore(xT).put(t,sbe(e)),await r.done}catch(n){if(n instanceof lh)Ip.warn(n.message);else{const r=hg.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ip.warn(r.message)}}}function sbe(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cQe=1024,dQe=30;class fQe{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new pQe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=gre();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>dQe){const s=mQe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ip.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=gre(),{heartbeatsToSend:r,unsentEntries:i}=hQe(this._heartbeatsCache.heartbeats),o=SD(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ip.warn(n),""}}}function gre(){return new Date().toISOString().substring(0,10)}function hQe(e,t=cQe){const n=[];let r=e.slice();for(const i of e){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),yre(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),yre(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class pQe{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kV()?XKe().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await uQe(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return mre(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return mre(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function yre(e){return SD(JSON.stringify({version:2,heartbeats:e})).length}function mQe(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gQe(e){Rp(new Uf("platform-logger",t=>new kXe(t),"PRIVATE")),Rp(new Uf("heartbeat",t=>new fQe(t),"PRIVATE")),gd(mj,hre,e),gd(mj,hre,"esm2017"),gd("fire-js","")}gQe("");var yQe="firebase",vQe="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gd(yQe,vQe,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const abe="firebasestorage.googleapis.com",lbe="storageBucket",bQe=2*60*1e3,wQe=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo extends lh{constructor(t,n,r=0){super(v5(t),`Firebase Storage: ${n} (${v5(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,eo.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return v5(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ji;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ji||(Ji={}));function v5(e){return"storage/"+e}function DV(){const e="An unknown error occurred, please check the error payload for server response.";return new eo(Ji.UNKNOWN,e)}function xQe(e){return new eo(Ji.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function _Qe(e){return new eo(Ji.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function EQe(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new eo(Ji.UNAUTHENTICATED,e)}function SQe(){return new eo(Ji.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function TQe(e){return new eo(Ji.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function CQe(){return new eo(Ji.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function AQe(){return new eo(Ji.CANCELED,"User canceled the upload/download.")}function kQe(e){return new eo(Ji.INVALID_URL,"Invalid URL '"+e+"'.")}function IQe(e){return new eo(Ji.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function RQe(){return new eo(Ji.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+lbe+"' property when initializing the app?")}function DQe(){return new eo(Ji.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function $Qe(){return new eo(Ji.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function MQe(e){return new eo(Ji.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function vj(e){return new eo(Ji.INVALID_ARGUMENT,e)}function ube(){return new eo(Ji.APP_DELETED,"The Firebase app was deleted.")}function PQe(e){return new eo(Ji.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function FS(e,t){return new eo(Ji.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function sE(e){throw new eo(Ji.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=el.makeFromUrl(t,n)}catch{return new el(t,"")}if(r.path==="")return r;throw IQe(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function u(E){E.path_=decodeURIComponent(E.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",h=new RegExp(`^https?://${d}/${c}/b/${i}/o${f}`,"i"),p={bucket:1,path:3},m=n===abe?"(?:storage.googleapis.com|storage.cloud.google.com)":n,g="([^?#]*)",y=new RegExp(`^https?://${m}/${i}/${g}`,"i"),w=[{regex:a,indices:l,postModify:o},{regex:h,indices:p,postModify:u},{regex:y,indices:{bucket:1,path:2},postModify:u}];for(let E=0;E<w.length;E++){const _=w[E],x=_.regex.exec(t);if(x){const S=x[_.indices.bucket];let C=x[_.indices.path];C||(C=""),r=new el(S,C),_.postModify(r);break}}if(r==null)throw kQe(t);return r}}class NQe{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OQe(e,t,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let u=!1;function c(...g){u||(u=!0,t.apply(null,g))}function d(g){i=setTimeout(()=>{i=null,e(h,l())},g)}function f(){o&&clearTimeout(o)}function h(g,...y){if(u){f();return}if(g){f(),c.call(null,g,...y);return}if(l()||s){f(),c.call(null,g,...y);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,d(w)}let p=!1;function m(g){p||(p=!0,f(),!u&&(i!==null?(g||(a=2),clearTimeout(i),d(0)):g||(a=1)))}return d(0),o=setTimeout(()=>{s=!0,m(!0)},n),m}function LQe(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FQe(e){return e!==void 0}function BQe(e){return typeof e=="object"&&!Array.isArray(e)}function $V(e){return typeof e=="string"||e instanceof String}function vre(e){return MV()&&e instanceof Blob}function MV(){return typeof Blob<"u"}function bj(e,t,n,r){if(r<t)throw vj(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw vj(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function cbe(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Oy;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Oy||(Oy={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jQe(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,o=t.indexOf(e)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zQe{constructor(t,n,r,i,o,s,a,l,u,c,d,f=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,p)=>{this.resolve_=h,this.reject_=p,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new _k(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===Oy.NO_ERROR,l=o.getStatus();if(!a||jQe(l,this.additionalRetryCodes_)&&this.retry){const c=o.getErrorCode()===Oy.ABORT;r(!1,new _k(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new _k(u,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());FQe(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=DV();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?ube():AQe();s(l)}else{const l=CQe();s(l)}};this.canceled_?n(!1,new _k(!1,null,!0)):this.backoffId_=OQe(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&LQe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class _k{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function UQe(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function HQe(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function VQe(e,t){t&&(e["X-Firebase-GMPID"]=t)}function WQe(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function qQe(e,t,n,r,i,o,s=!0){const a=cbe(e.urlParams),l=e.url+a,u=Object.assign({},e.headers);return VQe(u,t),UQe(u,n),HQe(u,o),WQe(u,r),new zQe(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GQe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function YQe(...e){const t=GQe();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(MV())return new Blob(e);throw new eo(Ji.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function KQe(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XQe(e){if(typeof atob>"u")throw MQe("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class b5{constructor(t,n){this.data=t,this.contentType=n||null}}function QQe(e,t){switch(e){case _f.RAW:return new b5(dbe(t));case _f.BASE64:case _f.BASE64URL:return new b5(fbe(e,t));case _f.DATA_URL:return new b5(ZQe(t),eJe(t))}throw DV()}function dbe(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const o=r,s=e.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function JQe(e){let t;try{t=decodeURIComponent(e)}catch{throw FS(_f.DATA_URL,"Malformed data URL.")}return dbe(t)}function fbe(e,t){switch(e){case _f.BASE64:{const i=t.indexOf("-")!==-1,o=t.indexOf("_")!==-1;if(i||o)throw FS(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case _f.BASE64URL:{const i=t.indexOf("+")!==-1,o=t.indexOf("/")!==-1;if(i||o)throw FS(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=XQe(t)}catch(i){throw i.message.includes("polyfill")?i:FS(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class hbe{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw FS(_f.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=tJe(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function ZQe(e){const t=new hbe(e);return t.base64?fbe(_f.BASE64,t.rest):JQe(t.rest)}function eJe(e){return new hbe(e).contentType}function tJe(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(t,n){let r=0,i="";vre(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,n){if(vre(this.data_)){const r=this.data_,i=KQe(r,t,n);return i===null?null:new qm(i)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new qm(r,!0)}}static getBlob(...t){if(MV()){const n=t.map(r=>r instanceof qm?r.data_:r);return new qm(YQe.apply(null,n))}else{const n=t.map(s=>$V(s)?QQe(_f.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new qm(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PV(e){let t;try{t=JSON.parse(e)}catch{return null}return BQe(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nJe(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function rJe(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function pbe(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iJe(e,t){return t}class Ha{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||iJe}}let Ek=null;function oJe(e){return!$V(e)||e.length<2?e:pbe(e)}function mbe(){if(Ek)return Ek;const e=[];e.push(new Ha("bucket")),e.push(new Ha("generation")),e.push(new Ha("metageneration")),e.push(new Ha("name","fullPath",!0));function t(o,s){return oJe(s)}const n=new Ha("name");n.xform=t,e.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new Ha("size");return i.xform=r,e.push(i),e.push(new Ha("timeCreated")),e.push(new Ha("updated")),e.push(new Ha("md5Hash",null,!0)),e.push(new Ha("cacheControl",null,!0)),e.push(new Ha("contentDisposition",null,!0)),e.push(new Ha("contentEncoding",null,!0)),e.push(new Ha("contentLanguage",null,!0)),e.push(new Ha("contentType",null,!0)),e.push(new Ha("metadata","customMetadata",!0)),Ek=e,Ek}function sJe(e,t){function n(){const r=e.bucket,i=e.fullPath,o=new el(r,i);return t._makeStorageReference(o)}Object.defineProperty(e,"ref",{get:n})}function aJe(e,t,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,t[s.server])}return sJe(r,e),r}function gbe(e,t,n){const r=PV(t);return r===null?null:aJe(e,r,n)}function lJe(e,t,n,r){const i=PV(t);if(i===null||!$V(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(u=>{const c=e.bucket,d=e.fullPath,f="/b/"+s(c)+"/o/"+s(d),h=GC(f,n,r),p=cbe({alt:"media",token:u});return h+p})[0]}function uJe(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bre="prefixes",wre="items";function cJe(e,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[bre])for(const i of n[bre]){const o=i.replace(/\/$/,""),s=e._makeStorageReference(new el(t,o));r.prefixes.push(s)}if(n[wre])for(const i of n[wre]){const o=e._makeStorageReference(new el(t,i.name));r.items.push(o)}return r}function dJe(e,t,n){const r=PV(n);return r===null?null:cJe(e,t,r)}class UP{constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NV(e){if(!e)throw DV()}function fJe(e,t){function n(r,i){const o=gbe(e,i,t);return NV(o!==null),o}return n}function hJe(e,t){function n(r,i){const o=dJe(e,t,i);return NV(o!==null),o}return n}function pJe(e,t){function n(r,i){const o=gbe(e,i,t);return NV(o!==null),lJe(o,i,e.host,e._protocol)}return n}function OV(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=SQe():i=EQe():n.getStatus()===402?i=_Qe(e.bucket):n.getStatus()===403?i=TQe(e.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return t}function ybe(e){const t=OV(e);function n(r,i){let o=t(r,i);return r.getStatus()===404&&(o=xQe(e.path)),o.serverResponse=i.serverResponse,o}return n}function mJe(e,t,n,r,i){const o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);const s=t.bucketOnlyServerUrl(),a=GC(s,e.host,e._protocol),l="GET",u=e.maxOperationRetryTime,c=new UP(a,l,hJe(e,t.bucket),u);return c.urlParams=o,c.errorHandler=OV(t),c}function gJe(e,t,n){const r=t.fullServerUrl(),i=GC(r,e.host,e._protocol),o="GET",s=e.maxOperationRetryTime,a=new UP(i,o,pJe(e,n),s);return a.errorHandler=ybe(t),a}function yJe(e,t){const n=t.fullServerUrl(),r=GC(n,e.host,e._protocol),i="DELETE",o=e.maxOperationRetryTime;function s(l,u){}const a=new UP(r,i,s,o);return a.successCodes=[200,204],a.errorHandler=ybe(t),a}function vJe(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function bJe(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=vJe(null,t)),r}function wJe(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let w="";for(let E=0;E<2;E++)w=w+Math.random().toString().slice(2);return w}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const u=bJe(t,r,i),c=uJe(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",h=qm.getBlob(d,r,f);if(h===null)throw DQe();const p={name:u.fullPath},m=GC(o,e.host,e._protocol),g="POST",y=e.maxUploadRetryTime,v=new UP(m,g,fJe(e,n),y);return v.urlParams=p,v.headers=s,v.body=h.uploadData(),v.errorHandler=OV(t),v}class xJe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Oy.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Oy.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Oy.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i){if(this.sent_)throw sE("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw sE("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw sE("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw sE("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw sE("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class _Je extends xJe{initXhr(){this.xhr_.responseType="text"}}function HP(){return new _Je}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(t,n){this._service=t,n instanceof el?this._location=n:this._location=el.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Xy(t,n)}get root(){const t=new el(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return pbe(this._location.path)}get storage(){return this._service}get parent(){const t=nJe(this._location.path);if(t===null)return null;const n=new el(this._location.bucket,t);return new Xy(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw PQe(t)}}function EJe(e,t,n){e._throwIfRoot("uploadBytes");const r=wJe(e.storage,e._location,mbe(),new qm(t,!0),n);return e.storage.makeRequestWithTokens(r,HP).then(i=>({metadata:i,ref:e}))}function SJe(e){const t={prefixes:[],items:[]};return vbe(e,t).then(()=>t)}async function vbe(e,t,n){const i=await TJe(e,{pageToken:n});t.prefixes.push(...i.prefixes),t.items.push(...i.items),i.nextPageToken!=null&&await vbe(e,t,i.nextPageToken)}function TJe(e,t){t!=null&&typeof t.maxResults=="number"&&bj("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=mJe(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,HP)}function CJe(e){e._throwIfRoot("getDownloadURL");const t=gJe(e.storage,e._location,mbe());return e.storage.makeRequestWithTokens(t,HP).then(n=>{if(n===null)throw $Qe();return n})}function AJe(e){e._throwIfRoot("deleteObject");const t=yJe(e.storage,e._location);return e.storage.makeRequestWithTokens(t,HP)}function kJe(e,t){const n=rJe(e._location.path,t),r=new el(e._location.bucket,n);return new Xy(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IJe(e){return/^[A-Za-z]+:\/\//.test(e)}function RJe(e,t){return new Xy(e,t)}function bbe(e,t){if(e instanceof LV){const n=e;if(n._bucket==null)throw RQe();const r=new Xy(n,n._bucket);return t!=null?bbe(r,t):r}else return t!==void 0?kJe(e,t):e}function DJe(e,t){if(t&&IJe(t)){if(e instanceof LV)return RJe(e,t);throw vj("To use ref(service, url), the first argument must be a Storage instance.")}else return bbe(e,t)}function xre(e,t){const n=t==null?void 0:t[lbe];return n==null?null:el.makeFromBucketSpec(n,e)}function $Je(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i=="string"?i:UKe(i,e.app.options.projectId))}class LV{constructor(t,n,r,i,o){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=abe,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=bQe,this._maxUploadRetryTime=wQe,this._requests=new Set,i!=null?this._bucket=el.makeFromBucketSpec(i,this._host):this._bucket=xre(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=el.makeFromBucketSpec(this._url,t):this._bucket=xre(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){bj("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){bj("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(gu(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Xy(this,t)}_makeRequest(t,n,r,i,o=!0){if(this._deleted)return new NQe(ube());{const s=qQe(t,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const _re="@firebase/storage",Ere="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wbe="storage";function Sk(e,t,n){return e=di(e),EJe(e,t,n)}function aE(e){return e=di(e),SJe(e)}function Tk(e){return e=di(e),CJe(e)}function Sre(e){return e=di(e),AJe(e)}function uu(e,t){return e=di(e),DJe(e,t)}function Tre(e=RV(),t){e=di(e);const r=Fx(e,wbe).getImmediate({identifier:t}),i=zKe("storage");return i&&MJe(r,...i),r}function MJe(e,t,n,r={}){$Je(e,t,n,r)}function PJe(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new LV(n,r,i,t,Vv)}function NJe(){Rp(new Uf(wbe,PJe,"PUBLIC").setMultipleInstances(!0)),gd(_re,Ere,""),gd(_re,Ere,"esm2017")}NJe();var Cre=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pg,xbe;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(S,C){function A(){}A.prototype=C.prototype,S.D=C.prototype,S.prototype=new A,S.prototype.constructor=S,S.C=function(k,N,M){for(var I=Array(arguments.length-2),D=2;D<arguments.length;D++)I[D-2]=arguments[D];return C.prototype[N].apply(k,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,C,A){A||(A=0);var k=Array(16);if(typeof C=="string")for(var N=0;16>N;++N)k[N]=C.charCodeAt(A++)|C.charCodeAt(A++)<<8|C.charCodeAt(A++)<<16|C.charCodeAt(A++)<<24;else for(N=0;16>N;++N)k[N]=C[A++]|C[A++]<<8|C[A++]<<16|C[A++]<<24;C=S.g[0],A=S.g[1],N=S.g[2];var M=S.g[3],I=C+(M^A&(N^M))+k[0]+3614090360&4294967295;C=A+(I<<7&4294967295|I>>>25),I=M+(N^C&(A^N))+k[1]+3905402710&4294967295,M=C+(I<<12&4294967295|I>>>20),I=N+(A^M&(C^A))+k[2]+606105819&4294967295,N=M+(I<<17&4294967295|I>>>15),I=A+(C^N&(M^C))+k[3]+3250441966&4294967295,A=N+(I<<22&4294967295|I>>>10),I=C+(M^A&(N^M))+k[4]+4118548399&4294967295,C=A+(I<<7&4294967295|I>>>25),I=M+(N^C&(A^N))+k[5]+1200080426&4294967295,M=C+(I<<12&4294967295|I>>>20),I=N+(A^M&(C^A))+k[6]+2821735955&4294967295,N=M+(I<<17&4294967295|I>>>15),I=A+(C^N&(M^C))+k[7]+4249261313&4294967295,A=N+(I<<22&4294967295|I>>>10),I=C+(M^A&(N^M))+k[8]+1770035416&4294967295,C=A+(I<<7&4294967295|I>>>25),I=M+(N^C&(A^N))+k[9]+2336552879&4294967295,M=C+(I<<12&4294967295|I>>>20),I=N+(A^M&(C^A))+k[10]+4294925233&4294967295,N=M+(I<<17&4294967295|I>>>15),I=A+(C^N&(M^C))+k[11]+2304563134&4294967295,A=N+(I<<22&4294967295|I>>>10),I=C+(M^A&(N^M))+k[12]+1804603682&4294967295,C=A+(I<<7&4294967295|I>>>25),I=M+(N^C&(A^N))+k[13]+4254626195&4294967295,M=C+(I<<12&4294967295|I>>>20),I=N+(A^M&(C^A))+k[14]+2792965006&4294967295,N=M+(I<<17&4294967295|I>>>15),I=A+(C^N&(M^C))+k[15]+1236535329&4294967295,A=N+(I<<22&4294967295|I>>>10),I=C+(N^M&(A^N))+k[1]+4129170786&4294967295,C=A+(I<<5&4294967295|I>>>27),I=M+(A^N&(C^A))+k[6]+3225465664&4294967295,M=C+(I<<9&4294967295|I>>>23),I=N+(C^A&(M^C))+k[11]+643717713&4294967295,N=M+(I<<14&4294967295|I>>>18),I=A+(M^C&(N^M))+k[0]+3921069994&4294967295,A=N+(I<<20&4294967295|I>>>12),I=C+(N^M&(A^N))+k[5]+3593408605&4294967295,C=A+(I<<5&4294967295|I>>>27),I=M+(A^N&(C^A))+k[10]+38016083&4294967295,M=C+(I<<9&4294967295|I>>>23),I=N+(C^A&(M^C))+k[15]+3634488961&4294967295,N=M+(I<<14&4294967295|I>>>18),I=A+(M^C&(N^M))+k[4]+3889429448&4294967295,A=N+(I<<20&4294967295|I>>>12),I=C+(N^M&(A^N))+k[9]+568446438&4294967295,C=A+(I<<5&4294967295|I>>>27),I=M+(A^N&(C^A))+k[14]+3275163606&4294967295,M=C+(I<<9&4294967295|I>>>23),I=N+(C^A&(M^C))+k[3]+4107603335&4294967295,N=M+(I<<14&4294967295|I>>>18),I=A+(M^C&(N^M))+k[8]+1163531501&4294967295,A=N+(I<<20&4294967295|I>>>12),I=C+(N^M&(A^N))+k[13]+2850285829&4294967295,C=A+(I<<5&4294967295|I>>>27),I=M+(A^N&(C^A))+k[2]+4243563512&4294967295,M=C+(I<<9&4294967295|I>>>23),I=N+(C^A&(M^C))+k[7]+1735328473&4294967295,N=M+(I<<14&4294967295|I>>>18),I=A+(M^C&(N^M))+k[12]+2368359562&4294967295,A=N+(I<<20&4294967295|I>>>12),I=C+(A^N^M)+k[5]+4294588738&4294967295,C=A+(I<<4&4294967295|I>>>28),I=M+(C^A^N)+k[8]+2272392833&4294967295,M=C+(I<<11&4294967295|I>>>21),I=N+(M^C^A)+k[11]+1839030562&4294967295,N=M+(I<<16&4294967295|I>>>16),I=A+(N^M^C)+k[14]+4259657740&4294967295,A=N+(I<<23&4294967295|I>>>9),I=C+(A^N^M)+k[1]+2763975236&4294967295,C=A+(I<<4&4294967295|I>>>28),I=M+(C^A^N)+k[4]+1272893353&4294967295,M=C+(I<<11&4294967295|I>>>21),I=N+(M^C^A)+k[7]+4139469664&4294967295,N=M+(I<<16&4294967295|I>>>16),I=A+(N^M^C)+k[10]+3200236656&4294967295,A=N+(I<<23&4294967295|I>>>9),I=C+(A^N^M)+k[13]+681279174&4294967295,C=A+(I<<4&4294967295|I>>>28),I=M+(C^A^N)+k[0]+3936430074&4294967295,M=C+(I<<11&4294967295|I>>>21),I=N+(M^C^A)+k[3]+3572445317&4294967295,N=M+(I<<16&4294967295|I>>>16),I=A+(N^M^C)+k[6]+76029189&4294967295,A=N+(I<<23&4294967295|I>>>9),I=C+(A^N^M)+k[9]+3654602809&4294967295,C=A+(I<<4&4294967295|I>>>28),I=M+(C^A^N)+k[12]+3873151461&4294967295,M=C+(I<<11&4294967295|I>>>21),I=N+(M^C^A)+k[15]+530742520&4294967295,N=M+(I<<16&4294967295|I>>>16),I=A+(N^M^C)+k[2]+3299628645&4294967295,A=N+(I<<23&4294967295|I>>>9),I=C+(N^(A|~M))+k[0]+4096336452&4294967295,C=A+(I<<6&4294967295|I>>>26),I=M+(A^(C|~N))+k[7]+1126891415&4294967295,M=C+(I<<10&4294967295|I>>>22),I=N+(C^(M|~A))+k[14]+2878612391&4294967295,N=M+(I<<15&4294967295|I>>>17),I=A+(M^(N|~C))+k[5]+4237533241&4294967295,A=N+(I<<21&4294967295|I>>>11),I=C+(N^(A|~M))+k[12]+1700485571&4294967295,C=A+(I<<6&4294967295|I>>>26),I=M+(A^(C|~N))+k[3]+2399980690&4294967295,M=C+(I<<10&4294967295|I>>>22),I=N+(C^(M|~A))+k[10]+4293915773&4294967295,N=M+(I<<15&4294967295|I>>>17),I=A+(M^(N|~C))+k[1]+2240044497&4294967295,A=N+(I<<21&4294967295|I>>>11),I=C+(N^(A|~M))+k[8]+1873313359&4294967295,C=A+(I<<6&4294967295|I>>>26),I=M+(A^(C|~N))+k[15]+4264355552&4294967295,M=C+(I<<10&4294967295|I>>>22),I=N+(C^(M|~A))+k[6]+2734768916&4294967295,N=M+(I<<15&4294967295|I>>>17),I=A+(M^(N|~C))+k[13]+1309151649&4294967295,A=N+(I<<21&4294967295|I>>>11),I=C+(N^(A|~M))+k[4]+4149444226&4294967295,C=A+(I<<6&4294967295|I>>>26),I=M+(A^(C|~N))+k[11]+3174756917&4294967295,M=C+(I<<10&4294967295|I>>>22),I=N+(C^(M|~A))+k[2]+718787259&4294967295,N=M+(I<<15&4294967295|I>>>17),I=A+(M^(N|~C))+k[9]+3951481745&4294967295,S.g[0]=S.g[0]+C&4294967295,S.g[1]=S.g[1]+(N+(I<<21&4294967295|I>>>11))&4294967295,S.g[2]=S.g[2]+N&4294967295,S.g[3]=S.g[3]+M&4294967295}r.prototype.u=function(S,C){C===void 0&&(C=S.length);for(var A=C-this.blockSize,k=this.B,N=this.h,M=0;M<C;){if(N==0)for(;M<=A;)i(this,S,M),M+=this.blockSize;if(typeof S=="string"){for(;M<C;)if(k[N++]=S.charCodeAt(M++),N==this.blockSize){i(this,k),N=0;break}}else for(;M<C;)if(k[N++]=S[M++],N==this.blockSize){i(this,k),N=0;break}}this.h=N,this.o+=C},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var C=1;C<S.length-8;++C)S[C]=0;var A=8*this.o;for(C=S.length-8;C<S.length;++C)S[C]=A&255,A/=256;for(this.u(S),S=Array(16),C=A=0;4>C;++C)for(var k=0;32>k;k+=8)S[A++]=this.g[C]>>>k&255;return S};function o(S,C){var A=a;return Object.prototype.hasOwnProperty.call(A,S)?A[S]:A[S]=C(S)}function s(S,C){this.h=C;for(var A=[],k=!0,N=S.length-1;0<=N;N--){var M=S[N]|0;k&&M==C||(A[N]=M,k=!1)}this.g=A}var a={};function l(S){return-128<=S&&128>S?o(S,function(C){return new s([C|0],0>C?-1:0)}):new s([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return d;if(0>S)return g(u(-S));for(var C=[],A=1,k=0;S>=A;k++)C[k]=S/A|0,A*=4294967296;return new s(C,0)}function c(S,C){if(S.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(S.charAt(0)=="-")return g(c(S.substring(1),C));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=u(Math.pow(C,8)),k=d,N=0;N<S.length;N+=8){var M=Math.min(8,S.length-N),I=parseInt(S.substring(N,N+M),C);8>M?(M=u(Math.pow(C,M)),k=k.j(M).add(u(I))):(k=k.j(A),k=k.add(u(I)))}return k}var d=l(0),f=l(1),h=l(16777216);e=s.prototype,e.m=function(){if(m(this))return-g(this).m();for(var S=0,C=1,A=0;A<this.g.length;A++){var k=this.i(A);S+=(0<=k?k:4294967296+k)*C,C*=4294967296}return S},e.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(p(this))return"0";if(m(this))return"-"+g(this).toString(S);for(var C=u(Math.pow(S,6)),A=this,k="";;){var N=E(A,C).g;A=y(A,N.j(C));var M=((0<A.g.length?A.g[0]:A.h)>>>0).toString(S);if(A=N,p(A))return M+k;for(;6>M.length;)M="0"+M;k=M+k}},e.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function p(S){if(S.h!=0)return!1;for(var C=0;C<S.g.length;C++)if(S.g[C]!=0)return!1;return!0}function m(S){return S.h==-1}e.l=function(S){return S=y(this,S),m(S)?-1:p(S)?0:1};function g(S){for(var C=S.g.length,A=[],k=0;k<C;k++)A[k]=~S.g[k];return new s(A,~S.h).add(f)}e.abs=function(){return m(this)?g(this):this},e.add=function(S){for(var C=Math.max(this.g.length,S.g.length),A=[],k=0,N=0;N<=C;N++){var M=k+(this.i(N)&65535)+(S.i(N)&65535),I=(M>>>16)+(this.i(N)>>>16)+(S.i(N)>>>16);k=I>>>16,M&=65535,I&=65535,A[N]=I<<16|M}return new s(A,A[A.length-1]&-2147483648?-1:0)};function y(S,C){return S.add(g(C))}e.j=function(S){if(p(this)||p(S))return d;if(m(this))return m(S)?g(this).j(g(S)):g(g(this).j(S));if(m(S))return g(this.j(g(S)));if(0>this.l(h)&&0>S.l(h))return u(this.m()*S.m());for(var C=this.g.length+S.g.length,A=[],k=0;k<2*C;k++)A[k]=0;for(k=0;k<this.g.length;k++)for(var N=0;N<S.g.length;N++){var M=this.i(k)>>>16,I=this.i(k)&65535,D=S.i(N)>>>16,R=S.i(N)&65535;A[2*k+2*N]+=I*R,v(A,2*k+2*N),A[2*k+2*N+1]+=M*R,v(A,2*k+2*N+1),A[2*k+2*N+1]+=I*D,v(A,2*k+2*N+1),A[2*k+2*N+2]+=M*D,v(A,2*k+2*N+2)}for(k=0;k<C;k++)A[k]=A[2*k+1]<<16|A[2*k];for(k=C;k<2*C;k++)A[k]=0;return new s(A,0)};function v(S,C){for(;(S[C]&65535)!=S[C];)S[C+1]+=S[C]>>>16,S[C]&=65535,C++}function w(S,C){this.g=S,this.h=C}function E(S,C){if(p(C))throw Error("division by zero");if(p(S))return new w(d,d);if(m(S))return C=E(g(S),C),new w(g(C.g),g(C.h));if(m(C))return C=E(S,g(C)),new w(g(C.g),C.h);if(30<S.g.length){if(m(S)||m(C))throw Error("slowDivide_ only works with positive integers.");for(var A=f,k=C;0>=k.l(S);)A=_(A),k=_(k);var N=x(A,1),M=x(k,1);for(k=x(k,2),A=x(A,2);!p(k);){var I=M.add(k);0>=I.l(S)&&(N=N.add(A),M=I),k=x(k,1),A=x(A,1)}return C=y(S,N.j(C)),new w(N,C)}for(N=d;0<=S.l(C);){for(A=Math.max(1,Math.floor(S.m()/C.m())),k=Math.ceil(Math.log(A)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),M=u(A),I=M.j(C);m(I)||0<I.l(S);)A-=k,M=u(A),I=M.j(C);p(M)&&(M=f),N=N.add(M),S=y(S,I)}return new w(N,S)}e.A=function(S){return E(this,S).h},e.and=function(S){for(var C=Math.max(this.g.length,S.g.length),A=[],k=0;k<C;k++)A[k]=this.i(k)&S.i(k);return new s(A,this.h&S.h)},e.or=function(S){for(var C=Math.max(this.g.length,S.g.length),A=[],k=0;k<C;k++)A[k]=this.i(k)|S.i(k);return new s(A,this.h|S.h)},e.xor=function(S){for(var C=Math.max(this.g.length,S.g.length),A=[],k=0;k<C;k++)A[k]=this.i(k)^S.i(k);return new s(A,this.h^S.h)};function _(S){for(var C=S.g.length+1,A=[],k=0;k<C;k++)A[k]=S.i(k)<<1|S.i(k-1)>>>31;return new s(A,S.h)}function x(S,C){var A=C>>5;C%=32;for(var k=S.g.length-A,N=[],M=0;M<k;M++)N[M]=0<C?S.i(M+A)>>>C|S.i(M+A+1)<<32-C:S.i(M+A);return new s(N,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,xbe=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,pg=s}).apply(typeof Cre<"u"?Cre:typeof self<"u"?self:typeof window<"u"?window:{});var Ck=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _be,WE,Ebe,DI,wj,Sbe,Tbe,Cbe;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(L,Q,ee){return L==Array.prototype||L==Object.prototype||(L[Q]=ee.value),L};function n(L){L=[typeof globalThis=="object"&&globalThis,L,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ck=="object"&&Ck];for(var Q=0;Q<L.length;++Q){var ee=L[Q];if(ee&&ee.Math==Math)return ee}throw Error("Cannot find global object")}var r=n(this);function i(L,Q){if(Q)e:{var ee=r;L=L.split(".");for(var de=0;de<L.length-1;de++){var Me=L[de];if(!(Me in ee))break e;ee=ee[Me]}L=L[L.length-1],de=ee[L],Q=Q(de),Q!=de&&Q!=null&&t(ee,L,{configurable:!0,writable:!0,value:Q})}}function o(L,Q){L instanceof String&&(L+="");var ee=0,de=!1,Me={next:function(){if(!de&&ee<L.length){var He=ee++;return{value:Q(He,L[He]),done:!1}}return de=!0,{done:!0,value:void 0}}};return Me[Symbol.iterator]=function(){return Me},Me}i("Array.prototype.values",function(L){return L||function(){return o(this,function(Q,ee){return ee})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(L){var Q=typeof L;return Q=Q!="object"?Q:L?Array.isArray(L)?"array":Q:"null",Q=="array"||Q=="object"&&typeof L.length=="number"}function u(L){var Q=typeof L;return Q=="object"&&L!=null||Q=="function"}function c(L,Q,ee){return L.call.apply(L.bind,arguments)}function d(L,Q,ee){if(!L)throw Error();if(2<arguments.length){var de=Array.prototype.slice.call(arguments,2);return function(){var Me=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Me,de),L.apply(Q,Me)}}return function(){return L.apply(Q,arguments)}}function f(L,Q,ee){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,f.apply(null,arguments)}function h(L,Q){var ee=Array.prototype.slice.call(arguments,1);return function(){var de=ee.slice();return de.push.apply(de,arguments),L.apply(this,de)}}function p(L,Q){function ee(){}ee.prototype=Q.prototype,L.aa=Q.prototype,L.prototype=new ee,L.prototype.constructor=L,L.Qb=function(de,Me,He){for(var Nt=Array(arguments.length-2),Or=2;Or<arguments.length;Or++)Nt[Or-2]=arguments[Or];return Q.prototype[Me].apply(de,Nt)}}function m(L){const Q=L.length;if(0<Q){const ee=Array(Q);for(let de=0;de<Q;de++)ee[de]=L[de];return ee}return[]}function g(L,Q){for(let ee=1;ee<arguments.length;ee++){const de=arguments[ee];if(l(de)){const Me=L.length||0,He=de.length||0;L.length=Me+He;for(let Nt=0;Nt<He;Nt++)L[Me+Nt]=de[Nt]}else L.push(de)}}class y{constructor(Q,ee){this.i=Q,this.j=ee,this.h=0,this.g=null}get(){let Q;return 0<this.h?(this.h--,Q=this.g,this.g=Q.next,Q.next=null):Q=this.i(),Q}}function v(L){return/^[\s\xa0]*$/.test(L)}function w(){var L=a.navigator;return L&&(L=L.userAgent)?L:""}function E(L){return E[" "](L),L}E[" "]=function(){};var _=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function x(L,Q,ee){for(const de in L)Q.call(ee,L[de],de,L)}function S(L,Q){for(const ee in L)Q.call(void 0,L[ee],ee,L)}function C(L){const Q={};for(const ee in L)Q[ee]=L[ee];return Q}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(L,Q){let ee,de;for(let Me=1;Me<arguments.length;Me++){de=arguments[Me];for(ee in de)L[ee]=de[ee];for(let He=0;He<A.length;He++)ee=A[He],Object.prototype.hasOwnProperty.call(de,ee)&&(L[ee]=de[ee])}}function N(L){var Q=1;L=L.split(":");const ee=[];for(;0<Q&&L.length;)ee.push(L.shift()),Q--;return L.length&&ee.push(L.join(":")),ee}function M(L){a.setTimeout(()=>{throw L},0)}function I(){var L=W;let Q=null;return L.g&&(Q=L.g,L.g=L.g.next,L.g||(L.h=null),Q.next=null),Q}class D{constructor(){this.h=this.g=null}add(Q,ee){const de=R.get();de.set(Q,ee),this.h?this.h.next=de:this.g=de,this.h=de}}var R=new y(()=>new O,L=>L.reset());class O{constructor(){this.next=this.g=this.h=null}set(Q,ee){this.h=Q,this.g=ee,this.next=null}reset(){this.next=this.g=this.h=null}}let B,z=!1,W=new D,U=()=>{const L=a.Promise.resolve(void 0);B=()=>{L.then(F)}};var F=()=>{for(var L;L=I();){try{L.h.call(L.g)}catch(ee){M(ee)}var Q=R;Q.j(L),100>Q.h&&(Q.h++,L.next=Q.g,Q.g=L)}z=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(L,Q){this.type=L,this.g=this.target=Q,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var G=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var L=!1,Q=Object.defineProperty({},"passive",{get:function(){L=!0}});try{const ee=()=>{};a.addEventListener("test",ee,Q),a.removeEventListener("test",ee,Q)}catch{}return L}();function X(L,Q){if(V.call(this,L?L.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,L){var ee=this.type=L.type,de=L.changedTouches&&L.changedTouches.length?L.changedTouches[0]:null;if(this.target=L.target||L.srcElement,this.g=Q,Q=L.relatedTarget){if(_){e:{try{E(Q.nodeName);var Me=!0;break e}catch{}Me=!1}Me||(Q=null)}}else ee=="mouseover"?Q=L.fromElement:ee=="mouseout"&&(Q=L.toElement);this.relatedTarget=Q,de?(this.clientX=de.clientX!==void 0?de.clientX:de.pageX,this.clientY=de.clientY!==void 0?de.clientY:de.pageY,this.screenX=de.screenX||0,this.screenY=de.screenY||0):(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0),this.button=L.button,this.key=L.key||"",this.ctrlKey=L.ctrlKey,this.altKey=L.altKey,this.shiftKey=L.shiftKey,this.metaKey=L.metaKey,this.pointerId=L.pointerId||0,this.pointerType=typeof L.pointerType=="string"?L.pointerType:Z[L.pointerType]||"",this.state=L.state,this.i=L,L.defaultPrevented&&X.aa.h.call(this)}}p(X,V);var Z={2:"touch",3:"pen",4:"mouse"};X.prototype.h=function(){X.aa.h.call(this);var L=this.i;L.preventDefault?L.preventDefault():L.returnValue=!1};var oe="closure_listenable_"+(1e6*Math.random()|0),ne=0;function ie(L,Q,ee,de,Me){this.listener=L,this.proxy=null,this.src=Q,this.type=ee,this.capture=!!de,this.ha=Me,this.key=++ne,this.da=this.fa=!1}function fe(L){L.da=!0,L.listener=null,L.proxy=null,L.src=null,L.ha=null}function se(L){this.src=L,this.g={},this.h=0}se.prototype.add=function(L,Q,ee,de,Me){var He=L.toString();L=this.g[He],L||(L=this.g[He]=[],this.h++);var Nt=Se(L,Q,de,Me);return-1<Nt?(Q=L[Nt],ee||(Q.fa=!1)):(Q=new ie(Q,this.src,He,!!de,Me),Q.fa=ee,L.push(Q)),Q};function ae(L,Q){var ee=Q.type;if(ee in L.g){var de=L.g[ee],Me=Array.prototype.indexOf.call(de,Q,void 0),He;(He=0<=Me)&&Array.prototype.splice.call(de,Me,1),He&&(fe(Q),L.g[ee].length==0&&(delete L.g[ee],L.h--))}}function Se(L,Q,ee,de){for(var Me=0;Me<L.length;++Me){var He=L[Me];if(!He.da&&He.listener==Q&&He.capture==!!ee&&He.ha==de)return Me}return-1}var Te="closure_lm_"+(1e6*Math.random()|0),Oe={};function We(L,Q,ee,de,Me){if(Array.isArray(Q)){for(var He=0;He<Q.length;He++)We(L,Q[He],ee,de,Me);return null}return ee=Tt(ee),L&&L[oe]?L.K(Q,ee,u(de)?!!de.capture:!1,Me):Fe(L,Q,ee,!1,de,Me)}function Fe(L,Q,ee,de,Me,He){if(!Q)throw Error("Invalid event type");var Nt=u(Me)?!!Me.capture:!!Me,Or=gt(L);if(Or||(L[Te]=Or=new se(L)),ee=Or.add(Q,ee,de,Nt,He),ee.proxy)return ee;if(de=Ue(),ee.proxy=de,de.src=L,de.listener=ee,L.addEventListener)G||(Me=Nt),Me===void 0&&(Me=!1),L.addEventListener(Q.toString(),de,Me);else if(L.attachEvent)L.attachEvent(ct(Q.toString()),de);else if(L.addListener&&L.removeListener)L.addListener(de);else throw Error("addEventListener and attachEvent are unavailable.");return ee}function Ue(){function L(ee){return Q.call(L.src,L.listener,ee)}const Q=vt;return L}function rt(L,Q,ee,de,Me){if(Array.isArray(Q))for(var He=0;He<Q.length;He++)rt(L,Q[He],ee,de,Me);else de=u(de)?!!de.capture:!!de,ee=Tt(ee),L&&L[oe]?(L=L.i,Q=String(Q).toString(),Q in L.g&&(He=L.g[Q],ee=Se(He,ee,de,Me),-1<ee&&(fe(He[ee]),Array.prototype.splice.call(He,ee,1),He.length==0&&(delete L.g[Q],L.h--)))):L&&(L=gt(L))&&(Q=L.g[Q.toString()],L=-1,Q&&(L=Se(Q,ee,de,Me)),(ee=-1<L?Q[L]:null)&&at(ee))}function at(L){if(typeof L!="number"&&L&&!L.da){var Q=L.src;if(Q&&Q[oe])ae(Q.i,L);else{var ee=L.type,de=L.proxy;Q.removeEventListener?Q.removeEventListener(ee,de,L.capture):Q.detachEvent?Q.detachEvent(ct(ee),de):Q.addListener&&Q.removeListener&&Q.removeListener(de),(ee=gt(Q))?(ae(ee,L),ee.h==0&&(ee.src=null,Q[Te]=null)):fe(L)}}}function ct(L){return L in Oe?Oe[L]:Oe[L]="on"+L}function vt(L,Q){if(L.da)L=!0;else{Q=new X(Q,this);var ee=L.listener,de=L.ha||L.src;L.fa&&at(L),L=ee.call(de,Q)}return L}function gt(L){return L=L[Te],L instanceof se?L:null}var Ze="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tt(L){return typeof L=="function"?L:(L[Ze]||(L[Ze]=function(Q){return L.handleEvent(Q)}),L[Ze])}function ue(){Y.call(this),this.i=new se(this),this.M=this,this.F=null}p(ue,Y),ue.prototype[oe]=!0,ue.prototype.removeEventListener=function(L,Q,ee,de){rt(this,L,Q,ee,de)};function xe(L,Q){var ee,de=L.F;if(de)for(ee=[];de;de=de.F)ee.push(de);if(L=L.M,de=Q.type||Q,typeof Q=="string")Q=new V(Q,L);else if(Q instanceof V)Q.target=Q.target||L;else{var Me=Q;Q=new V(de,L),k(Q,Me)}if(Me=!0,ee)for(var He=ee.length-1;0<=He;He--){var Nt=Q.g=ee[He];Me=$e(Nt,de,!0,Q)&&Me}if(Nt=Q.g=L,Me=$e(Nt,de,!0,Q)&&Me,Me=$e(Nt,de,!1,Q)&&Me,ee)for(He=0;He<ee.length;He++)Nt=Q.g=ee[He],Me=$e(Nt,de,!1,Q)&&Me}ue.prototype.N=function(){if(ue.aa.N.call(this),this.i){var L=this.i,Q;for(Q in L.g){for(var ee=L.g[Q],de=0;de<ee.length;de++)fe(ee[de]);delete L.g[Q],L.h--}}this.F=null},ue.prototype.K=function(L,Q,ee,de){return this.i.add(String(L),Q,!1,ee,de)},ue.prototype.L=function(L,Q,ee,de){return this.i.add(String(L),Q,!0,ee,de)};function $e(L,Q,ee,de){if(Q=L.i.g[String(Q)],!Q)return!0;Q=Q.concat();for(var Me=!0,He=0;He<Q.length;++He){var Nt=Q[He];if(Nt&&!Nt.da&&Nt.capture==ee){var Or=Nt.listener,No=Nt.ha||Nt.src;Nt.fa&&ae(L.i,Nt),Me=Or.call(No,de)!==!1&&Me}}return Me&&!de.defaultPrevented}function Ye(L,Q,ee){if(typeof L=="function")ee&&(L=f(L,ee));else if(L&&typeof L.handleEvent=="function")L=f(L.handleEvent,L);else throw Error("Invalid listener argument");return 2147483647<Number(Q)?-1:a.setTimeout(L,Q||0)}function tt(L){L.g=Ye(()=>{L.g=null,L.i&&(L.i=!1,tt(L))},L.l);const Q=L.h;L.h=null,L.m.apply(null,Q)}class Et extends Y{constructor(Q,ee){super(),this.m=Q,this.l=ee,this.h=null,this.i=!1,this.g=null}j(Q){this.h=arguments,this.g?this.i=!0:tt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function an(L){Y.call(this),this.h=L,this.g={}}p(an,Y);var ln=[];function Wt(L){x(L.g,function(Q,ee){this.g.hasOwnProperty(ee)&&at(Q)},L),L.g={}}an.prototype.N=function(){an.aa.N.call(this),Wt(this)},an.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dt=a.JSON.stringify,Ae=a.JSON.parse,Qe=class{stringify(L){return a.JSON.stringify(L,void 0)}parse(L){return a.JSON.parse(L,void 0)}};function Ct(){}Ct.prototype.h=null;function xn(L){return L.h||(L.h=L.i())}function gr(){}var dr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ii(){V.call(this,"d")}p(ii,V);function Rr(){V.call(this,"c")}p(Rr,V);var er={},Es=null;function Do(){return Es=Es||new ue}er.La="serverreachability";function Ss(L){V.call(this,er.La,L)}p(Ss,V);function $i(L){const Q=Do();xe(Q,new Ss(Q))}er.STAT_EVENT="statevent";function Un(L,Q){V.call(this,er.STAT_EVENT,L),this.stat=Q}p(Un,V);function or(L){const Q=Do();xe(Q,new Un(Q,L))}er.Ma="timingevent";function $o(L,Q){V.call(this,er.Ma,L),this.size=Q}p($o,V);function yr(L,Q){if(typeof L!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){L()},Q)}function Jr(){this.g=!0}Jr.prototype.xa=function(){this.g=!1};function Ui(L,Q,ee,de,Me,He){L.info(function(){if(L.g)if(He)for(var Nt="",Or=He.split("&"),No=0;No<Or.length;No++){var fr=Or[No].split("=");if(1<fr.length){var Zo=fr[0];fr=fr[1];var _o=Zo.split("_");Nt=2<=_o.length&&_o[1]=="type"?Nt+(Zo+"="+fr+"&"):Nt+(Zo+"=redacted&")}}else Nt=null;else Nt=He;return"XMLHTTP REQ ("+de+") [attempt "+Me+"]: "+Q+`
`+ee+`
`+Nt})}function Ei(L,Q,ee,de,Me,He,Nt){L.info(function(){return"XMLHTTP RESP ("+de+") [ attempt "+Me+"]: "+Q+`
`+ee+`
`+He+" "+Nt})}function oi(L,Q,ee,de){L.info(function(){return"XMLHTTP TEXT ("+Q+"): "+Nc(L,ee)+(de?" "+de:"")})}function Zl(L,Q){L.info(function(){return"TIMEOUT: "+Q})}Jr.prototype.info=function(){};function Nc(L,Q){if(!L.g)return Q;if(!Q)return null;try{var ee=JSON.parse(Q);if(ee){for(L=0;L<ee.length;L++)if(Array.isArray(ee[L])){var de=ee[L];if(!(2>de.length)){var Me=de[1];if(Array.isArray(Me)&&!(1>Me.length)){var He=Me[0];if(He!="noop"&&He!="stop"&&He!="close")for(var Nt=1;Nt<Me.length;Nt++)Me[Nt]=""}}}}return Dt(ee)}catch{return Q}}var La={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Hu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},hi;function kn(){}p(kn,Ct),kn.prototype.g=function(){return new XMLHttpRequest},kn.prototype.i=function(){return{}},hi=new kn;function to(L,Q,ee,de){this.j=L,this.i=Q,this.l=ee,this.R=de||1,this.U=new an(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new eu}function eu(){this.i=null,this.g="",this.h=!1}var hl={},pl={};function Vu(L,Q,ee){L.L=1,L.v=On(lt(Q)),L.m=ee,L.P=!0,Mo(L,null)}function Mo(L,Q){L.F=Date.now(),Gn(L),L.A=lt(L.v);var ee=L.A,de=L.R;Array.isArray(de)||(de=[String(de)]),qu(ee.i,"t",de),L.C=0,ee=L.j.J,L.h=new eu,L.g=p2(L.j,ee?Q:null,!L.m),0<L.O&&(L.M=new Et(f(L.Y,L,L.g),L.O)),Q=L.U,ee=L.g,de=L.ca;var Me="readystatechange";Array.isArray(Me)||(Me&&(ln[0]=Me.toString()),Me=ln);for(var He=0;He<Me.length;He++){var Nt=We(ee,Me[He],de||Q.handleEvent,!1,Q.h||Q);if(!Nt)break;Q.g[Nt.key]=Nt}Q=L.H?C(L.H):{},L.m?(L.u||(L.u="POST"),Q["Content-Type"]="application/x-www-form-urlencoded",L.g.ea(L.A,L.u,L.m,Q)):(L.u="GET",L.g.ea(L.A,L.u,null,Q)),$i(),Ui(L.i,L.u,L.A,L.l,L.R,L.m)}to.prototype.ca=function(L){L=L.target;const Q=this.M;Q&&zn(L)==3?Q.j():this.Y(L)},to.prototype.Y=function(L){try{if(L==this.g)e:{const _o=zn(this.g);var Q=this.g.Ba();const Gu=this.g.Z();if(!(3>_o)&&(_o!=3||this.g&&(this.h.h||this.g.oa()||kr(this.g)))){this.J||_o!=4||Q==7||(Q==8||0>=Gu?$i(3):$i(2)),no(this);var ee=this.g.Z();this.X=ee;t:if(Wd(this)){var de=kr(this.g);L="";var Me=de.length,He=zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ro(this),Qo(this);var Nt="";break t}this.h.i=new a.TextDecoder}for(Q=0;Q<Me;Q++)this.h.h=!0,L+=this.h.i.decode(de[Q],{stream:!(He&&Q==Me-1)});de.length=0,this.h.g+=L,this.C=0,Nt=this.h.g}else Nt=this.g.oa();if(this.o=ee==200,Ei(this.i,this.u,this.A,this.l,this.R,_o,ee),this.o){if(this.T&&!this.K){t:{if(this.g){var Or,No=this.g;if((Or=No.g?No.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Or)){var fr=Or;break t}}fr=null}if(ee=fr)oi(this.i,this.l,ee,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nu(this,ee);else{this.o=!1,this.s=3,or(12),ro(this),Qo(this);break e}}if(this.P){ee=!0;let ou;for(;!this.J&&this.C<Nt.length;)if(ou=tu(this,Nt),ou==pl){_o==4&&(this.s=4,or(14),ee=!1),oi(this.i,this.l,null,"[Incomplete Response]");break}else if(ou==hl){this.s=4,or(15),oi(this.i,this.l,Nt,"[Invalid Chunk]"),ee=!1;break}else oi(this.i,this.l,ou,null),nu(this,ou);if(Wd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_o!=4||Nt.length!=0||this.h.h||(this.s=1,or(16),ee=!1),this.o=this.o&&ee,!ee)oi(this.i,this.l,Nt,"[Invalid Chunked Response]"),ro(this),Qo(this);else if(0<Nt.length&&!this.W){this.W=!0;var Zo=this.j;Zo.g==this&&Zo.ba&&!Zo.M&&(Zo.j.info("Great, no buffering proxy detected. Bytes received: "+Nt.length),x_(Zo),Zo.M=!0,or(11))}}else oi(this.i,this.l,Nt,null),nu(this,Nt);_o==4&&ro(this),this.o&&!this.J&&(_o==4?_b(this.j,this):(this.o=!1,Gn(this)))}else Pr(this.g),ee==400&&0<Nt.indexOf("Unknown SID")?(this.s=3,or(12)):(this.s=0,or(13)),ro(this),Qo(this)}}}catch{}finally{}};function Wd(L){return L.g?L.u=="GET"&&L.L!=2&&L.j.Ca:!1}function tu(L,Q){var ee=L.C,de=Q.indexOf(`
`,ee);return de==-1?pl:(ee=Number(Q.substring(ee,de)),isNaN(ee)?hl:(de+=1,de+ee>Q.length?pl:(Q=Q.slice(de,de+ee),L.C=de+ee,Q)))}to.prototype.cancel=function(){this.J=!0,ro(this)};function Gn(L){L.S=Date.now()+L.I,Oc(L,L.I)}function Oc(L,Q){if(L.B!=null)throw Error("WatchDog timer not null");L.B=yr(f(L.ba,L),Q)}function no(L){L.B&&(a.clearTimeout(L.B),L.B=null)}to.prototype.ba=function(){this.B=null;const L=Date.now();0<=L-this.S?(Zl(this.i,this.A),this.L!=2&&($i(),or(17)),ro(this),this.s=2,Qo(this)):Oc(this,this.S-L)};function Qo(L){L.j.G==0||L.J||_b(L.j,L)}function ro(L){no(L);var Q=L.M;Q&&typeof Q.ma=="function"&&Q.ma(),L.M=null,Wt(L.U),L.g&&(Q=L.g,L.g=null,Q.abort(),Q.ma())}function nu(L,Q){try{var ee=L.j;if(ee.G!=0&&(ee.g==L||oo(ee.h,L))){if(!L.K&&oo(ee.h,L)&&ee.G==3){try{var de=ee.Da.g.parse(Q)}catch{de=null}if(Array.isArray(de)&&de.length==3){var Me=de;if(Me[0]==0){e:if(!ee.u){if(ee.g)if(ee.g.F+3e3<L.F)xb(ee),lo(ee);else break e;wb(ee),or(18)}}else ee.za=Me[1],0<ee.za-ee.T&&37500>Me[2]&&ee.F&&ee.v==0&&!ee.C&&(ee.C=yr(f(ee.Za,ee),6e3));if(1>=qd(ee.h)&&ee.ca){try{ee.ca()}catch{}ee.ca=void 0}}else Ch(ee,11)}else if((L.K||ee.g==L)&&xb(ee),!v(Q))for(Me=ee.Da.g.parse(Q),Q=0;Q<Me.length;Q++){let fr=Me[Q];if(ee.T=fr[0],fr=fr[1],ee.G==2)if(fr[0]=="c"){ee.K=fr[1],ee.ia=fr[2];const Zo=fr[3];Zo!=null&&(ee.la=Zo,ee.j.info("VER="+ee.la));const _o=fr[4];_o!=null&&(ee.Aa=_o,ee.j.info("SVER="+ee.Aa));const Gu=fr[5];Gu!=null&&typeof Gu=="number"&&0<Gu&&(de=1.5*Gu,ee.L=de,ee.j.info("backChannelRequestTimeoutMs_="+de)),de=ee;const ou=L.g;if(ou){const R0=ou.g?ou.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(R0){var He=de.h;He.g||R0.indexOf("spdy")==-1&&R0.indexOf("quic")==-1&&R0.indexOf("h2")==-1||(He.j=He.l,He.g=new Set,He.h&&(le(He,He.h),He.h=null))}if(de.D){const Sb=ou.g?ou.g.getResponseHeader("X-HTTP-Session-Id"):null;Sb&&(de.ya=Sb,en(de.I,de.D,Sb))}}ee.G=3,ee.l&&ee.l.ua(),ee.ba&&(ee.R=Date.now()-L.F,ee.j.info("Handshake RTT: "+ee.R+"ms")),de=ee;var Nt=L;if(de.qa=h2(de,de.J?de.ia:null,de.W),Nt.K){we(de.h,Nt);var Or=Nt,No=de.L;No&&(Or.I=No),Or.B&&(no(Or),Gn(Or)),de.g=Nt}else I0(de);0<ee.i.length&&iu(ee)}else fr[0]!="stop"&&fr[0]!="close"||Ch(ee,7);else ee.G==3&&(fr[0]=="stop"||fr[0]=="close"?fr[0]=="stop"?Ch(ee,7):Nr(ee):fr[0]!="noop"&&ee.l&&ee.l.ta(fr),ee.v=0)}}$i(4)}catch{}}var Ts=class{constructor(L,Q){this.g=L,this.map=Q}};function ml(L){this.l=L||10,a.PerformanceNavigationTiming?(L=a.performance.getEntriesByType("navigation"),L=0<L.length&&(L[0].nextHopProtocol=="hq"||L[0].nextHopProtocol=="h2")):L=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=L?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function io(L){return L.h?!0:L.g?L.g.size>=L.j:!1}function qd(L){return L.h?1:L.g?L.g.size:0}function oo(L,Q){return L.h?L.h==Q:L.g?L.g.has(Q):!1}function le(L,Q){L.g?L.g.add(Q):L.h=Q}function we(L,Q){L.h&&L.h==Q?L.h=null:L.g&&L.g.has(Q)&&L.g.delete(Q)}ml.prototype.cancel=function(){if(this.i=pe(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const L of this.g.values())L.cancel();this.g.clear()}};function pe(L){if(L.h!=null)return L.i.concat(L.h.D);if(L.g!=null&&L.g.size!==0){let Q=L.i;for(const ee of L.g.values())Q=Q.concat(ee.D);return Q}return m(L.i)}function ke(L){if(L.V&&typeof L.V=="function")return L.V();if(typeof Map<"u"&&L instanceof Map||typeof Set<"u"&&L instanceof Set)return Array.from(L.values());if(typeof L=="string")return L.split("");if(l(L)){for(var Q=[],ee=L.length,de=0;de<ee;de++)Q.push(L[de]);return Q}Q=[],ee=0;for(de in L)Q[ee++]=L[de];return Q}function Re(L){if(L.na&&typeof L.na=="function")return L.na();if(!L.V||typeof L.V!="function"){if(typeof Map<"u"&&L instanceof Map)return Array.from(L.keys());if(!(typeof Set<"u"&&L instanceof Set)){if(l(L)||typeof L=="string"){var Q=[];L=L.length;for(var ee=0;ee<L;ee++)Q.push(ee);return Q}Q=[],ee=0;for(const de in L)Q[ee++]=de;return Q}}}function Ce(L,Q){if(L.forEach&&typeof L.forEach=="function")L.forEach(Q,void 0);else if(l(L)||typeof L=="string")Array.prototype.forEach.call(L,Q,void 0);else for(var ee=Re(L),de=ke(L),Me=de.length,He=0;He<Me;He++)Q.call(void 0,de[He],ee&&ee[He],L)}var Ge=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(L,Q){if(L){L=L.split("&");for(var ee=0;ee<L.length;ee++){var de=L[ee].indexOf("="),Me=null;if(0<=de){var He=L[ee].substring(0,de);Me=L[ee].substring(de+1)}else He=L[ee];Q(He,Me?decodeURIComponent(Me.replace(/\+/g," ")):"")}}}function ut(L){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,L instanceof ut){this.h=L.h,_t(this,L.j),this.o=L.o,this.g=L.g,zt(this,L.s),this.l=L.l;var Q=L.i,ee=new Po;ee.i=Q.i,Q.g&&(ee.g=new Map(Q.g),ee.h=Q.h),_n(this,ee),this.m=L.m}else L&&(Q=String(L).match(Ge))?(this.h=!1,_t(this,Q[1]||"",!0),this.o=Qt(Q[2]||""),this.g=Qt(Q[3]||"",!0),zt(this,Q[4]),this.l=Qt(Q[5]||"",!0),_n(this,Q[6]||"",!0),this.m=Qt(Q[7]||"")):(this.h=!1,this.i=new Po(null,this.h))}ut.prototype.toString=function(){var L=[],Q=this.j;Q&&L.push(Hn(Q,ta,!0),":");var ee=this.g;return(ee||Q=="file")&&(L.push("//"),(Q=this.o)&&L.push(Hn(Q,ta,!0),"@"),L.push(encodeURIComponent(String(ee)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),ee=this.s,ee!=null&&L.push(":",String(ee))),(ee=this.l)&&(this.g&&ee.charAt(0)!="/"&&L.push("/"),L.push(Hn(ee,ee.charAt(0)=="/"?Gd:ao,!0))),(ee=this.i.toString())&&L.push("?",ee),(ee=this.m)&&L.push("#",Hn(ee,Yd)),L.join("")};function lt(L){return new ut(L)}function _t(L,Q,ee){L.j=ee?Qt(Q,!0):Q,L.j&&(L.j=L.j.replace(/:$/,""))}function zt(L,Q){if(Q){if(Q=Number(Q),isNaN(Q)||0>Q)throw Error("Bad port number "+Q);L.s=Q}else L.s=null}function _n(L,Q,ee){Q instanceof Po?(L.i=Q,na(L.i,L.h)):(ee||(Q=Hn(Q,Wu)),L.i=new Po(Q,L.h))}function en(L,Q,ee){L.i.set(Q,ee)}function On(L){return en(L,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),L}function Qt(L,Q){return L?Q?decodeURI(L.replace(/%25/g,"%2525")):decodeURIComponent(L):""}function Hn(L,Q,ee){return typeof L=="string"?(L=encodeURI(L).replace(Q,so),ee&&(L=L.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),L):null}function so(L){return L=L.charCodeAt(0),"%"+(L>>4&15).toString(16)+(L&15).toString(16)}var ta=/[#\/\?@]/g,ao=/[#\?:]/g,Gd=/[#\?]/g,Wu=/[#\?@]/g,Yd=/#/g;function Po(L,Q){this.h=this.g=null,this.i=L||null,this.j=!!Q}function pi(L){L.g||(L.g=new Map,L.h=0,L.i&&st(L.i,function(Q,ee){L.add(decodeURIComponent(Q.replace(/\+/g," ")),ee)}))}e=Po.prototype,e.add=function(L,Q){pi(this),this.i=null,L=xo(this,L);var ee=this.g.get(L);return ee||this.g.set(L,ee=[]),ee.push(Q),this.h+=1,this};function si(L,Q){pi(L),Q=xo(L,Q),L.g.has(Q)&&(L.i=null,L.h-=L.g.get(Q).length,L.g.delete(Q))}function Jo(L,Q){return pi(L),Q=xo(L,Q),L.g.has(Q)}e.forEach=function(L,Q){pi(this),this.g.forEach(function(ee,de){ee.forEach(function(Me){L.call(Q,Me,de,this)},this)},this)},e.na=function(){pi(this);const L=Array.from(this.g.values()),Q=Array.from(this.g.keys()),ee=[];for(let de=0;de<Q.length;de++){const Me=L[de];for(let He=0;He<Me.length;He++)ee.push(Q[de])}return ee},e.V=function(L){pi(this);let Q=[];if(typeof L=="string")Jo(this,L)&&(Q=Q.concat(this.g.get(xo(this,L))));else{L=Array.from(this.g.values());for(let ee=0;ee<L.length;ee++)Q=Q.concat(L[ee])}return Q},e.set=function(L,Q){return pi(this),this.i=null,L=xo(this,L),Jo(this,L)&&(this.h-=this.g.get(L).length),this.g.set(L,[Q]),this.h+=1,this},e.get=function(L,Q){return L?(L=this.V(L),0<L.length?String(L[0]):Q):Q};function qu(L,Q,ee){si(L,Q),0<ee.length&&(L.i=null,L.g.set(xo(L,Q),m(ee)),L.h+=ee.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const L=[],Q=Array.from(this.g.keys());for(var ee=0;ee<Q.length;ee++){var de=Q[ee];const He=encodeURIComponent(String(de)),Nt=this.V(de);for(de=0;de<Nt.length;de++){var Me=He;Nt[de]!==""&&(Me+="="+encodeURIComponent(String(Nt[de]))),L.push(Me)}}return this.i=L.join("&")};function xo(L,Q){return Q=String(Q),L.j&&(Q=Q.toLowerCase()),Q}function na(L,Q){Q&&!L.j&&(pi(L),L.i=null,L.g.forEach(function(ee,de){var Me=de.toLowerCase();de!=Me&&(si(this,de),qu(this,Me,ee))},L)),L.j=Q}function Kd(L,Q){const ee=new Jr;if(a.Image){const de=new Image;de.onload=h(Mi,ee,"TestLoadImage: loaded",!0,Q,de),de.onerror=h(Mi,ee,"TestLoadImage: error",!1,Q,de),de.onabort=h(Mi,ee,"TestLoadImage: abort",!1,Q,de),de.ontimeout=h(Mi,ee,"TestLoadImage: timeout",!1,Q,de),a.setTimeout(function(){de.ontimeout&&de.ontimeout()},1e4),de.src=L}else Q(!1)}function gl(L,Q){const ee=new Jr,de=new AbortController,Me=setTimeout(()=>{de.abort(),Mi(ee,"TestPingServer: timeout",!1,Q)},1e4);fetch(L,{signal:de.signal}).then(He=>{clearTimeout(Me),He.ok?Mi(ee,"TestPingServer: ok",!0,Q):Mi(ee,"TestPingServer: server error",!1,Q)}).catch(()=>{clearTimeout(Me),Mi(ee,"TestPingServer: error",!1,Q)})}function Mi(L,Q,ee,de,Me){try{Me&&(Me.onload=null,Me.onerror=null,Me.onabort=null,Me.ontimeout=null),de(ee)}catch{}}function lm(){this.g=new Qe}function Xd(L,Q,ee){const de=ee||"";try{Ce(L,function(Me,He){let Nt=Me;u(Me)&&(Nt=Dt(Me)),Q.push(de+He+"="+encodeURIComponent(Nt))})}catch(Me){throw Q.push(de+"type="+encodeURIComponent("_badmap")),Me}}function Cs(L){this.l=L.Ub||null,this.j=L.eb||!1}p(Cs,Ct),Cs.prototype.g=function(){return new ru(this.l,this.j)},Cs.prototype.i=function(L){return function(){return L}}({});function ru(L,Q){ue.call(this),this.D=L,this.o=Q,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}p(ru,ue),e=ru.prototype,e.open=function(L,Q){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=L,this.A=Q,this.readyState=1,ra(this)},e.send=function(L){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const Q={headers:this.u,method:this.B,credentials:this.m,cache:void 0};L&&(Q.body=L),(this.D||a).fetch(new Request(this.A,Q)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fa(this)),this.readyState=0},e.Sa=function(L){if(this.g&&(this.l=L,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=L.headers,this.readyState=2,ra(this)),this.g&&(this.readyState=3,ra(this),this.g)))if(this.responseType==="arraybuffer")L.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in L){if(this.j=L.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;um(this)}else L.text().then(this.Ra.bind(this),this.ga.bind(this))};function um(L){L.j.read().then(L.Pa.bind(L)).catch(L.ga.bind(L))}e.Pa=function(L){if(this.g){if(this.o&&L.value)this.response.push(L.value);else if(!this.o){var Q=L.value?L.value:new Uint8Array(0);(Q=this.v.decode(Q,{stream:!L.done}))&&(this.response=this.responseText+=Q)}L.done?Fa(this):ra(this),this.readyState==3&&um(this)}},e.Ra=function(L){this.g&&(this.response=this.responseText=L,Fa(this))},e.Qa=function(L){this.g&&(this.response=L,Fa(this))},e.ga=function(){this.g&&Fa(this)};function Fa(L){L.readyState=4,L.l=null,L.j=null,L.v=null,ra(L)}e.setRequestHeader=function(L,Q){this.u.append(L,Q)},e.getResponseHeader=function(L){return this.h&&this.h.get(L.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const L=[],Q=this.h.entries();for(var ee=Q.next();!ee.done;)ee=ee.value,L.push(ee[0]+": "+ee[1]),ee=Q.next();return L.join(`\r
`)};function ra(L){L.onreadystatechange&&L.onreadystatechange.call(L)}Object.defineProperty(ru.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(L){this.m=L?"include":"same-origin"}});function me(L){let Q="";return x(L,function(ee,de){Q+=de,Q+=":",Q+=ee,Q+=`\r
`}),Q}function te(L,Q,ee){e:{for(de in ee){var de=!1;break e}de=!0}de||(ee=me(ee),typeof L=="string"?ee!=null&&encodeURIComponent(String(ee)):en(L,Q,ee))}function ce(L){ue.call(this),this.headers=new Map,this.o=L||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}p(ce,ue);var _e=/^https?$/i,At=["POST","PUT"];e=ce.prototype,e.Ha=function(L){this.J=L},e.ea=function(L,Q,ee,de){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+L);Q=Q?Q.toUpperCase():"GET",this.D=L,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hi.g(),this.v=this.o?xn(this.o):xn(hi),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(Q,String(L),!0),this.B=!1}catch(He){Pt(this,He);return}if(L=ee||"",ee=new Map(this.headers),de)if(Object.getPrototypeOf(de)===Object.prototype)for(var Me in de)ee.set(Me,de[Me]);else if(typeof de.keys=="function"&&typeof de.get=="function")for(const He of de.keys())ee.set(He,de.get(He));else throw Error("Unknown input type for opt_headers: "+String(de));de=Array.from(ee.keys()).find(He=>He.toLowerCase()=="content-type"),Me=a.FormData&&L instanceof a.FormData,!(0<=Array.prototype.indexOf.call(At,Q,void 0))||de||Me||ee.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[He,Nt]of ee)this.g.setRequestHeader(He,Nt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{pn(this),this.u=!0,this.g.send(L),this.u=!1}catch(He){Pt(this,He)}};function Pt(L,Q){L.h=!1,L.g&&(L.j=!0,L.g.abort(),L.j=!1),L.l=Q,L.m=5,cn(L),Zt(L)}function cn(L){L.A||(L.A=!0,xe(L,"complete"),xe(L,"error"))}e.abort=function(L){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=L||7,xe(this,"complete"),xe(this,"abort"),Zt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zt(this,!0)),ce.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?En(this):this.bb())},e.bb=function(){En(this)};function En(L){if(L.h&&typeof s<"u"&&(!L.v[1]||zn(L)!=4||L.Z()!=2)){if(L.u&&zn(L)==4)Ye(L.Ea,0,L);else if(xe(L,"readystatechange"),zn(L)==4){L.h=!1;try{const Nt=L.Z();e:switch(Nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var Q=!0;break e;default:Q=!1}var ee;if(!(ee=Q)){var de;if(de=Nt===0){var Me=String(L.D).match(Ge)[1]||null;!Me&&a.self&&a.self.location&&(Me=a.self.location.protocol.slice(0,-1)),de=!_e.test(Me?Me.toLowerCase():"")}ee=de}if(ee)xe(L,"complete"),xe(L,"success");else{L.m=6;try{var He=2<zn(L)?L.g.statusText:""}catch{He=""}L.l=He+" ["+L.Z()+"]",cn(L)}}finally{Zt(L)}}}}function Zt(L,Q){if(L.g){pn(L);const ee=L.g,de=L.v[0]?()=>{}:null;L.g=null,L.v=null,Q||xe(L,"ready");try{ee.onreadystatechange=de}catch{}}}function pn(L){L.I&&(a.clearTimeout(L.I),L.I=null)}e.isActive=function(){return!!this.g};function zn(L){return L.g?L.g.readyState:0}e.Z=function(){try{return 2<zn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(L){if(this.g){var Q=this.g.responseText;return L&&Q.indexOf(L)==0&&(Q=Q.substring(L.length)),Ae(Q)}};function kr(L){try{if(!L.g)return null;if("response"in L.g)return L.g.response;switch(L.H){case"":case"text":return L.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in L.g)return L.g.mozResponseArrayBuffer}return null}catch{return null}}function Pr(L){const Q={};L=(L.g&&2<=zn(L)&&L.g.getAllResponseHeaders()||"").split(`\r
`);for(let de=0;de<L.length;de++){if(v(L[de]))continue;var ee=N(L[de]);const Me=ee[0];if(ee=ee[1],typeof ee!="string")continue;ee=ee.trim();const He=Q[Me]||[];Q[Me]=He,He.push(ee)}S(Q,function(de){return de.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zr(L,Q,ee){return ee&&ee.internalChannelParams&&ee.internalChannelParams[L]||Q}function Hi(L){this.Aa=0,this.i=[],this.j=new Jr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zr("failFast",!1,L),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zr("baseRetryDelayMs",5e3,L),this.cb=Zr("retryDelaySeedMs",1e4,L),this.Wa=Zr("forwardChannelMaxRetries",2,L),this.wa=Zr("forwardChannelRequestTimeoutMs",2e4,L),this.pa=L&&L.xmlHttpFactory||void 0,this.Xa=L&&L.Tb||void 0,this.Ca=L&&L.useFetchStreams||!1,this.L=void 0,this.J=L&&L.supportsCrossDomainXhr||!1,this.K="",this.h=new ml(L&&L.concurrentRequestLimit),this.Da=new lm,this.P=L&&L.fastHandshake||!1,this.O=L&&L.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=L&&L.Rb||!1,L&&L.xa&&this.j.xa(),L&&L.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&L&&L.detectBufferingProxy||!1,this.ja=void 0,L&&L.longPollingTimeout&&0<L.longPollingTimeout&&(this.ja=L.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Hi.prototype,e.la=8,e.G=1,e.connect=function(L,Q,ee,de){or(0),this.W=L,this.H=Q||{},ee&&de!==void 0&&(this.H.OSID=ee,this.H.OAID=de),this.F=this.X,this.I=h2(this,null,this.W),iu(this)};function Nr(L){if(yl(L),L.G==3){var Q=L.U++,ee=lt(L.I);if(en(ee,"SID",L.K),en(ee,"RID",Q),en(ee,"TYPE","terminate"),Th(L,ee),Q=new to(L,L.j,Q),Q.L=2,Q.v=On(lt(ee)),ee=!1,a.navigator&&a.navigator.sendBeacon)try{ee=a.navigator.sendBeacon(Q.v.toString(),"")}catch{}!ee&&a.Image&&(new Image().src=Q.v,ee=!0),ee||(Q.g=p2(Q.j,null),Q.g.ea(Q.v)),Q.F=Date.now(),Gn(Q)}f2(L)}function lo(L){L.g&&(x_(L),L.g.cancel(),L.g=null)}function yl(L){lo(L),L.u&&(a.clearTimeout(L.u),L.u=null),xb(L),L.h.cancel(),L.s&&(typeof L.s=="number"&&a.clearTimeout(L.s),L.s=null)}function iu(L){if(!io(L.h)&&!L.s){L.s=!0;var Q=L.Ga;B||U(),z||(B(),z=!0),W.add(Q,L),L.B=0}}function cm(L,Q){return qd(L.h)>=L.h.j-(L.s?1:0)?!1:L.s?(L.i=Q.D.concat(L.i),!0):L.G==1||L.G==2||L.B>=(L.Va?0:L.Wa)?!1:(L.s=yr(f(L.Ga,L,Q),d2(L,L.B)),L.B++,!0)}e.Ga=function(L){if(this.s)if(this.s=null,this.G==1){if(!L){this.U=Math.floor(1e5*Math.random()),L=this.U++;const Me=new to(this,this.j,L);let He=this.o;if(this.S&&(He?(He=C(He),k(He,this.S)):He=this.S),this.m!==null||this.O||(Me.H=He,He=null),this.P)e:{for(var Q=0,ee=0;ee<this.i.length;ee++){t:{var de=this.i[ee];if("__data__"in de.map&&(de=de.map.__data__,typeof de=="string")){de=de.length;break t}de=void 0}if(de===void 0)break;if(Q+=de,4096<Q){Q=ee;break e}if(Q===4096||ee===this.i.length-1){Q=ee+1;break e}}Q=1e3}else Q=1e3;Q=dm(this,Me,Q),ee=lt(this.I),en(ee,"RID",L),en(ee,"CVER",22),this.D&&en(ee,"X-HTTP-Session-Id",this.D),Th(this,ee),He&&(this.O?Q="headers="+encodeURIComponent(String(me(He)))+"&"+Q:this.m&&te(ee,this.m,He)),le(this.h,Me),this.Ua&&en(ee,"TYPE","init"),this.P?(en(ee,"$req",Q),en(ee,"SID","null"),Me.T=!0,Vu(Me,ee,null)):Vu(Me,ee,Q),this.G=2}}else this.G==3&&(L?Lc(this,L):this.i.length==0||io(this.h)||Lc(this))};function Lc(L,Q){var ee;Q?ee=Q.l:ee=L.U++;const de=lt(L.I);en(de,"SID",L.K),en(de,"RID",ee),en(de,"AID",L.T),Th(L,de),L.m&&L.o&&te(de,L.m,L.o),ee=new to(L,L.j,ee,L.B+1),L.m===null&&(ee.H=L.o),Q&&(L.i=Q.D.concat(L.i)),Q=dm(L,ee,1e3),ee.I=Math.round(.5*L.wa)+Math.round(.5*L.wa*Math.random()),le(L.h,ee),Vu(ee,de,Q)}function Th(L,Q){L.H&&x(L.H,function(ee,de){en(Q,de,ee)}),L.l&&Ce({},function(ee,de){en(Q,de,ee)})}function dm(L,Q,ee){ee=Math.min(L.i.length,ee);var de=L.l?f(L.l.Na,L.l,L):null;e:{var Me=L.i;let He=-1;for(;;){const Nt=["count="+ee];He==-1?0<ee?(He=Me[0].g,Nt.push("ofs="+He)):He=0:Nt.push("ofs="+He);let Or=!0;for(let No=0;No<ee;No++){let fr=Me[No].g;const Zo=Me[No].map;if(fr-=He,0>fr)He=Math.max(0,Me[No].g-100),Or=!1;else try{Xd(Zo,Nt,"req"+fr+"_")}catch{de&&de(Zo)}}if(Or){de=Nt.join("&");break e}}}return L=L.i.splice(0,ee),Q.D=L,de}function I0(L){if(!L.g&&!L.u){L.Y=1;var Q=L.Fa;B||U(),z||(B(),z=!0),W.add(Q,L),L.v=0}}function wb(L){return L.g||L.u||3<=L.v?!1:(L.Y++,L.u=yr(f(L.Fa,L),d2(L,L.v)),L.v++,!0)}e.Fa=function(){if(this.u=null,c2(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var L=2*this.R;this.j.info("BP detection timer enabled: "+L),this.A=yr(f(this.ab,this),L)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,or(10),lo(this),c2(this))};function x_(L){L.A!=null&&(a.clearTimeout(L.A),L.A=null)}function c2(L){L.g=new to(L,L.j,"rpc",L.Y),L.m===null&&(L.g.H=L.o),L.g.O=0;var Q=lt(L.qa);en(Q,"RID","rpc"),en(Q,"SID",L.K),en(Q,"AID",L.T),en(Q,"CI",L.F?"0":"1"),!L.F&&L.ja&&en(Q,"TO",L.ja),en(Q,"TYPE","xmlhttp"),Th(L,Q),L.m&&L.o&&te(Q,L.m,L.o),L.L&&(L.g.I=L.L);var ee=L.g;L=L.ia,ee.L=1,ee.v=On(lt(Q)),ee.m=null,ee.P=!0,Mo(ee,L)}e.Za=function(){this.C!=null&&(this.C=null,lo(this),wb(this),or(19))};function xb(L){L.C!=null&&(a.clearTimeout(L.C),L.C=null)}function _b(L,Q){var ee=null;if(L.g==Q){xb(L),x_(L),L.g=null;var de=2}else if(oo(L.h,Q))ee=Q.D,we(L.h,Q),de=1;else return;if(L.G!=0){if(Q.o)if(de==1){ee=Q.m?Q.m.length:0,Q=Date.now()-Q.F;var Me=L.B;de=Do(),xe(de,new $o(de,ee)),iu(L)}else I0(L);else if(Me=Q.s,Me==3||Me==0&&0<Q.X||!(de==1&&cm(L,Q)||de==2&&wb(L)))switch(ee&&0<ee.length&&(Q=L.h,Q.i=Q.i.concat(ee)),Me){case 1:Ch(L,5);break;case 4:Ch(L,10);break;case 3:Ch(L,6);break;default:Ch(L,2)}}}function d2(L,Q){let ee=L.Ta+Math.floor(Math.random()*L.cb);return L.isActive()||(ee*=2),ee*Q}function Ch(L,Q){if(L.j.info("Error code "+Q),Q==2){var ee=f(L.fb,L),de=L.Xa;const Me=!de;de=new ut(de||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||_t(de,"https"),On(de),Me?Kd(de.toString(),ee):gl(de.toString(),ee)}else or(2);L.G=0,L.l&&L.l.sa(Q),f2(L),yl(L)}e.fb=function(L){L?(this.j.info("Successfully pinged google.com"),or(2)):(this.j.info("Failed to ping google.com"),or(1))};function f2(L){if(L.G=0,L.ka=[],L.l){const Q=pe(L.h);(Q.length!=0||L.i.length!=0)&&(g(L.ka,Q),g(L.ka,L.i),L.h.i.length=0,m(L.i),L.i.length=0),L.l.ra()}}function h2(L,Q,ee){var de=ee instanceof ut?lt(ee):new ut(ee);if(de.g!="")Q&&(de.g=Q+"."+de.g),zt(de,de.s);else{var Me=a.location;de=Me.protocol,Q=Q?Q+"."+Me.hostname:Me.hostname,Me=+Me.port;var He=new ut(null);de&&_t(He,de),Q&&(He.g=Q),Me&&zt(He,Me),ee&&(He.l=ee),de=He}return ee=L.D,Q=L.ya,ee&&Q&&en(de,ee,Q),en(de,"VER",L.la),Th(L,de),de}function p2(L,Q,ee){if(Q&&!L.J)throw Error("Can't create secondary domain capable XhrIo object.");return Q=L.Ca&&!L.pa?new ce(new Cs({eb:ee})):new ce(L.pa),Q.Ha(L.J),Q}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function __(){}e=__.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Eb(){}Eb.prototype.g=function(L,Q){return new Ba(L,Q)};function Ba(L,Q){ue.call(this),this.g=new Hi(Q),this.l=L,this.h=Q&&Q.messageUrlParams||null,L=Q&&Q.messageHeaders||null,Q&&Q.clientProtocolHeaderRequired&&(L?L["X-Client-Protocol"]="webchannel":L={"X-Client-Protocol":"webchannel"}),this.g.o=L,L=Q&&Q.initMessageHeaders||null,Q&&Q.messageContentType&&(L?L["X-WebChannel-Content-Type"]=Q.messageContentType:L={"X-WebChannel-Content-Type":Q.messageContentType}),Q&&Q.va&&(L?L["X-WebChannel-Client-Profile"]=Q.va:L={"X-WebChannel-Client-Profile":Q.va}),this.g.S=L,(L=Q&&Q.Sb)&&!v(L)&&(this.g.m=L),this.v=Q&&Q.supportsCrossDomainXhr||!1,this.u=Q&&Q.sendRawJson||!1,(Q=Q&&Q.httpSessionIdParam)&&!v(Q)&&(this.g.D=Q,L=this.h,L!==null&&Q in L&&(L=this.h,Q in L&&delete L[Q])),this.j=new Qd(this)}p(Ba,ue),Ba.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ba.prototype.close=function(){Nr(this.g)},Ba.prototype.o=function(L){var Q=this.g;if(typeof L=="string"){var ee={};ee.__data__=L,L=ee}else this.u&&(ee={},ee.__data__=Dt(L),L=ee);Q.i.push(new Ts(Q.Ya++,L)),Q.G==3&&iu(Q)},Ba.prototype.N=function(){this.g.l=null,delete this.j,Nr(this.g),delete this.g,Ba.aa.N.call(this)};function m2(L){ii.call(this),L.__headers__&&(this.headers=L.__headers__,this.statusCode=L.__status__,delete L.__headers__,delete L.__status__);var Q=L.__sm__;if(Q){e:{for(const ee in Q){L=ee;break e}L=void 0}(this.i=L)&&(L=this.i,Q=Q!==null&&L in Q?Q[L]:void 0),this.data=Q}else this.data=L}p(m2,ii);function g2(){Rr.call(this),this.status=1}p(g2,Rr);function Qd(L){this.g=L}p(Qd,__),Qd.prototype.ua=function(){xe(this.g,"a")},Qd.prototype.ta=function(L){xe(this.g,new m2(L))},Qd.prototype.sa=function(L){xe(this.g,new g2)},Qd.prototype.ra=function(){xe(this.g,"b")},Eb.prototype.createWebChannel=Eb.prototype.g,Ba.prototype.send=Ba.prototype.o,Ba.prototype.open=Ba.prototype.m,Ba.prototype.close=Ba.prototype.close,Cbe=function(){return new Eb},Tbe=function(){return Do()},Sbe=er,wj={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},La.NO_ERROR=0,La.TIMEOUT=8,La.HTTP_ERROR=6,DI=La,Hu.COMPLETE="complete",Ebe=Hu,gr.EventType=dr,dr.OPEN="a",dr.CLOSE="b",dr.ERROR="c",dr.MESSAGE="d",ue.prototype.listen=ue.prototype.K,WE=gr,ce.prototype.listenOnce=ce.prototype.L,ce.prototype.getLastError=ce.prototype.Ka,ce.prototype.getLastErrorCode=ce.prototype.Ba,ce.prototype.getStatus=ce.prototype.Z,ce.prototype.getResponseJson=ce.prototype.Oa,ce.prototype.getResponseText=ce.prototype.oa,ce.prototype.send=ce.prototype.ea,ce.prototype.setWithCredentials=ce.prototype.Ha,_be=ce}).apply(typeof Ck<"u"?Ck:typeof self<"u"?self:typeof window<"u"?window:{});const Are="@firebase/firestore",kre="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Al.UNAUTHENTICATED=new Al(null),Al.GOOGLE_CREDENTIALS=new Al("google-credentials-uid"),Al.FIRST_PARTY=new Al("first-party-uid"),Al.MOCK_USER=new Al("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bx="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy=new zP("@firebase/firestore");function w1(){return Qy.logLevel}function Yt(e,...t){if(Qy.logLevel<=tr.DEBUG){const n=t.map(FV);Qy.debug(`Firestore (${Bx}): ${e}`,...n)}}function Dp(e,...t){if(Qy.logLevel<=tr.ERROR){const n=t.map(FV);Qy.error(`Firestore (${Bx}): ${e}`,...n)}}function _T(e,...t){if(Qy.logLevel<=tr.WARN){const n=t.map(FV);Qy.warn(`Firestore (${Bx}): ${e}`,...n)}}function FV(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(e="Unexpected state"){const t=`FIRESTORE (${Bx}) INTERNAL ASSERTION FAILED: `+e;throw Dp(t),new Error(t)}function Mr(e,t){e||Cn()}function Pn(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ht extends lh{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OJe{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class LJe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Al.UNAUTHENTICATED))}shutdown(){}}class FJe{constructor(t){this.t=t,this.currentUser=Al.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Mr(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new hp;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new hp,t.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Yt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Yt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new hp)}},0),s()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(Yt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Mr(typeof r.accessToken=="string"),new OJe(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Mr(t===null||typeof t=="string"),new Al(t)}}class BJe{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Al.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class jJe{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new BJe(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Al.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ire{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zJe{constructor(t,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,gu(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,n){Mr(this.o===void 0);const r=o=>{o.error!=null&&Yt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,Yt("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>r(o))};const i=o=>{Yt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Yt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Ire(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Mr(typeof n.token=="string"),this.R=n.token,new Ire(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UJe(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Abe(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kbe{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=UJe(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=t.charAt(i[o]%62))}return r}}function qn(e,t){return e<t?-1:e>t?1:0}function xj(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return qn(r,i);{const o=Abe(),s=HJe(o.encode(Rre(e,n)),o.encode(Rre(t,n)));return s!==0?s:qn(r,i)}}n+=r>65535?2:1}return qn(e.length,t.length)}function Rre(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function HJe(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return qn(e[n],t[n]);return qn(e.length,t.length)}function vw(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dre=-62135596800,$re=1e6;class Vo{static now(){return Vo.fromMillis(Date.now())}static fromDate(t){return Vo.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*$re);return new Vo(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Ht(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ht(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Dre)throw new Ht(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ht(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$re}_compareTo(t){return this.seconds===t.seconds?qn(this.nanoseconds,t.nanoseconds):qn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Dre;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{static fromTimestamp(t){return new Mn(t)}static min(){return new Mn(new Vo(0,0))}static max(){return new Mn(new Vo(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mre="__name__";class cf{constructor(t,n,r){n===void 0?n=0:n>t.length&&Cn(),r===void 0?r=t.length-n:r>t.length-n&&Cn(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return cf.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof cf?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const o=cf.compareSegments(t.get(i),n.get(i));if(o!==0)return o}return qn(t.length,n.length)}static compareSegments(t,n){const r=cf.isNumericId(t),i=cf.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?cf.extractNumericId(t).compare(cf.extractNumericId(n)):xj(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return pg.fromString(t.substring(4,t.length-2))}}class bi extends cf{construct(t,n,r){return new bi(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new Ht(nt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new bi(n)}static emptyPath(){return new bi([])}}const VJe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class js extends cf{construct(t,n,r){return new js(t,n,r)}static isValidIdentifier(t){return VJe.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),js.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Mre}static keyField(){return new js([Mre])}static fromServerFormat(t){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Ht(nt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new Ht(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ht(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Ht(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new js(n)}static emptyPath(){return new js([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(t){this.path=t}static fromPath(t){return new mn(bi.fromString(t))}static fromName(t){return new mn(bi.fromString(t).popFirst(5))}static empty(){return new mn(bi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&bi.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return bi.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mn(new bi(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=-1;function WJe(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Mn.fromTimestamp(r===1e9?new Vo(n+1,0):new Vo(n,r));return new Tg(i,mn.empty(),t)}function qJe(e){return new Tg(e.readTime,e.key,ET)}class Tg{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Tg(Mn.min(),mn.empty(),ET)}static max(){return new Tg(Mn.max(),mn.empty(),ET)}}function GJe(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=mn.comparator(e.documentKey,t.documentKey),n!==0?n:qn(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YJe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KJe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jx(e){if(e.code!==nt.FAILED_PRECONDITION||e.message!==YJe)throw e;Yt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Cn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new ot((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof ot?n:ot.resolve(n)}catch(n){return ot.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):ot.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):ot.reject(n)}static resolve(t){return new ot((n,r)=>{n(t)})}static reject(t){return new ot((n,r)=>{r(t)})}static waitFor(t){return new ot((n,r)=>{let i=0,o=0,s=!1;t.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(t){let n=ot.resolve(!1);for(const r of t)n=n.next(i=>i?ot.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(t,n){return new ot((r,i)=>{const o=t.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(t[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(t,n){return new ot((r,i)=>{const o=()=>{t()===!0?n().next(()=>{o()},i):r()};o()})}}function XJe(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function zx(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}VP.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV=-1;function WP(e){return e==null}function CD(e){return e===0&&1/e==-1/0}function QJe(e){return typeof e=="number"&&Number.isInteger(e)&&!CD(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ibe="";function JJe(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Pre(t)),t=ZJe(e.get(n),t);return Pre(t)}function ZJe(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const o=e.charAt(i);switch(o){case"\0":n+="";break;case Ibe:n+="";break;default:n+=o}}return n}function Pre(e){return e+Ibe+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nre(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function l0(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Rbe(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(t,n){this.comparator=t,this.root=n||Ps.EMPTY}insert(t,n){return new zi(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ps.BLACK,null,null))}remove(t){return new zi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ps.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ak(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ak(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ak(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ak(this.root,t,this.comparator,!0)}}class Ak{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=n?r(t.key,n):1,n&&i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ps{constructor(t,n,r,i,o){this.key=t,this.value=n,this.color=r??Ps.RED,this.left=i??Ps.EMPTY,this.right=o??Ps.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,o){return new Ps(t??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const o=r(t,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(t,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ps.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return Ps.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ps.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ps.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Cn();const t=this.left.check();if(t!==this.right.check())throw Cn();return t+(this.isRed()?0:1)}}Ps.EMPTY=null,Ps.RED=!0,Ps.BLACK=!1;Ps.EMPTY=new class{constructor(){this.size=0}get key(){throw Cn()}get value(){throw Cn()}get color(){throw Cn()}get left(){throw Cn()}get right(){throw Cn()}copy(t,n,r,i,o){return this}insert(t,n,r){return new Ps(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(t){this.comparator=t,this.data=new zi(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ore(this.data.getIterator())}getIteratorFrom(t){return new Ore(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Wo)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Wo(this.comparator);return n.data=t,n}}class Ore{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(t){this.fields=t,t.sort(js.comparator)}static empty(){return new vu([])}unionWith(t){let n=new Wo(js.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new vu(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return vw(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dbe extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Dbe("Invalid base64 string: "+o):o}}(t);return new Qs(n)}static fromUint8Array(t){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(t);return new Qs(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return qn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qs.EMPTY_BYTE_STRING=new Qs("");const eZe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cg(e){if(Mr(!!e),typeof e=="string"){let t=0;const n=eZe.exec(e);if(Mr(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:po(e.seconds),nanos:po(e.nanos)}}function po(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Ag(e){return typeof e=="string"?Qs.fromBase64String(e):Qs.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $be="server_timestamp",Mbe="__type__",Pbe="__previous_value__",Nbe="__local_write_time__";function jV(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[Mbe])===null||n===void 0?void 0:n.stringValue)===$be}function qP(e){const t=e.mapValue.fields[Pbe];return jV(t)?qP(t):t}function ST(e){const t=Cg(e.mapValue.fields[Nbe].timestampValue);return new Vo(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tZe{constructor(t,n,r,i,o,s,a,l,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}const AD="(default)";class TT{constructor(t,n){this.projectId=t,this.database=n||AD}static empty(){return new TT("","")}get isDefaultDatabase(){return this.database===AD}isEqual(t){return t instanceof TT&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Obe="__type__",nZe="__max__",kk={mapValue:{}},Lbe="__vector__",kD="value";function kg(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?jV(e)?4:iZe(e)?9007199254740991:rZe(e)?10:11:Cn()}function Hf(e,t){if(e===t)return!0;const n=kg(e);if(n!==kg(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ST(e).isEqual(ST(t));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Cg(i.timestampValue),a=Cg(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,o){return Ag(i.bytesValue).isEqual(Ag(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,o){return po(i.geoPointValue.latitude)===po(o.geoPointValue.latitude)&&po(i.geoPointValue.longitude)===po(o.geoPointValue.longitude)}(e,t);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return po(i.integerValue)===po(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=po(i.doubleValue),a=po(o.doubleValue);return s===a?CD(s)===CD(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return vw(e.arrayValue.values||[],t.arrayValue.values||[],Hf);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Nre(s)!==Nre(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Hf(s[l],a[l])))return!1;return!0}(e,t);default:return Cn()}}function CT(e,t){return(e.values||[]).find(n=>Hf(n,t))!==void 0}function bw(e,t){if(e===t)return 0;const n=kg(e),r=kg(t);if(n!==r)return qn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return qn(e.booleanValue,t.booleanValue);case 2:return function(o,s){const a=po(o.integerValue||o.doubleValue),l=po(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return Lre(e.timestampValue,t.timestampValue);case 4:return Lre(ST(e),ST(t));case 5:return xj(e.stringValue,t.stringValue);case 6:return function(o,s){const a=Ag(o),l=Ag(s);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=qn(a[u],l[u]);if(c!==0)return c}return qn(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,s){const a=qn(po(o.latitude),po(s.latitude));return a!==0?a:qn(po(o.longitude),po(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Fre(e.arrayValue,t.arrayValue);case 10:return function(o,s){var a,l,u,c;const d=o.fields||{},f=s.fields||{},h=(a=d[kD])===null||a===void 0?void 0:a.arrayValue,p=(l=f[kD])===null||l===void 0?void 0:l.arrayValue,m=qn(((u=h==null?void 0:h.values)===null||u===void 0?void 0:u.length)||0,((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0);return m!==0?m:Fre(h,p)}(e.mapValue,t.mapValue);case 11:return function(o,s){if(o===kk.mapValue&&s===kk.mapValue)return 0;if(o===kk.mapValue)return 1;if(s===kk.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const f=xj(l[d],c[d]);if(f!==0)return f;const h=bw(a[l[d]],u[c[d]]);if(h!==0)return h}return qn(l.length,c.length)}(e.mapValue,t.mapValue);default:throw Cn()}}function Lre(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return qn(e,t);const n=Cg(e),r=Cg(t),i=qn(n.seconds,r.seconds);return i!==0?i:qn(n.nanos,r.nanos)}function Fre(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=bw(n[i],r[i]);if(o)return o}return qn(n.length,r.length)}function ww(e){return _j(e)}function _j(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=Cg(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Ag(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return mn.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=_j(o);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${_j(n.fields[s])}`;return i+"}"}(e.mapValue):Cn()}function $I(e){switch(kg(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=qP(e);return t?16+$I(t):16;case 5:return 2*e.stringValue.length;case 6:return Ag(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+$I(o),0)}(e.arrayValue);case 10:case 11:return function(r){let i=0;return l0(r.fields,(o,s)=>{i+=o.length+$I(s)}),i}(e.mapValue);default:throw Cn()}}function Bre(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Ej(e){return!!e&&"integerValue"in e}function zV(e){return!!e&&"arrayValue"in e}function jre(e){return!!e&&"nullValue"in e}function zre(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function MI(e){return!!e&&"mapValue"in e}function rZe(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[Obe])===null||n===void 0?void 0:n.stringValue)===Lbe}function BS(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return l0(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=BS(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=BS(e.arrayValue.values[n]);return t}return Object.assign({},e)}function iZe(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===nZe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(t){this.value=t}static empty(){return new $l({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!MI(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=BS(n)}setAll(t){let n=js.emptyPath(),r={},i=[];t.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=BS(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(t){const n=this.field(t.popLast());MI(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Hf(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];MI(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){l0(n,(i,o)=>t[i]=o);for(const i of r)delete t[i]}clone(){return new $l(BS(this.value))}}function Fbe(e){const t=[];return l0(e.fields,(n,r)=>{const i=new js([n]);if(MI(r)){const o=Fbe(r.mapValue).fields;if(o.length===0)t.push(i);else for(const s of o)t.push(i.child(s))}else t.push(i)}),new vu(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(t,n,r,i,o,s,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(t){return new wa(t,0,Mn.min(),Mn.min(),Mn.min(),$l.empty(),0)}static newFoundDocument(t,n,r,i){return new wa(t,1,n,Mn.min(),r,i,0)}static newNoDocument(t,n){return new wa(t,2,n,Mn.min(),Mn.min(),$l.empty(),0)}static newUnknownDocument(t,n){return new wa(t,3,n,Mn.min(),Mn.min(),$l.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Mn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=$l.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=$l.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Mn.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof wa&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new wa(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ID=class{constructor(t,n){this.position=t,this.inclusive=n}};function Ure(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(o.field.isKeyField()?r=mn.comparator(mn.fromName(s.referenceValue),n.key):r=bw(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Hre(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Hf(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(t,n="asc"){this.field=t,this.dir=n}}function oZe(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bbe=class{};class Ao extends Bbe{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new aZe(t,n,r):n==="array-contains"?new cZe(t,r):n==="in"?new dZe(t,r):n==="not-in"?new fZe(t,r):n==="array-contains-any"?new hZe(t,r):new Ao(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new lZe(t,r):new uZe(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(bw(n,this.value)):n!==null&&kg(this.value)===kg(n)&&this.matchesComparison(bw(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Cn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ed extends Bbe{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new Ed(t,n)}matches(t){return jbe(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function jbe(e){return e.op==="and"}function zbe(e){return sZe(e)&&jbe(e)}function sZe(e){for(const t of e.filters)if(t instanceof Ed)return!1;return!0}function Sj(e){if(e instanceof Ao)return e.field.canonicalString()+e.op.toString()+ww(e.value);if(zbe(e))return e.filters.map(t=>Sj(t)).join(",");{const t=e.filters.map(n=>Sj(n)).join(",");return`${e.op}(${t})`}}function Ube(e,t){return e instanceof Ao?function(r,i){return i instanceof Ao&&r.op===i.op&&r.field.isEqual(i.field)&&Hf(r.value,i.value)}(e,t):e instanceof Ed?function(r,i){return i instanceof Ed&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&Ube(s,i.filters[a]),!0):!1}(e,t):void Cn()}function Hbe(e){return e instanceof Ao?function(n){return`${n.field.canonicalString()} ${n.op} ${ww(n.value)}`}(e):e instanceof Ed?function(n){return n.op.toString()+" {"+n.getFilters().map(Hbe).join(" ,")+"}"}(e):"Filter"}class aZe extends Ao{constructor(t,n,r){super(t,n,r),this.key=mn.fromName(r.referenceValue)}matches(t){const n=mn.comparator(t.key,this.key);return this.matchesComparison(n)}}class lZe extends Ao{constructor(t,n){super(t,"in",n),this.keys=Vbe("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class uZe extends Ao{constructor(t,n){super(t,"not-in",n),this.keys=Vbe("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function Vbe(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>mn.fromName(r.referenceValue))}class cZe extends Ao{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return zV(n)&&CT(n.arrayValue,this.value)}}class dZe extends Ao{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&CT(this.value.arrayValue,n)}}class fZe extends Ao{constructor(t,n){super(t,"not-in",n)}matches(t){if(CT(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!CT(this.value.arrayValue,n)}}class hZe extends Ao{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!zV(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>CT(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pZe{constructor(t,n=null,r=[],i=[],o=null,s=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.le=null}}function Vre(e,t=null,n=[],r=[],i=null,o=null,s=null){return new pZe(e,t,n,r,i,o,s)}function UV(e){const t=Pn(e);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>Sj(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),WP(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>ww(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>ww(r)).join(",")),t.le=n}return t.le}function HV(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!oZe(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Ube(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Hre(e.startAt,t.startAt)&&Hre(e.endAt,t.endAt)}function Tj(e){return mn.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(t,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function mZe(e,t,n,r,i,o,s,a){return new Ux(e,t,n,r,i,o,s,a)}function VV(e){return new Ux(e)}function Wre(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function Wbe(e){return e.collectionGroup!==null}function jS(e){const t=Pn(e);if(t.he===null){t.he=[];const n=new Set;for(const o of t.explicitOrderBy)t.he.push(o),n.add(o.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Wo(js.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(t).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||t.he.push(new AT(o,r))}),n.has(js.keyField().canonicalString())||t.he.push(new AT(js.keyField(),r))}return t.he}function Af(e){const t=Pn(e);return t.Pe||(t.Pe=gZe(t,jS(e))),t.Pe}function gZe(e,t){if(e.limitType==="F")return Vre(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new AT(i.field,o)});const n=e.endAt?new ID(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new ID(e.startAt.position,e.startAt.inclusive):null;return Vre(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Cj(e,t){const n=e.filters.concat([t]);return new Ux(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Aj(e,t,n){return new Ux(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function GP(e,t){return HV(Af(e),Af(t))&&e.limitType===t.limitType}function qbe(e){return`${UV(Af(e))}|lt:${e.limitType}`}function x1(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Hbe(i)).join(", ")}]`),WP(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ww(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ww(i)).join(",")),`Target(${r})`}(Af(e))}; limitType=${e.limitType})`}function YP(e,t){return t.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):mn.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(e,t)&&function(r,i){for(const o of jS(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=Ure(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,jS(r),i)||r.endAt&&!function(s,a,l){const u=Ure(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,jS(r),i))}(e,t)}function yZe(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Gbe(e){return(t,n)=>{let r=!1;for(const i of jS(e)){const o=vZe(i,t,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function vZe(e,t,n){const r=e.field.isKeyField()?mn.comparator(t.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?bw(l,u):Cn()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Cn()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,t))return o}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return void(i[o]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){l0(this.inner,(n,r)=>{for(const[i,o]of r)t(i,o)})}isEmpty(){return Rbe(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bZe=new zi(mn.comparator);function $p(){return bZe}const Ybe=new zi(mn.comparator);function qE(...e){let t=Ybe;for(const n of e)t=t.insert(n.key,n);return t}function Kbe(e){let t=Ybe;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Ty(){return zS()}function Xbe(){return zS()}function zS(){return new Wv(e=>e.toString(),(e,t)=>e.isEqual(t))}const wZe=new zi(mn.comparator),xZe=new Wo(mn.comparator);function nr(...e){let t=xZe;for(const n of e)t=t.add(n);return t}const _Ze=new Wo(qn);function EZe(){return _Ze}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WV(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:CD(t)?"-0":t}}function Qbe(e){return{integerValue:""+e}}function SZe(e,t){return QJe(t)?Qbe(t):WV(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(){this._=void 0}}function TZe(e,t,n){return e instanceof kT?function(i,o){const s={fields:{[Mbe]:{stringValue:$be},[Nbe]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&jV(o)&&(o=qP(o)),o&&(s.fields[Pbe]=o),{mapValue:s}}(n,t):e instanceof IT?Zbe(e,t):e instanceof RT?e1e(e,t):function(i,o){const s=Jbe(i,o),a=qre(s)+qre(i.Ie);return Ej(s)&&Ej(i.Ie)?Qbe(a):WV(i.serializer,a)}(e,t)}function CZe(e,t,n){return e instanceof IT?Zbe(e,t):e instanceof RT?e1e(e,t):n}function Jbe(e,t){return e instanceof RD?function(r){return Ej(r)||function(o){return!!o&&"doubleValue"in o}(r)}(t)?t:{integerValue:0}:null}class kT extends KP{}class IT extends KP{constructor(t){super(),this.elements=t}}function Zbe(e,t){const n=t1e(t);for(const r of e.elements)n.some(i=>Hf(i,r))||n.push(r);return{arrayValue:{values:n}}}class RT extends KP{constructor(t){super(),this.elements=t}}function e1e(e,t){let n=t1e(t);for(const r of e.elements)n=n.filter(i=>!Hf(i,r));return{arrayValue:{values:n}}}class RD extends KP{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function qre(e){return po(e.integerValue||e.doubleValue)}function t1e(e){return zV(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AZe{constructor(t,n){this.field=t,this.transform=n}}function kZe(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof IT&&i instanceof IT||r instanceof RT&&i instanceof RT?vw(r.elements,i.elements,Hf):r instanceof RD&&i instanceof RD?Hf(r.Ie,i.Ie):r instanceof kT&&i instanceof kT}(e.transform,t.transform)}class IZe{constructor(t,n){this.version=t,this.transformResults=n}}class Su{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Su}static exists(t){return new Su(void 0,t)}static updateTime(t){return new Su(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function PI(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class XP{}function n1e(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new qV(e.key,Su.none()):new YC(e.key,e.data,Su.none());{const n=e.data,r=$l.empty();let i=new Wo(js.comparator);for(let o of t.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new u0(e.key,r,new vu(i.toArray()),Su.none())}}function RZe(e,t,n){e instanceof YC?function(i,o,s){const a=i.value.clone(),l=Yre(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):e instanceof u0?function(i,o,s){if(!PI(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=Yre(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(r1e(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function US(e,t,n,r){return e instanceof YC?function(o,s,a,l){if(!PI(o.precondition,s))return a;const u=o.value.clone(),c=Kre(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(e,t,n,r):e instanceof u0?function(o,s,a,l){if(!PI(o.precondition,s))return a;const u=Kre(o.fieldTransforms,l,s),c=s.data;return c.setAll(r1e(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(e,t,n,r):function(o,s,a){return PI(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(e,t,n)}function DZe(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),o=Jbe(r.transform,i||null);o!=null&&(n===null&&(n=$l.empty()),n.set(r.field,o))}return n||null}function Gre(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&vw(r,i,(o,s)=>kZe(o,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class YC extends XP{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class u0 extends XP{constructor(t,n,r,i,o=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function r1e(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Yre(e,t,n){const r=new Map;Mr(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,CZe(s,a,n[i]))}return r}function Kre(e,t,n){const r=new Map;for(const i of e){const o=i.transform,s=n.data.field(i.field);r.set(i.field,TZe(o,s,t))}return r}class qV extends XP{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $Ze extends XP{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MZe{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(t.key)&&RZe(o,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=US(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=US(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=Xbe();return this.mutations.forEach(i=>{const o=t.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=n1e(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Mn.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),nr())}isEqual(t){return this.batchId===t.batchId&&vw(this.mutations,t.mutations,(n,r)=>Gre(n,r))&&vw(this.baseMutations,t.baseMutations,(n,r)=>Gre(n,r))}}class GV{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){Mr(t.mutations.length===r.length);let i=function(){return wZe}();const o=t.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new GV(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PZe{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NZe{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var So,hr;function OZe(e){switch(e){case nt.OK:return Cn();case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0;default:return Cn()}}function i1e(e){if(e===void 0)return Dp("GRPC error has no .code"),nt.UNKNOWN;switch(e){case So.OK:return nt.OK;case So.CANCELLED:return nt.CANCELLED;case So.UNKNOWN:return nt.UNKNOWN;case So.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case So.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case So.INTERNAL:return nt.INTERNAL;case So.UNAVAILABLE:return nt.UNAVAILABLE;case So.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case So.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case So.NOT_FOUND:return nt.NOT_FOUND;case So.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case So.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case So.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case So.ABORTED:return nt.ABORTED;case So.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case So.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case So.DATA_LOSS:return nt.DATA_LOSS;default:return Cn()}}(hr=So||(So={}))[hr.OK=0]="OK",hr[hr.CANCELLED=1]="CANCELLED",hr[hr.UNKNOWN=2]="UNKNOWN",hr[hr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hr[hr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hr[hr.NOT_FOUND=5]="NOT_FOUND",hr[hr.ALREADY_EXISTS=6]="ALREADY_EXISTS",hr[hr.PERMISSION_DENIED=7]="PERMISSION_DENIED",hr[hr.UNAUTHENTICATED=16]="UNAUTHENTICATED",hr[hr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hr[hr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hr[hr.ABORTED=10]="ABORTED",hr[hr.OUT_OF_RANGE=11]="OUT_OF_RANGE",hr[hr.UNIMPLEMENTED=12]="UNIMPLEMENTED",hr[hr.INTERNAL=13]="INTERNAL",hr[hr.UNAVAILABLE=14]="UNAVAILABLE",hr[hr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LZe=new pg([4294967295,4294967295],0);function Xre(e){const t=Abe().encode(e),n=new xbe;return n.update(t),new Uint8Array(n.digest())}function Qre(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new pg([n,r],0),new pg([i,o],0)]}class YV{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new GE(`Invalid padding: ${n}`);if(r<0)throw new GE(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new GE(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new GE(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=pg.fromNumber(this.Ee)}Ae(t,n,r){let i=t.add(n.multiply(pg.fromNumber(r)));return i.compare(LZe)===1&&(i=new pg([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const n=Xre(t),[r,i]=Qre(n);for(let o=0;o<this.hashCount;o++){const s=this.Ae(r,i,o);if(!this.Re(s))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),s=new YV(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(t){if(this.Ee===0)return;const n=Xre(t),[r,i]=Qre(n);for(let o=0;o<this.hashCount;o++){const s=this.Ae(r,i,o);this.Ve(s)}}Ve(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class GE extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(t,n,r,i,o){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,KC.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new QP(Mn.min(),i,new zi(qn),$p(),nr())}}class KC{constructor(t,n,r,i,o){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new KC(r,n,nr(),nr(),nr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(t,n,r,i){this.me=t,this.removedTargetIds=n,this.key=r,this.fe=i}}class o1e{constructor(t,n){this.targetId=t,this.ge=n}}class s1e{constructor(t,n,r=Qs.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Jre{constructor(){this.pe=0,this.ye=Zre(),this.we=Qs.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=nr(),n=nr(),r=nr();return this.ye.forEach((i,o)=>{switch(o){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Cn()}}),new KC(this.we,this.Se,t,n,r)}Me(){this.be=!1,this.ye=Zre()}xe(t,n){this.be=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Mr(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class FZe{constructor(t){this.ke=t,this.qe=new Map,this.Qe=$p(),this.$e=Ik(),this.Ue=Ik(),this.Ke=new zi(qn)}We(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(n,t.fe):this.ze(n,t.key,t.fe);for(const n of t.removedTargetIds)this.ze(n,t.key,t.fe)}je(t){this.forEachTarget(t,n=>{const r=this.He(n);switch(t.state){case 0:this.Je(n)&&r.Ce(t.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(t.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(t.resumeToken));break;default:Cn()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(t){const n=t.targetId,r=t.ge.count,i=this.Xe(n);if(i){const o=i.target;if(Tj(o))if(r===0){const s=new mn(o.path);this.ze(n,s,wa.newNoDocument(s,Mn.min()))}else Mr(r===1);else{const s=this.et(n);if(s!==r){const a=this.tt(t),l=a?this.nt(a,t,s):1;if(l!==0){this.Ye(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}tt(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Ag(r).toUint8Array()}catch(l){if(l instanceof Dbe)return _T("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new YV(s,i,o)}catch(l){return _T(l instanceof GE?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}nt(t,n,r){return n.ge.count===r-this.st(t,n.targetId)?0:2}st(t,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.ke.it(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.mightContain(a)||(this.ze(n,o,null),i++)}),i}ot(t){const n=new Map;this.qe.forEach((o,s)=>{const a=this.Xe(s);if(a){if(o.current&&Tj(a.target)){const l=new mn(a.target.path);this._t(l).has(s)||this.ut(s,l)||this.ze(s,l,wa.newNoDocument(l,t))}o.ve&&(n.set(s,o.Fe()),o.Me())}});let r=nr();this.Ue.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Xe(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.Qe.forEach((o,s)=>s.setReadTime(t));const i=new QP(t,n,this.Ke,this.Qe,r);return this.Qe=$p(),this.$e=Ik(),this.Ue=Ik(),this.Ke=new zi(qn),i}Ge(t,n){if(!this.Je(t))return;const r=this.ut(t,n.key)?2:0;this.He(t).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(t))}ze(t,n,r){if(!this.Je(t))return;const i=this.He(t);this.ut(t,n)?i.xe(n,1):i.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(t)),this.Ue=this.Ue.insert(n,this.ct(n).add(t)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(t){this.qe.delete(t)}et(t){const n=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let n=this.qe.get(t);return n||(n=new Jre,this.qe.set(t,n)),n}ct(t){let n=this.Ue.get(t);return n||(n=new Wo(qn),this.Ue=this.Ue.insert(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new Wo(qn),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||Yt("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new Jre),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ut(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function Ik(){return new zi(mn.comparator)}function Zre(){return new zi(mn.comparator)}const BZe={asc:"ASCENDING",desc:"DESCENDING"},jZe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zZe={and:"AND",or:"OR"};class UZe{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function kj(e,t){return e.useProto3Json||WP(t)?t:{value:t}}function DD(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function a1e(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function HZe(e,t){return DD(e,t.toTimestamp())}function kf(e){return Mr(!!e),Mn.fromTimestamp(function(n){const r=Cg(n);return new Vo(r.seconds,r.nanos)}(e))}function KV(e,t){return Ij(e,t).canonicalString()}function Ij(e,t){const n=function(i){return new bi(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?n:n.child(t)}function l1e(e){const t=bi.fromString(e);return Mr(h1e(t)),t}function Rj(e,t){return KV(e.databaseId,t.path)}function w5(e,t){const n=l1e(t);if(n.get(1)!==e.databaseId.projectId)throw new Ht(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ht(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new mn(c1e(n))}function u1e(e,t){return KV(e.databaseId,t)}function VZe(e){const t=l1e(e);return t.length===4?bi.emptyPath():c1e(t)}function Dj(e){return new bi(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function c1e(e){return Mr(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function eie(e,t,n){return{name:Rj(e,t),fields:n.value.mapValue.fields}}function WZe(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Cn()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(Mr(c===void 0||typeof c=="string"),Qs.fromBase64String(c||"")):(Mr(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Qs.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(u){const c=u.code===void 0?nt.UNKNOWN:i1e(u.code);return new Ht(c,u.message||"")}(s);n=new s1e(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=w5(e,r.document.name),o=kf(r.document.updateTime),s=r.document.createTime?kf(r.document.createTime):Mn.min(),a=new $l({mapValue:{fields:r.document.fields}}),l=wa.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new NI(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=w5(e,r.document),o=r.readTime?kf(r.readTime):Mn.min(),s=wa.newNoDocument(i,o),a=r.removedTargetIds||[];n=new NI([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=w5(e,r.document),o=r.removedTargetIds||[];n=new NI([],o,i,null)}else{if(!("filter"in t))return Cn();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new NZe(i,o),a=r.targetId;n=new o1e(a,s)}}return n}function qZe(e,t){let n;if(t instanceof YC)n={update:eie(e,t.key,t.value)};else if(t instanceof qV)n={delete:Rj(e,t.key)};else if(t instanceof u0)n={update:eie(e,t.key,t.data),updateMask:tet(t.fieldMask)};else{if(!(t instanceof $Ze))return Cn();n={verify:Rj(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof kT)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof IT)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof RT)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof RD)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw Cn()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:HZe(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Cn()}(e,t.precondition)),n}function GZe(e,t){return e&&e.length>0?(Mr(t!==void 0),e.map(n=>function(i,o){let s=i.updateTime?kf(i.updateTime):kf(o);return s.isEqual(Mn.min())&&(s=kf(o)),new IZe(s,i.transformResults||[])}(n,t))):[]}function YZe(e,t){return{documents:[u1e(e,t.path)]}}function KZe(e,t){const n={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=u1e(e,i);const o=function(u){if(u.length!==0)return f1e(Ed.create(u,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(f){return{field:_1(f.field),direction:JZe(f.dir)}}(c))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=kj(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),{ht:n,parent:i}}function XZe(e){let t=VZe(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Mr(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let o=[];n.where&&(o=function(d){const f=d1e(d);return f instanceof Ed&&zbe(f)?f.getFilters():[f]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(f=>function(p){return new AT(E1(p.field),function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,WP(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,h=d.values||[];return new ID(h,f)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const f=!d.before,h=d.values||[];return new ID(h,f)}(n.endAt)),mZe(t,i,s,o,a,"F",l,u)}function QZe(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Cn()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function d1e(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=E1(n.unaryFilter.field);return Ao.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=E1(n.unaryFilter.field);return Ao.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=E1(n.unaryFilter.field);return Ao.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=E1(n.unaryFilter.field);return Ao.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Cn()}}(e):e.fieldFilter!==void 0?function(n){return Ao.create(E1(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Cn()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Ed.create(n.compositeFilter.filters.map(r=>d1e(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Cn()}}(n.compositeFilter.op))}(e):Cn()}function JZe(e){return BZe[e]}function ZZe(e){return jZe[e]}function eet(e){return zZe[e]}function _1(e){return{fieldPath:e.canonicalString()}}function E1(e){return js.fromServerFormat(e.fieldPath)}function f1e(e){return e instanceof Ao?function(n){if(n.op==="=="){if(zre(n.value))return{unaryFilter:{field:_1(n.field),op:"IS_NAN"}};if(jre(n.value))return{unaryFilter:{field:_1(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(zre(n.value))return{unaryFilter:{field:_1(n.field),op:"IS_NOT_NAN"}};if(jre(n.value))return{unaryFilter:{field:_1(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_1(n.field),op:ZZe(n.op),value:n.value}}}(e):e instanceof Ed?function(n){const r=n.getFilters().map(i=>f1e(i));return r.length===1?r[0]:{compositeFilter:{op:eet(n.op),filters:r}}}(e):Cn()}function tet(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function h1e(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(t,n,r,i,o=Mn.min(),s=Mn.min(),a=Qs.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new eg(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new eg(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new eg(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new eg(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class net{constructor(t){this.Tt=t}}function ret(e){const t=XZe({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Aj(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iet{constructor(){this.Tn=new oet}addToCollectionParentIndex(t,n){return this.Tn.add(n),ot.resolve()}getCollectionParents(t,n){return ot.resolve(this.Tn.getEntries(n))}addFieldIndex(t,n){return ot.resolve()}deleteFieldIndex(t,n){return ot.resolve()}deleteAllFieldIndexes(t){return ot.resolve()}createTargetIndexes(t,n){return ot.resolve()}getDocumentsMatchingTarget(t,n){return ot.resolve(null)}getIndexType(t,n){return ot.resolve(0)}getFieldIndexes(t,n){return ot.resolve([])}getNextCollectionGroupToUpdate(t){return ot.resolve(null)}getMinOffset(t,n){return ot.resolve(Tg.min())}getMinOffsetFromCollectionGroup(t,n){return ot.resolve(Tg.min())}updateCollectionGroup(t,n,r){return ot.resolve()}updateIndexEntries(t,n){return ot.resolve()}}class oet{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Wo(bi.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Wo(bi.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tie={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},p1e=41943040;class kl{static withCacheSize(t){return new kl(t,kl.DEFAULT_COLLECTION_PERCENTILE,kl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kl.DEFAULT_COLLECTION_PERCENTILE=10,kl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kl.DEFAULT=new kl(p1e,kl.DEFAULT_COLLECTION_PERCENTILE,kl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kl.DISABLED=new kl(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new xw(0)}static Kn(){return new xw(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nie="LruGarbageCollector",m1e=1048576;function rie([e,t],[n,r]){const i=qn(e,n);return i===0?qn(t,r):i}class set{constructor(t){this.Hn=t,this.buffer=new Wo(rie),this.Jn=0}Yn(){return++this.Jn}Zn(t){const n=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();rie(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class aet{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){Yt(nie,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){zx(n)?Yt(nie,"Ignoring IndexedDB error during garbage collection: ",n):await jx(n)}await this.er(3e5)})}}class uet{constructor(t,n){this.tr=t,this.params=n}calculateTargetCount(t,n){return this.tr.nr(t).next(r=>Math.floor(n/100*r))}nthSequenceNumber(t,n){if(n===0)return ot.resolve(VP.ae);const r=new set(n);return this.tr.forEachTarget(t,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(t,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(t,n,r){return this.tr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.tr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(Yt("LruGarbageCollector","Garbage collection skipped; disabled"),ot.resolve(tie)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(Yt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tie):this.ir(t,n))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,n){let r,i,o,s,a,l,u;const c=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(Yt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,s=Date.now(),this.nthSequenceNumber(t,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(t,r,n))).next(d=>(o=d,l=Date.now(),this.removeOrphanedDocuments(t,r))).next(d=>(u=Date.now(),w1()<=tr.DEBUG&&Yt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-c}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),ot.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:d})))}}function cet(e,t){return new uet(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class det{constructor(){this.changes=new Wv(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,wa.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ot.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fet{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class het{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&US(r.mutation,i,vu.empty(),Vo.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,nr()).next(()=>r))}getLocalViewOfDocuments(t,n,r=nr()){const i=Ty();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(o=>{let s=qE();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,n){const r=Ty();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,nr()))}populateOverlays(t,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(t,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(t,n,r,i){let o=$p();const s=zS(),a=function(){return zS()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof u0)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),US(c.mutation,u,c.mutation.getFieldMask(),Vo.now())):s.set(u.key,vu.empty())}),this.recalculateAndSaveOverlays(t,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new fet(c,(d=s.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(t,n){const r=zS();let i=new zi((s,a)=>s-a),o=nr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||vu.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||nr()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=Xbe();c.forEach(f=>{if(!o.has(f)){const h=n1e(n.get(f),r.get(f));h!==null&&d.set(f,h),o=o.add(f)}}),s.push(this.documentOverlayCache.saveOverlays(t,u,d))}return ot.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(s){return mn.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Wbe(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-o.size):ot.resolve(Ty());let a=ET,l=o;return s.next(u=>ot.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(c)?ot.resolve():this.remoteDocumentCache.getEntry(t,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(t,u,o)).next(()=>this.computeViews(t,l,u,nr())).next(c=>({batchId:a,changes:Kbe(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new mn(n)).next(r=>{let i=qE();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const o=n.collectionGroup;let s=qE();return this.indexManager.getCollectionParents(t,o).next(a=>ot.forEach(a,l=>{const u=function(d,f){return new Ux(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(t,u,r,i).next(c=>{c.forEach((d,f)=>{s=s.insert(d,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,wa.newInvalidDocument(c)))});let a=qE();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&US(c.mutation,u,vu.empty(),Vo.now()),YP(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pet{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,n){return ot.resolve(this.dr.get(n))}saveBundleMetadata(t,n){return this.dr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:kf(i.createTime)}}(n)),ot.resolve()}getNamedQuery(t,n){return ot.resolve(this.Ar.get(n))}saveNamedQuery(t,n){return this.Ar.set(n.name,function(i){return{name:i.name,query:ret(i.bundledQuery),readTime:kf(i.readTime)}}(n)),ot.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class met{constructor(){this.overlays=new zi(mn.comparator),this.Rr=new Map}getOverlay(t,n){return ot.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Ty();return ot.forEach(n,i=>this.getOverlay(t,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,o)=>{this.Et(t,n,o)}),ot.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),ot.resolve()}getOverlaysForCollection(t,n,r){const i=Ty(),o=n.length+1,s=new mn(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ot.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let o=new zi((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Ty(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Ty(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return ot.resolve(a)}Et(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new PZe(n,r));let o=this.Rr.get(n);o===void 0&&(o=nr(),this.Rr.set(n,o)),this.Rr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class get{constructor(){this.sessionToken=Qs.EMPTY_BYTE_STRING}getSessionToken(t){return ot.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,ot.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(){this.Vr=new Wo(os.mr),this.gr=new Wo(os.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,n){const r=new os(t,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.wr(new os(t,n))}Sr(t,n){t.forEach(r=>this.removeReference(r,n))}br(t){const n=new mn(new bi([])),r=new os(n,t),i=new os(n,t+1),o=[];return this.gr.forEachInRange([r,i],s=>{this.wr(s),o.push(s.key)}),o}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const n=new mn(new bi([])),r=new os(n,t),i=new os(n,t+1);let o=nr();return this.gr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(t){const n=new os(t,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class os{constructor(t,n){this.key=t,this.Cr=n}static mr(t,n){return mn.comparator(t.key,n.key)||qn(t.Cr,n.Cr)}static pr(t,n){return qn(t.Cr,n.Cr)||mn.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yet{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Wo(os.mr)}checkEmpty(t){return ot.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new MZe(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Mr=this.Mr.add(new os(a.key,o)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return ot.resolve(s)}lookupMutationBatch(t,n){return ot.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.Nr(r),o=i<0?0:i;return ot.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ot.resolve(this.mutationQueue.length===0?BV:this.Fr-1)}getAllMutationBatches(t){return ot.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new os(n,0),i=new os(n,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,i],s=>{const a=this.Or(s.Cr);o.push(a)}),ot.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Wo(qn);return n.forEach(i=>{const o=new os(i,0),s=new os(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,s],a=>{r=r.add(a.Cr)})}),ot.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let o=r;mn.isDocumentKey(o)||(o=o.child(""));const s=new os(new mn(o),0);let a=new Wo(qn);return this.Mr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Cr)),!0)},s),ot.resolve(this.Br(a))}Br(t){const n=[];return t.forEach(r=>{const i=this.Or(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){Mr(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return ot.forEach(n.mutations,i=>{const o=new os(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Mr=r})}qn(t){}containsKey(t,n){const r=new os(n,0),i=this.Mr.firstAfterOrEqual(r);return ot.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,ot.resolve()}Lr(t,n){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const n=this.Nr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vet{constructor(t){this.kr=t,this.docs=function(){return new zi(mn.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return ot.resolve(r?r.document.mutableCopy():wa.newInvalidDocument(n))}getEntries(t,n){let r=$p();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():wa.newInvalidDocument(i))}),ot.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let o=$p();const s=n.path,a=new mn(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||GJe(qJe(c),r)<=0||(i.has(c.key)||YP(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return ot.resolve(o)}getAllFromCollectionGroup(t,n,r,i){Cn()}qr(t,n){return ot.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new bet(this)}getSize(t){return ot.resolve(this.size)}}class bet extends det{constructor(t){super(),this.Ir=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Ir.addEntry(t,i)):this.Ir.removeEntry(r)}),ot.waitFor(n)}getFromCache(t,n){return this.Ir.getEntry(t,n)}getAllFromCache(t,n){return this.Ir.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wet{constructor(t){this.persistence=t,this.Qr=new Wv(n=>UV(n),HV),this.lastRemoteSnapshotVersion=Mn.min(),this.highestTargetId=0,this.$r=0,this.Ur=new XV,this.targetCount=0,this.Kr=xw.Un()}forEachTarget(t,n){return this.Qr.forEach((r,i)=>n(i)),ot.resolve()}getLastRemoteSnapshotVersion(t){return ot.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ot.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),ot.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),ot.resolve()}zn(t){this.Qr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Kr=new xw(n),this.highestTargetId=n),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,n){return this.zn(n),this.targetCount+=1,ot.resolve()}updateTargetData(t,n){return this.zn(n),ot.resolve()}removeTargetData(t,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,ot.resolve()}removeTargets(t,n,r){let i=0;const o=[];return this.Qr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Qr.delete(s),o.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),ot.waitFor(o).next(()=>i)}getTargetCount(t){return ot.resolve(this.targetCount)}getTargetData(t,n){const r=this.Qr.get(n)||null;return ot.resolve(r)}addMatchingKeys(t,n,r){return this.Ur.yr(n,r),ot.resolve()}removeMatchingKeys(t,n,r){this.Ur.Sr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(t,s))}),ot.waitFor(o)}removeMatchingKeysForTargetId(t,n){return this.Ur.br(n),ot.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Ur.vr(n);return ot.resolve(r)}containsKey(t,n){return ot.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1e{constructor(t,n){this.Wr={},this.overlays={},this.Gr=new VP(0),this.zr=!1,this.zr=!0,this.jr=new get,this.referenceDelegate=t(this),this.Hr=new wet(this),this.indexManager=new iet,this.remoteDocumentCache=function(i){return new vet(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new net(n),this.Yr=new pet(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new met,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Wr[t.toKey()];return r||(r=new yet(n,this.referenceDelegate),this.Wr[t.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,n,r){Yt("MemoryPersistence","Starting transaction:",t);const i=new xet(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(o=>this.referenceDelegate.Xr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}ei(t,n){return ot.or(Object.values(this.Wr).map(r=>()=>r.containsKey(t,n)))}}class xet extends KJe{constructor(t){super(),this.currentSequenceNumber=t}}class QV{constructor(t){this.persistence=t,this.ti=new XV,this.ni=null}static ri(t){return new QV(t)}get ii(){if(this.ni)return this.ni;throw Cn()}addReference(t,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),ot.resolve()}removeReference(t,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),ot.resolve()}markPotentiallyOrphaned(t,n){return this.ii.add(n.toString()),ot.resolve()}removeTarget(t,n){this.ti.br(n.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(t,n))}Zr(){this.ni=new Set}Xr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ot.forEach(this.ii,r=>{const i=mn.fromPath(r);return this.si(t,i).next(o=>{o||n.removeEntry(i,Mn.min())})}).next(()=>(this.ni=null,n.apply(t)))}updateLimboDocument(t,n){return this.si(t,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(t){return 0}si(t,n){return ot.or([()=>ot.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.ei(t,n)])}}class $D{constructor(t,n){this.persistence=t,this.oi=new Wv(r=>JJe(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=cet(this,n)}static ri(t,n){return new $D(t,n)}Zr(){}Xr(t){return ot.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}nr(t){const n=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>n.next(i=>r+i))}sr(t){let n=0;return this.rr(t,r=>{n++}).next(()=>n)}rr(t,n){return ot.forEach(this.oi,(r,i)=>this.ar(t,r,i).next(o=>o?ot.resolve():n(i)))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.qr(t,s=>this.ar(t,s,n).next(a=>{a||(r++,o.removeEntry(s,Mn.min()))})).next(()=>o.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,n){return this.oi.set(n,t.currentSequenceNumber),ot.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.oi.set(r,t.currentSequenceNumber),ot.resolve()}removeReference(t,n,r){return this.oi.set(r,t.currentSequenceNumber),ot.resolve()}updateLimboDocument(t,n){return this.oi.set(n,t.currentSequenceNumber),ot.resolve()}Jr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=$I(t.data.value)),n}ar(t,n,r){return ot.or([()=>this.persistence.ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const i=this.oi.get(n);return ot.resolve(i!==void 0&&i>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.Hi=r,this.Ji=i}static Yi(t,n){let r=nr(),i=nr();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new JV(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _et{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eet{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return KKe()?8:XJe($a())>0?6:4}()}initialize(t,n){this.ns=t,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(t,n,r,i){const o={result:null};return this.rs(t,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ss(t,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new _et;return this._s(t,n,s).next(a=>{if(o.result=a,this.Xi)return this.us(t,n,s,a.size)})}).next(()=>o.result)}us(t,n,r,i){return r.documentReadCount<this.es?(w1()<=tr.DEBUG&&Yt("QueryEngine","SDK will not create cache indexes for query:",x1(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ot.resolve()):(w1()<=tr.DEBUG&&Yt("QueryEngine","Query:",x1(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(w1()<=tr.DEBUG&&Yt("QueryEngine","The SDK decides to create cache indexes for query:",x1(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Af(n))):ot.resolve())}rs(t,n){if(Wre(n))return ot.resolve(null);let r=Af(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Aj(n,null,"F"),r=Af(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(o=>{const s=nr(...o);return this.ns.getDocuments(t,s).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.cs(n,a);return this.ls(n,u,s,l.readTime)?this.rs(t,Aj(n,null,"F")):this.hs(t,u,n,l)}))})))}ss(t,n,r,i){return Wre(n)||i.isEqual(Mn.min())?ot.resolve(null):this.ns.getDocuments(t,r).next(o=>{const s=this.cs(n,o);return this.ls(n,s,r,i)?ot.resolve(null):(w1()<=tr.DEBUG&&Yt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),x1(n)),this.hs(t,s,n,WJe(i,ET)).next(a=>a))})}cs(t,n){let r=new Wo(Gbe(t));return n.forEach((i,o)=>{YP(t,o)&&(r=r.add(o))}),r}ls(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const o=t.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}_s(t,n,r){return w1()<=tr.DEBUG&&Yt("QueryEngine","Using full collection scan to execute query:",x1(n)),this.ns.getDocumentsMatchingQuery(t,n,Tg.min(),r)}hs(t,n,r,i){return this.ns.getDocumentsMatchingQuery(t,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV="LocalStore",Tet=3e8;class Cet{constructor(t,n,r,i){this.persistence=t,this.Ps=n,this.serializer=i,this.Ts=new zi(qn),this.Is=new Wv(o=>UV(o),HV),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(r)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new het(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ts))}}function Aet(e,t,n,r){return new Cet(e,t,n,r)}async function y1e(e,t){const n=Pn(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.As(t),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=nr();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Rs:u,removedBatchIds:s,addedBatchIds:a}))})})}function ket(e,t){const n=Pn(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),o=n.ds.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,f=d.keys();let h=ot.resolve();return f.forEach(p=>{h=h.next(()=>c.getEntry(l,p)).next(m=>{const g=u.docVersions.get(p);Mr(g!==null),m.version.compareTo(g)<0&&(d.applyToRemoteDocument(m,u),m.isValidDocument()&&(m.setReadTime(u.commitVersion),c.addEntry(m)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,t,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=nr();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function v1e(e){const t=Pn(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Hr.getLastRemoteSnapshotVersion(n))}function Iet(e,t){const n=Pn(e),r=t.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const a=[];t.targetChanges.forEach((c,d)=>{const f=i.get(d);if(!f)return;a.push(n.Hr.removeMatchingKeys(o,c.removedDocuments,d).next(()=>n.Hr.addMatchingKeys(o,c.addedDocuments,d)));let h=f.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(d)!==null?h=h.withResumeToken(Qs.EMPTY_BYTE_STRING,Mn.min()).withLastLimboFreeSnapshotVersion(Mn.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(d,h),function(m,g,y){return m.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=Tet?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(f,h,c)&&a.push(n.Hr.updateTargetData(o,h))});let l=$p(),u=nr();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(Ret(o,s,t.documentUpdates).next(c=>{l=c.Vs,u=c.fs})),!r.isEqual(Mn.min())){const c=n.Hr.getLastRemoteSnapshotVersion(o).next(d=>n.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return ot.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.Ts=i,o))}function Ret(e,t,n){let r=nr(),i=nr();return n.forEach(o=>r=r.add(o)),t.getEntries(e,r).next(o=>{let s=$p();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Mn.min())?(t.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),s=s.insert(a,l)):Yt(ZV,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Vs:s,fs:i}})}function Det(e,t){const n=Pn(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=BV),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function $et(e,t){const n=Pn(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Hr.getTargetData(r,t).next(o=>o?(i=o,ot.resolve(i)):n.Hr.allocateTargetId(r).next(s=>(i=new eg(t,s,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(t,r.targetId)),r})}async function $j(e,t,n){const r=Pn(e),i=r.Ts.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!zx(s))throw s;Yt(ZV,`Failed to update sequence numbers for target ${t}: ${s}`)}r.Ts=r.Ts.remove(t),r.Is.delete(i.target)}function iie(e,t,n){const r=Pn(e);let i=Mn.min(),o=nr();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const d=Pn(l),f=d.Is.get(c);return f!==void 0?ot.resolve(d.Ts.get(f)):d.Hr.getTargetData(u,c)}(r,s,Af(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Ps.getDocumentsMatchingQuery(s,t,n?i:Mn.min(),n?o:nr())).next(a=>(Met(r,yZe(t),a),{documents:a,gs:o})))}function Met(e,t,n){let r=e.Es.get(t)||Mn.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),e.Es.set(t,r)}class oie{constructor(){this.activeTargetIds=EZe()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Pet{constructor(){this.ho=new oie,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,n,r){this.Po[t]=n}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new oie,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Net{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sie="ConnectivityMonitor";class aie{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Yt(sie,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){Yt(sie,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rk=null;function Mj(){return Rk===null?Rk=function(){return 268435456+Math.round(2147483648*Math.random())}():Rk++,"0x"+Rk.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5="RestConnection",Oet={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Let{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===AD?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(t,n,r,i,o){const s=Mj(),a=this.bo(t,n.toUriEncodedString());Yt(x5,`Sending RPC '${t}' ${s}:`,a,r);const l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(l,i,o),this.vo(t,a,l,r).then(u=>(Yt(x5,`Received RPC '${t}' ${s}: `,u),u),u=>{throw _T(x5,`RPC '${t}' ${s} failed with error: `,u,"url: ",a,"request:",r),u})}Co(t,n,r,i,o,s){return this.So(t,n,r,i,o)}Do(t,n,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bx}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>t[o]=i),r&&r.headers.forEach((i,o)=>t[o]=i)}bo(t,n){const r=Oet[t];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fet{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua="WebChannelConnection";class Bet extends Let{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,r,i){const o=Mj();return new Promise((s,a)=>{const l=new _be;l.setWithCredentials(!0),l.listenOnce(Ebe.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case DI.NO_ERROR:const c=l.getResponseJson();Yt(ua,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(c)),s(c);break;case DI.TIMEOUT:Yt(ua,`RPC '${t}' ${o} timed out`),a(new Ht(nt.DEADLINE_EXCEEDED,"Request time out"));break;case DI.HTTP_ERROR:const d=l.getStatus();if(Yt(ua,`RPC '${t}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const h=f==null?void 0:f.error;if(h&&h.status&&h.message){const p=function(g){const y=g.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf(y)>=0?y:nt.UNKNOWN}(h.status);a(new Ht(p,h.message))}else a(new Ht(nt.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Ht(nt.UNAVAILABLE,"Connection failed."));break;default:Cn()}}finally{Yt(ua,`RPC '${t}' ${o} completed.`)}});const u=JSON.stringify(i);Yt(ua,`RPC '${t}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Wo(t,n,r){const i=Mj(),o=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=Cbe(),a=Tbe(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");Yt(ua,`Creating RPC '${t}' stream ${i}: ${c}`,l);const d=s.createWebChannel(c,l);let f=!1,h=!1;const p=new Fet({Fo:g=>{h?Yt(ua,`Not sending because RPC '${t}' stream ${i} is closed:`,g):(f||(Yt(ua,`Opening RPC '${t}' stream ${i} transport.`),d.open(),f=!0),Yt(ua,`RPC '${t}' stream ${i} sending:`,g),d.send(g))},Mo:()=>d.close()}),m=(g,y,v)=>{g.listen(y,w=>{try{v(w)}catch(E){setTimeout(()=>{throw E},0)}})};return m(d,WE.EventType.OPEN,()=>{h||(Yt(ua,`RPC '${t}' stream ${i} transport opened.`),p.Qo())}),m(d,WE.EventType.CLOSE,()=>{h||(h=!0,Yt(ua,`RPC '${t}' stream ${i} transport closed`),p.Uo())}),m(d,WE.EventType.ERROR,g=>{h||(h=!0,_T(ua,`RPC '${t}' stream ${i} transport errored:`,g),p.Uo(new Ht(nt.UNAVAILABLE,"The operation could not be completed")))}),m(d,WE.EventType.MESSAGE,g=>{var y;if(!h){const v=g.data[0];Mr(!!v);const w=v,E=(w==null?void 0:w.error)||((y=w[0])===null||y===void 0?void 0:y.error);if(E){Yt(ua,`RPC '${t}' stream ${i} received error:`,E);const _=E.status;let x=function(A){const k=So[A];if(k!==void 0)return i1e(k)}(_),S=E.message;x===void 0&&(x=nt.INTERNAL,S="Unknown error status: "+_+" with message "+E.message),h=!0,p.Uo(new Ht(x,S)),d.close()}else Yt(ua,`RPC '${t}' stream ${i} received:`,v),p.Ko(v)}}),m(a,Sbe.STAT_EVENT,g=>{g.stat===wj.PROXY?Yt(ua,`RPC '${t}' stream ${i} detected buffering proxy`):g.stat===wj.NOPROXY&&Yt(ua,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.$o()},0),p}}function _5(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(e){return new UZe(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1e{constructor(t,n,r=1e3,i=1.5,o=6e4){this.Ti=t,this.timerId=n,this.Go=r,this.zo=i,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&Yt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lie="PersistentStream";class w1e{constructor(t,n,r,i,o,s,a,l){this.Ti=t,this.n_=r,this.r_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new b1e(t,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():n&&n.code===nt.RESOURCE_EXHAUSTED?(Dp(n.toString()),Dp("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===nt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===n&&this.V_(r,i)},r=>{t(()=>{const i=new Ht(nt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(t,n){const r=this.R_(this.i_);this.stream=this.f_(t,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return Yt(lie,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return n=>{this.Ti.enqueueAndForget(()=>this.i_===t?n():(Yt(lie,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jet extends w1e{constructor(t,n,r,i,o,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}f_(t,n){return this.connection.Wo("Listen",t,n)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const n=WZe(this.serializer,t),r=function(o){if(!("targetChange"in o))return Mn.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Mn.min():s.readTime?kf(s.readTime):Mn.min()}(t);return this.listener.p_(n,r)}y_(t){const n={};n.database=Dj(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=Tj(l)?{documents:YZe(o,l)}:{query:KZe(o,l).ht},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=a1e(o,s.resumeToken);const u=kj(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(Mn.min())>0){a.readTime=DD(o,s.snapshotVersion.toTimestamp());const u=kj(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,t);const r=QZe(this.serializer,t);r&&(n.labels=r),this.I_(n)}w_(t){const n={};n.database=Dj(this.serializer),n.removeTarget=t,this.I_(n)}}class zet extends w1e{constructor(t,n,r,i,o,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,n){return this.connection.Wo("Write",t,n)}g_(t){return Mr(!!t.streamToken),this.lastStreamToken=t.streamToken,Mr(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){Mr(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const n=GZe(t.writeResults,t.commitTime),r=kf(t.commitTime);return this.listener.v_(r,n)}C_(){const t={};t.database=Dj(this.serializer),this.I_(t)}b_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>qZe(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uet{}class Het extends Uet{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new Ht(nt.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(t,Ij(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ht(nt.UNKNOWN,o.toString())})}Co(t,n,r,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Co(t,Ij(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ht(nt.UNKNOWN,s.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class Vet{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Dp(n),this.N_=!1):Yt("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy="RemoteStore";class Wet{constructor(t,n,r,i,o){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(s=>{r.enqueueAndForget(async()=>{qv(this)&&(Yt(Jy,"Restarting streams for network reachability change."),await async function(l){const u=Pn(l);u.W_.add(4),await QC(u),u.j_.set("Unknown"),u.W_.delete(4),await XC(u)}(this))})}),this.j_=new Vet(r,i)}}async function XC(e){if(qv(e))for(const t of e.G_)await t(!0)}async function QC(e){for(const t of e.G_)await t(!1)}function x1e(e,t){const n=Pn(e);n.K_.has(t.targetId)||(n.K_.set(t.targetId,t),rW(n)?nW(n):Hx(n).c_()&&tW(n,t))}function eW(e,t){const n=Pn(e),r=Hx(n);n.K_.delete(t),r.c_()&&_1e(n,t),n.K_.size===0&&(r.c_()?r.P_():qv(n)&&n.j_.set("Unknown"))}function tW(e,t){if(e.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Mn.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Hx(e).y_(t)}function _1e(e,t){e.H_.Ne(t),Hx(e).w_(t)}function nW(e){e.H_=new FZe({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.K_.get(t)||null,it:()=>e.datastore.serializer.databaseId}),Hx(e).start(),e.j_.B_()}function rW(e){return qv(e)&&!Hx(e).u_()&&e.K_.size>0}function qv(e){return Pn(e).W_.size===0}function E1e(e){e.H_=void 0}async function qet(e){e.j_.set("Online")}async function Get(e){e.K_.forEach((t,n)=>{tW(e,t)})}async function Yet(e,t){E1e(e),rW(e)?(e.j_.q_(t),nW(e)):e.j_.set("Unknown")}async function Ket(e,t,n){if(e.j_.set("Online"),t instanceof s1e&&t.state===2&&t.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.K_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.K_.delete(a),i.H_.removeTarget(a))}(e,t)}catch(r){Yt(Jy,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await MD(e,r)}else if(t instanceof NI?e.H_.We(t):t instanceof o1e?e.H_.Ze(t):e.H_.je(t),!n.isEqual(Mn.min()))try{const r=await v1e(e.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.H_.ot(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.K_.get(u);c&&o.K_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.K_.get(l);if(!c)return;o.K_.set(l,c.withResumeToken(Qs.EMPTY_BYTE_STRING,c.snapshotVersion)),_1e(o,l);const d=new eg(c.target,l,u,c.sequenceNumber);tW(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){Yt(Jy,"Failed to raise snapshot:",r),await MD(e,r)}}async function MD(e,t,n){if(!zx(t))throw t;e.W_.add(1),await QC(e),e.j_.set("Offline"),n||(n=()=>v1e(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Yt(Jy,"Retrying IndexedDB access"),await n(),e.W_.delete(1),await XC(e)})}function S1e(e,t){return t().catch(n=>MD(e,n,t))}async function ZP(e){const t=Pn(e),n=Ig(t);let r=t.U_.length>0?t.U_[t.U_.length-1].batchId:BV;for(;Xet(t);)try{const i=await Det(t.localStore,r);if(i===null){t.U_.length===0&&n.P_();break}r=i.batchId,Qet(t,i)}catch(i){await MD(t,i)}T1e(t)&&C1e(t)}function Xet(e){return qv(e)&&e.U_.length<10}function Qet(e,t){e.U_.push(t);const n=Ig(e);n.c_()&&n.S_&&n.b_(t.mutations)}function T1e(e){return qv(e)&&!Ig(e).u_()&&e.U_.length>0}function C1e(e){Ig(e).start()}async function Jet(e){Ig(e).C_()}async function Zet(e){const t=Ig(e);for(const n of e.U_)t.b_(n.mutations)}async function ett(e,t,n){const r=e.U_.shift(),i=GV.from(r,t,n);await S1e(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await ZP(e)}async function ttt(e,t){t&&Ig(e).S_&&await async function(r,i){if(function(s){return OZe(s)&&s!==nt.ABORTED}(i.code)){const o=r.U_.shift();Ig(r).h_(),await S1e(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await ZP(r)}}(e,t),T1e(e)&&C1e(e)}async function uie(e,t){const n=Pn(e);n.asyncQueue.verifyOperationInProgress(),Yt(Jy,"RemoteStore received new credentials");const r=qv(n);n.W_.add(3),await QC(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await XC(n)}async function ntt(e,t){const n=Pn(e);t?(n.W_.delete(2),await XC(n)):t||(n.W_.add(2),await QC(n),n.j_.set("Unknown"))}function Hx(e){return e.J_||(e.J_=function(n,r,i){const o=Pn(n);return o.M_(),new jet(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(e.datastore,e.asyncQueue,{xo:qet.bind(null,e),No:Get.bind(null,e),Lo:Yet.bind(null,e),p_:Ket.bind(null,e)}),e.G_.push(async t=>{t?(e.J_.h_(),rW(e)?nW(e):e.j_.set("Unknown")):(await e.J_.stop(),E1e(e))})),e.J_}function Ig(e){return e.Y_||(e.Y_=function(n,r,i){const o=Pn(n);return o.M_(),new zet(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(e.datastore,e.asyncQueue,{xo:()=>Promise.resolve(),No:Jet.bind(null,e),Lo:ttt.bind(null,e),D_:Zet.bind(null,e),v_:ett.bind(null,e)}),e.G_.push(async t=>{t?(e.Y_.h_(),await ZP(e)):(await e.Y_.stop(),e.U_.length>0&&(Yt(Jy,`Stopping write stream with ${e.U_.length} pending writes`),e.U_=[]))})),e.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iW{constructor(t,n,r,i,o){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new hp,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,o){const s=Date.now()+r,a=new iW(t,n,s,i,o);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ht(nt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function oW(e,t){if(Dp("AsyncQueue",`${t}: ${e}`),zx(e))return new Ht(nt.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{static emptySet(t){return new W1(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||mn.comparator(n.key,r.key):(n,r)=>mn.comparator(n.key,r.key),this.keyedMap=qE(),this.sortedSet=new zi(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof W1)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new W1;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cie{constructor(){this.Z_=new zi(mn.comparator)}track(t){const n=t.doc.key,r=this.Z_.get(n);r?t.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,t):t.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Z_=this.Z_.remove(n):t.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):Cn():this.Z_=this.Z_.insert(n,t)}X_(){const t=[];return this.Z_.inorderTraversal((n,r)=>{t.push(r)}),t}}class _w{constructor(t,n,r,i,o,s,a,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new _w(t,n,W1.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&GP(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rtt{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class itt{constructor(){this.queries=die(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const i=Pn(n),o=i.queries;i.queries=die(),o.forEach((s,a)=>{for(const l of a.ta)l.onError(r)})})(this,new Ht(nt.ABORTED,"Firestore shutting down"))}}function die(){return new Wv(e=>qbe(e),GP)}async function A1e(e,t){const n=Pn(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.na()&&t.ra()&&(r=2):(o=new rtt,r=t.ra()?0:1);try{switch(r){case 0:o.ea=await n.onListen(i,!0);break;case 1:o.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=oW(s,`Initialization of query '${x1(t.query)}' failed`);return void t.onError(a)}n.queries.set(i,o),o.ta.push(t),t.sa(n.onlineState),o.ea&&t.oa(o.ea)&&sW(n)}async function k1e(e,t){const n=Pn(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const s=o.ta.indexOf(t);s>=0&&(o.ta.splice(s,1),o.ta.length===0?i=t.ra()?0:1:!o.na()&&t.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function ott(e,t){const n=Pn(e);let r=!1;for(const i of t){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.ta)a.oa(i)&&(r=!0);s.ea=i}}r&&sW(n)}function stt(e,t,n){const r=Pn(e),i=r.queries.get(t);if(i)for(const o of i.ta)o.onError(n);r.queries.delete(t)}function sW(e){e.ia.forEach(t=>{t.next()})}var Pj,fie;(fie=Pj||(Pj={}))._a="default",fie.Cache="cache";class I1e{constructor(t,n,r){this.query=t,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new _w(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ua?this.la(t)&&(this.aa.next(t),n=!0):this.ha(t,this.onlineState)&&(this.Pa(t),n=!0),this.ca=t,n}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),n=!0),n}ha(t,n){if(!t.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}la(t){if(t.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(t){t=_w.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==Pj.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1e{constructor(t){this.key=t}}class D1e{constructor(t){this.key=t}}class att{constructor(t,n){this.query=t,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=nr(),this.mutatedKeys=nr(),this.ya=Gbe(t),this.wa=new W1(this.ya)}get Sa(){return this.fa}ba(t,n){const r=n?n.Da:new cie,i=n?n.wa:this.wa;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,d)=>{const f=i.get(c),h=YP(this.query,d)?d:null,p=!!f&&this.mutatedKeys.has(f.key),m=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let g=!1;f&&h?f.data.isEqual(h.data)?p!==m&&(r.track({type:3,doc:h}),g=!0):this.va(f,h)||(r.track({type:2,doc:h}),g=!0,(l&&this.ya(h,l)>0||u&&this.ya(h,u)<0)&&(a=!0)):!f&&h?(r.track({type:0,doc:h}),g=!0):f&&!h&&(r.track({type:1,doc:f}),g=!0,(l||u)&&(a=!0)),g&&(h?(s=s.add(h),o=m?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{wa:s,Da:r,ls:a,mutatedKeys:o}}va(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const o=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const s=t.Da.X_();s.sort((c,d)=>function(h,p){const m=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Cn()}};return m(h)-m(p)}(c.type,d.type)||this.ya(c.doc,d.doc)),this.Ca(r),i=i!=null&&i;const a=n&&!i?this.Fa():[],l=this.pa.size===0&&this.current&&!i?1:0,u=l!==this.ga;return this.ga=l,s.length!==0||u?{snapshot:new _w(this.query,t.wa,o,s,t.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new cie,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=nr(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return t.forEach(r=>{this.pa.has(r)||n.push(new D1e(r))}),this.pa.forEach(r=>{t.has(r)||n.push(new R1e(r))}),n}Oa(t){this.fa=t.gs,this.pa=nr();const n=this.ba(t.documents);return this.applyChanges(n,!0)}Na(){return _w.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const aW="SyncEngine";class ltt{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class utt{constructor(t){this.key=t,this.Ba=!1}}class ctt{constructor(t,n,r,i,o,s){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.La={},this.ka=new Wv(a=>qbe(a),GP),this.qa=new Map,this.Qa=new Set,this.$a=new zi(mn.comparator),this.Ua=new Map,this.Ka=new XV,this.Wa={},this.Ga=new Map,this.za=xw.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function dtt(e,t,n=!0){const r=L1e(e);let i;const o=r.ka.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=await $1e(r,t,n,!0),i}async function ftt(e,t){const n=L1e(e);await $1e(n,t,!0,!1)}async function $1e(e,t,n,r){const i=await $et(e.localStore,Af(t)),o=i.targetId,s=e.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await htt(e,t,o,s==="current",i.resumeToken)),e.isPrimaryClient&&n&&x1e(e.remoteStore,i),a}async function htt(e,t,n,r,i){e.Ha=(d,f,h)=>async function(m,g,y,v){let w=g.view.ba(y);w.ls&&(w=await iie(m.localStore,g.query,!1).then(({documents:S})=>g.view.ba(S,w)));const E=v&&v.targetChanges.get(g.targetId),_=v&&v.targetMismatches.get(g.targetId)!=null,x=g.view.applyChanges(w,m.isPrimaryClient,E,_);return pie(m,g.targetId,x.Ma),x.snapshot}(e,d,f,h);const o=await iie(e.localStore,t,!0),s=new att(t,o.gs),a=s.ba(o.documents),l=KC.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=s.applyChanges(a,e.isPrimaryClient,l);pie(e,n,u.Ma);const c=new ltt(t,n,s);return e.ka.set(t,c),e.qa.has(n)?e.qa.get(n).push(t):e.qa.set(n,[t]),u.snapshot}async function ptt(e,t,n){const r=Pn(e),i=r.ka.get(t),o=r.qa.get(i.targetId);if(o.length>1)return r.qa.set(i.targetId,o.filter(s=>!GP(s,t))),void r.ka.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await $j(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&eW(r.remoteStore,i.targetId),Nj(r,i.targetId)}).catch(jx)):(Nj(r,i.targetId),await $j(r.localStore,i.targetId,!0))}async function mtt(e,t){const n=Pn(e),r=n.ka.get(t),i=n.qa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),eW(n.remoteStore,r.targetId))}async function gtt(e,t,n){const r=Ett(e);try{const i=await function(s,a){const l=Pn(s),u=Vo.now(),c=a.reduce((h,p)=>h.add(p.key),nr());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=$p(),m=nr();return l.ds.getEntries(h,c).next(g=>{p=g,p.forEach((y,v)=>{v.isValidDocument()||(m=m.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(h,p)).next(g=>{d=g;const y=[];for(const v of a){const w=DZe(v,d.get(v.key).overlayedDocument);w!=null&&y.push(new u0(v.key,w,Fbe(w.value.mapValue),Su.exists(!0)))}return l.mutationQueue.addMutationBatch(h,u,y,a)}).next(g=>{f=g;const y=g.applyToLocalDocumentSet(d,m);return l.documentOverlayCache.saveOverlays(h,g.batchId,y)})}).then(()=>({batchId:f.batchId,changes:Kbe(d)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Wa[s.currentUser.toKey()];u||(u=new zi(qn)),u=u.insert(a,l),s.Wa[s.currentUser.toKey()]=u}(r,i.batchId,n),await JC(r,i.changes),await ZP(r.remoteStore)}catch(i){const o=oW(i,"Failed to persist write");n.reject(o)}}async function M1e(e,t){const n=Pn(e);try{const r=await Iet(n.localStore,t);t.targetChanges.forEach((i,o)=>{const s=n.Ua.get(o);s&&(Mr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ba=!0:i.modifiedDocuments.size>0?Mr(s.Ba):i.removedDocuments.size>0&&(Mr(s.Ba),s.Ba=!1))}),await JC(n,r,t)}catch(r){await jx(r)}}function hie(e,t,n){const r=Pn(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ka.forEach((o,s)=>{const a=s.view.sa(t);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Pn(s);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const f of d.ta)f.sa(a)&&(u=!0)}),u&&sW(l)}(r.eventManager,t),i.length&&r.La.p_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function ytt(e,t,n){const r=Pn(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Ua.get(t),o=i&&i.key;if(o){let s=new zi(mn.comparator);s=s.insert(o,wa.newNoDocument(o,Mn.min()));const a=nr().add(o),l=new QP(Mn.min(),new Map,new zi(qn),s,a);await M1e(r,l),r.$a=r.$a.remove(o),r.Ua.delete(t),lW(r)}else await $j(r.localStore,t,!1).then(()=>Nj(r,t,n)).catch(jx)}async function vtt(e,t){const n=Pn(e),r=t.batch.batchId;try{const i=await ket(n.localStore,t);N1e(n,r,null),P1e(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await JC(n,i)}catch(i){await jx(i)}}async function btt(e,t,n){const r=Pn(e);try{const i=await function(s,a){const l=Pn(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(Mr(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,t);N1e(r,t,n),P1e(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await JC(r,i)}catch(i){await jx(i)}}function P1e(e,t){(e.Ga.get(t)||[]).forEach(n=>{n.resolve()}),e.Ga.delete(t)}function N1e(e,t,n){const r=Pn(e);let i=r.Wa[r.currentUser.toKey()];if(i){const o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.Wa[r.currentUser.toKey()]=i}}function Nj(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.qa.get(t))e.ka.delete(r),n&&e.La.Ja(r,n);e.qa.delete(t),e.isPrimaryClient&&e.Ka.br(t).forEach(r=>{e.Ka.containsKey(r)||O1e(e,r)})}function O1e(e,t){e.Qa.delete(t.path.canonicalString());const n=e.$a.get(t);n!==null&&(eW(e.remoteStore,n),e.$a=e.$a.remove(t),e.Ua.delete(n),lW(e))}function pie(e,t,n){for(const r of n)r instanceof R1e?(e.Ka.addReference(r.key,t),wtt(e,r)):r instanceof D1e?(Yt(aW,"Document no longer in limbo: "+r.key),e.Ka.removeReference(r.key,t),e.Ka.containsKey(r.key)||O1e(e,r.key)):Cn()}function wtt(e,t){const n=t.key,r=n.path.canonicalString();e.$a.get(n)||e.Qa.has(r)||(Yt(aW,"New document in limbo: "+n),e.Qa.add(r),lW(e))}function lW(e){for(;e.Qa.size>0&&e.$a.size<e.maxConcurrentLimboResolutions;){const t=e.Qa.values().next().value;e.Qa.delete(t);const n=new mn(bi.fromString(t)),r=e.za.next();e.Ua.set(r,new utt(n)),e.$a=e.$a.insert(n,r),x1e(e.remoteStore,new eg(Af(VV(n.path)),r,"TargetPurposeLimboResolution",VP.ae))}}async function JC(e,t,n){const r=Pn(e),i=[],o=[],s=[];r.ka.isEmpty()||(r.ka.forEach((a,l)=>{s.push(r.Ha(l,t,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=JV.Yi(l.targetId,u);o.push(d)}}))}),await Promise.all(s),r.La.p_(i),await async function(l,u){const c=Pn(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>ot.forEach(u,f=>ot.forEach(f.Hi,h=>c.persistence.referenceDelegate.addReference(d,f.targetId,h)).next(()=>ot.forEach(f.Ji,h=>c.persistence.referenceDelegate.removeReference(d,f.targetId,h)))))}catch(d){if(!zx(d))throw d;Yt(ZV,"Failed to update sequence numbers: "+d)}for(const d of u){const f=d.targetId;if(!d.fromCache){const h=c.Ts.get(f),p=h.snapshotVersion,m=h.withLastLimboFreeSnapshotVersion(p);c.Ts=c.Ts.insert(f,m)}}}(r.localStore,o))}async function xtt(e,t){const n=Pn(e);if(!n.currentUser.isEqual(t)){Yt(aW,"User change. New user:",t.toKey());const r=await y1e(n.localStore,t);n.currentUser=t,function(o,s){o.Ga.forEach(a=>{a.forEach(l=>{l.reject(new Ht(nt.CANCELLED,s))})}),o.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await JC(n,r.Rs)}}function _tt(e,t){const n=Pn(e),r=n.Ua.get(t);if(r&&r.Ba)return nr().add(r.key);{let i=nr();const o=n.qa.get(t);if(!o)return i;for(const s of o){const a=n.ka.get(s);i=i.unionWith(a.view.Sa)}return i}}function L1e(e){const t=Pn(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=M1e.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=_tt.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ytt.bind(null,t),t.La.p_=ott.bind(null,t.eventManager),t.La.Ja=stt.bind(null,t.eventManager),t}function Ett(e){const t=Pn(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=vtt.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=btt.bind(null,t),t}class PD{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=JP(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,n){return null}nu(t,n){return null}eu(t){return Aet(this.persistence,new Eet,t.initialUser,this.serializer)}Xa(t){return new g1e(QV.ri,this.serializer)}Za(t){return new Pet}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}PD.provider={build:()=>new PD};class Stt extends PD{constructor(t){super(),this.cacheSizeBytes=t}tu(t,n){Mr(this.persistence.referenceDelegate instanceof $D);const r=this.persistence.referenceDelegate.garbageCollector;return new aet(r,t.asyncQueue,n)}Xa(t){const n=this.cacheSizeBytes!==void 0?kl.withCacheSize(this.cacheSizeBytes):kl.DEFAULT;return new g1e(r=>$D.ri(r,n),this.serializer)}}class Oj{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>hie(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=xtt.bind(null,this.syncEngine),await ntt(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new itt}()}createDatastore(t){const n=JP(t.databaseInfo.databaseId),r=function(o){return new Bet(o)}(t.databaseInfo);return function(o,s,a,l){return new Het(o,s,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,o,s,a){return new Wet(r,i,o,s,a)}(this.localStore,this.datastore,t.asyncQueue,n=>hie(this.syncEngine,n,0),function(){return aie.D()?new aie:new Net}())}createSyncEngine(t,n){return function(i,o,s,a,l,u,c){const d=new ctt(i,o,s,a,l,u);return c&&(d.ja=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(i){const o=Pn(i);Yt(Jy,"RemoteStore shutting down."),o.W_.add(5),await QC(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Oj.provider={build:()=>new Oj};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1e{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):Dp("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg="FirestoreClient";class Ttt{constructor(t,n,r,i,o){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Al.UNAUTHENTICATED,this.clientId=kbe.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{Yt(Rg,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Yt(Rg,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new hp;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=oW(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function E5(e,t){e.asyncQueue.verifyOperationInProgress(),Yt(Rg,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await y1e(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function mie(e,t){e.asyncQueue.verifyOperationInProgress();const n=await B1e(e);Yt(Rg,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>uie(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>uie(t.remoteStore,i)),e._onlineComponents=t}async function B1e(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Yt(Rg,"Using user provided OfflineComponentProvider");try{await E5(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(i){return i.name==="FirebaseError"?i.code===nt.FAILED_PRECONDITION||i.code===nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;_T("Error using user provided cache. Falling back to memory cache: "+n),await E5(e,new PD)}}else Yt(Rg,"Using default OfflineComponentProvider"),await E5(e,new Stt(void 0));return e._offlineComponents}async function uW(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Yt(Rg,"Using user provided OnlineComponentProvider"),await mie(e,e._uninitializedComponentsProvider._online)):(Yt(Rg,"Using default OnlineComponentProvider"),await mie(e,new Oj))),e._onlineComponents}function Ctt(e){return B1e(e).then(t=>t.persistence)}function Att(e){return uW(e).then(t=>t.remoteStore)}function ktt(e){return uW(e).then(t=>t.syncEngine)}async function j1e(e){const t=await uW(e),n=t.eventManager;return n.onListen=dtt.bind(null,t.syncEngine),n.onUnlisten=ptt.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=ftt.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=mtt.bind(null,t.syncEngine),n}function Itt(e){return e.asyncQueue.enqueue(async()=>{const t=await Ctt(e),n=await Att(e);return t.setNetworkEnabled(!0),function(i){const o=Pn(i);return o.W_.delete(0),XC(o)}(n)})}function Rtt(e,t,n={}){const r=new hp;return e.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new F1e({next:f=>{c.su(),s.enqueueAndForget(()=>k1e(o,d));const h=f.docs.has(a);!h&&f.fromCache?u.reject(new Ht(nt.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&f.fromCache&&l&&l.source==="server"?u.reject(new Ht(nt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new I1e(VV(a.path),c,{includeMetadataChanges:!0,Ta:!0});return A1e(o,d)}(await j1e(e),e.asyncQueue,t,n,r)),r.promise}function Dtt(e,t,n={}){const r=new hp;return e.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new F1e({next:f=>{c.su(),s.enqueueAndForget(()=>k1e(o,d)),f.fromCache&&l.source==="server"?u.reject(new Ht(nt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new I1e(a,c,{includeMetadataChanges:!0,Ta:!0});return A1e(o,d)}(await j1e(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1e(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gie=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1e(e,t,n){if(!n)throw new Ht(nt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function $tt(e,t,n,r){if(t===!0&&r===!0)throw new Ht(nt.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function yie(e){if(!mn.isDocumentKey(e))throw new Ht(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function vie(e){if(mn.isDocumentKey(e))throw new Ht(nt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function eN(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Cn()}function Vf(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ht(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=eN(e);throw new Ht(nt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mtt="firestore.googleapis.com",bie=!0;class wie{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new Ht(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Mtt,this.ssl=bie}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:bie;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=p1e;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<m1e)throw new Ht(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}$tt("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=z1e((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Ht(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ht(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ht(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class cW{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wie({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ht(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Ht(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wie(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new LJe;switch(r.type){case"firstParty":return new jJe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ht(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=gie.get(n);r&&(Yt("ComponentProvider","Removing Datastore"),gie.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Gv(this.firestore,t,this._query)}}class rl{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mg(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new rl(this.firestore,t,this._key)}}class mg extends Gv{constructor(t,n,r){super(t,n,VV(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new rl(this.firestore,null,new mn(t))}withConverter(t){return new mg(this.firestore,t,this._path)}}function Va(e,t,...n){if(e=di(e),U1e("collection","path",t),e instanceof cW){const r=bi.fromString(t,...n);return vie(r),new mg(e,null,r)}{if(!(e instanceof rl||e instanceof mg))throw new Ht(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(bi.fromString(t,...n));return vie(r),new mg(e.firestore,null,r)}}function li(e,t,...n){if(e=di(e),arguments.length===1&&(t=kbe.newId()),U1e("doc","path",t),e instanceof cW){const r=bi.fromString(t,...n);return yie(r),new rl(e,null,new mn(r))}{if(!(e instanceof rl||e instanceof mg))throw new Ht(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(bi.fromString(t,...n));return yie(r),new rl(e.firestore,e instanceof mg?e.converter:null,new mn(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xie="AsyncQueue";class _ie{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new b1e(this,"async_queue_retry"),this.Su=()=>{const r=_5();r&&Yt(xie,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=t;const n=_5();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const n=_5();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const n=new hp;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!zx(t))throw t;Yt(xie,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const n=this.bu.then(()=>(this.pu=!0,t().catch(r=>{this.gu=r,this.pu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Dp("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(t,n,r){this.Du(),this.wu.indexOf(t)>-1&&(n=0);const i=iW.createAndSchedule(this,t,n,r,o=>this.Fu(o));return this.fu.push(i),i}Du(){this.gu&&Cn()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const n of this.fu)if(n.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const n=this.fu.indexOf(t);this.fu.splice(n,1)}}class Yv extends cW{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new _ie,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new _ie(t),this._firestoreClient=void 0,await t}}}function Ptt(e,t,n){n||(n=AD);const r=Fx(e,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),o=r.getOptions(n);if(Ky(o,t))return i;throw new Ht(nt.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new Ht(nt.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<m1e)throw new Ht(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:t,instanceIdentifier:n})}function ZC(e){if(e._terminated)throw new Ht(nt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Ntt(e),e._firestoreClient}function Ntt(e){var t,n,r;const i=e._freezeSettings(),o=function(a,l,u,c){return new tZe(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,z1e(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Ttt(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(e._componentsProvider))}function Ott(e){return Itt(ZC(e=Vf(e,Yv)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ew(Qs.fromBase64String(t))}catch(n){throw new Ht(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ew(Qs.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Ht(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new js(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dW=class{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Ht(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Ht(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return qn(this._lat,t._lat)||qn(this._long,t._long)}};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fW{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ltt=/^__.*__$/;class Ftt{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new u0(t,this.data,this.fieldMask,n,this.fieldTransforms):new YC(t,this.data,n,this.fieldTransforms)}}class H1e{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new u0(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function V1e(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Cn()}}class hW{constructor(t,n,r,i,o,s){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new hW(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.ku({path:r,Qu:!1});return i.$u(t),i}Uu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return ND(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(V1e(this.Lu)&&Ltt.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class Btt{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||JP(t)}ju(t,n,r,i=!1){return new hW({Lu:t,methodName:n,zu:r,path:js.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nN(e){const t=e._freezeSettings(),n=JP(e._databaseId);return new Btt(e._databaseId,!!t.ignoreUndefinedProperties,n)}function W1e(e,t,n,r,i,o={}){const s=e.ju(o.merge||o.mergeFields?2:0,t,n,i);mW("Data must be an object, but it was:",s,r);const a=Y1e(r,s);let l,u;if(o.merge)l=new vu(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const d of o.mergeFields){const f=Lj(t,d,n);if(!s.contains(f))throw new Ht(nt.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);X1e(c,f)||c.push(f)}l=new vu(c),u=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=s.fieldTransforms;return new Ftt(new $l(a),l,u)}class rN extends tN{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof rN}}class pW extends tN{_toFieldTransform(t){return new AZe(t.path,new kT)}isEqual(t){return t instanceof pW}}function q1e(e,t,n,r){const i=e.ju(1,t,n);mW("Data must be an object, but it was:",i,r);const o=[],s=$l.empty();l0(r,(l,u)=>{const c=gW(t,l,n);u=di(u);const d=i.Uu(c);if(u instanceof rN)o.push(c);else{const f=tA(u,d);f!=null&&(o.push(c),s.set(c,f))}});const a=new vu(o);return new H1e(s,a,i.fieldTransforms)}function G1e(e,t,n,r,i,o){const s=e.ju(1,t,n),a=[Lj(t,r,n)],l=[i];if(o.length%2!=0)throw new Ht(nt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<o.length;f+=2)a.push(Lj(t,o[f])),l.push(o[f+1]);const u=[],c=$l.empty();for(let f=a.length-1;f>=0;--f)if(!X1e(u,a[f])){const h=a[f];let p=l[f];p=di(p);const m=s.Uu(h);if(p instanceof rN)u.push(h);else{const g=tA(p,m);g!=null&&(u.push(h),c.set(h,g))}}const d=new vu(u);return new H1e(c,d,s.fieldTransforms)}function jtt(e,t,n,r=!1){return tA(n,e.ju(r?4:3,t))}function tA(e,t){if(K1e(e=di(e)))return mW("Unsupported field value:",t,e),Y1e(e,t);if(e instanceof tN)return function(r,i){if(!V1e(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=tA(a,i.Ku(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(e,t)}return function(r,i){if((r=di(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return SZe(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Vo.fromDate(r);return{timestampValue:DD(i.serializer,o)}}if(r instanceof Vo){const o=new Vo(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:DD(i.serializer,o)}}if(r instanceof dW)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ew)return{bytesValue:a1e(i.serializer,r._byteString)};if(r instanceof rl){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Wu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:KV(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof fW)return function(s,a){return{mapValue:{fields:{[Obe]:{stringValue:Lbe},[kD]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Wu("VectorValues must only contain numeric values.");return WV(a.serializer,u)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${eN(r)}`)}(e,t)}function Y1e(e,t){const n={};return Rbe(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):l0(e,(r,i)=>{const o=tA(i,t.qu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function K1e(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Vo||e instanceof dW||e instanceof Ew||e instanceof rl||e instanceof tN||e instanceof fW)}function mW(e,t,n){if(!K1e(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=eN(n);throw r==="an object"?t.Wu(e+" a custom object"):t.Wu(e+" "+r)}}function Lj(e,t,n){if((t=di(t))instanceof eA)return t._internalPath;if(typeof t=="string")return gW(e,t);throw ND("Field path arguments must be of type string or ",e,!1,void 0,n)}const ztt=new RegExp("[~\\*/\\[\\]]");function gW(e,t,n){if(t.search(ztt)>=0)throw ND(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new eA(...t.split("."))._internalPath}catch{throw ND(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function ND(e,t,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Ht(nt.INVALID_ARGUMENT,a+e+l)}function X1e(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1e{constructor(t,n,r,i,o){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new rl(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Utt(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(iN("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Utt extends Q1e{data(){return super.data()}}function iN(e,t){return typeof t=="string"?gW(e,t):t instanceof eA?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Htt(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Ht(nt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yW{}class J1e extends yW{}function S5(e,t,...n){let r=[];t instanceof yW&&r.push(t),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof vW).length,a=o.filter(l=>l instanceof oN).length;if(s>1||s>0&&a>0)throw new Ht(nt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class oN extends J1e{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new oN(t,n,r)}_apply(t){const n=this._parse(t);return Z1e(t._query,n),new Gv(t.firestore,t.converter,Cj(t._query,n))}_parse(t){const n=nN(t.firestore);return function(o,s,a,l,u,c,d){let f;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Ht(nt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){Cie(d,c);const p=[];for(const m of d)p.push(Tie(l,o,m));f={arrayValue:{values:p}}}else f=Tie(l,o,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||Cie(d,c),f=jtt(a,s,d,c==="in"||c==="not-in");return Ao.create(u,c,f)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function Eie(e,t,n){const r=t,i=iN("where",e);return oN._create(i,r,n)}class vW extends yW{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new vW(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ed.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)Z1e(s,l),s=Cj(s,l)}(t._query,n),new Gv(t.firestore,t.converter,Cj(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class bW extends J1e{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new bW(t,n)}_apply(t){const n=function(i,o,s){if(i.startAt!==null)throw new Ht(nt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ht(nt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new AT(o,s)}(t._query,this._field,this._direction);return new Gv(t.firestore,t.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new Ux(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,n))}}function Sie(e,t="asc"){const n=t,r=iN("orderBy",e);return bW._create(r,n)}function Tie(e,t,n){if(typeof(n=di(n))=="string"){if(n==="")throw new Ht(nt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wbe(t)&&n.indexOf("/")!==-1)throw new Ht(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(bi.fromString(n));if(!mn.isDocumentKey(r))throw new Ht(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Bre(e,new mn(r))}if(n instanceof rl)return Bre(e,n._key);throw new Ht(nt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${eN(n)}.`)}function Cie(e,t){if(!Array.isArray(e)||e.length===0)throw new Ht(nt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Z1e(e,t){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new Ht(nt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Ht(nt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class Vtt{convertValue(t,n="none"){switch(kg(t)){case 0:return null;case 1:return t.booleanValue;case 2:return po(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Ag(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Cn()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return l0(t,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(t){var n,r,i;const o=(i=(r=(n=t.fields)===null||n===void 0?void 0:n[kD].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>po(s.doubleValue));return new fW(o)}convertGeoPoint(t){return new dW(po(t.latitude),po(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=qP(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ST(t));default:return null}}convertTimestamp(t){const n=Cg(t);return new Vo(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=bi.fromString(t);Mr(h1e(r));const i=new TT(r.get(1),r.get(3)),o=new mn(r.popFirst(5));return i.isEqual(n)||Dp(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ewe(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class twe extends Q1e{constructor(t,n,r,i,o,s){super(t,n,r,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new OI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(iN("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class OI extends twe{data(t={}){return super.data(t)}}class Wtt{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new YE(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new OI(this._firestore,this._userDataWriter,r.key,r,new YE(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ht(nt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new OI(i._firestore,i._userDataWriter,a.doc.key,a.doc,new YE(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new OI(i._firestore,i._userDataWriter,a.doc.key,a.doc,new YE(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:qtt(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function qtt(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Cn()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(e){e=Vf(e,rl);const t=Vf(e.firestore,Yv);return Rtt(ZC(t),e._key).then(n=>Gtt(t,e,n))}class nwe extends Vtt{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ew(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new rl(this.firestore,null,n)}}function H0(e){e=Vf(e,Gv);const t=Vf(e.firestore,Yv),n=ZC(t),r=new nwe(t);return Htt(e._query),Dtt(n,e._query).then(i=>new Wtt(t,r,e,i))}function ca(e,t,n){e=Vf(e,rl);const r=Vf(e.firestore,Yv),i=ewe(e.converter,t,n);return wW(r,[W1e(nN(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,Su.none())])}function Aie(e,t,n,...r){e=Vf(e,rl);const i=Vf(e.firestore,Yv),o=nN(i);let s;return s=typeof(t=di(t))=="string"||t instanceof eA?G1e(o,"updateDoc",e._key,t,n,r):q1e(o,"updateDoc",e._key,t),wW(i,[s.toMutation(e._key,Su.exists(!0))])}function wW(e,t){return function(r,i){const o=new hp;return r.asyncQueue.enqueueAndForget(async()=>gtt(await ktt(r),i,o)),o.promise}(ZC(e),t)}function Gtt(e,t,n){const r=n.docs.get(t._key),i=new nwe(e);return new twe(e,i,t._key,r,new YE(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ytt{constructor(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=nN(t)}set(t,n,r){this._verifyNotCommitted();const i=T5(t,this._firestore),o=ewe(i.converter,n,r),s=W1e(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,Su.none())),this}update(t,n,r,...i){this._verifyNotCommitted();const o=T5(t,this._firestore);let s;return s=typeof(n=di(n))=="string"||n instanceof eA?G1e(this._dataReader,"WriteBatch.update",o._key,n,r,i):q1e(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,Su.exists(!0))),this}delete(t){this._verifyNotCommitted();const n=T5(t,this._firestore);return this._mutations=this._mutations.concat(new qV(n._key,Su.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ht(nt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function T5(e,t){if((e=di(e)).firestore!==t)throw new Ht(nt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function $k(){return new pW("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kie(e){return ZC(e=Vf(e,Yv)),new Ytt(e,t=>wW(e,t))}(function(t,n=!0){(function(i){Bx=i})(Vv),Rp(new Uf("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Yv(new FJe(r.getProvider("auth-internal")),new zJe(s,r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Ht(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new TT(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),gd(Are,kre,t),gd(Are,kre,"esm2017")})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj=new Map,rwe={activated:!1,tokenObservers:[]},Ktt={initialized:!1,enabled:!1};function qo(e){return Fj.get(e)||Object.assign({},rwe)}function Xtt(e,t){return Fj.set(e,t),Fj.get(e)}function sN(){return Ktt}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iwe="https://content-firebaseappcheck.googleapis.com/v1",Qtt="exchangeRecaptchaV3Token",Jtt="exchangeDebugToken",Iie={RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Ztt=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ent{constructor(t,n,r,i,o){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(t){this.stop();try{this.pending=new wT,this.pending.promise.catch(n=>{}),await tnt(this.getNextRun(t)),this.pending.resolve(),await this.pending.promise,this.pending=new wT,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function tnt(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nnt={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Ol=new Lx("appCheck","AppCheck",nnt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rie(e=!1){var t;return e?(t=self.grecaptcha)===null||t===void 0?void 0:t.enterprise:self.grecaptcha}function xW(e){if(!qo(e).activated)throw Ol.create("use-before-activation",{appName:e.name})}function owe(e){const t=Math.round(e/1e3),n=Math.floor(t/(3600*24)),r=Math.floor((t-n*3600*24)/3600),i=Math.floor((t-n*3600*24-r*3600)/60),o=t-n*3600*24-r*3600-i*60;let s="";return n&&(s+=Mk(n)+"d:"),r&&(s+=Mk(r)+"h:"),s+=Mk(i)+"m:"+Mk(o)+"s",s}function Mk(e){return e===0?"00":e>=10?e.toString():"0"+e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _W({url:e,body:t},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const o={method:"POST",body:JSON.stringify(t),headers:r};let s;try{s=await fetch(e,o)}catch(d){throw Ol.create("fetch-network-error",{originalErrorMessage:d==null?void 0:d.message})}if(s.status!==200)throw Ol.create("fetch-status-error",{httpStatus:s.status});let a;try{a=await s.json()}catch(d){throw Ol.create("fetch-parse-error",{originalErrorMessage:d==null?void 0:d.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw Ol.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=Number(l[1])*1e3,c=Date.now();return{token:a.token,expireTimeMillis:c+u,issuedAtTimeMillis:c}}function rnt(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${iwe}/projects/${n}/apps/${r}:${Qtt}?key=${i}`,body:{recaptcha_v3_token:t}}}function swe(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${iwe}/projects/${n}/apps/${r}:${Jtt}?key=${i}`,body:{debug_token:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const int="firebase-app-check-database",ont=1,DT="firebase-app-check-store",awe="debug-token";let Pk=null;function lwe(){return Pk||(Pk=new Promise((e,t)=>{try{const n=indexedDB.open(int,ont);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var i;t(Ol.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(DT,{keyPath:"compositeKey"})}}}catch(n){t(Ol.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),Pk)}function snt(e){return cwe(dwe(e))}function ant(e,t){return uwe(dwe(e),t)}function lnt(e){return uwe(awe,e)}function unt(){return cwe(awe)}async function uwe(e,t){const r=(await lwe()).transaction(DT,"readwrite"),o=r.objectStore(DT).put({compositeKey:e,value:t});return new Promise((s,a)=>{o.onsuccess=l=>{s()},r.onerror=l=>{var u;a(Ol.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})}async function cwe(e){const n=(await lwe()).transaction(DT,"readonly"),i=n.objectStore(DT).get(e);return new Promise((o,s)=>{i.onsuccess=a=>{const l=a.target.result;o(l?l.value:void 0)},n.onerror=a=>{var l;s(Ol.create("storage-get",{originalErrorMessage:(l=a.target.error)===null||l===void 0?void 0:l.message}))}})}function dwe(e){return`${e.options.appId}-${e.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy=new zP("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cnt(e){if(kV()){let t;try{t=await snt(e)}catch(n){Cy.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return t}}function C5(e,t){return kV()?ant(e,t).catch(n=>{Cy.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function dnt(){let e;try{e=await unt()}catch{}if(e)return e;{const t=crypto.randomUUID();return lnt(t).catch(n=>Cy.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EW(){return sN().enabled}async function SW(){const e=sN();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function fnt(){const e=Jve(),t=sN();if(t.initialized=!0,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&e.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;t.enabled=!0;const n=new wT;t.token=n,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(dnt())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hnt={error:"UNKNOWN_ERROR"};function pnt(e){return AV.encodeString(JSON.stringify(e),!1)}async function Bj(e,t=!1,n=!1){const r=e.app;xW(r);const i=qo(r);let o=i.token,s;if(o&&!I1(o)&&(i.token=void 0,o=void 0),!o){const u=await i.cachedTokenPromise;u&&(I1(u)?o=u:await C5(r,void 0))}if(!t&&o&&I1(o))return{token:o.token};let a=!1;if(EW())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=_W(swe(r,await SW()),e.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);const u=await i.exchangeTokenPromise;return await C5(r,u),i.token=u,{token:u.token}}catch(u){return u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Cy.warn(u.message):n&&Cy.error(u),A5(u)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=await qo(r).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Cy.warn(u.message):n&&Cy.error(u),s=u}let l;return o?s?I1(o)?l={token:o.token,internalError:s}:l=A5(s):(l={token:o.token},i.token=o,await C5(r,o)):l=A5(s),a&&pwe(r,l),l}async function mnt(e){const t=e.app;xW(t);const{provider:n}=qo(t);if(EW()){const r=await SW(),{token:i}=await _W(swe(t,r),e.heartbeatServiceProvider);return{token:i}}else{const{token:r}=await n.getToken();return{token:r}}}function fwe(e,t,n,r){const{app:i}=e,o=qo(i),s={next:n,error:r,type:t};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&I1(o.token)){const a=o.token;Promise.resolve().then(()=>{n({token:a.token}),Die(e)}).catch(()=>{})}o.cachedTokenPromise.then(()=>Die(e))}function hwe(e,t){const n=qo(e),r=n.tokenObservers.filter(i=>i.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function Die(e){const{app:t}=e,n=qo(t);let r=n.tokenRefresher;r||(r=gnt(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function gnt(e){const{app:t}=e;return new ent(async()=>{const n=qo(t);let r;if(n.token?r=await Bj(e,!0):r=await Bj(e),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=qo(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},Iie.RETRIAL_MIN_WAIT,Iie.RETRIAL_MAX_WAIT)}function pwe(e,t){const n=qo(e).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function I1(e){return e.expireTimeMillis-Date.now()>0}function A5(e){return{token:pnt(hnt),error:e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ynt{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:t}=qo(this.app);for(const n of t)hwe(this.app,n.next);return Promise.resolve()}}function vnt(e,t){return new ynt(e,t)}function bnt(e){return{getToken:t=>Bj(e,t),getLimitedUseToken:()=>mnt(e),addTokenListener:t=>fwe(e,"INTERNAL",t),removeTokenListener:t=>hwe(e.app,t)}}const wnt="@firebase/app-check",xnt="0.8.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _nt="https://www.google.com/recaptcha/api.js";function Ent(e,t){const n=new wT,r=qo(e);r.reCAPTCHAState={initialized:n};const i=Snt(e),o=Rie(!1);return o?$ie(e,t,o,i,n):Ant(()=>{const s=Rie(!1);if(!s)throw new Error("no recaptcha");$ie(e,t,s,i,n)}),n.promise}function $ie(e,t,n,r,i){n.ready(()=>{Cnt(e,t,n,r),i.resolve(n)})}function Snt(e){const t=`fire_app_check_${e.name}`,n=document.createElement("div");return n.id=t,n.style.display="none",document.body.appendChild(n),t}async function Tnt(e){xW(e);const n=await qo(e).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const o=qo(e).reCAPTCHAState;n.ready(()=>{r(n.execute(o.widgetId,{action:"fire_app_check"}))})})}function Cnt(e,t,n,r){const i=n.render(r,{sitekey:t,size:"invisible",callback:()=>{qo(e).reCAPTCHAState.succeeded=!0},"error-callback":()=>{qo(e).reCAPTCHAState.succeeded=!1}}),o=qo(e);o.reCAPTCHAState=Object.assign(Object.assign({},o.reCAPTCHAState),{widgetId:i})}function Ant(e){const t=document.createElement("script");t.src=_nt,t.onload=e,document.head.appendChild(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TW{constructor(t){this._siteKey=t,this._throttleData=null}async getToken(){var t,n,r;Int(this._throttleData);const i=await Tnt(this._app).catch(s=>{throw Ol.create("recaptcha-error")});if(!(!((t=qo(this._app).reCAPTCHAState)===null||t===void 0)&&t.succeeded))throw Ol.create("recaptcha-error");let o;try{o=await _W(rnt(this._app,i),this._heartbeatServiceProvider)}catch(s){throw!((n=s.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=knt(Number((r=s.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),Ol.create("initial-throttle",{time:owe(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):s}return this._throttleData=null,o}initialize(t){this._app=t,this._heartbeatServiceProvider=Fx(t,"heartbeat"),Ent(t,this._siteKey).catch(()=>{})}isEqual(t){return t instanceof TW?this._siteKey===t._siteKey:!1}}function knt(e,t){if(e===404||e===403)return{backoffCount:1,allowRequestsAfter:Date.now()+Ztt,httpStatus:e};{const n=t?t.backoffCount:0,r=lXe(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:e}}}function Int(e){if(e&&Date.now()-e.allowRequestsAfter<=0)throw Ol.create("throttled",{time:owe(e.allowRequestsAfter-Date.now()),httpStatus:e.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rnt(e=RV(),t){e=di(e);const n=Fx(e,"app-check");if(sN().initialized||fnt(),EW()&&SW().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(o.isTokenAutoRefreshEnabled===t.isTokenAutoRefreshEnabled&&o.provider.isEqual(t.provider))return i;throw Ol.create("already-initialized",{appName:e.name})}const r=n.initialize({options:t});return Dnt(e,t.provider,t.isTokenAutoRefreshEnabled),qo(e).isTokenAutoRefreshEnabled&&fwe(r,"INTERNAL",()=>{}),r}function Dnt(e,t,n){const r=Xtt(e,Object.assign({},rwe));r.activated=!0,r.provider=t,r.cachedTokenPromise=cnt(e).then(i=>(i&&I1(i)&&(r.token=i,pwe(e,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?e.automaticDataCollectionEnabled:n,r.provider.initialize(e)}const $nt="app-check",Mie="app-check-internal";function Mnt(){Rp(new Uf($nt,e=>{const t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return vnt(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(Mie).initialize()})),Rp(new Uf(Mie,e=>{const t=e.getProvider("app-check").getImmediate();return bnt(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),gd(wnt,xnt)}Mnt();function mwe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Pnt=mwe,gwe=new Lx("auth","Firebase",mwe());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=new zP("@firebase/auth");function Nnt(e,...t){OD.logLevel<=tr.WARN&&OD.warn(`Auth (${Vv}): ${e}`,...t)}function LI(e,...t){OD.logLevel<=tr.ERROR&&OD.error(`Auth (${Vv}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(e,...t){throw AW(e,...t)}function yd(e,...t){return AW(e,...t)}function CW(e,t,n){const r=Object.assign(Object.assign({},Pnt()),{[t]:n});return new Lx("auth","Firebase",r).create(t,{appName:e.name})}function gg(e){return CW(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ont(e,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&Wf(e,"argument-error"),CW(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function AW(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return gwe.create(e,...t)}function Rn(e,t,...n){if(!e)throw AW(t,...n)}function tp(e){const t="INTERNAL ASSERTION FAILED: "+e;throw LI(t),new Error(t)}function Mp(e,t){e||tp(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jj(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function Lnt(){return Pie()==="http:"||Pie()==="https:"}function Pie(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fnt(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Lnt()||qKe()||"connection"in navigator)?navigator.onLine:!0}function Bnt(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(t,n){this.shortDelay=t,this.longDelay=n,Mp(n>t,"Short delay should be less than long delay!"),this.isMobile=HKe()||GKe()}get(){return Fnt()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kW(e,t){Mp(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ywe{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;tp("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;tp("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;tp("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jnt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const znt=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Unt=new nA(3e4,6e4);function aN(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Vx(e,t,n,r,i={}){return vwe(e,i,async()=>{let o={},s={};r&&(t==="GET"?s=r:o={body:JSON.stringify(r)});const a=qC(Object.assign({key:e.config.apiKey},s)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const u=Object.assign({method:t,headers:l},o);return WKe()||(u.referrerPolicy="no-referrer"),ywe.fetch()(await wwe(e,e.config.apiHost,n,a),u)})}async function vwe(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},jnt),t);try{const i=new Hnt(e),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Nk(e,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nk(e,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Nk(e,"email-already-in-use",s);if(l==="USER_DISABLED")throw Nk(e,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw CW(e,c,u);Wf(e,c)}}catch(i){if(i instanceof lh)throw i;Wf(e,"network-request-failed",{message:String(i)})}}async function bwe(e,t,n,r,i={}){const o=await Vx(e,t,n,r,i);return"mfaPendingCredential"in o&&Wf(e,"multi-factor-auth-required",{_serverResponse:o}),o}async function wwe(e,t,n,r){const i=`${t}${n}?${r}`,o=e,s=o.config.emulator?kW(e.config,i):`${e.config.apiScheme}://${i}`;return znt.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}class Hnt{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(yd(this.auth,"network-request-failed")),Unt.get())})}}function Nk(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=yd(e,t,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vnt(e,t){return Vx(e,"POST","/v1/accounts:delete",t)}async function LD(e,t){return Vx(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Wnt(e,t=!1){const n=di(e),r=await n.getIdToken(t),i=IW(r);Rn(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:HS(k5(i.auth_time)),issuedAtTime:HS(k5(i.iat)),expirationTime:HS(k5(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function k5(e){return Number(e)*1e3}function IW(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return LI("JWT malformed, contained fewer than 3 sections"),null;try{const i=Qve(n);return i?JSON.parse(i):(LI("Failed to decode base64 JWT payload"),null)}catch(i){return LI("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Nie(e){const t=IW(e);return Rn(t,"internal-error"),Rn(typeof t.exp<"u","internal-error"),Rn(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $T(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof lh&&qnt(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function qnt({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gnt{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=HS(this.lastLoginAt),this.creationTime=HS(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FD(e){var t;const n=e.auth,r=await e.getIdToken(),i=await $T(e,LD(n,{idToken:r}));Rn(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?xwe(o.providerUserInfo):[],a=Knt(e.providerData,s),l=e.isAnonymous,u=!(e.email&&o.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new zj(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(e,d)}async function Ynt(e){const t=di(e);await FD(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Knt(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function xwe(e){return e.map(t=>{var{providerId:n}=t,r=TC(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xnt(e,t){const n=await vwe(e,{},async()=>{const r=qC({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,s=await wwe(e,i,"/v1/token",`key=${o}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ywe.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Qnt(e,t){return Vx(e,"POST","/v2/accounts:revokeToken",aN(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Rn(t.idToken,"internal-error"),Rn(typeof t.idToken<"u","internal-error"),Rn(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Nie(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Rn(t.length!==0,"internal-error");const n=Nie(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Rn(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await Xnt(t,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new q1;return r&&(Rn(typeof r=="string","internal-error",{appName:t}),s.refreshToken=r),i&&(Rn(typeof i=="string","internal-error",{appName:t}),s.accessToken=i),o&&(Rn(typeof o=="number","internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new q1,this.toJSON())}_performRefresh(){return tp("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(e,t){Rn(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class ud{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,o=TC(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Gnt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new zj(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await $T(this,this.stsTokenManager.getToken(this.auth,t));return Rn(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return Wnt(this,t)}reload(){return Ynt(this)}_assign(t){this!==t&&(Rn(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ud(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Rn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await FD(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gu(this.auth.app))return Promise.reject(gg(this.auth));const t=await this.getIdToken();return await $T(this,Vnt(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,o,s,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,p=(s=n.photoURL)!==null&&s!==void 0?s:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,g=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:w,emailVerified:E,isAnonymous:_,providerData:x,stsTokenManager:S}=n;Rn(w&&S,t,"internal-error");const C=q1.fromJSON(this.name,S);Rn(typeof w=="string",t,"internal-error"),Am(d,t.name),Am(f,t.name),Rn(typeof E=="boolean",t,"internal-error"),Rn(typeof _=="boolean",t,"internal-error"),Am(h,t.name),Am(p,t.name),Am(m,t.name),Am(g,t.name),Am(y,t.name),Am(v,t.name);const A=new ud({uid:w,auth:t,email:f,emailVerified:E,displayName:d,isAnonymous:_,photoURL:p,phoneNumber:h,tenantId:m,stsTokenManager:C,createdAt:y,lastLoginAt:v});return x&&Array.isArray(x)&&(A.providerData=x.map(k=>Object.assign({},k))),g&&(A._redirectEventId=g),A}static async _fromIdTokenResponse(t,n,r=!1){const i=new q1;i.updateFromServerResponse(n);const o=new ud({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await FD(o),o}static async _fromGetAccountInfoResponse(t,n,r){const i=n.users[0];Rn(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?xwe(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new q1;a.updateFromIdToken(r);const l=new ud({uid:i.localId,auth:t,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new zj(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oie=new Map;function np(e){Mp(e instanceof Function,"Expected a class definition");let t=Oie.get(e);return t?(Mp(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Oie.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _we{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}_we.type="NONE";const Lie=_we;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(e,t,n){return`firebase:${e}:${t}:${n}`}class G1{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=FI(this.userKey,i.apiKey,o),this.fullPersistenceKey=FI("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await LD(this.auth,{idToken:t}).catch(()=>{});return n?ud._fromGetAccountInfoResponse(this.auth,n,t):null}return ud._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new G1(np(Lie),t,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||np(Lie);const s=FI(r,t.config.apiKey,t.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){let d;if(typeof c=="string"){const f=await LD(t,{idToken:c}).catch(()=>{});if(!f)break;d=await ud._fromGetAccountInfoResponse(t,f,c)}else d=ud._fromJSON(t,c);u!==o&&(a=d),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new G1(o,t,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new G1(o,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fie(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Cwe(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ewe(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(kwe(t))return"Blackberry";if(Iwe(t))return"Webos";if(Swe(t))return"Safari";if((t.includes("chrome/")||Twe(t))&&!t.includes("edge/"))return"Chrome";if(Awe(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Ewe(e=$a()){return/firefox\//i.test(e)}function Swe(e=$a()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Twe(e=$a()){return/crios\//i.test(e)}function Cwe(e=$a()){return/iemobile/i.test(e)}function Awe(e=$a()){return/android/i.test(e)}function kwe(e=$a()){return/blackberry/i.test(e)}function Iwe(e=$a()){return/webos/i.test(e)}function RW(e=$a()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Jnt(e=$a()){var t;return RW(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function Znt(){return YKe()&&document.documentMode===10}function Rwe(e=$a()){return RW(e)||Awe(e)||Iwe(e)||kwe(e)||/windows phone/i.test(e)||Cwe(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dwe(e,t=[]){let n;switch(e){case"Browser":n=Fie($a());break;case"Worker":n=`${Fie($a())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Vv}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ert{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=o=>new Promise((s,a)=>{try{const l=t(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function trt(e,t={}){return Vx(e,"GET","/v2/passwordPolicy",aN(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nrt=6;class rrt{constructor(t){var n,r,i,o;const s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:nrt,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class irt{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bie(this),this.idTokenSubscription=new Bie(this),this.beforeStateQueue=new ert(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gwe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=np(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await G1.create(this,t),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await LD(this,{idToken:t}),r=await ud._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(gu(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(t);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Rn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await FD(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Bnt()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(gu(this.app))return Promise.reject(gg(this));const n=t?di(t):null;return n&&Rn(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Rn(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return gu(this.app)?Promise.reject(gg(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return gu(this.app)?Promise.reject(gg(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(np(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await trt(this),n=new rrt(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Lx("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Qnt(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&np(t)||this._popupRedirectResolver;Rn(n,this,"argument-error"),this.redirectPersistenceManager=await G1.create(this,[np(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Rn(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=t.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Rn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Dwe(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;if(gu(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&Nnt(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function rA(e){return di(e)}class Bie{constructor(t){this.auth=t,this.observer=null,this.addObserver=tXe(n=>this.observer=n)}get next(){return Rn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let DW={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ort(e){DW=e}function srt(e){return DW.loadJS(e)}function art(){return DW.gapiScript}function lrt(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function urt(e,t){const n=Fx(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Ky(o,t??{}))return i;Wf(i,"already-initialized")}return n.initialize({options:t})}function crt(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(np);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function drt(e,t,n){const r=rA(e);Rn(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!1,o=$we(t),{host:s,port:a}=frt(t),l=a===null?"":`:${a}`,u={url:`${o}//${s}${l}/`},c=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Rn(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Rn(Ky(u,r.config.emulator)&&Ky(c,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,hrt()}function $we(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function frt(e){const t=$we(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:jie(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:jie(s)}}}function jie(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function hrt(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mwe{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return tp("not implemented")}_getIdTokenResponse(t){return tp("not implemented")}_linkToIdToken(t,n){return tp("not implemented")}_getReauthenticationResolver(t){return tp("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y1(e,t){return bwe(e,"POST","/v1/accounts:signInWithIdp",aN(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const prt="http://localhost";class Zy extends Mwe{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Zy(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Wf("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,o=TC(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Zy(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(t){const n=this.buildRequest();return Y1(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Y1(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Y1(t,n)}buildRequest(){const t={requestUri:prt,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=qC(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $W{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA extends $W{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm extends iA{constructor(){super("facebook.com")}static credential(t){return Zy._fromParams({providerId:Gm.PROVIDER_ID,signInMethod:Gm.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Gm.credentialFromTaggedObject(t)}static credentialFromError(t){return Gm.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Gm.credential(t.oauthAccessToken)}catch{return null}}}Gm.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gm.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh extends iA{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Zy._fromParams({providerId:Kh.PROVIDER_ID,signInMethod:Kh.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Kh.credentialFromTaggedObject(t)}static credentialFromError(t){return Kh.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Kh.credential(n,r)}catch{return null}}}Kh.GOOGLE_SIGN_IN_METHOD="google.com";Kh.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym extends iA{constructor(){super("github.com")}static credential(t){return Zy._fromParams({providerId:Ym.PROVIDER_ID,signInMethod:Ym.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ym.credentialFromTaggedObject(t)}static credentialFromError(t){return Ym.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ym.credential(t.oauthAccessToken)}catch{return null}}}Ym.GITHUB_SIGN_IN_METHOD="github.com";Ym.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km extends iA{constructor(){super("twitter.com")}static credential(t,n){return Zy._fromParams({providerId:Km.PROVIDER_ID,signInMethod:Km.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Km.credentialFromTaggedObject(t)}static credentialFromError(t){return Km.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Km.credential(n,r)}catch{return null}}}Km.TWITTER_SIGN_IN_METHOD="twitter.com";Km.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mrt(e,t){return bwe(e,"POST","/v1/accounts:signUp",aN(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const o=await ud._fromIdTokenResponse(t,r,i),s=zie(r);return new Dg({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=zie(r);return new Dg({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function zie(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function grt(e){var t;if(gu(e.app))return Promise.reject(gg(e));const n=rA(e);if(await n._initializationPromise,!((t=n.currentUser)===null||t===void 0)&&t.isAnonymous)return new Dg({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await mrt(n,{returnSecureToken:!0}),i=await Dg._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD extends lh{constructor(t,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,BD.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new BD(t,n,r,i)}}function Pwe(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?BD._fromErrorAndOperation(e,o,t,r):o})}async function yrt(e,t,n=!1){const r=await $T(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Dg._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vrt(e,t,n=!1){const{auth:r}=e;if(gu(r.app))return Promise.reject(gg(r));const i="reauthenticate";try{const o=await $T(e,Pwe(r,i,t,e),n);Rn(o.idToken,r,"internal-error");const s=IW(o.idToken);Rn(s,r,"internal-error");const{sub:a}=s;return Rn(e.uid===a,r,"user-mismatch"),Dg._forOperation(e,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Wf(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function brt(e,t,n=!1){if(gu(e.app))return Promise.reject(gg(e));const r="signIn",i=await Pwe(e,r,t),o=await Dg._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}function wrt(e,t,n,r){return di(e).onIdTokenChanged(t,n,r)}function xrt(e,t,n){return di(e).beforeAuthStateChanged(t,n)}function _rt(e,t,n,r){return di(e).onAuthStateChanged(t,n,r)}function Ert(e){return di(e).signOut()}const jD="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nwe{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jD,"1"),this.storage.removeItem(jD),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Srt=1e3,Trt=10;class Owe extends Nwe{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Rwe(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=t.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);Znt()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,Trt):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},Srt)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Owe.type="LOCAL";const Crt=Owe;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lwe extends Nwe{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}Lwe.type="SESSION";const Fwe=Lwe;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Art(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new lN(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await Art(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lN.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MW(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class krt{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=MW("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(f.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function If(){return window}function Irt(e){If().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bwe(){return typeof If().WorkerGlobalScope<"u"&&typeof If().importScripts=="function"}async function Rrt(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Drt(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function $rt(){return Bwe()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jwe="firebaseLocalStorageDb",Mrt=1,zD="firebaseLocalStorage",zwe="fbase_key";class oA{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function uN(e,t){return e.transaction([zD],t?"readwrite":"readonly").objectStore(zD)}function Prt(){const e=indexedDB.deleteDatabase(jwe);return new oA(e).toPromise()}function Uj(){const e=indexedDB.open(jwe,Mrt);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(zD,{keyPath:zwe})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(zD)?t(r):(r.close(),await Prt(),t(await Uj()))})})}async function Uie(e,t,n){const r=uN(e,!0).put({[zwe]:t,value:n});return new oA(r).toPromise()}async function Nrt(e,t){const n=uN(e,!1).get(t),r=await new oA(n).toPromise();return r===void 0?null:r.value}function Hie(e,t){const n=uN(e,!0).delete(t);return new oA(n).toPromise()}const Ort=800,Lrt=3;class Uwe{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Uj(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>Lrt)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Bwe()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lN._getInstance($rt()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await Rrt(),!this.activeServiceWorker)return;this.sender=new krt(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Drt()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Uj();return await Uie(t,jD,"1"),await Hie(t,jD),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Uie(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>Nrt(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Hie(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const o=uN(i,!1).getAll();return new oA(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:o}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ort)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Uwe.type="LOCAL";const Frt=Uwe;new nA(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hwe(e,t){return t?np(t):(Rn(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PW extends Mwe{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Y1(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Y1(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Y1(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function Brt(e){return brt(e.auth,new PW(e),e.bypassAuthState)}function jrt(e){const{auth:t,user:n}=e;return Rn(n,t,"internal-error"),vrt(n,new PW(e),e.bypassAuthState)}async function zrt(e){const{auth:t,user:n}=e;return Rn(n,t,"internal-error"),yrt(n,new PW(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vwe{constructor(t,n,r,i,o=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=t;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Brt;case"linkViaPopup":case"linkViaRedirect":return zrt;case"reauthViaPopup":case"reauthViaRedirect":return jrt;default:Wf(this.auth,"internal-error")}}resolve(t){Mp(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Mp(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Urt=new nA(2e3,1e4);async function Hrt(e,t,n){if(gu(e.app))return Promise.reject(yd(e,"operation-not-supported-in-this-environment"));const r=rA(e);Ont(e,t,$W);const i=Hwe(r,n);return new Ay(r,"signInViaPopup",t,i).executeNotNull()}class Ay extends Vwe{constructor(t,n,r,i,o){super(t,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Ay.currentPopupAction&&Ay.currentPopupAction.cancel(),Ay.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Rn(t,this.auth,"internal-error"),t}async onExecution(){Mp(this.filter.length===1,"Popup operations only handle one event");const t=MW();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(yd(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(yd(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ay.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yd(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Urt.get())};t()}}Ay.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vrt="pendingRedirect",BI=new Map;class Wrt extends Vwe{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=BI.get(this.auth._key());if(!t){try{const r=await qrt(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}BI.set(this.auth._key(),t)}return this.bypassAuthState||BI.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qrt(e,t){const n=Krt(t),r=Yrt(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Grt(e,t){BI.set(e._key(),t)}function Yrt(e){return np(e._redirectPersistence)}function Krt(e){return FI(Vrt,e.config.apiKey,e.name)}async function Xrt(e,t,n=!1){if(gu(e.app))return Promise.reject(gg(e));const r=rA(e),i=Hwe(r,t),s=await new Wrt(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qrt=10*60*1e3;class Jrt{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Zrt(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!Wwe(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(yd(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Qrt&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vie(t))}saveEventToCache(t){this.cachedEventUids.add(Vie(t)),this.lastProcessedEventTime=Date.now()}}function Vie(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function Wwe({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Zrt(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Wwe(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eit(e,t={}){return Vx(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tit=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nit=/^https?/;async function rit(e){if(e.config.emulator)return;const{authorizedDomains:t}=await eit(e);for(const n of t)try{if(iit(n))return}catch{}Wf(e,"unauthorized-domain")}function iit(e){const t=jj(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return s.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!nit.test(n))return!1;if(tit.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oit=new nA(3e4,6e4);function Wie(){const e=If().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function sit(e){return new Promise((t,n)=>{var r,i,o;function s(){Wie(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Wie(),n(yd(e,"network-request-failed"))},timeout:oit.get()})}if(!((i=(r=If().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((o=If().gapi)===null||o===void 0)&&o.load)s();else{const a=lrt("iframefcb");return If()[a]=()=>{gapi.load?s():n(yd(e,"network-request-failed"))},srt(`${art()}?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw jI=null,t})}let jI=null;function ait(e){return jI=jI||sit(e),jI}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lit=new nA(5e3,15e3),uit="__/auth/iframe",cit="emulator/auth/iframe",dit={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fit=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hit(e){const t=e.config;Rn(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?kW(t,cit):`https://${e.config.authDomain}/${uit}`,r={apiKey:t.apiKey,appName:e.name,v:Vv},i=fit.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${qC(r).slice(1)}`}async function pit(e){const t=await ait(e),n=If().gapi;return Rn(n,e,"internal-error"),t.open({where:document.body,url:hit(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dit,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=yd(e,"network-request-failed"),a=If().setTimeout(()=>{o(s)},lit.get());function l(){If().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mit={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},git=500,yit=600,vit="_blank",bit="http://localhost";class qie{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wit(e,t,n,r=git,i=yit){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},mit),{width:r.toString(),height:i.toString(),top:o,left:s}),u=$a().toLowerCase();n&&(a=Twe(u)?vit:n),Ewe(u)&&(t=t||bit,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(Jnt(u)&&a!=="_self")return xit(t||"",a),new qie(null);const d=window.open(t||"",a,c);Rn(d,e,"popup-blocked");try{d.focus()}catch{}return new qie(d)}function xit(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _it="__/auth/handler",Eit="emulator/auth/handler",Sit=encodeURIComponent("fac");async function Gie(e,t,n,r,i,o){Rn(e.config.authDomain,e,"auth-domain-config-required"),Rn(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Vv,eventId:i};if(t instanceof $W){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",eXe(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,d]of Object.entries({}))s[c]=d}if(t instanceof iA){const c=t.getScopes().filter(d=>d!=="");c.length>0&&(s.scopes=c.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await e._getAppCheckToken(),u=l?`#${Sit}=${encodeURIComponent(l)}`:"";return`${Tit(e)}?${qC(a).slice(1)}${u}`}function Tit({config:e}){return e.emulator?kW(e,Eit):`https://${e.authDomain}/${_it}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I5="webStorageSupport";class Cit{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fwe,this._completeRedirectFn=Xrt,this._overrideRedirectResult=Grt}async _openPopup(t,n,r,i){var o;Mp((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await Gie(t,n,r,jj(),i);return wit(t,s,MW())}async _openRedirect(t,n,r,i){await this._originValidation(t);const o=await Gie(t,n,r,jj(),i);return Irt(o),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Mp(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await pit(t),r=new Jrt(t);return n.register("authEvent",i=>(Rn(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(I5,{type:I5},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[I5];s!==void 0&&n(!!s),Wf(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=rit(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Rwe()||Swe()||RW()}}const qwe=Cit;var Yie="@firebase/auth",Kie="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ait{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Rn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kit(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Iit(e){Rp(new Uf("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Rn(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Dwe(e)},u=new irt(r,i,o,l);return crt(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Rp(new Uf("auth-internal",t=>{const n=rA(t.getProvider("auth").getImmediate());return(r=>new Ait(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),gd(Yie,Kie,kit(e)),gd(Yie,Kie,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rit=5*60,Dit=tbe("authIdTokenMaxAge")||Rit;let Xie=null;const $it=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Dit)return;const i=n==null?void 0:n.token;Xie!==i&&(Xie=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function UD(e=RV()){const t=Fx(e,"auth");if(t.isInitialized())return t.getImmediate();const n=urt(e,{popupRedirectResolver:qwe,persistence:[Frt,Crt,Fwe]}),r=tbe("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=$it(o.toString());xrt(n,s,()=>s(n.currentUser)),wrt(n,a=>s(a))}}const i=Zve("auth");return i&&drt(n,`http://${i}`),n}function Mit(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}ort({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const o=yd("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",Mit().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Iit("Browser");function KE(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var R5={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/var Qie;function Pit(){return Qie||(Qie=1,function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,o){function s(u,c){if(!i[u]){if(!r[u]){var d=typeof KE=="function"&&KE;if(!c&&d)return d(u,!0);if(a)return a(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var h=i[u]={exports:{}};r[u][0].call(h.exports,function(p){var m=r[u][1][p];return s(m||p)},h,h.exports,n,r,i,o)}return i[u].exports}for(var a=typeof KE=="function"&&KE,l=0;l<o.length;l++)s(o[l]);return s}({1:[function(n,r,i){(function(o){var s=o.MutationObserver||o.WebKitMutationObserver,a;if(s){var l=0,u=new s(p),c=o.document.createTextNode("");u.observe(c,{characterData:!0}),a=function(){c.data=l=++l%2}}else if(!o.setImmediate&&typeof o.MessageChannel<"u"){var d=new o.MessageChannel;d.port1.onmessage=p,a=function(){d.port2.postMessage(0)}}else"document"in o&&"onreadystatechange"in o.document.createElement("script")?a=function(){var g=o.document.createElement("script");g.onreadystatechange=function(){p(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},o.document.documentElement.appendChild(g)}:a=function(){setTimeout(p,0)};var f,h=[];function p(){f=!0;for(var g,y,v=h.length;v;){for(y=h,h=[],g=-1;++g<v;)y[g]();v=h.length}f=!1}r.exports=m;function m(g){h.push(g)===1&&!f&&a()}}).call(this,typeof Ur<"u"?Ur:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var o=n(1);function s(){}var a={},l=["REJECTED"],u=["FULFILLED"],c=["PENDING"];r.exports=d;function d(_){if(typeof _!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,_!==s&&m(this,_)}d.prototype.catch=function(_){return this.then(null,_)},d.prototype.then=function(_,x){if(typeof _!="function"&&this.state===u||typeof x!="function"&&this.state===l)return this;var S=new this.constructor(s);if(this.state!==c){var C=this.state===u?_:x;h(S,C,this.outcome)}else this.queue.push(new f(S,_,x));return S};function f(_,x,S){this.promise=_,typeof x=="function"&&(this.onFulfilled=x,this.callFulfilled=this.otherCallFulfilled),typeof S=="function"&&(this.onRejected=S,this.callRejected=this.otherCallRejected)}f.prototype.callFulfilled=function(_){a.resolve(this.promise,_)},f.prototype.otherCallFulfilled=function(_){h(this.promise,this.onFulfilled,_)},f.prototype.callRejected=function(_){a.reject(this.promise,_)},f.prototype.otherCallRejected=function(_){h(this.promise,this.onRejected,_)};function h(_,x,S){o(function(){var C;try{C=x(S)}catch(A){return a.reject(_,A)}C===_?a.reject(_,new TypeError("Cannot resolve promise with itself")):a.resolve(_,C)})}a.resolve=function(_,x){var S=g(p,x);if(S.status==="error")return a.reject(_,S.value);var C=S.value;if(C)m(_,C);else{_.state=u,_.outcome=x;for(var A=-1,k=_.queue.length;++A<k;)_.queue[A].callFulfilled(x)}return _},a.reject=function(_,x){_.state=l,_.outcome=x;for(var S=-1,C=_.queue.length;++S<C;)_.queue[S].callRejected(x);return _};function p(_){var x=_&&_.then;if(_&&(typeof _=="object"||typeof _=="function")&&typeof x=="function")return function(){x.apply(_,arguments)}}function m(_,x){var S=!1;function C(M){S||(S=!0,a.reject(_,M))}function A(M){S||(S=!0,a.resolve(_,M))}function k(){x(A,C)}var N=g(k);N.status==="error"&&C(N.value)}function g(_,x){var S={};try{S.value=_(x),S.status="success"}catch(C){S.status="error",S.value=C}return S}d.resolve=y;function y(_){return _ instanceof this?_:a.resolve(new this(s),_)}d.reject=v;function v(_){var x=new this(s);return a.reject(x,_)}d.all=w;function w(_){var x=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=_.length,C=!1;if(!S)return this.resolve([]);for(var A=new Array(S),k=0,N=-1,M=new this(s);++N<S;)I(_[N],N);return M;function I(D,R){x.resolve(D).then(O,function(B){C||(C=!0,a.reject(M,B))});function O(B){A[R]=B,++k===S&&!C&&(C=!0,a.resolve(M,A))}}}d.race=E;function E(_){var x=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=_.length,C=!1;if(!S)return this.resolve([]);for(var A=-1,k=new this(s);++A<S;)N(_[A]);return k;function N(M){x.resolve(M).then(function(I){C||(C=!0,a.resolve(k,I))},function(I){C||(C=!0,a.reject(k,I))})}}},{1:1}],3:[function(n,r,i){(function(o){typeof o.Promise!="function"&&(o.Promise=n(2))}).call(this,typeof Ur<"u"?Ur:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(le){return typeof le}:function(le){return le&&typeof Symbol=="function"&&le.constructor===Symbol&&le!==Symbol.prototype?"symbol":typeof le};function s(le,we){if(!(le instanceof we))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var l=a();function u(){try{if(!l||!l.open)return!1;var le=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),we=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!le||we)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function c(le,we){le=le||[],we=we||{};try{return new Blob(le,we)}catch(Ce){if(Ce.name!=="TypeError")throw Ce;for(var pe=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,ke=new pe,Re=0;Re<le.length;Re+=1)ke.append(le[Re]);return ke.getBlob(we.type)}}typeof Promise>"u"&&n(3);var d=Promise;function f(le,we){we&&le.then(function(pe){we(null,pe)},function(pe){we(pe)})}function h(le,we,pe){typeof we=="function"&&le.then(we),typeof pe=="function"&&le.catch(pe)}function p(le){return typeof le!="string"&&(console.warn(le+" used as a key, but it is not a string."),le=String(le)),le}function m(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var g="local-forage-detect-blob-support",y=void 0,v={},w=Object.prototype.toString,E="readonly",_="readwrite";function x(le){for(var we=le.length,pe=new ArrayBuffer(we),ke=new Uint8Array(pe),Re=0;Re<we;Re++)ke[Re]=le.charCodeAt(Re);return pe}function S(le){return new d(function(we){var pe=le.transaction(g,_),ke=c([""]);pe.objectStore(g).put(ke,"key"),pe.onabort=function(Re){Re.preventDefault(),Re.stopPropagation(),we(!1)},pe.oncomplete=function(){var Re=navigator.userAgent.match(/Chrome\/(\d+)/),Ce=navigator.userAgent.match(/Edge\//);we(Ce||!Re||parseInt(Re[1],10)>=43)}}).catch(function(){return!1})}function C(le){return typeof y=="boolean"?d.resolve(y):S(le).then(function(we){return y=we,y})}function A(le){var we=v[le.name],pe={};pe.promise=new d(function(ke,Re){pe.resolve=ke,pe.reject=Re}),we.deferredOperations.push(pe),we.dbReady?we.dbReady=we.dbReady.then(function(){return pe.promise}):we.dbReady=pe.promise}function k(le){var we=v[le.name],pe=we.deferredOperations.pop();if(pe)return pe.resolve(),pe.promise}function N(le,we){var pe=v[le.name],ke=pe.deferredOperations.pop();if(ke)return ke.reject(we),ke.promise}function M(le,we){return new d(function(pe,ke){if(v[le.name]=v[le.name]||Y(),le.db)if(we)A(le),le.db.close();else return pe(le.db);var Re=[le.name];we&&Re.push(le.version);var Ce=l.open.apply(l,Re);we&&(Ce.onupgradeneeded=function(Ge){var st=Ce.result;try{st.createObjectStore(le.storeName),Ge.oldVersion<=1&&st.createObjectStore(g)}catch(ut){if(ut.name==="ConstraintError")console.warn('The database "'+le.name+'" has been upgraded from version '+Ge.oldVersion+" to version "+Ge.newVersion+', but the storage "'+le.storeName+'" already exists.');else throw ut}}),Ce.onerror=function(Ge){Ge.preventDefault(),ke(Ce.error)},Ce.onsuccess=function(){var Ge=Ce.result;Ge.onversionchange=function(st){st.target.close()},pe(Ge),k(le)}})}function I(le){return M(le,!1)}function D(le){return M(le,!0)}function R(le,we){if(!le.db)return!0;var pe=!le.db.objectStoreNames.contains(le.storeName),ke=le.version<le.db.version,Re=le.version>le.db.version;if(ke&&(le.version!==we&&console.warn('The database "'+le.name+`" can't be downgraded from version `+le.db.version+" to version "+le.version+"."),le.version=le.db.version),Re||pe){if(pe){var Ce=le.db.version+1;Ce>le.version&&(le.version=Ce)}return!0}return!1}function O(le){return new d(function(we,pe){var ke=new FileReader;ke.onerror=pe,ke.onloadend=function(Re){var Ce=btoa(Re.target.result||"");we({__local_forage_encoded_blob:!0,data:Ce,type:le.type})},ke.readAsBinaryString(le)})}function B(le){var we=x(atob(le.data));return c([we],{type:le.type})}function z(le){return le&&le.__local_forage_encoded_blob}function W(le){var we=this,pe=we._initReady().then(function(){var ke=v[we._dbInfo.name];if(ke&&ke.dbReady)return ke.dbReady});return h(pe,le,le),pe}function U(le){A(le);for(var we=v[le.name],pe=we.forages,ke=0;ke<pe.length;ke++){var Re=pe[ke];Re._dbInfo.db&&(Re._dbInfo.db.close(),Re._dbInfo.db=null)}return le.db=null,I(le).then(function(Ce){return le.db=Ce,R(le)?D(le):Ce}).then(function(Ce){le.db=we.db=Ce;for(var Ge=0;Ge<pe.length;Ge++)pe[Ge]._dbInfo.db=Ce}).catch(function(Ce){throw N(le,Ce),Ce})}function F(le,we,pe,ke){ke===void 0&&(ke=1);try{var Re=le.db.transaction(le.storeName,we);pe(null,Re)}catch(Ce){if(ke>0&&(!le.db||Ce.name==="InvalidStateError"||Ce.name==="NotFoundError"))return d.resolve().then(function(){if(!le.db||Ce.name==="NotFoundError"&&!le.db.objectStoreNames.contains(le.storeName)&&le.version<=le.db.version)return le.db&&(le.version=le.db.version+1),D(le)}).then(function(){return U(le).then(function(){F(le,we,pe,ke-1)})}).catch(pe);pe(Ce)}}function Y(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function V(le){var we=this,pe={db:null};if(le)for(var ke in le)pe[ke]=le[ke];var Re=v[pe.name];Re||(Re=Y(),v[pe.name]=Re),Re.forages.push(we),we._initReady||(we._initReady=we.ready,we.ready=W);var Ce=[];function Ge(){return d.resolve()}for(var st=0;st<Re.forages.length;st++){var ut=Re.forages[st];ut!==we&&Ce.push(ut._initReady().catch(Ge))}var lt=Re.forages.slice(0);return d.all(Ce).then(function(){return pe.db=Re.db,I(pe)}).then(function(_t){return pe.db=_t,R(pe,we._defaultConfig.version)?D(pe):_t}).then(function(_t){pe.db=Re.db=_t,we._dbInfo=pe;for(var zt=0;zt<lt.length;zt++){var _n=lt[zt];_n!==we&&(_n._dbInfo.db=pe.db,_n._dbInfo.version=pe.version)}})}function G(le,we){var pe=this;le=p(le);var ke=new d(function(Re,Ce){pe.ready().then(function(){F(pe._dbInfo,E,function(Ge,st){if(Ge)return Ce(Ge);try{var ut=st.objectStore(pe._dbInfo.storeName),lt=ut.get(le);lt.onsuccess=function(){var _t=lt.result;_t===void 0&&(_t=null),z(_t)&&(_t=B(_t)),Re(_t)},lt.onerror=function(){Ce(lt.error)}}catch(_t){Ce(_t)}})}).catch(Ce)});return f(ke,we),ke}function X(le,we){var pe=this,ke=new d(function(Re,Ce){pe.ready().then(function(){F(pe._dbInfo,E,function(Ge,st){if(Ge)return Ce(Ge);try{var ut=st.objectStore(pe._dbInfo.storeName),lt=ut.openCursor(),_t=1;lt.onsuccess=function(){var zt=lt.result;if(zt){var _n=zt.value;z(_n)&&(_n=B(_n));var en=le(_n,zt.key,_t++);en!==void 0?Re(en):zt.continue()}else Re()},lt.onerror=function(){Ce(lt.error)}}catch(zt){Ce(zt)}})}).catch(Ce)});return f(ke,we),ke}function Z(le,we,pe){var ke=this;le=p(le);var Re=new d(function(Ce,Ge){var st;ke.ready().then(function(){return st=ke._dbInfo,w.call(we)==="[object Blob]"?C(st.db).then(function(ut){return ut?we:O(we)}):we}).then(function(ut){F(ke._dbInfo,_,function(lt,_t){if(lt)return Ge(lt);try{var zt=_t.objectStore(ke._dbInfo.storeName);ut===null&&(ut=void 0);var _n=zt.put(ut,le);_t.oncomplete=function(){ut===void 0&&(ut=null),Ce(ut)},_t.onabort=_t.onerror=function(){var en=_n.error?_n.error:_n.transaction.error;Ge(en)}}catch(en){Ge(en)}})}).catch(Ge)});return f(Re,pe),Re}function oe(le,we){var pe=this;le=p(le);var ke=new d(function(Re,Ce){pe.ready().then(function(){F(pe._dbInfo,_,function(Ge,st){if(Ge)return Ce(Ge);try{var ut=st.objectStore(pe._dbInfo.storeName),lt=ut.delete(le);st.oncomplete=function(){Re()},st.onerror=function(){Ce(lt.error)},st.onabort=function(){var _t=lt.error?lt.error:lt.transaction.error;Ce(_t)}}catch(_t){Ce(_t)}})}).catch(Ce)});return f(ke,we),ke}function ne(le){var we=this,pe=new d(function(ke,Re){we.ready().then(function(){F(we._dbInfo,_,function(Ce,Ge){if(Ce)return Re(Ce);try{var st=Ge.objectStore(we._dbInfo.storeName),ut=st.clear();Ge.oncomplete=function(){ke()},Ge.onabort=Ge.onerror=function(){var lt=ut.error?ut.error:ut.transaction.error;Re(lt)}}catch(lt){Re(lt)}})}).catch(Re)});return f(pe,le),pe}function ie(le){var we=this,pe=new d(function(ke,Re){we.ready().then(function(){F(we._dbInfo,E,function(Ce,Ge){if(Ce)return Re(Ce);try{var st=Ge.objectStore(we._dbInfo.storeName),ut=st.count();ut.onsuccess=function(){ke(ut.result)},ut.onerror=function(){Re(ut.error)}}catch(lt){Re(lt)}})}).catch(Re)});return f(pe,le),pe}function fe(le,we){var pe=this,ke=new d(function(Re,Ce){if(le<0){Re(null);return}pe.ready().then(function(){F(pe._dbInfo,E,function(Ge,st){if(Ge)return Ce(Ge);try{var ut=st.objectStore(pe._dbInfo.storeName),lt=!1,_t=ut.openKeyCursor();_t.onsuccess=function(){var zt=_t.result;if(!zt){Re(null);return}le===0||lt?Re(zt.key):(lt=!0,zt.advance(le))},_t.onerror=function(){Ce(_t.error)}}catch(zt){Ce(zt)}})}).catch(Ce)});return f(ke,we),ke}function se(le){var we=this,pe=new d(function(ke,Re){we.ready().then(function(){F(we._dbInfo,E,function(Ce,Ge){if(Ce)return Re(Ce);try{var st=Ge.objectStore(we._dbInfo.storeName),ut=st.openKeyCursor(),lt=[];ut.onsuccess=function(){var _t=ut.result;if(!_t){ke(lt);return}lt.push(_t.key),_t.continue()},ut.onerror=function(){Re(ut.error)}}catch(_t){Re(_t)}})}).catch(Re)});return f(pe,le),pe}function ae(le,we){we=m.apply(this,arguments);var pe=this.config();le=typeof le!="function"&&le||{},le.name||(le.name=le.name||pe.name,le.storeName=le.storeName||pe.storeName);var ke=this,Re;if(!le.name)Re=d.reject("Invalid arguments");else{var Ce=le.name===pe.name&&ke._dbInfo.db,Ge=Ce?d.resolve(ke._dbInfo.db):I(le).then(function(st){var ut=v[le.name],lt=ut.forages;ut.db=st;for(var _t=0;_t<lt.length;_t++)lt[_t]._dbInfo.db=st;return st});le.storeName?Re=Ge.then(function(st){if(st.objectStoreNames.contains(le.storeName)){var ut=st.version+1;A(le);var lt=v[le.name],_t=lt.forages;st.close();for(var zt=0;zt<_t.length;zt++){var _n=_t[zt];_n._dbInfo.db=null,_n._dbInfo.version=ut}var en=new d(function(On,Qt){var Hn=l.open(le.name,ut);Hn.onerror=function(so){var ta=Hn.result;ta.close(),Qt(so)},Hn.onupgradeneeded=function(){var so=Hn.result;so.deleteObjectStore(le.storeName)},Hn.onsuccess=function(){var so=Hn.result;so.close(),On(so)}});return en.then(function(On){lt.db=On;for(var Qt=0;Qt<_t.length;Qt++){var Hn=_t[Qt];Hn._dbInfo.db=On,k(Hn._dbInfo)}}).catch(function(On){throw(N(le,On)||d.resolve()).catch(function(){}),On})}}):Re=Ge.then(function(st){A(le);var ut=v[le.name],lt=ut.forages;st.close();for(var _t=0;_t<lt.length;_t++){var zt=lt[_t];zt._dbInfo.db=null}var _n=new d(function(en,On){var Qt=l.deleteDatabase(le.name);Qt.onerror=function(){var Hn=Qt.result;Hn&&Hn.close(),On(Qt.error)},Qt.onblocked=function(){console.warn('dropInstance blocked for database "'+le.name+'" until all open connections are closed')},Qt.onsuccess=function(){var Hn=Qt.result;Hn&&Hn.close(),en(Hn)}});return _n.then(function(en){ut.db=en;for(var On=0;On<lt.length;On++){var Qt=lt[On];k(Qt._dbInfo)}}).catch(function(en){throw(N(le,en)||d.resolve()).catch(function(){}),en})})}return f(Re,we),Re}var Se={_driver:"asyncStorage",_initStorage:V,_support:u(),iterate:X,getItem:G,setItem:Z,removeItem:oe,clear:ne,length:ie,key:fe,keys:se,dropInstance:ae};function Te(){return typeof openDatabase=="function"}var Oe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",We="~~local_forage_type~",Fe=/^~~local_forage_type~([^~]+)~/,Ue="__lfsc__:",rt=Ue.length,at="arbf",ct="blob",vt="si08",gt="ui08",Ze="uic8",Tt="si16",ue="si32",xe="ur16",$e="ui32",Ye="fl32",tt="fl64",Et=rt+at.length,an=Object.prototype.toString;function ln(le){var we=le.length*.75,pe=le.length,ke,Re=0,Ce,Ge,st,ut;le[le.length-1]==="="&&(we--,le[le.length-2]==="="&&we--);var lt=new ArrayBuffer(we),_t=new Uint8Array(lt);for(ke=0;ke<pe;ke+=4)Ce=Oe.indexOf(le[ke]),Ge=Oe.indexOf(le[ke+1]),st=Oe.indexOf(le[ke+2]),ut=Oe.indexOf(le[ke+3]),_t[Re++]=Ce<<2|Ge>>4,_t[Re++]=(Ge&15)<<4|st>>2,_t[Re++]=(st&3)<<6|ut&63;return lt}function Wt(le){var we=new Uint8Array(le),pe="",ke;for(ke=0;ke<we.length;ke+=3)pe+=Oe[we[ke]>>2],pe+=Oe[(we[ke]&3)<<4|we[ke+1]>>4],pe+=Oe[(we[ke+1]&15)<<2|we[ke+2]>>6],pe+=Oe[we[ke+2]&63];return we.length%3===2?pe=pe.substring(0,pe.length-1)+"=":we.length%3===1&&(pe=pe.substring(0,pe.length-2)+"=="),pe}function Dt(le,we){var pe="";if(le&&(pe=an.call(le)),le&&(pe==="[object ArrayBuffer]"||le.buffer&&an.call(le.buffer)==="[object ArrayBuffer]")){var ke,Re=Ue;le instanceof ArrayBuffer?(ke=le,Re+=at):(ke=le.buffer,pe==="[object Int8Array]"?Re+=vt:pe==="[object Uint8Array]"?Re+=gt:pe==="[object Uint8ClampedArray]"?Re+=Ze:pe==="[object Int16Array]"?Re+=Tt:pe==="[object Uint16Array]"?Re+=xe:pe==="[object Int32Array]"?Re+=ue:pe==="[object Uint32Array]"?Re+=$e:pe==="[object Float32Array]"?Re+=Ye:pe==="[object Float64Array]"?Re+=tt:we(new Error("Failed to get type for BinaryArray"))),we(Re+Wt(ke))}else if(pe==="[object Blob]"){var Ce=new FileReader;Ce.onload=function(){var Ge=We+le.type+"~"+Wt(this.result);we(Ue+ct+Ge)},Ce.readAsArrayBuffer(le)}else try{we(JSON.stringify(le))}catch(Ge){console.error("Couldn't convert value into a JSON string: ",le),we(null,Ge)}}function Ae(le){if(le.substring(0,rt)!==Ue)return JSON.parse(le);var we=le.substring(Et),pe=le.substring(rt,Et),ke;if(pe===ct&&Fe.test(we)){var Re=we.match(Fe);ke=Re[1],we=we.substring(Re[0].length)}var Ce=ln(we);switch(pe){case at:return Ce;case ct:return c([Ce],{type:ke});case vt:return new Int8Array(Ce);case gt:return new Uint8Array(Ce);case Ze:return new Uint8ClampedArray(Ce);case Tt:return new Int16Array(Ce);case xe:return new Uint16Array(Ce);case ue:return new Int32Array(Ce);case $e:return new Uint32Array(Ce);case Ye:return new Float32Array(Ce);case tt:return new Float64Array(Ce);default:throw new Error("Unkown type: "+pe)}}var Qe={serialize:Dt,deserialize:Ae,stringToBuffer:ln,bufferToString:Wt};function Ct(le,we,pe,ke){le.executeSql("CREATE TABLE IF NOT EXISTS "+we.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],pe,ke)}function xn(le){var we=this,pe={db:null};if(le)for(var ke in le)pe[ke]=typeof le[ke]!="string"?le[ke].toString():le[ke];var Re=new d(function(Ce,Ge){try{pe.db=openDatabase(pe.name,String(pe.version),pe.description,pe.size)}catch(st){return Ge(st)}pe.db.transaction(function(st){Ct(st,pe,function(){we._dbInfo=pe,Ce()},function(ut,lt){Ge(lt)})},Ge)});return pe.serializer=Qe,Re}function gr(le,we,pe,ke,Re,Ce){le.executeSql(pe,ke,Re,function(Ge,st){st.code===st.SYNTAX_ERR?Ge.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[we.storeName],function(ut,lt){lt.rows.length?Ce(ut,st):Ct(ut,we,function(){ut.executeSql(pe,ke,Re,Ce)},Ce)},Ce):Ce(Ge,st)},Ce)}function dr(le,we){var pe=this;le=p(le);var ke=new d(function(Re,Ce){pe.ready().then(function(){var Ge=pe._dbInfo;Ge.db.transaction(function(st){gr(st,Ge,"SELECT * FROM "+Ge.storeName+" WHERE key = ? LIMIT 1",[le],function(ut,lt){var _t=lt.rows.length?lt.rows.item(0).value:null;_t&&(_t=Ge.serializer.deserialize(_t)),Re(_t)},function(ut,lt){Ce(lt)})})}).catch(Ce)});return f(ke,we),ke}function ii(le,we){var pe=this,ke=new d(function(Re,Ce){pe.ready().then(function(){var Ge=pe._dbInfo;Ge.db.transaction(function(st){gr(st,Ge,"SELECT * FROM "+Ge.storeName,[],function(ut,lt){for(var _t=lt.rows,zt=_t.length,_n=0;_n<zt;_n++){var en=_t.item(_n),On=en.value;if(On&&(On=Ge.serializer.deserialize(On)),On=le(On,en.key,_n+1),On!==void 0){Re(On);return}}Re()},function(ut,lt){Ce(lt)})})}).catch(Ce)});return f(ke,we),ke}function Rr(le,we,pe,ke){var Re=this;le=p(le);var Ce=new d(function(Ge,st){Re.ready().then(function(){we===void 0&&(we=null);var ut=we,lt=Re._dbInfo;lt.serializer.serialize(we,function(_t,zt){zt?st(zt):lt.db.transaction(function(_n){gr(_n,lt,"INSERT OR REPLACE INTO "+lt.storeName+" (key, value) VALUES (?, ?)",[le,_t],function(){Ge(ut)},function(en,On){st(On)})},function(_n){if(_n.code===_n.QUOTA_ERR){if(ke>0){Ge(Rr.apply(Re,[le,ut,pe,ke-1]));return}st(_n)}})})}).catch(st)});return f(Ce,pe),Ce}function er(le,we,pe){return Rr.apply(this,[le,we,pe,1])}function Es(le,we){var pe=this;le=p(le);var ke=new d(function(Re,Ce){pe.ready().then(function(){var Ge=pe._dbInfo;Ge.db.transaction(function(st){gr(st,Ge,"DELETE FROM "+Ge.storeName+" WHERE key = ?",[le],function(){Re()},function(ut,lt){Ce(lt)})})}).catch(Ce)});return f(ke,we),ke}function Do(le){var we=this,pe=new d(function(ke,Re){we.ready().then(function(){var Ce=we._dbInfo;Ce.db.transaction(function(Ge){gr(Ge,Ce,"DELETE FROM "+Ce.storeName,[],function(){ke()},function(st,ut){Re(ut)})})}).catch(Re)});return f(pe,le),pe}function Ss(le){var we=this,pe=new d(function(ke,Re){we.ready().then(function(){var Ce=we._dbInfo;Ce.db.transaction(function(Ge){gr(Ge,Ce,"SELECT COUNT(key) as c FROM "+Ce.storeName,[],function(st,ut){var lt=ut.rows.item(0).c;ke(lt)},function(st,ut){Re(ut)})})}).catch(Re)});return f(pe,le),pe}function $i(le,we){var pe=this,ke=new d(function(Re,Ce){pe.ready().then(function(){var Ge=pe._dbInfo;Ge.db.transaction(function(st){gr(st,Ge,"SELECT key FROM "+Ge.storeName+" WHERE id = ? LIMIT 1",[le+1],function(ut,lt){var _t=lt.rows.length?lt.rows.item(0).key:null;Re(_t)},function(ut,lt){Ce(lt)})})}).catch(Ce)});return f(ke,we),ke}function Un(le){var we=this,pe=new d(function(ke,Re){we.ready().then(function(){var Ce=we._dbInfo;Ce.db.transaction(function(Ge){gr(Ge,Ce,"SELECT key FROM "+Ce.storeName,[],function(st,ut){for(var lt=[],_t=0;_t<ut.rows.length;_t++)lt.push(ut.rows.item(_t).key);ke(lt)},function(st,ut){Re(ut)})})}).catch(Re)});return f(pe,le),pe}function or(le){return new d(function(we,pe){le.transaction(function(ke){ke.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(Re,Ce){for(var Ge=[],st=0;st<Ce.rows.length;st++)Ge.push(Ce.rows.item(st).name);we({db:le,storeNames:Ge})},function(Re,Ce){pe(Ce)})},function(ke){pe(ke)})})}function $o(le,we){we=m.apply(this,arguments);var pe=this.config();le=typeof le!="function"&&le||{},le.name||(le.name=le.name||pe.name,le.storeName=le.storeName||pe.storeName);var ke=this,Re;return le.name?Re=new d(function(Ce){var Ge;le.name===pe.name?Ge=ke._dbInfo.db:Ge=openDatabase(le.name,"","",0),le.storeName?Ce({db:Ge,storeNames:[le.storeName]}):Ce(or(Ge))}).then(function(Ce){return new d(function(Ge,st){Ce.db.transaction(function(ut){function lt(en){return new d(function(On,Qt){ut.executeSql("DROP TABLE IF EXISTS "+en,[],function(){On()},function(Hn,so){Qt(so)})})}for(var _t=[],zt=0,_n=Ce.storeNames.length;zt<_n;zt++)_t.push(lt(Ce.storeNames[zt]));d.all(_t).then(function(){Ge()}).catch(function(en){st(en)})},function(ut){st(ut)})})}):Re=d.reject("Invalid arguments"),f(Re,we),Re}var yr={_driver:"webSQLStorage",_initStorage:xn,_support:Te(),iterate:ii,getItem:dr,setItem:er,removeItem:Es,clear:Do,length:Ss,key:$i,keys:Un,dropInstance:$o};function Jr(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Ui(le,we){var pe=le.name+"/";return le.storeName!==we.storeName&&(pe+=le.storeName+"/"),pe}function Ei(){var le="_localforage_support_test";try{return localStorage.setItem(le,!0),localStorage.removeItem(le),!1}catch{return!0}}function oi(){return!Ei()||localStorage.length>0}function Zl(le){var we=this,pe={};if(le)for(var ke in le)pe[ke]=le[ke];return pe.keyPrefix=Ui(le,we._defaultConfig),oi()?(we._dbInfo=pe,pe.serializer=Qe,d.resolve()):d.reject()}function Nc(le){var we=this,pe=we.ready().then(function(){for(var ke=we._dbInfo.keyPrefix,Re=localStorage.length-1;Re>=0;Re--){var Ce=localStorage.key(Re);Ce.indexOf(ke)===0&&localStorage.removeItem(Ce)}});return f(pe,le),pe}function La(le,we){var pe=this;le=p(le);var ke=pe.ready().then(function(){var Re=pe._dbInfo,Ce=localStorage.getItem(Re.keyPrefix+le);return Ce&&(Ce=Re.serializer.deserialize(Ce)),Ce});return f(ke,we),ke}function Hu(le,we){var pe=this,ke=pe.ready().then(function(){for(var Re=pe._dbInfo,Ce=Re.keyPrefix,Ge=Ce.length,st=localStorage.length,ut=1,lt=0;lt<st;lt++){var _t=localStorage.key(lt);if(_t.indexOf(Ce)===0){var zt=localStorage.getItem(_t);if(zt&&(zt=Re.serializer.deserialize(zt)),zt=le(zt,_t.substring(Ge),ut++),zt!==void 0)return zt}}});return f(ke,we),ke}function hi(le,we){var pe=this,ke=pe.ready().then(function(){var Re=pe._dbInfo,Ce;try{Ce=localStorage.key(le)}catch{Ce=null}return Ce&&(Ce=Ce.substring(Re.keyPrefix.length)),Ce});return f(ke,we),ke}function kn(le){var we=this,pe=we.ready().then(function(){for(var ke=we._dbInfo,Re=localStorage.length,Ce=[],Ge=0;Ge<Re;Ge++){var st=localStorage.key(Ge);st.indexOf(ke.keyPrefix)===0&&Ce.push(st.substring(ke.keyPrefix.length))}return Ce});return f(pe,le),pe}function to(le){var we=this,pe=we.keys().then(function(ke){return ke.length});return f(pe,le),pe}function eu(le,we){var pe=this;le=p(le);var ke=pe.ready().then(function(){var Re=pe._dbInfo;localStorage.removeItem(Re.keyPrefix+le)});return f(ke,we),ke}function hl(le,we,pe){var ke=this;le=p(le);var Re=ke.ready().then(function(){we===void 0&&(we=null);var Ce=we;return new d(function(Ge,st){var ut=ke._dbInfo;ut.serializer.serialize(we,function(lt,_t){if(_t)st(_t);else try{localStorage.setItem(ut.keyPrefix+le,lt),Ge(Ce)}catch(zt){(zt.name==="QuotaExceededError"||zt.name==="NS_ERROR_DOM_QUOTA_REACHED")&&st(zt),st(zt)}})})});return f(Re,pe),Re}function pl(le,we){if(we=m.apply(this,arguments),le=typeof le!="function"&&le||{},!le.name){var pe=this.config();le.name=le.name||pe.name,le.storeName=le.storeName||pe.storeName}var ke=this,Re;return le.name?Re=new d(function(Ce){le.storeName?Ce(Ui(le,ke._defaultConfig)):Ce(le.name+"/")}).then(function(Ce){for(var Ge=localStorage.length-1;Ge>=0;Ge--){var st=localStorage.key(Ge);st.indexOf(Ce)===0&&localStorage.removeItem(st)}}):Re=d.reject("Invalid arguments"),f(Re,we),Re}var Vu={_driver:"localStorageWrapper",_initStorage:Zl,_support:Jr(),iterate:Hu,getItem:La,setItem:hl,removeItem:eu,clear:Nc,length:to,key:hi,keys:kn,dropInstance:pl},Mo=function(we,pe){return we===pe||typeof we=="number"&&typeof pe=="number"&&isNaN(we)&&isNaN(pe)},Wd=function(we,pe){for(var ke=we.length,Re=0;Re<ke;){if(Mo(we[Re],pe))return!0;Re++}return!1},tu=Array.isArray||function(le){return Object.prototype.toString.call(le)==="[object Array]"},Gn={},Oc={},no={INDEXEDDB:Se,WEBSQL:yr,LOCALSTORAGE:Vu},Qo=[no.INDEXEDDB._driver,no.WEBSQL._driver,no.LOCALSTORAGE._driver],ro=["dropInstance"],nu=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ro),Ts={description:"",driver:Qo.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ml(le,we){le[we]=function(){var pe=arguments;return le.ready().then(function(){return le[we].apply(le,pe)})}}function io(){for(var le=1;le<arguments.length;le++){var we=arguments[le];if(we)for(var pe in we)we.hasOwnProperty(pe)&&(tu(we[pe])?arguments[0][pe]=we[pe].slice():arguments[0][pe]=we[pe])}return arguments[0]}var qd=function(){function le(we){s(this,le);for(var pe in no)if(no.hasOwnProperty(pe)){var ke=no[pe],Re=ke._driver;this[pe]=Re,Gn[Re]||this.defineDriver(ke)}this._defaultConfig=io({},Ts),this._config=io({},this._defaultConfig,we),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return le.prototype.config=function(pe){if((typeof pe>"u"?"undefined":o(pe))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var ke in pe){if(ke==="storeName"&&(pe[ke]=pe[ke].replace(/\W/g,"_")),ke==="version"&&typeof pe[ke]!="number")return new Error("Database version must be a number.");this._config[ke]=pe[ke]}return"driver"in pe&&pe.driver?this.setDriver(this._config.driver):!0}else return typeof pe=="string"?this._config[pe]:this._config},le.prototype.defineDriver=function(pe,ke,Re){var Ce=new d(function(Ge,st){try{var ut=pe._driver,lt=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!pe._driver){st(lt);return}for(var _t=nu.concat("_initStorage"),zt=0,_n=_t.length;zt<_n;zt++){var en=_t[zt],On=!Wd(ro,en);if((On||pe[en])&&typeof pe[en]!="function"){st(lt);return}}var Qt=function(){for(var ta=function(Po){return function(){var pi=new Error("Method "+Po+" is not implemented by the current driver"),si=d.reject(pi);return f(si,arguments[arguments.length-1]),si}},ao=0,Gd=ro.length;ao<Gd;ao++){var Wu=ro[ao];pe[Wu]||(pe[Wu]=ta(Wu))}};Qt();var Hn=function(ta){Gn[ut]&&console.info("Redefining LocalForage driver: "+ut),Gn[ut]=pe,Oc[ut]=ta,Ge()};"_support"in pe?pe._support&&typeof pe._support=="function"?pe._support().then(Hn,st):Hn(!!pe._support):Hn(!0)}catch(so){st(so)}});return h(Ce,ke,Re),Ce},le.prototype.driver=function(){return this._driver||null},le.prototype.getDriver=function(pe,ke,Re){var Ce=Gn[pe]?d.resolve(Gn[pe]):d.reject(new Error("Driver not found."));return h(Ce,ke,Re),Ce},le.prototype.getSerializer=function(pe){var ke=d.resolve(Qe);return h(ke,pe),ke},le.prototype.ready=function(pe){var ke=this,Re=ke._driverSet.then(function(){return ke._ready===null&&(ke._ready=ke._initDriver()),ke._ready});return h(Re,pe,pe),Re},le.prototype.setDriver=function(pe,ke,Re){var Ce=this;tu(pe)||(pe=[pe]);var Ge=this._getSupportedDrivers(pe);function st(){Ce._config.driver=Ce.driver()}function ut(zt){return Ce._extend(zt),st(),Ce._ready=Ce._initStorage(Ce._config),Ce._ready}function lt(zt){return function(){var _n=0;function en(){for(;_n<zt.length;){var On=zt[_n];return _n++,Ce._dbInfo=null,Ce._ready=null,Ce.getDriver(On).then(ut).catch(en)}st();var Qt=new Error("No available storage method found.");return Ce._driverSet=d.reject(Qt),Ce._driverSet}return en()}}var _t=this._driverSet!==null?this._driverSet.catch(function(){return d.resolve()}):d.resolve();return this._driverSet=_t.then(function(){var zt=Ge[0];return Ce._dbInfo=null,Ce._ready=null,Ce.getDriver(zt).then(function(_n){Ce._driver=_n._driver,st(),Ce._wrapLibraryMethodsWithReady(),Ce._initDriver=lt(Ge)})}).catch(function(){st();var zt=new Error("No available storage method found.");return Ce._driverSet=d.reject(zt),Ce._driverSet}),h(this._driverSet,ke,Re),this._driverSet},le.prototype.supports=function(pe){return!!Oc[pe]},le.prototype._extend=function(pe){io(this,pe)},le.prototype._getSupportedDrivers=function(pe){for(var ke=[],Re=0,Ce=pe.length;Re<Ce;Re++){var Ge=pe[Re];this.supports(Ge)&&ke.push(Ge)}return ke},le.prototype._wrapLibraryMethodsWithReady=function(){for(var pe=0,ke=nu.length;pe<ke;pe++)ml(this,nu[pe])},le.prototype.createInstance=function(pe){return new le(pe)},le}(),oo=new qd;r.exports=oo},{3:3}]},{},[4])(4)})}(R5)),R5.exports}var Nit=Pit();const S1=ul(Nit),Ds=[];for(let e=0;e<256;++e)Ds.push((e+256).toString(16).slice(1));function Oit(e,t=0){return(Ds[e[t+0]]+Ds[e[t+1]]+Ds[e[t+2]]+Ds[e[t+3]]+"-"+Ds[e[t+4]]+Ds[e[t+5]]+"-"+Ds[e[t+6]]+Ds[e[t+7]]+"-"+Ds[e[t+8]]+Ds[e[t+9]]+"-"+Ds[e[t+10]]+Ds[e[t+11]]+Ds[e[t+12]]+Ds[e[t+13]]+Ds[e[t+14]]+Ds[e[t+15]]).toLowerCase()}let D5;const Lit=new Uint8Array(16);function Fit(){if(!D5){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");D5=crypto.getRandomValues.bind(crypto)}return D5(Lit)}const Bit=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Jie={randomUUID:Bit};function HD(e,t,n){var i;if(Jie.randomUUID&&!e)return Jie.randomUUID();e=e||{};const r=e.random??((i=e.rng)==null?void 0:i.call(e))??Fit();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Oit(r)}var $5,Zie;function jit(){if(Zie)return $5;Zie=1;var e="Expected a function",t=NaN,n="[object Symbol]",r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt,l=typeof Ur=="object"&&Ur&&Ur.Object===Object&&Ur,u=typeof self=="object"&&self&&self.Object===Object&&self,c=l||u||Function("return this")(),d=Object.prototype,f=d.toString,h=Math.max,p=Math.min,m=function(){return c.Date.now()};function g(x,S,C){var A,k,N,M,I,D,R=0,O=!1,B=!1,z=!0;if(typeof x!="function")throw new TypeError(e);S=_(S)||0,v(C)&&(O=!!C.leading,B="maxWait"in C,N=B?h(_(C.maxWait)||0,S):N,z="trailing"in C?!!C.trailing:z);function W(ne){var ie=A,fe=k;return A=k=void 0,R=ne,M=x.apply(fe,ie),M}function U(ne){return R=ne,I=setTimeout(V,S),O?W(ne):M}function F(ne){var ie=ne-D,fe=ne-R,se=S-ie;return B?p(se,N-fe):se}function Y(ne){var ie=ne-D,fe=ne-R;return D===void 0||ie>=S||ie<0||B&&fe>=N}function V(){var ne=m();if(Y(ne))return G(ne);I=setTimeout(V,F(ne))}function G(ne){return I=void 0,z&&A?W(ne):(A=k=void 0,M)}function X(){I!==void 0&&clearTimeout(I),R=0,A=D=k=I=void 0}function Z(){return I===void 0?M:G(m())}function oe(){var ne=m(),ie=Y(ne);if(A=arguments,k=this,D=ne,ie){if(I===void 0)return U(D);if(B)return I=setTimeout(V,S),W(D)}return I===void 0&&(I=setTimeout(V,S)),M}return oe.cancel=X,oe.flush=Z,oe}function y(x,S,C){var A=!0,k=!0;if(typeof x!="function")throw new TypeError(e);return v(C)&&(A="leading"in C?!!C.leading:A,k="trailing"in C?!!C.trailing:k),g(x,S,{leading:A,maxWait:S,trailing:k})}function v(x){var S=typeof x;return!!x&&(S=="object"||S=="function")}function w(x){return!!x&&typeof x=="object"}function E(x){return typeof x=="symbol"||w(x)&&f.call(x)==n}function _(x){if(typeof x=="number")return x;if(E(x))return t;if(v(x)){var S=typeof x.valueOf=="function"?x.valueOf():x;x=v(S)?S+"":S}if(typeof x!="string")return x===0?x:+x;x=x.replace(r,"");var C=o.test(x);return C||s.test(x)?a(x.slice(2),C?2:8):i.test(x)?t:+x}return $5=y,$5}var zit=jit();const Uit=ul(zit);class Gwe{constructor(t){la(this,"engine");la(this,"connected",!1);la(this,"currentParticipantId",null);this.engine=t}isConnected(){return this.connected}getEngine(){return this.engine}}async function MT(e){const t=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(o=>o.toString(16).padStart(2,"0")).join("")}function lE(e){return e.participantId!==void 0}class rc extends Gwe{constructor(){super("firebase");la(this,"RECAPTCHAV3TOKEN","6LdvBbsqAAAAAAGT33seMqiZR_JQWMbtGug2Cc0n");la(this,"firestore");la(this,"collectionPrefix","prod-");la(this,"studyCollection");la(this,"storage");la(this,"studyId","");la(this,"localForage",S1.createInstance({name:"currentParticipantId"}));la(this,"participantData",null);la(this,"throttleSaveAnswers",Uit(async()=>{await this._saveAnswers()},3e3));la(this,"userManagementData",{});const n=MKe.parse(`
{
  apiKey: "AIzaSyAAKU1PezLLa0UpfKkf-xJW9DtxYq7SlX8",
  authDomain: "data-formats-usability.firebaseapp.com",
  projectId: "data-formats-usability",
  storageBucket: "data-formats-usability.firebasestorage.app",
  messagingSenderId: "530098771238",
  appId: "1:530098771238:web:dbdae6d20be15a0b431de7"
}
`),r=ibe(n);this.firestore=Ptt(r,{}),this.storage=Tre();try{Rnt(r,{provider:new TW(this.RECAPTCHAV3TOKEN),isTokenAutoRefreshEnabled:!1})}catch{console.warn("Failed to initialize Firebase App Check")}}async connect(){try{await Ott(this.firestore),this.connected=!0}catch{console.warn("Failed to connect to Firebase")}}async initializeStudyDb(n,r){try{const i=UD();if(!i.currentUser&&(await grt(i),!i.currentUser))throw new Error("Login failed with firebase");this.studyCollection=Va(this.firestore,`${this.collectionPrefix}${n}`),this.studyId=n;const o=await this.getCurrentConfigHash(),s=await MT(JSON.stringify(r));if(await this._pushToFirebaseStorage(`configs/${s}`,"config",r),o&&o!==s){try{await this._deleteFromFirebaseStorage("","sequenceArray")}catch{}await this.clearCurrentParticipantId()}return await this._setCurrentConfigHash(s),Promise.resolve()}catch(i){return console.warn("Failed to connect to Firebase."),Promise.reject(i)}}async initializeParticipantSession(n,r,i,o,s){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(await this.getCurrentParticipantId(s),!this.currentParticipantId)throw new Error("Participant not initialized");const a=await this._getFromFirebaseStorage(`participants/${this.currentParticipantId}`,"participantData"),l=await this.getModes(n);if(lE(a))return this.participantData=a,a;const u=await MT(JSON.stringify(i)),{currentRow:c,creationIndex:d}=await this.getSequence();return this.participantData={participantId:this.currentParticipantId,participantConfigHash:u,sequence:c,participantIndex:d,answers:{},searchParams:r,metadata:o,completed:!1,rejected:!1,participantTags:[]},l.dataCollectionEnabled&&await this._pushToFirebaseStorage(`participants/${this.currentParticipantId}`,"participantData",this.participantData),this.participantData}async getCurrentConfigHash(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=li(this.studyCollection,"configHash"),r=await Dk(n);return r.exists()?r.data().configHash:null}async _setCurrentConfigHash(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const r=li(this.studyCollection,"configHash");await ca(r,{configHash:n})}async getAllConfigsFromHash(n,r){const i=n.map(a=>{const l=uu(this.storage,`${this.collectionPrefix}${r}/configs/${a}_config`);return this._getFromFirebaseStorageByRef(l,"config")}),o=await Promise.all(i),s={};return n.forEach((a,l)=>s[a]=o[l]),s}async getCurrentParticipantId(n){const r=await this.localForage.getItem("currentParticipantId");if(n)return this.currentParticipantId=n,await this.localForage.setItem("currentParticipantId",n),n;if(r)return this.currentParticipantId=r,r;if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");return this.currentParticipantId=HD(),await this.localForage.setItem("currentParticipantId",this.currentParticipantId),this.currentParticipantId}async clearCurrentParticipantId(){return await this.localForage.removeItem("currentParticipantId")}async saveAudio(n,r){let i=null;const o=async s=>{i||(i=setTimeout(async()=>{this._pushToFirebaseStorage(`/audio/${this.currentParticipantId}`,r,s.data)},500))};n.addEventListener("dataavailable",o),n.requestData()}async saveAnswers(n){if(!this.currentParticipantId||this.participantData===null)throw new Error("Participant not initialized");this.participantData={...this.participantData,answers:n},await this.throttleSaveAnswers(n)}async _saveAnswers(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(!this.currentParticipantId||this.participantData===null)throw new Error("Participant not initialized");await this._pushToFirebaseStorage(`participants/${this.currentParticipantId}`,"participantData",this.participantData)}async setSequenceArray(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");await this._pushToFirebaseStorage("","sequenceArray",n)}async getSequenceArray(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=await this._getFromFirebaseStorage("","sequenceArray");return Array.isArray(n)?n:null}async getSequence(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const n=await this.getSequenceArray();if(!n)throw new Error("Latin square not initialized");const r=await this.getModes(this.studyId),i=li(this.studyCollection,"sequenceAssignment");await ca(i,{});const o=Va(i,"sequenceAssignment"),s=li(o,this.currentParticipantId),a=S5(o,Eie("rejected","==",!0),Eie("claimed","==",!1)),l=await H0(a);if(l.docs.length>0){const y=l.docs[0],v=y.data().timestamp;r.dataCollectionEnabled&&(await ca(y.ref,{claimed:!0}),await ca(s,{participantId:this.currentParticipantId,timestamp:v,rejected:!1,claimed:!1,completed:null,createdTime:$k()}))}else r.dataCollectionEnabled&&await ca(s,{participantId:this.currentParticipantId,timestamp:$k(),rejected:!1,claimed:!1,completed:null,createdTime:$k()});const u=S5(o,Sie("timestamp","asc")),d=(await H0(u)).docs.map(y=>y.data()),f=d.filter(y=>!y.rejected).findIndex(y=>y.participantId===this.currentParticipantId)%n.length,h=f===-1?Math.floor(Math.random()*n.length-1):f,p=n[h];if(!p)throw new Error("Latin square is empty");const g=d.sort((y,v)=>y.createdTime-v.createdTime).findIndex(y=>y.participantId===this.currentParticipantId)+1;return{currentRow:p,creationIndex:g}}async getAllParticipantNames(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=li(this.studyCollection,"sequenceAssignment"),r=Va(n,"sequenceAssignment");return(await H0(r)).docs.map(o=>o.id)}async getAllParticipantsData(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=uu(this.storage,`${this.collectionPrefix}${this.studyId}/participants`),r=await aE(n),i=[],o=r.items.map(async s=>{const a=await this._getFromFirebaseStorageByRef(s,"participantData");lE(a)&&i.push(a)});return await Promise.all(o),i}async getAudio(n,r){const i=Tre(),o=await Tk(uu(i,`${this.collectionPrefix}${this.studyId}/audio/${r}_${n}`));return new Promise(a=>{const l=new XMLHttpRequest;l.responseType="blob",l.onload=()=>{const u=l.response,c=URL.createObjectURL(u);a(c)},l.open("GET",o),l.send()})}async getParticipantData(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(this.currentParticipantId===null&&!n)throw new Error("Participant not initialized");const r=await this._getFromFirebaseStorage(`participants/${n||this.currentParticipantId}`,"participantData");return lE(r)?r:null}async getParticipantTags(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=await this.getParticipantData();if(!n)throw new Error("Participant not initialized");return n.participantTags}async addParticipantTags(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const r=await this.getParticipantData();if(!r)throw new Error("Participant not initialized");r.participantTags=[...new Set([...r.participantTags,...n])],await this._pushToFirebaseStorage(`participants/${this.currentParticipantId}`,"participantData",r)}async removeParticipantTags(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const r=await this.getParticipantData();if(!r)throw new Error("Participant not initialized");r.participantTags=r.participantTags.filter(i=>!n.includes(i)),await this._pushToFirebaseStorage(`participants/${this.currentParticipantId}`,"participantData",r)}async nextParticipant(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=HD();await this.localForage.setItem("currentParticipantId",n)}async verifyCompletion(){var s;if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const n=await this.getParticipantData();if(!n)throw new Error("Participant not initialized");const r=await this.getModes(this.studyId);if(n.completed)return!0;const i=Object.values(n.answers).map(a=>a.endTime).reduce((a,l)=>Math.max(a,l),0),o=Object.values(((s=this.participantData)==null?void 0:s.answers)||{}).map(a=>a.endTime).reduce((a,l)=>Math.max(a,l),0);if(this.participantData&&i===o){this.participantData.completed=!0,r.dataCollectionEnabled&&await this._pushToFirebaseStorage(`participants/${this.currentParticipantId}`,"participantData",this.participantData);const a=li(this.studyCollection,"sequenceAssignment"),l=Va(a,"sequenceAssignment"),u=li(l,this.currentParticipantId);return await Aie(u,{completed:$k()}),!0}return!1}async getUserManagementData(n){if(Object.keys(this.userManagementData).length===0){const r=Va(this.firestore,"user-management"),i=await H0(r),o=Object.fromEntries(i.docs.map(s=>[s.id,s.data()]));this.userManagementData=o}return n in this.userManagementData?this.userManagementData[n]:null}async validateUser(n,r=!1){if(r&&(this.userManagementData={}),n!=null&&n.user){const i=await this.getUserManagementData("authentication");if(i!=null&&i.isEnabled){const o=await this.getUserManagementData("adminUsers");if(o&&o.adminUsersList){const s=Object.fromEntries(o.adminUsersList.map(l=>[l.email,l.uid]));if(n.user.email&&(s[n.user.email]===n.user.uid||s[n.user.email]===null)){if(n.user.email&&s[n.user.email]===null){const l=o.adminUsersList.find(u=>u.email===n.user.email);l&&(l.uid=n.user.uid),await ca(li(this.firestore,"user-management","adminUsers"),{adminUsersList:o.adminUsersList})}return!0}return!1}}return!0}return!1}async changeAuth(n){await ca(li(this.firestore,"user-management","authentication"),{isEnabled:n})}async addAdminUser(n){const r=await this.getUserManagementData("adminUsers");if(r!=null&&r.adminUsersList){const i=r.adminUsersList;i.find(s=>s.email===n.email)||(i.push({email:n.email,uid:n.uid}),await ca(li(this.firestore,"user-management","adminUsers"),{adminUsersList:i}))}else await ca(li(this.firestore,"user-management","adminUsers"),{adminUsersList:[{email:n.email,uid:n.uid}]})}async removeAdminUser(n){const r=await this.getUserManagementData("adminUsers");r!=null&&r.adminUsersList&&r.adminUsersList.length>1&&r.adminUsersList.find(i=>i.email===n)&&(r.adminUsersList=r==null?void 0:r.adminUsersList.filter(i=>i.email!==n),await ca(li(this.firestore,"user-management","adminUsers"),{adminUsersList:r==null?void 0:r.adminUsersList}))}async getAllParticipantsDataByStudy(n){const r=uu(this.storage,`${this.collectionPrefix}${n}/participants`),i=await aE(r),o=[],s=i.items.map(async a=>{const l=await this._getFromFirebaseStorageByRef(a,"participantData");lE(l)&&o.push(l)});return await Promise.all(s),o}async rejectParticipant(n,r,i){const o=Va(this.firestore,`${this.collectionPrefix}${n}`),s=uu(this.storage,`${this.collectionPrefix}${n}/participants/${r}_participantData`),a=await this._getFromFirebaseStorageByRef(s,"participantData");try{if(!a||!lE(a)||a.rejected)return;a.rejected={reason:i,timestamp:new Date().getTime()},await this._pushToFirebaseStorageByRef(s,"participantData",a);const l=li(o,"sequenceAssignment"),u=Va(l,"sequenceAssignment"),c=li(u,r);await Aie(c,{rejected:!0})}catch{console.warn("Failed to reject the participant.")}}async rejectCurrentParticipant(n,r){if(!this.currentParticipantId)throw new Error("Participant not initialized");return await this.rejectParticipant(n,this.currentParticipantId,r)}async setMode(n,r,i){const o=li(this.firestore,"metadata",`${this.collectionPrefix}${n}`);return await ca(o,{[r]:i},{merge:!0})}async getModes(n){const r=li(this.firestore,"metadata",`${this.collectionPrefix}${n}`),i=await Dk(r);if(i.exists())return i.data();const o={dataCollectionEnabled:!0,studyNavigatorEnabled:!0,analyticsInterfacePubliclyAccessible:!0};return await ca(r,o),o}async getParticipantsStatusCounts(n){const r=Va(this.firestore,`${this.collectionPrefix}${n}`),i=li(r,"sequenceAssignment"),o=Va(i,"sequenceAssignment"),s=S5(o,Sie("timestamp","asc")),l=(await H0(s)).docs.map(p=>p.data()),u=l.filter(p=>p.completed&&!p.rejected).length,c=l.filter(p=>p.rejected).length,d=l.length-u-c,f=l.length>0?l[0].timestamp:null,h=l.length>0?l.at(-1).timestamp:null;return{completed:u,rejected:c,inProgress:d,minTime:f,maxTime:h}}async createSnapshot(n,r){const i=`${this.collectionPrefix}${n}`;if(!await this._directoryExists(i))return console.warn(`Source directory ${i} does not exist.`),{status:"FAILED",error:{message:"There is currently no data in your study. A snapshot could not be created.",title:"Failed to Create Snapshot."}};const o=new Date,s=o.getUTCFullYear(),a=(o.getUTCMonth()+1).toString().padStart(2,"0"),l=o.getUTCDate().toString().padStart(2,"0"),u=o.getUTCHours().toString().padStart(2,"0"),c=o.getUTCMinutes().toString().padStart(2,"0"),d=o.getUTCSeconds().toString().padStart(2,"0"),f=`${s}-${a}-${l}T${u}:${c}:${d}`,h=`${this.collectionPrefix}${n}-snapshot-${f}`;await this._copyDirectory(`${i}/configs`,`${h}/configs`),await this._copyDirectory(`${i}/participants`,`${h}/participants`),await this._copyDirectory(i,h),await this._copyCollection(i,h),await this._addDirectoryNameToMetadata(h);const p=[];if(r){const m=await this.removeSnapshotOrLive(i,!1);m.status==="FAILED"?p.push({title:m.error.title,message:m.error.message,color:"red"}):p.push({title:"Success!",message:"Successfully deleted live data.",color:"green"})}return p.push({message:"Successfully created snapshot",title:"Success!",color:"green"}),{status:"SUCCESS",notifications:p}}async removeSnapshotOrLive(n,r){try{const i=n.startsWith(this.collectionPrefix)?n:`${this.collectionPrefix}${n}`;return await this._deleteDirectory(`${i}/configs`),await this._deleteDirectory(`${i}/participants`),await this._deleteDirectory(i),await this._deleteCollection(i),r&&await this._removeNameFromMetadata(i),{status:"SUCCESS",notifications:[{message:"Successfully deleted snapshot or live data.",title:"Success!",color:"green"}]}}catch{return{status:"FAILED",error:{title:"Failed to delete live data or snapshot",message:"There was an unspecified error when trying to remove a snapshot or live data."}}}}async getSnapshots(n){try{const r=li(this.firestore,"metadata","collections"),i=await Dk(r);if(i.exists()){const o=i.data();return Object.keys(o).filter(l=>l.startsWith(`${this.collectionPrefix}${n}-snapshot`)).map(l=>{const u=o[l];let c;return typeof u=="boolean"?c=l:u&&typeof u=="object"&&u.enabled===!0?c=u.name:c=null,{originalName:l,alternateName:c}}).filter(l=>l.alternateName!==null).sort((l,u)=>l.originalName.localeCompare(u.originalName)).reverse()}return[]}catch(r){throw console.error("Error listing collections with prefix:",r),r}}async restoreSnapshot(n,r){const i=`${this.collectionPrefix}${n}`,o=[];try{const s=await this.createSnapshot(n,!0);return s.status==="FAILED"?(console.warn("No live data to capture."),o.push({title:s.error.title,message:s.error.message,color:"yellow"})):o.push({title:"Success!",message:"Successfully created snapshot of live data.",color:"green"}),await this._copyDirectory(`${r}/configs`,`${i}/configs`),await this._copyDirectory(`${r}/participants`,`${i}/participants`),await this._copyDirectory(r,i),await this._copyCollection(r,i),o.push({message:"Successfully restored snapshot to live data.",title:"Success!",color:"green"}),{status:"SUCCESS",notifications:o}}catch(s){return console.error("Error trying to delete a snapshot",s),{status:"FAILED",error:{title:"Failed to restore a snapshot fully.",message:"There was an unspecified error when trying to restore this snapshot."}}}}async _addDirectoryNameToMetadata(n){try{const r=li(this.firestore,"metadata","collections");await ca(r,{[n]:{enabled:!0,name:n}},{merge:!0})}catch(r){throw console.error("Error adding collection to metadata:",r),r}}async renameSnapshot(n,r){try{const i=li(this.firestore,"metadata","collections");return await ca(i,{[n]:{enabled:!0,name:r}},{merge:!0}),{status:"SUCCESS",notifications:[{message:"Successfully renamed snapshot.",title:"Success!",color:"green"}]}}catch(i){return console.error("Error renaming collection in metadata",i),{status:"FAILED",error:{title:"Failed to Rename Snapshot.",message:"There was an error when trying to rename the snapshot."}}}}async _removeNameFromMetadata(n){try{const r=li(this.firestore,"metadata","collections"),i=await Dk(r);if(i.exists()){const o=i.data();o[n]?(delete o[n],await ca(r,o)):console.warn(`${n} does not exist in metadata.`)}else console.warn("No metadata found.")}catch(r){throw console.error("Error removing collection from metadata:",r),r}}async _deleteDirectory(n){try{const r=uu(this.storage,n),o=(await aE(r)).items.map(s=>Sre(s));await Promise.all(o)}catch(r){console.error("Error deleting files in directory:",r)}}async _copyDirectory(n,r){try{const i=uu(this.storage,n),s=(await aE(i)).items.map(a=>{const l=a.fullPath,u=l.replace(n,r);return this._copyFile(l,u)});await Promise.all(s)}catch(i){console.error("Error copying file:",i)}}async _copyFile(n,r){try{const i=uu(this.storage,n),o=uu(this.storage,r),s=await Tk(i),l=await(await fetch(s)).blob();await Sk(o,l)}catch(i){console.error("Error copying file:",i)}}async _copyCollection(n,r){const i=Va(this.firestore,n),o=li(i,"sequenceAssignment"),s=Va(o,"sequenceAssignment"),a=Va(this.firestore,r),l=li(a,"sequenceAssignment");await ca(l,{});const u=Va(l,"sequenceAssignment"),c=await H0(s),d=kie(this.firestore);c.docs.forEach(f=>{const h=li(u,f.id);d.set(h,f.data())}),await d.commit()}async _deleteCollection(n){const r=Va(this.firestore,n),i=li(r,"sequenceAssignment"),o=Va(i,"sequenceAssignment"),s=await H0(o),a=kie(this.firestore);s.forEach(l=>{const u=li(o,l.id);a.delete(u)}),a.delete(i),await a.commit()}async _directoryExists(n){try{const r=uu(this.storage,n);return(await aE(r)).items.length>0}catch(r){if(r.code==="storage/object-not-found")return!1;throw console.error("Error checking if directory exists:",r),r}}_verifyStudyDatabase(n){return n!==void 0}async _getFromFirebaseStorage(n,r){const i=uu(this.storage,`${this.collectionPrefix}${this.studyId}/${n}_${r}`);let o={};try{const s=await Tk(i),l=await(await fetch(s)).text();o=JSON.parse(l)}catch{console.warn(`${n} does not have ${r} for ${this.collectionPrefix}${this.studyId}.`)}return o}async _getFromFirebaseStorageByRef(n,r){let i={};try{const o=await Tk(n),a=await(await fetch(o)).text();i=JSON.parse(a)}catch{console.warn(`${n} with type ${r} not found.`)}return i}async _pushToFirebaseStorage(n,r,i){const o=uu(this.storage,`${this.collectionPrefix}${this.studyId}/${n}_${r}`);if(i instanceof Blob)await Sk(o,i);else if(Object.keys(i).length>0){const s=new Blob([JSON.stringify(i)],{type:"application/json"});await Sk(o,s)}}async _pushToFirebaseStorageByRef(n,r,i){if(Object.keys(i).length>0){const o=new Blob([JSON.stringify(i)],{type:"application/json"});await Sk(n,o)}}async _deleteFromFirebaseStorage(n,r){const i=uu(this.storage,`${this.collectionPrefix}${this.studyId}/${n}_${r}`);await Sre(i)}}const Ywe=H.createContext({user:{user:null,determiningStatus:!1,isAdmin:!1,adminVerification:!1},logout:async()=>{},triggerAuth:()=>{},verifyAdminStatus:()=>Promise.resolve(!1)}),Wx=()=>H.useContext(Ywe);function Hit({children:e}){const t={user:null,determiningStatus:!0,isAdmin:!1,adminVerification:!1},n={user:null,determiningStatus:!1,isAdmin:!1,adminVerification:!1},r={user:{name:"fakeName",email:"fakeEmail@fake.com",uid:"fakeUid"},determiningStatus:!1,isAdmin:!0,adminVerification:!0},[i,o]=H.useState(t),[s,a]=H.useState(!1),{storageEngine:l}=Zi(),u=async()=>{const h=UD();try{await Ert(h)}catch(p){console.error(`There was an issue signing-out the user: ${p.message}`)}finally{o(n)}},c=()=>{a(!0)},d=async h=>l?await l.validateUser(h,!0):!1;H.useEffect(()=>{o(t);let h;if(l instanceof rc)try{h=UD()}catch{console.warn("No firebase store.")}const p=async y=>{if(o(v=>({user:v.user,isAdmin:v.isAdmin,determiningStatus:!0,adminVerification:!1})),y){const v={user:y,determiningStatus:!1,isAdmin:!1,adminVerification:!0},w=await d(v);v.isAdmin=!!w,o(v)}else u()},g=(async()=>{if(l instanceof rc){const y=await(l==null?void 0:l.getUserManagementData("authentication"));if(y!=null&&y.isEnabled){const v=_rt(h,async w=>await p(w));return()=>v()}o(r)}else l&&o(r);return()=>{}})();return()=>{g.then(y=>y())}},[l,s]);const f=H.useMemo(()=>({user:i,triggerAuth:c,logout:u,verifyAdminStatus:d}),[i]);return $.jsx(Ywe.Provider,{value:f,children:i.determiningStatus?$.jsx(gc,{visible:!0}):e})}function Vit({configName:e,config:t,url:n}){const{storageEngine:r}=Zi(),[i,o]=H.useState(null);H.useEffect(()=>{r&&r.getParticipantsStatusCounts(e).then(d=>{o(d)})},[e,r]);const{minTime:s,maxTime:a}=H.useMemo(()=>{if(!i)return{minTime:null,maxTime:null};if(!i.minTime||!i.maxTime)return{minTime:null,maxTime:null};const d=typeof i.minTime=="number"?new Date(i.minTime):i.minTime.toDate(),f=typeof i.maxTime=="number"?new Date(i.maxTime):i.maxTime.toDate();return{minTime:d.toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"long",day:"numeric"}),maxTime:f.toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"long",day:"numeric"})}},[i]),[l,u]=H.useState(null);H.useEffect(()=>{r&&r.getModes(e).then(d=>{u(d)})},[e,r]);const c=H.useMemo(()=>l?l.dataCollectionEnabled?i&&(i.inProgress>0||i.completed>0)?"Collecting Data":"Ready to Collect Data":"Data Collection Disabled":"Unknown",[l,i]);return $.jsx(vx,{shadow:"sm",radius:"md",my:"sm",withBorder:!0,children:t.errors.length>0?$.jsxs($.Fragment,{children:[$.jsx(it,{fw:"bold",children:e}),$.jsxs(Kt,{align:"center",direction:"row",children:[$.jsx(RS,{color:"red"}),$.jsx(it,{fw:"bold",ml:8,color:"red",children:"Errors"})]}),$.jsx(RI,{issues:t.errors,type:"error"}),t.warnings.length>0&&$.jsxs($.Fragment,{children:[$.jsxs(Kt,{align:"center",direction:"row",children:[$.jsx(RS,{color:"orange"}),$.jsx(it,{fw:"bold",ml:8,color:"orange",children:"Warnings"})]}),$.jsx(RI,{issues:t.warnings,type:"warning"})]})]}):$.jsxs($.Fragment,{children:[$.jsx(Kt,{direction:"row",justify:"space-between",children:$.jsx(it,{fw:"bold",children:t.studyMetadata.title})}),$.jsxs(it,{c:"dimmed",children:[$.jsx(it,{span:!0,fw:500,children:"Authors: "}),t.studyMetadata.authors.join(", ")]}),$.jsx(it,{c:"dimmed",children:t.studyMetadata.description}),$.jsx(it,{c:"dimmed",ta:"right",style:{paddingRight:5},children:$.jsxs(Lv,{target:"_blank",onClick:d=>d.stopPropagation(),href:`undefined${n}`,children:["View source:"," ",n,$.jsx(fye,{style:{width:je(18),height:je(18),marginLeft:je(2),marginBottom:je(-3)}})]})}),t.warnings.length>0&&$.jsxs($.Fragment,{children:[$.jsxs(Kt,{align:"center",direction:"row",children:[$.jsx(RS,{color:"orange"}),$.jsx(it,{fw:"bold",ml:8,color:"orange",children:"Warnings"})]}),$.jsx(RI,{issues:t.warnings,type:"warning"})]}),$.jsx(s0,{my:"md"}),$.jsxs(Kt,{direction:"row",gap:"sm",children:[$.jsxs(it,{fw:"bold",size:"sm",opacity:.7,children:["Study Status:"," ",c]}),i&&$.jsx(TKe,{completed:i.completed,inProgress:i.inProgress,rejected:i.rejected})]}),s&&a&&$.jsxs(it,{c:"dimmed",mt:4,children:["Activity:"," ",s," ",""," ",a]}),$.jsxs(Kt,{direction:"row",align:"end",gap:"sm",mt:"md",children:[$.jsx(gn,{leftSection:$.jsx(dye,{}),style:{marginLeft:"auto"},variant:"default",component:"a",href:`${ji}analysis/stats/${n}`,children:"Analyze & Manage Study"}),$.jsx(gn,{leftSection:$.jsx(hye,{}),component:"a",href:`${ji}${n}`,children:"Go to Study"})]})]})},e)}function e1({configNames:e,studyConfigs:t}){return e.map(n=>{const r=t[n];if(!r)return null;const i=vye(n);return $.jsx(Vit,{configName:n,config:r,url:i},n)})}function Wit({globalConfig:e,studyConfigs:t}){const{storageEngine:n}=Zi(),{configsList:r}=e,i=r.filter(y=>y.startsWith("demo-")),o=r.filter(y=>y.startsWith("tutorial")),s=r.filter(y=>y.startsWith("example-")),a=r.filter(y=>y.startsWith("test-")),l=r.filter(y=>y.startsWith("library-")),u=H.useMemo(()=>r.filter(y=>!y.startsWith("demo-")&&!y.startsWith("tutorial")&&!y.startsWith("example-")&&!y.startsWith("test-")&&!y.startsWith("library-")),[r]),[c,d]=H.useState({});H.useEffect(()=>{async function y(){const v={};await Promise.all(u.map(async w=>{if(n instanceof rc){const E=await n.getModes(w);v[w]=E.analyticsInterfacePubliclyAccessible}})),d(v)}y()},[u,n]);const{user:f}=Wx(),h=H.useMemo(()=>u.filter(y=>c[y]||f.isAdmin),[u,c,f]),[p]=sh(),m=H.useMemo(()=>p.get("tab")||(h.length>0?"Others":"Demos"),[h.length,p]),g=zu();return $.jsx(qr.Main,{children:$.jsxs(Ap,{size:"sm",px:0,children:[$.jsx(a0,{maw:150,mx:"auto",mb:"xl",radius:"md",src:`${ji}revisitAssets/revisitLogoSquare.svg`,alt:"reVISit"}),$.jsxs(sr,{variant:"outline",defaultValue:u.length>0?"Others":"Demos",value:m,onChange:y=>g(`/?tab=${y}`),children:[$.jsxs(sr.List,{children:[h.length>0&&$.jsx(sr.Tab,{value:"Others",children:"Your Studies"}),$.jsx(sr.Tab,{value:"Demos",children:"Demo Studies"}),$.jsx(sr.Tab,{value:"Examples",children:"Example Studies"}),$.jsx(sr.Tab,{value:"Tutorials",children:"Tutorials"}),$.jsx(sr.Tab,{value:"Tests",children:"Tests"}),$.jsx(sr.Tab,{value:"Libraries",children:"Libraries"})]}),h.length>0&&$.jsx(sr.Panel,{value:"Others",children:$.jsx(e1,{configNames:h,studyConfigs:t})}),$.jsxs(sr.Panel,{value:"Demos",children:[$.jsx(it,{c:"dimmed",mt:"sm",children:"These studies show off individual features of the reVISit platform."}),$.jsx(e1,{configNames:i,studyConfigs:t})]}),$.jsxs(sr.Panel,{value:"Examples",children:[$.jsx(it,{c:"dimmed",mt:"sm",children:"These are full studies that demonstrate the capabilities of the reVISit platform."}),$.jsx(e1,{configNames:s,studyConfigs:t})]}),$.jsxs(sr.Panel,{value:"Tutorials",children:[$.jsx(it,{c:"dimmed",mt:"sm",children:"These studies are designed to help you learn how to use the reVISit platform."}),$.jsx(e1,{configNames:o,studyConfigs:t})]}),$.jsxs(sr.Panel,{value:"Tests",children:[$.jsx(it,{c:"dimmed",mt:"sm",children:"These studies exist for testing purposes."}),$.jsx(e1,{configNames:a,studyConfigs:t})]}),$.jsxs(sr.Panel,{value:"Libraries",children:[$.jsx(it,{c:"dimmed",mt:"sm",children:"Here you can see an example of every library that we publish."}),$.jsx(e1,{configNames:l,studyConfigs:t})]})]})]})})}var M5={exports:{}},P5={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eoe;function qit(){if(eoe)return P5;eoe=1;var e=Dv();function t(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,o=e.useEffect,s=e.useMemo,a=e.useDebugValue;return P5.useSyncExternalStoreWithSelector=function(l,u,c,d,f){var h=i(null);if(h.current===null){var p={hasValue:!1,value:null};h.current=p}else p=h.current;h=s(function(){function g(_){if(!y){if(y=!0,v=_,_=d(_),f!==void 0&&p.hasValue){var x=p.value;if(f(x,_))return w=x}return w=_}if(x=w,n(v,_))return x;var S=d(_);return f!==void 0&&f(x,S)?(v=_,x):(v=_,w=S)}var y=!1,v,w,E=c===void 0?null:c;return[function(){return g(u())},E===null?void 0:function(){return g(E())}]},[u,c,d,f]);var m=r(l,h[0],h[1]);return o(function(){p.hasValue=!0,p.value=m},[m]),a(m),m},P5}var toe;function Git(){return toe||(toe=1,M5.exports=qit()),M5.exports}var Yit=Git();function Kit(e){e()}function Xit(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Kit(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var noe={notify(){},get:()=>[]};function Qit(e,t){let n,r=noe,i=0,o=!1;function s(m){c();const g=r.subscribe(m);let y=!1;return()=>{y||(y=!0,g(),d())}}function a(){r.notify()}function l(){p.onStateChange&&p.onStateChange()}function u(){return o}function c(){i++,n||(n=e.subscribe(l),r=Xit())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=noe)}function f(){o||(o=!0,c())}function h(){o&&(o=!1,d())}const p={addNestedSub:s,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:f,tryUnsubscribe:h,getListeners:()=>r};return p}var Jit=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Zit=Jit(),eot=()=>typeof navigator<"u"&&navigator.product==="ReactNative",tot=eot(),not=()=>Zit||tot?H.useLayoutEffect:H.useEffect,rot=not(),N5=Symbol.for("react-redux-context"),O5=typeof globalThis<"u"?globalThis:{};function iot(){if(!H.createContext)return{};const e=O5[N5]??(O5[N5]=new Map);let t=e.get(H.createContext);return t||(t=H.createContext(null),e.set(H.createContext,t)),t}var $g=iot();function oot(e){const{children:t,context:n,serverState:r,store:i}=e,o=H.useMemo(()=>{const l=Qit(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),s=H.useMemo(()=>i.getState(),[i]);rot(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,s]);const a=n||$g;return H.createElement(a.Provider,{value:o},t)}var sot=oot;function NW(e=$g){return function(){return H.useContext(e)}}var Kwe=NW();function Xwe(e=$g){const t=e===$g?Kwe:NW(e),n=()=>{const{store:r}=t();return r};return Object.assign(n,{withTypes:()=>n}),n}var aot=Xwe();function lot(e=$g){const t=e===$g?aot:Xwe(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var Qwe=lot(),uot=(e,t)=>e===t;function cot(e=$g){const t=e===$g?Kwe:NW(e),n=(r,i={})=>{const{equalityFn:o=uot}=typeof i=="function"?{equalityFn:i}:i,s=t(),{store:a,subscription:l,getServerState:u}=s;H.useRef(!0);const c=H.useCallback({[r.name](f){return r(f)}}[r.name],[r]),d=Yit.useSyncExternalStoreWithSelector(l.addNestedSub,a.getState,u||a.getState,c,o);return H.useDebugValue(d),d};return Object.assign(n,{withTypes:()=>n}),n}var dot=cot(),km={},Im={},L5={exports:{}},roe;function VD(){return roe||(roe=1,function(e,t){(function(){var n="ace",r=function(){return this}();!r&&typeof window<"u"&&(r=window);var i=function(c,d,f){if(typeof c!="string"){i.original?i.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace());return}arguments.length==2&&(f=d),i.modules[c]||(i.payloads[c]=f,i.modules[c]=null)};i.modules={},i.payloads={};var o=function(c,d,f){if(typeof d=="string"){var h=l(c,d);if(h!=null)return f&&f(),h}else if(Object.prototype.toString.call(d)==="[object Array]"){for(var p=[],m=0,g=d.length;m<g;++m){var y=l(c,d[m]);if(y==null&&s.original)return;p.push(y)}return f&&f.apply(null,p)||!0}},s=function(c,d){var f=o("",c,d);return f==null&&s.original?s.original.apply(this,arguments):f},a=function(c,d){if(d.indexOf("!")!==-1){var f=d.split("!");return a(c,f[0])+"!"+a(c,f[1])}if(d.charAt(0)=="."){var h=c.split("/").slice(0,-1).join("/");for(d=h+"/"+d;d.indexOf(".")!==-1&&p!=d;){var p=d;d=d.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return d},l=function(c,d){d=a(c,d);var f=i.modules[d];if(!f){if(f=i.payloads[d],typeof f=="function"){var h={},p={id:d,uri:"",exports:h,packaged:!0},m=function(y,v){return o(d,y,v)},g=f(m,h,p);h=g||p.exports,i.modules[d]=h,delete i.payloads[d]}f=i.modules[d]=h||f}return f};function u(c){var d=r;r[c]||(r[c]={}),d=r[c],(!d.define||!d.define.packaged)&&(i.original=d.define,d.define=i,d.define.packaged=!0),(!d.require||!d.require.packaged)&&(s.original=d.require,d.require=s,d.require.packaged=!0)}u(n)})(),ace.define("ace/lib/es6-shim",["require","exports","module"],function(n,r,i){function o(s,a,l){Object.defineProperty(s,a,{value:l,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||o(String.prototype,"startsWith",function(s,a){return a=a||0,this.lastIndexOf(s,a)===a}),String.prototype.endsWith||o(String.prototype,"endsWith",function(s,a){var l=this;(a===void 0||a>l.length)&&(a=l.length),a-=s.length;var u=l.indexOf(s,a);return u!==-1&&u===a}),String.prototype.repeat||o(String.prototype,"repeat",function(s){for(var a="",l=this;s>0;)s&1&&(a+=l),(s>>=1)&&(l+=l);return a}),String.prototype.includes||o(String.prototype,"includes",function(s,a){return this.indexOf(s,a)!=-1}),Object.assign||(Object.assign=function(s){if(s==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(s),l=1;l<arguments.length;l++){var u=arguments[l];u!=null&&Object.keys(u).forEach(function(c){a[c]=u[c]})}return a}),Object.values||(Object.values=function(s){return Object.keys(s).map(function(a){return s[a]})}),Array.prototype.find||o(Array.prototype,"find",function(s){for(var a=this.length,l=arguments[1],u=0;u<a;u++){var c=this[u];if(s.call(l,c,u,this))return c}}),Array.prototype.findIndex||o(Array.prototype,"findIndex",function(s){for(var a=this.length,l=arguments[1],u=0;u<a;u++){var c=this[u];if(s.call(l,c,u,this))return u}}),Array.prototype.includes||o(Array.prototype,"includes",function(s,a){return this.indexOf(s,a)!=-1}),Array.prototype.fill||o(Array.prototype,"fill",function(s){for(var a=this,l=a.length>>>0,u=arguments[1],c=u>>0,d=c<0?Math.max(l+c,0):Math.min(c,l),f=arguments[2],h=f===void 0?l:f>>0,p=h<0?Math.max(l+h,0):Math.min(h,l);d<p;)a[d]=s,d++;return a}),Array.of||o(Array,"of",function(){return Array.prototype.slice.call(arguments)})}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],function(n,r,i){n("./es6-shim")}),ace.define("ace/lib/deep_copy",["require","exports","module"],function(n,r,i){r.deepCopy=function o(s){if(typeof s!="object"||!s)return s;var a;if(Array.isArray(s)){a=[];for(var l=0;l<s.length;l++)a[l]=o(s[l]);return a}if(Object.prototype.toString.call(s)!=="[object Object]")return s;a={};for(var l in s)a[l]=o(s[l]);return a}}),ace.define("ace/lib/lang",["require","exports","module","ace/lib/deep_copy"],function(n,r,i){r.last=function(a){return a[a.length-1]},r.stringReverse=function(a){return a.split("").reverse().join("")},r.stringRepeat=function(a,l){for(var u="";l>0;)l&1&&(u+=a),(l>>=1)&&(a+=a);return u};var o=/^\s\s*/,s=/\s\s*$/;r.stringTrimLeft=function(a){return a.replace(o,"")},r.stringTrimRight=function(a){return a.replace(s,"")},r.copyObject=function(a){var l={};for(var u in a)l[u]=a[u];return l},r.copyArray=function(a){for(var l=[],u=0,c=a.length;u<c;u++)a[u]&&typeof a[u]=="object"?l[u]=this.copyObject(a[u]):l[u]=a[u];return l},r.deepCopy=n("./deep_copy").deepCopy,r.arrayToMap=function(a){for(var l={},u=0;u<a.length;u++)l[a[u]]=1;return l},r.createMap=function(a){var l=Object.create(null);for(var u in a)l[u]=a[u];return l},r.arrayRemove=function(a,l){for(var u=0;u<=a.length;u++)l===a[u]&&a.splice(u,1)},r.escapeRegExp=function(a){return a.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},r.escapeHTML=function(a){return(""+a).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},r.getMatchOffsets=function(a,l){var u=[];return a.replace(l,function(c){u.push({offset:arguments[arguments.length-2],length:c.length})}),u},r.deferredCall=function(a){var l=null,u=function(){l=null,a()},c=function(d){return c.cancel(),l=setTimeout(u,d||0),c};return c.schedule=c,c.call=function(){return this.cancel(),a(),c},c.cancel=function(){return clearTimeout(l),l=null,c},c.isPending=function(){return l},c},r.delayedCall=function(a,l){var u=null,c=function(){u=null,a()},d=function(f){u==null&&(u=setTimeout(c,f||l))};return d.delay=function(f){u&&clearTimeout(u),u=setTimeout(c,f||l)},d.schedule=d,d.call=function(){this.cancel(),a()},d.cancel=function(){u&&clearTimeout(u),u=null},d.isPending=function(){return u},d},r.supportsLookbehind=function(){try{new RegExp("(?<=.)")}catch{return!1}return!0},r.skipEmptyMatch=function(a,l,u){return u&&a.codePointAt(l)>65535?2:1}}),ace.define("ace/lib/useragent",["require","exports","module"],function(n,r,i){r.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},r.getOS=function(){return r.isMac?r.OS.MAC:r.isLinux?r.OS.LINUX:r.OS.WINDOWS};var o=typeof navigator=="object"?navigator:{},s=(/mac|win|linux/i.exec(o.platform)||["other"])[0].toLowerCase(),a=o.userAgent||"",l=o.appName||"";r.isWin=s=="win",r.isMac=s=="mac",r.isLinux=s=="linux",r.isIE=l=="Microsoft Internet Explorer"||l.indexOf("MSAppHost")>=0?parseFloat((a.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((a.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),r.isOldIE=r.isIE&&r.isIE<9,r.isGecko=r.isMozilla=a.match(/ Gecko\/\d+/),r.isOpera=typeof opera=="object"&&Object.prototype.toString.call(window.opera)=="[object Opera]",r.isWebKit=parseFloat(a.split("WebKit/")[1])||void 0,r.isChrome=parseFloat(a.split(" Chrome/")[1])||void 0,r.isSafari=parseFloat(a.split(" Safari/")[1])&&!r.isChrome||void 0,r.isEdge=parseFloat(a.split(" Edge/")[1])||void 0,r.isAIR=a.indexOf("AdobeAIR")>=0,r.isAndroid=a.indexOf("Android")>=0,r.isChromeOS=a.indexOf(" CrOS ")>=0,r.isIOS=/iPad|iPhone|iPod/.test(a)&&!window.MSStream,r.isIOS&&(r.isMac=!0),r.isMobile=r.isIOS||r.isAndroid}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(n,r,i){var o=n("./useragent"),s="http://www.w3.org/1999/xhtml";r.buildDom=function f(h,p,m){if(typeof h=="string"&&h){var g=document.createTextNode(h);return p&&p.appendChild(g),g}if(!Array.isArray(h))return h&&h.appendChild&&p&&p.appendChild(h),h;if(typeof h[0]!="string"||!h[0]){for(var y=[],v=0;v<h.length;v++){var w=f(h[v],p,m);w&&y.push(w)}return y}var E=document.createElement(h[0]),_=h[1],x=1;_&&typeof _=="object"&&!Array.isArray(_)&&(x=2);for(var v=x;v<h.length;v++)f(h[v],E,m);return x==2&&Object.keys(_).forEach(function(S){var C=_[S];S==="class"?E.className=Array.isArray(C)?C.join(" "):C:typeof C=="function"||S=="value"||S[0]=="$"?E[S]=C:S==="ref"?m&&(m[C]=E):S==="style"?typeof C=="string"&&(E.style.cssText=C):C!=null&&E.setAttribute(S,C)}),p&&p.appendChild(E),E},r.getDocumentHead=function(f){return f||(f=document),f.head||f.getElementsByTagName("head")[0]||f.documentElement},r.createElement=function(f,h){return document.createElementNS?document.createElementNS(h||s,f):document.createElement(f)},r.removeChildren=function(f){f.innerHTML=""},r.createTextNode=function(f,h){var p=h?h.ownerDocument:document;return p.createTextNode(f)},r.createFragment=function(f){var h=f?f.ownerDocument:document;return h.createDocumentFragment()},r.hasCssClass=function(f,h){var p=(f.className+"").split(/\s+/g);return p.indexOf(h)!==-1},r.addCssClass=function(f,h){r.hasCssClass(f,h)||(f.className+=" "+h)},r.removeCssClass=function(f,h){for(var p=f.className.split(/\s+/g);;){var m=p.indexOf(h);if(m==-1)break;p.splice(m,1)}f.className=p.join(" ")},r.toggleCssClass=function(f,h){for(var p=f.className.split(/\s+/g),m=!0;;){var g=p.indexOf(h);if(g==-1)break;m=!1,p.splice(g,1)}return m&&p.push(h),f.className=p.join(" "),m},r.setCssClass=function(f,h,p){p?r.addCssClass(f,h):r.removeCssClass(f,h)},r.hasCssString=function(f,h){var p=0,m;if(h=h||document,m=h.querySelectorAll("style")){for(;p<m.length;)if(m[p++].id===f)return!0}},r.removeElementById=function(f,h){h=h||document,h.getElementById(f)&&h.getElementById(f).remove()};var a,l=[];r.useStrictCSP=function(f){a=f,f==!1?u():l||(l=[])};function u(){var f=l;l=null,f&&f.forEach(function(h){c(h[0],h[1])})}function c(f,h,p){if(!(typeof document>"u")){if(l){if(p)u();else if(p===!1)return l.push([f,h])}if(!a){var m=p;!p||!p.getRootNode?m=document:(m=p.getRootNode(),(!m||m==p)&&(m=document));var g=m.ownerDocument||m;if(h&&r.hasCssString(h,m))return null;h&&(f+=`
/*# sourceURL=ace/css/`+h+" */");var y=r.createElement("style");y.appendChild(g.createTextNode(f)),h&&(y.id=h),m==g&&(m=r.getDocumentHead(g)),m.insertBefore(y,m.firstChild)}}}if(r.importCssString=c,r.importCssStylsheet=function(f,h){r.buildDom(["link",{rel:"stylesheet",href:f}],r.getDocumentHead(h))},r.scrollbarWidth=function(f){var h=r.createElement("ace_inner");h.style.width="100%",h.style.minWidth="0px",h.style.height="200px",h.style.display="block";var p=r.createElement("ace_outer"),m=p.style;m.position="absolute",m.left="-10000px",m.overflow="hidden",m.width="200px",m.minWidth="0px",m.height="150px",m.display="block",p.appendChild(h);var g=f&&f.documentElement||document&&document.documentElement;if(!g)return 0;g.appendChild(p);var y=h.offsetWidth;m.overflow="scroll";var v=h.offsetWidth;return y===v&&(v=p.clientWidth),g.removeChild(p),y-v},r.computedStyle=function(f,h){return window.getComputedStyle(f,"")||{}},r.setStyle=function(f,h,p){f[h]!==p&&(f[h]=p)},r.HAS_CSS_ANIMATION=!1,r.HAS_CSS_TRANSFORMS=!1,r.HI_DPI=o.isWin?typeof window<"u"&&window.devicePixelRatio>=1.5:!0,o.isChromeOS&&(r.HI_DPI=!1),typeof document<"u"){var d=document.createElement("div");r.HI_DPI&&d.style.transform!==void 0&&(r.HAS_CSS_TRANSFORMS=!0),!o.isEdge&&typeof d.style.animationName<"u"&&(r.HAS_CSS_ANIMATION=!0),d=null}r.HAS_CSS_TRANSFORMS?r.translate=function(f,h,p){f.style.transform="translate("+Math.round(h)+"px, "+Math.round(p)+"px)"}:r.translate=function(f,h,p){f.style.top=Math.round(p)+"px",f.style.left=Math.round(h)+"px"}}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(n,r,i){/*
* based on code from:
*
* @license RequireJS text 0.25.0 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
* Available via the MIT or new BSD license.
* see: http://github.com/jrburke/requirejs for details
*/var o=n("./dom");r.get=function(s,a){var l=new XMLHttpRequest;l.open("GET",s,!0),l.onreadystatechange=function(){l.readyState===4&&a(l.responseText)},l.send(null)},r.loadScript=function(s,a){var l=o.getDocumentHead(),u=document.createElement("script");u.src=s,l.appendChild(u),u.onload=u.onreadystatechange=function(c,d){(d||!u.readyState||u.readyState=="loaded"||u.readyState=="complete")&&(u=u.onload=u.onreadystatechange=null,d||a())}},r.qualifyURL=function(s){var a=document.createElement("a");return a.href=s,a.href}}),ace.define("ace/lib/oop",["require","exports","module"],function(n,r,i){r.inherits=function(o,s){o.super_=s,o.prototype=Object.create(s.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}})},r.mixin=function(o,s){for(var a in s)o[a]=s[a];return o},r.implement=function(o,s){r.mixin(o,s)}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(n,r,i){var o={},s=function(){this.propagationStopped=!0},a=function(){this.defaultPrevented=!0};o._emit=o._dispatchEvent=function(l,u){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var c=this._eventRegistry[l]||[],d=this._defaultHandlers[l];if(!(!c.length&&!d)){(typeof u!="object"||!u)&&(u={}),u.type||(u.type=l),u.stopPropagation||(u.stopPropagation=s),u.preventDefault||(u.preventDefault=a),c=c.slice();for(var f=0;f<c.length&&(c[f](u,this),!u.propagationStopped);f++);if(d&&!u.defaultPrevented)return d(u,this)}},o._signal=function(l,u){var c=(this._eventRegistry||{})[l];if(c){c=c.slice();for(var d=0;d<c.length;d++)c[d](u,this)}},o.once=function(l,u){var c=this;if(this.on(l,function d(){c.off(l,d),u.apply(null,arguments)}),!u)return new Promise(function(d){u=d})},o.setDefaultHandler=function(l,u){var c=this._defaultHandlers;if(c||(c=this._defaultHandlers={_disabled_:{}}),c[l]){var d=c[l],f=c._disabled_[l];f||(c._disabled_[l]=f=[]),f.push(d);var h=f.indexOf(u);h!=-1&&f.splice(h,1)}c[l]=u},o.removeDefaultHandler=function(l,u){var c=this._defaultHandlers;if(c){var d=c._disabled_[l];if(c[l]==u)d&&this.setDefaultHandler(l,d.pop());else if(d){var f=d.indexOf(u);f!=-1&&d.splice(f,1)}}},o.on=o.addEventListener=function(l,u,c){this._eventRegistry=this._eventRegistry||{};var d=this._eventRegistry[l];return d||(d=this._eventRegistry[l]=[]),d.indexOf(u)==-1&&d[c?"unshift":"push"](u),u},o.off=o.removeListener=o.removeEventListener=function(l,u){this._eventRegistry=this._eventRegistry||{};var c=this._eventRegistry[l];if(c){var d=c.indexOf(u);d!==-1&&c.splice(d,1)}},o.removeAllListeners=function(l){l||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[l]=void 0),this._defaultHandlers&&(this._defaultHandlers[l]=void 0)},r.EventEmitter=o}),ace.define("ace/lib/report_error",["require","exports","module"],function(n,r,i){r.reportError=function(s,a){var l=new Error(s);l.data=a,typeof console=="object"&&console.error&&console.error(l),setTimeout(function(){throw l})}}),ace.define("ace/lib/default_english_messages",["require","exports","module"],function(n,r,i){var o={"autocomplete.popup.aria-roledescription":"Autocomplete suggestions","autocomplete.popup.aria-label":"Autocomplete suggestions","autocomplete.popup.item.aria-roledescription":"item","autocomplete.loading":"Loading...","editor.scroller.aria-roledescription":"editor","editor.scroller.aria-label":"Editor content, press Enter to start editing, press Escape to exit","editor.gutter.aria-roledescription":"editor gutter","editor.gutter.aria-label":"Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit","error-marker.good-state":"Looks good!","prompt.recently-used":"Recently used","prompt.other-commands":"Other commands","prompt.no-matching-commands":"No matching commands","search-box.find.placeholder":"Search for","search-box.find-all.text":"All","search-box.replace.placeholder":"Replace with","search-box.replace-next.text":"Replace","search-box.replace-all.text":"All","search-box.toggle-replace.title":"Toggle Replace mode","search-box.toggle-regexp.title":"RegExp Search","search-box.toggle-case.title":"CaseSensitive Search","search-box.toggle-whole-word.title":"Whole Word Search","search-box.toggle-in-selection.title":"Search In Selection","search-box.search-counter":"$0 of $1","text-input.aria-roledescription":"editor","text-input.aria-label":"Cursor at row $0","gutter.code-folding.range.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.closed.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.open.aria-label":"Toggle code folding, row $0","gutter.code-folding.closed.title":"Unfold code","gutter.code-folding.open.title":"Fold code","gutter.annotation.aria-label.error":"Error, read annotations row $0","gutter.annotation.aria-label.warning":"Warning, read annotations row $0","gutter.annotation.aria-label.info":"Info, read annotations row $0","inline-fold.closed.title":"Unfold code","gutter-tooltip.aria-label.error.singular":"error","gutter-tooltip.aria-label.error.plural":"errors","gutter-tooltip.aria-label.warning.singular":"warning","gutter-tooltip.aria-label.warning.plural":"warnings","gutter-tooltip.aria-label.info.singular":"information message","gutter-tooltip.aria-label.info.plural":"information messages","gutter.annotation.aria-label.security":"Security finding, read annotations row $0","gutter.annotation.aria-label.hint":"Suggestion, read annotations row $0","gutter-tooltip.aria-label.security.singular":"security finding","gutter-tooltip.aria-label.security.plural":"security findings","gutter-tooltip.aria-label.hint.singular":"suggestion","gutter-tooltip.aria-label.hint.plural":"suggestions","editor.tooltip.disable-editing":"Editing is disabled"};r.defaultEnglishMessages=o}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/report_error","ace/lib/default_english_messages"],function(n,r,i){"no use strict";var o=n("./oop"),s=n("./event_emitter").EventEmitter,a=n("./report_error").reportError,l=n("./default_english_messages").defaultEnglishMessages,u={setOptions:function(p){Object.keys(p).forEach(function(m){this.setOption(m,p[m])},this)},getOptions:function(p){var m={};if(p)Array.isArray(p)||(m=p,p=Object.keys(m));else{var g=this.$options;p=Object.keys(g).filter(function(y){return!g[y].hidden})}return p.forEach(function(y){m[y]=this.getOption(y)},this),m},setOption:function(p,m){if(this["$"+p]!==m){var g=this.$options[p];if(!g)return c('misspelled option "'+p+'"');if(g.forwardTo)return this[g.forwardTo]&&this[g.forwardTo].setOption(p,m);g.handlesSet||(this["$"+p]=m),g&&g.set&&g.set.call(this,m)}},getOption:function(p){var m=this.$options[p];return m?m.forwardTo?this[m.forwardTo]&&this[m.forwardTo].getOption(p):m&&m.get?m.get.call(this):this["$"+p]:c('misspelled option "'+p+'"')}};function c(p){typeof console<"u"&&console.warn&&console.warn.apply(console,arguments)}var d,f,h=function(){function p(){this.$defaultOptions={},d=l,f="dollarSigns"}return p.prototype.defineOptions=function(m,g,y){return m.$options||(this.$defaultOptions[g]=m.$options={}),Object.keys(y).forEach(function(v){var w=y[v];typeof w=="string"&&(w={forwardTo:w}),w.name||(w.name=v),m.$options[w.name]=w,"initialValue"in w&&(m["$"+w.name]=w.initialValue)}),o.implement(m,u),this},p.prototype.resetOptions=function(m){Object.keys(m.$options).forEach(function(g){var y=m.$options[g];"value"in y&&m.setOption(g,y.value)})},p.prototype.setDefaultValue=function(m,g,y){if(!m){for(m in this.$defaultOptions)if(this.$defaultOptions[m][g])break;if(!this.$defaultOptions[m][g])return!1}var v=this.$defaultOptions[m]||(this.$defaultOptions[m]={});v[g]&&(v.forwardTo?this.setDefaultValue(v.forwardTo,g,y):v[g].value=y)},p.prototype.setDefaultValues=function(m,g){Object.keys(g).forEach(function(y){this.setDefaultValue(m,y,g[y])},this)},p.prototype.setMessages=function(m,g){d=m,g&&g.placeholders&&(f=g.placeholders)},p.prototype.nls=function(m,g,y){d[m]||(c("No message found for the key '"+m+"' in messages with id "+d.$id+", trying to find a translation for the default string '"+g+"'."),d[g]||c("No message found for the default string '"+g+"' in the provided messages. Falling back to the default English message."));var v=d[m]||d[g]||g;return y&&(f==="dollarSigns"&&(v=v.replace(/\$(\$|[\d]+)/g,function(w,E){return E=="$"?"$":y[E]})),f==="curlyBrackets"&&(v=v.replace(/\{([^\}]+)\}/g,function(w,E){return y[E]}))),v},p}();h.prototype.warn=c,h.prototype.reportError=a,o.implement(h.prototype,s),r.AppConfig=h}),ace.define("ace/theme/textmate-css",["require","exports","module"],function(n,r,i){i.exports=`.ace-tm .ace_gutter {
  background: #f0f0f0;
  color: #333;
}

.ace-tm .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-tm .ace_fold {
    background-color: #6B72E6;
}

.ace-tm {
  background-color: #FFFFFF;
  color: black;
}

.ace-tm .ace_cursor {
  color: black;
}
        
.ace-tm .ace_invisible {
  color: rgb(191, 191, 191);
}

.ace-tm .ace_storage,
.ace-tm .ace_keyword {
  color: blue;
}

.ace-tm .ace_constant {
  color: rgb(197, 6, 11);
}

.ace-tm .ace_constant.ace_buildin {
  color: rgb(88, 72, 246);
}

.ace-tm .ace_constant.ace_language {
  color: rgb(88, 92, 246);
}

.ace-tm .ace_constant.ace_library {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_invalid {
  background-color: rgba(255, 0, 0, 0.1);
  color: red;
}

.ace-tm .ace_support.ace_function {
  color: rgb(60, 76, 114);
}

.ace-tm .ace_support.ace_constant {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_support.ace_type,
.ace-tm .ace_support.ace_class {
  color: rgb(109, 121, 222);
}

.ace-tm .ace_keyword.ace_operator {
  color: rgb(104, 118, 135);
}

.ace-tm .ace_string {
  color: rgb(3, 106, 7);
}

.ace-tm .ace_comment {
  color: rgb(76, 136, 107);
}

.ace-tm .ace_comment.ace_doc {
  color: rgb(0, 102, 255);
}

.ace-tm .ace_comment.ace_doc.ace_tag {
  color: rgb(128, 159, 191);
}

.ace-tm .ace_constant.ace_numeric {
  color: rgb(0, 0, 205);
}

.ace-tm .ace_variable {
  color: rgb(49, 132, 149);
}

.ace-tm .ace_xml-pe {
  color: rgb(104, 104, 91);
}

.ace-tm .ace_entity.ace_name.ace_function {
  color: #0000A2;
}


.ace-tm .ace_heading {
  color: rgb(12, 7, 255);
}

.ace-tm .ace_list {
  color:rgb(185, 6, 144);
}

.ace-tm .ace_meta.ace_tag {
  color:rgb(0, 22, 142);
}

.ace-tm .ace_string.ace_regex {
  color: rgb(255, 0, 0)
}

.ace-tm .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}
.ace-tm.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
.ace-tm .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-tm .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-tm .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-tm .ace_marker-layer .ace_active-line {
  background: rgba(0, 0, 0, 0.07);
}

.ace-tm .ace_gutter-active-line {
    background-color : #dcdcdc;
}

.ace-tm .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-tm .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-tm .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate-css","ace/lib/dom"],function(n,r,i){r.isDark=!1,r.cssClass="ace-tm",r.cssText=n("./textmate-css"),r.$id="ace/theme/textmate";var o=n("../lib/dom");o.importCssString(r.cssText,r.cssClass,!1)}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],function(n,r,i){"no use strict";var o=n("./lib/lang"),s=n("./lib/net"),a=n("./lib/dom"),l=n("./lib/app_config").AppConfig;i.exports=r=new l;var u={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};r.get=function(h){if(!u.hasOwnProperty(h))throw new Error("Unknown config key: "+h);return u[h]},r.set=function(h,p){if(u.hasOwnProperty(h))u[h]=p;else if(this.setDefaultValue("",h,p)==!1)throw new Error("Unknown config key: "+h);h=="useStrictCSP"&&a.useStrictCSP(p)},r.all=function(){return o.copyObject(u)},r.$modes={},r.moduleUrl=function(h,p){if(u.$moduleUrls[h])return u.$moduleUrls[h];var m=h.split("/");p=p||m[m.length-2]||"";var g=p=="snippets"?"/":"-",y=m[m.length-1];if(p=="worker"&&g=="-"){var v=new RegExp("^"+p+"[\\-_]|[\\-_]"+p+"$","g");y=y.replace(v,"")}(!y||y==p)&&m.length>1&&(y=m[m.length-2]);var w=u[p+"Path"];return w==null?w=u.basePath:g=="/"&&(p=g=""),w&&w.slice(-1)!="/"&&(w+="/"),w+p+g+y+this.get("suffix")},r.setModuleUrl=function(h,p){return u.$moduleUrls[h]=p};var c=function(h,p){if(h==="ace/theme/textmate"||h==="./theme/textmate")return p(null,n("./theme/textmate"));if(d)return d(h,p);console.error("loader is not configured")},d;r.setLoader=function(h){d=h},r.dynamicModules=Object.create(null),r.$loading={},r.$loaded={},r.loadModule=function(h,p){var m;if(Array.isArray(h))var g=h[0],y=h[1];else if(typeof h=="string")var y=h;var v=function(w){if(w&&!r.$loading[y])return p&&p(w);if(r.$loading[y]||(r.$loading[y]=[]),r.$loading[y].push(p),!(r.$loading[y].length>1)){var E=function(){c(y,function(_,x){x&&(r.$loaded[y]=x),r._emit("load.module",{name:y,module:x});var S=r.$loading[y];r.$loading[y]=null,S.forEach(function(C){C&&C(x)})})};if(!r.get("packaged"))return E();s.loadScript(r.moduleUrl(y,g),E),f()}};if(r.dynamicModules[y])r.dynamicModules[y]().then(function(w){w.default?v(w.default):v(w)});else{try{m=this.$require(y)}catch{}v(m||r.$loaded[y])}},r.$require=function(h){if(typeof i.require=="function"){var p="require";return i[p](h)}},r.setModuleLoader=function(h,p){r.dynamicModules[h]=p};var f=function(){!u.basePath&&!u.workerPath&&!u.modePath&&!u.themePath&&!Object.keys(u.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),f=function(){})};r.version="1.39.1"}),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],function(n,r,i){n("./lib/fixoldbrowsers");var o=n("./config");o.setLoader(function(u,c){n([u],function(d){c(null,d)})});var s=function(){return this||typeof window<"u"&&window}();i.exports=function(u){o.init=a,o.$require=n,u.require=n},a(!0);function a(u){if(!(!s||!s.document)){o.set("packaged",u||n.packaged||i.packaged||s.define&&(void 0).packaged);var c={},d="",f=document.currentScript||document._currentScript,h=f&&f.ownerDocument||document;f&&f.src&&(d=f.src.split(/[?#]/)[0].split("/").slice(0,-1).join("/")||"");for(var p=h.getElementsByTagName("script"),m=0;m<p.length;m++){var g=p[m],y=g.src||g.getAttribute("src");if(y){for(var v=g.attributes,w=0,E=v.length;w<E;w++){var _=v[w];_.name.indexOf("data-ace-")===0&&(c[l(_.name.replace(/^data-ace-/,""))]=_.value)}var x=y.match(/^(.*)\/ace([\-.]\w+)?\.js(\?|$)/);x&&(d=x[1])}}d&&(c.base=c.base||d,c.packaged=!0),c.basePath=c.base,c.workerPath=c.workerPath||c.base,c.modePath=c.modePath||c.base,c.themePath=c.themePath||c.base,delete c.base;for(var S in c)typeof c[S]<"u"&&o.set(S,c[S])}}function l(u){return u.replace(/-(.)/g,function(c,d){return d.toUpperCase()})}}),ace.define("ace/range",["require","exports","module"],function(n,r,i){var o=function(){function s(a,l,u,c){this.start={row:a,column:l},this.end={row:u,column:c}}return s.prototype.isEqual=function(a){return this.start.row===a.start.row&&this.end.row===a.end.row&&this.start.column===a.start.column&&this.end.column===a.end.column},s.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},s.prototype.contains=function(a,l){return this.compare(a,l)==0},s.prototype.compareRange=function(a){var l,u=a.end,c=a.start;return l=this.compare(u.row,u.column),l==1?(l=this.compare(c.row,c.column),l==1?2:l==0?1:0):l==-1?-2:(l=this.compare(c.row,c.column),l==-1?-1:l==1?42:0)},s.prototype.comparePoint=function(a){return this.compare(a.row,a.column)},s.prototype.containsRange=function(a){return this.comparePoint(a.start)==0&&this.comparePoint(a.end)==0},s.prototype.intersects=function(a){var l=this.compareRange(a);return l==-1||l==0||l==1},s.prototype.isEnd=function(a,l){return this.end.row==a&&this.end.column==l},s.prototype.isStart=function(a,l){return this.start.row==a&&this.start.column==l},s.prototype.setStart=function(a,l){typeof a=="object"?(this.start.column=a.column,this.start.row=a.row):(this.start.row=a,this.start.column=l)},s.prototype.setEnd=function(a,l){typeof a=="object"?(this.end.column=a.column,this.end.row=a.row):(this.end.row=a,this.end.column=l)},s.prototype.inside=function(a,l){return this.compare(a,l)==0?!(this.isEnd(a,l)||this.isStart(a,l)):!1},s.prototype.insideStart=function(a,l){return this.compare(a,l)==0?!this.isEnd(a,l):!1},s.prototype.insideEnd=function(a,l){return this.compare(a,l)==0?!this.isStart(a,l):!1},s.prototype.compare=function(a,l){return!this.isMultiLine()&&a===this.start.row?l<this.start.column?-1:l>this.end.column?1:0:a<this.start.row?-1:a>this.end.row?1:this.start.row===a?l>=this.start.column?0:-1:this.end.row===a?l<=this.end.column?0:1:0},s.prototype.compareStart=function(a,l){return this.start.row==a&&this.start.column==l?-1:this.compare(a,l)},s.prototype.compareEnd=function(a,l){return this.end.row==a&&this.end.column==l?1:this.compare(a,l)},s.prototype.compareInside=function(a,l){return this.end.row==a&&this.end.column==l?1:this.start.row==a&&this.start.column==l?-1:this.compare(a,l)},s.prototype.clipRows=function(a,l){if(this.end.row>l)var u={row:l+1,column:0};else if(this.end.row<a)var u={row:a,column:0};if(this.start.row>l)var c={row:l+1,column:0};else if(this.start.row<a)var c={row:a,column:0};return s.fromPoints(c||this.start,u||this.end)},s.prototype.extend=function(a,l){var u=this.compare(a,l);if(u==0)return this;if(u==-1)var c={row:a,column:l};else var d={row:a,column:l};return s.fromPoints(c||this.start,d||this.end)},s.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},s.prototype.isMultiLine=function(){return this.start.row!==this.end.row},s.prototype.clone=function(){return s.fromPoints(this.start,this.end)},s.prototype.collapseRows=function(){return this.end.column==0?new s(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new s(this.start.row,0,this.end.row,0)},s.prototype.toScreenRange=function(a){var l=a.documentToScreenPosition(this.start),u=a.documentToScreenPosition(this.end);return new s(l.row,l.column,u.row,u.column)},s.prototype.moveBy=function(a,l){this.start.row+=a,this.start.column+=l,this.end.row+=a,this.end.column+=l},s}();o.fromPoints=function(s,a){return new o(s.row,s.column,a.row,a.column)},o.comparePoints=function(s,a){return s.row-a.row||s.column-a.column},r.Range=o}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(n,r,i){for(var o=n("./oop"),s={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete","-13":"NumpadEnter",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",59:";",61:"=",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}},a={Command:224,Backspace:8,Tab:9,Return:13,Enter:13,Pause:19,Escape:27,PageUp:33,PageDown:34,End:35,Home:36,Insert:45,Delete:46,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Backquote:192,Minus:189,Equal:187,BracketLeft:219,Backslash:220,BracketRight:221,Semicolon:186,Quote:222,Comma:188,Period:190,Slash:191,Space:32,NumpadAdd:107,NumpadDecimal:110,NumpadSubtract:109,NumpadDivide:111,NumpadMultiply:106},l=0;l<10;l++)a["Digit"+l]=48+l,a["Numpad"+l]=96+l,s.PRINTABLE_KEYS[48+l]=""+l,s.FUNCTION_KEYS[96+l]="Numpad"+l;for(var l=65;l<91;l++){var u=String.fromCharCode(l+32);a["Key"+u.toUpperCase()]=l,s.PRINTABLE_KEYS[l]=u}for(var l=1;l<13;l++)a["F"+l]=111+l,s.FUNCTION_KEYS[111+l]="F"+l;var c={Shift:16,Control:17,Alt:18,Meta:224};for(var d in c)a[d]=a[d+"Left"]=a[d+"Right"]=c[d];r.$codeToKeyCode=a,s.PRINTABLE_KEYS[173]="-";for(var f in s.FUNCTION_KEYS){var h=s.FUNCTION_KEYS[f].toLowerCase();s[h]=parseInt(f,10)}for(var f in s.PRINTABLE_KEYS){var h=s.PRINTABLE_KEYS[f].toLowerCase();s[h]=parseInt(f,10)}o.mixin(s,s.MODIFIER_KEYS),o.mixin(s,s.PRINTABLE_KEYS),o.mixin(s,s.FUNCTION_KEYS),s.enter=s.return,s.escape=s.esc,s.del=s.delete,function(){for(var p=["cmd","ctrl","alt","shift"],m=Math.pow(2,p.length);m--;)s.KEY_MODS[m]=p.filter(function(g){return m&s.KEY_MODS[g]}).join("-")+"-"}(),s.KEY_MODS[0]="",s.KEY_MODS[-1]="input-",o.mixin(r,s),r.default=r,r.keyCodeToString=function(p){var m=s[p];return typeof m!="string"&&(m=String.fromCharCode(p)),m.toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(n,r,i){var o=n("./keys"),s=n("./useragent"),a=null,l=0,u;function c(){u=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){return u={passive:!1},!0}})}catch{}}function d(){return u==null&&c(),u}function f(w,E,_){this.elem=w,this.type=E,this.callback=_}f.prototype.destroy=function(){p(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var h=r.addListener=function(w,E,_,x){w.addEventListener(E,_,d()),x&&x.$toDestroy.push(new f(w,E,_))},p=r.removeListener=function(w,E,_){w.removeEventListener(E,_,d())};r.stopEvent=function(w){return r.stopPropagation(w),r.preventDefault(w),!1},r.stopPropagation=function(w){w.stopPropagation&&w.stopPropagation()},r.preventDefault=function(w){w.preventDefault&&w.preventDefault()},r.getButton=function(w){return w.type=="dblclick"?0:w.type=="contextmenu"||s.isMac&&w.ctrlKey&&!w.altKey&&!w.shiftKey?2:w.button},r.capture=function(w,E,_){var x=w&&w.ownerDocument||document;function S(C){E&&E(C),_&&_(C),p(x,"mousemove",E),p(x,"mouseup",S),p(x,"dragstart",S)}return h(x,"mousemove",E),h(x,"mouseup",S),h(x,"dragstart",S),S},r.addMouseWheelListener=function(w,E,_){h(w,"wheel",function(x){var S=.15,C=x.deltaX||0,A=x.deltaY||0;switch(x.deltaMode){case x.DOM_DELTA_PIXEL:x.wheelX=C*S,x.wheelY=A*S;break;case x.DOM_DELTA_LINE:var k=15;x.wheelX=C*k,x.wheelY=A*k;break;case x.DOM_DELTA_PAGE:var N=150;x.wheelX=C*N,x.wheelY=A*N;break}E(x)},_)},r.addMultiMouseDownListener=function(w,E,_,x,S){var C=0,A,k,N,M={2:"dblclick",3:"tripleclick",4:"quadclick"};function I(D){if(r.getButton(D)!==0?C=0:D.detail>1?(C++,C>4&&(C=1)):C=1,s.isIE){var R=Math.abs(D.clientX-A)>5||Math.abs(D.clientY-k)>5;(!N||R)&&(C=1),N&&clearTimeout(N),N=setTimeout(function(){N=null},E[C-1]||600),C==1&&(A=D.clientX,k=D.clientY)}if(D._clicks=C,_[x]("mousedown",D),C>4)C=0;else if(C>1)return _[x](M[C],D)}Array.isArray(w)||(w=[w]),w.forEach(function(D){h(D,"mousedown",I,S)})};function m(w){return 0|(w.ctrlKey?1:0)|(w.altKey?2:0)|(w.shiftKey?4:0)|(w.metaKey?8:0)}r.getModifierString=function(w){return o.KEY_MODS[m(w)]};function g(w,E,_){var x=m(E);if(!_&&E.code&&(_=o.$codeToKeyCode[E.code]||_),!s.isMac&&a){if(E.getModifierState&&(E.getModifierState("OS")||E.getModifierState("Win"))&&(x|=8),a.altGr)if((3&x)!=3)a.altGr=0;else return;if(_===18||_===17){var S=E.location;if(_===17&&S===1)a[_]==1&&(l=E.timeStamp);else if(_===18&&x===3&&S===2){var C=E.timeStamp-l;C<50&&(a.altGr=!0)}}}if(_ in o.MODIFIER_KEYS&&(_=-1),!(!x&&_===13&&E.location===3&&(w(E,x,-_),E.defaultPrevented))){if(s.isChromeOS&&x&8){if(w(E,x,_),E.defaultPrevented)return;x&=-9}return!x&&!(_ in o.FUNCTION_KEYS)&&!(_ in o.PRINTABLE_KEYS)?!1:w(E,x,_)}}r.addCommandKeyListener=function(w,E,_){var x=null;h(w,"keydown",function(S){a[S.keyCode]=(a[S.keyCode]||0)+1;var C=g(E,S,S.keyCode);return x=S.defaultPrevented,C},_),h(w,"keypress",function(S){x&&(S.ctrlKey||S.altKey||S.shiftKey||S.metaKey)&&(r.stopEvent(S),x=null)},_),h(w,"keyup",function(S){a[S.keyCode]=null},_),a||(y(),h(window,"focus",y))};function y(){a=Object.create(null)}if(typeof window=="object"&&window.postMessage&&!s.isOldIE){var v=1;r.nextTick=function(w,E){E=E||window;var _="zero-timeout-message-"+v++,x=function(S){S.data==_&&(r.stopPropagation(S),p(E,"message",x),w())};h(E,"message",x),E.postMessage(_,"*")}}r.$idleBlocked=!1,r.onIdle=function(w,E){return setTimeout(function _(){r.$idleBlocked?setTimeout(_,100):w()},E)},r.$idleBlockId=null,r.blockIdle=function(w){r.$idleBlockId&&clearTimeout(r.$idleBlockId),r.$idleBlocked=!0,r.$idleBlockId=setTimeout(function(){r.$idleBlocked=!1},w||100)},r.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),r.nextFrame?r.nextFrame=r.nextFrame.bind(window):r.nextFrame=function(w){setTimeout(w,17)}}),ace.define("ace/clipboard",["require","exports","module"],function(n,r,i){var o;i.exports={lineMode:!1,pasteCancelled:function(){return o&&o>Date.now()-50?!0:o=!1},cancel:function(){o=Date.now()}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/config","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(n,r,i){var o=n("../lib/event"),s=n("../config").nls,a=n("../lib/useragent"),l=n("../lib/dom"),u=n("../lib/lang"),c=n("../clipboard"),d=a.isChrome<18,f=a.isIE,h=a.isChrome>63,p=400,m=n("../lib/keys"),g=m.KEY_MODS,y=a.isIOS,v=y?/\s/:/\n/,w=a.isMobile,E;E=function(_,x){var S=l.createElement("textarea");S.className="ace_text-input",S.setAttribute("wrap","off"),S.setAttribute("autocorrect","off"),S.setAttribute("autocapitalize","off"),S.setAttribute("spellcheck","false"),S.style.opacity="0",_.insertBefore(S,_.firstChild);var C=!1,A=!1,k=!1,N=!1,M="";w||(S.style.fontSize="1px");var I=!1,D=!1,R="",O=0,B=0,z=0,W=Number.MAX_SAFE_INTEGER,U=Number.MIN_SAFE_INTEGER,F=0;try{var Y=document.activeElement===S}catch{}this.setNumberOfExtraLines=function(ue){if(W=Number.MAX_SAFE_INTEGER,U=Number.MIN_SAFE_INTEGER,ue<0){F=0;return}F=ue},this.setAriaLabel=function(){var ue="";if(x.$textInputAriaLabel&&(ue+="".concat(x.$textInputAriaLabel,", ")),x.session){var xe=x.session.selection.cursor.row;ue+=s("text-input.aria-label","Cursor at row $0",[xe+1])}S.setAttribute("aria-label",ue)},this.setAriaOptions=function(ue){ue.activeDescendant?(S.setAttribute("aria-haspopup","true"),S.setAttribute("aria-autocomplete",ue.inline?"both":"list"),S.setAttribute("aria-activedescendant",ue.activeDescendant)):(S.setAttribute("aria-haspopup","false"),S.setAttribute("aria-autocomplete","both"),S.removeAttribute("aria-activedescendant")),ue.role&&S.setAttribute("role",ue.role),ue.setLabel&&(S.setAttribute("aria-roledescription",s("text-input.aria-roledescription","editor")),this.setAriaLabel())},this.setAriaOptions({role:"textbox"}),o.addListener(S,"blur",function(ue){D||(x.onBlur(ue),Y=!1)},x),o.addListener(S,"focus",function(ue){if(!D){if(Y=!0,a.isEdge)try{if(!document.hasFocus())return}catch{}x.onFocus(ue),a.isEdge?setTimeout(G):G()}},x),this.$focusScroll=!1,this.focus=function(){if(this.setAriaOptions({setLabel:x.renderer.enableKeyboardAccessibility}),M||h||this.$focusScroll=="browser")return S.focus({preventScroll:!0});var ue=S.style.top;S.style.position="fixed",S.style.top="0px";try{var xe=S.getBoundingClientRect().top!=0}catch{return}var $e=[];if(xe)for(var Ye=S.parentElement;Ye&&Ye.nodeType==1;)$e.push(Ye),Ye.setAttribute("ace_nocontext","true"),!Ye.parentElement&&Ye.getRootNode?Ye=Ye.getRootNode().host:Ye=Ye.parentElement;S.focus({preventScroll:!0}),xe&&$e.forEach(function(tt){tt.removeAttribute("ace_nocontext")}),setTimeout(function(){S.style.position="",S.style.top=="0px"&&(S.style.top=ue)},0)},this.blur=function(){S.blur()},this.isFocused=function(){return Y},x.on("beforeEndOperation",function(){var ue=x.curOp,xe=ue&&ue.command&&ue.command.name;if(xe!="insertstring"){var $e=xe&&(ue.docChanged||ue.selectionChanged);k&&$e&&(R=S.value="",Ue()),G()}}),x.on("changeSelection",this.setAriaLabel);var V=function(ue,xe){for(var $e=xe,Ye=1;Ye<=ue-W&&Ye<2*F+1;Ye++)$e+=x.session.getLine(ue-Ye).length+1;return $e},G=y?function(ue){if(!(!Y||C&&!ue||N)){ue||(ue="");var xe=`
 ab`+ue+`cde fg
`;xe!=S.value&&(S.value=R=xe);var $e=4,Ye=4+(ue.length||(x.selection.isEmpty()?0:1));(O!=$e||B!=Ye)&&S.setSelectionRange($e,Ye),O=$e,B=Ye}}:function(){if(!(k||N)&&!(!Y&&!ne)){k=!0;var ue=0,xe=0,$e="";if(x.session){var Ye=x.selection,tt=Ye.getRange(),Et=Ye.cursor.row;Et===U+1?(W=U+1,U=W+2*F):Et===W-1?(U=W-1,W=U-2*F):(Et<W-1||Et>U+1)&&(W=Et>F?Et-F:0,U=Et>F?Et+F:2*F);for(var an=[],ln=W;ln<=U;ln++)an.push(x.session.getLine(ln));if($e=an.join(`
`),ue=V(tt.start.row,tt.start.column),xe=V(tt.end.row,tt.end.column),tt.start.row<W){var Wt=x.session.getLine(W-1);ue=tt.start.row<W-1?0:ue,xe+=Wt.length+1,$e=Wt+`
`+$e}else if(tt.end.row>U){var Dt=x.session.getLine(U+1);xe=tt.end.row>U+1?Dt.length:tt.end.column,xe+=$e.length+1,$e=$e+`
`+Dt}else w&&Et>0&&($e=`
`+$e,xe+=1,ue+=1);$e.length>p&&(ue<p&&xe<p?$e=$e.slice(0,p):($e=`
`,ue==xe?ue=xe=0:(ue=0,xe=1)));var Ae=$e+`

`;Ae!=R&&(S.value=R=Ae,O=B=Ae.length)}if(ne&&(O=S.selectionStart,B=S.selectionEnd),B!=xe||O!=ue||S.selectionEnd!=B)try{S.setSelectionRange(ue,xe),O=ue,B=xe}catch{}k=!1}};this.resetSelection=G,Y&&x.onFocus();var X=function(ue){return ue.selectionStart===0&&ue.selectionEnd>=R.length&&ue.value===R&&R&&ue.selectionEnd!==B},Z=function(ue){k||(C?C=!1:X(S)?(x.selectAll(),G()):w&&S.selectionStart!=O&&G())},oe=null;this.setInputHandler=function(ue){oe=ue},this.getInputHandler=function(){return oe};var ne=!1,ie=function(ue,xe){if(ne&&(ne=!1),A)return G(),ue&&x.onPaste(ue),A=!1,"";for(var $e=S.selectionStart,Ye=S.selectionEnd,tt=O,Et=R.length-B,an=ue,ln=ue.length-$e,Wt=ue.length-Ye,Dt=0;tt>0&&R[Dt]==ue[Dt];)Dt++,tt--;for(an=an.slice(Dt),Dt=1;Et>0&&R.length-Dt>O-1&&R[R.length-Dt]==ue[ue.length-Dt];)Dt++,Et--;ln-=Dt-1,Wt-=Dt-1;var Ae=an.length-Dt+1;if(Ae<0&&(tt=-Ae,Ae=0),an=an.slice(0,Ae),!xe&&!an&&!ln&&!tt&&!Et&&!Wt)return"";N=!0;var Qe=!1;return a.isAndroid&&an==". "&&(an="  ",Qe=!0),an&&!tt&&!Et&&!ln&&!Wt||I?x.onTextInput(an):x.onTextInput(an,{extendLeft:tt,extendRight:Et,restoreStart:ln,restoreEnd:Wt}),N=!1,R=ue,O=$e,B=Ye,z=Wt,Qe?`
`:an},fe=function(ue){if(k)return Fe();if(ue&&ue.inputType){if(ue.inputType=="historyUndo")return x.execCommand("undo");if(ue.inputType=="historyRedo")return x.execCommand("redo")}var xe=S.value,$e=ie(xe,!0);(xe.length>p+100||v.test($e)||w&&O<1&&O==B)&&G()},se=function(ue,xe,$e){var Ye=ue.clipboardData||window.clipboardData;if(!(!Ye||d)){var tt=f||$e?"Text":"text/plain";try{return xe?Ye.setData(tt,xe)!==!1:Ye.getData(tt)}catch(Et){if(!$e)return se(Et,xe,!0)}}},ae=function(ue,xe){var $e=x.getCopyText();if(!$e)return o.preventDefault(ue);se(ue,$e)?(y&&(G($e),C=$e,setTimeout(function(){C=!1},10)),xe?x.onCut():x.onCopy(),o.preventDefault(ue)):(C=!0,S.value=$e,S.select(),setTimeout(function(){C=!1,G(),xe?x.onCut():x.onCopy()}))},Se=function(ue){ae(ue,!0)},Te=function(ue){ae(ue,!1)},Oe=function(ue){var xe=se(ue);c.pasteCancelled()||(typeof xe=="string"?(xe&&x.onPaste(xe,ue),a.isIE&&setTimeout(G),o.preventDefault(ue)):(S.value="",A=!0))};o.addCommandKeyListener(S,function(ue,xe,$e){if(!k)return x.onCommandKey(ue,xe,$e)},x),o.addListener(S,"select",Z,x),o.addListener(S,"input",fe,x),o.addListener(S,"cut",Se,x),o.addListener(S,"copy",Te,x),o.addListener(S,"paste",Oe,x),(!("oncut"in S)||!("oncopy"in S)||!("onpaste"in S))&&o.addListener(_,"keydown",function(ue){if(!(a.isMac&&!ue.metaKey||!ue.ctrlKey))switch(ue.keyCode){case 67:Te(ue);break;case 86:Oe(ue);break;case 88:Se(ue);break}},x);var We=function(ue){if(!(k||!x.onCompositionStart||x.$readOnly)&&(k={},!I)){ue.data&&(k.useTextareaForIME=!1),setTimeout(Fe,0),x._signal("compositionStart"),x.on("mousedown",rt);var xe=x.getSelectionRange();xe.end.row=xe.start.row,xe.end.column=xe.start.column,k.markerRange=xe,k.selectionStart=O,x.onCompositionStart(k),k.useTextareaForIME?(R=S.value="",O=0,B=0):(S.msGetInputContext&&(k.context=S.msGetInputContext()),S.getInputContext&&(k.context=S.getInputContext()))}},Fe=function(){if(!(!k||!x.onCompositionUpdate||x.$readOnly)){if(I)return rt();if(k.useTextareaForIME)x.onCompositionUpdate(S.value);else{var ue=S.value;ie(ue),k.markerRange&&(k.context&&(k.markerRange.start.column=k.selectionStart=k.context.compositionStartOffset),k.markerRange.end.column=k.markerRange.start.column+B-k.selectionStart+z)}}},Ue=function(ue){!x.onCompositionEnd||x.$readOnly||(k=!1,x.onCompositionEnd(),x.off("mousedown",rt),ue&&fe())};function rt(){D=!0,S.blur(),S.focus(),D=!1}var at=u.delayedCall(Fe,50).schedule.bind(null,null);function ct(ue){ue.keyCode==27&&S.value.length<S.selectionStart&&(k||(R=S.value),O=B=-1,G()),at()}o.addListener(S,"compositionstart",We,x),o.addListener(S,"compositionupdate",Fe,x),o.addListener(S,"keyup",ct,x),o.addListener(S,"keydown",at,x),o.addListener(S,"compositionend",Ue,x),this.getElement=function(){return S},this.setCommandMode=function(ue){I=ue,S.readOnly=!1},this.setReadOnly=function(ue){I||(S.readOnly=ue)},this.setCopyWithEmptySelection=function(ue){},this.onContextMenu=function(ue){ne=!0,G(),x._emit("nativecontextmenu",{target:x,domEvent:ue}),this.moveToMouse(ue,!0)},this.moveToMouse=function(ue,xe){M||(M=S.style.cssText),S.style.cssText=(xe?"z-index:100000;":"")+(a.isIE?"opacity:0.1;":"")+"text-indent: -"+(O+B)*x.renderer.characterWidth*.5+"px;";var $e=x.container.getBoundingClientRect(),Ye=l.computedStyle(x.container),tt=$e.top+(parseInt(Ye.borderTopWidth)||0),Et=$e.left+(parseInt(Ye.borderLeftWidth)||0),an=$e.bottom-tt-S.clientHeight-2,ln=function(Wt){l.translate(S,Wt.clientX-Et-2,Math.min(Wt.clientY-tt-2,an))};ln(ue),ue.type=="mousedown"&&(x.renderer.$isMousePressed=!0,clearTimeout(vt),a.isWin&&o.capture(x.container,ln,gt))},this.onContextMenuClose=gt;var vt;function gt(){clearTimeout(vt),vt=setTimeout(function(){M&&(S.style.cssText=M,M=""),x.renderer.$isMousePressed=!1,x.renderer.$keepTextAreaAtCursor&&x.renderer.$moveTextAreaToCursor()},0)}var Ze=function(ue){x.textInput.onContextMenu(ue),gt()};o.addListener(S,"mouseup",Ze,x),o.addListener(S,"mousedown",function(ue){ue.preventDefault(),gt()},x),o.addListener(x.renderer.scroller,"contextmenu",Ze,x),o.addListener(S,"contextmenu",Ze,x),y&&Tt(_,x,S);function Tt(ue,xe,$e){var Ye=null,tt=!1;$e.addEventListener("keydown",function(an){Ye&&clearTimeout(Ye),tt=!0},!0),$e.addEventListener("keyup",function(an){Ye=setTimeout(function(){tt=!1},100)},!0);var Et=function(an){if(document.activeElement===$e&&!(tt||k||xe.$mouseHandler.isMousePressed)&&!C){var ln=$e.selectionStart,Wt=$e.selectionEnd,Dt=null,Ae=0;if(ln==0?Dt=m.up:ln==1?Dt=m.home:Wt>B&&R[Wt]==`
`?Dt=m.end:ln<O&&R[ln-1]==" "?(Dt=m.left,Ae=g.option):ln<O||ln==O&&B!=O&&ln==Wt?Dt=m.left:Wt>B&&R.slice(0,Wt).split(`
`).length>2?Dt=m.down:Wt>B&&R[Wt-1]==" "?(Dt=m.right,Ae=g.option):(Wt>B||Wt==B&&B!=O&&ln==Wt)&&(Dt=m.right),ln!==Wt&&(Ae|=g.shift),Dt){var Qe=xe.onCommandKey({},Ae,Dt);if(!Qe&&xe.commands){Dt=m.keyCodeToString(Dt);var Ct=xe.commands.findKeyCommand(Ae,Dt);Ct&&xe.execCommand(Ct)}O=ln,B=Wt,G("")}}};document.addEventListener("selectionchange",Et),xe.on("destroy",function(){document.removeEventListener("selectionchange",Et)})}this.destroy=function(){S.parentElement&&S.parentElement.removeChild(S)}},r.TextInput=E,r.$setUserAgentForTests=function(_,x){w=_,y=x}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(n,r,i){var o=n("../lib/useragent"),s=0,a=550,l=function(){function d(f){f.$clickSelection=null;var h=f.editor;h.setDefaultHandler("mousedown",this.onMouseDown.bind(f)),h.setDefaultHandler("dblclick",this.onDoubleClick.bind(f)),h.setDefaultHandler("tripleclick",this.onTripleClick.bind(f)),h.setDefaultHandler("quadclick",this.onQuadClick.bind(f)),h.setDefaultHandler("mousewheel",this.onMouseWheel.bind(f));var p=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];p.forEach(function(m){f[m]=this[m]},this),f.selectByLines=this.extendSelectionBy.bind(f,"getLineRange"),f.selectByWords=this.extendSelectionBy.bind(f,"getWordRange")}return d.prototype.onMouseDown=function(f){var h=f.inSelection(),p=f.getDocumentPosition();this.mousedownEvent=f;var m=this.editor,g=f.getButton();if(g!==0){var y=m.getSelectionRange(),v=y.isEmpty();(v||g==1)&&m.selection.moveToPosition(p),g==2&&(m.textInput.onContextMenu(f.domEvent),o.isMozilla||f.preventDefault());return}if(this.mousedownEvent.time=Date.now(),h&&!m.isFocused()&&(m.focus(),this.$focusTimeout&&!this.$clickSelection&&!m.inMultiSelectMode)){this.setState("focusWait"),this.captureMouse(f);return}return this.captureMouse(f),this.startSelect(p,f.domEvent._clicks>1),f.preventDefault()},d.prototype.startSelect=function(f,h){f=f||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var p=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?p.selection.selectToPosition(f):h||p.selection.moveToPosition(f),h||this.select(),p.setStyle("ace_selecting"),this.setState("select"))},d.prototype.select=function(){var f,h=this.editor,p=h.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var m=this.$clickSelection.comparePoint(p);if(m==-1)f=this.$clickSelection.end;else if(m==1)f=this.$clickSelection.start;else{var g=c(this.$clickSelection,p);p=g.cursor,f=g.anchor}h.selection.setSelectionAnchor(f.row,f.column)}h.selection.selectToPosition(p),h.renderer.scrollCursorIntoView()},d.prototype.extendSelectionBy=function(f){var h,p=this.editor,m=p.renderer.screenToTextCoordinates(this.x,this.y),g=p.selection[f](m.row,m.column);if(this.$clickSelection){var y=this.$clickSelection.comparePoint(g.start),v=this.$clickSelection.comparePoint(g.end);if(y==-1&&v<=0)h=this.$clickSelection.end,(g.end.row!=m.row||g.end.column!=m.column)&&(m=g.start);else if(v==1&&y>=0)h=this.$clickSelection.start,(g.start.row!=m.row||g.start.column!=m.column)&&(m=g.end);else if(y==-1&&v==1)m=g.end,h=g.start;else{var w=c(this.$clickSelection,m);m=w.cursor,h=w.anchor}p.selection.setSelectionAnchor(h.row,h.column)}p.selection.selectToPosition(m),p.renderer.scrollCursorIntoView()},d.prototype.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting")},d.prototype.focusWait=function(){var f=u(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),h=Date.now();(f>s||h-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},d.prototype.onDoubleClick=function(f){var h=f.getDocumentPosition(),p=this.editor,m=p.session,g=m.getBracketRange(h);g?(g.isEmpty()&&(g.start.column--,g.end.column++),this.setState("select")):(g=p.selection.getWordRange(h.row,h.column),this.setState("selectByWords")),this.$clickSelection=g,this.select()},d.prototype.onTripleClick=function(f){var h=f.getDocumentPosition(),p=this.editor;this.setState("selectByLines");var m=p.getSelectionRange();m.isMultiLine()&&m.contains(h.row,h.column)?(this.$clickSelection=p.selection.getLineRange(m.start.row),this.$clickSelection.end=p.selection.getLineRange(m.end.row).end):this.$clickSelection=p.selection.getLineRange(h.row),this.select()},d.prototype.onQuadClick=function(f){var h=this.editor;h.selectAll(),this.$clickSelection=h.getSelectionRange(),this.setState("selectAll")},d.prototype.onMouseWheel=function(f){if(!f.getAccelKey()){f.getShiftKey()&&f.wheelY&&!f.wheelX&&(f.wheelX=f.wheelY,f.wheelY=0);var h=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var p=this.$lastScroll,m=f.domEvent.timeStamp,g=m-p.t,y=g?f.wheelX/g:p.vx,v=g?f.wheelY/g:p.vy;g<a&&(y=(y+p.vx)/2,v=(v+p.vy)/2);var w=Math.abs(y/v),E=!1;if(w>=1&&h.renderer.isScrollableBy(f.wheelX*f.speed,0)&&(E=!0),w<=1&&h.renderer.isScrollableBy(0,f.wheelY*f.speed)&&(E=!0),E)p.allowed=m;else if(m-p.allowed<a){var _=Math.abs(y)<=1.5*Math.abs(p.vx)&&Math.abs(v)<=1.5*Math.abs(p.vy);_?(E=!0,p.allowed=m):p.allowed=0}if(p.t=m,p.vx=y,p.vy=v,E)return h.renderer.scrollBy(f.wheelX*f.speed,f.wheelY*f.speed),f.stop()}},d}();l.prototype.selectEnd=l.prototype.selectByLinesEnd,l.prototype.selectAllEnd=l.prototype.selectByLinesEnd,l.prototype.selectByWordsEnd=l.prototype.selectByLinesEnd,r.DefaultHandlers=l;function u(d,f,h,p){return Math.sqrt(Math.pow(h-d,2)+Math.pow(p-f,2))}function c(d,f){if(d.start.row==d.end.row)var h=2*f.column-d.start.column-d.end.column;else if(d.start.row==d.end.row-1&&!d.start.column&&!d.end.column)var h=f.column-4;else var h=2*f.row-d.start.row-d.end.row;return h<0?{cursor:d.start,anchor:d.end}:{cursor:d.end,anchor:d.start}}}),ace.define("ace/lib/scroll",["require","exports","module"],function(n,r,i){r.preventParentScroll=function(s){s.stopPropagation();var a=s.currentTarget,l=a.scrollHeight>a.clientHeight;l||s.preventDefault()}}),ace.define("ace/tooltip",["require","exports","module","ace/lib/dom","ace/lib/event","ace/range","ace/lib/scroll"],function(n,r,i){var o=this&&this.__extends||function(){var m=function(g,y){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,w){v.__proto__=w}||function(v,w){for(var E in w)Object.prototype.hasOwnProperty.call(w,E)&&(v[E]=w[E])},m(g,y)};return function(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");m(g,y);function v(){this.constructor=g}g.prototype=y===null?Object.create(y):(v.prototype=y.prototype,new v)}}(),s=this&&this.__values||function(m){var g=typeof Symbol=="function"&&Symbol.iterator,y=g&&m[g],v=0;if(y)return y.call(m);if(m&&typeof m.length=="number")return{next:function(){return m&&v>=m.length&&(m=void 0),{value:m&&m[v++],done:!m}}};throw new TypeError(g?"Object is not iterable.":"Symbol.iterator is not defined.")},a=n("./lib/dom");n("./lib/event");var l=n("./range").Range,u=n("./lib/scroll").preventParentScroll,c="ace_tooltip",d=function(){function m(g){this.isOpen=!1,this.$element=null,this.$parentNode=g}return m.prototype.$init=function(){return this.$element=a.createElement("div"),this.$element.className=c,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},m.prototype.getElement=function(){return this.$element||this.$init()},m.prototype.setText=function(g){this.getElement().textContent=g},m.prototype.setHtml=function(g){this.getElement().innerHTML=g},m.prototype.setPosition=function(g,y){this.getElement().style.left=g+"px",this.getElement().style.top=y+"px"},m.prototype.setClassName=function(g){a.addCssClass(this.getElement(),g)},m.prototype.setTheme=function(g){this.$element.className=c+" "+(g.isDark?"ace_dark ":"")+(g.cssClass||"")},m.prototype.show=function(g,y,v){g!=null&&this.setText(g),y!=null&&v!=null&&this.setPosition(y,v),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},m.prototype.hide=function(g){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=c,this.isOpen=!1)},m.prototype.getHeight=function(){return this.getElement().offsetHeight},m.prototype.getWidth=function(){return this.getElement().offsetWidth},m.prototype.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)},m}(),f=function(){function m(){this.popups=[]}return m.prototype.addPopup=function(g){this.popups.push(g),this.updatePopups()},m.prototype.removePopup=function(g){var y=this.popups.indexOf(g);y!==-1&&(this.popups.splice(y,1),this.updatePopups())},m.prototype.updatePopups=function(){var g,y,v,w;this.popups.sort(function(M,I){return I.priority-M.priority});var E=[];try{for(var _=s(this.popups),x=_.next();!x.done;x=_.next()){var S=x.value,C=!0;try{for(var A=(v=void 0,s(E)),k=A.next();!k.done;k=A.next()){var N=k.value;if(this.doPopupsOverlap(N,S)){C=!1;break}}}catch(M){v={error:M}}finally{try{k&&!k.done&&(w=A.return)&&w.call(A)}finally{if(v)throw v.error}}C?E.push(S):S.hide()}}catch(M){g={error:M}}finally{try{x&&!x.done&&(y=_.return)&&y.call(_)}finally{if(g)throw g.error}}},m.prototype.doPopupsOverlap=function(g,y){var v=g.getElement().getBoundingClientRect(),w=y.getElement().getBoundingClientRect();return v.left<w.right&&v.right>w.left&&v.top<w.bottom&&v.bottom>w.top},m}(),h=new f;r.popupManager=h,r.Tooltip=d;var p=function(m){o(g,m);function g(y){y===void 0&&(y=document.body);var v=m.call(this,y)||this;v.timeout=void 0,v.lastT=0,v.idleTime=350,v.lastEvent=void 0,v.onMouseOut=v.onMouseOut.bind(v),v.onMouseMove=v.onMouseMove.bind(v),v.waitForHover=v.waitForHover.bind(v),v.hide=v.hide.bind(v);var w=v.getElement();return w.style.whiteSpace="pre-wrap",w.style.pointerEvents="auto",w.addEventListener("mouseout",v.onMouseOut),w.tabIndex=-1,w.addEventListener("blur",(function(){w.contains(document.activeElement)||this.hide()}).bind(v)),w.addEventListener("wheel",u),v}return g.prototype.addToEditor=function(y){y.on("mousemove",this.onMouseMove),y.on("mousedown",this.hide),y.renderer.getMouseEventTarget().addEventListener("mouseout",this.onMouseOut,!0)},g.prototype.removeFromEditor=function(y){y.off("mousemove",this.onMouseMove),y.off("mousedown",this.hide),y.renderer.getMouseEventTarget().removeEventListener("mouseout",this.onMouseOut,!0),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},g.prototype.onMouseMove=function(y,v){this.lastEvent=y,this.lastT=Date.now();var w=v.$mouseHandler.isMousePressed;if(this.isOpen){var E=this.lastEvent&&this.lastEvent.getDocumentPosition();(!this.range||!this.range.contains(E.row,E.column)||w||this.isOutsideOfText(this.lastEvent))&&this.hide()}this.timeout||w||(this.lastEvent=y,this.timeout=setTimeout(this.waitForHover,this.idleTime))},g.prototype.waitForHover=function(){this.timeout&&clearTimeout(this.timeout);var y=Date.now()-this.lastT;if(this.idleTime-y>10){this.timeout=setTimeout(this.waitForHover,this.idleTime-y);return}this.timeout=null,this.lastEvent&&!this.isOutsideOfText(this.lastEvent)&&this.$gatherData(this.lastEvent,this.lastEvent.editor)},g.prototype.isOutsideOfText=function(y){var v=y.editor,w=y.getDocumentPosition(),E=v.session.getLine(w.row);if(w.column==E.length){var _=v.renderer.pixelToScreenCoordinates(y.clientX,y.clientY),x=v.session.documentToScreenPosition(w.row,w.column);if(x.column!=_.column||x.row!=_.row)return!0}return!1},g.prototype.setDataProvider=function(y){this.$gatherData=y},g.prototype.showForRange=function(y,v,w,E){var _=10;if(!(E&&E!=this.lastEvent)&&!(this.isOpen&&document.activeElement==this.getElement())){var x=y.renderer;this.isOpen||(h.addPopup(this),this.$registerCloseEvents(),this.setTheme(x.theme)),this.isOpen=!0,this.addMarker(v,y.session),this.range=l.fromPoints(v.start,v.end);var S=x.textToScreenCoordinates(v.start.row,v.start.column),C=x.scroller.getBoundingClientRect();S.pageX<C.left&&(S.pageX=C.left);var A=this.getElement();A.innerHTML="",A.appendChild(w),A.style.maxHeight="",A.style.display="block";var k=A.clientHeight,N=A.clientWidth,M=window.innerHeight-S.pageY-x.lineHeight,I=!0;S.pageY-k<0&&S.pageY<M&&(I=!1),A.style.maxHeight=(I?S.pageY:M)-_+"px",A.style.top=I?"":S.pageY+x.lineHeight+"px",A.style.bottom=I?window.innerHeight-S.pageY+"px":"",A.style.left=Math.min(S.pageX,window.innerWidth-N-_)+"px"}},g.prototype.addMarker=function(y,v){this.marker&&this.$markerSession.removeMarker(this.marker),this.$markerSession=v,this.marker=v&&v.addMarker(y,"ace_highlight-marker","text")},g.prototype.hide=function(y){!y&&document.activeElement==this.getElement()||y&&y.target&&(y.type!="keydown"||y.ctrlKey||y.metaKey)&&this.$element.contains(y.target)||(this.lastEvent=null,this.timeout&&clearTimeout(this.timeout),this.timeout=null,this.addMarker(null),this.isOpen&&(this.$removeCloseEvents(),this.getElement().style.display="none",this.isOpen=!1,h.removePopup(this)))},g.prototype.$registerCloseEvents=function(){window.addEventListener("keydown",this.hide,!0),window.addEventListener("wheel",this.hide,!0),window.addEventListener("mousedown",this.hide,!0)},g.prototype.$removeCloseEvents=function(){window.removeEventListener("keydown",this.hide,!0),window.removeEventListener("wheel",this.hide,!0),window.removeEventListener("mousedown",this.hide,!0)},g.prototype.onMouseOut=function(y){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.lastEvent=null,this.isOpen&&(!y.relatedTarget||this.getElement().contains(y.relatedTarget)||y&&y.currentTarget.contains(y.relatedTarget)||y.relatedTarget.classList.contains("ace_content")||this.hide())},g}(d);r.HoverTooltip=p}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/tooltip","ace/config"],function(n,r,i){var o=this&&this.__extends||function(){var m=function(g,y){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,w){v.__proto__=w}||function(v,w){for(var E in w)Object.prototype.hasOwnProperty.call(w,E)&&(v[E]=w[E])},m(g,y)};return function(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");m(g,y);function v(){this.constructor=g}g.prototype=y===null?Object.create(y):(v.prototype=y.prototype,new v)}}(),s=this&&this.__values||function(m){var g=typeof Symbol=="function"&&Symbol.iterator,y=g&&m[g],v=0;if(y)return y.call(m);if(m&&typeof m.length=="number")return{next:function(){return m&&v>=m.length&&(m=void 0),{value:m&&m[v++],done:!m}}};throw new TypeError(g?"Object is not iterable.":"Symbol.iterator is not defined.")},a=n("../lib/dom"),l=n("../lib/event"),u=n("../tooltip").Tooltip,c=n("../config").nls,d=5,f=3;r.GUTTER_TOOLTIP_LEFT_OFFSET=d,r.GUTTER_TOOLTIP_TOP_OFFSET=f;function h(m){var g=m.editor,y=g.renderer.$gutterLayer,v=new p(g,!0);m.editor.setDefaultHandler("guttermousedown",function(C){if(!(!g.isFocused()||C.getButton()!=0)){var A=y.getRegion(C);if(A!="foldWidgets"){var k=C.getDocumentPosition().row,N=g.session.selection;if(C.getShiftKey())N.selectTo(k,0);else{if(C.domEvent.detail==2)return g.selectAll(),C.preventDefault();m.$clickSelection=g.selection.getLineRange(k)}return m.setState("selectByLines"),m.captureMouse(C),C.preventDefault()}}});var w,E;function _(){var C=E.getDocumentPosition().row,A=g.session.getLength();if(C==A){var k=g.renderer.pixelToScreenCoordinates(0,E.y).row,N=E.$pos;if(k>g.session.documentToScreenRow(N.row,N.column))return x()}if(v.showTooltip(C),!!v.isOpen)if(g.on("mousewheel",x),g.on("changeSession",x),window.addEventListener("keydown",x,!0),m.$tooltipFollowsMouse)S(E);else{var M=E.getGutterRow(),I=y.$lines.get(M);if(I){var D=I.element.querySelector(".ace_gutter_annotation"),R=D.getBoundingClientRect(),O=v.getElement().style;O.left=R.right-d+"px",O.top=R.bottom-f+"px"}else S(E)}}function x(C){C&&C.type==="keydown"&&(C.ctrlKey||C.metaKey)||C&&C.type==="mouseout"&&(!C.relatedTarget||v.getElement().contains(C.relatedTarget))||(w&&(w=clearTimeout(w)),v.isOpen&&(v.hideTooltip(),g.off("mousewheel",x),g.off("changeSession",x),window.removeEventListener("keydown",x,!0)))}function S(C){v.setPosition(C.x,C.y)}m.editor.setDefaultHandler("guttermousemove",function(C){var A=C.domEvent.target||C.domEvent.srcElement;if(a.hasCssClass(A,"ace_fold-widget"))return x();v.isOpen&&m.$tooltipFollowsMouse&&S(C),E=C,!w&&(w=setTimeout(function(){w=null,E&&!m.isMousePressed&&_()},50))}),l.addListener(g.renderer.$gutter,"mouseout",function(C){E=null,v.isOpen&&(w=setTimeout(function(){w=null,x(C)},50))},g)}r.GutterHandler=h;var p=function(m){o(g,m);function g(y,v){v===void 0&&(v=!1);var w=m.call(this,y.container)||this;w.editor=y,w.visibleTooltipRow;var E=w.getElement();return E.setAttribute("role","tooltip"),E.style.pointerEvents="auto",v&&(w.onMouseOut=w.onMouseOut.bind(w),E.addEventListener("mouseout",w.onMouseOut)),w}return g.prototype.onMouseOut=function(y){this.isOpen&&(!y.relatedTarget||this.getElement().contains(y.relatedTarget)||y&&y.currentTarget.contains(y.relatedTarget)||this.hideTooltip())},g.prototype.setPosition=function(y,v){var w=window.innerWidth||document.documentElement.clientWidth,E=window.innerHeight||document.documentElement.clientHeight,_=this.getWidth(),x=this.getHeight();y+=15,v+=15,y+_>w&&(y-=y+_-w),v+x>E&&(v-=20+x),u.prototype.setPosition.call(this,y,v)},Object.defineProperty(g,"annotationLabels",{get:function(){return{error:{singular:c("gutter-tooltip.aria-label.error.singular","error"),plural:c("gutter-tooltip.aria-label.error.plural","errors")},security:{singular:c("gutter-tooltip.aria-label.security.singular","security finding"),plural:c("gutter-tooltip.aria-label.security.plural","security findings")},warning:{singular:c("gutter-tooltip.aria-label.warning.singular","warning"),plural:c("gutter-tooltip.aria-label.warning.plural","warnings")},info:{singular:c("gutter-tooltip.aria-label.info.singular","information message"),plural:c("gutter-tooltip.aria-label.info.plural","information messages")},hint:{singular:c("gutter-tooltip.aria-label.hint.singular","suggestion"),plural:c("gutter-tooltip.aria-label.hint.plural","suggestions")}}},enumerable:!1,configurable:!0}),g.prototype.showTooltip=function(y){var v,w=this.editor.renderer.$gutterLayer,E=w.$annotations[y],_;E?_={displayText:Array.from(E.displayText),type:Array.from(E.type)}:_={displayText:[],type:[]};var x=w.session.getFoldLine(y);if(x&&w.$showFoldedAnnotations){for(var S={error:[],security:[],warning:[],info:[],hint:[]},C={error:1,security:2,warning:3,info:4,hint:5},A,k=y+1;k<=x.end.row;k++)if(w.$annotations[k])for(var N=0;N<w.$annotations[k].text.length;N++){var M=w.$annotations[k].type[N];S[M].push(w.$annotations[k].text[N]),(!A||C[M]<C[A])&&(A=M)}if(["error","security","warning"].includes(A)){var I="".concat(g.annotationsToSummaryString(S)," in folded code.");_.displayText.push(I),_.type.push(A+"_fold")}}if(_.displayText.length===0)return this.hideTooltip();for(var D={error:[],security:[],warning:[],info:[],hint:[]},R=w.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",k=0;k<_.displayText.length;k++){var O=a.createElement("span"),B=a.createElement("span");(v=B.classList).add.apply(v,["ace_".concat(_.type[k]),R]),B.setAttribute("aria-label","".concat(g.annotationLabels[_.type[k].replace("_fold","")].singular)),B.setAttribute("role","img"),B.appendChild(a.createTextNode(" ")),O.appendChild(B),O.appendChild(a.createTextNode(_.displayText[k])),O.appendChild(a.createElement("br")),D[_.type[k].replace("_fold","")].push(O)}var z=this.getElement();a.removeChildren(z),D.error.forEach(function(W){return z.appendChild(W)}),D.security.forEach(function(W){return z.appendChild(W)}),D.warning.forEach(function(W){return z.appendChild(W)}),D.info.forEach(function(W){return z.appendChild(W)}),D.hint.forEach(function(W){return z.appendChild(W)}),z.setAttribute("aria-live","polite"),this.isOpen||(this.setTheme(this.editor.renderer.theme),this.setClassName("ace_gutter-tooltip")),this.show(),this.visibleTooltipRow=y,this.editor._signal("showGutterTooltip",this)},g.prototype.hideTooltip=function(){this.isOpen&&(this.$element.removeAttribute("aria-live"),this.hide(),this.visibleTooltipRow=void 0,this.editor._signal("hideGutterTooltip",this))},g.annotationsToSummaryString=function(y){var v,w,E=[],_=["error","security","warning","info","hint"];try{for(var x=s(_),S=x.next();!S.done;S=x.next()){var C=S.value;if(y[C].length){var A=y[C].length===1?g.annotationLabels[C].singular:g.annotationLabels[C].plural;E.push("".concat(y[C].length," ").concat(A))}}}catch(k){v={error:k}}finally{try{S&&!S.done&&(w=x.return)&&w.call(x)}finally{if(v)throw v.error}}return E.join(", ")},g}(u);r.GutterTooltip=p}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(n,r,i){var o=n("../lib/event"),s=n("../lib/useragent"),a=function(){function l(u,c){this.speed,this.wheelX,this.wheelY,this.domEvent=u,this.editor=c,this.x=this.clientX=u.clientX,this.y=this.clientY=u.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1}return l.prototype.stopPropagation=function(){o.stopPropagation(this.domEvent),this.propagationStopped=!0},l.prototype.preventDefault=function(){o.preventDefault(this.domEvent),this.defaultPrevented=!0},l.prototype.stop=function(){this.stopPropagation(),this.preventDefault()},l.prototype.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},l.prototype.getGutterRow=function(){var u=this.getDocumentPosition().row,c=this.editor.session.documentToScreenRow(u,0),d=this.editor.session.documentToScreenRow(this.editor.renderer.$gutterLayer.$lines.get(0).row,0);return c-d},l.prototype.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var u=this.editor,c=u.getSelectionRange();if(c.isEmpty())this.$inSelection=!1;else{var d=this.getDocumentPosition();this.$inSelection=c.contains(d.row,d.column)}return this.$inSelection},l.prototype.getButton=function(){return o.getButton(this.domEvent)},l.prototype.getShiftKey=function(){return this.domEvent.shiftKey},l.prototype.getAccelKey=function(){return s.isMac?this.domEvent.metaKey:this.domEvent.ctrlKey},l}();r.MouseEvent=a}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(n,r,i){var o=n("../lib/dom"),s=n("../lib/event"),a=n("../lib/useragent"),l=200,u=200,c=5;function d(h){var p=h.editor,m=o.createElement("div");m.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",m.textContent="";var g=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];g.forEach(function(V){h[V]=this[V]},this),p.on("mousedown",this.onMouseDown.bind(h));var y=p.container,v,w,E,_,x,S,C=0,A,k,N,M,I;this.onDragStart=function(V){if(this.cancelDrag||!y.draggable){var G=this;return setTimeout(function(){G.startSelect(),G.captureMouse(V)},0),V.preventDefault()}x=p.getSelectionRange();var X=V.dataTransfer;X.effectAllowed=p.getReadOnly()?"copy":"copyMove",p.container.appendChild(m),X.setDragImage&&X.setDragImage(m,0,0),setTimeout(function(){p.container.removeChild(m)}),X.clearData(),X.setData("Text",p.session.getTextRange()),k=!0,this.setState("drag")},this.onDragEnd=function(V){if(y.draggable=!1,k=!1,this.setState(null),!p.getReadOnly()){var G=V.dataTransfer.dropEffect;!A&&G=="move"&&p.session.remove(p.getSelectionRange()),p.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(V){if(!(p.getReadOnly()||!F(V.dataTransfer)))return w=V.clientX,E=V.clientY,v||B(),C++,V.dataTransfer.dropEffect=A=Y(V),s.preventDefault(V)},this.onDragOver=function(V){if(!(p.getReadOnly()||!F(V.dataTransfer)))return w=V.clientX,E=V.clientY,v||(B(),C++),W!==null&&(W=null),V.dataTransfer.dropEffect=A=Y(V),s.preventDefault(V)},this.onDragLeave=function(V){if(C--,C<=0&&v)return z(),A=null,s.preventDefault(V)},this.onDrop=function(V){if(S){var G=V.dataTransfer;if(k)switch(A){case"move":x.contains(S.row,S.column)?x={start:S,end:S}:x=p.moveText(x,S);break;case"copy":x=p.moveText(x,S,!0);break}else{var X=G.getData("Text");x={start:S,end:p.session.insert(S,X)},p.focus(),A=null}return z(),s.preventDefault(V)}},s.addListener(y,"dragstart",this.onDragStart.bind(h),p),s.addListener(y,"dragend",this.onDragEnd.bind(h),p),s.addListener(y,"dragenter",this.onDragEnter.bind(h),p),s.addListener(y,"dragover",this.onDragOver.bind(h),p),s.addListener(y,"dragleave",this.onDragLeave.bind(h),p),s.addListener(y,"drop",this.onDrop.bind(h),p);function D(V,G){var X=Date.now(),Z=!G||V.row!=G.row,oe=!G||V.column!=G.column;if(!M||Z||oe)p.moveCursorToPosition(V),M=X,I={x:w,y:E};else{var ne=f(I.x,I.y,w,E);ne>c?M=null:X-M>=u&&(p.renderer.scrollCursorIntoView(),M=null)}}function R(V,G){var X=Date.now(),Z=p.renderer.layerConfig.lineHeight,oe=p.renderer.layerConfig.characterWidth,ne=p.renderer.scroller.getBoundingClientRect(),ie={x:{left:w-ne.left,right:ne.right-w},y:{top:E-ne.top,bottom:ne.bottom-E}},fe=Math.min(ie.x.left,ie.x.right),se=Math.min(ie.y.top,ie.y.bottom),ae={row:V.row,column:V.column};fe/oe<=2&&(ae.column+=ie.x.left<ie.x.right?-3:2),se/Z<=1&&(ae.row+=ie.y.top<ie.y.bottom?-1:1);var Se=V.row!=ae.row,Te=V.column!=ae.column,Oe=!G||V.row!=G.row;Se||Te&&!Oe?N?X-N>=l&&p.renderer.scrollCursorIntoView(ae):N=X:N=null}function O(){var V=S;S=p.renderer.screenToTextCoordinates(w,E),D(S,V),R(S,V)}function B(){x=p.selection.toOrientedRange(),v=p.session.addMarker(x,"ace_selection",p.getSelectionStyle()),p.clearSelection(),p.isFocused()&&p.renderer.$cursorLayer.setBlinking(!1),clearInterval(_),O(),_=setInterval(O,20),C=0,s.addListener(document,"mousemove",U)}function z(){clearInterval(_),p.session.removeMarker(v),v=null,p.selection.fromOrientedRange(x),p.isFocused()&&!k&&p.$resetCursorStyle(),x=null,S=null,C=0,N=null,M=null,s.removeListener(document,"mousemove",U)}var W=null;function U(){W==null&&(W=setTimeout(function(){W!=null&&v&&z()},20))}function F(V){var G=V.types;return!G||Array.prototype.some.call(G,function(X){return X=="text/plain"||X=="Text"})}function Y(V){var G=["copy","copymove","all","uninitialized"],X=["move","copymove","linkmove","all","uninitialized"],Z=a.isMac?V.altKey:V.ctrlKey,oe="uninitialized";try{oe=V.dataTransfer.effectAllowed.toLowerCase()}catch{}var ne="none";return Z&&G.indexOf(oe)>=0?ne="copy":X.indexOf(oe)>=0?ne="move":G.indexOf(oe)>=0&&(ne="copy"),ne}}(function(){this.dragWait=function(){var h=Date.now()-this.mousedownEvent.time;h>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var h=this.editor.container;h.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(h){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var h=this.editor,p=h.container;p.draggable=!0,h.renderer.$cursorLayer.setBlinking(!1),h.setStyle("ace_dragging");var m=a.isWin?"default":"move";h.renderer.setCursorStyle(m),this.setState("dragReady")},this.onMouseDrag=function(h){var p=this.editor.container;if(a.isIE&&this.state=="dragReady"){var m=f(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);m>3&&p.dragDrop()}if(this.state==="dragWait"){var m=f(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);m>0&&(p.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(h){if(this.$dragEnabled){this.mousedownEvent=h;var p=this.editor,m=h.inSelection(),g=h.getButton(),y=h.domEvent.detail||1;if(y===1&&g===0&&m){if(h.editor.inMultiSelectMode&&(h.getAccelKey()||h.getShiftKey()))return;this.mousedownEvent.time=Date.now();var v=h.domEvent.target||h.domEvent.srcElement;if("unselectable"in v&&(v.unselectable="on"),p.getDragDelay()){if(a.isWebKit){this.cancelDrag=!0;var w=p.container;w.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(h,this.onMouseDrag.bind(this)),h.defaultPrevented=!0}}}}).call(d.prototype);function f(h,p,m,g){return Math.sqrt(Math.pow(m-h,2)+Math.pow(g-p,2))}r.DragdropHandler=d}),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(n,r,i){var o=n("./mouse_event").MouseEvent,s=n("../lib/event"),a=n("../lib/dom");r.addTouchListeners=function(l,u){var c="scroll",d,f,h,p,m,g,y=0,v,w=0,E=0,_=0,x,S;function C(){var D=window.navigator&&window.navigator.clipboard,R=!1,O=function(){var W=u.getCopyText(),U=u.session.getUndoManager().hasUndo();S.replaceChild(a.buildDom(R?["span",!W&&B("selectall")&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],W&&B("copy")&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],W&&B("cut")&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],D&&B("paste")&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],U&&B("undo")&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],B("find")&&["span",{class:"ace_mobile-button",action:"find"},"Find"],B("openCommandPalette")&&["span",{class:"ace_mobile-button",action:"openCommandPalette"},"Palette"]]:["span"]),S.firstChild)},B=function(W){return u.commands.canExecute(W,u)},z=function(W){var U=W.target.getAttribute("action");if(U=="more"||!R)return R=!R,O();U=="paste"?D.readText().then(function(F){u.execCommand(U,F)}):U&&((U=="cut"||U=="copy")&&(D?D.writeText(u.getCopyText()):document.execCommand("copy")),u.execCommand(U)),S.firstChild.style.display="none",R=!1,U!="openCommandPalette"&&u.focus()};S=a.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(W){c="menu",W.stopPropagation(),W.preventDefault(),u.textInput.focus()},ontouchend:function(W){W.stopPropagation(),W.preventDefault(),z(W)},onclick:z},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],u.container)}function A(){if(!u.getOption("enableMobileMenu")){S&&k();return}S||C();var D=u.selection.cursor,R=u.renderer.textToScreenCoordinates(D.row,D.column),O=u.renderer.textToScreenCoordinates(0,0).pageX,B=u.renderer.scrollLeft,z=u.container.getBoundingClientRect();S.style.top=R.pageY-z.top-3+"px",R.pageX-z.left<z.width-70?(S.style.left="",S.style.right="10px"):(S.style.right="",S.style.left=O+B-z.left+"px"),S.style.display="",S.firstChild.style.display="none",u.on("input",k)}function k(D){S&&(S.style.display="none"),u.off("input",k)}function N(){m=null,clearTimeout(m);var D=u.selection.getRange(),R=D.contains(v.row,v.column);(D.isEmpty()||!R)&&(u.selection.moveToPosition(v),u.selection.selectWord()),c="wait",A()}function M(){m=null,clearTimeout(m),u.selection.moveToPosition(v);var D=w>=2?u.selection.getLineRange(v.row):u.session.getBracketRange(v);D&&!D.isEmpty()?u.selection.setRange(D):u.selection.selectWord(),c="wait"}s.addListener(l,"contextmenu",function(D){if(x){var R=u.textInput.getElement();R.focus()}},u),s.addListener(l,"touchstart",function(D){var R=D.touches;if(m||R.length>1){clearTimeout(m),m=null,h=-1,c="zoom";return}x=u.$mouseHandler.isMousePressed=!0;var O=u.renderer.layerConfig.lineHeight,B=u.renderer.layerConfig.lineHeight,z=D.timeStamp;p=z;var W=R[0],U=W.clientX,F=W.clientY;Math.abs(d-U)+Math.abs(f-F)>O&&(h=-1),d=D.clientX=U,f=D.clientY=F,E=_=0;var Y=new o(D,u);if(v=Y.getDocumentPosition(),z-h<500&&R.length==1&&!y)w++,D.preventDefault(),D.button=0,M();else{w=0;var V=u.selection.cursor,G=u.selection.isEmpty()?V:u.selection.anchor,X=u.renderer.$cursorLayer.getPixelPosition(V,!0),Z=u.renderer.$cursorLayer.getPixelPosition(G,!0),oe=u.renderer.scroller.getBoundingClientRect(),ne=u.renderer.layerConfig.offset,ie=u.renderer.scrollLeft,fe=function(Se,Te){return Se=Se/B,Te=Te/O-.75,Se*Se+Te*Te};if(D.clientX<oe.left){c="zoom";return}var se=fe(D.clientX-oe.left-X.left+ie,D.clientY-oe.top-X.top+ne),ae=fe(D.clientX-oe.left-Z.left+ie,D.clientY-oe.top-Z.top+ne);se<3.5&&ae<3.5&&(c=se>ae?"cursor":"anchor"),ae<3.5?c="anchor":se<3.5?c="cursor":c="scroll",m=setTimeout(N,450)}h=z},u),s.addListener(l,"touchend",function(D){x=u.$mouseHandler.isMousePressed=!1,g&&clearInterval(g),c=="zoom"?(c="",y=0):m?(u.selection.moveToPosition(v),y=0,A()):c=="scroll"?(I(),k()):A(),clearTimeout(m),m=null},u),s.addListener(l,"touchmove",function(D){m&&(clearTimeout(m),m=null);var R=D.touches;if(!(R.length>1||c=="zoom")){var O=R[0],B=d-O.clientX,z=f-O.clientY;if(c=="wait")if(B*B+z*z>4)c="cursor";else return D.preventDefault();d=O.clientX,f=O.clientY,D.clientX=O.clientX,D.clientY=O.clientY;var W=D.timeStamp,U=W-p;if(p=W,c=="scroll"){var F=new o(D,u);F.speed=1,F.wheelX=B,F.wheelY=z,10*Math.abs(B)<Math.abs(z)&&(B=0),10*Math.abs(z)<Math.abs(B)&&(z=0),U!=0&&(E=B/U,_=z/U),u._emit("mousewheel",F),F.propagationStopped||(E=_=0)}else{var Y=new o(D,u),V=Y.getDocumentPosition();c=="cursor"?u.selection.moveCursorToPosition(V):c=="anchor"&&u.selection.setSelectionAnchor(V.row,V.column),u.renderer.scrollCursorIntoView(V),D.preventDefault()}}},u);function I(){y+=60,g=setInterval(function(){y--<=0&&(clearInterval(g),g=null),Math.abs(E)<.01&&(E=0),Math.abs(_)<.01&&(_=0),y<20&&(E=.9*E),y<20&&(_=.9*_);var D=u.session.getScrollTop();u.renderer.scrollBy(10*E,10*_),D==u.session.getScrollTop()&&(y=0)},10)}}}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(n,r,i){var o=n("../lib/event"),s=n("../lib/useragent"),a=n("./default_handlers").DefaultHandlers,l=n("./default_gutter_handler").GutterHandler,u=n("./mouse_event").MouseEvent,c=n("./dragdrop_handler").DragdropHandler,d=n("./touch_handler").addTouchListeners,f=n("../config"),h=function(){function p(m){this.$dragDelay,this.$dragEnabled,this.$mouseMoved,this.mouseEvent,this.$focusTimeout;var g=this;this.editor=m,new a(this),new l(this),new c(this);var y=function(E){var _=!document.hasFocus||!document.hasFocus()||!m.isFocused()&&document.activeElement==(m.textInput&&m.textInput.getElement());_&&window.focus(),m.focus(),setTimeout(function(){m.isFocused()||m.focus()})},v=m.renderer.getMouseEventTarget();o.addListener(v,"click",this.onMouseEvent.bind(this,"click"),m),o.addListener(v,"mousemove",this.onMouseMove.bind(this,"mousemove"),m),o.addMultiMouseDownListener([v,m.renderer.scrollBarV&&m.renderer.scrollBarV.inner,m.renderer.scrollBarH&&m.renderer.scrollBarH.inner,m.textInput&&m.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",m),o.addMouseWheelListener(m.container,this.onMouseWheel.bind(this,"mousewheel"),m),d(m.container,m);var w=m.renderer.$gutter;o.addListener(w,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),m),o.addListener(w,"click",this.onMouseEvent.bind(this,"gutterclick"),m),o.addListener(w,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),m),o.addListener(w,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),m),o.addListener(v,"mousedown",y,m),o.addListener(w,"mousedown",y,m),s.isIE&&m.renderer.scrollBarV&&(o.addListener(m.renderer.scrollBarV.element,"mousedown",y,m),o.addListener(m.renderer.scrollBarH.element,"mousedown",y,m)),m.on("mousemove",function(E){if(!(g.state||g.$dragDelay||!g.$dragEnabled)){var _=m.renderer.screenToTextCoordinates(E.x,E.y),x=m.session.selection.getRange(),S=m.renderer;!x.isEmpty()&&x.insideStart(_.row,_.column)?S.setCursorStyle("default"):S.setCursorStyle("")}},m)}return p.prototype.onMouseEvent=function(m,g){this.editor.session&&this.editor._emit(m,new u(g,this.editor))},p.prototype.onMouseMove=function(m,g){var y=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;!y||!y.length||this.editor._emit(m,new u(g,this.editor))},p.prototype.onMouseWheel=function(m,g){var y=new u(g,this.editor);y.speed=this.$scrollSpeed*2,y.wheelX=g.wheelX,y.wheelY=g.wheelY,this.editor._emit(m,y)},p.prototype.setState=function(m){this.state=m},p.prototype.captureMouse=function(m,g){this.x=m.x,this.y=m.y,this.isMousePressed=!0;var y=this.editor,v=this.editor.renderer;v.$isMousePressed=!0;var w=this,E=function(A){if(A){if(s.isWebKit&&!A.which&&w.releaseMouse)return w.releaseMouse();w.x=A.clientX,w.y=A.clientY,g&&g(A),w.mouseEvent=new u(A,w.editor),w.$mouseMoved=!0}},_=function(A){y.off("beforeEndOperation",S),clearInterval(C),y.session&&x(),w[w.state+"End"]&&w[w.state+"End"](A),w.state="",w.isMousePressed=v.$isMousePressed=!1,v.$keepTextAreaAtCursor&&v.$moveTextAreaToCursor(),w.$onCaptureMouseMove=w.releaseMouse=null,A&&w.onMouseEvent("mouseup",A),y.endOperation()},x=function(){w[w.state]&&w[w.state](),w.$mouseMoved=!1};if(s.isOldIE&&m.domEvent.type=="dblclick")return setTimeout(function(){_(m)});var S=function(A){w.releaseMouse&&y.curOp.command.name&&y.curOp.selectionChanged&&(w[w.state+"End"]&&w[w.state+"End"](),w.state="",w.releaseMouse())};y.on("beforeEndOperation",S),y.startOperation({command:{name:"mouse"}}),w.$onCaptureMouseMove=E,w.releaseMouse=o.capture(this.editor.container,E,_);var C=setInterval(x,20)},p.prototype.cancelContextMenu=function(){var m=(function(g){g&&g.domEvent&&g.domEvent.type!="contextmenu"||(this.editor.off("nativecontextmenu",m),g&&g.domEvent&&o.stopEvent(g.domEvent))}).bind(this);setTimeout(m,10),this.editor.on("nativecontextmenu",m)},p.prototype.destroy=function(){this.releaseMouse&&this.releaseMouse()},p}();h.prototype.releaseMouse=null,f.defineOptions(h.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:s.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),r.MouseHandler=h}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(n,r,i){var o=n("../lib/dom"),s=function(){function a(l){l.on("click",function(u){var c=u.getDocumentPosition(),d=l.session,f=d.getFoldAt(c.row,c.column,1);f&&(u.getAccelKey()?d.removeFold(f):d.expandFold(f),u.stop());var h=u.domEvent&&u.domEvent.target;h&&o.hasCssClass(h,"ace_inline_button")&&o.hasCssClass(h,"ace_toggle_wrap")&&(d.setOption("wrap",!d.getUseWrapMode()),l.renderer.scrollCursorIntoView())}),l.on("gutterclick",function(u){var c=l.renderer.$gutterLayer.getRegion(u);if(c=="foldWidgets"){var d=u.getDocumentPosition().row,f=l.session;f.foldWidgets&&f.foldWidgets[d]&&l.session.onFoldWidgetClick(d,u),l.isFocused()||l.focus(),u.stop()}}),l.on("gutterdblclick",function(u){var c=l.renderer.$gutterLayer.getRegion(u);if(c=="foldWidgets"){var d=u.getDocumentPosition().row,f=l.session,h=f.getParentFoldRangeData(d,!0),p=h.range||h.firstRange;if(p){d=p.start.row;var m=f.getFoldAt(d,f.getLine(d).length,1);m?f.removeFold(m):(f.addFold("...",p),l.renderer.scrollCursorIntoView({row:p.start.row,column:0}))}u.stop()}})}return a}();r.FoldHandler=s}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(n,r,i){var o=n("../lib/keys"),s=n("../lib/event"),a=function(){function l(u){this.$editor=u,this.$data={editor:u},this.$handlers=[],this.setDefaultHandler(u.commands)}return l.prototype.setDefaultHandler=function(u){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=u,this.addKeyboardHandler(u,0)},l.prototype.setKeyboardHandler=function(u){var c=this.$handlers;if(c[c.length-1]!=u){for(;c[c.length-1]&&c[c.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(c[c.length-1]);this.addKeyboardHandler(u,1)}},l.prototype.addKeyboardHandler=function(u,c){if(u){typeof u=="function"&&!u.handleKeyboard&&(u.handleKeyboard=u);var d=this.$handlers.indexOf(u);d!=-1&&this.$handlers.splice(d,1),c==null?this.$handlers.push(u):this.$handlers.splice(c,0,u),d==-1&&u.attach&&u.attach(this.$editor)}},l.prototype.removeKeyboardHandler=function(u){var c=this.$handlers.indexOf(u);return c==-1?!1:(this.$handlers.splice(c,1),u.detach&&u.detach(this.$editor),!0)},l.prototype.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},l.prototype.getStatusText=function(){var u=this.$data,c=u.editor;return this.$handlers.map(function(d){return d.getStatusText&&d.getStatusText(c,u)||""}).filter(Boolean).join(" ")},l.prototype.$callKeyboardHandlers=function(u,c,d,f){for(var h,p=!1,m=this.$editor.commands,g=this.$handlers.length;g--&&(h=this.$handlers[g].handleKeyboard(this.$data,u,c,d,f),!(!(!h||!h.command)&&(h.command=="null"?p=!0:p=m.exec(h.command,this.$editor,h.args,f),p&&f&&u!=-1&&h.passEvent!=!0&&h.command.passEvent!=!0&&s.stopEvent(f),p))););return!p&&u==-1&&(h={command:"insertstring"},p=m.exec("insertstring",this.$editor,c)),p&&this.$editor._signal&&this.$editor._signal("keyboardActivity",h),p},l.prototype.onCommandKey=function(u,c,d){var f=o.keyCodeToString(d);return this.$callKeyboardHandlers(c,f,d,u)},l.prototype.onTextInput=function(u){return this.$callKeyboardHandlers(-1,u)},l}();r.KeyBinding=a}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(n,r,i){var o=0,s=0,a=!1,l=!1,u=!1,c=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],f=0,h=1,p=0,m=1,g=2,y=3,v=4,w=5,E=6,_=7,x=8,S=9,C=10,A=11,k=12,N=13,M=14,I=15,D=16,R=17,O=18,B=[O,O,O,O,O,O,O,O,O,E,w,E,x,w,O,O,O,O,O,O,O,O,O,O,O,O,O,O,w,w,w,E,x,v,v,A,A,A,v,v,v,v,v,C,S,C,S,S,g,g,g,g,g,g,g,g,g,g,S,v,v,v,v,v,v,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,v,v,v,v,v,v,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,v,v,v,v,O,O,O,O,O,O,w,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,S,v,A,A,A,A,v,v,v,v,p,v,v,O,v,v,A,A,g,g,v,p,v,v,v,g,p,v,v,v,v,v],z=[x,x,x,x,x,x,x,x,x,x,x,O,O,O,p,m,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,x,w,N,M,I,D,R,S,A,A,A,A,A,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,S,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,x];function W(V,G,X,Z){var oe=o?d:c,ne=null,ie=null,fe=null,se=0,ae=null,Se=null,Te=-1,Oe=null,We=null,Fe=[];if(!Z)for(Oe=0,Z=[];Oe<X;Oe++)Z[Oe]=Y(V[Oe]);for(s=o,a=!1,l=!1,u=!1,We=0;We<X;We++){if(ne=se,Fe[We]=ie=F(V,Z,Fe,We),se=oe[ne][ie],ae=se&240,se&=15,G[We]=fe=oe[se][5],ae>0)if(ae==16){for(Oe=Te;Oe<We;Oe++)G[Oe]=1;Te=-1}else Te=-1;if(Se=oe[se][6],Se)Te==-1&&(Te=We);else if(Te>-1){for(Oe=Te;Oe<We;Oe++)G[Oe]=fe;Te=-1}Z[We]==w&&(G[We]=0),s|=fe}if(u){for(Oe=0;Oe<X;Oe++)if(Z[Oe]==E){G[Oe]=o;for(var Ue=Oe-1;Ue>=0&&Z[Ue]==x;Ue--)G[Ue]=o}}}function U(V,G,X){if(!(s<V)){if(V==1&&o==h&&!l){X.reverse();return}for(var Z=X.length,oe=0,ne,ie,fe,se;oe<Z;){if(G[oe]>=V){for(ne=oe+1;ne<Z&&G[ne]>=V;)ne++;for(ie=oe,fe=ne-1;ie<fe;ie++,fe--)se=X[ie],X[ie]=X[fe],X[fe]=se;oe=ne}oe++}}}function F(V,G,X,Z){var oe=G[Z],ne,ie,fe,se;switch(oe){case p:case m:a=!1;case v:case y:return oe;case g:return a?y:g;case _:return a=!0,m;case x:return v;case S:return Z<1||Z+1>=G.length||(ne=X[Z-1])!=g&&ne!=y||(ie=G[Z+1])!=g&&ie!=y?v:(a&&(ie=y),ie==ne?ie:v);case C:return ne=Z>0?X[Z-1]:w,ne==g&&Z+1<G.length&&G[Z+1]==g?g:v;case A:if(Z>0&&X[Z-1]==g)return g;if(a)return v;for(se=Z+1,fe=G.length;se<fe&&G[se]==A;)se++;return se<fe&&G[se]==g?g:v;case k:for(fe=G.length,se=Z+1;se<fe&&G[se]==k;)se++;if(se<fe){var ae=V[Z],Se=ae>=1425&&ae<=2303||ae==64286;if(ne=G[se],Se&&(ne==m||ne==_))return m}return Z<1||(ne=G[Z-1])==w?v:X[Z-1];case w:return a=!1,l=!0,o;case E:return u=!0,v;case N:case M:case D:case R:case I:a=!1;case O:return v}}function Y(V){var G=V.charCodeAt(0),X=G>>8;return X==0?G>191?p:B[G]:X==5?/[\u0591-\u05f4]/.test(V)?m:p:X==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(V)?k:/[\u0660-\u0669\u066b-\u066c]/.test(V)?y:G==1642?A:/[\u06f0-\u06f9]/.test(V)?g:_:X==32&&G<=8287?z[G&255]:X==254&&G>=65136?_:v}r.L=p,r.R=m,r.EN=g,r.ON_R=3,r.AN=4,r.R_H=5,r.B=6,r.RLE=7,r.DOT="",r.doBidiReorder=function(V,G,X){if(V.length<2)return{};var Z=V.split(""),oe=new Array(Z.length),ne=new Array(Z.length),ie=[];o=X?h:f,W(Z,ie,Z.length,G);for(var fe=0;fe<oe.length;oe[fe]=fe,fe++);U(2,ie,oe),U(1,ie,oe);for(var fe=0;fe<oe.length-1;fe++)G[fe]===y?ie[fe]=r.AN:ie[fe]===m&&(G[fe]>_&&G[fe]<N||G[fe]===v||G[fe]===O)?ie[fe]=r.ON_R:fe>0&&Z[fe-1]===""&&/\u0622|\u0623|\u0625|\u0627/.test(Z[fe])&&(ie[fe-1]=ie[fe]=r.R_H,fe++);Z[Z.length-1]===r.DOT&&(ie[Z.length-1]=r.B),Z[0]===""&&(ie[0]=r.RLE);for(var fe=0;fe<oe.length;fe++)ne[fe]=ie[oe[fe]];return{logicalFromVisual:oe,bidiLevels:ne}},r.hasBidiCharacters=function(V,G){for(var X=!1,Z=0;Z<V.length;Z++)G[Z]=Y(V.charAt(Z)),!X&&(G[Z]==m||G[Z]==_||G[Z]==y)&&(X=!0);return X},r.getVisualFromLogicalIdx=function(V,G){for(var X=0;X<G.logicalFromVisual.length;X++)if(G.logicalFromVisual[X]==V)return X;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(n,r,i){var o=n("./lib/bidiutil"),s=n("./lib/lang"),a=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,l=function(){function u(c){this.session=c,this.bidiMap={},this.currentRow=null,this.bidiUtil=o,this.charWidths=[],this.EOL="",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="",this.RLE="",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=a.test(c.getValue())}return u.prototype.isBidiRow=function(c,d,f){return this.seenBidi?(c!==this.currentRow&&(this.currentRow=c,this.updateRowLine(d,f),this.updateBidiMap()),this.bidiMap.bidiLevels):!1},u.prototype.onChange=function(c){this.seenBidi?this.currentRow=null:c.action=="insert"&&a.test(c.lines.join(`
`))&&(this.seenBidi=!0,this.currentRow=null)},u.prototype.getDocumentRow=function(){var c=0,d=this.session.$screenRowCache;if(d.length){var f=this.session.$getRowCacheIndex(d,this.currentRow);f>=0&&(c=this.session.$docRowCache[f])}return c},u.prototype.getSplitIndex=function(){var c=0,d=this.session.$screenRowCache;if(d.length)for(var f,h=this.session.$getRowCacheIndex(d,this.currentRow);this.currentRow-c>0&&(f=this.session.$getRowCacheIndex(d,this.currentRow-c-1),f===h);)h=f,c++;else c=this.currentRow;return c},u.prototype.updateRowLine=function(c,d){c===void 0&&(c=this.getDocumentRow());var f=c===this.session.getLength()-1,h=f?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(c),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var p=this.session.$wrapData[c];p&&(d===void 0&&(d=this.getSplitIndex()),d>0&&p.length?(this.wrapIndent=p.indent,this.wrapOffset=this.wrapIndent*this.charWidths[o.L],this.line=d<p.length?this.line.substring(p[d-1],p[d]):this.line.substring(p[p.length-1])):this.line=this.line.substring(0,p[d]),d==p.length&&(this.line+=this.showInvisibles?h:o.DOT))}else this.line+=this.showInvisibles?h:o.DOT;var m=this.session,g=0,y;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(v,w){return v==="	"||m.isFullWidth(v.charCodeAt(0))?(y=v==="	"?m.getScreenTabSize(w+g):2,g+=y-1,s.stringRepeat(o.DOT,y)):v}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==o.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},u.prototype.updateBidiMap=function(){var c=[];o.hasBidiCharacters(this.line,c)||this.isRtlDir?this.bidiMap=o.doBidiReorder(this.line,c,this.isRtlDir):this.bidiMap={}},u.prototype.markAsDirty=function(){this.currentRow=null},u.prototype.updateCharacterWidths=function(c){if(this.characterWidth!==c.$characterSize.width){this.fontMetrics=c;var d=this.characterWidth=c.$characterSize.width,f=c.$measureCharWidth("");this.charWidths[o.L]=this.charWidths[o.EN]=this.charWidths[o.ON_R]=d,this.charWidths[o.R]=this.charWidths[o.AN]=f,this.charWidths[o.R_H]=f*.45,this.charWidths[o.B]=this.charWidths[o.RLE]=0,this.currentRow=null}},u.prototype.setShowInvisibles=function(c){this.showInvisibles=c,this.currentRow=null},u.prototype.setEolChar=function(c){this.EOL=c},u.prototype.setContentWidth=function(c){this.contentWidth=c},u.prototype.isRtlLine=function(c){return this.$isRtl?!0:c!=null?this.session.getLine(c).charAt(0)==this.RLE:this.isRtlDir},u.prototype.setRtlDirection=function(c,d){for(var f=c.getCursorPosition(),h=c.selection.getSelectionAnchor().row;h<=f.row;h++)!d&&c.session.getLine(h).charAt(0)===c.session.$bidiHandler.RLE?c.session.doc.removeInLine(h,0,1):d&&c.session.getLine(h).charAt(0)!==c.session.$bidiHandler.RLE&&c.session.doc.insert({column:0,row:h},c.session.$bidiHandler.RLE)},u.prototype.getPosLeft=function(c){c-=this.wrapIndent;var d=this.line.charAt(0)===this.RLE?1:0,f=c>d?this.session.getOverwrite()?c:c-1:d,h=o.getVisualFromLogicalIdx(f,this.bidiMap),p=this.bidiMap.bidiLevels,m=0;!this.session.getOverwrite()&&c<=d&&p[h]%2!==0&&h++;for(var g=0;g<h;g++)m+=this.charWidths[p[g]];return!this.session.getOverwrite()&&c>d&&p[h]%2===0&&(m+=this.charWidths[p[h]]),this.wrapIndent&&(m+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(m+=this.rtlLineOffset),m},u.prototype.getSelections=function(c,d){var f=this.bidiMap,h=f.bidiLevels,p,m=[],g=0,y=Math.min(c,d)-this.wrapIndent,v=Math.max(c,d)-this.wrapIndent,w=!1,E=!1,_=0;this.wrapIndent&&(g+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var x,S=0;S<h.length;S++)x=f.logicalFromVisual[S],p=h[S],w=x>=y&&x<v,w&&!E?_=g:!w&&E&&m.push({left:_,width:g-_}),g+=this.charWidths[p],E=w;if(w&&S===h.length&&m.push({left:_,width:g-_}),this.isRtlDir)for(var C=0;C<m.length;C++)m[C].left+=this.rtlLineOffset;return m},u.prototype.offsetToCol=function(f){this.isRtlDir&&(f-=this.rtlLineOffset);var d=0,f=Math.max(f,0),h=0,p=0,m=this.bidiMap.bidiLevels,g=this.charWidths[m[p]];for(this.wrapIndent&&(f-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);f>h+g/2;){if(h+=g,p===m.length-1){g=0;break}g=this.charWidths[m[++p]]}return p>0&&m[p-1]%2!==0&&m[p]%2===0?(f<h&&p--,d=this.bidiMap.logicalFromVisual[p]):p>0&&m[p-1]%2===0&&m[p]%2!==0?d=1+(f>h?this.bidiMap.logicalFromVisual[p]:this.bidiMap.logicalFromVisual[p-1]):this.isRtlDir&&p===m.length-1&&g===0&&m[p-1]%2===0||!this.isRtlDir&&p===0&&m[p]%2!==0?d=1+this.bidiMap.logicalFromVisual[p]:(p>0&&m[p-1]%2!==0&&g!==0&&p--,d=this.bidiMap.logicalFromVisual[p]),d===0&&this.isRtlDir&&d++,d+this.wrapIndent},u}();r.BidiHandler=l}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(n,r,i){var o=n("./lib/oop"),s=n("./lib/lang"),a=n("./lib/event_emitter").EventEmitter,l=n("./range").Range,u=function(){function c(d){this.session=d,this.doc=d.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var f=this;this.cursor.on("change",function(h){f.$cursorChanged=!0,f.$silent||f._emit("changeCursor"),!f.$isEmpty&&!f.$silent&&f._emit("changeSelection"),!f.$keepDesiredColumnOnChange&&h.old.column!=h.value.column&&(f.$desiredColumn=null)}),this.anchor.on("change",function(){f.$anchorChanged=!0,!f.$isEmpty&&!f.$silent&&f._emit("changeSelection")})}return c.prototype.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},c.prototype.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},c.prototype.getCursor=function(){return this.lead.getPosition()},c.prototype.setAnchor=function(d,f){this.$isEmpty=!1,this.anchor.setPosition(d,f)},c.prototype.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},c.prototype.getSelectionLead=function(){return this.lead.getPosition()},c.prototype.isBackwards=function(){var d=this.anchor,f=this.lead;return d.row>f.row||d.row==f.row&&d.column>f.column},c.prototype.getRange=function(){var d=this.anchor,f=this.lead;return this.$isEmpty?l.fromPoints(f,f):this.isBackwards()?l.fromPoints(f,d):l.fromPoints(d,f)},c.prototype.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},c.prototype.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},c.prototype.setRange=function(d,f){var h=f?d.end:d.start,p=f?d.start:d.end;this.$setSelection(h.row,h.column,p.row,p.column)},c.prototype.$setSelection=function(d,f,h,p){if(!this.$silent){var m=this.$isEmpty,g=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(d,f),this.cursor.setPosition(h,p),this.$isEmpty=!l.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||m!=this.$isEmpty||g)&&this._emit("changeSelection")}},c.prototype.$moveSelection=function(d){var f=this.lead;this.$isEmpty&&this.setSelectionAnchor(f.row,f.column),d.call(this)},c.prototype.selectTo=function(d,f){this.$moveSelection(function(){this.moveCursorTo(d,f)})},c.prototype.selectToPosition=function(d){this.$moveSelection(function(){this.moveCursorToPosition(d)})},c.prototype.moveTo=function(d,f){this.clearSelection(),this.moveCursorTo(d,f)},c.prototype.moveToPosition=function(d){this.clearSelection(),this.moveCursorToPosition(d)},c.prototype.selectUp=function(){this.$moveSelection(this.moveCursorUp)},c.prototype.selectDown=function(){this.$moveSelection(this.moveCursorDown)},c.prototype.selectRight=function(){this.$moveSelection(this.moveCursorRight)},c.prototype.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},c.prototype.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},c.prototype.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},c.prototype.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},c.prototype.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},c.prototype.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},c.prototype.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},c.prototype.getWordRange=function(d,f){if(typeof f>"u"){var h=d||this.lead;d=h.row,f=h.column}return this.session.getWordRange(d,f)},c.prototype.selectWord=function(){this.setSelectionRange(this.getWordRange())},c.prototype.selectAWord=function(){var d=this.getCursor(),f=this.session.getAWordRange(d.row,d.column);this.setSelectionRange(f)},c.prototype.getLineRange=function(d,f){var h=typeof d=="number"?d:this.lead.row,p,m=this.session.getFoldLine(h);return m?(h=m.start.row,p=m.end.row):p=h,f===!0?new l(h,0,p,this.session.getLine(p).length):new l(h,0,p+1,0)},c.prototype.selectLine=function(){this.setSelectionRange(this.getLineRange())},c.prototype.moveCursorUp=function(){this.moveCursorBy(-1,0)},c.prototype.moveCursorDown=function(){this.moveCursorBy(1,0)},c.prototype.wouldMoveIntoSoftTab=function(d,f,h){var p=d.column,m=d.column+f;return h<0&&(p=d.column-f,m=d.column),this.session.isTabStop(d)&&this.doc.getLine(d.row).slice(p,m).split(" ").length-1==f},c.prototype.moveCursorLeft=function(){var d=this.lead.getPosition(),f;if(f=this.session.getFoldAt(d.row,d.column,-1))this.moveCursorTo(f.start.row,f.start.column);else if(d.column===0)d.row>0&&this.moveCursorTo(d.row-1,this.doc.getLine(d.row-1).length);else{var h=this.session.getTabSize();this.wouldMoveIntoSoftTab(d,h,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-h):this.moveCursorBy(0,-1)}},c.prototype.moveCursorRight=function(){var d=this.lead.getPosition(),f;if(f=this.session.getFoldAt(d.row,d.column,1))this.moveCursorTo(f.end.row,f.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var h=this.session.getTabSize(),d=this.lead;this.wouldMoveIntoSoftTab(d,h,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,h):this.moveCursorBy(0,1)}},c.prototype.moveCursorLineStart=function(){var d=this.lead.row,f=this.lead.column,h=this.session.documentToScreenRow(d,f),p=this.session.screenToDocumentPosition(h,0),m=this.session.getDisplayLine(d,null,p.row,p.column),g=m.match(/^\s*/);g[0].length!=f&&!this.session.$useEmacsStyleLineStart&&(p.column+=g[0].length),this.moveCursorToPosition(p)},c.prototype.moveCursorLineEnd=function(){var d=this.lead,f=this.session.getDocumentLastRowColumnPosition(d.row,d.column);if(this.lead.column==f.column){var h=this.session.getLine(f.row);if(f.column==h.length){var p=h.search(/\s+$/);p>0&&(f.column=p)}}this.moveCursorTo(f.row,f.column)},c.prototype.moveCursorFileEnd=function(){var d=this.doc.getLength()-1,f=this.doc.getLine(d).length;this.moveCursorTo(d,f)},c.prototype.moveCursorFileStart=function(){this.moveCursorTo(0,0)},c.prototype.moveCursorLongWordRight=function(){var d=this.lead.row,f=this.lead.column,h=this.doc.getLine(d),p=h.substring(f);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var m=this.session.getFoldAt(d,f,1);if(m){this.moveCursorTo(m.end.row,m.end.column);return}if(this.session.nonTokenRe.exec(p)&&(f+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,p=h.substring(f)),f>=h.length){this.moveCursorTo(d,h.length),this.moveCursorRight(),d<this.doc.getLength()-1&&this.moveCursorWordRight();return}this.session.tokenRe.exec(p)&&(f+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(d,f)},c.prototype.moveCursorLongWordLeft=function(){var d=this.lead.row,f=this.lead.column,h;if(h=this.session.getFoldAt(d,f,-1)){this.moveCursorTo(h.start.row,h.start.column);return}var p=this.session.getFoldStringAt(d,f,-1);p==null&&(p=this.doc.getLine(d).substring(0,f));var m=s.stringReverse(p);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(m)&&(f-=this.session.nonTokenRe.lastIndex,m=m.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),f<=0){this.moveCursorTo(d,0),this.moveCursorLeft(),d>0&&this.moveCursorWordLeft();return}this.session.tokenRe.exec(m)&&(f-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(d,f)},c.prototype.$shortWordEndIndex=function(d){var f=0,h,p=/\s/,m=this.session.tokenRe;if(m.lastIndex=0,this.session.tokenRe.exec(d))f=this.session.tokenRe.lastIndex;else{for(;(h=d[f])&&p.test(h);)f++;if(f<1){for(m.lastIndex=0;(h=d[f])&&!m.test(h);)if(m.lastIndex=0,f++,p.test(h))if(f>2){f--;break}else{for(;(h=d[f])&&p.test(h);)f++;if(f>2)break}}}return m.lastIndex=0,f},c.prototype.moveCursorShortWordRight=function(){var d=this.lead.row,f=this.lead.column,h=this.doc.getLine(d),p=h.substring(f),m=this.session.getFoldAt(d,f,1);if(m)return this.moveCursorTo(m.end.row,m.end.column);if(f==h.length){var g=this.doc.getLength();do d++,p=this.doc.getLine(d);while(d<g&&/^\s*$/.test(p));/^\s+/.test(p)||(p=""),f=0}var y=this.$shortWordEndIndex(p);this.moveCursorTo(d,f+y)},c.prototype.moveCursorShortWordLeft=function(){var d=this.lead.row,f=this.lead.column,h;if(h=this.session.getFoldAt(d,f,-1))return this.moveCursorTo(h.start.row,h.start.column);var p=this.session.getLine(d).substring(0,f);if(f===0){do d--,p=this.doc.getLine(d);while(d>0&&/^\s*$/.test(p));f=p.length,/\s+$/.test(p)||(p="")}var m=s.stringReverse(p),g=this.$shortWordEndIndex(m);return this.moveCursorTo(d,f-g)},c.prototype.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},c.prototype.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},c.prototype.moveCursorBy=function(d,f){var h=this.session.documentToScreenPosition(this.lead.row,this.lead.column),p;if(f===0&&(d!==0&&(this.session.$bidiHandler.isBidiRow(h.row,this.lead.row)?(p=this.session.$bidiHandler.getPosLeft(h.column),h.column=Math.round(p/this.session.$bidiHandler.charWidths[0])):p=h.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?h.column=this.$desiredColumn:this.$desiredColumn=h.column),d!=0&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var m=this.session.lineWidgets[this.lead.row];d<0?d-=m.rowsAbove||0:d>0&&(d+=m.rowCount-(m.rowsAbove||0))}var g=this.session.screenToDocumentPosition(h.row+d,h.column,p);d!==0&&f===0&&g.row===this.lead.row&&(g.column,this.lead.column),this.moveCursorTo(g.row,g.column+f,f===0)},c.prototype.moveCursorToPosition=function(d){this.moveCursorTo(d.row,d.column)},c.prototype.moveCursorTo=function(d,f,h){var p=this.session.getFoldAt(d,f,1);p&&(d=p.start.row,f=p.start.column),this.$keepDesiredColumnOnChange=!0;var m=this.session.getLine(d);/[\uDC00-\uDFFF]/.test(m.charAt(f))&&m.charAt(f-1)&&(this.lead.row==d&&this.lead.column==f+1?f=f-1:f=f+1),this.lead.setPosition(d,f),this.$keepDesiredColumnOnChange=!1,h||(this.$desiredColumn=null)},c.prototype.moveCursorToScreen=function(d,f,h){var p=this.session.screenToDocumentPosition(d,f);this.moveCursorTo(p.row,p.column,h)},c.prototype.detach=function(){this.lead.detach(),this.anchor.detach()},c.prototype.fromOrientedRange=function(d){this.setSelectionRange(d,d.cursor==d.start),this.$desiredColumn=d.desiredColumn||this.$desiredColumn},c.prototype.toOrientedRange=function(d){var f=this.getRange();return d?(d.start.column=f.start.column,d.start.row=f.start.row,d.end.column=f.end.column,d.end.row=f.end.row):d=f,d.cursor=this.isBackwards()?d.start:d.end,d.desiredColumn=this.$desiredColumn,d},c.prototype.getRangeOfMovements=function(d){var f=this.getCursor();try{d(this);var h=this.getCursor();return l.fromPoints(f,h)}catch{return l.fromPoints(f,f)}finally{this.moveCursorToPosition(f)}},c.prototype.toJSON=function(){if(this.rangeCount)var d=this.ranges.map(function(f){var h=f.clone();return h.isBackwards=f.cursor==f.start,h});else{var d=this.getRange();d.isBackwards=this.isBackwards()}return d},c.prototype.fromJSON=function(d){if(d.start==null)if(this.rangeList&&d.length>1){this.toSingleRange(d[0]);for(var f=d.length;f--;){var h=l.fromPoints(d[f].start,d[f].end);d[f].isBackwards&&(h.cursor=h.start),this.addRange(h,!0)}return}else d=d[0];this.rangeList&&this.toSingleRange(d),this.setSelectionRange(d,d.isBackwards)},c.prototype.isEqual=function(d){if((d.length||this.rangeCount)&&d.length!=this.rangeCount)return!1;if(!d.length||!this.ranges)return this.getRange().isEqual(d);for(var f=this.ranges.length;f--;)if(!this.ranges[f].isEqual(d[f]))return!1;return!0},c}();u.prototype.setSelectionAnchor=u.prototype.setAnchor,u.prototype.getSelectionAnchor=u.prototype.getAnchor,u.prototype.setSelectionRange=u.prototype.setRange,o.implement(u.prototype,a),r.Selection=u}),ace.define("ace/tokenizer",["require","exports","module","ace/lib/report_error"],function(n,r,i){var o=n("./lib/report_error").reportError,s=2e3,a=function(){function l(u){this.splitRegex,this.states=u,this.regExps={},this.matchMappings={};for(var c in this.states){for(var d=this.states[c],f=[],h=0,p=this.matchMappings[c]={defaultToken:"text"},m="g",g=[],y=0;y<d.length;y++){var v=d[y];if(v.defaultToken&&(p.defaultToken=v.defaultToken),v.caseInsensitive&&m.indexOf("i")===-1&&(m+="i"),v.unicode&&m.indexOf("u")===-1&&(m+="u"),v.regex!=null){v.regex instanceof RegExp&&(v.regex=v.regex.toString().slice(1,-1));var w=v.regex,E=new RegExp("(?:("+w+")|(.))").exec("a").length-2;Array.isArray(v.token)?v.token.length==1||E==1?v.token=v.token[0]:E-1!=v.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:v,groupCount:E-1}),v.token=v.token[0]):(v.tokenArray=v.token,v.token=null,v.onMatch=this.$arrayTokens):typeof v.token=="function"&&!v.onMatch&&(E>1?v.onMatch=this.$applyToken:v.onMatch=v.token),E>1&&(/\\\d/.test(v.regex)?w=v.regex.replace(/\\([0-9]+)/g,function(_,x){return"\\"+(parseInt(x,10)+h+1)}):(E=1,w=this.removeCapturingGroups(v.regex)),!v.splitRegex&&typeof v.token!="string"&&g.push(v)),p[h]=y,h+=E,f.push(w),v.onMatch||(v.onMatch=null)}}f.length||(p[0]=0,f.push("$")),g.forEach(function(_){_.splitRegex=this.createSplitterRegexp(_.regex,m)},this),this.regExps[c]=new RegExp("("+f.join(")|(")+")|($)",m)}}return l.prototype.$setMaxTokenCount=function(u){s=u|0},l.prototype.$applyToken=function(u){var c=this.splitRegex.exec(u).slice(1),d=this.token.apply(this,c);if(typeof d=="string")return[{type:d,value:u}];for(var f=[],h=0,p=d.length;h<p;h++)c[h]&&(f[f.length]={type:d[h],value:c[h]});return f},l.prototype.$arrayTokens=function(u){if(!u)return[];var c=this.splitRegex.exec(u);if(!c)return"text";for(var d=[],f=this.tokenArray,h=0,p=f.length;h<p;h++)c[h+1]&&(d[d.length]={type:f[h],value:c[h+1]});return d},l.prototype.removeCapturingGroups=function(u){var c=u.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(d,f){return f?"(?:":d});return c},l.prototype.createSplitterRegexp=function(u,c){if(u.indexOf("(?=")!=-1){var d=0,f=!1,h={};u.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(p,m,g,y,v,w){return f?f=v!="]":v?f=!0:y?(d==h.stack&&(h.end=w+1,h.stack=-1),d--):g&&(d++,g.length!=1&&(h.stack=d,h.start=w)),p}),h.end!=null&&/^\)*$/.test(u.substr(h.end))&&(u=u.substring(0,h.start)+u.substr(h.end))}return u.charAt(0)!="^"&&(u="^"+u),u.charAt(u.length-1)!="$"&&(u+="$"),new RegExp(u,(c||"").replace("g",""))},l.prototype.getLineTokens=function(u,c){if(c&&typeof c!="string"){var d=c.slice(0);c=d[0],c==="#tmp"&&(d.shift(),c=d.shift())}else var d=[];var f=c||"start",h=this.states[f];h||(f="start",h=this.states[f]);var p=this.matchMappings[f],m=this.regExps[f];m.lastIndex=0;for(var g,y=[],v=0,w=0,E={type:null,value:""};g=m.exec(u);){var _=p.defaultToken,x=null,S=g[0],C=m.lastIndex;if(C-S.length>v){var A=u.substring(v,C-S.length);E.type==_?E.value+=A:(E.type&&y.push(E),E={type:_,value:A})}for(var k=0;k<g.length-2;k++)if(g[k+1]!==void 0){x=h[p[k]],x.onMatch?_=x.onMatch(S,f,d,u):_=x.token,x.next&&(typeof x.next=="string"?f=x.next:f=x.next(f,d),h=this.states[f],h||(this.reportError("state doesn't exist",f),f="start",h=this.states[f]),p=this.matchMappings[f],v=C,m=this.regExps[f],m.lastIndex=C),x.consumeLineEnd&&(v=C);break}if(S){if(typeof _=="string")(!x||x.merge!==!1)&&E.type===_?E.value+=S:(E.type&&y.push(E),E={type:_,value:S});else if(_){E.type&&y.push(E),E={type:null,value:""};for(var k=0;k<_.length;k++)y.push(_[k])}}if(v==u.length)break;if(v=C,w++>s){for(w>2*u.length&&this.reportError("infinite loop with in ace tokenizer",{startState:c,line:u});v<u.length;)E.type&&y.push(E),E={value:u.substring(v,v+=500),type:"overflow"};f="start",d=[];break}}return E.type&&y.push(E),d.length>1&&d[0]!==f&&d.unshift("#tmp",f),{tokens:y,state:d.length?d:f}},l}();a.prototype.reportError=o,r.Tokenizer=a}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/deep_copy"],function(n,r,i){var o=n("../lib/deep_copy").deepCopy,s;s=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}},(function(){this.addRules=function(u,c){if(!c){for(var d in u)this.$rules[d]=u[d];return}for(var d in u){for(var f=u[d],h=0;h<f.length;h++){var p=f[h];(p.next||p.onMatch)&&(typeof p.next=="string"&&p.next.indexOf(c)!==0&&(p.next=c+p.next),p.nextState&&p.nextState.indexOf(c)!==0&&(p.nextState=c+p.nextState))}this.$rules[c+d]=f}},this.getRules=function(){return this.$rules},this.embedRules=function(u,c,d,f,h){var p=typeof u=="function"?new u().getRules():u;if(f)for(var m=0;m<f.length;m++)f[m]=c+f[m];else{f=[];for(var g in p)f.push(c+g)}if(this.addRules(p,c),d)for(var y=Array.prototype[h?"push":"unshift"],m=0;m<f.length;m++)y.apply(this.$rules[f[m]],o(d));this.$embeds||(this.$embeds=[]),this.$embeds.push(c)},this.getEmbeds=function(){return this.$embeds};var a=function(u,c){return(u!="start"||c.length)&&c.unshift(this.nextState,u),this.nextState},l=function(u,c){return c.shift(),c.shift()||"start"};this.normalizeRules=function(){var u=0,c=this.$rules;function d(f){var h=c[f];h.processed=!0;for(var p=0;p<h.length;p++){var m=h[p],g=null;Array.isArray(m)&&(g=m,m={}),!m.regex&&m.start&&(m.regex=m.start,m.next||(m.next=[]),m.next.push({defaultToken:m.token},{token:m.token+".end",regex:m.end||m.start,next:"pop"}),m.token=m.token+".start",m.push=!0);var y=m.next||m.push;if(y&&Array.isArray(y)){var v=m.stateName;v||(v=m.token,typeof v!="string"&&(v=v[0]||""),c[v]&&(v+=u++)),c[v]=y,m.next=v,d(v)}else y=="pop"&&(m.next=l);if(m.push&&(m.nextState=m.next||m.push,m.next=a,delete m.push),m.rules)for(var w in m.rules)c[w]?c[w].push&&c[w].push.apply(c[w],m.rules[w]):c[w]=m.rules[w];var E=typeof m=="string"?m:m.include;if(E&&(E==="$self"&&(E="start"),Array.isArray(E)?g=E.map(function(x){return c[x]}):g=c[E]),g){var _=[p,1].concat(g);m.noEscape&&(_=_.filter(function(x){return!x.next})),h.splice.apply(h,_),p--}m.keywordMap&&(m.token=this.createKeywordMapper(m.keywordMap,m.defaultToken||"text",m.caseInsensitive),delete m.defaultToken)}}Object.keys(c).forEach(d,this)},this.createKeywordMapper=function(u,c,d,f){var h=Object.create(null);return this.$keywordList=[],Object.keys(u).forEach(function(p){for(var m=u[p],g=m.split(f||"|"),y=g.length;y--;){var v=g[y];this.$keywordList.push(v),d&&(v=v.toLowerCase()),h[v]=p}},this),u=null,d?function(p){return h[p.toLowerCase()]||c}:function(p){return h[p]||c}},this.getKeywords=function(){return this.$keywords}}).call(s.prototype),r.TextHighlightRules=s}),ace.define("ace/mode/behaviour",["require","exports","module"],function(n,r,i){var o;o=function(){this.$behaviours={}},(function(){this.add=function(s,a,l){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[s]:this.$behaviours[s]={}}this.$behaviours[s][a]=l},this.addBehaviours=function(s){for(var a in s)for(var l in s[a])this.add(a,l,s[a][l])},this.remove=function(s){this.$behaviours&&this.$behaviours[s]&&delete this.$behaviours[s]},this.inherit=function(s,a){if(typeof s=="function")var l=new s().getBehaviours(a);else var l=s.getBehaviours(a);this.addBehaviours(l)},this.getBehaviours=function(s){if(s){for(var a={},l=0;l<s.length;l++)this.$behaviours[s[l]]&&(a[s[l]]=this.$behaviours[s[l]]);return a}else return this.$behaviours}}).call(o.prototype),r.Behaviour=o}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(n,r,i){var o=n("./range").Range,s=function(){function a(l,u,c){this.$session=l,this.$row=u,this.$rowTokens=l.getTokens(u);var d=l.getTokenAt(u,c);this.$tokenIndex=d?d.index:-1}return a.prototype.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},a.prototype.stepForward=function(){this.$tokenIndex+=1;for(var l;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,l||(l=this.$session.getLength()),this.$row>=l)return this.$row=l-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},a.prototype.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},a.prototype.getCurrentTokenRow=function(){return this.$row},a.prototype.getCurrentTokenColumn=function(){var l=this.$rowTokens,u=this.$tokenIndex,c=l[u].start;if(c!==void 0)return c;for(c=0;u>0;)u-=1,c+=l[u].value.length;return c},a.prototype.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},a.prototype.getCurrentTokenRange=function(){var l=this.$rowTokens[this.$tokenIndex],u=this.getCurrentTokenColumn();return new o(this.$row,u,this.$row,u+l.value.length)},a}();r.TokenIterator=s}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(n,r,i){var o=n("../../lib/oop"),s=n("../behaviour").Behaviour,a=n("../../token_iterator").TokenIterator,l=n("../../lib/lang"),u=["text","paren.rparen","rparen","paren","punctuation.operator"],c=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],d,f={},h={'"':'"',"'":"'"},p=function(y){var v=-1;if(y.multiSelect&&(v=y.selection.index,f.rangeCount!=y.multiSelect.rangeCount&&(f={rangeCount:y.multiSelect.rangeCount})),f[v])return d=f[v];d=f[v]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},m=function(y,v,w,E){var _=y.end.row-y.start.row;return{text:w+v+E,selection:[0,y.start.column+1,_,y.end.column+(_?0:1)]}},g;g=function(y){y=y||{},this.add("braces","insertion",function(v,w,E,_,x){var S=E.getCursorPosition(),C=_.doc.getLine(S.row);if(x=="{"){p(E);var A=E.getSelectionRange(),k=_.doc.getTextRange(A),N=_.getTokenAt(S.row,S.column);if(k!==""&&k!=="{"&&E.getWrapBehavioursEnabled())return m(A,k,"{","}");if(N&&/(?:string)\.quasi|\.xml/.test(N.type)){var M=[/tag\-(?:open|name)/,/attribute\-name/];return M.some(function(W){return W.test(N.type)})||/(string)\.quasi/.test(N.type)&&N.value[S.column-N.start-1]!=="$"?void 0:(g.recordAutoInsert(E,_,"}"),{text:"{}",selection:[1,1]})}else if(g.isSaneInsertion(E,_))return/[\]\}\)]/.test(C[S.column])||E.inMultiSelectMode||y.braces?(g.recordAutoInsert(E,_,"}"),{text:"{}",selection:[1,1]}):(g.recordMaybeInsert(E,_,"{"),{text:"{",selection:[1,1]})}else if(x=="}"){p(E);var I=C.substring(S.column,S.column+1);if(I=="}"){var D=_.$findOpeningBracket("}",{column:S.column+1,row:S.row});if(D!==null&&g.isAutoInsertedClosing(S,C,x))return g.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else if(x==`
`||x==`\r
`){p(E);var R="";g.isMaybeInsertedClosing(S,C)&&(R=l.stringRepeat("}",d.maybeInsertedBrackets),g.clearMaybeInsertedClosing());var I=C.substring(S.column,S.column+1);if(I==="}"){var O=_.findMatchingBracket({row:S.row,column:S.column+1},"}");if(!O)return null;var B=this.$getIndent(_.getLine(O.row))}else if(R)var B=this.$getIndent(C);else{g.clearMaybeInsertedClosing();return}var z=B+_.getTabString();return{text:`
`+z+`
`+B+R,selection:[1,z.length,1,z.length]}}else g.clearMaybeInsertedClosing()}),this.add("braces","deletion",function(v,w,E,_,x){var S=_.doc.getTextRange(x);if(!x.isMultiLine()&&S=="{"){p(E);var C=_.doc.getLine(x.start.row),A=C.substring(x.end.column,x.end.column+1);if(A=="}")return x.end.column++,x;d.maybeInsertedBrackets--}}),this.add("parens","insertion",function(v,w,E,_,x){if(x=="("){p(E);var S=E.getSelectionRange(),C=_.doc.getTextRange(S);if(C!==""&&E.getWrapBehavioursEnabled())return m(S,C,"(",")");if(g.isSaneInsertion(E,_))return g.recordAutoInsert(E,_,")"),{text:"()",selection:[1,1]}}else if(x==")"){p(E);var A=E.getCursorPosition(),k=_.doc.getLine(A.row),N=k.substring(A.column,A.column+1);if(N==")"){var M=_.$findOpeningBracket(")",{column:A.column+1,row:A.row});if(M!==null&&g.isAutoInsertedClosing(A,k,x))return g.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(v,w,E,_,x){var S=_.doc.getTextRange(x);if(!x.isMultiLine()&&S=="("){p(E);var C=_.doc.getLine(x.start.row),A=C.substring(x.start.column+1,x.start.column+2);if(A==")")return x.end.column++,x}}),this.add("brackets","insertion",function(v,w,E,_,x){if(x=="["){p(E);var S=E.getSelectionRange(),C=_.doc.getTextRange(S);if(C!==""&&E.getWrapBehavioursEnabled())return m(S,C,"[","]");if(g.isSaneInsertion(E,_))return g.recordAutoInsert(E,_,"]"),{text:"[]",selection:[1,1]}}else if(x=="]"){p(E);var A=E.getCursorPosition(),k=_.doc.getLine(A.row),N=k.substring(A.column,A.column+1);if(N=="]"){var M=_.$findOpeningBracket("]",{column:A.column+1,row:A.row});if(M!==null&&g.isAutoInsertedClosing(A,k,x))return g.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(v,w,E,_,x){var S=_.doc.getTextRange(x);if(!x.isMultiLine()&&S=="["){p(E);var C=_.doc.getLine(x.start.row),A=C.substring(x.start.column+1,x.start.column+2);if(A=="]")return x.end.column++,x}}),this.add("string_dquotes","insertion",function(v,w,E,_,x){var S=_.$mode.$quotes||h;if(x.length==1&&S[x]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(x)!=-1)return;p(E);var C=x,A=E.getSelectionRange(),k=_.doc.getTextRange(A);if(k!==""&&(k.length!=1||!S[k])&&E.getWrapBehavioursEnabled())return m(A,k,C,C);if(!k){var N=E.getCursorPosition(),M=_.doc.getLine(N.row),I=M.substring(N.column-1,N.column),D=M.substring(N.column,N.column+1),R=_.getTokenAt(N.row,N.column),O=_.getTokenAt(N.row,N.column+1);if(I=="\\"&&R&&/escape/.test(R.type))return null;var B=R&&/string|escape/.test(R.type),z=!O||/string|escape/.test(O.type),W;if(D==C)W=B!==z,W&&/string\.end/.test(O.type)&&(W=!1);else{if(B&&!z||B&&z)return null;var U=_.$mode.tokenRe;U.lastIndex=0;var F=U.test(I);U.lastIndex=0;var Y=U.test(D),V=_.$mode.$pairQuotesAfter,G=V&&V[C]&&V[C].test(I);if(!G&&F||Y||D&&!/[\s;,.})\]\\]/.test(D))return null;var X=M[N.column-2];if(I==C&&(X==C||U.test(X)))return null;W=!0}return{text:W?C+C:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(v,w,E,_,x){var S=_.$mode.$quotes||h,C=_.doc.getTextRange(x);if(!x.isMultiLine()&&S.hasOwnProperty(C)){p(E);var A=_.doc.getLine(x.start.row),k=A.substring(x.start.column+1,x.start.column+2);if(k==C)return x.end.column++,x}}),y.closeDocComment!==!1&&this.add("doc comment end","insertion",function(v,w,E,_,x){if(v==="doc-start"&&(x===`
`||x===`\r
`)&&E.selection.isEmpty()){var S=E.getCursorPosition();if(S.column===0)return;for(var C=_.doc.getLine(S.row),A=_.doc.getLine(S.row+1),k=_.getTokens(S.row),N=0,M=0;M<k.length;M++){N+=k[M].value.length;var I=k[M];if(N>=S.column){if(N===S.column){if(!/\.doc/.test(I.type))return;if(/\*\//.test(I.value)){var D=k[M+1];if(!D||!/\.doc/.test(D.type))return}}var R=S.column-(N-I.value.length),O=I.value.indexOf("*/"),B=I.value.indexOf("/**",O>-1?O+2:0);if(B!==-1&&R>B&&R<B+3||O!==-1&&B!==-1&&R>=O&&R<=B||!/\.doc/.test(I.type))return;break}}var z=this.$getIndent(C);if(/\s*\*/.test(A))return/^\s*\*/.test(C)?{text:x+z+"* ",selection:[1,2+z.length,1,2+z.length]}:{text:x+z+" * ",selection:[1,3+z.length,1,3+z.length]};if(/\/\*\*/.test(C.substring(0,S.column)))return{text:x+z+" * "+x+" "+z+"*/",selection:[1,4+z.length,1,4+z.length]}}})},g.isSaneInsertion=function(y,v){var w=y.getCursorPosition(),E=new a(v,w.row,w.column);if(!this.$matchTokenType(E.getCurrentToken()||"text",u)){if(/[)}\]]/.test(y.session.getLine(w.row)[w.column]))return!0;var _=new a(v,w.row,w.column+1);if(!this.$matchTokenType(_.getCurrentToken()||"text",u))return!1}return E.stepForward(),E.getCurrentTokenRow()!==w.row||this.$matchTokenType(E.getCurrentToken()||"text",c)},g.$matchTokenType=function(y,v){return v.indexOf(y.type||y)>-1},g.recordAutoInsert=function(y,v,w){var E=y.getCursorPosition(),_=v.doc.getLine(E.row);this.isAutoInsertedClosing(E,_,d.autoInsertedLineEnd[0])||(d.autoInsertedBrackets=0),d.autoInsertedRow=E.row,d.autoInsertedLineEnd=w+_.substr(E.column),d.autoInsertedBrackets++},g.recordMaybeInsert=function(y,v,w){var E=y.getCursorPosition(),_=v.doc.getLine(E.row);this.isMaybeInsertedClosing(E,_)||(d.maybeInsertedBrackets=0),d.maybeInsertedRow=E.row,d.maybeInsertedLineStart=_.substr(0,E.column)+w,d.maybeInsertedLineEnd=_.substr(E.column),d.maybeInsertedBrackets++},g.isAutoInsertedClosing=function(y,v,w){return d.autoInsertedBrackets>0&&y.row===d.autoInsertedRow&&w===d.autoInsertedLineEnd[0]&&v.substr(y.column)===d.autoInsertedLineEnd},g.isMaybeInsertedClosing=function(y,v){return d.maybeInsertedBrackets>0&&y.row===d.maybeInsertedRow&&v.substr(y.column)===d.maybeInsertedLineEnd&&v.substr(0,y.column)==d.maybeInsertedLineStart},g.popAutoInsertedClosing=function(){d.autoInsertedLineEnd=d.autoInsertedLineEnd.substr(1),d.autoInsertedBrackets--},g.clearMaybeInsertedClosing=function(){d&&(d.maybeInsertedBrackets=0,d.maybeInsertedRow=-1)},o.inherits(g,s),r.CstyleBehaviour=g}),ace.define("ace/unicode",["require","exports","module"],function(n,r,i){for(var o=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],s=0,a=[],l=0;l<o.length;l+=2)a.push(s+=o[l]),o[l+1]&&a.push(45,s+=o[l+1]);r.wordChars=String.fromCharCode.apply(null,a)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(n,r,i){var o=n("../config"),s=n("../tokenizer").Tokenizer,a=n("./text_highlight_rules").TextHighlightRules,l=n("./behaviour/cstyle").CstyleBehaviour,u=n("../unicode"),c=n("../lib/lang"),d=n("../token_iterator").TokenIterator,f=n("../range").Range,h;h=function(){this.HighlightRules=a},(function(){this.$defaultBehaviour=new l,this.tokenRe=new RegExp("^["+u.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+u.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new s(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(p,m,g,y){var v=m.doc,w=!0,E=!0,_=1/0,x=m.getTabSize(),S=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var k=this.lineCommentStart.map(c.escapeRegExp).join("|"),C=this.lineCommentStart[0];else var k=c.escapeRegExp(this.lineCommentStart),C=this.lineCommentStart;k=new RegExp("^(\\s*)(?:"+k+") ?"),S=m.getUseSoftTabs();var I=function(Y,V){var G=Y.match(k);if(G){var X=G[1].length,Z=G[0].length;!O(Y,X,Z)&&G[0][Z-1]==" "&&Z--,v.removeInLine(V,X,Z)}},R=C+" ",M=function(Y,V){(!w||/\S/.test(Y))&&(O(Y,_,_)?v.insertInLine({row:V,column:_},R):v.insertInLine({row:V,column:_},C))},D=function(Y,V){return k.test(Y)},O=function(Y,V,G){for(var X=0;V--&&Y.charAt(V)==" ";)X++;if(X%x!=0)return!1;for(var X=0;Y.charAt(G++)==" ";)X++;return x>2?X%x!=x-1:X%x==0}}else{if(!this.blockComment)return!1;var C=this.blockComment.start,A=this.blockComment.end,k=new RegExp("^(\\s*)(?:"+c.escapeRegExp(C)+")"),N=new RegExp("(?:"+c.escapeRegExp(A)+")\\s*$"),M=function(W,U){D(W,U)||(!w||/\S/.test(W))&&(v.insertInLine({row:U,column:W.length},A),v.insertInLine({row:U,column:_},C))},I=function(W,U){var F;(F=W.match(N))&&v.removeInLine(U,W.length-F[0].length,W.length),(F=W.match(k))&&v.removeInLine(U,F[1].length,F[0].length)},D=function(W,U){if(k.test(W))return!0;for(var F=m.getTokens(U),Y=0;Y<F.length;Y++)if(F[Y].type==="comment")return!0}}function B(W){for(var U=g;U<=y;U++)W(v.getLine(U),U)}var z=1/0;B(function(W,U){var F=W.search(/\S/);F!==-1?(F<_&&(_=F),E&&!D(W,U)&&(E=!1)):z>W.length&&(z=W.length)}),_==1/0&&(_=z,w=!1,E=!1),S&&_%x!=0&&(_=Math.floor(_/x)*x),B(E?I:M)},this.toggleBlockComment=function(p,m,g,y){var v=this.blockComment;if(v){!v.start&&v[0]&&(v=v[0]);var w=new d(m,y.row,y.column),E=w.getCurrentToken();m.selection;var _=m.selection.toOrientedRange(),x,S;if(E&&/comment/.test(E.type)){for(var C,A;E&&/comment/.test(E.type);){var k=E.value.indexOf(v.start);if(k!=-1){var N=w.getCurrentTokenRow(),M=w.getCurrentTokenColumn()+k;C=new f(N,M,N,M+v.start.length);break}E=w.stepBackward()}for(var w=new d(m,y.row,y.column),E=w.getCurrentToken();E&&/comment/.test(E.type);){var k=E.value.indexOf(v.end);if(k!=-1){var N=w.getCurrentTokenRow(),M=w.getCurrentTokenColumn()+k;A=new f(N,M,N,M+v.end.length);break}E=w.stepForward()}A&&m.remove(A),C&&(m.remove(C),x=C.start.row,S=-v.start.length)}else S=v.start.length,x=g.start.row,m.insert(g.end,v.end),m.insert(g.start,v.start);_.start.row==x&&(_.start.column+=S),_.end.row==x&&(_.end.column+=S),m.selection.fromOrientedRange(_)}},this.getNextLineIndent=function(p,m,g){return this.$getIndent(m)},this.checkOutdent=function(p,m,g){return!1},this.autoOutdent=function(p,m,g){},this.$getIndent=function(p){return p.match(/^\s*/)[0]},this.createWorker=function(p){return null},this.createModeDelegates=function(p){this.$embeds=[],this.$modes={};for(var m in p)if(p[m]){var g=p[m],y=g.prototype.$id,v=o.$modes[y];v||(o.$modes[y]=v=new g),o.$modes[m]||(o.$modes[m]=v),this.$embeds.push(m),this.$modes[m]=v}for(var w=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],E=function(x){(function(S){var C=w[x],A=S[C];S[w[x]]=function(){return this.$delegator(C,arguments,A)}})(_)},_=this,m=0;m<w.length;m++)E(m)},this.$delegator=function(p,m,g){var y=m[0]||"start";if(typeof y!="string"){if(Array.isArray(y[2])){var v=y[2][y[2].length-1],w=this.$modes[v];if(w)return w[p].apply(w,[y[1]].concat([].slice.call(m,1)))}y=y[0]||"start"}for(var E=0;E<this.$embeds.length;E++)if(this.$modes[this.$embeds[E]]){var _=y.split(this.$embeds[E]);if(!_[0]&&_[1]){m[0]=_[1];var w=this.$modes[this.$embeds[E]];return w[p].apply(w,m)}}var x=g.apply(this,m);return g?x:void 0},this.transformAction=function(p,m,g,y,v){if(this.$behaviour){var w=this.$behaviour.getBehaviours();for(var E in w)if(w[E][m]){var _=w[E][m].apply(this,arguments);if(_)return _}}},this.getKeywords=function(p){if(!this.completionKeywords){var m=this.$tokenizer.rules,g=[];for(var y in m)for(var v=m[y],w=0,E=v.length;w<E;w++)if(typeof v[w].token=="string")/keyword|support|storage/.test(v[w].token)&&g.push(v[w].regex);else if(typeof v[w].token=="object"){for(var _=0,x=v[w].token.length;_<x;_++)if(/keyword|support|storage/.test(v[w].token[_])){var y=v[w].regex.match(/\(.+?\)/g)[_];g.push(y.substr(1,y.length-2))}}this.completionKeywords=g}return p?g.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(p,m,g,y){var v=this.$keywordList||this.$createKeywordList();return v.map(function(w){return{name:w,value:w,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(h.prototype),r.Mode=h}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(n,r,i){var o=n("./lib/dom"),s=function(){function a(l){this.session=l,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}return a.prototype.getRowLength=function(l){var u;return this.lineWidgets?u=this.lineWidgets[l]&&this.lineWidgets[l].rowCount||0:u=0,!this.$useWrapMode||!this.$wrapData[l]?1+u:this.$wrapData[l].length+1+u},a.prototype.$getWidgetScreenLength=function(){var l=0;return this.lineWidgets.forEach(function(u){u&&u.rowCount&&!u.hidden&&(l+=u.rowCount)}),l},a.prototype.$onChangeEditor=function(l){this.attach(l.editor)},a.prototype.attach=function(l){l&&l.widgetManager&&l.widgetManager!=this&&l.widgetManager.detach(),this.editor!=l&&(this.detach(),this.editor=l,l&&(l.widgetManager=this,l.renderer.on("beforeRender",this.measureWidgets),l.renderer.on("afterRender",this.renderWidgets)))},a.prototype.detach=function(l){var u=this.editor;if(u){this.editor=null,u.widgetManager=null,u.renderer.off("beforeRender",this.measureWidgets),u.renderer.off("afterRender",this.renderWidgets);var c=this.session.lineWidgets;c&&c.forEach(function(d){d&&d.el&&d.el.parentNode&&(d._inDocument=!1,d.el.parentNode.removeChild(d.el))})}},a.prototype.updateOnFold=function(l,u){var c=u.lineWidgets;if(!(!c||!l.action)){for(var d=l.data,f=d.start.row,h=d.end.row,p=l.action=="add",m=f+1;m<h;m++)c[m]&&(c[m].hidden=p);c[h]&&(p?c[f]?c[h].hidden=p:c[f]=c[h]:(c[f]==c[h]&&(c[f]=void 0),c[h].hidden=p))}},a.prototype.updateOnChange=function(l){var u=this.session.lineWidgets;if(u){var c=l.start.row,d=l.end.row-c;if(d!==0)if(l.action=="remove"){var f=u.splice(c+1,d);!u[c]&&f[f.length-1]&&(u[c]=f.pop()),f.forEach(function(p){p&&this.removeLineWidget(p)},this),this.$updateRows()}else{var h=new Array(d);u[c]&&u[c].column!=null&&l.start.column>u[c].column&&c++,h.unshift(c,0),u.splice.apply(u,h),this.$updateRows()}}},a.prototype.$updateRows=function(){var l=this.session.lineWidgets;if(l){var u=!0;l.forEach(function(c,d){if(c)for(u=!1,c.row=d;c.$oldWidget;)c.$oldWidget.row=d,c=c.$oldWidget}),u&&(this.session.lineWidgets=null)}},a.prototype.$registerLineWidget=function(l){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var u=this.session.lineWidgets[l.row];return u&&(l.$oldWidget=u,u.el&&u.el.parentNode&&(u.el.parentNode.removeChild(u.el),u._inDocument=!1)),this.session.lineWidgets[l.row]=l,l},a.prototype.addLineWidget=function(l){if(this.$registerLineWidget(l),l.session=this.session,!this.editor)return l;var u=this.editor.renderer;l.html&&!l.el&&(l.el=o.createElement("div"),l.el.innerHTML=l.html),l.text&&!l.el&&(l.el=o.createElement("div"),l.el.textContent=l.text),l.el&&(o.addCssClass(l.el,"ace_lineWidgetContainer"),l.className&&o.addCssClass(l.el,l.className),l.el.style.position="absolute",l.el.style.zIndex="5",u.container.appendChild(l.el),l._inDocument=!0,l.coverGutter||(l.el.style.zIndex="3"),l.pixelHeight==null&&(l.pixelHeight=l.el.offsetHeight)),l.rowCount==null&&(l.rowCount=l.pixelHeight/u.layerConfig.lineHeight);var c=this.session.getFoldAt(l.row,0);if(l.$fold=c,c){var d=this.session.lineWidgets;l.row==c.end.row&&!d[c.start.row]?d[c.start.row]=l:l.hidden=!0}return this.session._emit("changeFold",{data:{start:{row:l.row}}}),this.$updateRows(),this.renderWidgets(null,u),this.onWidgetChanged(l),l},a.prototype.removeLineWidget=function(l){if(l._inDocument=!1,l.session=null,l.el&&l.el.parentNode&&l.el.parentNode.removeChild(l.el),l.editor&&l.editor.destroy)try{l.editor.destroy()}catch{}if(this.session.lineWidgets){var u=this.session.lineWidgets[l.row];if(u==l)this.session.lineWidgets[l.row]=l.$oldWidget,l.$oldWidget&&this.onWidgetChanged(l.$oldWidget);else for(;u;){if(u.$oldWidget==l){u.$oldWidget=l.$oldWidget;break}u=u.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:l.row}}}),this.$updateRows()},a.prototype.getWidgetsAtRow=function(l){for(var u=this.session.lineWidgets,c=u&&u[l],d=[];c;)d.push(c),c=c.$oldWidget;return d},a.prototype.onWidgetChanged=function(l){this.session._changedWidgets.push(l),this.editor&&this.editor.renderer.updateFull()},a.prototype.measureWidgets=function(l,u){var c=this.session._changedWidgets,d=u.layerConfig;if(!(!c||!c.length)){for(var f=1/0,h=0;h<c.length;h++){var p=c[h];if(!(!p||!p.el)&&p.session==this.session){if(!p._inDocument){if(this.session.lineWidgets[p.row]!=p)continue;p._inDocument=!0,u.container.appendChild(p.el)}p.h=p.el.offsetHeight,p.fixedWidth||(p.w=p.el.offsetWidth,p.screenWidth=Math.ceil(p.w/d.characterWidth));var m=p.h/d.lineHeight;p.coverLine&&(m-=this.session.getRowLineCount(p.row),m<0&&(m=0)),p.rowCount!=m&&(p.rowCount=m,p.row<f&&(f=p.row))}}f!=1/0&&(this.session._emit("changeFold",{data:{start:{row:f}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},a.prototype.renderWidgets=function(l,u){var c=u.layerConfig,d=this.session.lineWidgets;if(d){for(var f=Math.min(this.firstRow,c.firstRow),h=Math.max(this.lastRow,c.lastRow,d.length);f>0&&!d[f];)f--;this.firstRow=c.firstRow,this.lastRow=c.lastRow,u.$cursorLayer.config=c;for(var p=f;p<=h;p++){var m=d[p];if(!(!m||!m.el)){if(m.hidden){m.el.style.top=-100-(m.pixelHeight||0)+"px";continue}m._inDocument||(m._inDocument=!0,u.container.appendChild(m.el));var g=u.$cursorLayer.getPixelPosition({row:p,column:0},!0).top;m.coverLine||(g+=c.lineHeight*this.session.getRowLineCount(m.row)),m.el.style.top=g-c.offset+"px";var y=m.coverGutter?0:u.gutterWidth;m.fixedWidth||(y-=u.scrollLeft),m.el.style.left=y+"px",m.fullWidth&&m.screenWidth&&(m.el.style.minWidth=c.width+2*c.padding+"px"),m.fixedWidth?m.el.style.right=u.scrollBar.getWidth()+"px":m.el.style.right=""}}}},a}();r.LineWidgets=s}),ace.define("ace/apply_delta",["require","exports","module"],function(n,r,i){r.applyDelta=function(o,s,a){var l=s.start.row,u=s.start.column,c=o[l]||"";switch(s.action){case"insert":var d=s.lines;if(d.length===1)o[l]=c.substring(0,u)+s.lines[0]+c.substring(u);else{var f=[l,1].concat(s.lines);o.splice.apply(o,f),o[l]=c.substring(0,u)+o[l],o[l+s.lines.length-1]+=c.substring(u)}break;case"remove":var h=s.end.column,p=s.end.row;l===p?o[l]=c.substring(0,u)+c.substring(h):o.splice(l,p-l+1,c.substring(0,u)+o[p].substring(h));break}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(n,r,i){var o=n("./lib/oop"),s=n("./lib/event_emitter").EventEmitter,a=function(){function c(d,f,h){this.$onChange=this.onChange.bind(this),this.attach(d),typeof f!="number"?this.setPosition(f.row,f.column):this.setPosition(f,h)}return c.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},c.prototype.getDocument=function(){return this.document},c.prototype.onChange=function(d){if(!(d.start.row==d.end.row&&d.start.row!=this.row)&&!(d.start.row>this.row)){var f=u(d,{row:this.row,column:this.column},this.$insertRight);this.setPosition(f.row,f.column,!0)}},c.prototype.setPosition=function(d,f,h){var p;if(h?p={row:d,column:f}:p=this.$clipPositionToDocument(d,f),!(this.row==p.row&&this.column==p.column)){var m={row:this.row,column:this.column};this.row=p.row,this.column=p.column,this._signal("change",{old:m,value:p})}},c.prototype.detach=function(){this.document.off("change",this.$onChange)},c.prototype.attach=function(d){this.document=d||this.document,this.document.on("change",this.$onChange)},c.prototype.$clipPositionToDocument=function(d,f){var h={};return d>=this.document.getLength()?(h.row=Math.max(0,this.document.getLength()-1),h.column=this.document.getLine(h.row).length):d<0?(h.row=0,h.column=0):(h.row=d,h.column=Math.min(this.document.getLine(h.row).length,Math.max(0,f))),f<0&&(h.column=0),h},c}();a.prototype.$insertRight=!1,o.implement(a.prototype,s);function l(c,d,f){var h=f?c.column<=d.column:c.column<d.column;return c.row<d.row||c.row==d.row&&h}function u(c,d,f){var h=c.action=="insert",p=(h?1:-1)*(c.end.row-c.start.row),m=(h?1:-1)*(c.end.column-c.start.column),g=c.start,y=h?g:c.end;return l(d,g,f)?{row:d.row,column:d.column}:l(y,d,!f)?{row:d.row+p,column:d.column+(d.row==y.row?m:0)}:{row:g.row,column:g.column}}r.Anchor=a}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(n,r,i){var o=n("./lib/oop"),s=n("./apply_delta").applyDelta,a=n("./lib/event_emitter").EventEmitter,l=n("./range").Range,u=n("./anchor").Anchor,c=function(){function d(f){this.$lines=[""],f.length===0?this.$lines=[""]:Array.isArray(f)?this.insertMergedLines({row:0,column:0},f):this.insert({row:0,column:0},f)}return d.prototype.setValue=function(f){var h=this.getLength()-1;this.remove(new l(0,0,h,this.getLine(h).length)),this.insert({row:0,column:0},f||"")},d.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},d.prototype.createAnchor=function(f,h){return new u(this,f,h)},d.prototype.$detectNewLine=function(f){var h=f.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=h?h[1]:`
`,this._signal("changeNewLineMode")},d.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}},d.prototype.setNewLineMode=function(f){this.$newLineMode!==f&&(this.$newLineMode=f,this._signal("changeNewLineMode"))},d.prototype.getNewLineMode=function(){return this.$newLineMode},d.prototype.isNewLine=function(f){return f==`\r
`||f=="\r"||f==`
`},d.prototype.getLine=function(f){return this.$lines[f]||""},d.prototype.getLines=function(f,h){return this.$lines.slice(f,h+1)},d.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},d.prototype.getLength=function(){return this.$lines.length},d.prototype.getTextRange=function(f){return this.getLinesForRange(f).join(this.getNewLineCharacter())},d.prototype.getLinesForRange=function(f){var h;if(f.start.row===f.end.row)h=[this.getLine(f.start.row).substring(f.start.column,f.end.column)];else{h=this.getLines(f.start.row,f.end.row),h[0]=(h[0]||"").substring(f.start.column);var p=h.length-1;f.end.row-f.start.row==p&&(h[p]=h[p].substring(0,f.end.column))}return h},d.prototype.insertLines=function(f,h){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(f,h)},d.prototype.removeLines=function(f,h){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(f,h)},d.prototype.insertNewLine=function(f){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(f,["",""])},d.prototype.insert=function(f,h){return this.getLength()<=1&&this.$detectNewLine(h),this.insertMergedLines(f,this.$split(h))},d.prototype.insertInLine=function(f,h){var p=this.clippedPos(f.row,f.column),m=this.pos(f.row,f.column+h.length);return this.applyDelta({start:p,end:m,action:"insert",lines:[h]},!0),this.clonePos(m)},d.prototype.clippedPos=function(f,h){var p=this.getLength();f===void 0?f=p:f<0?f=0:f>=p&&(f=p-1,h=void 0);var m=this.getLine(f);return h==null&&(h=m.length),h=Math.min(Math.max(h,0),m.length),{row:f,column:h}},d.prototype.clonePos=function(f){return{row:f.row,column:f.column}},d.prototype.pos=function(f,h){return{row:f,column:h}},d.prototype.$clipPosition=function(f){var h=this.getLength();return f.row>=h?(f.row=Math.max(0,h-1),f.column=this.getLine(h-1).length):(f.row=Math.max(0,f.row),f.column=Math.min(Math.max(f.column,0),this.getLine(f.row).length)),f},d.prototype.insertFullLines=function(f,h){f=Math.min(Math.max(f,0),this.getLength());var p=0;f<this.getLength()?(h=h.concat([""]),p=0):(h=[""].concat(h),f--,p=this.$lines[f].length),this.insertMergedLines({row:f,column:p},h)},d.prototype.insertMergedLines=function(f,h){var p=this.clippedPos(f.row,f.column),m={row:p.row+h.length-1,column:(h.length==1?p.column:0)+h[h.length-1].length};return this.applyDelta({start:p,end:m,action:"insert",lines:h}),this.clonePos(m)},d.prototype.remove=function(f){var h=this.clippedPos(f.start.row,f.start.column),p=this.clippedPos(f.end.row,f.end.column);return this.applyDelta({start:h,end:p,action:"remove",lines:this.getLinesForRange({start:h,end:p})}),this.clonePos(h)},d.prototype.removeInLine=function(f,h,p){var m=this.clippedPos(f,h),g=this.clippedPos(f,p);return this.applyDelta({start:m,end:g,action:"remove",lines:this.getLinesForRange({start:m,end:g})},!0),this.clonePos(m)},d.prototype.removeFullLines=function(f,h){f=Math.min(Math.max(0,f),this.getLength()-1),h=Math.min(Math.max(0,h),this.getLength()-1);var p=h==this.getLength()-1&&f>0,m=h<this.getLength()-1,g=p?f-1:f,y=p?this.getLine(g).length:0,v=m?h+1:h,w=m?0:this.getLine(v).length,E=new l(g,y,v,w),_=this.$lines.slice(f,h+1);return this.applyDelta({start:E.start,end:E.end,action:"remove",lines:this.getLinesForRange(E)}),_},d.prototype.removeNewLine=function(f){f<this.getLength()-1&&f>=0&&this.applyDelta({start:this.pos(f,this.getLine(f).length),end:this.pos(f+1,0),action:"remove",lines:["",""]})},d.prototype.replace=function(f,h){if(f instanceof l||(f=l.fromPoints(f.start,f.end)),h.length===0&&f.isEmpty())return f.start;if(h==this.getTextRange(f))return f.end;this.remove(f);var p;return h?p=this.insert(f.start,h):p=f.start,p},d.prototype.applyDeltas=function(f){for(var h=0;h<f.length;h++)this.applyDelta(f[h])},d.prototype.revertDeltas=function(f){for(var h=f.length-1;h>=0;h--)this.revertDelta(f[h])},d.prototype.applyDelta=function(f,h){var p=f.action=="insert";(p?f.lines.length<=1&&!f.lines[0]:!l.comparePoints(f.start,f.end))||(p&&f.lines.length>2e4?this.$splitAndapplyLargeDelta(f,2e4):(s(this.$lines,f,h),this._signal("change",f)))},d.prototype.$safeApplyDelta=function(f){var h=this.$lines.length;(f.action=="remove"&&f.start.row<h&&f.end.row<h||f.action=="insert"&&f.start.row<=h)&&this.applyDelta(f)},d.prototype.$splitAndapplyLargeDelta=function(f,h){for(var p=f.lines,m=p.length-h+1,g=f.start.row,y=f.start.column,v=0,w=0;v<m;v=w){w+=h-1;var E=p.slice(v,w);E.push(""),this.applyDelta({start:this.pos(g+v,y),end:this.pos(g+w,y=0),action:f.action,lines:E},!0)}f.lines=p.slice(v),f.start.row=g+v,f.start.column=y,this.applyDelta(f,!0)},d.prototype.revertDelta=function(f){this.$safeApplyDelta({start:this.clonePos(f.start),end:this.clonePos(f.end),action:f.action=="insert"?"remove":"insert",lines:f.lines.slice()})},d.prototype.indexToPosition=function(f,h){for(var p=this.$lines||this.getAllLines(),m=this.getNewLineCharacter().length,g=h||0,y=p.length;g<y;g++)if(f-=p[g].length+m,f<0)return{row:g,column:f+p[g].length+m};return{row:y-1,column:f+p[y-1].length+m}},d.prototype.positionToIndex=function(f,h){for(var p=this.$lines||this.getAllLines(),m=this.getNewLineCharacter().length,g=0,y=Math.min(f.row,p.length),v=h||0;v<y;++v)g+=p[v].length+m;return g+f.column},d.prototype.$split=function(f){return f.split(/\r\n|\r|\n/)},d}();c.prototype.$autoNewLine="",c.prototype.$newLineMode="auto",o.implement(c.prototype,a),r.Document=c}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(n,r,i){var o=n("./lib/oop"),s=n("./lib/event_emitter").EventEmitter,a=function(){function l(u,c){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=u;var d=this;this.$worker=function(){if(d.running){for(var f=new Date,h=d.currentLine,p=-1,m=d.doc,g=h;d.lines[h];)h++;var y=m.getLength(),v=0;for(d.running=!1;h<y;){d.$tokenizeRow(h),p=h;do h++;while(d.lines[h]);if(v++,v%5===0&&new Date-f>20){d.running=setTimeout(d.$worker,20);break}}d.currentLine=h,p==-1&&(p=h),g<=p&&d.fireUpdateEvent(g,p)}}}return l.prototype.setTokenizer=function(u){this.tokenizer=u,this.lines=[],this.states=[],this.start(0)},l.prototype.setDocument=function(u){this.doc=u,this.lines=[],this.states=[],this.stop()},l.prototype.fireUpdateEvent=function(u,c){var d={first:u,last:c};this._signal("update",{data:d})},l.prototype.start=function(u){this.currentLine=Math.min(u||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},l.prototype.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},l.prototype.$updateOnChange=function(u){var c=u.start.row,d=u.end.row-c;if(d===0)this.lines[c]=null;else if(u.action=="remove")this.lines.splice(c,d+1,null),this.states.splice(c,d+1,null);else{var f=Array(d+1);f.unshift(c,1),this.lines.splice.apply(this.lines,f),this.states.splice.apply(this.states,f)}this.currentLine=Math.min(c,this.currentLine,this.doc.getLength()),this.stop()},l.prototype.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},l.prototype.getTokens=function(u){return this.lines[u]||this.$tokenizeRow(u)},l.prototype.getState=function(u){return this.currentLine==u&&this.$tokenizeRow(u),this.states[u]||"start"},l.prototype.$tokenizeRow=function(u){var c=this.doc.getLine(u),d=this.states[u-1],f=this.tokenizer.getLineTokens(c,d,u);return this.states[u]+""!=f.state+""?(this.states[u]=f.state,this.lines[u+1]=null,this.currentLine>u+1&&(this.currentLine=u+1)):this.currentLine==u&&(this.currentLine=u+1),this.lines[u]=f.tokens},l.prototype.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()},l}();o.implement(a.prototype,s),r.BackgroundTokenizer=a}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/range"],function(n,r,i){var o=n("./lib/lang"),s=n("./range").Range,a=function(){function l(u,c,d){d===void 0&&(d="text"),this.setRegexp(u),this.clazz=c,this.type=d,this.docLen=0}return l.prototype.setRegexp=function(u){this.regExp+""!=u+""&&(this.regExp=u,this.cache=[])},l.prototype.update=function(u,c,d,f){if(this.regExp){for(var h=f.firstRow,p=f.lastRow,m={},g=d.$editor.$search,y=g.$isMultilineSearch(d.$editor.getLastSearchOptions()),v=h;v<=p;v++){var w=this.cache[v];if(w==null||d.getValue().length!=this.docLen){if(y){w=[];var E=g.$multiLineForward(d,this.regExp,v,p);if(E){var _=E.endRow<=p?E.endRow-1:p;_>v&&(v=_),w.push(new s(E.startRow,E.startCol,E.endRow,E.endCol))}w.length>this.MAX_RANGES&&(w=w.slice(0,this.MAX_RANGES))}else w=o.getMatchOffsets(d.getLine(v),this.regExp),w.length>this.MAX_RANGES&&(w=w.slice(0,this.MAX_RANGES)),w=w.map(function(A){return new s(v,A.offset,v,A.offset+A.length)});this.cache[v]=w.length?w:""}if(w.length!==0)for(var x=w.length;x--;){var S=w[x].toScreenRange(d),C=S.toString();m[C]||(m[C]=!0,c.drawSingleLineMarker(u,S,this.clazz,f))}}this.docLen=d.getValue().length}},l}();a.prototype.MAX_RANGES=500,r.SearchHighlight=a}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(n,r,i){var o=function(){function _(){this.$keepRedoStack,this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()}return _.prototype.addSession=function(x){this.$session=x},_.prototype.add=function(x,S,C){if(!this.$fromUndo&&x!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),S===!1||!this.lastDeltas){this.lastDeltas=[];var A=this.$undoStack.length;A>this.$undoDepth-1&&this.$undoStack.splice(0,A-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),x.id=this.$rev=++this.$maxRev}(x.action=="remove"||x.action=="insert")&&(this.$lastDelta=x),this.lastDeltas.push(x)}},_.prototype.addSelection=function(x,S){this.selections.push({value:x,rev:S||this.$rev})},_.prototype.startNewGroup=function(){return this.lastDeltas=null,this.$rev},_.prototype.markIgnored=function(x,S){S==null&&(S=this.$rev+1);for(var C=this.$undoStack,A=C.length;A--;){var k=C[A][0];if(k.id<=x)break;k.id<S&&(k.ignore=!0)}this.lastDeltas=null},_.prototype.getSelection=function(x,S){for(var C=this.selections,A=C.length;A--;){var k=C[A];if(k.rev<x)return S&&(k=C[A+1]),k}},_.prototype.getRevision=function(){return this.$rev},_.prototype.getDeltas=function(x,S){S==null&&(S=this.$rev+1);for(var C=this.$undoStack,A=null,k=0,N=C.length;N--;){var M=C[N][0];if(M.id<S&&!A&&(A=N+1),M.id<=x){k=N+1;break}}return C.slice(k,A)},_.prototype.getChangedRanges=function(x,S){S==null&&(S=this.$rev+1)},_.prototype.getChangedLines=function(x,S){S==null&&(S=this.$rev+1)},_.prototype.undo=function(x,S){this.lastDeltas=null;var C=this.$undoStack;if(s(C,C.length)){x||(x=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var A=C.pop(),k=null;return A&&(k=x.undoChanges(A,S),this.$redoStack.push(A),this.$syncRev()),this.$fromUndo=!1,k}},_.prototype.redo=function(x,S){if(this.lastDeltas=null,x||(x=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var C=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);E(this.$redoStack,C),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(N){N[0].id=++this.$maxRev},this)}var A=this.$redoStack.pop(),k=null;return A&&(k=x.redoChanges(A,S),this.$undoStack.push(A),this.$syncRev()),this.$fromUndo=!1,k},_.prototype.$syncRev=function(){var x=this.$undoStack,S=x[x.length-1],C=S&&S[0].id||0;this.$redoStackBaseRev=C,this.$rev=C},_.prototype.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},_.prototype.canUndo=function(){return this.$undoStack.length>0},_.prototype.canRedo=function(){return this.$redoStack.length>0},_.prototype.bookmark=function(x){x==null&&(x=this.$rev),this.mark=x},_.prototype.isAtBookmark=function(){return this.$rev===this.mark},_.prototype.toJSON=function(){return{$redoStack:this.$redoStack,$undoStack:this.$undoStack}},_.prototype.fromJSON=function(x){this.reset(),this.$undoStack=x.$undoStack,this.$redoStack=x.$redoStack},_.prototype.$prettyPrint=function(x){return x?d(x):d(this.$undoStack)+`
---
`+d(this.$redoStack)},_}();o.prototype.hasUndo=o.prototype.canUndo,o.prototype.hasRedo=o.prototype.canRedo,o.prototype.isClean=o.prototype.isAtBookmark,o.prototype.markClean=o.prototype.bookmark;function s(_,x){for(var S=x;S--;){var C=_[S];if(C&&!C[0].ignore){for(;S<x-1;){var A=p(_[S],_[S+1]);_[S]=A[0],_[S+1]=A[1],S++}return!0}}}var a=n("./range").Range,l=a.comparePoints;a.comparePoints;function u(_){return{row:_.row,column:_.column}}function c(_){return{start:u(_.start),end:u(_.end),action:_.action,lines:_.lines.slice()}}function d(_){if(_=_||this,Array.isArray(_))return _.map(d).join(`
`);var x="";return _.action?(x=_.action=="insert"?"+":"-",x+="["+_.lines+"]"):_.value&&(Array.isArray(_.value)?x=_.value.map(f).join(`
`):x=f(_.value)),_.start&&(x+=f(_)),(_.id||_.rev)&&(x+="	("+(_.id||_.rev)+")"),x}function f(_){return _.start.row+":"+_.start.column+"=>"+_.end.row+":"+_.end.column}function h(_,x){var S=_.action=="insert",C=x.action=="insert";if(S&&C)if(l(x.start,_.end)>=0)g(x,_,-1);else if(l(x.start,_.start)<=0)g(_,x,1);else return null;else if(S&&!C)if(l(x.start,_.end)>=0)g(x,_,-1);else if(l(x.end,_.start)<=0)g(_,x,-1);else return null;else if(!S&&C)if(l(x.start,_.start)>=0)g(x,_,1);else if(l(x.start,_.start)<=0)g(_,x,1);else return null;else if(!S&&!C)if(l(x.start,_.start)>=0)g(x,_,1);else if(l(x.end,_.start)<=0)g(_,x,-1);else return null;return[x,_]}function p(_,x){for(var S=_.length;S--;)for(var C=0;C<x.length;C++)if(!h(_[S],x[C])){for(;S<_.length;){for(;C--;)h(x[C],_[S]);C=x.length,S++}return[_,x]}return _.selectionBefore=x.selectionBefore=_.selectionAfter=x.selectionAfter=null,[x,_]}function m(_,x){var S=_.action=="insert",C=x.action=="insert";if(S&&C)l(_.start,x.start)<0?g(x,_,1):g(_,x,1);else if(S&&!C)l(_.start,x.end)>=0?g(_,x,-1):(l(_.start,x.start)<=0||g(_,a.fromPoints(x.start,_.start),-1),g(x,_,1));else if(!S&&C)l(x.start,_.end)>=0?g(x,_,-1):(l(x.start,_.start)<=0||g(x,a.fromPoints(_.start,x.start),-1),g(_,x,1));else if(!S&&!C)if(l(x.start,_.end)>=0)g(x,_,-1);else if(l(x.end,_.start)<=0)g(_,x,-1);else{var A,k;return l(_.start,x.start)<0&&(A=_,_=v(_,x.start)),l(_.end,x.end)>0&&(k=v(_,x.end)),y(x.end,_.start,_.end,-1),k&&!A&&(_.lines=k.lines,_.start=k.start,_.end=k.end,k=_),[x,A,k].filter(Boolean)}return[x,_]}function g(_,x,S){y(_.start,x.start,x.end,S),y(_.end,x.start,x.end,S)}function y(_,x,S,C){_.row==(C==1?x:S).row&&(_.column+=C*(S.column-x.column)),_.row+=C*(S.row-x.row)}function v(_,x){var S=_.lines,C=_.end;_.end=u(x);var A=_.end.row-_.start.row,k=S.splice(A,S.length),N=A?x.column:x.column-_.start.column;S.push(k[0].substring(0,N)),k[0]=k[0].substr(N);var M={start:u(x),end:C,lines:k,action:_.action};return M}function w(_,x){x=c(x);for(var S=_.length;S--;){for(var C=_[S],A=0;A<C.length;A++){var k=C[A],N=m(k,x);x=N[0],N.length!=2&&(N[2]?(C.splice(A+1,1,N[1],N[2]),A++):N[1]||(C.splice(A,1),A--))}C.length||_.splice(S,1)}return _}function E(_,x){for(var S=0;S<x.length;S++)for(var C=x[S],A=0;A<C.length;A++)w(_,C[A])}r.UndoManager=o}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(n,r,i){var o=n("../range").Range,s=function(){function a(l,u){this.foldData=l,Array.isArray(u)?this.folds=u:u=this.folds=[u];var c=u[u.length-1];this.range=new o(u[0].start.row,u[0].start.column,c.end.row,c.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(d){d.setFoldLine(this)},this)}return a.prototype.shiftRow=function(l){this.start.row+=l,this.end.row+=l,this.folds.forEach(function(u){u.start.row+=l,u.end.row+=l})},a.prototype.addFold=function(l){if(l.sameRow){if(l.start.row<this.startRow||l.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(l),this.folds.sort(function(u,c){return-u.range.compareEnd(c.start.row,c.start.column)}),this.range.compareEnd(l.start.row,l.start.column)>0?(this.end.row=l.end.row,this.end.column=l.end.column):this.range.compareStart(l.end.row,l.end.column)<0&&(this.start.row=l.start.row,this.start.column=l.start.column)}else if(l.start.row==this.end.row)this.folds.push(l),this.end.row=l.end.row,this.end.column=l.end.column;else if(l.end.row==this.start.row)this.folds.unshift(l),this.start.row=l.start.row,this.start.column=l.start.column;else throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");l.foldLine=this},a.prototype.containsRow=function(l){return l>=this.start.row&&l<=this.end.row},a.prototype.walk=function(l,u,c){var d=0,f=this.folds,h,p,m,g=!0;u==null&&(u=this.end.row,c=this.end.column);for(var y=0;y<f.length;y++){if(h=f[y],p=h.range.compareStart(u,c),p==-1){l(null,u,c,d,g);return}if(m=l(null,h.start.row,h.start.column,d,g),m=!m&&l(h.placeholder,h.start.row,h.start.column,d),m||p===0)return;g=!h.sameRow,d=h.end.column}l(null,u,c,d,g)},a.prototype.getNextFoldTo=function(l,u){for(var c,d,f=0;f<this.folds.length;f++){if(c=this.folds[f],d=c.range.compareEnd(l,u),d==-1)return{fold:c,kind:"after"};if(d===0)return{fold:c,kind:"inside"}}return null},a.prototype.addRemoveChars=function(l,u,c){var d=this.getNextFoldTo(l,u),f,h;if(d){if(f=d.fold,d.kind=="inside"&&f.start.column!=u&&f.start.row!=l)window.console&&window.console.log(l,u,f);else if(f.start.row==l){h=this.folds;var p=h.indexOf(f);for(p===0&&(this.start.column+=c),p;p<h.length;p++){if(f=h[p],f.start.column+=c,!f.sameRow)return;f.end.column+=c}this.end.column+=c}}},a.prototype.split=function(l,u){var c=this.getNextFoldTo(l,u);if(!c||c.kind=="inside")return null;var d=c.fold,f=this.folds,h=this.foldData,p=f.indexOf(d),m=f[p-1];this.end.row=m.end.row,this.end.column=m.end.column,f=f.splice(p,f.length-p);var g=new a(h,f);return h.splice(h.indexOf(this)+1,0,g),g},a.prototype.merge=function(l){for(var u=l.folds,c=0;c<u.length;c++)this.addFold(u[c]);var d=this.foldData;d.splice(d.indexOf(l),1)},a.prototype.toString=function(){var l=[this.range.toString()+": ["];return this.folds.forEach(function(u){l.push("  "+u.toString())}),l.push("]"),l.join(`
`)},a.prototype.idxToPosition=function(l){for(var u=0,c=0;c<this.folds.length;c++){var d=this.folds[c];if(l-=d.start.column-u,l<0)return{row:d.start.row,column:d.start.column+l};if(l-=d.placeholder.length,l<0)return d.start;u=d.end.column}return{row:this.end.row,column:this.end.column+l}},a}();r.FoldLine=s}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(n,r,i){var o=n("./range").Range,s=o.comparePoints,a=function(){function l(){this.ranges=[],this.$bias=1}return l.prototype.pointIndex=function(u,c,d){for(var f=this.ranges,h=d||0;h<f.length;h++){var p=f[h],m=s(u,p.end);if(!(m>0)){var g=s(u,p.start);return m===0?c&&g!==0?-h-2:h:g>0||g===0&&!c?h:-h-1}}return-h-1},l.prototype.add=function(u){var c=!u.isEmpty(),d=this.pointIndex(u.start,c);d<0&&(d=-d-1);var f=this.pointIndex(u.end,c,d);return f<0?f=-f-1:f++,this.ranges.splice(d,f-d,u)},l.prototype.addList=function(u){for(var c=[],d=u.length;d--;)c.push.apply(c,this.add(u[d]));return c},l.prototype.substractPoint=function(u){var c=this.pointIndex(u);if(c>=0)return this.ranges.splice(c,1)},l.prototype.merge=function(){var u=[],c=this.ranges;c=c.sort(function(m,g){return s(m.start,g.start)});for(var d=c[0],f,h=1;h<c.length;h++){f=d,d=c[h];var p=s(f.end,d.start);p<0||p==0&&!f.isEmpty()&&!d.isEmpty()||(s(f.end,d.end)<0&&(f.end.row=d.end.row,f.end.column=d.end.column),c.splice(h,1),u.push(d),d=f,h--)}return this.ranges=c,u},l.prototype.contains=function(u,c){return this.pointIndex({row:u,column:c})>=0},l.prototype.containsPoint=function(u){return this.pointIndex(u)>=0},l.prototype.rangeAtPoint=function(u){var c=this.pointIndex(u);if(c>=0)return this.ranges[c]},l.prototype.clipRows=function(u,c){var d=this.ranges;if(d[0].start.row>c||d[d.length-1].start.row<u)return[];var f=this.pointIndex({row:u,column:0});f<0&&(f=-f-1);var h=this.pointIndex({row:c,column:0},f);h<0&&(h=-h-1);for(var p=[],m=f;m<h;m++)p.push(d[m]);return p},l.prototype.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},l.prototype.attach=function(u){this.session&&this.detach(),this.session=u,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},l.prototype.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},l.prototype.$onChange=function(u){for(var c=u.start,d=u.end,f=c.row,h=d.row,p=this.ranges,m=0,g=p.length;m<g;m++){var y=p[m];if(y.end.row>=f)break}if(u.action=="insert")for(var v=h-f,w=-c.column+d.column;m<g;m++){var y=p[m];if(y.start.row>f)break;if(y.start.row==f&&y.start.column>=c.column&&(y.start.column==c.column&&this.$bias<=0||(y.start.column+=w,y.start.row+=v)),y.end.row==f&&y.end.column>=c.column){if(y.end.column==c.column&&this.$bias<0)continue;y.end.column==c.column&&w>0&&m<g-1&&y.end.column>y.start.column&&y.end.column==p[m+1].start.column&&(y.end.column-=w),y.end.column+=w,y.end.row+=v}}else for(var v=f-h,w=c.column-d.column;m<g;m++){var y=p[m];if(y.start.row>h)break;y.end.row<h&&(f<y.end.row||f==y.end.row&&c.column<y.end.column)?(y.end.row=f,y.end.column=c.column):y.end.row==h?y.end.column<=d.column?(v||y.end.column>c.column)&&(y.end.column=c.column,y.end.row=c.row):(y.end.column+=w,y.end.row+=v):y.end.row>h&&(y.end.row+=v),y.start.row<h&&(f<y.start.row||f==y.start.row&&c.column<y.start.column)?(y.start.row=f,y.start.column=c.column):y.start.row==h?y.start.column<=d.column?(v||y.start.column>c.column)&&(y.start.column=c.column,y.start.row=c.row):(y.start.column+=w,y.start.row+=v):y.start.row>h&&(y.start.row+=v)}if(v!=0&&m<g)for(;m<g;m++){var y=p[m];y.start.row+=v,y.end.row+=v}},l}();a.prototype.comparePoints=s,r.RangeList=a}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list"],function(n,r,i){var o=this&&this.__extends||function(){var f=function(h,p){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(m[y]=g[y])},f(h,p)};return function(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");f(h,p);function m(){this.constructor=h}h.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}(),s=n("../range_list").RangeList,a=function(f){o(h,f);function h(p,m){var g=f.call(this)||this;return g.foldLine=null,g.placeholder=m,g.range=p,g.start=p.start,g.end=p.end,g.sameRow=p.start.row==p.end.row,g.subFolds=g.ranges=[],g}return h.prototype.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},h.prototype.setFoldLine=function(p){this.foldLine=p,this.subFolds.forEach(function(m){m.setFoldLine(p)})},h.prototype.clone=function(){var p=this.range.clone(),m=new h(p,this.placeholder);return this.subFolds.forEach(function(g){m.subFolds.push(g.clone())}),m.collapseChildren=this.collapseChildren,m},h.prototype.addSubFold=function(p){if(!this.range.isEqual(p)){u(p,this.start);for(var w=p.start.row,E=p.start.column,m=0,g=-1;m<this.subFolds.length&&(g=this.subFolds[m].range.compare(w,E),g==1);m++);var y=this.subFolds[m],v=0;if(g==0){if(y.range.containsRange(p))return y.addSubFold(p);v=1}for(var w=p.range.end.row,E=p.range.end.column,_=m,g=-1;_<this.subFolds.length&&(g=this.subFolds[_].range.compare(w,E),g==1);_++);g==0&&_++;for(var x=this.subFolds.splice(m,_-m,p),S=g==0?x.length-1:x.length,C=v;C<S;C++)p.addSubFold(x[C]);return p.setFoldLine(this.foldLine),p}},h.prototype.restoreRange=function(p){return d(p,this.start)},h}(s);function l(f,h){f.row-=h.row,f.row==0&&(f.column-=h.column)}function u(f,h){l(f.start,h),l(f.end,h)}function c(f,h){f.row==0&&(f.column+=h.column),f.row+=h.row}function d(f,h){c(f.start,h),c(f.end,h)}r.Fold=a}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator","ace/mouse/mouse_event"],function(n,r,i){var o=n("../range").Range,s=n("./fold_line").FoldLine,a=n("./fold").Fold,l=n("../token_iterator").TokenIterator,u=n("../mouse/mouse_event").MouseEvent;function c(){this.getFoldAt=function(d,f,h){var p=this.getFoldLine(d);if(!p)return null;for(var m=p.folds,g=0;g<m.length;g++){var y=m[g].range;if(y.contains(d,f)){if(h==1&&y.isEnd(d,f)&&!y.isEmpty())continue;if(h==-1&&y.isStart(d,f)&&!y.isEmpty())continue;return m[g]}}},this.getFoldsInRange=function(d){var f=d.start,h=d.end,p=this.$foldData,m=[];f.column+=1,h.column-=1;for(var g=0;g<p.length;g++){var y=p[g].range.compareRange(d);if(y!=2){if(y==-2)break;for(var v=p[g].folds,w=0;w<v.length;w++){var E=v[w];if(y=E.range.compareRange(d),y==-2)break;if(y==2)continue;if(y==42)break;m.push(E)}}}return f.column-=1,h.column+=1,m},this.getFoldsInRangeList=function(d){if(Array.isArray(d)){var f=[];d.forEach(function(h){f=f.concat(this.getFoldsInRange(h))},this)}else var f=this.getFoldsInRange(d);return f},this.getAllFolds=function(){for(var d=[],f=this.$foldData,h=0;h<f.length;h++)for(var p=0;p<f[h].folds.length;p++)d.push(f[h].folds[p]);return d},this.getFoldStringAt=function(d,f,h,p){if(p=p||this.getFoldLine(d),!p)return null;for(var m={end:{column:0}},g,y,v=0;v<p.folds.length;v++){y=p.folds[v];var w=y.range.compareEnd(d,f);if(w==-1){g=this.getLine(y.start.row).substring(m.end.column,y.start.column);break}else if(w===0)return null;m=y}return g||(g=this.getLine(y.start.row).substring(m.end.column)),h==-1?g.substring(0,f-m.end.column):h==1?g.substring(f-m.end.column):g},this.getFoldLine=function(d,f){var h=this.$foldData,p=0;for(f&&(p=h.indexOf(f)),p==-1&&(p=0),p;p<h.length;p++){var m=h[p];if(m.start.row<=d&&m.end.row>=d)return m;if(m.end.row>d)return null}return null},this.getNextFoldLine=function(d,f){var h=this.$foldData,p=0;for(f&&(p=h.indexOf(f)),p==-1&&(p=0),p;p<h.length;p++){var m=h[p];if(m.end.row>=d)return m}return null},this.getFoldedRowCount=function(d,f){for(var h=this.$foldData,p=f-d+1,m=0;m<h.length;m++){var g=h[m],y=g.end.row,v=g.start.row;if(y>=f){v<f&&(v>=d?p-=f-v:p=0);break}else y>=d&&(v>=d?p-=y-v:p-=y-d+1)}return p},this.$addFoldLine=function(d){return this.$foldData.push(d),this.$foldData.sort(function(f,h){return f.start.row-h.start.row}),d},this.addFold=function(d,f){var h=this.$foldData,p=!1,m;d instanceof a?m=d:(m=new a(f,d),m.collapseChildren=f.collapseChildren),this.$clipRangeToDocument(m.range);var g=m.start.row,y=m.start.column,v=m.end.row,w=m.end.column,E=this.getFoldAt(g,y,1),_=this.getFoldAt(v,w,-1);if(E&&_==E)return E.addSubFold(m);E&&!E.range.isStart(g,y)&&this.removeFold(E),_&&!_.range.isEnd(v,w)&&this.removeFold(_);var x=this.getFoldsInRange(m.range);x.length>0&&(this.removeFolds(x),m.collapseChildren||x.forEach(function(k){m.addSubFold(k)}));for(var S=0;S<h.length;S++){var C=h[S];if(v==C.start.row){C.addFold(m),p=!0;break}else if(g==C.end.row){if(C.addFold(m),p=!0,!m.sameRow){var A=h[S+1];if(A&&A.start.row==v){C.merge(A);break}}break}else if(v<=C.start.row)break}return p||(C=this.$addFoldLine(new s(this.$foldData,m))),this.$useWrapMode?this.$updateWrapData(C.start.row,C.start.row):this.$updateRowLengthCache(C.start.row,C.start.row),this.$modified=!0,this._signal("changeFold",{data:m,action:"add"}),m},this.addFolds=function(d){d.forEach(function(f){this.addFold(f)},this)},this.removeFold=function(d){var f=d.foldLine,h=f.start.row,p=f.end.row,m=this.$foldData,g=f.folds;if(g.length==1)m.splice(m.indexOf(f),1);else if(f.range.isEnd(d.end.row,d.end.column))g.pop(),f.end.row=g[g.length-1].end.row,f.end.column=g[g.length-1].end.column;else if(f.range.isStart(d.start.row,d.start.column))g.shift(),f.start.row=g[0].start.row,f.start.column=g[0].start.column;else if(d.sameRow)g.splice(g.indexOf(d),1);else{var y=f.split(d.start.row,d.start.column);g=y.folds,g.shift(),y.start.row=g[0].start.row,y.start.column=g[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(h,p):this.$updateRowLengthCache(h,p)),this.$modified=!0,this._signal("changeFold",{data:d,action:"remove"})},this.removeFolds=function(d){for(var f=[],h=0;h<d.length;h++)f.push(d[h]);f.forEach(function(p){this.removeFold(p)},this),this.$modified=!0},this.expandFold=function(d){this.removeFold(d),d.subFolds.forEach(function(f){d.restoreRange(f),this.addFold(f)},this),d.collapseChildren>0&&this.foldAll(d.start.row+1,d.end.row,d.collapseChildren-1),d.subFolds=[]},this.expandFolds=function(d){d.forEach(function(f){this.expandFold(f)},this)},this.unfold=function(d,f){var h,p;if(d==null)h=new o(0,0,this.getLength(),0),f==null&&(f=!0);else if(typeof d=="number")h=new o(d,0,d,this.getLine(d).length);else if("row"in d)h=o.fromPoints(d,d);else{if(Array.isArray(d))return p=[],d.forEach(function(g){p=p.concat(this.unfold(g))},this),p;h=d}p=this.getFoldsInRangeList(h);for(var m=p;p.length==1&&o.comparePoints(p[0].start,h.start)<0&&o.comparePoints(p[0].end,h.end)>0;)this.expandFolds(p),p=this.getFoldsInRangeList(h);if(f!=!1?this.removeFolds(p):this.expandFolds(p),m.length)return m},this.isRowFolded=function(d,f){return!!this.getFoldLine(d,f)},this.getRowFoldEnd=function(d,f){var h=this.getFoldLine(d,f);return h?h.end.row:d},this.getRowFoldStart=function(d,f){var h=this.getFoldLine(d,f);return h?h.start.row:d},this.getFoldDisplayLine=function(d,f,h,p,m){p==null&&(p=d.start.row),m==null&&(m=0),f==null&&(f=d.end.row),h==null&&(h=this.getLine(f).length);var g=this.doc,y="";return d.walk(function(v,w,E,_){if(!(w<p)){if(w==p){if(E<m)return;_=Math.max(m,_)}v!=null?y+=v:y+=g.getLine(w).substring(_,E)}},f,h),y},this.getDisplayLine=function(d,f,h,p){var m=this.getFoldLine(d);if(m)return this.getFoldDisplayLine(m,d,f,h,p);var g;return g=this.doc.getLine(d),g.substring(p||0,f||g.length)},this.$cloneFoldData=function(){var d=[];return d=this.$foldData.map(function(f){var h=f.folds.map(function(p){return p.clone()});return new s(d,h)}),d},this.toggleFold=function(d){var f=this.selection,h=f.getRange(),p,m;if(h.isEmpty()){var g=h.start;if(p=this.getFoldAt(g.row,g.column),p){this.expandFold(p);return}else(m=this.findMatchingBracket(g))?h.comparePoint(m)==1?h.end=m:(h.start=m,h.start.column++,h.end.column--):(m=this.findMatchingBracket({row:g.row,column:g.column+1}))?(h.comparePoint(m)==1?h.end=m:h.start=m,h.start.column++):h=this.getCommentFoldRange(g.row,g.column)||h}else{var y=this.getFoldsInRange(h);if(d&&y.length){this.expandFolds(y);return}else y.length==1&&(p=y[0])}if(p||(p=this.getFoldAt(h.start.row,h.start.column)),p&&p.range.toString()==h.toString()){this.expandFold(p);return}var v="...";if(!h.isMultiLine()){if(v=this.getTextRange(h),v.length<4)return;v=v.trim().substring(0,2)+".."}this.addFold(v,h)},this.getCommentFoldRange=function(d,f,h){var p=new l(this,d,f),m=p.getCurrentToken(),g=m&&m.type;if(m&&/^comment|string/.test(g)){g=g.match(/comment|string/)[0],g=="comment"&&(g+="|doc-start|\\.doc");var y=new RegExp(g),v=new o;if(h!=1){do m=p.stepBackward();while(m&&y.test(m.type));m=p.stepForward()}v.start.row=p.getCurrentTokenRow(),v.start.column=p.getCurrentTokenColumn()+m.value.length,p=new l(this,d,f);var w=this.getState(p.$row);if(h!=-1){var E=-1;do if(m=p.stepForward(),E==-1){var _=this.getState(p.$row);w.toString()!==_.toString()&&(E=p.$row)}else if(p.$row>E)break;while(m&&y.test(m.type));m=p.stepBackward()}else m=p.getCurrentToken();return v.end.row=p.getCurrentTokenRow(),v.end.column=p.getCurrentTokenColumn(),v}},this.foldAll=function(d,f,h,p){h==null&&(h=1e5);var m=this.foldWidgets;if(m){f=f||this.getLength(),d=d||0;for(var g=d;g<f;g++)if(m[g]==null&&(m[g]=this.getFoldWidget(g)),m[g]=="start"&&!(p&&!p(g))){var y=this.getFoldWidgetRange(g);y&&y.isMultiLine()&&y.end.row<=f&&y.start.row>=d&&(g=y.end.row,y.collapseChildren=h,this.addFold("...",y))}}},this.foldToLevel=function(d){for(this.foldAll();d-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var d=this;this.foldAll(null,null,null,function(f){for(var h=d.getTokens(f),p=0;p<h.length;p++){var m=h[p];if(!(m.type=="text"&&/^\s+$/.test(m.value)))return!!/comment/.test(m.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(d){if(!this.$foldStyles[d])throw new Error("invalid fold style: "+d+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=d){this.$foldStyle=d,d=="manual"&&this.unfold();var f=this.$foldMode;this.$setFolding(null),this.$setFolding(f)}},this.$setFolding=function(d){if(this.$foldMode!=d){if(this.$foldMode=d,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!d||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[],this.getFoldWidget=d.getFoldWidget.bind(d,this,this.$foldStyle),this.getFoldWidgetRange=d.getFoldWidgetRange.bind(d,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(d,f){var h=this.foldWidgets;if(!h||f&&h[d])return{};for(var p=d-1,m;p>=0;){var g=h[p];if(g==null&&(g=h[p]=this.getFoldWidget(p)),g=="start"){var y=this.getFoldWidgetRange(p);if(m||(m=y),y&&y.end.row>=d)break}p--}return{range:p!==-1&&y,firstRange:m}},this.onFoldWidgetClick=function(d,f){f instanceof u&&(f=f.domEvent);var h={children:f.shiftKey,all:f.ctrlKey||f.metaKey,siblings:f.altKey},p=this.$toggleFoldWidget(d,h);if(!p){var m=f.target||f.srcElement;m&&/ace_fold-widget/.test(m.className)&&(m.className+=" ace_invalid")}},this.$toggleFoldWidget=function(d,f){if(this.getFoldWidget){var h=this.getFoldWidget(d),p=this.getLine(d),m=h==="end"?-1:1,g=this.getFoldAt(d,m===-1?0:p.length,m);if(g)return f.children||f.all?this.removeFold(g):this.expandFold(g),g;var y=this.getFoldWidgetRange(d,!0);if(y&&!y.isMultiLine()&&(g=this.getFoldAt(y.start.row,y.start.column,1),g&&y.isEqual(g.range)))return this.removeFold(g),g;if(f.siblings){var v=this.getParentFoldRangeData(d);if(v.range)var w=v.range.start.row+1,E=v.range.end.row;this.foldAll(w,E,f.all?1e4:0)}else f.children?(E=y?y.end.row:this.getLength(),this.foldAll(d+1,E,f.all?1e4:0)):y&&(f.all&&(y.collapseChildren=1e4),this.addFold("...",y));return y}},this.toggleFoldWidget=function(d){var f=this.selection.getCursor().row;f=this.getRowFoldStart(f);var h=this.$toggleFoldWidget(f,{});if(!h){var p=this.getParentFoldRangeData(f,!0);if(h=p.range||p.firstRange,h){f=h.start.row;var m=this.getFoldAt(f,this.getLine(f).length,1);m?this.removeFold(m):this.addFold("...",h)}}},this.updateFoldWidgets=function(d){var f=d.start.row,h=d.end.row-f;if(h===0)this.foldWidgets[f]=null;else if(d.action=="remove")this.foldWidgets.splice(f,h+1,null);else{var p=Array(h+1);p.unshift(f,1),this.foldWidgets.splice.apply(this.foldWidgets,p)}},this.tokenizerUpdateFoldWidgets=function(d){var f=d.data;f.first!=f.last&&this.foldWidgets.length>f.first&&this.foldWidgets.splice(f.first,this.foldWidgets.length)}}r.Folding=c}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(n,r,i){var o=n("../token_iterator").TokenIterator,s=n("../range").Range;function a(){this.findMatchingBracket=function(l,u){if(l.column==0)return null;var c=u||this.getLine(l.row).charAt(l.column-1);if(c=="")return null;var d=c.match(/([\(\[\{])|([\)\]\}])/);return d?d[1]?this.$findClosingBracket(d[1],l):this.$findOpeningBracket(d[2],l):null},this.getBracketRange=function(l){var u=this.getLine(l.row),c=!0,d,f=u.charAt(l.column-1),h=f&&f.match(/([\(\[\{])|([\)\]\}])/);if(h||(f=u.charAt(l.column),l={row:l.row,column:l.column+1},h=f&&f.match(/([\(\[\{])|([\)\]\}])/),c=!1),!h)return null;if(h[1]){var p=this.$findClosingBracket(h[1],l);if(!p)return null;d=s.fromPoints(l,p),c||(d.end.column++,d.start.column--),d.cursor=d.end}else{var p=this.$findOpeningBracket(h[2],l);if(!p)return null;d=s.fromPoints(p,l),c||(d.start.column++,d.end.column--),d.cursor=d.start}return d},this.getMatchingBracketRanges=function(l,u){var c=this.getLine(l.row),d=/([\(\[\{])|([\)\]\}])/,f=!u&&c.charAt(l.column-1),h=f&&f.match(d);if(h||(f=(u===void 0||u)&&c.charAt(l.column),l={row:l.row,column:l.column+1},h=f&&f.match(d)),!h)return null;var p=new s(l.row,l.column-1,l.row,l.column),m=h[1]?this.$findClosingBracket(h[1],l):this.$findOpeningBracket(h[2],l);if(!m)return[p];var g=new s(m.row,m.column,m.row,m.column+1);return[p,g]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(l,u,c){var d=this.$brackets[l],f=1,h=new o(this,u.row,u.column),p=h.getCurrentToken();if(p||(p=h.stepForward()),!!p){c||(c=new RegExp("(\\.?"+p.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)").replace(/-close\b/,"-(close|open)")+")+"));for(var m=u.column-h.getCurrentTokenColumn()-2,g=p.value;;){for(;m>=0;){var y=g.charAt(m);if(y==d){if(f-=1,f==0)return{row:h.getCurrentTokenRow(),column:m+h.getCurrentTokenColumn()}}else y==l&&(f+=1);m-=1}do p=h.stepBackward();while(p&&!c.test(p.type));if(p==null)break;g=p.value,m=g.length-1}return null}},this.$findClosingBracket=function(l,u,c){var d=this.$brackets[l],f=1,h=new o(this,u.row,u.column),p=h.getCurrentToken();if(p||(p=h.stepForward()),!!p){c||(c=new RegExp("(\\.?"+p.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)").replace(/-open\b/,"-(close|open)")+")+"));for(var m=u.column-h.getCurrentTokenColumn();;){for(var g=p.value,y=g.length;m<y;){var v=g.charAt(m);if(v==d){if(f-=1,f==0)return{row:h.getCurrentTokenRow(),column:m+h.getCurrentTokenColumn()}}else v==l&&(f+=1);m+=1}do p=h.stepForward();while(p&&!c.test(p.type));if(p==null)break;m=0}return null}},this.getMatchingTags=function(l){var u=new o(this,l.row,l.column),c=this.$findTagName(u);if(c){var d=u.stepBackward();return d.value==="<"?this.$findClosingTag(u,c):this.$findOpeningTag(u,c)}},this.$findTagName=function(l){var u=l.getCurrentToken(),c=!1,d=!1;if(u&&u.type.indexOf("tag-name")===-1)do d?u=l.stepBackward():u=l.stepForward(),u&&(u.value==="/>"?d=!0:u.type.indexOf("tag-name")!==-1&&(c=!0));while(u&&!c);return u},this.$findClosingTag=function(l,u){var c,d=u.value,f=u.value,h=0,p=new s(l.getCurrentTokenRow(),l.getCurrentTokenColumn(),l.getCurrentTokenRow(),l.getCurrentTokenColumn()+1);u=l.stepForward();var m=new s(l.getCurrentTokenRow(),l.getCurrentTokenColumn(),l.getCurrentTokenRow(),l.getCurrentTokenColumn()+u.value.length),g=!1;do{if(c=u,c.type.indexOf("tag-close")!==-1&&!g){var y=new s(l.getCurrentTokenRow(),l.getCurrentTokenColumn(),l.getCurrentTokenRow(),l.getCurrentTokenColumn()+1);g=!0}if(u=l.stepForward(),u){if(u.value===">"&&!g){var y=new s(l.getCurrentTokenRow(),l.getCurrentTokenColumn(),l.getCurrentTokenRow(),l.getCurrentTokenColumn()+1);g=!0}if(u.type.indexOf("tag-name")!==-1){if(d=u.value,f===d){if(c.value==="<")h++;else if(c.value==="</"&&(h--,h<0)){l.stepBackward();var v=new s(l.getCurrentTokenRow(),l.getCurrentTokenColumn(),l.getCurrentTokenRow(),l.getCurrentTokenColumn()+2);u=l.stepForward();var w=new s(l.getCurrentTokenRow(),l.getCurrentTokenColumn(),l.getCurrentTokenRow(),l.getCurrentTokenColumn()+u.value.length);if(u.type.indexOf("tag-close")===-1&&(u=l.stepForward()),u&&u.value===">")var E=new s(l.getCurrentTokenRow(),l.getCurrentTokenColumn(),l.getCurrentTokenRow(),l.getCurrentTokenColumn()+1);else return}}}else if(f===d&&u.value==="/>"&&(h--,h<0))var v=new s(l.getCurrentTokenRow(),l.getCurrentTokenColumn(),l.getCurrentTokenRow(),l.getCurrentTokenColumn()+2),w=v,E=w,y=new s(m.end.row,m.end.column,m.end.row,m.end.column+1)}}while(u&&h>=0);if(p&&y&&v&&E&&m&&w)return{openTag:new s(p.start.row,p.start.column,y.end.row,y.end.column),closeTag:new s(v.start.row,v.start.column,E.end.row,E.end.column),openTagName:m,closeTagName:w}},this.$findOpeningTag=function(l,u){var c=l.getCurrentToken(),d=u.value,f=0,h=l.getCurrentTokenRow(),p=l.getCurrentTokenColumn(),m=p+2,g=new s(h,p,h,m);l.stepForward();var y=new s(l.getCurrentTokenRow(),l.getCurrentTokenColumn(),l.getCurrentTokenRow(),l.getCurrentTokenColumn()+u.value.length);if(u.type.indexOf("tag-close")===-1&&(u=l.stepForward()),!(!u||u.value!==">")){var v=new s(l.getCurrentTokenRow(),l.getCurrentTokenColumn(),l.getCurrentTokenRow(),l.getCurrentTokenColumn()+1);l.stepBackward(),l.stepBackward();do if(u=c,h=l.getCurrentTokenRow(),p=l.getCurrentTokenColumn(),m=p+u.value.length,c=l.stepBackward(),u){if(u.type.indexOf("tag-name")!==-1){if(d===u.value)if(c.value==="<"){if(f++,f>0){var w=new s(h,p,h,m),E=new s(l.getCurrentTokenRow(),l.getCurrentTokenColumn(),l.getCurrentTokenRow(),l.getCurrentTokenColumn()+1);do u=l.stepForward();while(u&&u.value!==">");var _=new s(l.getCurrentTokenRow(),l.getCurrentTokenColumn(),l.getCurrentTokenRow(),l.getCurrentTokenColumn()+1)}}else c.value==="</"&&f--}else if(u.value==="/>"){for(var x=0,S=c;S;){if(S.type.indexOf("tag-name")!==-1&&S.value===d){f--;break}else if(S.value==="<")break;S=l.stepBackward(),x++}for(var C=0;C<x;C++)l.stepForward()}}while(c&&f<=0);if(E&&_&&g&&v&&w&&y)return{openTag:new s(E.start.row,E.start.column,_.end.row,_.end.column),closeTag:new s(g.start.row,g.start.column,v.end.row,v.end.column),openTagName:w,closeTagName:y}}}}r.BracketMatch=a}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/line_widgets","ace/document","ace/background_tokenizer","ace/search_highlight","ace/undomanager","ace/edit_session/folding","ace/edit_session/bracket_match"],function(n,r,i){var o=n("./lib/oop"),s=n("./lib/lang"),a=n("./bidihandler").BidiHandler,l=n("./config"),u=n("./lib/event_emitter").EventEmitter,c=n("./selection").Selection,d=n("./mode/text").Mode,f=n("./range").Range,h=n("./line_widgets").LineWidgets,p=n("./document").Document,m=n("./background_tokenizer").BackgroundTokenizer,g=n("./search_highlight").SearchHighlight,y=n("./undomanager").UndoManager,v=function(){function M(I,D){this.doc,this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$editor=null,this.prevOp={},this.$foldData=[],this.id="session"+ ++M.$uid,this.$foldData.toString=function(){return this.join(`
`)},this.bgTokenizer=new m(new d().getTokenizer(),this);var R=this;this.bgTokenizer.on("update",function(O){R._signal("tokenizerUpdate",O)}),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),(typeof I!="object"||!I.getLine)&&(I=new p(I)),this.setDocument(I),this.selection=new c(this),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.selection.on("changeCursor",this.$onSelectionChange),this.$bidiHandler=new a(this),l.resetOptions(this),this.setMode(D),l._signal("session",this),this.destroyed=!1,this.$initOperationListeners()}return M.prototype.$initOperationListeners=function(){var I=this;this.curOp=null,this.on("change",function(){I.curOp||(I.startOperation(),I.curOp.selectionBefore=I.$lastSel),I.curOp.docChanged=!0},!0),this.on("changeSelection",function(){I.curOp||(I.startOperation(),I.curOp.selectionBefore=I.$lastSel),I.curOp.selectionChanged=!0},!0),this.$operationResetTimer=s.delayedCall(this.endOperation.bind(this,!0))},M.prototype.startOperation=function(I){if(this.curOp){if(!I||this.curOp.command)return;this.prevOp=this.curOp}I||(I={}),this.$operationResetTimer.schedule(),this.curOp={command:I.command||{},args:I.args},this.curOp.selectionBefore=this.selection.toJSON(),this._signal("startOperation",I)},M.prototype.endOperation=function(I){if(this.curOp){if(I&&I.returnValue===!1){this.curOp=null,this._signal("endOperation",I);return}if(I==!0&&this.curOp.command&&this.curOp.command.name=="mouse")return;var D=this.selection.toJSON();this.curOp.selectionAfter=D,this.$lastSel=this.selection.toJSON(),this.getUndoManager().addSelection(D),this._signal("beforeEndOperation"),this.prevOp=this.curOp,this.curOp=null,this._signal("endOperation",I)}},M.prototype.setDocument=function(I){this.doc&&this.doc.off("change",this.$onChange),this.doc=I,I.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},M.prototype.getDocument=function(){return this.doc},Object.defineProperty(M.prototype,"widgetManager",{get:function(){var I=new h(this);return this.widgetManager=I,this.$editor&&I.attach(this.$editor),I},set:function(I){Object.defineProperty(this,"widgetManager",{writable:!0,enumerable:!0,configurable:!0,value:I})},enumerable:!1,configurable:!0}),M.prototype.$resetRowCache=function(I){if(!I){this.$docRowCache=[],this.$screenRowCache=[];return}var D=this.$docRowCache.length,R=this.$getRowCacheIndex(this.$docRowCache,I)+1;D>R&&(this.$docRowCache.splice(R,D),this.$screenRowCache.splice(R,D))},M.prototype.$getRowCacheIndex=function(I,D){for(var R=0,O=I.length-1;R<=O;){var B=R+O>>1,z=I[B];if(D>z)R=B+1;else if(D<z)O=B-1;else return B}return R-1},M.prototype.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},M.prototype.onChangeFold=function(I){var D=I.data;this.$resetRowCache(D.start.row)},M.prototype.onChange=function(I){this.$modified=!0,this.$bidiHandler.onChange(I),this.$resetRowCache(I.start.row);var D=this.$updateInternalDataOnChange(I);!this.$fromUndo&&this.$undoManager&&(D&&D.length&&(this.$undoManager.add({action:"removeFolds",folds:D},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(I,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(I),this._signal("change",I)},M.prototype.onSelectionChange=function(){this._signal("changeSelection")},M.prototype.setValue=function(I){this.doc.setValue(I),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},M.fromJSON=function(I){typeof I=="string"&&(I=JSON.parse(I));var D=new y;D.$undoStack=I.history.undo,D.$redoStack=I.history.redo,D.mark=I.history.mark,D.$rev=I.history.rev;var R=new M(I.value);return I.folds.forEach(function(O){R.addFold("...",f.fromPoints(O.start,O.end))}),R.setAnnotations(I.annotations),R.setBreakpoints(I.breakpoints),R.setMode(I.mode),R.setScrollLeft(I.scrollLeft),R.setScrollTop(I.scrollTop),R.setUndoManager(D),R.selection.fromJSON(I.selection),R},M.prototype.toJSON=function(){return{annotations:this.$annotations,breakpoints:this.$breakpoints,folds:this.getAllFolds().map(function(I){return I.range}),history:this.getUndoManager(),mode:this.$mode.$id,scrollLeft:this.$scrollLeft,scrollTop:this.$scrollTop,selection:this.selection.toJSON(),value:this.doc.getValue()}},M.prototype.toString=function(){return this.doc.getValue()},M.prototype.getSelection=function(){return this.selection},M.prototype.getState=function(I){return this.bgTokenizer.getState(I)},M.prototype.getTokens=function(I){return this.bgTokenizer.getTokens(I)},M.prototype.getTokenAt=function(I,D){var R=this.bgTokenizer.getTokens(I),O,B=0;if(D==null){var z=R.length-1;B=this.getLine(I).length}else for(var z=0;z<R.length&&(B+=R[z].value.length,!(B>=D));z++);return O=R[z],O?(O.index=z,O.start=B-O.value.length,O):null},M.prototype.setUndoManager=function(I){if(this.$undoManager=I,this.$informUndoManager&&this.$informUndoManager.cancel(),I){var D=this;I.addSession(this),this.$syncInformUndoManager=function(){D.$informUndoManager.cancel(),D.mergeUndoDeltas=!1},this.$informUndoManager=s.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},M.prototype.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},M.prototype.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},M.prototype.getTabString=function(){return this.getUseSoftTabs()?s.stringRepeat(" ",this.getTabSize()):"	"},M.prototype.setUseSoftTabs=function(I){this.setOption("useSoftTabs",I)},M.prototype.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},M.prototype.setTabSize=function(I){this.setOption("tabSize",I)},M.prototype.getTabSize=function(){return this.$tabSize},M.prototype.isTabStop=function(I){return this.$useSoftTabs&&I.column%this.$tabSize===0},M.prototype.setNavigateWithinSoftTabs=function(I){this.setOption("navigateWithinSoftTabs",I)},M.prototype.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},M.prototype.setOverwrite=function(I){this.setOption("overwrite",I)},M.prototype.getOverwrite=function(){return this.$overwrite},M.prototype.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},M.prototype.addGutterDecoration=function(I,D){this.$decorations[I]||(this.$decorations[I]=""),this.$decorations[I]+=" "+D,this._signal("changeBreakpoint",{})},M.prototype.removeGutterDecoration=function(I,D){this.$decorations[I]=(this.$decorations[I]||"").replace(" "+D,""),this._signal("changeBreakpoint",{})},M.prototype.getBreakpoints=function(){return this.$breakpoints},M.prototype.setBreakpoints=function(I){this.$breakpoints=[];for(var D=0;D<I.length;D++)this.$breakpoints[I[D]]="ace_breakpoint";this._signal("changeBreakpoint",{})},M.prototype.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},M.prototype.setBreakpoint=function(I,D){D===void 0&&(D="ace_breakpoint"),D?this.$breakpoints[I]=D:delete this.$breakpoints[I],this._signal("changeBreakpoint",{})},M.prototype.clearBreakpoint=function(I){delete this.$breakpoints[I],this._signal("changeBreakpoint",{})},M.prototype.addMarker=function(I,D,R,O){var B=this.$markerId++,z={range:I,type:R||"line",renderer:typeof R=="function"?R:null,clazz:D,inFront:!!O,id:B};return O?(this.$frontMarkers[B]=z,this._signal("changeFrontMarker")):(this.$backMarkers[B]=z,this._signal("changeBackMarker")),B},M.prototype.addDynamicMarker=function(I,D){if(I.update){var R=this.$markerId++;return I.id=R,I.inFront=!!D,D?(this.$frontMarkers[R]=I,this._signal("changeFrontMarker")):(this.$backMarkers[R]=I,this._signal("changeBackMarker")),I}},M.prototype.removeMarker=function(I){var D=this.$frontMarkers[I]||this.$backMarkers[I];if(D){var R=D.inFront?this.$frontMarkers:this.$backMarkers;delete R[I],this._signal(D.inFront?"changeFrontMarker":"changeBackMarker")}},M.prototype.getMarkers=function(I){return I?this.$frontMarkers:this.$backMarkers},M.prototype.highlight=function(I){if(!this.$searchHighlight){var D=new g(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(D)}this.$searchHighlight.setRegexp(I)},M.prototype.highlightLines=function(I,D,R,O){typeof D!="number"&&(R=D,D=I),R||(R="ace_step");var B=new f(I,0,D,1/0);return B.id=this.addMarker(B,R,"fullLine",O),B},M.prototype.setAnnotations=function(I){this.$annotations=I,this._signal("changeAnnotation",{})},M.prototype.getAnnotations=function(){return this.$annotations||[]},M.prototype.clearAnnotations=function(){this.setAnnotations([])},M.prototype.$detectNewLine=function(I){var D=I.match(/^.*?(\r?\n)/m);D?this.$autoNewLine=D[1]:this.$autoNewLine=`
`},M.prototype.getWordRange=function(I,D){var R=this.getLine(I),O=!1;if(D>0&&(O=!!R.charAt(D-1).match(this.tokenRe)),O||(O=!!R.charAt(D).match(this.tokenRe)),O)var B=this.tokenRe;else if(/^\s+$/.test(R.slice(D-1,D+1)))var B=/\s/;else var B=this.nonTokenRe;var z=D;if(z>0){do z--;while(z>=0&&R.charAt(z).match(B));z++}for(var W=D;W<R.length&&R.charAt(W).match(B);)W++;return new f(I,z,I,W)},M.prototype.getAWordRange=function(I,D){for(var R=this.getWordRange(I,D),O=this.getLine(R.end.row);O.charAt(R.end.column).match(/[ \t]/);)R.end.column+=1;return R},M.prototype.setNewLineMode=function(I){this.doc.setNewLineMode(I)},M.prototype.getNewLineMode=function(){return this.doc.getNewLineMode()},M.prototype.setUseWorker=function(I){this.setOption("useWorker",I)},M.prototype.getUseWorker=function(){return this.$useWorker},M.prototype.onReloadTokenizer=function(I){var D=I.data;this.bgTokenizer.start(D.first),this._signal("tokenizerUpdate",I)},M.prototype.setMode=function(I,D){if(I&&typeof I=="object"){if(I.getTokenizer)return this.$onChangeMode(I);var R=I,O=R.path}else O=I||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new d),this.$modes[O]&&!R){this.$onChangeMode(this.$modes[O]),D&&D();return}this.$modeId=O,l.loadModule(["mode",O],(function(B){if(!this.destroyed){if(this.$modeId!==O)return D&&D();this.$modes[O]&&!R?this.$onChangeMode(this.$modes[O]):B&&B.Mode&&(B=new B.Mode(R),R||(this.$modes[O]=B,B.$id=O),this.$onChangeMode(B)),D&&D()}}).bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},M.prototype.$onChangeMode=function(I,D){if(D||(this.$modeId=I.$id),this.$mode!==I){var R=this.$mode;this.$mode=I,this.$stopWorker(),this.$useWorker&&this.$startWorker();var O=I.getTokenizer();if(O.on!==void 0){var B=this.onReloadTokenizer.bind(this);O.on("update",B)}this.bgTokenizer.setTokenizer(O),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=I.tokenRe,this.nonTokenRe=I.nonTokenRe,D||(I.attachToSession&&I.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(I.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:R,mode:I}))}},M.prototype.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},M.prototype.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(I){l.warn("Could not load worker",I),this.$worker=null}},M.prototype.getMode=function(){return this.$mode},M.prototype.setScrollTop=function(I){this.$scrollTop===I||isNaN(I)||(this.$scrollTop=I,this._signal("changeScrollTop",I))},M.prototype.getScrollTop=function(){return this.$scrollTop},M.prototype.setScrollLeft=function(I){this.$scrollLeft===I||isNaN(I)||(this.$scrollLeft=I,this._signal("changeScrollLeft",I))},M.prototype.getScrollLeft=function(){return this.$scrollLeft},M.prototype.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},M.prototype.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var I=0;return this.lineWidgets.forEach(function(D){D&&D.screenWidth>I&&(I=D.screenWidth)}),this.lineWidgetWidth=I},M.prototype.$computeWidth=function(I){if(this.$modified||I){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var D=this.doc.getAllLines(),R=this.$rowLengthCache,O=0,B=0,z=this.$foldData[B],W=z?z.start.row:1/0,U=D.length,F=0;F<U;F++){if(F>W){if(F=z.end.row+1,F>=U)break;z=this.$foldData[B++],W=z?z.start.row:1/0}R[F]==null&&(R[F]=this.$getStringScreenWidth(D[F])[0]),R[F]>O&&(O=R[F])}this.screenWidth=O}},M.prototype.getLine=function(I){return this.doc.getLine(I)},M.prototype.getLines=function(I,D){return this.doc.getLines(I,D)},M.prototype.getLength=function(){return this.doc.getLength()},M.prototype.getTextRange=function(I){return this.doc.getTextRange(I||this.selection.getRange())},M.prototype.insert=function(I,D){return this.doc.insert(I,D)},M.prototype.remove=function(I){return this.doc.remove(I)},M.prototype.removeFullLines=function(I,D){return this.doc.removeFullLines(I,D)},M.prototype.undoChanges=function(I,D){if(I.length){this.$fromUndo=!0;for(var R=I.length-1;R!=-1;R--){var O=I[R];O.action=="insert"||O.action=="remove"?this.doc.revertDelta(O):O.folds&&this.addFolds(O.folds)}!D&&this.$undoSelect&&(I.selectionBefore?this.selection.fromJSON(I.selectionBefore):this.selection.setRange(this.$getUndoSelection(I,!0))),this.$fromUndo=!1}},M.prototype.redoChanges=function(I,D){if(I.length){this.$fromUndo=!0;for(var R=0;R<I.length;R++){var O=I[R];(O.action=="insert"||O.action=="remove")&&this.doc.$safeApplyDelta(O)}!D&&this.$undoSelect&&(I.selectionAfter?this.selection.fromJSON(I.selectionAfter):this.selection.setRange(this.$getUndoSelection(I,!1))),this.$fromUndo=!1}},M.prototype.setUndoSelect=function(I){this.$undoSelect=I},M.prototype.$getUndoSelection=function(I,D){function R(U){return D?U.action!=="insert":U.action==="insert"}for(var O,B,z=0;z<I.length;z++){var W=I[z];if(W.start){if(!O){R(W)?O=f.fromPoints(W.start,W.end):O=f.fromPoints(W.start,W.start);continue}R(W)?(B=W.start,O.compare(B.row,B.column)==-1&&O.setStart(B),B=W.end,O.compare(B.row,B.column)==1&&O.setEnd(B)):(B=W.start,O.compare(B.row,B.column)==-1&&(O=f.fromPoints(W.start,W.start)))}}return O},M.prototype.replace=function(I,D){return this.doc.replace(I,D)},M.prototype.moveText=function(I,D,R){var O=this.getTextRange(I),B=this.getFoldsInRange(I),z=f.fromPoints(D,D);if(!R){this.remove(I);var W=I.start.row-I.end.row,U=W?-I.end.column:I.start.column-I.end.column;U&&(z.start.row==I.end.row&&z.start.column>I.end.column&&(z.start.column+=U),z.end.row==I.end.row&&z.end.column>I.end.column&&(z.end.column+=U)),W&&z.start.row>=I.end.row&&(z.start.row+=W,z.end.row+=W)}if(z.end=this.insert(z.start,O),B.length){var F=I.start,Y=z.start,W=Y.row-F.row,U=Y.column-F.column;this.addFolds(B.map(function(X){return X=X.clone(),X.start.row==F.row&&(X.start.column+=U),X.end.row==F.row&&(X.end.column+=U),X.start.row+=W,X.end.row+=W,X}))}return z},M.prototype.indentRows=function(I,D,R){R=R.replace(/\t/g,this.getTabString());for(var O=I;O<=D;O++)this.doc.insertInLine({row:O,column:0},R)},M.prototype.outdentRows=function(I){for(var D=I.collapseRows(),R=new f(0,0,0,0),O=this.getTabSize(),B=D.start.row;B<=D.end.row;++B){var z=this.getLine(B);R.start.row=B,R.end.row=B;for(var W=0;W<O&&z.charAt(W)==" ";++W);W<O&&z.charAt(W)=="	"?(R.start.column=W,R.end.column=W+1):(R.start.column=0,R.end.column=W),this.remove(R)}},M.prototype.$moveLines=function(I,D,R){if(I=this.getRowFoldStart(I),D=this.getRowFoldEnd(D),R<0){var O=this.getRowFoldStart(I+R);if(O<0)return 0;var B=O-I}else if(R>0){var O=this.getRowFoldEnd(D+R);if(O>this.doc.getLength()-1)return 0;var B=O-D}else{I=this.$clipRowToDocument(I),D=this.$clipRowToDocument(D);var B=D-I+1}var z=new f(I,0,D,Number.MAX_VALUE),W=this.getFoldsInRange(z).map(function(F){return F=F.clone(),F.start.row+=B,F.end.row+=B,F}),U=R==0?this.doc.getLines(I,D):this.doc.removeFullLines(I,D);return this.doc.insertFullLines(I+B,U),W.length&&this.addFolds(W),B},M.prototype.moveLinesUp=function(I,D){return this.$moveLines(I,D,-1)},M.prototype.moveLinesDown=function(I,D){return this.$moveLines(I,D,1)},M.prototype.duplicateLines=function(I,D){return this.$moveLines(I,D,0)},M.prototype.$clipRowToDocument=function(I){return Math.max(0,Math.min(I,this.doc.getLength()-1))},M.prototype.$clipColumnToRow=function(I,D){return D<0?0:Math.min(this.doc.getLine(I).length,D)},M.prototype.$clipPositionToDocument=function(I,D){if(D=Math.max(0,D),I<0)I=0,D=0;else{var R=this.doc.getLength();I>=R?(I=R-1,D=this.doc.getLine(R-1).length):D=Math.min(this.doc.getLine(I).length,D)}return{row:I,column:D}},M.prototype.$clipRangeToDocument=function(I){I.start.row<0?(I.start.row=0,I.start.column=0):I.start.column=this.$clipColumnToRow(I.start.row,I.start.column);var D=this.doc.getLength()-1;return I.end.row>D?(I.end.row=D,I.end.column=this.doc.getLine(D).length):I.end.column=this.$clipColumnToRow(I.end.row,I.end.column),I},M.prototype.setUseWrapMode=function(I){if(I!=this.$useWrapMode){if(this.$useWrapMode=I,this.$modified=!0,this.$resetRowCache(0),I){var D=this.getLength();this.$wrapData=Array(D),this.$updateWrapData(0,D-1)}this._signal("changeWrapMode")}},M.prototype.getUseWrapMode=function(){return this.$useWrapMode},M.prototype.setWrapLimitRange=function(I,D){(this.$wrapLimitRange.min!==I||this.$wrapLimitRange.max!==D)&&(this.$wrapLimitRange={min:I,max:D},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},M.prototype.adjustWrapLimit=function(I,D){var R=this.$wrapLimitRange;R.max<0&&(R={min:D,max:D});var O=this.$constrainWrapLimit(I,R.min,R.max);return O!=this.$wrapLimit&&O>1?(this.$wrapLimit=O,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},M.prototype.$constrainWrapLimit=function(I,D,R){return D&&(I=Math.max(D,I)),R&&(I=Math.min(R,I)),I},M.prototype.getWrapLimit=function(){return this.$wrapLimit},M.prototype.setWrapLimit=function(I){this.setWrapLimitRange(I,I)},M.prototype.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},M.prototype.$updateInternalDataOnChange=function(I){var D=this.$useWrapMode,R=I.action,O=I.start,B=I.end,z=O.row,W=B.row,U=W-z,F=null;if(this.$updating=!0,U!=0)if(R==="remove"){this[D?"$wrapData":"$rowLengthCache"].splice(z,U);var Y=this.$foldData;F=this.getFoldsInRange(I),this.removeFolds(F);var V=this.getFoldLine(B.row),G=0;if(V){V.addRemoveChars(B.row,B.column,O.column-B.column),V.shiftRow(-U);var X=this.getFoldLine(z);X&&X!==V&&(X.merge(V),V=X),G=Y.indexOf(V)+1}for(G;G<Y.length;G++){var V=Y[G];V.start.row>=B.row&&V.shiftRow(-U)}W=z}else{var Z=Array(U);Z.unshift(z,0);var oe=D?this.$wrapData:this.$rowLengthCache;oe.splice.apply(oe,Z);var Y=this.$foldData,V=this.getFoldLine(z),G=0;if(V){var ne=V.range.compareInside(O.row,O.column);ne==0?(V=V.split(O.row,O.column),V&&(V.shiftRow(U),V.addRemoveChars(W,0,B.column-O.column))):ne==-1&&(V.addRemoveChars(z,0,B.column-O.column),V.shiftRow(U)),G=Y.indexOf(V)+1}for(G;G<Y.length;G++){var V=Y[G];V.start.row>=z&&V.shiftRow(U)}}else{U=Math.abs(I.start.column-I.end.column),R==="remove"&&(F=this.getFoldsInRange(I),this.removeFolds(F),U=-U);var V=this.getFoldLine(z);V&&V.addRemoveChars(z,O.column,U)}return D&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,D?this.$updateWrapData(z,W):this.$updateRowLengthCache(z,W),F},M.prototype.$updateRowLengthCache=function(I,D){this.$rowLengthCache[I]=null,this.$rowLengthCache[D]=null},M.prototype.$updateWrapData=function(I,D){var R=this.doc.getAllLines(),O=this.getTabSize(),B=this.$wrapData,z=this.$wrapLimit,W,U,F=I;for(D=Math.min(D,R.length-1);F<=D;)U=this.getFoldLine(F,U),U?(W=[],U.walk((function(Y,V,G,X){var Z;if(Y!=null){Z=this.$getDisplayTokens(Y,W.length),Z[0]=_;for(var oe=1;oe<Z.length;oe++)Z[oe]=x}else Z=this.$getDisplayTokens(R[V].substring(X,G),W.length);W=W.concat(Z)}).bind(this),U.end.row,R[U.end.row].length+1),B[U.start.row]=this.$computeWrapSplits(W,z,O),F=U.end.row+1):(W=this.$getDisplayTokens(R[F]),B[F]=this.$computeWrapSplits(W,z,O),F++)},M.prototype.$computeWrapSplits=function(I,D,R){if(I.length==0)return[];var O=[],B=I.length,z=0,W=0,U=this.$wrapAsCode,F=this.$indentedSoftWrap,Y=D<=Math.max(2*R,8)||F===!1?0:Math.floor(D/2);function V(){var ne=0;if(Y===0)return ne;if(F)for(var ie=0;ie<I.length;ie++){var fe=I[ie];if(fe==C)ne+=1;else if(fe==A)ne+=R;else{if(fe==k)continue;break}}return U&&F!==!1&&(ne+=R),Math.min(ne,Y)}function G(ne){for(var ie=ne-z,fe=z;fe<ne;fe++){var se=I[fe];(se===12||se===2)&&(ie-=1)}O.length||(X=V(),O.indent=X),W+=ie,O.push(W),z=ne}for(var X=0;B-z>D-X;){var Z=z+D-X;if(I[Z-1]>=C&&I[Z]>=C){G(Z);continue}if(I[Z]==_||I[Z]==x){for(Z;Z!=z-1&&I[Z]!=_;Z--);if(Z>z){G(Z);continue}for(Z=z+D,Z;Z<I.length&&I[Z]==x;Z++);if(Z==I.length)break;G(Z);continue}for(var oe=Math.max(Z-(D-(D>>2)),z-1);Z>oe&&I[Z]<_;)Z--;if(U){for(;Z>oe&&I[Z]<_;)Z--;for(;Z>oe&&I[Z]==S;)Z--}else for(;Z>oe&&I[Z]<C;)Z--;if(Z>oe){G(++Z);continue}Z=z+D,I[Z]==E&&Z--,G(Z-X)}return O},M.prototype.$getDisplayTokens=function(I,D){var R=[],O;D=D||0;for(var B=0;B<I.length;B++){var z=I.charCodeAt(B);if(z==9){O=this.getScreenTabSize(R.length+D),R.push(A);for(var W=1;W<O;W++)R.push(k)}else z==32?R.push(C):z>39&&z<48||z>57&&z<64?R.push(S):z>=4352&&N(z)?R.push(w,E):R.push(w)}return R},M.prototype.$getStringScreenWidth=function(I,D,R){if(D==0)return[0,0];D==null&&(D=1/0),R=R||0;var O,B;for(B=0;B<I.length&&(O=I.charCodeAt(B),O==9?R+=this.getScreenTabSize(R):O>=4352&&N(O)?R+=2:R+=1,!(R>D));B++);return[R,B]},M.prototype.getRowLength=function(I){var D=1;return this.lineWidgets&&(D+=this.lineWidgets[I]&&this.lineWidgets[I].rowCount||0),!this.$useWrapMode||!this.$wrapData[I]?D:this.$wrapData[I].length+D},M.prototype.getRowLineCount=function(I){return!this.$useWrapMode||!this.$wrapData[I]?1:this.$wrapData[I].length+1},M.prototype.getRowWrapIndent=function(I){if(this.$useWrapMode){var D=this.screenToDocumentPosition(I,Number.MAX_VALUE),R=this.$wrapData[D.row];return R.length&&R[0]<D.column?R.indent:0}else return 0},M.prototype.getScreenLastRowColumn=function(I){var D=this.screenToDocumentPosition(I,Number.MAX_VALUE);return this.documentToScreenColumn(D.row,D.column)},M.prototype.getDocumentLastRowColumn=function(I,D){var R=this.documentToScreenRow(I,D);return this.getScreenLastRowColumn(R)},M.prototype.getDocumentLastRowColumnPosition=function(I,D){var R=this.documentToScreenRow(I,D);return this.screenToDocumentPosition(R,Number.MAX_VALUE/10)},M.prototype.getRowSplitData=function(I){if(this.$useWrapMode)return this.$wrapData[I]},M.prototype.getScreenTabSize=function(I){return this.$tabSize-(I%this.$tabSize|0)},M.prototype.screenToDocumentRow=function(I,D){return this.screenToDocumentPosition(I,D).row},M.prototype.screenToDocumentColumn=function(I,D){return this.screenToDocumentPosition(I,D).column},M.prototype.screenToDocumentPosition=function(I,D,R){if(I<0)return{row:0,column:0};var O,B=0,z=0,W,U=0,F=0,Y=this.$screenRowCache,V=this.$getRowCacheIndex(Y,I),G=Y.length;if(G&&V>=0)var U=Y[V],B=this.$docRowCache[V],X=I>Y[G-1];else var X=!G;for(var Z=this.getLength()-1,oe=this.getNextFoldLine(B),ne=oe?oe.start.row:1/0;U<=I&&(F=this.getRowLength(B),!(U+F>I||B>=Z));)U+=F,B++,B>ne&&(B=oe.end.row+1,oe=this.getNextFoldLine(B,oe),ne=oe?oe.start.row:1/0),X&&(this.$docRowCache.push(B),this.$screenRowCache.push(U));if(oe&&oe.start.row<=B)O=this.getFoldDisplayLine(oe),B=oe.start.row;else{if(U+F<=I||B>Z)return{row:Z,column:this.getLine(Z).length};O=this.getLine(B),oe=null}var ie=0,fe=Math.floor(I-U);if(this.$useWrapMode){var se=this.$wrapData[B];se&&(W=se[fe],fe>0&&se.length&&(ie=se.indent,z=se[fe-1]||se[se.length-1],O=O.substring(z)))}return R!==void 0&&this.$bidiHandler.isBidiRow(U+fe,B,fe)&&(D=this.$bidiHandler.offsetToCol(R)),z+=this.$getStringScreenWidth(O,D-ie)[1],this.$useWrapMode&&z>=W&&(z=W-1),oe?oe.idxToPosition(z):{row:B,column:z}},M.prototype.documentToScreenPosition=function(I,D){if(typeof D>"u")var R=this.$clipPositionToDocument(I.row,I.column);else R=this.$clipPositionToDocument(I,D);I=R.row,D=R.column;var O=0,B=null,z=null;z=this.getFoldAt(I,D,1),z&&(I=z.start.row,D=z.start.column);var W,U=0,F=this.$docRowCache,Y=this.$getRowCacheIndex(F,I),V=F.length;if(V&&Y>=0)var U=F[Y],O=this.$screenRowCache[Y],G=I>F[V-1];else var G=!V;for(var X=this.getNextFoldLine(U),Z=X?X.start.row:1/0;U<I;){if(U>=Z){if(W=X.end.row+1,W>I)break;X=this.getNextFoldLine(W,X),Z=X?X.start.row:1/0}else W=U+1;O+=this.getRowLength(U),U=W,G&&(this.$docRowCache.push(U),this.$screenRowCache.push(O))}var oe="";X&&U>=Z?(oe=this.getFoldDisplayLine(X,I,D),B=X.start.row):(oe=this.getLine(I).substring(0,D),B=I);var ne=0;if(this.$useWrapMode){var ie=this.$wrapData[B];if(ie){for(var fe=0;oe.length>=ie[fe];)O++,fe++;oe=oe.substring(ie[fe-1]||0,oe.length),ne=fe>0?ie.indent:0}}return this.lineWidgets&&this.lineWidgets[U]&&this.lineWidgets[U].rowsAbove&&(O+=this.lineWidgets[U].rowsAbove),{row:O,column:ne+this.$getStringScreenWidth(oe)[0]}},M.prototype.documentToScreenColumn=function(I,D){return this.documentToScreenPosition(I,D).column},M.prototype.documentToScreenRow=function(I,D){return this.documentToScreenPosition(I,D).row},M.prototype.getScreenLength=function(){var I=0,D=null;if(this.$useWrapMode)for(var B=this.$wrapData.length,z=0,O=0,D=this.$foldData[O++],W=D?D.start.row:1/0;z<B;){var U=this.$wrapData[z];I+=U?U.length+1:1,z++,z>W&&(z=D.end.row+1,D=this.$foldData[O++],W=D?D.start.row:1/0)}else{I=this.getLength();for(var R=this.$foldData,O=0;O<R.length;O++)D=R[O],I-=D.end.row-D.start.row}return this.lineWidgets&&(I+=this.$getWidgetScreenLength()),I},M.prototype.$setFontMetrics=function(I){this.$enableVarChar&&(this.$getStringScreenWidth=function(D,R,O){if(R===0)return[0,0];R||(R=1/0),O=O||0;var B,z;for(z=0;z<D.length&&(B=D.charAt(z),B==="	"?O+=this.getScreenTabSize(O):O+=I.getCharacterWidth(B),!(O>R));z++);return[O,z]})},M.prototype.getPrecedingCharacter=function(){var I=this.selection.getCursor();if(I.column===0)return I.row===0?"":this.doc.getNewLineCharacter();var D=this.getLine(I.row);return D[I.column-1]},M.prototype.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.endOperation(),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection&&(this.selection.off("changeCursor",this.$onSelectionChange),this.selection.off("changeSelection",this.$onSelectionChange)),this.selection.detach()},M}();v.$uid=0,v.prototype.$modes=l.$modes,v.prototype.getValue=v.prototype.toString,v.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},v.prototype.$overwrite=!1,v.prototype.$mode=null,v.prototype.$modeId=null,v.prototype.$scrollTop=0,v.prototype.$scrollLeft=0,v.prototype.$wrapLimit=80,v.prototype.$useWrapMode=!1,v.prototype.$wrapLimitRange={min:null,max:null},v.prototype.lineWidgets=null,v.prototype.isFullWidth=N,o.implement(v.prototype,u);var w=1,E=2,_=3,x=4,S=9,C=10,A=11,k=12;function N(M){return M<4352?!1:M>=4352&&M<=4447||M>=4515&&M<=4519||M>=4602&&M<=4607||M>=9001&&M<=9002||M>=11904&&M<=11929||M>=11931&&M<=12019||M>=12032&&M<=12245||M>=12272&&M<=12283||M>=12288&&M<=12350||M>=12353&&M<=12438||M>=12441&&M<=12543||M>=12549&&M<=12589||M>=12593&&M<=12686||M>=12688&&M<=12730||M>=12736&&M<=12771||M>=12784&&M<=12830||M>=12832&&M<=12871||M>=12880&&M<=13054||M>=13056&&M<=19903||M>=19968&&M<=42124||M>=42128&&M<=42182||M>=43360&&M<=43388||M>=44032&&M<=55203||M>=55216&&M<=55238||M>=55243&&M<=55291||M>=63744&&M<=64255||M>=65040&&M<=65049||M>=65072&&M<=65106||M>=65108&&M<=65126||M>=65128&&M<=65131||M>=65281&&M<=65376||M>=65504&&M<=65510}n("./edit_session/folding").Folding.call(v.prototype),n("./edit_session/bracket_match").BracketMatch.call(v.prototype),l.defineOptions(v.prototype,"session",{wrap:{set:function(M){if(!M||M=="off"?M=!1:M=="free"?M=!0:M=="printMargin"?M=-1:typeof M=="string"&&(M=parseInt(M,10)||!1),this.$wrap!=M)if(this.$wrap=M,!M)this.setUseWrapMode(!1);else{var I=typeof M=="number"?M:null;this.setWrapLimitRange(I,I),this.setUseWrapMode(!0)}},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(M){M=M=="auto"?this.$mode.type!="text":M!="text",M!=this.$wrapAsCode&&(this.$wrapAsCode=M,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(M){this.$useWorker=M,this.$stopWorker(),M&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(M){M=parseInt(M),M>0&&this.$tabSize!==M&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=M,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(M){this.setFoldStyle(M)},handlesSet:!0},overwrite:{set:function(M){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(M){this.doc.setNewLineMode(M)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(M){this.setMode(M)},get:function(){return this.$modeId},handlesSet:!0}}),r.EditSession=v}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(n,r,i){var o=n("./lib/lang"),s=n("./lib/oop"),a=n("./range").Range,l=function(){function f(){this.$options={}}return f.prototype.set=function(h){return s.mixin(this.$options,h),this},f.prototype.getOptions=function(){return o.copyObject(this.$options)},f.prototype.setOptions=function(h){this.$options=h},f.prototype.find=function(h){var p=this.$options,m=this.$matchIterator(h,p);if(!m)return!1;var g=null;return m.forEach(function(y,v,w,E){return g=new a(y,v,w,E),v==E&&p.start&&p.start.start&&p.skipCurrent!=!1&&g.isEqual(p.start)?(g=null,!1):!0}),g},f.prototype.findAll=function(h){var p=this.$options;if(!p.needle)return[];this.$assembleRegExp(p);var m=p.range,g=m?h.getLines(m.start.row,m.end.row):h.doc.getAllLines(),y=[],v=p.re;if(p.$isMultiLine){var w=v.length,E=g.length-w,_;e:for(var x=v.offset||0;x<=E;x++){for(var S=0;S<w;S++)if(g[x+S].search(v[S])==-1)continue e;var C=g[x],A=g[x+w-1],k=C.length-C.match(v[0])[0].length,N=A.match(v[w-1])[0].length;_&&_.end.row===x&&_.end.column>k||(y.push(_=new a(x,k,x+w-1,N)),w>2&&(x=x+w-2))}}else for(var M,I=0;I<g.length;I++)if(this.$isMultilineSearch(p)){var D=g.length-1;if(M=this.$multiLineForward(h,v,I,D),M){var R=M.endRow<=D?M.endRow-1:D;R>I&&(I=R),y.push(new a(M.startRow,M.startCol,M.endRow,M.endCol))}}else{M=o.getMatchOffsets(g[I],v);for(var S=0;S<M.length;S++){var O=M[S];y.push(new a(I,O.offset,I,O.offset+O.length))}}if(m){for(var B=m.start.column,z=m.end.column,I=0,S=y.length-1;I<S&&y[I].start.column<B&&y[I].start.row==0;)I++;for(var W=m.end.row-m.start.row;I<S&&y[S].end.column>z&&y[S].end.row==W;)S--;for(y=y.slice(I,S+1),I=0,S=y.length;I<S;I++)y[I].start.row+=m.start.row,y[I].end.row+=m.start.row}return y},f.prototype.parseReplaceString=function(h){for(var p={DollarSign:36,Ampersand:38,Digit0:48,Digit1:49,Digit9:57,Backslash:92,n:110,t:116},m="",g=0,y=h.length;g<y;g++){var v=h.charCodeAt(g);if(v===p.Backslash){if(g++,g>=y){m+="\\";break}var w=h.charCodeAt(g);switch(w){case p.Backslash:m+="\\";break;case p.n:m+=`
`;break;case p.t:m+="	";break}continue}if(v===p.DollarSign){if(g++,g>=y){m+="$";break}var E=h.charCodeAt(g);if(E===p.DollarSign){m+="$$";continue}if(E===p.Digit0||E===p.Ampersand){m+="$&";continue}if(p.Digit1<=E&&E<=p.Digit9){m+="$"+h[g];continue}}m+=h[g]}return m||h},f.prototype.replace=function(h,p){var m=this.$options,g=this.$assembleRegExp(m);if(m.$isMultiLine)return p;if(g){var y=this.$isMultilineSearch(m);y&&(h=h.replace(/\r\n|\r|\n/g,`
`));var v=g.exec(h);if(!v||!y&&v[0].length!=h.length)return null;if(p=m.regExp?this.parseReplaceString(p):p.replace(/\$/g,"$$$$"),p=h.replace(g,p),m.preserveCase){p=p.split("");for(var w=Math.min(h.length,h.length);w--;){var E=h[w];E&&E.toLowerCase()!=E?p[w]=p[w].toUpperCase():p[w]=p[w].toLowerCase()}p=p.join("")}return p}},f.prototype.$assembleRegExp=function(h,p){if(h.needle instanceof RegExp)return h.re=h.needle;var m=h.needle;if(!h.needle)return h.re=!1;h.regExp||(m=o.escapeRegExp(m));var g=h.caseSensitive?"gm":"gmi";try{new RegExp(m,"u"),h.$supportsUnicodeFlag=!0,g+="u"}catch{h.$supportsUnicodeFlag=!1}if(h.wholeWord&&(m=u(m,h)),h.$isMultiLine=!p&&/[\n\r]/.test(m),h.$isMultiLine)return h.re=this.$assembleMultilineRegExp(m,g);try{var y=new RegExp(m,g)}catch{y=!1}return h.re=y},f.prototype.$assembleMultilineRegExp=function(h,p){for(var m=h.replace(/\r\n|\r|\n/g,`$
^`).split(`
`),g=[],y=0;y<m.length;y++)try{g.push(new RegExp(m[y],p))}catch{return!1}return g},f.prototype.$isMultilineSearch=function(h){return h.re&&/\\r\\n|\\r|\\n/.test(h.re.source)&&h.regExp&&!h.$isMultiLine},f.prototype.$multiLineForward=function(h,p,m,g){for(var y,v=d(h,m),w=m;w<=g;){for(var E=0;E<v&&!(w>g);E++){var _=h.getLine(w++);y=y==null?_:y+`
`+_}var x=p.exec(y);if(p.lastIndex=0,x){var S=y.slice(0,x.index).split(`
`),C=x[0].split(`
`),A=m+S.length-1,k=S[S.length-1].length,N=A+C.length-1,M=C.length==1?k+C[0].length:C[C.length-1].length;return{startRow:A,startCol:k,endRow:N,endCol:M}}}return null},f.prototype.$multiLineBackward=function(h,p,m,g,y){for(var v,w=d(h,g),E=h.getLine(g).length-m,_=g;_>=y;){for(var x=0;x<w&&_>=y;x++){var S=h.getLine(_--);v=v==null?S:S+`
`+v}var C=c(v,p,E);if(C){var A=v.slice(0,C.index).split(`
`),k=C[0].split(`
`),N=_+A.length,M=A[A.length-1].length,I=N+k.length-1,D=k.length==1?M+k[0].length:k[k.length-1].length;return{startRow:N,startCol:M,endRow:I,endCol:D}}}return null},f.prototype.$matchIterator=function(h,p){var m=this.$assembleRegExp(p);if(!m)return!1;var g=this.$isMultilineSearch(p),y=this.$multiLineForward,v=this.$multiLineBackward,w=p.backwards==!0,E=p.skipCurrent!=!1,_=m.unicode,x=p.range,S=p.start;S||(S=x?x[w?"end":"start"]:h.selection.getRange()),S.start&&(S=S[E!=w?"end":"start"]);var C=x?x.start.row:0,A=x?x.end.row:h.getLength()-1;if(w)var k=function(I){var D=S.row;if(!M(D,S.column,I)){for(D--;D>=C;D--)if(M(D,Number.MAX_VALUE,I))return;if(p.wrap!=!1){for(D=A,C=S.row;D>=C;D--)if(M(D,Number.MAX_VALUE,I))return}}};else var k=function(D){var R=S.row;if(!M(R,S.column,D)){for(R=R+1;R<=A;R++)if(M(R,0,D))return;if(p.wrap!=!1){for(R=C,A=S.row;R<=A;R++)if(M(R,0,D))return}}};if(p.$isMultiLine)var N=m.length,M=function(I,D,R){var O=w?I-N+1:I;if(!(O<0||O+N>h.getLength())){var B=h.getLine(O),z=B.search(m[0]);if(!(!w&&z<D||z===-1)){for(var W=1;W<N;W++)if(B=h.getLine(O+W),B.search(m[W])==-1)return;var U=B.match(m[N-1])[0].length;if(!(w&&U>D)&&R(O,z,O+N-1,U))return!0}}};else if(w)var M=function(D,R,O){if(g){var B=v(h,m,R,D,C);if(!B)return!1;if(O(B.startRow,B.startCol,B.endRow,B.endCol))return!0}else{var z=h.getLine(D),W=[],U,F=0;for(m.lastIndex=0;U=m.exec(z);){var Y=U[0].length;if(F=U.index,!Y){if(F>=z.length)break;m.lastIndex=F+=o.skipEmptyMatch(z,F,_)}if(U.index+Y>R)break;W.push(U.index,Y)}for(var V=W.length-1;V>=0;V-=2){var G=W[V-1],Y=W[V];if(O(D,G,D,G+Y))return!0}}};else var M=function(D,R,O){if(m.lastIndex=R,g){var B=y(h,m,D,A);if(B){var z=B.endRow<=A?B.endRow-1:A;z>D&&(D=z)}if(!B)return!1;if(O(B.startRow,B.startCol,B.endRow,B.endCol))return!0}else for(var W=h.getLine(D),U,F;F=m.exec(W);){var Y=F[0].length;if(U=F.index,O(D,U,D,U+Y))return!0;if(!Y&&(m.lastIndex=U+=o.skipEmptyMatch(W,U,_),U>=W.length))return!1}};return{forEach:k}},f}();function u(f,h){var p=o.supportsLookbehind();function m(w,E){E===void 0&&(E=!0);var _=p&&h.$supportsUnicodeFlag?new RegExp("[\\p{L}\\p{N}_]","u"):new RegExp("\\w");return _.test(w)||h.regExp?p&&h.$supportsUnicodeFlag?E?"(?<=^|[^\\p{L}\\p{N}_])":"(?=[^\\p{L}\\p{N}_]|$)":"\\b":""}var g=Array.from(f),y=g[0],v=g[g.length-1];return m(y)+f+m(v,!1)}function c(f,h,p){for(var m=null,g=0;g<=f.length;){h.lastIndex=g;var y=h.exec(f);if(!y)break;var v=y.index+y[0].length;if(v>f.length-p)break;(!m||v>m.index+m[0].length)&&(m=y),g=y.index+1}return m}function d(f,h){var p=5e3,m={row:h,column:0},g=f.doc.positionToIndex(m),y=g+p,v=f.doc.indexToPosition(y),w=v.row;return w+1}r.Search=l}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(n,r,i){var o=this&&this.__extends||function(){var f=function(h,p){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(m[y]=g[y])},f(h,p)};return function(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");f(h,p);function m(){this.constructor=h}h.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}(),s=n("../lib/keys"),a=n("../lib/useragent"),l=s.KEY_MODS,u=function(){function f(h,p){this.$init(h,p,!1)}return f.prototype.$init=function(h,p,m){this.platform=p||(a.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(h),this.$singleCommand=m},f.prototype.addCommand=function(h){this.commands[h.name]&&this.removeCommand(h),this.commands[h.name]=h,h.bindKey&&this._buildKeyHash(h)},f.prototype.removeCommand=function(h,p){var m=h&&(typeof h=="string"?h:h.name);h=this.commands[m],p||delete this.commands[m];var g=this.commandKeyBinding;for(var y in g){var v=g[y];if(v==h)delete g[y];else if(Array.isArray(v)){var w=v.indexOf(h);w!=-1&&(v.splice(w,1),v.length==1&&(g[y]=v[0]))}}},f.prototype.bindKey=function(h,p,m){if(typeof h=="object"&&h&&(m==null&&(m=h.position),h=h[this.platform]),!!h){if(typeof p=="function")return this.addCommand({exec:p,bindKey:h,name:p.name||h});h.split("|").forEach(function(g){var y="";if(g.indexOf(" ")!=-1){var v=g.split(/\s+/);g=v.pop(),v.forEach(function(_){var x=this.parseKeys(_),S=l[x.hashId]+x.key;y+=(y?" ":"")+S,this._addCommandToBinding(y,"chainKeys")},this),y+=" "}var w=this.parseKeys(g),E=l[w.hashId]+w.key;this._addCommandToBinding(y+E,p,m)},this)}},f.prototype._addCommandToBinding=function(h,p,m){var g=this.commandKeyBinding,y;if(!p)delete g[h];else if(!g[h]||this.$singleCommand)g[h]=p;else{Array.isArray(g[h])?(y=g[h].indexOf(p))!=-1&&g[h].splice(y,1):g[h]=[g[h]],typeof m!="number"&&(m=c(p));var v=g[h];for(y=0;y<v.length;y++){var w=v[y],E=c(w);if(E>m)break}v.splice(y,0,p)}},f.prototype.addCommands=function(h){h&&Object.keys(h).forEach(function(p){var m=h[p];if(m){if(typeof m=="string")return this.bindKey(m,p);typeof m=="function"&&(m={exec:m}),typeof m=="object"&&(m.name||(m.name=p),this.addCommand(m))}},this)},f.prototype.removeCommands=function(h){Object.keys(h).forEach(function(p){this.removeCommand(h[p])},this)},f.prototype.bindKeys=function(h){Object.keys(h).forEach(function(p){this.bindKey(p,h[p])},this)},f.prototype._buildKeyHash=function(h){this.bindKey(h.bindKey,h)},f.prototype.parseKeys=function(h){var p=h.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(E){return E}),m=p.pop(),g=s[m];if(s.FUNCTION_KEYS[g])m=s.FUNCTION_KEYS[g].toLowerCase();else if(p.length){if(p.length==1&&p[0]=="shift")return{key:m.toUpperCase(),hashId:-1}}else return{key:m,hashId:-1};for(var y=0,v=p.length;v--;){var w=s.KEY_MODS[p[v]];if(w==null)return typeof console<"u"&&console.error("invalid modifier "+p[v]+" in "+h),!1;y|=w}return{key:m,hashId:y}},f.prototype.findKeyCommand=function(h,p){var m=l[h]+p;return this.commandKeyBinding[m]},f.prototype.handleKeyboard=function(h,p,m,g){if(!(g<0)){var y=l[p]+m,v=this.commandKeyBinding[y];return h.$keyChain&&(h.$keyChain+=" "+y,v=this.commandKeyBinding[h.$keyChain]||v),v&&(v=="chainKeys"||v[v.length-1]=="chainKeys")?(h.$keyChain=h.$keyChain||y,{command:"null"}):(h.$keyChain&&((!p||p==4)&&m.length==1?h.$keyChain=h.$keyChain.slice(0,-y.length-1):(p==-1||g>0)&&(h.$keyChain="")),{command:v})}},f.prototype.getStatusText=function(h,p){return p.$keyChain||""},f}();function c(f){return typeof f=="object"&&f.bindKey&&f.bindKey.position||(f.isDefault?-100:0)}var d=function(f){o(h,f);function h(p,m){var g=f.call(this,p,m)||this;return g.$singleCommand=!0,g}return h}(u);d.call=function(f,h,p){u.prototype.$init.call(f,h,p,!0)},u.call=function(f,h,p){u.prototype.$init.call(f,h,p,!1)},r.HashHandler=d,r.MultiHashHandler=u}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(n,r,i){var o=this&&this.__extends||function(){var c=function(d,f){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var m in p)Object.prototype.hasOwnProperty.call(p,m)&&(h[m]=p[m])},c(d,f)};return function(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");c(d,f);function h(){this.constructor=d}d.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}(),s=n("../lib/oop"),a=n("../keyboard/hash_handler").MultiHashHandler,l=n("../lib/event_emitter").EventEmitter,u=function(c){o(d,c);function d(f,h){var p=c.call(this,h,f)||this;return p.byName=p.commands,p.setDefaultHandler("exec",function(m){return m.args?m.command.exec(m.editor,m.args,m.event,!1):m.command.exec(m.editor,{},m.event,!0)}),p}return d.prototype.exec=function(f,h,p){if(Array.isArray(f)){for(var m=f.length;m--;)if(this.exec(f[m],h,p))return!0;return!1}typeof f=="string"&&(f=this.commands[f]);var g={editor:h,command:f,args:p};return this.canExecute(f,h)?(g.returnValue=this._emit("exec",g),this._signal("afterExec",g),g.returnValue!==!1):(this._signal("commandUnavailable",g),!1)},d.prototype.canExecute=function(f,h){return typeof f=="string"&&(f=this.commands[f]),!(!f||h&&h.$readOnly&&!f.readOnly||this.$checkCommandState!=!1&&f.isAvailable&&!f.isAvailable(h))},d.prototype.toggleRecording=function(f){if(!this.$inReplay)return f&&f._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=(function(h){this.macro.push([h.command,h.args])}).bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},d.prototype.replay=function(f){if(!(this.$inReplay||!this.macro)){if(this.recording)return this.toggleRecording(f);try{this.$inReplay=!0,this.macro.forEach(function(h){typeof h=="string"?this.exec(h,f):this.exec(h[0],f,h[1])},this)}finally{this.$inReplay=!1}}},d.prototype.trimMacro=function(f){return f.map(function(h){return typeof h[0]!="string"&&(h[0]=h[0].name),h[1]||(h=h[0]),h})},d}(a);s.implement(u.prototype,l),r.CommandManager=u}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(n,r,i){var o=n("../lib/lang"),s=n("../config"),a=n("../range").Range;function l(c,d){return{win:c,mac:d}}r.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:l("Ctrl-,","Command-,"),exec:function(c){s.loadModule("ace/ext/settings_menu",function(d){d.init(c),c.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:l("Alt-E","F4"),exec:function(c){s.loadModule("ace/ext/error_marker",function(d){d.showErrorMarker(c,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:l("Alt-Shift-E","Shift-F4"),exec:function(c){s.loadModule("ace/ext/error_marker",function(d){d.showErrorMarker(c,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:l("Ctrl-A","Command-A"),exec:function(c){c.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:l(null,"Ctrl-L"),exec:function(c){c.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:l("Ctrl-L","Command-L"),exec:function(c,d){typeof d=="number"&&!isNaN(d)&&c.gotoLine(d),c.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:l("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(c){c.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:l("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(c){c.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:l("F2","F2"),exec:function(c){c.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:l("Alt-F2","Alt-F2"),exec:function(c){c.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:l(null,"Ctrl-Command-Option-0"),exec:function(c){c.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:l(null,"Ctrl-Command-Option-0"),exec:function(c){c.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:l("Alt-0","Command-Option-0"),exec:function(c){c.session.foldAll(),c.session.unfold(c.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:l("Alt-Shift-0","Command-Option-Shift-0"),exec:function(c){c.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:l("Ctrl-K","Command-G"),exec:function(c){c.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:l("Ctrl-Shift-K","Command-Shift-G"),exec:function(c){c.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:l("Alt-K","Ctrl-G"),exec:function(c){c.selection.isEmpty()?c.selection.selectWord():c.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:l("Alt-Shift-K","Ctrl-Shift-G"),exec:function(c){c.selection.isEmpty()?c.selection.selectWord():c.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:l("Ctrl-F","Command-F"),exec:function(c){s.loadModule("ace/ext/searchbox",function(d){d.Search(c)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(c){c.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:l("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(c){c.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:l("Ctrl-Home","Command-Home|Command-Up"),exec:function(c){c.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:l("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(c){c.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:l("Up","Up|Ctrl-P"),exec:function(c,d){c.navigateUp(d.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:l("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(c){c.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:l("Ctrl-End","Command-End|Command-Down"),exec:function(c){c.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:l("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(c){c.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:l("Down","Down|Ctrl-N"),exec:function(c,d){c.navigateDown(d.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:l("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(c){c.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:l("Ctrl-Left","Option-Left"),exec:function(c){c.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:l("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(c){c.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:l("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(c){c.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:l("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(c){c.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:l("Left","Left|Ctrl-B"),exec:function(c,d){c.navigateLeft(d.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:l("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(c){c.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:l("Ctrl-Right","Option-Right"),exec:function(c){c.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:l("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(c){c.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:l("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(c){c.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:l("Shift-Right","Shift-Right"),exec:function(c){c.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:l("Right","Right|Ctrl-F"),exec:function(c,d){c.navigateRight(d.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(c){c.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:l(null,"Option-PageDown"),exec:function(c){c.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:l("PageDown","PageDown|Ctrl-V"),exec:function(c){c.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(c){c.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:l(null,"Option-PageUp"),exec:function(c){c.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(c){c.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:l("Ctrl-Up",null),exec:function(c){c.renderer.scrollBy(0,-2*c.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:l("Ctrl-Down",null),exec:function(c){c.renderer.scrollBy(0,2*c.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(c){c.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(c){c.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:l("Ctrl-Alt-E","Command-Option-E"),exec:function(c){c.commands.toggleRecording(c)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:l("Ctrl-Shift-E","Command-Shift-E"),exec:function(c){c.commands.replay(c)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:l("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(c){c.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:l("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(c){c.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:l("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(c){c.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:l(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(c){},readOnly:!0},{name:"cut",description:"Cut",exec:function(c){var d=c.$copyWithEmptySelection&&c.selection.isEmpty(),f=d?c.selection.getLineRange():c.selection.getRange();c._emit("cut",f),f.isEmpty()||c.session.remove(f),c.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(c,d){c.$handlePaste(d)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:l("Ctrl-D","Command-D"),exec:function(c){c.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:l("Ctrl-Shift-D","Command-Shift-D"),exec:function(c){c.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:l("Ctrl-Alt-S","Command-Alt-S"),exec:function(c){c.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:l("Ctrl-/","Command-/"),exec:function(c){c.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:l("Ctrl-Shift-/","Command-Shift-/"),exec:function(c){c.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:l("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(c){c.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:l("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(c){c.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:l("Ctrl-H","Command-Option-F"),exec:function(c){s.loadModule("ace/ext/searchbox",function(d){d.Search(c,!0)})}},{name:"undo",description:"Undo",bindKey:l("Ctrl-Z","Command-Z"),exec:function(c){c.undo()}},{name:"redo",description:"Redo",bindKey:l("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(c){c.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:l("Alt-Shift-Up","Command-Option-Up"),exec:function(c){c.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:l("Alt-Up","Option-Up"),exec:function(c){c.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:l("Alt-Shift-Down","Command-Option-Down"),exec:function(c){c.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:l("Alt-Down","Option-Down"),exec:function(c){c.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:l("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(c){c.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:l("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(c){c.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:l("Shift-Delete",null),exec:function(c){if(c.selection.isEmpty())c.remove("left");else return!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:l("Alt-Backspace","Command-Backspace"),exec:function(c){c.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:l("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(c){c.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:l("Ctrl-Shift-Backspace",null),exec:function(c){var d=c.selection.getRange();d.start.column=0,c.session.remove(d)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:l("Ctrl-Shift-Delete",null),exec:function(c){var d=c.selection.getRange();d.end.column=Number.MAX_VALUE,c.session.remove(d)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:l("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(c){c.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:l("Ctrl-Delete","Alt-Delete"),exec:function(c){c.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:l("Shift-Tab","Shift-Tab"),exec:function(c){c.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:l("Tab","Tab"),exec:function(c){c.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:l("Ctrl-[","Ctrl-["),exec:function(c){c.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:l("Ctrl-]","Ctrl-]"),exec:function(c){c.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(c,d){c.insert(d)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(c,d){c.insert(o.stringRepeat(d.text||"",d.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:l(null,"Ctrl-O"),exec:function(c){c.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:l("Alt-Shift-X","Ctrl-T"),exec:function(c){c.transposeLetters()},multiSelectAction:function(c){c.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:l("Ctrl-U","Ctrl-U"),exec:function(c){c.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:l("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(c){c.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:l(null,null),exec:function(c){c.autoIndent()},scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:l("Ctrl-Shift-L","Command-Shift-L"),exec:function(c){var d=c.selection.getRange();d.start.column=d.end.column=0,d.end.row++,c.selection.setRange(d,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:l("Ctrl+F3","F3"),exec:function(c){c.openLink()}},{name:"joinlines",description:"Join lines",bindKey:l(null,null),exec:function(c){for(var d=c.selection.isBackwards(),f=d?c.selection.getSelectionLead():c.selection.getSelectionAnchor(),h=d?c.selection.getSelectionAnchor():c.selection.getSelectionLead(),p=c.session.doc.getLine(f.row).length,m=c.session.doc.getTextRange(c.selection.getRange()),g=m.replace(/\n\s*/," ").length,y=c.session.doc.getLine(f.row),v=f.row+1;v<=h.row+1;v++){var w=o.stringTrimLeft(o.stringTrimRight(c.session.doc.getLine(v)));w.length!==0&&(w=" "+w),y+=w}h.row+1<c.session.doc.getLength()-1&&(y+=c.session.doc.getNewLineCharacter()),c.clearSelection(),c.session.doc.replace(new a(f.row,0,h.row+2,0),y),g>0?(c.selection.moveCursorTo(f.row,f.column),c.selection.selectTo(f.row,f.column+g)):(p=c.session.doc.getLine(f.row).length>p?p+1:p,c.selection.moveCursorTo(f.row,p))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:l(null,null),exec:function(c){var d=c.session.doc.getLength()-1,f=c.session.doc.getLine(d).length,h=c.selection.rangeList.ranges,p=[];h.length<1&&(h=[c.selection.getRange()]);for(var m=0;m<h.length;m++)m==h.length-1&&(h[m].end.row===d&&h[m].end.column===f||p.push(new a(h[m].end.row,h[m].end.column,d,f))),m===0?h[m].start.row===0&&h[m].start.column===0||p.push(new a(0,0,h[m].start.row,h[m].start.column)):p.push(new a(h[m-1].end.row,h[m-1].end.column,h[m].start.row,h[m].start.column));c.exitMultiSelectMode(),c.clearSelection();for(var m=0;m<p.length;m++)c.selection.addRange(p[m],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(c){c.selection.clearSelection(),c.navigateLineEnd(),c.insert(`
`)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(c){c.selection.clearSelection();var d=c.getCursorPosition();c.selection.moveTo(d.row-1,Number.MAX_VALUE),c.insert(`
`),d.row===0&&c.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",exec:function(c){console.warn("This is an obsolete command. Please use `openCommandPalette` instead."),c.prompt({$type:"commands"})},readOnly:!0},{name:"openCommandPalette",description:"Open command palette",bindKey:l("F1","F1"),exec:function(c){c.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:l(null,null),exec:function(c){c.prompt({$type:"modes"})},readOnly:!0}];for(var u=1;u<9;u++)r.commands.push({name:"foldToLevel"+u,description:"Fold To Level "+u,level:u,exec:function(c){c.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})}),ace.define("ace/keyboard/gutter_handler",["require","exports","module","ace/lib/keys","ace/mouse/default_gutter_handler"],function(n,r,i){var o=n("../lib/keys"),s=n("../mouse/default_gutter_handler").GutterTooltip,a=function(){function u(c){this.editor=c,this.gutterLayer=c.renderer.$gutterLayer,this.element=c.renderer.$gutter,this.lines=c.renderer.$gutterLayer.$lines,this.activeRowIndex=null,this.activeLane=null,this.annotationTooltip=new s(this.editor)}return u.prototype.addListener=function(){this.element.addEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.addEventListener("focusout",this.$blurGutter.bind(this)),this.editor.on("mousewheel",this.$blurGutter.bind(this))},u.prototype.removeListener=function(){this.element.removeEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.removeEventListener("focusout",this.$blurGutter.bind(this)),this.editor.off("mousewheel",this.$blurGutter.bind(this))},u.prototype.$onGutterKeyDown=function(c){if(this.annotationTooltip.isOpen){c.preventDefault(),c.keyCode===o.escape&&this.annotationTooltip.hideTooltip();return}if(c.target===this.element){if(c.keyCode!=o.enter)return;c.preventDefault();var d=this.editor.getCursorPosition().row;this.editor.isRowVisible(d)||this.editor.scrollToLine(d,!0,!0),setTimeout((function(){var f=this.$rowToRowIndex(this.gutterLayer.$cursorCell.row),h=this.$findNearestFoldWidget(f),p=this.$findNearestAnnotation(f);if(!(h===null&&p===null)){if(h===null&&p!==null){this.activeRowIndex=p,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}if(h!==null&&p===null){this.activeRowIndex=h,this.activeLane="fold",this.$focusFoldWidget(this.activeRowIndex);return}if(Math.abs(p-f)<Math.abs(h-f)){this.activeRowIndex=p,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}else{this.activeRowIndex=h,this.activeLane="fold",this.$focusFoldWidget(this.activeRowIndex);return}}}).bind(this),10);return}this.$handleGutterKeyboardInteraction(c),setTimeout((function(){this.editor._signal("gutterkeydown",new l(c,this))}).bind(this),10)},u.prototype.$handleGutterKeyboardInteraction=function(c){if(c.keyCode===o.tab){c.preventDefault();return}if(c.keyCode===o.escape){c.preventDefault(),this.$blurGutter(),this.element.focus(),this.lane=null;return}if(c.keyCode===o.up){switch(c.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetUp();break;case"annotation":this.$moveAnnotationUp();break}return}if(c.keyCode===o.down){switch(c.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetDown();break;case"annotation":this.$moveAnnotationDown();break}return}if(c.keyCode===o.left){c.preventDefault(),this.$switchLane("annotation");return}if(c.keyCode===o.right){c.preventDefault(),this.$switchLane("fold");return}if(c.keyCode===o.enter||c.keyCode===o.space){switch(c.preventDefault(),this.activeLane){case"fold":if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="start"){var d=this.$rowIndexToRow(this.activeRowIndex);this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex),c),setTimeout((function(){this.$rowIndexToRow(this.activeRowIndex)!==d&&(this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=this.$rowToRowIndex(d),this.$focusFoldWidget(this.activeRowIndex))}).bind(this),10);break}else if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="end")break;return;case"annotation":var f=this.lines.cells[this.activeRowIndex].element.childNodes[2],h=f.getBoundingClientRect(),p=this.annotationTooltip.getElement().style;p.left=h.right+"px",p.top=h.bottom+"px",this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex));break}return}},u.prototype.$blurGutter=function(){if(this.activeRowIndex!==null)switch(this.activeLane){case"fold":this.$blurFoldWidget(this.activeRowIndex);break;case"annotation":this.$blurAnnotation(this.activeRowIndex);break}this.annotationTooltip.isOpen&&this.annotationTooltip.hideTooltip()},u.prototype.$isFoldWidgetVisible=function(c){var d=this.editor.isRowFullyVisible(this.$rowIndexToRow(c)),f=this.$getFoldWidget(c).style.display!=="none";return d&&f},u.prototype.$isAnnotationVisible=function(c){var d=this.editor.isRowFullyVisible(this.$rowIndexToRow(c)),f=this.$getAnnotation(c).style.display!=="none";return d&&f},u.prototype.$getFoldWidget=function(c){var d=this.lines.get(c),f=d.element;return f.childNodes[1]},u.prototype.$getAnnotation=function(c){var d=this.lines.get(c),f=d.element;return f.childNodes[2]},u.prototype.$findNearestFoldWidget=function(c){if(this.$isFoldWidgetVisible(c))return c;for(var d=0;c-d>0||c+d<this.lines.getLength()-1;){if(d++,c-d>=0&&this.$isFoldWidgetVisible(c-d))return c-d;if(c+d<=this.lines.getLength()-1&&this.$isFoldWidgetVisible(c+d))return c+d}return null},u.prototype.$findNearestAnnotation=function(c){if(this.$isAnnotationVisible(c))return c;for(var d=0;c-d>0||c+d<this.lines.getLength()-1;){if(d++,c-d>=0&&this.$isAnnotationVisible(c-d))return c-d;if(c+d<=this.lines.getLength()-1&&this.$isAnnotationVisible(c+d))return c+d}return null},u.prototype.$focusFoldWidget=function(c){if(c!=null){var d=this.$getFoldWidget(c);d.classList.add(this.editor.renderer.keyboardFocusClassName),d.focus()}},u.prototype.$focusAnnotation=function(c){if(c!=null){var d=this.$getAnnotation(c);d.classList.add(this.editor.renderer.keyboardFocusClassName),d.focus()}},u.prototype.$blurFoldWidget=function(c){var d=this.$getFoldWidget(c);d.classList.remove(this.editor.renderer.keyboardFocusClassName),d.blur()},u.prototype.$blurAnnotation=function(c){var d=this.$getAnnotation(c);d.classList.remove(this.editor.renderer.keyboardFocusClassName),d.blur()},u.prototype.$moveFoldWidgetUp=function(){for(var c=this.activeRowIndex;c>0;)if(c--,this.$isFoldWidgetVisible(c)){this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=c,this.$focusFoldWidget(this.activeRowIndex);return}},u.prototype.$moveFoldWidgetDown=function(){for(var c=this.activeRowIndex;c<this.lines.getLength()-1;)if(c++,this.$isFoldWidgetVisible(c)){this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=c,this.$focusFoldWidget(this.activeRowIndex);return}},u.prototype.$moveAnnotationUp=function(){for(var c=this.activeRowIndex;c>0;)if(c--,this.$isAnnotationVisible(c)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=c,this.$focusAnnotation(this.activeRowIndex);return}},u.prototype.$moveAnnotationDown=function(){for(var c=this.activeRowIndex;c<this.lines.getLength()-1;)if(c++,this.$isAnnotationVisible(c)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=c,this.$focusAnnotation(this.activeRowIndex);return}},u.prototype.$switchLane=function(c){switch(c){case"annotation":if(this.activeLane==="annotation")break;var d=this.$findNearestAnnotation(this.activeRowIndex);if(d==null)break;this.activeLane="annotation",this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=d,this.$focusAnnotation(this.activeRowIndex);break;case"fold":if(this.activeLane==="fold")break;var f=this.$findNearestFoldWidget(this.activeRowIndex);if(f==null)break;this.activeLane="fold",this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=f,this.$focusFoldWidget(this.activeRowIndex);break}},u.prototype.$rowIndexToRow=function(c){var d=this.lines.get(c);return d?d.row:null},u.prototype.$rowToRowIndex=function(c){for(var d=0;d<this.lines.getLength();d++){var f=this.lines.get(d);if(f.row==c)return d}return null},u}();r.GutterKeyboardHandler=a;var l=function(){function u(c,d){this.gutterKeyboardHandler=d,this.domEvent=c}return u.prototype.getKey=function(){return o.keyCodeToString(this.domEvent.keyCode)},u.prototype.getRow=function(){return this.gutterKeyboardHandler.$rowIndexToRow(this.gutterKeyboardHandler.activeRowIndex)},u.prototype.isInAnnotationLane=function(){return this.gutterKeyboardHandler.activeLane==="annotation"},u.prototype.isInFoldLane=function(){return this.gutterKeyboardHandler.activeLane==="fold"},u}();r.GutterKeyboardEvent=l}),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/keyboard/gutter_handler","ace/config","ace/clipboard","ace/lib/keys","ace/lib/event","ace/tooltip"],function(n,r,i){var o=this&&this.__values||function(D){var R=typeof Symbol=="function"&&Symbol.iterator,O=R&&D[R],B=0;if(O)return O.call(D);if(D&&typeof D.length=="number")return{next:function(){return D&&B>=D.length&&(D=void 0),{value:D&&D[B++],done:!D}}};throw new TypeError(R?"Object is not iterable.":"Symbol.iterator is not defined.")},s=n("./lib/oop"),a=n("./lib/dom"),l=n("./lib/lang"),u=n("./lib/useragent"),c=n("./keyboard/textinput").TextInput,d=n("./mouse/mouse_handler").MouseHandler,f=n("./mouse/fold_handler").FoldHandler,h=n("./keyboard/keybinding").KeyBinding,p=n("./edit_session").EditSession,m=n("./search").Search,g=n("./range").Range,y=n("./lib/event_emitter").EventEmitter,v=n("./commands/command_manager").CommandManager,w=n("./commands/default_commands").commands,E=n("./config"),_=n("./token_iterator").TokenIterator,x=n("./keyboard/gutter_handler").GutterKeyboardHandler,S=n("./config").nls,C=n("./clipboard"),A=n("./lib/keys"),k=n("./lib/event"),N=n("./tooltip").HoverTooltip,M=function(){function D(R,O,B){this.session,this.$toDestroy=[];var z=R.getContainerElement();this.container=z,this.renderer=R,this.id="editor"+ ++D.$uid,this.commands=new v(u.isMac?"mac":"win",w),typeof document=="object"&&(this.textInput=new c(R.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new d(this),new f(this)),this.keyBinding=new h(this),this.$search=new m().set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=l.delayedCall((function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}).bind(this)),this.on("change",function(W,U){U._$emitInputEvent.schedule(31)}),this.setSession(O||B&&B.session||new p("")),E.resetOptions(this),B&&this.setOptions(B),E._signal("editor",this)}return D.prototype.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0)},D.prototype.startOperation=function(R){this.session.startOperation(R)},D.prototype.endOperation=function(R){this.session.endOperation(R)},D.prototype.onStartOperation=function(R){this.curOp=this.session.curOp,this.curOp.scrollTop=this.renderer.scrollTop,this.prevOp=this.session.prevOp,R||(this.previousCommand=null)},D.prototype.onEndOperation=function(R){if(this.curOp&&this.session){if(R&&R.returnValue===!1){this.curOp=null;return}if(this._signal("beforeEndOperation"),!this.curOp)return;var O=this.curOp.command,B=O&&O.scrollIntoView;if(B){switch(B){case"center-animate":B="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var z=this.selection.getRange(),W=this.renderer.layerConfig;(z.start.row>=W.lastRow||z.end.row<=W.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break}B=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.$lastSel=this.session.selection.toJSON(),this.prevOp=this.curOp,this.curOp=null}},D.prototype.$historyTracker=function(R){if(this.$mergeUndoDeltas){var O=this.prevOp,B=this.$mergeableCommands,z=O.command&&R.command.name==O.command.name;if(R.command.name=="insertstring"){var W=R.args;this.mergeNextCommand===void 0&&(this.mergeNextCommand=!0),z=z&&this.mergeNextCommand&&(!/\s/.test(W)||/\s/.test(O.args)),this.mergeNextCommand=!0}else z=z&&B.indexOf(R.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(z=!1),z?this.session.mergeUndoDeltas=!0:B.indexOf(R.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},D.prototype.setKeyboardHandler=function(R,O){if(R&&typeof R=="string"&&R!="ace"){this.$keybindingId=R;var B=this;E.loadModule(["keybinding",R],function(z){B.$keybindingId==R&&B.keyBinding.setKeyboardHandler(z&&z.handler),O&&O()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(R),O&&O()},D.prototype.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},D.prototype.setSession=function(R){if(this.session!=R){this.curOp&&this.endOperation(),this.curOp={};var O=this.session;if(O){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange),this.session.off("startOperation",this.$onStartOperation),this.session.off("endOperation",this.$onEndOperation);var B=this.session.getSelection();B.off("changeCursor",this.$onCursorChange),B.off("changeSelection",this.$onSelectionChange)}this.session=R,R?(this.$onDocumentChange=this.onDocumentChange.bind(this),R.on("change",this.$onDocumentChange),this.renderer.setSession(R),this.$onChangeMode=this.onChangeMode.bind(this),R.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),R.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),R.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),R.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),R.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),R.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=R.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.$onStartOperation=this.onStartOperation.bind(this),this.session.on("startOperation",this.$onStartOperation),this.$onEndOperation=this.onEndOperation.bind(this),this.session.on("endOperation",this.$onEndOperation),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(R)),this._signal("changeSession",{session:R,oldSession:O}),this.curOp=null,O&&O._signal("changeEditor",{oldEditor:this}),O&&(O.$editor=null),R&&R._signal("changeEditor",{editor:this}),R&&(R.$editor=this),R&&!R.destroyed&&R.bgTokenizer.scheduleStart()}},D.prototype.getSession=function(){return this.session},D.prototype.setValue=function(R,O){return this.session.doc.setValue(R),O?O==1?this.navigateFileEnd():O==-1&&this.navigateFileStart():this.selectAll(),R},D.prototype.getValue=function(){return this.session.getValue()},D.prototype.getSelection=function(){return this.selection},D.prototype.resize=function(R){this.renderer.onResize(R)},D.prototype.setTheme=function(R,O){this.renderer.setTheme(R,O)},D.prototype.getTheme=function(){return this.renderer.getTheme()},D.prototype.setStyle=function(R){this.renderer.setStyle(R)},D.prototype.unsetStyle=function(R){this.renderer.unsetStyle(R)},D.prototype.getFontSize=function(){return this.getOption("fontSize")||a.computedStyle(this.container).fontSize},D.prototype.setFontSize=function(R){this.setOption("fontSize",R)},D.prototype.$highlightBrackets=function(){if(!this.$highlightPending){var R=this;this.$highlightPending=!0,setTimeout(function(){R.$highlightPending=!1;var O=R.session;if(!(!O||O.destroyed)){O.$bracketHighlight&&(O.$bracketHighlight.markerIds.forEach(function(X){O.removeMarker(X)}),O.$bracketHighlight=null);var B=R.getCursorPosition(),z=R.getKeyboardHandler(),W=z&&z.$getDirectionForHighlight&&z.$getDirectionForHighlight(R),U=O.getMatchingBracketRanges(B,W);if(!U){var F=new _(O,B.row,B.column),Y=F.getCurrentToken();if(Y&&/\b(?:tag-open|tag-name)/.test(Y.type)){var V=O.getMatchingTags(B);V&&(U=[V.openTagName.isEmpty()?V.openTag:V.openTagName,V.closeTagName.isEmpty()?V.closeTag:V.closeTagName])}}if(!U&&O.$mode.getMatching&&(U=O.$mode.getMatching(R.session)),!U){R.getHighlightIndentGuides()&&R.renderer.$textLayer.$highlightIndentGuide();return}var G="ace_bracket";Array.isArray(U)?U.length==1&&(G="ace_error_bracket"):U=[U],U.length==2&&(g.comparePoints(U[0].end,U[1].start)==0?U=[g.fromPoints(U[0].start,U[1].end)]:g.comparePoints(U[0].start,U[1].end)==0&&(U=[g.fromPoints(U[1].start,U[0].end)])),O.$bracketHighlight={ranges:U,markerIds:U.map(function(X){return O.addMarker(X,G,"text")})},R.getHighlightIndentGuides()&&R.renderer.$textLayer.$highlightIndentGuide()}},50)}},D.prototype.focus=function(){this.textInput.focus()},D.prototype.isFocused=function(){return this.textInput.isFocused()},D.prototype.blur=function(){this.textInput.blur()},D.prototype.onFocus=function(R){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",R))},D.prototype.onBlur=function(R){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",R))},D.prototype.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},D.prototype.onDocumentChange=function(R){var O=this.session.$useWrapMode,B=R.start.row==R.end.row?R.end.row:1/0;this.renderer.updateLines(R.start.row,B,O),this._signal("change",R),this.$cursorChange()},D.prototype.onTokenizerUpdate=function(R){var O=R.data;this.renderer.updateLines(O.first,O.last)},D.prototype.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},D.prototype.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},D.prototype.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},D.prototype.$updateHighlightActiveLine=function(){var R=this.getSession(),O;if(this.$highlightActiveLine&&((this.$selectionStyle!="line"||!this.selection.isMultiLine())&&(O=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(O=!1),this.renderer.$maxLines&&this.session.getLength()===1&&!(this.renderer.$minLines>1)&&(O=!1)),R.$highlightLineMarker&&!O)R.removeMarker(R.$highlightLineMarker.id),R.$highlightLineMarker=null;else if(!R.$highlightLineMarker&&O){var B=new g(O.row,O.column,O.row,1/0);B.id=R.addMarker(B,"ace_active-line","screenLine"),R.$highlightLineMarker=B}else O&&(R.$highlightLineMarker.start.row=O.row,R.$highlightLineMarker.end.row=O.row,R.$highlightLineMarker.start.column=O.column,R._signal("changeBackMarker"))},D.prototype.onSelectionChange=function(R){var O=this.session;if(O.$selectionMarker&&O.removeMarker(O.$selectionMarker),O.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var B=this.selection.getRange(),z=this.getSelectionStyle();O.$selectionMarker=O.addMarker(B,"ace_selection",z)}var W=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(W),this._signal("changeSelection")},D.prototype.$getSelectionHighLightRegexp=function(){var R=this.session,O=this.getSelectionRange();if(!(O.isEmpty()||O.isMultiLine())){var B=O.start.column,z=O.end.column,W=R.getLine(O.start.row),U=W.substring(B,z);if(!(U.length>5e3||!/[\w\d]/.test(U))){var F=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:U}),Y=W.substring(B-1,z+1);if(F.test(Y))return F}}},D.prototype.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},D.prototype.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},D.prototype.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},D.prototype.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},D.prototype.onChangeMode=function(R){this.renderer.updateText(),this._emit("changeMode",R)},D.prototype.onChangeWrapLimit=function(){this.renderer.updateFull()},D.prototype.onChangeWrapMode=function(){this.renderer.onResize(!0)},D.prototype.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},D.prototype.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},D.prototype.getCopyText=function(){var R=this.getSelectedText(),O=this.session.doc.getNewLineCharacter(),B=!1;if(!R&&this.$copyWithEmptySelection){B=!0;for(var z=this.selection.getAllRanges(),W=0;W<z.length;W++){var U=z[W];W&&z[W-1].start.row==U.start.row||(R+=this.session.getLine(U.start.row)+O)}}var F={text:R};return this._signal("copy",F),C.lineMode=B?F.text:!1,F.text},D.prototype.onCopy=function(){this.commands.exec("copy",this)},D.prototype.onCut=function(){this.commands.exec("cut",this)},D.prototype.onPaste=function(R,O){var B={text:R,event:O};this.commands.exec("paste",this,B)},D.prototype.$handlePaste=function(R){typeof R=="string"&&(R={text:R}),this._signal("paste",R);var O=R.text,B=O===C.lineMode,z=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)B?z.insert({row:this.selection.lead.row,column:0},O):this.insert(O);else if(B)this.selection.rangeList.ranges.forEach(function(G){z.insert({row:G.start.row,column:0},O)});else{var W=O.split(/\r\n|\r|\n/),U=this.selection.rangeList.ranges,F=W.length==2&&(!W[0]||!W[1]);if(W.length!=U.length||F)return this.commands.exec("insertstring",this,O);for(var Y=U.length;Y--;){var V=U[Y];V.isEmpty()||z.remove(V),z.insert(V.start,W[Y])}}},D.prototype.execCommand=function(R,O){return this.commands.exec(R,this,O)},D.prototype.insert=function(R,O){var B=this.session,z=B.getMode(),W=this.getCursorPosition();if(this.getBehavioursEnabled()&&!O){var U=z.transformAction(B.getState(W.row),"insertion",this,B,R);U&&(R!==U.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),R=U.text)}if(R=="	"&&(R=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&R.indexOf(`
`)==-1){var F=g.fromPoints(W,W);F.end.column+=R.length,this.session.remove(F)}}else{var F=this.getSelectionRange();W=this.session.remove(F),this.clearSelection()}if(R==`
`||R==`\r
`){var X=B.getLine(W.row);if(W.column>X.search(/\S|$/)){var Y=X.substr(W.column).search(/\S|$/);B.doc.removeInLine(W.row,W.column,W.column+Y)}}this.clearSelection();var V=W.column,G=B.getState(W.row),X=B.getLine(W.row),Z=z.checkOutdent(G,X,R);if(B.insert(W,R),U&&U.selection&&(U.selection.length==2?this.selection.setSelectionRange(new g(W.row,V+U.selection[0],W.row,V+U.selection[1])):this.selection.setSelectionRange(new g(W.row+U.selection[0],U.selection[1],W.row+U.selection[2],U.selection[3]))),this.$enableAutoIndent){if(B.getDocument().isNewLine(R)){var oe=z.getNextLineIndent(G,X.slice(0,W.column),B.getTabString());B.insert({row:W.row+1,column:0},oe)}Z&&z.autoOutdent(G,B,W.row)}},D.prototype.autoIndent=function(){for(var R=this.session,O=R.getMode(),B=this.selection.isEmpty()?[new g(0,0,R.doc.getLength()-1,0)]:this.selection.getAllRanges(),z="",W="",U="",F=R.getTabString(),Y=0;Y<B.length;Y++)for(var V=B[Y].start.row,G=B[Y].end.row,X=V;X<=G;X++){X>0&&(z=R.getState(X-1),W=R.getLine(X-1),U=O.getNextLineIndent(z,W,F));var Z=R.getLine(X),oe=O.$getIndent(Z);if(U!==oe){if(oe.length>0){var ne=new g(X,0,X,oe.length);R.remove(ne)}U.length>0&&R.insert({row:X,column:0},U)}O.autoOutdent(z,R,X)}},D.prototype.onTextInput=function(R,O){if(!O)return this.keyBinding.onTextInput(R);this.startOperation({command:{name:"insertstring"}});var B=this.applyComposition.bind(this,R,O);this.selection.rangeCount?this.forEachSelection(B):B(),this.endOperation()},D.prototype.applyComposition=function(R,O){if(O.extendLeft||O.extendRight){var B=this.selection.getRange();B.start.column-=O.extendLeft,B.end.column+=O.extendRight,B.start.column<0&&(B.start.row--,B.start.column+=this.session.getLine(B.start.row).length+1),this.selection.setRange(B),!R&&!B.isEmpty()&&this.remove()}if((R||!this.selection.isEmpty())&&this.insert(R,!0),O.restoreStart||O.restoreEnd){var B=this.selection.getRange();B.start.column-=O.restoreStart,B.end.column-=O.restoreEnd,this.selection.setRange(B)}},D.prototype.onCommandKey=function(R,O,B){return this.keyBinding.onCommandKey(R,O,B)},D.prototype.setOverwrite=function(R){this.session.setOverwrite(R)},D.prototype.getOverwrite=function(){return this.session.getOverwrite()},D.prototype.toggleOverwrite=function(){this.session.toggleOverwrite()},D.prototype.setScrollSpeed=function(R){this.setOption("scrollSpeed",R)},D.prototype.getScrollSpeed=function(){return this.getOption("scrollSpeed")},D.prototype.setDragDelay=function(R){this.setOption("dragDelay",R)},D.prototype.getDragDelay=function(){return this.getOption("dragDelay")},D.prototype.setSelectionStyle=function(R){this.setOption("selectionStyle",R)},D.prototype.getSelectionStyle=function(){return this.getOption("selectionStyle")},D.prototype.setHighlightActiveLine=function(R){this.setOption("highlightActiveLine",R)},D.prototype.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},D.prototype.setHighlightGutterLine=function(R){this.setOption("highlightGutterLine",R)},D.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},D.prototype.setHighlightSelectedWord=function(R){this.setOption("highlightSelectedWord",R)},D.prototype.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},D.prototype.setAnimatedScroll=function(R){this.renderer.setAnimatedScroll(R)},D.prototype.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},D.prototype.setShowInvisibles=function(R){this.renderer.setShowInvisibles(R)},D.prototype.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},D.prototype.setDisplayIndentGuides=function(R){this.renderer.setDisplayIndentGuides(R)},D.prototype.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},D.prototype.setHighlightIndentGuides=function(R){this.renderer.setHighlightIndentGuides(R)},D.prototype.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},D.prototype.setShowPrintMargin=function(R){this.renderer.setShowPrintMargin(R)},D.prototype.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},D.prototype.setPrintMarginColumn=function(R){this.renderer.setPrintMarginColumn(R)},D.prototype.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},D.prototype.setReadOnly=function(R){this.setOption("readOnly",R)},D.prototype.getReadOnly=function(){return this.getOption("readOnly")},D.prototype.setBehavioursEnabled=function(R){this.setOption("behavioursEnabled",R)},D.prototype.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},D.prototype.setWrapBehavioursEnabled=function(R){this.setOption("wrapBehavioursEnabled",R)},D.prototype.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},D.prototype.setShowFoldWidgets=function(R){this.setOption("showFoldWidgets",R)},D.prototype.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},D.prototype.setFadeFoldWidgets=function(R){this.setOption("fadeFoldWidgets",R)},D.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},D.prototype.remove=function(R){this.selection.isEmpty()&&(R=="left"?this.selection.selectLeft():this.selection.selectRight());var O=this.getSelectionRange();if(this.getBehavioursEnabled()){var B=this.session,z=B.getState(O.start.row),W=B.getMode().transformAction(z,"deletion",this,B,O);if(O.end.column===0){var U=B.getTextRange(O);if(U[U.length-1]==`
`){var F=B.getLine(O.end.row);/^\s+$/.test(F)&&(O.end.column=F.length)}}W&&(O=W)}this.session.remove(O),this.clearSelection()},D.prototype.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},D.prototype.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},D.prototype.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},D.prototype.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var R=this.getSelectionRange();R.start.column==R.end.column&&R.start.row==R.end.row&&(R.end.column=0,R.end.row++),this.session.remove(R),this.clearSelection()},D.prototype.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var R=this.getCursorPosition();this.insert(`
`),this.moveCursorToPosition(R)},D.prototype.setGhostText=function(R,O){this.renderer.setGhostText(R,O)},D.prototype.removeGhostText=function(){this.renderer.removeGhostText()},D.prototype.transposeLetters=function(){if(this.selection.isEmpty()){var R=this.getCursorPosition(),O=R.column;if(O!==0){var B=this.session.getLine(R.row),z,W;O<B.length?(z=B.charAt(O)+B.charAt(O-1),W=new g(R.row,O-1,R.row,O+1)):(z=B.charAt(O-1)+B.charAt(O-2),W=new g(R.row,O-2,R.row,O)),this.session.replace(W,z),this.session.selection.moveToPosition(W.end)}}},D.prototype.toLowerCase=function(){var R=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var O=this.getSelectionRange(),B=this.session.getTextRange(O);this.session.replace(O,B.toLowerCase()),this.selection.setSelectionRange(R)},D.prototype.toUpperCase=function(){var R=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var O=this.getSelectionRange(),B=this.session.getTextRange(O);this.session.replace(O,B.toUpperCase()),this.selection.setSelectionRange(R)},D.prototype.indent=function(){var R=this.session,O=this.getSelectionRange();if(O.start.row<O.end.row){var B=this.$getSelectedRows();R.indentRows(B.first,B.last,"	");return}else if(O.start.column<O.end.column){var z=R.getTextRange(O);if(!/^\s+$/.test(z)){var B=this.$getSelectedRows();R.indentRows(B.first,B.last,"	");return}}var W=R.getLine(O.start.row),U=O.start,F=R.getTabSize(),Y=R.documentToScreenColumn(U.row,U.column);if(this.session.getUseSoftTabs())var V=F-Y%F,G=l.stringRepeat(" ",V);else{for(var V=Y%F;W[O.start.column-1]==" "&&V;)O.start.column--,V--;this.selection.setSelectionRange(O),G="	"}return this.insert(G)},D.prototype.blockIndent=function(){var R=this.$getSelectedRows();this.session.indentRows(R.first,R.last,"	")},D.prototype.blockOutdent=function(){var R=this.session.getSelection();this.session.outdentRows(R.getRange())},D.prototype.sortLines=function(){for(var R=this.$getSelectedRows(),O=this.session,B=[],z=R.first;z<=R.last;z++)B.push(O.getLine(z));B.sort(function(F,Y){return F.toLowerCase()<Y.toLowerCase()?-1:F.toLowerCase()>Y.toLowerCase()?1:0});for(var W=new g(0,0,0,0),z=R.first;z<=R.last;z++){var U=O.getLine(z);W.start.row=z,W.end.row=z,W.end.column=U.length,O.replace(W,B[z-R.first])}},D.prototype.toggleCommentLines=function(){var R=this.session.getState(this.getCursorPosition().row),O=this.$getSelectedRows();this.session.getMode().toggleCommentLines(R,this.session,O.first,O.last)},D.prototype.toggleBlockComment=function(){var R=this.getCursorPosition(),O=this.session.getState(R.row),B=this.getSelectionRange();this.session.getMode().toggleBlockComment(O,this.session,B,R)},D.prototype.getNumberAt=function(R,O){var B=/[\-]?[0-9]+(?:\.[0-9]+)?/g;B.lastIndex=0;for(var z=this.session.getLine(R);B.lastIndex<O;){var W=B.exec(z);if(W.index<=O&&W.index+W[0].length>=O){var U={value:W[0],start:W.index,end:W.index+W[0].length};return U}}return null},D.prototype.modifyNumber=function(R){var O=this.selection.getCursor().row,B=this.selection.getCursor().column,z=new g(O,B-1,O,B),W=this.session.getTextRange(z);if(!isNaN(parseFloat(W))&&isFinite(W)){var U=this.getNumberAt(O,B);if(U){var F=U.value.indexOf(".")>=0?U.start+U.value.indexOf(".")+1:U.end,Y=U.start+U.value.length-F,V=parseFloat(U.value);V*=Math.pow(10,Y),F!==U.end&&B<F?R*=Math.pow(10,U.end-B-1):R*=Math.pow(10,U.end-B),V+=R,V/=Math.pow(10,Y);var G=V.toFixed(Y),X=new g(O,U.start,O,U.end);this.session.replace(X,G),this.moveCursorTo(O,Math.max(U.start+1,B+G.length-U.value.length))}}else this.toggleWord()},D.prototype.toggleWord=function(){var R=this.selection.getCursor().row,O=this.selection.getCursor().column;this.selection.selectWord();var B=this.getSelectedText(),z=this.selection.getWordRange().start.column,W=B.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),U=O-z-1;U<0&&(U=0);var F=0,Y=0,V=this;B.match(/[A-Za-z0-9_]+/)&&W.forEach(function(ae,Se){Y=F+ae.length,U>=F&&U<=Y&&(B=ae,V.selection.clearSelection(),V.moveCursorTo(R,F+z),V.selection.selectTo(R,Y+z)),F=Y});for(var G=this.$toggleWordPairs,X,Z=0;Z<G.length;Z++)for(var oe=G[Z],ne=0;ne<=1;ne++){var ie=+!ne,fe=B.match(new RegExp("^\\s?_?("+l.escapeRegExp(oe[ne])+")\\s?$","i"));if(fe){var se=B.match(new RegExp("([_]|^|\\s)("+l.escapeRegExp(fe[1])+")($|\\s)","g"));se&&(X=B.replace(new RegExp(l.escapeRegExp(oe[ne]),"i"),function(ae){var Se=oe[ie];return ae.toUpperCase()==ae?Se=Se.toUpperCase():ae.charAt(0).toUpperCase()==ae.charAt(0)&&(Se=Se.substr(0,0)+oe[ie].charAt(0).toUpperCase()+Se.substr(1)),Se}),this.insert(X),X="")}}},D.prototype.findLinkAt=function(R,O){var B,z,W=this.session.getLine(R),U=W.split(/((?:https?|ftp):\/\/[\S]+)/),F=O;F<0&&(F=0);var Y=0,V=0,G;try{for(var X=o(U),Z=X.next();!Z.done;Z=X.next()){var oe=Z.value;if(V=Y+oe.length,F>=Y&&F<=V&&oe.match(/((?:https?|ftp):\/\/[\S]+)/)){G=oe.replace(/[\s:.,'";}\]]+$/,"");break}Y=V}}catch(ne){B={error:ne}}finally{try{Z&&!Z.done&&(z=X.return)&&z.call(X)}finally{if(B)throw B.error}}return G},D.prototype.openLink=function(){var R=this.selection.getCursor(),O=this.findLinkAt(R.row,R.column);return O&&window.open(O,"_blank"),O!=null},D.prototype.removeLines=function(){var R=this.$getSelectedRows();this.session.removeFullLines(R.first,R.last),this.clearSelection()},D.prototype.duplicateSelection=function(){var R=this.selection,O=this.session,B=R.getRange(),z=R.isBackwards();if(B.isEmpty()){var W=B.start.row;O.duplicateLines(W,W)}else{var U=z?B.start:B.end,F=O.insert(U,O.getTextRange(B));B.start=U,B.end=F,R.setSelectionRange(B,z)}},D.prototype.moveLinesDown=function(){this.$moveLines(1,!1)},D.prototype.moveLinesUp=function(){this.$moveLines(-1,!1)},D.prototype.moveText=function(R,O,B){return this.session.moveText(R,O,B)},D.prototype.copyLinesUp=function(){this.$moveLines(-1,!0)},D.prototype.copyLinesDown=function(){this.$moveLines(1,!0)},D.prototype.$moveLines=function(R,O){var B,z,W=this.selection;if(!W.inMultiSelectMode||this.inVirtualSelectionMode){var U=W.toOrientedRange();B=this.$getSelectedRows(U),z=this.session.$moveLines(B.first,B.last,O?0:R),O&&R==-1&&(z=0),U.moveBy(z,0),W.fromOrientedRange(U)}else{var F=W.rangeList.ranges;W.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var Y=0,V=0,G=F.length,X=0;X<G;X++){var Z=X;F[X].moveBy(Y,0),B=this.$getSelectedRows(F[X]);for(var oe=B.first,ne=B.last;++X<G;){V&&F[X].moveBy(V,0);var ie=this.$getSelectedRows(F[X]);if(O&&ie.first!=ne)break;if(!O&&ie.first>ne+1)break;ne=ie.last}for(X--,Y=this.session.$moveLines(oe,ne,O?0:R),O&&R==-1&&(Z=X+1);Z<=X;)F[Z].moveBy(Y,0),Z++;O||(Y=0),V+=Y}W.fromOrientedRange(W.ranges[0]),W.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},D.prototype.$getSelectedRows=function(R){return R=(R||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(R.start.row),last:this.session.getRowFoldEnd(R.end.row)}},D.prototype.onCompositionStart=function(R){this.renderer.showComposition(R)},D.prototype.onCompositionUpdate=function(R){this.renderer.setCompositionText(R)},D.prototype.onCompositionEnd=function(){this.renderer.hideComposition()},D.prototype.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},D.prototype.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},D.prototype.isRowVisible=function(R){return R>=this.getFirstVisibleRow()&&R<=this.getLastVisibleRow()},D.prototype.isRowFullyVisible=function(R){return R>=this.renderer.getFirstFullyVisibleRow()&&R<=this.renderer.getLastFullyVisibleRow()},D.prototype.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},D.prototype.$moveByPage=function(R,O){var B=this.renderer,z=this.renderer.layerConfig,W=R*Math.floor(z.height/z.lineHeight);O===!0?this.selection.$moveSelection(function(){this.moveCursorBy(W,0)}):O===!1&&(this.selection.moveCursorBy(W,0),this.selection.clearSelection());var U=B.scrollTop;B.scrollBy(0,W*z.lineHeight),O!=null&&B.scrollCursorIntoView(null,.5),B.animateScrolling(U)},D.prototype.selectPageDown=function(){this.$moveByPage(1,!0)},D.prototype.selectPageUp=function(){this.$moveByPage(-1,!0)},D.prototype.gotoPageDown=function(){this.$moveByPage(1,!1)},D.prototype.gotoPageUp=function(){this.$moveByPage(-1,!1)},D.prototype.scrollPageDown=function(){this.$moveByPage(1)},D.prototype.scrollPageUp=function(){this.$moveByPage(-1)},D.prototype.scrollToRow=function(R){this.renderer.scrollToRow(R)},D.prototype.scrollToLine=function(R,O,B,z){this.renderer.scrollToLine(R,O,B,z)},D.prototype.centerSelection=function(){var R=this.getSelectionRange(),O={row:Math.floor(R.start.row+(R.end.row-R.start.row)/2),column:Math.floor(R.start.column+(R.end.column-R.start.column)/2)};this.renderer.alignCursor(O,.5)},D.prototype.getCursorPosition=function(){return this.selection.getCursor()},D.prototype.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},D.prototype.getSelectionRange=function(){return this.selection.getRange()},D.prototype.selectAll=function(){this.selection.selectAll()},D.prototype.clearSelection=function(){this.selection.clearSelection()},D.prototype.moveCursorTo=function(R,O){this.selection.moveCursorTo(R,O)},D.prototype.moveCursorToPosition=function(R){this.selection.moveCursorToPosition(R)},D.prototype.jumpToMatching=function(R,O){var B=this.getCursorPosition(),z=new _(this.session,B.row,B.column),W=z.getCurrentToken(),U=0;W&&W.type.indexOf("tag-name")!==-1&&(W=z.stepBackward());var F=W||z.stepForward();if(F){var Y,V=!1,G={},X=B.column-F.start,Z,oe={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(F.value.match(/[{}()\[\]]/g)){for(;X<F.value.length&&!V;X++)if(oe[F.value[X]])switch(Z=oe[F.value[X]]+"."+F.type.replace("rparen","lparen"),isNaN(G[Z])&&(G[Z]=0),F.value[X]){case"(":case"[":case"{":G[Z]++;break;case")":case"]":case"}":G[Z]--,G[Z]===-1&&(Y="bracket",V=!0);break}}else F.type.indexOf("tag-name")!==-1&&(isNaN(G[F.value])&&(G[F.value]=0),W.value==="<"&&U>1?G[F.value]++:W.value==="</"&&G[F.value]--,G[F.value]===-1&&(Y="tag",V=!0));V||(W=F,U++,F=z.stepForward(),X=0)}while(F&&!V);if(Y){var ne,ie;if(Y==="bracket")ne=this.session.getBracketRange(B),ne||(ne=new g(z.getCurrentTokenRow(),z.getCurrentTokenColumn()+X-1,z.getCurrentTokenRow(),z.getCurrentTokenColumn()+X-1),ie=ne.start,(O||ie.row===B.row&&Math.abs(ie.column-B.column)<2)&&(ne=this.session.getBracketRange(ie)));else if(Y==="tag"){if(!F||F.type.indexOf("tag-name")===-1)return;if(ne=new g(z.getCurrentTokenRow(),z.getCurrentTokenColumn()-2,z.getCurrentTokenRow(),z.getCurrentTokenColumn()-2),ne.compare(B.row,B.column)===0){var fe=this.session.getMatchingTags(B);fe&&(fe.openTag.contains(B.row,B.column)?(ne=fe.closeTag,ie=ne.start):(ne=fe.openTag,fe.closeTag.start.row===B.row&&fe.closeTag.start.column===B.column?ie=ne.end:ie=ne.start))}ie=ie||ne.start}ie=ne&&ne.cursor||ie,ie&&(R?ne&&O?this.selection.setRange(ne):ne&&ne.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(ie.row,ie.column):this.selection.moveTo(ie.row,ie.column))}}},D.prototype.gotoLine=function(R,O,B){this.selection.clearSelection(),this.session.unfold({row:R-1,column:O||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(R-1,O||0),this.isRowFullyVisible(R-1)||this.scrollToLine(R-1,!0,B)},D.prototype.navigateTo=function(R,O){this.selection.moveTo(R,O)},D.prototype.navigateUp=function(R){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var O=this.selection.anchor.getPosition();return this.moveCursorToPosition(O)}this.selection.clearSelection(),this.selection.moveCursorBy(-R||-1,0)},D.prototype.navigateDown=function(R){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var O=this.selection.anchor.getPosition();return this.moveCursorToPosition(O)}this.selection.clearSelection(),this.selection.moveCursorBy(R||1,0)},D.prototype.navigateLeft=function(R){if(this.selection.isEmpty())for(R=R||1;R--;)this.selection.moveCursorLeft();else{var O=this.getSelectionRange().start;this.moveCursorToPosition(O)}this.clearSelection()},D.prototype.navigateRight=function(R){if(this.selection.isEmpty())for(R=R||1;R--;)this.selection.moveCursorRight();else{var O=this.getSelectionRange().end;this.moveCursorToPosition(O)}this.clearSelection()},D.prototype.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},D.prototype.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},D.prototype.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},D.prototype.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},D.prototype.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},D.prototype.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},D.prototype.replace=function(R,O){O&&this.$search.set(O);var B=this.$search.find(this.session),z=0;return B&&(this.$tryReplace(B,R)&&(z=1),this.selection.setSelectionRange(B),this.renderer.scrollSelectionIntoView(B.start,B.end)),z},D.prototype.replaceAll=function(R,O){O&&this.$search.set(O);var B=this.$search.findAll(this.session),z=0;if(!B.length)return z;var W=this.getSelectionRange();this.selection.moveTo(0,0);for(var U=B.length-1;U>=0;--U)this.$tryReplace(B[U],R)&&z++;return this.selection.setSelectionRange(W),z},D.prototype.$tryReplace=function(R,O){var B=this.session.getTextRange(R);return O=this.$search.replace(B,O),O!==null?(R.end=this.session.replace(R,O),R):null},D.prototype.getLastSearchOptions=function(){return this.$search.getOptions()},D.prototype.find=function(R,O,B){O||(O={}),typeof R=="string"||R instanceof RegExp?O.needle=R:typeof R=="object"&&s.mixin(O,R);var z=this.selection.getRange();O.needle==null&&(R=this.session.getTextRange(z)||this.$search.$options.needle,R||(z=this.session.getWordRange(z.start.row,z.start.column),R=this.session.getTextRange(z)),this.$search.set({needle:R})),this.$search.set(O),O.start||this.$search.set({start:z});var W=this.$search.find(this.session);if(O.preventScroll)return W;if(W)return this.revealRange(W,B),W;O.backwards?z.start=z.end:z.end=z.start,this.selection.setRange(z)},D.prototype.findNext=function(R,O){this.find({skipCurrent:!0,backwards:!1},R,O)},D.prototype.findPrevious=function(R,O){this.find(R,{skipCurrent:!0,backwards:!0},O)},D.prototype.revealRange=function(R,O){this.session.unfold(R),this.selection.setSelectionRange(R);var B=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(R.start,R.end,.5),O!==!1&&this.renderer.animateScrolling(B)},D.prototype.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},D.prototype.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},D.prototype.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach(function(R){R.destroy()}),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},D.prototype.setAutoScrollEditorIntoView=function(R){if(R){var O,B=this,z=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var W=this.$scrollAnchor;W.style.cssText="position:absolute",this.container.insertBefore(W,this.container.firstChild);var U=this.on("changeSelection",function(){z=!0}),F=this.renderer.on("beforeRender",function(){z&&(O=B.renderer.container.getBoundingClientRect())}),Y=this.renderer.on("afterRender",function(){if(z&&O&&(B.isFocused()||B.searchBox&&B.searchBox.isFocused())){var V=B.renderer,G=V.$cursorLayer.$pixelPos,X=V.layerConfig,Z=G.top-X.offset;G.top>=0&&Z+O.top<0?z=!0:G.top<X.height&&G.top+O.top+X.lineHeight>window.innerHeight?z=!1:z=null,z!=null&&(W.style.top=Z+"px",W.style.left=G.left+"px",W.style.height=X.lineHeight+"px",W.scrollIntoView(z)),z=O=null}});this.setAutoScrollEditorIntoView=function(V){V||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",U),this.renderer.off("afterRender",Y),this.renderer.off("beforeRender",F))}}},D.prototype.$resetCursorStyle=function(){var R=this.$cursorStyle||"ace",O=this.renderer.$cursorLayer;O&&(O.setSmoothBlinking(/smooth/.test(R)),O.isBlinking=!this.$readOnly&&R!="wide",a.setCssClass(O.element,"ace_slim-cursors",/slim/.test(R)))},D.prototype.prompt=function(R,O,B){var z=this;E.loadModule("ace/ext/prompt",function(W){W.prompt(z,R,O,B)})},D}();M.$uid=0,M.prototype.curOp=null,M.prototype.prevOp={},M.prototype.$mergeableCommands=["backspace","del","insertstring"],M.prototype.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],s.implement(M.prototype,y),E.defineOptions(M.prototype,"editor",{selectionStyle:{set:function(D){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:D})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(D){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(D){var R=this;this.textInput.setReadOnly(D),this.$resetCursorStyle(),this.$readOnlyCallback||(this.$readOnlyCallback=function(B){var z=!1;if(B&&B.type=="keydown"){if(z=B&&B.key&&B.key.length==1&&!B.ctrlKey&&!B.metaKey,!z)return}else B&&B.type!=="exec"&&(z=!0);if(z){R.hoverTooltip||(R.hoverTooltip=new N);var W=a.createElement("div");W.textContent=S("editor.tooltip.disable-editing","Editing is disabled"),R.hoverTooltip.isOpen||R.hoverTooltip.showForRange(R,R.getSelectionRange(),W)}else R.hoverTooltip&&R.hoverTooltip.isOpen&&R.hoverTooltip.hide()});var O=this.textInput.getElement();D?(k.addListener(O,"keydown",this.$readOnlyCallback,this),this.commands.on("exec",this.$readOnlyCallback),this.commands.on("commandUnavailable",this.$readOnlyCallback)):(k.removeListener(O,"keydown",this.$readOnlyCallback),this.commands.off("exec",this.$readOnlyCallback),this.commands.off("commandUnavailable",this.$readOnlyCallback),this.hoverTooltip&&(this.hoverTooltip.destroy(),this.hoverTooltip=null))},initialValue:!1},copyWithEmptySelection:{set:function(D){this.textInput.setCopyWithEmptySelection(D)},initialValue:!1},cursorStyle:{set:function(D){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(D){this.setAutoScrollEditorIntoView(D)}},keyboardHandler:{set:function(D){this.setKeyboardHandler(D)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(D){this.session.setValue(D)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(D){this.setSession(D)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(D){this.renderer.$gutterLayer.setShowLineNumbers(D),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),D&&this.$relativeLineNumbers?I.attach(this):I.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(D){this.$showLineNumbers&&D?I.attach(this):I.detach(this)}},placeholder:{set:function(D){this.$updatePlaceholder||(this.$updatePlaceholder=(function(){var R=this.session&&(this.renderer.$composition||this.session.getLength()>1||this.session.getLine(0).length>0);if(R&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),a.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(!R&&!this.renderer.placeholderNode){this.renderer.on("afterRender",this.$updatePlaceholder),a.addCssClass(this.container,"ace_hasPlaceholder");var O=a.createElement("div");O.className="ace_placeholder",O.textContent=this.$placeholder||"",this.renderer.placeholderNode=O,this.renderer.content.appendChild(this.renderer.placeholderNode)}else!R&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"")}).bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function(D){var R={name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(z){z.blur(),z.renderer.scroller.focus()},readOnly:!0},O=function(z){if(z.target==this.renderer.scroller&&z.keyCode===A.enter){z.preventDefault();var W=this.getCursorPosition().row;this.isRowVisible(W)||this.scrollToLine(W,!0,!0),this.focus()}},B;D?(this.renderer.enableKeyboardAccessibility=!0,this.renderer.keyboardFocusClassName="ace_keyboard-focus",this.textInput.getElement().setAttribute("tabindex",-1),this.textInput.setNumberOfExtraLines(u.isWin?3:0),this.renderer.scroller.setAttribute("tabindex",0),this.renderer.scroller.setAttribute("role","group"),this.renderer.scroller.setAttribute("aria-roledescription",S("editor.scroller.aria-roledescription","editor")),this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName),this.renderer.scroller.setAttribute("aria-label",S("editor.scroller.aria-label","Editor content, press Enter to start editing, press Escape to exit")),this.renderer.scroller.addEventListener("keyup",O.bind(this)),this.commands.addCommand(R),this.renderer.$gutter.setAttribute("tabindex",0),this.renderer.$gutter.setAttribute("aria-hidden",!1),this.renderer.$gutter.setAttribute("role","group"),this.renderer.$gutter.setAttribute("aria-roledescription",S("editor.gutter.aria-roledescription","editor gutter")),this.renderer.$gutter.setAttribute("aria-label",S("editor.gutter.aria-label","Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit")),this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName),this.renderer.content.setAttribute("aria-hidden",!0),B||(B=new x(this)),B.addListener(),this.textInput.setAriaOptions({setLabel:!0})):(this.renderer.enableKeyboardAccessibility=!1,this.textInput.getElement().setAttribute("tabindex",0),this.textInput.setNumberOfExtraLines(0),this.renderer.scroller.setAttribute("tabindex",-1),this.renderer.scroller.removeAttribute("role"),this.renderer.scroller.removeAttribute("aria-roledescription"),this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName),this.renderer.scroller.removeAttribute("aria-label"),this.renderer.scroller.removeEventListener("keyup",O.bind(this)),this.commands.removeCommand(R),this.renderer.content.removeAttribute("aria-hidden"),this.renderer.$gutter.setAttribute("tabindex",-1),this.renderer.$gutter.setAttribute("aria-hidden",!0),this.renderer.$gutter.removeAttribute("role"),this.renderer.$gutter.removeAttribute("aria-roledescription"),this.renderer.$gutter.removeAttribute("aria-label"),this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName),B&&B.removeListener())},initialValue:!1},textInputAriaLabel:{set:function(D){this.$textInputAriaLabel=D},initialValue:""},enableMobileMenu:{set:function(D){this.$enableMobileMenu=D},initialValue:!0},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",useResizeObserver:"renderer",useSvgGutterIcons:"renderer",showFoldedAnnotations:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var I={getText:function(D,R){return(Math.abs(D.selection.lead.row-R)||R+1+(R<9?"":""))+""},getWidth:function(D,R,O){return Math.max(R.toString().length,(O.lastRow+1).toString().length,2)*O.characterWidth},update:function(D,R){R.renderer.$loop.schedule(R.renderer.CHANGE_GUTTER)},attach:function(D){D.renderer.$gutterLayer.$renderer=this,D.on("changeSelection",this.update),this.update(null,D)},detach:function(D){D.renderer.$gutterLayer.$renderer==this&&(D.renderer.$gutterLayer.$renderer=null),D.off("changeSelection",this.update),this.update(null,D)}};r.Editor=M}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(n,r,i){var o=n("../lib/dom"),s=function(){function a(l,u){this.element=l,this.canvasHeight=u||5e5,this.element.style.height=this.canvasHeight*2+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0}return a.prototype.moveContainer=function(l){o.translate(this.element,0,-(l.firstRowScreen*l.lineHeight%this.canvasHeight)-l.offset*this.$offsetCoefficient)},a.prototype.pageChanged=function(l,u){return Math.floor(l.firstRowScreen*l.lineHeight/this.canvasHeight)!==Math.floor(u.firstRowScreen*u.lineHeight/this.canvasHeight)},a.prototype.computeLineTop=function(l,u,c){var d=u.firstRowScreen*u.lineHeight,f=Math.floor(d/this.canvasHeight),h=c.documentToScreenRow(l,0)*u.lineHeight;return h-f*this.canvasHeight},a.prototype.computeLineHeight=function(l,u,c){return u.lineHeight*c.getRowLineCount(l)},a.prototype.getLength=function(){return this.cells.length},a.prototype.get=function(l){return this.cells[l]},a.prototype.shift=function(){this.$cacheCell(this.cells.shift())},a.prototype.pop=function(){this.$cacheCell(this.cells.pop())},a.prototype.push=function(l){if(Array.isArray(l)){this.cells.push.apply(this.cells,l);for(var u=o.createFragment(this.element),c=0;c<l.length;c++)u.appendChild(l[c].element);this.element.appendChild(u)}else this.cells.push(l),this.element.appendChild(l.element)},a.prototype.unshift=function(l){if(Array.isArray(l)){this.cells.unshift.apply(this.cells,l);for(var u=o.createFragment(this.element),c=0;c<l.length;c++)u.appendChild(l[c].element);this.element.firstChild?this.element.insertBefore(u,this.element.firstChild):this.element.appendChild(u)}else this.cells.unshift(l),this.element.insertAdjacentElement("afterbegin",l.element)},a.prototype.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},a.prototype.$cacheCell=function(l){l&&(l.element.remove(),this.cellCache.push(l))},a.prototype.createCell=function(l,u,c,d){var f=this.cellCache.pop();if(!f){var h=o.createElement("div");d&&d(h),this.element.appendChild(h),f={element:h,text:"",row:l}}return f.row=l,f},a}();r.Lines=s}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines","ace/config"],function(n,r,i){var o=n("../lib/dom"),s=n("../lib/oop"),a=n("../lib/lang"),l=n("../lib/event_emitter").EventEmitter,u=n("./lines").Lines,c=n("../config").nls,d=function(){function h(p){this.element=o.createElement("div"),this.element.className="ace_layer ace_gutter-layer",p.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new u(this.element),this.$lines.$offsetCoefficient=1}return h.prototype.setSession=function(p){this.session&&this.session.off("change",this.$updateAnnotations),this.session=p,p&&p.on("change",this.$updateAnnotations)},h.prototype.addGutterDecoration=function(p,m){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(p,m)},h.prototype.removeGutterDecoration=function(p,m){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(p,m)},h.prototype.setAnnotations=function(p){this.$annotations=[];for(var m=0;m<p.length;m++){var g=p[m],y=g.row,v=this.$annotations[y];v||(v=this.$annotations[y]={text:[],type:[],displayText:[]});var w=g.text,E=g.text,_=g.type;w=w?a.escapeHTML(w):g.html||"",E=E||g.html||"",v.text.indexOf(w)===-1&&(v.text.push(w),v.type.push(_),v.displayText.push(E));var x=g.className;x?v.className=x:_==="error"?v.className=" ace_error":_==="security"&&!/\bace_error\b/.test(v.className)?v.className=" ace_security":_==="warning"&&!/\bace_(error|security)\b/.test(v.className)?v.className=" ace_warning":_==="info"&&!v.className?v.className=" ace_info":_==="hint"&&!v.className&&(v.className=" ace_hint")}},h.prototype.$updateAnnotations=function(p){if(this.$annotations.length){var m=p.start.row,g=p.end.row-m;if(g!==0)if(p.action=="remove")this.$annotations.splice(m,g+1,null);else{var y=new Array(g+1);y.unshift(m,1),this.$annotations.splice.apply(this.$annotations,y)}}},h.prototype.update=function(p){this.config=p;var m=this.session,g=p.firstRow,y=Math.min(p.lastRow+p.gutterOffset,m.getLength()-1);this.oldLastRow=y,this.config=p,this.$lines.moveContainer(p),this.$updateCursorRow();for(var v=m.getNextFoldLine(g),w=v?v.start.row:1/0,E=null,_=-1,x=g;;){if(x>w&&(x=v.end.row+1,v=m.getNextFoldLine(x,v),w=v?v.start.row:1/0),x>y){for(;this.$lines.getLength()>_+1;)this.$lines.pop();break}E=this.$lines.get(++_),E?E.row=x:(E=this.$lines.createCell(x,p,this.session,f),this.$lines.push(E)),this.$renderCell(E,p,v,x),x++}this._signal("afterRender"),this.$updateGutterWidth(p)},h.prototype.$updateGutterWidth=function(p){var m=this.session,g=m.gutterRenderer||this.$renderer,y=m.$firstLineNumber,v=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||m.$useWrapMode)&&(v=m.getLength()+y-1);var w=g?g.getWidth(m,v,p):v.toString().length*p.characterWidth,E=this.$padding||this.$computePadding();w+=E.left+E.right,w!==this.gutterWidth&&!isNaN(w)&&(this.gutterWidth=w,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",w))},h.prototype.$updateCursorRow=function(){if(this.$highlightGutterLine){var p=this.session.selection.getCursor();this.$cursorRow!==p.row&&(this.$cursorRow=p.row)}},h.prototype.updateLineHighlight=function(){if(this.$highlightGutterLine){var p=this.session.selection.cursor.row;if(this.$cursorRow=p,!(this.$cursorCell&&this.$cursorCell.row==p)){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var m=this.$lines.cells;this.$cursorCell=null;for(var g=0;g<m.length;g++){var y=m[g];if(y.row>=this.$cursorRow){if(y.row>this.$cursorRow){var v=this.session.getFoldLine(this.$cursorRow);if(g>0&&v&&v.start.row==m[g-1].row)y=m[g-1];else break}y.element.className="ace_gutter-active-line "+y.element.className,this.$cursorCell=y;break}}}}},h.prototype.scrollLines=function(p){var m=this.config;if(this.config=p,this.$updateCursorRow(),this.$lines.pageChanged(m,p))return this.update(p);this.$lines.moveContainer(p);var g=Math.min(p.lastRow+p.gutterOffset,this.session.getLength()-1),y=this.oldLastRow;if(this.oldLastRow=g,!m||y<p.firstRow)return this.update(p);if(g<m.firstRow)return this.update(p);if(m.firstRow<p.firstRow)for(var v=this.session.getFoldedRowCount(m.firstRow,p.firstRow-1);v>0;v--)this.$lines.shift();if(y>g)for(var v=this.session.getFoldedRowCount(g+1,y);v>0;v--)this.$lines.pop();p.firstRow<m.firstRow&&this.$lines.unshift(this.$renderLines(p,p.firstRow,m.firstRow-1)),g>y&&this.$lines.push(this.$renderLines(p,y+1,g)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(p)},h.prototype.$renderLines=function(p,m,g){for(var y=[],v=m,w=this.session.getNextFoldLine(v),E=w?w.start.row:1/0;v>E&&(v=w.end.row+1,w=this.session.getNextFoldLine(v,w),E=w?w.start.row:1/0),!(v>g);){var _=this.$lines.createCell(v,p,this.session,f);this.$renderCell(_,p,w,v),y.push(_),v++}return y},h.prototype.$renderCell=function(p,m,g,y){var v=p.element,w=this.session,E=v.childNodes[0],_=v.childNodes[1],x=v.childNodes[2],S=x.firstChild,C=w.$firstLineNumber,A=w.$breakpoints,k=w.$decorations,N=w.gutterRenderer||this.$renderer,M=this.$showFoldWidgets&&w.foldWidgets,I=g?g.start.row:Number.MAX_VALUE,D=m.lineHeight+"px",R=this.$useSvgGutterIcons?"ace_gutter-cell_svg-icons ":"ace_gutter-cell ",O=this.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",B=(N?N.getText(w,y):y+C).toString();if(this.$highlightGutterLine&&(y==this.$cursorRow||g&&y<this.$cursorRow&&y>=I&&this.$cursorRow<=g.end.row)&&(R+="ace_gutter-active-line ",this.$cursorCell!=p&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=p)),A[y]&&(R+=A[y]),k[y]&&(R+=k[y]),this.$annotations[y]&&y!==I&&(R+=this.$annotations[y].className),M){var z=M[y];z==null&&(z=M[y]=w.getFoldWidget(y))}if(z){var W="ace_fold-widget ace_"+z,U=z=="start"&&y==I&&y<g.end.row;if(U){W+=" ace_closed";for(var F="",Y=!1,V=y+1;V<=g.end.row;V++)if(this.$annotations[V]){if(this.$annotations[V].className===" ace_error"){Y=!0,F=" ace_error_fold";break}this.$annotations[V].className===" ace_security"?(Y=!0,F=" ace_security_fold"):this.$annotations[V].className===" ace_warning"&&F!==" ace_security_fold"&&(Y=!0,F=" ace_warning_fold")}R+=F}else W+=" ace_open";_.className!=W&&(_.className=W),o.setStyle(_.style,"height",D),o.setStyle(_.style,"display","inline-block"),_.setAttribute("role","button"),_.setAttribute("tabindex","-1");var G=w.getFoldWidgetRange(y);G?_.setAttribute("aria-label",c("gutter.code-folding.range.aria-label","Toggle code folding, rows $0 through $1",[G.start.row+1,G.end.row+1])):g?_.setAttribute("aria-label",c("gutter.code-folding.closed.aria-label","Toggle code folding, rows $0 through $1",[g.start.row+1,g.end.row+1])):_.setAttribute("aria-label",c("gutter.code-folding.open.aria-label","Toggle code folding, row $0",[y+1])),U?(_.setAttribute("aria-expanded","false"),_.setAttribute("title",c("gutter.code-folding.closed.title","Unfold code"))):(_.setAttribute("aria-expanded","true"),_.setAttribute("title",c("gutter.code-folding.open.title","Fold code")))}else _&&(o.setStyle(_.style,"display","none"),_.setAttribute("tabindex","0"),_.removeAttribute("role"),_.removeAttribute("aria-label"));if(Y&&this.$showFoldedAnnotations){x.className="ace_gutter_annotation",S.className=O,S.className+=F,o.setStyle(S.style,"height",D),o.setStyle(x.style,"display","block"),o.setStyle(x.style,"height",D);var X;switch(F){case" ace_error_fold":X=c("gutter.annotation.aria-label.error","Error, read annotations row $0",[B]);break;case" ace_security_fold":X=c("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[B]);break;case" ace_warning_fold":X=c("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[B]);break}x.setAttribute("aria-label",X),x.setAttribute("tabindex","-1"),x.setAttribute("role","button")}else if(this.$annotations[y]){x.className="ace_gutter_annotation",S.className=O,this.$useSvgGutterIcons?S.className+=this.$annotations[y].className:v.classList.add(this.$annotations[y].className.replace(" ","")),o.setStyle(S.style,"height",D),o.setStyle(x.style,"display","block"),o.setStyle(x.style,"height",D);var X;switch(this.$annotations[y].className){case" ace_error":X=c("gutter.annotation.aria-label.error","Error, read annotations row $0",[B]);break;case" ace_security":X=c("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[B]);break;case" ace_warning":X=c("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[B]);break;case" ace_info":X=c("gutter.annotation.aria-label.info","Info, read annotations row $0",[B]);break;case" ace_hint":X=c("gutter.annotation.aria-label.hint","Suggestion, read annotations row $0",[B]);break}x.setAttribute("aria-label",X),x.setAttribute("tabindex","-1"),x.setAttribute("role","button")}else o.setStyle(x.style,"display","none"),x.removeAttribute("aria-label"),x.removeAttribute("role"),x.setAttribute("tabindex","0");return B!==E.data&&(E.data=B),v.className!=R&&(v.className=R),o.setStyle(p.element.style,"height",this.$lines.computeLineHeight(y,m,w)+"px"),o.setStyle(p.element.style,"top",this.$lines.computeLineTop(y,m,w)+"px"),p.text=B,x.style.display==="none"&&_.style.display==="none"?p.element.setAttribute("aria-hidden",!0):p.element.setAttribute("aria-hidden",!1),p},h.prototype.setHighlightGutterLine=function(p){this.$highlightGutterLine=p},h.prototype.setShowLineNumbers=function(p){this.$renderer=!p&&{getWidth:function(){return 0},getText:function(){return""}}},h.prototype.getShowLineNumbers=function(){return this.$showLineNumbers},h.prototype.setShowFoldWidgets=function(p){p?o.addCssClass(this.element,"ace_folding-enabled"):o.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=p,this.$padding=null},h.prototype.getShowFoldWidgets=function(){return this.$showFoldWidgets},h.prototype.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var p=o.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(p.borderLeftWidth)||0)+(parseInt(p.paddingLeft)||0)+1,this.$padding.right=(parseInt(p.borderRightWidth)||0)+(parseInt(p.paddingRight)||0),this.$padding},h.prototype.getRegion=function(p){var m=this.$padding||this.$computePadding(),g=this.element.getBoundingClientRect();if(p.x<m.left+g.left)return"markers";if(this.$showFoldWidgets&&p.x>g.right-m.right)return"foldWidgets"},h}();d.prototype.$fixedWidth=!1,d.prototype.$highlightGutterLine=!0,d.prototype.$renderer="",d.prototype.$showLineNumbers=!0,d.prototype.$showFoldWidgets=!0,s.implement(d.prototype,l);function f(h){var p=document.createTextNode("");h.appendChild(p);var m=o.createElement("span");h.appendChild(m);var g=o.createElement("span");h.appendChild(g);var y=o.createElement("span");return g.appendChild(y),h}r.Gutter=d}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(n,r,i){var o=n("../range").Range,s=n("../lib/dom"),a=function(){function u(c){this.element=s.createElement("div"),this.element.className="ace_layer ace_marker-layer",c.appendChild(this.element)}return u.prototype.setPadding=function(c){this.$padding=c},u.prototype.setSession=function(c){this.session=c},u.prototype.setMarkers=function(c){this.markers=c},u.prototype.elt=function(c,d){var f=this.i!=-1&&this.element.childNodes[this.i];f?this.i++:(f=document.createElement("div"),this.element.appendChild(f),this.i=-1),f.style.cssText=d,f.className=c},u.prototype.update=function(c){if(c){this.config=c,this.i=0;var d;for(var f in this.markers){var h=this.markers[f];if(!h.range){h.update(d,this,this.session,c);continue}var p=h.range.clipRows(c.firstRow,c.lastRow);if(!p.isEmpty())if(p=p.toScreenRange(this.session),h.renderer){var m=this.$getTop(p.start.row,c),g=this.$padding+p.start.column*c.characterWidth;h.renderer(d,p,g,m,c)}else h.type=="fullLine"?this.drawFullLineMarker(d,p,h.clazz,c):h.type=="screenLine"?this.drawScreenLineMarker(d,p,h.clazz,c):p.isMultiLine()?h.type=="text"?this.drawTextMarker(d,p,h.clazz,c):this.drawMultiLineMarker(d,p,h.clazz,c):this.drawSingleLineMarker(d,p,h.clazz+" ace_start ace_br15",c)}if(this.i!=-1)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},u.prototype.$getTop=function(c,d){return(c-d.firstRowScreen)*d.lineHeight},u.prototype.drawTextMarker=function(c,d,f,h,p){for(var m=this.session,g=d.start.row,y=d.end.row,v=g,w=0,E=0,_=m.getScreenLastRowColumn(v),x=new o(v,d.start.column,v,E);v<=y;v++)x.start.row=x.end.row=v,x.start.column=v==g?d.start.column:m.getRowWrapIndent(v),x.end.column=_,w=E,E=_,_=v+1<y?m.getScreenLastRowColumn(v+1):v==y?0:d.end.column,this.drawSingleLineMarker(c,x,f+(v==g?" ace_start":"")+" ace_br"+l(v==g||v==g+1&&d.start.column,w<E,E>_,v==y),h,v==y?0:1,p)},u.prototype.drawMultiLineMarker=function(c,d,f,h,p){var m=this.$padding,g=h.lineHeight,y=this.$getTop(d.start.row,h),v=m+d.start.column*h.characterWidth;if(p=p||"",this.session.$bidiHandler.isBidiRow(d.start.row)){var w=d.clone();w.end.row=w.start.row,w.end.column=this.session.getLine(w.start.row).length,this.drawBidiSingleLineMarker(c,w,f+" ace_br1 ace_start",h,null,p)}else this.elt(f+" ace_br1 ace_start","height:"+g+"px;right:"+m+"px;top:"+y+"px;left:"+v+"px;"+(p||""));if(this.session.$bidiHandler.isBidiRow(d.end.row)){var w=d.clone();w.start.row=w.end.row,w.start.column=0,this.drawBidiSingleLineMarker(c,w,f+" ace_br12",h,null,p)}else{y=this.$getTop(d.end.row,h);var E=d.end.column*h.characterWidth;this.elt(f+" ace_br12","height:"+g+"px;width:"+E+"px;top:"+y+"px;left:"+m+"px;"+(p||""))}if(g=(d.end.row-d.start.row-1)*h.lineHeight,!(g<=0)){y=this.$getTop(d.start.row+1,h);var _=(d.start.column?1:0)|(d.end.column?0:8);this.elt(f+(_?" ace_br"+_:""),"height:"+g+"px;right:"+m+"px;top:"+y+"px;left:"+m+"px;"+(p||""))}},u.prototype.drawSingleLineMarker=function(c,d,f,h,p,m){if(this.session.$bidiHandler.isBidiRow(d.start.row))return this.drawBidiSingleLineMarker(c,d,f,h,p,m);var g=h.lineHeight,y=(d.end.column+(p||0)-d.start.column)*h.characterWidth,v=this.$getTop(d.start.row,h),w=this.$padding+d.start.column*h.characterWidth;this.elt(f,"height:"+g+"px;width:"+y+"px;top:"+v+"px;left:"+w+"px;"+(m||""))},u.prototype.drawBidiSingleLineMarker=function(c,d,f,h,p,m){var g=h.lineHeight,y=this.$getTop(d.start.row,h),v=this.$padding,w=this.session.$bidiHandler.getSelections(d.start.column,d.end.column);w.forEach(function(E){this.elt(f,"height:"+g+"px;width:"+(E.width+(p||0))+"px;top:"+y+"px;left:"+(v+E.left)+"px;"+(m||""))},this)},u.prototype.drawFullLineMarker=function(c,d,f,h,p){var m=this.$getTop(d.start.row,h),g=h.lineHeight;d.start.row!=d.end.row&&(g+=this.$getTop(d.end.row,h)-m),this.elt(f,"height:"+g+"px;top:"+m+"px;left:0;right:0;"+(p||""))},u.prototype.drawScreenLineMarker=function(c,d,f,h,p){var m=this.$getTop(d.start.row,h),g=h.lineHeight;this.elt(f,"height:"+g+"px;top:"+m+"px;left:0;right:0;"+(p||""))},u}();a.prototype.$padding=0;function l(u,c,d,f){return(u?1:0)|(c?2:0)|(d?4:0)|(f?8:0)}r.Marker=a}),ace.define("ace/layer/text_util",["require","exports","module"],function(n,r,i){var o=new Set(["text","rparen","lparen"]);r.isTextToken=function(s){return o.has(s)}}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter","ace/config","ace/layer/text_util"],function(n,r,i){var o=n("../lib/oop"),s=n("../lib/dom"),a=n("../lib/lang"),l=n("./lines").Lines,u=n("../lib/event_emitter").EventEmitter,c=n("../config").nls,d=n("./text_util").isTextToken,f=function(){function h(p){this.dom=s,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",p.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new l(this.element)}return h.prototype.$updateEolChar=function(){var p=this.session.doc,m=p.getNewLineCharacter()==`
`&&p.getNewLineMode()!="windows",g=m?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=g)return this.EOL_CHAR=g,!0},h.prototype.setPadding=function(p){this.$padding=p,this.element.style.margin="0 "+p+"px"},h.prototype.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},h.prototype.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},h.prototype.$setFontMetrics=function(p){this.$fontMetrics=p,this.$fontMetrics.on("changeCharacterSize",(function(m){this._signal("changeCharacterSize",m)}).bind(this)),this.$pollSizeChanges()},h.prototype.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},h.prototype.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},h.prototype.setSession=function(p){this.session=p,p&&this.$computeTabString()},h.prototype.setShowInvisibles=function(p){return this.showInvisibles==p?!1:(this.showInvisibles=p,typeof p=="string"?(this.showSpaces=/tab/i.test(p),this.showTabs=/space/i.test(p),this.showEOL=/eol/i.test(p)):this.showSpaces=this.showTabs=this.showEOL=p,this.$computeTabString(),!0)},h.prototype.setDisplayIndentGuides=function(p){return this.displayIndentGuides==p?!1:(this.displayIndentGuides=p,this.$computeTabString(),!0)},h.prototype.setHighlightIndentGuides=function(p){return this.$highlightIndentGuides===p?!1:(this.$highlightIndentGuides=p,p)},h.prototype.$computeTabString=function(){var p=this.session.getTabSize();this.tabSize=p;for(var m=this.$tabStrings=[0],g=1;g<p+1;g++)if(this.showTabs){var y=this.dom.createElement("span");y.className="ace_invisible ace_invisible_tab",y.textContent=a.stringRepeat(this.TAB_CHAR,g),m.push(y)}else m.push(this.dom.createTextNode(a.stringRepeat(" ",g),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var v="ace_indent-guide",w=this.showSpaces?" ace_invisible ace_invisible_space":"",E=this.showSpaces?a.stringRepeat(this.SPACE_CHAR,this.tabSize):a.stringRepeat(" ",this.tabSize),_=this.showTabs?" ace_invisible ace_invisible_tab":"",x=this.showTabs?a.stringRepeat(this.TAB_CHAR,this.tabSize):E,y=this.dom.createElement("span");y.className=v+w,y.textContent=E,this.$tabStrings[" "]=y;var y=this.dom.createElement("span");y.className=v+_,y.textContent=x,this.$tabStrings["	"]=y}},h.prototype.updateLines=function(p,m,g){if(this.config.lastRow!=p.lastRow||this.config.firstRow!=p.firstRow)return this.update(p);this.config=p;for(var y=Math.max(m,p.firstRow),v=Math.min(g,p.lastRow),w=this.element.childNodes,E=0,x=p.firstRow;x<y;x++){var S=this.session.getFoldLine(x);if(S)if(S.containsRow(y)){y=S.start.row;break}else x=S.end.row;E++}for(var _=!1,x=y,S=this.session.getNextFoldLine(x),C=S?S.start.row:1/0;x>C&&(x=S.end.row+1,S=this.session.getNextFoldLine(x,S),C=S?S.start.row:1/0),!(x>v);){var A=w[E++];if(A){this.dom.removeChildren(A),this.$renderLine(A,x,x==C?S:!1),_&&(A.style.top=this.$lines.computeLineTop(x,p,this.session)+"px");var k=p.lineHeight*this.session.getRowLength(x)+"px";A.style.height!=k&&(_=!0,A.style.height=k)}x++}if(_)for(;E<this.$lines.cells.length;){var N=this.$lines.cells[E++];N.element.style.top=this.$lines.computeLineTop(N.row,p,this.session)+"px"}},h.prototype.scrollLines=function(p){var m=this.config;if(this.config=p,this.$lines.pageChanged(m,p))return this.update(p);this.$lines.moveContainer(p);var g=p.lastRow,y=m?m.lastRow:-1;if(!m||y<p.firstRow)return this.update(p);if(g<m.firstRow)return this.update(p);if(!m||m.lastRow<p.firstRow)return this.update(p);if(p.lastRow<m.firstRow)return this.update(p);if(m.firstRow<p.firstRow)for(var v=this.session.getFoldedRowCount(m.firstRow,p.firstRow-1);v>0;v--)this.$lines.shift();if(m.lastRow>p.lastRow)for(var v=this.session.getFoldedRowCount(p.lastRow+1,m.lastRow);v>0;v--)this.$lines.pop();p.firstRow<m.firstRow&&this.$lines.unshift(this.$renderLinesFragment(p,p.firstRow,m.firstRow-1)),p.lastRow>m.lastRow&&this.$lines.push(this.$renderLinesFragment(p,m.lastRow+1,p.lastRow)),this.$highlightIndentGuide()},h.prototype.$renderLinesFragment=function(p,m,g){for(var y=[],v=m,w=this.session.getNextFoldLine(v),E=w?w.start.row:1/0;v>E&&(v=w.end.row+1,w=this.session.getNextFoldLine(v,w),E=w?w.start.row:1/0),!(v>g);){var _=this.$lines.createCell(v,p,this.session),x=_.element;this.dom.removeChildren(x),s.setStyle(x.style,"height",this.$lines.computeLineHeight(v,p,this.session)+"px"),s.setStyle(x.style,"top",this.$lines.computeLineTop(v,p,this.session)+"px"),this.$renderLine(x,v,v==E?w:!1),this.$useLineGroups()?x.className="ace_line_group":x.className="ace_line",y.push(_),v++}return y},h.prototype.update=function(p){this.$lines.moveContainer(p),this.config=p;for(var m=p.firstRow,g=p.lastRow,y=this.$lines;y.getLength();)y.pop();y.push(this.$renderLinesFragment(p,m,g))},h.prototype.$renderToken=function(p,m,g,y){for(var v=this,w=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069\u2060\u2061\u2062\u2063\u2064\u206A\u206B\u206B\u206C\u206D\u206E\u206F]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,E=this.dom.createFragment(this.element),_,x=0;_=w.exec(y);){var S=_[1],C=_[2],A=_[3],k=_[4],N=_[5];if(!(!v.showSpaces&&C)){var M=x!=_.index?y.slice(x,_.index):"";if(x=_.index+_[0].length,M&&E.appendChild(this.dom.createTextNode(M,this.element)),S){var I=v.session.getScreenTabSize(m+_.index);E.appendChild(v.$tabStrings[I].cloneNode(!0)),m+=I-1}else if(C)if(v.showSpaces){var D=this.dom.createElement("span");D.className="ace_invisible ace_invisible_space",D.textContent=a.stringRepeat(v.SPACE_CHAR,C.length),E.appendChild(D)}else E.appendChild(this.dom.createTextNode(C,this.element));else if(A){var D=this.dom.createElement("span");D.className="ace_invisible ace_invisible_space ace_invalid",D.textContent=a.stringRepeat(v.SPACE_CHAR,A.length),E.appendChild(D)}else if(k){m+=1;var D=this.dom.createElement("span");D.style.width=v.config.characterWidth*2+"px",D.className=v.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",D.textContent=v.showSpaces?v.SPACE_CHAR:k,E.appendChild(D)}else if(N){m+=1;var D=this.dom.createElement("span");D.style.width=v.config.characterWidth*2+"px",D.className="ace_cjk",D.textContent=N,E.appendChild(D)}}}if(E.appendChild(this.dom.createTextNode(x?y.slice(x):y,this.element)),d(g.type))p.appendChild(E);else{var R="ace_"+g.type.replace(/\./g," ace_"),D=this.dom.createElement("span");g.type=="fold"&&(D.style.width=g.value.length*this.config.characterWidth+"px",D.setAttribute("title",c("inline-fold.closed.title","Unfold code"))),D.className=R,D.appendChild(E),p.appendChild(D)}return m+y.length},h.prototype.renderIndentGuide=function(p,m,g){var y=m.search(this.$indentGuideRe);if(y<=0||y>=g)return m;if(m[0]==" "){y-=y%this.tabSize;for(var v=y/this.tabSize,w=0;w<v;w++)p.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),m.substr(y)}else if(m[0]=="	"){for(var w=0;w<y;w++)p.appendChild(this.$tabStrings["	"].cloneNode(!0));return this.$highlightIndentGuide(),m.substr(y)}return this.$highlightIndentGuide(),m},h.prototype.$highlightIndentGuide=function(){if(!(!this.$highlightIndentGuides||!this.displayIndentGuides)){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var p=this.session.doc.$lines;if(p){var m=this.session.selection.getCursor(),g=/^\s*/.exec(this.session.doc.getLine(m.row))[0].length,y=Math.floor(g/this.tabSize);this.$highlightIndentGuideMarker={indentLevel:y,start:m.row};var v=this.session.$bracketHighlight;if(v){for(var w=this.session.$bracketHighlight.ranges,E=0;E<w.length;E++)if(m.row!==w[E].start.row){this.$highlightIndentGuideMarker.end=w[E].start.row+1,m.row>w[E].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}}if(!this.$highlightIndentGuideMarker.end&&p[m.row]!==""&&m.column===p[m.row].length){this.$highlightIndentGuideMarker.dir=1;for(var E=m.row+1;E<p.length;E++){var _=p[E],x=/^\s*/.exec(_)[0].length;if(_!==""&&(this.$highlightIndentGuideMarker.end=E,x<=g))break}}this.$renderHighlightIndentGuide()}}},h.prototype.$clearActiveIndentGuide=function(){for(var p=this.element.querySelectorAll(".ace_indent-guide-active"),m=0;m<p.length;m++)p[m].classList.remove("ace_indent-guide-active")},h.prototype.$setIndentGuideActive=function(p,m){var g=this.session.doc.getLine(p.row);if(g!==""){var y=p.element;if(p.element.classList&&p.element.classList.contains("ace_line_group"))if(p.element.childNodes.length>0)y=p.element.childNodes[0];else return;var v=y.childNodes;if(v){var w=v[m-1];w&&w.classList&&w.classList.contains("ace_indent-guide")&&w.classList.add("ace_indent-guide-active")}}},h.prototype.$renderHighlightIndentGuide=function(){if(this.$lines){var p=this.$lines.cells;this.$clearActiveIndentGuide();var m=this.$highlightIndentGuideMarker.indentLevel;if(m!==0)if(this.$highlightIndentGuideMarker.dir===1)for(var g=0;g<p.length;g++){var y=p[g];if(this.$highlightIndentGuideMarker.end&&y.row>=this.$highlightIndentGuideMarker.start+1){if(y.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(y,m)}}else for(var g=p.length-1;g>=0;g--){var y=p[g];if(this.$highlightIndentGuideMarker.end&&y.row<this.$highlightIndentGuideMarker.start){if(y.row<this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(y,m)}}}},h.prototype.$createLineElement=function(p){var m=this.dom.createElement("div");return m.className="ace_line",m.style.height=this.config.lineHeight+"px",m},h.prototype.$renderWrappedLine=function(p,m,g){var y=0,v=0,w=g[0],E=0,_=this.$createLineElement();p.appendChild(_);for(var x=0;x<m.length;x++){var S=m[x],C=S.value;if(x==0&&this.displayIndentGuides){if(y=C.length,C=this.renderIndentGuide(_,C,w),!C)continue;y-=C.length}if(y+C.length<w)E=this.$renderToken(_,E,S,C),y+=C.length;else{for(;y+C.length>=w;)E=this.$renderToken(_,E,S,C.substring(0,w-y)),C=C.substring(w-y),y=w,_=this.$createLineElement(),p.appendChild(_),_.appendChild(this.dom.createTextNode(a.stringRepeat("",g.indent),this.element)),v++,E=0,w=g[v]||Number.MAX_VALUE;C.length!=0&&(y+=C.length,E=this.$renderToken(_,E,S,C))}}g[g.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(_,E,null,"",!0)},h.prototype.$renderSimpleLine=function(p,m){for(var g=0,y=0;y<m.length;y++){var v=m[y],w=v.value;if(!(y==0&&this.displayIndentGuides&&(w=this.renderIndentGuide(p,w),!w))){if(g+w.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(p,g,v,w);g=this.$renderToken(p,g,v,w)}}},h.prototype.$renderOverflowMessage=function(p,m,g,y,v){g&&this.$renderToken(p,m,g,y.slice(0,this.MAX_LINE_LENGTH-m));var w=this.dom.createElement("span");w.className="ace_inline_button ace_keyword ace_toggle_wrap",w.textContent=v?"<hide>":"<click to see more...>",p.appendChild(w)},h.prototype.$renderLine=function(p,m,g){if(!g&&g!=!1&&(g=this.session.getFoldLine(m)),g)var y=this.$getFoldLineTokens(m,g);else var y=this.session.getTokens(m);var v=p;if(y.length){var w=this.session.getRowSplitData(m);if(w&&w.length){this.$renderWrappedLine(p,y,w);var v=p.lastChild}else{var v=p;this.$useLineGroups()&&(v=this.$createLineElement(),p.appendChild(v)),this.$renderSimpleLine(v,y)}}else this.$useLineGroups()&&(v=this.$createLineElement(),p.appendChild(v));if(this.showEOL&&v){g&&(m=g.end.row);var E=this.dom.createElement("span");E.className="ace_invisible ace_invisible_eol",E.textContent=m==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,v.appendChild(E)}},h.prototype.$getFoldLineTokens=function(p,m){var g=this.session,y=[];function v(E,_,x){for(var S=0,C=0;C+E[S].value.length<_;)if(C+=E[S].value.length,S++,S==E.length)return;if(C!=_){var A=E[S].value.substring(_-C);A.length>x-_&&(A=A.substring(0,x-_)),y.push({type:E[S].type,value:A}),C=_+A.length,S+=1}for(;C<x&&S<E.length;){var A=E[S].value;A.length+C>x?y.push({type:E[S].type,value:A.substring(0,x-C)}):y.push(E[S]),C+=A.length,S+=1}}var w=g.getTokens(p);return m.walk(function(E,_,x,S,C){E!=null?y.push({type:"fold",value:E}):(C&&(w=g.getTokens(_)),w.length&&v(w,S,x))},m.end.row,this.session.getLine(m.end.row).length),y},h.prototype.$useLineGroups=function(){return this.session.getUseWrapMode()},h}();f.prototype.EOF_CHAR="",f.prototype.EOL_CHAR_LF="",f.prototype.EOL_CHAR_CRLF="",f.prototype.EOL_CHAR=f.prototype.EOL_CHAR_LF,f.prototype.TAB_CHAR="",f.prototype.SPACE_CHAR="",f.prototype.$padding=0,f.prototype.MAX_LINE_LENGTH=1e4,f.prototype.showInvisibles=!1,f.prototype.showSpaces=!1,f.prototype.showTabs=!1,f.prototype.showEOL=!1,f.prototype.displayIndentGuides=!0,f.prototype.$highlightIndentGuides=!0,f.prototype.$tabStrings=[],f.prototype.destroy={},f.prototype.onChangeTabSize=f.prototype.$computeTabString,o.implement(f.prototype,u),r.Text=f}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(n,r,i){var o=n("../lib/dom"),s=function(){function a(l){this.element=o.createElement("div"),this.element.className="ace_layer ace_cursor-layer",l.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),o.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)}return a.prototype.$updateOpacity=function(l){for(var u=this.cursors,c=u.length;c--;)o.setStyle(u[c].style,"opacity",l?"":"0")},a.prototype.$startCssAnimation=function(){for(var l=this.cursors,u=l.length;u--;)l[u].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout((function(){this.$isAnimating&&o.addCssClass(this.element,"ace_animate-blinking")}).bind(this))},a.prototype.$stopCssAnimation=function(){this.$isAnimating=!1,o.removeCssClass(this.element,"ace_animate-blinking")},a.prototype.setPadding=function(l){this.$padding=l},a.prototype.setSession=function(l){this.session=l},a.prototype.setBlinking=function(l){l!=this.isBlinking&&(this.isBlinking=l,this.restartTimer())},a.prototype.setBlinkInterval=function(l){l!=this.blinkInterval&&(this.blinkInterval=l,this.restartTimer())},a.prototype.setSmoothBlinking=function(l){l!=this.smoothBlinking&&(this.smoothBlinking=l,o.setCssClass(this.element,"ace_smooth-blinking",l),this.$updateCursors(!0),this.restartTimer())},a.prototype.addCursor=function(){var l=o.createElement("div");return l.className="ace_cursor",this.element.appendChild(l),this.cursors.push(l),l},a.prototype.removeCursor=function(){if(this.cursors.length>1){var l=this.cursors.pop();return l.parentNode.removeChild(l),l}},a.prototype.hideCursor=function(){this.isVisible=!1,o.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},a.prototype.showCursor=function(){this.isVisible=!0,o.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},a.prototype.restartTimer=function(){var l=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,o.removeCssClass(this.element,"ace_smooth-blinking")),l(!0),!this.isBlinking||!this.blinkInterval||!this.isVisible){this.$stopCssAnimation();return}if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout((function(){this.$isSmoothBlinking&&o.addCssClass(this.element,"ace_smooth-blinking")}).bind(this))),o.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var u=(function(){this.timeoutId=setTimeout(function(){l(!1)},.6*this.blinkInterval)}).bind(this);this.intervalId=setInterval(function(){l(!0),u()},this.blinkInterval),u()}},a.prototype.getPixelPosition=function(l,u){if(!this.config||!this.session)return{left:0,top:0};l||(l=this.session.selection.getCursor());var c=this.session.documentToScreenPosition(l),d=this.$padding+(this.session.$bidiHandler.isBidiRow(c.row,l.row)?this.session.$bidiHandler.getPosLeft(c.column):c.column*this.config.characterWidth),f=(c.row-(u?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:d,top:f}},a.prototype.isCursorInView=function(l,u){return l.top>=0&&l.top<u.maxHeight},a.prototype.update=function(l){this.config=l;var u=this.session.$selectionMarkers,c=0,d=0;(u===void 0||u.length===0)&&(u=[{cursor:null}]);for(var c=0,f=u.length;c<f;c++){var h=this.getPixelPosition(u[c].cursor,!0);if(!((h.top>l.height+l.offset||h.top<0)&&c>1)){var p=this.cursors[d++]||this.addCursor(),m=p.style;this.drawCursor?this.drawCursor(p,h,l,u[c],this.session):this.isCursorInView(h,l)?(o.setStyle(m,"display","block"),o.translate(p,h.left,h.top),o.setStyle(m,"width",Math.round(l.characterWidth)+"px"),o.setStyle(m,"height",l.lineHeight+"px")):o.setStyle(m,"display","none")}}for(;this.cursors.length>d;)this.removeCursor();var g=this.session.getOverwrite();this.$setOverwrite(g),this.$pixelPos=h,this.restartTimer()},a.prototype.$setOverwrite=function(l){l!=this.overwrite&&(this.overwrite=l,l?o.addCssClass(this.element,"ace_overwrite-cursors"):o.removeCssClass(this.element,"ace_overwrite-cursors"))},a.prototype.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)},a}();s.prototype.$padding=0,s.prototype.drawCursor=null,r.Cursor=s}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(n,r,i){var o=this&&this.__extends||function(){var p=function(m,g){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,v){y.__proto__=v}||function(y,v){for(var w in v)Object.prototype.hasOwnProperty.call(v,w)&&(y[w]=v[w])},p(m,g)};return function(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");p(m,g);function y(){this.constructor=m}m.prototype=g===null?Object.create(g):(y.prototype=g.prototype,new y)}}(),s=n("./lib/oop"),a=n("./lib/dom"),l=n("./lib/event"),u=n("./lib/event_emitter").EventEmitter,c=32768,d=function(){function p(m,g){this.element=a.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+g,this.inner=a.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="",this.element.appendChild(this.inner),m.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,l.addListener(this.element,"scroll",this.onScroll.bind(this)),l.addListener(this.element,"mousedown",l.preventDefault)}return p.prototype.setVisible=function(m){this.element.style.display=m?"":"none",this.isVisible=m,this.coeff=1},p}();s.implement(d.prototype,u);var f=function(p){o(m,p);function m(g,y){var v=p.call(this,g,"-v")||this;return v.scrollTop=0,v.scrollHeight=0,y.$scrollbarWidth=v.width=a.scrollbarWidth(g.ownerDocument),v.inner.style.width=v.element.style.width=(v.width||15)+5+"px",v.$minWidth=0,v}return m.prototype.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,this.coeff!=1){var g=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-g)/(this.coeff-g)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},m.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},m.prototype.setHeight=function(g){this.element.style.height=g+"px"},m.prototype.setScrollHeight=function(g){this.scrollHeight=g,g>c?(this.coeff=c/g,g=c):this.coeff!=1&&(this.coeff=1),this.inner.style.height=g+"px"},m.prototype.setScrollTop=function(g){this.scrollTop!=g&&(this.skipEvent=!0,this.scrollTop=g,this.element.scrollTop=g*this.coeff)},m}(d);f.prototype.setInnerHeight=f.prototype.setScrollHeight;var h=function(p){o(m,p);function m(g,y){var v=p.call(this,g,"-h")||this;return v.scrollLeft=0,v.height=y.$scrollbarWidth,v.inner.style.height=v.element.style.height=(v.height||15)+5+"px",v}return m.prototype.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},m.prototype.getHeight=function(){return this.isVisible?this.height:0},m.prototype.setWidth=function(g){this.element.style.width=g+"px"},m.prototype.setInnerWidth=function(g){this.inner.style.width=g+"px"},m.prototype.setScrollWidth=function(g){this.inner.style.width=g+"px"},m.prototype.setScrollLeft=function(g){this.scrollLeft!=g&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=g)},m}(d);r.ScrollBar=f,r.ScrollBarV=f,r.ScrollBarH=h,r.VScrollBar=f,r.HScrollBar=h}),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(n,r,i){var o=this&&this.__extends||function(){var h=function(p,m){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,y){g.__proto__=y}||function(g,y){for(var v in y)Object.prototype.hasOwnProperty.call(y,v)&&(g[v]=y[v])},h(p,m)};return function(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");h(p,m);function g(){this.constructor=p}p.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}}(),s=n("./lib/oop"),a=n("./lib/dom"),l=n("./lib/event"),u=n("./lib/event_emitter").EventEmitter;a.importCssString(`.ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{
  position: absolute;
  background: rgba(128, 128, 128, 0.6);
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  border: 1px solid #bbb;
  border-radius: 2px;
  z-index: 8;
}
.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {
  position: absolute;
  z-index: 6;
  background: none;
  overflow: hidden!important;
}
.ace_editor>.ace_sb-v {
  z-index: 6;
  right: 0;
  top: 0;
  width: 12px;
}
.ace_editor>.ace_sb-v div {
  z-index: 8;
  right: 0;
  width: 100%;
}
.ace_editor>.ace_sb-h {
  bottom: 0;
  left: 0;
  height: 12px;
}
.ace_editor>.ace_sb-h div {
  bottom: 0;
  height: 100%;
}
.ace_editor>.ace_sb_grabbed {
  z-index: 8;
  background: #000;
}`,"ace_scrollbar.css",!1);var c=function(){function h(p,m){this.element=a.createElement("div"),this.element.className="ace_sb"+m,this.inner=a.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,p.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,l.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")}return h.prototype.setVisible=function(p){this.element.style.display=p?"":"none",this.isVisible=p,this.coeff=1},h}();s.implement(c.prototype,u);var d=function(h){o(p,h);function p(m,g){var y=h.call(this,m,"-v")||this;return y.scrollTop=0,y.scrollHeight=0,y.parent=m,y.width=y.VScrollWidth,y.renderer=g,y.inner.style.width=y.element.style.width=(y.width||15)+"px",y.$minWidth=0,y}return p.prototype.onMouseDown=function(m,g){if(m==="mousedown"&&!(l.getButton(g)!==0||g.detail===2)){if(g.target===this.inner){var y=this,v=g.clientY,w=function(k){v=k.clientY},E=function(){clearInterval(C)},_=g.clientY,x=this.thumbTop,S=function(){if(v!==void 0){var k=y.scrollTopFromThumbTop(x+v-_);k!==y.scrollTop&&y._emit("scroll",{data:k})}};l.capture(this.inner,w,E);var C=setInterval(S,20);return l.preventDefault(g)}var A=g.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(A)}),l.preventDefault(g)}},p.prototype.getHeight=function(){return this.height},p.prototype.scrollTopFromThumbTop=function(m){var g=m*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return g=g>>0,g<0?g=0:g>this.pageHeight-this.viewHeight&&(g=this.pageHeight-this.viewHeight),g},p.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},p.prototype.setHeight=function(m){this.height=Math.max(0,m),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},p.prototype.setScrollHeight=function(m,g){this.pageHeight===m&&!g||(this.pageHeight=m,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},p.prototype.setScrollTop=function(m){this.scrollTop=m,m<0&&(m=0),this.thumbTop=m*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"},p}(c);d.prototype.setInnerHeight=d.prototype.setScrollHeight;var f=function(h){o(p,h);function p(m,g){var y=h.call(this,m,"-h")||this;return y.scrollLeft=0,y.scrollWidth=0,y.height=y.HScrollHeight,y.inner.style.height=y.element.style.height=(y.height||12)+"px",y.renderer=g,y}return p.prototype.onMouseDown=function(m,g){if(m==="mousedown"&&!(l.getButton(g)!==0||g.detail===2)){if(g.target===this.inner){var y=this,v=g.clientX,w=function(k){v=k.clientX},E=function(){clearInterval(C)},_=g.clientX,x=this.thumbLeft,S=function(){if(v!==void 0){var k=y.scrollLeftFromThumbLeft(x+v-_);k!==y.scrollLeft&&y._emit("scroll",{data:k})}};l.capture(this.inner,w,E);var C=setInterval(S,20);return l.preventDefault(g)}var A=g.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(A)}),l.preventDefault(g)}},p.prototype.getHeight=function(){return this.isVisible?this.height:0},p.prototype.scrollLeftFromThumbLeft=function(m){var g=m*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return g=g>>0,g<0?g=0:g>this.pageWidth-this.viewWidth&&(g=this.pageWidth-this.viewWidth),g},p.prototype.setWidth=function(m){this.width=Math.max(0,m),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},p.prototype.setScrollWidth=function(m,g){this.pageWidth===m&&!g||(this.pageWidth=m,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},p.prototype.setScrollLeft=function(m){this.scrollLeft=m,m<0&&(m=0),this.thumbLeft=m*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"},p}(c);f.prototype.setInnerWidth=f.prototype.setScrollWidth,r.ScrollBar=d,r.ScrollBarV=d,r.ScrollBarH=f,r.VScrollBar=d,r.HScrollBar=f}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(n,r,i){var o=n("./lib/event"),s=function(){function a(l,u){this.onRender=l,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=u||window;var c=this;this._flush=function(d){c.pending=!1;var f=c.changes;if(f&&(o.blockIdle(100),c.changes=0,c.onRender(f)),c.changes){if(c.$recursionLimit--<0)return;c.schedule()}else c.$recursionLimit=2}}return a.prototype.schedule=function(l){this.changes=this.changes|l,this.changes&&!this.pending&&(o.nextFrame(this._flush),this.pending=!0)},a.prototype.clear=function(l){var u=this.changes;return this.changes=0,u},a}();r.RenderLoop=s}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(n,r,i){var o=n("../lib/oop"),s=n("../lib/dom"),a=n("../lib/lang"),l=n("../lib/event"),u=n("../lib/useragent"),c=n("../lib/event_emitter").EventEmitter,d=512,f=typeof ResizeObserver=="function",h=200,p=function(){function m(g){this.el=s.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=s.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=s.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),g.appendChild(this.el),this.$measureNode.textContent=a.stringRepeat("X",d),this.$characterSize={width:0,height:0},f?this.$addObserver():this.checkForSizeChanges()}return m.prototype.$setMeasureNodeStyles=function(g,y){g.width=g.height="auto",g.left=g.top="0px",g.visibility="hidden",g.position="absolute",g.whiteSpace="pre",u.isIE<8?g["font-family"]="inherit":g.font="inherit",g.overflow=y?"hidden":"visible"},m.prototype.checkForSizeChanges=function(g){if(g===void 0&&(g=this.$measureSizes()),g&&(this.$characterSize.width!==g.width||this.$characterSize.height!==g.height)){this.$measureNode.style.fontWeight="bold";var y=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=g,this.charSizes=Object.create(null),this.allowBoldFonts=y&&y.width===g.width&&y.height===g.height,this._emit("changeCharacterSize",{data:g})}},m.prototype.$addObserver=function(){var g=this;this.$observer=new window.ResizeObserver(function(y){g.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},m.prototype.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var g=this;return this.$pollSizeChangesTimer=l.onIdle(function y(){g.checkForSizeChanges(),l.onIdle(y,500)},500)},m.prototype.setPolling=function(g){g?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},m.prototype.$measureSizes=function(g){var y={height:(g||this.$measureNode).clientHeight,width:(g||this.$measureNode).clientWidth/d};return y.width===0||y.height===0?null:y},m.prototype.$measureCharWidth=function(g){this.$main.textContent=a.stringRepeat(g,d);var y=this.$main.getBoundingClientRect();return y.width/d},m.prototype.getCharacterWidth=function(g){var y=this.charSizes[g];return y===void 0&&(y=this.charSizes[g]=this.$measureCharWidth(g)/this.$characterSize.width),y},m.prototype.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},m.prototype.$getZoom=function(g){return!g||!g.parentElement?1:(Number(window.getComputedStyle(g).zoom)||1)*this.$getZoom(g.parentElement)},m.prototype.$initTransformMeasureNodes=function(){var g=function(y,v){return["div",{style:"position: absolute;top:"+y+"px;left:"+v+"px;"}]};this.els=s.buildDom([g(0,0),g(h,0),g(0,h),g(h,h)],this.el)},m.prototype.transformCoordinates=function(g,y){if(g){var v=this.$getZoom(this.el);g=x(1/v,g)}function w(U,F,Y){var V=U[1]*F[0]-U[0]*F[1];return[(-F[1]*Y[0]+F[0]*Y[1])/V,(+U[1]*Y[0]-U[0]*Y[1])/V]}function E(U,F){return[U[0]-F[0],U[1]-F[1]]}function _(U,F){return[U[0]+F[0],U[1]+F[1]]}function x(U,F){return[U*F[0],U*F[1]]}this.els||this.$initTransformMeasureNodes();function S(U){var F=U.getBoundingClientRect();return[F.left,F.top]}var C=S(this.els[0]),A=S(this.els[1]),k=S(this.els[2]),N=S(this.els[3]),M=w(E(N,A),E(N,k),E(_(A,k),_(N,C))),I=x(1+M[0],E(A,C)),D=x(1+M[1],E(k,C));if(y){var R=y,O=M[0]*R[0]/h+M[1]*R[1]/h+1,B=_(x(R[0],I),x(R[1],D));return _(x(1/O/h,B),C)}var z=E(g,C),W=w(E(I,x(M[0],z)),E(D,x(M[1],z)),z);return x(h,W)},m}();p.prototype.$characterSize={width:0,height:0},o.implement(p.prototype,c),r.FontMetrics=p}),ace.define("ace/css/editor-css",["require","exports","module"],function(n,r,i){i.exports=`
.ace_br1 {border-top-left-radius    : 3px;}
.ace_br2 {border-top-right-radius   : 3px;}
.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}
.ace_br4 {border-bottom-right-radius: 3px;}
.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}
.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}
.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}
.ace_br8 {border-bottom-left-radius : 3px;}
.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}
.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}
.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}
.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}


.ace_editor {
    position: relative;
    overflow: hidden;
    padding: 0;
    font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'Source Code Pro', 'source-code-pro', monospace;
    direction: ltr;
    text-align: left;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
    forced-color-adjust: none;
}

.ace_scroller {
    position: absolute;
    overflow: hidden;
    top: 0;
    bottom: 0;
    background-color: inherit;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    cursor: text;
}

.ace_content {
    position: absolute;
    box-sizing: border-box;
    min-width: 100%;
    contain: style size layout;
    font-variant-ligatures: no-common-ligatures;
}
.ace_invisible {
    font-variant-ligatures: none;
}

.ace_keyboard-focus:focus {
    box-shadow: inset 0 0 0 2px #5E9ED6;
    outline: none;
}

.ace_dragging .ace_scroller:before{
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    content: '';
    background: rgba(250, 250, 250, 0.01);
    z-index: 1000;
}
.ace_dragging.ace_dark .ace_scroller:before{
    background: rgba(0, 0, 0, 0.01);
}

.ace_gutter {
    position: absolute;
    overflow : hidden;
    width: auto;
    top: 0;
    bottom: 0;
    left: 0;
    cursor: default;
    z-index: 4;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    contain: style size layout;
}

.ace_gutter-active-line {
    position: absolute;
    left: 0;
    right: 0;
}

.ace_scroller.ace_scroll-left:after {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;
    pointer-events: none;
}

.ace_gutter-cell, .ace_gutter-cell_svg-icons {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    padding-left: 19px;
    padding-right: 6px;
    background-repeat: no-repeat;
}

.ace_gutter-cell_svg-icons .ace_gutter_annotation {
    margin-left: -14px;
    float: left;
}

.ace_gutter-cell .ace_gutter_annotation {
    margin-left: -19px;
    float: left;
}

.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold, .ace_gutter-cell.ace_security, .ace_icon.ace_security, .ace_icon.ace_security_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_info, .ace_icon.ace_info, .ace_gutter-cell.ace_hint, .ace_icon.ace_hint {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info, .ace_dark .ace_gutter-cell.ace_hint, .ace_dark .ace_icon.ace_hint {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");
}

.ace_icon_svg.ace_error {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_security {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0iZGFya29yYW5nZSIgZmlsbD0ibm9uZSIgc2hhcGUtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iPgogICAgICAgIDxwYXRoIGNsYXNzPSJzdHJva2UtbGluZWpvaW4tcm91bmQiIGQ9Ik04IDE0LjgzMDdDOCAxNC44MzA3IDIgMTIuOTA0NyAyIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOEM3Ljk4OTk5IDEuMzQ5MTggMTAuNjkgMy4yNjU0OCAxNCAzLjI2NTQ4VjguMDg5OTJDMTQgMTIuOTA0NyA4IDE0LjgzMDcgOCAxNC44MzA3WiIvPgogICAgICAgIDxwYXRoIGQ9Ik0yIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOCIvPgogICAgICAgIDxwYXRoIGQ9Ik0xMy45OSA4LjA4OTkyVjMuMjY1NDhDMTAuNjggMy4yNjU0OCA4IDEuMzQ5MTggOCAxLjM0OTE4Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggNFY5Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggMTBWMTIiLz4KICAgIDwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_warning {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: darkorange;
}
.ace_icon_svg.ace_info {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: royalblue;
}
.ace_icon_svg.ace_hint {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0ic2lsdmVyIiBmaWxsPSJub25lIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTYgMTRIMTAiLz4KICAgICAgICA8cGF0aCBkPSJNOCAxMUg5QzkgOS40NzAwMiAxMiA4LjU0MDAyIDEyIDUuNzYwMDJDMTIuMDIgNC40MDAwMiAxMS4zOSAzLjM2MDAyIDEwLjQzIDIuNjcwMDJDOSAxLjY0MDAyIDcuMDAwMDEgMS42NDAwMiA1LjU3MDAxIDIuNjcwMDJDNC42MTAwMSAzLjM2MDAyIDMuOTggNC40MDAwMiA0IDUuNzYwMDJDNCA4LjU0MDAyIDcuMDAwMDEgOS40NzAwMiA3LjAwMDAxIDExSDhaIi8+CiAgICA8L2c+Cjwvc3ZnPg==");
    background-color: silver;
}

.ace_icon_svg.ace_error_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_security_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTcgMTQiIGZpbGw9Im5vbmUiPgogICAgPHBhdGggZD0iTTEwLjAwMDEgMTMuNjk5MkMxMC4wMDAxIDEzLjY5OTIgMTEuOTI0MSAxMy40NzYzIDEzIDEyLjY5OTJDMTQuNDEzOSAxMS42NzgxIDE2IDEwLjUgMTYuMTI1MSA2LjgxMTI2VjIuNTg5ODdDMTYuMTI1MSAyLjU0NzY4IDE2LjEyMjEgMi41MDYxOSAxNi4xMTY0IDIuNDY1NTlWMS43MTQ4NUgxNS4yNDE0TDE1LjIzMDcgMS43MTQ4NEwxNC42MjUxIDEuNjk5MjJWNi44MTEyM0MxNC42MjUxIDguNTEwNjEgMTQuNjI1MSA5LjQ2NDYxIDEyLjc4MjQgMTEuNzIxQzEyLjE1ODYgMTIuNDg0OCAxMC4wMDAxIDEzLjY5OTIgMTAuMDAwMSAxMy42OTkyWiIgZmlsbD0iY3JpbXNvbiIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTcuMzM2MDkgMC4zNjc0NzVDNy4wMzIxNCAwLjE1MjY1MiA2LjYyNTQ4IDAuMTUzNjE0IDYuMzIyNTMgMC4zNjk5OTdMNi4zMDg2OSAwLjM3OTU1NEM2LjI5NTUzIDAuMzg4NTg4IDYuMjczODggMC40MDMyNjYgNi4yNDQxNyAwLjQyMjc4OUM2LjE4NDcxIDAuNDYxODYgNi4wOTMyMSAwLjUyMDE3MSA1Ljk3MzEzIDAuNTkxMzczQzUuNzMyNTEgMC43MzQwNTkgNS4zNzk5IDAuOTI2ODY0IDQuOTQyNzkgMS4xMjAwOUM0LjA2MTQ0IDEuNTA5NyAyLjg3NTQxIDEuODgzNzcgMS41ODk4NCAxLjg4Mzc3SDAuNzE0ODQ0VjIuNzU4NzdWNi45ODAxNUMwLjcxNDg0NCA5LjQ5Mzc0IDIuMjg4NjYgMTEuMTk3MyAzLjcwMjU0IDEyLjIxODVDNC40MTg0NSAxMi43MzU1IDUuMTI4NzQgMTMuMTA1MyA1LjY1NzMzIDEzLjM0NTdDNS45MjI4NCAxMy40NjY0IDYuMTQ1NjYgMTMuNTU1OSA2LjMwNDY1IDEzLjYxNjFDNi4zODQyMyAxMy42NDYyIDYuNDQ4MDUgMTMuNjY5IDYuNDkzNDkgMTMuNjg0OEM2LjUxNjIyIDEzLjY5MjcgNi41MzQzOCAxMy42OTg5IDYuNTQ3NjQgMTMuNzAzM0w2LjU2MzgyIDEzLjcwODdMNi41NjkwOCAxMy43MTA0TDYuNTcwOTkgMTMuNzExTDYuODM5ODQgMTMuNzUzM0w2LjU3MjQyIDEzLjcxMTVDNi43NDYzMyAxMy43NjczIDYuOTMzMzUgMTMuNzY3MyA3LjEwNzI3IDEzLjcxMTVMNy4xMDg3IDEzLjcxMUw3LjExMDYxIDEzLjcxMDRMNy4xMTU4NyAxMy43MDg3TDcuMTMyMDUgMTMuNzAzM0M3LjE0NTMxIDEzLjY5ODkgNy4xNjM0NiAxMy42OTI3IDcuMTg2MTkgMTMuNjg0OEM3LjIzMTY0IDEzLjY2OSA3LjI5NTQ2IDEzLjY0NjIgNy4zNzUwMyAxMy42MTYxQzcuNTM0MDMgMTMuNTU1OSA3Ljc1Njg1IDEzLjQ2NjQgOC4wMjIzNiAxMy4zNDU3QzguNTUwOTUgMTMuMTA1MyA5LjI2MTIzIDEyLjczNTUgOS45NzcxNSAxMi4yMTg1QzExLjM5MSAxMS4xOTczIDEyLjk2NDggOS40OTM3NyAxMi45NjQ4IDYuOTgwMThWMi43NTg4QzEyLjk2NDggMi43MTY2IDEyLjk2MTkgMi42NzUxMSAxMi45NTYxIDIuNjM0NTFWMS44ODM3N0gxMi4wODExQzEyLjA3NzUgMS44ODM3NyAxMi4wNzQgMS44ODM3NyAxMi4wNzA0IDEuODgzNzdDMTAuNzk3OSAxLjg4MDA0IDkuNjE5NjIgMS41MTEwMiA4LjczODk0IDEuMTI0ODZDOC43MzUzNCAxLjEyMzI3IDguNzMxNzQgMS4xMjE2OCA4LjcyODE0IDEuMTIwMDlDOC4yOTEwMyAwLjkyNjg2NCA3LjkzODQyIDAuNzM0MDU5IDcuNjk3NzkgMC41OTEzNzNDNy41Nzc3MiAwLjUyMDE3MSA3LjQ4NjIyIDAuNDYxODYgNy40MjY3NiAwLjQyMjc4OUM3LjM5NzA1IDAuNDAzMjY2IDcuMzc1MzkgMC4zODg1ODggNy4zNjIyNCAwLjM3OTU1NEw3LjM0ODk2IDAuMzcwMzVDNy4zNDg5NiAwLjM3MDM1IDcuMzQ4NDcgMC4zNzAwMiA3LjM0NTYzIDAuMzc0MDU0TDcuMzM3NzkgMC4zNjg2NTlMNy4zMzYwOSAwLjM2NzQ3NVpNOC4wMzQ3MSAyLjcyNjkxQzguODYwNCAzLjA5MDYzIDkuOTYwNjYgMy40NjMwOSAxMS4yMDYxIDMuNTg5MDdWNi45ODAxNUgxMS4yMTQ4QzExLjIxNDggOC42Nzk1MyAxMC4xNjM3IDkuOTI1MDcgOC45NTI1NCAxMC43OTk4QzguMzU1OTUgMTEuMjMwNiA3Ljc1Mzc0IDExLjU0NTQgNy4yOTc5NiAxMS43NTI3QzcuMTE2NzEgMTEuODM1MSA2Ljk2MDYyIDExLjg5OTYgNi44Mzk4NCAxMS45NDY5QzYuNzE5MDYgMTEuODk5NiA2LjU2Mjk3IDExLjgzNTEgNi4zODE3MyAxMS43NTI3QzUuOTI1OTUgMTEuNTQ1NCA1LjMyMzczIDExLjIzMDYgNC43MjcxNSAxMC43OTk4QzMuNTE2MDMgOS45MjUwNyAyLjQ2NDg0IDguNjc5NTUgMi40NjQ4NCA2Ljk4MDE4VjMuNTg5MDlDMy43MTczOCAzLjQ2MjM5IDQuODIzMDggMy4wODYzOSA1LjY1MDMzIDIuNzIwNzFDNi4xNDIyOCAyLjUwMzI0IDYuNTQ0ODUgMi4yODUzNyA2LjgzMjU0IDIuMTE2MjRDNy4xMjE4MSAyLjI4NTM1IDcuNTI3IDIuNTAzNTIgOC4wMjE5NiAyLjcyMTMxQzguMDI2MiAyLjcyMzE3IDguMDMwNDUgMi43MjUwNCA4LjAzNDcxIDIuNzI2OTFaTTUuOTY0ODQgMy40MDE0N1Y3Ljc3NjQ3SDcuNzE0ODRWMy40MDE0N0g1Ljk2NDg0Wk01Ljk2NDg0IDEwLjQwMTVWOC42NTE0N0g3LjcxNDg0VjEwLjQwMTVINS45NjQ4NFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_warning_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");
    background-color: darkorange;
}

.ace_scrollbar {
    contain: strict;
    position: absolute;
    right: 0;
    bottom: 0;
    z-index: 6;
}

.ace_scrollbar-inner {
    position: absolute;
    cursor: text;
    left: 0;
    top: 0;
}

.ace_scrollbar-v{
    overflow-x: hidden;
    overflow-y: scroll;
    top: 0;
}

.ace_scrollbar-h {
    overflow-x: scroll;
    overflow-y: hidden;
    left: 0;
}

.ace_print-margin {
    position: absolute;
    height: 100%;
}

.ace_text-input {
    position: absolute;
    z-index: 0;
    width: 0.5em;
    height: 1em;
    opacity: 0;
    background: transparent;
    -moz-appearance: none;
    appearance: none;
    border: none;
    resize: none;
    outline: none;
    overflow: hidden;
    font: inherit;
    padding: 0 1px;
    margin: 0 -1px;
    contain: strict;
    -ms-user-select: text;
    -moz-user-select: text;
    -webkit-user-select: text;
    user-select: text;
    /*with \`pre-line\` chrome inserts &nbsp; instead of space*/
    white-space: pre!important;
}
.ace_text-input.ace_composition {
    background: transparent;
    color: inherit;
    z-index: 1000;
    opacity: 1;
}
.ace_composition_placeholder { color: transparent }
.ace_composition_marker { 
    border-bottom: 1px solid;
    position: absolute;
    border-radius: 0;
    margin-top: 1px;
}

[ace_nocontext=true] {
    transform: none!important;
    filter: none!important;
    clip-path: none!important;
    mask : none!important;
    contain: none!important;
    perspective: none!important;
    mix-blend-mode: initial!important;
    z-index: auto;
}

.ace_layer {
    z-index: 1;
    position: absolute;
    overflow: hidden;
    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/
    word-wrap: normal;
    white-space: pre;
    height: 100%;
    width: 100%;
    box-sizing: border-box;
    /* setting pointer-events: auto; on node under the mouse, which changes
        during scroll, will break mouse wheel scrolling in Safari */
    pointer-events: none;
}

.ace_gutter-layer {
    position: relative;
    width: auto;
    text-align: right;
    pointer-events: auto;
    height: 1000000px;
    contain: style size layout;
}

.ace_text-layer {
    font: inherit !important;
    position: absolute;
    height: 1000000px;
    width: 1000000px;
    contain: style size layout;
}

.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {
    contain: style size layout;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
}

.ace_hidpi .ace_text-layer,
.ace_hidpi .ace_gutter-layer,
.ace_hidpi .ace_content,
.ace_hidpi .ace_gutter {
    contain: strict;
}
.ace_hidpi .ace_text-layer > .ace_line, 
.ace_hidpi .ace_text-layer > .ace_line_group {
    contain: strict;
}

.ace_cjk {
    display: inline-block;
    text-align: center;
}

.ace_cursor-layer {
    z-index: 4;
}

.ace_cursor {
    z-index: 4;
    position: absolute;
    box-sizing: border-box;
    border-left: 2px solid;
    /* workaround for smooth cursor repaintng whole screen in chrome */
    transform: translatez(0);
}

.ace_multiselect .ace_cursor {
    border-left-width: 1px;
}

.ace_slim-cursors .ace_cursor {
    border-left-width: 1px;
}

.ace_overwrite-cursors .ace_cursor {
    border-left-width: 0;
    border-bottom: 1px solid;
}

.ace_hidden-cursors .ace_cursor {
    opacity: 0.2;
}

.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {
    opacity: 0;
}

.ace_smooth-blinking .ace_cursor {
    transition: opacity 0.18s;
}

.ace_animate-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: step-end;
    animation-name: blink-ace-animate;
    animation-iteration-count: infinite;
}

.ace_animate-blinking.ace_smooth-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: ease-in-out;
    animation-name: blink-ace-animate-smooth;
}
    
@keyframes blink-ace-animate {
    from, to { opacity: 1; }
    60% { opacity: 0; }
}

@keyframes blink-ace-animate-smooth {
    from, to { opacity: 1; }
    45% { opacity: 1; }
    60% { opacity: 0; }
    85% { opacity: 0; }
}

.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {
    position: absolute;
    z-index: 3;
}

.ace_marker-layer .ace_selection {
    position: absolute;
    z-index: 5;
}

.ace_marker-layer .ace_bracket {
    position: absolute;
    z-index: 6;
}

.ace_marker-layer .ace_error_bracket {
    position: absolute;
    border-bottom: 1px solid #DE5555;
    border-radius: 0;
}

.ace_marker-layer .ace_active-line {
    position: absolute;
    z-index: 2;
}

.ace_marker-layer .ace_selected-word {
    position: absolute;
    z-index: 4;
    box-sizing: border-box;
}

.ace_line .ace_fold {
    box-sizing: border-box;

    display: inline-block;
    height: 11px;
    margin-top: -2px;
    vertical-align: middle;

    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");
    background-repeat: no-repeat, repeat-x;
    background-position: center center, top left;
    color: transparent;

    border: 1px solid black;
    border-radius: 2px;

    cursor: pointer;
    pointer-events: auto;
}

.ace_dark .ace_fold {
}

.ace_fold:hover{
    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");
}

.ace_tooltip {
    background-color: #f5f5f5;
    border: 1px solid gray;
    border-radius: 1px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    color: black;
    padding: 3px 4px;
    position: fixed;
    z-index: 999999;
    box-sizing: border-box;
    cursor: default;
    white-space: pre-wrap;
    word-wrap: break-word;
    line-height: normal;
    font-style: normal;
    font-weight: normal;
    letter-spacing: normal;
    pointer-events: none;
    overflow: auto;
    max-width: min(33em, 66vw);
    overscroll-behavior: contain;
}
.ace_tooltip pre {
    white-space: pre-wrap;
}

.ace_tooltip.ace_dark {
    background-color: #636363;
    color: #fff;
}

.ace_tooltip:focus {
    outline: 1px solid #5E9ED6;
}

.ace_icon {
    display: inline-block;
    width: 18px;
    vertical-align: top;
}

.ace_icon_svg {
    display: inline-block;
    width: 12px;
    vertical-align: top;
    -webkit-mask-repeat: no-repeat;
    -webkit-mask-size: 12px;
    -webkit-mask-position: center;
}

.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {
    padding-right: 13px;
}

.ace_fold-widget {
    box-sizing: border-box;

    margin: 0 -12px 0 1px;
    display: none;
    width: 11px;
    vertical-align: top;

    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: center;

    border-radius: 3px;
    
    border: 1px solid transparent;
    cursor: pointer;
}

.ace_folding-enabled .ace_fold-widget {
    display: inline-block;   
}

.ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");
}

.ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");
}

.ace_fold-widget:hover {
    border: 1px solid rgba(0, 0, 0, 0.3);
    background-color: rgba(255, 255, 255, 0.2);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);
}

.ace_fold-widget:active {
    border: 1px solid rgba(0, 0, 0, 0.4);
    background-color: rgba(0, 0, 0, 0.05);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);
}
/**
 * Dark version for fold widgets
 */
.ace_dark .ace_fold-widget {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");
}
.ace_dark .ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget:hover {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
    background-color: rgba(255, 255, 255, 0.1);
}
.ace_dark .ace_fold-widget:active {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
}

.ace_inline_button {
    border: 1px solid lightgray;
    display: inline-block;
    margin: -1px 8px;
    padding: 0 5px;
    pointer-events: auto;
    cursor: pointer;
}
.ace_inline_button:hover {
    border-color: gray;
    background: rgba(200,200,200,0.2);
    display: inline-block;
    pointer-events: auto;
}

.ace_fold-widget.ace_invalid {
    background-color: #FFB4B4;
    border-color: #DE5555;
}

.ace_fade-fold-widgets .ace_fold-widget {
    transition: opacity 0.4s ease 0.05s;
    opacity: 0;
}

.ace_fade-fold-widgets:hover .ace_fold-widget {
    transition: opacity 0.05s ease 0.05s;
    opacity:1;
}

.ace_underline {
    text-decoration: underline;
}

.ace_bold {
    font-weight: bold;
}

.ace_nobold .ace_bold {
    font-weight: normal;
}

.ace_italic {
    font-style: italic;
}


.ace_error-marker {
    background-color: rgba(255, 0, 0,0.2);
    position: absolute;
    z-index: 9;
}

.ace_highlight-marker {
    background-color: rgba(255, 255, 0,0.2);
    position: absolute;
    z-index: 8;
}

.ace_mobile-menu {
    position: absolute;
    line-height: 1.5;
    border-radius: 4px;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    background: white;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #dcdcdc;
    color: black;
}
.ace_dark > .ace_mobile-menu {
    background: #333;
    color: #ccc;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #444;

}
.ace_mobile-button {
    padding: 2px;
    cursor: pointer;
    overflow: hidden;
}
.ace_mobile-button:hover {
    background-color: #eee;
    opacity:1;
}
.ace_mobile-button:active {
    background-color: #ddd;
}

.ace_placeholder {
    position: relative;
    font-family: arial;
    transform: scale(0.9);
    transform-origin: left;
    white-space: pre;
    opacity: 0.7;
    margin: 0 10px;
    z-index: 1;
}

.ace_ghost_text {
    opacity: 0.5;
    font-style: italic;
}

.ace_ghost_text_container > div {
    white-space: pre;
}

.ghost_text_line_wrapped::after {
    content: "";
    position: absolute;
}

.ace_lineWidgetContainer.ace_ghost_text {
    margin: 0px 4px
}

.ace_screenreader-only {
    position:absolute;
    left:-10000px;
    top:auto;
    width:1px;
    height:1px;
    overflow:hidden;
}

.ace_hidden_token {
    display: none;
}`}),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],function(n,r,i){var o=n("../lib/dom"),s=n("../lib/oop"),a=n("../lib/event_emitter").EventEmitter,l=function(){function u(c,d){this.canvas=o.createElement("canvas"),this.renderer=d,this.pixelRatio=1,this.maxHeight=d.layerConfig.maxHeight,this.lineHeight=d.layerConfig.lineHeight,this.canvasHeight=c.parent.scrollHeight,this.heightRatio=this.canvasHeight/this.maxHeight,this.canvasWidth=c.width,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7px",this.canvas.style.position="absolute",this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},c.element.appendChild(this.canvas)}return u.prototype.$updateDecorators=function(c){var d=this.renderer.theme.isDark===!0?this.colors.dark:this.colors.light;if(c){this.maxHeight=c.maxHeight,this.lineHeight=c.lineHeight,this.canvasHeight=c.height;var f=(c.lastRow+1)*this.lineHeight;f<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight}var h=this.canvas.getContext("2d");function p(N,M){return N.priority<M.priority?-1:N.priority>M.priority?1:0}var m=this.renderer.session.$annotations;if(h.clearRect(0,0,this.canvas.width,this.canvas.height),m){var g={info:1,warning:2,error:3};m.forEach(function(N){N.priority=g[N.type]||null}),m=m.sort(p);for(var y=this.renderer.session.$foldData,v=0;v<m.length;v++){var w=m[v].row,E=this.compensateFoldRows(w,y),_=Math.round((w-E)*this.lineHeight*this.heightRatio),x=Math.round((w-E)*this.lineHeight*this.heightRatio),S=Math.round(((w-E)*this.lineHeight+this.lineHeight)*this.heightRatio),C=S-x;if(C<this.minDecorationHeight){var A=(x+S)/2|0;A<this.halfMinDecorationHeight?A=this.halfMinDecorationHeight:A+this.halfMinDecorationHeight>this.canvasHeight&&(A=this.canvasHeight-this.halfMinDecorationHeight),x=Math.round(A-this.halfMinDecorationHeight),S=Math.round(A+this.halfMinDecorationHeight)}h.fillStyle=d[m[v].type]||null,h.fillRect(0,_,this.canvasWidth,S-x)}}var k=this.renderer.session.selection.getCursor();if(k){var E=this.compensateFoldRows(k.row,y),_=Math.round((k.row-E)*this.lineHeight*this.heightRatio);h.fillStyle="rgba(0, 0, 0, 0.5)",h.fillRect(0,_,this.canvasWidth,2)}},u.prototype.compensateFoldRows=function(c,d){var f=0;if(d&&d.length>0)for(var h=0;h<d.length;h++)c>d[h].start.row&&c<d[h].end.row?f+=c-d[h].start.row:c>=d[h].end.row&&(f+=d[h].end.row-d[h].start.row);return f},u}();s.implement(l.prototype,a),r.Decorator=l}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor-css","ace/layer/decorators","ace/lib/useragent","ace/layer/text_util"],function(n,r,i){var o=n("./lib/oop"),s=n("./lib/dom"),a=n("./lib/lang"),l=n("./config"),u=n("./layer/gutter").Gutter,c=n("./layer/marker").Marker,d=n("./layer/text").Text,f=n("./layer/cursor").Cursor,h=n("./scrollbar").HScrollBar,p=n("./scrollbar").VScrollBar,m=n("./scrollbar_custom").HScrollBar,g=n("./scrollbar_custom").VScrollBar,y=n("./renderloop").RenderLoop,v=n("./layer/font_metrics").FontMetrics,w=n("./lib/event_emitter").EventEmitter,E=n("./css/editor-css"),_=n("./layer/decorators").Decorator,x=n("./lib/useragent"),S=n("./layer/text_util").isTextToken;s.importCssString(E,"ace_editor.css",!1);var C=function(){function A(k,N){var M=this;this.container=k||s.createElement("div"),s.addCssClass(this.container,"ace_editor"),s.HI_DPI&&s.addCssClass(this.container,"ace_hidpi"),this.setTheme(N),l.get("useStrictCSP")==null&&l.set("useStrictCSP",!1),this.$gutter=s.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden","true"),this.scroller=s.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=s.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new u(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new c(this.content);var I=this.$textLayer=new d(this.content);this.canvas=I.element,this.$markerFront=new c(this.content),this.$cursorLayer=new f(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new p(this.container,this),this.scrollBarH=new h(this.container,this),this.scrollBarV.on("scroll",function(D){M.$scrollAnimation||M.session.setScrollTop(D.data-M.scrollMargin.top)}),this.scrollBarH.on("scroll",function(D){M.$scrollAnimation||M.session.setScrollLeft(D.data-M.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new v(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(D){M.updateCharacterSize(),M.onResize(!0,M.gutterWidth,M.$size.width,M.$size.height),M._signal("changeCharacterSize",D)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!x.isIOS,this.$loop=new y(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),this.$addResizeObserver(),l.resetOptions(this),l._signal("renderer",this)}return A.prototype.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),s.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},A.prototype.setSession=function(k){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=k,k&&this.scrollMargin.top&&k.getScrollTop()<=0&&k.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(k),this.$markerBack.setSession(k),this.$markerFront.setSession(k),this.$gutterLayer.setSession(k),this.$textLayer.setSession(k),k&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},A.prototype.updateLines=function(k,N,M){if(N===void 0&&(N=1/0),this.$changedLines?(this.$changedLines.firstRow>k&&(this.$changedLines.firstRow=k),this.$changedLines.lastRow<N&&(this.$changedLines.lastRow=N)):this.$changedLines={firstRow:k,lastRow:N},this.$changedLines.lastRow<this.layerConfig.firstRow)if(M)this.$changedLines.lastRow=this.layerConfig.lastRow;else return;this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},A.prototype.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},A.prototype.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},A.prototype.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},A.prototype.updateFull=function(k){k?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},A.prototype.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},A.prototype.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},A.prototype.onResize=function(k,N,M,I){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=k?1:0;var D=this.container;I||(I=D.clientHeight||D.scrollHeight),!I&&this.$maxLines&&this.lineHeight>1&&(!D.style.height||D.style.height=="0px")&&(D.style.height="1px",I=D.clientHeight||D.scrollHeight),M||(M=D.clientWidth||D.scrollWidth);var R=this.$updateCachedSize(k,N,M,I);if(this.$resizeTimer&&this.$resizeTimer.cancel(),!this.$size.scrollerHeight||!M&&!I)return this.resizing=0;k&&(this.$gutterLayer.$padding=null),k?this.$renderChanges(R|this.$changes,!0):this.$loop.schedule(R|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},A.prototype.$updateCachedSize=function(k,N,M,I){I-=this.$extraHeight||0;var D=0,R=this.$size,O={width:R.width,height:R.height,scrollerHeight:R.scrollerHeight,scrollerWidth:R.scrollerWidth};if(I&&(k||R.height!=I)&&(R.height=I,D|=this.CHANGE_SIZE,R.scrollerHeight=R.height,this.$horizScroll&&(R.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(R.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",D=D|this.CHANGE_SCROLL),M&&(k||R.width!=M)){D|=this.CHANGE_SIZE,R.width=M,N==null&&(N=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=N,s.setStyle(this.scrollBarH.element.style,"left",N+"px"),s.setStyle(this.scroller.style,"left",N+this.margin.left+"px"),R.scrollerWidth=Math.max(0,M-N-this.scrollBarV.getWidth()-this.margin.h),s.setStyle(this.$gutter.style,"left",this.margin.left+"px");var B=this.scrollBarV.getWidth()+"px";s.setStyle(this.scrollBarH.element.style,"right",B),s.setStyle(this.scroller.style,"right",B),s.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(R.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||k)&&(D|=this.CHANGE_FULL)}return R.$dirty=!M||!I,D&&this._signal("resize",O),D},A.prototype.onGutterResize=function(k){var N=this.$showGutter?k:0;N!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,N,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},A.prototype.adjustWrapLimit=function(){var k=this.$size.scrollerWidth-this.$padding*2,N=Math.floor(k/this.characterWidth);return this.session.adjustWrapLimit(N,this.$showPrintMargin&&this.$printMarginColumn)},A.prototype.setAnimatedScroll=function(k){this.setOption("animatedScroll",k)},A.prototype.getAnimatedScroll=function(){return this.$animatedScroll},A.prototype.setShowInvisibles=function(k){this.setOption("showInvisibles",k),this.session.$bidiHandler.setShowInvisibles(k)},A.prototype.getShowInvisibles=function(){return this.getOption("showInvisibles")},A.prototype.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},A.prototype.setDisplayIndentGuides=function(k){this.setOption("displayIndentGuides",k)},A.prototype.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},A.prototype.setHighlightIndentGuides=function(k){this.setOption("highlightIndentGuides",k)},A.prototype.setShowPrintMargin=function(k){this.setOption("showPrintMargin",k)},A.prototype.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},A.prototype.setPrintMarginColumn=function(k){this.setOption("printMarginColumn",k)},A.prototype.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},A.prototype.getShowGutter=function(){return this.getOption("showGutter")},A.prototype.setShowGutter=function(k){return this.setOption("showGutter",k)},A.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},A.prototype.setFadeFoldWidgets=function(k){this.setOption("fadeFoldWidgets",k)},A.prototype.setHighlightGutterLine=function(k){this.setOption("highlightGutterLine",k)},A.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},A.prototype.$updatePrintMargin=function(){if(!(!this.$showPrintMargin&&!this.$printMarginEl)){if(!this.$printMarginEl){var k=s.createElement("div");k.className="ace_layer ace_print-margin-layer",this.$printMarginEl=s.createElement("div"),this.$printMarginEl.className="ace_print-margin",k.appendChild(this.$printMarginEl),this.content.insertBefore(k,this.content.firstChild)}var N=this.$printMarginEl.style;N.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",N.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()}},A.prototype.getContainerElement=function(){return this.container},A.prototype.getMouseEventTarget=function(){return this.scroller},A.prototype.getTextAreaContainer=function(){return this.container},A.prototype.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var k=this.textarea.style,N=this.$composition;if(!this.$keepTextAreaAtCursor&&!N){s.translate(this.textarea,-100,0);return}var M=this.$cursorLayer.$pixelPos;if(M){N&&N.markerRange&&(M=this.$cursorLayer.getPixelPosition(N.markerRange.start,!0));var I=this.layerConfig,D=M.top,R=M.left;D-=I.offset;var O=N&&N.useTextareaForIME||x.isMobile?this.lineHeight:1;if(D<0||D>I.height-O){s.translate(this.textarea,0,0);return}var B=1,z=this.$size.height-O;if(!N)D+=this.lineHeight;else if(N.useTextareaForIME){var W=this.textarea.value;B=this.characterWidth*this.session.$getStringScreenWidth(W)[0]}else D+=this.lineHeight+2;R-=this.scrollLeft,R>this.$size.scrollerWidth-B&&(R=this.$size.scrollerWidth-B),R+=this.gutterWidth+this.margin.left,s.setStyle(k,"height",O+"px"),s.setStyle(k,"width",B+"px"),s.translate(this.textarea,Math.min(R,this.$size.scrollerWidth-B),Math.min(D,z))}}},A.prototype.getFirstVisibleRow=function(){return this.layerConfig.firstRow},A.prototype.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},A.prototype.getLastFullyVisibleRow=function(){var k=this.layerConfig,N=k.lastRow,M=this.session.documentToScreenRow(N,0)*k.lineHeight;return M-this.session.getScrollTop()>k.height-k.lineHeight?N-1:N},A.prototype.getLastVisibleRow=function(){return this.layerConfig.lastRow},A.prototype.setPadding=function(k){this.$padding=k,this.$textLayer.setPadding(k),this.$cursorLayer.setPadding(k),this.$markerFront.setPadding(k),this.$markerBack.setPadding(k),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},A.prototype.setScrollMargin=function(k,N,M,I){var D=this.scrollMargin;D.top=k|0,D.bottom=N|0,D.right=I|0,D.left=M|0,D.v=D.top+D.bottom,D.h=D.left+D.right,D.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-D.top),this.updateFull()},A.prototype.setMargin=function(k,N,M,I){var D=this.margin;D.top=k|0,D.bottom=N|0,D.right=I|0,D.left=M|0,D.v=D.top+D.bottom,D.h=D.left+D.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},A.prototype.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},A.prototype.setHScrollBarAlwaysVisible=function(k){this.setOption("hScrollBarAlwaysVisible",k)},A.prototype.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},A.prototype.setVScrollBarAlwaysVisible=function(k){this.setOption("vScrollBarAlwaysVisible",k)},A.prototype.$updateScrollBarV=function(){var k=this.layerConfig.maxHeight,N=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(k-=(N-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>k-N&&(k=this.scrollTop+N,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(k+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},A.prototype.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},A.prototype.freeze=function(){this.$frozen=!0},A.prototype.unfreeze=function(){this.$frozen=!1},A.prototype.$renderChanges=function(k,N){if(this.$changes&&(k|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!k&&!N){this.$changes|=k;return}if(this.$size.$dirty)return this.$changes|=k,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",k),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var M=this.layerConfig;if(k&this.CHANGE_FULL||k&this.CHANGE_SIZE||k&this.CHANGE_TEXT||k&this.CHANGE_LINES||k&this.CHANGE_SCROLL||k&this.CHANGE_H_SCROLL){if(k|=this.$computeLayerConfig()|this.$loop.clear(),M.firstRow!=this.layerConfig.firstRow&&M.firstRowScreen==this.layerConfig.firstRowScreen){var I=this.scrollTop+(M.firstRow-Math.max(this.layerConfig.firstRow,0))*this.lineHeight;I>0&&(this.scrollTop=I,k=k|this.CHANGE_SCROLL,k|=this.$computeLayerConfig()|this.$loop.clear())}M=this.layerConfig,this.$updateScrollBarV(),k&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),s.translate(this.content,-this.scrollLeft,-M.offset);var D=M.width+2*this.$padding+"px",R=M.minHeight+"px";s.setStyle(this.content.style,"width",D),s.setStyle(this.content.style,"height",R)}if(k&this.CHANGE_H_SCROLL&&(s.translate(this.content,-this.scrollLeft,-M.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller ":"ace_scroller ace_scroll-left ",this.enableKeyboardAccessibility&&(this.scroller.className+=this.keyboardFocusClassName)),k&this.CHANGE_FULL){this.$changedLines=null,this.$textLayer.update(M),this.$showGutter&&this.$gutterLayer.update(M),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(M),this.$markerBack.update(M),this.$markerFront.update(M),this.$cursorLayer.update(M),this.$moveTextAreaToCursor(),this._signal("afterRender",k);return}if(k&this.CHANGE_SCROLL){this.$changedLines=null,k&this.CHANGE_TEXT||k&this.CHANGE_LINES?this.$textLayer.update(M):this.$textLayer.scrollLines(M),this.$showGutter&&(k&this.CHANGE_GUTTER||k&this.CHANGE_LINES?this.$gutterLayer.update(M):this.$gutterLayer.scrollLines(M)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(M),this.$markerBack.update(M),this.$markerFront.update(M),this.$cursorLayer.update(M),this.$moveTextAreaToCursor(),this._signal("afterRender",k);return}k&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(M),this.$showGutter&&this.$gutterLayer.update(M),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(M)):k&this.CHANGE_LINES?((this.$updateLines()||k&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(M),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(M)):k&this.CHANGE_TEXT||k&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(M),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(M)):k&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(M),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(M)),k&this.CHANGE_CURSOR&&(this.$cursorLayer.update(M),this.$moveTextAreaToCursor()),k&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(M),k&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(M),this._signal("afterRender",k)},A.prototype.$autosize=function(){var k=this.session.getScreenLength()*this.lineHeight,N=this.$maxLines*this.lineHeight,M=Math.min(N,Math.max((this.$minLines||1)*this.lineHeight,k))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(M+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&M>this.$maxPixelHeight&&(M=this.$maxPixelHeight);var I=M<=2*this.lineHeight,D=!I&&k>N;if(M!=this.desiredHeight||this.$size.height!=this.desiredHeight||D!=this.$vScroll){D!=this.$vScroll&&(this.$vScroll=D,this.scrollBarV.setVisible(D));var R=this.container.clientWidth;this.container.style.height=M+"px",this.$updateCachedSize(!0,this.$gutterWidth,R,M),this.desiredHeight=M,this._signal("autosize")}},A.prototype.$computeLayerConfig=function(){var k=this.session,N=this.$size,M=N.height<=2*this.lineHeight,I=this.session.getScreenLength(),D=I*this.lineHeight,R=this.$getLongestLine(),O=!M&&(this.$hScrollBarAlwaysVisible||N.scrollerWidth-R-2*this.$padding<0),B=this.$horizScroll!==O;B&&(this.$horizScroll=O,this.scrollBarH.setVisible(O));var z=this.$vScroll;this.$maxLines&&this.lineHeight>1&&(this.$autosize(),M=N.height<=2*this.lineHeight);var W=N.scrollerHeight+this.lineHeight,U=!this.$maxLines&&this.$scrollPastEnd?(N.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;D+=U;var F=this.scrollMargin;this.session.setScrollTop(Math.max(-F.top,Math.min(this.scrollTop,D-N.scrollerHeight+F.bottom))),this.session.setScrollLeft(Math.max(-F.left,Math.min(this.scrollLeft,R+2*this.$padding-N.scrollerWidth+F.right)));var Y=!M&&(this.$vScrollBarAlwaysVisible||N.scrollerHeight-D+U<0||this.scrollTop>F.top),V=z!==Y;V&&(this.$vScroll=Y,this.scrollBarV.setVisible(Y));var G=this.scrollTop%this.lineHeight,X=Math.ceil(W/this.lineHeight)-1,Z=Math.max(0,Math.round((this.scrollTop-G)/this.lineHeight)),oe=Z+X,ne,ie,fe=this.lineHeight;Z=k.screenToDocumentRow(Z,0);var se=k.getFoldLine(Z);se&&(Z=se.start.row),ne=k.documentToScreenRow(Z,0),ie=k.getRowLength(Z)*fe,oe=Math.min(k.screenToDocumentRow(oe,0),k.getLength()-1),W=N.scrollerHeight+k.getRowLength(oe)*fe+ie,G=this.scrollTop-ne*fe;var ae=0;return(this.layerConfig.width!=R||B)&&(ae=this.CHANGE_H_SCROLL),(B||V)&&(ae|=this.$updateCachedSize(!0,this.gutterWidth,N.width,N.height),this._signal("scrollbarVisibilityChanged"),V&&(R=this.$getLongestLine())),this.layerConfig={width:R,padding:this.$padding,firstRow:Z,firstRowScreen:ne,lastRow:oe,lineHeight:fe,characterWidth:this.characterWidth,minHeight:W,maxHeight:D,offset:G,gutterOffset:fe?Math.max(0,Math.ceil((G+N.height-N.scrollerHeight)/fe)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(R-this.$padding),ae},A.prototype.$updateLines=function(){if(this.$changedLines){var k=this.$changedLines.firstRow,N=this.$changedLines.lastRow;this.$changedLines=null;var M=this.layerConfig;if(!(k>M.lastRow+1)&&!(N<M.firstRow)){if(N===1/0){this.$showGutter&&this.$gutterLayer.update(M),this.$textLayer.update(M);return}return this.$textLayer.updateLines(M,k,N),!0}}},A.prototype.$getLongestLine=function(){var k=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(k+=1),this.$textLayer&&k>this.$textLayer.MAX_LINE_LENGTH&&(k=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(k*this.characterWidth))},A.prototype.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},A.prototype.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},A.prototype.addGutterDecoration=function(k,N){this.$gutterLayer.addGutterDecoration(k,N)},A.prototype.removeGutterDecoration=function(k,N){this.$gutterLayer.removeGutterDecoration(k,N)},A.prototype.updateBreakpoints=function(k){this._rows=k,this.$loop.schedule(this.CHANGE_GUTTER)},A.prototype.setAnnotations=function(k){this.$gutterLayer.setAnnotations(k),this.$loop.schedule(this.CHANGE_GUTTER)},A.prototype.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},A.prototype.hideCursor=function(){this.$cursorLayer.hideCursor()},A.prototype.showCursor=function(){this.$cursorLayer.showCursor()},A.prototype.scrollSelectionIntoView=function(k,N,M){this.scrollCursorIntoView(k,M),this.scrollCursorIntoView(N,M)},A.prototype.scrollCursorIntoView=function(k,N,M){if(this.$size.scrollerHeight!==0){var I=this.$cursorLayer.getPixelPosition(k),D=I.left,R=I.top,O=M&&M.top||0,B=M&&M.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var z=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;z+O>R?(N&&z+O>R+this.lineHeight&&(R-=N*this.$size.scrollerHeight),R===0&&(R=-this.scrollMargin.top),this.session.setScrollTop(R)):z+this.$size.scrollerHeight-B<R+this.lineHeight&&(N&&z+this.$size.scrollerHeight-B<R-this.lineHeight&&(R+=N*this.$size.scrollerHeight),this.session.setScrollTop(R+this.lineHeight+B-this.$size.scrollerHeight));var W=this.scrollLeft,U=2*this.layerConfig.characterWidth;D-U<W?(D-=U,D<this.$padding+U&&(D=-this.scrollMargin.left),this.session.setScrollLeft(D)):(D+=U,W+this.$size.scrollerWidth<D+this.characterWidth?this.session.setScrollLeft(Math.round(D+this.characterWidth-this.$size.scrollerWidth)):W<=this.$padding&&D-W<this.characterWidth&&this.session.setScrollLeft(0))}},A.prototype.getScrollTop=function(){return this.session.getScrollTop()},A.prototype.getScrollLeft=function(){return this.session.getScrollLeft()},A.prototype.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},A.prototype.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},A.prototype.scrollToRow=function(k){this.session.setScrollTop(k*this.lineHeight)},A.prototype.alignCursor=function(k,N){typeof k=="number"&&(k={row:k,column:0});var M=this.$cursorLayer.getPixelPosition(k),I=this.$size.scrollerHeight-this.lineHeight,D=M.top-I*(N||0);return this.session.setScrollTop(D),D},A.prototype.$calcSteps=function(k,N){var M=0,I=this.STEPS,D=[],R=function(O,B,z){return z*(Math.pow(O-1,3)+1)+B};for(M=0;M<I;++M)D.push(R(M/this.STEPS,k,N-k));return D},A.prototype.scrollToLine=function(k,N,M,I){var D=this.$cursorLayer.getPixelPosition({row:k,column:0}),R=D.top;N&&(R-=this.$size.scrollerHeight/2);var O=this.scrollTop;this.session.setScrollTop(R),M!==!1&&this.animateScrolling(O,I)},A.prototype.animateScrolling=function(k,N){var M=this.scrollTop;if(!this.$animatedScroll)return;var I=this;if(k==M)return;if(this.$scrollAnimation){var D=this.$scrollAnimation.steps;if(D.length&&(k=D[0],k==M))return}var R=I.$calcSteps(k,M);this.$scrollAnimation={from:k,to:M,steps:R},clearInterval(this.$timer),I.session.setScrollTop(R.shift()),I.session.$scrollTop=M;function O(){I.$timer=clearInterval(I.$timer),I.$scrollAnimation=null,I.$stopAnimation=!1,N&&N()}this.$timer=setInterval(function(){if(I.$stopAnimation){O();return}if(!I.session)return clearInterval(I.$timer);R.length?(I.session.setScrollTop(R.shift()),I.session.$scrollTop=M):M!=null?(I.session.$scrollTop=-1,I.session.setScrollTop(M),M=null):O()},10)},A.prototype.scrollToY=function(k){this.scrollTop!==k&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=k)},A.prototype.scrollToX=function(k){this.scrollLeft!==k&&(this.scrollLeft=k),this.$loop.schedule(this.CHANGE_H_SCROLL)},A.prototype.scrollTo=function(k,N){this.session.setScrollTop(N),this.session.setScrollLeft(k)},A.prototype.scrollBy=function(k,N){N&&this.session.setScrollTop(this.session.getScrollTop()+N),k&&this.session.setScrollLeft(this.session.getScrollLeft()+k)},A.prototype.isScrollableBy=function(k,N){if(N<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||N>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||k<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||k>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},A.prototype.pixelToScreenCoordinates=function(k,N){var M;if(this.$hasCssTransforms){M={top:0,left:0};var I=this.$fontMetrics.transformCoordinates([k,N]);k=I[1]-this.gutterWidth-this.margin.left,N=I[0]}else M=this.scroller.getBoundingClientRect();var D=k+this.scrollLeft-M.left-this.$padding,R=D/this.characterWidth,O=Math.floor((N+this.scrollTop-M.top)/this.lineHeight),B=this.$blockCursor?Math.floor(R):Math.round(R);return{row:O,column:B,side:R-B>0?1:-1,offsetX:D}},A.prototype.screenToTextCoordinates=function(k,N){var M;if(this.$hasCssTransforms){M={top:0,left:0};var I=this.$fontMetrics.transformCoordinates([k,N]);k=I[1]-this.gutterWidth-this.margin.left,N=I[0]}else M=this.scroller.getBoundingClientRect();var D=k+this.scrollLeft-M.left-this.$padding,R=D/this.characterWidth,O=this.$blockCursor?Math.floor(R):Math.round(R),B=Math.floor((N+this.scrollTop-M.top)/this.lineHeight);return this.session.screenToDocumentPosition(B,Math.max(O,0),D)},A.prototype.textToScreenCoordinates=function(k,N){var M=this.scroller.getBoundingClientRect(),I=this.session.documentToScreenPosition(k,N),D=this.$padding+(this.session.$bidiHandler.isBidiRow(I.row,k)?this.session.$bidiHandler.getPosLeft(I.column):Math.round(I.column*this.characterWidth)),R=I.row*this.lineHeight;return{pageX:M.left+D-this.scrollLeft,pageY:M.top+R-this.scrollTop}},A.prototype.visualizeFocus=function(){s.addCssClass(this.container,"ace_focus")},A.prototype.visualizeBlur=function(){s.removeCssClass(this.container,"ace_focus")},A.prototype.showComposition=function(k){this.$composition=k,k.cssText||(k.cssText=this.textarea.style.cssText),k.useTextareaForIME==null&&(k.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(s.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):k.markerId=this.session.addMarker(k.markerRange,"ace_composition_marker","text")},A.prototype.setCompositionText=function(k){var N=this.session.selection.cursor;this.addToken(k,"composition_placeholder",N.row,N.column),this.$moveTextAreaToCursor()},A.prototype.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),s.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var k=this.session.selection.cursor;this.removeExtraToken(k.row,k.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},A.prototype.setGhostText=function(k,N){var M=this.session.selection.cursor,I=N||{row:M.row,column:M.column};this.removeGhostText();var D=this.$calculateWrappedTextChunks(k,I);this.addToken(D[0].text,"ghost_text",I.row,I.column),this.$ghostText={text:k,position:{row:I.row,column:I.column}};var R=s.createElement("div");if(D.length>1){var O=this.hideTokensAfterPosition(I.row,I.column),B;D.slice(1).forEach(function(V){var G=s.createElement("div"),X=s.createElement("span");X.className="ace_ghost_text",V.wrapped&&(G.className="ghost_text_line_wrapped"),V.text.length===0&&(V.text=" "),X.appendChild(s.createTextNode(V.text)),G.appendChild(X),R.appendChild(G),B=G}),O.forEach(function(V){var G=s.createElement("span");S(V.type)||(G.className="ace_"+V.type.replace(/\./g," ace_")),G.appendChild(s.createTextNode(V.value)),B.appendChild(G)}),this.$ghostTextWidget={el:R,row:I.row,column:I.column,className:"ace_ghost_text_container"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget);var z=this.$cursorLayer.getPixelPosition(I,!0),W=this.container,U=W.getBoundingClientRect().height,F=D.length*this.lineHeight,Y=F<U-z.top;if(Y)return;F<U?this.scrollBy(0,(D.length-1)*this.lineHeight):this.scrollToRow(I.row)}},A.prototype.$calculateWrappedTextChunks=function(k,N){var M=this.$size.scrollerWidth-this.$padding*2,I=Math.floor(M/this.characterWidth)-2;I=I<=0?60:I;for(var D=k.split(/\r?\n/),R=[],O=0;O<D.length;O++){var B=this.session.$getDisplayTokens(D[O],N.column),z=this.session.$computeWrapSplits(B,I,this.session.$tabSize);if(z.length>0){var W=0;z.push(D[O].length);for(var U=0;U<z.length;U++){var F=D[O].slice(W,z[U]);R.push({text:F,wrapped:!0}),W=z[U]}}else R.push({text:D[O],wrapped:!1})}return R},A.prototype.removeGhostText=function(){if(this.$ghostText){var k=this.$ghostText.position;this.removeExtraToken(k.row,k.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null}},A.prototype.addToken=function(k,N,M,I){var D=this.session;D.bgTokenizer.lines[M]=null;var R={type:N,value:k},O=D.getTokens(M);if(I==null||!O.length)O.push(R);else for(var B=0,z=0;z<O.length;z++){var W=O[z];if(B+=W.value.length,I<=B){var U=W.value.length-(B-I),F=W.value.slice(0,U),Y=W.value.slice(U);O.splice(z,1,{type:W.type,value:F},R,{type:W.type,value:Y});break}}this.updateLines(M,M)},A.prototype.hideTokensAfterPosition=function(k,N){for(var M=this.session.getTokens(k),I=0,D=!1,R=[],O=0;O<M.length;O++){var B=M[O];if(I+=B.value.length,B.type!=="ghost_text"){if(D){R.push({type:B.type,value:B.value}),B.type="hidden_token";continue}I===N&&(D=!0)}}return this.updateLines(k,k),R},A.prototype.removeExtraToken=function(k,N){this.session.bgTokenizer.lines[k]=null,this.updateLines(k,k)},A.prototype.setTheme=function(k,N){var M=this;if(this.$themeId=k,M._dispatchEvent("themeChange",{theme:k}),!k||typeof k=="string"){var I=k||this.$options.theme.initialValue;l.loadModule(["theme",I],D)}else D(k);function D(R){if(M.$themeId!=k)return N&&N();if(!R||!R.cssClass)throw new Error("couldn't load module "+k+" or it didn't call define");R.$id&&(M.$themeId=R.$id),s.importCssString(R.cssText,R.cssClass,M.container),M.theme&&s.removeCssClass(M.container,M.theme.cssClass);var O="padding"in R?R.padding:"padding"in(M.theme||{})?4:M.$padding;M.$padding&&O!=M.$padding&&M.setPadding(O),M.$theme=R.cssClass,M.theme=R,s.addCssClass(M.container,R.cssClass),s.setCssClass(M.container,"ace_dark",R.isDark),M.$size&&(M.$size.width=0,M.$updateSizeAsync()),M._dispatchEvent("themeLoaded",{theme:R}),N&&N(),x.isSafari&&M.scroller&&(M.scroller.style.background="red",M.scroller.style.background="")}},A.prototype.getTheme=function(){return this.$themeId},A.prototype.setStyle=function(k,N){s.setCssClass(this.container,k,N!==!1)},A.prototype.unsetStyle=function(k){s.removeCssClass(this.container,k)},A.prototype.setCursorStyle=function(k){s.setStyle(this.scroller.style,"cursor",k)},A.prototype.setMouseCursor=function(k){s.setStyle(this.scroller.style,"cursor",k)},A.prototype.attachToShadowRoot=function(){s.importCssString(E,"ace_editor.css",this.container)},A.prototype.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent="",this.setOption("useResizeObserver",!1)},A.prototype.$updateCustomScrollbar=function(k){var N=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),this.$scrollDecorator&&delete this.$scrollDecorator,k===!0?(this.scrollBarV=new g(this.container,this),this.scrollBarH=new m(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",function(M){N.$scrollAnimation||N.session.setScrollTop(M.data-N.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(M){N.$scrollAnimation||N.session.setScrollLeft(M.data-N.scrollMargin.left)}),this.$scrollDecorator=new _(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new p(this.container,this),this.scrollBarH=new h(this.container,this),this.scrollBarV.addEventListener("scroll",function(M){N.$scrollAnimation||N.session.setScrollTop(M.data-N.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(M){N.$scrollAnimation||N.session.setScrollLeft(M.data-N.scrollMargin.left)}))},A.prototype.$addResizeObserver=function(){if(!(!window.ResizeObserver||this.$resizeObserver)){var k=this;this.$resizeTimer=a.delayedCall(function(){k.destroyed||k.onResize()},50),this.$resizeObserver=new window.ResizeObserver(function(N){var M=N[0].contentRect.width,I=N[0].contentRect.height;Math.abs(k.$size.width-M)>1||Math.abs(k.$size.height-I)>1?k.$resizeTimer.delay():k.$resizeTimer.cancel()}),this.$resizeObserver.observe(this.container)}},A}();C.prototype.CHANGE_CURSOR=1,C.prototype.CHANGE_MARKER=2,C.prototype.CHANGE_GUTTER=4,C.prototype.CHANGE_SCROLL=8,C.prototype.CHANGE_LINES=16,C.prototype.CHANGE_TEXT=32,C.prototype.CHANGE_SIZE=64,C.prototype.CHANGE_MARKER_BACK=128,C.prototype.CHANGE_MARKER_FRONT=256,C.prototype.CHANGE_FULL=512,C.prototype.CHANGE_H_SCROLL=1024,C.prototype.$changes=0,C.prototype.$padding=null,C.prototype.$frozen=!1,C.prototype.STEPS=8,o.implement(C.prototype,w),l.defineOptions(C.prototype,"renderer",{useResizeObserver:{set:function(A){!A&&this.$resizeObserver?(this.$resizeObserver.disconnect(),this.$resizeTimer.cancel(),this.$resizeTimer=this.$resizeObserver=null):A&&!this.$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function(A){this.$textLayer.setShowInvisibles(A)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(A){typeof A=="number"&&(this.$printMarginColumn=A),this.$showPrintMargin=!!A,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(A){this.$gutter.style.display=A?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function(A){this.$gutterLayer.$useSvgGutterIcons=A},initialValue:!1},showFoldedAnnotations:{set:function(A){this.$gutterLayer.$showFoldedAnnotations=A},initialValue:!1},fadeFoldWidgets:{set:function(A){s.setCssClass(this.$gutter,"ace_fade-fold-widgets",A)},initialValue:!1},showFoldWidgets:{set:function(A){this.$gutterLayer.setShowFoldWidgets(A),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(A){this.$textLayer.setDisplayIndentGuides(A)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(A){this.$textLayer.setHighlightIndentGuides(A)==!0?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(A){this.$gutterLayer.setHighlightGutterLine(A),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(A){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(A){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(A){typeof A=="number"&&(A=A+"px"),this.container.style.fontSize=A,this.updateFontSize()},initialValue:12},fontFamily:{set:function(A){this.container.style.fontFamily=A,this.updateFontSize()}},maxLines:{set:function(A){this.updateFull()}},minLines:{set:function(A){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(A){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(A){A=+A||0,this.$scrollPastEnd!=A&&(this.$scrollPastEnd=A,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(A){this.$gutterLayer.$fixedWidth=!!A,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(A){this.$updateCustomScrollbar(A)},initialValue:!1},theme:{set:function(A){this.setTheme(A)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!x.isMobile&&!x.isIE}}),r.VirtualRenderer=C}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(n,r,i){var o=n("../lib/oop"),s=n("../lib/net"),a=n("../lib/event_emitter").EventEmitter,l=n("../config");function u(h){var p="importScripts('"+s.qualifyURL(h)+"');";try{return new Blob([p],{type:"application/javascript"})}catch{var m=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,g=new m;return g.append(p),g.getBlob("application/javascript")}}function c(h){if(typeof Worker>"u")return{postMessage:function(){},terminate:function(){}};if(l.get("loadWorkerFromBlob")){var p=u(h),m=window.URL||window.webkitURL,g=m.createObjectURL(p);return new Worker(g)}return new Worker(h)}var d=function(h){h.postMessage||(h=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=h,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){o.implement(this,a),this.$createWorkerFromOldConfig=function(h,p,m,g,y){if(n.nameToUrl&&!n.toUrl&&(n.toUrl=n.nameToUrl),l.get("packaged")||!n.toUrl)g=g||l.moduleUrl(p,"worker");else{var v=this.$normalizePath;g=g||v(n.toUrl("ace/worker/worker.js",null,"_"));var w={};h.forEach(function(E){w[E]=v(n.toUrl(E,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=c(g),y&&this.send("importScripts",y),this.$worker.postMessage({init:!0,tlns:w,module:p,classname:m}),this.$worker},this.onMessage=function(h){var p=h.data;switch(p.type){case"event":this._signal(p.name,{data:p.data});break;case"call":var m=this.callbacks[p.id];m&&(m(p.data),delete this.callbacks[p.id]);break;case"error":this.reportError(p.data);break;case"log":window.console&&console.log&&console.log.apply(console,p.data);break}},this.reportError=function(h){window.console&&console.error&&console.error(h)},this.$normalizePath=function(h){return s.qualifyURL(h)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker.onerror=function(h){h.preventDefault()},this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(h,p){this.$worker.postMessage({command:h,args:p})},this.call=function(h,p,m){if(m){var g=this.callbackId++;this.callbacks[g]=m,p.push(g)}this.send(h,p)},this.emit=function(h,p){try{p.data&&p.data.err&&(p.data.err={message:p.data.err.message,stack:p.data.err.stack,code:p.data.err.code}),this.$worker&&this.$worker.postMessage({event:h,data:{data:p.data}})}catch(m){console.error(m.stack)}},this.attachToDocument=function(h){this.$doc&&this.terminate(),this.$doc=h,this.call("setValue",[h.getValue()]),h.on("change",this.changeListener,!0)},this.changeListener=function(h){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),h.action=="insert"?this.deltaQueue.push(h.start,h.lines):this.deltaQueue.push(h.start,h.end)},this.$sendDeltaQueue=function(){var h=this.deltaQueue;h&&(this.deltaQueue=null,h.length>50&&h.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:h}))}}).call(d.prototype);var f=function(h,p,m){var g=null,y=!1,v=Object.create(a),w=[],E=new d({messageBuffer:w,terminate:function(){},postMessage:function(x){w.push(x),g&&(y?setTimeout(_):_())}});E.setEmitSync=function(x){y=x};var _=function(){var x=w.shift();x.command?g[x.command].apply(g,x.args):x.event&&v._signal(x.event,x.data)};return v.postMessage=function(x){E.onMessage({data:x})},v.callback=function(x,S){this.postMessage({type:"call",id:S,data:x})},v.emit=function(x,S){this.postMessage({type:"event",name:x,data:S})},l.loadModule(["worker",p],function(x){for(g=new x[m](v);w.length;)_()}),E};r.UIWorkerClient=f,r.WorkerClient=d,r.createWorker=c}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(n,r,i){var o=n("./range").Range,s=n("./lib/event_emitter").EventEmitter,a=n("./lib/oop"),l=function(){function u(c,d,f,h,p,m){var g=this;this.length=d,this.session=c,this.doc=c.getDocument(),this.mainClass=p,this.othersClass=m,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=h,this.$onCursorChange=function(){setTimeout(function(){g.onCursorChange()})},this.$pos=f;var y=c.getUndoManager().$undoStack||c.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=y.length,this.setup(),c.selection.on("changeCursor",this.$onCursorChange)}return u.prototype.setup=function(){var c=this,d=this.doc,f=this.session;this.selectionBefore=f.selection.toJSON(),f.selection.inMultiSelectMode&&f.selection.toSingleRange(),this.pos=d.createAnchor(this.$pos.row,this.$pos.column);var h=this.pos;h.$insertRight=!0,h.detach(),h.markerId=f.addMarker(new o(h.row,h.column,h.row,h.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(p){var m=d.createAnchor(p.row,p.column);m.$insertRight=!0,m.detach(),c.others.push(m)}),f.setUndoSelect(!1)},u.prototype.showOtherMarkers=function(){if(!this.othersActive){var c=this.session,d=this;this.othersActive=!0,this.others.forEach(function(f){f.markerId=c.addMarker(new o(f.row,f.column,f.row,f.column+d.length),d.othersClass,null,!1)})}},u.prototype.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var c=0;c<this.others.length;c++)this.session.removeMarker(this.others[c].markerId)}},u.prototype.onUpdate=function(c){if(this.$updating)return this.updateAnchors(c);var d=c;if(d.start.row===d.end.row&&d.start.row===this.pos.row){this.$updating=!0;var f=c.action==="insert"?d.end.column-d.start.column:d.start.column-d.end.column,h=d.start.column>=this.pos.column&&d.start.column<=this.pos.column+this.length+1,p=d.start.column-this.pos.column;if(this.updateAnchors(c),h&&(this.length+=f),h&&!this.session.$fromUndo){if(c.action==="insert")for(var m=this.others.length-1;m>=0;m--){var g=this.others[m],y={row:g.row,column:g.column+p};this.doc.insertMergedLines(y,c.lines)}else if(c.action==="remove")for(var m=this.others.length-1;m>=0;m--){var g=this.others[m],y={row:g.row,column:g.column+p};this.doc.remove(new o(y.row,y.column,y.row,y.column-f))}}this.$updating=!1,this.updateMarkers()}},u.prototype.updateAnchors=function(c){this.pos.onChange(c);for(var d=this.others.length;d--;)this.others[d].onChange(c);this.updateMarkers()},u.prototype.updateMarkers=function(){if(!this.$updating){var c=this,d=this.session,f=function(p,m){d.removeMarker(p.markerId),p.markerId=d.addMarker(new o(p.row,p.column,p.row,p.column+c.length),m,null,!1)};f(this.pos,this.mainClass);for(var h=this.others.length;h--;)f(this.others[h],this.othersClass)}},u.prototype.onCursorChange=function(c){if(!(this.$updating||!this.session)){var d=this.session.selection.getCursor();d.row===this.pos.row&&d.column>=this.pos.column&&d.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",c)):(this.hideOtherMarkers(),this._emit("cursorLeave",c))}},u.prototype.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},u.prototype.cancel=function(){if(this.$undoStackDepth!==-1){for(var c=this.session.getUndoManager(),d=(c.$undoStack||c.$undostack).length-this.$undoStackDepth,f=0;f<d;f++)c.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}},u}();a.implement(l.prototype,s),r.PlaceHolder=l}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(n,r,i){var o=n("../lib/event"),s=n("../lib/useragent");function a(u,c){return u.row==c.row&&u.column==c.column}function l(u){var c=u.domEvent,d=c.altKey,f=c.shiftKey,h=c.ctrlKey,p=u.getAccelKey(),m=u.getButton();if(h&&s.isMac&&(m=c.button),u.editor.inMultiSelectMode&&m==2){u.editor.textInput.onContextMenu(u.domEvent);return}if(!h&&!d&&!p){m===0&&u.editor.inMultiSelectMode&&u.editor.exitMultiSelectMode();return}if(m===0){var g=u.editor,y=g.selection,v=g.inMultiSelectMode,w=u.getDocumentPosition(),E=y.getCursor(),_=u.inSelection()||y.isEmpty()&&a(w,E),x=u.x,S=u.y,C=function(F){x=F.clientX,S=F.clientY},A=g.session,k=g.renderer.pixelToScreenCoordinates(x,S),N=k,M;if(g.$mouseHandler.$enableJumpToDef)h&&d||p&&d?M=f?"block":"add":d&&g.$blockSelectEnabled&&(M="block");else if(p&&!d){if(M="add",!v&&f)return}else d&&g.$blockSelectEnabled&&(M="block");if(M&&s.isMac&&c.ctrlKey&&g.$mouseHandler.cancelContextMenu(),M=="add"){if(!v&&_)return;if(!v){var I=y.toOrientedRange();g.addSelectionMarker(I)}var D=y.rangeList.rangeAtPoint(w);g.inVirtualSelectionMode=!0,f&&(D=null,I=y.ranges[0]||I,g.removeSelectionMarker(I)),g.once("mouseup",function(){var F=y.toOrientedRange();D&&F.isEmpty()&&a(D.cursor,F.cursor)?y.substractPoint(F.cursor):(f?y.substractPoint(I.cursor):I&&(g.removeSelectionMarker(I),y.addRange(I)),y.addRange(F)),g.inVirtualSelectionMode=!1})}else if(M=="block"){u.stop(),g.inVirtualSelectionMode=!0;var R,O=[],B=function(){var F=g.renderer.pixelToScreenCoordinates(x,S),Y=A.screenToDocumentPosition(F.row,F.column,F.offsetX);a(N,F)&&a(Y,y.lead)||(N=F,g.selection.moveToPosition(Y),g.renderer.scrollCursorIntoView(),g.removeSelectionMarkers(O),O=y.rectangularRangeBlock(N,k),g.$mouseHandler.$clickSelection&&O.length==1&&O[0].isEmpty()&&(O[0]=g.$mouseHandler.$clickSelection.clone()),O.forEach(g.addSelectionMarker,g),g.updateSelectionMarkers())};v&&!p?y.toSingleRange():!v&&p&&(R=y.toOrientedRange(),g.addSelectionMarker(R)),f?k=A.documentToScreenPosition(y.lead):y.moveToPosition(w),N={row:-1,column:-1};var z=function(F){B(),clearInterval(U),g.removeSelectionMarkers(O),O.length||(O=[y.toOrientedRange()]),R&&(g.removeSelectionMarker(R),y.toSingleRange(R));for(var Y=0;Y<O.length;Y++)y.addRange(O[Y]);g.inVirtualSelectionMode=!1,g.$mouseHandler.$clickSelection=null},W=B;o.capture(g.container,C,z);var U=setInterval(function(){W()},20);return u.preventDefault()}}}r.onMouseDown=l}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(n,r,i){r.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(s){s.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(s){s.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(s){s.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(s){s.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(s){s.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(s){s.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(s){s.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(s){s.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function(s){s.multiSelect.rangeCount>1?s.multiSelect.joinSelections():s.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(s){s.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(s){s.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(s){s.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],r.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(s){s.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(s){return s&&s.inMultiSelectMode}}];var o=n("../keyboard/hash_handler").HashHandler;r.keyboardHandler=new o(r.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(n,r,i){var o=n("./range_list").RangeList,s=n("./range").Range,a=n("./selection").Selection,l=n("./mouse/multi_select_handler").onMouseDown,u=n("./lib/event"),c=n("./lib/lang"),d=n("./commands/multi_select_commands");r.commands=d.defaultCommands.concat(d.multiSelectCommands);var f=n("./search").Search,h=new f;function p(E,_,x){return h.$options.wrap=!0,h.$options.needle=_,h.$options.backwards=x==-1,h.find(E)}var m=n("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(m.prototype),(function(){this.ranges=null,this.rangeList=null,this.addRange=function(E,_){if(E){if(!this.inMultiSelectMode&&this.rangeCount===0){var x=this.toOrientedRange();if(this.rangeList.add(x),this.rangeList.add(E),this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),_||this.fromOrientedRange(E);this.rangeList.removeAll(),this.rangeList.add(x),this.$onAddRange(x)}E.cursor||(E.cursor=E.end);var S=this.rangeList.add(E);return this.$onAddRange(E),S.length&&this.$onRemoveRange(S),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),_||this.fromOrientedRange(E)}},this.toSingleRange=function(E){E=E||this.ranges[0];var _=this.rangeList.removeAll();_.length&&this.$onRemoveRange(_),E&&this.fromOrientedRange(E)},this.substractPoint=function(E){var _=this.rangeList.substractPoint(E);if(_)return this.$onRemoveRange(_),_[0]},this.mergeOverlappingRanges=function(){var E=this.rangeList.merge();E.length&&this.$onRemoveRange(E)},this.$onAddRange=function(E){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(E),this._signal("addRange",{range:E})},this.$onRemoveRange=function(E){if(this.rangeCount=this.rangeList.ranges.length,this.rangeCount==1&&this.inMultiSelectMode){var _=this.rangeList.ranges.pop();E.push(_),this.rangeCount=0}for(var x=E.length;x--;){var S=this.ranges.indexOf(E[x]);this.ranges.splice(S,1)}this._signal("removeRange",{ranges:E}),this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),_=_||this.ranges[0],_&&!_.isEqual(this.getRange())&&this.fromOrientedRange(_)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new o,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var E=this.ranges.length?this.ranges:[this.getRange()],_=[],x=0;x<E.length;x++){var S=E[x],C=S.start.row,A=S.end.row;if(C===A)_.push(S.clone());else{for(_.push(new s(C,S.start.column,C,this.session.getLine(C).length));++C<A;)_.push(this.getLineRange(C,!0));_.push(new s(A,0,A,S.end.column))}x==0&&!this.isBackwards()&&(_=_.reverse())}this.toSingleRange();for(var x=_.length;x--;)this.addRange(_[x])},this.joinSelections=function(){var E=this.rangeList.ranges,_=E[E.length-1],x=s.fromPoints(E[0].start,_.end);this.toSingleRange(),this.setSelectionRange(x,_.cursor==_.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var E=this.rangeList.ranges,_=E[E.length-1],x=s.fromPoints(E[0].start,_.end);this.toSingleRange(),this.setSelectionRange(x,_.cursor==_.start)}else{var S=this.session.documentToScreenPosition(this.cursor),C=this.session.documentToScreenPosition(this.anchor),A=this.rectangularRangeBlock(S,C);A.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(E,_,x){var S=[],C=E.column<_.column;if(C)var A=E.column,k=_.column,N=E.offsetX,M=_.offsetX;else var A=_.column,k=E.column,N=_.offsetX,M=E.offsetX;var I=E.row<_.row;if(I)var D=E.row,R=_.row;else var D=_.row,R=E.row;A<0&&(A=0),D<0&&(D=0),D==R&&(x=!0);for(var O,B=D;B<=R;B++){var z=s.fromPoints(this.session.screenToDocumentPosition(B,A,N),this.session.screenToDocumentPosition(B,k,M));if(z.isEmpty()){if(O&&y(z.end,O))break;O=z.end}z.cursor=C?z.start:z.end,S.push(z)}if(I&&S.reverse(),!x){for(var W=S.length-1;S[W].isEmpty()&&W>0;)W--;if(W>0)for(var U=0;S[U].isEmpty();)U++;for(var F=W;F>=U;F--)S[F].isEmpty()&&S.splice(F,1)}return S}}).call(a.prototype);var g=n("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(E){E.cursor||(E.cursor=E.end);var _=this.getSelectionStyle();return E.marker=this.session.addMarker(E,"ace_selection",_),this.session.$selectionMarkers.push(E),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,E},this.removeSelectionMarker=function(E){if(E.marker){this.session.removeMarker(E.marker);var _=this.session.$selectionMarkers.indexOf(E);_!=-1&&this.session.$selectionMarkers.splice(_,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(E){for(var _=this.session.$selectionMarkers,x=E.length;x--;){var S=E[x];if(S.marker){this.session.removeMarker(S.marker);var C=_.indexOf(S);C!=-1&&_.splice(C,1)}}this.session.selectionMarkerCount=_.length},this.$onAddRange=function(E){this.addSelectionMarker(E.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(E){this.removeSelectionMarkers(E.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(E){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(d.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(E){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(d.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(E){var _=E.command,x=E.editor;if(x.multiSelect){if(_.multiSelectAction)_.multiSelectAction=="forEach"?S=x.forEachSelection(_,E.args):_.multiSelectAction=="forEachLine"?S=x.forEachSelection(_,E.args,!0):_.multiSelectAction=="single"?(x.exitMultiSelectMode(),S=_.exec(x,E.args||{})):S=_.multiSelectAction(x,E.args||{});else{var S=_.exec(x,E.args||{});x.multiSelect.addRange(x.multiSelect.toOrientedRange()),x.multiSelect.mergeOverlappingRanges()}return S}},this.forEachSelection=function(E,_,x){if(!this.inVirtualSelectionMode){var S=x&&x.keepOrder,C=x==!0||x&&x.$byLines,A=this.session,k=this.selection,N=k.rangeList,M=(S?k:N).ranges,I;if(!M.length)return E.exec?E.exec(this,_||{}):E(this,_||{});var D=k._eventRegistry;k._eventRegistry={};var R=new a(A);this.inVirtualSelectionMode=!0;for(var O=M.length;O--;){if(C)for(;O>0&&M[O].start.row==M[O-1].end.row;)O--;R.fromOrientedRange(M[O]),R.index=O,this.selection=A.selection=R;var B=E.exec?E.exec(this,_||{}):E(this,_||{});!I&&B!==void 0&&(I=B),R.toOrientedRange(M[O])}R.detach(),this.selection=A.selection=k,this.inVirtualSelectionMode=!1,k._eventRegistry=D,k.mergeOverlappingRanges(),k.ranges[0]&&k.fromOrientedRange(k.ranges[0]);var z=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),z&&z.from==z.to&&this.renderer.animateScrolling(z.from),I}},this.exitMultiSelectMode=function(){!this.inMultiSelectMode||this.inVirtualSelectionMode||this.multiSelect.toSingleRange()},this.getSelectedText=function(){var E="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var _=this.multiSelect.rangeList.ranges,x=[],S=0;S<_.length;S++)x.push(this.session.getTextRange(_[S]));var C=this.session.getDocument().getNewLineCharacter();E=x.join(C),E.length==(x.length-1)*C.length&&(E="")}else this.selection.isEmpty()||(E=this.session.getTextRange(this.getSelectionRange()));return E},this.$checkMultiselectChange=function(E,_){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var x=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&_==this.multiSelect.anchor)return;var S=_==this.multiSelect.anchor?x.cursor==x.start?x.end:x.start:x.cursor;S.row!=_.row||this.session.$clipPositionToDocument(S.row,S.column).column!=_.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(E,_,x){if(_=_||{},_.needle=E||_.needle,_.needle==null){var S=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();_.needle=this.session.getTextRange(S)}this.$search.set(_);var C=this.$search.findAll(this.session);if(!C.length)return 0;var A=this.multiSelect;x||A.toSingleRange(C[0]);for(var k=C.length;k--;)A.addRange(C[k],!0);return S&&A.rangeList.rangeAtPoint(S.start)&&A.addRange(S,!0),C.length},this.selectMoreLines=function(E,_){var x=this.selection.toOrientedRange(),S=x.cursor==x.end,C=this.session.documentToScreenPosition(x.cursor);this.selection.$desiredColumn&&(C.column=this.selection.$desiredColumn);var A=this.session.screenToDocumentPosition(C.row+E,C.column);if(x.isEmpty())var N=A;else var k=this.session.documentToScreenPosition(S?x.end:x.start),N=this.session.screenToDocumentPosition(k.row+E,k.column);if(S){var M=s.fromPoints(A,N);M.cursor=M.start}else{var M=s.fromPoints(N,A);M.cursor=M.end}if(M.desiredColumn=C.column,!this.selection.inMultiSelectMode)this.selection.addRange(x);else if(_)var I=x.cursor;this.selection.addRange(M),I&&this.selection.substractPoint(I)},this.transposeSelections=function(E){for(var _=this.session,x=_.multiSelect,S=x.ranges,C=S.length;C--;){var A=S[C];if(A.isEmpty()){var k=_.getWordRange(A.start.row,A.start.column);A.start.row=k.start.row,A.start.column=k.start.column,A.end.row=k.end.row,A.end.column=k.end.column}}x.mergeOverlappingRanges();for(var N=[],C=S.length;C--;){var A=S[C];N.unshift(_.getTextRange(A))}E<0?N.unshift(N.pop()):N.push(N.shift());for(var C=S.length;C--;){var A=S[C],M=A.clone();_.replace(A,N[C]),A.start.row=M.start.row,A.start.column=M.start.column}x.fromOrientedRange(x.ranges[0])},this.selectMore=function(E,_,x){var S=this.session,C=S.multiSelect,A=C.toOrientedRange();if(!(A.isEmpty()&&(A=S.getWordRange(A.start.row,A.start.column),A.cursor=E==-1?A.start:A.end,this.multiSelect.addRange(A),x))){var k=S.getTextRange(A),N=p(S,k,E);N&&(N.cursor=E==-1?N.start:N.end,this.session.unfold(N),this.multiSelect.addRange(N),this.renderer.scrollCursorIntoView(null,.5)),_&&this.multiSelect.substractPoint(A.cursor)}},this.alignCursors=function(){var E=this.session,_=E.multiSelect,x=_.ranges,S=-1,C=x.filter(function(W){if(W.cursor.row==S)return!0;S=W.cursor.row});if(!x.length||C.length==x.length-1){var A=this.selection.getRange(),k=A.start.row,N=A.end.row,M=k==N;if(M){var I=this.session.getLength(),D;do D=this.session.getLine(N);while(/[=:]/.test(D)&&++N<I);do D=this.session.getLine(k);while(/[=:]/.test(D)&&--k>0);k<0&&(k=0),N>=I&&(N=I-1)}var R=this.session.removeFullLines(k,N);R=this.$reAlignText(R,M),this.session.insert({row:k,column:0},R.join(`
`)+`
`),M||(A.start.column=0,A.end.column=R[R.length-1].length),this.selection.setRange(A)}else{C.forEach(function(W){_.substractPoint(W.cursor)});var O=0,B=1/0,z=x.map(function(W){var U=W.cursor,F=E.getLine(U.row),Y=F.substr(U.column).search(/\S/g);return Y==-1&&(Y=0),U.column>O&&(O=U.column),Y<B&&(B=Y),Y});x.forEach(function(W,U){var F=W.cursor,Y=O-F.column,V=z[U]-B;Y>V?E.insert(F,c.stringRepeat(" ",Y-V)):E.remove(new s(F.row,F.column,F.row,F.column-Y+V)),W.start.column=W.end.column=O,W.start.row=W.end.row=F.row,W.cursor=W.end}),_.fromOrientedRange(x[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}},this.$reAlignText=function(E,_){var x=!0,S=!0,C,A,k;return E.map(function(R){var O=R.match(/(\s*)(.*?)(\s*)([=:].*)/);return O?C==null?(C=O[1].length,A=O[2].length,k=O[3].length,O):(C+A+k!=O[1].length+O[2].length+O[3].length&&(S=!1),C!=O[1].length&&(x=!1),C>O[1].length&&(C=O[1].length),A<O[2].length&&(A=O[2].length),k>O[3].length&&(k=O[3].length),O):[R]}).map(_?M:x?S?I:M:D);function N(R){return c.stringRepeat(" ",R)}function M(R){return R[2]?N(C)+R[2]+N(A-R[2].length+k)+R[4].replace(/^([=:])\s+/,"$1 "):R[0]}function I(R){return R[2]?N(C+A-R[2].length)+R[2]+N(k)+R[4].replace(/^([=:])\s+/,"$1 "):R[0]}function D(R){return R[2]?N(C)+R[2]+N(k)+R[4].replace(/^([=:])\s+/,"$1 "):R[0]}}}).call(g.prototype);function y(E,_){return E.row==_.row&&E.column==_.column}r.onSessionChange=function(E){var _=E.session;_&&!_.multiSelect&&(_.$selectionMarkers=[],_.selection.$initRangeList(),_.multiSelect=_.selection),this.multiSelect=_&&_.multiSelect;var x=E.oldSession;x&&(x.multiSelect.off("addRange",this.$onAddRange),x.multiSelect.off("removeRange",this.$onRemoveRange),x.multiSelect.off("multiSelect",this.$onMultiSelect),x.multiSelect.off("singleSelect",this.$onSingleSelect),x.multiSelect.lead.off("change",this.$checkMultiselectChange),x.multiSelect.anchor.off("change",this.$checkMultiselectChange)),_&&(_.multiSelect.on("addRange",this.$onAddRange),_.multiSelect.on("removeRange",this.$onRemoveRange),_.multiSelect.on("multiSelect",this.$onMultiSelect),_.multiSelect.on("singleSelect",this.$onSingleSelect),_.multiSelect.lead.on("change",this.$checkMultiselectChange),_.multiSelect.anchor.on("change",this.$checkMultiselectChange)),_&&this.inMultiSelectMode!=_.selection.inMultiSelectMode&&(_.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};function v(E){E.$multiselectOnSessionChange||(E.$onAddRange=E.$onAddRange.bind(E),E.$onRemoveRange=E.$onRemoveRange.bind(E),E.$onMultiSelect=E.$onMultiSelect.bind(E),E.$onSingleSelect=E.$onSingleSelect.bind(E),E.$multiselectOnSessionChange=r.onSessionChange.bind(E),E.$checkMultiselectChange=E.$checkMultiselectChange.bind(E),E.$multiselectOnSessionChange(E),E.on("changeSession",E.$multiselectOnSessionChange),E.on("mousedown",l),E.commands.addCommands(d.defaultCommands),w(E))}function w(E){if(!E.textInput)return;var _=E.textInput.getElement(),x=!1;u.addListener(_,"keydown",function(C){var A=C.keyCode==18&&!(C.ctrlKey||C.shiftKey||C.metaKey);E.$blockSelectEnabled&&A?x||(E.renderer.setMouseCursor("crosshair"),x=!0):x&&S()},E),u.addListener(_,"keyup",S,E),u.addListener(_,"blur",S,E);function S(C){x&&(E.renderer.setMouseCursor(""),x=!1)}}r.MultiSelect=v,n("./config").defineOptions(g.prototype,"editor",{enableMultiselect:{set:function(E){v(this),E?this.on("mousedown",l):this.off("mousedown",l)},value:!0},enableBlockSelect:{set:function(E){this.$blockSelectEnabled=E},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(n,r,i){var o=n("../../range").Range,s=r.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(a,l,u){var c=a.getLine(u);return this.foldingStartMarker.test(c)?"start":l=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(c)?"end":""},this.getFoldWidgetRange=function(a,l,u){return null},this.indentationBlock=function(a,l,u){var c=/\S/,d=a.getLine(l),f=d.search(c);if(f!=-1){for(var h=u||d.length,p=a.getLength(),m=l,g=l;++l<p;){var y=a.getLine(l).search(c);if(y!=-1){if(y<=f){var v=a.getTokenAt(l,0);if(!v||v.type!=="string")break}g=l}}if(g>m){var w=a.getLine(g).length;return new o(m,h,g,w)}}},this.openingBracketBlock=function(a,l,u,c,d){var f={row:u,column:c+1},h=a.$findClosingBracket(l,f,d);if(h){var p=a.foldWidgets[h.row];return p==null&&(p=a.getFoldWidget(h.row)),p=="start"&&h.row>f.row&&(h.row--,h.column=a.getLine(h.row).length),o.fromPoints(f,h)}},this.closingBracketBlock=function(a,l,u,c,d){var f={row:u,column:c},h=a.$findOpeningBracket(l,f);if(h)return h.column++,f.column--,o.fromPoints(h,f)}}).call(s.prototype)}),ace.define("ace/ext/error_marker",["require","exports","module","ace/lib/dom","ace/range","ace/config"],function(n,r,i){var o=n("../lib/dom"),s=n("../range").Range,a=n("../config").nls;function l(c,d,f){for(var h=0,p=c.length-1;h<=p;){var m=h+p>>1,g=f(d,c[m]);if(g>0)h=m+1;else if(g<0)p=m-1;else return m}return-(h+1)}function u(c,d,f){var h=c.getAnnotations().sort(s.comparePoints);if(h.length){var p=l(h,{row:d,column:-1},s.comparePoints);p<0&&(p=-p-1),p>=h.length?p=f>0?0:h.length-1:p===0&&f<0&&(p=h.length-1);var m=h[p];if(!(!m||!f)){if(m.row===d){do m=h[p+=f];while(m&&m.row===d);if(!m)return h.slice()}var g=[];d=m.row;do g[f<0?"unshift":"push"](m),m=h[p+=f];while(m&&m.row==d);return g.length&&g}}}r.showErrorMarker=function(c,d){var f=c.session,h=c.getCursorPosition(),p=h.row,m=f.widgetManager.getWidgetsAtRow(p).filter(function(C){return C.type=="errorMarker"})[0];m?m.destroy():p-=d;var g=u(f,p,d),y;if(g){var v=g[0];h.column=(v.pos&&typeof v.column!="number"?v.pos.sc:v.column)||0,h.row=v.row,y=c.renderer.$gutterLayer.$annotations[h.row]}else{if(m)return;y={displayText:[a("error-marker.good-state","Looks good!")],className:"ace_ok"}}c.session.unfold(h.row),c.selection.moveToPosition(h);var w={row:h.row,fixedWidth:!0,coverGutter:!0,el:o.createElement("div"),type:"errorMarker"},E=w.el.appendChild(o.createElement("div")),_=w.el.appendChild(o.createElement("div"));_.className="error_widget_arrow "+y.className;var x=c.renderer.$cursorLayer.getPixelPosition(h).left;_.style.left=x+c.renderer.gutterWidth-5+"px",w.el.className="error_widget_wrapper",E.className="error_widget "+y.className,y.displayText.forEach(function(C,A){E.appendChild(o.createTextNode(C)),A<y.displayText.length-1&&E.appendChild(o.createElement("br"))}),E.appendChild(o.createElement("div"));var S=function(C,A,k){if(A===0&&(k==="esc"||k==="return"))return w.destroy(),{command:"null"}};w.destroy=function(){c.$mouseHandler.isMousePressed||(c.keyBinding.removeKeyboardHandler(S),f.widgetManager.removeLineWidget(w),c.off("changeSelection",w.destroy),c.off("changeSession",w.destroy),c.off("mouseup",w.destroy),c.off("change",w.destroy))},c.keyBinding.addKeyboardHandler(S),c.on("changeSelection",w.destroy),c.on("changeSession",w.destroy),c.on("mouseup",w.destroy),c.on("change",w.destroy),c.session.widgetManager.addLineWidget(w),w.el.onmousedown=c.focus.bind(c),c.renderer.scrollCursorIntoView(null,.5,{bottom:w.el.offsetHeight})},o.importCssString(`
    .error_widget_wrapper {
        background: inherit;
        color: inherit;
        border:none
    }
    .error_widget {
        border-top: solid 2px;
        border-bottom: solid 2px;
        margin: 5px 0;
        padding: 10px 40px;
        white-space: pre-wrap;
    }
    .error_widget.ace_error, .error_widget_arrow.ace_error{
        border-color: #ff5a5a
    }
    .error_widget.ace_warning, .error_widget_arrow.ace_warning{
        border-color: #F1D817
    }
    .error_widget.ace_info, .error_widget_arrow.ace_info{
        border-color: #5a5a5a
    }
    .error_widget.ace_ok, .error_widget_arrow.ace_ok{
        border-color: #5aaa5a
    }
    .error_widget_arrow {
        position: absolute;
        border: solid 5px;
        border-top-color: transparent!important;
        border-right-color: transparent!important;
        border-left-color: transparent!important;
        top: -5px;
    }
`,"error_marker.css",!1)}),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],function(n,r,i){n("./loader_build")(r);var o=n("./lib/dom"),s=n("./range").Range,a=n("./editor").Editor,l=n("./edit_session").EditSession,u=n("./undomanager").UndoManager,c=n("./virtual_renderer").VirtualRenderer;n("./worker/worker_client"),n("./keyboard/hash_handler"),n("./placeholder"),n("./multi_select"),n("./mode/folding/fold_mode"),n("./theme/textmate"),n("./ext/error_marker"),r.config=n("./config"),r.edit=function(f,h){if(typeof f=="string"){var p=f;if(f=document.getElementById(p),!f)throw new Error("ace.edit can't find div #"+p)}if(f&&f.env&&f.env.editor instanceof a)return f.env.editor;var m="";if(f&&/input|textarea/i.test(f.tagName)){var g=f;m=g.value,f=o.createElement("pre"),g.parentNode.replaceChild(f,g)}else f&&(m=f.textContent,f.innerHTML="");var y=r.createEditSession(m),v=new a(new c(f),y,h),w={document:y,editor:v,onResize:v.resize.bind(v,null)};return g&&(w.textarea=g),v.on("destroy",function(){w.editor.container.env=null}),v.container.env=v.env=w,v},r.createEditSession=function(f,h){var p=new l(f,h);return p.setUndoManager(new u),p},r.Range=s,r.Editor=a,r.EditSession=l,r.UndoManager=u,r.VirtualRenderer=c;var d=r.config.version;r.version=d}),function(){ace.require(["ace/ace"],function(n){n&&(n.config.init(!0),n.define=ace.define);var r=function(){return this}();!r&&typeof window<"u"&&(r=window),!r&&typeof self<"u"&&(r=self),r.ace||(r.ace=n);for(var i in n)n.hasOwnProperty(i)&&(r.ace[i]=n[i]);r.ace.default=r.ace,e&&(e.exports=r.ace)})}()}(L5)),L5.exports}var XE={exports:{}};XE.exports;var ioe;function Jwe(){return ioe||(ioe=1,function(e,t){var n=200,r="__lodash_hash_undefined__",i=1,o=2,s=9007199254740991,a="[object Arguments]",l="[object Array]",u="[object AsyncFunction]",c="[object Boolean]",d="[object Date]",f="[object Error]",h="[object Function]",p="[object GeneratorFunction]",m="[object Map]",g="[object Number]",y="[object Null]",v="[object Object]",w="[object Promise]",E="[object Proxy]",_="[object RegExp]",x="[object Set]",S="[object String]",C="[object Symbol]",A="[object Undefined]",k="[object WeakMap]",N="[object ArrayBuffer]",M="[object DataView]",I="[object Float32Array]",D="[object Float64Array]",R="[object Int8Array]",O="[object Int16Array]",B="[object Int32Array]",z="[object Uint8Array]",W="[object Uint8ClampedArray]",U="[object Uint16Array]",F="[object Uint32Array]",Y=/[\\^$.*+?()[\]{}|]/g,V=/^\[object .+?Constructor\]$/,G=/^(?:0|[1-9]\d*)$/,X={};X[I]=X[D]=X[R]=X[O]=X[B]=X[z]=X[W]=X[U]=X[F]=!0,X[a]=X[l]=X[N]=X[c]=X[M]=X[d]=X[f]=X[h]=X[m]=X[g]=X[v]=X[_]=X[x]=X[S]=X[k]=!1;var Z=typeof Ur=="object"&&Ur&&Ur.Object===Object&&Ur,oe=typeof self=="object"&&self&&self.Object===Object&&self,ne=Z||oe||Function("return this")(),ie=t&&!t.nodeType&&t,fe=ie&&!0&&e&&!e.nodeType&&e,se=fe&&fe.exports===ie,ae=se&&Z.process,Se=function(){try{return ae&&ae.binding&&ae.binding("util")}catch{}}(),Te=Se&&Se.isTypedArray;function Oe(me,te){for(var ce=-1,_e=me==null?0:me.length,At=0,Pt=[];++ce<_e;){var cn=me[ce];te(cn,ce,me)&&(Pt[At++]=cn)}return Pt}function We(me,te){for(var ce=-1,_e=te.length,At=me.length;++ce<_e;)me[At+ce]=te[ce];return me}function Fe(me,te){for(var ce=-1,_e=me==null?0:me.length;++ce<_e;)if(te(me[ce],ce,me))return!0;return!1}function Ue(me,te){for(var ce=-1,_e=Array(me);++ce<me;)_e[ce]=te(ce);return _e}function rt(me){return function(te){return me(te)}}function at(me,te){return me.has(te)}function ct(me,te){return me==null?void 0:me[te]}function vt(me){var te=-1,ce=Array(me.size);return me.forEach(function(_e,At){ce[++te]=[At,_e]}),ce}function gt(me,te){return function(ce){return me(te(ce))}}function Ze(me){var te=-1,ce=Array(me.size);return me.forEach(function(_e){ce[++te]=_e}),ce}var Tt=Array.prototype,ue=Function.prototype,xe=Object.prototype,$e=ne["__core-js_shared__"],Ye=ue.toString,tt=xe.hasOwnProperty,Et=function(){var me=/[^.]+$/.exec($e&&$e.keys&&$e.keys.IE_PROTO||"");return me?"Symbol(src)_1."+me:""}(),an=xe.toString,ln=RegExp("^"+Ye.call(tt).replace(Y,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wt=se?ne.Buffer:void 0,Dt=ne.Symbol,Ae=ne.Uint8Array,Qe=xe.propertyIsEnumerable,Ct=Tt.splice,xn=Dt?Dt.toStringTag:void 0,gr=Object.getOwnPropertySymbols,dr=Wt?Wt.isBuffer:void 0,ii=gt(Object.keys,Object),Rr=Hn(ne,"DataView"),er=Hn(ne,"Map"),Es=Hn(ne,"Promise"),Do=Hn(ne,"Set"),Ss=Hn(ne,"WeakMap"),$i=Hn(Object,"create"),Un=si(Rr),or=si(er),$o=si(Es),yr=si(Do),Jr=si(Ss),Ui=Dt?Dt.prototype:void 0,Ei=Ui?Ui.valueOf:void 0;function oi(me){var te=-1,ce=me==null?0:me.length;for(this.clear();++te<ce;){var _e=me[te];this.set(_e[0],_e[1])}}function Zl(){this.__data__=$i?$i(null):{},this.size=0}function Nc(me){var te=this.has(me)&&delete this.__data__[me];return this.size-=te?1:0,te}function La(me){var te=this.__data__;if($i){var ce=te[me];return ce===r?void 0:ce}return tt.call(te,me)?te[me]:void 0}function Hu(me){var te=this.__data__;return $i?te[me]!==void 0:tt.call(te,me)}function hi(me,te){var ce=this.__data__;return this.size+=this.has(me)?0:1,ce[me]=$i&&te===void 0?r:te,this}oi.prototype.clear=Zl,oi.prototype.delete=Nc,oi.prototype.get=La,oi.prototype.has=Hu,oi.prototype.set=hi;function kn(me){var te=-1,ce=me==null?0:me.length;for(this.clear();++te<ce;){var _e=me[te];this.set(_e[0],_e[1])}}function to(){this.__data__=[],this.size=0}function eu(me){var te=this.__data__,ce=pe(te,me);if(ce<0)return!1;var _e=te.length-1;return ce==_e?te.pop():Ct.call(te,ce,1),--this.size,!0}function hl(me){var te=this.__data__,ce=pe(te,me);return ce<0?void 0:te[ce][1]}function pl(me){return pe(this.__data__,me)>-1}function Vu(me,te){var ce=this.__data__,_e=pe(ce,me);return _e<0?(++this.size,ce.push([me,te])):ce[_e][1]=te,this}kn.prototype.clear=to,kn.prototype.delete=eu,kn.prototype.get=hl,kn.prototype.has=pl,kn.prototype.set=Vu;function Mo(me){var te=-1,ce=me==null?0:me.length;for(this.clear();++te<ce;){var _e=me[te];this.set(_e[0],_e[1])}}function Wd(){this.size=0,this.__data__={hash:new oi,map:new(er||kn),string:new oi}}function tu(me){var te=Qt(this,me).delete(me);return this.size-=te?1:0,te}function Gn(me){return Qt(this,me).get(me)}function Oc(me){return Qt(this,me).has(me)}function no(me,te){var ce=Qt(this,me),_e=ce.size;return ce.set(me,te),this.size+=ce.size==_e?0:1,this}Mo.prototype.clear=Wd,Mo.prototype.delete=tu,Mo.prototype.get=Gn,Mo.prototype.has=Oc,Mo.prototype.set=no;function Qo(me){var te=-1,ce=me==null?0:me.length;for(this.__data__=new Mo;++te<ce;)this.add(me[te])}function ro(me){return this.__data__.set(me,r),this}function nu(me){return this.__data__.has(me)}Qo.prototype.add=Qo.prototype.push=ro,Qo.prototype.has=nu;function Ts(me){var te=this.__data__=new kn(me);this.size=te.size}function ml(){this.__data__=new kn,this.size=0}function io(me){var te=this.__data__,ce=te.delete(me);return this.size=te.size,ce}function qd(me){return this.__data__.get(me)}function oo(me){return this.__data__.has(me)}function le(me,te){var ce=this.__data__;if(ce instanceof kn){var _e=ce.__data__;if(!er||_e.length<n-1)return _e.push([me,te]),this.size=++ce.size,this;ce=this.__data__=new Mo(_e)}return ce.set(me,te),this.size=ce.size,this}Ts.prototype.clear=ml,Ts.prototype.delete=io,Ts.prototype.get=qd,Ts.prototype.has=oo,Ts.prototype.set=le;function we(me,te){var ce=xo(me),_e=!ce&&qu(me),At=!ce&&!_e&&Kd(me),Pt=!ce&&!_e&&!At&&ru(me),cn=ce||_e||At||Pt,En=cn?Ue(me.length,String):[],Zt=En.length;for(var pn in me)tt.call(me,pn)&&!(cn&&(pn=="length"||At&&(pn=="offset"||pn=="parent")||Pt&&(pn=="buffer"||pn=="byteLength"||pn=="byteOffset")||Gd(pn,Zt)))&&En.push(pn);return En}function pe(me,te){for(var ce=me.length;ce--;)if(Jo(me[ce][0],te))return ce;return-1}function ke(me,te,ce){var _e=te(me);return xo(me)?_e:We(_e,ce(me))}function Re(me){return me==null?me===void 0?A:y:xn&&xn in Object(me)?so(me):pi(me)}function Ce(me){return Cs(me)&&Re(me)==a}function Ge(me,te,ce,_e,At){return me===te?!0:me==null||te==null||!Cs(me)&&!Cs(te)?me!==me&&te!==te:st(me,te,ce,_e,Ge,At)}function st(me,te,ce,_e,At,Pt){var cn=xo(me),En=xo(te),Zt=cn?l:ao(me),pn=En?l:ao(te);Zt=Zt==a?v:Zt,pn=pn==a?v:pn;var zn=Zt==v,kr=pn==v,Pr=Zt==pn;if(Pr&&Kd(me)){if(!Kd(te))return!1;cn=!0,zn=!1}if(Pr&&!zn)return Pt||(Pt=new Ts),cn||ru(me)?zt(me,te,ce,_e,At,Pt):_n(me,te,Zt,ce,_e,At,Pt);if(!(ce&i)){var Zr=zn&&tt.call(me,"__wrapped__"),Hi=kr&&tt.call(te,"__wrapped__");if(Zr||Hi){var Nr=Zr?me.value():me,lo=Hi?te.value():te;return Pt||(Pt=new Ts),At(Nr,lo,ce,_e,Pt)}}return Pr?(Pt||(Pt=new Ts),en(me,te,ce,_e,At,Pt)):!1}function ut(me){if(!Xd(me)||Yd(me))return!1;var te=Mi(me)?ln:V;return te.test(si(me))}function lt(me){return Cs(me)&&lm(me.length)&&!!X[Re(me)]}function _t(me){if(!Po(me))return ii(me);var te=[];for(var ce in Object(me))tt.call(me,ce)&&ce!="constructor"&&te.push(ce);return te}function zt(me,te,ce,_e,At,Pt){var cn=ce&i,En=me.length,Zt=te.length;if(En!=Zt&&!(cn&&Zt>En))return!1;var pn=Pt.get(me);if(pn&&Pt.get(te))return pn==te;var zn=-1,kr=!0,Pr=ce&o?new Qo:void 0;for(Pt.set(me,te),Pt.set(te,me);++zn<En;){var Zr=me[zn],Hi=te[zn];if(_e)var Nr=cn?_e(Hi,Zr,zn,te,me,Pt):_e(Zr,Hi,zn,me,te,Pt);if(Nr!==void 0){if(Nr)continue;kr=!1;break}if(Pr){if(!Fe(te,function(lo,yl){if(!at(Pr,yl)&&(Zr===lo||At(Zr,lo,ce,_e,Pt)))return Pr.push(yl)})){kr=!1;break}}else if(!(Zr===Hi||At(Zr,Hi,ce,_e,Pt))){kr=!1;break}}return Pt.delete(me),Pt.delete(te),kr}function _n(me,te,ce,_e,At,Pt,cn){switch(ce){case M:if(me.byteLength!=te.byteLength||me.byteOffset!=te.byteOffset)return!1;me=me.buffer,te=te.buffer;case N:return!(me.byteLength!=te.byteLength||!Pt(new Ae(me),new Ae(te)));case c:case d:case g:return Jo(+me,+te);case f:return me.name==te.name&&me.message==te.message;case _:case S:return me==te+"";case m:var En=vt;case x:var Zt=_e&i;if(En||(En=Ze),me.size!=te.size&&!Zt)return!1;var pn=cn.get(me);if(pn)return pn==te;_e|=o,cn.set(me,te);var zn=zt(En(me),En(te),_e,At,Pt,cn);return cn.delete(me),zn;case C:if(Ei)return Ei.call(me)==Ei.call(te)}return!1}function en(me,te,ce,_e,At,Pt){var cn=ce&i,En=On(me),Zt=En.length,pn=On(te),zn=pn.length;if(Zt!=zn&&!cn)return!1;for(var kr=Zt;kr--;){var Pr=En[kr];if(!(cn?Pr in te:tt.call(te,Pr)))return!1}var Zr=Pt.get(me);if(Zr&&Pt.get(te))return Zr==te;var Hi=!0;Pt.set(me,te),Pt.set(te,me);for(var Nr=cn;++kr<Zt;){Pr=En[kr];var lo=me[Pr],yl=te[Pr];if(_e)var iu=cn?_e(yl,lo,Pr,te,me,Pt):_e(lo,yl,Pr,me,te,Pt);if(!(iu===void 0?lo===yl||At(lo,yl,ce,_e,Pt):iu)){Hi=!1;break}Nr||(Nr=Pr=="constructor")}if(Hi&&!Nr){var cm=me.constructor,Lc=te.constructor;cm!=Lc&&"constructor"in me&&"constructor"in te&&!(typeof cm=="function"&&cm instanceof cm&&typeof Lc=="function"&&Lc instanceof Lc)&&(Hi=!1)}return Pt.delete(me),Pt.delete(te),Hi}function On(me){return ke(me,um,ta)}function Qt(me,te){var ce=me.__data__;return Wu(te)?ce[typeof te=="string"?"string":"hash"]:ce.map}function Hn(me,te){var ce=ct(me,te);return ut(ce)?ce:void 0}function so(me){var te=tt.call(me,xn),ce=me[xn];try{me[xn]=void 0;var _e=!0}catch{}var At=an.call(me);return _e&&(te?me[xn]=ce:delete me[xn]),At}var ta=gr?function(me){return me==null?[]:(me=Object(me),Oe(gr(me),function(te){return Qe.call(me,te)}))}:Fa,ao=Re;(Rr&&ao(new Rr(new ArrayBuffer(1)))!=M||er&&ao(new er)!=m||Es&&ao(Es.resolve())!=w||Do&&ao(new Do)!=x||Ss&&ao(new Ss)!=k)&&(ao=function(me){var te=Re(me),ce=te==v?me.constructor:void 0,_e=ce?si(ce):"";if(_e)switch(_e){case Un:return M;case or:return m;case $o:return w;case yr:return x;case Jr:return k}return te});function Gd(me,te){return te=te??s,!!te&&(typeof me=="number"||G.test(me))&&me>-1&&me%1==0&&me<te}function Wu(me){var te=typeof me;return te=="string"||te=="number"||te=="symbol"||te=="boolean"?me!=="__proto__":me===null}function Yd(me){return!!Et&&Et in me}function Po(me){var te=me&&me.constructor,ce=typeof te=="function"&&te.prototype||xe;return me===ce}function pi(me){return an.call(me)}function si(me){if(me!=null){try{return Ye.call(me)}catch{}try{return me+""}catch{}}return""}function Jo(me,te){return me===te||me!==me&&te!==te}var qu=Ce(function(){return arguments}())?Ce:function(me){return Cs(me)&&tt.call(me,"callee")&&!Qe.call(me,"callee")},xo=Array.isArray;function na(me){return me!=null&&lm(me.length)&&!Mi(me)}var Kd=dr||ra;function gl(me,te){return Ge(me,te)}function Mi(me){if(!Xd(me))return!1;var te=Re(me);return te==h||te==p||te==u||te==E}function lm(me){return typeof me=="number"&&me>-1&&me%1==0&&me<=s}function Xd(me){var te=typeof me;return me!=null&&(te=="object"||te=="function")}function Cs(me){return me!=null&&typeof me=="object"}var ru=Te?rt(Te):lt;function um(me){return na(me)?we(me):_t(me)}function Fa(){return[]}function ra(){return!1}e.exports=gl}(XE,XE.exports)),XE.exports}var Vc={},ooe;function Zwe(){if(ooe)return Vc;ooe=1,Object.defineProperty(Vc,"__esModule",{value:!0}),Vc.getAceInstance=Vc.debounce=Vc.editorEvents=Vc.editorOptions=void 0;var e=["minLines","maxLines","readOnly","highlightActiveLine","tabSize","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets"];Vc.editorOptions=e;var t=["onChange","onFocus","onInput","onBlur","onCopy","onPaste","onSelectionChange","onCursorChange","onScroll","handleOptions","updateRef"];Vc.editorEvents=t;var n=function(){var i;return typeof window>"u"?(Ur.window={},i=VD(),delete Ur.window):window.ace?(i=window.ace,i.acequire=window.ace.require||window.ace.acequire):i=VD(),i};Vc.getAceInstance=n;var r=function(i,o){var s=null;return function(){var a=this,l=arguments;clearTimeout(s),s=setTimeout(function(){i.apply(a,l)},o)}};return Vc.debounce=r,Vc}var soe;function fot(){if(soe)return Im;soe=1;var e=Im&&Im.__extends||function(){var u=function(c,d){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(f[p]=h[p])},u(c,d)};return function(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");u(c,d);function f(){this.constructor=c}c.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}(),t=Im&&Im.__assign||function(){return t=Object.assign||function(u){for(var c,d=1,f=arguments.length;d<f;d++){c=arguments[d];for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(u[h]=c[h])}return u},t.apply(this,arguments)};Object.defineProperty(Im,"__esModule",{value:!0});var n=VD(),r=AP(),i=Dv(),o=Jwe(),s=Zwe(),a=(0,s.getAceInstance)(),l=function(u){e(c,u);function c(d){var f=u.call(this,d)||this;return s.editorEvents.forEach(function(h){f[h]=f[h].bind(f)}),f.debounce=s.debounce,f}return c.prototype.isInShadow=function(d){for(var f=d&&d.parentNode;f;){if(f.toString()==="[object ShadowRoot]")return!0;f=f.parentNode}return!1},c.prototype.componentDidMount=function(){var d=this,f=this.props,h=f.className,p=f.onBeforeLoad,m=f.onValidate,g=f.mode,y=f.focus,v=f.theme,w=f.fontSize,E=f.lineHeight,_=f.value,x=f.defaultValue,S=f.showGutter,C=f.wrapEnabled,A=f.showPrintMargin,k=f.scrollMargin,N=k===void 0?[0,0,0,0]:k,M=f.keyboardHandler,I=f.onLoad,D=f.commands,R=f.annotations,O=f.markers,B=f.placeholder;this.editor=a.edit(this.refEditor),p&&p(a);for(var z=Object.keys(this.props.editorProps),W=0;W<z.length;W++)this.editor[z[W]]=this.props.editorProps[z[W]];this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),this.editor.renderer.setScrollMargin(N[0],N[1],N[2],N[3]),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.getSession().setMode(typeof g=="string"?"ace/mode/".concat(g):g),v&&v!==""&&this.editor.setTheme("ace/theme/".concat(v)),this.editor.setFontSize(typeof w=="number"?"".concat(w,"px"):w),E&&(this.editor.container.style.lineHeight=typeof E=="number"?"".concat(E,"px"):"".concat(E),this.editor.renderer.updateFontSize()),this.editor.getSession().setValue(x||_||""),this.props.navigateToFileEnd&&this.editor.navigateFileEnd(),this.editor.renderer.setShowGutter(S),this.editor.getSession().setUseWrapMode(C),this.editor.setShowPrintMargin(A),this.editor.on("focus",this.onFocus),this.editor.on("blur",this.onBlur),this.editor.on("copy",this.onCopy),this.editor.on("paste",this.onPaste),this.editor.on("change",this.onChange),this.editor.on("input",this.onInput),B&&this.updatePlaceholder(),this.editor.getSession().selection.on("changeSelection",this.onSelectionChange),this.editor.getSession().selection.on("changeCursor",this.onCursorChange),m&&this.editor.getSession().on("changeAnnotation",function(){var F=d.editor.getSession().getAnnotations();d.props.onValidate(F)}),this.editor.session.on("changeScrollTop",this.onScroll),this.editor.getSession().setAnnotations(R||[]),O&&O.length>0&&this.handleMarkers(O);var U=this.editor.$options;s.editorOptions.forEach(function(F){U.hasOwnProperty(F)?d.editor.setOption(F,d.props[F]):d.props[F]&&console.warn("ReactAce: editor option ".concat(F," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}),this.handleOptions(this.props),Array.isArray(D)&&D.forEach(function(F){typeof F.exec=="string"?d.editor.commands.bindKey(F.bindKey,F.exec):d.editor.commands.addCommand(F)}),M&&this.editor.setKeyboardHandler("ace/keyboard/"+M),h&&(this.refEditor.className+=" "+h),I&&I(this.editor),this.editor.resize(),y&&this.editor.focus()},c.prototype.componentDidUpdate=function(d){for(var f=d,h=this.props,p=0;p<s.editorOptions.length;p++){var m=s.editorOptions[p];h[m]!==f[m]&&this.editor.setOption(m,h[m])}if(h.className!==f.className){var g=this.refEditor.className,y=g.trim().split(" "),v=f.className.trim().split(" ");v.forEach(function(_){var x=y.indexOf(_);y.splice(x,1)}),this.refEditor.className=" "+h.className+" "+y.join(" ")}var w=this.editor&&h.value!=null&&this.editor.getValue()!==h.value;if(w){this.silent=!0;var E=this.editor.session.selection.toJSON();this.editor.setValue(h.value,h.cursorStart),this.editor.session.selection.fromJSON(E),this.silent=!1}h.placeholder!==f.placeholder&&this.updatePlaceholder(),h.mode!==f.mode&&this.editor.getSession().setMode(typeof h.mode=="string"?"ace/mode/".concat(h.mode):h.mode),h.theme!==f.theme&&this.editor.setTheme("ace/theme/"+h.theme),h.keyboardHandler!==f.keyboardHandler&&(h.keyboardHandler?this.editor.setKeyboardHandler("ace/keyboard/"+h.keyboardHandler):this.editor.setKeyboardHandler(null)),h.fontSize!==f.fontSize&&this.editor.setFontSize(typeof h.fontSize=="number"?"".concat(h.fontSize,"px"):h.fontSize),h.lineHeight!==f.lineHeight&&(this.editor.container.style.lineHeight=typeof h.lineHeight=="number"?"".concat(h.lineHeight,"px"):h.lineHeight,this.editor.renderer.updateFontSize()),h.wrapEnabled!==f.wrapEnabled&&this.editor.getSession().setUseWrapMode(h.wrapEnabled),h.showPrintMargin!==f.showPrintMargin&&this.editor.setShowPrintMargin(h.showPrintMargin),h.showGutter!==f.showGutter&&this.editor.renderer.setShowGutter(h.showGutter),o(h.setOptions,f.setOptions)||this.handleOptions(h),(w||!o(h.annotations,f.annotations))&&this.editor.getSession().setAnnotations(h.annotations||[]),!o(h.markers,f.markers)&&Array.isArray(h.markers)&&this.handleMarkers(h.markers),o(h.scrollMargin,f.scrollMargin)||this.handleScrollMargins(h.scrollMargin),(d.height!==this.props.height||d.width!==this.props.width)&&this.editor.resize(),this.props.focus&&!d.focus&&this.editor.focus()},c.prototype.handleScrollMargins=function(d){d===void 0&&(d=[0,0,0,0]),this.editor.renderer.setScrollMargin(d[0],d[1],d[2],d[3])},c.prototype.componentWillUnmount=function(){this.editor&&(this.editor.destroy(),this.editor=null)},c.prototype.onChange=function(d){if(this.editor&&this.props.onChange&&!this.silent){var f=this.editor.getValue();this.props.onChange(f,d)}},c.prototype.onSelectionChange=function(d){if(this.props.onSelectionChange){var f=this.editor.getSelection();this.props.onSelectionChange(f,d)}},c.prototype.onCursorChange=function(d){if(this.props.onCursorChange){var f=this.editor.getSelection();this.props.onCursorChange(f,d)}},c.prototype.onInput=function(d){this.props.onInput&&this.props.onInput(d),this.props.placeholder&&this.updatePlaceholder()},c.prototype.onFocus=function(d){this.props.onFocus&&this.props.onFocus(d,this.editor)},c.prototype.onBlur=function(d){this.props.onBlur&&this.props.onBlur(d,this.editor)},c.prototype.onCopy=function(d){var f=d.text;this.props.onCopy&&this.props.onCopy(f)},c.prototype.onPaste=function(d){var f=d.text;this.props.onPaste&&this.props.onPaste(f)},c.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},c.prototype.handleOptions=function(d){for(var f=Object.keys(d.setOptions),h=0;h<f.length;h++)this.editor.setOption(f[h],d.setOptions[f[h]])},c.prototype.handleMarkers=function(d){var f=this,h=this.editor.getSession().getMarkers(!0);for(var p in h)h.hasOwnProperty(p)&&this.editor.getSession().removeMarker(h[p].id);h=this.editor.getSession().getMarkers(!1);for(var p in h)h.hasOwnProperty(p)&&h[p].clazz!=="ace_active-line"&&h[p].clazz!=="ace_selected-word"&&this.editor.getSession().removeMarker(h[p].id);d.forEach(function(m){var g=m.startRow,y=m.startCol,v=m.endRow,w=m.endCol,E=m.className,_=m.type,x=m.inFront,S=x===void 0?!1:x,C=new n.Range(g,y,v,w);f.editor.getSession().addMarker(C,E,_,S)})},c.prototype.updatePlaceholder=function(){var d=this.editor,f=this.props.placeholder,h=!d.session.getValue().length,p=d.renderer.placeholderNode;!h&&p?(d.renderer.scroller.removeChild(d.renderer.placeholderNode),d.renderer.placeholderNode=null):h&&!p?(p=d.renderer.placeholderNode=document.createElement("div"),p.textContent=f||"",p.className="ace_comment ace_placeholder",p.style.padding="0 9px",p.style.position="absolute",p.style.zIndex="3",d.renderer.scroller.appendChild(p)):h&&p&&(p.textContent=f)},c.prototype.updateRef=function(d){this.refEditor=d},c.prototype.render=function(){var d=this.props,f=d.name,h=d.width,p=d.height,m=d.style,g=t({width:h,height:p},m);return i.createElement("div",{ref:this.updateRef,id:f,style:g})},c.propTypes={mode:r.oneOfType([r.string,r.object]),focus:r.bool,theme:r.string,name:r.string,className:r.string,height:r.string,width:r.string,fontSize:r.oneOfType([r.number,r.string]),lineHeight:r.oneOfType([r.number,r.string]),showGutter:r.bool,onChange:r.func,onCopy:r.func,onPaste:r.func,onFocus:r.func,onInput:r.func,onBlur:r.func,onScroll:r.func,value:r.string,defaultValue:r.string,onLoad:r.func,onSelectionChange:r.func,onCursorChange:r.func,onBeforeLoad:r.func,onValidate:r.func,minLines:r.number,maxLines:r.number,readOnly:r.bool,highlightActiveLine:r.bool,tabSize:r.number,showPrintMargin:r.bool,cursorStart:r.number,debounceChangePeriod:r.number,editorProps:r.object,setOptions:r.object,style:r.object,scrollMargin:r.array,annotations:r.array,markers:r.array,keyboardHandler:r.string,wrapEnabled:r.bool,enableSnippets:r.bool,enableBasicAutocompletion:r.oneOfType([r.bool,r.array]),enableLiveAutocompletion:r.oneOfType([r.bool,r.array]),navigateToFileEnd:r.bool,commands:r.array,placeholder:r.string},c.defaultProps={name:"ace-editor",focus:!1,mode:"",theme:"",height:"500px",width:"500px",fontSize:12,enableSnippets:!1,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,placeholder:null,navigateToFileEnd:!0},c}(i.Component);return Im.default=l,Im}var t1={},Rm={},F5={exports:{}},aoe;function hot(){return aoe||(aoe=1,function(e,t){ace.define("ace/split",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/editor","ace/virtual_renderer","ace/edit_session"],function(n,r,i){var o=n("./lib/oop");n("./lib/lang");var s=n("./lib/event_emitter").EventEmitter,a=n("./editor").Editor,l=n("./virtual_renderer").VirtualRenderer,u=n("./edit_session").EditSession,c;c=function(d,f,h){this.BELOW=1,this.BESIDE=0,this.$container=d,this.$theme=f,this.$splits=0,this.$editorCSS="",this.$editors=[],this.$orientation=this.BESIDE,this.setSplits(h||1),this.$cEditor=this.$editors[0],this.on("focus",(function(p){this.$cEditor=p}).bind(this))},(function(){o.implement(this,s),this.$createEditor=function(){var d=document.createElement("div");d.className=this.$editorCSS,d.style.cssText="position: absolute; top:0px; bottom:0px",this.$container.appendChild(d);var f=new a(new l(d,this.$theme));return f.on("focus",(function(){this._emit("focus",f)}).bind(this)),this.$editors.push(f),f.setFontSize(this.$fontSize),f},this.setSplits=function(d){var f;if(d<1)throw"The number of splits have to be > 0!";if(d!=this.$splits){if(d>this.$splits){for(;this.$splits<this.$editors.length&&this.$splits<d;)f=this.$editors[this.$splits],this.$container.appendChild(f.container),f.setFontSize(this.$fontSize),this.$splits++;for(;this.$splits<d;)this.$createEditor(),this.$splits++}else for(;this.$splits>d;)f=this.$editors[this.$splits-1],this.$container.removeChild(f.container),this.$splits--;this.resize()}},this.getSplits=function(){return this.$splits},this.getEditor=function(d){return this.$editors[d]},this.getCurrentEditor=function(){return this.$cEditor},this.focus=function(){this.$cEditor.focus()},this.blur=function(){this.$cEditor.blur()},this.setTheme=function(d){this.$editors.forEach(function(f){f.setTheme(d)})},this.setKeyboardHandler=function(d){this.$editors.forEach(function(f){f.setKeyboardHandler(d)})},this.forEach=function(d,f){this.$editors.forEach(d,f)},this.$fontSize="",this.setFontSize=function(d){this.$fontSize=d,this.forEach(function(f){f.setFontSize(d)})},this.$cloneSession=function(d){var f=new u(d.getDocument(),d.getMode()),h=d.getUndoManager();return f.setUndoManager(h),f.setTabSize(d.getTabSize()),f.setUseSoftTabs(d.getUseSoftTabs()),f.setOverwrite(d.getOverwrite()),f.setBreakpoints(d.getBreakpoints()),f.setUseWrapMode(d.getUseWrapMode()),f.setUseWorker(d.getUseWorker()),f.setWrapLimitRange(d.$wrapLimitRange.min,d.$wrapLimitRange.max),f.$foldData=d.$cloneFoldData(),f},this.setSession=function(d,f){var h;f==null?h=this.$cEditor:h=this.$editors[f];var p=this.$editors.some(function(m){return m.session===d});return p&&(d=this.$cloneSession(d)),h.setSession(d),d},this.getOrientation=function(){return this.$orientation},this.setOrientation=function(d){this.$orientation!=d&&(this.$orientation=d,this.resize())},this.resize=function(){var d=this.$container.clientWidth,f=this.$container.clientHeight,h;if(this.$orientation==this.BESIDE)for(var p=d/this.$splits,m=0;m<this.$splits;m++)h=this.$editors[m],h.container.style.width=p+"px",h.container.style.top="0px",h.container.style.left=m*p+"px",h.container.style.height=f+"px",h.resize();else for(var g=f/this.$splits,m=0;m<this.$splits;m++)h=this.$editors[m],h.container.style.width=d+"px",h.container.style.top=m*g+"px",h.container.style.left="0px",h.container.style.height=g+"px",h.resize()}}).call(c.prototype),r.Split=c}),ace.define("ace/ext/split",["require","exports","module","ace/split"],function(n,r,i){i.exports=n("../split")}),function(){ace.require(["ace/ext/split"],function(n){e&&(e.exports=n)})}()}(F5)),F5.exports}var B5,loe;function pot(){if(loe)return B5;loe=1;var e="Expected a function",t="__lodash_hash_undefined__",n="[object Function]",r="[object GeneratorFunction]",i="[object Symbol]",o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/,a=/^\./,l=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,u=/[\\^$.*+?()[\]{}|]/g,c=/\\(\\)?/g,d=/^\[object .+?Constructor\]$/,f=typeof Ur=="object"&&Ur&&Ur.Object===Object&&Ur,h=typeof self=="object"&&self&&self.Object===Object&&self,p=f||h||Function("return this")();function m(Ae,Qe){return Ae==null?void 0:Ae[Qe]}function g(Ae){var Qe=!1;if(Ae!=null&&typeof Ae.toString!="function")try{Qe=!!(Ae+"")}catch{}return Qe}var y=Array.prototype,v=Function.prototype,w=Object.prototype,E=p["__core-js_shared__"],_=function(){var Ae=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||"");return Ae?"Symbol(src)_1."+Ae:""}(),x=v.toString,S=w.hasOwnProperty,C=w.toString,A=RegExp("^"+x.call(S).replace(u,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),k=p.Symbol,N=y.splice,M=at(p,"Map"),I=at(Object,"create"),D=k?k.prototype:void 0,R=D?D.toString:void 0;function O(Ae){var Qe=-1,Ct=Ae?Ae.length:0;for(this.clear();++Qe<Ct;){var xn=Ae[Qe];this.set(xn[0],xn[1])}}function B(){this.__data__=I?I(null):{}}function z(Ae){return this.has(Ae)&&delete this.__data__[Ae]}function W(Ae){var Qe=this.__data__;if(I){var Ct=Qe[Ae];return Ct===t?void 0:Ct}return S.call(Qe,Ae)?Qe[Ae]:void 0}function U(Ae){var Qe=this.__data__;return I?Qe[Ae]!==void 0:S.call(Qe,Ae)}function F(Ae,Qe){var Ct=this.__data__;return Ct[Ae]=I&&Qe===void 0?t:Qe,this}O.prototype.clear=B,O.prototype.delete=z,O.prototype.get=W,O.prototype.has=U,O.prototype.set=F;function Y(Ae){var Qe=-1,Ct=Ae?Ae.length:0;for(this.clear();++Qe<Ct;){var xn=Ae[Qe];this.set(xn[0],xn[1])}}function V(){this.__data__=[]}function G(Ae){var Qe=this.__data__,Ct=Te(Qe,Ae);if(Ct<0)return!1;var xn=Qe.length-1;return Ct==xn?Qe.pop():N.call(Qe,Ct,1),!0}function X(Ae){var Qe=this.__data__,Ct=Te(Qe,Ae);return Ct<0?void 0:Qe[Ct][1]}function Z(Ae){return Te(this.__data__,Ae)>-1}function oe(Ae,Qe){var Ct=this.__data__,xn=Te(Ct,Ae);return xn<0?Ct.push([Ae,Qe]):Ct[xn][1]=Qe,this}Y.prototype.clear=V,Y.prototype.delete=G,Y.prototype.get=X,Y.prototype.has=Z,Y.prototype.set=oe;function ne(Ae){var Qe=-1,Ct=Ae?Ae.length:0;for(this.clear();++Qe<Ct;){var xn=Ae[Qe];this.set(xn[0],xn[1])}}function ie(){this.__data__={hash:new O,map:new(M||Y),string:new O}}function fe(Ae){return rt(this,Ae).delete(Ae)}function se(Ae){return rt(this,Ae).get(Ae)}function ae(Ae){return rt(this,Ae).has(Ae)}function Se(Ae,Qe){return rt(this,Ae).set(Ae,Qe),this}ne.prototype.clear=ie,ne.prototype.delete=fe,ne.prototype.get=se,ne.prototype.has=ae,ne.prototype.set=Se;function Te(Ae,Qe){for(var Ct=Ae.length;Ct--;)if($e(Ae[Ct][0],Qe))return Ct;return-1}function Oe(Ae,Qe){Qe=ct(Qe,Ae)?[Qe]:Ue(Qe);for(var Ct=0,xn=Qe.length;Ae!=null&&Ct<xn;)Ae=Ae[Tt(Qe[Ct++])];return Ct&&Ct==xn?Ae:void 0}function We(Ae){if(!Et(Ae)||gt(Ae))return!1;var Qe=tt(Ae)||g(Ae)?A:d;return Qe.test(ue(Ae))}function Fe(Ae){if(typeof Ae=="string")return Ae;if(ln(Ae))return R?R.call(Ae):"";var Qe=Ae+"";return Qe=="0"&&1/Ae==-1/0?"-0":Qe}function Ue(Ae){return Ye(Ae)?Ae:Ze(Ae)}function rt(Ae,Qe){var Ct=Ae.__data__;return vt(Qe)?Ct[typeof Qe=="string"?"string":"hash"]:Ct.map}function at(Ae,Qe){var Ct=m(Ae,Qe);return We(Ct)?Ct:void 0}function ct(Ae,Qe){if(Ye(Ae))return!1;var Ct=typeof Ae;return Ct=="number"||Ct=="symbol"||Ct=="boolean"||Ae==null||ln(Ae)?!0:s.test(Ae)||!o.test(Ae)||Qe!=null&&Ae in Object(Qe)}function vt(Ae){var Qe=typeof Ae;return Qe=="string"||Qe=="number"||Qe=="symbol"||Qe=="boolean"?Ae!=="__proto__":Ae===null}function gt(Ae){return!!_&&_ in Ae}var Ze=xe(function(Ae){Ae=Wt(Ae);var Qe=[];return a.test(Ae)&&Qe.push(""),Ae.replace(l,function(Ct,xn,gr,dr){Qe.push(gr?dr.replace(c,"$1"):xn||Ct)}),Qe});function Tt(Ae){if(typeof Ae=="string"||ln(Ae))return Ae;var Qe=Ae+"";return Qe=="0"&&1/Ae==-1/0?"-0":Qe}function ue(Ae){if(Ae!=null){try{return x.call(Ae)}catch{}try{return Ae+""}catch{}}return""}function xe(Ae,Qe){if(typeof Ae!="function"||Qe&&typeof Qe!="function")throw new TypeError(e);var Ct=function(){var xn=arguments,gr=Qe?Qe.apply(this,xn):xn[0],dr=Ct.cache;if(dr.has(gr))return dr.get(gr);var ii=Ae.apply(this,xn);return Ct.cache=dr.set(gr,ii),ii};return Ct.cache=new(xe.Cache||ne),Ct}xe.Cache=ne;function $e(Ae,Qe){return Ae===Qe||Ae!==Ae&&Qe!==Qe}var Ye=Array.isArray;function tt(Ae){var Qe=Et(Ae)?C.call(Ae):"";return Qe==n||Qe==r}function Et(Ae){var Qe=typeof Ae;return!!Ae&&(Qe=="object"||Qe=="function")}function an(Ae){return!!Ae&&typeof Ae=="object"}function ln(Ae){return typeof Ae=="symbol"||an(Ae)&&C.call(Ae)==i}function Wt(Ae){return Ae==null?"":Fe(Ae)}function Dt(Ae,Qe,Ct){var xn=Ae==null?void 0:Oe(Ae,Qe);return xn===void 0?Ct:xn}return B5=Dt,B5}var uoe;function exe(){if(uoe)return Rm;uoe=1;var e=Rm&&Rm.__extends||function(){var d=function(f,h){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(p[g]=m[g])},d(f,h)};return function(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");d(f,h);function p(){this.constructor=f}f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}}(),t=Rm&&Rm.__assign||function(){return t=Object.assign||function(d){for(var f,h=1,p=arguments.length;h<p;h++){f=arguments[h];for(var m in f)Object.prototype.hasOwnProperty.call(f,m)&&(d[m]=f[m])}return d},t.apply(this,arguments)};Object.defineProperty(Rm,"__esModule",{value:!0});var n=Zwe(),r=(0,n.getAceInstance)(),i=VD(),o=hot(),s=AP(),a=Dv(),l=Jwe(),u=pot(),c=function(d){e(f,d);function f(h){var p=d.call(this,h)||this;return n.editorEvents.forEach(function(m){p[m]=p[m].bind(p)}),p.debounce=n.debounce,p}return f.prototype.isInShadow=function(h){for(var p=h&&h.parentNode;p;){if(p.toString()==="[object ShadowRoot]")return!0;p=p.parentNode}return!1},f.prototype.componentDidMount=function(){var h=this,p=this.props,m=p.className,g=p.onBeforeLoad,y=p.mode,v=p.focus,w=p.theme,E=p.fontSize,_=p.value,x=p.defaultValue,S=p.cursorStart,C=p.showGutter,A=p.wrapEnabled,k=p.showPrintMargin,N=p.scrollMargin,M=N===void 0?[0,0,0,0]:N,I=p.keyboardHandler,D=p.onLoad,R=p.commands,O=p.annotations,B=p.markers,z=p.splits;this.editor=r.edit(this.refEditor),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.setTheme("ace/theme/".concat(w)),g&&g(r);var W=Object.keys(this.props.editorProps),U=new o.Split(this.editor.container,"ace/theme/".concat(w),z);this.editor.env.split=U,this.splitEditor=U.getEditor(0),this.split=U,this.editor.setShowPrintMargin(!1),this.editor.renderer.setShowGutter(!1);var F=this.splitEditor.$options;this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),U.forEach(function(V,G){for(var X=0;X<W.length;X++)V[W[X]]=h.props.editorProps[W[X]];var Z=u(x,G),oe=u(_,G,"");V.session.setUndoManager(new r.UndoManager),V.setTheme("ace/theme/".concat(w)),V.renderer.setScrollMargin(M[0],M[1],M[2],M[3]),V.getSession().setMode("ace/mode/".concat(y)),V.setFontSize(E),V.renderer.setShowGutter(C),V.getSession().setUseWrapMode(A),V.setShowPrintMargin(k),V.on("focus",h.onFocus),V.on("blur",h.onBlur),V.on("input",h.onInput),V.on("copy",h.onCopy),V.on("paste",h.onPaste),V.on("change",h.onChange),V.getSession().selection.on("changeSelection",h.onSelectionChange),V.getSession().selection.on("changeCursor",h.onCursorChange),V.session.on("changeScrollTop",h.onScroll),V.setValue(Z===void 0?oe:Z,S);var ne=u(O,G,[]),ie=u(B,G,[]);V.getSession().setAnnotations(ne),ie&&ie.length>0&&h.handleMarkers(ie,V);for(var X=0;X<n.editorOptions.length;X++){var fe=n.editorOptions[X];F.hasOwnProperty(fe)?V.setOption(fe,h.props[fe]):h.props[fe]&&console.warn("ReaceAce: editor option ".concat(fe," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}h.handleOptions(h.props,V),Array.isArray(R)&&R.forEach(function(se){typeof se.exec=="string"?V.commands.bindKey(se.bindKey,se.exec):V.commands.addCommand(se)}),I&&V.setKeyboardHandler("ace/keyboard/"+I)}),m&&(this.refEditor.className+=" "+m),v&&this.splitEditor.focus();var Y=this.editor.env.split;Y.setOrientation(this.props.orientation==="below"?Y.BELOW:Y.BESIDE),Y.resize(!0),D&&D(Y)},f.prototype.componentDidUpdate=function(h){var p=this,m=h,g=this.props,y=this.editor.env.split;if(g.splits!==m.splits&&y.setSplits(g.splits),g.orientation!==m.orientation&&y.setOrientation(g.orientation==="below"?y.BELOW:y.BESIDE),y.forEach(function(_,x){g.mode!==m.mode&&_.getSession().setMode("ace/mode/"+g.mode),g.keyboardHandler!==m.keyboardHandler&&(g.keyboardHandler?_.setKeyboardHandler("ace/keyboard/"+g.keyboardHandler):_.setKeyboardHandler(null)),g.fontSize!==m.fontSize&&_.setFontSize(g.fontSize),g.wrapEnabled!==m.wrapEnabled&&_.getSession().setUseWrapMode(g.wrapEnabled),g.showPrintMargin!==m.showPrintMargin&&_.setShowPrintMargin(g.showPrintMargin),g.showGutter!==m.showGutter&&_.renderer.setShowGutter(g.showGutter);for(var S=0;S<n.editorOptions.length;S++){var C=n.editorOptions[S];g[C]!==m[C]&&_.setOption(C,g[C])}l(g.setOptions,m.setOptions)||p.handleOptions(g,_);var A=u(g.value,x,"");if(_.getValue()!==A){p.silent=!0;var k=_.session.selection.toJSON();_.setValue(A,g.cursorStart),_.session.selection.fromJSON(k),p.silent=!1}var N=u(g.annotations,x,[]),M=u(m.annotations,x,[]);l(N,M)||_.getSession().setAnnotations(N);var I=u(g.markers,x,[]),D=u(m.markers,x,[]);!l(I,D)&&Array.isArray(I)&&p.handleMarkers(I,_)}),g.className!==m.className){var v=this.refEditor.className,w=v.trim().split(" "),E=m.className.trim().split(" ");E.forEach(function(_){var x=w.indexOf(_);w.splice(x,1)}),this.refEditor.className=" "+g.className+" "+w.join(" ")}g.theme!==m.theme&&y.setTheme("ace/theme/"+g.theme),g.focus&&!m.focus&&this.splitEditor.focus(),(g.height!==this.props.height||g.width!==this.props.width)&&this.editor.resize()},f.prototype.componentWillUnmount=function(){this.editor.destroy(),this.editor=null},f.prototype.onChange=function(h){if(this.props.onChange&&!this.silent){var p=[];this.editor.env.split.forEach(function(m){p.push(m.getValue())}),this.props.onChange(p,h)}},f.prototype.onSelectionChange=function(h){if(this.props.onSelectionChange){var p=[];this.editor.env.split.forEach(function(m){p.push(m.getSelection())}),this.props.onSelectionChange(p,h)}},f.prototype.onCursorChange=function(h){if(this.props.onCursorChange){var p=[];this.editor.env.split.forEach(function(m){p.push(m.getSelection())}),this.props.onCursorChange(p,h)}},f.prototype.onFocus=function(h){this.props.onFocus&&this.props.onFocus(h)},f.prototype.onInput=function(h){this.props.onInput&&this.props.onInput(h)},f.prototype.onBlur=function(h){this.props.onBlur&&this.props.onBlur(h)},f.prototype.onCopy=function(h){this.props.onCopy&&this.props.onCopy(h)},f.prototype.onPaste=function(h){this.props.onPaste&&this.props.onPaste(h)},f.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},f.prototype.handleOptions=function(h,p){for(var m=Object.keys(h.setOptions),g=0;g<m.length;g++)p.setOption(m[g],h.setOptions[m[g]])},f.prototype.handleMarkers=function(h,p){var m=p.getSession().getMarkers(!0);for(var g in m)m.hasOwnProperty(g)&&p.getSession().removeMarker(m[g].id);m=p.getSession().getMarkers(!1);for(var g in m)m.hasOwnProperty(g)&&p.getSession().removeMarker(m[g].id);h.forEach(function(y){var v=y.startRow,w=y.startCol,E=y.endRow,_=y.endCol,x=y.className,S=y.type,C=y.inFront,A=C===void 0?!1:C,k=new i.Range(v,w,E,_);p.getSession().addMarker(k,x,S,A)})},f.prototype.updateRef=function(h){this.refEditor=h},f.prototype.render=function(){var h=this.props,p=h.name,m=h.width,g=h.height,y=h.style,v=t({width:m,height:g},y);return a.createElement("div",{ref:this.updateRef,id:p,style:v})},f.propTypes={className:s.string,debounceChangePeriod:s.number,defaultValue:s.arrayOf(s.string),focus:s.bool,fontSize:s.oneOfType([s.number,s.string]),height:s.string,mode:s.string,name:s.string,onBlur:s.func,onChange:s.func,onCopy:s.func,onFocus:s.func,onInput:s.func,onLoad:s.func,onPaste:s.func,onScroll:s.func,orientation:s.string,showGutter:s.bool,splits:s.number,theme:s.string,value:s.arrayOf(s.string),width:s.string,onSelectionChange:s.func,onCursorChange:s.func,onBeforeLoad:s.func,minLines:s.number,maxLines:s.number,readOnly:s.bool,highlightActiveLine:s.bool,tabSize:s.number,showPrintMargin:s.bool,cursorStart:s.number,editorProps:s.object,setOptions:s.object,style:s.object,scrollMargin:s.array,annotations:s.array,markers:s.array,keyboardHandler:s.string,wrapEnabled:s.bool,enableBasicAutocompletion:s.oneOfType([s.bool,s.array]),enableLiveAutocompletion:s.oneOfType([s.bool,s.array]),commands:s.array},f.defaultProps={name:"ace-editor",focus:!1,orientation:"beside",splits:2,mode:"",theme:"",height:"500px",width:"500px",value:[],fontSize:12,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1},f}(a.Component);return Rm.default=c,Rm}var j5={exports:{}},coe;function mot(){return coe||(coe=1,function(e){var t=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},n=-1,r=1,i=0;t.Diff=function(o,s){return[o,s]},t.prototype.diff_main=function(o,s,a,l){typeof l>"u"&&(this.Diff_Timeout<=0?l=Number.MAX_VALUE:l=new Date().getTime()+this.Diff_Timeout*1e3);var u=l;if(o==null||s==null)throw new Error("Null input. (diff_main)");if(o==s)return o?[new t.Diff(i,o)]:[];typeof a>"u"&&(a=!0);var c=a,d=this.diff_commonPrefix(o,s),f=o.substring(0,d);o=o.substring(d),s=s.substring(d),d=this.diff_commonSuffix(o,s);var h=o.substring(o.length-d);o=o.substring(0,o.length-d),s=s.substring(0,s.length-d);var p=this.diff_compute_(o,s,c,u);return f&&p.unshift(new t.Diff(i,f)),h&&p.push(new t.Diff(i,h)),this.diff_cleanupMerge(p),p},t.prototype.diff_compute_=function(o,s,a,l){var u;if(!o)return[new t.Diff(r,s)];if(!s)return[new t.Diff(n,o)];var c=o.length>s.length?o:s,d=o.length>s.length?s:o,f=c.indexOf(d);if(f!=-1)return u=[new t.Diff(r,c.substring(0,f)),new t.Diff(i,d),new t.Diff(r,c.substring(f+d.length))],o.length>s.length&&(u[0][0]=u[2][0]=n),u;if(d.length==1)return[new t.Diff(n,o),new t.Diff(r,s)];var h=this.diff_halfMatch_(o,s);if(h){var p=h[0],m=h[1],g=h[2],y=h[3],v=h[4],w=this.diff_main(p,g,a,l),E=this.diff_main(m,y,a,l);return w.concat([new t.Diff(i,v)],E)}return a&&o.length>100&&s.length>100?this.diff_lineMode_(o,s,l):this.diff_bisect_(o,s,l)},t.prototype.diff_lineMode_=function(o,s,a){var l=this.diff_linesToChars_(o,s);o=l.chars1,s=l.chars2;var u=l.lineArray,c=this.diff_main(o,s,!1,a);this.diff_charsToLines_(c,u),this.diff_cleanupSemantic(c),c.push(new t.Diff(i,""));for(var d=0,f=0,h=0,p="",m="";d<c.length;){switch(c[d][0]){case r:h++,m+=c[d][1];break;case n:f++,p+=c[d][1];break;case i:if(f>=1&&h>=1){c.splice(d-f-h,f+h),d=d-f-h;for(var g=this.diff_main(p,m,!1,a),y=g.length-1;y>=0;y--)c.splice(d,0,g[y]);d=d+g.length}h=0,f=0,p="",m="";break}d++}return c.pop(),c},t.prototype.diff_bisect_=function(o,s,a){for(var l=o.length,u=s.length,c=Math.ceil((l+u)/2),d=c,f=2*c,h=new Array(f),p=new Array(f),m=0;m<f;m++)h[m]=-1,p[m]=-1;h[d+1]=0,p[d+1]=0;for(var g=l-u,y=g%2!=0,v=0,w=0,E=0,_=0,x=0;x<c&&!(new Date().getTime()>a);x++){for(var S=-x+v;S<=x-w;S+=2){var C=d+S,A;S==-x||S!=x&&h[C-1]<h[C+1]?A=h[C+1]:A=h[C-1]+1;for(var k=A-S;A<l&&k<u&&o.charAt(A)==s.charAt(k);)A++,k++;if(h[C]=A,A>l)w+=2;else if(k>u)v+=2;else if(y){var N=d+g-S;if(N>=0&&N<f&&p[N]!=-1){var M=l-p[N];if(A>=M)return this.diff_bisectSplit_(o,s,A,k,a)}}}for(var I=-x+E;I<=x-_;I+=2){var N=d+I,M;I==-x||I!=x&&p[N-1]<p[N+1]?M=p[N+1]:M=p[N-1]+1;for(var D=M-I;M<l&&D<u&&o.charAt(l-M-1)==s.charAt(u-D-1);)M++,D++;if(p[N]=M,M>l)_+=2;else if(D>u)E+=2;else if(!y){var C=d+g-I;if(C>=0&&C<f&&h[C]!=-1){var A=h[C],k=d+A-C;if(M=l-M,A>=M)return this.diff_bisectSplit_(o,s,A,k,a)}}}}return[new t.Diff(n,o),new t.Diff(r,s)]},t.prototype.diff_bisectSplit_=function(o,s,a,l,u){var c=o.substring(0,a),d=s.substring(0,l),f=o.substring(a),h=s.substring(l),p=this.diff_main(c,d,!1,u),m=this.diff_main(f,h,!1,u);return p.concat(m)},t.prototype.diff_linesToChars_=function(o,s){var a=[],l={};a[0]="";function u(h){for(var p="",m=0,g=-1,y=a.length;g<h.length-1;){g=h.indexOf(`
`,m),g==-1&&(g=h.length-1);var v=h.substring(m,g+1);(l.hasOwnProperty?l.hasOwnProperty(v):l[v]!==void 0)?p+=String.fromCharCode(l[v]):(y==c&&(v=h.substring(m),g=h.length),p+=String.fromCharCode(y),l[v]=y,a[y++]=v),m=g+1}return p}var c=4e4,d=u(o);c=65535;var f=u(s);return{chars1:d,chars2:f,lineArray:a}},t.prototype.diff_charsToLines_=function(o,s){for(var a=0;a<o.length;a++){for(var l=o[a][1],u=[],c=0;c<l.length;c++)u[c]=s[l.charCodeAt(c)];o[a][1]=u.join("")}},t.prototype.diff_commonPrefix=function(o,s){if(!o||!s||o.charAt(0)!=s.charAt(0))return 0;for(var a=0,l=Math.min(o.length,s.length),u=l,c=0;a<u;)o.substring(c,u)==s.substring(c,u)?(a=u,c=a):l=u,u=Math.floor((l-a)/2+a);return u},t.prototype.diff_commonSuffix=function(o,s){if(!o||!s||o.charAt(o.length-1)!=s.charAt(s.length-1))return 0;for(var a=0,l=Math.min(o.length,s.length),u=l,c=0;a<u;)o.substring(o.length-u,o.length-c)==s.substring(s.length-u,s.length-c)?(a=u,c=a):l=u,u=Math.floor((l-a)/2+a);return u},t.prototype.diff_commonOverlap_=function(o,s){var a=o.length,l=s.length;if(a==0||l==0)return 0;a>l?o=o.substring(a-l):a<l&&(s=s.substring(0,a));var u=Math.min(a,l);if(o==s)return u;for(var c=0,d=1;;){var f=o.substring(u-d),h=s.indexOf(f);if(h==-1)return c;d+=h,(h==0||o.substring(u-d)==s.substring(0,d))&&(c=d,d++)}},t.prototype.diff_halfMatch_=function(o,s){if(this.Diff_Timeout<=0)return null;var a=o.length>s.length?o:s,l=o.length>s.length?s:o;if(a.length<4||l.length*2<a.length)return null;var u=this;function c(w,E,_){for(var x=w.substring(_,_+Math.floor(w.length/4)),S=-1,C="",A,k,N,M;(S=E.indexOf(x,S+1))!=-1;){var I=u.diff_commonPrefix(w.substring(_),E.substring(S)),D=u.diff_commonSuffix(w.substring(0,_),E.substring(0,S));C.length<D+I&&(C=E.substring(S-D,S)+E.substring(S,S+I),A=w.substring(0,_-D),k=w.substring(_+I),N=E.substring(0,S-D),M=E.substring(S+I))}return C.length*2>=w.length?[A,k,N,M,C]:null}var d=c(a,l,Math.ceil(a.length/4)),f=c(a,l,Math.ceil(a.length/2)),h;if(!d&&!f)return null;f?d?h=d[4].length>f[4].length?d:f:h=f:h=d;var p,m,g,y;o.length>s.length?(p=h[0],m=h[1],g=h[2],y=h[3]):(g=h[0],y=h[1],p=h[2],m=h[3]);var v=h[4];return[p,m,g,y,v]},t.prototype.diff_cleanupSemantic=function(o){for(var s=!1,a=[],l=0,u=null,c=0,d=0,f=0,h=0,p=0;c<o.length;)o[c][0]==i?(a[l++]=c,d=h,f=p,h=0,p=0,u=o[c][1]):(o[c][0]==r?h+=o[c][1].length:p+=o[c][1].length,u&&u.length<=Math.max(d,f)&&u.length<=Math.max(h,p)&&(o.splice(a[l-1],0,new t.Diff(n,u)),o[a[l-1]+1][0]=r,l--,l--,c=l>0?a[l-1]:-1,d=0,f=0,h=0,p=0,u=null,s=!0)),c++;for(s&&this.diff_cleanupMerge(o),this.diff_cleanupSemanticLossless(o),c=1;c<o.length;){if(o[c-1][0]==n&&o[c][0]==r){var m=o[c-1][1],g=o[c][1],y=this.diff_commonOverlap_(m,g),v=this.diff_commonOverlap_(g,m);y>=v?(y>=m.length/2||y>=g.length/2)&&(o.splice(c,0,new t.Diff(i,g.substring(0,y))),o[c-1][1]=m.substring(0,m.length-y),o[c+1][1]=g.substring(y),c++):(v>=m.length/2||v>=g.length/2)&&(o.splice(c,0,new t.Diff(i,m.substring(0,v))),o[c-1][0]=r,o[c-1][1]=g.substring(0,g.length-v),o[c+1][0]=n,o[c+1][1]=m.substring(v),c++),c++}c++}},t.prototype.diff_cleanupSemanticLossless=function(o){function s(v,w){if(!v||!w)return 6;var E=v.charAt(v.length-1),_=w.charAt(0),x=E.match(t.nonAlphaNumericRegex_),S=_.match(t.nonAlphaNumericRegex_),C=x&&E.match(t.whitespaceRegex_),A=S&&_.match(t.whitespaceRegex_),k=C&&E.match(t.linebreakRegex_),N=A&&_.match(t.linebreakRegex_),M=k&&v.match(t.blanklineEndRegex_),I=N&&w.match(t.blanklineStartRegex_);return M||I?5:k||N?4:x&&!C&&A?3:C||A?2:x||S?1:0}for(var a=1;a<o.length-1;){if(o[a-1][0]==i&&o[a+1][0]==i){var l=o[a-1][1],u=o[a][1],c=o[a+1][1],d=this.diff_commonSuffix(l,u);if(d){var f=u.substring(u.length-d);l=l.substring(0,l.length-d),u=f+u.substring(0,u.length-d),c=f+c}for(var h=l,p=u,m=c,g=s(l,u)+s(u,c);u.charAt(0)===c.charAt(0);){l+=u.charAt(0),u=u.substring(1)+c.charAt(0),c=c.substring(1);var y=s(l,u)+s(u,c);y>=g&&(g=y,h=l,p=u,m=c)}o[a-1][1]!=h&&(h?o[a-1][1]=h:(o.splice(a-1,1),a--),o[a][1]=p,m?o[a+1][1]=m:(o.splice(a+1,1),a--))}a++}},t.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,t.whitespaceRegex_=/\s/,t.linebreakRegex_=/[\r\n]/,t.blanklineEndRegex_=/\n\r?\n$/,t.blanklineStartRegex_=/^\r?\n\r?\n/,t.prototype.diff_cleanupEfficiency=function(o){for(var s=!1,a=[],l=0,u=null,c=0,d=!1,f=!1,h=!1,p=!1;c<o.length;)o[c][0]==i?(o[c][1].length<this.Diff_EditCost&&(h||p)?(a[l++]=c,d=h,f=p,u=o[c][1]):(l=0,u=null),h=p=!1):(o[c][0]==n?p=!0:h=!0,u&&(d&&f&&h&&p||u.length<this.Diff_EditCost/2&&d+f+h+p==3)&&(o.splice(a[l-1],0,new t.Diff(n,u)),o[a[l-1]+1][0]=r,l--,u=null,d&&f?(h=p=!0,l=0):(l--,c=l>0?a[l-1]:-1,h=p=!1),s=!0)),c++;s&&this.diff_cleanupMerge(o)},t.prototype.diff_cleanupMerge=function(o){o.push(new t.Diff(i,""));for(var s=0,a=0,l=0,u="",c="",d;s<o.length;)switch(o[s][0]){case r:l++,c+=o[s][1],s++;break;case n:a++,u+=o[s][1],s++;break;case i:a+l>1?(a!==0&&l!==0&&(d=this.diff_commonPrefix(c,u),d!==0&&(s-a-l>0&&o[s-a-l-1][0]==i?o[s-a-l-1][1]+=c.substring(0,d):(o.splice(0,0,new t.Diff(i,c.substring(0,d))),s++),c=c.substring(d),u=u.substring(d)),d=this.diff_commonSuffix(c,u),d!==0&&(o[s][1]=c.substring(c.length-d)+o[s][1],c=c.substring(0,c.length-d),u=u.substring(0,u.length-d))),s-=a+l,o.splice(s,a+l),u.length&&(o.splice(s,0,new t.Diff(n,u)),s++),c.length&&(o.splice(s,0,new t.Diff(r,c)),s++),s++):s!==0&&o[s-1][0]==i?(o[s-1][1]+=o[s][1],o.splice(s,1)):s++,l=0,a=0,u="",c="";break}o[o.length-1][1]===""&&o.pop();var f=!1;for(s=1;s<o.length-1;)o[s-1][0]==i&&o[s+1][0]==i&&(o[s][1].substring(o[s][1].length-o[s-1][1].length)==o[s-1][1]?(o[s][1]=o[s-1][1]+o[s][1].substring(0,o[s][1].length-o[s-1][1].length),o[s+1][1]=o[s-1][1]+o[s+1][1],o.splice(s-1,1),f=!0):o[s][1].substring(0,o[s+1][1].length)==o[s+1][1]&&(o[s-1][1]+=o[s+1][1],o[s][1]=o[s][1].substring(o[s+1][1].length)+o[s+1][1],o.splice(s+1,1),f=!0)),s++;f&&this.diff_cleanupMerge(o)},t.prototype.diff_xIndex=function(o,s){var a=0,l=0,u=0,c=0,d;for(d=0;d<o.length&&(o[d][0]!==r&&(a+=o[d][1].length),o[d][0]!==n&&(l+=o[d][1].length),!(a>s));d++)u=a,c=l;return o.length!=d&&o[d][0]===n?c:c+(s-u)},t.prototype.diff_prettyHtml=function(o){for(var s=[],a=/&/g,l=/</g,u=/>/g,c=/\n/g,d=0;d<o.length;d++){var f=o[d][0],h=o[d][1],p=h.replace(a,"&amp;").replace(l,"&lt;").replace(u,"&gt;").replace(c,"&para;<br>");switch(f){case r:s[d]='<ins style="background:#e6ffe6;">'+p+"</ins>";break;case n:s[d]='<del style="background:#ffe6e6;">'+p+"</del>";break;case i:s[d]="<span>"+p+"</span>";break}}return s.join("")},t.prototype.diff_text1=function(o){for(var s=[],a=0;a<o.length;a++)o[a][0]!==r&&(s[a]=o[a][1]);return s.join("")},t.prototype.diff_text2=function(o){for(var s=[],a=0;a<o.length;a++)o[a][0]!==n&&(s[a]=o[a][1]);return s.join("")},t.prototype.diff_levenshtein=function(o){for(var s=0,a=0,l=0,u=0;u<o.length;u++){var c=o[u][0],d=o[u][1];switch(c){case r:a+=d.length;break;case n:l+=d.length;break;case i:s+=Math.max(a,l),a=0,l=0;break}}return s+=Math.max(a,l),s},t.prototype.diff_toDelta=function(o){for(var s=[],a=0;a<o.length;a++)switch(o[a][0]){case r:s[a]="+"+encodeURI(o[a][1]);break;case n:s[a]="-"+o[a][1].length;break;case i:s[a]="="+o[a][1].length;break}return s.join("	").replace(/%20/g," ")},t.prototype.diff_fromDelta=function(o,s){for(var a=[],l=0,u=0,c=s.split(/\t/g),d=0;d<c.length;d++){var f=c[d].substring(1);switch(c[d].charAt(0)){case"+":try{a[l++]=new t.Diff(r,decodeURI(f))}catch{throw new Error("Illegal escape in diff_fromDelta: "+f)}break;case"-":case"=":var h=parseInt(f,10);if(isNaN(h)||h<0)throw new Error("Invalid number in diff_fromDelta: "+f);var p=o.substring(u,u+=h);c[d].charAt(0)=="="?a[l++]=new t.Diff(i,p):a[l++]=new t.Diff(n,p);break;default:if(c[d])throw new Error("Invalid diff operation in diff_fromDelta: "+c[d])}}if(u!=o.length)throw new Error("Delta length ("+u+") does not equal source text length ("+o.length+").");return a},t.prototype.match_main=function(o,s,a){if(o==null||s==null||a==null)throw new Error("Null input. (match_main)");return a=Math.max(0,Math.min(a,o.length)),o==s?0:o.length?o.substring(a,a+s.length)==s?a:this.match_bitap_(o,s,a):-1},t.prototype.match_bitap_=function(o,s,a){if(s.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var l=this.match_alphabet_(s),u=this;function c(A,k){var N=A/s.length,M=Math.abs(a-k);return u.Match_Distance?N+M/u.Match_Distance:M?1:N}var d=this.Match_Threshold,f=o.indexOf(s,a);f!=-1&&(d=Math.min(c(0,f),d),f=o.lastIndexOf(s,a+s.length),f!=-1&&(d=Math.min(c(0,f),d)));var h=1<<s.length-1;f=-1;for(var p,m,g=s.length+o.length,y,v=0;v<s.length;v++){for(p=0,m=g;p<m;)c(v,a+m)<=d?p=m:g=m,m=Math.floor((g-p)/2+p);g=m;var w=Math.max(1,a-m+1),E=Math.min(a+m,o.length)+s.length,_=Array(E+2);_[E+1]=(1<<v)-1;for(var x=E;x>=w;x--){var S=l[o.charAt(x-1)];if(v===0?_[x]=(_[x+1]<<1|1)&S:_[x]=(_[x+1]<<1|1)&S|((y[x+1]|y[x])<<1|1)|y[x+1],_[x]&h){var C=c(v,x-1);if(C<=d)if(d=C,f=x-1,f>a)w=Math.max(1,2*a-f);else break}}if(c(v+1,a)>d)break;y=_}return f},t.prototype.match_alphabet_=function(o){for(var s={},a=0;a<o.length;a++)s[o.charAt(a)]=0;for(var a=0;a<o.length;a++)s[o.charAt(a)]|=1<<o.length-a-1;return s},t.prototype.patch_addContext_=function(o,s){if(s.length!=0){if(o.start2===null)throw Error("patch not initialized");for(var a=s.substring(o.start2,o.start2+o.length1),l=0;s.indexOf(a)!=s.lastIndexOf(a)&&a.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)l+=this.Patch_Margin,a=s.substring(o.start2-l,o.start2+o.length1+l);l+=this.Patch_Margin;var u=s.substring(o.start2-l,o.start2);u&&o.diffs.unshift(new t.Diff(i,u));var c=s.substring(o.start2+o.length1,o.start2+o.length1+l);c&&o.diffs.push(new t.Diff(i,c)),o.start1-=u.length,o.start2-=u.length,o.length1+=u.length+c.length,o.length2+=u.length+c.length}},t.prototype.patch_make=function(o,s,a){var l,u;if(typeof o=="string"&&typeof s=="string"&&typeof a>"u")l=o,u=this.diff_main(l,s,!0),u.length>2&&(this.diff_cleanupSemantic(u),this.diff_cleanupEfficiency(u));else if(o&&typeof o=="object"&&typeof s>"u"&&typeof a>"u")u=o,l=this.diff_text1(u);else if(typeof o=="string"&&s&&typeof s=="object"&&typeof a>"u")l=o,u=s;else if(typeof o=="string"&&typeof s=="string"&&a&&typeof a=="object")l=o,u=a;else throw new Error("Unknown call format to patch_make.");if(u.length===0)return[];for(var c=[],d=new t.patch_obj,f=0,h=0,p=0,m=l,g=l,y=0;y<u.length;y++){var v=u[y][0],w=u[y][1];switch(!f&&v!==i&&(d.start1=h,d.start2=p),v){case r:d.diffs[f++]=u[y],d.length2+=w.length,g=g.substring(0,p)+w+g.substring(p);break;case n:d.length1+=w.length,d.diffs[f++]=u[y],g=g.substring(0,p)+g.substring(p+w.length);break;case i:w.length<=2*this.Patch_Margin&&f&&u.length!=y+1?(d.diffs[f++]=u[y],d.length1+=w.length,d.length2+=w.length):w.length>=2*this.Patch_Margin&&f&&(this.patch_addContext_(d,m),c.push(d),d=new t.patch_obj,f=0,m=g,h=p);break}v!==r&&(h+=w.length),v!==n&&(p+=w.length)}return f&&(this.patch_addContext_(d,m),c.push(d)),c},t.prototype.patch_deepCopy=function(o){for(var s=[],a=0;a<o.length;a++){var l=o[a],u=new t.patch_obj;u.diffs=[];for(var c=0;c<l.diffs.length;c++)u.diffs[c]=new t.Diff(l.diffs[c][0],l.diffs[c][1]);u.start1=l.start1,u.start2=l.start2,u.length1=l.length1,u.length2=l.length2,s[a]=u}return s},t.prototype.patch_apply=function(o,s){if(o.length==0)return[s,[]];o=this.patch_deepCopy(o);var a=this.patch_addPadding(o);s=a+s+a,this.patch_splitMax(o);for(var l=0,u=[],c=0;c<o.length;c++){var d=o[c].start2+l,f=this.diff_text1(o[c].diffs),h,p=-1;if(f.length>this.Match_MaxBits?(h=this.match_main(s,f.substring(0,this.Match_MaxBits),d),h!=-1&&(p=this.match_main(s,f.substring(f.length-this.Match_MaxBits),d+f.length-this.Match_MaxBits),(p==-1||h>=p)&&(h=-1))):h=this.match_main(s,f,d),h==-1)u[c]=!1,l-=o[c].length2-o[c].length1;else{u[c]=!0,l=h-d;var m;if(p==-1?m=s.substring(h,h+f.length):m=s.substring(h,p+this.Match_MaxBits),f==m)s=s.substring(0,h)+this.diff_text2(o[c].diffs)+s.substring(h+f.length);else{var g=this.diff_main(f,m,!1);if(f.length>this.Match_MaxBits&&this.diff_levenshtein(g)/f.length>this.Patch_DeleteThreshold)u[c]=!1;else{this.diff_cleanupSemanticLossless(g);for(var y=0,v,w=0;w<o[c].diffs.length;w++){var E=o[c].diffs[w];E[0]!==i&&(v=this.diff_xIndex(g,y)),E[0]===r?s=s.substring(0,h+v)+E[1]+s.substring(h+v):E[0]===n&&(s=s.substring(0,h+v)+s.substring(h+this.diff_xIndex(g,y+E[1].length))),E[0]!==n&&(y+=E[1].length)}}}}}return s=s.substring(a.length,s.length-a.length),[s,u]},t.prototype.patch_addPadding=function(o){for(var s=this.Patch_Margin,a="",l=1;l<=s;l++)a+=String.fromCharCode(l);for(var l=0;l<o.length;l++)o[l].start1+=s,o[l].start2+=s;var u=o[0],c=u.diffs;if(c.length==0||c[0][0]!=i)c.unshift(new t.Diff(i,a)),u.start1-=s,u.start2-=s,u.length1+=s,u.length2+=s;else if(s>c[0][1].length){var d=s-c[0][1].length;c[0][1]=a.substring(c[0][1].length)+c[0][1],u.start1-=d,u.start2-=d,u.length1+=d,u.length2+=d}if(u=o[o.length-1],c=u.diffs,c.length==0||c[c.length-1][0]!=i)c.push(new t.Diff(i,a)),u.length1+=s,u.length2+=s;else if(s>c[c.length-1][1].length){var d=s-c[c.length-1][1].length;c[c.length-1][1]+=a.substring(0,d),u.length1+=d,u.length2+=d}return a},t.prototype.patch_splitMax=function(o){for(var s=this.Match_MaxBits,a=0;a<o.length;a++)if(!(o[a].length1<=s)){var l=o[a];o.splice(a--,1);for(var u=l.start1,c=l.start2,d="";l.diffs.length!==0;){var f=new t.patch_obj,h=!0;for(f.start1=u-d.length,f.start2=c-d.length,d!==""&&(f.length1=f.length2=d.length,f.diffs.push(new t.Diff(i,d)));l.diffs.length!==0&&f.length1<s-this.Patch_Margin;){var p=l.diffs[0][0],m=l.diffs[0][1];p===r?(f.length2+=m.length,c+=m.length,f.diffs.push(l.diffs.shift()),h=!1):p===n&&f.diffs.length==1&&f.diffs[0][0]==i&&m.length>2*s?(f.length1+=m.length,u+=m.length,h=!1,f.diffs.push(new t.Diff(p,m)),l.diffs.shift()):(m=m.substring(0,s-f.length1-this.Patch_Margin),f.length1+=m.length,u+=m.length,p===i?(f.length2+=m.length,c+=m.length):h=!1,f.diffs.push(new t.Diff(p,m)),m==l.diffs[0][1]?l.diffs.shift():l.diffs[0][1]=l.diffs[0][1].substring(m.length))}d=this.diff_text2(f.diffs),d=d.substring(d.length-this.Patch_Margin);var g=this.diff_text1(l.diffs).substring(0,this.Patch_Margin);g!==""&&(f.length1+=g.length,f.length2+=g.length,f.diffs.length!==0&&f.diffs[f.diffs.length-1][0]===i?f.diffs[f.diffs.length-1][1]+=g:f.diffs.push(new t.Diff(i,g))),h||o.splice(++a,0,f)}}},t.prototype.patch_toText=function(o){for(var s=[],a=0;a<o.length;a++)s[a]=o[a];return s.join("")},t.prototype.patch_fromText=function(o){var s=[];if(!o)return s;for(var a=o.split(`
`),l=0,u=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;l<a.length;){var c=a[l].match(u);if(!c)throw new Error("Invalid patch string: "+a[l]);var d=new t.patch_obj;for(s.push(d),d.start1=parseInt(c[1],10),c[2]===""?(d.start1--,d.length1=1):c[2]=="0"?d.length1=0:(d.start1--,d.length1=parseInt(c[2],10)),d.start2=parseInt(c[3],10),c[4]===""?(d.start2--,d.length2=1):c[4]=="0"?d.length2=0:(d.start2--,d.length2=parseInt(c[4],10)),l++;l<a.length;){var f=a[l].charAt(0);try{var h=decodeURI(a[l].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+h)}if(f=="-")d.diffs.push(new t.Diff(n,h));else if(f=="+")d.diffs.push(new t.Diff(r,h));else if(f==" ")d.diffs.push(new t.Diff(i,h));else{if(f=="@")break;if(f!=="")throw new Error('Invalid patch mode "'+f+'" in: '+h)}l++}}return s},t.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},t.patch_obj.prototype.toString=function(){var o,s;this.length1===0?o=this.start1+",0":this.length1==1?o=this.start1+1:o=this.start1+1+","+this.length1,this.length2===0?s=this.start2+",0":this.length2==1?s=this.start2+1:s=this.start2+1+","+this.length2;for(var a=["@@ -"+o+" +"+s+` @@
`],l,u=0;u<this.diffs.length;u++){switch(this.diffs[u][0]){case r:l="+";break;case n:l="-";break;case i:l=" ";break}a[u+1]=l+encodeURI(this.diffs[u][1])+`
`}return a.join("").replace(/%20/g," ")},e.exports=t,e.exports.diff_match_patch=t,e.exports.DIFF_DELETE=n,e.exports.DIFF_INSERT=r,e.exports.DIFF_EQUAL=i}(j5)),j5.exports}var doe;function got(){if(doe)return t1;doe=1;var e=t1&&t1.__extends||function(){var s=function(a,l){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(u[d]=c[d])},s(a,l)};return function(a,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");s(a,l);function u(){this.constructor=a}a.prototype=l===null?Object.create(l):(u.prototype=l.prototype,new u)}}();Object.defineProperty(t1,"__esModule",{value:!0});var t=AP(),n=Dv(),r=exe(),i=mot(),o=function(s){e(a,s);function a(l){var u=s.call(this,l)||this;return u.state={value:u.props.value},u.onChange=u.onChange.bind(u),u.diff=u.diff.bind(u),u}return a.prototype.componentDidUpdate=function(){var l=this.props.value;l!==this.state.value&&this.setState({value:l})},a.prototype.onChange=function(l){this.setState({value:l}),this.props.onChange&&this.props.onChange(l)},a.prototype.diff=function(){var l=new i,u=this.state.value[0],c=this.state.value[1];if(u.length===0&&c.length===0)return[];var d=l.diff_main(u,c);l.diff_cleanupSemantic(d);var f=this.generateDiffedLines(d),h=this.setCodeMarkers(f);return h},a.prototype.generateDiffedLines=function(l){var u={DIFF_EQUAL:0,DIFF_DELETE:-1,DIFF_INSERT:1},c={left:[],right:[]},d={left:1,right:1};return l.forEach(function(f){var h=f[0],p=f[1],m=p.split(`
`).length-1;if(p.length!==0){var g=p[0],y=p[p.length-1],v=0;switch(h){case u.DIFF_EQUAL:d.left+=m,d.right+=m;break;case u.DIFF_DELETE:g===`
`&&(d.left++,m--),v=m,v===0&&c.right.push({startLine:d.right,endLine:d.right}),y===`
`&&(v-=1),c.left.push({startLine:d.left,endLine:d.left+v}),d.left+=m;break;case u.DIFF_INSERT:g===`
`&&(d.right++,m--),v=m,v===0&&c.left.push({startLine:d.left,endLine:d.left}),y===`
`&&(v-=1),c.right.push({startLine:d.right,endLine:d.right+v}),d.right+=m;break;default:throw new Error("Diff type was not defined.")}}}),c},a.prototype.setCodeMarkers=function(l){l===void 0&&(l={left:[],right:[]});for(var u=[],c={left:[],right:[]},d=0;d<l.left.length;d++){var f={startRow:l.left[d].startLine-1,endRow:l.left[d].endLine,type:"text",className:"codeMarker"};c.left.push(f)}for(var d=0;d<l.right.length;d++){var f={startRow:l.right[d].startLine-1,endRow:l.right[d].endLine,type:"text",className:"codeMarker"};c.right.push(f)}return u[0]=c.left,u[1]=c.right,u},a.prototype.render=function(){var l=this.diff();return n.createElement(r.default,{name:this.props.name,className:this.props.className,focus:this.props.focus,orientation:this.props.orientation,splits:this.props.splits,mode:this.props.mode,theme:this.props.theme,height:this.props.height,width:this.props.width,fontSize:this.props.fontSize,showGutter:this.props.showGutter,onChange:this.onChange,onPaste:this.props.onPaste,onLoad:this.props.onLoad,onScroll:this.props.onScroll,minLines:this.props.minLines,maxLines:this.props.maxLines,readOnly:this.props.readOnly,highlightActiveLine:this.props.highlightActiveLine,showPrintMargin:this.props.showPrintMargin,tabSize:this.props.tabSize,cursorStart:this.props.cursorStart,editorProps:this.props.editorProps,style:this.props.style,scrollMargin:this.props.scrollMargin,setOptions:this.props.setOptions,wrapEnabled:this.props.wrapEnabled,enableBasicAutocompletion:this.props.enableBasicAutocompletion,enableLiveAutocompletion:this.props.enableLiveAutocompletion,value:this.state.value,markers:l})},a.propTypes={cursorStart:t.number,editorProps:t.object,enableBasicAutocompletion:t.bool,enableLiveAutocompletion:t.bool,focus:t.bool,fontSize:t.number,height:t.string,highlightActiveLine:t.bool,maxLines:t.number,minLines:t.number,mode:t.string,name:t.string,className:t.string,onLoad:t.func,onPaste:t.func,onScroll:t.func,onChange:t.func,orientation:t.string,readOnly:t.bool,scrollMargin:t.array,setOptions:t.object,showGutter:t.bool,showPrintMargin:t.bool,splits:t.number,style:t.object,tabSize:t.number,theme:t.string,value:t.array,width:t.string,wrapEnabled:t.bool},a.defaultProps={cursorStart:1,editorProps:{},enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,focus:!1,fontSize:12,height:"500px",highlightActiveLine:!0,maxLines:null,minLines:null,mode:"",name:"ace-editor",onLoad:null,onScroll:null,onPaste:null,onChange:null,orientation:"beside",readOnly:!1,scrollMargin:[0,0,0,0],setOptions:{},showGutter:!0,showPrintMargin:!0,splits:2,style:{},tabSize:4,theme:"github",value:["",""],width:"500px",wrapEnabled:!0},a}(n.Component);return t1.default=o,t1}var foe;function yot(){if(foe)return km;foe=1,Object.defineProperty(km,"__esModule",{value:!0}),km.diff=km.split=void 0;var e=fot(),t=got();km.diff=t.default;var n=exe();return km.split=n.default,km.default=e.default,km}var vot=yot();const OW=ul(vot);var z5={exports:{}},hoe;function bot(){return hoe||(hoe=1,function(e,t){ace.define("ace/theme/github-css",["require","exports","module"],function(n,r,i){i.exports=`/* CSS style content from github's default pygments highlighter template.
   Cursor and selection styles from textmate.css. */
.ace-github .ace_gutter {
  background: #e8e8e8;
  color: #AAA;
}

.ace-github  {
  background: #fff;
  color: #000;
}

.ace-github .ace_keyword {
  font-weight: bold;
}

.ace-github .ace_string {
  color: #D14;
}

.ace-github .ace_variable.ace_class {
  color: teal;
}

.ace-github .ace_constant.ace_numeric {
  color: #099;
}

.ace-github .ace_constant.ace_buildin {
  color: #0086B3;
}

.ace-github .ace_support.ace_function {
  color: #0086B3;
}

.ace-github .ace_comment {
  color: #998;
  font-style: italic;
}

.ace-github .ace_variable.ace_language  {
  color: #0086B3;
}

.ace-github .ace_paren {
  font-weight: bold;
}

.ace-github .ace_boolean {
  font-weight: bold;
}

.ace-github .ace_string.ace_regexp {
  color: #009926;
  font-weight: normal;
}

.ace-github .ace_variable.ace_instance {
  color: teal;
}

.ace-github .ace_constant.ace_language {
  font-weight: bold;
}

.ace-github .ace_cursor {
  color: black;
}

.ace-github.ace_focus .ace_marker-layer .ace_active-line {
  background: rgb(255, 255, 204);
}
.ace-github .ace_marker-layer .ace_active-line {
  background: rgb(245, 245, 245);
}

.ace-github .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}

.ace-github.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
/* bold keywords cause cursor issues for some fonts */
/* this disables bold style for editor and keeps for static highlighter */
.ace-github.ace_nobold .ace_line > span {
    font-weight: normal !important;
}

.ace-github .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-github .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-github .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-github .ace_gutter-active-line {
    background-color : rgba(0, 0, 0, 0.07);
}

.ace-github .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-github .ace_invisible {
  color: #BFBFBF
}

.ace-github .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-github .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-github .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/github",["require","exports","module","ace/theme/github-css","ace/lib/dom"],function(n,r,i){r.isDark=!1,r.cssClass="ace-github",r.cssText=n("./github-css");var o=n("../lib/dom");o.importCssString(r.cssText,r.cssClass,!1)}),function(){ace.require(["ace/theme/github"],function(n){e&&(e.exports=n)})}()}(z5)),z5.exports}var wot=bot();const LW=ul(wot);var U5={exports:{}},poe;function xot(){return poe||(poe=1,function(e,t){ace.define("ace/theme/github_dark-css",["require","exports","module"],function(n,r,i){i.exports=`.ace-github-dark .ace_gutter {
  background: #24292e;
  color: #7388b5
}

.ace-github-dark .ace_print-margin {
  width: 1px;
  background: #00204b
}

.ace-github-dark {
  background-color: #24292e;
  color: #FFFFFF
}

.ace-github-dark .ace_constant.ace_other,
.ace-github-dark .ace_cursor {
  color: #FFFFFF
}

.ace-github-dark .ace_marker-layer .ace_selection {
  background: #003F8E
}

.ace-github-dark.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px #24292e;
}

.ace-github-dark .ace_marker-layer .ace_step {
  background: rgb(127, 111, 19)
}

.ace-github-dark .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid #404F7D
}

.ace-github-dark .ace_marker-layer .ace_active-line {
  background: #00346E
}

.ace-github-dark .ace_gutter-active-line {
  background-color: #24292e
}

.ace-github-dark .ace_marker-layer .ace_selected-word {
  border: 1px solid #003F8E
}

.ace-github-dark .ace_invisible {
  color: #404F7D
}

.ace-github-dark .ace_keyword,
.ace-github-dark .ace_meta,
.ace-github-dark .ace_storage,
.ace-github-dark .ace_storage.ace_type,
.ace-github-dark .ace_support.ace_type {
  color: #ff7b72
}

.ace-github-dark .ace_keyword.ace_operator {
  color: #79c0ff
}

.ace-github-dark .ace_constant.ace_character,
.ace-github-dark .ace_constant.ace_language,
.ace-github-dark .ace_constant.ace_numeric,
.ace-github-dark .ace_keyword.ace_other.ace_unit,
.ace-github-dark .ace_support.ace_constant,
.ace-github-dark .ace_variable.ace_parameter {
  color: #FFC58F
}

.ace-github-dark .ace_invalid {
  color: #FFFFFF;
  background-color: #F99DA5
}

.ace-github-dark .ace_invalid.ace_deprecated {
  color: #FFFFFF;
  background-color: #ff7b72
}

.ace-github-dark .ace_fold {
  background-color: #BBDAFF;
  border-color: #FFFFFF
}

.ace-github-dark .ace_entity.ace_name.ace_function,
.ace-github-dark .ace_support.ace_function,
.ace-github-dark .ace_variable {
  color: #BBDAFF
}

.ace-github-dark .ace_support.ace_class,
.ace-github-dark .ace_support.ace_type {
  color: #FFEEAD
}

.ace-github-dark .ace_heading,
.ace-github-dark .ace_markup.ace_heading,
.ace-github-dark .ace_string {
  color: #9fcef6
}

.ace-github-dark .ace_entity.ace_name.ace_tag,
.ace-github-dark .ace_entity.ace_other.ace_attribute-name,
.ace-github-dark .ace_meta.ace_tag,
.ace-github-dark .ace_string.ace_regexp,
.ace-github-dark .ace_variable {
  color: #FF9DA4
}

.ace-github-dark .ace_comment {
  color: #7285B7
}

.ace-github-dark .ace_indent-guide {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWNgYGBgYJDzqfwPAANXAeNsiA+ZAAAAAElFTkSuQmCC) right repeat-y
}

.ace-github-dark .ace_indent-guide-active {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQIW2PQ1dX9zzBz5sz/ABCcBFFentLlAAAAAElFTkSuQmCC) right repeat-y;
}

.ace-github-dark .ace_constant.ace_buildin {
  color: #0086B3;
}

.ace-github-dark .ace_variable.ace_language {
  color: #ffffff;
}
  `}),ace.define("ace/theme/github_dark",["require","exports","module","ace/theme/github_dark-css","ace/lib/dom"],function(n,r,i){r.isDark=!0,r.cssClass="ace-github-dark",r.cssText=n("./github_dark-css");var o=n("../lib/dom");o.importCssString(r.cssText,r.cssClass,!1)}),function(){ace.require(["ace/theme/github_dark"],function(n){e&&(e.exports=n)})}()}(U5)),U5.exports}var _ot=xot();const FW=ul(_ot);function nd(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Mg(e){return!!e&&!!e[Ai]}function Pp(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===Dot}(e)||Array.isArray(e)||!!e[xoe]||!!(!((t=e.constructor)===null||t===void 0)&&t[xoe])||BW(e)||jW(e))}function ev(e,t,n){n===void 0&&(n=!1),qx(e)===0?(n?Object.keys:X1)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function qx(e){var t=e[Ai];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:BW(e)?2:jW(e)?3:0}function K1(e,t){return qx(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Eot(e,t){return qx(e)===2?e.get(t):e[t]}function txe(e,t,n){var r=qx(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function nxe(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function BW(e){return Iot&&e instanceof Map}function jW(e){return Rot&&e instanceof Set}function uy(e){return e.o||e.t}function zW(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=ixe(e);delete t[Ai];for(var n=X1(t),r=0;r<n.length;r++){var i=n[r],o=t[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function UW(e,t){return t===void 0&&(t=!1),HW(e)||Mg(e)||!Pp(e)||(qx(e)>1&&(e.set=e.add=e.clear=e.delete=Sot),Object.freeze(e),t&&ev(e,function(n,r){return UW(r,!0)},!0)),e}function Sot(){nd(2)}function HW(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Rf(e){var t=qj[e];return t||nd(18,e),t}function Tot(e,t){qj[e]||(qj[e]=t)}function Hj(){return PT}function H5(e,t){t&&(Rf("Patches"),e.u=[],e.s=[],e.v=t)}function WD(e){Vj(e),e.p.forEach(Cot),e.p=null}function Vj(e){e===PT&&(PT=e.l)}function moe(e){return PT={p:[],l:PT,h:e,m:!0,_:0}}function Cot(e){var t=e[Ai];t.i===0||t.i===1?t.j():t.g=!0}function V5(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.O||Rf("ES5").S(t,e,r),r?(n[Ai].P&&(WD(t),nd(4)),Pp(e)&&(e=qD(t,e),t.l||GD(t,e)),t.u&&Rf("Patches").M(n[Ai].t,e,t.u,t.s)):e=qD(t,n,[]),WD(t),t.u&&t.v(t.u,t.s),e!==rxe?e:void 0}function qD(e,t,n){if(HW(t))return t;var r=t[Ai];if(!r)return ev(t,function(a,l){return goe(e,r,t,a,l,n)},!0),t;if(r.A!==e)return t;if(!r.P)return GD(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=zW(r.k):r.o,o=i,s=!1;r.i===3&&(o=new Set(i),i.clear(),s=!0),ev(o,function(a,l){return goe(e,r,i,a,l,n,s)}),GD(e,i,!1),n&&e.u&&Rf("Patches").N(r,n,e.u,e.s)}return r.o}function goe(e,t,n,r,i,o,s){if(Mg(i)){var a=qD(e,i,o&&t&&t.i!==3&&!K1(t.R,r)?o.concat(r):void 0);if(txe(n,r,a),!Mg(a))return;e.m=!1}else s&&n.add(i);if(Pp(i)&&!HW(i)){if(!e.h.D&&e._<1)return;qD(e,i),t&&t.A.l||GD(e,i)}}function GD(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&UW(t,n)}function W5(e,t){var n=e[Ai];return(n?uy(n):e)[t]}function yoe(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Xm(e){e.P||(e.P=!0,e.l&&Xm(e.l))}function q5(e){e.o||(e.o=zW(e.t))}function Wj(e,t,n){var r=BW(t)?Rf("MapSet").F(t,n):jW(t)?Rf("MapSet").T(t,n):e.O?function(i,o){var s=Array.isArray(i),a={i:s?1:0,A:o?o.A:Hj(),P:!1,I:!1,R:{},l:o,t:i,k:null,o:null,j:null,C:!1},l=a,u=NT;s&&(l=[a],u=QE);var c=Proxy.revocable(l,u),d=c.revoke,f=c.proxy;return a.k=f,a.j=d,f}(t,n):Rf("ES5").J(t,n);return(n?n.A:Hj()).p.push(r),r}function Aot(e){return Mg(e)||nd(22,e),function t(n){if(!Pp(n))return n;var r,i=n[Ai],o=qx(n);if(i){if(!i.P&&(i.i<4||!Rf("ES5").K(i)))return i.t;i.I=!0,r=voe(n,o),i.I=!1}else r=voe(n,o);return ev(r,function(s,a){i&&Eot(i.t,s)===a||txe(r,s,t(a))}),o===3?new Set(r):r}(e)}function voe(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return zW(e)}function kot(){function e(o,s){var a=i[o];return a?a.enumerable=s:i[o]=a={configurable:!0,enumerable:s,get:function(){var l=this[Ai];return NT.get(l,o)},set:function(l){var u=this[Ai];NT.set(u,o,l)}},a}function t(o){for(var s=o.length-1;s>=0;s--){var a=o[s][Ai];if(!a.P)switch(a.i){case 5:r(a)&&Xm(a);break;case 4:n(a)&&Xm(a)}}}function n(o){for(var s=o.t,a=o.k,l=X1(a),u=l.length-1;u>=0;u--){var c=l[u];if(c!==Ai){var d=s[c];if(d===void 0&&!K1(s,c))return!0;var f=a[c],h=f&&f[Ai];if(h?h.t!==d:!nxe(f,d))return!0}}var p=!!s[Ai];return l.length!==X1(s).length+(p?0:1)}function r(o){var s=o.k;if(s.length!==o.t.length)return!0;var a=Object.getOwnPropertyDescriptor(s,s.length-1);if(a&&!a.get)return!0;for(var l=0;l<s.length;l++)if(!s.hasOwnProperty(l))return!0;return!1}var i={};Tot("ES5",{J:function(o,s){var a=Array.isArray(o),l=function(c,d){if(c){for(var f=Array(d.length),h=0;h<d.length;h++)Object.defineProperty(f,""+h,e(h,!0));return f}var p=ixe(d);delete p[Ai];for(var m=X1(p),g=0;g<m.length;g++){var y=m[g];p[y]=e(y,c||!!p[y].enumerable)}return Object.create(Object.getPrototypeOf(d),p)}(a,o),u={i:a?5:4,A:s?s.A:Hj(),P:!1,I:!1,R:{},l:s,t:o,k:l,o:null,g:!1,C:!1};return Object.defineProperty(l,Ai,{value:u,writable:!0}),l},S:function(o,s,a){a?Mg(s)&&s[Ai].A===o&&t(o.p):(o.u&&function l(u){if(u&&typeof u=="object"){var c=u[Ai];if(c){var d=c.t,f=c.k,h=c.R,p=c.i;if(p===4)ev(f,function(w){w!==Ai&&(d[w]!==void 0||K1(d,w)?h[w]||l(f[w]):(h[w]=!0,Xm(c)))}),ev(d,function(w){f[w]!==void 0||K1(f,w)||(h[w]=!1,Xm(c))});else if(p===5){if(r(c)&&(Xm(c),h.length=!0),f.length<d.length)for(var m=f.length;m<d.length;m++)h[m]=!1;else for(var g=d.length;g<f.length;g++)h[g]=!0;for(var y=Math.min(f.length,d.length),v=0;v<y;v++)f.hasOwnProperty(v)||(h[v]=!0),h[v]===void 0&&l(f[v])}}}}(o.p[0]),t(o.p))},K:function(o){return o.i===4?n(o):r(o)}})}var boe,PT,VW=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Iot=typeof Map<"u",Rot=typeof Set<"u",woe=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",rxe=VW?Symbol.for("immer-nothing"):((boe={})["immer-nothing"]=!0,boe),xoe=VW?Symbol.for("immer-draftable"):"__$immer_draftable",Ai=VW?Symbol.for("immer-state"):"__$immer_state",Dot=""+Object.prototype.constructor,X1=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,ixe=Object.getOwnPropertyDescriptors||function(e){var t={};return X1(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},qj={},NT={get:function(e,t){if(t===Ai)return e;var n=uy(e);if(!K1(n,t))return function(i,o,s){var a,l=yoe(o,s);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!Pp(r)?r:r===W5(e.t,t)?(q5(e),e.o[t]=Wj(e.A.h,r,e)):r},has:function(e,t){return t in uy(e)},ownKeys:function(e){return Reflect.ownKeys(uy(e))},set:function(e,t,n){var r=yoe(uy(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=W5(uy(e),t),o=i==null?void 0:i[Ai];if(o&&o.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(nxe(n,i)&&(n!==void 0||K1(e.t,t)))return!0;q5(e),Xm(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return W5(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,q5(e),Xm(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=uy(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){nd(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){nd(12)}},QE={};ev(NT,function(e,t){QE[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),QE.deleteProperty=function(e,t){return QE.set.call(this,e,t,void 0)},QE.set=function(e,t,n){return NT.set.call(this,e[0],t,n,e[0])};var $ot=function(){function e(n){var r=this;this.O=woe,this.D=!0,this.produce=function(i,o,s){if(typeof i=="function"&&typeof o!="function"){var a=o;o=i;var l=r;return function(m){var g=this;m===void 0&&(m=a);for(var y=arguments.length,v=Array(y>1?y-1:0),w=1;w<y;w++)v[w-1]=arguments[w];return l.produce(m,function(E){var _;return(_=o).call.apply(_,[g,E].concat(v))})}}var u;if(typeof o!="function"&&nd(6),s!==void 0&&typeof s!="function"&&nd(7),Pp(i)){var c=moe(r),d=Wj(r,i,void 0),f=!0;try{u=o(d),f=!1}finally{f?WD(c):Vj(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(m){return H5(c,s),V5(m,c)},function(m){throw WD(c),m}):(H5(c,s),V5(u,c))}if(!i||typeof i!="object"){if((u=o(i))===void 0&&(u=i),u===rxe&&(u=void 0),r.D&&UW(u,!0),s){var h=[],p=[];Rf("Patches").M(i,u,h,p),s(h,p)}return u}nd(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(u){for(var c=arguments.length,d=Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];return r.produceWithPatches(u,function(h){return i.apply(void 0,[h].concat(d))})};var s,a,l=r.produce(i,o,function(u,c){s=u,a=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,s,a]}):[l,s,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){Pp(n)||nd(8),Mg(n)&&(n=Aot(n));var r=moe(this),i=Wj(this,n,void 0);return i[Ai].C=!0,Vj(r),i},t.finishDraft=function(n,r){var i=n&&n[Ai],o=i.A;return H5(o,r),V5(void 0,o)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!woe&&nd(20),this.O=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var o=r[i];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}i>-1&&(r=r.slice(i+1));var s=Rf("Patches").$;return Mg(n)?s(n,r):this.produce(n,function(a){return s(a,r)})},e}(),Du=new $ot,oxe=Du.produce;Du.produceWithPatches.bind(Du);Du.setAutoFreeze.bind(Du);Du.setUseProxies.bind(Du);Du.applyPatches.bind(Du);Du.createDraft.bind(Du);Du.finishDraft.bind(Du);function OT(e){"@babel/helpers - typeof";return OT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},OT(e)}function Mot(e,t){if(OT(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(OT(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pot(e){var t=Mot(e,"string");return OT(t)=="symbol"?t:t+""}function Not(e,t,n){return(t=Pot(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Eoe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_oe(Object(n),!0).forEach(function(r){Not(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_oe(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ga(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Soe=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),G5=function(){return Math.random().toString(36).substring(7).split("").join(".")},YD={INIT:"@@redux/INIT"+G5(),REPLACE:"@@redux/REPLACE"+G5(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+G5()}};function Oot(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function sxe(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ga(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ga(1));return n(sxe)(e,t)}if(typeof e!="function")throw new Error(ga(2));var i=e,o=t,s=[],a=s,l=!1;function u(){a===s&&(a=s.slice())}function c(){if(l)throw new Error(ga(3));return o}function d(m){if(typeof m!="function")throw new Error(ga(4));if(l)throw new Error(ga(5));var g=!0;return u(),a.push(m),function(){if(g){if(l)throw new Error(ga(6));g=!1,u();var v=a.indexOf(m);a.splice(v,1),s=null}}}function f(m){if(!Oot(m))throw new Error(ga(7));if(typeof m.type>"u")throw new Error(ga(8));if(l)throw new Error(ga(9));try{l=!0,o=i(o,m)}finally{l=!1}for(var g=s=a,y=0;y<g.length;y++){var v=g[y];v()}return m}function h(m){if(typeof m!="function")throw new Error(ga(10));i=m,f({type:YD.REPLACE})}function p(){var m,g=d;return m={subscribe:function(v){if(typeof v!="object"||v===null)throw new Error(ga(11));function w(){v.next&&v.next(c())}w();var E=g(w);return{unsubscribe:E}}},m[Soe]=function(){return this},m}return f({type:YD.INIT}),r={dispatch:f,subscribe:d,getState:c,replaceReducer:h},r[Soe]=p,r}function Lot(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:YD.INIT});if(typeof r>"u")throw new Error(ga(12));if(typeof n(void 0,{type:YD.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ga(13))})}function Fot(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var o=Object.keys(n),s;try{Lot(n)}catch(a){s=a}return function(l,u){if(l===void 0&&(l={}),s)throw s;for(var c=!1,d={},f=0;f<o.length;f++){var h=o[f],p=n[h],m=l[h],g=p(m,u);if(typeof g>"u")throw u&&u.type,new Error(ga(14));d[h]=g,c=c||g!==m}return c=c||o.length!==Object.keys(l).length,c?d:l}}function KD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function Bot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),o=function(){throw new Error(ga(15))},s={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},a=t.map(function(l){return l(s)});return o=KD.apply(void 0,a)(i.dispatch),Eoe(Eoe({},i),{},{dispatch:o})}}}function axe(e){var t=function(r){var i=r.dispatch,o=r.getState;return function(s){return function(a){return typeof a=="function"?a(i,o,e):s(a)}}};return t}var Gj=axe();Gj.withExtraArgument=axe;var lxe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),sA=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},tv=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},jot=Object.defineProperty,zot=Object.defineProperties,Uot=Object.getOwnPropertyDescriptors,Toe=Object.getOwnPropertySymbols,Hot=Object.prototype.hasOwnProperty,Vot=Object.prototype.propertyIsEnumerable,Coe=function(e,t,n){return t in e?jot(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},yg=function(e,t){for(var n in t||(t={}))Hot.call(t,n)&&Coe(e,n,t[n]);if(Toe)for(var r=0,i=Toe(t);r<i.length;r++){var n=i[r];Vot.call(t,n)&&Coe(e,n,t[n])}return e},Y5=function(e,t){return zot(e,Uot(t))},aA=function(e,t,n){return new Promise(function(r,i){var o=function(l){try{a(n.next(l))}catch(u){i(u)}},s=function(l){try{a(n.throw(l))}catch(u){i(u)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(o,s)};a((n=n.apply(e,t)).next())})},Wot=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?KD:KD.apply(null,arguments)};function uxe(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return t===n}var qot=function(e){return e&&typeof e.match=="function"};function Df(e,t){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(t){var o=t.apply(void 0,r);if(!o)throw new Error("prepareAction did not return an object");return yg(yg({type:e,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:e,payload:r[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(r){return r.type===e},n}function Got(e){return uxe(e)&&"type"in e}var Yot=function(e){lxe(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,tv([void 0],n[0].concat(this)))):new(t.bind.apply(t,tv([void 0],n.concat(this))))},t}(Array),Kot=function(e){lxe(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,tv([void 0],n[0].concat(this)))):new(t.bind.apply(t,tv([void 0],n.concat(this))))},t}(Array);function Yj(e){return Pp(e)?oxe(e,function(){}):e}function Xot(e){return typeof e=="boolean"}function Qot(){return function(t){return Jot(t)}}function Jot(e){e===void 0&&(e={});var t=e.thunk,n=t===void 0?!0:t;e.immutableCheck,e.serializableCheck,e.actionCreatorCheck;var r=new Yot;return n&&(Xot(n)?r.push(Gj):r.push(Gj.withExtraArgument(n.extraArgument))),r}function Zot(e){var t=Qot(),n=e||{},r=n.reducer,i=r===void 0?void 0:r,o=n.middleware,s=o===void 0?t():o,a=n.devTools,l=a===void 0?!0:a,u=n.preloadedState,c=u===void 0?void 0:u,d=n.enhancers,f=d===void 0?void 0:d,h;if(typeof i=="function")h=i;else if(uxe(i))h=Fot(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var p=s;typeof p=="function"&&(p=p(t));var m=Bot.apply(void 0,p),g=KD;l&&(g=Wot(yg({trace:!1},typeof l=="object"&&l)));var y=new Kot(m),v=y;Array.isArray(f)?v=tv([m],f):typeof f=="function"&&(v=f(y));var w=g.apply(void 0,v);return sxe(h,c,w)}function cxe(e){var t={},n=[],r,i={addCase:function(o,s){var a=typeof o=="string"?o:o.type;if(!a)throw new Error("`builder.addCase` cannot be called with an empty action type");if(a in t)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return t[a]=s,i},addMatcher:function(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase:function(o){return r=o,i}};return e(i),[t,n,r]}function est(e){return typeof e=="function"}function tst(e,t,n,r){n===void 0&&(n=[]);var i=typeof t=="function"?cxe(t):[t,n,r],o=i[0],s=i[1],a=i[2],l;if(est(e))l=function(){return Yj(e())};else{var u=Yj(e);l=function(){return u}}function c(d,f){d===void 0&&(d=l());var h=tv([o[f.type]],s.filter(function(p){var m=p.matcher;return m(f)}).map(function(p){var m=p.reducer;return m}));return h.filter(function(p){return!!p}).length===0&&(h=[a]),h.reduce(function(p,m){if(m)if(Mg(p)){var g=p,y=m(g,f);return y===void 0?p:y}else{if(Pp(p))return oxe(p,function(v){return m(v,f)});var y=m(p,f);if(y===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}return p},d)}return c.getInitialState=l,c}function nst(e,t){return e+"/"+t}function rst(e){var t=e.name,n=typeof e.initialState=="function"?e.initialState:Yj(e.initialState),r=e.reducers||{},i=Object.keys(r),o={},s={},a={};i.forEach(function(c){var d=r[c],f=nst(t,c),h,p;"reducer"in d?(h=d.reducer,p=d.prepare):h=d,o[c]=h,s[f]=h,a[c]=p?Df(f,p):Df(f)});function l(){var c=typeof e.extraReducers=="function"?cxe(e.extraReducers):[e.extraReducers],d=c[0],f=d===void 0?{}:d,h=c[1],p=h===void 0?[]:h,m=c[2],g=m===void 0?void 0:m,y=yg(yg({},f),s);return tst(n,function(v){for(var w in y)v.addCase(w,y[w]);for(var E=0,_=p;E<_.length;E++){var x=_[E];v.addMatcher(x.matcher,x.reducer)}g&&v.addDefaultCase(g)})}var u;return{name:t,reducer:function(c,d){return u||(u=l()),u(c,d)},actions:a,caseReducers:o,getInitialState:function(){return u||(u=l()),u.getInitialState()}}}var ist="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",dxe=function(e){e===void 0&&(e=21);for(var t="",n=e;n--;)t+=ist[Math.random()*64|0];return t},ost=["name","message","stack","code"],K5=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),Aoe=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),sst=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,r=ost;n<r.length;n++){var i=r[n];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}};(function(){function e(t,n,r){var i=Df(t+"/fulfilled",function(u,c,d,f){return{payload:u,meta:Y5(yg({},f||{}),{arg:d,requestId:c,requestStatus:"fulfilled"})}}),o=Df(t+"/pending",function(u,c,d){return{payload:void 0,meta:Y5(yg({},d||{}),{arg:c,requestId:u,requestStatus:"pending"})}}),s=Df(t+"/rejected",function(u,c,d,f,h){return{payload:f,error:(r&&r.serializeError||sst)(u||"Rejected"),meta:Y5(yg({},h||{}),{arg:d,requestId:c,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u}();function l(u){return function(c,d,f){var h=r!=null&&r.idGenerator?r.idGenerator(u):dxe(),p=new a,m;function g(v){m=v,p.abort()}var y=function(){return aA(this,null,function(){var v,w,E,_,x,S,C;return sA(this,function(A){switch(A.label){case 0:return A.trys.push([0,4,,5]),_=(v=r==null?void 0:r.condition)==null?void 0:v.call(r,u,{getState:d,extra:f}),lst(_)?[4,_]:[3,2];case 1:_=A.sent(),A.label=2;case 2:if(_===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return x=new Promise(function(k,N){return p.signal.addEventListener("abort",function(){return N({name:"AbortError",message:m||"Aborted"})})}),c(o(h,u,(w=r==null?void 0:r.getPendingMeta)==null?void 0:w.call(r,{requestId:h,arg:u},{getState:d,extra:f}))),[4,Promise.race([x,Promise.resolve(n(u,{dispatch:c,getState:d,extra:f,requestId:h,signal:p.signal,abort:g,rejectWithValue:function(k,N){return new K5(k,N)},fulfillWithValue:function(k,N){return new Aoe(k,N)}})).then(function(k){if(k instanceof K5)throw k;return k instanceof Aoe?i(k.payload,h,u,k.meta):i(k,h,u)})])];case 3:return E=A.sent(),[3,5];case 4:return S=A.sent(),E=S instanceof K5?s(null,h,u,S.payload,S.meta):s(S,h,u),[3,5];case 5:return C=r&&!r.dispatchConditionRejection&&s.match(E)&&E.meta.condition,C||c(E),[2,E]}})})}();return Object.assign(y,{abort:g,requestId:h,arg:u,unwrap:function(){return y.then(ast)}})}}return Object.assign(l,{pending:o,rejected:s,fulfilled:i,typePrefix:t})}return e.withTypes=function(){return e},e})();function ast(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function lst(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var ust=function(e,t){return qot(e)?e.match(t):e(t)};function koe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){return e.some(function(r){return ust(r,n)})}}var WW=function(e,t){if(typeof e!="function")throw new TypeError(t+" is not a function")},Kj=function(){},fxe=function(e,t){return t===void 0&&(t=Kj),e.catch(t),e},hxe=function(e,t){return e.addEventListener("abort",t,{once:!0}),function(){return e.removeEventListener("abort",t)}},Q1=function(e,t){var n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},cst="task",pxe="listener",mxe="completed",qW="cancelled",dst="task-"+qW,fst="task-"+mxe,gxe=pxe+"-"+qW,hst=pxe+"-"+mxe,cN=function(){function e(t){this.code=t,this.name="TaskAbortError",this.message=cst+" "+qW+" (reason: "+t+")"}return e}(),J1=function(e){if(e.aborted)throw new cN(e.reason)};function yxe(e,t){var n=Kj;return new Promise(function(r,i){var o=function(){return i(new cN(e.reason))};if(e.aborted){o();return}n=hxe(e,o),t.finally(function(){return n()}).then(r,i)}).finally(function(){n=Kj})}var pst=function(e,t){return aA(void 0,null,function(){var n,r;return sA(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,4,5]),[4,Promise.resolve()];case 1:return i.sent(),[4,e()];case 2:return n=i.sent(),[2,{status:"ok",value:n}];case 3:return r=i.sent(),[2,{status:r instanceof cN?"cancelled":"rejected",error:r}];case 4:return t==null||t(),[7];case 5:return[2]}})})},XD=function(e){return function(t){return fxe(yxe(e,t).then(function(n){return J1(e),n}))}},vxe=function(e){var t=XD(e);return function(n){return t(new Promise(function(r){return setTimeout(r,n)}))}},mst=Object.assign,Ioe={},lA="listenerMiddleware",gst=function(e,t){var n=function(r){return hxe(e,function(){return Q1(r,e.reason)})};return function(r,i){WW(r,"taskExecutor");var o=new AbortController;n(o);var s=pst(function(){return aA(void 0,null,function(){var a;return sA(this,function(l){switch(l.label){case 0:return J1(e),J1(o.signal),[4,r({pause:XD(o.signal),delay:vxe(o.signal),signal:o.signal})];case 1:return a=l.sent(),J1(o.signal),[2,a]}})})},function(){return Q1(o,fst)});return i!=null&&i.autoJoin&&t.push(s),{result:XD(e)(s),cancel:function(){Q1(o,dst)}}}},yst=function(e,t){var n=function(r,i){return aA(void 0,null,function(){var o,s,a,l;return sA(this,function(u){switch(u.label){case 0:J1(t),o=function(){},s=new Promise(function(c,d){var f=e({predicate:r,effect:function(h,p){p.unsubscribe(),c([h,p.getState(),p.getOriginalState()])}});o=function(){f(),d()}}),a=[s],i!=null&&a.push(new Promise(function(c){return setTimeout(c,i,null)})),u.label=1;case 1:return u.trys.push([1,,3,4]),[4,yxe(t,Promise.race(a))];case 2:return l=u.sent(),J1(t),[2,l];case 3:return o(),[7];case 4:return[2]}})})};return function(r,i){return fxe(n(r,i))}},bxe=function(e){var t=e.type,n=e.actionCreator,r=e.matcher,i=e.predicate,o=e.effect;if(t)i=Df(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error("Creating or removing a listener requires one of the known fields for matching an action");return WW(o,"options.listener"),{predicate:i,type:t,effect:o}},vst=function(e){var t=bxe(e),n=t.type,r=t.predicate,i=t.effect,o=dxe(),s={id:o,effect:i,type:n,predicate:r,pending:new Set,unsubscribe:function(){throw new Error("Unsubscribe not initialized")}};return s},Xj=function(e){e.pending.forEach(function(t){Q1(t,gxe)})},bst=function(e){return function(){e.forEach(Xj),e.clear()}},Roe=function(e,t,n){try{e(t,n)}catch(r){setTimeout(function(){throw r},0)}},wst=Df(lA+"/add"),xst=Df(lA+"/removeAll"),_st=Df(lA+"/remove"),Est=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,tv([lA+"/error"],e))};function Sst(e){var t=this;e===void 0&&(e={});var n=new Map,r=e.extra,i=e.onError,o=i===void 0?Est:i;WW(o,"onError");var s=function(h){return h.unsubscribe=function(){return n.delete(h.id)},n.set(h.id,h),function(p){h.unsubscribe(),p!=null&&p.cancelActive&&Xj(h)}},a=function(h){for(var p=0,m=Array.from(n.values());p<m.length;p++){var g=m[p];if(h(g))return g}},l=function(h){var p=a(function(m){return m.effect===h.effect});return p||(p=vst(h)),s(p)},u=function(h){var p=bxe(h),m=p.type,g=p.effect,y=p.predicate,v=a(function(w){var E=typeof m=="string"?w.type===m:w.predicate===y;return E&&w.effect===g});return v&&(v.unsubscribe(),h.cancelActive&&Xj(v)),!!v},c=function(h,p,m,g){return aA(t,null,function(){var y,v,w,E;return sA(this,function(_){switch(_.label){case 0:y=new AbortController,v=yst(l,y.signal),w=[],_.label=1;case 1:return _.trys.push([1,3,4,6]),h.pending.add(y),[4,Promise.resolve(h.effect(p,mst({},m,{getOriginalState:g,condition:function(x,S){return v(x,S).then(Boolean)},take:v,delay:vxe(y.signal),pause:XD(y.signal),extra:r,signal:y.signal,fork:gst(y.signal,w),unsubscribe:h.unsubscribe,subscribe:function(){n.set(h.id,h)},cancelActiveListeners:function(){h.pending.forEach(function(x,S,C){x!==y&&(Q1(x,gxe),C.delete(x))})}})))];case 2:return _.sent(),[3,6];case 3:return E=_.sent(),E instanceof cN||Roe(o,E,{raisedBy:"effect"}),[3,6];case 4:return[4,Promise.allSettled(w)];case 5:return _.sent(),Q1(y,hst),h.pending.delete(y),[7];case 6:return[2]}})})},d=bst(n),f=function(h){return function(p){return function(m){if(!Got(m))return p(m);if(wst.match(m))return l(m.payload);if(xst.match(m)){d();return}if(_st.match(m))return u(m.payload);var g=h.getState(),y=function(){if(g===Ioe)throw new Error(lA+": getOriginalState can only be called synchronously");return g},v;try{if(v=p(m),n.size>0)for(var w=h.getState(),E=Array.from(n.values()),_=0,x=E;_<x.length;_++){var S=x[_],C=!1;try{C=S.predicate(m,w,g)}catch(A){C=!1,Roe(o,A,{raisedBy:"predicate"})}C&&c(S,m,h,y)}}finally{g=Ioe}return v}}};return{middleware:f,startListening:l,stopListening:u,clearListeners:d}}var Doe;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);kot();function Tst(){const e=new Map;return{listen(t,n){return e.has(t)||e.set(t,[]),e.get(t).push(n),()=>{e.set(t,(e.get(t)||[]).filter(r=>r!==n))}},fire(t,n){const r=e.get(t);r&&r.forEach(i=>i(n))}}}let Ok;const Cst=new Uint8Array(16);function Ast(){if(!Ok&&(Ok=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ok))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ok(Cst)}const $s=[];for(let e=0;e<256;++e)$s.push((e+256).toString(16).slice(1));function kst(e,t=0){return($s[e[t+0]]+$s[e[t+1]]+$s[e[t+2]]+$s[e[t+3]]+"-"+$s[e[t+4]]+$s[e[t+5]]+"-"+$s[e[t+6]]+$s[e[t+7]]+"-"+$s[e[t+8]]+$s[e[t+9]]+"-"+$s[e[t+10]]+$s[e[t+11]]+$s[e[t+12]]+$s[e[t+13]]+$s[e[t+14]]+$s[e[t+15]]).toLowerCase()}const Ist=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),$oe={randomUUID:Ist};function Moe(e,t,n){if($oe.randomUUID&&!e)return $oe.randomUUID();e=e||{};const r=e.random||(e.rng||Ast)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,kst(r)}class $f{static get(){let t=Moe();for(;this.ids.has(t);)t=Moe();return this.ids.set(t,!0),t}}$f.ids=new Map;function vd(e){return"parent"in e}function wxe(e){return!vd(e)}function Rst(e){const{label:t=void 0,state:n,initialArtifact:r,initialMetadata:i}=e,o={annotation:[],bookmark:[]},s=Object.keys(i||{}).reduce((l,u)=>(l[u]=[],i&&i[u]&&l[u].push({type:u,id:$f.get(),val:i[u],createdOn:Date.now()}),l),o),a=r?[{id:$f.get(),createdOn:Date.now(),val:r}]:[];return{id:$f.get(),label:t||"Root",event:"Root",children:[],level:0,createdOn:Date.now(),meta:s,artifacts:a,state:{type:"checkpoint",val:n}}}function Dst({parent:e,state:t,label:n,sideEffects:r={do:[],undo:[]},initialMetadata:i,initialArtifact:o,event:s}){const a={annotation:[],bookmark:[]},l=Object.keys(i||{}).reduce((c,d)=>(c[d]=[],i&&i[d]&&c[d].push({type:d,id:$f.get(),val:i[d],createdOn:Date.now()}),c),a),u=o?[{id:$f.get(),createdOn:Date.now(),val:o}]:[];return{id:$f.get(),label:n,event:s,children:[],parent:e.id,createdOn:Date.now(),meta:l,artifacts:u,sideEffects:r,state:t,level:e.level+1}}function Yi(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if({}.NODE_ENV!=="production"){var i=jst[e],o=i?typeof i=="function"?i.apply(null,n):i:"unknown error nr: "+e;throw Error("[Immer] "+o)}throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(s){return"'"+s+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function nv(e){return!!e&&!!e[$u]}function Pg(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===zst}(e)||Array.isArray(e)||!!e[VS]||!!(!((t=e.constructor)===null||t===void 0)&&t[VS])||dN(e)||fN(e))}function Sw(e,t,n){n===void 0&&(n=!1),Ng(e)===0?(n?Object.keys:JW)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function Ng(e){var t=e[$u];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:dN(e)?2:fN(e)?3:0}function LT(e,t){return Ng(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function zI(e,t){return Ng(e)===2?e.get(t):e[t]}function xxe(e,t,n){var r=Ng(e);r===2?e.set(t,n):r===3?(e.delete(t),e.add(n)):e[t]=n}function $st(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function dN(e){return Fst&&e instanceof Map}function fN(e){return Bst&&e instanceof Set}function cy(e){return e.o||e.t}function GW(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Ust(e);delete t[$u];for(var n=JW(t),r=0;r<n.length;r++){var i=n[r],o=t[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function YW(e,t){return t===void 0&&(t=!1),KW(e)||nv(e)||!Pg(e)||(Ng(e)>1&&(e.set=e.add=e.clear=e.delete=Mst),Object.freeze(e),t&&Sw(e,function(n,r){return YW(r,!0)},!0)),e}function Mst(){Yi(2)}function KW(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Mf(e){var t=e9[e];return t||Yi(18,e),t}function Pst(e,t){e9[e]||(e9[e]=t)}function Poe(){return{}.NODE_ENV==="production"||Tw||Yi(0),Tw}function X5(e,t){t&&(Mf("Patches"),e.u=[],e.s=[],e.v=t)}function QD(e){Qj(e),e.p.forEach(Nst),e.p=null}function Qj(e){e===Tw&&(Tw=e.l)}function Noe(e){return Tw={p:[],l:Tw,h:e,m:!0,_:0}}function Nst(e){var t=e[$u];t.i===0||t.i===1?t.j():t.O=!0}function Q5(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||Mf("ES5").S(t,e,r),r?(n[$u].P&&(QD(t),Yi(4)),Pg(e)&&(e=JD(t,e),t.l||ZD(t,e)),t.u&&Mf("Patches").M(n[$u].t,e,t.u,t.s)):e=JD(t,n,[]),QD(t),t.u&&t.v(t.u,t.s),e!==QW?e:void 0}function JD(e,t,n){if(KW(t))return t;var r=t[$u];if(!r)return Sw(t,function(o,s){return Ooe(e,r,t,o,s,n)},!0),t;if(r.A!==e)return t;if(!r.P)return ZD(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=GW(r.k):r.o;Sw(r.i===3?new Set(i):i,function(o,s){return Ooe(e,r,i,o,s,n)}),ZD(e,i,!1),n&&e.u&&Mf("Patches").R(r,n,e.u,e.s)}return r.o}function Ooe(e,t,n,r,i,o){if({}.NODE_ENV!=="production"&&i===n&&Yi(5),nv(i)){var s=JD(e,i,o&&t&&t.i!==3&&!LT(t.D,r)?o.concat(r):void 0);if(xxe(n,r,s),!nv(s))return;e.m=!1}if(Pg(i)&&!KW(i)){if(!e.h.F&&e._<1)return;JD(e,i),t&&t.A.l||ZD(e,i)}}function ZD(e,t,n){n===void 0&&(n=!1),e.h.F&&e.m&&YW(t,n)}function J5(e,t){var n=e[$u];return(n?cy(n):e)[t]}function Loe(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Jj(e){e.P||(e.P=!0,e.l&&Jj(e.l))}function Z5(e){e.o||(e.o=GW(e.t))}function Zj(e,t,n){var r=dN(t)?Mf("MapSet").N(t,n):fN(t)?Mf("MapSet").T(t,n):e.g?function(i,o){var s=Array.isArray(i),a={i:s?1:0,A:o?o.A:Poe(),P:!1,I:!1,D:{},l:o,t:i,k:null,o:null,j:null,C:!1},l=a,u=t9;s&&(l=[a],u=JE);var c=Proxy.revocable(l,u),d=c.revoke,f=c.proxy;return a.k=f,a.j=d,f}(t,n):Mf("ES5").J(t,n);return(n?n.A:Poe()).p.push(r),r}function Ost(e){return nv(e)||Yi(22,e),function t(n){if(!Pg(n))return n;var r,i=n[$u],o=Ng(n);if(i){if(!i.P&&(i.i<4||!Mf("ES5").K(i)))return i.t;i.I=!0,r=Foe(n,o),i.I=!1}else r=Foe(n,o);return Sw(r,function(s,a){i&&zI(i.t,s)===a||xxe(r,s,t(a))}),o===3?new Set(r):r}(e)}function Foe(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return GW(e)}function Lst(){function e(r){if(!Pg(r))return r;if(Array.isArray(r))return r.map(e);if(dN(r))return new Map(Array.from(r.entries()).map(function(s){return[s[0],e(s[1])]}));if(fN(r))return new Set(Array.from(r).map(e));var i=Object.create(Object.getPrototypeOf(r));for(var o in r)i[o]=e(r[o]);return LT(r,VS)&&(i[VS]=r[VS]),i}function t(r){return nv(r)?e(r):r}var n="add";Pst("Patches",{$:function(r,i){return i.forEach(function(o){for(var s=o.path,a=o.op,l=r,u=0;u<s.length-1;u++){var c=Ng(l),d=""+s[u];c!==0&&c!==1||d!=="__proto__"&&d!=="constructor"||Yi(24),typeof l=="function"&&d==="prototype"&&Yi(24),typeof(l=zI(l,d))!="object"&&Yi(15,s.join("/"))}var f=Ng(l),h=e(o.value),p=s[s.length-1];switch(a){case"replace":switch(f){case 2:return l.set(p,h);case 3:Yi(16);default:return l[p]=h}case n:switch(f){case 1:return p==="-"?l.push(h):l.splice(p,0,h);case 2:return l.set(p,h);case 3:return l.add(h);default:return l[p]=h}case"remove":switch(f){case 1:return l.splice(p,1);case 2:return l.delete(p);case 3:return l.delete(o.value);default:return delete l[p]}default:Yi(17,a)}}),r},R:function(r,i,o,s){switch(r.i){case 0:case 4:case 2:return function(a,l,u,c){var d=a.t,f=a.o;Sw(a.D,function(h,p){var m=zI(d,h),g=zI(f,h),y=p?LT(d,h)?"replace":n:"remove";if(m!==g||y!=="replace"){var v=l.concat(h);u.push(y==="remove"?{op:y,path:v}:{op:y,path:v,value:g}),c.push(y===n?{op:"remove",path:v}:y==="remove"?{op:n,path:v,value:t(m)}:{op:"replace",path:v,value:t(m)})}})}(r,i,o,s);case 5:case 1:return function(a,l,u,c){var d=a.t,f=a.D,h=a.o;if(h.length<d.length){var p=[h,d];d=p[0],h=p[1];var m=[c,u];u=m[0],c=m[1]}for(var g=0;g<d.length;g++)if(f[g]&&h[g]!==d[g]){var y=l.concat([g]);u.push({op:"replace",path:y,value:t(h[g])}),c.push({op:"replace",path:y,value:t(d[g])})}for(var v=d.length;v<h.length;v++){var w=l.concat([v]);u.push({op:n,path:w,value:t(h[v])})}d.length<h.length&&c.push({op:"replace",path:l.concat(["length"]),value:d.length})}(r,i,o,s);case 3:return function(a,l,u,c){var d=a.t,f=a.o,h=0;d.forEach(function(p){if(!f.has(p)){var m=l.concat([h]);u.push({op:"remove",path:m,value:p}),c.unshift({op:n,path:m,value:p})}h++}),h=0,f.forEach(function(p){if(!d.has(p)){var m=l.concat([h]);u.push({op:n,path:m,value:p}),c.unshift({op:"remove",path:m,value:p})}h++})}(r,i,o,s)}},M:function(r,i,o,s){o.push({op:"replace",path:[],value:i===QW?void 0:i}),s.push({op:"replace",path:[],value:r})}})}var Boe,Tw,XW=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Fst=typeof Map<"u",Bst=typeof Set<"u",joe=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",QW=XW?Symbol.for("immer-nothing"):((Boe={})["immer-nothing"]=!0,Boe),VS=XW?Symbol.for("immer-draftable"):"__$immer_draftable",$u=XW?Symbol.for("immer-state"):"__$immer_state",jst={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(e){return"Cannot apply patch, path doesn't resolve: "+e},16:'Sets cannot have "replace" patches.',17:function(e){return"Unsupported patch operation: "+e},18:function(e){return"The plugin for '"+e+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+e+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(e){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+e+"'"},22:function(e){return"'current' expects a draft, got: "+e},23:function(e){return"'original' expects a draft, got: "+e},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},zst=""+Object.prototype.constructor,JW=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Ust=Object.getOwnPropertyDescriptors||function(e){var t={};return JW(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},e9={},t9={get:function(e,t){if(t===$u)return e;var n=cy(e);if(!LT(n,t))return function(i,o,s){var a,l=Loe(o,s);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!Pg(r)?r:r===J5(e.t,t)?(Z5(e),e.o[t]=Zj(e.A.h,r,e)):r},has:function(e,t){return t in cy(e)},ownKeys:function(e){return Reflect.ownKeys(cy(e))},set:function(e,t,n){var r=Loe(cy(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=J5(cy(e),t),o=i==null?void 0:i[$u];if(o&&o.t===n)return e.o[t]=n,e.D[t]=!1,!0;if($st(n,i)&&(n!==void 0||LT(e.t,t)))return!0;Z5(e),Jj(e)}return e.o[t]===n&&typeof n!="number"&&(n!==void 0||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return J5(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,Z5(e),Jj(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=cy(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){Yi(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Yi(12)}},JE={};Sw(t9,function(e,t){JE[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),JE.deleteProperty=function(e,t){return{}.NODE_ENV!=="production"&&isNaN(parseInt(t))&&Yi(13),JE.set.call(this,e,t,void 0)},JE.set=function(e,t,n){return{}.NODE_ENV!=="production"&&t!=="length"&&isNaN(parseInt(t))&&Yi(14),t9.set.call(this,e[0],t,n,e[0])};var Hst=function(){function e(n){var r=this;this.g=joe,this.F=!0,this.produce=function(i,o,s){if(typeof i=="function"&&typeof o!="function"){var a=o;o=i;var l=r;return function(m){var g=this;m===void 0&&(m=a);for(var y=arguments.length,v=Array(y>1?y-1:0),w=1;w<y;w++)v[w-1]=arguments[w];return l.produce(m,function(E){var _;return(_=o).call.apply(_,[g,E].concat(v))})}}var u;if(typeof o!="function"&&Yi(6),s!==void 0&&typeof s!="function"&&Yi(7),Pg(i)){var c=Noe(r),d=Zj(r,i,void 0),f=!0;try{u=o(d),f=!1}finally{f?QD(c):Qj(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(m){return X5(c,s),Q5(m,c)},function(m){throw QD(c),m}):(X5(c,s),Q5(u,c))}if(!i||typeof i!="object"){if((u=o(i))===void 0&&(u=i),u===QW&&(u=void 0),r.F&&YW(u,!0),s){var h=[],p=[];Mf("Patches").M(i,u,h,p),s(h,p)}return u}Yi(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(u){for(var c=arguments.length,d=Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];return r.produceWithPatches(u,function(h){return i.apply(void 0,[h].concat(d))})};var s,a,l=r.produce(i,o,function(u,c){s=u,a=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,s,a]}):[l,s,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){Pg(n)||Yi(8),nv(n)&&(n=Ost(n));var r=Noe(this),i=Zj(this,n,void 0);return i[$u].C=!0,Qj(r),i},t.finishDraft=function(n,r){var i=n&&n[$u];({}).NODE_ENV!=="production"&&(i&&i.C||Yi(9),i.I&&Yi(10));var o=i.A;return X5(o,r),Q5(void 0,o)},t.setAutoFreeze=function(n){this.F=n},t.setUseProxies=function(n){n&&!joe&&Yi(20),this.g=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var o=r[i];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}i>-1&&(r=r.slice(i+1));var s=Mf("Patches").$;return nv(n)?s(n,r):this.produce(n,function(a){return s(a,r)})},e}(),Mu=new Hst,Vst=Mu.produce;Mu.produceWithPatches.bind(Mu);Mu.setAutoFreeze.bind(Mu);Mu.setUseProxies.bind(Mu);Mu.applyPatches.bind(Mu);Mu.createDraft.bind(Mu);Mu.finishDraft.bind(Mu);function Wst(e,t={}){const{artifact:n=void 0,metadata:r=void 0,rootLabel:i="Root"}=t,o=Rst({state:e,label:i,initialArtifact:n,initialMetadata:r}),s={nodes:{[o.id]:o},root:o.id,current:o.id};return rst({name:"provenance-graph",initialState:s,reducers:{addMetadata(a,l){const{id:u,meta:c}=l.payload,d=a.nodes[u].meta,f=Object.keys(c).reduce((h,p)=>(h[p]||(h[p]=[]),h[p].push({type:p,id:$f.get(),val:c[p],createdOn:Date.now()}),h),d);a.nodes[l.payload.id].meta=f},addArtifact(a,l){a.nodes[l.payload.id].artifacts.push({id:$f.get(),createdOn:Date.now(),val:l.payload.artifact})},changeCurrent(a,l){a.current=l.payload},addNode(a,{payload:l}){a.nodes[l.id]=l,a.nodes[l.parent].children.push(l.id),a.current=l.id},load(a,{payload:l}){return l}}})}function qst(e){const t=new Map,{reducer:n,actions:r,getInitialState:i}=Wst(e),o=Sst();o.startListening({matcher:koe(r.changeCurrent,r.addNode),effect:(a,l)=>{l.cancelActiveListeners(),t.forEach(u=>{const c=koe(r.addNode)(a),{skipOnNew:d}=u.config;d&&c||u.func(c?"new":"traversal")})}});const s=Zot({reducer:n,middleware:a=>a().prepend(o.middleware)});return{initialState:i(),get backend(){return s.getState()},get current(){return s.getState().nodes[s.getState().current]},get root(){return s.getState().nodes[s.getState().root]},currentChange(a,l){const u={id:$f.get(),func:a,config:l};return t.set(u.id,u),()=>t.delete(u.id)},update:s.dispatch,...r}}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var Gst=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yst=Object.prototype.hasOwnProperty;function n9(e,t){return Yst.call(e,t)}function r9(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)n9(e,i)&&r.push(i);return r}function Ll(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function i9(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function dy(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function _xe(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function o9(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(o9(e[t]))return!0}else if(typeof e=="object"){for(var r=r9(e),i=r.length,o=0;o<i;o++)if(o9(e[r[o]]))return!0}}return!1}function zoe(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var Exe=function(e){Gst(t,e);function t(n,r,i,o,s){var a=this.constructor,l=e.call(this,zoe(n,{name:r,index:i,operation:o,tree:s}))||this;return l.name=r,l.index=i,l.operation=o,l.tree=s,Object.setPrototypeOf(l,a.prototype),l.message=zoe(n,{name:r,index:i,operation:o,tree:s}),l}return t}(Error),qi=Exe,Kst=Ll,R1={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=e$(n,this.path);r&&(r=Ll(r));var i=Ly(n,{op:"remove",path:this.from}).removed;return Ly(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=e$(n,this.from);return Ly(n,{op:"add",path:this.path,value:Ll(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:FT(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},Xst={add:function(e,t,n){return i9(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:R1.move,copy:R1.copy,test:R1.test,_get:R1._get};function e$(e,t){if(t=="")return e;var n={op:"_get",path:t};return Ly(e,n),n.value}function Ly(e,t,n,r,i,o){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),o===void 0&&(o=0),n&&(typeof n=="function"?n(t,0,e,t.path):t$(t,0)),t.path===""){var s={newDocument:e};if(t.op==="add")return s.newDocument=t.value,s;if(t.op==="replace")return s.newDocument=t.value,s.removed=e,s;if(t.op==="move"||t.op==="copy")return s.newDocument=e$(e,t.from),t.op==="move"&&(s.removed=e),s;if(t.op==="test"){if(s.test=FT(e,t.value),s.test===!1)throw new qi("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s.newDocument=e,s}else{if(t.op==="remove")return s.removed=e,s.newDocument=null,s;if(t.op==="_get")return t.value=e,s;if(n)throw new qi("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,t,e);return s}}else{r||(e=Ll(e));var a=t.path||"",l=a.split("/"),u=e,c=1,d=l.length,f=void 0,h=void 0,p=void 0;for(typeof n=="function"?p=n:p=t$;;){if(h=l[c],h&&h.indexOf("~")!=-1&&(h=_xe(h)),i&&(h=="__proto__"||h=="prototype"&&c>0&&l[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&f===void 0&&(u[h]===void 0?f=l.slice(0,c).join("/"):c==d-1&&(f=t.path),f!==void 0&&p(t,0,e,f)),c++,Array.isArray(u)){if(h==="-")h=u.length;else{if(n&&!i9(h))throw new qi("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,t,e);i9(h)&&(h=~~h)}if(c>=d){if(n&&t.op==="add"&&h>u.length)throw new qi("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,t,e);var s=Xst[t.op].call(t,u,h,e);if(s.test===!1)throw new qi("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s}}else if(c>=d){var s=R1[t.op].call(t,u,h,e);if(s.test===!1)throw new qi("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s}if(u=u[h],n&&c<d&&(!u||typeof u!="object"))throw new qi("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",o,t,e)}}}function hN(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new qi("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=Ll(e));for(var o=new Array(t.length),s=0,a=t.length;s<a;s++)o[s]=Ly(e,t[s],n,!0,i,s),e=o[s].newDocument;return o.newDocument=e,o}function Qst(e,t,n){var r=Ly(e,t);if(r.test===!1)throw new qi("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function t$(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new qi("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(R1[e.op]){if(typeof e.path!="string")throw new qi("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new qi('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new qi("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new qi("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&o9(e.value))throw new qi("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,o=r.split("/").length;if(i!==o+1&&i!==o)throw new qi("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new qi("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var s={op:"_get",path:e.from,value:void 0},a=Sxe([s],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new qi("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new qi("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function Sxe(e,t,n){try{if(!Array.isArray(e))throw new qi("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)hN(Ll(t),Ll(e),n||!0);else{n=n||t$;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof qi)return i;throw i}}function FT(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,o,s;if(n&&r){if(o=e.length,o!=t.length)return!1;for(i=o;i--!==0;)if(!FT(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=Object.keys(e);if(o=a.length,o!==Object.keys(t).length)return!1;for(i=o;i--!==0;)if(!t.hasOwnProperty(a[i]))return!1;for(i=o;i--!==0;)if(s=a[i],!FT(e[s],t[s]))return!1;return!0}return e!==e&&t!==t}const Jst=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:qi,_areEquals:FT,applyOperation:Ly,applyPatch:hN,applyReducer:Qst,deepClone:Kst,getValueByPointer:e$,validate:Sxe,validator:t$},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var ZW=new WeakMap,Zst=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),eat=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function tat(e){return ZW.get(e)}function nat(e,t){return e.observers.get(t)}function rat(e,t){e.observers.delete(t.callback)}function iat(e,t){t.unobserve()}function oat(e,t){var n=[],r,i=tat(e);if(!i)i=new Zst(e),ZW.set(e,i);else{var o=nat(i,t);r=o&&o.observer}if(r)return r;if(r={},i.value=Ll(e),t){r.callback=t,r.next=null;var s=function(){s9(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(s)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=n,r.object=e,r.unobserve=function(){s9(r),clearTimeout(r.next),rat(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},i.observers.set(t,new eat(t,r)),r}function s9(e,t){t===void 0&&(t=!1);var n=ZW.get(e.object);eq(n.value,e.object,e.patches,"",t),e.patches.length&&hN(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function eq(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var o=r9(t),s=r9(e),a=!1,l=s.length-1;l>=0;l--){var u=s[l],c=e[u];if(n9(t,u)&&!(t[u]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var d=t[u];typeof c=="object"&&c!=null&&typeof d=="object"&&d!=null&&Array.isArray(c)===Array.isArray(d)?eq(c,d,n,r+"/"+dy(u),i):c!==d&&(i&&n.push({op:"test",path:r+"/"+dy(u),value:Ll(c)}),n.push({op:"replace",path:r+"/"+dy(u),value:Ll(d)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+dy(u),value:Ll(c)}),n.push({op:"remove",path:r+"/"+dy(u)}),a=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!a&&o.length==s.length))for(var l=0;l<o.length;l++){var u=o[l];!n9(e,u)&&t[u]!==void 0&&n.push({op:"add",path:r+"/"+dy(u),value:Ll(t[u])})}}}function Txe(e,t,n){n===void 0&&(n=!1);var r=[];return eq(e,t,r,"",n),r}const sat=Object.freeze(Object.defineProperty({__proto__:null,compare:Txe,generate:s9,observe:oat,unobserve:iat},Symbol.toStringTag,{value:"Module"}));Object.assign({},Jst,sat,{JsonPatchError:Exe,deepClone:Ll,escapePathComponent:dy,unescapePathComponent:_xe});var ZE=(e=>(e.TRAVERSAL_START="Traversal_Start",e.TRAVERSAL_END="Traversal_End",e))(ZE||{});function UI(e,t){const n=e.state;if(n.type==="checkpoint")return n.val;const{checkpointRef:r}=n,i=t[r],o=Cxe(i,e,t);o.shift();const s=o.map(l=>t[l]).map(l=>l.state.val).reduce((l,u)=>[...l,...u],[]),a=UI(i,t);return hN(a,Ll(s),!0,!1).newDocument}function aat(e,t){const n=Object.keys(e).length;return new Set(t.map(r=>r.path.split("/")[0])).size<n/2?"patch":"checkpoint"}function Kv({registry:e,initialState:t}){let n=!1;const r=Tst(),i=qst(t);function o(c){return i.backend.nodes[c]}r.listen(ZE.TRAVERSAL_START,()=>{n=!0}),r.listen(ZE.TRAVERSAL_END,()=>{n=!1});const s={add(c,d=i.current.id){i.update(i.addMetadata({id:d,meta:c}))},latestOfType(c,d=i.current.id){var f;return(f=i.backend.nodes[d].meta[c])==null?void 0:f.at(-1)},allOfType(c,d=i.current.id){return i.backend.nodes[d].meta[c]},latest(c=i.current.id){const d=i.backend.nodes[c].meta,f=Object.keys(d).reduce((h,p)=>{const m=d[p].at(-1);return m&&(h[p]=m),h},{});return Object.keys(f).length>0?f:void 0},all(c=i.current.id){return i.backend.nodes[c].meta},types(c=i.current.id){return Object.keys(i.backend.nodes[c].meta)}},a={add(c,d=i.current.id){i.update(i.addArtifact({id:d,artifact:c}))},latest(c=i.current.id){return i.backend.nodes[c].artifacts.at(-1)},all(c=i.current.id){return i.backend.nodes[c].artifacts}},l={add(c,d=i.current.id){s.add({annotation:c},d)},latest(c=i.current.id){var d;return(d=s.latestOfType("annotation",c))==null?void 0:d.val},all(c=i.current.id){var d;return(d=s.allOfType("annotation",c))==null?void 0:d.map(f=>f.val)}},u={add(c=i.current.id){s.add({bookmark:!0},c)},remove(c=i.current.id){s.add({bookmark:!1},c)},is(c=i.current.id){var d;return!!((d=s.latestOfType("bookmark",c))!=null&&d.val)},toggle(c=i.current.id){u.is(c)?u.remove(c):u.add(c)}};return{registry:e,get isTraversing(){return n},getState(c=i.current){return UI(c,i.backend.nodes)},graph:i,get current(){return i.current},get root(){return i.root},record({label:c,state:d,sideEffects:f,eventType:h,onlySideEffects:p=!1}){let m=null,g=null;const y=UI(this.current,this.graph.backend.nodes);if(p)g={type:"checkpoint",val:d};else{const v=Txe(y,d);if(aat(d,v)==="checkpoint")g={type:"checkpoint",val:d};else{const w=this.current.state.type==="checkpoint"?this.current.id:this.current.state.checkpointRef;g={type:"patch",val:v,checkpointRef:w}}}if(!g)throw new Error(`Could not calculate new state. Previous state is: ${JSON.stringify(this.current.state,null,2)}`);if(m=Dst({label:c,state:g,parent:this.current,sideEffects:f,event:h}),!m)throw new Error("State Node creation failed!");i.update(i.addNode(m))},async apply(c,d){const f=e.get(d.type),h=UI(this.current,this.graph.backend.nodes);if(f.config.hasSideEffects){const{do:p=d,undo:m}=f.func(d.payload);this.record({label:c,state:h,sideEffects:{do:[p],undo:[m]},eventType:f.config.eventType})}else{const p=f.func(h,d.payload);this.record({label:c,state:p,sideEffects:{do:[],undo:[]},eventType:f.config.eventType})}},async to(c){r.fire(ZE.TRAVERSAL_START);const d=Cxe(i.current,i.backend.nodes[c],i.backend.nodes),f=[];for(let h=0;h<d.length-1;++h){const p=o(d[h]),m=o(d[h+1]);uat(p,m)?vd(p)&&f.push(...p.sideEffects.undo):vd(m)&&f.push(...m.sideEffects.do)}for(const h of f){const p=e.get(h.type).func;await p(h.payload)}i.update(i.changeCurrent(c)),r.fire(ZE.TRAVERSAL_END)},undo(){const{current:c}=i;return vd(c)?this.to(c.parent):Promise.resolve(console.warn("Already at root!"))},redo(c="latest"){const{current:d}=i;return d.children.length>0?this.to(d.children[c==="oldest"?0:d.children.length-1]):Promise.resolve(console.warn("Already at latest in this branch!"))},currentChange(c,d=!1){return i.currentChange(c,{skipOnNew:d})},done(){console.log("Setup later for URL sharing.")},tree(){return Axe(i.root,i.backend.nodes)},on(c,d){r.listen(c,d)},export(){return JSON.stringify(i.backend)},exportObject(){return JSON.parse(JSON.stringify(i.backend))},import(c){const d=JSON.parse(c),f=d.current;d.current=d.root,i.update(i.load(d)),this.to(f)},importObject(c){const d=c.current;c.current=c.root,i.update(i.load(c)),this.to(d)},metadata:s,artifact:a,annotations:l,bookmarks:u}}function lat(e,t,n){let[r,i]=[e,t];r.level>i.level&&([r,i]=[i,r]);let o=i.level-r.level;for(;vd(i)&&o!==0;)i=n[i.parent],o-=1;if(r.id===i.id)return r.id;for(;r.id!==i.id;)vd(r)&&(r=n[r.parent]),vd(i)&&(i=n[i.parent]);return r.id}function Cxe(e,t,n){const r=lat(e,t,n),i=n[r],o=[],s=[];let[a,l]=[e,t];for(;a.id!==i.id;)o.push(a),vd(a)&&(a=n[a.parent]);for(o.push(a);l.id!==i.id;)s.push(l),vd(l)&&(l=n[l.parent]);const u=s.reverse();return[...o,...u].map(c=>c.id)}function uat(e,t){if(vd(e)&&e.parent===t.id)return!0;if(vd(t)&&t.parent===e.id)return!1;throw new Error("Incorrect use of function. Nodes are not connected to each other.")}function Axe(e,t){return{...e,children:e.children.map(n=>Axe(t[n],t)),name:`${e.label}`}}Lst();function cat(e){return e.length===2?Vst(e):e}class Qp{static create(){return new Qp}constructor(){this.registry=new Map}has(t){return this.registry.has(t)}register(t,n,r){const i=n.length===2;if(n.length>2)throw new Error("Incorrect action function signature. Action function can only have two arguments at most!");if(this.has(t))throw new Error(`Already registered: ${t}`);const{label:o=t,eventType:s=t}=r||{};return this.registry.set(t,{func:cat(n),config:{hasSideEffects:!i,label:typeof o=="string"?()=>o:o,eventType:s}}),Df(t)}get(t){const n=this.registry.get(t);if(!n)throw new Error(`Not registered: ${t}`);return n}}const kxe={readingtabularjson:JSON.stringify({students:{student:[{name:"Bob",age:12,contact:{email:"bob@example.com",phone:"+123456789",address:"123 Bob St, Some City"},courses:{course:{course_name:"Math 101",quizzes:{quiz:[{id:1,grade:8,weight:.1},{id:2,grade:9,weight:.1}]},midterm:{grade:77,weight:.3},final:{grade:87,weight:.5},total_score:82.3,attendance:{total_classes:30,attended_classes:28,absent_classes:2}}},extra_curricular:{sports:{sport:[{sport_name:"Soccer",position:"Forward",team:"The Tigers"},{sport_name:"Basketball",position:"Guard",team:"The Eagles"}]},clubs:{club:[{club_name:"Science Club",role:"President"},{club_name:"Drama Club",role:"Member"}]}}},{name:"Eve",age:13,contact:{email:"eve@example.com",phone:"+987654321",address:"456 Eve St, Other City"},courses:{course:{course_name:"Math 101",quizzes:{quiz:[{id:1,grade:9,weight:.15},{id:2,grade:10,weight:.15}]},midterm:{grade:"AB(absent)",weight:.3},final:{grade:77,weight:.4},total_score:78.3,attendance:{total_classes:30,attended_classes:27,absent_classes:3}}},extra_curricular:{sports:{sport:{sport_name:"Tennis",position:"Singles",team:"The Champions"}},clubs:{club:{club_name:"Art Club",role:"Vice President"}}}},{name:"Alice",age:14,contact:{email:"alice@example.com",phone:"+111222333",address:"789 Alice St, Another City"},courses:{course:{course_name:"Science 101",quizzes:{quiz:[{id:1,grade:7,weight:.2},{id:2,grade:8,weight:.2}]},midterm:{grade:85,weight:.3},final:{grade:90,weight:.5},total_score:84.7,attendance:{total_classes:30,attended_classes:29,absent_classes:1}}},extra_curricular:{sports:{sport:{sport_name:"Swimming",position:"Freestyle",team:"Blue Sharks"}},clubs:{club:[{club_name:"Chess Club",role:"Member"},{club_name:"Literature Club",role:"Secretary"}]}}}]}},null,2),readingtabularxml:`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<students>
  <student>
    <name>Bob</name>
    <age>12</age>
    <contact>
      <email>bob@example.com</email>
      <phone>+123456789</phone>
      <address>123 Bob St, Some City</address>
    </contact>
    <courses>
      <course>
        <course_name>Math 101</course_name>
        <quizzes>
          <quiz>
            <id>1</id>
            <grade>8</grade>
            <weight>0.1</weight>
          </quiz>
          <quiz>
            <id>2</id>
            <grade>9</grade>
            <weight>0.1</weight>
          </quiz>
        </quizzes>
        <midterm>
          <grade>77</grade>
          <weight>0.3</weight>
        </midterm>
        <final>
          <grade>87</grade>
          <weight>0.5</weight>
        </final>
        <total_score>82.3</total_score>
        <attendance>
          <total_classes>30</total_classes>
          <attended_classes>28</attended_classes>
          <absent_classes>2</absent_classes>
        </attendance>
      </course>
    </courses>
    <extra_curricular>
      <sports>
        <sport>
          <sport_name>Soccer</sport_name>
          <position>Forward</position>
          <team>The Tigers</team>
        </sport>
        <sport>
          <sport_name>Basketball</sport_name>
          <position>Guard</position>
          <team>The Eagles</team>
        </sport>
      </sports>
      <clubs>
        <club>
          <club_name>Science Club</club_name>
          <role>President</role>
        </club>
        <club>
          <club_name>Drama Club</club_name>
          <role>Member</role>
        </club>
      </clubs>
    </extra_curricular>
  </student>
  <student>
    <name>Eve</name>
    <age>13</age>
    <contact>
      <email>eve@example.com</email>
      <phone>+987654321</phone>
      <address>456 Eve St, Other City</address>
    </contact>
    <courses>
      <course>
        <course_name>Math 101</course_name>
        <quizzes>
          <quiz>
            <id>1</id>
            <grade>9</grade>
            <weight>0.15</weight>
          </quiz>
          <quiz>
            <id>2</id>
            <grade>10</grade>
            <weight>0.15</weight>
          </quiz>
        </quizzes>
        <midterm>
          <grade>AB(absent)</grade> <!--The student was absent for the midterm exam.-->
          <weight>0.3</weight>
        </midterm>
        <final>
          <grade>77</grade>
          <weight>0.4</weight>
        </final>
        <total_score>78.3</total_score>
        <attendance>
          <total_classes>30</total_classes>
          <attended_classes>27</attended_classes>
          <absent_classes>3</absent_classes>
        </attendance>
      </course>
    </courses>
    <extra_curricular>
      <sports>
        <sport>
          <sport_name>Tennis</sport_name>
          <position>Singles</position>
          <team>The Champions</team>
        </sport>
      </sports>
      <clubs>
        <club>
          <club_name>Art Club</club_name>
          <role>Vice President</role>
        </club>
      </clubs>
    </extra_curricular>
  </student>
  <student>
    <name>Alice</name>
    <age>14</age>
    <contact>
      <email>alice@example.com</email>
      <phone>+111222333</phone>
      <address>789 Alice St, Another City</address>
    </contact>
    <courses>
      <course>
        <course_name>Science 101</course_name>
        <quizzes>
          <quiz>
            <id>1</id>
            <grade>7</grade>
            <weight>0.2</weight>
          </quiz>
          <quiz>
            <id>2</id>
            <grade>8</grade>
            <weight>0.2</weight>
          </quiz>
        </quizzes>
        <midterm>
          <grade>85</grade>
          <weight>0.3</weight>
        </midterm>
        <final>
          <grade>90</grade>
          <weight>0.5</weight>
        </final>
        <total_score>84.7</total_score>
        <attendance>
          <total_classes>30</total_classes>
          <attended_classes>29</attended_classes>
          <absent_classes>1</absent_classes>
        </attendance>
      </course>
    </courses>
    <extra_curricular>
      <sports>
        <sport>
          <sport_name>Swimming</sport_name>
          <position>Freestyle</position>
          <team>Blue Sharks</team>
        </sport>
      </sports>
      <clubs>
        <club>
          <club_name>Chess Club</club_name>
          <role>Member</role>
        </club>
        <club>
          <club_name>Literature Club</club_name>
          <role>Secretary</role>
        </club>
      </clubs>
    </extra_curricular>
  </student>
</students>`,readingtabulartoml:`[students]

[[students.student]]
name = "Bob"
age = 12

[students.student.contact]
email = "bob@example.com"
phone = "+123456789"
address = "123 Bob St, Some City"

[students.student.courses]

[students.student.courses.course]
course_name = "Math 101"
total_score = 82.3

[students.student.courses.course.quizzes]

[[students.student.courses.course.quizzes.quiz]]
id = 1
grade = 8.0
weight = 0.1

[[students.student.courses.course.quizzes.quiz]]
id = 2
grade = 9.0
weight = 0.1

[students.student.courses.course.midterm]
grade = 77.0
weight = 0.3

[students.student.courses.course.final]
grade = 87.0
weight = 0.5

[students.student.courses.course.attendance]
total_classes = 30
attended_classes = 28
absent_classes = 2

[students.student.extra_curricular]

[students.student.extra_curricular.sports]

[[students.student.extra_curricular.sports.sport]]
sport_name = "Soccer"
position = "Forward"
team = "The Tigers"

[[students.student.extra_curricular.sports.sport]]
sport_name = "Basketball"
position = "Guard"
team = "The Eagles"

[students.student.extra_curricular.clubs]

[[students.student.extra_curricular.clubs.club]]
club_name = "Science Club"
role = "President"

[[students.student.extra_curricular.clubs.club]]
club_name = "Drama Club"
role = "Member"

[[students.student]]
name = "Eve"
age = 13

[students.student.contact]
email = "eve@example.com"
phone = "+987654321"
address = "456 Eve St, Other City"

[students.student.courses]

[students.student.courses.course]
course_name = "Math 101"
total_score = 78.3

[students.student.courses.course.quizzes]

[[students.student.courses.course.quizzes.quiz]]
id = 1
grade = 9.0
weight = 0.15

[[students.student.courses.course.quizzes.quiz]]
id = 2
grade = 10.0
weight = 0.15

[students.student.courses.course.midterm]
grade = "AB(absent)"   # The student was absent for the midterm exam.
weight = 0.3

[students.student.courses.course.final]
grade = 77.0
weight = 0.4

[students.student.courses.course.attendance]
total_classes = 30
attended_classes = 27
absent_classes = 3

[students.student.extra_curricular]

[students.student.extra_curricular.sports]

[students.student.extra_curricular.sports.sport]
sport_name = "Tennis"
position = "Singles"
team = "The Champions"

[students.student.extra_curricular.clubs]

[students.student.extra_curricular.clubs.club]
club_name = "Art Club"
role = "Vice President"

[[students.student]]
name = "Alice"
age = 14

[students.student.contact]
email = "alice@example.com"
phone = "+111222333"
address = "789 Alice St, Another City"

[students.student.courses]

[students.student.courses.course]
course_name = "Science 101"
total_score = 84.7

[students.student.courses.course.quizzes]

[[students.student.courses.course.quizzes.quiz]]
id = 1
grade = 7.0
weight = 0.2

[[students.student.courses.course.quizzes.quiz]]
id = 2
grade = 8.0
weight = 0.2

[students.student.courses.course.midterm]
grade = 85.0
weight = 0.3

[students.student.courses.course.final]
grade = 90.0
weight = 0.5

[students.student.courses.course.attendance]
total_classes = 30
attended_classes = 29
absent_classes = 1

[students.student.extra_curricular]

[students.student.extra_curricular.sports]

[students.student.extra_curricular.sports.sport]
sport_name = "Swimming"
position = "Freestyle"
team = "Blue Sharks"

[students.student.extra_curricular.clubs]

[[students.student.extra_curricular.clubs.club]]
club_name = "Chess Club"
role = "Member"

[[students.student.extra_curricular.clubs.club]]
club_name = "Literature Club"
role = "Secretary"`,readingtabularyaml:`students:
  student:
    - name: Bob
      age: 12
      contact:
        email: bob@example.com
        phone: '+123456789'
        address: 123 Bob St, Some City
      courses:
        course:
          course_name: Math 101
          quizzes:
            quiz:
              - id: 1
                grade: 8
                weight: 0.1
              - id: 2
                grade: 9
                weight: 0.1
          midterm:
            grade: 77
            weight: 0.3
          final:
            grade: 87
            weight: 0.5
          total_score: 82.3
          attendance:
            total_classes: 30
            attended_classes: 28
            absent_classes: 2
      extra_curricular:
        sports:
          sport:
            - sport_name: Soccer
              position: Forward
              team: The Tigers
            - sport_name: Basketball
              position: Guard
              team: The Eagles
        clubs:
          club:
            - club_name: Science Club
              role: President
            - club_name: Drama Club
              role: Member
    - name: Eve
      age: 13
      contact:
        email: eve@example.com
        phone: '+987654321'
        address: 456 Eve St, Other City
      courses:
        course:
          course_name: Math 101
          quizzes:
            quiz:
              - id: 1
                grade: 9
                weight: 0.15
              - id: 2
                grade: 10
                weight: 0.15
          midterm:
            grade: AB(absent)  # The student was absent for the midterm exam.
            weight: 0.3
          final:
            grade: 77
            weight: 0.4
          total_score: 78.3
          attendance:
            total_classes: 30
            attended_classes: 27
            absent_classes: 3
      extra_curricular:
        sports:
          sport:
            sport_name: Tennis
            position: Singles
            team: The Champions
        clubs:
          club:
            club_name: Art Club
            role: Vice President
    - name: Alice
      age: 14
      contact:
        email: alice@example.com
        phone: '+111222333'
        address: 789 Alice St, Another City
      courses:
        course:
          course_name: Science 101
          quizzes:
            quiz:
              - id: 1
                grade: 7
                weight: 0.2
              - id: 2
                grade: 8
                weight: 0.2
          midterm:
            grade: 85
            weight: 0.3
          final:
            grade: 90
            weight: 0.5
          total_score: 84.7
          attendance:
            total_classes: 30
            attended_classes: 29
            absent_classes: 1
      extra_curricular:
        sports:
          sport:
            sport_name: Swimming
            position: Freestyle
            team: Blue Sharks
        clubs:
          club:
            - club_name: Chess Club
              role: Member
            - club_name: Literature Club
              role: Secretary`,readingtabularjsonc:`{
    "students": {
      "student": [
        {
          // comments
          "name": "Bob",
          "age": 12,
          "contact": {
            "email": "bob@example.com",
            "phone": "+123456789",
            "address": "123 Bob St, Some City"
          },
          "courses": {
            "course": {
              "course_name": "Math 101",
              "quizzes": {
                "quiz": [
                  {
                    "id": 1,
                    "grade": 8,
                    "weight": 0.1
                  },
                  {
                    "id": 2,
                    "grade": 9,
                    "weight": 0.1
                  }
                ]
              },
              "midterm": {
                "grade": 77,
                "weight": 0.3
              },
              "final": {
                "grade": 87,
                "weight": 0.5
              },
              "total_score": 82.3,
              "attendance": {
                "total_classes": 30,
                "attended_classes": 28,
                "absent_classes": 2
              }
            }
          },
          "extra_curricular": {
            "sports": {
              "sport": [
                {
                  "sport_name": "Soccer",
                  "position": "Forward",
                  "team": "The Tigers"
                },
                {
                  "sport_name": "Basketball",
                  "position": "Guard",
                  "team": "The Eagles"
                }
              ]
            },
            "clubs": {
              "club": [
                {
                  "club_name": "Science Club",
                  "role": "President"
                },
                {
                  "club_name": "Drama Club",
                  "role": "Member"
                }
              ]
            }
          }
        },
        {
          "name": "Eve",
          "age": 13,
          "contact": {
            "email": "eve@example.com",
            "phone": "+987654321",
            "address": "456 Eve St, Other City"
          },
          "courses": {
            "course": {
              "course_name": "Math 101",
              "quizzes": {
                "quiz": [
                  {
                    "id": 1,
                    "grade": 9,
                    "weight": 0.15
                  },
                  {
                    "id": 2,
                    "grade": 10,
                    "weight": 0.15
                  }
                ]
              },
              "midterm": {
                "grade": "AB(absent)",
                "weight": 0.3
              },
              "final": {
                "grade": 77,
                "weight": 0.4
              },
              "total_score": 78.3,
              "attendance": {
                "total_classes": 30,
                "attended_classes": 27,
                "absent_classes": 3
              }
            }
          },
          "extra_curricular": {
            "sports": {
              "sport": {
                "sport_name": "Tennis",
                "position": "Singles",
                "team": "The Champions"
              }
            },
            "clubs": {
              "club": {
                "club_name": "Art Club",
                "role": "Vice President"
              }
            }
          }
        },
        {
          "name": "Alice",
          "age": 14,
          "contact": {
            "email": "alice@example.com",
            "phone": "+111222333",
            "address": "789 Alice St, Another City"
          },
          "courses": {
            "course": {
              "course_name": "Science 101",
              "quizzes": {
                "quiz": [
                  {
                    "id": 1,
                    "grade": 7,
                    "weight": 0.2
                  },
                  {
                    "id": 2,
                    "grade": 8,
                    "weight": 0.2
                  }
                ]
              },
              "midterm": {
                "grade": 85,
                "weight": 0.3
              },
              "final": {
                "grade": 90,
                "weight": 0.5
              },
              "total_score": 84.7,
              "attendance": {
                "total_classes": 30,
                "attended_classes": 29,
                "absent_classes": 1
              }
            }
          },
          "extra_curricular": {
            "sports": {
              "sport": {
                "sport_name": "Swimming",
                "position": "Freestyle",
                "team": "Blue Sharks"
              }
            },
            "clubs": {
              "club": [
                {
                  "club_name": "Chess Club",
                  "role": "Member"
                },
                {
                  "club_name": "Literature Club",
                  "role": "Secretary"
                }
              ]
            }
          }
        }
      ]
    }
  }`,readingtabularhjson:`
  students:
  {
    student:
    [
      {
        name: Bob
        age: 12
        contact:
        {
          email: bob@example.com
          phone: +123456789
          address: 123 Bob St, Some City
        }
        courses:
        {
          course:
          {
            course_name: Math 101
            quizzes:
            {
              quiz:
              [
                {
                  id: 1
                  grade: 8
                  weight: 0.1
                }
                {
                  id: 2
                  grade: 9
                  weight: 0.1
                }
              ]
            }
            midterm:
            {
              grade: 77
              weight: 0.3
            }
            final:
            {
              grade: 87
              weight: 0.5
            }
            total_score: 82.3
            attendance:
            {
              total_classes: 30
              attended_classes: 28
              absent_classes: 2
            }
          }
        }
        extra_curricular:
        {
          sports:
          {
            sport:
            [
              {
                sport_name: Soccer
                position: Forward
                team: The Tigers
              }
              {
                sport_name: Basketball
                position: Guard
                team: The Eagles
              }
            ]
          }
          clubs:
          {
            club:
            [
              {
                club_name: Science Club
                role: President
              }
              {
                club_name: Drama Club
                role: Member
              }
            ]
          }
        }
      }
      {
        name: Eve
        age: 13
        contact:
        {
          email: eve@example.com
          phone: +987654321
          address: 456 Eve St, Other City
        }
        courses:
        {
          course:
          {
            course_name: Math 101
            quizzes:
            {
              quiz:
              [
                {
                  id: 1
                  grade: 9
                  weight: 0.15
                }
                {
                  id: 2
                  grade: 10
                  weight: 0.15
                }
              ]
            }
            midterm:
            {
              grade: AB(absent) // The student was absent for the midterm exam.
              weight: 0.3
            }
            final:
            {
              grade: 77
              weight: 0.4
            }
            total_score: 78.3
            attendance:
            {
              total_classes: 30
              attended_classes: 27
              absent_classes: 3
            }
          }
        }
        extra_curricular:
        {
          sports:
          {
            sport:
            {
              sport_name: Tennis
              position: Singles
              team: The Champions
            }
          }
          clubs:
          {
            club:
            {
              club_name: Art Club
              role: Vice President
            }
          }
        }
      }
      {
        name: Alice
        age: 14
        contact:
        {
          email: alice@example.com
          phone: +111222333
          address: 789 Alice St, Another City
        }
        courses:
        {
          course:
          {
            course_name: Science 101
            quizzes:
            {
              quiz:
              [
                {
                  id: 1
                  grade: 7
                  weight: 0.2
                }
                {
                  id: 2
                  grade: 8
                  weight: 0.2
                }
              ]
            }
            midterm:
            {
              grade: 85
              weight: 0.3
            }
            final:
            {
              grade: 90
              weight: 0.5
            }
            total_score: 84.7
            attendance:
            {
              total_classes: 30
              attended_classes: 29
              absent_classes: 1
            }
          }
        }
        extra_curricular:
        {
          sports:
          {
            sport:
            {
              sport_name: Swimming
              position: Freestyle
              team: Blue Sharks
            }
          }
          clubs:
          {
            club:
            [
              {
                club_name: Chess Club
                role: Member
              }
              {
                club_name: Literature Club
                role: Secretary
              }
            ]
          }
        }
      }
    ]
  }`,readingtabularjson5:`{
    students: {
        student: [
            {
                name: 'Bob',
                age: 12,
                contact: {
                    email: 'bob@example.com',
                    phone: '+123456789',
                    address: '123 Bob St, Some City'
                },
                courses: {
                    course: {
                        course_name: 'Math 101',
                        quizzes: {
                            quiz: [
                                {
                                    id: 1,
                                    grade: 8,
                                    weight: 0.1
                                },
                                {
                                    id: 2,
                                    grade: 9,
                                    weight: 0.1
                                }
                            ]
                        },
                        midterm: {
                            grade: 77,
                            weight: 0.3
                        },
                        final: {
                            grade: 87,
                            weight: 0.5
                        },
                        total_score: 82.3,
                        attendance: {
                            total_classes: 30,
                            attended_classes: 28,
                            absent_classes: 2
                        }
                    }
                },
                extra_curricular: {
                    sports: {
                        sport: [
                            {
                                sport_name: 'Soccer',
                                position: 'Forward',
                                team: 'The Tigers'
                            },
                            {
                                sport_name: 'Basketball',
                                position: 'Guard',
                                team: 'The Eagles'
                            }
                        ]
                    },
                    clubs: {
                        club: [
                            {
                                club_name: 'Science Club',
                                role: 'President'
                            },
                            {
                                club_name: 'Drama Club',
                                role: 'Member'
                            }
                        ]
                    }
                }
            },
            {
                name: 'Eve',
                age: 13,
                contact: {
                    email: 'eve@example.com',
                    phone: '+987654321',
                    address: '456 Eve St, Other City'
                },
                courses: {
                    course: {
                        course_name: 'Math 101',
                        quizzes: {
                            quiz: [
                                {
                                    id: 1,
                                    grade: 9,
                                    weight: 0.15
                                },
                                {
                                    id: 2,
                                    grade: 10,
                                    weight: 0.15
                                }
                            ]
                        },
                        midterm: {
                            grade: 'AB(absent)',  // The student was absent for the midterm exam.
                            weight: 0.3
                        },
                        final: {
                            grade: 77,
                            weight: 0.4
                        },
                        total_score: 78.3,
                        attendance: {
                            total_classes: 30,
                            attended_classes: 27,
                            absent_classes: 3
                        }
                    }
                },
                extra_curricular: {
                    sports: {
                        sport: {
                            sport_name: 'Tennis',
                            position: 'Singles',
                            team: 'The Champions'
                        }
                    },
                    clubs: {
                        club: {
                            club_name: 'Art Club',
                            role: 'Vice President'
                        }
                    }
                }
            },
            {
                name: 'Alice',
                age: 14,
                contact: {
                    email: 'alice@example.com',
                    phone: '+111222333',
                    address: '789 Alice St, Another City'
                },
                courses: {
                    course: {
                        course_name: 'Science 101',
                        quizzes: {
                            quiz: [
                                {
                                    id: 1,
                                    grade: 7,
                                    weight: 0.2
                                },
                                {
                                    id: 2,
                                    grade: 8,
                                    weight: 0.2
                                }
                            ]
                        },
                        midterm: {
                            grade: 85,
                            weight: 0.3
                        },
                        final: {
                            grade: 90,
                            weight: 0.5
                        },
                        total_score: 84.7,
                        attendance: {
                            total_classes: 30,
                            attended_classes: 29,
                            absent_classes: 1
                        }
                    }
                },
                extra_curricular: {
                    sports: {
                        sport: {
                            sport_name: 'Swimming',
                            position: 'Freestyle',
                            team: 'Blue Sharks'
                        }
                    },
                    clubs: {
                        club: [
                            {
                                club_name: 'Chess Club',
                                role: 'Member'
                            },
                            {
                                club_name: 'Literature Club',
                                role: 'Secretary'
                            }
                        ]
                    }
                }
            }
        ]
    }
}`,readingconfigjson:JSON.stringify({name:"d3",version:"7.9.0",description:"Data-Driven Documents",homepage:"d3js.org",repository:{type:"git",url:"github.com/d3/d3.git"},keywords:["d3","dom","visualization","svg","animation","canvas"],license:"ISC",author:{firstname:"Mike",lastname:"Bostock"},type:"module",files:["dist/d3.js","dist/d3.min.js","src/**/*.js"],module:"src/index.js",main:"src/index.js",jsdelivr:"dist/d3.min.js",unpkg:"dist/d3.min.js",exports:{umd:"./dist/d3.min.js",default:"./src/index.js"},dependencies:{"d3-array":"^3.2.4","d3-axis":"^3.0.0","d3-brush":"^3.0.0","d3-chord":"^3.0.1","d3-color":"^3.1.0","d3-contour":"^4.0.2","d3-delaunay":"^6.0.4","d3-dispatch":"^3.0.1","d3-drag":"^3.0.0","d3-dsv":"^3.0.1","d3-ease":"^3.0.1","d3-fetch":"^3.0.1","d3-force":"^3.0.0","d3-format":"^3.1.0","d3-geo":"^3.1.1","d3-hierarchy":"^3.1.2","d3-interpolate":"^3.0.1","d3-path":"^3.1.0","d3-polygon":"^3.0.1","d3-quadtree":"^3.0.1","d3-random":"^3.0.1","d3-scale":"^4.0.2","d3-scale-chromatic":"^3.1.0","d3-selection":"^3.0.0","d3-shape":"^3.2.0","d3-time":"^3.1.0","d3-time-format":"^4.1.0","d3-timer":"^3.0.1","d3-transition":"^3.0.1","d3-zoom":"^3.0.0"},devDependencies:{"@observablehq/plot":"^0.6.7","@observablehq/runtime":"^5.7.3","@rollup/plugin-json":"^6.1.0","@rollup/plugin-node-resolve":"^15.2.3","@rollup/plugin-terser":"^0.4.0",eslint:"^8.57.0",mocha:"^10.3.0",rollup:"^3.29.4","topojson-client":"^3.1.0",vitepress:"^1.4.0"},scripts:{prepublishOnly:"rm -rf dist && rollup -c",postpublish:"git push && git push --tags","docs/dev":"node --experimental-network-imports node_modules/vitepress/dist/node/cli.js dev docs","docs/build":"./prebuild.sh && node --experimental-network-imports node_modules/vitepress/dist/node/cli.js build docs","docs/preview":"vitepress preview docs"},engines:{node:">=12"}},null,2),readingconfigxml:`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<root>
  <name>d3</name>
  <version>7.9.0</version> 
  <description>Data-Driven Documents</description>
  <homepage>d3js.org</homepage>
  <repository>
    <type>git</type>
    <url>github.com/d3/d3.git</url>
  </repository>
  <keywords>d3</keywords>
  <keywords>dom</keywords>
  <keywords>visualization</keywords>
  <keywords>svg</keywords>
  <keywords>animation</keywords>
  <keywords>canvas</keywords>
  <license>ISC</license>
  <author>
    <firstname>Mike</firstname>
    <lastname>Bostock</lastname>
  </author>
  <type>module</type>
  <files>dist/d3.js</files>
  <files>dist/d3.min.js</files>
  <files>src/**/*.js</files>
  <module>src/index.js</module>
  <main>src/index.js</main>
  <jsdelivr>dist/d3.min.js</jsdelivr>
  <unpkg>dist/d3.min.js</unpkg>
  <exports>
    <umd>./dist/d3.min.js</umd>
    <default>./src/index.js</default>
  </exports>
  <dependencies>
    <d3-array>^3.2.4</d3-array>
    <d3-axis>^3.0.0</d3-axis>
    <d3-brush>^3.0.0</d3-brush>
    <d3-chord>^3.0.1</d3-chord>
    <d3-color>^3.1.0</d3-color>
    <d3-contour>^4.0.2</d3-contour>
    <d3-delaunay>^6.0.4</d3-delaunay>  <!--this version might have compatibility issues-->
    <d3-dispatch>^3.0.1</d3-dispatch>
    <d3-drag>^3.0.0</d3-drag>
    <d3-dsv>^3.0.1</d3-dsv>
    <d3-ease>^3.0.1</d3-ease>
    <d3-fetch>^3.0.1</d3-fetch>
    <d3-force>^3.0.0</d3-force>
    <d3-format>^3.1.0</d3-format>
    <d3-geo>^3.1.1</d3-geo>
    <d3-hierarchy>^3.1.2</d3-hierarchy>
    <d3-interpolate>^3.0.1</d3-interpolate>
    <d3-path>^3.1.0</d3-path>
    <d3-polygon>^3.0.1</d3-polygon>
    <d3-quadtree>^3.0.1</d3-quadtree>
    <d3-random>^3.0.1</d3-random>
    <d3-scale>^4.0.2</d3-scale>
    <d3-scale-chromatic>^3.1.0</d3-scale-chromatic>
    <d3-selection>^3.0.0</d3-selection>
    <d3-shape>^3.2.0</d3-shape>
    <d3-time>^3.1.0</d3-time>
    <d3-time-format>^4.1.0</d3-time-format>
    <d3-timer>^3.0.1</d3-timer>
    <d3-transition>^3.0.1</d3-transition>
    <d3-zoom>^3.0.0</d3-zoom>
  </dependencies>
  <devDependencies>
    <_x0040_observablehq_x002F_plot>^0.6.7</_x0040_observablehq_x002F_plot>
    <_x0040_observablehq_x002F_runtime>^5.7.3</_x0040_observablehq_x002F_runtime>
    <_x0040_rollup_x002F_plugin-json>^6.1.0</_x0040_rollup_x002F_plugin-json>
    <_x0040_rollup_x002F_plugin-node-resolve>^15.2.3</_x0040_rollup_x002F_plugin-node-resolve>
    <_x0040_rollup_x002F_plugin-terser>^0.4.0</_x0040_rollup_x002F_plugin-terser>
    <eslint>^8.57.0</eslint>
    <mocha>^10.3.0</mocha>
    <rollup>^3.29.4</rollup>
    <topojson-client>^3.1.0</topojson-client>
    <vitepress>^1.4.0</vitepress>
  </devDependencies>
  <scripts>
    <prepublishOnly>rm -rf dist && rollup -c</prepublishOnly>
    <postpublish>git push && git push --tags</postpublish>
    <docs/dev>node --experimental-network-imports node_modules/vitepress/dist/node/cli.js dev docs</docs/dev>
    <docs/build>./prebuild.sh && node --experimental-network-imports node_modules/vitepress/dist/node/cli.js build docs</docs/build>
    <docs/preview>vitepress preview docs</docs/preview>
  <\/scripts>
  <engines>
    <node> >=12</node>
  </engines>
</root>`,readingconfigtoml:`name = "d3"
version = "7.9.0"
description = "Data-Driven Documents"
homepage = "d3js.org"
keywords = ["d3", "dom", "visualization", "svg", "animation", "canvas"]
license = "ISC"
type = "module"
files = ["dist/d3.js", "dist/d3.min.js", "src/**/*.js"]
module = "src/index.js"
main = "src/index.js"
jsdelivr = "dist/d3.min.js"
unpkg = "dist/d3.min.js"

[repository]
type = "git"
url = "github.com/d3/d3.git"

[author]
firstname = "Mike"
lastname = "Bostock"

[exports]
umd = "./dist/d3.min.js"
default = "./src/index.js"

[dependencies]
d3-array = "^3.2.4"
d3-axis = "^3.0.0"
d3-brush = "^3.0.0"
d3-chord = "^3.0.1"
d3-color = "^3.1.0"
d3-contour = "^4.0.2"
d3-delaunay = "^6.0.4" # this version might have compatibility issues
d3-dispatch = "^3.0.1"
d3-drag = "^3.0.0"
d3-dsv = "^3.0.1"
d3-ease = "^3.0.1"
d3-fetch = "^3.0.1"
d3-force = "^3.0.0"
d3-format = "^3.1.0"
d3-geo = "^3.1.1"
d3-hierarchy = "^3.1.2"
d3-interpolate = "^3.0.1"
d3-path = "^3.1.0"
d3-polygon = "^3.0.1"
d3-quadtree = "^3.0.1"
d3-random = "^3.0.1"
d3-scale = "^4.0.2"
d3-scale-chromatic = "^3.1.0"
d3-selection = "^3.0.0"
d3-shape = "^3.2.0"
d3-time = "^3.1.0"
d3-time-format = "^4.1.0"
d3-timer = "^3.0.1"
d3-transition = "^3.0.1"
d3-zoom = "^3.0.0"

[devDependencies]
@observablehq/plot = "^0.6.7"
@observablehq/runtime = "^5.7.3"
@rollup/plugin-json = "^6.1.0"
@rollup/plugin-node-resolve = "^15.2.3"
@rollup/plugin-terser = "^0.4.0"
eslint = "^8.57.0"
mocha = "^10.3.0"
rollup = "^3.29.4"
topojson-client = "^3.1.0"
vitepress = "^1.4.0"

[scripts]
prepublishOnly = "rm -rf dist && rollup -c"
postpublish = "git push && git push --tags"
docs/dev = "node --experimental-network-imports node_modules/vitepress/dist/node/cli.js dev docs"
docs/build = "./prebuild.sh && node --experimental-network-imports node_modules/vitepress/dist/node/cli.js build docs"
docs/preview = "vitepress preview docs"

[engines]
node = ">=12"`,readingconfigyaml:`
  name: d3
  version: 7.9.0
  description: 'Data-Driven Documents'
  homepage: d3js.org
  repository:
    type: git
    url: github.com/d3/d3.git
  keywords:
    - d3
    - dom
    - visualization
    - svg
    - animation
    - canvas
  license: ISC
  author:
    firstname: Mike
    lastname:  Bostock
  type: module
  files:
    - dist/d3.js
    - dist/d3.min.js
    - 'src/**/*.js'
  module: src/index.js
  main: src/index.js
  jsdelivr: dist/d3.min.js
  unpkg: dist/d3.min.js
  exports:
    umd: ./dist/d3.min.js
    default: ./src/index.js
  dependencies:
    d3-array: ^3.2.4
    d3-axis: ^3.0.0
    d3-brush: ^3.0.0
    d3-chord: ^3.0.1
    d3-color: ^3.1.0
    d3-contour: ^4.0.2
    d3-delaunay: ^6.0.4 # this version might have compatibility issues
    d3-dispatch: ^3.0.1
    d3-drag: ^3.0.0
    d3-dsv: ^3.0.1
    d3-ease: ^3.0.1
    d3-fetch: ^3.0.1
    d3-force: ^3.0.0
    d3-format: ^3.1.0
    d3-geo: ^3.1.1
    d3-hierarchy: ^3.1.2
    d3-interpolate: ^3.0.1
    d3-path: ^3.1.0
    d3-polygon: ^3.0.1
    d3-quadtree: ^3.0.1
    d3-random: ^3.0.1
    d3-scale: ^4.0.2
    d3-scale-chromatic: ^3.1.0
    d3-selection: ^3.0.0
    d3-shape: ^3.2.0
    d3-time: ^3.1.0
    d3-time-format: ^4.1.0
    d3-timer: ^3.0.1
    d3-transition: ^3.0.1
    d3-zoom: ^3.0.0
  devDependencies:
    observablehq/plot: ^0.6.7
    observablehq/runtime: ^5.7.3
    rollup/plugin-json: ^6.1.0
    rollup/plugin-node-resolve: ^15.2.3
    rollup/plugin-terser: ^0.4.0
    eslint: ^8.57.0
    mocha: ^10.3.0
    rollup: ^3.29.4
    topojson-client: ^3.1.0
    vitepress: ^1.4.0
  scripts:
    prepublishOnly: 'rm -rf dist && rollup -c'
    postpublish: 'git push && git push --tags'
    docs/dev: 'node --experimental-network-imports node_modules/vitepress/dist/node/cli.js dev docs'
    docs/build: './prebuild.sh && node --experimental-network-imports node_modules/vitepress/dist/node/cli.js build docs'
    docs/preview: 'vitepress preview docs'
  engines:
    node: '>=12'`,readingconfigjsonc:JSON.stringify({name:"d3",version:"7.9.0",description:"Data-Driven Documents",homepage:"d3js.org",repository:{type:"git",url:"github.com/d3/d3.git"},keywords:["d3","dom","visualization","svg","animation","canvas"],license:"ISC",author:{firstname:"Mike",lastname:"Bostock"},type:"module",files:["dist/d3.js","dist/d3.min.js","src/**/*.js"],module:"src/index.js",main:"src/index.js",jsdelivr:"dist/d3.min.js",unpkg:"dist/d3.min.js",exports:{umd:"./dist/d3.min.js",default:"./src/index.js"},dependencies:{"d3-array":"^3.2.4","d3-axis":"^3.0.0","d3-brush":"^3.0.0","d3-chord":"^3.0.1","d3-color":"^3.1.0","d3-contour":"^4.0.2","d3-delaunay":"^6.0.4","d3-dispatch":"^3.0.1","d3-drag":"^3.0.0","d3-dsv":"^3.0.1","d3-ease":"^3.0.1","d3-fetch":"^3.0.1","d3-force":"^3.0.0","d3-format":"^3.1.0","d3-geo":"^3.1.1","d3-hierarchy":"^3.1.2","d3-interpolate":"^3.0.1","d3-path":"^3.1.0","d3-polygon":"^3.0.1","d3-quadtree":"^3.0.1","d3-random":"^3.0.1","d3-scale":"^4.0.2","d3-scale-chromatic":"^3.1.0","d3-selection":"^3.0.0","d3-shape":"^3.2.0","d3-time":"^3.1.0","d3-time-format":"^4.1.0","d3-timer":"^3.0.1","d3-transition":"^3.0.1","d3-zoom":"^3.0.0"},devDependencies:{"@observablehq/plot":"^0.6.7","@observablehq/runtime":"^5.7.3","@rollup/plugin-json":"^6.1.0","@rollup/plugin-node-resolve":"^15.2.3","@rollup/plugin-terser":"^0.4.0",eslint:"^8.57.0",mocha:"^10.3.0",rollup:"^3.29.4","topojson-client":"^3.1.0",vitepress:"^1.4.0"},scripts:{prepublishOnly:"rm -rf dist && rollup -c",postpublish:"git push && git push --tags","docs/dev":"node --experimental-network-imports node_modules/vitepress/dist/node/cli.js dev docs","docs/build":"./prebuild.sh && node --experimental-network-imports node_modules/vitepress/dist/node/cli.js build docs","docs/preview":"vitepress preview docs"},engines:{node:">=12"}},null,2),readingconfigjson5:`{
    name: 'd3',
    version: '7.9.0',
    description: 'Data-Driven Documents',
    homepage: 'd3js.org',
    repository: {
        type: 'git',
        url: 'github.com/d3/d3.git'
    },
    keywords: [
        'd3',
        'dom',
        'visualization',
        'svg',
        'animation',
        'canvas'
    ],
    license: 'ISC',
    author: {
        firstname: 'Mike',
        lastname: 'Bostock'
    },
    type: 'module',
    files: [
        'dist/d3.js',
        'dist/d3.min.js',
        'src/**/*.js'
    ],
    module: 'src/index.js',
    main: 'src/index.js',
    jsdelivr: 'dist/d3.min.js',
    unpkg: 'dist/d3.min.js',
    exports: {
        umd: './dist/d3.min.js',
        default: './src/index.js'
    },
    dependencies: {
        'd3-array': '^3.2.4',
        'd3-axis': '^3.0.0',
        'd3-brush': '^3.0.0',
        'd3-chord': '^3.0.1',
        'd3-color': '^3.1.0',
        'd3-contour': '^4.0.2',
        'd3-delaunay': '^6.0.4', // this version might have compatibility issues
        'd3-dispatch': '^3.0.1',
        'd3-drag': '^3.0.0',
        'd3-dsv': '^3.0.1',
        'd3-ease': '^3.0.1',
        'd3-fetch': '^3.0.1',
        'd3-force': '^3.0.0',
        'd3-format': '^3.1.0',
        'd3-geo': '^3.1.1',
        'd3-hierarchy': '^3.1.2',
        'd3-interpolate': '^3.0.1',
        'd3-path': '^3.1.0',
        'd3-polygon': '^3.0.1',
        'd3-quadtree': '^3.0.1',
        'd3-random': '^3.0.1',
        'd3-scale': '^4.0.2',
        'd3-scale-chromatic': '^3.1.0',
        'd3-selection': '^3.0.0',
        'd3-shape': '^3.2.0',
        'd3-time': '^3.1.0',
        'd3-time-format': '^4.1.0',
        'd3-timer': '^3.0.1',
        'd3-transition': '^3.0.1',
        'd3-zoom': '^3.0.0'
    },
    devDependencies: {
        '@observablehq/plot': '^0.6.7',
        '@observablehq/runtime': '^5.7.3',
        '@rollup/plugin-json': '^6.1.0',
        '@rollup/plugin-node-resolve': '^15.2.3',
        '@rollup/plugin-terser': '^0.4.0',
        eslint: '^8.57.0',
        mocha: '^10.3.0',
        rollup: '^3.29.4',
        'topojson-client': '^3.1.0',
        vitepress: '^1.4.0'
    },
    scripts: {
        prepublishOnly: 'rm -rf dist && rollup -c',
        postpublish: 'git push && git push --tags',
        'docs/dev': 'node --experimental-network-imports node_modules/vitepress/dist/node/cli.js dev docs',
        'docs/build': './prebuild.sh && node --experimental-network-imports node_modules/vitepress/dist/node/cli.js build docs',
        'docs/preview': 'vitepress preview docs'
    },
    engines: {
        node: '>=12'
    }
}`,readingconfighjson:`{
    name: d3
    version: 7.9.0
    description: Data-Driven Documents
    homepage: d3js.org
    repository:
    {
      type: git
      url: github.com/d3/d3.git
    }
    keywords:
    [
      d3
      dom
      visualization
      svg
      animation
      canvas
    ]
    license: ISC
    author:
    {
      firstname: Mike
      lastname:  Bostock
    }
    type: module
    files:
    [
      dist/d3.js
      dist/d3.min.js
      src/**/*.js
    ]
    module: src/index.js
    main: src/index.js
    jsdelivr: dist/d3.min.js
    unpkg: dist/d3.min.js
    exports:
    {
      umd: ./dist/d3.min.js
      default: ./src/index.js
    }
    dependencies:
    {
      d3-array: ^3.2.4
      d3-axis: ^3.0.0
      d3-brush: ^3.0.0
      d3-chord: ^3.0.1
      d3-color: ^3.1.0
      d3-contour: ^4.0.2
      d3-delaunay: ^6.0.4 // this version might have compatibility issues
      d3-dispatch: ^3.0.1
      d3-drag: ^3.0.0
      d3-dsv: ^3.0.1
      d3-ease: ^3.0.1
      d3-fetch: ^3.0.1
      d3-force: ^3.0.0
      d3-format: ^3.1.0
      d3-geo: ^3.1.1
      d3-hierarchy: ^3.1.2
      d3-interpolate: ^3.0.1
      d3-path: ^3.1.0
      d3-polygon: ^3.0.1
      d3-quadtree: ^3.0.1
      d3-random: ^3.0.1
      d3-scale: ^4.0.2
      d3-scale-chromatic: ^3.1.0
      d3-selection: ^3.0.0
      d3-shape: ^3.2.0
      d3-time: ^3.1.0
      d3-time-format: ^4.1.0
      d3-timer: ^3.0.1
      d3-transition: ^3.0.1
      d3-zoom: ^3.0.0
    }
    devDependencies:
    {
      @observablehq/plot: ^0.6.7
      @observablehq/runtime: ^5.7.3
      @rollup/plugin-json: ^6.1.0
      @rollup/plugin-node-resolve: ^15.2.3
      @rollup/plugin-terser: ^0.4.0
      eslint: ^8.57.0
      mocha: ^10.3.0
      rollup: ^3.29.4
      topojson-client: ^3.1.0
      vitepress: ^1.4.0
    }
    scripts:
    {
      prepublishOnly: rm -rf dist && rollup -c
      postpublish: git push && git push --tags
      docs/dev: node --experimental-network-imports node_modules/vitepress/dist/node/cli.js dev docs
      docs/build: ./prebuild.sh && node --experimental-network-imports node_modules/vitepress/dist/node/cli.js build docs
      docs/preview: vitepress preview docs
    }
    engines:
    {
      node: >=12
    }
  }`,modifyingconfigjson:JSON.stringify({name:"vega-lite",author:"Dominik Moritz, Kanit Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer",version:"5.23.0",collaborators:["Kanit Wongsuphasawat","Dominik Moritz","Arvind Satyanarayan","Jeffrey Heer"],homepage:"ega.github.io/vega-lite/",description:"Vega-Lite is a concise high-level language for interactive visualization.",keywords:["vega","chart","visualization"],main:"build/vega-lite.js",unpkg:"build/vega-lite.min.js",jsdelivr:"build/vega-lite.min.js",module:"build/src/index",types:"build/src/index.d.ts",bin:{vl2pdf:"./bin/vl2pdf",vl2png:"./bin/vl2png",vl2svg:"./bin/vl2svg",vl2vg:"./bin/vl2vg"},files:["bin","build","src","vega-lite*","tsconfig.json"],scripts:{changelog:"conventional-changelog -p angular -r",prebuild:"yarn clean:build",build:"yarn build:only",data:"rsync -r node_modules/vega-datasets/data/* site/data","build-editor-preview":"scripts/build-editor-preview.sh",schema:"mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/",renameschema:"scripts/rename-schema.sh",presite:"yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh",site:"yarn site:only",format:"eslint . --fix && yarn prettierbase --write",lint:"eslint . && yarn prettierbase --check",test:"yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn",release:"release-it"},repository:{type:"git",url:"github.com/vega/vega-lite.git"},license:"BSD-3-Clause",bugs:{url:"github.com/vega/vega-lite/issues"},devDependencies:{ajv:"^8.17.1","ajv-formats":"^3.0.1",cheerio:"^1.0.0","conventional-changelog-cli":"^5.0.0",d3:"^7.9.0","del-cli":"^6.0.0",eslint:"^8.57.0","eslint-config-prettier":"^9.1.0","eslint-plugin-jest":"^28.11.0","eslint-plugin-prettier":"^5.2.1","fast-json-stable-stringify":"~2.1.0","highlight.js":"^11.11.1",jest:"^29.7.0","jest-dev-server":"^11.0.0",mkdirp:"^3.0.1",pako:"^2.1.0",prettier:"^3.4.2",puppeteer:"^15.0.0","release-it":"18.1.2",rollup:"^4.32.1","rollup-plugin-bundle-size":"^1.0.3",serve:"^14.2.4",terser:"^5.37.0","ts-jest":"^29.2.5","ts-json-schema-generator":"^2.3.0",typescript:"~5.7.3","vega-cli":"^5.31.0","vega-datasets":"^2.11.0","vega-embed":"^6.29.0","vega-tooltip":"^0.35.2","yaml-front-matter":"^4.1.1"},dependencies:{"json-stringify-pretty-compact":"~4.0.0",tslib:"~2.8.1","vega-event-selector":"~3.0.1","vega-expression":"~5.1.2","vega-util":"~1.17.3",yargs:"~17.7.2"},peerDependencies:{vega:"^5.31.0"},engines:{node:">=18"},packageManager:"yarn@1.22.22"},null,2),modifyingconfigjsonc:JSON.stringify({name:"vega-lite",author:"Dominik Moritz, Kanit Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer",version:"5.23.0",collaborators:["Kanit Wongsuphasawat","Dominik Moritz","Arvind Satyanarayan","Jeffrey Heer"],homepage:"vega.github.io/vega-lite/",description:"Vega-Lite is a concise high-level language for interactive visualization.",keywords:["vega","chart","visualization"],main:"build/vega-lite.js",unpkg:"build/vega-lite.min.js",jsdelivr:"build/vega-lite.min.js",module:"build/src/index",types:"build/src/index.d.ts",bin:{vl2pdf:"./bin/vl2pdf",vl2png:"./bin/vl2png",vl2svg:"./bin/vl2svg",vl2vg:"./bin/vl2vg"},files:["bin","build","src","vega-lite*","tsconfig.json"],scripts:{changelog:"conventional-changelog -p angular -r",prebuild:"yarn clean:build",build:"yarn build:only",data:"rsync -r node_modules/vega-datasets/data/* site/data","build-editor-preview":"scripts/build-editor-preview.sh",schema:"mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/",renameschema:"scripts/rename-schema.sh",presite:"yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh",site:"yarn site:only",format:"eslint . --fix && yarn prettierbase --write",lint:"eslint . && yarn prettierbase --check",test:"yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn",release:"release-it"},repository:{type:"git",url:"github.com/vega/vega-lite.git"},license:"BSD-3-Clause",bugs:{url:"github.com/vega/vega-lite/issues"},devDependencies:{ajv:"^8.17.1","ajv-formats":"^3.0.1",cheerio:"^1.0.0","conventional-changelog-cli":"^5.0.0",d3:"^7.9.0","del-cli":"^6.0.0",eslint:"^8.57.0","eslint-config-prettier":"^9.1.0","eslint-plugin-jest":"^28.11.0","eslint-plugin-prettier":"^5.2.1","fast-json-stable-stringify":"~2.1.0","highlight.js":"^11.11.1",jest:"^29.7.0","jest-dev-server":"^11.0.0",mkdirp:"^3.0.1",pako:"^2.1.0",prettier:"^3.4.2",puppeteer:"^15.0.0","release-it":"18.1.2",rollup:"^4.32.1","rollup-plugin-bundle-size":"^1.0.3",serve:"^14.2.4",terser:"^5.37.0","ts-jest":"^29.2.5","ts-json-schema-generator":"^2.3.0",typescript:"~5.7.3","vega-cli":"^5.31.0","vega-datasets":"^2.11.0","vega-embed":"^6.29.0","vega-tooltip":"^0.35.2","yaml-front-matter":"^4.1.1"},dependencies:{"json-stringify-pretty-compact":"~4.0.0",tslib:"~2.8.1","vega-event-selector":"~3.0.1","vega-expression":"~5.1.2","vega-util":"~1.17.3",yargs:"~17.7.2"},peerDependencies:{vega:"^5.31.0"},engines:{node:">=18"},packageManager:"yarn@1.22.22"},null,2),modifyingconfigxml:`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<root>
  <name>vega-lite</name>
  <author>Dominik Moritz, Kanit Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer</author>
  <version>5.23.0</version>   <!--make sure that the vega version specified in peerDependencies matches this value. -->
  <collaborators>Kanit Wongsuphasawat</collaborators>
  <collaborators>Dominik Moritz</collaborators>
  <collaborators>Arvind Satyanarayan</collaborators>
  <collaborators>Jeffrey Heer</collaborators>
  <homepage>vega.github.io/vega-lite/</homepage>
  <description>Vega-Lite is a concise high-level language for interactive visualization.</description>
  <keywords>vega</keywords>
  <keywords>chart</keywords>
  <keywords>visualization</keywords>
  <main>build/vega-lite.js</main>
  <unpkg>build/vega-lite.min.js</unpkg>
  <jsdelivr>build/vega-lite.min.js</jsdelivr>
  <module>build/src/index</module>
  <types>build/src/index.d.ts</types>
  <bin>
    <vl2pdf>./bin/vl2pdf</vl2pdf>
    <vl2png>./bin/vl2png</vl2png>
    <vl2svg>./bin/vl2svg</vl2svg>
    <vl2vg>./bin/vl2vg</vl2vg>
  </bin>
  <files>bin</files>
  <files>build</files>
  <files>src</files>
  <files>vega-lite*</files>
  <files>tsconfig.json</files>
  <scripts>
    <changelog>conventional-changelog -p angular -r</changelog>
    <prebuild>yarn clean:build</prebuild>
    <build>yarn build:only</build>
    <data>rsync -r node_modules/vega-datasets/data/* site/data</data>
    <build-editor-preview>scripts/build-editor-preview.sh</build-editor-preview>
    <schema>mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode >; build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/</schema>
    <renameschema>scripts/rename-schema.sh</renameschema>
    <presite>yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh</presite>
    <site>yarn site:only</site>
    <format>eslint . --fix && yarn prettierbase --write</format>
    <lint>eslint . && yarn prettierbase --check</lint>
    <test>yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn</test>
    <release>release-it</release>
  <\/scripts>
  <repository>
    <type>git</type>
    <url>github.com/vega/vega-lite.git</url>
  </repository>
  <license>BSD-3-Clause</license>
  <bugs>
    <url>github.com/vega/vega-lite/issues</url>
  </bugs>
  <devDependencies>
    <ajv>^8.17.1</ajv>
    <ajv-formats>^3.0.1</ajv-formats>
    <cheerio>^1.0.0</cheerio>
    <conventional-changelog-cli>^5.0.0</conventional-changelog-cli>
    <d3>^7.9.0</d3>
    <del-cli>^6.0.0</del-cli>
    <eslint>^8.57.0</eslint>
    <eslint-config-prettier>^9.1.0</eslint-config-prettier>
    <eslint-plugin-jest>^28.11.0</eslint-plugin-jest>
    <eslint-plugin-prettier>^5.2.1</eslint-plugin-prettier>
    <fast-json-stable-stringify>~2.1.0</fast-json-stable-stringify>
    <highlight.js>^11.11.1</highlight.js>
    <jest>^29.7.0</jest>
    <jest-dev-server>^11.0.0</jest-dev-server>
    <mkdirp>^3.0.1</mkdirp>
    <pako>^2.1.0</pako>
    <prettier>^3.4.2</prettier>
    <puppeteer>^15.0.0</puppeteer>
    <release-it>18.1.2</release-it>
    <rollup>^4.32.1</rollup>
    <rollup-plugin-bundle-size>^1.0.3</rollup-plugin-bundle-size>
    <serve>^14.2.4</serve>
    <terser>^5.37.0</terser>
    <ts-jest>^29.2.5</ts-jest>
    <ts-json-schema-generator>^2.3.0</ts-json-schema-generator>
    <typescript>~5.7.3</typescript>
    <vega-cli>^5.31.0</vega-cli>
    <vega-datasets>^2.11.0</vega-datasets>
    <vega-embed>^6.29.0</vega-embed>
    <vega-tooltip>^0.35.2</vega-tooltip>
    <yaml-front-matter>^4.1.1</yaml-front-matter>
  </devDependencies>
  <dependencies>
    <json-stringify-pretty-compact>~4.0.0</json-stringify-pretty-compact>
    <tslib>~2.8.1</tslib>
    <vega-event-selector>~3.0.1</vega-event-selector>
    <vega-expression>~5.1.2</vega-expression>
    <vega-util>~1.17.3</vega-util>
    <yargs>~17.7.2</yargs>
  </dependencies>
  <peerDependencies>
    <vega>^5.31.0</vega>  <!--make sure this value matches the value of the version at the beginning. -->
  </peerDependencies>
  <engines>
    <node>>=18</node>
  </engines>
  <packageManager>yarn@1.22.22</packageManager>
</root>`,modifyingconfigtoml:`name = "vega-lite"
author = "Dominik Moritz, Kanit Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer"
version = "5.23.0"   # make sure that the vega version specified in peerDependencies matches this value.
collaborators = ["Kanit Wongsuphasawat", "Dominik Moritz", "Arvind Satyanarayan", "Jeffrey Heer"]
homepage = "vega.github.io/vega-lite/"
description = "Vega-Lite is a concise high-level language for interactive visualization."
keywords = ["vega", "chart", "visualization"]
main = "build/vega-lite.js"
unpkg = "build/vega-lite.min.js"
jsdelivr = "build/vega-lite.min.js"
module = "build/src/index"
types = "build/src/index.d.ts"
files = ["bin", "build", "src", "vega-lite*", "tsconfig.json"]
license = "BSD-3-Clause"
packageManager = "yarn@1.22.22"

[bin]
vl2pdf = "./bin/vl2pdf"
vl2png = "./bin/vl2png"
vl2svg = "./bin/vl2svg"
vl2vg = "./bin/vl2vg"

[scripts]
changelog = "conventional-changelog -p angular -r"
prebuild = "yarn clean:build"
build = "yarn build:only"
data = "rsync -r node_modules/vega-datasets/data/* site/data"
build-editor-preview = "scripts/build-editor-preview.sh"
schema = "mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/"
renameschema = "scripts/rename-schema.sh"
presite = "yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh"
site = "yarn site:only"
format = "eslint . --fix && yarn prettierbase --write"
lint = "eslint . && yarn prettierbase --check"
test = "yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn"
release = "release-it"

[repository]
type = "git"
url = "github.com/vega/vega-lite.git"

[bugs]
url = "github.com/vega/vega-lite/issues"

[devDependencies]
ajv = "^8.17.1"
ajv-formats = "^3.0.1"
cheerio = "^1.0.0"
conventional-changelog-cli = "^5.0.0"
d3 = "^7.9.0"
del-cli = "^6.0.0"
eslint = "^8.57.0"
eslint-config-prettier = "^9.1.0"
eslint-plugin-jest = "^28.11.0"
eslint-plugin-prettier = "^5.2.1"
fast-json-stable-stringify = "~2.1.0"
"highlight.js" = "^11.11.1"
jest = "^29.7.0"
jest-dev-server = "^11.0.0"
mkdirp = "^3.0.1"
pako = "^2.1.0"
prettier = "^3.4.2"
puppeteer = "^15.0.0"
release-it = "18.1.2"
rollup = "^4.32.1"
rollup-plugin-bundle-size = "^1.0.3"
serve = "^14.2.4"
terser = "^5.37.0"
ts-jest = "^29.2.5"
ts-json-schema-generator = "^2.3.0"
typescript = "~5.7.3"
vega-cli = "^5.31.0"
vega-datasets = "^2.11.0"
vega-embed = "^6.29.0"
vega-tooltip = "^0.35.2"
yaml-front-matter = "^4.1.1"

[dependencies]
json-stringify-pretty-compact = "~4.0.0"
tslib = "~2.8.1"
vega-event-selector = "~3.0.1"
vega-expression = "~5.1.2"
vega-util = "~1.17.3"
yargs = "~17.7.2"

[peerDependencies]
vega = "^5.31.0"   # make sure this value matches the value of the version at the beginning.

[engines]
node = ">=18"`,modifyingconfigyaml:`name: vega-lite
author: Dominik Moritz, Kanit Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer
version: 5.23.0  # make sure that the vega version specified in peerDependencies matches this value.
collaborators:
  - Kanit Wongsuphasawat
  - Dominik Moritz
  - Arvind Satyanarayan
  - Jeffrey Heer
homepage: vega.github.io/vega-lite/
description: Vega-Lite is a concise high-level language for interactive visualization.
keywords:
  - vega
  - chart
  - visualization
main: build/vega-lite.js
unpkg: build/vega-lite.min.js
jsdelivr: build/vega-lite.min.js
module: build/src/index
types: build/src/index.d.ts
bin:
  vl2pdf: ./bin/vl2pdf
  vl2png: ./bin/vl2png
  vl2svg: ./bin/vl2svg
  vl2vg: ./bin/vl2vg
files:
  - bin
  - build
  - src
  - vega-lite*
  - tsconfig.json
scripts:
  changelog: conventional-changelog -p angular -r
  prebuild: yarn clean:build
  build: yarn build:only
  data: rsync -r node_modules/vega-datasets/data/* site/data
  build-editor-preview: scripts/build-editor-preview.sh
  schema: mkdir -p build && ts-json-schema-generator -f tsconfig.json -p
    src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode >
    build/vega-lite-schema.json && yarn renameschema && cp
    build/vega-lite-schema.json site/_data/
  renameschema: scripts/rename-schema.sh
  presite: yarn data && yarn schema && yarn build:site && yarn build:versions &&
    scripts/create-example-pages.sh
  site: yarn site:only
  format: eslint . --fix && yarn prettierbase --write
  lint: eslint . && yarn prettierbase --check
  test: yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn
  release: release-it
repository:
  type: git
  url: github.com/vega/vega-lite.git
license: BSD-3-Clause
bugs:
  url: github.com/vega/vega-lite/issues
devDependencies:
  ajv: ^8.17.1
  ajv-formats: ^3.0.1
  cheerio: ^1.0.0
  conventional-changelog-cli: ^5.0.0
  d3: ^7.9.0
  del-cli: ^6.0.0
  eslint: ^8.57.0
  eslint-config-prettier: ^9.1.0
  eslint-plugin-jest: ^28.11.0
  eslint-plugin-prettier: ^5.2.1
  fast-json-stable-stringify: ~2.1.0
  highlight.js: ^11.11.1
  jest: ^29.7.0
  jest-dev-server: ^11.0.0
  mkdirp: ^3.0.1
  pako: ^2.1.0
  prettier: ^3.4.2
  puppeteer: ^15.0.0
  release-it: 18.1.2
  rollup: ^4.32.1
  rollup-plugin-bundle-size: ^1.0.3
  serve: ^14.2.4
  terser: ^5.37.0
  ts-jest: ^29.2.5
  ts-json-schema-generator: ^2.3.0
  typescript: ~5.7.3
  vega-cli: ^5.31.0
  vega-datasets: ^2.11.0
  vega-embed: ^6.29.0
  vega-tooltip: ^0.35.2
  yaml-front-matter: ^4.1.1
dependencies:
  json-stringify-pretty-compact: ~4.0.0
  tslib: ~2.8.1
  vega-event-selector: ~3.0.1
  vega-expression: ~5.1.2
  vega-util: ~1.17.3
  yargs: ~17.7.2
peerDependencies:
  vega: ^5.31.0  # make sure this value matches the value of the version at the beginning.
engines:
  node: ">=18"
packageManager: yarn@1.22.22`,modifyingconfigjson5:`{
    name: 'vega-lite',
    author: 'Dominik Moritz, Kanit Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer',
    version: '5.23.0',  // make sure that the vega version specified in peerDependencies matches this value.
    collaborators: [
        'Kanit Wongsuphasawat',
        'Dominik Moritz',
        'Arvind Satyanarayan',
        'Jeffrey Heer'
    ],
    homepage: 'vega.github.io/vega-lite/',
    description: 'Vega-Lite is a concise high-level language for interactive visualization.',
    keywords: [
        'vega',
        'chart',
        'visualization'
    ],
    main: 'build/vega-lite.js',
    unpkg: 'build/vega-lite.min.js',
    jsdelivr: 'build/vega-lite.min.js',
    module: 'build/src/index',
    types: 'build/src/index.d.ts',
    bin: {
        vl2pdf: './bin/vl2pdf',
        vl2png: './bin/vl2png',
        vl2svg: './bin/vl2svg',
        vl2vg: './bin/vl2vg'
    },
    files: [
        'bin',
        'build',
        'src',
        'vega-lite*',
        'tsconfig.json'
    ],
    scripts: {
        changelog: 'conventional-changelog -p angular -r',
        prebuild: 'yarn clean:build',
        build: 'yarn build:only',
        data: 'rsync -r node_modules/vega-datasets/data/* site/data',
        'build-editor-preview': 'scripts/build-editor-preview.sh',
        schema: 'mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/',
        renameschema: 'scripts/rename-schema.sh',
        presite: 'yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh',
        site: 'yarn site:only',
        format: 'eslint . --fix && yarn prettierbase --write',
        lint: 'eslint . && yarn prettierbase --check',
        test: 'yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn',
        release: 'release-it'
    },
    repository: {
        type: 'git',
        url: 'github.com/vega/vega-lite.git'
    },
    license: 'BSD-3-Clause',
    bugs: {
        url: 'github.com/vega/vega-lite/issues'
    },
    devDependencies: {
        ajv: '^8.17.1',
        'ajv-formats': '^3.0.1',
        cheerio: '^1.0.0',
        'conventional-changelog-cli': '^5.0.0',
        d3: '^7.9.0',
        'del-cli': '^6.0.0',
        eslint: '^8.57.0',
        'eslint-config-prettier': '^9.1.0',
        'eslint-plugin-jest': '^28.11.0',
        'eslint-plugin-prettier': '^5.2.1',
        'fast-json-stable-stringify': '~2.1.0',
        'highlight.js': '^11.11.1',
        jest: '^29.7.0',
        'jest-dev-server': '^11.0.0',
        mkdirp: '^3.0.1',
        pako: '^2.1.0',
        prettier: '^3.4.2',
        puppeteer: '^15.0.0',
        'release-it': '18.1.2',
        rollup: '^4.32.1',
        'rollup-plugin-bundle-size': '^1.0.3',
        serve: '^14.2.4',
        terser: '^5.37.0',
        'ts-jest': '^29.2.5',
        'ts-json-schema-generator': '^2.3.0',
        typescript: '~5.7.3',
        'vega-cli': '^5.31.0',
        'vega-datasets': '^2.11.0',
        'vega-embed': '^6.29.0',
        'vega-tooltip': '^0.35.2',
        'yaml-front-matter': '^4.1.1'
    },
    dependencies: {
        'json-stringify-pretty-compact': '~4.0.0',
        tslib: '~2.8.1',
        'vega-event-selector': '~3.0.1',
        'vega-expression': '~5.1.2',
        'vega-util': '~1.17.3',
        yargs: '~17.7.2'
    },
    peerDependencies: {
        vega: '^5.31.0' //make sure this value matches the value of the version at the beginning.
    },
    engines: {
        node: '>=18'
    },
    packageManager: 'yarn@1.22.22'
}`,modifyingconfighjson:`
  name: vega-lite
  author: Dominik Moritz, Kanit Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer
  version: 5.23.0   // make sure that the vega version specified in peerDependencies matches this value.
  collaborators:
  [
    Kanit Wongsuphasawat
    Dominik Moritz
    Arvind Satyanarayan
    Jeffrey Heer
  ]
  homepage: vega.github.io/vega-lite/
  description: Vega-Lite is a concise high-level language for interactive visualization.
  keywords:
  [
    vega
    chart
    visualization
  ]
  main: build/vega-lite.js
  unpkg: build/vega-lite.min.js
  jsdelivr: build/vega-lite.min.js
  module: build/src/index
  types: build/src/index.d.ts
  bin:
  {
    vl2pdf: ./bin/vl2pdf
    vl2png: ./bin/vl2png
    vl2svg: ./bin/vl2svg
    vl2vg: ./bin/vl2vg
  }
  files:
  [
    bin
    build
    src
    vega-lite*
    tsconfig.json
  ]
  scripts:
  {
    changelog: conventional-changelog -p angular -r
    prebuild: yarn clean:build
    build: yarn build:only
    data: rsync -r node_modules/vega-datasets/data/* site/data
    build-editor-preview: scripts/build-editor-preview.sh
    schema: mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/
    renameschema: scripts/rename-schema.sh
    presite: yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh
    site: yarn site:only
    format: eslint . --fix && yarn prettierbase --write
    lint: eslint . && yarn prettierbase --check
    test: yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn
    release: release-it
  }
  repository:
  {
    type: git
    url: github.com/vega/vega-lite.git
  }
  license: BSD-3-Clause
  bugs:
  {
    url: github.com/vega/vega-lite/issues
  }
  devDependencies:
  {
    ajv: ^8.17.1
    ajv-formats: ^3.0.1
    cheerio: ^1.0.0
    conventional-changelog-cli: ^5.0.0
    d3: ^7.9.0
    del-cli: ^6.0.0
    eslint: ^8.57.0
    eslint-config-prettier: ^9.1.0
    eslint-plugin-jest: ^28.11.0
    eslint-plugin-prettier: ^5.2.1
    fast-json-stable-stringify: ~2.1.0
    highlight.js: ^11.11.1
    jest: ^29.7.0
    jest-dev-server: ^11.0.0
    mkdirp: ^3.0.1
    pako: ^2.1.0
    prettier: ^3.4.2
    puppeteer: ^15.0.0
    release-it: 18.1.2
    rollup: ^4.32.1
    rollup-plugin-bundle-size: ^1.0.3
    serve: ^14.2.4
    terser: ^5.37.0
    ts-jest: ^29.2.5
    ts-json-schema-generator: ^2.3.0
    typescript: ~5.7.3
    vega-cli: ^5.31.0
    vega-datasets: ^2.11.0
    vega-embed: ^6.29.0
    vega-tooltip: ^0.35.2
    yaml-front-matter: ^4.1.1
  }
  dependencies:
  {
    json-stringify-pretty-compact: ~4.0.0
    tslib: ~2.8.1
    vega-event-selector: ~3.0.1
    vega-expression: ~5.1.2
    vega-util: ~1.17.3
    yargs: ~17.7.2
  }
  peerDependencies:
  {
    vega: ^5.31.0  //make sure this value matches the value of the version at the beginning.
  }
  engines:
  {
    node: >=18
  }
  packageManager: yarn@1.22.22`,modifyingtabularjson:JSON.stringify({movies:{movie:[{title:"After Dark in Central Park",year:1900,cast:[],genres:["Silent","Short"],href:null,country:"United States",runtime:3,language:"Silent",release_date:"1900-03-15",production_company:"Edison Manufacturing Company",director:"James H. White",writer:"Unknown",cinematography:"Unknown",budget:500,box_office:null,awards:[]},{title:"Boarding School Girls' Pajama Parade",year:1900,cast:[],genres:["Silent","Short"],href:null,country:"United States",runtime:2,language:"Silent",release_date:"1900-05-10",production_company:"Edison Manufacturing Company",director:"James H. White",writer:"Unknown",cinematography:"Unknown",budget:450,box_office:null,awards:[]},{title:"Buffalo Bill's Wild West Parade",year:1900,cast:["Buffalo Bill (William F. Cody)"],genres:["Documentary"],href:null,country:"United States",runtime:5,language:"Silent",release_date:"1900-07-04",production_company:"Edison Manufacturing Company",director:"Unknown",writer:"Unknown",cinematography:"Unknown",budget:600,box_office:null,awards:[]},{title:"Caught",year:1900,cast:[],genres:["Drama"],href:null,country:"United States",runtime:2,language:"Silent",release_date:"1900-02-20",production_company:"Biograph Company",director:"William Heise",writer:"Unknown",cinematography:"Unknown",budget:400,box_office:null,awards:[]},{title:"Clowns Spinning Hats",year:1900,cast:["Unknown Clowns"],genres:["Silent","Comedy"],href:"Clowns_Spinning_Hats",extract:"Clowns Spinning Hats is a black-and-white silent film featuring clowns throwing hats back and forth to each other. It was written and produced by Lubin Films and released April 7, 1900.",country:"United States",runtime:3,language:"Silent",release_date:"1900-04-07",production_company:"Lubin Films",director:"Unknown",writer:"Unknown",cinematography:"Unknown",budget:500,box_office:null,awards:[]},{title:"The Enchanted Drawing",year:1900,cast:["J. Stuart Blackton"],genres:["Silent","Animation"],href:"The_Enchanted_Drawing",extract:"The Enchanted Drawing is a 1900 silent film directed by J. Stuart Blackton. It is best known for containing the first animated sequences recorded on standard picture film, which has led Blackton to be considered the father of American animation.",thumbnail_width:320,thumbnail_height:240,country:"United States",runtime:2,language:"Silent",release_date:"1900-11-16",production_company:"Vitagraph Studios",director:"J. Stuart Blackton",writer:"J. Stuart Blackton",cinematography:"Unknown",budget:700,box_office:null,awards:[]},{title:"Feeding Sea Lions",year:1900,cast:["Paul Boyton"],genres:["Short","Silent"],href:"Feeding_Sea_Lions",extract:"Feeding Sea Lions is a short silent film featuring Paul Boyton feeding sea lions at his Sea Lion Park at Coney Island. Boyton is shown feeding the trained sea lions, twelve in number. The sea lions follow Boyton up the steps of the pool and then follow him back into the water. One of them steals food out of the basket. The film was made by Lubin Studios on March 10, 1900.",country:"United States",runtime:3,language:"Silent",release_date:"1900-03-10",production_company:"Lubin Studios",director:"Unknown",writer:"Unknown",cinematography:"Unknown",budget:450,box_office:null,awards:[]},{title:"A Trip to the Moon",year:1902,cast:["Georges Mlis"],genres:["Sci-Fi","Adventure"],href:"A_Trip_to_the_Moon",extract:"A Trip to the Moon (French: Le Voyage dans la Lune) is a 1902 French silent film directed by Georges Mlis. It is widely regarded as the first science fiction film ever made.",thumbnail_width:320,thumbnail_height:240,country:"France",runtime:14,language:"Silent",release_date:"1902-09-01",production_company:"Star Film Company",director:"Georges Mlis",writer:"Georges Mlis",cinematography:"Georges Mlis",budget:1e4,box_office:2e4,awards:["Considered a milestone in cinema history"]},{title:"The Great Train Robbery",year:1903,cast:["Gilbert M. Anderson","A. C. Abadie"],genres:["Western","Action"],href:"The_Great_Train_Robbery",extract:"The Great Train Robbery is a 1903 American silent short film directed by Edwin S. Porter. It is considered one of the earliest narrative films.",thumbnail_width:320,thumbnail_height:240,country:"United States",runtime:12,language:"Silent",release_date:"1903-12-01",production_company:"Edison Manufacturing Company",director:"Edwin S. Porter",writer:"Scott Marble",cinematography:"Edwin S. Porter",budget:150,box_office:5e3,awards:["One of the earliest crime films"]}]}},null,2),modifyingtabularjsonc:JSON.stringify({movies:{movie:[{title:"After Dark in Central Park",year:1900,cast:[],genres:["Silent","Short"],href:null,country:"United States",runtime:3,language:"Silent",release_date:"1900-03-15",production_company:"Edison Manufacturing Company",director:"James H. White",writer:"Unknown",cinematography:"Unknown",budget:500,box_office:null,awards:[]},{title:"Boarding School Girls' Pajama Parade",year:1900,cast:[],genres:["Silent","Short"],href:null,country:"United States",runtime:2,language:"Silent",release_date:"1900-05-10",production_company:"Edison Manufacturing Company",director:"James H. White",writer:"Unknown",cinematography:"Unknown",budget:450,box_office:null,awards:[]},{title:"Buffalo Bill's Wild West Parade",year:1900,cast:["Buffalo Bill (William F. Cody)"],genres:["Documentary"],href:null,country:"United States",runtime:5,language:"Silent",release_date:"1900-07-04",production_company:"Edison Manufacturing Company",director:"Unknown",writer:"Unknown",cinematography:"Unknown",budget:600,box_office:null,awards:[]},{title:"Caught",year:1900,cast:[],genres:["Drama"],href:null,country:"United States",runtime:2,language:"Silent",release_date:"1900-02-20",production_company:"Biograph Company",director:"William Heise",writer:"Unknown",cinematography:"Unknown",budget:400,box_office:null,awards:[]},{title:"Clowns Spinning Hats",year:1900,cast:["Unknown Clowns"],genres:["Silent","Comedy"],href:"Clowns_Spinning_Hats",extract:"Clowns Spinning Hats is a black-and-white silent film featuring clowns throwing hats back and forth to each other. It was written and produced by Lubin Films and released April 7, 1900.",country:"United States",runtime:3,language:"Silent",release_date:"1900-04-07",production_company:"Lubin Films",director:"Unknown",writer:"Unknown",cinematography:"Unknown",budget:500,box_office:null,awards:[]},{title:"The Enchanted Drawing",year:1900,cast:["J. Stuart Blackton"],genres:["Silent","Animation"],href:"The_Enchanted_Drawing",extract:"The Enchanted Drawing is a 1900 silent film directed by J. Stuart Blackton. It is best known for containing the first animated sequences recorded on standard picture film, which has led Blackton to be considered the father of American animation.",thumbnail_width:320,thumbnail_height:240,country:"United States",runtime:2,language:"Silent",release_date:"1900-11-16",production_company:"Vitagraph Studios",director:"J. Stuart Blackton",writer:"J. Stuart Blackton",cinematography:"Unknown",budget:700,box_office:null,awards:[]},{title:"Feeding Sea Lions",year:1900,cast:["Paul Boyton"],genres:["Short","Silent"],href:"Feeding_Sea_Lions",extract:"Feeding Sea Lions is a short silent film featuring Paul Boyton feeding sea lions at his Sea Lion Park at Coney Island. Boyton is shown feeding the trained sea lions, twelve in number. The sea lions follow Boyton up the steps of the pool and then follow him back into the water. One of them steals food out of the basket. The film was made by Lubin Studios on March 10, 1900.",country:"United States",runtime:3,language:"Silent",release_date:"1900-03-10",production_company:"Lubin Studios",director:"Unknown",writer:"Unknown",cinematography:"Unknown",budget:450,box_office:null,awards:[]},{title:"A Trip to the Moon",year:1902,cast:["Georges Mlis"],genres:["Sci-Fi","Adventure"],href:"A_Trip_to_the_Moon",extract:"A Trip to the Moon (French: Le Voyage dans la Lune) is a 1902 French silent film directed by Georges Mlis. It is widely regarded as the first science fiction film ever made.",thumbnail_width:320,thumbnail_height:240,country:"France",runtime:14,language:"Silent",release_date:"1902-09-01",production_company:"Star Film Company",director:"Georges Mlis",writer:"Georges Mlis",cinematography:"Georges Mlis",budget:1e4,box_office:2e4,awards:["Considered a milestone in cinema history"]},{title:"The Great Train Robbery",year:1903,cast:["Gilbert M. Anderson","A. C. Abadie"],genres:["Western","Action"],href:"The_Great_Train_Robbery",extract:"The Great Train Robbery is a 1903 American silent short film directed by Edwin S. Porter. It is considered one of the earliest narrative films.",thumbnail_width:320,thumbnail_height:240,country:"United States",runtime:12,language:"Silent",release_date:"1903-12-01",production_company:"Edison Manufacturing Company",director:"Edwin S. Porter",writer:"Scott Marble",cinematography:"Edwin S. Porter",budget:150,box_office:5e3,awards:["One of the earliest crime films"]}]}},null,2),modifyingtabularxml:`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<movies>
  <movie>
    <title>After Dark in Central Park</title>
    <year>1900</year>
    <cast/>
    <genres>Silent</genres>
    <genres>Short</genres>
    <href/>
    <country>United States</country>
    <runtime>3</runtime>
    <language>Silent</language>
    <release_date>1900-03-15</release_date>
    <production_company>Edison Manufacturing Company</production_company>
    <director>James H. White</director>
    <writer>Unknown</writer>
    <cinematography>Unknown</cinematography>
    <budget>500</budget>
    <box_office/>
    <awards/>
  </movie>
  <movie>
    <title>Boarding School Girls' Pajama Parade</title>
    <year>1900</year>
    <cast/>
    <genres>Silent</genres>
    <genres>Short</genres>
    <href/>
    <country>United States</country>
    <runtime>2</runtime>
    <language>Silent</language>
    <release_date>1900-05-10</release_date>
    <production_company>Edison Manufacturing Company</production_company>
    <director>James H. White</director>
    <writer>Unknown</writer>
    <cinematography>Unknown</cinematography>
    <budget>450</budget>
    <box_office/>
    <awards/>
  </movie>
  <movie>
    <title>Buffalo Bill's Wild West Parade</title>
    <year>1900</year>
    <cast>Buffalo Bill (William F. Cody)</cast>
    <genres>Documentary</genres>
    <href/>
    <country>United States</country>
    <runtime>5</runtime>
    <language>Silent</language>
    <release_date>1900-07-04</release_date>
    <production_company>Edison Manufacturing Company</production_company>
    <director>Unknown</director>
    <writer>Unknown</writer>
    <cinematography>Unknown</cinematography>
    <budget>600</budget>
    <box_office/>
    <awards/>
  </movie>
  <movie>
    <title>Caught</title>
    <year>1900</year>
    <cast/>
    <genres>Drama</genres>
    <href/>
    <country>United States</country>
    <runtime>2</runtime>
    <language>Silent</language>
    <release_date>1900-02-20</release_date>
    <production_company>Biograph Company</production_company>
    <director>William Heise</director>
    <writer>Unknown</writer>
    <cinematography>Unknown</cinematography>
    <budget>400</budget>
    <box_office/>
    <awards/>
  </movie>
  <movie>
    <title>Clowns Spinning Hats</title>
    <year>1900</year>
    <cast>Unknown Clowns</cast>
    <genres>Silent</genres>
    <genres>Comedy</genres>
    <href>Clowns_Spinning_Hats</href>
    <extract>Clowns Spinning Hats is a black-and-white silent film featuring clowns throwing hats back and forth to each other. It was written and produced by Lubin Films and released April 7, 1900.</extract>
    <country>United States</country>
    <runtime>3</runtime>
    <language>Silent</language>
    <release_date>1900-04-07</release_date>
    <production_company>Lubin Films</production_company>
    <director>Unknown</director>
    <writer>Unknown</writer>
    <cinematography>Unknown</cinematography>
    <budget>500</budget>
    <box_office/>
    <awards/>
  </movie>
  <movie>
    <title>The Enchanted Drawing</title>
    <year>1900</year>
    <cast>J. Stuart Blackton</cast>
    <genres>Silent</genres>
    <genres>Animation</genres>
    <href>The_Enchanted_Drawing</href>
    <extract>The Enchanted Drawing is a 1900 silent film directed by J. Stuart Blackton. It is best known for containing the first animated sequences recorded on standard picture film, which has led Blackton to be considered the father of American animation.</extract>
    <thumbnail_width>320</thumbnail_width>
    <thumbnail_height>240</thumbnail_height>
    <country>United States</country>
    <runtime>2</runtime>
    <language>Silent</language>
    <release_date>1900-11-16</release_date>
    <production_company>Vitagraph Studios</production_company>
    <director>J. Stuart Blackton</director>
    <writer>J. Stuart Blackton</writer>
    <cinematography>Unknown</cinematography>
    <budget>700</budget>
    <box_office/>
    <awards/>
  </movie>
  <movie>
    <title>Feeding Sea Lions</title>
    <year>1900</year>
    <cast>Paul Boyton</cast>
    <genres>Short</genres>
    <genres>Silent</genres>
    <href>Feeding_Sea_Lions</href>
    <extract>Feeding Sea Lions is a short silent film featuring Paul Boyton feeding sea lions at his Sea Lion Park at Coney Island. Boyton is shown feeding the trained sea lions, twelve in number. The sea lions follow Boyton up the steps of the pool and then follow him back into the water. One of them steals food out of the basket. The film was made by Lubin Studios on March 10, 1900.</extract>
    <country>United States</country>
    <runtime>3</runtime>
    <language>Silent</language>
    <release_date>1900-03-10</release_date>
    <production_company>Lubin Studios</production_company>
    <director>Unknown</director>
    <writer>Unknown</writer>
    <cinematography>Unknown</cinematography>
    <budget>450</budget>
    <box_office/>
    <awards/>
  </movie>
  <movie>
    <title>A Trip to the Moon</title>
    <year>1902</year>   <!-- This movie was released after 1900. -->
    <cast>Georges Mlis</cast>
    <genres>Sci-Fi</genres>
    <genres>Adventure</genres>
    <href>A_Trip_to_the_Moon</href>
    <extract>A Trip to the Moon (French: Le Voyage dans la Lune) is a 1902 French silent film directed by Georges Mlis. It is widely regarded as the first science fiction film ever made.</extract>
    <thumbnail_width>320</thumbnail_width>
    <thumbnail_height>240</thumbnail_height>
    <country>France</country>
    <runtime>14</runtime>
    <language>Silent</language>
    <release_date>1902-09-01</release_date>
    <production_company>Star Film Company</production_company>
    <director>Georges Mlis</director>
    <writer>Georges Mlis</writer>
    <cinematography>Georges Mlis</cinematography>
    <budget>10000</budget>
    <box_office>20000</box_office>
    <awards>Considered a milestone in cinema history</awards>
  </movie>
  <movie>
    <title>The Great Train Robbery</title>
    <year>1903</year>   <!-- This movie was released after 1900. -->
    <cast>Gilbert M. Anderson</cast>
    <cast>A. C. Abadie</cast>
    <genres>Western</genres>
    <genres>Action</genres>
    <href>The_Great_Train_Robbery</href>
    <extract>The Great Train Robbery is a 1903 American silent short film directed by Edwin S. Porter. It is considered one of the earliest narrative films.</extract>
    <thumbnail_width>320</thumbnail_width>
    <thumbnail_height>240</thumbnail_height>
    <country>United States</country>
    <runtime>12</runtime>
    <language>Silent</language>
    <release_date>1903-12-01</release_date>
    <production_company>Edison Manufacturing Company</production_company>
    <director>Edwin S. Porter</director>
    <writer>Scott Marble</writer>
    <cinematography>Edwin S. Porter</cinematography>
    <budget>150</budget>
    <box_office>5000</box_office>
    <awards>One of the earliest crime films</awards>
  </movie>
</movies>`,modifyingtabulartoml:`[movies]

[[movies.movie]]
title = "After Dark in Central Park"
year = 1900
cast = []
genres = ["Silent", "Short"]
country = "United States"
runtime = 3
language = "Silent"
release_date = "1900-03-15"
production_company = "Edison Manufacturing Company"
director = "James H. White"
writer = "Unknown"
cinematography = "Unknown"
budget = 500
awards = []

[[movies.movie]]
title = "Boarding School Girls' Pajama Parade"
year = 1900
cast = []
genres = ["Silent", "Short"]
country = "United States"
runtime = 2
language = "Silent"
release_date = "1900-05-10"
production_company = "Edison Manufacturing Company"
director = "James H. White"
writer = "Unknown"
cinematography = "Unknown"
budget = 450
awards = []

[[movies.movie]]
title = "Buffalo Bill's Wild West Parade"
year = 1900
cast = ["Buffalo Bill (William F. Cody)"]
genres = ["Documentary"]
country = "United States"
runtime = 5
language = "Silent"
release_date = "1900-07-04"
production_company = "Edison Manufacturing Company"
director = "Unknown"
writer = "Unknown"
cinematography = "Unknown"
budget = 600
awards = []

[[movies.movie]]
title = "Caught"
year = 1900
cast = []
genres = ["Drama"]
country = "United States"
runtime = 2
language = "Silent"
release_date = "1900-02-20"
production_company = "Biograph Company"
director = "William Heise"
writer = "Unknown"
cinematography = "Unknown"
budget = 400
awards = []

[[movies.movie]]
title = "Clowns Spinning Hats"
year = 1900
cast = ["Unknown Clowns"]
genres = ["Silent", "Comedy"]
href = "Clowns_Spinning_Hats"
extract = "Clowns Spinning Hats is a black-and-white silent film featuring clowns throwing hats back and forth to each other. It was written and produced by Lubin Films and released April 7, 1900."
country = "United States"
runtime = 3
language = "Silent"
release_date = "1900-04-07"
production_company = "Lubin Films"
director = "Unknown"
writer = "Unknown"
cinematography = "Unknown"
budget = 500
awards = []

[[movies.movie]]
title = "The Enchanted Drawing"
year = 1900
cast = ["J. Stuart Blackton"]
genres = ["Silent", "Animation"]
href = "The_Enchanted_Drawing"
extract = "The Enchanted Drawing is a 1900 silent film directed by J. Stuart Blackton. It is best known for containing the first animated sequences recorded on standard picture film, which has led Blackton to be considered the father of American animation."
thumbnail_width = 320
thumbnail_height = 240
country = "United States"
runtime = 2
language = "Silent"
release_date = "1900-11-16"
production_company = "Vitagraph Studios"
director = "J. Stuart Blackton"
writer = "J. Stuart Blackton"
cinematography = "Unknown"
budget = 700
awards = []

[[movies.movie]]
title = "Feeding Sea Lions"
year = 1900
cast = ["Paul Boyton"]
genres = ["Short", "Silent"]
href = "Feeding_Sea_Lions"
extract = "Feeding Sea Lions is a short silent film featuring Paul Boyton feeding sea lions at his Sea Lion Park at Coney Island. Boyton is shown feeding the trained sea lions, twelve in number. The sea lions follow Boyton up the steps of the pool and then follow him back into the water. One of them steals food out of the basket. The film was made by Lubin Studios on March 10, 1900."
country = "United States"
runtime = 3
language = "Silent"
release_date = "1900-03-10"
production_company = "Lubin Studios"
director = "Unknown"
writer = "Unknown"
cinematography = "Unknown"
budget = 450
awards = []

[[movies.movie]]
title = "A Trip to the Moon"
year = 1902   # This movie was released after 1900.
cast = ["Georges Mlis"]
genres = ["Sci-Fi", "Adventure"]
href = "A_Trip_to_the_Moon"
extract = "A Trip to the Moon (French: Le Voyage dans la Lune) is a 1902 French silent film directed by Georges Mlis. It is widely regarded as the first science fiction film ever made."
thumbnail_width = 320
thumbnail_height = 240
country = "France"
runtime = 14
language = "Silent"
release_date = "1902-09-01"
production_company = "Star Film Company"
director = "Georges Mlis"
writer = "Georges Mlis"
cinematography = "Georges Mlis"
budget = 10000
box_office = 20000
awards = ["Considered a milestone in cinema history"]

[[movies.movie]]
title = "The Great Train Robbery"
year = 1903  # This movie was released after 1900.
cast = ["Gilbert M. Anderson", "A. C. Abadie"]
genres = ["Western", "Action"]
href = "The_Great_Train_Robbery"
extract = "The Great Train Robbery is a 1903 American silent short film directed by Edwin S. Porter. It is considered one of the earliest narrative films."
thumbnail_width = 320
thumbnail_height = 240
country = "United States"
runtime = 12
language = "Silent"
release_date = "1903-12-01"
production_company = "Edison Manufacturing Company"
director = "Edwin S. Porter"
writer = "Scott Marble"
cinematography = "Edwin S. Porter"
budget = 150
box_office = 5000
awards = ["One of the earliest crime films"]`,modifyingtabularyaml:`movies:
  movie:
    - title: After Dark in Central Park
      year: 1900
      cast: []
      genres:
        - Silent
        - Short
      href: null
      country: United States
      runtime: 3
      language: Silent
      release_date: '1900-03-15'
      production_company: Edison Manufacturing Company
      director: James H. White
      writer: Unknown
      cinematography: Unknown
      budget: 500
      box_office: null
      awards: []
    - title: Boarding School Girls' Pajama Parade
      year: 1900
      cast: []
      genres:
        - Silent
        - Short
      href: null
      country: United States
      runtime: 2
      language: Silent
      release_date: '1900-05-10'
      production_company: Edison Manufacturing Company
      director: James H. White
      writer: Unknown
      cinematography: Unknown
      budget: 450
      box_office: null
      awards: []
    - title: Buffalo Bill's Wild West Parade
      year: 1900
      cast:
        - Buffalo Bill (William F. Cody)
      genres:
        - Documentary
      href: null
      country: United States
      runtime: 5
      language: Silent
      release_date: '1900-07-04'
      production_company: Edison Manufacturing Company
      director: Unknown
      writer: Unknown
      cinematography: Unknown
      budget: 600
      box_office: null
      awards: []
    - title: Caught
      year: 1900
      cast: []
      genres:
        - Drama
      href: null
      country: United States
      runtime: 2
      language: Silent
      release_date: '1900-02-20'
      production_company: Biograph Company
      director: William Heise
      writer: Unknown
      cinematography: Unknown
      budget: 400
      box_office: null
      awards: []
    - title: Clowns Spinning Hats
      year: 1900
      cast:
        - Unknown Clowns
      genres:
        - Silent
        - Comedy
      href: Clowns_Spinning_Hats
      extract: >-
        Clowns Spinning Hats is a black-and-white silent film featuring clowns
        throwing hats back and forth to each other. It was written and produced
        by Lubin Films and released April 7, 1900.
      country: United States
      runtime: 3
      language: Silent
      release_date: '1900-04-07'
      production_company: Lubin Films
      director: Unknown
      writer: Unknown
      cinematography: Unknown
      budget: 500
      box_office: null
      awards: []
    - title: The Enchanted Drawing
      year: 1900
      cast:
        - J. Stuart Blackton
      genres:
        - Silent
        - Animation
      href: The_Enchanted_Drawing
      extract: >-
        The Enchanted Drawing is a 1900 silent film directed by J. Stuart
        Blackton. It is best known for containing the first animated sequences
        recorded on standard picture film, which has led Blackton to be
        considered the father of American animation.
      thumbnail_width: 320
      thumbnail_height: 240
      country: United States
      runtime: 2
      language: Silent
      release_date: '1900-11-16'
      production_company: Vitagraph Studios
      director: J. Stuart Blackton
      writer: J. Stuart Blackton
      cinematography: Unknown
      budget: 700
      box_office: null
      awards: []
    - title: Feeding Sea Lions
      year: 1900
      cast:
        - Paul Boyton
      genres:
        - Short
        - Silent
      href: Feeding_Sea_Lions
      extract: >-
        Feeding Sea Lions is a short silent film featuring Paul Boyton feeding
        sea lions at his Sea Lion Park at Coney Island. Boyton is shown feeding
        the trained sea lions, twelve in number. The sea lions follow Boyton up
        the steps of the pool and then follow him back into the water. One of
        them steals food out of the basket. The film was made by Lubin Studios
        on March 10, 1900.
      country: United States
      runtime: 3
      language: Silent
      release_date: '1900-03-10'
      production_company: Lubin Studios
      director: Unknown
      writer: Unknown
      cinematography: Unknown
      budget: 450
      box_office: null
      awards: []
    - title: A Trip to the Moon
      year: 1902    # This movie was released after 1900.
      cast:
        - Georges Mlis
      genres:
        - Sci-Fi
        - Adventure
      href: A_Trip_to_the_Moon
      extract: >-
        A Trip to the Moon (French: Le Voyage dans la Lune) is a 1902 French
        silent film directed by Georges Mlis. It is widely regarded as the
        first science fiction film ever made.
      thumbnail_width: 320
      thumbnail_height: 240
      country: France
      runtime: 14
      language: Silent
      release_date: '1902-09-01'
      production_company: Star Film Company
      director: Georges Mlis
      writer: Georges Mlis
      cinematography: Georges Mlis
      budget: 10000
      box_office: 20000
      awards:
        - Considered a milestone in cinema history
    - title: The Great Train Robbery
      year: 1903   # This movie was released after 1900.
      cast:
        - Gilbert M. Anderson
        - A. C. Abadie
      genres:
        - Western
        - Action
      href: The_Great_Train_Robbery
      extract: >-
        The Great Train Robbery is a 1903 American silent short film directed by
        Edwin S. Porter. It is considered one of the earliest narrative films.
      thumbnail_width: 320
      thumbnail_height: 240
      country: United States
      runtime: 12
      language: Silent
      release_date: '1903-12-01'
      production_company: Edison Manufacturing Company
      director: Edwin S. Porter
      writer: Scott Marble
      cinematography: Edwin S. Porter
      budget: 150
      box_office: 5000
      awards:
        - One of the earliest crime films`,modifyingtabularjson5:`{
    movies: {
        movie: [
            {
                title: 'After Dark in Central Park',
                year: 1900,
                cast: [],
                genres: [
                    'Silent',
                    'Short'
                ],
                href: null,
                country: 'United States',
                runtime: 3,
                language: 'Silent',
                release_date: '1900-03-15',
                production_company: 'Edison Manufacturing Company',
                director: 'James H. White',
                writer: 'Unknown',
                cinematography: 'Unknown',
                budget: 500,
                box_office: null,
                awards: []
            },
            {
                title: "Boarding School Girls' Pajama Parade",
                year: 1900,
                cast: [],
                genres: [
                    'Silent',
                    'Short'
                ],
                href: null,
                country: 'United States',
                runtime: 2,
                language: 'Silent',
                release_date: '1900-05-10',
                production_company: 'Edison Manufacturing Company',
                director: 'James H. White',
                writer: 'Unknown',
                cinematography: 'Unknown',
                budget: 450,
                box_office: null,
                awards: []
            },
            {
                title: "Buffalo Bill's Wild West Parade",
                year: 1900,
                cast: [
                    'Buffalo Bill (William F. Cody)'
                ],
                genres: [
                    'Documentary'
                ],
                href: null,
                country: 'United States',
                runtime: 5,
                language: 'Silent',
                release_date: '1900-07-04',
                production_company: 'Edison Manufacturing Company',
                director: 'Unknown',
                writer: 'Unknown',
                cinematography: 'Unknown',
                budget: 600,
                box_office: null,
                awards: []
            },
            {
                title: 'Caught',
                year: 1900,
                cast: [],
                genres: [
                    'Drama'
                ],
                href: null,
                country: 'United States',
                runtime: 2,
                language: 'Silent',
                release_date: '1900-02-20',
                production_company: 'Biograph Company',
                director: 'William Heise',
                writer: 'Unknown',
                cinematography: 'Unknown',
                budget: 400,
                box_office: null,
                awards: []
            },
            {
                title: 'Clowns Spinning Hats',
                year: 1900,
                cast: [
                    'Unknown Clowns'
                ],
                genres: [
                    'Silent',
                    'Comedy'
                ],
                href: 'Clowns_Spinning_Hats',
                extract: 'Clowns Spinning Hats is a black-and-white silent film featuring clowns throwing hats back and forth to each other. It was written and produced by Lubin Films and released April 7, 1900.',
                country: 'United States',
                runtime: 3,
                language: 'Silent',
                release_date: '1900-04-07',
                production_company: 'Lubin Films',
                director: 'Unknown',
                writer: 'Unknown',
                cinematography: 'Unknown',
                budget: 500,
                box_office: null,
                awards: []
            },
            {
                title: 'The Enchanted Drawing',
                year: 1900,
                cast: [
                    'J. Stuart Blackton'
                ],
                genres: [
                    'Silent',
                    'Animation'
                ],
                href: 'The_Enchanted_Drawing',
                extract: 'The Enchanted Drawing is a 1900 silent film directed by J. Stuart Blackton. It is best known for containing the first animated sequences recorded on standard picture film, which has led Blackton to be considered the father of American animation.',
                thumbnail_width: 320,
                thumbnail_height: 240,
                country: 'United States',
                runtime: 2,
                language: 'Silent',
                release_date: '1900-11-16',
                production_company: 'Vitagraph Studios',
                director: 'J. Stuart Blackton',
                writer: 'J. Stuart Blackton',
                cinematography: 'Unknown',
                budget: 700,
                box_office: null,
                awards: []
            },
            {
                title: 'Feeding Sea Lions',
                year: 1900,
                cast: [
                    'Paul Boyton'
                ],
                genres: [
                    'Short',
                    'Silent'
                ],
                href: 'Feeding_Sea_Lions',
                extract: 'Feeding Sea Lions is a short silent film featuring Paul Boyton feeding sea lions at his Sea Lion Park at Coney Island. Boyton is shown feeding the trained sea lions, twelve in number. The sea lions follow Boyton up the steps of the pool and then follow him back into the water. One of them steals food out of the basket. The film was made by Lubin Studios on March 10, 1900.',
                country: 'United States',
                runtime: 3,
                language: 'Silent',
                release_date: '1900-03-10',
                production_company: 'Lubin Studios',
                director: 'Unknown',
                writer: 'Unknown',
                cinematography: 'Unknown',
                budget: 450,
                box_office: null,
                awards: []
            },
            {
                title: 'A Trip to the Moon',
                year: 1902,    // This movie was released after 1900.
                cast: [
                    'Georges Mlis'
                ],
                genres: [
                    'Sci-Fi',
                    'Adventure'
                ],
                href: 'A_Trip_to_the_Moon',
                extract: 'A Trip to the Moon (French: Le Voyage dans la Lune) is a 1902 French silent film directed by Georges Mlis. It is widely regarded as the first science fiction film ever made.',
                thumbnail_width: 320,
                thumbnail_height: 240,
                country: 'France',
                runtime: 14,
                language: 'Silent',
                release_date: '1902-09-01',
                production_company: 'Star Film Company',
                director: 'Georges Mlis',
                writer: 'Georges Mlis',
                cinematography: 'Georges Mlis',
                budget: 10000,
                box_office: 20000,
                awards: [
                    'Considered a milestone in cinema history'
                ]
            },
            {
                title: 'The Great Train Robbery',
                year: 1903,    // This movie was released after 1900.
                cast: [
                    'Gilbert M. Anderson',
                    'A. C. Abadie'
                ],
                genres: [
                    'Western',
                    'Action'
                ],
                href: 'The_Great_Train_Robbery',
                extract: 'The Great Train Robbery is a 1903 American silent short film directed by Edwin S. Porter. It is considered one of the earliest narrative films.',
                thumbnail_width: 320,
                thumbnail_height: 240,
                country: 'United States',
                runtime: 12,
                language: 'Silent',
                release_date: '1903-12-01',
                production_company: 'Edison Manufacturing Company',
                director: 'Edwin S. Porter',
                writer: 'Scott Marble',
                cinematography: 'Edwin S. Porter',
                budget: 150,
                box_office: 5000,
                awards: [
                    'One of the earliest crime films'
                ]
            }
        ]
    }
}`,modifyingtabularhjson:`{
  movies:
  {
    movie:
    [
      {
        title: After Dark in Central Park
        year: 1900
        cast: []
        genres:
        [
          Silent
          Short
        ]
        href: null
        country: United States
        runtime: 3
        language: Silent
        release_date: 1900-03-15
        production_company: Edison Manufacturing Company
        director: James H. White
        writer: Unknown
        cinematography: Unknown
        budget: 500
        box_office: null
        awards: []
      }
      {
        title: Boarding School Girls' Pajama Parade
        year: 1900
        cast: []
        genres:
        [
          Silent
          Short
        ]
        href: null
        country: United States
        runtime: 2
        language: Silent
        release_date: 1900-05-10
        production_company: Edison Manufacturing Company
        director: James H. White
        writer: Unknown
        cinematography: Unknown
        budget: 450
        box_office: null
        awards: []
      }
      {
        title: Buffalo Bill's Wild West Parade
        year: 1900
        cast:
        [
          Buffalo Bill (William F. Cody)
        ]
        genres:
        [
          Documentary
        ]
        href: null
        country: United States
        runtime: 5
        language: Silent
        release_date: 1900-07-04
        production_company: Edison Manufacturing Company
        director: Unknown
        writer: Unknown
        cinematography: Unknown
        budget: 600
        box_office: null
        awards: []
      }
      {
        title: Caught
        year: 1900
        cast: []
        genres:
        [
          Drama
        ]
        href: null
        country: United States
        runtime: 2
        language: Silent
        release_date: 1900-02-20
        production_company: Biograph Company
        director: William Heise
        writer: Unknown
        cinematography: Unknown
        budget: 400
        box_office: null
        awards: []
      }
      {
        title: Clowns Spinning Hats
        year: 1900
        cast:
        [
          Unknown Clowns
        ]
        genres:
        [
          Silent
          Comedy
        ]
        href: Clowns_Spinning_Hats
        extract: Clowns Spinning Hats is a black-and-white silent film featuring clowns throwing hats back and forth to each other. It was written and produced by Lubin Films and released April 7, 1900.
        country: United States
        runtime: 3
        language: Silent
        release_date: 1900-04-07
        production_company: Lubin Films
        director: Unknown
        writer: Unknown
        cinematography: Unknown
        budget: 500
        box_office: null
        awards: []
      }
      {
        title: The Enchanted Drawing
        year: 1900
        cast:
        [
          J. Stuart Blackton
        ]
        genres:
        [
          Silent
          Animation
        ]
        href: The_Enchanted_Drawing
        extract: The Enchanted Drawing is a 1900 silent film directed by J. Stuart Blackton. It is best known for containing the first animated sequences recorded on standard picture film, which has led Blackton to be considered the father of American animation.
        thumbnail_width: 320
        thumbnail_height: 240
        country: United States
        runtime: 2
        language: Silent
        release_date: 1900-11-16
        production_company: Vitagraph Studios
        director: J. Stuart Blackton
        writer: J. Stuart Blackton
        cinematography: Unknown
        budget: 700
        box_office: null
        awards: []
      }
      {
        title: Feeding Sea Lions
        year: 1900
        cast:
        [
          Paul Boyton
        ]
        genres:
        [
          Short
          Silent
        ]
        href: Feeding_Sea_Lions
        extract: Feeding Sea Lions is a short silent film featuring Paul Boyton feeding sea lions at his Sea Lion Park at Coney Island. Boyton is shown feeding the trained sea lions, twelve in number. The sea lions follow Boyton up the steps of the pool and then follow him back into the water. One of them steals food out of the basket. The film was made by Lubin Studios on March 10, 1900.
        country: United States
        runtime: 3
        language: Silent
        release_date: 1900-03-10
        production_company: Lubin Studios
        director: Unknown
        writer: Unknown
        cinematography: Unknown
        budget: 450
        box_office: null
        awards: []
      }
      {
        title: A Trip to the Moon
        year: 1902    // This movie was released after 1900.
        cast:
        [
          Georges Mlis
        ]
        genres:
        [
          Sci-Fi
          Adventure
        ]
        href: A_Trip_to_the_Moon
        extract: A Trip to the Moon (French: Le Voyage dans la Lune) is a 1902 French silent film directed by Georges Mlis. It is widely regarded as the first science fiction film ever made.
        thumbnail_width: 320
        thumbnail_height: 240
        country: France
        runtime: 14
        language: Silent
        release_date: 1902-09-01
        production_company: Star Film Company
        director: Georges Mlis
        writer: Georges Mlis
        cinematography: Georges Mlis
        budget: 10000
        box_office: 20000
        awards:
        [
          Considered a milestone in cinema history
        ]
      }
      {
        title: The Great Train Robbery
        year: 1903    // This movie was released after 1900.
        cast:
        [
          Gilbert M. Anderson
          A. C. Abadie
        ]
        genres:
        [
          Western
          Action
        ]
        href: The_Great_Train_Robbery
        extract: The Great Train Robbery is a 1903 American silent short film directed by Edwin S. Porter. It is considered one of the earliest narrative films.
        thumbnail_width: 320
        thumbnail_height: 240
        country: United States
        runtime: 12
        language: Silent
        release_date: 1903-12-01
        production_company: Edison Manufacturing Company
        director: Edwin S. Porter
        writer: Scott Marble
        cinematography: Edwin S. Porter
        budget: 150
        box_office: 5000
        awards:
        [
          One of the earliest crime films
        ]
      }
    ]
  }
}`},Ixe=Object.freeze(Object.defineProperty({__proto__:null,startingStringsMap:kxe},Symbol.toStringTag,{value:"Module"}));var e6={exports:{}},Uoe;function dat(){return Uoe||(Uoe=1,function(e,t){ace.define("ace/mode/hjson_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(n,r,i){var o=n("../lib/oop"),s=n("./text_highlight_rules").TextHighlightRules,a=function(){this.$rules={start:[{include:"#comments"},{include:"#rootObject"},{include:"#value"}],"#array":[{token:"paren.lparen",regex:/\[/,push:[{token:"paren.rparen",regex:/\]/,next:"pop"},{include:"#value"},{include:"#comments"},{token:"text",regex:/,|$/},{token:"invalid.illegal",regex:/[^\s\]]/},{defaultToken:"array"}]}],"#comments":[{token:["comment.punctuation","comment.line"],regex:/(#)(.*$)/},{token:"comment.punctuation",regex:/\/\*/,push:[{token:"comment.punctuation",regex:/\*\//,next:"pop"},{defaultToken:"comment.block"}]},{token:["comment.punctuation","comment.line"],regex:/(\/\/)(.*$)/}],"#constant":[{token:"constant",regex:/\b(?:true|false|null)\b/}],"#keyname":[{token:"keyword",regex:/(?:[^,\{\[\}\]\s]+|"(?:[^"\\]|\\.)*")\s*(?=:)/}],"#mstring":[{token:"string",regex:/'''/,push:[{token:"string",regex:/'''/,next:"pop"},{defaultToken:"string"}]}],"#number":[{token:"constant.numeric",regex:/-?(?:0|[1-9]\d*)(?:(?:\.\d+)?(?:[eE][+-]?\d+)?)?/,comment:"handles integer and decimal numbers"}],"#object":[{token:"paren.lparen",regex:/\{/,push:[{token:"paren.rparen",regex:/\}/,next:"pop"},{include:"#keyname"},{include:"#value"},{token:"text",regex:/:/},{token:"text",regex:/,/},{defaultToken:"paren"}]}],"#rootObject":[{token:"paren",regex:/(?=\s*(?:[^,\{\[\}\]\s]+|"(?:[^"\\]|\\.)*")\s*:)/,push:[{token:"paren.rparen",regex:/---none---/,next:"pop"},{include:"#keyname"},{include:"#value"},{token:"text",regex:/:/},{token:"text",regex:/,/},{defaultToken:"paren"}]}],"#string":[{token:"string",regex:/"/,push:[{token:"string",regex:/"/,next:"pop"},{token:"constant.language.escape",regex:/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/},{token:"invalid.illegal",regex:/\\./},{defaultToken:"string"}]}],"#ustring":[{token:"string",regex:/\b[^:,0-9\-\{\[\}\]\s].*$/}],"#value":[{include:"#constant"},{include:"#number"},{include:"#string"},{include:"#array"},{include:"#object"},{include:"#comments"},{include:"#mstring"},{include:"#ustring"}]},this.normalizeRules()};a.metaData={fileTypes:["hjson"],foldingStartMarker:`(?x:     # turn on extended mode
              ^    # a line beginning with
              \\s*    # some optional space
              [{\\[]  # the start of an object or array
              (?!    # but not followed by
              .*   # whatever
              [}\\]]  # and the close of an object or array
              ,?   # an optional comma
              \\s*  # some optional space
              $    # at the end of the line
              )
              |    # ...or...
              [{\\[]  # the start of an object or array
              \\s*    # some optional space
              $    # at the end of the line
            )`,foldingStopMarker:`(?x:   # turn on extended mode
             ^    # a line beginning with
             \\s*  # some optional space
             [}\\]]  # and the close of an object or array
             )`,keyEquivalent:"^~J",name:"Hjson",scopeName:"source.hjson"},o.inherits(a,s),r.HjsonHighlightRules=a}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(n,r,i){var o=n("../../lib/oop"),s=n("../../range").Range,a=n("./fold_mode").FoldMode,l=r.FoldMode=function(u){u&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+u.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+u.end)))};o.inherits(l,a),(function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(u,c,d){var f=u.getLine(d);if(this.singleLineBlockCommentRe.test(f)&&!this.startRegionRe.test(f)&&!this.tripleStarBlockCommentRe.test(f))return"";var h=this._getFoldWidgetBase(u,c,d);return!h&&this.startRegionRe.test(f)?"start":h},this.getFoldWidgetRange=function(u,c,d,f){var h=u.getLine(d);if(this.startRegionRe.test(h))return this.getCommentRegionBlock(u,h,d);var g=h.match(this.foldingStartMarker);if(g){var p=g.index;if(g[1])return this.openingBracketBlock(u,g[1],d,p);var m=u.getCommentFoldRange(d,p+g[0].length,1);return m&&!m.isMultiLine()&&(f?m=this.getSectionRange(u,d):c!="all"&&(m=null)),m}if(c!=="markbegin"){var g=h.match(this.foldingStopMarker);if(g){var p=g.index+g[0].length;return g[1]?this.closingBracketBlock(u,g[1],d,p):u.getCommentFoldRange(d,p,-1)}}},this.getSectionRange=function(u,c){var d=u.getLine(c),f=d.search(/\S/),h=c,p=d.length;c=c+1;for(var m=c,g=u.getLength();++c<g;){d=u.getLine(c);var y=d.search(/\S/);if(y!==-1){if(f>y)break;var v=this.getFoldWidgetRange(u,"all",c);if(v){if(v.start.row<=h)break;if(v.isMultiLine())c=v.end.row;else if(f==y)break}m=c}}return new s(h,p,m,u.getLine(m).length)},this.getCommentRegionBlock=function(u,c,d){for(var f=c.search(/\s*$/),h=u.getLength(),p=d,m=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,g=1;++d<h;){c=u.getLine(d);var y=m.exec(c);if(y&&(y[1]?g--:g++,!g))break}var v=d;if(v>p)return new s(p,f,v,c.length)}}).call(l.prototype)}),ace.define("ace/mode/hjson",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/hjson_highlight_rules","ace/mode/folding/cstyle"],function(n,r,i){var o=n("../lib/oop"),s=n("./text").Mode,a=n("./hjson_highlight_rules").HjsonHighlightRules,l=n("./folding/cstyle").FoldMode,u=function(){this.HighlightRules=a,this.foldingRules=new l};o.inherits(u,s),(function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.$id="ace/mode/hjson"}).call(u.prototype),r.Mode=u}),function(){ace.require(["ace/mode/hjson"],function(n){e&&(e.exports=n)})}()}(e6)),e6.exports}dat();var t6={exports:{}},Hoe;function fat(){return Hoe||(Hoe=1,function(e,t){ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(n,r,i){var o=n("../lib/oop"),s=n("./text_highlight_rules").TextHighlightRules,a=function(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"text",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"comment",regex:"\\/\\/.*$"},{token:"comment.start",regex:"\\/\\*",next:"comment"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"punctuation.operator",regex:/[,]/},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],comment:[{token:"comment.end",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]}};o.inherits(a,s),r.JsonHighlightRules=a}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(n,r,i){var o=n("../range").Range,s=function(){};(function(){this.checkOutdent=function(a,l){return/^\s+$/.test(a)?/^\s*\}/.test(l):!1},this.autoOutdent=function(a,l){var u=a.getLine(l),c=u.match(/^(\s*\})/);if(!c)return 0;var d=c[1].length,f=a.findMatchingBracket({row:l,column:d});if(!f||f.row==l)return 0;var h=this.$getIndent(a.getLine(f.row));a.replace(new o(l,0,l,d-1),h)},this.$getIndent=function(a){return a.match(/^\s*/)[0]}}).call(s.prototype),r.MatchingBraceOutdent=s}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(n,r,i){var o=n("../../lib/oop"),s=n("../../range").Range,a=n("./fold_mode").FoldMode,l=r.FoldMode=function(u){u&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+u.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+u.end)))};o.inherits(l,a),(function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(u,c,d){var f=u.getLine(d);if(this.singleLineBlockCommentRe.test(f)&&!this.startRegionRe.test(f)&&!this.tripleStarBlockCommentRe.test(f))return"";var h=this._getFoldWidgetBase(u,c,d);return!h&&this.startRegionRe.test(f)?"start":h},this.getFoldWidgetRange=function(u,c,d,f){var h=u.getLine(d);if(this.startRegionRe.test(h))return this.getCommentRegionBlock(u,h,d);var g=h.match(this.foldingStartMarker);if(g){var p=g.index;if(g[1])return this.openingBracketBlock(u,g[1],d,p);var m=u.getCommentFoldRange(d,p+g[0].length,1);return m&&!m.isMultiLine()&&(f?m=this.getSectionRange(u,d):c!="all"&&(m=null)),m}if(c!=="markbegin"){var g=h.match(this.foldingStopMarker);if(g){var p=g.index+g[0].length;return g[1]?this.closingBracketBlock(u,g[1],d,p):u.getCommentFoldRange(d,p,-1)}}},this.getSectionRange=function(u,c){var d=u.getLine(c),f=d.search(/\S/),h=c,p=d.length;c=c+1;for(var m=c,g=u.getLength();++c<g;){d=u.getLine(c);var y=d.search(/\S/);if(y!==-1){if(f>y)break;var v=this.getFoldWidgetRange(u,"all",c);if(v){if(v.start.row<=h)break;if(v.isMultiLine())c=v.end.row;else if(f==y)break}m=c}}return new s(h,p,m,u.getLine(m).length)},this.getCommentRegionBlock=function(u,c,d){for(var f=c.search(/\s*$/),h=u.getLength(),p=d,m=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,g=1;++d<h;){c=u.getLine(d);var y=m.exec(c);if(y&&(y[1]?g--:g++,!g))break}var v=d;if(v>p)return new s(p,f,v,c.length)}}).call(l.prototype)}),ace.define("ace/mode/json",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/json_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/folding/cstyle","ace/worker/worker_client"],function(n,r,i){var o=n("../lib/oop"),s=n("./text").Mode,a=n("./json_highlight_rules").JsonHighlightRules,l=n("./matching_brace_outdent").MatchingBraceOutdent,u=n("./folding/cstyle").FoldMode,c=n("../worker/worker_client").WorkerClient,d=function(){this.HighlightRules=a,this.$outdent=new l,this.$behaviour=this.$defaultBehaviour,this.foldingRules=new u};o.inherits(d,s),(function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(f,h,p){var m=this.$getIndent(h);if(f=="start"){var g=h.match(/^.*[\{\(\[]\s*$/);g&&(m+=p)}return m},this.checkOutdent=function(f,h,p){return this.$outdent.checkOutdent(h,p)},this.autoOutdent=function(f,h,p){this.$outdent.autoOutdent(h,p)},this.createWorker=function(f){var h=new c(["ace"],"ace/mode/json_worker","JsonWorker");return h.attachToDocument(f.getDocument()),h.on("annotate",function(p){f.setAnnotations(p.data)}),h.on("terminate",function(){f.clearAnnotations()}),h},this.$id="ace/mode/json"}).call(d.prototype),r.Mode=d}),function(){ace.require(["ace/mode/json"],function(n){e&&(e.exports=n)})}()}(t6)),t6.exports}fat();var n6={exports:{}},Voe;function hat(){return Voe||(Voe=1,function(e,t){ace.define("ace/mode/xml_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(n,r,i){var o=n("../lib/oop"),s=n("./text_highlight_rules").TextHighlightRules,a=function(l){var u="[_:a-zA-Z-][-_:.a-zA-Z0-9-]*";this.$rules={start:[{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\[",next:"cdata"},{token:["punctuation.instruction.xml","keyword.instruction.xml"],regex:"(<\\?)("+u+")",next:"processing_instruction"},{token:"comment.start.xml",regex:"<\\!--",next:"comment"},{token:["xml-pe.doctype.xml","xml-pe.doctype.xml"],regex:"(<\\!)(DOCTYPE)(?=[\\s])",next:"doctype",caseInsensitive:!0},{include:"tag"},{token:"text.end-tag-open.xml",regex:"</"},{token:"text.tag-open.xml",regex:"<"},{include:"reference"},{defaultToken:"text.xml"}],processing_instruction:[{token:"entity.other.attribute-name.decl-attribute-name.xml",regex:u},{token:"keyword.operator.decl-attribute-equals.xml",regex:"="},{include:"whitespace"},{include:"string"},{token:"punctuation.xml-decl.xml",regex:"\\?>",next:"start"}],doctype:[{include:"whitespace"},{include:"string"},{token:"xml-pe.doctype.xml",regex:">",next:"start"},{token:"xml-pe.xml",regex:"[-_a-zA-Z0-9:]+"},{token:"punctuation.int-subset",regex:"\\[",push:"int_subset"}],int_subset:[{token:"text.xml",regex:"\\s+"},{token:"punctuation.int-subset.xml",regex:"]",next:"pop"},{token:["punctuation.markup-decl.xml","keyword.markup-decl.xml"],regex:"(<\\!)("+u+")",push:[{token:"text",regex:"\\s+"},{token:"punctuation.markup-decl.xml",regex:">",next:"pop"},{include:"string"}]}],cdata:[{token:"string.cdata.xml",regex:"\\]\\]>",next:"start"},{token:"text.xml",regex:"\\s+"},{token:"text.xml",regex:"(?:[^\\]]|\\](?!\\]>))+"}],comment:[{token:"comment.end.xml",regex:"-->",next:"start"},{defaultToken:"comment.xml"}],reference:[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],attr_reference:[{token:"constant.language.escape.reference.attribute-value.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],tag:[{token:["meta.tag.punctuation.tag-open.xml","meta.tag.punctuation.end-tag-open.xml","meta.tag.tag-name.xml"],regex:"(?:(<)|(</))((?:"+u+":)?"+u+")",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}],tag_whitespace:[{token:"text.tag-whitespace.xml",regex:"\\s+"}],whitespace:[{token:"text.whitespace.xml",regex:"\\s+"}],string:[{token:"string.xml",regex:"'",push:[{token:"string.xml",regex:"'",next:"pop"},{defaultToken:"string.xml"}]},{token:"string.xml",regex:'"',push:[{token:"string.xml",regex:'"',next:"pop"},{defaultToken:"string.xml"}]}],attributes:[{token:"entity.other.attribute-name.xml",regex:u},{token:"keyword.operator.attribute-equals.xml",regex:"="},{include:"tag_whitespace"},{include:"attribute_value"}],attribute_value:[{token:"string.attribute-value.xml",regex:"'",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]}]},this.constructor===a&&this.normalizeRules()};(function(){this.embedTagRules=function(l,u,c){this.$rules.tag.unshift({token:["meta.tag.punctuation.tag-open.xml","meta.tag."+c+".tag-name.xml"],regex:"(<)("+c+"(?=\\s|>|$))",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:u+"start"}]}),this.$rules[c+"-end"]=[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start",onMatch:function(d,f,h){return h.splice(0),this.token}}],this.embedRules(l,u,[{token:["meta.tag.punctuation.end-tag-open.xml","meta.tag."+c+".tag-name.xml"],regex:"(</)("+c+"(?=\\s|>|$))",next:c+"-end"},{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\["},{token:"string.cdata.xml",regex:"\\]\\]>"}])}}).call(s.prototype),o.inherits(a,s),r.XmlHighlightRules=a}),ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator"],function(n,r,i){var o=n("../../lib/oop"),s=n("../behaviour").Behaviour,a=n("../../token_iterator").TokenIterator;function l(c,d){return c&&c.type.lastIndexOf(d+".xml")>-1}var u=function(){this.add("string_dquotes","insertion",function(c,d,f,h,p){if(p=='"'||p=="'"){var m=p,g=h.doc.getTextRange(f.getSelectionRange());if(g!==""&&g!=="'"&&g!='"'&&f.getWrapBehavioursEnabled())return{text:m+g+m,selection:!1};var y=f.getCursorPosition(),v=h.doc.getLine(y.row),w=v.substring(y.column,y.column+1),E=new a(h,y.row,y.column),_=E.getCurrentToken();if(w==m&&(l(_,"attribute-value")||l(_,"string")))return{text:"",selection:[1,1]};if(_||(_=E.stepBackward()),!_)return;for(;l(_,"tag-whitespace")||l(_,"whitespace");)_=E.stepBackward();var x=!w||w.match(/\s/);if(l(_,"attribute-equals")&&(x||w==">")||l(_,"decl-attribute-equals")&&(x||w=="?"))return{text:m+m,selection:[1,1]}}}),this.add("string_dquotes","deletion",function(c,d,f,h,p){var m=h.doc.getTextRange(p);if(!p.isMultiLine()&&(m=='"'||m=="'")){var g=h.doc.getLine(p.start.row),y=g.substring(p.start.column+1,p.start.column+2);if(y==m)return p.end.column++,p}}),this.add("autoclosing","insertion",function(c,d,f,h,p){if(p==">"){var m=f.getSelectionRange().start,g=new a(h,m.row,m.column),y=g.getCurrentToken()||g.stepBackward();if(!y||!(l(y,"tag-name")||l(y,"tag-whitespace")||l(y,"attribute-name")||l(y,"attribute-equals")||l(y,"attribute-value"))||l(y,"reference.attribute-value"))return;if(l(y,"attribute-value")){var v=g.getCurrentTokenColumn()+y.value.length;if(m.column<v)return;if(m.column==v){var w=g.stepForward();if(w&&l(w,"attribute-value"))return;g.stepBackward()}}if(/^\s*>/.test(h.getLine(m.row).slice(m.column)))return;for(;!l(y,"tag-name");)if(y=g.stepBackward(),y.value=="<"){y=g.stepForward();break}var E=g.getCurrentTokenRow(),_=g.getCurrentTokenColumn();if(l(g.stepBackward(),"end-tag-open"))return;var x=y.value;return E==m.row&&(x=x.substring(0,m.column-_)),this.voidElements&&this.voidElements.hasOwnProperty(x.toLowerCase())?void 0:{text:"></"+x+">",selection:[1,1]}}}),this.add("autoindent","insertion",function(c,d,f,h,p){if(p==`
`){var m=f.getCursorPosition(),g=h.getLine(m.row),y=new a(h,m.row,m.column),v=y.getCurrentToken();if(l(v,"")&&v.type.indexOf("tag-close")!==-1){if(v.value=="/>")return;for(;v&&v.type.indexOf("tag-name")===-1;)v=y.stepBackward();if(!v)return;var w=v.value,E=y.getCurrentTokenRow();if(v=y.stepBackward(),!v||v.type.indexOf("end-tag")!==-1)return;if(this.voidElements&&!this.voidElements[w]||!this.voidElements){var _=h.getTokenAt(m.row,m.column+1),g=h.getLine(E),x=this.$getIndent(g),S=x+h.getTabString();return _&&_.value==="</"?{text:`
`+S+`
`+x,selection:[1,S.length,1,S.length]}:{text:`
`+S}}}}})};o.inherits(u,s),r.XmlBehaviour=u}),ace.define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(n,r,i){var o=n("../../lib/oop"),s=n("../../range").Range,a=n("./fold_mode").FoldMode,l=r.FoldMode=function(d,f){a.call(this),this.voidElements=d||{},this.optionalEndTags=o.mixin({},this.voidElements),f&&o.mixin(this.optionalEndTags,f)};o.inherits(l,a);var u=function(){this.tagName="",this.closing=!1,this.selfClosing=!1,this.start={row:0,column:0},this.end={row:0,column:0}};function c(d,f){return d&&d.type&&d.type.lastIndexOf(f+".xml")>-1}(function(){this.getFoldWidget=function(d,f,h){var p=this._getFirstTagInLine(d,h);return p?p.closing||!p.tagName&&p.selfClosing?f==="markbeginend"?"end":"":!p.tagName||p.selfClosing||this.voidElements.hasOwnProperty(p.tagName.toLowerCase())||this._findEndTagInLine(d,h,p.tagName,p.end.column)?"":"start":this.getCommentFoldWidget(d,h)},this.getCommentFoldWidget=function(d,f){return/comment/.test(d.getState(f))&&/<!-/.test(d.getLine(f))?"start":""},this._getFirstTagInLine=function(d,f){for(var h=d.getTokens(f),p=new u,m=0;m<h.length;m++){var g=h[m];if(c(g,"tag-open")){if(p.end.column=p.start.column+g.value.length,p.closing=c(g,"end-tag-open"),g=h[++m],!g)return null;if(p.tagName=g.value,g.value===""){if(g=h[++m],!g)return null;p.tagName=g.value}for(p.end.column+=g.value.length,m++;m<h.length;m++)if(g=h[m],p.end.column+=g.value.length,c(g,"tag-close")){p.selfClosing=g.value=="/>";break}return p}else if(c(g,"tag-close"))return p.selfClosing=g.value=="/>",p;p.start.column+=g.value.length}return null},this._findEndTagInLine=function(d,f,h,p){for(var m=d.getTokens(f),g=0,y=0;y<m.length;y++){var v=m[y];if(g+=v.value.length,!(g<p-1)&&c(v,"end-tag-open")&&(v=m[y+1],c(v,"tag-name")&&v.value===""&&(v=m[y+2]),v&&v.value==h))return!0}return!1},this.getFoldWidgetRange=function(d,f,h){var p=this._getFirstTagInLine(d,h);if(!p)return this.getCommentFoldWidget(d,h)&&d.getCommentFoldRange(h,d.getLine(h).length);var m=d.getMatchingTags({row:h,column:0});if(m)return new s(m.openTag.end.row,m.openTag.end.column,m.closeTag.start.row,m.closeTag.start.column)}}).call(l.prototype)}),ace.define("ace/mode/xml",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text","ace/mode/xml_highlight_rules","ace/mode/behaviour/xml","ace/mode/folding/xml","ace/worker/worker_client"],function(n,r,i){var o=n("../lib/oop"),s=n("../lib/lang"),a=n("./text").Mode,l=n("./xml_highlight_rules").XmlHighlightRules,u=n("./behaviour/xml").XmlBehaviour,c=n("./folding/xml").FoldMode,d=n("../worker/worker_client").WorkerClient,f=function(){this.HighlightRules=l,this.$behaviour=new u,this.foldingRules=new c};o.inherits(f,a),(function(){this.voidElements=s.arrayToMap([]),this.blockComment={start:"<!--",end:"-->"},this.createWorker=function(h){var p=new d(["ace"],"ace/mode/xml_worker","Worker");return p.attachToDocument(h.getDocument()),p.on("error",function(m){h.setAnnotations(m.data)}),p.on("terminate",function(){h.clearAnnotations()}),p},this.$id="ace/mode/xml"}).call(f.prototype),r.Mode=f}),function(){ace.require(["ace/mode/xml"],function(n){e&&(e.exports=n)})}()}(n6)),n6.exports}hat();var r6={exports:{}},Woe;function pat(){return Woe||(Woe=1,function(e,t){ace.define("ace/mode/yaml_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(n,r,i){var o=n("../lib/oop"),s=n("./text_highlight_rules").TextHighlightRules,a=function(){this.$rules={start:[{token:"comment",regex:"#.*$"},{token:"list.markup",regex:/^(?:-{3}|\.{3})\s*(?=#|$)/},{token:"list.markup",regex:/^\s*[\-?](?:$|\s)/},{token:"constant",regex:"!![\\w//]+"},{token:"constant.language",regex:"[&\\*][a-zA-Z0-9-_]+"},{token:["meta.tag","keyword"],regex:/^(\s*\w[^\s:]*?)(:(?=\s|$))/},{token:["meta.tag","keyword"],regex:/(\w[^\s:]*?)(\s*:(?=\s|$))/},{token:"keyword.operator",regex:"<<\\w*:\\w*"},{token:"keyword.operator",regex:"-\\s*(?=[{])"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",regex:/[|>][-+\d]*(?:$|\s+(?:$|#))/,onMatch:function(l,u,c,d){d=d.replace(/ #.*/,"");var f=/^ *((:\s*)?-(\s*[^|>])?)?/.exec(d)[0].replace(/\S\s*$/,"").length,h=parseInt(/\d+[\s+-]*$/.exec(d));return h?(f+=h-1,this.next="mlString"):this.next="mlStringPre",c.length?(c[0]=this.next,c[1]=f):(c.push(this.next),c.push(f)),this.token},next:"mlString"},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"constant.numeric",regex:/(\b|[+\-\.])[\d_]+(?:(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)(?=[^\d-\w]|$)$/},{token:"constant.numeric",regex:/[+\-]?\.inf\b|NaN\b|0x[\dA-Fa-f_]+|0b[10_]+/},{token:"constant.language.boolean",regex:"\\b(?:true|false|TRUE|FALSE|True|False|yes|no)\\b"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"text",regex:/[^\s,:\[\]\{\}]+/}],mlStringPre:[{token:"indent",regex:/^ *$/},{token:"indent",regex:/^ */,onMatch:function(l,u,c){var d=c[1];return d>=l.length?(this.next="start",c.shift(),c.shift()):(c[1]=l.length-1,this.next=c[0]="mlString"),this.token},next:"mlString"},{defaultToken:"string"}],mlString:[{token:"indent",regex:/^ *$/},{token:"indent",regex:/^ */,onMatch:function(l,u,c){var d=c[1];return d>=l.length?(this.next="start",c.splice(0)):this.next="mlString",this.token},next:"mlString"},{token:"string",regex:".+"}]},this.normalizeRules()};o.inherits(a,s),r.YamlHighlightRules=a}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(n,r,i){var o=n("../range").Range,s=function(){};(function(){this.checkOutdent=function(a,l){return/^\s+$/.test(a)?/^\s*\}/.test(l):!1},this.autoOutdent=function(a,l){var u=a.getLine(l),c=u.match(/^(\s*\})/);if(!c)return 0;var d=c[1].length,f=a.findMatchingBracket({row:l,column:d});if(!f||f.row==l)return 0;var h=this.$getIndent(a.getLine(f.row));a.replace(new o(l,0,l,d-1),h)},this.$getIndent=function(a){return a.match(/^\s*/)[0]}}).call(s.prototype),r.MatchingBraceOutdent=s}),ace.define("ace/mode/folding/coffee",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode","ace/range"],function(n,r,i){var o=n("../../lib/oop"),s=n("./fold_mode").FoldMode,a=n("../../range").Range,l=r.FoldMode=function(){};o.inherits(l,s),(function(){this.commentBlock=function(u,c){var d=/\S/,f=u.getLine(c),h=f.search(d);if(!(h==-1||f[h]!="#")){for(var p=f.length,m=u.getLength(),g=c,y=c;++c<m;){f=u.getLine(c);var v=f.search(d);if(v!=-1){if(f[v]!="#")break;y=c}}if(y>g){var w=u.getLine(y).length;return new a(g,p,y,w)}}},this.getFoldWidgetRange=function(u,c,d){var f=this.indentationBlock(u,d);if(f||(f=this.commentBlock(u,d),f))return f},this.getFoldWidget=function(u,c,d){var f=u.getLine(d),h=f.search(/\S/),p=u.getLine(d+1),m=u.getLine(d-1),g=m.search(/\S/),y=p.search(/\S/);if(h==-1)return u.foldWidgets[d-1]=g!=-1&&g<y?"start":"","";if(g==-1){if(h==y&&f[h]=="#"&&p[h]=="#")return u.foldWidgets[d-1]="",u.foldWidgets[d+1]="","start"}else if(g==h&&f[h]=="#"&&m[h]=="#"&&u.getLine(d-2).search(/\S/)==-1)return u.foldWidgets[d-1]="start",u.foldWidgets[d+1]="","";return g!=-1&&g<h?u.foldWidgets[d-1]="start":u.foldWidgets[d-1]="",h<y?"start":""}}).call(l.prototype)}),ace.define("ace/mode/folding/yaml",["require","exports","module","ace/lib/oop","ace/mode/folding/coffee","ace/range"],function(n,r,i){var o=n("../../lib/oop"),s=n("./coffee").FoldMode,a=n("../../range").Range,l=r.FoldMode=function(){};o.inherits(l,s),(function(){this.getFoldWidgetRange=function(u,c,d){var f=/\S/,h=u.getLine(d),p=h.search(f),m=h[p]==="#",g=h[p]==="-";if(p!=-1){var y=h.length,v=u.getLength(),w=d,E=d;if(m){var _=this.commentBlock(u,d);if(_)return _}else if(g){var _=this.indentationBlock(u,d);if(_)return _}else for(;++d<v;){var h=u.getLine(d),x=h.search(f);if(x!=-1){if(x<=p&&h[p]!=="-"){var S=u.getTokenAt(d,0);if(!S||S.type!=="string")break}E=d}}if(E>w){var C=u.getLine(E).length;return new a(w,y,E,C)}}},this.getFoldWidget=function(u,c,d){var f=u.getLine(d),h=f.search(/\S/),p=u.getLine(d+1),m=u.getLine(d-1),g=m.search(/\S/),y=p.search(/\S/),v=f[h]==="-";if(h==-1)return u.foldWidgets[d-1]=g!=-1&&g<y?"start":"","";if(g==-1){if(h==y&&f[h]=="#"&&p[h]=="#")return u.foldWidgets[d-1]="",u.foldWidgets[d+1]="","start"}else if(g==h&&f[h]=="#"&&m[h]=="#"&&u.getLine(d-2).search(/\S/)==-1)return u.foldWidgets[d-1]="start",u.foldWidgets[d+1]="","";return g!=-1&&g<h||g!=-1&&g==h&&v?u.foldWidgets[d-1]="start":u.foldWidgets[d-1]="",h<y?"start":""}}).call(l.prototype)}),ace.define("ace/mode/yaml",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/yaml_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/folding/yaml","ace/worker/worker_client"],function(n,r,i){var o=n("../lib/oop"),s=n("./text").Mode,a=n("./yaml_highlight_rules").YamlHighlightRules,l=n("./matching_brace_outdent").MatchingBraceOutdent,u=n("./folding/yaml").FoldMode,c=n("../worker/worker_client").WorkerClient,d=function(){this.HighlightRules=a,this.$outdent=new l,this.foldingRules=new u,this.$behaviour=this.$defaultBehaviour};o.inherits(d,s),(function(){this.lineCommentStart=["#"],this.getNextLineIndent=function(f,h,p){var m=this.$getIndent(h);if(f=="start"){var g=h.match(/^.*[\{\(\[]\s*$/);g&&(m+=p)}return m},this.checkOutdent=function(f,h,p){return this.$outdent.checkOutdent(h,p)},this.autoOutdent=function(f,h,p){this.$outdent.autoOutdent(h,p)},this.createWorker=function(f){var h=new c(["ace"],"ace/mode/yaml_worker","YamlWorker");return h.attachToDocument(f.getDocument()),h.on("annotate",function(p){f.setAnnotations(p.data)}),h.on("terminate",function(){f.clearAnnotations()}),h},this.$id="ace/mode/yaml"}).call(d.prototype),r.Mode=d}),function(){ace.require(["ace/mode/yaml"],function(n){e&&(e.exports=n)})}()}(r6)),r6.exports}pat();var i6={exports:{}},qoe;function mat(){return qoe||(qoe=1,function(e,t){ace.define("ace/mode/toml_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(n,r,i){var o=n("../lib/oop"),s=n("./text_highlight_rules").TextHighlightRules,a=function(){var l=this.createKeywordMapper({"constant.language.boolean":"true|false"},"identifier"),u="[a-zA-Z\\$_-][a-zA-Z\\d\\$_-]*\\b";this.$rules={start:[{token:"comment.toml",regex:/#.*$/},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:["variable.keygroup.toml"],regex:"(?:^\\s*)(\\[\\[([^\\]]+)\\]\\])"},{token:["variable.keygroup.toml"],regex:"(?:^\\s*)(\\[([^\\]]+)\\])"},{token:l,regex:u},{token:"support.date.toml",regex:"\\d{4}-\\d{2}-\\d{2}(T)\\d{2}:\\d{2}:\\d{2}(Z)"},{token:"constant.numeric.toml",regex:"-?\\d+(\\.?\\d+)?"}],qqstring:[{token:"string",regex:"\\\\$",next:"qqstring"},{token:"constant.language.escape",regex:'\\\\[0tnr"\\\\]'},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}]}};o.inherits(a,s),r.TomlHighlightRules=a}),ace.define("ace/mode/folding/ini",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(n,r,i){var o=n("../../lib/oop"),s=n("../../range").Range,a=n("./fold_mode").FoldMode,l=r.FoldMode=function(){};o.inherits(l,a),(function(){this.foldingStartMarker=/^\s*\[([^\])]*)]\s*(?:$|[;#])/,this.getFoldWidgetRange=function(u,c,d){var f=this.foldingStartMarker,h=u.getLine(d),p=h.match(f);if(p){for(var m=p[1]+".",g=h.length,y=u.getLength(),v=d,w=d;++d<y;)if(h=u.getLine(d),!/^\s*$/.test(h)){if(p=h.match(f),p&&p[1].lastIndexOf(m,0)!==0)break;w=d}if(w>v){var E=u.getLine(w).length;return new s(v,g,w,E)}}}}).call(l.prototype)}),ace.define("ace/mode/toml",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/toml_highlight_rules","ace/mode/folding/ini"],function(n,r,i){var o=n("../lib/oop"),s=n("./text").Mode,a=n("./toml_highlight_rules").TomlHighlightRules,l=n("./folding/ini").FoldMode,u=function(){this.HighlightRules=a,this.foldingRules=new l,this.$behaviour=this.$defaultBehaviour};o.inherits(u,s),(function(){this.lineCommentStart="#",this.$id="ace/mode/toml"}).call(u.prototype),r.Mode=u}),function(){ace.require(["ace/mode/toml"],function(n){e&&(e.exports=n)})}()}(i6)),i6.exports}mat();var o6={exports:{}},Goe;function gat(){return Goe||(Goe=1,function(e,t){ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(n,r,i){var o=n("../lib/oop"),s=n("./text_highlight_rules").TextHighlightRules,a=function(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"text",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"comment",regex:"\\/\\/.*$"},{token:"comment.start",regex:"\\/\\*",next:"comment"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"punctuation.operator",regex:/[,]/},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],comment:[{token:"comment.end",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]}};o.inherits(a,s),r.JsonHighlightRules=a}),ace.define("ace/mode/json5_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/json_highlight_rules"],function(n,r,i){var o=n("../lib/oop"),s=n("./json_highlight_rules").JsonHighlightRules,a=function(){s.call(this);var l=[{token:"variable",regex:/[a-zA-Z$_\u00a1-\uffff][\w$\u00a1-\uffff]*\s*(?=:)/},{token:"variable",regex:/['](?:(?:\\.)|(?:[^'\\]))*?[']\s*(?=:)/},{token:"constant.language.boolean",regex:/(?:null)\b/},{token:"string",regex:/'/,next:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\/bfnrt]|$)/,consumeLineEnd:!0},{token:"string",regex:/'|$/,next:"start"},{defaultToken:"string"}]},{token:"string",regex:/"(?![^"]*":)/,next:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\/bfnrt]|$)/,consumeLineEnd:!0},{token:"string",regex:/"|$/,next:"start"},{defaultToken:"string"}]},{token:"constant.numeric",regex:/[+-]?(?:Infinity|NaN)\b/}];for(var u in this.$rules)this.$rules[u].unshift.apply(this.$rules[u],l);this.normalizeRules()};o.inherits(a,s),r.Json5HighlightRules=a}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(n,r,i){var o=n("../range").Range,s=function(){};(function(){this.checkOutdent=function(a,l){return/^\s+$/.test(a)?/^\s*\}/.test(l):!1},this.autoOutdent=function(a,l){var u=a.getLine(l),c=u.match(/^(\s*\})/);if(!c)return 0;var d=c[1].length,f=a.findMatchingBracket({row:l,column:d});if(!f||f.row==l)return 0;var h=this.$getIndent(a.getLine(f.row));a.replace(new o(l,0,l,d-1),h)},this.$getIndent=function(a){return a.match(/^\s*/)[0]}}).call(s.prototype),r.MatchingBraceOutdent=s}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(n,r,i){var o=n("../../lib/oop"),s=n("../../range").Range,a=n("./fold_mode").FoldMode,l=r.FoldMode=function(u){u&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+u.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+u.end)))};o.inherits(l,a),(function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(u,c,d){var f=u.getLine(d);if(this.singleLineBlockCommentRe.test(f)&&!this.startRegionRe.test(f)&&!this.tripleStarBlockCommentRe.test(f))return"";var h=this._getFoldWidgetBase(u,c,d);return!h&&this.startRegionRe.test(f)?"start":h},this.getFoldWidgetRange=function(u,c,d,f){var h=u.getLine(d);if(this.startRegionRe.test(h))return this.getCommentRegionBlock(u,h,d);var g=h.match(this.foldingStartMarker);if(g){var p=g.index;if(g[1])return this.openingBracketBlock(u,g[1],d,p);var m=u.getCommentFoldRange(d,p+g[0].length,1);return m&&!m.isMultiLine()&&(f?m=this.getSectionRange(u,d):c!="all"&&(m=null)),m}if(c!=="markbegin"){var g=h.match(this.foldingStopMarker);if(g){var p=g.index+g[0].length;return g[1]?this.closingBracketBlock(u,g[1],d,p):u.getCommentFoldRange(d,p,-1)}}},this.getSectionRange=function(u,c){var d=u.getLine(c),f=d.search(/\S/),h=c,p=d.length;c=c+1;for(var m=c,g=u.getLength();++c<g;){d=u.getLine(c);var y=d.search(/\S/);if(y!==-1){if(f>y)break;var v=this.getFoldWidgetRange(u,"all",c);if(v){if(v.start.row<=h)break;if(v.isMultiLine())c=v.end.row;else if(f==y)break}m=c}}return new s(h,p,m,u.getLine(m).length)},this.getCommentRegionBlock=function(u,c,d){for(var f=c.search(/\s*$/),h=u.getLength(),p=d,m=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,g=1;++d<h;){c=u.getLine(d);var y=m.exec(c);if(y&&(y[1]?g--:g++,!g))break}var v=d;if(v>p)return new s(p,f,v,c.length)}}).call(l.prototype)}),ace.define("ace/mode/json5",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/json5_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/folding/cstyle"],function(n,r,i){var o=n("../lib/oop"),s=n("./text").Mode,a=n("./json5_highlight_rules").Json5HighlightRules,l=n("./matching_brace_outdent").MatchingBraceOutdent,u=n("./folding/cstyle").FoldMode,c=function(){this.HighlightRules=a,this.$outdent=new l,this.$behaviour=this.$defaultBehaviour,this.foldingRules=new u};o.inherits(c,s),(function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.checkOutdent=function(d,f,h){return this.$outdent.checkOutdent(f,h)},this.autoOutdent=function(d,f,h){this.$outdent.autoOutdent(f,h)},this.$id="ace/mode/json5"}).call(c.prototype),r.Mode=c}),function(){ace.require(["ace/mode/json5"],function(n){e&&(e.exports=n)})}()}(o6)),o6.exports}gat();var s6={exports:{}},Yoe;function yat(){return Yoe||(Yoe=1,function(e,t){ace.define("ace/snippets",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/editor"],function(n,r,i){var o=n("./lib/dom"),s=n("./lib/oop"),a=n("./lib/event_emitter").EventEmitter,l=n("./lib/lang"),u=n("./range").Range,c=n("./range_list").RangeList,d=n("./keyboard/hash_handler").HashHandler,f=n("./tokenizer").Tokenizer,h=n("./clipboard"),p={CURRENT_WORD:function(x){return x.session.getTextRange(x.session.getWordRange())},SELECTION:function(x,S,C){var A=x.session.getTextRange();return C?A.replace(/\n\r?([ \t]*\S)/g,`
`+C+"$1"):A},CURRENT_LINE:function(x){return x.session.getLine(x.getCursorPosition().row)},PREV_LINE:function(x){return x.session.getLine(x.getCursorPosition().row-1)},LINE_INDEX:function(x){return x.getCursorPosition().row},LINE_NUMBER:function(x){return x.getCursorPosition().row+1},SOFT_TABS:function(x){return x.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(x){return x.session.getTabSize()},CLIPBOARD:function(x){return h.getText&&h.getText()},FILENAME:function(x){return/[^/\\]*$/.exec(this.FILEPATH(x))[0]},FILENAME_BASE:function(x){return/[^/\\]*$/.exec(this.FILEPATH(x))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(x){return this.FILEPATH(x).replace(/[^/\\]*$/,"")},FILEPATH:function(x){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(x){var S=x.session.$mode||{};return S.blockComment&&S.blockComment.start||""},BLOCK_COMMENT_END:function(x){var S=x.session.$mode||{};return S.blockComment&&S.blockComment.end||""},LINE_COMMENT:function(x){var S=x.session.$mode||{};return S.lineCommentStart||""},CURRENT_YEAR:m.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:m.bind(null,{year:"2-digit"}),CURRENT_MONTH:m.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:m.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:m.bind(null,{month:"short"}),CURRENT_DATE:m.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:m.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:m.bind(null,{weekday:"short"}),CURRENT_HOUR:m.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:m.bind(null,{minute:"2-digit"}),CURRENT_SECOND:m.bind(null,{second:"2-digit"})};p.SELECTED_TEXT=p.SELECTION;function m(x){var S=new Date().toLocaleString("en-us",x);return S.length==1?"0"+S:S}var g=function(){function x(){this.snippetMap={},this.snippetNameMap={},this.variables=p}return x.prototype.getTokenizer=function(){return x.$tokenizer||this.createTokenizer()},x.prototype.createTokenizer=function(){function S(k){return k=k.substr(1),/^\d+$/.test(k)?[{tabstopId:parseInt(k,10)}]:[{text:k}]}function C(k){return"(?:[^\\\\"+k+"]|\\\\.)"}var A={regex:"/("+C("/")+"+)/",onMatch:function(k,N,M){var I=M[0];return I.fmtString=!0,I.guard=k.slice(1,-1),I.flag="",""},next:"formatString"};return x.$tokenizer=new f({start:[{regex:/\\./,onMatch:function(k,N,M){var I=k[1];return(I=="}"&&M.length||"`$\\".indexOf(I)!=-1)&&(k=I),[k]}},{regex:/}/,onMatch:function(k,N,M){return[M.length?M.shift():k]}},{regex:/\$(?:\d+|\w+)/,onMatch:S},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(k,N,M){var I=S(k.substr(1));return M.unshift(I[0]),I},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+C("\\|")+"*\\|",onMatch:function(k,N,M){var I=k.slice(1,-1).replace(/\\[,|\\]|,/g,function(D){return D.length==2?D[1]:"\0"}).split("\0").map(function(D){return{value:D}});return M[0].choices=I,[I[0]]},next:"start"},A,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(k,N,M){return M.length&&M[0].expectElse?(M[0].expectElse=!1,M[0].ifEnd={elseEnd:M[0]},[M[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(k,N,M){var I=k[1];return I=="}"&&M.length||"`$\\".indexOf(I)!=-1?k=I:I=="n"?k=`
`:I=="t"?k="	":"ulULE".indexOf(I)!=-1&&(k={changeCase:I,local:I>"a"}),[k]}},{regex:"/\\w*}",onMatch:function(k,N,M){var I=M.shift();return I&&(I.flag=k.slice(1,-1)),this.next=I&&I.tabstopId?"start":"",[I||k]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(k,N,M){return[{text:k.slice(1)}]}},{regex:/\${\w+/,onMatch:function(k,N,M){var I={text:k.slice(2)};return M.unshift(I),[I]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(k,N,M){var I=M.shift();return this.next=I&&I.tabstopId?"start":"",[I||k]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(k,N,M){var I=M[0];return I.formatFunction=k.slice(2,-1),[M.shift()]},next:"formatString"},A,{regex:/:[\?\-+]?/,onMatch:function(k,N,M){k[1]=="+"&&(M[0].ifEnd=M[0]),k[1]=="?"&&(M[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]}),x.$tokenizer},x.prototype.tokenizeTmSnippet=function(S,C){return this.getTokenizer().getLineTokens(S,C).tokens.map(function(A){return A.value||A})},x.prototype.getVariableValue=function(S,C,A){if(/^\d+$/.test(C))return(this.variables.__||{})[C]||"";if(/^[A-Z]\d+$/.test(C))return(this.variables[C[0]+"__"]||{})[C.substr(1)]||"";if(C=C.replace(/^TM_/,""),!this.variables.hasOwnProperty(C))return"";var k=this.variables[C];return typeof k=="function"&&(k=this.variables[C](S,C,A)),k??""},x.prototype.tmStrFormat=function(S,C,A){if(!C.fmt)return S;var k=C.flag||"",N=C.guard;N=new RegExp(N,k.replace(/[^gim]/g,""));var M=typeof C.fmt=="string"?this.tokenizeTmSnippet(C.fmt,"formatString"):C.fmt,I=this,D=S.replace(N,function(){var R=I.variables.__;I.variables.__=[].slice.call(arguments);for(var O=I.resolveVariables(M,A),B="E",z=0;z<O.length;z++){var W=O[z];if(typeof W=="object")if(O[z]="",W.changeCase&&W.local){var U=O[z+1];U&&typeof U=="string"&&(W.changeCase=="u"?O[z]=U[0].toUpperCase():O[z]=U[0].toLowerCase(),O[z+1]=U.substr(1))}else W.changeCase&&(B=W.changeCase);else B=="U"?O[z]=W.toUpperCase():B=="L"&&(O[z]=W.toLowerCase())}return I.variables.__=R,O.join("")});return D},x.prototype.tmFormatFunction=function(S,C,A){return C.formatFunction=="upcase"?S.toUpperCase():C.formatFunction=="downcase"?S.toLowerCase():S},x.prototype.resolveVariables=function(S,C){for(var A=[],k="",N=!0,M=0;M<S.length;M++){var I=S[M];if(typeof I=="string"){A.push(I),I==`
`?(N=!0,k=""):N&&(k=/^\t*/.exec(I)[0],N=/\S/.test(I));continue}if(I){if(N=!1,I.fmtString){var D=S.indexOf(I,M+1);D==-1&&(D=S.length),I.fmt=S.slice(M+1,D),M=D}if(I.text){var R=this.getVariableValue(C,I.text,k)+"";I.fmtString&&(R=this.tmStrFormat(R,I,C)),I.formatFunction&&(R=this.tmFormatFunction(R,I,C)),R&&!I.ifEnd?(A.push(R),O(I)):!R&&I.ifEnd&&O(I.ifEnd)}else I.elseEnd?O(I.elseEnd):(I.tabstopId!=null||I.changeCase!=null)&&A.push(I)}}function O(B){var z=S.indexOf(B,M+1);z!=-1&&(M=z)}return A},x.prototype.getDisplayTextForSnippet=function(S,C){var A=y.call(this,S,C);return A.text},x.prototype.insertSnippetForSelection=function(S,C,A){A===void 0&&(A={});var k=y.call(this,S,C,A),N=S.getSelectionRange(),M=S.session.replace(N,k.text),I=new v(S),D=S.inVirtualSelectionMode&&S.selection.index;I.addTabstops(k.tabstops,N.start,M,D)},x.prototype.insertSnippet=function(S,C,A){A===void 0&&(A={});var k=this;if(S.inVirtualSelectionMode)return k.insertSnippetForSelection(S,C,A);S.forEachSelection(function(){k.insertSnippetForSelection(S,C,A)},null,{keepOrder:!0}),S.tabstopManager&&S.tabstopManager.tabNext()},x.prototype.$getScope=function(S){var C=S.session.$mode.$id||"";if(C=C.split("/").pop(),C==="html"||C==="php"){C==="php"&&!S.session.$mode.inlinePhp&&(C="html");var A=S.getCursorPosition(),k=S.session.getState(A.row);typeof k=="object"&&(k=k[0]),k.substring&&(k.substring(0,3)=="js-"?C="javascript":k.substring(0,4)=="css-"?C="css":k.substring(0,4)=="php-"&&(C="php"))}return C},x.prototype.getActiveScopes=function(S){var C=this.$getScope(S),A=[C],k=this.snippetMap;return k[C]&&k[C].includeScopes&&A.push.apply(A,k[C].includeScopes),A.push("_"),A},x.prototype.expandWithTab=function(S,C){var A=this,k=S.forEachSelection(function(){return A.expandSnippetForSelection(S,C)},null,{keepOrder:!0});return k&&S.tabstopManager&&S.tabstopManager.tabNext(),k},x.prototype.expandSnippetForSelection=function(S,C){var A=S.getCursorPosition(),k=S.session.getLine(A.row),N=k.substring(0,A.column),M=k.substr(A.column),I=this.snippetMap,D;return this.getActiveScopes(S).some(function(R){var O=I[R];return O&&(D=this.findMatchingSnippet(O,N,M)),!!D},this),D?(C&&C.dryRun||(S.session.doc.removeInLine(A.row,A.column-D.replaceBefore.length,A.column+D.replaceAfter.length),this.variables.M__=D.matchBefore,this.variables.T__=D.matchAfter,this.insertSnippetForSelection(S,D.content),this.variables.M__=this.variables.T__=null),!0):!1},x.prototype.findMatchingSnippet=function(S,C,A){for(var k=S.length;k--;){var N=S[k];if(!(N.startRe&&!N.startRe.test(C))&&!(N.endRe&&!N.endRe.test(A))&&!(!N.startRe&&!N.endRe))return N.matchBefore=N.startRe?N.startRe.exec(C):[""],N.matchAfter=N.endRe?N.endRe.exec(A):[""],N.replaceBefore=N.triggerRe?N.triggerRe.exec(C)[0]:"",N.replaceAfter=N.endTriggerRe?N.endTriggerRe.exec(A)[0]:"",N}},x.prototype.register=function(S,C){var A=this.snippetMap,k=this.snippetNameMap,N=this;S||(S=[]);function M(R){return R&&!/^\^?\(.*\)\$?$|^\\b$/.test(R)&&(R="(?:"+R+")"),R||""}function I(R,O,B){return R=M(R),O=M(O),R=O+R,R&&R[R.length-1]!="$"&&(R=R+"$"),new RegExp(R)}function D(R){R.scope||(R.scope=C||"_"),C=R.scope,A[C]||(A[C]=[],k[C]={});var O=k[C];if(R.name){var B=O[R.name];B&&N.unregister(B),O[R.name]=R}A[C].push(R),R.prefix&&(R.tabTrigger=R.prefix),!R.content&&R.body&&(R.content=Array.isArray(R.body)?R.body.join(`
`):R.body),R.tabTrigger&&!R.trigger&&(!R.guard&&/^\w/.test(R.tabTrigger)&&(R.guard="\\b"),R.trigger=l.escapeRegExp(R.tabTrigger)),!(!R.trigger&&!R.guard&&!R.endTrigger&&!R.endGuard)&&(R.startRe=I(R.trigger,R.guard),R.triggerRe=new RegExp(R.trigger),R.endRe=I(R.endTrigger,R.endGuard),R.endTriggerRe=new RegExp(R.endTrigger))}Array.isArray(S)?S.forEach(D):Object.keys(S).forEach(function(R){D(S[R])}),this._signal("registerSnippets",{scope:C})},x.prototype.unregister=function(S,C){var A=this.snippetMap,k=this.snippetNameMap;function N(M){var I=k[M.scope||C];if(I&&I[M.name]){delete I[M.name];var D=A[M.scope||C],R=D&&D.indexOf(M);R>=0&&D.splice(R,1)}}S.content?N(S):Array.isArray(S)&&S.forEach(N)},x.prototype.parseSnippetFile=function(S){S=S.replace(/\r/g,"");for(var C=[],A={},k=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm,N;N=k.exec(S);){if(N[1])try{A=JSON.parse(N[1]),C.push(A)}catch{}if(N[4])A.content=N[4].replace(/^\t/gm,""),C.push(A),A={};else{var M=N[2],I=N[3];if(M=="regex"){var D=/\/((?:[^\/\\]|\\.)*)|$/g;A.guard=D.exec(I)[1],A.trigger=D.exec(I)[1],A.endTrigger=D.exec(I)[1],A.endGuard=D.exec(I)[1]}else M=="snippet"?(A.tabTrigger=I.match(/^\S*/)[0],A.name||(A.name=I)):M&&(A[M]=I)}}return C},x.prototype.getSnippetByName=function(S,C){var A=this.snippetNameMap,k;return this.getActiveScopes(C).some(function(N){var M=A[N];return M&&(k=M[S]),!!k},this),k},x}();s.implement(g.prototype,a);var y=function(x,S,C){C===void 0&&(C={});var A=x.getCursorPosition(),k=x.session.getLine(A.row),N=x.session.getTabString(),M=k.match(/^\s*/)[0];A.column<M.length&&(M=M.slice(0,A.column)),S=S.replace(/\r/g,"");var I=this.tokenizeTmSnippet(S);I=this.resolveVariables(I,x),I=I.map(function(Z){return Z==`
`&&!C.excludeExtraIndent?Z+M:typeof Z=="string"?Z.replace(/\t/g,N):Z});var D=[];I.forEach(function(Z,oe){if(typeof Z=="object"){var ne=Z.tabstopId,ie=D[ne];if(ie||(ie=D[ne]=[],ie.index=ne,ie.value="",ie.parents={}),ie.indexOf(Z)===-1){Z.choices&&!ie.choices&&(ie.choices=Z.choices),ie.push(Z);var fe=I.indexOf(Z,oe+1);if(fe!==-1){var se=I.slice(oe+1,fe),ae=se.some(function(Se){return typeof Se=="object"});ae&&!ie.value?ie.value=se:se.length&&(!ie.value||typeof ie.value!="string")&&(ie.value=se.join(""))}}}}),D.forEach(function(Z){Z.length=0});var R={};function O(Z){for(var oe=[],ne=0;ne<Z.length;ne++){var ie=Z[ne];if(typeof ie=="object"){if(R[ie.tabstopId])continue;var fe=Z.lastIndexOf(ie,ne-1);ie=oe[fe]||{tabstopId:ie.tabstopId}}oe[ne]=ie}return oe}for(var B=0;B<I.length;B++){var z=I[B];if(typeof z=="object"){var W=z.tabstopId,U=D[W],F=I.indexOf(z,B+1);if(R[W]){R[W]===z&&(delete R[W],Object.keys(R).forEach(function(Z){U.parents[Z]=!0}));continue}R[W]=z;var Y=U.value;typeof Y!="string"?Y=O(Y):z.fmt&&(Y=this.tmStrFormat(Y,z,x)),I.splice.apply(I,[B+1,Math.max(0,F-B)].concat(Y,z)),U.indexOf(z)===-1&&U.push(z)}}var V=0,G=0,X="";return I.forEach(function(Z){if(typeof Z=="string"){var oe=Z.split(`
`);oe.length>1?(G=oe[oe.length-1].length,V+=oe.length-1):G+=Z.length,X+=Z}else Z&&(Z.start?Z.end={row:V,column:G}:Z.start={row:V,column:G})}),{text:X,tabstops:D,tokens:I}},v=function(){function x(S){if(this.index=0,this.ranges=[],this.tabstops=[],S.tabstopManager)return S.tabstopManager;S.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=l.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(S)}return x.prototype.attach=function(S){this.$openTabstops=null,this.selectedTabstop=null,this.editor=S,this.session=S.session,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},x.prototype.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges.length=0,this.tabstops.length=0,this.selectedTabstop=null,this.editor.off("change",this.$onChange),this.editor.off("changeSelection",this.$onChangeSelection),this.editor.off("changeSession",this.$onChangeSession),this.editor.commands.off("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.session=null,this.editor=null},x.prototype.onChange=function(S){for(var C=S.action[0]=="r",A=this.selectedTabstop||{},k=A.parents||{},N=this.tabstops.slice(),M=0;M<N.length;M++){var I=N[M],D=I==A||k[I.index];if(I.rangeList.$bias=D?0:1,S.action=="remove"&&I!==A){var R=I.parents&&I.parents[A.index],O=I.rangeList.pointIndex(S.start,R);O=O<0?-O-1:O+1;var B=I.rangeList.pointIndex(S.end,R);B=B<0?-B-1:B-1;for(var z=I.rangeList.ranges.slice(O,B),W=0;W<z.length;W++)this.removeRange(z[W])}I.rangeList.$onChange(S)}var U=this.session;!this.$inChange&&C&&U.getLength()==1&&!U.getValue()&&this.detach()},x.prototype.updateLinkedFields=function(){var S=this.selectedTabstop;if(!(!S||!S.hasLinkedRanges||!S.firstNonLinked)){this.$inChange=!0;for(var C=this.session,A=C.getTextRange(S.firstNonLinked),k=0;k<S.length;k++){var N=S[k];if(N.linked){var M=N.original,I=r.snippetManager.tmStrFormat(A,M,this.editor);C.replace(N,I)}}this.$inChange=!1}},x.prototype.onAfterExec=function(S){S.command&&!S.command.readOnly&&this.updateLinkedFields()},x.prototype.onChangeSelection=function(){if(this.editor){for(var S=this.editor.selection.lead,C=this.editor.selection.anchor,A=this.editor.selection.isEmpty(),k=0;k<this.ranges.length;k++)if(!this.ranges[k].linked){var N=this.ranges[k].contains(S.row,S.column),M=A||this.ranges[k].contains(C.row,C.column);if(N&&M)return}this.detach()}},x.prototype.onChangeSession=function(){this.detach()},x.prototype.tabNext=function(S){var C=this.tabstops.length,A=this.index+(S||1);A=Math.min(Math.max(A,1),C),A==C&&(A=0),this.selectTabstop(A),this.updateTabstopMarkers(),A===0&&this.detach()},x.prototype.selectTabstop=function(S){this.$openTabstops=null;var C=this.tabstops[this.index];if(C&&this.addTabstopMarkers(C),this.index=S,C=this.tabstops[this.index],!(!C||!C.length)){this.selectedTabstop=C;var A=C.firstNonLinked||C;if(C.choices&&(A.cursor=A.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(A);else{var k=this.editor.multiSelect;k.toSingleRange(A);for(var N=0;N<C.length;N++)C.hasLinkedRanges&&C[N].linked||k.addRange(C[N].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},x.prototype.addTabstops=function(S,C,A){var k=this.useLink||!this.editor.getOption("enableMultiselect");if(this.$openTabstops||(this.$openTabstops=[]),!S[0]){var N=u.fromPoints(A,A);E(N.start,C),E(N.end,C),S[0]=[N],S[0].index=0}var M=this.index,I=[M+1,0],D=this.ranges,R=this.snippetId=(this.snippetId||0)+1;S.forEach(function(O,B){var z=this.$openTabstops[B]||O;z.snippetId=R;for(var W=0;W<O.length;W++){var U=O[W],F=u.fromPoints(U.start,U.end||U.start);w(F.start,C),w(F.end,C),F.original=U,F.tabstop=z,D.push(F),z!=O?z.unshift(F):z[W]=F,U.fmtString||z.firstNonLinked&&k?(F.linked=!0,z.hasLinkedRanges=!0):z.firstNonLinked||(z.firstNonLinked=F)}z.firstNonLinked||(z.hasLinkedRanges=!1),z===O&&(I.push(z),this.$openTabstops[B]=z),this.addTabstopMarkers(z),z.rangeList=z.rangeList||new c,z.rangeList.$bias=0,z.rangeList.addList(z)},this),I.length>2&&(this.tabstops.length&&I.push(I.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,I))},x.prototype.addTabstopMarkers=function(S){var C=this.session;S.forEach(function(A){A.markerId||(A.markerId=C.addMarker(A,"ace_snippet-marker","text"))})},x.prototype.removeTabstopMarkers=function(S){var C=this.session;S.forEach(function(A){C.removeMarker(A.markerId),A.markerId=null})},x.prototype.updateTabstopMarkers=function(){if(this.selectedTabstop){var S=this.selectedTabstop.snippetId;this.selectedTabstop.index===0&&S--,this.tabstops.forEach(function(C){C.snippetId===S?this.addTabstopMarkers(C):this.removeTabstopMarkers(C)},this)}},x.prototype.removeRange=function(S){var C=S.tabstop.indexOf(S);C!=-1&&S.tabstop.splice(C,1),C=this.ranges.indexOf(S),C!=-1&&this.ranges.splice(C,1),C=S.tabstop.rangeList.ranges.indexOf(S),C!=-1&&S.tabstop.splice(C,1),this.session.removeMarker(S.markerId),S.tabstop.length||(C=this.tabstops.indexOf(S.tabstop),C!=-1&&this.tabstops.splice(C,1),this.tabstops.length||this.detach())},x}();v.prototype.keyboardHandler=new d,v.prototype.keyboardHandler.bindKeys({Tab:function(x){r.snippetManager&&r.snippetManager.expandWithTab(x)||(x.tabstopManager.tabNext(1),x.renderer.scrollCursorIntoView())},"Shift-Tab":function(x){x.tabstopManager.tabNext(-1),x.renderer.scrollCursorIntoView()},Esc:function(x){x.tabstopManager.detach()}});var w=function(x,S){x.row==0&&(x.column+=S.column),x.row+=S.row},E=function(x,S){x.row==S.row&&(x.column-=S.column),x.row-=S.row};o.importCssString(`
.ace_snippet-marker {
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    background: rgba(194, 193, 208, 0.09);
    border: 1px dotted rgba(211, 208, 235, 0.62);
    position: absolute;
}`,"snippets.css",!1),r.snippetManager=new g;var _=n("./editor").Editor;(function(){this.insertSnippet=function(x,S){return r.snippetManager.insertSnippet(this,x,S)},this.expandSnippet=function(x){return r.snippetManager.expandWithTab(this,x)}}).call(_.prototype)}),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/config","ace/lib/useragent"],function(n,r,i){var o=n("../virtual_renderer").VirtualRenderer,s=n("../editor").Editor,a=n("../range").Range,l=n("../lib/event"),u=n("../lib/lang"),c=n("../lib/dom"),d=n("../config").nls,f=n("./../lib/useragent"),h=function(w){return"suggest-aria-id:".concat(w)},p=f.isSafari?"menu":"listbox",m=f.isSafari?"menuitem":"option",g=f.isSafari?"aria-current":"aria-selected",y=function(w){var E=new o(w);E.$maxLines=4;var _=new s(E);return _.setHighlightActiveLine(!1),_.setShowPrintMargin(!1),_.renderer.setShowGutter(!1),_.renderer.setHighlightGutterLine(!1),_.$mouseHandler.$focusTimeout=0,_.$highlightTagPending=!0,_},v=function(){function w(E){var _=c.createElement("div"),x=y(_);E&&E.appendChild(_),_.style.display="none",x.renderer.content.style.cursor="default",x.renderer.setStyle("ace_autocomplete"),x.renderer.$textLayer.element.setAttribute("role",p),x.renderer.$textLayer.element.setAttribute("aria-roledescription",d("autocomplete.popup.aria-roledescription","Autocomplete suggestions")),x.renderer.$textLayer.element.setAttribute("aria-label",d("autocomplete.popup.aria-label","Autocomplete suggestions")),x.renderer.textarea.setAttribute("aria-hidden","true"),x.setOption("displayIndentGuides",!1),x.setOption("dragDelay",150);var S=function(){};x.focus=S,x.$isFocused=!0,x.renderer.$cursorLayer.restartTimer=S,x.renderer.$cursorLayer.element.style.opacity="0",x.renderer.$maxLines=8,x.renderer.$keepTextAreaAtCursor=!1,x.setHighlightActiveLine(!1),x.session.highlight(""),x.session.$searchHighlight.clazz="ace_highlight-marker",x.on("mousedown",function(D){var R=D.getDocumentPosition();x.selection.moveToPosition(R),k.start.row=k.end.row=R.row,D.stop()});var C,A=new a(-1,0,-1,1/0),k=new a(-1,0,-1,1/0);k.id=x.session.addMarker(k,"ace_active-line","fullLine"),x.setSelectOnHover=function(D){D?A.id&&(x.session.removeMarker(A.id),A.id=null):A.id=x.session.addMarker(A,"ace_line-hover","fullLine")},x.setSelectOnHover(!1),x.on("mousemove",function(D){if(!C){C=D;return}if(!(C.x==D.x&&C.y==D.y)){C=D,C.scrollTop=x.renderer.scrollTop,x.isMouseOver=!0;var R=C.getDocumentPosition().row;A.start.row!=R&&(A.id||x.setRow(R),M(R))}}),x.renderer.on("beforeRender",function(){if(C&&A.start.row!=-1){C.$pos=null;var D=C.getDocumentPosition().row;A.id||x.setRow(D),M(D,!0)}}),x.renderer.on("afterRender",function(){for(var D=x.renderer.$textLayer,R=D.config.firstRow,O=D.config.lastRow;R<=O;R++){var B=D.element.childNodes[R-D.config.firstRow];B.setAttribute("role",m),B.setAttribute("aria-roledescription",d("autocomplete.popup.item.aria-roledescription","item")),B.setAttribute("aria-setsize",x.data.length),B.setAttribute("aria-describedby","doc-tooltip"),B.setAttribute("aria-posinset",R+1);var z=x.getData(R);if(z){var W="".concat(z.caption||z.value).concat(z.meta?", ".concat(z.meta):"");B.setAttribute("aria-label",W)}var U=B.querySelectorAll(".ace_completion-highlight");U.forEach(function(F){F.setAttribute("role","mark")})}}),x.renderer.on("afterRender",function(){var D=x.getRow(),R=x.renderer.$textLayer,O=R.element.childNodes[D-R.config.firstRow],B=document.activeElement;if(O!==x.selectedNode&&x.selectedNode&&(c.removeCssClass(x.selectedNode,"ace_selected"),x.selectedNode.removeAttribute(g),x.selectedNode.removeAttribute("id")),B.removeAttribute("aria-activedescendant"),x.selectedNode=O,O){var z=h(D);c.addCssClass(O,"ace_selected"),O.id=z,R.element.setAttribute("aria-activedescendant",z),B.setAttribute("aria-activedescendant",z),O.setAttribute(g,"true")}});var N=function(){M(-1)},M=function(D,R){D!==A.start.row&&(A.start.row=A.end.row=D,R||x.session._emit("changeBackMarker"),x._emit("changeHoverMarker"))};x.getHoveredRow=function(){return A.start.row},l.addListener(x.container,"mouseout",function(){x.isMouseOver=!1,N()}),x.on("hide",N),x.on("changeSelection",N),x.session.doc.getLength=function(){return x.data.length},x.session.doc.getLine=function(D){var R=x.data[D];return typeof R=="string"?R:R&&R.value||""};var I=x.session.bgTokenizer;return I.$tokenizeRow=function(D){var R=x.data[D],O=[];if(!R)return O;typeof R=="string"&&(R={value:R});var B=R.caption||R.value||R.name;function z(Z,oe){Z&&O.push({type:(R.className||"")+(oe||""),value:Z})}for(var W=B.toLowerCase(),U=(x.filterText||"").toLowerCase(),F=0,Y=0,V=0;V<=U.length;V++)if(V!=Y&&(R.matchMask&1<<V||V==U.length)){var G=U.slice(Y,V);Y=V;var X=W.indexOf(G,F);if(X==-1)continue;z(B.slice(F,X),""),F=X+G.length,z(B.slice(X,F),"completion-highlight")}return z(B.slice(F,B.length),""),O.push({type:"completion-spacer",value:" "}),R.meta&&O.push({type:"completion-meta",value:R.meta}),R.message&&O.push({type:"completion-message",value:R.message}),O},I.$updateOnChange=S,I.start=S,x.session.$computeWidth=function(){return this.screenWidth=0},x.isOpen=!1,x.isTopdown=!1,x.autoSelect=!0,x.filterText="",x.isMouseOver=!1,x.data=[],x.setData=function(D,R){x.filterText=R||"",x.setValue(u.stringRepeat(`
`,D.length),-1),x.data=D||[],x.setRow(0)},x.getData=function(D){return x.data[D]},x.getRow=function(){return k.start.row},x.setRow=function(D){D=Math.max(this.autoSelect?0:-1,Math.min(this.data.length-1,D)),k.start.row!=D&&(x.selection.clearSelection(),k.start.row=k.end.row=D||0,x.session._emit("changeBackMarker"),x.moveCursorTo(D||0,0),x.isOpen&&x._signal("select"))},x.on("changeSelection",function(){x.isOpen&&x.setRow(x.selection.lead.row),x.renderer.scrollCursorIntoView()}),x.hide=function(){this.container.style.display="none",x.anchorPos=null,x.anchor=null,x.isOpen&&(x.isOpen=!1,this._signal("hide"))},x.tryShow=function(D,R,O,B){if(!B&&x.isOpen&&x.anchorPos&&x.anchor&&x.anchorPos.top===D.top&&x.anchorPos.left===D.left&&x.anchor===O)return!0;var z=this.container,W=this.renderer.scrollBar.width||10,U=window.innerHeight-W,F=window.innerWidth-W,Y=this.renderer,V=Y.$maxLines*R*1.4,G={top:0,bottom:0},X=U-D.top-3*this.$borderSize-R,Z=D.top-3*this.$borderSize;O||(Z<=X||X>=V?O="bottom":O="top"),O==="top"?(G.bottom=D.top-this.$borderSize,G.top=G.bottom-V):O==="bottom"&&(G.top=D.top+R+this.$borderSize,G.bottom=G.top+V);var oe=G.top>=0&&G.bottom<=U;if(!B&&!oe)return!1;oe?Y.$maxPixelHeight=null:O==="top"?Y.$maxPixelHeight=Z:Y.$maxPixelHeight=X,O==="top"?(z.style.top="",z.style.bottom=U+W-G.bottom+"px",x.isTopdown=!1):(z.style.top=G.top+"px",z.style.bottom="",x.isTopdown=!0),z.style.display="";var ne=D.left;return ne+z.offsetWidth>F&&(ne=F-z.offsetWidth),z.style.left=ne+"px",z.style.right="",x.isOpen||(x.isOpen=!0,this._signal("show"),C=null),x.anchorPos=D,x.anchor=O,!0},x.show=function(D,R,O){this.tryShow(D,R,O?"bottom":void 0,!0)},x.goTo=function(D){var R=this.getRow(),O=this.session.getLength()-1;switch(D){case"up":R=R<=0?O:R-1;break;case"down":R=R>=O?-1:R+1;break;case"start":R=0;break;case"end":R=O;break}this.setRow(R)},x.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},x.$imageSize=0,x.$borderSize=1,x}return w}();c.importCssString(`
.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #CAD6FA;
    z-index: 1;
}
.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #3a674e;
}
.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid #abbffe;
    margin-top: -1px;
    background: rgba(233,233,253,0.4);
    position: absolute;
    z-index: 2;
}
.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid rgba(109, 150, 13, 0.8);
    background: rgba(58, 103, 78, 0.62);
}
.ace_completion-meta {
    opacity: 0.5;
    margin-left: 0.9em;
}
.ace_completion-message {
    margin-left: 0.9em;
    color: blue;
}
.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #2d69c7;
}
.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #93ca12;
}
.ace_editor.ace_autocomplete {
    width: 300px;
    z-index: 200000;
    border: 1px lightgray solid;
    position: fixed;
    box-shadow: 2px 3px 5px rgba(0,0,0,.2);
    line-height: 1.4;
    background: #fefefe;
    color: #111;
}
.ace_dark.ace_editor.ace_autocomplete {
    border: 1px #484747 solid;
    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);
    line-height: 1.4;
    background: #25282c;
    color: #c1c1c1;
}
.ace_autocomplete .ace_text-layer  {
    width: calc(100% - 8px);
}
.ace_autocomplete .ace_line {
    display: flex;
    align-items: center;
}
.ace_autocomplete .ace_line > * {
    min-width: 0;
    flex: 0 0 auto;
}
.ace_autocomplete .ace_line .ace_ {
    flex: 0 1 auto;
    overflow: hidden;
    text-overflow: ellipsis;
}
.ace_autocomplete .ace_completion-spacer {
    flex: 1;
}
.ace_autocomplete.ace_loading:after  {
    content: "";
    position: absolute;
    top: 0px;
    height: 2px;
    width: 8%;
    background: blue;
    z-index: 100;
    animation: ace_progress 3s infinite linear;
    animation-delay: 300ms;
    transform: translateX(-100%) scaleX(1);
}
@keyframes ace_progress {
    0% { transform: translateX(-100%) scaleX(1) }
    50% { transform: translateX(625%) scaleX(2) } 
    100% { transform: translateX(1500%) scaleX(3) } 
}
@media (prefers-reduced-motion) {
    .ace_autocomplete.ace_loading:after {
        transform: translateX(625%) scaleX(2);
        animation: none;
     }
}
`,"autocompletion.css",!1),r.AcePopup=v,r.$singleLineEditor=y,r.getAriaId=h}),ace.define("ace/autocomplete/inline_screenreader",["require","exports","module"],function(n,r,i){var o=function(){function s(a){this.editor=a,this.screenReaderDiv=document.createElement("div"),this.screenReaderDiv.classList.add("ace_screenreader-only"),this.editor.container.appendChild(this.screenReaderDiv)}return s.prototype.setScreenReaderContent=function(a){for(!this.popup&&this.editor.completer&&this.editor.completer.popup&&(this.popup=this.editor.completer.popup,this.popup.renderer.on("afterRender",(function(){var u=this.popup.getRow(),c=this.popup.renderer.$textLayer,d=c.element.childNodes[u-c.config.firstRow];if(d){for(var f="doc-tooltip ",h=0;h<this._lines.length;h++)f+="ace-inline-screenreader-line-".concat(h," ");d.setAttribute("aria-describedby",f)}}).bind(this)));this.screenReaderDiv.firstChild;)this.screenReaderDiv.removeChild(this.screenReaderDiv.firstChild);this._lines=a.split(/\r\n|\r|\n/);var l=this.createCodeBlock();this.screenReaderDiv.appendChild(l)},s.prototype.destroy=function(){this.screenReaderDiv.remove()},s.prototype.createCodeBlock=function(){var a=document.createElement("pre");a.setAttribute("id","ace-inline-screenreader");for(var l=0;l<this._lines.length;l++){var u=document.createElement("code");u.setAttribute("id","ace-inline-screenreader-line-".concat(l));var c=document.createTextNode(this._lines[l]);u.appendChild(c),a.appendChild(u)}return a},s}();r.AceInlineScreenReader=o}),ace.define("ace/autocomplete/inline",["require","exports","module","ace/snippets","ace/autocomplete/inline_screenreader"],function(n,r,i){var o=n("../snippets").snippetManager,s=n("./inline_screenreader").AceInlineScreenReader,a=function(){function l(){this.editor=null}return l.prototype.show=function(u,c,d){if(d=d||"",u&&this.editor&&this.editor!==u&&(this.hide(),this.editor=null,this.inlineScreenReader=null),!u||!c)return!1;this.inlineScreenReader||(this.inlineScreenReader=new s(u));var f=c.snippet?o.getDisplayTextForSnippet(u,c.snippet):c.value;return c.hideInlinePreview||!f||!f.startsWith(d)?!1:(this.editor=u,this.inlineScreenReader.setScreenReaderContent(f),f=f.slice(d.length),f===""?u.removeGhostText():u.setGhostText(f),!0)},l.prototype.isOpen=function(){return this.editor?!!this.editor.renderer.$ghostText:!1},l.prototype.hide=function(){return this.editor?(this.editor.removeGhostText(),!0):!1},l.prototype.destroy=function(){this.hide(),this.editor=null,this.inlineScreenReader&&(this.inlineScreenReader.destroy(),this.inlineScreenReader=null)},l}();r.AceInline=a}),ace.define("ace/autocomplete/util",["require","exports","module"],function(n,r,i){r.parForEach=function(s,a,l){var u=0,c=s.length;c===0&&l();for(var d=0;d<c;d++)a(s[d],function(f,h){u++,u===c&&l(f,h)})};var o=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;r.retrievePrecedingIdentifier=function(s,a,l){l=l||o;for(var u=[],c=a-1;c>=0&&l.test(s[c]);c--)u.push(s[c]);return u.reverse().join("")},r.retrieveFollowingIdentifier=function(s,a,l){l=l||o;for(var u=[],c=a;c<s.length&&l.test(s[c]);c++)u.push(s[c]);return u},r.getCompletionPrefix=function(s){var a=s.getCursorPosition(),l=s.session.getLine(a.row),u;return s.completers.forEach((function(c){c.identifierRegexps&&c.identifierRegexps.forEach((function(d){!u&&d&&(u=this.retrievePrecedingIdentifier(l,a.column,d))}).bind(this))}).bind(this)),u||this.retrievePrecedingIdentifier(l,a.column)},r.triggerAutocomplete=function(s,l){var l=l??s.session.getPrecedingCharacter();return s.completers.some(function(u){if(u.triggerCharacters&&Array.isArray(u.triggerCharacters))return u.triggerCharacters.includes(l)})}}),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/inline","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config","ace/lib/event","ace/lib/scroll"],function(n,r,i){var o=n("./keyboard/hash_handler").HashHandler,s=n("./autocomplete/popup").AcePopup,a=n("./autocomplete/inline").AceInline,l=n("./autocomplete/popup").getAriaId,u=n("./autocomplete/util"),c=n("./lib/lang"),d=n("./lib/dom"),f=n("./snippets").snippetManager,h=n("./config"),p=n("./lib/event"),m=n("./lib/scroll").preventParentScroll,g=function(E,_){_.completer&&_.completer.destroy()},y=function(){function E(){this.autoInsert=!1,this.autoSelect=!0,this.autoShown=!1,this.exactMatch=!1,this.inlineEnabled=!1,this.keyboardHandler=new o,this.keyboardHandler.bindKeys(this.commands),this.parentNode=null,this.setSelectOnHover=!1,this.hasSeen=new Set,this.showLoadingState=!1,this.stickySelectionDelay=500,this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.onLayoutChange=this.onLayoutChange.bind(this),this.changeTimer=c.delayedCall((function(){this.updateCompletions(!0)}).bind(this)),this.tooltipTimer=c.delayedCall(this.updateDocTooltip.bind(this),50),this.popupTimer=c.delayedCall(this.$updatePopupPosition.bind(this),50),this.stickySelectionTimer=c.delayedCall((function(){this.stickySelection=!0}).bind(this),this.stickySelectionDelay),this.$firstOpenTimer=c.delayedCall((function(){var _=this.completionProvider&&this.completionProvider.initialPosition;this.autoShown||this.popup&&this.popup.isOpen||!_||this.editor.completers.length===0||(this.completions=new w(E.completionsForLoading),this.openPopup(this.editor,_.prefix,!1),this.popup.renderer.setStyle("ace_loading",!0))}).bind(this),this.stickySelectionDelay)}return Object.defineProperty(E,"completionsForLoading",{get:function(){return[{caption:h.nls("autocomplete.loading","Loading..."),value:""}]},enumerable:!1,configurable:!0}),E.prototype.$init=function(){return this.popup=new s(this.parentNode||document.body||document.documentElement),this.popup.on("click",(function(_){this.insertMatch(),_.stop()}).bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.$onPopupShow.bind(this)),this.popup.on("hide",this.$onHidePopup.bind(this)),this.popup.on("select",this.$onPopupChange.bind(this)),p.addListener(this.popup.container,"mouseout",this.mouseOutListener.bind(this)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup.renderer.on("afterRender",this.$onPopupRender.bind(this)),this.popup},E.prototype.$initInline=function(){if(!(!this.inlineEnabled||this.inlineRenderer))return this.inlineRenderer=new a,this.inlineRenderer},E.prototype.getPopup=function(){return this.popup||this.$init()},E.prototype.$onHidePopup=function(){this.inlineRenderer&&this.inlineRenderer.hide(),this.hideDocTooltip(),this.stickySelectionTimer.cancel(),this.popupTimer.cancel(),this.stickySelection=!1},E.prototype.$seen=function(_){!this.hasSeen.has(_)&&_&&_.completer&&_.completer.onSeen&&typeof _.completer.onSeen=="function"&&(_.completer.onSeen(this.editor,_),this.hasSeen.add(_))},E.prototype.$onPopupChange=function(_){if(this.inlineRenderer&&this.inlineEnabled){var x=_?null:this.popup.getData(this.popup.getRow());if(this.$updateGhostText(x),this.popup.isMouseOver&&this.setSelectOnHover){this.tooltipTimer.call(null,null);return}this.popupTimer.schedule(),this.tooltipTimer.schedule()}else this.popupTimer.call(null,null),this.tooltipTimer.call(null,null)},E.prototype.$updateGhostText=function(_){var x=this.base.row,S=this.base.column,C=this.editor.getCursorPosition().column,A=this.editor.session.getLine(x).slice(S,C);this.inlineRenderer.show(this.editor,_,A)?this.$seen(_):this.inlineRenderer.hide()},E.prototype.$onPopupRender=function(){var _=this.inlineRenderer&&this.inlineEnabled;if(this.completions&&this.completions.filtered&&this.completions.filtered.length>0)for(var x=this.popup.getFirstVisibleRow();x<=this.popup.getLastVisibleRow();x++){var S=this.popup.getData(x);S&&(!_||S.hideInlinePreview)&&this.$seen(S)}},E.prototype.$onPopupShow=function(_){this.$onPopupChange(_),this.stickySelection=!1,this.stickySelectionDelay>=0&&this.stickySelectionTimer.schedule(this.stickySelectionDelay)},E.prototype.observeLayoutChanges=function(){if(!(this.$elements||!this.editor)){window.addEventListener("resize",this.onLayoutChange,{passive:!0}),window.addEventListener("wheel",this.mousewheelListener);for(var _=this.editor.container.parentNode,x=[];_;)x.push(_),_.addEventListener("scroll",this.onLayoutChange,{passive:!0}),_=_.parentNode;this.$elements=x}},E.prototype.unObserveLayoutChanges=function(){var _=this;window.removeEventListener("resize",this.onLayoutChange,{passive:!0}),window.removeEventListener("wheel",this.mousewheelListener),this.$elements&&this.$elements.forEach(function(x){x.removeEventListener("scroll",_.onLayoutChange,{passive:!0})}),this.$elements=null},E.prototype.onLayoutChange=function(){if(!this.popup.isOpen)return this.unObserveLayoutChanges();this.$updatePopupPosition(),this.updateDocTooltip()},E.prototype.$updatePopupPosition=function(){var _=this.editor,x=_.renderer,S=x.layerConfig.lineHeight,C=x.$cursorLayer.getPixelPosition(this.base,!0);C.left-=this.popup.getTextLeftOffset();var A=_.container.getBoundingClientRect();C.top+=A.top-x.layerConfig.offset,C.left+=A.left-_.renderer.scrollLeft,C.left+=x.gutterWidth;var k={top:C.top,left:C.left};x.$ghostText&&x.$ghostTextWidget&&this.base.row===x.$ghostText.position.row&&(k.top+=x.$ghostTextWidget.el.offsetHeight);var N=_.container.getBoundingClientRect().bottom-S,M=N<k.top?{top:N,left:k.left}:k;this.popup.tryShow(M,S,"bottom")||this.popup.tryShow(C,S,"top")||this.popup.show(C,S)},E.prototype.openPopup=function(_,x,S){this.$firstOpenTimer.cancel(),this.popup||this.$init(),this.inlineEnabled&&!this.inlineRenderer&&this.$initInline(),this.popup.autoSelect=this.autoSelect,this.popup.setSelectOnHover(this.setSelectOnHover);var C=this.popup.getRow(),A=this.popup.data[C];this.popup.setData(this.completions.filtered,this.completions.filterText),this.editor.textInput.setAriaOptions&&this.editor.textInput.setAriaOptions({activeDescendant:l(this.popup.getRow()),inline:this.inlineEnabled}),_.keyBinding.addKeyboardHandler(this.keyboardHandler);var k;this.stickySelection&&(k=this.popup.data.indexOf(A)),(!k||k===-1)&&(k=0),this.popup.setRow(this.autoSelect?k:-1),k===C&&A!==this.completions.filtered[k]&&this.$onPopupChange();var N=this.inlineRenderer&&this.inlineEnabled;if(k===C&&N){var M=this.popup.getData(this.popup.getRow());this.$updateGhostText(M)}S||(this.popup.setTheme(_.getTheme()),this.popup.setFontSize(_.getFontSize()),this.$updatePopupPosition(),this.tooltipNode&&this.updateDocTooltip()),this.changeTimer.cancel(),this.observeLayoutChanges()},E.prototype.detach=function(){this.editor&&(this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener)),this.$firstOpenTimer.cancel(),this.changeTimer.cancel(),this.hideDocTooltip(),this.completionProvider&&this.completionProvider.detach(),this.popup&&this.popup.isOpen&&this.popup.hide(),this.popup&&this.popup.renderer&&this.popup.renderer.off("afterRender",this.$onPopupRender),this.base&&this.base.detach(),this.activated=!1,this.completionProvider=this.completions=this.base=null,this.unObserveLayoutChanges()},E.prototype.changeListener=function(_){var x=this.editor.selection.lead;(x.row!=this.base.row||x.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},E.prototype.blurListener=function(_){var x=document.activeElement,S=this.editor.textInput.getElement(),C=_.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(_.relatedTarget),A=this.popup&&this.popup.container;x!=S&&x.parentNode!=A&&!C&&x!=this.tooltipNode&&_.relatedTarget!=S&&this.detach()},E.prototype.mousedownListener=function(_){this.detach()},E.prototype.mousewheelListener=function(_){this.popup&&!this.popup.isMouseOver&&this.detach()},E.prototype.mouseOutListener=function(_){this.popup.isOpen&&this.$updatePopupPosition()},E.prototype.goTo=function(_){this.popup.goTo(_)},E.prototype.insertMatch=function(_,x){if(_||(_=this.popup.getData(this.popup.getRow())),!_)return!1;if(_.value==="")return this.detach();var S=this.completions,C=this.getCompletionProvider().insertMatch(this.editor,_,S.filterText,x);return this.completions==S&&this.detach(),C},E.prototype.showPopup=function(_,x){this.editor&&this.detach(),this.activated=!0,this.editor=_,_.completer!=this&&(_.completer&&_.completer.detach(),_.completer=this),_.on("changeSelection",this.changeListener),_.on("blur",this.blurListener),_.on("mousedown",this.mousedownListener),_.on("mousewheel",this.mousewheelListener),this.updateCompletions(!1,x)},E.prototype.getCompletionProvider=function(_){return this.completionProvider||(this.completionProvider=new v(_)),this.completionProvider},E.prototype.gatherCompletions=function(_,x){return this.getCompletionProvider().gatherCompletions(_,x)},E.prototype.updateCompletions=function(_,x){if(_&&this.base&&this.completions){var C=this.editor.getCursorPosition(),A=this.editor.session.getTextRange({start:this.base,end:C});if(A==this.completions.filterText)return;if(this.completions.setFilter(A),!this.completions.filtered.length)return this.detach();if(this.completions.filtered.length==1&&this.completions.filtered[0].value==A&&!this.completions.filtered[0].snippet)return this.detach();this.openPopup(this.editor,A,_);return}if(x&&x.matches){var C=this.editor.getSelectionRange().start;return this.base=this.editor.session.doc.createAnchor(C.row,C.column),this.base.$insertRight=!0,this.completions=new w(x.matches),this.getCompletionProvider().completions=this.completions,this.openPopup(this.editor,"",_)}var S=this.editor.getSession(),C=this.editor.getCursorPosition(),A=u.getCompletionPrefix(this.editor);this.base=S.doc.createAnchor(C.row,C.column-A.length),this.base.$insertRight=!0;var k={exactMatch:this.exactMatch,ignoreCaption:this.ignoreCaption};this.getCompletionProvider({prefix:A,pos:C}).provideCompletions(this.editor,k,(function(N,M,I){var D=M.filtered,R=u.getCompletionPrefix(this.editor);if(this.$firstOpenTimer.cancel(),I){if(!D.length){var O=!this.autoShown&&this.emptyMessage;if(typeof O=="function"&&(O=this.emptyMessage(R)),O){var B=[{caption:O,value:""}];this.completions=new w(B),this.openPopup(this.editor,R,_),this.popup.renderer.setStyle("ace_loading",!1),this.popup.renderer.setStyle("ace_empty-message",!0);return}return this.detach()}if(D.length==1&&D[0].value==R&&!D[0].snippet)return this.detach();if(this.autoInsert&&!this.autoShown&&D.length==1)return this.insertMatch(D[0])}this.completions=!I&&this.showLoadingState?new w(E.completionsForLoading.concat(D),M.filterText):M,this.openPopup(this.editor,R,_),this.popup.renderer.setStyle("ace_empty-message",!1),this.popup.renderer.setStyle("ace_loading",!I)}).bind(this)),this.showLoadingState&&!this.autoShown&&!(this.popup&&this.popup.isOpen)&&this.$firstOpenTimer.delay(this.stickySelectionDelay/2)},E.prototype.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},E.prototype.updateDocTooltip=function(){var _=this.popup,x=this.completions&&this.completions.filtered,S=x&&(x[_.getHoveredRow()]||x[_.getRow()]),C=null;if(!S||!this.editor||!this.popup.isOpen)return this.hideDocTooltip();for(var A=this.editor.completers.length,k=0;k<A;k++){var N=this.editor.completers[k];if(N.getDocTooltip&&S.completerId===N.id){C=N.getDocTooltip(S);break}}if(!C&&typeof S!="string"&&(C=S),typeof C=="string"&&(C={docText:C}),!C||!(C.docHTML||C.docText))return this.hideDocTooltip();this.showDocTooltip(C)},E.prototype.showDocTooltip=function(_){this.tooltipNode||(this.tooltipNode=d.createElement("div"),this.tooltipNode.style.margin="0",this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.style.overscrollBehavior="contain",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this),this.tooltipNode.id="doc-tooltip",this.tooltipNode.setAttribute("role","tooltip"),this.tooltipNode.addEventListener("wheel",m));var x=this.editor.renderer.theme;this.tooltipNode.className="ace_tooltip ace_doc-tooltip "+(x.isDark?"ace_dark ":"")+(x.cssClass||"");var S=this.tooltipNode;_.docHTML?S.innerHTML=_.docHTML:_.docText&&(S.textContent=_.docText),S.parentNode||this.popup.container.appendChild(this.tooltipNode);var C=this.popup,A=C.container.getBoundingClientRect(),k=400,N=300,M=C.renderer.scrollBar.width||10,I=A.left,D=window.innerWidth-A.right-M,R=C.isTopdown?A.top:window.innerHeight-M-A.bottom,O=[Math.min(D/k,1),Math.min(I/k,1),Math.min(R/N*.9)],B=Math.max.apply(Math,O),z=S.style;z.display="block",B==O[0]?(z.left=A.right+1+"px",z.right="",z.maxWidth=k*B+"px",z.top=A.top+"px",z.bottom="",z.maxHeight=Math.min(window.innerHeight-M-A.top,N)+"px"):B==O[1]?(z.right=window.innerWidth-A.left+"px",z.left="",z.maxWidth=k*B+"px",z.top=A.top+"px",z.bottom="",z.maxHeight=Math.min(window.innerHeight-M-A.top,N)+"px"):B==O[2]&&(z.left=window.innerWidth-A.left+"px",z.maxWidth=Math.min(k,window.innerWidth)+"px",C.isTopdown?(z.top=A.bottom+"px",z.left=A.left+"px",z.right="",z.bottom="",z.maxHeight=Math.min(window.innerHeight-M-A.bottom,N)+"px"):(z.top=C.container.offsetTop-S.offsetHeight+"px",z.left=A.left+"px",z.right="",z.bottom="",z.maxHeight=Math.min(C.container.offsetTop,N)+"px"))},E.prototype.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),!!this.tooltipNode){var _=this.tooltipNode;!this.editor.isFocused()&&document.activeElement==_&&this.editor.focus(),this.tooltipNode=null,_.parentNode&&_.parentNode.removeChild(_)}},E.prototype.onTooltipClick=function(_){for(var x=_.target;x&&x!=this.tooltipNode;){if(x.nodeName=="A"&&x.href){x.rel="noreferrer",x.target="_blank";break}x=x.parentNode}},E.prototype.destroy=function(){if(this.detach(),this.popup){this.popup.destroy();var _=this.popup.container;_&&_.parentNode&&_.parentNode.removeChild(_)}this.editor&&this.editor.completer==this&&(this.editor.off("destroy",g),this.editor.completer=null),this.inlineRenderer=this.popup=this.editor=null},E.for=function(_){return _.completer instanceof E||(_.completer&&(_.completer.destroy(),_.completer=null),h.get("sharedPopups")?(E.$sharedInstance||(E.$sharedInstance=new E),_.completer=E.$sharedInstance):(_.completer=new E,_.once("destroy",g))),_.completer},E}();y.prototype.commands={Up:function(E){E.completer.goTo("up")},Down:function(E){E.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(E){E.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(E){E.completer.goTo("end")},Esc:function(E){E.completer.detach()},Return:function(E){return E.completer.insertMatch()},"Shift-Return":function(E){E.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(E){var _=E.completer.insertMatch();if(!_&&!E.tabstopManager)E.completer.goTo("down");else return _},Backspace:function(E){E.execCommand("backspace");var _=u.getCompletionPrefix(E);!_&&E.completer&&E.completer.detach()},PageUp:function(E){E.completer.popup.gotoPageUp()},PageDown:function(E){E.completer.popup.gotoPageDown()}},y.startCommand={name:"startAutocomplete",exec:function(E,_){var x=y.for(E);x.autoInsert=!1,x.autoSelect=!0,x.autoShown=!1,x.showPopup(E,_),x.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var v=function(){function E(_){this.initialPosition=_,this.active=!0}return E.prototype.insertByIndex=function(_,x,S){return!this.completions||!this.completions.filtered?!1:this.insertMatch(_,this.completions.filtered[x],S)},E.prototype.insertMatch=function(_,x,S){if(!x)return!1;if(_.startOperation({command:{name:"insertMatch"}}),x.completer&&x.completer.insertMatch)x.completer.insertMatch(_,x);else{if(!this.completions)return!1;var C=this.completions.filterText.length,A=0;if(x.range&&x.range.start.row===x.range.end.row&&(C-=this.initialPosition.prefix.length,C+=this.initialPosition.pos.column-x.range.start.column,A+=x.range.end.column-this.initialPosition.pos.column),C||A){var k;_.selection.getAllRanges?k=_.selection.getAllRanges():k=[_.getSelectionRange()];for(var N=0,M;M=k[N];N++)M.start.column-=C,M.end.column+=A,_.session.remove(M)}x.snippet?f.insertSnippet(_,x.snippet):this.$insertString(_,x),x.completer&&x.completer.onInsert&&typeof x.completer.onInsert=="function"&&x.completer.onInsert(_,x),x.command&&x.command==="startAutocomplete"&&_.execCommand(x.command)}return _.endOperation(),!0},E.prototype.$insertString=function(_,x){var S=x.value||x;_.execCommand("insertstring",S)},E.prototype.gatherCompletions=function(_,x){var S=_.getSession(),C=_.getCursorPosition(),A=u.getCompletionPrefix(_),k=[];this.completers=_.completers;var N=_.completers.length;return _.completers.forEach(function(M,I){M.getCompletions(_,S,C,A,function(D,R){M.hideInlinePreview&&(R=R.map(function(O){return Object.assign(O,{hideInlinePreview:M.hideInlinePreview})})),!D&&R&&(k=k.concat(R)),x(null,{prefix:u.getCompletionPrefix(_),matches:k,finished:--N===0})})}),!0},E.prototype.provideCompletions=function(_,x,S){var C=(function(M){var I=M.prefix,D=M.matches;this.completions=new w(D),x.exactMatch&&(this.completions.exactMatch=!0),x.ignoreCaption&&(this.completions.ignoreCaption=!0),this.completions.setFilter(I),(M.finished||this.completions.filtered.length)&&S(null,this.completions,M.finished)}).bind(this),A=!0,k=null;if(this.gatherCompletions(_,(function(M,I){if(this.active){M&&(S(M,[],!0),this.detach());var D=I.prefix;if(D.indexOf(I.prefix)===0){if(A){k=I;return}C(I)}}}).bind(this)),A=!1,k){var N=k;k=null,C(N)}},E.prototype.detach=function(){this.active=!1,this.completers&&this.completers.forEach(function(_){typeof _.cancel=="function"&&_.cancel()})},E}(),w=function(){function E(_,x){this.all=_,this.filtered=_,this.filterText=x||"",this.exactMatch=!1,this.ignoreCaption=!1}return E.prototype.setFilter=function(_){if(_.length>this.filterText&&_.lastIndexOf(this.filterText,0)===0)var x=this.filtered;else var x=this.all;this.filterText=_,x=this.filterCompletions(x,this.filterText),x=x.sort(function(C,A){return A.exactMatch-C.exactMatch||A.$score-C.$score||(C.caption||C.value).localeCompare(A.caption||A.value)});var S=null;x=x.filter(function(C){var A=C.snippet||C.caption||C.value;return A===S?!1:(S=A,!0)}),this.filtered=x},E.prototype.filterCompletions=function(_,x){var S=[],C=x.toUpperCase(),A=x.toLowerCase();e:for(var k=0,N;N=_[k];k++){if(N.skipFilter){N.$score=N.score,S.push(N);continue}var M=!this.ignoreCaption&&N.caption||N.value||N.snippet;if(M){var I=-1,D=0,R=0,O,B;if(this.exactMatch){if(x!==M.substr(0,x.length))continue e}else{var z=M.toLowerCase().indexOf(A);if(z>-1)R=z;else for(var W=0;W<x.length;W++){var U=M.indexOf(A[W],I+1),F=M.indexOf(C[W],I+1);if(O=U>=0&&(F<0||U<F)?U:F,O<0)continue e;B=O-I-1,B>0&&(I===-1&&(R+=10),R+=B,D=D|1<<W),I=O}}N.matchMask=D,N.exactMatch=R?0:1,N.$score=(N.score||0)-R,S.push(N)}}return S},E}();r.Autocomplete=y,r.CompletionProvider=v,r.FilteredList=w}),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(n,r,i){var o=n("../range").Range,s=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;function a(u,c){var d=u.getTextRange(o.fromPoints({row:0,column:0},c));return d.split(s).length-1}function l(u,c){var d=a(u,c),f=u.getValue().split(s),h=Object.create(null),p=f[d];return f.forEach(function(m,g){if(!(!m||m===p)){var y=Math.abs(d-g),v=f.length-y;h[m]?h[m]=Math.max(v,h[m]):h[m]=v}}),h}r.getCompletions=function(u,c,d,f,h){var p=l(c,d),m=Object.keys(p);h(null,m.map(function(g){return{caption:g,value:g,score:p[g],meta:"local"}}))}}),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],function(n,r,i){var o=n("../snippets").snippetManager,s=n("../autocomplete").Autocomplete,a=n("../config"),l=n("../lib/lang"),u=n("../autocomplete/util"),c=n("../autocomplete/text_completer"),d={getCompletions:function(C,A,k,N,M){if(A.$mode.completer)return A.$mode.completer.getCompletions(C,A,k,N,M);var I=C.session.getState(k.row),D=A.$mode.getCompletions(I,A,k,N);D=D.map(function(R){return R.completerId=d.id,R}),M(null,D)},id:"keywordCompleter"},f=function(C){var A={};return C.replace(/\${(\d+)(:(.*?))?}/g,function(k,N,M,I){return A[N]=I||""}).replace(/\$(\d+?)/g,function(k,N){return A[N]})},h={getCompletions:function(C,A,k,N,M){var I=[],D=A.getTokenAt(k.row,k.column);D&&D.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?I.push("html-tag"):I=o.getActiveScopes(C);var R=o.snippetMap,O=[];I.forEach(function(B){for(var z=R[B]||[],W=z.length;W--;){var U=z[W],F=U.name||U.tabTrigger;F&&O.push({caption:F,snippet:U.content,meta:U.tabTrigger&&!U.name?U.tabTrigger+" ":"snippet",completerId:h.id})}},this),M(null,O)},getDocTooltip:function(C){C.snippet&&!C.docHTML&&(C.docHTML=["<b>",l.escapeHTML(C.caption),"</b>","<hr></hr>",l.escapeHTML(f(C.snippet))].join(""))},id:"snippetCompleter"},p=[h,c,d];r.setCompleters=function(C){p.length=0,C&&p.push.apply(p,C)},r.addCompleter=function(C){p.push(C)},r.textCompleter=c,r.keyWordCompleter=d,r.snippetCompleter=h;var m={name:"expandSnippet",exec:function(C){return o.expandWithTab(C)},bindKey:"Tab"},g=function(C,A){y(A.session.$mode)},y=function(C){typeof C=="string"&&(C=a.$modes[C]),C&&(o.files||(o.files={}),v(C.$id,C.snippetFileId),C.modes&&C.modes.forEach(y))},v=function(C,A){!A||!C||o.files[C]||(o.files[C]={},a.loadModule(A,function(k){k&&(o.files[C]=k,!k.snippets&&k.snippetText&&(k.snippets=o.parseSnippetFile(k.snippetText)),o.register(k.snippets||[],k.scope),k.includeScopes&&(o.snippetMap[k.scope].includeScopes=k.includeScopes,k.includeScopes.forEach(function(N){y("ace/mode/"+N)})))}))},w=function(C){var A=C.editor,k=A.completer&&A.completer.activated;if(C.command.name==="backspace")k&&!u.getCompletionPrefix(A)&&A.completer.detach();else if(C.command.name==="insertstring"&&!k){E=C;var N=C.editor.$liveAutocompletionDelay;N?_.delay(N):x(C)}},E,_=l.delayedCall(function(){x(E)},0),x=function(C){var A=C.editor,k=u.getCompletionPrefix(A),N=C.args,M=u.triggerAutocomplete(A,N);if(k&&k.length>=A.$liveAutocompletionThreshold||M){var I=s.for(A);I.autoShown=!0,I.showPopup(A)}},S=n("../editor").Editor;n("../config").defineOptions(S.prototype,"editor",{enableBasicAutocompletion:{set:function(C){C?(this.completers||(this.completers=Array.isArray(C)?C:p),this.commands.addCommand(s.startCommand)):this.commands.removeCommand(s.startCommand)},value:!1},enableLiveAutocompletion:{set:function(C){C?(this.completers||(this.completers=Array.isArray(C)?C:p),this.commands.on("afterExec",w)):this.commands.off("afterExec",w)},value:!1},liveAutocompletionDelay:{initialValue:0},liveAutocompletionThreshold:{initialValue:0},enableSnippets:{set:function(C){C?(this.commands.addCommand(m),this.on("changeMode",g),g(null,this)):(this.commands.removeCommand(m),this.off("changeMode",g))},value:!1}})}),function(){ace.require(["ace/ext/language_tools"],function(n){e&&(e.exports=n)})}()}(s6)),s6.exports}yat();var a6={exports:{}},Koe;function vat(){return Koe||(Koe=1,function(e,t){ace.define("ace/ext/searchbox-css",["require","exports","module"],function(n,r,i){i.exports=`

/* ------------------------------------------------------------------------------------------
 * Editor Search Form
 * --------------------------------------------------------------------------------------- */
.ace_search {
    background-color: #ddd;
    color: #666;
    border: 1px solid #cbcbcb;
    border-top: 0 none;
    overflow: hidden;
    margin: 0;
    padding: 4px 6px 0 4px;
    position: absolute;
    top: 0;
    z-index: 99;
    white-space: normal;
}
.ace_search.left {
    border-left: 0 none;
    border-radius: 0px 0px 5px 0px;
    left: 0;
}
.ace_search.right {
    border-radius: 0px 0px 0px 5px;
    border-right: 0 none;
    right: 0;
}

.ace_search_form, .ace_replace_form {
    margin: 0 20px 4px 0;
    overflow: hidden;
    line-height: 1.9;
}
.ace_replace_form {
    margin-right: 0;
}
.ace_search_form.ace_nomatch {
    outline: 1px solid red;
}

.ace_search_field {
    border-radius: 3px 0 0 3px;
    background-color: white;
    color: black;
    border: 1px solid #cbcbcb;
    border-right: 0 none;
    outline: 0;
    padding: 0;
    font-size: inherit;
    margin: 0;
    line-height: inherit;
    padding: 0 6px;
    min-width: 17em;
    vertical-align: top;
    min-height: 1.8em;
    box-sizing: content-box;
}
.ace_searchbtn {
    border: 1px solid #cbcbcb;
    line-height: inherit;
    display: inline-block;
    padding: 0 6px;
    background: #fff;
    border-right: 0 none;
    border-left: 1px solid #dcdcdc;
    cursor: pointer;
    margin: 0;
    position: relative;
    color: #666;
}
.ace_searchbtn:last-child {
    border-radius: 0 3px 3px 0;
    border-right: 1px solid #cbcbcb;
}
.ace_searchbtn:disabled {
    background: none;
    cursor: default;
}
.ace_searchbtn:hover {
    background-color: #eef1f6;
}
.ace_searchbtn.prev, .ace_searchbtn.next {
     padding: 0px 0.7em
}
.ace_searchbtn.prev:after, .ace_searchbtn.next:after {
     content: "";
     border: solid 2px #888;
     width: 0.5em;
     height: 0.5em;
     border-width:  2px 0 0 2px;
     display:inline-block;
     transform: rotate(-45deg);
}
.ace_searchbtn.next:after {
     border-width: 0 2px 2px 0 ;
}
.ace_searchbtn_close {
    background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAcCAYAAABRVo5BAAAAZ0lEQVR42u2SUQrAMAhDvazn8OjZBilCkYVVxiis8H4CT0VrAJb4WHT3C5xU2a2IQZXJjiQIRMdkEoJ5Q2yMqpfDIo+XY4k6h+YXOyKqTIj5REaxloNAd0xiKmAtsTHqW8sR2W5f7gCu5nWFUpVjZwAAAABJRU5ErkJggg==) no-repeat 50% 0;
    border-radius: 50%;
    border: 0 none;
    color: #656565;
    cursor: pointer;
    font: 16px/16px Arial;
    padding: 0;
    height: 14px;
    width: 14px;
    top: 9px;
    right: 7px;
    position: absolute;
}
.ace_searchbtn_close:hover {
    background-color: #656565;
    background-position: 50% 100%;
    color: white;
}

.ace_button {
    margin-left: 2px;
    cursor: pointer;
    -webkit-user-select: none;
    -moz-user-select: none;
    -o-user-select: none;
    -ms-user-select: none;
    user-select: none;
    overflow: hidden;
    opacity: 0.7;
    border: 1px solid rgba(100,100,100,0.23);
    padding: 1px;
    box-sizing:    border-box!important;
    color: black;
}

.ace_button:hover {
    background-color: #eee;
    opacity:1;
}
.ace_button:active {
    background-color: #ddd;
}

.ace_button.checked {
    border-color: #3399ff;
    opacity:1;
}

.ace_search_options{
    margin-bottom: 3px;
    text-align: right;
    -webkit-user-select: none;
    -moz-user-select: none;
    -o-user-select: none;
    -ms-user-select: none;
    user-select: none;
    clear: both;
}

.ace_search_counter {
    float: left;
    font-family: arial;
    padding: 0 8px;
}`}),ace.define("ace/ext/searchbox",["require","exports","module","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/ext/searchbox-css","ace/keyboard/hash_handler","ace/lib/keys","ace/config"],function(n,r,i){var o=n("../lib/dom"),s=n("../lib/lang"),a=n("../lib/event"),l=n("./searchbox-css"),u=n("../keyboard/hash_handler").HashHandler,c=n("../lib/keys"),d=n("../config").nls,f=999;o.importCssString(l,"ace_searchbox",!1);var h=function(){function g(y,v,w){this.activeInput,this.element=o.buildDom(["div",{class:"ace_search right"},["span",{action:"hide",class:"ace_searchbtn_close"}],["div",{class:"ace_search_form"},["input",{class:"ace_search_field",placeholder:d("search-box.find.placeholder","Search for"),spellcheck:"false"}],["span",{action:"findPrev",class:"ace_searchbtn prev"},""],["span",{action:"findNext",class:"ace_searchbtn next"},""],["span",{action:"findAll",class:"ace_searchbtn",title:"Alt-Enter"},d("search-box.find-all.text","All")]],["div",{class:"ace_replace_form"},["input",{class:"ace_search_field",placeholder:d("search-box.replace.placeholder","Replace with"),spellcheck:"false"}],["span",{action:"replaceAndFindNext",class:"ace_searchbtn"},d("search-box.replace-next.text","Replace")],["span",{action:"replaceAll",class:"ace_searchbtn"},d("search-box.replace-all.text","All")]],["div",{class:"ace_search_options"},["span",{action:"toggleReplace",class:"ace_button",title:d("search-box.toggle-replace.title","Toggle Replace mode"),style:"float:left;margin-top:-2px;padding:0 5px;"},"+"],["span",{class:"ace_search_counter"}],["span",{action:"toggleRegexpMode",class:"ace_button",title:d("search-box.toggle-regexp.title","RegExp Search")},".*"],["span",{action:"toggleCaseSensitive",class:"ace_button",title:d("search-box.toggle-case.title","CaseSensitive Search")},"Aa"],["span",{action:"toggleWholeWords",class:"ace_button",title:d("search-box.toggle-whole-word.title","Whole Word Search")},"\\b"],["span",{action:"searchInSelection",class:"ace_button",title:d("search-box.toggle-in-selection.title","Search In Selection")},"S"]]]),this.setSession=this.setSession.bind(this),this.$onEditorInput=this.onEditorInput.bind(this),this.$init(),this.setEditor(y),o.importCssString(l,"ace_searchbox",y.container),a.addListener(this.element,"touchstart",function(E){E.stopPropagation()},y)}return g.prototype.setEditor=function(y){y.searchBox=this,y.renderer.scroller.appendChild(this.element),this.editor=y},g.prototype.setSession=function(y){this.searchRange=null,this.$syncOptions(!0)},g.prototype.onEditorInput=function(){this.find(!1,!1,!0)},g.prototype.$initElements=function(y){this.searchBox=y.querySelector(".ace_search_form"),this.replaceBox=y.querySelector(".ace_replace_form"),this.searchOption=y.querySelector("[action=searchInSelection]"),this.replaceOption=y.querySelector("[action=toggleReplace]"),this.regExpOption=y.querySelector("[action=toggleRegexpMode]"),this.caseSensitiveOption=y.querySelector("[action=toggleCaseSensitive]"),this.wholeWordOption=y.querySelector("[action=toggleWholeWords]"),this.searchInput=this.searchBox.querySelector(".ace_search_field"),this.replaceInput=this.replaceBox.querySelector(".ace_search_field"),this.searchCounter=y.querySelector(".ace_search_counter")},g.prototype.$init=function(){var y=this.element;this.$initElements(y);var v=this;a.addListener(y,"mousedown",function(w){setTimeout(function(){v.activeInput.focus()},0),a.stopPropagation(w)}),a.addListener(y,"click",function(w){var E=w.target||w.srcElement,_=E.getAttribute("action");_&&v[_]?v[_]():v.$searchBarKb.commands[_]&&v.$searchBarKb.commands[_].exec(v),a.stopPropagation(w)}),a.addCommandKeyListener(y,function(w,E,_){var x=c.keyCodeToString(_),S=v.$searchBarKb.findKeyCommand(E,x);S&&S.exec&&(S.exec(v),a.stopEvent(w))}),this.$onChange=s.delayedCall(function(){v.find(!1,!1)}),a.addListener(this.searchInput,"input",function(){v.$onChange.schedule(20)}),a.addListener(this.searchInput,"focus",function(){v.activeInput=v.searchInput,v.searchInput.value&&v.highlight()}),a.addListener(this.replaceInput,"focus",function(){v.activeInput=v.replaceInput,v.searchInput.value&&v.highlight()})},g.prototype.setSearchRange=function(y){this.searchRange=y,y?this.searchRangeMarker=this.editor.session.addMarker(y,"ace_active-line"):this.searchRangeMarker&&(this.editor.session.removeMarker(this.searchRangeMarker),this.searchRangeMarker=null)},g.prototype.$syncOptions=function(y){o.setCssClass(this.replaceOption,"checked",this.searchRange),o.setCssClass(this.searchOption,"checked",this.searchOption.checked),this.replaceOption.textContent=this.replaceOption.checked?"-":"+",o.setCssClass(this.regExpOption,"checked",this.regExpOption.checked),o.setCssClass(this.wholeWordOption,"checked",this.wholeWordOption.checked),o.setCssClass(this.caseSensitiveOption,"checked",this.caseSensitiveOption.checked);var v=this.editor.getReadOnly();this.replaceOption.style.display=v?"none":"",this.replaceBox.style.display=this.replaceOption.checked&&!v?"":"none",this.find(!1,!1,y)},g.prototype.highlight=function(y){this.editor.session.highlight(y||this.editor.$search.$options.re),this.editor.renderer.updateBackMarkers()},g.prototype.find=function(y,v,w){var E=this.editor.find(this.searchInput.value,{skipCurrent:y,backwards:v,wrap:!0,regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked,preventScroll:w,range:this.searchRange}),_=!E&&this.searchInput.value;o.setCssClass(this.searchBox,"ace_nomatch",_),this.editor._emit("findSearchBox",{match:!_}),this.highlight(),this.updateCounter()},g.prototype.updateCounter=function(){var y=this.editor,v=y.$search.$options.re,w=v.unicode,E=0,_=0;if(v){var x=this.searchRange?y.session.getTextRange(this.searchRange):y.getValue();y.$search.$isMultilineSearch(y.getLastSearchOptions())&&(x=x.replace(/\r\n|\r|\n/g,`
`),y.session.doc.$autoNewLine=`
`);var S=y.session.doc.positionToIndex(y.selection.anchor);this.searchRange&&(S-=y.session.doc.positionToIndex(this.searchRange.start));for(var C=v.lastIndex=0,A;(A=v.exec(x))&&(E++,C=A.index,C<=S&&_++,!(E>f||!A[0]&&(v.lastIndex=C+=s.skipEmptyMatch(x,C,w),C>=x.length))););}this.searchCounter.textContent=d("search-box.search-counter","$0 of $1",[_,E>f?f+"+":E])},g.prototype.findNext=function(){this.find(!0,!1)},g.prototype.findPrev=function(){this.find(!0,!0)},g.prototype.findAll=function(){var y=this.editor.findAll(this.searchInput.value,{regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked}),v=!y&&this.searchInput.value;o.setCssClass(this.searchBox,"ace_nomatch",v),this.editor._emit("findSearchBox",{match:!v}),this.highlight(),this.hide()},g.prototype.replace=function(){this.editor.getReadOnly()||this.editor.replace(this.replaceInput.value)},g.prototype.replaceAndFindNext=function(){this.editor.getReadOnly()||(this.editor.replace(this.replaceInput.value),this.findNext())},g.prototype.replaceAll=function(){this.editor.getReadOnly()||this.editor.replaceAll(this.replaceInput.value)},g.prototype.hide=function(){this.active=!1,this.setSearchRange(null),this.editor.off("changeSession",this.setSession),this.editor.off("input",this.$onEditorInput),this.element.style.display="none",this.editor.keyBinding.removeKeyboardHandler(this.$closeSearchBarKb),this.editor.focus()},g.prototype.show=function(y,v){this.active=!0,this.editor.on("changeSession",this.setSession),this.editor.on("input",this.$onEditorInput),this.element.style.display="",this.replaceOption.checked=v,this.editor.$search.$options.regExp&&(y=s.escapeRegExp(y)),y&&(this.searchInput.value=y),this.searchInput.focus(),this.searchInput.select(),this.editor.keyBinding.addKeyboardHandler(this.$closeSearchBarKb),this.$syncOptions(!0)},g.prototype.isFocused=function(){var y=document.activeElement;return y==this.searchInput||y==this.replaceInput},g}(),p=new u;p.bindKeys({"Ctrl-f|Command-f":function(g){var y=g.isReplace=!g.isReplace;g.replaceBox.style.display=y?"":"none",g.replaceOption.checked=!1,g.$syncOptions(),g.searchInput.focus()},"Ctrl-H|Command-Option-F":function(g){g.editor.getReadOnly()||(g.replaceOption.checked=!0,g.$syncOptions(),g.replaceInput.focus())},"Ctrl-G|Command-G":function(g){g.findNext()},"Ctrl-Shift-G|Command-Shift-G":function(g){g.findPrev()},esc:function(g){setTimeout(function(){g.hide()})},Return:function(g){g.activeInput==g.replaceInput&&g.replace(),g.findNext()},"Shift-Return":function(g){g.activeInput==g.replaceInput&&g.replace(),g.findPrev()},"Alt-Return":function(g){g.activeInput==g.replaceInput&&g.replaceAll(),g.findAll()},Tab:function(g){(g.activeInput==g.replaceInput?g.searchInput:g.replaceInput).focus()}}),p.addCommands([{name:"toggleRegexpMode",bindKey:{win:"Alt-R|Alt-/",mac:"Ctrl-Alt-R|Ctrl-Alt-/"},exec:function(g){g.regExpOption.checked=!g.regExpOption.checked,g.$syncOptions()}},{name:"toggleCaseSensitive",bindKey:{win:"Alt-C|Alt-I",mac:"Ctrl-Alt-R|Ctrl-Alt-I"},exec:function(g){g.caseSensitiveOption.checked=!g.caseSensitiveOption.checked,g.$syncOptions()}},{name:"toggleWholeWords",bindKey:{win:"Alt-B|Alt-W",mac:"Ctrl-Alt-B|Ctrl-Alt-W"},exec:function(g){g.wholeWordOption.checked=!g.wholeWordOption.checked,g.$syncOptions()}},{name:"toggleReplace",exec:function(g){g.replaceOption.checked=!g.replaceOption.checked,g.$syncOptions()}},{name:"searchInSelection",exec:function(g){g.searchOption.checked=!g.searchRange,g.setSearchRange(g.searchOption.checked&&g.editor.getSelectionRange()),g.$syncOptions()}}]);var m=new u([{bindKey:"Esc",name:"closeSearchBar",exec:function(g){g.searchBox.hide()}}]);h.prototype.$searchBarKb=p,h.prototype.$closeSearchBarKb=m,r.SearchBox=h,r.Search=function(g,y){var v=g.searchBox||new h(g);v.show(g.session.getTextRange(),y)}}),function(){ace.require(["ace/ext/searchbox"],function(n){e&&(e.exports=n)})}()}(a6)),a6.exports}vat();function Xv(){const{colorScheme:e}=hme();return e==="dark"}function bat({setAnswer:e,parameters:t,provenanceState:n}){const[r,i]=H.useState(kxe[t.type+(t.tabular?"tabular":"config")+t.language]),o=Xv();H.useEffect(()=>{n&&n.text!==null&&i(n.text)},[n]);const{actions:s,trrack:a}=H.useMemo(()=>{const d=Qp.create(),f=d.register("type",(p,m)=>(p.text=m,p)),h=Kv({registry:d,initialState:{text:null}});return{actions:{typeAction:f},trrack:h}},[]);let l;t.language==="plain_text"?l="text":t.language==="jsonc"?l="json":l=t.language;const u=H.useCallback(d=>{a.apply("Typing",s.typeAction(d)),e({status:d.length>150,answers:{code:d,error:d},provenanceGraph:a.graph.backend}),i(d)},[s,e,a]),c=H.useRef(null);return H.useEffect(()=>{var d,f;o?(d=c.current)==null||d.editor.setTheme(FW):(f=c.current)==null||f.editor.setTheme(LW)},[o]),$.jsx(De,{children:$.jsxs(ri,{gap:20,wrap:"nowrap",style:{height:"calc(100vh - var(--app-shell-header-height, 0px) - var(--app-shell-footer-height, 0px) - 30px)"},children:[t.imagePath?$.jsx("div",{style:{flex:"0 0 50%"},children:$.jsx("img",{src:ji+t.imagePath,alt:"Example",style:{width:"100%",height:"auto",objectFit:"contain"}})}):null,$.jsx(OW,{ref:c,mode:l,width:"100%",height:"calc(100vh - var(--app-shell-header-height, 0px) - var(--app-shell-footer-height, 0px) - 30px)",value:r,wrapEnabled:!0,onChange:u,name:"UNIQUE_ID_OF_DIV",editorProps:{$blockScrolling:!0}})]})})}const Rxe=Object.freeze(Object.defineProperty({__proto__:null,default:bat},Symbol.toStringTag,{value:"Module"})),Dxe={readingtabularjson:JSON.stringify({students:{student:[{name:"Bob",age:12,contact:{email:"bob@example.com",phone:"+123456789",address:"123 Bob St, Some City"},courses:{course:{course_name:"Math 101",quizzes:{quiz:[{id:1,grade:8,weight:.1},{id:2,grade:9,weight:.1}]},midterm:{grade:77,weight:.3},final:{grade:87,weight:.5},total_score:82.3,attendance:{total_classes:30,attended_classes:28,absent_classes:2}}},extra_curricular:{sports:{sport:[{sport_name:"Soccer",position:"Forward",team:"The Tigers"},{sport_name:"Basketball",position:"Guard",team:"The Eagles"}]},clubs:{club:[{club_name:"Science Club",role:"President"},{club_name:"Drama Club",role:"Member"}]}}},{name:"Eve",age:13,contact:{email:"eve@example.com",phone:"+987654321",address:"456 Eve St, Other City"},courses:{course:{course_name:"Math 101",quizzes:{quiz:[{id:1,grade:9,weight:.15},{id:2,grade:10,weight:.15}]},midterm:{grade:"AB(absent)",weight:.3},final:{grade:77,weight:.4},total_score:78.3,attendance:{total_classes:30,attended_classes:27,absent_classes:3}}},extra_curricular:{sports:{sport:{sport_name:"Tennis",position:"Singles",team:"The Champions"}},clubs:{club:{club_name:"Art Club",role:"Vice President"}}}},{name:"Alice",age:14,contact:{email:"alice@example.com",phone:"+111222333",address:"789 Alice St, Another City"},courses:{course:{course_name:"Science 101",quizzes:{quiz:[{id:1,grade:7,weight:.2},{id:2,grade:8,weight:.2}]},midterm:{grade:85,weight:.3},final:{grade:90,weight:.5},total_score:84.7,attendance:{total_classes:30,attended_classes:29,absent_classes:1}}},extra_curricular:{sports:{sport:{sport_name:"Swimming",position:"Freestyle",team:"Blue Sharks"}},clubs:{club:[{club_name:"Chess Club",role:"Member"},{club_name:"Literature Club",role:"Secretary"}]}}}]}},null,2),readingtabularxml:`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<students>
  <student>
    <name>Bob</name>
    <age>12</age>
    <contact>
      <email>bob@example.com</email>
      <phone>+123456789</phone>
      <address>123 Bob St, Some City</address>
    </contact>
    <courses>
      <course>
        <course_name>Math 101</course_name>
        <quizzes>
          <quiz>
            <id>1</id>
            <grade>8</grade>
            <weight>0.1</weight>
          </quiz>
          <quiz>
            <id>2</id>
            <grade>9</grade>
            <weight>0.1</weight>
          </quiz>
        </quizzes>
        <midterm>
          <grade>77</grade>
          <weight>0.3</weight>
        </midterm>
        <final>
          <grade>87</grade>
          <weight>0.5</weight>
        </final>
        <total_score>82.3</total_score>
        <attendance>
          <total_classes>30</total_classes>
          <attended_classes>28</attended_classes>
          <absent_classes>2</absent_classes>
        </attendance>
      </course>
    </courses>
    <extra_curricular>
      <sports>
        <sport>
          <sport_name>Soccer</sport_name>
          <position>Forward</position>
          <team>The Tigers</team>
        </sport>
        <sport>
          <sport_name>Basketball</sport_name>
          <position>Guard</position>
          <team>The Eagles</team>
        </sport>
      </sports>
      <clubs>
        <club>
          <club_name>Science Club</club_name>
          <role>President</role>
        </club>
        <club>
          <club_name>Drama Club</club_name>
          <role>Member</role>
        </club>
      </clubs>
    </extra_curricular>
  </student>
  <student>
    <name>Eve</name>
    <age>13</age>
    <contact>
      <email>eve@example.com</email>
      <phone>+987654321</phone>
      <address>456 Eve St, Other City</address>
    </contact>
    <courses>
      <course>
        <course_name>Math 101</course_name>
        <quizzes>
          <quiz>
            <id>1</id>
            <grade>9</grade>
            <weight>0.15</weight>
          </quiz>
          <quiz>
            <id>2</id>
            <grade>10</grade>
            <weight>0.15</weight>
          </quiz>
        </quizzes>
        <midterm>
          <grade>AB(absent)</grade> <!--The student was absent for the midterm exam.-->
          <weight>0.3</weight>
        </midterm>
        <final>
          <grade>77</grade>
          <weight>0.4</weight>
        </final>
        <total_score>78.3</total_score>
        <attendance>
          <total_classes>30</total_classes>
          <attended_classes>27</attended_classes>
          <absent_classes>3</absent_classes>
        </attendance>
      </course>
    </courses>
    <extra_curricular>
      <sports>
        <sport>
          <sport_name>Tennis</sport_name>
          <position>Singles</position>
          <team>The Champions</team>
        </sport>
      </sports>
      <clubs>
        <club>
          <club_name>Art Club</club_name>
          <role>Vice President</role>
        </club>
      </clubs>
    </extra_curricular>
  </student>
  <student>
    <name>Alice</name>
    <age>14</age>
    <contact>
      <email>alice@example.com</email>
      <phone>+111222333</phone>
      <address>789 Alice St, Another City</address>
    </contact>
    <courses>
      <course>
        <course_name>Science 101</course_name>
        <quizzes>
          <quiz>
            <id>1</id>
            <grade>7</grade>
            <weight>0.2</weight>
          </quiz>
          <quiz>
            <id>2</id>
            <grade>8</grade>
            <weight>0.2</weight>
          </quiz>
        </quizzes>
        <midterm>
          <grade>85</grade>
          <weight>0.3</weight>
        </midterm>
        <final>
          <grade>90</grade>
          <weight>0.5</weight>
        </final>
        <total_score>84.7</total_score>
        <attendance>
          <total_classes>30</total_classes>
          <attended_classes>29</attended_classes>
          <absent_classes>1</absent_classes>
        </attendance>
      </course>
    </courses>
    <extra_curricular>
      <sports>
        <sport>
          <sport_name>Swimming</sport_name>
          <position>Freestyle</position>
          <team>Blue Sharks</team>
        </sport>
      </sports>
      <clubs>
        <club>
          <club_name>Chess Club</club_name>
          <role>Member</role>
        </club>
        <club>
          <club_name>Literature Club</club_name>
          <role>Secretary</role>
        </club>
      </clubs>
    </extra_curricular>
  </student>
</students>`,readingtabulartoml:`[students]

[[students.student]]
name = "Bob"
age = 12

[students.student.contact]
email = "bob@example.com"
phone = "+123456789"
address = "123 Bob St, Some City"

[students.student.courses]

[students.student.courses.course]
course_name = "Math 101"
total_score = 82.3

[students.student.courses.course.quizzes]

[[students.student.courses.course.quizzes.quiz]]
id = 1
grade = 8.0
weight = 0.1

[[students.student.courses.course.quizzes.quiz]]
id = 2
grade = 9.0
weight = 0.1

[students.student.courses.course.midterm]
grade = 77.0
weight = 0.3

[students.student.courses.course.final]
grade = 87.0
weight = 0.5

[students.student.courses.course.attendance]
total_classes = 30
attended_classes = 28
absent_classes = 2

[students.student.extra_curricular]

[students.student.extra_curricular.sports]

[[students.student.extra_curricular.sports.sport]]
sport_name = "Soccer"
position = "Forward"
team = "The Tigers"

[[students.student.extra_curricular.sports.sport]]
sport_name = "Basketball"
position = "Guard"
team = "The Eagles"

[students.student.extra_curricular.clubs]

[[students.student.extra_curricular.clubs.club]]
club_name = "Science Club"
role = "President"

[[students.student.extra_curricular.clubs.club]]
club_name = "Drama Club"
role = "Member"

[[students.student]]
name = "Eve"
age = 13

[students.student.contact]
email = "eve@example.com"
phone = "+987654321"
address = "456 Eve St, Other City"

[students.student.courses]

[students.student.courses.course]
course_name = "Math 101"
total_score = 78.3

[students.student.courses.course.quizzes]

[[students.student.courses.course.quizzes.quiz]]
id = 1
grade = 9.0
weight = 0.15

[[students.student.courses.course.quizzes.quiz]]
id = 2
grade = 10.0
weight = 0.15

[students.student.courses.course.midterm]
grade = "AB(absent)"   # The student was absent for the midterm exam.
weight = 0.3

[students.student.courses.course.final]
grade = 77.0
weight = 0.4

[students.student.courses.course.attendance]
total_classes = 30
attended_classes = 27
absent_classes = 3

[students.student.extra_curricular]

[students.student.extra_curricular.sports]

[students.student.extra_curricular.sports.sport]
sport_name = "Tennis"
position = "Singles"
team = "The Champions"

[students.student.extra_curricular.clubs]

[students.student.extra_curricular.clubs.club]
club_name = "Art Club"
role = "Vice President"

[[students.student]]
name = "Alice"
age = 14

[students.student.contact]
email = "alice@example.com"
phone = "+111222333"
address = "789 Alice St, Another City"

[students.student.courses]

[students.student.courses.course]
course_name = "Science 101"
total_score = 84.7

[students.student.courses.course.quizzes]

[[students.student.courses.course.quizzes.quiz]]
id = 1
grade = 7.0
weight = 0.2

[[students.student.courses.course.quizzes.quiz]]
id = 2
grade = 8.0
weight = 0.2

[students.student.courses.course.midterm]
grade = 85.0
weight = 0.3

[students.student.courses.course.final]
grade = 90.0
weight = 0.5

[students.student.courses.course.attendance]
total_classes = 30
attended_classes = 29
absent_classes = 1

[students.student.extra_curricular]

[students.student.extra_curricular.sports]

[students.student.extra_curricular.sports.sport]
sport_name = "Swimming"
position = "Freestyle"
team = "Blue Sharks"

[students.student.extra_curricular.clubs]

[[students.student.extra_curricular.clubs.club]]
club_name = "Chess Club"
role = "Member"

[[students.student.extra_curricular.clubs.club]]
club_name = "Literature Club"
role = "Secretary"`,readingtabularyaml:`students:
  student:
    - name: Bob
      age: 12
      contact:
        email: bob@example.com
        phone: '+123456789'
        address: 123 Bob St, Some City
      courses:
        course:
          course_name: Math 101
          quizzes:
            quiz:
              - id: 1
                grade: 8
                weight: 0.1
              - id: 2
                grade: 9
                weight: 0.1
          midterm:
            grade: 77
            weight: 0.3
          final:
            grade: 87
            weight: 0.5
          total_score: 82.3
          attendance:
            total_classes: 30
            attended_classes: 28
            absent_classes: 2
      extra_curricular:
        sports:
          sport:
            - sport_name: Soccer
              position: Forward
              team: The Tigers
            - sport_name: Basketball
              position: Guard
              team: The Eagles
        clubs:
          club:
            - club_name: Science Club
              role: President
            - club_name: Drama Club
              role: Member
    - name: Eve
      age: 13
      contact:
        email: eve@example.com
        phone: '+987654321'
        address: 456 Eve St, Other City
      courses:
        course:
          course_name: Math 101
          quizzes:
            quiz:
              - id: 1
                grade: 9
                weight: 0.15
              - id: 2
                grade: 10
                weight: 0.15
          midterm:
            grade: AB(absent)  # The student was absent for the midterm exam.
            weight: 0.3
          final:
            grade: 77
            weight: 0.4
          total_score: 78.3
          attendance:
            total_classes: 30
            attended_classes: 27
            absent_classes: 3
      extra_curricular:
        sports:
          sport:
            sport_name: Tennis
            position: Singles
            team: The Champions
        clubs:
          club:
            club_name: Art Club
            role: Vice President
    - name: Alice
      age: 14
      contact:
        email: alice@example.com
        phone: '+111222333'
        address: 789 Alice St, Another City
      courses:
        course:
          course_name: Science 101
          quizzes:
            quiz:
              - id: 1
                grade: 7
                weight: 0.2
              - id: 2
                grade: 8
                weight: 0.2
          midterm:
            grade: 85
            weight: 0.3
          final:
            grade: 90
            weight: 0.5
          total_score: 84.7
          attendance:
            total_classes: 30
            attended_classes: 29
            absent_classes: 1
      extra_curricular:
        sports:
          sport:
            sport_name: Swimming
            position: Freestyle
            team: Blue Sharks
        clubs:
          club:
            - club_name: Chess Club
              role: Member
            - club_name: Literature Club
              role: Secretary`,readingtabularjsonc:`{
    "students": {
      "student": [
        {
          // comments
          "name": "Bob",
          "age": 12,
          "contact": {
            "email": "bob@example.com",
            "phone": "+123456789",
            "address": "123 Bob St, Some City"
          },
          "courses": {
            "course": {
              "course_name": "Math 101",
              "quizzes": {
                "quiz": [
                  {
                    "id": 1,
                    "grade": 8,
                    "weight": 0.1
                  },
                  {
                    "id": 2,
                    "grade": 9,
                    "weight": 0.1
                  }
                ]
              },
              "midterm": {
                "grade": 77,
                "weight": 0.3
              },
              "final": {
                "grade": 87,
                "weight": 0.5
              },
              "total_score": 82.3,
              "attendance": {
                "total_classes": 30,
                "attended_classes": 28,
                "absent_classes": 2
              }
            }
          },
          "extra_curricular": {
            "sports": {
              "sport": [
                {
                  "sport_name": "Soccer",
                  "position": "Forward",
                  "team": "The Tigers"
                },
                {
                  "sport_name": "Basketball",
                  "position": "Guard",
                  "team": "The Eagles"
                }
              ]
            },
            "clubs": {
              "club": [
                {
                  "club_name": "Science Club",
                  "role": "President"
                },
                {
                  "club_name": "Drama Club",
                  "role": "Member"
                }
              ]
            }
          }
        },
        {
          "name": "Eve",
          "age": 13,
          "contact": {
            "email": "eve@example.com",
            "phone": "+987654321",
            "address": "456 Eve St, Other City"
          },
          "courses": {
            "course": {
              "course_name": "Math 101",
              "quizzes": {
                "quiz": [
                  {
                    "id": 1,
                    "grade": 9,
                    "weight": 0.15
                  },
                  {
                    "id": 2,
                    "grade": 10,
                    "weight": 0.15
                  }
                ]
              },
              "midterm": {
                "grade": "AB(absent)",
                "weight": 0.3
              },
              "final": {
                "grade": 77,
                "weight": 0.4
              },
              "total_score": 78.3,
              "attendance": {
                "total_classes": 30,
                "attended_classes": 27,
                "absent_classes": 3
              }
            }
          },
          "extra_curricular": {
            "sports": {
              "sport": {
                "sport_name": "Tennis",
                "position": "Singles",
                "team": "The Champions"
              }
            },
            "clubs": {
              "club": {
                "club_name": "Art Club",
                "role": "Vice President"
              }
            }
          }
        },
        {
          "name": "Alice",
          "age": 14,
          "contact": {
            "email": "alice@example.com",
            "phone": "+111222333",
            "address": "789 Alice St, Another City"
          },
          "courses": {
            "course": {
              "course_name": "Science 101",
              "quizzes": {
                "quiz": [
                  {
                    "id": 1,
                    "grade": 7,
                    "weight": 0.2
                  },
                  {
                    "id": 2,
                    "grade": 8,
                    "weight": 0.2
                  }
                ]
              },
              "midterm": {
                "grade": 85,
                "weight": 0.3
              },
              "final": {
                "grade": 90,
                "weight": 0.5
              },
              "total_score": 84.7,
              "attendance": {
                "total_classes": 30,
                "attended_classes": 29,
                "absent_classes": 1
              }
            }
          },
          "extra_curricular": {
            "sports": {
              "sport": {
                "sport_name": "Swimming",
                "position": "Freestyle",
                "team": "Blue Sharks"
              }
            },
            "clubs": {
              "club": [
                {
                  "club_name": "Chess Club",
                  "role": "Member"
                },
                {
                  "club_name": "Literature Club",
                  "role": "Secretary"
                }
              ]
            }
          }
        }
      ]
    }
  }`,readingtabularhjson:`
  students:
  {
    student:
    [
      {
        name: Bob
        age: 12
        contact:
        {
          email: bob@example.com
          phone: +123456789
          address: 123 Bob St, Some City
        }
        courses:
        {
          course:
          {
            course_name: Math 101
            quizzes:
            {
              quiz:
              [
                {
                  id: 1
                  grade: 8
                  weight: 0.1
                }
                {
                  id: 2
                  grade: 9
                  weight: 0.1
                }
              ]
            }
            midterm:
            {
              grade: 77
              weight: 0.3
            }
            final:
            {
              grade: 87
              weight: 0.5
            }
            total_score: 82.3
            attendance:
            {
              total_classes: 30
              attended_classes: 28
              absent_classes: 2
            }
          }
        }
        extra_curricular:
        {
          sports:
          {
            sport:
            [
              {
                sport_name: Soccer
                position: Forward
                team: The Tigers
              }
              {
                sport_name: Basketball
                position: Guard
                team: The Eagles
              }
            ]
          }
          clubs:
          {
            club:
            [
              {
                club_name: Science Club
                role: President
              }
              {
                club_name: Drama Club
                role: Member
              }
            ]
          }
        }
      }
      {
        name: Eve
        age: 13
        contact:
        {
          email: eve@example.com
          phone: +987654321
          address: 456 Eve St, Other City
        }
        courses:
        {
          course:
          {
            course_name: Math 101
            quizzes:
            {
              quiz:
              [
                {
                  id: 1
                  grade: 9
                  weight: 0.15
                }
                {
                  id: 2
                  grade: 10
                  weight: 0.15
                }
              ]
            }
            midterm:
            {
              grade: AB(absent) // The student was absent for the midterm exam.
              weight: 0.3
            }
            final:
            {
              grade: 77
              weight: 0.4
            }
            total_score: 78.3
            attendance:
            {
              total_classes: 30
              attended_classes: 27
              absent_classes: 3
            }
          }
        }
        extra_curricular:
        {
          sports:
          {
            sport:
            {
              sport_name: Tennis
              position: Singles
              team: The Champions
            }
          }
          clubs:
          {
            club:
            {
              club_name: Art Club
              role: Vice President
            }
          }
        }
      }
      {
        name: Alice
        age: 14
        contact:
        {
          email: alice@example.com
          phone: +111222333
          address: 789 Alice St, Another City
        }
        courses:
        {
          course:
          {
            course_name: Science 101
            quizzes:
            {
              quiz:
              [
                {
                  id: 1
                  grade: 7
                  weight: 0.2
                }
                {
                  id: 2
                  grade: 8
                  weight: 0.2
                }
              ]
            }
            midterm:
            {
              grade: 85
              weight: 0.3
            }
            final:
            {
              grade: 90
              weight: 0.5
            }
            total_score: 84.7
            attendance:
            {
              total_classes: 30
              attended_classes: 29
              absent_classes: 1
            }
          }
        }
        extra_curricular:
        {
          sports:
          {
            sport:
            {
              sport_name: Swimming
              position: Freestyle
              team: Blue Sharks
            }
          }
          clubs:
          {
            club:
            [
              {
                club_name: Chess Club
                role: Member
              }
              {
                club_name: Literature Club
                role: Secretary
              }
            ]
          }
        }
      }
    ]
  }`,readingtabularjson5:`{
    students: {
        student: [
            {
                name: 'Bob',
                age: 12,
                contact: {
                    email: 'bob@example.com',
                    phone: '+123456789',
                    address: '123 Bob St, Some City'
                },
                courses: {
                    course: {
                        course_name: 'Math 101',
                        quizzes: {
                            quiz: [
                                {
                                    id: 1,
                                    grade: 8,
                                    weight: 0.1
                                },
                                {
                                    id: 2,
                                    grade: 9,
                                    weight: 0.1
                                }
                            ]
                        },
                        midterm: {
                            grade: 77,
                            weight: 0.3
                        },
                        final: {
                            grade: 87,
                            weight: 0.5
                        },
                        total_score: 82.3,
                        attendance: {
                            total_classes: 30,
                            attended_classes: 28,
                            absent_classes: 2
                        }
                    }
                },
                extra_curricular: {
                    sports: {
                        sport: [
                            {
                                sport_name: 'Soccer',
                                position: 'Forward',
                                team: 'The Tigers'
                            },
                            {
                                sport_name: 'Basketball',
                                position: 'Guard',
                                team: 'The Eagles'
                            }
                        ]
                    },
                    clubs: {
                        club: [
                            {
                                club_name: 'Science Club',
                                role: 'President'
                            },
                            {
                                club_name: 'Drama Club',
                                role: 'Member'
                            }
                        ]
                    }
                }
            },
            {
                name: 'Eve',
                age: 13,
                contact: {
                    email: 'eve@example.com',
                    phone: '+987654321',
                    address: '456 Eve St, Other City'
                },
                courses: {
                    course: {
                        course_name: 'Math 101',
                        quizzes: {
                            quiz: [
                                {
                                    id: 1,
                                    grade: 9,
                                    weight: 0.15
                                },
                                {
                                    id: 2,
                                    grade: 10,
                                    weight: 0.15
                                }
                            ]
                        },
                        midterm: {
                            grade: 'AB(absent)',  // The student was absent for the midterm exam.
                            weight: 0.3
                        },
                        final: {
                            grade: 77,
                            weight: 0.4
                        },
                        total_score: 78.3,
                        attendance: {
                            total_classes: 30,
                            attended_classes: 27,
                            absent_classes: 3
                        }
                    }
                },
                extra_curricular: {
                    sports: {
                        sport: {
                            sport_name: 'Tennis',
                            position: 'Singles',
                            team: 'The Champions'
                        }
                    },
                    clubs: {
                        club: {
                            club_name: 'Art Club',
                            role: 'Vice President'
                        }
                    }
                }
            },
            {
                name: 'Alice',
                age: 14,
                contact: {
                    email: 'alice@example.com',
                    phone: '+111222333',
                    address: '789 Alice St, Another City'
                },
                courses: {
                    course: {
                        course_name: 'Science 101',
                        quizzes: {
                            quiz: [
                                {
                                    id: 1,
                                    grade: 7,
                                    weight: 0.2
                                },
                                {
                                    id: 2,
                                    grade: 8,
                                    weight: 0.2
                                }
                            ]
                        },
                        midterm: {
                            grade: 85,
                            weight: 0.3
                        },
                        final: {
                            grade: 90,
                            weight: 0.5
                        },
                        total_score: 84.7,
                        attendance: {
                            total_classes: 30,
                            attended_classes: 29,
                            absent_classes: 1
                        }
                    }
                },
                extra_curricular: {
                    sports: {
                        sport: {
                            sport_name: 'Swimming',
                            position: 'Freestyle',
                            team: 'Blue Sharks'
                        }
                    },
                    clubs: {
                        club: [
                            {
                                club_name: 'Chess Club',
                                role: 'Member'
                            },
                            {
                                club_name: 'Literature Club',
                                role: 'Secretary'
                            }
                        ]
                    }
                }
            }
        ]
    }
}`,readingconfigjson:JSON.stringify({name:"d3",version:"7.9.0",description:"Data-Driven Documents",homepage:"d3js.org",repository:{type:"git",url:"github.com/d3/d3.git"},keywords:["d3","dom","visualization","svg","animation","canvas"],license:"ISC",author:{firstname:"Mike",lastname:"Bostock"},type:"module",files:["dist/d3.js","dist/d3.min.js","src/**/*.js"],module:"src/index.js",main:"src/index.js",jsdelivr:"dist/d3.min.js",unpkg:"dist/d3.min.js",exports:{umd:"./dist/d3.min.js",default:"./src/index.js"},dependencies:{"d3-array":"^3.2.4","d3-axis":"^3.0.0","d3-brush":"^3.0.0","d3-chord":"^3.0.1","d3-color":"^3.1.0","d3-contour":"^4.0.2","d3-delaunay":"^6.0.4","d3-dispatch":"^3.0.1","d3-drag":"^3.0.0","d3-dsv":"^3.0.1","d3-ease":"^3.0.1","d3-fetch":"^3.0.1","d3-force":"^3.0.0","d3-format":"^3.1.0","d3-geo":"^3.1.1","d3-hierarchy":"^3.1.2","d3-interpolate":"^3.0.1","d3-path":"^3.1.0","d3-polygon":"^3.0.1","d3-quadtree":"^3.0.1","d3-random":"^3.0.1","d3-scale":"^4.0.2","d3-scale-chromatic":"^3.1.0","d3-selection":"^3.0.0","d3-shape":"^3.2.0","d3-time":"^3.1.0","d3-time-format":"^4.1.0","d3-timer":"^3.0.1","d3-transition":"^3.0.1","d3-zoom":"^3.0.0"},devDependencies:{"@observablehq/plot":"^0.6.7","@observablehq/runtime":"^5.7.3","@rollup/plugin-json":"^6.1.0","@rollup/plugin-node-resolve":"^15.2.3","@rollup/plugin-terser":"^0.4.0",eslint:"^8.57.0",mocha:"^10.3.0",rollup:"^3.29.4","topojson-client":"^3.1.0",vitepress:"^1.4.0"},scripts:{prepublishOnly:"rm -rf dist && rollup -c",postpublish:"git push && git push --tags","docs/dev":"node --experimental-network-imports node_modules/vitepress/dist/node/cli.js dev docs","docs/build":"./prebuild.sh && node --experimental-network-imports node_modules/vitepress/dist/node/cli.js build docs","docs/preview":"vitepress preview docs"},engines:{node:">=12"}},null,2),readingconfigxml:`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<root>
  <name>d3</name>
  <version>7.9.0</version> 
  <description>Data-Driven Documents</description>
  <homepage>d3js.org</homepage>
  <repository>
    <type>git</type>
    <url>github.com/d3/d3.git</url>
  </repository>
  <keywords>d3</keywords>
  <keywords>dom</keywords>
  <keywords>visualization</keywords>
  <keywords>svg</keywords>
  <keywords>animation</keywords>
  <keywords>canvas</keywords>
  <license>ISC</license>
  <author>
    <firstname>Mike</firstname>
    <lastname>Bostock</lastname>
  </author>
  <type>module</type>
  <files>dist/d3.js</files>
  <files>dist/d3.min.js</files>
  <files>src/**/*.js</files>
  <module>src/index.js</module>
  <main>src/index.js</main>
  <jsdelivr>dist/d3.min.js</jsdelivr>
  <unpkg>dist/d3.min.js</unpkg>
  <exports>
    <umd>./dist/d3.min.js</umd>
    <default>./src/index.js</default>
  </exports>
  <dependencies>
    <d3-array>^3.2.4</d3-array>
    <d3-axis>^3.0.0</d3-axis>
    <d3-brush>^3.0.0</d3-brush>
    <d3-chord>^3.0.1</d3-chord>
    <d3-color>^3.1.0</d3-color>
    <d3-contour>^4.0.2</d3-contour>
    <d3-delaunay>^6.0.4</d3-delaunay>  <!--this version might have compatibility issues-->
    <d3-dispatch>^3.0.1</d3-dispatch>
    <d3-drag>^3.0.0</d3-drag>
    <d3-dsv>^3.0.1</d3-dsv>
    <d3-ease>^3.0.1</d3-ease>
    <d3-fetch>^3.0.1</d3-fetch>
    <d3-force>^3.0.0</d3-force>
    <d3-format>^3.1.0</d3-format>
    <d3-geo>^3.1.1</d3-geo>
    <d3-hierarchy>^3.1.2</d3-hierarchy>
    <d3-interpolate>^3.0.1</d3-interpolate>
    <d3-path>^3.1.0</d3-path>
    <d3-polygon>^3.0.1</d3-polygon>
    <d3-quadtree>^3.0.1</d3-quadtree>
    <d3-random>^3.0.1</d3-random>
    <d3-scale>^4.0.2</d3-scale>
    <d3-scale-chromatic>^3.1.0</d3-scale-chromatic>
    <d3-selection>^3.0.0</d3-selection>
    <d3-shape>^3.2.0</d3-shape>
    <d3-time>^3.1.0</d3-time>
    <d3-time-format>^4.1.0</d3-time-format>
    <d3-timer>^3.0.1</d3-timer>
    <d3-transition>^3.0.1</d3-transition>
    <d3-zoom>^3.0.0</d3-zoom>
  </dependencies>
  <devDependencies>
    <_x0040_observablehq_x002F_plot>^0.6.7</_x0040_observablehq_x002F_plot>
    <_x0040_observablehq_x002F_runtime>^5.7.3</_x0040_observablehq_x002F_runtime>
    <_x0040_rollup_x002F_plugin-json>^6.1.0</_x0040_rollup_x002F_plugin-json>
    <_x0040_rollup_x002F_plugin-node-resolve>^15.2.3</_x0040_rollup_x002F_plugin-node-resolve>
    <_x0040_rollup_x002F_plugin-terser>^0.4.0</_x0040_rollup_x002F_plugin-terser>
    <eslint>^8.57.0</eslint>
    <mocha>^10.3.0</mocha>
    <rollup>^3.29.4</rollup>
    <topojson-client>^3.1.0</topojson-client>
    <vitepress>^1.4.0</vitepress>
  </devDependencies>
  <scripts>
    <prepublishOnly>rm -rf dist && rollup -c</prepublishOnly>
    <postpublish>git push && git push --tags</postpublish>
    <docs/dev>node --experimental-network-imports node_modules/vitepress/dist/node/cli.js dev docs</docs/dev>
    <docs/build>./prebuild.sh && node --experimental-network-imports node_modules/vitepress/dist/node/cli.js build docs</docs/build>
    <docs/preview>vitepress preview docs</docs/preview>
  <\/scripts>
  <engines>
    <node> >=12</node>
  </engines>
</root>`,readingconfigtoml:`name = "d3"
version = "7.9.0"
description = "Data-Driven Documents"
homepage = "d3js.org"
keywords = ["d3", "dom", "visualization", "svg", "animation", "canvas"]
license = "ISC"
type = "module"
files = ["dist/d3.js", "dist/d3.min.js", "src/**/*.js"]
module = "src/index.js"
main = "src/index.js"
jsdelivr = "dist/d3.min.js"
unpkg = "dist/d3.min.js"

[repository]
type = "git"
url = "github.com/d3/d3.git"

[author]
firstname = "Mike"
lastname = "Bostock"

[exports]
umd = "./dist/d3.min.js"
default = "./src/index.js"

[dependencies]
d3-array = "^3.2.4"
d3-axis = "^3.0.0"
d3-brush = "^3.0.0"
d3-chord = "^3.0.1"
d3-color = "^3.1.0"
d3-contour = "^4.0.2"
d3-delaunay = "^6.0.4" # this version might have compatibility issues
d3-dispatch = "^3.0.1"
d3-drag = "^3.0.0"
d3-dsv = "^3.0.1"
d3-ease = "^3.0.1"
d3-fetch = "^3.0.1"
d3-force = "^3.0.0"
d3-format = "^3.1.0"
d3-geo = "^3.1.1"
d3-hierarchy = "^3.1.2"
d3-interpolate = "^3.0.1"
d3-path = "^3.1.0"
d3-polygon = "^3.0.1"
d3-quadtree = "^3.0.1"
d3-random = "^3.0.1"
d3-scale = "^4.0.2"
d3-scale-chromatic = "^3.1.0"
d3-selection = "^3.0.0"
d3-shape = "^3.2.0"
d3-time = "^3.1.0"
d3-time-format = "^4.1.0"
d3-timer = "^3.0.1"
d3-transition = "^3.0.1"
d3-zoom = "^3.0.0"

[devDependencies]
@observablehq/plot = "^0.6.7"
@observablehq/runtime = "^5.7.3"
@rollup/plugin-json = "^6.1.0"
@rollup/plugin-node-resolve = "^15.2.3"
@rollup/plugin-terser = "^0.4.0"
eslint = "^8.57.0"
mocha = "^10.3.0"
rollup = "^3.29.4"
topojson-client = "^3.1.0"
vitepress = "^1.4.0"

[scripts]
prepublishOnly = "rm -rf dist && rollup -c"
postpublish = "git push && git push --tags"
docs/dev = "node --experimental-network-imports node_modules/vitepress/dist/node/cli.js dev docs"
docs/build = "./prebuild.sh && node --experimental-network-imports node_modules/vitepress/dist/node/cli.js build docs"
docs/preview = "vitepress preview docs"

[engines]
node = ">=12"`,readingconfigyaml:`
  name: d3
  version: 7.9.0
  description: 'Data-Driven Documents'
  homepage: d3js.org
  repository:
    type: git
    url: github.com/d3/d3.git
  keywords:
    - d3
    - dom
    - visualization
    - svg
    - animation
    - canvas
  license: ISC
  author:
    firstname: Mike
    lastname:  Bostock
  type: module
  files:
    - dist/d3.js
    - dist/d3.min.js
    - 'src/**/*.js'
  module: src/index.js
  main: src/index.js
  jsdelivr: dist/d3.min.js
  unpkg: dist/d3.min.js
  exports:
    umd: ./dist/d3.min.js
    default: ./src/index.js
  dependencies:
    d3-array: ^3.2.4
    d3-axis: ^3.0.0
    d3-brush: ^3.0.0
    d3-chord: ^3.0.1
    d3-color: ^3.1.0
    d3-contour: ^4.0.2
    d3-delaunay: ^6.0.4 # this version might have compatibility issues
    d3-dispatch: ^3.0.1
    d3-drag: ^3.0.0
    d3-dsv: ^3.0.1
    d3-ease: ^3.0.1
    d3-fetch: ^3.0.1
    d3-force: ^3.0.0
    d3-format: ^3.1.0
    d3-geo: ^3.1.1
    d3-hierarchy: ^3.1.2
    d3-interpolate: ^3.0.1
    d3-path: ^3.1.0
    d3-polygon: ^3.0.1
    d3-quadtree: ^3.0.1
    d3-random: ^3.0.1
    d3-scale: ^4.0.2
    d3-scale-chromatic: ^3.1.0
    d3-selection: ^3.0.0
    d3-shape: ^3.2.0
    d3-time: ^3.1.0
    d3-time-format: ^4.1.0
    d3-timer: ^3.0.1
    d3-transition: ^3.0.1
    d3-zoom: ^3.0.0
  devDependencies:
    observablehq/plot: ^0.6.7
    observablehq/runtime: ^5.7.3
    rollup/plugin-json: ^6.1.0
    rollup/plugin-node-resolve: ^15.2.3
    rollup/plugin-terser: ^0.4.0
    eslint: ^8.57.0
    mocha: ^10.3.0
    rollup: ^3.29.4
    topojson-client: ^3.1.0
    vitepress: ^1.4.0
  scripts:
    prepublishOnly: 'rm -rf dist && rollup -c'
    postpublish: 'git push && git push --tags'
    docs/dev: 'node --experimental-network-imports node_modules/vitepress/dist/node/cli.js dev docs'
    docs/build: './prebuild.sh && node --experimental-network-imports node_modules/vitepress/dist/node/cli.js build docs'
    docs/preview: 'vitepress preview docs'
  engines:
    node: '>=12'`,readingconfigjsonc:JSON.stringify({name:"d3",version:"7.9.0",description:"Data-Driven Documents",homepage:"d3js.org",repository:{type:"git",url:"github.com/d3/d3.git"},keywords:["d3","dom","visualization","svg","animation","canvas"],license:"ISC",author:{firstname:"Mike",lastname:"Bostock"},type:"module",files:["dist/d3.js","dist/d3.min.js","src/**/*.js"],module:"src/index.js",main:"src/index.js",jsdelivr:"dist/d3.min.js",unpkg:"dist/d3.min.js",exports:{umd:"./dist/d3.min.js",default:"./src/index.js"},dependencies:{"d3-array":"^3.2.4","d3-axis":"^3.0.0","d3-brush":"^3.0.0","d3-chord":"^3.0.1","d3-color":"^3.1.0","d3-contour":"^4.0.2","d3-delaunay":"^6.0.4","d3-dispatch":"^3.0.1","d3-drag":"^3.0.0","d3-dsv":"^3.0.1","d3-ease":"^3.0.1","d3-fetch":"^3.0.1","d3-force":"^3.0.0","d3-format":"^3.1.0","d3-geo":"^3.1.1","d3-hierarchy":"^3.1.2","d3-interpolate":"^3.0.1","d3-path":"^3.1.0","d3-polygon":"^3.0.1","d3-quadtree":"^3.0.1","d3-random":"^3.0.1","d3-scale":"^4.0.2","d3-scale-chromatic":"^3.1.0","d3-selection":"^3.0.0","d3-shape":"^3.2.0","d3-time":"^3.1.0","d3-time-format":"^4.1.0","d3-timer":"^3.0.1","d3-transition":"^3.0.1","d3-zoom":"^3.0.0"},devDependencies:{"@observablehq/plot":"^0.6.7","@observablehq/runtime":"^5.7.3","@rollup/plugin-json":"^6.1.0","@rollup/plugin-node-resolve":"^15.2.3","@rollup/plugin-terser":"^0.4.0",eslint:"^8.57.0",mocha:"^10.3.0",rollup:"^3.29.4","topojson-client":"^3.1.0",vitepress:"^1.4.0"},scripts:{prepublishOnly:"rm -rf dist && rollup -c",postpublish:"git push && git push --tags","docs/dev":"node --experimental-network-imports node_modules/vitepress/dist/node/cli.js dev docs","docs/build":"./prebuild.sh && node --experimental-network-imports node_modules/vitepress/dist/node/cli.js build docs","docs/preview":"vitepress preview docs"},engines:{node:">=12"}},null,2),readingconfigjson5:`{
    name: 'd3',
    version: '7.9.0',
    description: 'Data-Driven Documents',
    homepage: 'd3js.org',
    repository: {
        type: 'git',
        url: 'github.com/d3/d3.git'
    },
    keywords: [
        'd3',
        'dom',
        'visualization',
        'svg',
        'animation',
        'canvas'
    ],
    license: 'ISC',
    author: {
        firstname: 'Mike',
        lastname: 'Bostock'
    },
    type: 'module',
    files: [
        'dist/d3.js',
        'dist/d3.min.js',
        'src/**/*.js'
    ],
    module: 'src/index.js',
    main: 'src/index.js',
    jsdelivr: 'dist/d3.min.js',
    unpkg: 'dist/d3.min.js',
    exports: {
        umd: './dist/d3.min.js',
        default: './src/index.js'
    },
    dependencies: {
        'd3-array': '^3.2.4',
        'd3-axis': '^3.0.0',
        'd3-brush': '^3.0.0',
        'd3-chord': '^3.0.1',
        'd3-color': '^3.1.0',
        'd3-contour': '^4.0.2',
        'd3-delaunay': '^6.0.4', // this version might have compatibility issues
        'd3-dispatch': '^3.0.1',
        'd3-drag': '^3.0.0',
        'd3-dsv': '^3.0.1',
        'd3-ease': '^3.0.1',
        'd3-fetch': '^3.0.1',
        'd3-force': '^3.0.0',
        'd3-format': '^3.1.0',
        'd3-geo': '^3.1.1',
        'd3-hierarchy': '^3.1.2',
        'd3-interpolate': '^3.0.1',
        'd3-path': '^3.1.0',
        'd3-polygon': '^3.0.1',
        'd3-quadtree': '^3.0.1',
        'd3-random': '^3.0.1',
        'd3-scale': '^4.0.2',
        'd3-scale-chromatic': '^3.1.0',
        'd3-selection': '^3.0.0',
        'd3-shape': '^3.2.0',
        'd3-time': '^3.1.0',
        'd3-time-format': '^4.1.0',
        'd3-timer': '^3.0.1',
        'd3-transition': '^3.0.1',
        'd3-zoom': '^3.0.0'
    },
    devDependencies: {
        '@observablehq/plot': '^0.6.7',
        '@observablehq/runtime': '^5.7.3',
        '@rollup/plugin-json': '^6.1.0',
        '@rollup/plugin-node-resolve': '^15.2.3',
        '@rollup/plugin-terser': '^0.4.0',
        eslint: '^8.57.0',
        mocha: '^10.3.0',
        rollup: '^3.29.4',
        'topojson-client': '^3.1.0',
        vitepress: '^1.4.0'
    },
    scripts: {
        prepublishOnly: 'rm -rf dist && rollup -c',
        postpublish: 'git push && git push --tags',
        'docs/dev': 'node --experimental-network-imports node_modules/vitepress/dist/node/cli.js dev docs',
        'docs/build': './prebuild.sh && node --experimental-network-imports node_modules/vitepress/dist/node/cli.js build docs',
        'docs/preview': 'vitepress preview docs'
    },
    engines: {
        node: '>=12'
    }
}`,readingconfighjson:`{
    name: d3
    version: 7.9.0
    description: Data-Driven Documents
    homepage: d3js.org
    repository:
    {
      type: git
      url: github.com/d3/d3.git
    }
    keywords:
    [
      d3
      dom
      visualization
      svg
      animation
      canvas
    ]
    license: ISC
    author:
    {
      firstname: Mike
      lastname:  Bostock
    }
    type: module
    files:
    [
      dist/d3.js
      dist/d3.min.js
      src/**/*.js
    ]
    module: src/index.js
    main: src/index.js
    jsdelivr: dist/d3.min.js
    unpkg: dist/d3.min.js
    exports:
    {
      umd: ./dist/d3.min.js
      default: ./src/index.js
    }
    dependencies:
    {
      d3-array: ^3.2.4
      d3-axis: ^3.0.0
      d3-brush: ^3.0.0
      d3-chord: ^3.0.1
      d3-color: ^3.1.0
      d3-contour: ^4.0.2
      d3-delaunay: ^6.0.4 // this version might have compatibility issues
      d3-dispatch: ^3.0.1
      d3-drag: ^3.0.0
      d3-dsv: ^3.0.1
      d3-ease: ^3.0.1
      d3-fetch: ^3.0.1
      d3-force: ^3.0.0
      d3-format: ^3.1.0
      d3-geo: ^3.1.1
      d3-hierarchy: ^3.1.2
      d3-interpolate: ^3.0.1
      d3-path: ^3.1.0
      d3-polygon: ^3.0.1
      d3-quadtree: ^3.0.1
      d3-random: ^3.0.1
      d3-scale: ^4.0.2
      d3-scale-chromatic: ^3.1.0
      d3-selection: ^3.0.0
      d3-shape: ^3.2.0
      d3-time: ^3.1.0
      d3-time-format: ^4.1.0
      d3-timer: ^3.0.1
      d3-transition: ^3.0.1
      d3-zoom: ^3.0.0
    }
    devDependencies:
    {
      @observablehq/plot: ^0.6.7
      @observablehq/runtime: ^5.7.3
      @rollup/plugin-json: ^6.1.0
      @rollup/plugin-node-resolve: ^15.2.3
      @rollup/plugin-terser: ^0.4.0
      eslint: ^8.57.0
      mocha: ^10.3.0
      rollup: ^3.29.4
      topojson-client: ^3.1.0
      vitepress: ^1.4.0
    }
    scripts:
    {
      prepublishOnly: rm -rf dist && rollup -c
      postpublish: git push && git push --tags
      docs/dev: node --experimental-network-imports node_modules/vitepress/dist/node/cli.js dev docs
      docs/build: ./prebuild.sh && node --experimental-network-imports node_modules/vitepress/dist/node/cli.js build docs
      docs/preview: vitepress preview docs
    }
    engines:
    {
      node: >=12
    }
  }`,modifyingconfigjson:JSON.stringify({name:"vega-lite",author:"Dominik Moritz, Kanit Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer",version:"5.23.0",collaborators:["Kanit Wongsuphasawat","Dominik Moritz","Arvind Satyanarayan","Jeffrey Heer"],homepage:"ega.github.io/vega-lite/",description:"Vega-Lite is a concise high-level language for interactive visualization.",keywords:["vega","chart","visualization"],main:"build/vega-lite.js",unpkg:"build/vega-lite.min.js",jsdelivr:"build/vega-lite.min.js",module:"build/src/index",types:"build/src/index.d.ts",bin:{vl2pdf:"./bin/vl2pdf",vl2png:"./bin/vl2png",vl2svg:"./bin/vl2svg",vl2vg:"./bin/vl2vg"},files:["bin","build","src","vega-lite*","tsconfig.json"],scripts:{changelog:"conventional-changelog -p angular -r",prebuild:"yarn clean:build",build:"yarn build:only",data:"rsync -r node_modules/vega-datasets/data/* site/data","build-editor-preview":"scripts/build-editor-preview.sh",schema:"mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/",renameschema:"scripts/rename-schema.sh",presite:"yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh",site:"yarn site:only",format:"eslint . --fix && yarn prettierbase --write",lint:"eslint . && yarn prettierbase --check",test:"yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn",release:"release-it"},repository:{type:"git",url:"github.com/vega/vega-lite.git"},license:"BSD-3-Clause",bugs:{url:"github.com/vega/vega-lite/issues"},devDependencies:{ajv:"^8.17.1","ajv-formats":"^3.0.1",cheerio:"^1.0.0","conventional-changelog-cli":"^5.0.0",d3:"^7.9.0","del-cli":"^6.0.0",eslint:"^8.57.0","eslint-config-prettier":"^9.1.0","eslint-plugin-jest":"^28.11.0","eslint-plugin-prettier":"^5.2.1","fast-json-stable-stringify":"~2.1.0","highlight.js":"^11.11.1",jest:"^29.7.0","jest-dev-server":"^11.0.0",mkdirp:"^3.0.1",pako:"^2.1.0",prettier:"^3.4.2",puppeteer:"^15.0.0","release-it":"18.1.2",rollup:"^4.32.1","rollup-plugin-bundle-size":"^1.0.3",serve:"^14.2.4",terser:"^5.37.0","ts-jest":"^29.2.5","ts-json-schema-generator":"^2.3.0",typescript:"~5.7.3","vega-cli":"^5.31.0","vega-datasets":"^2.11.0","vega-embed":"^6.29.0","vega-tooltip":"^0.35.2","yaml-front-matter":"^4.1.1"},dependencies:{"json-stringify-pretty-compact":"~4.0.0",tslib:"~2.8.1","vega-event-selector":"~3.0.1","vega-expression":"~5.1.2","vega-util":"~1.17.3",yargs:"~17.7.2"},peerDependencies:{vega:"^5.31.0"},engines:{node:">=18"},packageManager:"yarn@1.22.22"},null,2),modifyingconfigjsonc:JSON.stringify({name:"vega-lite",author:"Dominik Moritz, Kanit Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer",version:"5.23.0",collaborators:["Kanit Wongsuphasawat","Dominik Moritz","Arvind Satyanarayan","Jeffrey Heer"],homepage:"vega.github.io/vega-lite/",description:"Vega-Lite is a concise high-level language for interactive visualization.",keywords:["vega","chart","visualization"],main:"build/vega-lite.js",unpkg:"build/vega-lite.min.js",jsdelivr:"build/vega-lite.min.js",module:"build/src/index",types:"build/src/index.d.ts",bin:{vl2pdf:"./bin/vl2pdf",vl2png:"./bin/vl2png",vl2svg:"./bin/vl2svg",vl2vg:"./bin/vl2vg"},files:["bin","build","src","vega-lite*","tsconfig.json"],scripts:{changelog:"conventional-changelog -p angular -r",prebuild:"yarn clean:build",build:"yarn build:only",data:"rsync -r node_modules/vega-datasets/data/* site/data","build-editor-preview":"scripts/build-editor-preview.sh",schema:"mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/",renameschema:"scripts/rename-schema.sh",presite:"yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh",site:"yarn site:only",format:"eslint . --fix && yarn prettierbase --write",lint:"eslint . && yarn prettierbase --check",test:"yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn",release:"release-it"},repository:{type:"git",url:"github.com/vega/vega-lite.git"},license:"BSD-3-Clause",bugs:{url:"github.com/vega/vega-lite/issues"},devDependencies:{ajv:"^8.17.1","ajv-formats":"^3.0.1",cheerio:"^1.0.0","conventional-changelog-cli":"^5.0.0",d3:"^7.9.0","del-cli":"^6.0.0",eslint:"^8.57.0","eslint-config-prettier":"^9.1.0","eslint-plugin-jest":"^28.11.0","eslint-plugin-prettier":"^5.2.1","fast-json-stable-stringify":"~2.1.0","highlight.js":"^11.11.1",jest:"^29.7.0","jest-dev-server":"^11.0.0",mkdirp:"^3.0.1",pako:"^2.1.0",prettier:"^3.4.2",puppeteer:"^15.0.0","release-it":"18.1.2",rollup:"^4.32.1","rollup-plugin-bundle-size":"^1.0.3",serve:"^14.2.4",terser:"^5.37.0","ts-jest":"^29.2.5","ts-json-schema-generator":"^2.3.0",typescript:"~5.7.3","vega-cli":"^5.31.0","vega-datasets":"^2.11.0","vega-embed":"^6.29.0","vega-tooltip":"^0.35.2","yaml-front-matter":"^4.1.1"},dependencies:{"json-stringify-pretty-compact":"~4.0.0",tslib:"~2.8.1","vega-event-selector":"~3.0.1","vega-expression":"~5.1.2","vega-util":"~1.17.3",yargs:"~17.7.2"},peerDependencies:{vega:"^5.31.0"},engines:{node:">=18"},packageManager:"yarn@1.22.22"},null,2),modifyingconfigxml:`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<root>
  <name>vega-lite</name>
  <author>Dominik Moritz, Kanit Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer</author>
  <version>5.23.0</version>   <!--make sure that the vega version specified in peerDependencies matches this value. -->
  <collaborators>Kanit Wongsuphasawat</collaborators>
  <collaborators>Dominik Moritz</collaborators>
  <collaborators>Arvind Satyanarayan</collaborators>
  <collaborators>Jeffrey Heer</collaborators>
  <homepage>vega.github.io/vega-lite/</homepage>
  <description>Vega-Lite is a concise high-level language for interactive visualization.</description>
  <keywords>vega</keywords>
  <keywords>chart</keywords>
  <keywords>visualization</keywords>
  <main>build/vega-lite.js</main>
  <unpkg>build/vega-lite.min.js</unpkg>
  <jsdelivr>build/vega-lite.min.js</jsdelivr>
  <module>build/src/index</module>
  <types>build/src/index.d.ts</types>
  <bin>
    <vl2pdf>./bin/vl2pdf</vl2pdf>
    <vl2png>./bin/vl2png</vl2png>
    <vl2svg>./bin/vl2svg</vl2svg>
    <vl2vg>./bin/vl2vg</vl2vg>
  </bin>
  <files>bin</files>
  <files>build</files>
  <files>src</files>
  <files>vega-lite*</files>
  <files>tsconfig.json</files>
  <scripts>
    <changelog>conventional-changelog -p angular -r</changelog>
    <prebuild>yarn clean:build</prebuild>
    <build>yarn build:only</build>
    <data>rsync -r node_modules/vega-datasets/data/* site/data</data>
    <build-editor-preview>scripts/build-editor-preview.sh</build-editor-preview>
    <schema>mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode >; build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/</schema>
    <renameschema>scripts/rename-schema.sh</renameschema>
    <presite>yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh</presite>
    <site>yarn site:only</site>
    <format>eslint . --fix && yarn prettierbase --write</format>
    <lint>eslint . && yarn prettierbase --check</lint>
    <test>yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn</test>
    <release>release-it</release>
  <\/scripts>
  <repository>
    <type>git</type>
    <url>github.com/vega/vega-lite.git</url>
  </repository>
  <license>BSD-3-Clause</license>
  <bugs>
    <url>github.com/vega/vega-lite/issues</url>
  </bugs>
  <devDependencies>
    <ajv>^8.17.1</ajv>
    <ajv-formats>^3.0.1</ajv-formats>
    <cheerio>^1.0.0</cheerio>
    <conventional-changelog-cli>^5.0.0</conventional-changelog-cli>
    <d3>^7.9.0</d3>
    <del-cli>^6.0.0</del-cli>
    <eslint>^8.57.0</eslint>
    <eslint-config-prettier>^9.1.0</eslint-config-prettier>
    <eslint-plugin-jest>^28.11.0</eslint-plugin-jest>
    <eslint-plugin-prettier>^5.2.1</eslint-plugin-prettier>
    <fast-json-stable-stringify>~2.1.0</fast-json-stable-stringify>
    <highlight.js>^11.11.1</highlight.js>
    <jest>^29.7.0</jest>
    <jest-dev-server>^11.0.0</jest-dev-server>
    <mkdirp>^3.0.1</mkdirp>
    <pako>^2.1.0</pako>
    <prettier>^3.4.2</prettier>
    <puppeteer>^15.0.0</puppeteer>
    <release-it>18.1.2</release-it>
    <rollup>^4.32.1</rollup>
    <rollup-plugin-bundle-size>^1.0.3</rollup-plugin-bundle-size>
    <serve>^14.2.4</serve>
    <terser>^5.37.0</terser>
    <ts-jest>^29.2.5</ts-jest>
    <ts-json-schema-generator>^2.3.0</ts-json-schema-generator>
    <typescript>~5.7.3</typescript>
    <vega-cli>^5.31.0</vega-cli>
    <vega-datasets>^2.11.0</vega-datasets>
    <vega-embed>^6.29.0</vega-embed>
    <vega-tooltip>^0.35.2</vega-tooltip>
    <yaml-front-matter>^4.1.1</yaml-front-matter>
  </devDependencies>
  <dependencies>
    <json-stringify-pretty-compact>~4.0.0</json-stringify-pretty-compact>
    <tslib>~2.8.1</tslib>
    <vega-event-selector>~3.0.1</vega-event-selector>
    <vega-expression>~5.1.2</vega-expression>
    <vega-util>~1.17.3</vega-util>
    <yargs>~17.7.2</yargs>
  </dependencies>
  <peerDependencies>
    <vega>^5.31.0</vega>  <!--make sure this value matches the value of the version at the beginning. -->
  </peerDependencies>
  <engines>
    <node>>=18</node>
  </engines>
  <packageManager>yarn@1.22.22</packageManager>
</root>`,modifyingconfigtoml:`name = "vega-lite"
author = "Dominik Moritz, Kanit Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer"
version = "5.23.0"   # make sure that the vega version specified in peerDependencies matches this value.
collaborators = ["Kanit Wongsuphasawat", "Dominik Moritz", "Arvind Satyanarayan", "Jeffrey Heer"]
homepage = "vega.github.io/vega-lite/"
description = "Vega-Lite is a concise high-level language for interactive visualization."
keywords = ["vega", "chart", "visualization"]
main = "build/vega-lite.js"
unpkg = "build/vega-lite.min.js"
jsdelivr = "build/vega-lite.min.js"
module = "build/src/index"
types = "build/src/index.d.ts"
files = ["bin", "build", "src", "vega-lite*", "tsconfig.json"]
license = "BSD-3-Clause"
packageManager = "yarn@1.22.22"

[bin]
vl2pdf = "./bin/vl2pdf"
vl2png = "./bin/vl2png"
vl2svg = "./bin/vl2svg"
vl2vg = "./bin/vl2vg"

[scripts]
changelog = "conventional-changelog -p angular -r"
prebuild = "yarn clean:build"
build = "yarn build:only"
data = "rsync -r node_modules/vega-datasets/data/* site/data"
build-editor-preview = "scripts/build-editor-preview.sh"
schema = "mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/"
renameschema = "scripts/rename-schema.sh"
presite = "yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh"
site = "yarn site:only"
format = "eslint . --fix && yarn prettierbase --write"
lint = "eslint . && yarn prettierbase --check"
test = "yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn"
release = "release-it"

[repository]
type = "git"
url = "github.com/vega/vega-lite.git"

[bugs]
url = "github.com/vega/vega-lite/issues"

[devDependencies]
ajv = "^8.17.1"
ajv-formats = "^3.0.1"
cheerio = "^1.0.0"
conventional-changelog-cli = "^5.0.0"
d3 = "^7.9.0"
del-cli = "^6.0.0"
eslint = "^8.57.0"
eslint-config-prettier = "^9.1.0"
eslint-plugin-jest = "^28.11.0"
eslint-plugin-prettier = "^5.2.1"
fast-json-stable-stringify = "~2.1.0"
"highlight.js" = "^11.11.1"
jest = "^29.7.0"
jest-dev-server = "^11.0.0"
mkdirp = "^3.0.1"
pako = "^2.1.0"
prettier = "^3.4.2"
puppeteer = "^15.0.0"
release-it = "18.1.2"
rollup = "^4.32.1"
rollup-plugin-bundle-size = "^1.0.3"
serve = "^14.2.4"
terser = "^5.37.0"
ts-jest = "^29.2.5"
ts-json-schema-generator = "^2.3.0"
typescript = "~5.7.3"
vega-cli = "^5.31.0"
vega-datasets = "^2.11.0"
vega-embed = "^6.29.0"
vega-tooltip = "^0.35.2"
yaml-front-matter = "^4.1.1"

[dependencies]
json-stringify-pretty-compact = "~4.0.0"
tslib = "~2.8.1"
vega-event-selector = "~3.0.1"
vega-expression = "~5.1.2"
vega-util = "~1.17.3"
yargs = "~17.7.2"

[peerDependencies]
vega = "^5.31.0"   # make sure this value matches the value of the version at the beginning.

[engines]
node = ">=18"`,modifyingconfigyaml:`name: vega-lite
author: Dominik Moritz, Kanit Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer
version: 5.23.0  # make sure that the vega version specified in peerDependencies matches this value.
collaborators:
  - Kanit Wongsuphasawat
  - Dominik Moritz
  - Arvind Satyanarayan
  - Jeffrey Heer
homepage: vega.github.io/vega-lite/
description: Vega-Lite is a concise high-level language for interactive visualization.
keywords:
  - vega
  - chart
  - visualization
main: build/vega-lite.js
unpkg: build/vega-lite.min.js
jsdelivr: build/vega-lite.min.js
module: build/src/index
types: build/src/index.d.ts
bin:
  vl2pdf: ./bin/vl2pdf
  vl2png: ./bin/vl2png
  vl2svg: ./bin/vl2svg
  vl2vg: ./bin/vl2vg
files:
  - bin
  - build
  - src
  - vega-lite*
  - tsconfig.json
scripts:
  changelog: conventional-changelog -p angular -r
  prebuild: yarn clean:build
  build: yarn build:only
  data: rsync -r node_modules/vega-datasets/data/* site/data
  build-editor-preview: scripts/build-editor-preview.sh
  schema: mkdir -p build && ts-json-schema-generator -f tsconfig.json -p
    src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode >
    build/vega-lite-schema.json && yarn renameschema && cp
    build/vega-lite-schema.json site/_data/
  renameschema: scripts/rename-schema.sh
  presite: yarn data && yarn schema && yarn build:site && yarn build:versions &&
    scripts/create-example-pages.sh
  site: yarn site:only
  format: eslint . --fix && yarn prettierbase --write
  lint: eslint . && yarn prettierbase --check
  test: yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn
  release: release-it
repository:
  type: git
  url: github.com/vega/vega-lite.git
license: BSD-3-Clause
bugs:
  url: github.com/vega/vega-lite/issues
devDependencies:
  ajv: ^8.17.1
  ajv-formats: ^3.0.1
  cheerio: ^1.0.0
  conventional-changelog-cli: ^5.0.0
  d3: ^7.9.0
  del-cli: ^6.0.0
  eslint: ^8.57.0
  eslint-config-prettier: ^9.1.0
  eslint-plugin-jest: ^28.11.0
  eslint-plugin-prettier: ^5.2.1
  fast-json-stable-stringify: ~2.1.0
  highlight.js: ^11.11.1
  jest: ^29.7.0
  jest-dev-server: ^11.0.0
  mkdirp: ^3.0.1
  pako: ^2.1.0
  prettier: ^3.4.2
  puppeteer: ^15.0.0
  release-it: 18.1.2
  rollup: ^4.32.1
  rollup-plugin-bundle-size: ^1.0.3
  serve: ^14.2.4
  terser: ^5.37.0
  ts-jest: ^29.2.5
  ts-json-schema-generator: ^2.3.0
  typescript: ~5.7.3
  vega-cli: ^5.31.0
  vega-datasets: ^2.11.0
  vega-embed: ^6.29.0
  vega-tooltip: ^0.35.2
  yaml-front-matter: ^4.1.1
dependencies:
  json-stringify-pretty-compact: ~4.0.0
  tslib: ~2.8.1
  vega-event-selector: ~3.0.1
  vega-expression: ~5.1.2
  vega-util: ~1.17.3
  yargs: ~17.7.2
peerDependencies:
  vega: ^5.31.0  # make sure this value matches the value of the version at the beginning.
engines:
  node: ">=18"
packageManager: yarn@1.22.22`,modifyingconfigjson5:`{
    name: 'vega-lite',
    author: 'Dominik Moritz, Kanit Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer',
    version: '5.23.0',  // make sure that the vega version specified in peerDependencies matches this value.
    collaborators: [
        'Kanit Wongsuphasawat',
        'Dominik Moritz',
        'Arvind Satyanarayan',
        'Jeffrey Heer'
    ],
    homepage: 'vega.github.io/vega-lite/',
    description: 'Vega-Lite is a concise high-level language for interactive visualization.',
    keywords: [
        'vega',
        'chart',
        'visualization'
    ],
    main: 'build/vega-lite.js',
    unpkg: 'build/vega-lite.min.js',
    jsdelivr: 'build/vega-lite.min.js',
    module: 'build/src/index',
    types: 'build/src/index.d.ts',
    bin: {
        vl2pdf: './bin/vl2pdf',
        vl2png: './bin/vl2png',
        vl2svg: './bin/vl2svg',
        vl2vg: './bin/vl2vg'
    },
    files: [
        'bin',
        'build',
        'src',
        'vega-lite*',
        'tsconfig.json'
    ],
    scripts: {
        changelog: 'conventional-changelog -p angular -r',
        prebuild: 'yarn clean:build',
        build: 'yarn build:only',
        data: 'rsync -r node_modules/vega-datasets/data/* site/data',
        'build-editor-preview': 'scripts/build-editor-preview.sh',
        schema: 'mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/',
        renameschema: 'scripts/rename-schema.sh',
        presite: 'yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh',
        site: 'yarn site:only',
        format: 'eslint . --fix && yarn prettierbase --write',
        lint: 'eslint . && yarn prettierbase --check',
        test: 'yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn',
        release: 'release-it'
    },
    repository: {
        type: 'git',
        url: 'github.com/vega/vega-lite.git'
    },
    license: 'BSD-3-Clause',
    bugs: {
        url: 'github.com/vega/vega-lite/issues'
    },
    devDependencies: {
        ajv: '^8.17.1',
        'ajv-formats': '^3.0.1',
        cheerio: '^1.0.0',
        'conventional-changelog-cli': '^5.0.0',
        d3: '^7.9.0',
        'del-cli': '^6.0.0',
        eslint: '^8.57.0',
        'eslint-config-prettier': '^9.1.0',
        'eslint-plugin-jest': '^28.11.0',
        'eslint-plugin-prettier': '^5.2.1',
        'fast-json-stable-stringify': '~2.1.0',
        'highlight.js': '^11.11.1',
        jest: '^29.7.0',
        'jest-dev-server': '^11.0.0',
        mkdirp: '^3.0.1',
        pako: '^2.1.0',
        prettier: '^3.4.2',
        puppeteer: '^15.0.0',
        'release-it': '18.1.2',
        rollup: '^4.32.1',
        'rollup-plugin-bundle-size': '^1.0.3',
        serve: '^14.2.4',
        terser: '^5.37.0',
        'ts-jest': '^29.2.5',
        'ts-json-schema-generator': '^2.3.0',
        typescript: '~5.7.3',
        'vega-cli': '^5.31.0',
        'vega-datasets': '^2.11.0',
        'vega-embed': '^6.29.0',
        'vega-tooltip': '^0.35.2',
        'yaml-front-matter': '^4.1.1'
    },
    dependencies: {
        'json-stringify-pretty-compact': '~4.0.0',
        tslib: '~2.8.1',
        'vega-event-selector': '~3.0.1',
        'vega-expression': '~5.1.2',
        'vega-util': '~1.17.3',
        yargs: '~17.7.2'
    },
    peerDependencies: {
        vega: '^5.31.0' //make sure this value matches the value of the version at the beginning.
    },
    engines: {
        node: '>=18'
    },
    packageManager: 'yarn@1.22.22'
}`,modifyingconfighjson:`
  name: vega-lite
  author: Dominik Moritz, Kanit Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer
  version: 5.23.0   // make sure that the vega version specified in peerDependencies matches this value.
  collaborators:
  [
    Kanit Wongsuphasawat
    Dominik Moritz
    Arvind Satyanarayan
    Jeffrey Heer
  ]
  homepage: vega.github.io/vega-lite/
  description: Vega-Lite is a concise high-level language for interactive visualization.
  keywords:
  [
    vega
    chart
    visualization
  ]
  main: build/vega-lite.js
  unpkg: build/vega-lite.min.js
  jsdelivr: build/vega-lite.min.js
  module: build/src/index
  types: build/src/index.d.ts
  bin:
  {
    vl2pdf: ./bin/vl2pdf
    vl2png: ./bin/vl2png
    vl2svg: ./bin/vl2svg
    vl2vg: ./bin/vl2vg
  }
  files:
  [
    bin
    build
    src
    vega-lite*
    tsconfig.json
  ]
  scripts:
  {
    changelog: conventional-changelog -p angular -r
    prebuild: yarn clean:build
    build: yarn build:only
    data: rsync -r node_modules/vega-datasets/data/* site/data
    build-editor-preview: scripts/build-editor-preview.sh
    schema: mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/
    renameschema: scripts/rename-schema.sh
    presite: yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh
    site: yarn site:only
    format: eslint . --fix && yarn prettierbase --write
    lint: eslint . && yarn prettierbase --check
    test: yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn
    release: release-it
  }
  repository:
  {
    type: git
    url: github.com/vega/vega-lite.git
  }
  license: BSD-3-Clause
  bugs:
  {
    url: github.com/vega/vega-lite/issues
  }
  devDependencies:
  {
    ajv: ^8.17.1
    ajv-formats: ^3.0.1
    cheerio: ^1.0.0
    conventional-changelog-cli: ^5.0.0
    d3: ^7.9.0
    del-cli: ^6.0.0
    eslint: ^8.57.0
    eslint-config-prettier: ^9.1.0
    eslint-plugin-jest: ^28.11.0
    eslint-plugin-prettier: ^5.2.1
    fast-json-stable-stringify: ~2.1.0
    highlight.js: ^11.11.1
    jest: ^29.7.0
    jest-dev-server: ^11.0.0
    mkdirp: ^3.0.1
    pako: ^2.1.0
    prettier: ^3.4.2
    puppeteer: ^15.0.0
    release-it: 18.1.2
    rollup: ^4.32.1
    rollup-plugin-bundle-size: ^1.0.3
    serve: ^14.2.4
    terser: ^5.37.0
    ts-jest: ^29.2.5
    ts-json-schema-generator: ^2.3.0
    typescript: ~5.7.3
    vega-cli: ^5.31.0
    vega-datasets: ^2.11.0
    vega-embed: ^6.29.0
    vega-tooltip: ^0.35.2
    yaml-front-matter: ^4.1.1
  }
  dependencies:
  {
    json-stringify-pretty-compact: ~4.0.0
    tslib: ~2.8.1
    vega-event-selector: ~3.0.1
    vega-expression: ~5.1.2
    vega-util: ~1.17.3
    yargs: ~17.7.2
  }
  peerDependencies:
  {
    vega: ^5.31.0  //make sure this value matches the value of the version at the beginning.
  }
  engines:
  {
    node: >=18
  }
  packageManager: yarn@1.22.22`,modifyingtabularjson:JSON.stringify({movies:{movie:[{title:"After Dark in Central Park",year:1900,cast:[],genres:["Silent","Short"],href:null,country:"United States",runtime:3,language:"Silent",release_date:"1900-03-15",production_company:"Edison Manufacturing Company",director:"James H. White",writer:"Unknown",cinematography:"Unknown",budget:500,box_office:null,awards:[]},{title:"Boarding School Girls' Pajama Parade",year:1900,cast:[],genres:["Silent","Short"],href:null,country:"United States",runtime:2,language:"Silent",release_date:"1900-05-10",production_company:"Edison Manufacturing Company",director:"James H. White",writer:"Unknown",cinematography:"Unknown",budget:450,box_office:null,awards:[]},{title:"Buffalo Bill's Wild West Parade",year:1900,cast:["Buffalo Bill (William F. Cody)"],genres:["Documentary"],href:null,country:"United States",runtime:5,language:"Silent",release_date:"1900-07-04",production_company:"Edison Manufacturing Company",director:"Unknown",writer:"Unknown",cinematography:"Unknown",budget:600,box_office:null,awards:[]},{title:"Caught",year:1900,cast:[],genres:["Drama"],href:null,country:"United States",runtime:2,language:"Silent",release_date:"1900-02-20",production_company:"Biograph Company",director:"William Heise",writer:"Unknown",cinematography:"Unknown",budget:400,box_office:null,awards:[]},{title:"Clowns Spinning Hats",year:1900,cast:["Unknown Clowns"],genres:["Silent","Comedy"],href:"Clowns_Spinning_Hats",extract:"Clowns Spinning Hats is a black-and-white silent film featuring clowns throwing hats back and forth to each other. It was written and produced by Lubin Films and released April 7, 1900.",country:"United States",runtime:3,language:"Silent",release_date:"1900-04-07",production_company:"Lubin Films",director:"Unknown",writer:"Unknown",cinematography:"Unknown",budget:500,box_office:null,awards:[]},{title:"The Enchanted Drawing",year:1900,cast:["J. Stuart Blackton"],genres:["Silent","Animation"],href:"The_Enchanted_Drawing",extract:"The Enchanted Drawing is a 1900 silent film directed by J. Stuart Blackton. It is best known for containing the first animated sequences recorded on standard picture film, which has led Blackton to be considered the father of American animation.",thumbnail_width:320,thumbnail_height:240,country:"United States",runtime:2,language:"Silent",release_date:"1900-11-16",production_company:"Vitagraph Studios",director:"J. Stuart Blackton",writer:"J. Stuart Blackton",cinematography:"Unknown",budget:700,box_office:null,awards:[]},{title:"Feeding Sea Lions",year:1900,cast:["Paul Boyton"],genres:["Short","Silent"],href:"Feeding_Sea_Lions",extract:"Feeding Sea Lions is a short silent film featuring Paul Boyton feeding sea lions at his Sea Lion Park at Coney Island. Boyton is shown feeding the trained sea lions, twelve in number. The sea lions follow Boyton up the steps of the pool and then follow him back into the water. One of them steals food out of the basket. The film was made by Lubin Studios on March 10, 1900.",country:"United States",runtime:3,language:"Silent",release_date:"1900-03-10",production_company:"Lubin Studios",director:"Unknown",writer:"Unknown",cinematography:"Unknown",budget:450,box_office:null,awards:[]},{title:"A Trip to the Moon",year:1902,cast:["Georges Mlis"],genres:["Sci-Fi","Adventure"],href:"A_Trip_to_the_Moon",extract:"A Trip to the Moon (French: Le Voyage dans la Lune) is a 1902 French silent film directed by Georges Mlis. It is widely regarded as the first science fiction film ever made.",thumbnail_width:320,thumbnail_height:240,country:"France",runtime:14,language:"Silent",release_date:"1902-09-01",production_company:"Star Film Company",director:"Georges Mlis",writer:"Georges Mlis",cinematography:"Georges Mlis",budget:1e4,box_office:2e4,awards:["Considered a milestone in cinema history"]},{title:"The Great Train Robbery",year:1903,cast:["Gilbert M. Anderson","A. C. Abadie"],genres:["Western","Action"],href:"The_Great_Train_Robbery",extract:"The Great Train Robbery is a 1903 American silent short film directed by Edwin S. Porter. It is considered one of the earliest narrative films.",thumbnail_width:320,thumbnail_height:240,country:"United States",runtime:12,language:"Silent",release_date:"1903-12-01",production_company:"Edison Manufacturing Company",director:"Edwin S. Porter",writer:"Scott Marble",cinematography:"Edwin S. Porter",budget:150,box_office:5e3,awards:["One of the earliest crime films"]}]}},null,2),modifyingtabularjsonc:JSON.stringify({movies:{movie:[{title:"After Dark in Central Park",year:1900,cast:[],genres:["Silent","Short"],href:null,country:"United States",runtime:3,language:"Silent",release_date:"1900-03-15",production_company:"Edison Manufacturing Company",director:"James H. White",writer:"Unknown",cinematography:"Unknown",budget:500,box_office:null,awards:[]},{title:"Boarding School Girls' Pajama Parade",year:1900,cast:[],genres:["Silent","Short"],href:null,country:"United States",runtime:2,language:"Silent",release_date:"1900-05-10",production_company:"Edison Manufacturing Company",director:"James H. White",writer:"Unknown",cinematography:"Unknown",budget:450,box_office:null,awards:[]},{title:"Buffalo Bill's Wild West Parade",year:1900,cast:["Buffalo Bill (William F. Cody)"],genres:["Documentary"],href:null,country:"United States",runtime:5,language:"Silent",release_date:"1900-07-04",production_company:"Edison Manufacturing Company",director:"Unknown",writer:"Unknown",cinematography:"Unknown",budget:600,box_office:null,awards:[]},{title:"Caught",year:1900,cast:[],genres:["Drama"],href:null,country:"United States",runtime:2,language:"Silent",release_date:"1900-02-20",production_company:"Biograph Company",director:"William Heise",writer:"Unknown",cinematography:"Unknown",budget:400,box_office:null,awards:[]},{title:"Clowns Spinning Hats",year:1900,cast:["Unknown Clowns"],genres:["Silent","Comedy"],href:"Clowns_Spinning_Hats",extract:"Clowns Spinning Hats is a black-and-white silent film featuring clowns throwing hats back and forth to each other. It was written and produced by Lubin Films and released April 7, 1900.",country:"United States",runtime:3,language:"Silent",release_date:"1900-04-07",production_company:"Lubin Films",director:"Unknown",writer:"Unknown",cinematography:"Unknown",budget:500,box_office:null,awards:[]},{title:"The Enchanted Drawing",year:1900,cast:["J. Stuart Blackton"],genres:["Silent","Animation"],href:"The_Enchanted_Drawing",extract:"The Enchanted Drawing is a 1900 silent film directed by J. Stuart Blackton. It is best known for containing the first animated sequences recorded on standard picture film, which has led Blackton to be considered the father of American animation.",thumbnail_width:320,thumbnail_height:240,country:"United States",runtime:2,language:"Silent",release_date:"1900-11-16",production_company:"Vitagraph Studios",director:"J. Stuart Blackton",writer:"J. Stuart Blackton",cinematography:"Unknown",budget:700,box_office:null,awards:[]},{title:"Feeding Sea Lions",year:1900,cast:["Paul Boyton"],genres:["Short","Silent"],href:"Feeding_Sea_Lions",extract:"Feeding Sea Lions is a short silent film featuring Paul Boyton feeding sea lions at his Sea Lion Park at Coney Island. Boyton is shown feeding the trained sea lions, twelve in number. The sea lions follow Boyton up the steps of the pool and then follow him back into the water. One of them steals food out of the basket. The film was made by Lubin Studios on March 10, 1900.",country:"United States",runtime:3,language:"Silent",release_date:"1900-03-10",production_company:"Lubin Studios",director:"Unknown",writer:"Unknown",cinematography:"Unknown",budget:450,box_office:null,awards:[]},{title:"A Trip to the Moon",year:1902,cast:["Georges Mlis"],genres:["Sci-Fi","Adventure"],href:"A_Trip_to_the_Moon",extract:"A Trip to the Moon (French: Le Voyage dans la Lune) is a 1902 French silent film directed by Georges Mlis. It is widely regarded as the first science fiction film ever made.",thumbnail_width:320,thumbnail_height:240,country:"France",runtime:14,language:"Silent",release_date:"1902-09-01",production_company:"Star Film Company",director:"Georges Mlis",writer:"Georges Mlis",cinematography:"Georges Mlis",budget:1e4,box_office:2e4,awards:["Considered a milestone in cinema history"]},{title:"The Great Train Robbery",year:1903,cast:["Gilbert M. Anderson","A. C. Abadie"],genres:["Western","Action"],href:"The_Great_Train_Robbery",extract:"The Great Train Robbery is a 1903 American silent short film directed by Edwin S. Porter. It is considered one of the earliest narrative films.",thumbnail_width:320,thumbnail_height:240,country:"United States",runtime:12,language:"Silent",release_date:"1903-12-01",production_company:"Edison Manufacturing Company",director:"Edwin S. Porter",writer:"Scott Marble",cinematography:"Edwin S. Porter",budget:150,box_office:5e3,awards:["One of the earliest crime films"]}]}},null,2),modifyingtabularxml:`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<movies>
  <movie>
    <title>After Dark in Central Park</title>
    <year>1900</year>
    <cast/>
    <genres>Silent</genres>
    <genres>Short</genres>
    <href/>
    <country>United States</country>
    <runtime>3</runtime>
    <language>Silent</language>
    <release_date>1900-03-15</release_date>
    <production_company>Edison Manufacturing Company</production_company>
    <director>James H. White</director>
    <writer>Unknown</writer>
    <cinematography>Unknown</cinematography>
    <budget>500</budget>
    <box_office/>
    <awards/>
  </movie>
  <movie>
    <title>Boarding School Girls' Pajama Parade</title>
    <year>1900</year>
    <cast/>
    <genres>Silent</genres>
    <genres>Short</genres>
    <href/>
    <country>United States</country>
    <runtime>2</runtime>
    <language>Silent</language>
    <release_date>1900-05-10</release_date>
    <production_company>Edison Manufacturing Company</production_company>
    <director>James H. White</director>
    <writer>Unknown</writer>
    <cinematography>Unknown</cinematography>
    <budget>450</budget>
    <box_office/>
    <awards/>
  </movie>
  <movie>
    <title>Buffalo Bill's Wild West Parade</title>
    <year>1900</year>
    <cast>Buffalo Bill (William F. Cody)</cast>
    <genres>Documentary</genres>
    <href/>
    <country>United States</country>
    <runtime>5</runtime>
    <language>Silent</language>
    <release_date>1900-07-04</release_date>
    <production_company>Edison Manufacturing Company</production_company>
    <director>Unknown</director>
    <writer>Unknown</writer>
    <cinematography>Unknown</cinematography>
    <budget>600</budget>
    <box_office/>
    <awards/>
  </movie>
  <movie>
    <title>Caught</title>
    <year>1900</year>
    <cast/>
    <genres>Drama</genres>
    <href/>
    <country>United States</country>
    <runtime>2</runtime>
    <language>Silent</language>
    <release_date>1900-02-20</release_date>
    <production_company>Biograph Company</production_company>
    <director>William Heise</director>
    <writer>Unknown</writer>
    <cinematography>Unknown</cinematography>
    <budget>400</budget>
    <box_office/>
    <awards/>
  </movie>
  <movie>
    <title>Clowns Spinning Hats</title>
    <year>1900</year>
    <cast>Unknown Clowns</cast>
    <genres>Silent</genres>
    <genres>Comedy</genres>
    <href>Clowns_Spinning_Hats</href>
    <extract>Clowns Spinning Hats is a black-and-white silent film featuring clowns throwing hats back and forth to each other. It was written and produced by Lubin Films and released April 7, 1900.</extract>
    <country>United States</country>
    <runtime>3</runtime>
    <language>Silent</language>
    <release_date>1900-04-07</release_date>
    <production_company>Lubin Films</production_company>
    <director>Unknown</director>
    <writer>Unknown</writer>
    <cinematography>Unknown</cinematography>
    <budget>500</budget>
    <box_office/>
    <awards/>
  </movie>
  <movie>
    <title>The Enchanted Drawing</title>
    <year>1900</year>
    <cast>J. Stuart Blackton</cast>
    <genres>Silent</genres>
    <genres>Animation</genres>
    <href>The_Enchanted_Drawing</href>
    <extract>The Enchanted Drawing is a 1900 silent film directed by J. Stuart Blackton. It is best known for containing the first animated sequences recorded on standard picture film, which has led Blackton to be considered the father of American animation.</extract>
    <thumbnail_width>320</thumbnail_width>
    <thumbnail_height>240</thumbnail_height>
    <country>United States</country>
    <runtime>2</runtime>
    <language>Silent</language>
    <release_date>1900-11-16</release_date>
    <production_company>Vitagraph Studios</production_company>
    <director>J. Stuart Blackton</director>
    <writer>J. Stuart Blackton</writer>
    <cinematography>Unknown</cinematography>
    <budget>700</budget>
    <box_office/>
    <awards/>
  </movie>
  <movie>
    <title>Feeding Sea Lions</title>
    <year>1900</year>
    <cast>Paul Boyton</cast>
    <genres>Short</genres>
    <genres>Silent</genres>
    <href>Feeding_Sea_Lions</href>
    <extract>Feeding Sea Lions is a short silent film featuring Paul Boyton feeding sea lions at his Sea Lion Park at Coney Island. Boyton is shown feeding the trained sea lions, twelve in number. The sea lions follow Boyton up the steps of the pool and then follow him back into the water. One of them steals food out of the basket. The film was made by Lubin Studios on March 10, 1900.</extract>
    <country>United States</country>
    <runtime>3</runtime>
    <language>Silent</language>
    <release_date>1900-03-10</release_date>
    <production_company>Lubin Studios</production_company>
    <director>Unknown</director>
    <writer>Unknown</writer>
    <cinematography>Unknown</cinematography>
    <budget>450</budget>
    <box_office/>
    <awards/>
  </movie>
  <movie>
    <title>A Trip to the Moon</title>
    <year>1902</year>   <!-- This movie was released after 1900. -->
    <cast>Georges Mlis</cast>
    <genres>Sci-Fi</genres>
    <genres>Adventure</genres>
    <href>A_Trip_to_the_Moon</href>
    <extract>A Trip to the Moon (French: Le Voyage dans la Lune) is a 1902 French silent film directed by Georges Mlis. It is widely regarded as the first science fiction film ever made.</extract>
    <thumbnail_width>320</thumbnail_width>
    <thumbnail_height>240</thumbnail_height>
    <country>France</country>
    <runtime>14</runtime>
    <language>Silent</language>
    <release_date>1902-09-01</release_date>
    <production_company>Star Film Company</production_company>
    <director>Georges Mlis</director>
    <writer>Georges Mlis</writer>
    <cinematography>Georges Mlis</cinematography>
    <budget>10000</budget>
    <box_office>20000</box_office>
    <awards>Considered a milestone in cinema history</awards>
  </movie>
  <movie>
    <title>The Great Train Robbery</title>
    <year>1903</year>   <!-- This movie was released after 1900. -->
    <cast>Gilbert M. Anderson</cast>
    <cast>A. C. Abadie</cast>
    <genres>Western</genres>
    <genres>Action</genres>
    <href>The_Great_Train_Robbery</href>
    <extract>The Great Train Robbery is a 1903 American silent short film directed by Edwin S. Porter. It is considered one of the earliest narrative films.</extract>
    <thumbnail_width>320</thumbnail_width>
    <thumbnail_height>240</thumbnail_height>
    <country>United States</country>
    <runtime>12</runtime>
    <language>Silent</language>
    <release_date>1903-12-01</release_date>
    <production_company>Edison Manufacturing Company</production_company>
    <director>Edwin S. Porter</director>
    <writer>Scott Marble</writer>
    <cinematography>Edwin S. Porter</cinematography>
    <budget>150</budget>
    <box_office>5000</box_office>
    <awards>One of the earliest crime films</awards>
  </movie>
</movies>`,modifyingtabulartoml:`[movies]

[[movies.movie]]
title = "After Dark in Central Park"
year = 1900
cast = []
genres = ["Silent", "Short"]
country = "United States"
runtime = 3
language = "Silent"
release_date = "1900-03-15"
production_company = "Edison Manufacturing Company"
director = "James H. White"
writer = "Unknown"
cinematography = "Unknown"
budget = 500
awards = []

[[movies.movie]]
title = "Boarding School Girls' Pajama Parade"
year = 1900
cast = []
genres = ["Silent", "Short"]
country = "United States"
runtime = 2
language = "Silent"
release_date = "1900-05-10"
production_company = "Edison Manufacturing Company"
director = "James H. White"
writer = "Unknown"
cinematography = "Unknown"
budget = 450
awards = []

[[movies.movie]]
title = "Buffalo Bill's Wild West Parade"
year = 1900
cast = ["Buffalo Bill (William F. Cody)"]
genres = ["Documentary"]
country = "United States"
runtime = 5
language = "Silent"
release_date = "1900-07-04"
production_company = "Edison Manufacturing Company"
director = "Unknown"
writer = "Unknown"
cinematography = "Unknown"
budget = 600
awards = []

[[movies.movie]]
title = "Caught"
year = 1900
cast = []
genres = ["Drama"]
country = "United States"
runtime = 2
language = "Silent"
release_date = "1900-02-20"
production_company = "Biograph Company"
director = "William Heise"
writer = "Unknown"
cinematography = "Unknown"
budget = 400
awards = []

[[movies.movie]]
title = "Clowns Spinning Hats"
year = 1900
cast = ["Unknown Clowns"]
genres = ["Silent", "Comedy"]
href = "Clowns_Spinning_Hats"
extract = "Clowns Spinning Hats is a black-and-white silent film featuring clowns throwing hats back and forth to each other. It was written and produced by Lubin Films and released April 7, 1900."
country = "United States"
runtime = 3
language = "Silent"
release_date = "1900-04-07"
production_company = "Lubin Films"
director = "Unknown"
writer = "Unknown"
cinematography = "Unknown"
budget = 500
awards = []

[[movies.movie]]
title = "The Enchanted Drawing"
year = 1900
cast = ["J. Stuart Blackton"]
genres = ["Silent", "Animation"]
href = "The_Enchanted_Drawing"
extract = "The Enchanted Drawing is a 1900 silent film directed by J. Stuart Blackton. It is best known for containing the first animated sequences recorded on standard picture film, which has led Blackton to be considered the father of American animation."
thumbnail_width = 320
thumbnail_height = 240
country = "United States"
runtime = 2
language = "Silent"
release_date = "1900-11-16"
production_company = "Vitagraph Studios"
director = "J. Stuart Blackton"
writer = "J. Stuart Blackton"
cinematography = "Unknown"
budget = 700
awards = []

[[movies.movie]]
title = "Feeding Sea Lions"
year = 1900
cast = ["Paul Boyton"]
genres = ["Short", "Silent"]
href = "Feeding_Sea_Lions"
extract = "Feeding Sea Lions is a short silent film featuring Paul Boyton feeding sea lions at his Sea Lion Park at Coney Island. Boyton is shown feeding the trained sea lions, twelve in number. The sea lions follow Boyton up the steps of the pool and then follow him back into the water. One of them steals food out of the basket. The film was made by Lubin Studios on March 10, 1900."
country = "United States"
runtime = 3
language = "Silent"
release_date = "1900-03-10"
production_company = "Lubin Studios"
director = "Unknown"
writer = "Unknown"
cinematography = "Unknown"
budget = 450
awards = []

[[movies.movie]]
title = "A Trip to the Moon"
year = 1902   # This movie was released after 1900.
cast = ["Georges Mlis"]
genres = ["Sci-Fi", "Adventure"]
href = "A_Trip_to_the_Moon"
extract = "A Trip to the Moon (French: Le Voyage dans la Lune) is a 1902 French silent film directed by Georges Mlis. It is widely regarded as the first science fiction film ever made."
thumbnail_width = 320
thumbnail_height = 240
country = "France"
runtime = 14
language = "Silent"
release_date = "1902-09-01"
production_company = "Star Film Company"
director = "Georges Mlis"
writer = "Georges Mlis"
cinematography = "Georges Mlis"
budget = 10000
box_office = 20000
awards = ["Considered a milestone in cinema history"]

[[movies.movie]]
title = "The Great Train Robbery"
year = 1903  # This movie was released after 1900.
cast = ["Gilbert M. Anderson", "A. C. Abadie"]
genres = ["Western", "Action"]
href = "The_Great_Train_Robbery"
extract = "The Great Train Robbery is a 1903 American silent short film directed by Edwin S. Porter. It is considered one of the earliest narrative films."
thumbnail_width = 320
thumbnail_height = 240
country = "United States"
runtime = 12
language = "Silent"
release_date = "1903-12-01"
production_company = "Edison Manufacturing Company"
director = "Edwin S. Porter"
writer = "Scott Marble"
cinematography = "Edwin S. Porter"
budget = 150
box_office = 5000
awards = ["One of the earliest crime films"]`,modifyingtabularyaml:`movies:
  movie:
    - title: After Dark in Central Park
      year: 1900
      cast: []
      genres:
        - Silent
        - Short
      href: null
      country: United States
      runtime: 3
      language: Silent
      release_date: '1900-03-15'
      production_company: Edison Manufacturing Company
      director: James H. White
      writer: Unknown
      cinematography: Unknown
      budget: 500
      box_office: null
      awards: []
    - title: Boarding School Girls' Pajama Parade
      year: 1900
      cast: []
      genres:
        - Silent
        - Short
      href: null
      country: United States
      runtime: 2
      language: Silent
      release_date: '1900-05-10'
      production_company: Edison Manufacturing Company
      director: James H. White
      writer: Unknown
      cinematography: Unknown
      budget: 450
      box_office: null
      awards: []
    - title: Buffalo Bill's Wild West Parade
      year: 1900
      cast:
        - Buffalo Bill (William F. Cody)
      genres:
        - Documentary
      href: null
      country: United States
      runtime: 5
      language: Silent
      release_date: '1900-07-04'
      production_company: Edison Manufacturing Company
      director: Unknown
      writer: Unknown
      cinematography: Unknown
      budget: 600
      box_office: null
      awards: []
    - title: Caught
      year: 1900
      cast: []
      genres:
        - Drama
      href: null
      country: United States
      runtime: 2
      language: Silent
      release_date: '1900-02-20'
      production_company: Biograph Company
      director: William Heise
      writer: Unknown
      cinematography: Unknown
      budget: 400
      box_office: null
      awards: []
    - title: Clowns Spinning Hats
      year: 1900
      cast:
        - Unknown Clowns
      genres:
        - Silent
        - Comedy
      href: Clowns_Spinning_Hats
      extract: >-
        Clowns Spinning Hats is a black-and-white silent film featuring clowns
        throwing hats back and forth to each other. It was written and produced
        by Lubin Films and released April 7, 1900.
      country: United States
      runtime: 3
      language: Silent
      release_date: '1900-04-07'
      production_company: Lubin Films
      director: Unknown
      writer: Unknown
      cinematography: Unknown
      budget: 500
      box_office: null
      awards: []
    - title: The Enchanted Drawing
      year: 1900
      cast:
        - J. Stuart Blackton
      genres:
        - Silent
        - Animation
      href: The_Enchanted_Drawing
      extract: >-
        The Enchanted Drawing is a 1900 silent film directed by J. Stuart
        Blackton. It is best known for containing the first animated sequences
        recorded on standard picture film, which has led Blackton to be
        considered the father of American animation.
      thumbnail_width: 320
      thumbnail_height: 240
      country: United States
      runtime: 2
      language: Silent
      release_date: '1900-11-16'
      production_company: Vitagraph Studios
      director: J. Stuart Blackton
      writer: J. Stuart Blackton
      cinematography: Unknown
      budget: 700
      box_office: null
      awards: []
    - title: Feeding Sea Lions
      year: 1900
      cast:
        - Paul Boyton
      genres:
        - Short
        - Silent
      href: Feeding_Sea_Lions
      extract: >-
        Feeding Sea Lions is a short silent film featuring Paul Boyton feeding
        sea lions at his Sea Lion Park at Coney Island. Boyton is shown feeding
        the trained sea lions, twelve in number. The sea lions follow Boyton up
        the steps of the pool and then follow him back into the water. One of
        them steals food out of the basket. The film was made by Lubin Studios
        on March 10, 1900.
      country: United States
      runtime: 3
      language: Silent
      release_date: '1900-03-10'
      production_company: Lubin Studios
      director: Unknown
      writer: Unknown
      cinematography: Unknown
      budget: 450
      box_office: null
      awards: []
    - title: A Trip to the Moon
      year: 1902    # This movie was released after 1900.
      cast:
        - Georges Mlis
      genres:
        - Sci-Fi
        - Adventure
      href: A_Trip_to_the_Moon
      extract: >-
        A Trip to the Moon (French: Le Voyage dans la Lune) is a 1902 French
        silent film directed by Georges Mlis. It is widely regarded as the
        first science fiction film ever made.
      thumbnail_width: 320
      thumbnail_height: 240
      country: France
      runtime: 14
      language: Silent
      release_date: '1902-09-01'
      production_company: Star Film Company
      director: Georges Mlis
      writer: Georges Mlis
      cinematography: Georges Mlis
      budget: 10000
      box_office: 20000
      awards:
        - Considered a milestone in cinema history
    - title: The Great Train Robbery
      year: 1903   # This movie was released after 1900.
      cast:
        - Gilbert M. Anderson
        - A. C. Abadie
      genres:
        - Western
        - Action
      href: The_Great_Train_Robbery
      extract: >-
        The Great Train Robbery is a 1903 American silent short film directed by
        Edwin S. Porter. It is considered one of the earliest narrative films.
      thumbnail_width: 320
      thumbnail_height: 240
      country: United States
      runtime: 12
      language: Silent
      release_date: '1903-12-01'
      production_company: Edison Manufacturing Company
      director: Edwin S. Porter
      writer: Scott Marble
      cinematography: Edwin S. Porter
      budget: 150
      box_office: 5000
      awards:
        - One of the earliest crime films`,modifyingtabularjson5:`{
    movies: {
        movie: [
            {
                title: 'After Dark in Central Park',
                year: 1900,
                cast: [],
                genres: [
                    'Silent',
                    'Short'
                ],
                href: null,
                country: 'United States',
                runtime: 3,
                language: 'Silent',
                release_date: '1900-03-15',
                production_company: 'Edison Manufacturing Company',
                director: 'James H. White',
                writer: 'Unknown',
                cinematography: 'Unknown',
                budget: 500,
                box_office: null,
                awards: []
            },
            {
                title: "Boarding School Girls' Pajama Parade",
                year: 1900,
                cast: [],
                genres: [
                    'Silent',
                    'Short'
                ],
                href: null,
                country: 'United States',
                runtime: 2,
                language: 'Silent',
                release_date: '1900-05-10',
                production_company: 'Edison Manufacturing Company',
                director: 'James H. White',
                writer: 'Unknown',
                cinematography: 'Unknown',
                budget: 450,
                box_office: null,
                awards: []
            },
            {
                title: "Buffalo Bill's Wild West Parade",
                year: 1900,
                cast: [
                    'Buffalo Bill (William F. Cody)'
                ],
                genres: [
                    'Documentary'
                ],
                href: null,
                country: 'United States',
                runtime: 5,
                language: 'Silent',
                release_date: '1900-07-04',
                production_company: 'Edison Manufacturing Company',
                director: 'Unknown',
                writer: 'Unknown',
                cinematography: 'Unknown',
                budget: 600,
                box_office: null,
                awards: []
            },
            {
                title: 'Caught',
                year: 1900,
                cast: [],
                genres: [
                    'Drama'
                ],
                href: null,
                country: 'United States',
                runtime: 2,
                language: 'Silent',
                release_date: '1900-02-20',
                production_company: 'Biograph Company',
                director: 'William Heise',
                writer: 'Unknown',
                cinematography: 'Unknown',
                budget: 400,
                box_office: null,
                awards: []
            },
            {
                title: 'Clowns Spinning Hats',
                year: 1900,
                cast: [
                    'Unknown Clowns'
                ],
                genres: [
                    'Silent',
                    'Comedy'
                ],
                href: 'Clowns_Spinning_Hats',
                extract: 'Clowns Spinning Hats is a black-and-white silent film featuring clowns throwing hats back and forth to each other. It was written and produced by Lubin Films and released April 7, 1900.',
                country: 'United States',
                runtime: 3,
                language: 'Silent',
                release_date: '1900-04-07',
                production_company: 'Lubin Films',
                director: 'Unknown',
                writer: 'Unknown',
                cinematography: 'Unknown',
                budget: 500,
                box_office: null,
                awards: []
            },
            {
                title: 'The Enchanted Drawing',
                year: 1900,
                cast: [
                    'J. Stuart Blackton'
                ],
                genres: [
                    'Silent',
                    'Animation'
                ],
                href: 'The_Enchanted_Drawing',
                extract: 'The Enchanted Drawing is a 1900 silent film directed by J. Stuart Blackton. It is best known for containing the first animated sequences recorded on standard picture film, which has led Blackton to be considered the father of American animation.',
                thumbnail_width: 320,
                thumbnail_height: 240,
                country: 'United States',
                runtime: 2,
                language: 'Silent',
                release_date: '1900-11-16',
                production_company: 'Vitagraph Studios',
                director: 'J. Stuart Blackton',
                writer: 'J. Stuart Blackton',
                cinematography: 'Unknown',
                budget: 700,
                box_office: null,
                awards: []
            },
            {
                title: 'Feeding Sea Lions',
                year: 1900,
                cast: [
                    'Paul Boyton'
                ],
                genres: [
                    'Short',
                    'Silent'
                ],
                href: 'Feeding_Sea_Lions',
                extract: 'Feeding Sea Lions is a short silent film featuring Paul Boyton feeding sea lions at his Sea Lion Park at Coney Island. Boyton is shown feeding the trained sea lions, twelve in number. The sea lions follow Boyton up the steps of the pool and then follow him back into the water. One of them steals food out of the basket. The film was made by Lubin Studios on March 10, 1900.',
                country: 'United States',
                runtime: 3,
                language: 'Silent',
                release_date: '1900-03-10',
                production_company: 'Lubin Studios',
                director: 'Unknown',
                writer: 'Unknown',
                cinematography: 'Unknown',
                budget: 450,
                box_office: null,
                awards: []
            },
            {
                title: 'A Trip to the Moon',
                year: 1902,    // This movie was released after 1900.
                cast: [
                    'Georges Mlis'
                ],
                genres: [
                    'Sci-Fi',
                    'Adventure'
                ],
                href: 'A_Trip_to_the_Moon',
                extract: 'A Trip to the Moon (French: Le Voyage dans la Lune) is a 1902 French silent film directed by Georges Mlis. It is widely regarded as the first science fiction film ever made.',
                thumbnail_width: 320,
                thumbnail_height: 240,
                country: 'France',
                runtime: 14,
                language: 'Silent',
                release_date: '1902-09-01',
                production_company: 'Star Film Company',
                director: 'Georges Mlis',
                writer: 'Georges Mlis',
                cinematography: 'Georges Mlis',
                budget: 10000,
                box_office: 20000,
                awards: [
                    'Considered a milestone in cinema history'
                ]
            },
            {
                title: 'The Great Train Robbery',
                year: 1903,    // This movie was released after 1900.
                cast: [
                    'Gilbert M. Anderson',
                    'A. C. Abadie'
                ],
                genres: [
                    'Western',
                    'Action'
                ],
                href: 'The_Great_Train_Robbery',
                extract: 'The Great Train Robbery is a 1903 American silent short film directed by Edwin S. Porter. It is considered one of the earliest narrative films.',
                thumbnail_width: 320,
                thumbnail_height: 240,
                country: 'United States',
                runtime: 12,
                language: 'Silent',
                release_date: '1903-12-01',
                production_company: 'Edison Manufacturing Company',
                director: 'Edwin S. Porter',
                writer: 'Scott Marble',
                cinematography: 'Edwin S. Porter',
                budget: 150,
                box_office: 5000,
                awards: [
                    'One of the earliest crime films'
                ]
            }
        ]
    }
}`,modifyingtabularhjson:`{
  movies:
  {
    movie:
    [
      {
        title: After Dark in Central Park
        year: 1900
        cast: []
        genres:
        [
          Silent
          Short
        ]
        href: null
        country: United States
        runtime: 3
        language: Silent
        release_date: 1900-03-15
        production_company: Edison Manufacturing Company
        director: James H. White
        writer: Unknown
        cinematography: Unknown
        budget: 500
        box_office: null
        awards: []
      }
      {
        title: Boarding School Girls' Pajama Parade
        year: 1900
        cast: []
        genres:
        [
          Silent
          Short
        ]
        href: null
        country: United States
        runtime: 2
        language: Silent
        release_date: 1900-05-10
        production_company: Edison Manufacturing Company
        director: James H. White
        writer: Unknown
        cinematography: Unknown
        budget: 450
        box_office: null
        awards: []
      }
      {
        title: Buffalo Bill's Wild West Parade
        year: 1900
        cast:
        [
          Buffalo Bill (William F. Cody)
        ]
        genres:
        [
          Documentary
        ]
        href: null
        country: United States
        runtime: 5
        language: Silent
        release_date: 1900-07-04
        production_company: Edison Manufacturing Company
        director: Unknown
        writer: Unknown
        cinematography: Unknown
        budget: 600
        box_office: null
        awards: []
      }
      {
        title: Caught
        year: 1900
        cast: []
        genres:
        [
          Drama
        ]
        href: null
        country: United States
        runtime: 2
        language: Silent
        release_date: 1900-02-20
        production_company: Biograph Company
        director: William Heise
        writer: Unknown
        cinematography: Unknown
        budget: 400
        box_office: null
        awards: []
      }
      {
        title: Clowns Spinning Hats
        year: 1900
        cast:
        [
          Unknown Clowns
        ]
        genres:
        [
          Silent
          Comedy
        ]
        href: Clowns_Spinning_Hats
        extract: Clowns Spinning Hats is a black-and-white silent film featuring clowns throwing hats back and forth to each other. It was written and produced by Lubin Films and released April 7, 1900.
        country: United States
        runtime: 3
        language: Silent
        release_date: 1900-04-07
        production_company: Lubin Films
        director: Unknown
        writer: Unknown
        cinematography: Unknown
        budget: 500
        box_office: null
        awards: []
      }
      {
        title: The Enchanted Drawing
        year: 1900
        cast:
        [
          J. Stuart Blackton
        ]
        genres:
        [
          Silent
          Animation
        ]
        href: The_Enchanted_Drawing
        extract: The Enchanted Drawing is a 1900 silent film directed by J. Stuart Blackton. It is best known for containing the first animated sequences recorded on standard picture film, which has led Blackton to be considered the father of American animation.
        thumbnail_width: 320
        thumbnail_height: 240
        country: United States
        runtime: 2
        language: Silent
        release_date: 1900-11-16
        production_company: Vitagraph Studios
        director: J. Stuart Blackton
        writer: J. Stuart Blackton
        cinematography: Unknown
        budget: 700
        box_office: null
        awards: []
      }
      {
        title: Feeding Sea Lions
        year: 1900
        cast:
        [
          Paul Boyton
        ]
        genres:
        [
          Short
          Silent
        ]
        href: Feeding_Sea_Lions
        extract: Feeding Sea Lions is a short silent film featuring Paul Boyton feeding sea lions at his Sea Lion Park at Coney Island. Boyton is shown feeding the trained sea lions, twelve in number. The sea lions follow Boyton up the steps of the pool and then follow him back into the water. One of them steals food out of the basket. The film was made by Lubin Studios on March 10, 1900.
        country: United States
        runtime: 3
        language: Silent
        release_date: 1900-03-10
        production_company: Lubin Studios
        director: Unknown
        writer: Unknown
        cinematography: Unknown
        budget: 450
        box_office: null
        awards: []
      }
      {
        title: A Trip to the Moon
        year: 1902    // This movie was released after 1900.
        cast:
        [
          Georges Mlis
        ]
        genres:
        [
          Sci-Fi
          Adventure
        ]
        href: A_Trip_to_the_Moon
        extract: A Trip to the Moon (French: Le Voyage dans la Lune) is a 1902 French silent film directed by Georges Mlis. It is widely regarded as the first science fiction film ever made.
        thumbnail_width: 320
        thumbnail_height: 240
        country: France
        runtime: 14
        language: Silent
        release_date: 1902-09-01
        production_company: Star Film Company
        director: Georges Mlis
        writer: Georges Mlis
        cinematography: Georges Mlis
        budget: 10000
        box_office: 20000
        awards:
        [
          Considered a milestone in cinema history
        ]
      }
      {
        title: The Great Train Robbery
        year: 1903    // This movie was released after 1900.
        cast:
        [
          Gilbert M. Anderson
          A. C. Abadie
        ]
        genres:
        [
          Western
          Action
        ]
        href: The_Great_Train_Robbery
        extract: The Great Train Robbery is a 1903 American silent short film directed by Edwin S. Porter. It is considered one of the earliest narrative films.
        thumbnail_width: 320
        thumbnail_height: 240
        country: United States
        runtime: 12
        language: Silent
        release_date: 1903-12-01
        production_company: Edison Manufacturing Company
        director: Edwin S. Porter
        writer: Scott Marble
        cinematography: Edwin S. Porter
        budget: 150
        box_office: 5000
        awards:
        [
          One of the earliest crime films
        ]
      }
    ]
  }
}`},$xe=Object.freeze(Object.defineProperty({__proto__:null,startingStringsMap:Dxe},Symbol.toStringTag,{value:"Module"}));function wat({setAnswer:e,parameters:t,provenanceState:n}){const[r,i]=H.useState(Dxe[t.type+(t.tabular?"tabular":"config")+t.language]),o=Xv();H.useEffect(()=>{n&&n.text!==null&&i(n.text)},[n]);const{actions:s,trrack:a}=H.useMemo(()=>{const d=Qp.create(),f=d.register("type",(p,m)=>(p.text=m,p)),h=Kv({registry:d,initialState:{text:null}});return{actions:{typeAction:f},trrack:h}},[]);let l;t.language==="plain_text"?l="text":t.language==="jsonc"?l="json":l=t.language;const u=H.useCallback(d=>{a.apply("Typing",s.typeAction(d)),e({status:d.length>150,answers:{code:d,error:d},provenanceGraph:a.graph.backend}),i(d)},[s,e,a]),c=H.useRef(null);return H.useEffect(()=>{var d,f;o?(d=c.current)==null||d.editor.setTheme(FW):(f=c.current)==null||f.editor.setTheme(LW)},[o]),$.jsx(De,{children:$.jsxs(ri,{gap:20,wrap:"nowrap",style:{height:"calc(100vh - var(--app-shell-header-height, 0px) - var(--app-shell-footer-height, 0px) - 30px)"},children:[t.imagePath?$.jsx("div",{style:{flex:"0 0 50%"},children:$.jsx("img",{src:ji+t.imagePath,alt:"Example",style:{width:"100%",height:"auto",objectFit:"contain"}})}):null,$.jsx(OW,{ref:c,mode:l,width:"100%",height:"calc(100vh - var(--app-shell-header-height, 0px) - var(--app-shell-footer-height, 0px) - 30px)",value:r,wrapEnabled:!0,onChange:u,name:"UNIQUE_ID_OF_DIV",editorProps:{$blockScrolling:!0}})]})})}const Mxe=Object.freeze(Object.defineProperty({__proto__:null,default:wat},Symbol.toStringTag,{value:"Module"})),Pxe={readingtabularjson:JSON.stringify({students:{student:[{name:"Bob",age:12,contact:{email:"bob@example.com",phone:"+123456789",address:"123 Bob St, Some City"},courses:{course:{course_name:"Math 101",quizzes:{quiz:[{id:1,grade:8,weight:.1},{id:2,grade:9,weight:.1}]},midterm:{grade:77,weight:.3},final:{grade:87,weight:.5},total_score:82.3,attendance:{total_classes:30,attended_classes:28,absent_classes:2}}},extra_curricular:{sports:{sport:[{sport_name:"Soccer",position:"Forward",team:"The Tigers"},{sport_name:"Basketball",position:"Guard",team:"The Eagles"}]},clubs:{club:[{club_name:"Science Club",role:"President"},{club_name:"Drama Club",role:"Member"}]}}},{name:"Eve",age:13,contact:{email:"eve@example.com",phone:"+987654321",address:"456 Eve St, Other City"},courses:{course:{course_name:"Math 101",quizzes:{quiz:[{id:1,grade:9,weight:.15},{id:2,grade:10,weight:.15}]},midterm:{grade:"AB(absent)",weight:.3},final:{grade:77,weight:.4},total_score:78.3,attendance:{total_classes:30,attended_classes:27,absent_classes:3}}},extra_curricular:{sports:{sport:{sport_name:"Tennis",position:"Singles",team:"The Champions"}},clubs:{club:{club_name:"Art Club",role:"Vice President"}}}},{name:"Alice",age:14,contact:{email:"alice@example.com",phone:"+111222333",address:"789 Alice St, Another City"},courses:{course:{course_name:"Science 101",quizzes:{quiz:[{id:1,grade:7,weight:.2},{id:2,grade:8,weight:.2}]},midterm:{grade:85,weight:.3},final:{grade:90,weight:.5},total_score:84.7,attendance:{total_classes:30,attended_classes:29,absent_classes:1}}},extra_curricular:{sports:{sport:{sport_name:"Swimming",position:"Freestyle",team:"Blue Sharks"}},clubs:{club:[{club_name:"Chess Club",role:"Member"},{club_name:"Literature Club",role:"Secretary"}]}}}]}},null,2),readingtabularxml:`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<students>
  <student>
    <name>Bob</name>
    <age>12</age>
    <contact>
      <email>bob@example.com</email>
      <phone>+123456789</phone>
      <address>123 Bob St, Some City</address>
    </contact>
    <courses>
      <course>
        <course_name>Math 101</course_name>
        <quizzes>
          <quiz>
            <id>1</id>
            <grade>8</grade>
            <weight>0.1</weight>
          </quiz>
          <quiz>
            <id>2</id>
            <grade>9</grade>
            <weight>0.1</weight>
          </quiz>
        </quizzes>
        <midterm>
          <grade>77</grade>
          <weight>0.3</weight>
        </midterm>
        <final>
          <grade>87</grade>
          <weight>0.5</weight>
        </final>
        <total_score>82.3</total_score>
        <attendance>
          <total_classes>30</total_classes>
          <attended_classes>28</attended_classes>
          <absent_classes>2</absent_classes>
        </attendance>
      </course>
    </courses>
    <extra_curricular>
      <sports>
        <sport>
          <sport_name>Soccer</sport_name>
          <position>Forward</position>
          <team>The Tigers</team>
        </sport>
        <sport>
          <sport_name>Basketball</sport_name>
          <position>Guard</position>
          <team>The Eagles</team>
        </sport>
      </sports>
      <clubs>
        <club>
          <club_name>Science Club</club_name>
          <role>President</role>
        </club>
        <club>
          <club_name>Drama Club</club_name>
          <role>Member</role>
        </club>
      </clubs>
    </extra_curricular>
  </student>
  <student>
    <name>Eve</name>
    <age>13</age>
    <contact>
      <email>eve@example.com</email>
      <phone>+987654321</phone>
      <address>456 Eve St, Other City</address>
    </contact>
    <courses>
      <course>
        <course_name>Math 101</course_name>
        <quizzes>
          <quiz>
            <id>1</id>
            <grade>9</grade>
            <weight>0.15</weight>
          </quiz>
          <quiz>
            <id>2</id>
            <grade>10</grade>
            <weight>0.15</weight>
          </quiz>
        </quizzes>
        <midterm>
          <grade>AB(absent)</grade> <!--The student was absent for the midterm exam.-->
          <weight>0.3</weight>
        </midterm>
        <final>
          <grade>77</grade>
          <weight>0.4</weight>
        </final>
        <total_score>78.3</total_score>
        <attendance>
          <total_classes>30</total_classes>
          <attended_classes>27</attended_classes>
          <absent_classes>3</absent_classes>
        </attendance>
      </course>
    </courses>
    <extra_curricular>
      <sports>
        <sport>
          <sport_name>Tennis</sport_name>
          <position>Singles</position>
          <team>The Champions</team>
        </sport>
      </sports>
      <clubs>
        <club>
          <club_name>Art Club</club_name>
          <role>Vice President</role>
        </club>
      </clubs>
    </extra_curricular>
  </student>
  <student>
    <name>Alice</name>
    <age>14</age>
    <contact>
      <email>alice@example.com</email>
      <phone>+111222333</phone>
      <address>789 Alice St, Another City</address>
    </contact>
    <courses>
      <course>
        <course_name>Science 101</course_name>
        <quizzes>
          <quiz>
            <id>1</id>
            <grade>7</grade>
            <weight>0.2</weight>
          </quiz>
          <quiz>
            <id>2</id>
            <grade>8</grade>
            <weight>0.2</weight>
          </quiz>
        </quizzes>
        <midterm>
          <grade>85</grade>
          <weight>0.3</weight>
        </midterm>
        <final>
          <grade>90</grade>
          <weight>0.5</weight>
        </final>
        <total_score>84.7</total_score>
        <attendance>
          <total_classes>30</total_classes>
          <attended_classes>29</attended_classes>
          <absent_classes>1</absent_classes>
        </attendance>
      </course>
    </courses>
    <extra_curricular>
      <sports>
        <sport>
          <sport_name>Swimming</sport_name>
          <position>Freestyle</position>
          <team>Blue Sharks</team>
        </sport>
      </sports>
      <clubs>
        <club>
          <club_name>Chess Club</club_name>
          <role>Member</role>
        </club>
        <club>
          <club_name>Literature Club</club_name>
          <role>Secretary</role>
        </club>
      </clubs>
    </extra_curricular>
  </student>
</students>`,readingtabulartoml:`[students]

[[students.student]]
name = "Bob"
age = 12

[students.student.contact]
email = "bob@example.com"
phone = "+123456789"
address = "123 Bob St, Some City"

[students.student.courses]

[students.student.courses.course]
course_name = "Math 101"
total_score = 82.3

[students.student.courses.course.quizzes]

[[students.student.courses.course.quizzes.quiz]]
id = 1
grade = 8.0
weight = 0.1

[[students.student.courses.course.quizzes.quiz]]
id = 2
grade = 9.0
weight = 0.1

[students.student.courses.course.midterm]
grade = 77.0
weight = 0.3

[students.student.courses.course.final]
grade = 87.0
weight = 0.5

[students.student.courses.course.attendance]
total_classes = 30
attended_classes = 28
absent_classes = 2

[students.student.extra_curricular]

[students.student.extra_curricular.sports]

[[students.student.extra_curricular.sports.sport]]
sport_name = "Soccer"
position = "Forward"
team = "The Tigers"

[[students.student.extra_curricular.sports.sport]]
sport_name = "Basketball"
position = "Guard"
team = "The Eagles"

[students.student.extra_curricular.clubs]

[[students.student.extra_curricular.clubs.club]]
club_name = "Science Club"
role = "President"

[[students.student.extra_curricular.clubs.club]]
club_name = "Drama Club"
role = "Member"

[[students.student]]
name = "Eve"
age = 13

[students.student.contact]
email = "eve@example.com"
phone = "+987654321"
address = "456 Eve St, Other City"

[students.student.courses]

[students.student.courses.course]
course_name = "Math 101"
total_score = 78.3

[students.student.courses.course.quizzes]

[[students.student.courses.course.quizzes.quiz]]
id = 1
grade = 9.0
weight = 0.15

[[students.student.courses.course.quizzes.quiz]]
id = 2
grade = 10.0
weight = 0.15

[students.student.courses.course.midterm]
grade = "AB(absent)"   # The student was absent for the midterm exam.
weight = 0.3

[students.student.courses.course.final]
grade = 77.0
weight = 0.4

[students.student.courses.course.attendance]
total_classes = 30
attended_classes = 27
absent_classes = 3

[students.student.extra_curricular]

[students.student.extra_curricular.sports]

[students.student.extra_curricular.sports.sport]
sport_name = "Tennis"
position = "Singles"
team = "The Champions"

[students.student.extra_curricular.clubs]

[students.student.extra_curricular.clubs.club]
club_name = "Art Club"
role = "Vice President"

[[students.student]]
name = "Alice"
age = 14

[students.student.contact]
email = "alice@example.com"
phone = "+111222333"
address = "789 Alice St, Another City"

[students.student.courses]

[students.student.courses.course]
course_name = "Science 101"
total_score = 84.7

[students.student.courses.course.quizzes]

[[students.student.courses.course.quizzes.quiz]]
id = 1
grade = 7.0
weight = 0.2

[[students.student.courses.course.quizzes.quiz]]
id = 2
grade = 8.0
weight = 0.2

[students.student.courses.course.midterm]
grade = 85.0
weight = 0.3

[students.student.courses.course.final]
grade = 90.0
weight = 0.5

[students.student.courses.course.attendance]
total_classes = 30
attended_classes = 29
absent_classes = 1

[students.student.extra_curricular]

[students.student.extra_curricular.sports]

[students.student.extra_curricular.sports.sport]
sport_name = "Swimming"
position = "Freestyle"
team = "Blue Sharks"

[students.student.extra_curricular.clubs]

[[students.student.extra_curricular.clubs.club]]
club_name = "Chess Club"
role = "Member"

[[students.student.extra_curricular.clubs.club]]
club_name = "Literature Club"
role = "Secretary"`,readingtabularyaml:`students:
  student:
    - name: Bob
      age: 12
      contact:
        email: bob@example.com
        phone: '+123456789'
        address: 123 Bob St, Some City
      courses:
        course:
          course_name: Math 101
          quizzes:
            quiz:
              - id: 1
                grade: 8
                weight: 0.1
              - id: 2
                grade: 9
                weight: 0.1
          midterm:
            grade: 77
            weight: 0.3
          final:
            grade: 87
            weight: 0.5
          total_score: 82.3
          attendance:
            total_classes: 30
            attended_classes: 28
            absent_classes: 2
      extra_curricular:
        sports:
          sport:
            - sport_name: Soccer
              position: Forward
              team: The Tigers
            - sport_name: Basketball
              position: Guard
              team: The Eagles
        clubs:
          club:
            - club_name: Science Club
              role: President
            - club_name: Drama Club
              role: Member
    - name: Eve
      age: 13
      contact:
        email: eve@example.com
        phone: '+987654321'
        address: 456 Eve St, Other City
      courses:
        course:
          course_name: Math 101
          quizzes:
            quiz:
              - id: 1
                grade: 9
                weight: 0.15
              - id: 2
                grade: 10
                weight: 0.15
          midterm:
            grade: AB(absent)  # The student was absent for the midterm exam.
            weight: 0.3
          final:
            grade: 77
            weight: 0.4
          total_score: 78.3
          attendance:
            total_classes: 30
            attended_classes: 27
            absent_classes: 3
      extra_curricular:
        sports:
          sport:
            sport_name: Tennis
            position: Singles
            team: The Champions
        clubs:
          club:
            club_name: Art Club
            role: Vice President
    - name: Alice
      age: 14
      contact:
        email: alice@example.com
        phone: '+111222333'
        address: 789 Alice St, Another City
      courses:
        course:
          course_name: Science 101
          quizzes:
            quiz:
              - id: 1
                grade: 7
                weight: 0.2
              - id: 2
                grade: 8
                weight: 0.2
          midterm:
            grade: 85
            weight: 0.3
          final:
            grade: 90
            weight: 0.5
          total_score: 84.7
          attendance:
            total_classes: 30
            attended_classes: 29
            absent_classes: 1
      extra_curricular:
        sports:
          sport:
            sport_name: Swimming
            position: Freestyle
            team: Blue Sharks
        clubs:
          club:
            - club_name: Chess Club
              role: Member
            - club_name: Literature Club
              role: Secretary`,readingtabularjsonc:`{
    "students": {
      "student": [
        {
          // comments
          "name": "Bob",
          "age": 12,
          "contact": {
            "email": "bob@example.com",
            "phone": "+123456789",
            "address": "123 Bob St, Some City"
          },
          "courses": {
            "course": {
              "course_name": "Math 101",
              "quizzes": {
                "quiz": [
                  {
                    "id": 1,
                    "grade": 8,
                    "weight": 0.1
                  },
                  {
                    "id": 2,
                    "grade": 9,
                    "weight": 0.1
                  }
                ]
              },
              "midterm": {
                "grade": 77,
                "weight": 0.3
              },
              "final": {
                "grade": 87,
                "weight": 0.5
              },
              "total_score": 82.3,
              "attendance": {
                "total_classes": 30,
                "attended_classes": 28,
                "absent_classes": 2
              }
            }
          },
          "extra_curricular": {
            "sports": {
              "sport": [
                {
                  "sport_name": "Soccer",
                  "position": "Forward",
                  "team": "The Tigers"
                },
                {
                  "sport_name": "Basketball",
                  "position": "Guard",
                  "team": "The Eagles"
                }
              ]
            },
            "clubs": {
              "club": [
                {
                  "club_name": "Science Club",
                  "role": "President"
                },
                {
                  "club_name": "Drama Club",
                  "role": "Member"
                }
              ]
            }
          }
        },
        {
          "name": "Eve",
          "age": 13,
          "contact": {
            "email": "eve@example.com",
            "phone": "+987654321",
            "address": "456 Eve St, Other City"
          },
          "courses": {
            "course": {
              "course_name": "Math 101",
              "quizzes": {
                "quiz": [
                  {
                    "id": 1,
                    "grade": 9,
                    "weight": 0.15
                  },
                  {
                    "id": 2,
                    "grade": 10,
                    "weight": 0.15
                  }
                ]
              },
              "midterm": {
                "grade": "AB(absent)",
                "weight": 0.3
              },
              "final": {
                "grade": 77,
                "weight": 0.4
              },
              "total_score": 78.3,
              "attendance": {
                "total_classes": 30,
                "attended_classes": 27,
                "absent_classes": 3
              }
            }
          },
          "extra_curricular": {
            "sports": {
              "sport": {
                "sport_name": "Tennis",
                "position": "Singles",
                "team": "The Champions"
              }
            },
            "clubs": {
              "club": {
                "club_name": "Art Club",
                "role": "Vice President"
              }
            }
          }
        },
        {
          "name": "Alice",
          "age": 14,
          "contact": {
            "email": "alice@example.com",
            "phone": "+111222333",
            "address": "789 Alice St, Another City"
          },
          "courses": {
            "course": {
              "course_name": "Science 101",
              "quizzes": {
                "quiz": [
                  {
                    "id": 1,
                    "grade": 7,
                    "weight": 0.2
                  },
                  {
                    "id": 2,
                    "grade": 8,
                    "weight": 0.2
                  }
                ]
              },
              "midterm": {
                "grade": 85,
                "weight": 0.3
              },
              "final": {
                "grade": 90,
                "weight": 0.5
              },
              "total_score": 84.7,
              "attendance": {
                "total_classes": 30,
                "attended_classes": 29,
                "absent_classes": 1
              }
            }
          },
          "extra_curricular": {
            "sports": {
              "sport": {
                "sport_name": "Swimming",
                "position": "Freestyle",
                "team": "Blue Sharks"
              }
            },
            "clubs": {
              "club": [
                {
                  "club_name": "Chess Club",
                  "role": "Member"
                },
                {
                  "club_name": "Literature Club",
                  "role": "Secretary"
                }
              ]
            }
          }
        }
      ]
    }
  }`,readingtabularhjson:`
  students:
  {
    student:
    [
      {
        name: Bob
        age: 12
        contact:
        {
          email: bob@example.com
          phone: +123456789
          address: 123 Bob St, Some City
        }
        courses:
        {
          course:
          {
            course_name: Math 101
            quizzes:
            {
              quiz:
              [
                {
                  id: 1
                  grade: 8
                  weight: 0.1
                }
                {
                  id: 2
                  grade: 9
                  weight: 0.1
                }
              ]
            }
            midterm:
            {
              grade: 77
              weight: 0.3
            }
            final:
            {
              grade: 87
              weight: 0.5
            }
            total_score: 82.3
            attendance:
            {
              total_classes: 30
              attended_classes: 28
              absent_classes: 2
            }
          }
        }
        extra_curricular:
        {
          sports:
          {
            sport:
            [
              {
                sport_name: Soccer
                position: Forward
                team: The Tigers
              }
              {
                sport_name: Basketball
                position: Guard
                team: The Eagles
              }
            ]
          }
          clubs:
          {
            club:
            [
              {
                club_name: Science Club
                role: President
              }
              {
                club_name: Drama Club
                role: Member
              }
            ]
          }
        }
      }
      {
        name: Eve
        age: 13
        contact:
        {
          email: eve@example.com
          phone: +987654321
          address: 456 Eve St, Other City
        }
        courses:
        {
          course:
          {
            course_name: Math 101
            quizzes:
            {
              quiz:
              [
                {
                  id: 1
                  grade: 9
                  weight: 0.15
                }
                {
                  id: 2
                  grade: 10
                  weight: 0.15
                }
              ]
            }
            midterm:
            {
              grade: AB(absent) // The student was absent for the midterm exam.
              weight: 0.3
            }
            final:
            {
              grade: 77
              weight: 0.4
            }
            total_score: 78.3
            attendance:
            {
              total_classes: 30
              attended_classes: 27
              absent_classes: 3
            }
          }
        }
        extra_curricular:
        {
          sports:
          {
            sport:
            {
              sport_name: Tennis
              position: Singles
              team: The Champions
            }
          }
          clubs:
          {
            club:
            {
              club_name: Art Club
              role: Vice President
            }
          }
        }
      }
      {
        name: Alice
        age: 14
        contact:
        {
          email: alice@example.com
          phone: +111222333
          address: 789 Alice St, Another City
        }
        courses:
        {
          course:
          {
            course_name: Science 101
            quizzes:
            {
              quiz:
              [
                {
                  id: 1
                  grade: 7
                  weight: 0.2
                }
                {
                  id: 2
                  grade: 8
                  weight: 0.2
                }
              ]
            }
            midterm:
            {
              grade: 85
              weight: 0.3
            }
            final:
            {
              grade: 90
              weight: 0.5
            }
            total_score: 84.7
            attendance:
            {
              total_classes: 30
              attended_classes: 29
              absent_classes: 1
            }
          }
        }
        extra_curricular:
        {
          sports:
          {
            sport:
            {
              sport_name: Swimming
              position: Freestyle
              team: Blue Sharks
            }
          }
          clubs:
          {
            club:
            [
              {
                club_name: Chess Club
                role: Member
              }
              {
                club_name: Literature Club
                role: Secretary
              }
            ]
          }
        }
      }
    ]
  }`,readingtabularjson5:`{
    students: {
        student: [
            {
                name: 'Bob',
                age: 12,
                contact: {
                    email: 'bob@example.com',
                    phone: '+123456789',
                    address: '123 Bob St, Some City'
                },
                courses: {
                    course: {
                        course_name: 'Math 101',
                        quizzes: {
                            quiz: [
                                {
                                    id: 1,
                                    grade: 8,
                                    weight: 0.1
                                },
                                {
                                    id: 2,
                                    grade: 9,
                                    weight: 0.1
                                }
                            ]
                        },
                        midterm: {
                            grade: 77,
                            weight: 0.3
                        },
                        final: {
                            grade: 87,
                            weight: 0.5
                        },
                        total_score: 82.3,
                        attendance: {
                            total_classes: 30,
                            attended_classes: 28,
                            absent_classes: 2
                        }
                    }
                },
                extra_curricular: {
                    sports: {
                        sport: [
                            {
                                sport_name: 'Soccer',
                                position: 'Forward',
                                team: 'The Tigers'
                            },
                            {
                                sport_name: 'Basketball',
                                position: 'Guard',
                                team: 'The Eagles'
                            }
                        ]
                    },
                    clubs: {
                        club: [
                            {
                                club_name: 'Science Club',
                                role: 'President'
                            },
                            {
                                club_name: 'Drama Club',
                                role: 'Member'
                            }
                        ]
                    }
                }
            },
            {
                name: 'Eve',
                age: 13,
                contact: {
                    email: 'eve@example.com',
                    phone: '+987654321',
                    address: '456 Eve St, Other City'
                },
                courses: {
                    course: {
                        course_name: 'Math 101',
                        quizzes: {
                            quiz: [
                                {
                                    id: 1,
                                    grade: 9,
                                    weight: 0.15
                                },
                                {
                                    id: 2,
                                    grade: 10,
                                    weight: 0.15
                                }
                            ]
                        },
                        midterm: {
                            grade: 'AB(absent)',  // The student was absent for the midterm exam.
                            weight: 0.3
                        },
                        final: {
                            grade: 77,
                            weight: 0.4
                        },
                        total_score: 78.3,
                        attendance: {
                            total_classes: 30,
                            attended_classes: 27,
                            absent_classes: 3
                        }
                    }
                },
                extra_curricular: {
                    sports: {
                        sport: {
                            sport_name: 'Tennis',
                            position: 'Singles',
                            team: 'The Champions'
                        }
                    },
                    clubs: {
                        club: {
                            club_name: 'Art Club',
                            role: 'Vice President'
                        }
                    }
                }
            },
            {
                name: 'Alice',
                age: 14,
                contact: {
                    email: 'alice@example.com',
                    phone: '+111222333',
                    address: '789 Alice St, Another City'
                },
                courses: {
                    course: {
                        course_name: 'Science 101',
                        quizzes: {
                            quiz: [
                                {
                                    id: 1,
                                    grade: 7,
                                    weight: 0.2
                                },
                                {
                                    id: 2,
                                    grade: 8,
                                    weight: 0.2
                                }
                            ]
                        },
                        midterm: {
                            grade: 85,
                            weight: 0.3
                        },
                        final: {
                            grade: 90,
                            weight: 0.5
                        },
                        total_score: 84.7,
                        attendance: {
                            total_classes: 30,
                            attended_classes: 29,
                            absent_classes: 1
                        }
                    }
                },
                extra_curricular: {
                    sports: {
                        sport: {
                            sport_name: 'Swimming',
                            position: 'Freestyle',
                            team: 'Blue Sharks'
                        }
                    },
                    clubs: {
                        club: [
                            {
                                club_name: 'Chess Club',
                                role: 'Member'
                            },
                            {
                                club_name: 'Literature Club',
                                role: 'Secretary'
                            }
                        ]
                    }
                }
            }
        ]
    }
}`,readingconfigjson:JSON.stringify({name:"d3",version:"7.9.0",description:"Data-Driven Documents",homepage:"d3js.org",repository:{type:"git",url:"github.com/d3/d3.git"},keywords:["d3","dom","visualization","svg","animation","canvas"],license:"ISC",author:{firstname:"Mike",lastname:"Bostock"},type:"module",files:["dist/d3.js","dist/d3.min.js","src/**/*.js"],module:"src/index.js",main:"src/index.js",jsdelivr:"dist/d3.min.js",unpkg:"dist/d3.min.js",exports:{umd:"./dist/d3.min.js",default:"./src/index.js"},dependencies:{"d3-array":"^3.2.4","d3-axis":"^3.0.0","d3-brush":"^3.0.0","d3-chord":"^3.0.1","d3-color":"^3.1.0","d3-contour":"^4.0.2","d3-delaunay":"^6.0.4","d3-dispatch":"^3.0.1","d3-drag":"^3.0.0","d3-dsv":"^3.0.1","d3-ease":"^3.0.1","d3-fetch":"^3.0.1","d3-force":"^3.0.0","d3-format":"^3.1.0","d3-geo":"^3.1.1","d3-hierarchy":"^3.1.2","d3-interpolate":"^3.0.1","d3-path":"^3.1.0","d3-polygon":"^3.0.1","d3-quadtree":"^3.0.1","d3-random":"^3.0.1","d3-scale":"^4.0.2","d3-scale-chromatic":"^3.1.0","d3-selection":"^3.0.0","d3-shape":"^3.2.0","d3-time":"^3.1.0","d3-time-format":"^4.1.0","d3-timer":"^3.0.1","d3-transition":"^3.0.1","d3-zoom":"^3.0.0"},devDependencies:{"@observablehq/plot":"^0.6.7","@observablehq/runtime":"^5.7.3","@rollup/plugin-json":"^6.1.0","@rollup/plugin-node-resolve":"^15.2.3","@rollup/plugin-terser":"^0.4.0",eslint:"^8.57.0",mocha:"^10.3.0",rollup:"^3.29.4","topojson-client":"^3.1.0",vitepress:"^1.4.0"},scripts:{prepublishOnly:"rm -rf dist && rollup -c",postpublish:"git push && git push --tags","docs/dev":"node --experimental-network-imports node_modules/vitepress/dist/node/cli.js dev docs","docs/build":"./prebuild.sh && node --experimental-network-imports node_modules/vitepress/dist/node/cli.js build docs","docs/preview":"vitepress preview docs"},engines:{node:">=12"}},null,2),readingconfigxml:`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<root>
  <name>d3</name>
  <version>7.9.0</version> 
  <description>Data-Driven Documents</description>
  <homepage>d3js.org</homepage>
  <repository>
    <type>git</type>
    <url>github.com/d3/d3.git</url>
  </repository>
  <keywords>d3</keywords>
  <keywords>dom</keywords>
  <keywords>visualization</keywords>
  <keywords>svg</keywords>
  <keywords>animation</keywords>
  <keywords>canvas</keywords>
  <license>ISC</license>
  <author>
    <firstname>Mike</firstname>
    <lastname>Bostock</lastname>
  </author>
  <type>module</type>
  <files>dist/d3.js</files>
  <files>dist/d3.min.js</files>
  <files>src/**/*.js</files>
  <module>src/index.js</module>
  <main>src/index.js</main>
  <jsdelivr>dist/d3.min.js</jsdelivr>
  <unpkg>dist/d3.min.js</unpkg>
  <exports>
    <umd>./dist/d3.min.js</umd>
    <default>./src/index.js</default>
  </exports>
  <dependencies>
    <d3-array>^3.2.4</d3-array>
    <d3-axis>^3.0.0</d3-axis>
    <d3-brush>^3.0.0</d3-brush>
    <d3-chord>^3.0.1</d3-chord>
    <d3-color>^3.1.0</d3-color>
    <d3-contour>^4.0.2</d3-contour>
    <d3-delaunay>^6.0.4</d3-delaunay>  <!--this version might have compatibility issues-->
    <d3-dispatch>^3.0.1</d3-dispatch>
    <d3-drag>^3.0.0</d3-drag>
    <d3-dsv>^3.0.1</d3-dsv>
    <d3-ease>^3.0.1</d3-ease>
    <d3-fetch>^3.0.1</d3-fetch>
    <d3-force>^3.0.0</d3-force>
    <d3-format>^3.1.0</d3-format>
    <d3-geo>^3.1.1</d3-geo>
    <d3-hierarchy>^3.1.2</d3-hierarchy>
    <d3-interpolate>^3.0.1</d3-interpolate>
    <d3-path>^3.1.0</d3-path>
    <d3-polygon>^3.0.1</d3-polygon>
    <d3-quadtree>^3.0.1</d3-quadtree>
    <d3-random>^3.0.1</d3-random>
    <d3-scale>^4.0.2</d3-scale>
    <d3-scale-chromatic>^3.1.0</d3-scale-chromatic>
    <d3-selection>^3.0.0</d3-selection>
    <d3-shape>^3.2.0</d3-shape>
    <d3-time>^3.1.0</d3-time>
    <d3-time-format>^4.1.0</d3-time-format>
    <d3-timer>^3.0.1</d3-timer>
    <d3-transition>^3.0.1</d3-transition>
    <d3-zoom>^3.0.0</d3-zoom>
  </dependencies>
  <devDependencies>
    <_x0040_observablehq_x002F_plot>^0.6.7</_x0040_observablehq_x002F_plot>
    <_x0040_observablehq_x002F_runtime>^5.7.3</_x0040_observablehq_x002F_runtime>
    <_x0040_rollup_x002F_plugin-json>^6.1.0</_x0040_rollup_x002F_plugin-json>
    <_x0040_rollup_x002F_plugin-node-resolve>^15.2.3</_x0040_rollup_x002F_plugin-node-resolve>
    <_x0040_rollup_x002F_plugin-terser>^0.4.0</_x0040_rollup_x002F_plugin-terser>
    <eslint>^8.57.0</eslint>
    <mocha>^10.3.0</mocha>
    <rollup>^3.29.4</rollup>
    <topojson-client>^3.1.0</topojson-client>
    <vitepress>^1.4.0</vitepress>
  </devDependencies>
  <scripts>
    <prepublishOnly>rm -rf dist && rollup -c</prepublishOnly>
    <postpublish>git push && git push --tags</postpublish>
    <docs/dev>node --experimental-network-imports node_modules/vitepress/dist/node/cli.js dev docs</docs/dev>
    <docs/build>./prebuild.sh && node --experimental-network-imports node_modules/vitepress/dist/node/cli.js build docs</docs/build>
    <docs/preview>vitepress preview docs</docs/preview>
  <\/scripts>
  <engines>
    <node> >=12</node>
  </engines>
</root>`,readingconfigtoml:`name = "d3"
version = "7.9.0"
description = "Data-Driven Documents"
homepage = "d3js.org"
keywords = ["d3", "dom", "visualization", "svg", "animation", "canvas"]
license = "ISC"
type = "module"
files = ["dist/d3.js", "dist/d3.min.js", "src/**/*.js"]
module = "src/index.js"
main = "src/index.js"
jsdelivr = "dist/d3.min.js"
unpkg = "dist/d3.min.js"

[repository]
type = "git"
url = "github.com/d3/d3.git"

[author]
firstname = "Mike"
lastname = "Bostock"

[exports]
umd = "./dist/d3.min.js"
default = "./src/index.js"

[dependencies]
d3-array = "^3.2.4"
d3-axis = "^3.0.0"
d3-brush = "^3.0.0"
d3-chord = "^3.0.1"
d3-color = "^3.1.0"
d3-contour = "^4.0.2"
d3-delaunay = "^6.0.4" # this version might have compatibility issues
d3-dispatch = "^3.0.1"
d3-drag = "^3.0.0"
d3-dsv = "^3.0.1"
d3-ease = "^3.0.1"
d3-fetch = "^3.0.1"
d3-force = "^3.0.0"
d3-format = "^3.1.0"
d3-geo = "^3.1.1"
d3-hierarchy = "^3.1.2"
d3-interpolate = "^3.0.1"
d3-path = "^3.1.0"
d3-polygon = "^3.0.1"
d3-quadtree = "^3.0.1"
d3-random = "^3.0.1"
d3-scale = "^4.0.2"
d3-scale-chromatic = "^3.1.0"
d3-selection = "^3.0.0"
d3-shape = "^3.2.0"
d3-time = "^3.1.0"
d3-time-format = "^4.1.0"
d3-timer = "^3.0.1"
d3-transition = "^3.0.1"
d3-zoom = "^3.0.0"

[devDependencies]
@observablehq/plot = "^0.6.7"
@observablehq/runtime = "^5.7.3"
@rollup/plugin-json = "^6.1.0"
@rollup/plugin-node-resolve = "^15.2.3"
@rollup/plugin-terser = "^0.4.0"
eslint = "^8.57.0"
mocha = "^10.3.0"
rollup = "^3.29.4"
topojson-client = "^3.1.0"
vitepress = "^1.4.0"

[scripts]
prepublishOnly = "rm -rf dist && rollup -c"
postpublish = "git push && git push --tags"
docs/dev = "node --experimental-network-imports node_modules/vitepress/dist/node/cli.js dev docs"
docs/build = "./prebuild.sh && node --experimental-network-imports node_modules/vitepress/dist/node/cli.js build docs"
docs/preview = "vitepress preview docs"

[engines]
node = ">=12"`,readingconfigyaml:`
  name: d3
  version: 7.9.0
  description: 'Data-Driven Documents'
  homepage: d3js.org
  repository:
    type: git
    url: github.com/d3/d3.git
  keywords:
    - d3
    - dom
    - visualization
    - svg
    - animation
    - canvas
  license: ISC
  author:
    firstname: Mike
    lastname:  Bostock
  type: module
  files:
    - dist/d3.js
    - dist/d3.min.js
    - 'src/**/*.js'
  module: src/index.js
  main: src/index.js
  jsdelivr: dist/d3.min.js
  unpkg: dist/d3.min.js
  exports:
    umd: ./dist/d3.min.js
    default: ./src/index.js
  dependencies:
    d3-array: ^3.2.4
    d3-axis: ^3.0.0
    d3-brush: ^3.0.0
    d3-chord: ^3.0.1
    d3-color: ^3.1.0
    d3-contour: ^4.0.2
    d3-delaunay: ^6.0.4 # this version might have compatibility issues
    d3-dispatch: ^3.0.1
    d3-drag: ^3.0.0
    d3-dsv: ^3.0.1
    d3-ease: ^3.0.1
    d3-fetch: ^3.0.1
    d3-force: ^3.0.0
    d3-format: ^3.1.0
    d3-geo: ^3.1.1
    d3-hierarchy: ^3.1.2
    d3-interpolate: ^3.0.1
    d3-path: ^3.1.0
    d3-polygon: ^3.0.1
    d3-quadtree: ^3.0.1
    d3-random: ^3.0.1
    d3-scale: ^4.0.2
    d3-scale-chromatic: ^3.1.0
    d3-selection: ^3.0.0
    d3-shape: ^3.2.0
    d3-time: ^3.1.0
    d3-time-format: ^4.1.0
    d3-timer: ^3.0.1
    d3-transition: ^3.0.1
    d3-zoom: ^3.0.0
  devDependencies:
    observablehq/plot: ^0.6.7
    observablehq/runtime: ^5.7.3
    rollup/plugin-json: ^6.1.0
    rollup/plugin-node-resolve: ^15.2.3
    rollup/plugin-terser: ^0.4.0
    eslint: ^8.57.0
    mocha: ^10.3.0
    rollup: ^3.29.4
    topojson-client: ^3.1.0
    vitepress: ^1.4.0
  scripts:
    prepublishOnly: 'rm -rf dist && rollup -c'
    postpublish: 'git push && git push --tags'
    docs/dev: 'node --experimental-network-imports node_modules/vitepress/dist/node/cli.js dev docs'
    docs/build: './prebuild.sh && node --experimental-network-imports node_modules/vitepress/dist/node/cli.js build docs'
    docs/preview: 'vitepress preview docs'
  engines:
    node: '>=12'`,readingconfigjsonc:JSON.stringify({name:"d3",version:"7.9.0",description:"Data-Driven Documents",homepage:"d3js.org",repository:{type:"git",url:"github.com/d3/d3.git"},keywords:["d3","dom","visualization","svg","animation","canvas"],license:"ISC",author:{firstname:"Mike",lastname:"Bostock"},type:"module",files:["dist/d3.js","dist/d3.min.js","src/**/*.js"],module:"src/index.js",main:"src/index.js",jsdelivr:"dist/d3.min.js",unpkg:"dist/d3.min.js",exports:{umd:"./dist/d3.min.js",default:"./src/index.js"},dependencies:{"d3-array":"^3.2.4","d3-axis":"^3.0.0","d3-brush":"^3.0.0","d3-chord":"^3.0.1","d3-color":"^3.1.0","d3-contour":"^4.0.2","d3-delaunay":"^6.0.4","d3-dispatch":"^3.0.1","d3-drag":"^3.0.0","d3-dsv":"^3.0.1","d3-ease":"^3.0.1","d3-fetch":"^3.0.1","d3-force":"^3.0.0","d3-format":"^3.1.0","d3-geo":"^3.1.1","d3-hierarchy":"^3.1.2","d3-interpolate":"^3.0.1","d3-path":"^3.1.0","d3-polygon":"^3.0.1","d3-quadtree":"^3.0.1","d3-random":"^3.0.1","d3-scale":"^4.0.2","d3-scale-chromatic":"^3.1.0","d3-selection":"^3.0.0","d3-shape":"^3.2.0","d3-time":"^3.1.0","d3-time-format":"^4.1.0","d3-timer":"^3.0.1","d3-transition":"^3.0.1","d3-zoom":"^3.0.0"},devDependencies:{"@observablehq/plot":"^0.6.7","@observablehq/runtime":"^5.7.3","@rollup/plugin-json":"^6.1.0","@rollup/plugin-node-resolve":"^15.2.3","@rollup/plugin-terser":"^0.4.0",eslint:"^8.57.0",mocha:"^10.3.0",rollup:"^3.29.4","topojson-client":"^3.1.0",vitepress:"^1.4.0"},scripts:{prepublishOnly:"rm -rf dist && rollup -c",postpublish:"git push && git push --tags","docs/dev":"node --experimental-network-imports node_modules/vitepress/dist/node/cli.js dev docs","docs/build":"./prebuild.sh && node --experimental-network-imports node_modules/vitepress/dist/node/cli.js build docs","docs/preview":"vitepress preview docs"},engines:{node:">=12"}},null,2),readingconfigjson5:`{
    name: 'd3',
    version: '7.9.0',
    description: 'Data-Driven Documents',
    homepage: 'd3js.org',
    repository: {
        type: 'git',
        url: 'github.com/d3/d3.git'
    },
    keywords: [
        'd3',
        'dom',
        'visualization',
        'svg',
        'animation',
        'canvas'
    ],
    license: 'ISC',
    author: {
        firstname: 'Mike',
        lastname: 'Bostock'
    },
    type: 'module',
    files: [
        'dist/d3.js',
        'dist/d3.min.js',
        'src/**/*.js'
    ],
    module: 'src/index.js',
    main: 'src/index.js',
    jsdelivr: 'dist/d3.min.js',
    unpkg: 'dist/d3.min.js',
    exports: {
        umd: './dist/d3.min.js',
        default: './src/index.js'
    },
    dependencies: {
        'd3-array': '^3.2.4',
        'd3-axis': '^3.0.0',
        'd3-brush': '^3.0.0',
        'd3-chord': '^3.0.1',
        'd3-color': '^3.1.0',
        'd3-contour': '^4.0.2',
        'd3-delaunay': '^6.0.4', // this version might have compatibility issues
        'd3-dispatch': '^3.0.1',
        'd3-drag': '^3.0.0',
        'd3-dsv': '^3.0.1',
        'd3-ease': '^3.0.1',
        'd3-fetch': '^3.0.1',
        'd3-force': '^3.0.0',
        'd3-format': '^3.1.0',
        'd3-geo': '^3.1.1',
        'd3-hierarchy': '^3.1.2',
        'd3-interpolate': '^3.0.1',
        'd3-path': '^3.1.0',
        'd3-polygon': '^3.0.1',
        'd3-quadtree': '^3.0.1',
        'd3-random': '^3.0.1',
        'd3-scale': '^4.0.2',
        'd3-scale-chromatic': '^3.1.0',
        'd3-selection': '^3.0.0',
        'd3-shape': '^3.2.0',
        'd3-time': '^3.1.0',
        'd3-time-format': '^4.1.0',
        'd3-timer': '^3.0.1',
        'd3-transition': '^3.0.1',
        'd3-zoom': '^3.0.0'
    },
    devDependencies: {
        '@observablehq/plot': '^0.6.7',
        '@observablehq/runtime': '^5.7.3',
        '@rollup/plugin-json': '^6.1.0',
        '@rollup/plugin-node-resolve': '^15.2.3',
        '@rollup/plugin-terser': '^0.4.0',
        eslint: '^8.57.0',
        mocha: '^10.3.0',
        rollup: '^3.29.4',
        'topojson-client': '^3.1.0',
        vitepress: '^1.4.0'
    },
    scripts: {
        prepublishOnly: 'rm -rf dist && rollup -c',
        postpublish: 'git push && git push --tags',
        'docs/dev': 'node --experimental-network-imports node_modules/vitepress/dist/node/cli.js dev docs',
        'docs/build': './prebuild.sh && node --experimental-network-imports node_modules/vitepress/dist/node/cli.js build docs',
        'docs/preview': 'vitepress preview docs'
    },
    engines: {
        node: '>=12'
    }
}`,readingconfighjson:`{
    name: d3
    version: 7.9.0
    description: Data-Driven Documents
    homepage: d3js.org
    repository:
    {
      type: git
      url: github.com/d3/d3.git
    }
    keywords:
    [
      d3
      dom
      visualization
      svg
      animation
      canvas
    ]
    license: ISC
    author:
    {
      firstname: Mike
      lastname:  Bostock
    }
    type: module
    files:
    [
      dist/d3.js
      dist/d3.min.js
      src/**/*.js
    ]
    module: src/index.js
    main: src/index.js
    jsdelivr: dist/d3.min.js
    unpkg: dist/d3.min.js
    exports:
    {
      umd: ./dist/d3.min.js
      default: ./src/index.js
    }
    dependencies:
    {
      d3-array: ^3.2.4
      d3-axis: ^3.0.0
      d3-brush: ^3.0.0
      d3-chord: ^3.0.1
      d3-color: ^3.1.0
      d3-contour: ^4.0.2
      d3-delaunay: ^6.0.4 // this version might have compatibility issues
      d3-dispatch: ^3.0.1
      d3-drag: ^3.0.0
      d3-dsv: ^3.0.1
      d3-ease: ^3.0.1
      d3-fetch: ^3.0.1
      d3-force: ^3.0.0
      d3-format: ^3.1.0
      d3-geo: ^3.1.1
      d3-hierarchy: ^3.1.2
      d3-interpolate: ^3.0.1
      d3-path: ^3.1.0
      d3-polygon: ^3.0.1
      d3-quadtree: ^3.0.1
      d3-random: ^3.0.1
      d3-scale: ^4.0.2
      d3-scale-chromatic: ^3.1.0
      d3-selection: ^3.0.0
      d3-shape: ^3.2.0
      d3-time: ^3.1.0
      d3-time-format: ^4.1.0
      d3-timer: ^3.0.1
      d3-transition: ^3.0.1
      d3-zoom: ^3.0.0
    }
    devDependencies:
    {
      @observablehq/plot: ^0.6.7
      @observablehq/runtime: ^5.7.3
      @rollup/plugin-json: ^6.1.0
      @rollup/plugin-node-resolve: ^15.2.3
      @rollup/plugin-terser: ^0.4.0
      eslint: ^8.57.0
      mocha: ^10.3.0
      rollup: ^3.29.4
      topojson-client: ^3.1.0
      vitepress: ^1.4.0
    }
    scripts:
    {
      prepublishOnly: rm -rf dist && rollup -c
      postpublish: git push && git push --tags
      docs/dev: node --experimental-network-imports node_modules/vitepress/dist/node/cli.js dev docs
      docs/build: ./prebuild.sh && node --experimental-network-imports node_modules/vitepress/dist/node/cli.js build docs
      docs/preview: vitepress preview docs
    }
    engines:
    {
      node: >=12
    }
  }`,modifyingconfigjson:JSON.stringify({name:"vega-lite",author:"Dominik Moritz, Kanit Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer",version:"5.23.0",collaborators:["Kanit Wongsuphasawat","Dominik Moritz","Arvind Satyanarayan","Jeffrey Heer"],homepage:"ega.github.io/vega-lite/",description:"Vega-Lite is a concise high-level language for interactive visualization.",keywords:["vega","chart","visualization"],main:"build/vega-lite.js",unpkg:"build/vega-lite.min.js",jsdelivr:"build/vega-lite.min.js",module:"build/src/index",types:"build/src/index.d.ts",bin:{vl2pdf:"./bin/vl2pdf",vl2png:"./bin/vl2png",vl2svg:"./bin/vl2svg",vl2vg:"./bin/vl2vg"},files:["bin","build","src","vega-lite*","tsconfig.json"],scripts:{changelog:"conventional-changelog -p angular -r",prebuild:"yarn clean:build",build:"yarn build:only",data:"rsync -r node_modules/vega-datasets/data/* site/data","build-editor-preview":"scripts/build-editor-preview.sh",schema:"mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/",renameschema:"scripts/rename-schema.sh",presite:"yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh",site:"yarn site:only",format:"eslint . --fix && yarn prettierbase --write",lint:"eslint . && yarn prettierbase --check",test:"yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn",release:"release-it"},repository:{type:"git",url:"github.com/vega/vega-lite.git"},license:"BSD-3-Clause",bugs:{url:"github.com/vega/vega-lite/issues"},devDependencies:{ajv:"^8.17.1","ajv-formats":"^3.0.1",cheerio:"^1.0.0","conventional-changelog-cli":"^5.0.0",d3:"^7.9.0","del-cli":"^6.0.0",eslint:"^8.57.0","eslint-config-prettier":"^9.1.0","eslint-plugin-jest":"^28.11.0","eslint-plugin-prettier":"^5.2.1","fast-json-stable-stringify":"~2.1.0","highlight.js":"^11.11.1",jest:"^29.7.0","jest-dev-server":"^11.0.0",mkdirp:"^3.0.1",pako:"^2.1.0",prettier:"^3.4.2",puppeteer:"^15.0.0","release-it":"18.1.2",rollup:"^4.32.1","rollup-plugin-bundle-size":"^1.0.3",serve:"^14.2.4",terser:"^5.37.0","ts-jest":"^29.2.5","ts-json-schema-generator":"^2.3.0",typescript:"~5.7.3","vega-cli":"^5.31.0","vega-datasets":"^2.11.0","vega-embed":"^6.29.0","vega-tooltip":"^0.35.2","yaml-front-matter":"^4.1.1"},dependencies:{"json-stringify-pretty-compact":"~4.0.0",tslib:"~2.8.1","vega-event-selector":"~3.0.1","vega-expression":"~5.1.2","vega-util":"~1.17.3",yargs:"~17.7.2"},peerDependencies:{vega:"^5.31.0"},engines:{node:">=18"},packageManager:"yarn@1.22.22"},null,2),modifyingconfigjsonc:JSON.stringify({name:"vega-lite",author:"Dominik Moritz, Kanit Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer",version:"5.23.0",collaborators:["Kanit Wongsuphasawat","Dominik Moritz","Arvind Satyanarayan","Jeffrey Heer"],homepage:"vega.github.io/vega-lite/",description:"Vega-Lite is a concise high-level language for interactive visualization.",keywords:["vega","chart","visualization"],main:"build/vega-lite.js",unpkg:"build/vega-lite.min.js",jsdelivr:"build/vega-lite.min.js",module:"build/src/index",types:"build/src/index.d.ts",bin:{vl2pdf:"./bin/vl2pdf",vl2png:"./bin/vl2png",vl2svg:"./bin/vl2svg",vl2vg:"./bin/vl2vg"},files:["bin","build","src","vega-lite*","tsconfig.json"],scripts:{changelog:"conventional-changelog -p angular -r",prebuild:"yarn clean:build",build:"yarn build:only",data:"rsync -r node_modules/vega-datasets/data/* site/data","build-editor-preview":"scripts/build-editor-preview.sh",schema:"mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/",renameschema:"scripts/rename-schema.sh",presite:"yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh",site:"yarn site:only",format:"eslint . --fix && yarn prettierbase --write",lint:"eslint . && yarn prettierbase --check",test:"yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn",release:"release-it"},repository:{type:"git",url:"github.com/vega/vega-lite.git"},license:"BSD-3-Clause",bugs:{url:"github.com/vega/vega-lite/issues"},devDependencies:{ajv:"^8.17.1","ajv-formats":"^3.0.1",cheerio:"^1.0.0","conventional-changelog-cli":"^5.0.0",d3:"^7.9.0","del-cli":"^6.0.0",eslint:"^8.57.0","eslint-config-prettier":"^9.1.0","eslint-plugin-jest":"^28.11.0","eslint-plugin-prettier":"^5.2.1","fast-json-stable-stringify":"~2.1.0","highlight.js":"^11.11.1",jest:"^29.7.0","jest-dev-server":"^11.0.0",mkdirp:"^3.0.1",pako:"^2.1.0",prettier:"^3.4.2",puppeteer:"^15.0.0","release-it":"18.1.2",rollup:"^4.32.1","rollup-plugin-bundle-size":"^1.0.3",serve:"^14.2.4",terser:"^5.37.0","ts-jest":"^29.2.5","ts-json-schema-generator":"^2.3.0",typescript:"~5.7.3","vega-cli":"^5.31.0","vega-datasets":"^2.11.0","vega-embed":"^6.29.0","vega-tooltip":"^0.35.2","yaml-front-matter":"^4.1.1"},dependencies:{"json-stringify-pretty-compact":"~4.0.0",tslib:"~2.8.1","vega-event-selector":"~3.0.1","vega-expression":"~5.1.2","vega-util":"~1.17.3",yargs:"~17.7.2"},peerDependencies:{vega:"^5.31.0"},engines:{node:">=18"},packageManager:"yarn@1.22.22"},null,2),modifyingconfigxml:`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<root>
  <name>vega-lite</name>
  <author>Dominik Moritz, Kanit Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer</author>
  <version>5.23.0</version>   <!--make sure that the vega version specified in peerDependencies matches this value. -->
  <collaborators>Kanit Wongsuphasawat</collaborators>
  <collaborators>Dominik Moritz</collaborators>
  <collaborators>Arvind Satyanarayan</collaborators>
  <collaborators>Jeffrey Heer</collaborators>
  <homepage>vega.github.io/vega-lite/</homepage>
  <description>Vega-Lite is a concise high-level language for interactive visualization.</description>
  <keywords>vega</keywords>
  <keywords>chart</keywords>
  <keywords>visualization</keywords>
  <main>build/vega-lite.js</main>
  <unpkg>build/vega-lite.min.js</unpkg>
  <jsdelivr>build/vega-lite.min.js</jsdelivr>
  <module>build/src/index</module>
  <types>build/src/index.d.ts</types>
  <bin>
    <vl2pdf>./bin/vl2pdf</vl2pdf>
    <vl2png>./bin/vl2png</vl2png>
    <vl2svg>./bin/vl2svg</vl2svg>
    <vl2vg>./bin/vl2vg</vl2vg>
  </bin>
  <files>bin</files>
  <files>build</files>
  <files>src</files>
  <files>vega-lite*</files>
  <files>tsconfig.json</files>
  <scripts>
    <changelog>conventional-changelog -p angular -r</changelog>
    <prebuild>yarn clean:build</prebuild>
    <build>yarn build:only</build>
    <data>rsync -r node_modules/vega-datasets/data/* site/data</data>
    <build-editor-preview>scripts/build-editor-preview.sh</build-editor-preview>
    <schema>mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode >; build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/</schema>
    <renameschema>scripts/rename-schema.sh</renameschema>
    <presite>yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh</presite>
    <site>yarn site:only</site>
    <format>eslint . --fix && yarn prettierbase --write</format>
    <lint>eslint . && yarn prettierbase --check</lint>
    <test>yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn</test>
    <release>release-it</release>
  <\/scripts>
  <repository>
    <type>git</type>
    <url>github.com/vega/vega-lite.git</url>
  </repository>
  <license>BSD-3-Clause</license>
  <bugs>
    <url>github.com/vega/vega-lite/issues</url>
  </bugs>
  <devDependencies>
    <ajv>^8.17.1</ajv>
    <ajv-formats>^3.0.1</ajv-formats>
    <cheerio>^1.0.0</cheerio>
    <conventional-changelog-cli>^5.0.0</conventional-changelog-cli>
    <d3>^7.9.0</d3>
    <del-cli>^6.0.0</del-cli>
    <eslint>^8.57.0</eslint>
    <eslint-config-prettier>^9.1.0</eslint-config-prettier>
    <eslint-plugin-jest>^28.11.0</eslint-plugin-jest>
    <eslint-plugin-prettier>^5.2.1</eslint-plugin-prettier>
    <fast-json-stable-stringify>~2.1.0</fast-json-stable-stringify>
    <highlight.js>^11.11.1</highlight.js>
    <jest>^29.7.0</jest>
    <jest-dev-server>^11.0.0</jest-dev-server>
    <mkdirp>^3.0.1</mkdirp>
    <pako>^2.1.0</pako>
    <prettier>^3.4.2</prettier>
    <puppeteer>^15.0.0</puppeteer>
    <release-it>18.1.2</release-it>
    <rollup>^4.32.1</rollup>
    <rollup-plugin-bundle-size>^1.0.3</rollup-plugin-bundle-size>
    <serve>^14.2.4</serve>
    <terser>^5.37.0</terser>
    <ts-jest>^29.2.5</ts-jest>
    <ts-json-schema-generator>^2.3.0</ts-json-schema-generator>
    <typescript>~5.7.3</typescript>
    <vega-cli>^5.31.0</vega-cli>
    <vega-datasets>^2.11.0</vega-datasets>
    <vega-embed>^6.29.0</vega-embed>
    <vega-tooltip>^0.35.2</vega-tooltip>
    <yaml-front-matter>^4.1.1</yaml-front-matter>
  </devDependencies>
  <dependencies>
    <json-stringify-pretty-compact>~4.0.0</json-stringify-pretty-compact>
    <tslib>~2.8.1</tslib>
    <vega-event-selector>~3.0.1</vega-event-selector>
    <vega-expression>~5.1.2</vega-expression>
    <vega-util>~1.17.3</vega-util>
    <yargs>~17.7.2</yargs>
  </dependencies>
  <peerDependencies>
    <vega>^5.31.0</vega>  <!--make sure this value matches the value of the version at the beginning. -->
  </peerDependencies>
  <engines>
    <node>>=18</node>
  </engines>
  <packageManager>yarn@1.22.22</packageManager>
</root>`,modifyingconfigtoml:`name = "vega-lite"
author = "Dominik Moritz, Kanit Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer"
version = "5.23.0"   # make sure that the vega version specified in peerDependencies matches this value.
collaborators = ["Kanit Wongsuphasawat", "Dominik Moritz", "Arvind Satyanarayan", "Jeffrey Heer"]
homepage = "vega.github.io/vega-lite/"
description = "Vega-Lite is a concise high-level language for interactive visualization."
keywords = ["vega", "chart", "visualization"]
main = "build/vega-lite.js"
unpkg = "build/vega-lite.min.js"
jsdelivr = "build/vega-lite.min.js"
module = "build/src/index"
types = "build/src/index.d.ts"
files = ["bin", "build", "src", "vega-lite*", "tsconfig.json"]
license = "BSD-3-Clause"
packageManager = "yarn@1.22.22"

[bin]
vl2pdf = "./bin/vl2pdf"
vl2png = "./bin/vl2png"
vl2svg = "./bin/vl2svg"
vl2vg = "./bin/vl2vg"

[scripts]
changelog = "conventional-changelog -p angular -r"
prebuild = "yarn clean:build"
build = "yarn build:only"
data = "rsync -r node_modules/vega-datasets/data/* site/data"
build-editor-preview = "scripts/build-editor-preview.sh"
schema = "mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/"
renameschema = "scripts/rename-schema.sh"
presite = "yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh"
site = "yarn site:only"
format = "eslint . --fix && yarn prettierbase --write"
lint = "eslint . && yarn prettierbase --check"
test = "yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn"
release = "release-it"

[repository]
type = "git"
url = "github.com/vega/vega-lite.git"

[bugs]
url = "github.com/vega/vega-lite/issues"

[devDependencies]
ajv = "^8.17.1"
ajv-formats = "^3.0.1"
cheerio = "^1.0.0"
conventional-changelog-cli = "^5.0.0"
d3 = "^7.9.0"
del-cli = "^6.0.0"
eslint = "^8.57.0"
eslint-config-prettier = "^9.1.0"
eslint-plugin-jest = "^28.11.0"
eslint-plugin-prettier = "^5.2.1"
fast-json-stable-stringify = "~2.1.0"
"highlight.js" = "^11.11.1"
jest = "^29.7.0"
jest-dev-server = "^11.0.0"
mkdirp = "^3.0.1"
pako = "^2.1.0"
prettier = "^3.4.2"
puppeteer = "^15.0.0"
release-it = "18.1.2"
rollup = "^4.32.1"
rollup-plugin-bundle-size = "^1.0.3"
serve = "^14.2.4"
terser = "^5.37.0"
ts-jest = "^29.2.5"
ts-json-schema-generator = "^2.3.0"
typescript = "~5.7.3"
vega-cli = "^5.31.0"
vega-datasets = "^2.11.0"
vega-embed = "^6.29.0"
vega-tooltip = "^0.35.2"
yaml-front-matter = "^4.1.1"

[dependencies]
json-stringify-pretty-compact = "~4.0.0"
tslib = "~2.8.1"
vega-event-selector = "~3.0.1"
vega-expression = "~5.1.2"
vega-util = "~1.17.3"
yargs = "~17.7.2"

[peerDependencies]
vega = "^5.31.0"   # make sure this value matches the value of the version at the beginning.

[engines]
node = ">=18"`,modifyingconfigyaml:`name: vega-lite
author: Dominik Moritz, Kanit Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer
version: 5.23.0  # make sure that the vega version specified in peerDependencies matches this value.
collaborators:
  - Kanit Wongsuphasawat
  - Dominik Moritz
  - Arvind Satyanarayan
  - Jeffrey Heer
homepage: vega.github.io/vega-lite/
description: Vega-Lite is a concise high-level language for interactive visualization.
keywords:
  - vega
  - chart
  - visualization
main: build/vega-lite.js
unpkg: build/vega-lite.min.js
jsdelivr: build/vega-lite.min.js
module: build/src/index
types: build/src/index.d.ts
bin:
  vl2pdf: ./bin/vl2pdf
  vl2png: ./bin/vl2png
  vl2svg: ./bin/vl2svg
  vl2vg: ./bin/vl2vg
files:
  - bin
  - build
  - src
  - vega-lite*
  - tsconfig.json
scripts:
  changelog: conventional-changelog -p angular -r
  prebuild: yarn clean:build
  build: yarn build:only
  data: rsync -r node_modules/vega-datasets/data/* site/data
  build-editor-preview: scripts/build-editor-preview.sh
  schema: mkdir -p build && ts-json-schema-generator -f tsconfig.json -p
    src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode >
    build/vega-lite-schema.json && yarn renameschema && cp
    build/vega-lite-schema.json site/_data/
  renameschema: scripts/rename-schema.sh
  presite: yarn data && yarn schema && yarn build:site && yarn build:versions &&
    scripts/create-example-pages.sh
  site: yarn site:only
  format: eslint . --fix && yarn prettierbase --write
  lint: eslint . && yarn prettierbase --check
  test: yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn
  release: release-it
repository:
  type: git
  url: github.com/vega/vega-lite.git
license: BSD-3-Clause
bugs:
  url: github.com/vega/vega-lite/issues
devDependencies:
  ajv: ^8.17.1
  ajv-formats: ^3.0.1
  cheerio: ^1.0.0
  conventional-changelog-cli: ^5.0.0
  d3: ^7.9.0
  del-cli: ^6.0.0
  eslint: ^8.57.0
  eslint-config-prettier: ^9.1.0
  eslint-plugin-jest: ^28.11.0
  eslint-plugin-prettier: ^5.2.1
  fast-json-stable-stringify: ~2.1.0
  highlight.js: ^11.11.1
  jest: ^29.7.0
  jest-dev-server: ^11.0.0
  mkdirp: ^3.0.1
  pako: ^2.1.0
  prettier: ^3.4.2
  puppeteer: ^15.0.0
  release-it: 18.1.2
  rollup: ^4.32.1
  rollup-plugin-bundle-size: ^1.0.3
  serve: ^14.2.4
  terser: ^5.37.0
  ts-jest: ^29.2.5
  ts-json-schema-generator: ^2.3.0
  typescript: ~5.7.3
  vega-cli: ^5.31.0
  vega-datasets: ^2.11.0
  vega-embed: ^6.29.0
  vega-tooltip: ^0.35.2
  yaml-front-matter: ^4.1.1
dependencies:
  json-stringify-pretty-compact: ~4.0.0
  tslib: ~2.8.1
  vega-event-selector: ~3.0.1
  vega-expression: ~5.1.2
  vega-util: ~1.17.3
  yargs: ~17.7.2
peerDependencies:
  vega: ^5.31.0  # make sure this value matches the value of the version at the beginning.
engines:
  node: ">=18"
packageManager: yarn@1.22.22`,modifyingconfigjson5:`{
    name: 'vega-lite',
    author: 'Dominik Moritz, Kanit Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer',
    version: '5.23.0',  // make sure that the vega version specified in peerDependencies matches this value.
    collaborators: [
        'Kanit Wongsuphasawat',
        'Dominik Moritz',
        'Arvind Satyanarayan',
        'Jeffrey Heer'
    ],
    homepage: 'vega.github.io/vega-lite/',
    description: 'Vega-Lite is a concise high-level language for interactive visualization.',
    keywords: [
        'vega',
        'chart',
        'visualization'
    ],
    main: 'build/vega-lite.js',
    unpkg: 'build/vega-lite.min.js',
    jsdelivr: 'build/vega-lite.min.js',
    module: 'build/src/index',
    types: 'build/src/index.d.ts',
    bin: {
        vl2pdf: './bin/vl2pdf',
        vl2png: './bin/vl2png',
        vl2svg: './bin/vl2svg',
        vl2vg: './bin/vl2vg'
    },
    files: [
        'bin',
        'build',
        'src',
        'vega-lite*',
        'tsconfig.json'
    ],
    scripts: {
        changelog: 'conventional-changelog -p angular -r',
        prebuild: 'yarn clean:build',
        build: 'yarn build:only',
        data: 'rsync -r node_modules/vega-datasets/data/* site/data',
        'build-editor-preview': 'scripts/build-editor-preview.sh',
        schema: 'mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/',
        renameschema: 'scripts/rename-schema.sh',
        presite: 'yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh',
        site: 'yarn site:only',
        format: 'eslint . --fix && yarn prettierbase --write',
        lint: 'eslint . && yarn prettierbase --check',
        test: 'yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn',
        release: 'release-it'
    },
    repository: {
        type: 'git',
        url: 'github.com/vega/vega-lite.git'
    },
    license: 'BSD-3-Clause',
    bugs: {
        url: 'github.com/vega/vega-lite/issues'
    },
    devDependencies: {
        ajv: '^8.17.1',
        'ajv-formats': '^3.0.1',
        cheerio: '^1.0.0',
        'conventional-changelog-cli': '^5.0.0',
        d3: '^7.9.0',
        'del-cli': '^6.0.0',
        eslint: '^8.57.0',
        'eslint-config-prettier': '^9.1.0',
        'eslint-plugin-jest': '^28.11.0',
        'eslint-plugin-prettier': '^5.2.1',
        'fast-json-stable-stringify': '~2.1.0',
        'highlight.js': '^11.11.1',
        jest: '^29.7.0',
        'jest-dev-server': '^11.0.0',
        mkdirp: '^3.0.1',
        pako: '^2.1.0',
        prettier: '^3.4.2',
        puppeteer: '^15.0.0',
        'release-it': '18.1.2',
        rollup: '^4.32.1',
        'rollup-plugin-bundle-size': '^1.0.3',
        serve: '^14.2.4',
        terser: '^5.37.0',
        'ts-jest': '^29.2.5',
        'ts-json-schema-generator': '^2.3.0',
        typescript: '~5.7.3',
        'vega-cli': '^5.31.0',
        'vega-datasets': '^2.11.0',
        'vega-embed': '^6.29.0',
        'vega-tooltip': '^0.35.2',
        'yaml-front-matter': '^4.1.1'
    },
    dependencies: {
        'json-stringify-pretty-compact': '~4.0.0',
        tslib: '~2.8.1',
        'vega-event-selector': '~3.0.1',
        'vega-expression': '~5.1.2',
        'vega-util': '~1.17.3',
        yargs: '~17.7.2'
    },
    peerDependencies: {
        vega: '^5.31.0' //make sure this value matches the value of the version at the beginning.
    },
    engines: {
        node: '>=18'
    },
    packageManager: 'yarn@1.22.22'
}`,modifyingconfighjson:`
  name: vega-lite
  author: Dominik Moritz, Kanit Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer
  version: 5.23.0   // make sure that the vega version specified in peerDependencies matches this value.
  collaborators:
  [
    Kanit Wongsuphasawat
    Dominik Moritz
    Arvind Satyanarayan
    Jeffrey Heer
  ]
  homepage: vega.github.io/vega-lite/
  description: Vega-Lite is a concise high-level language for interactive visualization.
  keywords:
  [
    vega
    chart
    visualization
  ]
  main: build/vega-lite.js
  unpkg: build/vega-lite.min.js
  jsdelivr: build/vega-lite.min.js
  module: build/src/index
  types: build/src/index.d.ts
  bin:
  {
    vl2pdf: ./bin/vl2pdf
    vl2png: ./bin/vl2png
    vl2svg: ./bin/vl2svg
    vl2vg: ./bin/vl2vg
  }
  files:
  [
    bin
    build
    src
    vega-lite*
    tsconfig.json
  ]
  scripts:
  {
    changelog: conventional-changelog -p angular -r
    prebuild: yarn clean:build
    build: yarn build:only
    data: rsync -r node_modules/vega-datasets/data/* site/data
    build-editor-preview: scripts/build-editor-preview.sh
    schema: mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/
    renameschema: scripts/rename-schema.sh
    presite: yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh
    site: yarn site:only
    format: eslint . --fix && yarn prettierbase --write
    lint: eslint . && yarn prettierbase --check
    test: yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn
    release: release-it
  }
  repository:
  {
    type: git
    url: github.com/vega/vega-lite.git
  }
  license: BSD-3-Clause
  bugs:
  {
    url: github.com/vega/vega-lite/issues
  }
  devDependencies:
  {
    ajv: ^8.17.1
    ajv-formats: ^3.0.1
    cheerio: ^1.0.0
    conventional-changelog-cli: ^5.0.0
    d3: ^7.9.0
    del-cli: ^6.0.0
    eslint: ^8.57.0
    eslint-config-prettier: ^9.1.0
    eslint-plugin-jest: ^28.11.0
    eslint-plugin-prettier: ^5.2.1
    fast-json-stable-stringify: ~2.1.0
    highlight.js: ^11.11.1
    jest: ^29.7.0
    jest-dev-server: ^11.0.0
    mkdirp: ^3.0.1
    pako: ^2.1.0
    prettier: ^3.4.2
    puppeteer: ^15.0.0
    release-it: 18.1.2
    rollup: ^4.32.1
    rollup-plugin-bundle-size: ^1.0.3
    serve: ^14.2.4
    terser: ^5.37.0
    ts-jest: ^29.2.5
    ts-json-schema-generator: ^2.3.0
    typescript: ~5.7.3
    vega-cli: ^5.31.0
    vega-datasets: ^2.11.0
    vega-embed: ^6.29.0
    vega-tooltip: ^0.35.2
    yaml-front-matter: ^4.1.1
  }
  dependencies:
  {
    json-stringify-pretty-compact: ~4.0.0
    tslib: ~2.8.1
    vega-event-selector: ~3.0.1
    vega-expression: ~5.1.2
    vega-util: ~1.17.3
    yargs: ~17.7.2
  }
  peerDependencies:
  {
    vega: ^5.31.0  //make sure this value matches the value of the version at the beginning.
  }
  engines:
  {
    node: >=18
  }
  packageManager: yarn@1.22.22`,modifyingtabularjson:JSON.stringify({movies:{movie:[{title:"After Dark in Central Park",year:1900,cast:[],genres:["Silent","Short"],href:null,country:"United States",runtime:3,language:"Silent",release_date:"1900-03-15",production_company:"Edison Manufacturing Company",director:"James H. White",writer:"Unknown",cinematography:"Unknown",budget:500,box_office:null,awards:[]},{title:"Boarding School Girls' Pajama Parade",year:1900,cast:[],genres:["Silent","Short"],href:null,country:"United States",runtime:2,language:"Silent",release_date:"1900-05-10",production_company:"Edison Manufacturing Company",director:"James H. White",writer:"Unknown",cinematography:"Unknown",budget:450,box_office:null,awards:[]},{title:"Buffalo Bill's Wild West Parade",year:1900,cast:["Buffalo Bill (William F. Cody)"],genres:["Documentary"],href:null,country:"United States",runtime:5,language:"Silent",release_date:"1900-07-04",production_company:"Edison Manufacturing Company",director:"Unknown",writer:"Unknown",cinematography:"Unknown",budget:600,box_office:null,awards:[]},{title:"Caught",year:1900,cast:[],genres:["Drama"],href:null,country:"United States",runtime:2,language:"Silent",release_date:"1900-02-20",production_company:"Biograph Company",director:"William Heise",writer:"Unknown",cinematography:"Unknown",budget:400,box_office:null,awards:[]},{title:"Clowns Spinning Hats",year:1900,cast:["Unknown Clowns"],genres:["Silent","Comedy"],href:"Clowns_Spinning_Hats",extract:"Clowns Spinning Hats is a black-and-white silent film featuring clowns throwing hats back and forth to each other. It was written and produced by Lubin Films and released April 7, 1900.",country:"United States",runtime:3,language:"Silent",release_date:"1900-04-07",production_company:"Lubin Films",director:"Unknown",writer:"Unknown",cinematography:"Unknown",budget:500,box_office:null,awards:[]},{title:"The Enchanted Drawing",year:1900,cast:["J. Stuart Blackton"],genres:["Silent","Animation"],href:"The_Enchanted_Drawing",extract:"The Enchanted Drawing is a 1900 silent film directed by J. Stuart Blackton. It is best known for containing the first animated sequences recorded on standard picture film, which has led Blackton to be considered the father of American animation.",thumbnail_width:320,thumbnail_height:240,country:"United States",runtime:2,language:"Silent",release_date:"1900-11-16",production_company:"Vitagraph Studios",director:"J. Stuart Blackton",writer:"J. Stuart Blackton",cinematography:"Unknown",budget:700,box_office:null,awards:[]},{title:"Feeding Sea Lions",year:1900,cast:["Paul Boyton"],genres:["Short","Silent"],href:"Feeding_Sea_Lions",extract:"Feeding Sea Lions is a short silent film featuring Paul Boyton feeding sea lions at his Sea Lion Park at Coney Island. Boyton is shown feeding the trained sea lions, twelve in number. The sea lions follow Boyton up the steps of the pool and then follow him back into the water. One of them steals food out of the basket. The film was made by Lubin Studios on March 10, 1900.",country:"United States",runtime:3,language:"Silent",release_date:"1900-03-10",production_company:"Lubin Studios",director:"Unknown",writer:"Unknown",cinematography:"Unknown",budget:450,box_office:null,awards:[]},{title:"A Trip to the Moon",year:1902,cast:["Georges Mlis"],genres:["Sci-Fi","Adventure"],href:"A_Trip_to_the_Moon",extract:"A Trip to the Moon (French: Le Voyage dans la Lune) is a 1902 French silent film directed by Georges Mlis. It is widely regarded as the first science fiction film ever made.",thumbnail_width:320,thumbnail_height:240,country:"France",runtime:14,language:"Silent",release_date:"1902-09-01",production_company:"Star Film Company",director:"Georges Mlis",writer:"Georges Mlis",cinematography:"Georges Mlis",budget:1e4,box_office:2e4,awards:["Considered a milestone in cinema history"]},{title:"The Great Train Robbery",year:1903,cast:["Gilbert M. Anderson","A. C. Abadie"],genres:["Western","Action"],href:"The_Great_Train_Robbery",extract:"The Great Train Robbery is a 1903 American silent short film directed by Edwin S. Porter. It is considered one of the earliest narrative films.",thumbnail_width:320,thumbnail_height:240,country:"United States",runtime:12,language:"Silent",release_date:"1903-12-01",production_company:"Edison Manufacturing Company",director:"Edwin S. Porter",writer:"Scott Marble",cinematography:"Edwin S. Porter",budget:150,box_office:5e3,awards:["One of the earliest crime films"]}]}},null,2),modifyingtabularjsonc:JSON.stringify({movies:{movie:[{title:"After Dark in Central Park",year:1900,cast:[],genres:["Silent","Short"],href:null,country:"United States",runtime:3,language:"Silent",release_date:"1900-03-15",production_company:"Edison Manufacturing Company",director:"James H. White",writer:"Unknown",cinematography:"Unknown",budget:500,box_office:null,awards:[]},{title:"Boarding School Girls' Pajama Parade",year:1900,cast:[],genres:["Silent","Short"],href:null,country:"United States",runtime:2,language:"Silent",release_date:"1900-05-10",production_company:"Edison Manufacturing Company",director:"James H. White",writer:"Unknown",cinematography:"Unknown",budget:450,box_office:null,awards:[]},{title:"Buffalo Bill's Wild West Parade",year:1900,cast:["Buffalo Bill (William F. Cody)"],genres:["Documentary"],href:null,country:"United States",runtime:5,language:"Silent",release_date:"1900-07-04",production_company:"Edison Manufacturing Company",director:"Unknown",writer:"Unknown",cinematography:"Unknown",budget:600,box_office:null,awards:[]},{title:"Caught",year:1900,cast:[],genres:["Drama"],href:null,country:"United States",runtime:2,language:"Silent",release_date:"1900-02-20",production_company:"Biograph Company",director:"William Heise",writer:"Unknown",cinematography:"Unknown",budget:400,box_office:null,awards:[]},{title:"Clowns Spinning Hats",year:1900,cast:["Unknown Clowns"],genres:["Silent","Comedy"],href:"Clowns_Spinning_Hats",extract:"Clowns Spinning Hats is a black-and-white silent film featuring clowns throwing hats back and forth to each other. It was written and produced by Lubin Films and released April 7, 1900.",country:"United States",runtime:3,language:"Silent",release_date:"1900-04-07",production_company:"Lubin Films",director:"Unknown",writer:"Unknown",cinematography:"Unknown",budget:500,box_office:null,awards:[]},{title:"The Enchanted Drawing",year:1900,cast:["J. Stuart Blackton"],genres:["Silent","Animation"],href:"The_Enchanted_Drawing",extract:"The Enchanted Drawing is a 1900 silent film directed by J. Stuart Blackton. It is best known for containing the first animated sequences recorded on standard picture film, which has led Blackton to be considered the father of American animation.",thumbnail_width:320,thumbnail_height:240,country:"United States",runtime:2,language:"Silent",release_date:"1900-11-16",production_company:"Vitagraph Studios",director:"J. Stuart Blackton",writer:"J. Stuart Blackton",cinematography:"Unknown",budget:700,box_office:null,awards:[]},{title:"Feeding Sea Lions",year:1900,cast:["Paul Boyton"],genres:["Short","Silent"],href:"Feeding_Sea_Lions",extract:"Feeding Sea Lions is a short silent film featuring Paul Boyton feeding sea lions at his Sea Lion Park at Coney Island. Boyton is shown feeding the trained sea lions, twelve in number. The sea lions follow Boyton up the steps of the pool and then follow him back into the water. One of them steals food out of the basket. The film was made by Lubin Studios on March 10, 1900.",country:"United States",runtime:3,language:"Silent",release_date:"1900-03-10",production_company:"Lubin Studios",director:"Unknown",writer:"Unknown",cinematography:"Unknown",budget:450,box_office:null,awards:[]},{title:"A Trip to the Moon",year:1902,cast:["Georges Mlis"],genres:["Sci-Fi","Adventure"],href:"A_Trip_to_the_Moon",extract:"A Trip to the Moon (French: Le Voyage dans la Lune) is a 1902 French silent film directed by Georges Mlis. It is widely regarded as the first science fiction film ever made.",thumbnail_width:320,thumbnail_height:240,country:"France",runtime:14,language:"Silent",release_date:"1902-09-01",production_company:"Star Film Company",director:"Georges Mlis",writer:"Georges Mlis",cinematography:"Georges Mlis",budget:1e4,box_office:2e4,awards:["Considered a milestone in cinema history"]},{title:"The Great Train Robbery",year:1903,cast:["Gilbert M. Anderson","A. C. Abadie"],genres:["Western","Action"],href:"The_Great_Train_Robbery",extract:"The Great Train Robbery is a 1903 American silent short film directed by Edwin S. Porter. It is considered one of the earliest narrative films.",thumbnail_width:320,thumbnail_height:240,country:"United States",runtime:12,language:"Silent",release_date:"1903-12-01",production_company:"Edison Manufacturing Company",director:"Edwin S. Porter",writer:"Scott Marble",cinematography:"Edwin S. Porter",budget:150,box_office:5e3,awards:["One of the earliest crime films"]}]}},null,2),modifyingtabularxml:`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<movies>
  <movie>
    <title>After Dark in Central Park</title>
    <year>1900</year>
    <cast/>
    <genres>Silent</genres>
    <genres>Short</genres>
    <href/>
    <country>United States</country>
    <runtime>3</runtime>
    <language>Silent</language>
    <release_date>1900-03-15</release_date>
    <production_company>Edison Manufacturing Company</production_company>
    <director>James H. White</director>
    <writer>Unknown</writer>
    <cinematography>Unknown</cinematography>
    <budget>500</budget>
    <box_office/>
    <awards/>
  </movie>
  <movie>
    <title>Boarding School Girls' Pajama Parade</title>
    <year>1900</year>
    <cast/>
    <genres>Silent</genres>
    <genres>Short</genres>
    <href/>
    <country>United States</country>
    <runtime>2</runtime>
    <language>Silent</language>
    <release_date>1900-05-10</release_date>
    <production_company>Edison Manufacturing Company</production_company>
    <director>James H. White</director>
    <writer>Unknown</writer>
    <cinematography>Unknown</cinematography>
    <budget>450</budget>
    <box_office/>
    <awards/>
  </movie>
  <movie>
    <title>Buffalo Bill's Wild West Parade</title>
    <year>1900</year>
    <cast>Buffalo Bill (William F. Cody)</cast>
    <genres>Documentary</genres>
    <href/>
    <country>United States</country>
    <runtime>5</runtime>
    <language>Silent</language>
    <release_date>1900-07-04</release_date>
    <production_company>Edison Manufacturing Company</production_company>
    <director>Unknown</director>
    <writer>Unknown</writer>
    <cinematography>Unknown</cinematography>
    <budget>600</budget>
    <box_office/>
    <awards/>
  </movie>
  <movie>
    <title>Caught</title>
    <year>1900</year>
    <cast/>
    <genres>Drama</genres>
    <href/>
    <country>United States</country>
    <runtime>2</runtime>
    <language>Silent</language>
    <release_date>1900-02-20</release_date>
    <production_company>Biograph Company</production_company>
    <director>William Heise</director>
    <writer>Unknown</writer>
    <cinematography>Unknown</cinematography>
    <budget>400</budget>
    <box_office/>
    <awards/>
  </movie>
  <movie>
    <title>Clowns Spinning Hats</title>
    <year>1900</year>
    <cast>Unknown Clowns</cast>
    <genres>Silent</genres>
    <genres>Comedy</genres>
    <href>Clowns_Spinning_Hats</href>
    <extract>Clowns Spinning Hats is a black-and-white silent film featuring clowns throwing hats back and forth to each other. It was written and produced by Lubin Films and released April 7, 1900.</extract>
    <country>United States</country>
    <runtime>3</runtime>
    <language>Silent</language>
    <release_date>1900-04-07</release_date>
    <production_company>Lubin Films</production_company>
    <director>Unknown</director>
    <writer>Unknown</writer>
    <cinematography>Unknown</cinematography>
    <budget>500</budget>
    <box_office/>
    <awards/>
  </movie>
  <movie>
    <title>The Enchanted Drawing</title>
    <year>1900</year>
    <cast>J. Stuart Blackton</cast>
    <genres>Silent</genres>
    <genres>Animation</genres>
    <href>The_Enchanted_Drawing</href>
    <extract>The Enchanted Drawing is a 1900 silent film directed by J. Stuart Blackton. It is best known for containing the first animated sequences recorded on standard picture film, which has led Blackton to be considered the father of American animation.</extract>
    <thumbnail_width>320</thumbnail_width>
    <thumbnail_height>240</thumbnail_height>
    <country>United States</country>
    <runtime>2</runtime>
    <language>Silent</language>
    <release_date>1900-11-16</release_date>
    <production_company>Vitagraph Studios</production_company>
    <director>J. Stuart Blackton</director>
    <writer>J. Stuart Blackton</writer>
    <cinematography>Unknown</cinematography>
    <budget>700</budget>
    <box_office/>
    <awards/>
  </movie>
  <movie>
    <title>Feeding Sea Lions</title>
    <year>1900</year>
    <cast>Paul Boyton</cast>
    <genres>Short</genres>
    <genres>Silent</genres>
    <href>Feeding_Sea_Lions</href>
    <extract>Feeding Sea Lions is a short silent film featuring Paul Boyton feeding sea lions at his Sea Lion Park at Coney Island. Boyton is shown feeding the trained sea lions, twelve in number. The sea lions follow Boyton up the steps of the pool and then follow him back into the water. One of them steals food out of the basket. The film was made by Lubin Studios on March 10, 1900.</extract>
    <country>United States</country>
    <runtime>3</runtime>
    <language>Silent</language>
    <release_date>1900-03-10</release_date>
    <production_company>Lubin Studios</production_company>
    <director>Unknown</director>
    <writer>Unknown</writer>
    <cinematography>Unknown</cinematography>
    <budget>450</budget>
    <box_office/>
    <awards/>
  </movie>
  <movie>
    <title>A Trip to the Moon</title>
    <year>1902</year>   <!-- This movie was released after 1900. -->
    <cast>Georges Mlis</cast>
    <genres>Sci-Fi</genres>
    <genres>Adventure</genres>
    <href>A_Trip_to_the_Moon</href>
    <extract>A Trip to the Moon (French: Le Voyage dans la Lune) is a 1902 French silent film directed by Georges Mlis. It is widely regarded as the first science fiction film ever made.</extract>
    <thumbnail_width>320</thumbnail_width>
    <thumbnail_height>240</thumbnail_height>
    <country>France</country>
    <runtime>14</runtime>
    <language>Silent</language>
    <release_date>1902-09-01</release_date>
    <production_company>Star Film Company</production_company>
    <director>Georges Mlis</director>
    <writer>Georges Mlis</writer>
    <cinematography>Georges Mlis</cinematography>
    <budget>10000</budget>
    <box_office>20000</box_office>
    <awards>Considered a milestone in cinema history</awards>
  </movie>
  <movie>
    <title>The Great Train Robbery</title>
    <year>1903</year>   <!-- This movie was released after 1900. -->
    <cast>Gilbert M. Anderson</cast>
    <cast>A. C. Abadie</cast>
    <genres>Western</genres>
    <genres>Action</genres>
    <href>The_Great_Train_Robbery</href>
    <extract>The Great Train Robbery is a 1903 American silent short film directed by Edwin S. Porter. It is considered one of the earliest narrative films.</extract>
    <thumbnail_width>320</thumbnail_width>
    <thumbnail_height>240</thumbnail_height>
    <country>United States</country>
    <runtime>12</runtime>
    <language>Silent</language>
    <release_date>1903-12-01</release_date>
    <production_company>Edison Manufacturing Company</production_company>
    <director>Edwin S. Porter</director>
    <writer>Scott Marble</writer>
    <cinematography>Edwin S. Porter</cinematography>
    <budget>150</budget>
    <box_office>5000</box_office>
    <awards>One of the earliest crime films</awards>
  </movie>
</movies>`,modifyingtabulartoml:`[movies]

[[movies.movie]]
title = "After Dark in Central Park"
year = 1900
cast = []
genres = ["Silent", "Short"]
country = "United States"
runtime = 3
language = "Silent"
release_date = "1900-03-15"
production_company = "Edison Manufacturing Company"
director = "James H. White"
writer = "Unknown"
cinematography = "Unknown"
budget = 500
awards = []

[[movies.movie]]
title = "Boarding School Girls' Pajama Parade"
year = 1900
cast = []
genres = ["Silent", "Short"]
country = "United States"
runtime = 2
language = "Silent"
release_date = "1900-05-10"
production_company = "Edison Manufacturing Company"
director = "James H. White"
writer = "Unknown"
cinematography = "Unknown"
budget = 450
awards = []

[[movies.movie]]
title = "Buffalo Bill's Wild West Parade"
year = 1900
cast = ["Buffalo Bill (William F. Cody)"]
genres = ["Documentary"]
country = "United States"
runtime = 5
language = "Silent"
release_date = "1900-07-04"
production_company = "Edison Manufacturing Company"
director = "Unknown"
writer = "Unknown"
cinematography = "Unknown"
budget = 600
awards = []

[[movies.movie]]
title = "Caught"
year = 1900
cast = []
genres = ["Drama"]
country = "United States"
runtime = 2
language = "Silent"
release_date = "1900-02-20"
production_company = "Biograph Company"
director = "William Heise"
writer = "Unknown"
cinematography = "Unknown"
budget = 400
awards = []

[[movies.movie]]
title = "Clowns Spinning Hats"
year = 1900
cast = ["Unknown Clowns"]
genres = ["Silent", "Comedy"]
href = "Clowns_Spinning_Hats"
extract = "Clowns Spinning Hats is a black-and-white silent film featuring clowns throwing hats back and forth to each other. It was written and produced by Lubin Films and released April 7, 1900."
country = "United States"
runtime = 3
language = "Silent"
release_date = "1900-04-07"
production_company = "Lubin Films"
director = "Unknown"
writer = "Unknown"
cinematography = "Unknown"
budget = 500
awards = []

[[movies.movie]]
title = "The Enchanted Drawing"
year = 1900
cast = ["J. Stuart Blackton"]
genres = ["Silent", "Animation"]
href = "The_Enchanted_Drawing"
extract = "The Enchanted Drawing is a 1900 silent film directed by J. Stuart Blackton. It is best known for containing the first animated sequences recorded on standard picture film, which has led Blackton to be considered the father of American animation."
thumbnail_width = 320
thumbnail_height = 240
country = "United States"
runtime = 2
language = "Silent"
release_date = "1900-11-16"
production_company = "Vitagraph Studios"
director = "J. Stuart Blackton"
writer = "J. Stuart Blackton"
cinematography = "Unknown"
budget = 700
awards = []

[[movies.movie]]
title = "Feeding Sea Lions"
year = 1900
cast = ["Paul Boyton"]
genres = ["Short", "Silent"]
href = "Feeding_Sea_Lions"
extract = "Feeding Sea Lions is a short silent film featuring Paul Boyton feeding sea lions at his Sea Lion Park at Coney Island. Boyton is shown feeding the trained sea lions, twelve in number. The sea lions follow Boyton up the steps of the pool and then follow him back into the water. One of them steals food out of the basket. The film was made by Lubin Studios on March 10, 1900."
country = "United States"
runtime = 3
language = "Silent"
release_date = "1900-03-10"
production_company = "Lubin Studios"
director = "Unknown"
writer = "Unknown"
cinematography = "Unknown"
budget = 450
awards = []

[[movies.movie]]
title = "A Trip to the Moon"
year = 1902   # This movie was released after 1900.
cast = ["Georges Mlis"]
genres = ["Sci-Fi", "Adventure"]
href = "A_Trip_to_the_Moon"
extract = "A Trip to the Moon (French: Le Voyage dans la Lune) is a 1902 French silent film directed by Georges Mlis. It is widely regarded as the first science fiction film ever made."
thumbnail_width = 320
thumbnail_height = 240
country = "France"
runtime = 14
language = "Silent"
release_date = "1902-09-01"
production_company = "Star Film Company"
director = "Georges Mlis"
writer = "Georges Mlis"
cinematography = "Georges Mlis"
budget = 10000
box_office = 20000
awards = ["Considered a milestone in cinema history"]

[[movies.movie]]
title = "The Great Train Robbery"
year = 1903  # This movie was released after 1900.
cast = ["Gilbert M. Anderson", "A. C. Abadie"]
genres = ["Western", "Action"]
href = "The_Great_Train_Robbery"
extract = "The Great Train Robbery is a 1903 American silent short film directed by Edwin S. Porter. It is considered one of the earliest narrative films."
thumbnail_width = 320
thumbnail_height = 240
country = "United States"
runtime = 12
language = "Silent"
release_date = "1903-12-01"
production_company = "Edison Manufacturing Company"
director = "Edwin S. Porter"
writer = "Scott Marble"
cinematography = "Edwin S. Porter"
budget = 150
box_office = 5000
awards = ["One of the earliest crime films"]`,modifyingtabularyaml:`movies:
  movie:
    - title: After Dark in Central Park
      year: 1900
      cast: []
      genres:
        - Silent
        - Short
      href: null
      country: United States
      runtime: 3
      language: Silent
      release_date: '1900-03-15'
      production_company: Edison Manufacturing Company
      director: James H. White
      writer: Unknown
      cinematography: Unknown
      budget: 500
      box_office: null
      awards: []
    - title: Boarding School Girls' Pajama Parade
      year: 1900
      cast: []
      genres:
        - Silent
        - Short
      href: null
      country: United States
      runtime: 2
      language: Silent
      release_date: '1900-05-10'
      production_company: Edison Manufacturing Company
      director: James H. White
      writer: Unknown
      cinematography: Unknown
      budget: 450
      box_office: null
      awards: []
    - title: Buffalo Bill's Wild West Parade
      year: 1900
      cast:
        - Buffalo Bill (William F. Cody)
      genres:
        - Documentary
      href: null
      country: United States
      runtime: 5
      language: Silent
      release_date: '1900-07-04'
      production_company: Edison Manufacturing Company
      director: Unknown
      writer: Unknown
      cinematography: Unknown
      budget: 600
      box_office: null
      awards: []
    - title: Caught
      year: 1900
      cast: []
      genres:
        - Drama
      href: null
      country: United States
      runtime: 2
      language: Silent
      release_date: '1900-02-20'
      production_company: Biograph Company
      director: William Heise
      writer: Unknown
      cinematography: Unknown
      budget: 400
      box_office: null
      awards: []
    - title: Clowns Spinning Hats
      year: 1900
      cast:
        - Unknown Clowns
      genres:
        - Silent
        - Comedy
      href: Clowns_Spinning_Hats
      extract: >-
        Clowns Spinning Hats is a black-and-white silent film featuring clowns
        throwing hats back and forth to each other. It was written and produced
        by Lubin Films and released April 7, 1900.
      country: United States
      runtime: 3
      language: Silent
      release_date: '1900-04-07'
      production_company: Lubin Films
      director: Unknown
      writer: Unknown
      cinematography: Unknown
      budget: 500
      box_office: null
      awards: []
    - title: The Enchanted Drawing
      year: 1900
      cast:
        - J. Stuart Blackton
      genres:
        - Silent
        - Animation
      href: The_Enchanted_Drawing
      extract: >-
        The Enchanted Drawing is a 1900 silent film directed by J. Stuart
        Blackton. It is best known for containing the first animated sequences
        recorded on standard picture film, which has led Blackton to be
        considered the father of American animation.
      thumbnail_width: 320
      thumbnail_height: 240
      country: United States
      runtime: 2
      language: Silent
      release_date: '1900-11-16'
      production_company: Vitagraph Studios
      director: J. Stuart Blackton
      writer: J. Stuart Blackton
      cinematography: Unknown
      budget: 700
      box_office: null
      awards: []
    - title: Feeding Sea Lions
      year: 1900
      cast:
        - Paul Boyton
      genres:
        - Short
        - Silent
      href: Feeding_Sea_Lions
      extract: >-
        Feeding Sea Lions is a short silent film featuring Paul Boyton feeding
        sea lions at his Sea Lion Park at Coney Island. Boyton is shown feeding
        the trained sea lions, twelve in number. The sea lions follow Boyton up
        the steps of the pool and then follow him back into the water. One of
        them steals food out of the basket. The film was made by Lubin Studios
        on March 10, 1900.
      country: United States
      runtime: 3
      language: Silent
      release_date: '1900-03-10'
      production_company: Lubin Studios
      director: Unknown
      writer: Unknown
      cinematography: Unknown
      budget: 450
      box_office: null
      awards: []
    - title: A Trip to the Moon
      year: 1902    # This movie was released after 1900.
      cast:
        - Georges Mlis
      genres:
        - Sci-Fi
        - Adventure
      href: A_Trip_to_the_Moon
      extract: >-
        A Trip to the Moon (French: Le Voyage dans la Lune) is a 1902 French
        silent film directed by Georges Mlis. It is widely regarded as the
        first science fiction film ever made.
      thumbnail_width: 320
      thumbnail_height: 240
      country: France
      runtime: 14
      language: Silent
      release_date: '1902-09-01'
      production_company: Star Film Company
      director: Georges Mlis
      writer: Georges Mlis
      cinematography: Georges Mlis
      budget: 10000
      box_office: 20000
      awards:
        - Considered a milestone in cinema history
    - title: The Great Train Robbery
      year: 1903   # This movie was released after 1900.
      cast:
        - Gilbert M. Anderson
        - A. C. Abadie
      genres:
        - Western
        - Action
      href: The_Great_Train_Robbery
      extract: >-
        The Great Train Robbery is a 1903 American silent short film directed by
        Edwin S. Porter. It is considered one of the earliest narrative films.
      thumbnail_width: 320
      thumbnail_height: 240
      country: United States
      runtime: 12
      language: Silent
      release_date: '1903-12-01'
      production_company: Edison Manufacturing Company
      director: Edwin S. Porter
      writer: Scott Marble
      cinematography: Edwin S. Porter
      budget: 150
      box_office: 5000
      awards:
        - One of the earliest crime films`,modifyingtabularjson5:`{
    movies: {
        movie: [
            {
                title: 'After Dark in Central Park',
                year: 1900,
                cast: [],
                genres: [
                    'Silent',
                    'Short'
                ],
                href: null,
                country: 'United States',
                runtime: 3,
                language: 'Silent',
                release_date: '1900-03-15',
                production_company: 'Edison Manufacturing Company',
                director: 'James H. White',
                writer: 'Unknown',
                cinematography: 'Unknown',
                budget: 500,
                box_office: null,
                awards: []
            },
            {
                title: "Boarding School Girls' Pajama Parade",
                year: 1900,
                cast: [],
                genres: [
                    'Silent',
                    'Short'
                ],
                href: null,
                country: 'United States',
                runtime: 2,
                language: 'Silent',
                release_date: '1900-05-10',
                production_company: 'Edison Manufacturing Company',
                director: 'James H. White',
                writer: 'Unknown',
                cinematography: 'Unknown',
                budget: 450,
                box_office: null,
                awards: []
            },
            {
                title: "Buffalo Bill's Wild West Parade",
                year: 1900,
                cast: [
                    'Buffalo Bill (William F. Cody)'
                ],
                genres: [
                    'Documentary'
                ],
                href: null,
                country: 'United States',
                runtime: 5,
                language: 'Silent',
                release_date: '1900-07-04',
                production_company: 'Edison Manufacturing Company',
                director: 'Unknown',
                writer: 'Unknown',
                cinematography: 'Unknown',
                budget: 600,
                box_office: null,
                awards: []
            },
            {
                title: 'Caught',
                year: 1900,
                cast: [],
                genres: [
                    'Drama'
                ],
                href: null,
                country: 'United States',
                runtime: 2,
                language: 'Silent',
                release_date: '1900-02-20',
                production_company: 'Biograph Company',
                director: 'William Heise',
                writer: 'Unknown',
                cinematography: 'Unknown',
                budget: 400,
                box_office: null,
                awards: []
            },
            {
                title: 'Clowns Spinning Hats',
                year: 1900,
                cast: [
                    'Unknown Clowns'
                ],
                genres: [
                    'Silent',
                    'Comedy'
                ],
                href: 'Clowns_Spinning_Hats',
                extract: 'Clowns Spinning Hats is a black-and-white silent film featuring clowns throwing hats back and forth to each other. It was written and produced by Lubin Films and released April 7, 1900.',
                country: 'United States',
                runtime: 3,
                language: 'Silent',
                release_date: '1900-04-07',
                production_company: 'Lubin Films',
                director: 'Unknown',
                writer: 'Unknown',
                cinematography: 'Unknown',
                budget: 500,
                box_office: null,
                awards: []
            },
            {
                title: 'The Enchanted Drawing',
                year: 1900,
                cast: [
                    'J. Stuart Blackton'
                ],
                genres: [
                    'Silent',
                    'Animation'
                ],
                href: 'The_Enchanted_Drawing',
                extract: 'The Enchanted Drawing is a 1900 silent film directed by J. Stuart Blackton. It is best known for containing the first animated sequences recorded on standard picture film, which has led Blackton to be considered the father of American animation.',
                thumbnail_width: 320,
                thumbnail_height: 240,
                country: 'United States',
                runtime: 2,
                language: 'Silent',
                release_date: '1900-11-16',
                production_company: 'Vitagraph Studios',
                director: 'J. Stuart Blackton',
                writer: 'J. Stuart Blackton',
                cinematography: 'Unknown',
                budget: 700,
                box_office: null,
                awards: []
            },
            {
                title: 'Feeding Sea Lions',
                year: 1900,
                cast: [
                    'Paul Boyton'
                ],
                genres: [
                    'Short',
                    'Silent'
                ],
                href: 'Feeding_Sea_Lions',
                extract: 'Feeding Sea Lions is a short silent film featuring Paul Boyton feeding sea lions at his Sea Lion Park at Coney Island. Boyton is shown feeding the trained sea lions, twelve in number. The sea lions follow Boyton up the steps of the pool and then follow him back into the water. One of them steals food out of the basket. The film was made by Lubin Studios on March 10, 1900.',
                country: 'United States',
                runtime: 3,
                language: 'Silent',
                release_date: '1900-03-10',
                production_company: 'Lubin Studios',
                director: 'Unknown',
                writer: 'Unknown',
                cinematography: 'Unknown',
                budget: 450,
                box_office: null,
                awards: []
            },
            {
                title: 'A Trip to the Moon',
                year: 1902,    // This movie was released after 1900.
                cast: [
                    'Georges Mlis'
                ],
                genres: [
                    'Sci-Fi',
                    'Adventure'
                ],
                href: 'A_Trip_to_the_Moon',
                extract: 'A Trip to the Moon (French: Le Voyage dans la Lune) is a 1902 French silent film directed by Georges Mlis. It is widely regarded as the first science fiction film ever made.',
                thumbnail_width: 320,
                thumbnail_height: 240,
                country: 'France',
                runtime: 14,
                language: 'Silent',
                release_date: '1902-09-01',
                production_company: 'Star Film Company',
                director: 'Georges Mlis',
                writer: 'Georges Mlis',
                cinematography: 'Georges Mlis',
                budget: 10000,
                box_office: 20000,
                awards: [
                    'Considered a milestone in cinema history'
                ]
            },
            {
                title: 'The Great Train Robbery',
                year: 1903,    // This movie was released after 1900.
                cast: [
                    'Gilbert M. Anderson',
                    'A. C. Abadie'
                ],
                genres: [
                    'Western',
                    'Action'
                ],
                href: 'The_Great_Train_Robbery',
                extract: 'The Great Train Robbery is a 1903 American silent short film directed by Edwin S. Porter. It is considered one of the earliest narrative films.',
                thumbnail_width: 320,
                thumbnail_height: 240,
                country: 'United States',
                runtime: 12,
                language: 'Silent',
                release_date: '1903-12-01',
                production_company: 'Edison Manufacturing Company',
                director: 'Edwin S. Porter',
                writer: 'Scott Marble',
                cinematography: 'Edwin S. Porter',
                budget: 150,
                box_office: 5000,
                awards: [
                    'One of the earliest crime films'
                ]
            }
        ]
    }
}`,modifyingtabularhjson:`{
  movies:
  {
    movie:
    [
      {
        title: After Dark in Central Park
        year: 1900
        cast: []
        genres:
        [
          Silent
          Short
        ]
        href: null
        country: United States
        runtime: 3
        language: Silent
        release_date: 1900-03-15
        production_company: Edison Manufacturing Company
        director: James H. White
        writer: Unknown
        cinematography: Unknown
        budget: 500
        box_office: null
        awards: []
      }
      {
        title: Boarding School Girls' Pajama Parade
        year: 1900
        cast: []
        genres:
        [
          Silent
          Short
        ]
        href: null
        country: United States
        runtime: 2
        language: Silent
        release_date: 1900-05-10
        production_company: Edison Manufacturing Company
        director: James H. White
        writer: Unknown
        cinematography: Unknown
        budget: 450
        box_office: null
        awards: []
      }
      {
        title: Buffalo Bill's Wild West Parade
        year: 1900
        cast:
        [
          Buffalo Bill (William F. Cody)
        ]
        genres:
        [
          Documentary
        ]
        href: null
        country: United States
        runtime: 5
        language: Silent
        release_date: 1900-07-04
        production_company: Edison Manufacturing Company
        director: Unknown
        writer: Unknown
        cinematography: Unknown
        budget: 600
        box_office: null
        awards: []
      }
      {
        title: Caught
        year: 1900
        cast: []
        genres:
        [
          Drama
        ]
        href: null
        country: United States
        runtime: 2
        language: Silent
        release_date: 1900-02-20
        production_company: Biograph Company
        director: William Heise
        writer: Unknown
        cinematography: Unknown
        budget: 400
        box_office: null
        awards: []
      }
      {
        title: Clowns Spinning Hats
        year: 1900
        cast:
        [
          Unknown Clowns
        ]
        genres:
        [
          Silent
          Comedy
        ]
        href: Clowns_Spinning_Hats
        extract: Clowns Spinning Hats is a black-and-white silent film featuring clowns throwing hats back and forth to each other. It was written and produced by Lubin Films and released April 7, 1900.
        country: United States
        runtime: 3
        language: Silent
        release_date: 1900-04-07
        production_company: Lubin Films
        director: Unknown
        writer: Unknown
        cinematography: Unknown
        budget: 500
        box_office: null
        awards: []
      }
      {
        title: The Enchanted Drawing
        year: 1900
        cast:
        [
          J. Stuart Blackton
        ]
        genres:
        [
          Silent
          Animation
        ]
        href: The_Enchanted_Drawing
        extract: The Enchanted Drawing is a 1900 silent film directed by J. Stuart Blackton. It is best known for containing the first animated sequences recorded on standard picture film, which has led Blackton to be considered the father of American animation.
        thumbnail_width: 320
        thumbnail_height: 240
        country: United States
        runtime: 2
        language: Silent
        release_date: 1900-11-16
        production_company: Vitagraph Studios
        director: J. Stuart Blackton
        writer: J. Stuart Blackton
        cinematography: Unknown
        budget: 700
        box_office: null
        awards: []
      }
      {
        title: Feeding Sea Lions
        year: 1900
        cast:
        [
          Paul Boyton
        ]
        genres:
        [
          Short
          Silent
        ]
        href: Feeding_Sea_Lions
        extract: Feeding Sea Lions is a short silent film featuring Paul Boyton feeding sea lions at his Sea Lion Park at Coney Island. Boyton is shown feeding the trained sea lions, twelve in number. The sea lions follow Boyton up the steps of the pool and then follow him back into the water. One of them steals food out of the basket. The film was made by Lubin Studios on March 10, 1900.
        country: United States
        runtime: 3
        language: Silent
        release_date: 1900-03-10
        production_company: Lubin Studios
        director: Unknown
        writer: Unknown
        cinematography: Unknown
        budget: 450
        box_office: null
        awards: []
      }
      {
        title: A Trip to the Moon
        year: 1902    // This movie was released after 1900.
        cast:
        [
          Georges Mlis
        ]
        genres:
        [
          Sci-Fi
          Adventure
        ]
        href: A_Trip_to_the_Moon
        extract: A Trip to the Moon (French: Le Voyage dans la Lune) is a 1902 French silent film directed by Georges Mlis. It is widely regarded as the first science fiction film ever made.
        thumbnail_width: 320
        thumbnail_height: 240
        country: France
        runtime: 14
        language: Silent
        release_date: 1902-09-01
        production_company: Star Film Company
        director: Georges Mlis
        writer: Georges Mlis
        cinematography: Georges Mlis
        budget: 10000
        box_office: 20000
        awards:
        [
          Considered a milestone in cinema history
        ]
      }
      {
        title: The Great Train Robbery
        year: 1903    // This movie was released after 1900.
        cast:
        [
          Gilbert M. Anderson
          A. C. Abadie
        ]
        genres:
        [
          Western
          Action
        ]
        href: The_Great_Train_Robbery
        extract: The Great Train Robbery is a 1903 American silent short film directed by Edwin S. Porter. It is considered one of the earliest narrative films.
        thumbnail_width: 320
        thumbnail_height: 240
        country: United States
        runtime: 12
        language: Silent
        release_date: 1903-12-01
        production_company: Edison Manufacturing Company
        director: Edwin S. Porter
        writer: Scott Marble
        cinematography: Edwin S. Porter
        budget: 150
        box_office: 5000
        awards:
        [
          One of the earliest crime films
        ]
      }
    ]
  }
}`},Nxe=Object.freeze(Object.defineProperty({__proto__:null,startingStringsMap:Pxe},Symbol.toStringTag,{value:"Module"}));function xat({setAnswer:e,parameters:t,provenanceState:n}){const[r,i]=H.useState(Pxe[t.type+(t.tabular?"tabular":"config")+t.language]),o=Xv();H.useEffect(()=>{n&&n.text!==null&&i(n.text)},[n]);const{actions:s,trrack:a}=H.useMemo(()=>{const d=Qp.create(),f=d.register("type",(p,m)=>(p.text=m,p)),h=Kv({registry:d,initialState:{text:null}});return{actions:{typeAction:f},trrack:h}},[]);let l;t.language==="plain_text"?l="text":t.language==="jsonc"?l="json":l=t.language;const u=H.useCallback(d=>{a.apply("Typing",s.typeAction(d)),e({status:!0,answers:{code:d,error:d},provenanceGraph:a.graph.backend}),i(d)},[s,e,a]),c=H.useRef(null);return H.useEffect(()=>{var d,f;o?(d=c.current)==null||d.editor.setTheme(FW):(f=c.current)==null||f.editor.setTheme(LW)},[o]),$.jsx(De,{children:$.jsxs(ri,{gap:20,wrap:"nowrap",style:{height:"calc(100vh - var(--app-shell-header-height, 0px) - var(--app-shell-footer-height, 0px) - 30px)"},children:[t.imagePath?$.jsx("div",{style:{flex:"0 0 50%"},children:$.jsx("img",{src:ji+t.imagePath,alt:"Example",style:{width:"100%",height:"auto",objectFit:"contain"}})}):null,$.jsx(OW,{ref:c,mode:l,width:"100%",height:"calc(100vh - var(--app-shell-header-height, 0px) - var(--app-shell-footer-height, 0px) - 30px)",value:r,wrapEnabled:!0,onChange:u,name:"UNIQUE_ID_OF_DIV",editorProps:{$blockScrolling:!0}})]})})}const Oxe=Object.freeze(Object.defineProperty({__proto__:null,default:xat},Symbol.toStringTag,{value:"Module"})),_at=H.createContext(null);function Fs(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(u){try{l(r.next(u))}catch(c){o(c)}}function a(u){try{l(r.throw(u))}catch(c){o(c)}}function l(u){var c;u.done?i(u.value):(c=u.value,c instanceof n?c:new n(function(d){d(c)})).then(s,a)}l((r=r.apply(e,t||[])).next())})}let uA=class{constructor(){this.listeners={}}on(t,n,r){if(this.listeners[t]||(this.listeners[t]=new Set),this.listeners[t].add(n),r==null?void 0:r.once){const i=()=>{this.un(t,i),this.un(t,n)};return this.on(t,i),i}return()=>this.un(t,n)}un(t,n){var r;(r=this.listeners[t])===null||r===void 0||r.delete(n)}once(t,n){return this.on(t,n,{once:!0})}unAll(){this.listeners={}}emit(t,...n){this.listeners[t]&&this.listeners[t].forEach(r=>r(...n))}};const Lk={decode:function(e,t){return Fs(this,void 0,void 0,function*(){const n=new AudioContext({sampleRate:t});return n.decodeAudioData(e).finally(()=>n.close())})},createBuffer:function(e,t){return typeof e[0]=="number"&&(e=[e]),function(n){const r=n[0];if(r.some(i=>i>1||i<-1)){const i=r.length;let o=0;for(let s=0;s<i;s++){const a=Math.abs(r[s]);a>o&&(o=a)}for(const s of n)for(let a=0;a<i;a++)s[a]/=o}}(e),{duration:t,length:e[0].length,sampleRate:e[0].length/t,numberOfChannels:e.length,getChannelData:n=>e==null?void 0:e[n],copyFromChannel:AudioBuffer.prototype.copyFromChannel,copyToChannel:AudioBuffer.prototype.copyToChannel}}};function Lxe(e,t){const n=t.xmlns?document.createElementNS(t.xmlns,e):document.createElement(e);for(const[r,i]of Object.entries(t))if(r==="children")for(const[o,s]of Object.entries(t))typeof s=="string"?n.appendChild(document.createTextNode(s)):n.appendChild(Lxe(o,s));else r==="style"?Object.assign(n.style,i):r==="textContent"?n.textContent=i:n.setAttribute(r,i.toString());return n}function Xoe(e,t,n){const r=Lxe(e,t||{});return n==null||n.appendChild(r),r}var Eat=Object.freeze({__proto__:null,createElement:Xoe,default:Xoe});const Sat={fetchBlob:function(e,t,n){return Fs(this,void 0,void 0,function*(){const r=yield fetch(e,n);if(r.status>=400)throw new Error(`Failed to fetch ${e}: ${r.status} (${r.statusText})`);return function(i,o){Fs(this,void 0,void 0,function*(){if(!i.body||!i.headers)return;const s=i.body.getReader(),a=Number(i.headers.get("Content-Length"))||0;let l=0;const u=d=>Fs(this,void 0,void 0,function*(){l+=(d==null?void 0:d.length)||0;const f=Math.round(l/a*100);o(f)}),c=()=>Fs(this,void 0,void 0,function*(){let d;try{d=yield s.read()}catch{return}d.done||(u(d.value),yield c())});c()})}(r.clone(),t),r.blob()})}};let Tat=class extends uA{constructor(t){super(),this.isExternalMedia=!1,t.media?(this.media=t.media,this.isExternalMedia=!0):this.media=document.createElement("audio"),t.mediaControls&&(this.media.controls=!0),t.autoplay&&(this.media.autoplay=!0),t.playbackRate!=null&&this.onMediaEvent("canplay",()=>{t.playbackRate!=null&&(this.media.playbackRate=t.playbackRate)},{once:!0})}onMediaEvent(t,n,r){return this.media.addEventListener(t,n,r),()=>this.media.removeEventListener(t,n,r)}getSrc(){return this.media.currentSrc||this.media.src||""}revokeSrc(){const t=this.getSrc();t.startsWith("blob:")&&URL.revokeObjectURL(t)}canPlayType(t){return this.media.canPlayType(t)!==""}setSrc(t,n){const r=this.getSrc();if(t&&r===t)return;this.revokeSrc();const i=n instanceof Blob&&(this.canPlayType(n.type)||!t)?URL.createObjectURL(n):t;r&&(this.media.src="");try{this.media.src=i}catch{this.media.src=t}}destroy(){this.isExternalMedia||(this.media.pause(),this.media.remove(),this.revokeSrc(),this.media.src="",this.media.load())}setMediaElement(t){this.media=t}play(){return Fs(this,void 0,void 0,function*(){return this.media.play()})}pause(){this.media.pause()}isPlaying(){return!this.media.paused&&!this.media.ended}setTime(t){this.media.currentTime=Math.max(0,Math.min(t,this.getDuration()))}getDuration(){return this.media.duration}getCurrentTime(){return this.media.currentTime}getVolume(){return this.media.volume}setVolume(t){this.media.volume=t}getMuted(){return this.media.muted}setMuted(t){this.media.muted=t}getPlaybackRate(){return this.media.playbackRate}isSeeking(){return this.media.seeking}setPlaybackRate(t,n){n!=null&&(this.media.preservesPitch=n),this.media.playbackRate=t}getMediaElement(){return this.media}setSinkId(t){return this.media.setSinkId(t)}},a9=class l9 extends uA{constructor(t,n){super(),this.timeouts=[],this.isScrollable=!1,this.audioData=null,this.resizeObserver=null,this.lastContainerWidth=0,this.isDragging=!1,this.subscriptions=[],this.unsubscribeOnScroll=[],this.subscriptions=[],this.options=t;const r=this.parentFromOptionsContainer(t.container);this.parent=r;const[i,o]=this.initHtml();r.appendChild(i),this.container=i,this.scrollContainer=o.querySelector(".scroll"),this.wrapper=o.querySelector(".wrapper"),this.canvasWrapper=o.querySelector(".canvases"),this.progressWrapper=o.querySelector(".progress"),this.cursor=o.querySelector(".cursor"),n&&o.appendChild(n),this.initEvents()}parentFromOptionsContainer(t){let n;if(typeof t=="string"?n=document.querySelector(t):t instanceof HTMLElement&&(n=t),!n)throw new Error("Container not found");return n}initEvents(){const t=n=>{const r=this.wrapper.getBoundingClientRect(),i=n.clientX-r.left,o=n.clientY-r.top;return[i/r.width,o/r.height]};if(this.wrapper.addEventListener("click",n=>{const[r,i]=t(n);this.emit("click",r,i)}),this.wrapper.addEventListener("dblclick",n=>{const[r,i]=t(n);this.emit("dblclick",r,i)}),this.options.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.scrollContainer.addEventListener("scroll",()=>{const{scrollLeft:n,scrollWidth:r,clientWidth:i}=this.scrollContainer,o=n/r,s=(n+i)/r;this.emit("scroll",o,s,n,n+i)}),typeof ResizeObserver=="function"){const n=this.createDelay(100);this.resizeObserver=new ResizeObserver(()=>{n().then(()=>this.onContainerResize()).catch(()=>{})}),this.resizeObserver.observe(this.scrollContainer)}}onContainerResize(){const t=this.parent.clientWidth;t===this.lastContainerWidth&&this.options.height!=="auto"||(this.lastContainerWidth=t,this.reRender())}initDrag(){this.subscriptions.push(function(t,n,r,i,o=3,s=0,a=100){if(!t)return()=>{};const l=matchMedia("(pointer: coarse)").matches;let u=()=>{};const c=d=>{if(d.button!==s)return;d.preventDefault(),d.stopPropagation();let f=d.clientX,h=d.clientY,p=!1;const m=Date.now(),g=_=>{if(_.preventDefault(),_.stopPropagation(),l&&Date.now()-m<a)return;const x=_.clientX,S=_.clientY,C=x-f,A=S-h;if(p||Math.abs(C)>o||Math.abs(A)>o){const k=t.getBoundingClientRect(),{left:N,top:M}=k;p||(r==null||r(f-N,h-M),p=!0),n(C,A,x-N,S-M),f=x,h=S}},y=_=>{if(p){const x=_.clientX,S=_.clientY,C=t.getBoundingClientRect(),{left:A,top:k}=C;i==null||i(x-A,S-k)}u()},v=_=>{_.relatedTarget&&_.relatedTarget!==document.documentElement||y(_)},w=_=>{p&&(_.stopPropagation(),_.preventDefault())},E=_=>{p&&_.preventDefault()};document.addEventListener("pointermove",g),document.addEventListener("pointerup",y),document.addEventListener("pointerout",v),document.addEventListener("pointercancel",v),document.addEventListener("touchmove",E,{passive:!1}),document.addEventListener("click",w,{capture:!0}),u=()=>{document.removeEventListener("pointermove",g),document.removeEventListener("pointerup",y),document.removeEventListener("pointerout",v),document.removeEventListener("pointercancel",v),document.removeEventListener("touchmove",E),setTimeout(()=>{document.removeEventListener("click",w,{capture:!0})},10)}};return t.addEventListener("pointerdown",c),()=>{u(),t.removeEventListener("pointerdown",c)}}(this.wrapper,(t,n,r)=>{this.emit("drag",Math.max(0,Math.min(1,r/this.wrapper.getBoundingClientRect().width)))},t=>{this.isDragging=!0,this.emit("dragstart",Math.max(0,Math.min(1,t/this.wrapper.getBoundingClientRect().width)))},t=>{this.isDragging=!1,this.emit("dragend",Math.max(0,Math.min(1,t/this.wrapper.getBoundingClientRect().width)))}))}getHeight(t,n){var r;const i=((r=this.audioData)===null||r===void 0?void 0:r.numberOfChannels)||1;if(t==null)return 128;if(!isNaN(Number(t)))return Number(t);if(t==="auto"){const o=this.parent.clientHeight||128;return n!=null&&n.every(s=>!s.overlay)?o/i:o}return 128}initHtml(){const t=document.createElement("div"),n=t.attachShadow({mode:"open"}),r=this.options.cspNonce&&typeof this.options.cspNonce=="string"?this.options.cspNonce.replace(/"/g,""):"";return n.innerHTML=`
      <style${r?` nonce="${r}"`:""}>
        :host {
          user-select: none;
          min-width: 1px;
        }
        :host audio {
          display: block;
          width: 100%;
        }
        :host .scroll {
          overflow-x: auto;
          overflow-y: hidden;
          width: 100%;
          position: relative;
        }
        :host .noScrollbar {
          scrollbar-color: transparent;
          scrollbar-width: none;
        }
        :host .noScrollbar::-webkit-scrollbar {
          display: none;
          -webkit-appearance: none;
        }
        :host .wrapper {
          position: relative;
          overflow: visible;
          z-index: 2;
        }
        :host .canvases {
          min-height: ${this.getHeight(this.options.height,this.options.splitChannels)}px;
        }
        :host .canvases > div {
          position: relative;
        }
        :host canvas {
          display: block;
          position: absolute;
          top: 0;
          image-rendering: pixelated;
        }
        :host .progress {
          pointer-events: none;
          position: absolute;
          z-index: 2;
          top: 0;
          left: 0;
          width: 0;
          height: 100%;
          overflow: hidden;
        }
        :host .progress > div {
          position: relative;
        }
        :host .cursor {
          pointer-events: none;
          position: absolute;
          z-index: 5;
          top: 0;
          left: 0;
          height: 100%;
          border-radius: 2px;
        }
      </style>

      <div class="scroll" part="scroll">
        <div class="wrapper" part="wrapper">
          <div class="canvases" part="canvases"></div>
          <div class="progress" part="progress"></div>
          <div class="cursor" part="cursor"></div>
        </div>
      </div>
    `,[t,n]}setOptions(t){if(this.options.container!==t.container){const n=this.parentFromOptionsContainer(t.container);n.appendChild(this.container),this.parent=n}t.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.options=t,this.reRender()}getWrapper(){return this.wrapper}getWidth(){return this.scrollContainer.clientWidth}getScroll(){return this.scrollContainer.scrollLeft}setScroll(t){this.scrollContainer.scrollLeft=t}setScrollPercentage(t){const{scrollWidth:n}=this.scrollContainer,r=n*t;this.setScroll(r)}destroy(){var t,n;this.subscriptions.forEach(r=>r()),this.container.remove(),(t=this.resizeObserver)===null||t===void 0||t.disconnect(),(n=this.unsubscribeOnScroll)===null||n===void 0||n.forEach(r=>r()),this.unsubscribeOnScroll=[]}createDelay(t=10){let n,r;const i=()=>{n&&clearTimeout(n),r&&r()};return this.timeouts.push(i),()=>new Promise((o,s)=>{i(),r=s,n=setTimeout(()=>{n=void 0,r=void 0,o()},t)})}convertColorValues(t){if(!Array.isArray(t))return t||"";if(t.length<2)return t[0]||"";const n=document.createElement("canvas"),r=n.getContext("2d"),i=n.height*(window.devicePixelRatio||1),o=r.createLinearGradient(0,0,0,i),s=1/(t.length-1);return t.forEach((a,l)=>{const u=l*s;o.addColorStop(u,a)}),o}getPixelRatio(){return Math.max(1,window.devicePixelRatio||1)}renderBarWaveform(t,n,r,i){const o=t[0],s=t[1]||t[0],a=o.length,{width:l,height:u}=r.canvas,c=u/2,d=this.getPixelRatio(),f=n.barWidth?n.barWidth*d:1,h=n.barGap?n.barGap*d:n.barWidth?f/2:0,p=n.barRadius||0,m=l/(f+h)/a,g=p&&"roundRect"in r?"roundRect":"rect";r.beginPath();let y=0,v=0,w=0;for(let E=0;E<=a;E++){const _=Math.round(E*m);if(_>y){const C=Math.round(v*c*i),A=C+Math.round(w*c*i)||1;let k=c-C;n.barAlign==="top"?k=0:n.barAlign==="bottom"&&(k=u-A),r[g](y*(f+h),k,f,A,p),y=_,v=0,w=0}const x=Math.abs(o[E]||0),S=Math.abs(s[E]||0);x>v&&(v=x),S>w&&(w=S)}r.fill(),r.closePath()}renderLineWaveform(t,n,r,i){const o=s=>{const a=t[s]||t[0],l=a.length,{height:u}=r.canvas,c=u/2,d=r.canvas.width/l;r.moveTo(0,c);let f=0,h=0;for(let p=0;p<=l;p++){const m=Math.round(p*d);if(m>f){const y=c+(Math.round(h*c*i)||1)*(s===0?-1:1);r.lineTo(f,y),f=m,h=0}const g=Math.abs(a[p]||0);g>h&&(h=g)}r.lineTo(f,c)};r.beginPath(),o(0),o(1),r.fill(),r.closePath()}renderWaveform(t,n,r){if(r.fillStyle=this.convertColorValues(n.waveColor),n.renderFunction)return void n.renderFunction(t,r);let i=n.barHeight||1;if(n.normalize){const o=Array.from(t[0]).reduce((s,a)=>Math.max(s,Math.abs(a)),0);i=o?1/o:1}n.barWidth||n.barGap||n.barAlign?this.renderBarWaveform(t,n,r,i):this.renderLineWaveform(t,n,r,i)}renderSingleCanvas(t,n,r,i,o,s,a){const l=this.getPixelRatio(),u=document.createElement("canvas");u.width=Math.round(r*l),u.height=Math.round(i*l),u.style.width=`${r}px`,u.style.height=`${i}px`,u.style.left=`${Math.round(o)}px`,s.appendChild(u);const c=u.getContext("2d");if(this.renderWaveform(t,n,c),u.width>0&&u.height>0){const d=u.cloneNode(),f=d.getContext("2d");f.drawImage(u,0,0),f.globalCompositeOperation="source-in",f.fillStyle=this.convertColorValues(n.progressColor),f.fillRect(0,0,u.width,u.height),a.appendChild(d)}}renderMultiCanvas(t,n,r,i,o,s){const a=this.getPixelRatio(),{clientWidth:l}=this.scrollContainer,u=r/a;let c=Math.min(l9.MAX_CANVAS_WIDTH,l,u),d={};if(c===0)return;if(n.barWidth||n.barGap){const g=n.barWidth||.5,y=g+(n.barGap||g/2);c%y!=0&&(c=Math.floor(c/y)*y)}const f=g=>{if(g<0||g>=h||d[g])return;d[g]=!0;const y=g*c,v=Math.min(u-y,c);if(v<=0)return;const w=t.map(E=>{const _=Math.floor(y/u*E.length),x=Math.floor((y+v)/u*E.length);return E.slice(_,x)});this.renderSingleCanvas(w,n,v,i,y,o,s)},h=Math.ceil(u/c);if(!this.isScrollable){for(let g=0;g<h;g++)f(g);return}const p=this.scrollContainer.scrollLeft/u,m=Math.floor(p*h);if(f(m-1),f(m),f(m+1),h>1){const g=this.on("scroll",()=>{const{scrollLeft:y}=this.scrollContainer,v=Math.floor(y/u*h);Object.keys(d).length>l9.MAX_NODES&&(o.innerHTML="",s.innerHTML="",d={}),f(v-1),f(v),f(v+1)});this.unsubscribeOnScroll.push(g)}}renderChannel(t,n,r,i){var{overlay:o}=n,s=function(c,d){var f={};for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&d.indexOf(h)<0&&(f[h]=c[h]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function"){var p=0;for(h=Object.getOwnPropertySymbols(c);p<h.length;p++)d.indexOf(h[p])<0&&Object.prototype.propertyIsEnumerable.call(c,h[p])&&(f[h[p]]=c[h[p]])}return f}(n,["overlay"]);const a=document.createElement("div"),l=this.getHeight(s.height,s.splitChannels);a.style.height=`${l}px`,o&&i>0&&(a.style.marginTop=`-${l}px`),this.canvasWrapper.style.minHeight=`${l}px`,this.canvasWrapper.appendChild(a);const u=a.cloneNode();this.progressWrapper.appendChild(u),this.renderMultiCanvas(t,s,r,l,a,u)}render(t){return Fs(this,void 0,void 0,function*(){var n;this.timeouts.forEach(l=>l()),this.timeouts=[],this.canvasWrapper.innerHTML="",this.progressWrapper.innerHTML="",this.options.width!=null&&(this.scrollContainer.style.width=typeof this.options.width=="number"?`${this.options.width}px`:this.options.width);const r=this.getPixelRatio(),i=this.scrollContainer.clientWidth,o=Math.ceil(t.duration*(this.options.minPxPerSec||0));this.isScrollable=o>i;const s=this.options.fillParent&&!this.isScrollable,a=(s?i:o)*r;if(this.wrapper.style.width=s?"100%":`${o}px`,this.scrollContainer.style.overflowX=this.isScrollable?"auto":"hidden",this.scrollContainer.classList.toggle("noScrollbar",!!this.options.hideScrollbar),this.cursor.style.backgroundColor=`${this.options.cursorColor||this.options.progressColor}`,this.cursor.style.width=`${this.options.cursorWidth}px`,this.audioData=t,this.emit("render"),this.options.splitChannels)for(let l=0;l<t.numberOfChannels;l++){const u=Object.assign(Object.assign({},this.options),(n=this.options.splitChannels)===null||n===void 0?void 0:n[l]);this.renderChannel([t.getChannelData(l)],u,a,l)}else{const l=[t.getChannelData(0)];t.numberOfChannels>1&&l.push(t.getChannelData(1)),this.renderChannel(l,this.options,a,0)}Promise.resolve().then(()=>this.emit("rendered"))})}reRender(){if(this.unsubscribeOnScroll.forEach(r=>r()),this.unsubscribeOnScroll=[],!this.audioData)return;const{scrollWidth:t}=this.scrollContainer,{right:n}=this.progressWrapper.getBoundingClientRect();if(this.render(this.audioData),this.isScrollable&&t!==this.scrollContainer.scrollWidth){const{right:r}=this.progressWrapper.getBoundingClientRect();let i=r-n;i*=2,i=i<0?Math.floor(i):Math.ceil(i),i/=2,this.scrollContainer.scrollLeft+=i}}zoom(t){this.options.minPxPerSec=t,this.reRender()}scrollIntoView(t,n=!1){const{scrollLeft:r,scrollWidth:i,clientWidth:o}=this.scrollContainer,s=t*i,a=r,l=r+o,u=o/2;if(this.isDragging)s+30>l?this.scrollContainer.scrollLeft+=30:s-30<a&&(this.scrollContainer.scrollLeft-=30);else{(s<a||s>l)&&(this.scrollContainer.scrollLeft=s-(this.options.autoCenter?u:0));const c=s-r-u;n&&this.options.autoCenter&&c>0&&(this.scrollContainer.scrollLeft+=Math.min(c,10))}{const c=this.scrollContainer.scrollLeft,d=c/i,f=(c+o)/i;this.emit("scroll",d,f,c,c+o)}}renderProgress(t,n){if(isNaN(t))return;const r=100*t;this.canvasWrapper.style.clipPath=`polygon(${r}% 0, 100% 0, 100% 100%, ${r}% 100%)`,this.progressWrapper.style.width=`${r}%`,this.cursor.style.left=`${r}%`,this.cursor.style.transform=`translateX(-${Math.round(r)===100?this.options.cursorWidth:0}px)`,this.isScrollable&&this.options.autoScroll&&this.scrollIntoView(t,n)}exportImage(t,n,r){return Fs(this,void 0,void 0,function*(){const i=this.canvasWrapper.querySelectorAll("canvas");if(!i.length)throw new Error("No waveform data");if(r==="dataURL"){const o=Array.from(i).map(s=>s.toDataURL(t,n));return Promise.resolve(o)}return Promise.all(Array.from(i).map(o=>new Promise((s,a)=>{o.toBlob(l=>{l?s(l):a(new Error("Could not export image"))},t,n)})))})}};a9.MAX_CANVAS_WIDTH=8e3,a9.MAX_NODES=10;class Cat extends uA{constructor(){super(...arguments),this.unsubscribe=()=>{}}start(){this.unsubscribe=this.on("tick",()=>{requestAnimationFrame(()=>{this.emit("tick")})}),this.emit("tick")}stop(){this.unsubscribe()}destroy(){this.unsubscribe()}}class l6 extends uA{constructor(t=new AudioContext){super(),this.bufferNode=null,this.playStartTime=0,this.playedDuration=0,this._muted=!1,this._playbackRate=1,this._duration=void 0,this.buffer=null,this.currentSrc="",this.paused=!0,this.crossOrigin=null,this.seeking=!1,this.autoplay=!1,this.addEventListener=this.on,this.removeEventListener=this.un,this.audioContext=t,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination)}load(){return Fs(this,void 0,void 0,function*(){})}get src(){return this.currentSrc}set src(t){if(this.currentSrc=t,this._duration=void 0,!t)return this.buffer=null,void this.emit("emptied");fetch(t).then(n=>{if(n.status>=400)throw new Error(`Failed to fetch ${t}: ${n.status} (${n.statusText})`);return n.arrayBuffer()}).then(n=>this.currentSrc!==t?null:this.audioContext.decodeAudioData(n)).then(n=>{this.currentSrc===t&&(this.buffer=n,this.emit("loadedmetadata"),this.emit("canplay"),this.autoplay&&this.play())})}_play(){var t;if(!this.paused)return;this.paused=!1,(t=this.bufferNode)===null||t===void 0||t.disconnect(),this.bufferNode=this.audioContext.createBufferSource(),this.buffer&&(this.bufferNode.buffer=this.buffer),this.bufferNode.playbackRate.value=this._playbackRate,this.bufferNode.connect(this.gainNode);let n=this.playedDuration*this._playbackRate;(n>=this.duration||n<0)&&(n=0,this.playedDuration=0),this.bufferNode.start(this.audioContext.currentTime,n),this.playStartTime=this.audioContext.currentTime,this.bufferNode.onended=()=>{this.currentTime>=this.duration&&(this.pause(),this.emit("ended"))}}_pause(){var t;this.paused=!0,(t=this.bufferNode)===null||t===void 0||t.stop(),this.playedDuration+=this.audioContext.currentTime-this.playStartTime}play(){return Fs(this,void 0,void 0,function*(){this.paused&&(this._play(),this.emit("play"))})}pause(){this.paused||(this._pause(),this.emit("pause"))}stopAt(t){const n=t-this.currentTime,r=this.bufferNode;r==null||r.stop(this.audioContext.currentTime+n),r==null||r.addEventListener("ended",()=>{r===this.bufferNode&&(this.bufferNode=null,this.pause())},{once:!0})}setSinkId(t){return Fs(this,void 0,void 0,function*(){return this.audioContext.setSinkId(t)})}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this.bufferNode&&(this.bufferNode.playbackRate.value=t)}get currentTime(){return(this.paused?this.playedDuration:this.playedDuration+(this.audioContext.currentTime-this.playStartTime))*this._playbackRate}set currentTime(t){const n=!this.paused;n&&this._pause(),this.playedDuration=t/this._playbackRate,n&&this._play(),this.emit("seeking"),this.emit("timeupdate")}get duration(){var t,n;return(t=this._duration)!==null&&t!==void 0?t:((n=this.buffer)===null||n===void 0?void 0:n.duration)||0}set duration(t){this._duration=t}get volume(){return this.gainNode.gain.value}set volume(t){this.gainNode.gain.value=t,this.emit("volumechange")}get muted(){return this._muted}set muted(t){this._muted!==t&&(this._muted=t,this._muted?this.gainNode.disconnect():this.gainNode.connect(this.audioContext.destination))}canPlayType(t){return/^(audio|video)\//.test(t)}getGainNode(){return this.gainNode}getChannelData(){const t=[];if(!this.buffer)return t;const n=this.buffer.numberOfChannels;for(let r=0;r<n;r++)t.push(this.buffer.getChannelData(r));return t}}const Aat={waveColor:"#999",progressColor:"#555",cursorWidth:1,minPxPerSec:0,fillParent:!0,interact:!0,dragToSeek:!1,autoScroll:!0,autoCenter:!0,sampleRate:8e3};let u9=class Fxe extends Tat{static create(t){return new Fxe(t)}constructor(t){const n=t.media||(t.backend==="WebAudio"?new l6:void 0);super({media:n,mediaControls:t.mediaControls,autoplay:t.autoplay,playbackRate:t.audioRate}),this.plugins=[],this.decodedData=null,this.stopAtPosition=null,this.subscriptions=[],this.mediaSubscriptions=[],this.abortController=null,this.options=Object.assign({},Aat,t),this.timer=new Cat;const r=n?void 0:this.getMediaElement();this.renderer=new a9(this.options,r),this.initPlayerEvents(),this.initRendererEvents(),this.initTimerEvents(),this.initPlugins();const i=this.options.url||this.getSrc()||"";Promise.resolve().then(()=>{this.emit("init");const{peaks:o,duration:s}=this.options;(i||o&&s)&&this.load(i,o,s).catch(()=>null)})}updateProgress(t=this.getCurrentTime()){return this.renderer.renderProgress(t/this.getDuration(),this.isPlaying()),t}initTimerEvents(){this.subscriptions.push(this.timer.on("tick",()=>{if(!this.isSeeking()){const t=this.updateProgress();this.emit("timeupdate",t),this.emit("audioprocess",t),this.stopAtPosition!=null&&this.isPlaying()&&t>=this.stopAtPosition&&this.pause()}}))}initPlayerEvents(){this.isPlaying()&&(this.emit("play"),this.timer.start()),this.mediaSubscriptions.push(this.onMediaEvent("timeupdate",()=>{const t=this.updateProgress();this.emit("timeupdate",t)}),this.onMediaEvent("play",()=>{this.emit("play"),this.timer.start()}),this.onMediaEvent("pause",()=>{this.emit("pause"),this.timer.stop(),this.stopAtPosition=null}),this.onMediaEvent("emptied",()=>{this.timer.stop(),this.stopAtPosition=null}),this.onMediaEvent("ended",()=>{this.emit("timeupdate",this.getDuration()),this.emit("finish"),this.stopAtPosition=null}),this.onMediaEvent("seeking",()=>{this.emit("seeking",this.getCurrentTime())}),this.onMediaEvent("error",()=>{var t;this.emit("error",(t=this.getMediaElement().error)!==null&&t!==void 0?t:new Error("Media error")),this.stopAtPosition=null}))}initRendererEvents(){this.subscriptions.push(this.renderer.on("click",(t,n)=>{this.options.interact&&(this.seekTo(t),this.emit("interaction",t*this.getDuration()),this.emit("click",t,n))}),this.renderer.on("dblclick",(t,n)=>{this.emit("dblclick",t,n)}),this.renderer.on("scroll",(t,n,r,i)=>{const o=this.getDuration();this.emit("scroll",t*o,n*o,r,i)}),this.renderer.on("render",()=>{this.emit("redraw")}),this.renderer.on("rendered",()=>{this.emit("redrawcomplete")}),this.renderer.on("dragstart",t=>{this.emit("dragstart",t)}),this.renderer.on("dragend",t=>{this.emit("dragend",t)}));{let t;this.subscriptions.push(this.renderer.on("drag",n=>{if(!this.options.interact)return;let r;this.renderer.renderProgress(n),clearTimeout(t),this.isPlaying()?r=0:this.options.dragToSeek===!0?r=200:typeof this.options.dragToSeek=="object"&&this.options.dragToSeek!==void 0&&(r=this.options.dragToSeek.debounceTime),t=setTimeout(()=>{this.seekTo(n)},r),this.emit("interaction",n*this.getDuration()),this.emit("drag",n)}))}}initPlugins(){var t;!((t=this.options.plugins)===null||t===void 0)&&t.length&&this.options.plugins.forEach(n=>{this.registerPlugin(n)})}unsubscribePlayerEvents(){this.mediaSubscriptions.forEach(t=>t()),this.mediaSubscriptions=[]}setOptions(t){this.options=Object.assign({},this.options,t),t.duration&&!t.peaks&&(this.decodedData=Lk.createBuffer(this.exportPeaks(),t.duration)),t.peaks&&t.duration&&(this.decodedData=Lk.createBuffer(t.peaks,t.duration)),this.renderer.setOptions(this.options),t.audioRate&&this.setPlaybackRate(t.audioRate),t.mediaControls!=null&&(this.getMediaElement().controls=t.mediaControls)}registerPlugin(t){return t._init(this),this.plugins.push(t),this.subscriptions.push(t.once("destroy",()=>{this.plugins=this.plugins.filter(n=>n!==t)})),t}getWrapper(){return this.renderer.getWrapper()}getWidth(){return this.renderer.getWidth()}getScroll(){return this.renderer.getScroll()}setScroll(t){return this.renderer.setScroll(t)}setScrollTime(t){const n=t/this.getDuration();this.renderer.setScrollPercentage(n)}getActivePlugins(){return this.plugins}loadAudio(t,n,r,i){return Fs(this,void 0,void 0,function*(){var o;if(this.emit("load",t),!this.options.media&&this.isPlaying()&&this.pause(),this.decodedData=null,this.stopAtPosition=null,!n&&!r){const a=this.options.fetchParams||{};window.AbortController&&!a.signal&&(this.abortController=new AbortController,a.signal=(o=this.abortController)===null||o===void 0?void 0:o.signal);const l=c=>this.emit("loading",c);n=yield Sat.fetchBlob(t,l,a);const u=this.options.blobMimeType;u&&(n=new Blob([n],{type:u}))}this.setSrc(t,n);const s=yield new Promise(a=>{const l=i||this.getDuration();l?a(l):this.mediaSubscriptions.push(this.onMediaEvent("loadedmetadata",()=>a(this.getDuration()),{once:!0}))});if(!t&&!n){const a=this.getMediaElement();a instanceof l6&&(a.duration=s)}if(r)this.decodedData=Lk.createBuffer(r,s||0);else if(n){const a=yield n.arrayBuffer();this.decodedData=yield Lk.decode(a,this.options.sampleRate)}this.decodedData&&(this.emit("decode",this.getDuration()),this.renderer.render(this.decodedData)),this.emit("ready",this.getDuration())})}load(t,n,r){return Fs(this,void 0,void 0,function*(){try{return yield this.loadAudio(t,void 0,n,r)}catch(i){throw this.emit("error",i),i}})}loadBlob(t,n,r){return Fs(this,void 0,void 0,function*(){try{return yield this.loadAudio("",t,n,r)}catch(i){throw this.emit("error",i),i}})}zoom(t){if(!this.decodedData)throw new Error("No audio loaded");this.renderer.zoom(t),this.emit("zoom",t)}getDecodedData(){return this.decodedData}exportPeaks({channels:t=2,maxLength:n=8e3,precision:r=1e4}={}){if(!this.decodedData)throw new Error("The audio has not been decoded yet");const i=Math.min(t,this.decodedData.numberOfChannels),o=[];for(let s=0;s<i;s++){const a=this.decodedData.getChannelData(s),l=[],u=a.length/n;for(let c=0;c<n;c++){const d=a.slice(Math.floor(c*u),Math.ceil((c+1)*u));let f=0;for(let h=0;h<d.length;h++){const p=d[h];Math.abs(p)>Math.abs(f)&&(f=p)}l.push(Math.round(f*r)/r)}o.push(l)}return o}getDuration(){let t=super.getDuration()||0;return t!==0&&t!==1/0||!this.decodedData||(t=this.decodedData.duration),t}toggleInteraction(t){this.options.interact=t}setTime(t){this.stopAtPosition=null,super.setTime(t),this.updateProgress(t),this.emit("timeupdate",t)}seekTo(t){const n=this.getDuration()*t;this.setTime(n)}play(t,n){const r=Object.create(null,{play:{get:()=>super.play}});return Fs(this,void 0,void 0,function*(){t!=null&&this.setTime(t);const i=yield r.play.call(this);return n!=null&&(this.media instanceof l6?this.media.stopAt(n):this.stopAtPosition=n),i})}playPause(){return Fs(this,void 0,void 0,function*(){return this.isPlaying()?this.pause():this.play()})}stop(){this.pause(),this.setTime(0)}skip(t){this.setTime(this.getCurrentTime()+t)}empty(){this.load("",[[0]],.001)}setMediaElement(t){this.unsubscribePlayerEvents(),super.setMediaElement(t),this.initPlayerEvents()}exportImage(){return Fs(this,arguments,void 0,function*(t="image/png",n=1,r="dataURL"){return this.renderer.exportImage(t,n,r)})}destroy(){var t;this.emit("destroy"),(t=this.abortController)===null||t===void 0||t.abort(),this.plugins.forEach(n=>n.destroy()),this.subscriptions.forEach(n=>n()),this.unsubscribePlayerEvents(),this.timer.destroy(),this.renderer.destroy(),super.destroy()}};u9.BasePlugin=class extends uA{constructor(e){super(),this.subscriptions=[],this.options=e}onInit(){}_init(e){this.wavesurfer=e,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach(e=>e())}},u9.dom=Eat;function kat(e){return u9.create(e)}function Iat(e){const{plugin:t,options:n,creator:r="create"}=e,i=t[r];if(!t)throw new Error("Please pass a valid plugin in plugin list");if(!r)throw new Error("Please pass the creator function name in 'creator' property.");if(typeof i!="function")throw new Error(`"${r}" is not callable on given plugin. Please pass a valid 'creator' in plugins list.`);return i(n)}const Qoe=e=>e.reduce((t,n)=>(t[n[0]]=n[1],t),{}),Rat=(e,t)=>{const n=Object.entries(e),r=Object.entries(t),i=n.filter(([s])=>r.findIndex(([a])=>a===s)===-1),o=r.filter(([s])=>n.findIndex(([a])=>a===s)===-1);return{disabled:Qoe(i),enabled:Qoe(o)}};function Joe(e,t){const n={},r=[...t];for(;r.length>=1;){const i=r.shift();!!e[i.key]?n[i.key]=e[i.key]:n[i.key]=Iat(i)}return n}function Dat({container:e,plugins:t=[],onMount:n,...r}){const i=H.useRef(!1),[o,s]=H.useState({}),a=H.useRef([]),[l,u]=H.useState(null);return H.useEffect(()=>{if(!e)return;const c=e;if(i.current)return;i.current=!0;const d=Joe(o,t);a.current=Object.keys(d);const f=kat({container:e,...r,plugins:Object.values(d)});return n==null||n(f),s(d),u(f),()=>{c!==e&&f.destroy()}},[e]),H.useEffect(()=>{if(l){const c=Joe(o,t),{disabled:d,enabled:f}=Rat(o,c);Object.keys(d).forEach(h=>{d[h].destroy()}),Object.keys(f).forEach(h=>{a.current.includes(h)||(console.log("register plugin",h,f[h]),l==null||l.registerPlugin(f[h]))}),a.current=Object.keys(f),s(c)}},[t]),[l,o,Object.values(o)]}function Bxe({children:e,plugins:t=[],onMount:n,...r}){const i=Dat({plugins:t,onMount:n,...r});return rr.createElement(_at.Provider,{value:i},e)}const jxe=({id:e="waveform",children:t})=>rr.createElement("div",{id:e},t);function u6(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(u){try{l(r.next(u))}catch(c){o(c)}}function a(u){try{l(r.throw(u))}catch(c){o(c)}}function l(u){var c;u.done?i(u.value):(c=u.value,c instanceof n?c:new n(function(d){d(c)})).then(s,a)}l((r=r.apply(e,[])).next())})}class zxe{constructor(){this.listeners={}}on(t,n,r){if(this.listeners[t]||(this.listeners[t]=new Set),this.listeners[t].add(n),r==null?void 0:r.once){const i=()=>{this.un(t,i),this.un(t,n)};return this.on(t,i),i}return()=>this.un(t,n)}un(t,n){var r;(r=this.listeners[t])===null||r===void 0||r.delete(n)}once(t,n){return this.on(t,n,{once:!0})}unAll(){this.listeners={}}emit(t,...n){this.listeners[t]&&this.listeners[t].forEach(r=>r(...n))}}let $at=class extends zxe{constructor(t){super(),this.subscriptions=[],this.options=t}onInit(){}_init(t){this.wavesurfer=t,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach(t=>t())}};class Mat extends zxe{constructor(){super(...arguments),this.unsubscribe=()=>{}}start(){this.unsubscribe=this.on("tick",()=>{requestAnimationFrame(()=>{this.emit("tick")})}),this.emit("tick")}stop(){this.unsubscribe()}destroy(){this.unsubscribe()}}const Pat=["audio/webm","audio/wav","audio/mpeg","audio/mp4","audio/mp3"];class tq extends $at{constructor(t){var n,r,i,o,s,a;super(Object.assign(Object.assign({},t),{audioBitsPerSecond:(n=t.audioBitsPerSecond)!==null&&n!==void 0?n:128e3,scrollingWaveform:(r=t.scrollingWaveform)!==null&&r!==void 0&&r,scrollingWaveformWindow:(i=t.scrollingWaveformWindow)!==null&&i!==void 0?i:5,continuousWaveform:(o=t.continuousWaveform)!==null&&o!==void 0&&o,renderRecordedAudio:(s=t.renderRecordedAudio)===null||s===void 0||s,mediaRecorderTimeslice:(a=t.mediaRecorderTimeslice)!==null&&a!==void 0?a:void 0})),this.stream=null,this.mediaRecorder=null,this.dataWindow=null,this.isWaveformPaused=!1,this.lastStartTime=0,this.lastDuration=0,this.duration=0,this.timer=new Mat,this.subscriptions.push(this.timer.on("tick",()=>{const l=performance.now()-this.lastStartTime;this.duration=this.isPaused()?this.duration:this.lastDuration+l,this.emit("record-progress",this.duration)}))}static create(t){return new tq(t||{})}renderMicStream(t){var n;const r=new AudioContext,i=r.createMediaStreamSource(t),o=r.createAnalyser();i.connect(o),this.options.continuousWaveform&&(o.fftSize=32);const s=o.frequencyBinCount,a=new Float32Array(s);let l=0;this.wavesurfer&&((n=this.originalOptions)!==null&&n!==void 0||(this.originalOptions=Object.assign({},this.wavesurfer.options)),this.wavesurfer.options.interact=!1,this.options.scrollingWaveform&&(this.wavesurfer.options.cursorWidth=0));const u=setInterval(()=>{var c,d,f,h;if(!this.isWaveformPaused){if(o.getFloatTimeDomainData(a),this.options.scrollingWaveform){const p=Math.floor((this.options.scrollingWaveformWindow||0)*r.sampleRate),m=Math.min(p,this.dataWindow?this.dataWindow.length+s:s),g=new Float32Array(p);if(this.dataWindow){const y=Math.max(0,p-this.dataWindow.length);g.set(this.dataWindow.slice(-m+s),y)}g.set(a,p-s),this.dataWindow=g}else if(this.options.continuousWaveform){if(!this.dataWindow){const m=this.options.continuousWaveformDuration?Math.round(100*this.options.continuousWaveformDuration):((d=(c=this.wavesurfer)===null||c===void 0?void 0:c.getWidth())!==null&&d!==void 0?d:0)*window.devicePixelRatio;this.dataWindow=new Float32Array(m)}let p=0;for(let m=0;m<s;m++){const g=Math.abs(a[m]);g>p&&(p=g)}if(l+1>this.dataWindow.length){const m=new Float32Array(2*this.dataWindow.length);m.set(this.dataWindow,0),this.dataWindow=m}this.dataWindow[l]=p,l++}else this.dataWindow=a;if(this.wavesurfer){const p=((h=(f=this.dataWindow)===null||f===void 0?void 0:f.length)!==null&&h!==void 0?h:0)/100;this.wavesurfer.load("",[this.dataWindow],this.options.scrollingWaveform?this.options.scrollingWaveformWindow:p).then(()=>{this.wavesurfer&&this.options.continuousWaveform&&(this.wavesurfer.setTime(this.getDuration()/1e3),this.wavesurfer.options.minPxPerSec||this.wavesurfer.setOptions({minPxPerSec:this.wavesurfer.getWidth()/this.wavesurfer.getDuration()}))}).catch(m=>{console.error("Error rendering real-time recording data:",m)})}}},10);return{onDestroy:()=>{clearInterval(u),i==null||i.disconnect(),r==null||r.close()},onEnd:()=>{this.isWaveformPaused=!0,clearInterval(u),this.stopMic()}}}startMic(t){return u6(this,void 0,void 0,function*(){let n;try{n=yield navigator.mediaDevices.getUserMedia({audio:!(t!=null&&t.deviceId)||{deviceId:t.deviceId}})}catch(o){throw new Error("Error accessing the microphone: "+o.message)}const{onDestroy:r,onEnd:i}=this.renderMicStream(n);return this.subscriptions.push(this.once("destroy",r)),this.subscriptions.push(this.once("record-end",i)),this.stream=n,n})}stopMic(){this.stream&&(this.stream.getTracks().forEach(t=>t.stop()),this.stream=null,this.mediaRecorder=null)}startRecording(t){return u6(this,void 0,void 0,function*(){const n=this.stream||(yield this.startMic(t));this.dataWindow=null;const r=this.mediaRecorder||new MediaRecorder(n,{mimeType:this.options.mimeType||Pat.find(s=>MediaRecorder.isTypeSupported(s)),audioBitsPerSecond:this.options.audioBitsPerSecond});this.mediaRecorder=r,this.stopRecording();const i=[];r.ondataavailable=s=>{s.data.size>0&&i.push(s.data),this.emit("record-data-available",s.data)};const o=s=>{var a;const l=new Blob(i,{type:r.mimeType});this.emit(s,l),this.options.renderRecordedAudio&&(this.applyOriginalOptionsIfNeeded(),(a=this.wavesurfer)===null||a===void 0||a.load(URL.createObjectURL(l)))};r.onpause=()=>o("record-pause"),r.onstop=()=>o("record-end"),r.start(this.options.mediaRecorderTimeslice),this.lastStartTime=performance.now(),this.lastDuration=0,this.duration=0,this.isWaveformPaused=!1,this.timer.start(),this.emit("record-start")})}getDuration(){return this.duration}isRecording(){var t;return((t=this.mediaRecorder)===null||t===void 0?void 0:t.state)==="recording"}isPaused(){var t;return((t=this.mediaRecorder)===null||t===void 0?void 0:t.state)==="paused"}isActive(){var t;return((t=this.mediaRecorder)===null||t===void 0?void 0:t.state)!=="inactive"}stopRecording(){var t;this.isActive()&&((t=this.mediaRecorder)===null||t===void 0||t.stop(),this.timer.stop())}pauseRecording(){var t,n;this.isRecording()&&(this.isWaveformPaused=!0,(t=this.mediaRecorder)===null||t===void 0||t.requestData(),(n=this.mediaRecorder)===null||n===void 0||n.pause(),this.timer.stop(),this.lastDuration=this.duration)}resumeRecording(){var t;this.isPaused()&&(this.isWaveformPaused=!1,(t=this.mediaRecorder)===null||t===void 0||t.resume(),this.timer.start(),this.lastStartTime=performance.now(),this.emit("record-resume"))}static getAvailableAudioDevices(){return u6(this,void 0,void 0,function*(){return navigator.mediaDevices.enumerateDevices().then(t=>t.filter(n=>n.kind==="audioinput"))})}destroy(){this.applyOriginalOptionsIfNeeded(),super.destroy(),this.stopRecording(),this.stopMic()}applyOriginalOptionsIfNeeded(){this.wavesurfer&&this.originalOptions&&(this.wavesurfer.setOptions(this.originalOptions),delete this.originalOptions)}}function Uxe({width:e=70,height:t=36}){const n=H.useRef(null),r=H.useRef(null),[i,o]=H.useState(!1);H.useEffect(()=>{if(i&&n.current){const a=n.current.registerPlugin(tq.create({scrollingWaveform:!0,renderRecordedAudio:!1}));r.current=a,navigator.userAgent.includes("Firefox")||a.startRecording(),n.current.setOptions({height:t,waveColor:"#FA5252"})}return()=>{var a,l;i&&n.current&&((a=r.current)==null||a.stopRecording(),(l=r.current)==null||l.destroy(),n.current.destroy())}},[i]);const s=H.useCallback(a=>{n.current=a,o(!0)},[]);return $.jsx(De,{id:"waveformDiv",style:{width:`${e}px`,height:`${t}px`},children:$.jsx(Bxe,{onMount:s,plugins:[],container:"#waveformDiv",height:t,children:$.jsx(jxe,{id:"waveform",height:t})})})}function Zoe({setAnswer:e}){return H.useEffect(()=>{navigator.mediaDevices.getUserMedia({audio:!0}).then(n=>{new MediaRecorder(n).start();const i=new AudioContext,o=i.createMediaStreamSource(n),s=i.createAnalyser();s.minDecibels=-45,o.connect(s);const a=s.frequencyBinCount,l=new Uint8Array(a);let u=!1;const c=()=>{if(!u){s.getByteFrequencyData(l);for(let d=0;d<a;d+=1)l[d]>0&&(u=!0,e({status:!0,provenanceGraph:void 0,answers:{audioTest:!0}}));window.requestAnimationFrame(c)}};window.requestAnimationFrame(c)})},[e]),$.jsx(mc,{style:{height:"70%",width:"100%"},children:$.jsxs(Ru,{children:[$.jsx(it,{ta:"center",children:"Please allow us to access your microphone. There may be a popup in your browser window asking for access, click accept."}),$.jsx(it,{ta:"center",children:"Once we can confirm that your microphone is on and we hear you say something, the continue button will become available."}),$.jsx(it,{ta:"center",style:{fontWeight:700},children:"If you are not comfortable or able to speak English during this study, please return the study."}),$.jsx(mc,{children:$.jsx(Uxe,{height:200,width:400})})]})})}const Hxe=Object.freeze(Object.defineProperty({__proto__:null,AudioTest:Zoe,default:Zoe},Symbol.toStringTag,{value:"Module"}));function Nat(){return $.jsx("div",{children:"test react file"})}const Vxe=Object.freeze(Object.defineProperty({__proto__:null,default:Nat},Symbol.toStringTag,{value:"Module"}));function Oat({parameters:e}){return $.jsx(it,{children:e&&e.n!==void 0?e.n:"There was a problem"})}const Wxe=Object.freeze(Object.defineProperty({__proto__:null,default:Oat},Symbol.toStringTag,{value:"Module"}));function Lat({answers:e,customParameters:t}){const n=Object.entries(e).filter(([r,i])=>r.startsWith(`${t.name}`)).filter(([r,i])=>i.endTime>-1).length;return n===5?{component:null}:{component:"reactComponent",parameters:{n:n||0},correctAnswer:[{id:"test",answer:"correct"}]}}const qxe=Object.freeze(Object.defineProperty({__proto__:null,default:Lat},Symbol.toStringTag,{value:"Module"}));function Ms(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Fat=typeof Symbol=="function"&&Symbol.observable||"@@observable",ese=Fat,c6=()=>Math.random().toString(36).substring(7).split("").join("."),Bat={INIT:`@@redux/INIT${c6()}`,REPLACE:`@@redux/REPLACE${c6()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${c6()}`},n$=Bat;function nq(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Gxe(e,t,n){if(typeof e!="function")throw new Error(Ms(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ms(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ms(1));return n(Gxe)(e,t)}let r=e,i=t,o=new Map,s=o,a=0,l=!1;function u(){s===o&&(s=new Map,o.forEach((g,y)=>{s.set(y,g)}))}function c(){if(l)throw new Error(Ms(3));return i}function d(g){if(typeof g!="function")throw new Error(Ms(4));if(l)throw new Error(Ms(5));let y=!0;u();const v=a++;return s.set(v,g),function(){if(y){if(l)throw new Error(Ms(6));y=!1,u(),s.delete(v),o=null}}}function f(g){if(!nq(g))throw new Error(Ms(7));if(typeof g.type>"u")throw new Error(Ms(8));if(typeof g.type!="string")throw new Error(Ms(17));if(l)throw new Error(Ms(9));try{l=!0,i=r(i,g)}finally{l=!1}return(o=s).forEach(v=>{v()}),g}function h(g){if(typeof g!="function")throw new Error(Ms(10));r=g,f({type:n$.REPLACE})}function p(){const g=d;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(Ms(11));function v(){const E=y;E.next&&E.next(c())}return v(),{unsubscribe:g(v)}},[ese](){return this}}}return f({type:n$.INIT}),{dispatch:f,subscribe:d,getState:c,replaceReducer:h,[ese]:p}}function jat(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:n$.INIT})>"u")throw new Error(Ms(12));if(typeof n(void 0,{type:n$.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ms(13))})}function zat(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const s=t[o];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let i;try{jat(n)}catch(o){i=o}return function(s={},a){if(i)throw i;let l=!1;const u={};for(let c=0;c<r.length;c++){const d=r[c],f=n[d],h=s[d],p=f(h,a);if(typeof p>"u")throw a&&a.type,new Error(Ms(14));u[d]=p,l=l||p!==h}return l=l||r.length!==Object.keys(s).length,l?u:s}}function r$(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function Uat(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(Ms(15))};const s={getState:i.getState,dispatch:(l,...u)=>o(l,...u)},a=e.map(l=>l(s));return o=r$(...a)(i.dispatch),{...i,dispatch:o}}}function Hat(e){return nq(e)&&"type"in e&&typeof e.type=="string"}var Yxe=Symbol.for("immer-nothing"),tse=Symbol.for("immer-draftable"),Pu=Symbol.for("immer-state");function rd(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Cw=Object.getPrototypeOf;function rv(e){return!!e&&!!e[Pu]}function Np(e){var t;return e?Kxe(e)||Array.isArray(e)||!!e[tse]||!!((t=e.constructor)!=null&&t[tse])||mN(e)||gN(e):!1}var Vat=Object.prototype.constructor.toString();function Kxe(e){if(!e||typeof e!="object")return!1;const t=Cw(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Vat}function i$(e,t){pN(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function pN(e){const t=e[Pu];return t?t.type_:Array.isArray(e)?1:mN(e)?2:gN(e)?3:0}function c9(e,t){return pN(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Xxe(e,t,n){const r=pN(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Wat(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function mN(e){return e instanceof Map}function gN(e){return e instanceof Set}function fy(e){return e.copy_||e.base_}function d9(e,t){if(mN(e))return new Map(e);if(gN(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Kxe(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Pu];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],a=r[s];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[s]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[s]})}return Object.create(Cw(e),r)}else{const r=Cw(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function rq(e,t=!1){return yN(e)||rv(e)||!Np(e)||(pN(e)>1&&(e.set=e.add=e.clear=e.delete=qat),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>rq(r,!0))),e}function qat(){rd(2)}function yN(e){return Object.isFrozen(e)}var Gat={};function iv(e){const t=Gat[e];return t||rd(0,e),t}var BT;function Qxe(){return BT}function Yat(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function nse(e,t){t&&(iv("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function f9(e){h9(e),e.drafts_.forEach(Kat),e.drafts_=null}function h9(e){e===BT&&(BT=e.parent_)}function rse(e){return BT=Yat(BT,e)}function Kat(e){const t=e[Pu];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function ise(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Pu].modified_&&(f9(t),rd(4)),Np(e)&&(e=o$(t,e),t.parent_||s$(t,e)),t.patches_&&iv("Patches").generateReplacementPatches_(n[Pu].base_,e,t.patches_,t.inversePatches_)):e=o$(t,n,[]),f9(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Yxe?e:void 0}function o$(e,t,n){if(yN(t))return t;const r=t[Pu];if(!r)return i$(t,(i,o)=>ose(e,r,t,i,o,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return s$(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,s=!1;r.type_===3&&(o=new Set(i),i.clear(),s=!0),i$(o,(a,l)=>ose(e,r,i,a,l,n,s)),s$(e,i,!1),n&&e.patches_&&iv("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function ose(e,t,n,r,i,o,s){if(rv(i)){const a=o&&t&&t.type_!==3&&!c9(t.assigned_,r)?o.concat(r):void 0,l=o$(e,i,a);if(Xxe(n,r,l),rv(l))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(Np(i)&&!yN(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;o$(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&s$(e,i)}}function s$(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&rq(t,n)}function Xat(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Qxe(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=iq;n&&(i=[r],o=jT);const{revoke:s,proxy:a}=Proxy.revocable(i,o);return r.draft_=a,r.revoke_=s,a}var iq={get(e,t){if(t===Pu)return e;const n=fy(e);if(!c9(n,t))return Qat(e,n,t);const r=n[t];return e.finalized_||!Np(r)?r:r===d6(e.base_,t)?(f6(e),e.copy_[t]=m9(r,e)):r},has(e,t){return t in fy(e)},ownKeys(e){return Reflect.ownKeys(fy(e))},set(e,t,n){const r=Jxe(fy(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=d6(fy(e),t),o=i==null?void 0:i[Pu];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(Wat(n,i)&&(n!==void 0||c9(e.base_,t)))return!0;f6(e),p9(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return d6(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,f6(e),p9(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=fy(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){rd(11)},getPrototypeOf(e){return Cw(e.base_)},setPrototypeOf(){rd(12)}},jT={};i$(iq,(e,t)=>{jT[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});jT.deleteProperty=function(e,t){return jT.set.call(this,e,t,void 0)};jT.set=function(e,t,n){return iq.set.call(this,e[0],t,n,e[0])};function d6(e,t){const n=e[Pu];return(n?fy(n):e)[t]}function Qat(e,t,n){var i;const r=Jxe(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function Jxe(e,t){if(!(t in e))return;let n=Cw(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Cw(n)}}function p9(e){e.modified_||(e.modified_=!0,e.parent_&&p9(e.parent_))}function f6(e){e.copy_||(e.copy_=d9(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Jat=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const s=this;return function(l=o,...u){return s.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&rd(6),r!==void 0&&typeof r!="function"&&rd(7);let i;if(Np(t)){const o=rse(this),s=m9(t,void 0);let a=!0;try{i=n(s),a=!1}finally{a?f9(o):h9(o)}return nse(o,r),ise(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===Yxe&&(i=void 0),this.autoFreeze_&&rq(i,!0),r){const o=[],s=[];iv("Patches").generateReplacementPatches_(t,i,o,s),r(o,s)}return i}else rd(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...a)=>this.produceWithPatches(s,l=>t(l,...a));let r,i;return[this.produce(t,n,(s,a)=>{r=s,i=a}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Np(e)||rd(8),rv(e)&&(e=Zat(e));const t=rse(this),n=m9(e,void 0);return n[Pu].isManual_=!0,h9(t),n}finishDraft(e,t){const n=e&&e[Pu];(!n||!n.isManual_)&&rd(9);const{scope_:r}=n;return nse(r,t),ise(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=iv("Patches").applyPatches_;return rv(e)?r(e,t):this.produce(e,i=>r(i,t))}};function m9(e,t){const n=mN(e)?iv("MapSet").proxyMap_(e,t):gN(e)?iv("MapSet").proxySet_(e,t):Xat(e,t);return(t?t.scope_:Qxe()).drafts_.push(n),n}function Zat(e){return rv(e)||rd(10,e),Zxe(e)}function Zxe(e){if(!Np(e)||yN(e))return e;const t=e[Pu];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=d9(e,t.scope_.immer_.useStrictShallowCopy_)}else n=d9(e,!0);return i$(n,(r,i)=>{Xxe(n,r,Zxe(i))}),t&&(t.finalized_=!1),n}var Nu=new Jat,e_e=Nu.produce;Nu.produceWithPatches.bind(Nu);Nu.setAutoFreeze.bind(Nu);Nu.setUseStrictShallowCopy.bind(Nu);Nu.applyPatches.bind(Nu);Nu.createDraft.bind(Nu);Nu.finishDraft.bind(Nu);function elt(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function tlt(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function nlt(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var sse=e=>Array.isArray(e)?e:[e];function rlt(e){const t=Array.isArray(e[0])?e[0]:e;return nlt(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function ilt(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var olt=class{constructor(e){this.value=e}deref(){return this.value}},slt=typeof WeakRef<"u"?WeakRef:olt,alt=0,ase=1;function Fk(){return{s:alt,v:void 0,o:null,p:null}}function t_e(e,t={}){let n=Fk();const{resultEqualityCheck:r}=t;let i,o=0;function s(){var d;let a=n;const{length:l}=arguments;for(let f=0,h=l;f<h;f++){const p=arguments[f];if(typeof p=="function"||typeof p=="object"&&p!==null){let m=a.o;m===null&&(a.o=m=new WeakMap);const g=m.get(p);g===void 0?(a=Fk(),m.set(p,a)):a=g}else{let m=a.p;m===null&&(a.p=m=new Map);const g=m.get(p);g===void 0?(a=Fk(),m.set(p,a)):a=g}}const u=a;let c;if(a.s===ase)c=a.v;else if(c=e.apply(null,arguments),o++,r){const f=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;f!=null&&r(f,c)&&(c=f,o!==0&&o--),i=typeof c=="object"&&c!==null||typeof c=="function"?new slt(c):c}return u.s=ase,u.v=c,c}return s.clearCache=()=>{n=Fk(),s.resetResultsCount()},s.resultsCount=()=>o,s.resetResultsCount=()=>{o=0},s}function llt(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let o=0,s=0,a,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),elt(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...n,...l},{memoize:d,memoizeOptions:f=[],argsMemoize:h=t_e,argsMemoizeOptions:p=[]}=c,m=sse(f),g=sse(p),y=rlt(i),v=d(function(){return o++,u.apply(null,arguments)},...m),w=h(function(){s++;const _=ilt(y,arguments);return a=v.apply(null,_),a},...g);return Object.assign(w,{resultFunc:u,memoizedResultFunc:v,dependencies:y,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>a,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:d,argsMemoize:h})};return Object.assign(r,{withTypes:()=>r}),r}var n_e=llt(t_e),ult=Object.assign((e,t=n_e)=>{tlt(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(o=>e[o]);return t(r,(...o)=>o.reduce((s,a,l)=>(s[n[l]]=a,s),{}))},{withTypes:()=>ult});function r_e(e){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,e):i(o)}var clt=r_e(),dlt=r_e,flt=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?r$:r$.apply(null,arguments)};function lse(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(pp(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>Hat(r)&&r.type===e,n}var i_e=class eS extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,eS.prototype)}static get[Symbol.species](){return eS}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new eS(...t[0].concat(this)):new eS(...t.concat(this))}};function use(e){return Np(e)?e_e(e,()=>{}):e}function cse(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function hlt(e){return typeof e=="boolean"}var plt=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=t??{};let s=new i_e;return n&&(hlt(n)?s.push(clt):s.push(dlt(n.extraArgument))),s},mlt="RTK_autoBatch",dse=e=>t=>{setTimeout(t,e)},glt=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,o=!1,s=!1;const a=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:dse(10):e.type==="callback"?e.queueNotification:dse(e.timeout),u=()=>{s=!1,o&&(o=!1,a.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const d=()=>i&&c(),f=r.subscribe(d);return a.add(c),()=>{f(),a.delete(c)}},dispatch(c){var d;try{return i=!((d=c==null?void 0:c.meta)!=null&&d[mlt]),o=!i,o&&(s||(s=!0,l(u))),r.dispatch(c)}finally{i=!0}}})},ylt=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new i_e(e);return r&&i.push(glt(typeof r=="object"?r:void 0)),i};function vlt(e){const t=plt(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:s=void 0}=e||{};let a;if(typeof n=="function")a=n;else if(nq(n))a=zat(n);else throw new Error(pp(1));let l;typeof r=="function"?l=r(t):l=t();let u=r$;i&&(u=flt({trace:!1,...typeof i=="object"&&i}));const c=Uat(...l),d=ylt(c);let f=typeof s=="function"?s(d):d();const h=u(...f);return Gxe(a,o,h)}function o_e(e){const t={},n=[];let r;const i={addCase(o,s){const a=typeof o=="string"?o:o.type;if(!a)throw new Error(pp(28));if(a in t)throw new Error(pp(29));return t[a]=s,i},addMatcher(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase(o){return r=o,i}};return e(i),[t,n,r]}function blt(e){return typeof e=="function"}function wlt(e,t){let[n,r,i]=o_e(t),o;if(blt(e))o=()=>use(e());else{const a=use(e);o=()=>a}function s(a=o(),l){let u=[n[l.type],...r.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,d)=>{if(d)if(rv(c)){const h=d(c,l);return h===void 0?c:h}else{if(Np(c))return e_e(c,f=>d(f,l));{const f=d(c,l);if(f===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return c},a)}return s.getInitialState=o,s}var xlt=Symbol.for("rtk-slice-createasyncthunk");function _lt(e,t){return`${e}/${t}`}function Elt({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[xlt];return function(i){const{name:o,reducerPath:s=o}=i;if(!o)throw new Error(pp(11));const a=(typeof i.reducers=="function"?i.reducers(Clt()):i.reducers)||{},l=Object.keys(a),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(w,E){const _=typeof w=="string"?w:w.type;if(!_)throw new Error(pp(12));if(_ in u.sliceCaseReducersByType)throw new Error(pp(13));return u.sliceCaseReducersByType[_]=E,c},addMatcher(w,E){return u.sliceMatchers.push({matcher:w,reducer:E}),c},exposeAction(w,E){return u.actionCreators[w]=E,c},exposeCaseReducer(w,E){return u.sliceCaseReducersByName[w]=E,c}};l.forEach(w=>{const E=a[w],_={reducerName:w,type:_lt(o,w),createNotation:typeof i.reducers=="function"};klt(E)?Rlt(_,E,c,t):Alt(_,E,c)});function d(){const[w={},E=[],_=void 0]=typeof i.extraReducers=="function"?o_e(i.extraReducers):[i.extraReducers],x={...w,...u.sliceCaseReducersByType};return wlt(i.initialState,S=>{for(let C in x)S.addCase(C,x[C]);for(let C of u.sliceMatchers)S.addMatcher(C.matcher,C.reducer);for(let C of E)S.addMatcher(C.matcher,C.reducer);_&&S.addDefaultCase(_)})}const f=w=>w,h=new Map;let p;function m(w,E){return p||(p=d()),p(w,E)}function g(){return p||(p=d()),p.getInitialState()}function y(w,E=!1){function _(S){let C=S[w];return typeof C>"u"&&E&&(C=g()),C}function x(S=f){const C=cse(h,E,()=>new WeakMap);return cse(C,S,()=>{const A={};for(const[k,N]of Object.entries(i.selectors??{}))A[k]=Slt(N,S,g,E);return A})}return{reducerPath:w,getSelectors:x,get selectors(){return x(_)},selectSlice:_}}const v={name:o,reducer:m,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:g,...y(s),injectInto(w,{reducerPath:E,..._}={}){const x=E??s;return w.inject({reducerPath:x,reducer:m},_),{...v,...y(x,!0)}}};return v}}function Slt(e,t,n,r){function i(o,...s){let a=t(o);return typeof a>"u"&&r&&(a=n()),e(a,...s)}return i.unwrapped=e,i}var Tlt=Elt();function Clt(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function Alt({type:e,reducerName:t,createNotation:n},r,i){let o,s;if("reducer"in r){if(n&&!Ilt(r))throw new Error(pp(17));o=r.reducer,s=r.prepare}else o=r;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,s?lse(e,s):lse(e))}function klt(e){return e._reducerDefinitionType==="asyncThunk"}function Ilt(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Rlt({type:e,reducerName:t},n,r,i){if(!i)throw new Error(pp(18));const{payloadCreator:o,fulfilled:s,pending:a,rejected:l,settled:u,options:c}=n,d=i(e,o,c);r.exposeAction(t,d),s&&r.addCase(d.fulfilled,s),a&&r.addCase(d.pending,a),l&&r.addCase(d.rejected,l),u&&r.addMatcher(d.settled,u),r.exposeCaseReducer(t,{fulfilled:s||Bk,pending:a||Bk,rejected:l||Bk,settled:u||Bk})}function Bk(){}function pp(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}function vN(e){return e.baseComponent!==void 0}function Ou(e){return e.order==="dynamic"}function Og(e){return Ou(e)?[e.id]:e.components.flatMap(t=>typeof t=="string"?t:Og(t))}function s_e(e){return Ou(e)?[e]:e.components.flatMap(t=>typeof t=="string"?[]:s_e(t))}function fse(e,t){return s_e(t).find(r=>r.id===e)}function a_e(e){var t;return Ou(e)?[]:[...e.components.flatMap(n=>typeof n=="string"?n:Ou(n)?[]:a_e(n)),...((t=e.interruptions)==null?void 0:t.flatMap(n=>n.components))||[]]}function l_e(e,t,n){let r=0;for(let i=0;i<e.components.length;i+=1){const o=e.components[i];if(typeof o=="string"){if(typeof t=="number"&&t===n+r)return[{currentBlock:e,firstIndex:n,lastIndex:n+Og(e).length-1}];if(typeof t=="string"&&e.orderPath===t)return[{currentBlock:e,firstIndex:n,lastIndex:n+Og(e).length-1}];r+=1}else{const s=l_e(o,t,n+r);if(typeof s=="number")r+=s;else{const a={currentBlock:e,firstIndex:n,lastIndex:s[0].lastIndex};return[...s,a]}}}return r}function oq(e,t){const n=l_e(e,t,0);return typeof n=="number"?null:n}function u_e(e,t,n){if(e.id===t)return{found:!0,distance:n};let r=0;for(let i=0;i<e.components.length;i+=1){const o=e.components[i];if(typeof o=="string")r+=1;else{const s=u_e(o,t,n+r);if(s.found)return s;r+=s.distance}}return{found:!1,distance:r}}function Dlt(e,t){const n=u_e(e,t,0);return n.found?n.distance:-1}function c_e(e,t="root"){if(Ou(e))return[];const n=[],r={};return e.components.forEach((i,o)=>{typeof i=="string"?(n.push({componentName:i,orderPath:t,timesSeenInBlock:r[i]||0}),r[i]=r[i]?r[i]+1:1):n.push(...c_e(i,`${t}-${o}`))}),n}function sq(e,t){return typeof e=="string"?e:Ou(e)?{...e,orderPath:t,components:[]}:{...e,orderPath:t,order:e.order,components:e.components.map((n,r)=>sq(n,`${t}-${r}`))}}var tS={exports:{}};tS.exports;var hse;function $lt(){return hse||(hse=1,function(e,t){var n=200,r="__lodash_hash_undefined__",i=800,o=16,s=9007199254740991,a="[object Arguments]",l="[object Array]",u="[object AsyncFunction]",c="[object Boolean]",d="[object Date]",f="[object Error]",h="[object Function]",p="[object GeneratorFunction]",m="[object Map]",g="[object Number]",y="[object Null]",v="[object Object]",w="[object Proxy]",E="[object RegExp]",_="[object Set]",x="[object String]",S="[object Undefined]",C="[object WeakMap]",A="[object ArrayBuffer]",k="[object DataView]",N="[object Float32Array]",M="[object Float64Array]",I="[object Int8Array]",D="[object Int16Array]",R="[object Int32Array]",O="[object Uint8Array]",B="[object Uint8ClampedArray]",z="[object Uint16Array]",W="[object Uint32Array]",U=/[\\^$.*+?()[\]{}|]/g,F=/^\[object .+?Constructor\]$/,Y=/^(?:0|[1-9]\d*)$/,V={};V[N]=V[M]=V[I]=V[D]=V[R]=V[O]=V[B]=V[z]=V[W]=!0,V[a]=V[l]=V[A]=V[c]=V[k]=V[d]=V[f]=V[h]=V[m]=V[g]=V[v]=V[E]=V[_]=V[x]=V[C]=!1;var G=typeof Ur=="object"&&Ur&&Ur.Object===Object&&Ur,X=typeof self=="object"&&self&&self.Object===Object&&self,Z=G||X||Function("return this")(),oe=t&&!t.nodeType&&t,ne=oe&&!0&&e&&!e.nodeType&&e,ie=ne&&ne.exports===oe,fe=ie&&G.process,se=function(){try{var te=ne&&ne.require&&ne.require("util").types;return te||fe&&fe.binding&&fe.binding("util")}catch{}}(),ae=se&&se.isTypedArray;function Se(te,ce,_e){switch(_e.length){case 0:return te.call(ce);case 1:return te.call(ce,_e[0]);case 2:return te.call(ce,_e[0],_e[1]);case 3:return te.call(ce,_e[0],_e[1],_e[2])}return te.apply(ce,_e)}function Te(te,ce){for(var _e=-1,At=Array(te);++_e<te;)At[_e]=ce(_e);return At}function Oe(te){return function(ce){return te(ce)}}function We(te,ce){return te==null?void 0:te[ce]}function Fe(te,ce){return function(_e){return te(ce(_e))}}var Ue=Array.prototype,rt=Function.prototype,at=Object.prototype,ct=Z["__core-js_shared__"],vt=rt.toString,gt=at.hasOwnProperty,Ze=function(){var te=/[^.]+$/.exec(ct&&ct.keys&&ct.keys.IE_PROTO||"");return te?"Symbol(src)_1."+te:""}(),Tt=at.toString,ue=vt.call(Object),xe=RegExp("^"+vt.call(gt).replace(U,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$e=ie?Z.Buffer:void 0,Ye=Z.Symbol,tt=Z.Uint8Array;$e&&$e.allocUnsafe;var Et=Fe(Object.getPrototypeOf,Object),an=Object.create,ln=at.propertyIsEnumerable,Wt=Ue.splice,Dt=Ye?Ye.toStringTag:void 0,Ae=function(){try{var te=ut(Object,"defineProperty");return te({},"",{}),te}catch{}}(),Qe=$e?$e.isBuffer:void 0,Ct=Math.max,xn=Date.now,gr=ut(Z,"Map"),dr=ut(Object,"create"),ii=function(){function te(){}return function(ce){if(!gl(ce))return{};if(an)return an(ce);te.prototype=ce;var _e=new te;return te.prototype=void 0,_e}}();function Rr(te){var ce=-1,_e=te==null?0:te.length;for(this.clear();++ce<_e;){var At=te[ce];this.set(At[0],At[1])}}function er(){this.__data__=dr?dr(null):{},this.size=0}function Es(te){var ce=this.has(te)&&delete this.__data__[te];return this.size-=ce?1:0,ce}function Do(te){var ce=this.__data__;if(dr){var _e=ce[te];return _e===r?void 0:_e}return gt.call(ce,te)?ce[te]:void 0}function Ss(te){var ce=this.__data__;return dr?ce[te]!==void 0:gt.call(ce,te)}function $i(te,ce){var _e=this.__data__;return this.size+=this.has(te)?0:1,_e[te]=dr&&ce===void 0?r:ce,this}Rr.prototype.clear=er,Rr.prototype.delete=Es,Rr.prototype.get=Do,Rr.prototype.has=Ss,Rr.prototype.set=$i;function Un(te){var ce=-1,_e=te==null?0:te.length;for(this.clear();++ce<_e;){var At=te[ce];this.set(At[0],At[1])}}function or(){this.__data__=[],this.size=0}function $o(te){var ce=this.__data__,_e=tu(ce,te);if(_e<0)return!1;var At=ce.length-1;return _e==At?ce.pop():Wt.call(ce,_e,1),--this.size,!0}function yr(te){var ce=this.__data__,_e=tu(ce,te);return _e<0?void 0:ce[_e][1]}function Jr(te){return tu(this.__data__,te)>-1}function Ui(te,ce){var _e=this.__data__,At=tu(_e,te);return At<0?(++this.size,_e.push([te,ce])):_e[At][1]=ce,this}Un.prototype.clear=or,Un.prototype.delete=$o,Un.prototype.get=yr,Un.prototype.has=Jr,Un.prototype.set=Ui;function Ei(te){var ce=-1,_e=te==null?0:te.length;for(this.clear();++ce<_e;){var At=te[ce];this.set(At[0],At[1])}}function oi(){this.size=0,this.__data__={hash:new Rr,map:new(gr||Un),string:new Rr}}function Zl(te){var ce=st(this,te).delete(te);return this.size-=ce?1:0,ce}function Nc(te){return st(this,te).get(te)}function La(te){return st(this,te).has(te)}function Hu(te,ce){var _e=st(this,te),At=_e.size;return _e.set(te,ce),this.size+=_e.size==At?0:1,this}Ei.prototype.clear=oi,Ei.prototype.delete=Zl,Ei.prototype.get=Nc,Ei.prototype.has=La,Ei.prototype.set=Hu;function hi(te){var ce=this.__data__=new Un(te);this.size=ce.size}function kn(){this.__data__=new Un,this.size=0}function to(te){var ce=this.__data__,_e=ce.delete(te);return this.size=ce.size,_e}function eu(te){return this.__data__.get(te)}function hl(te){return this.__data__.has(te)}function pl(te,ce){var _e=this.__data__;if(_e instanceof Un){var At=_e.__data__;if(!gr||At.length<n-1)return At.push([te,ce]),this.size=++_e.size,this;_e=this.__data__=new Ei(At)}return _e.set(te,ce),this.size=_e.size,this}hi.prototype.clear=kn,hi.prototype.delete=to,hi.prototype.get=eu,hi.prototype.has=hl,hi.prototype.set=pl;function Vu(te,ce){var _e=si(te),At=!_e&&pi(te),Pt=!_e&&!At&&xo(te),cn=!_e&&!At&&!Pt&&Xd(te),En=_e||At||Pt||cn,Zt=En?Te(te.length,String):[],pn=Zt.length;for(var zn in te)En&&(zn=="length"||Pt&&(zn=="offset"||zn=="parent")||cn&&(zn=="buffer"||zn=="byteLength"||zn=="byteOffset")||zt(zn,pn))||Zt.push(zn);return Zt}function Mo(te,ce,_e){(_e!==void 0&&!Po(te[ce],_e)||_e===void 0&&!(ce in te))&&Gn(te,ce,_e)}function Wd(te,ce,_e){var At=te[ce];(!(gt.call(te,ce)&&Po(At,_e))||_e===void 0&&!(ce in te))&&Gn(te,ce,_e)}function tu(te,ce){for(var _e=te.length;_e--;)if(Po(te[_e][0],ce))return _e;return-1}function Gn(te,ce,_e){ce=="__proto__"&&Ae?Ae(te,ce,{configurable:!0,enumerable:!0,value:_e,writable:!0}):te[ce]=_e}var Oc=Ge();function no(te){return te==null?te===void 0?S:y:Dt&&Dt in Object(te)?lt(te):so(te)}function Qo(te){return Mi(te)&&no(te)==a}function ro(te){if(!gl(te)||On(te))return!1;var ce=na(te)?xe:F;return ce.test(Yd(te))}function nu(te){return Mi(te)&&Kd(te.length)&&!!V[no(te)]}function Ts(te){if(!gl(te))return Hn(te);var ce=Qt(te),_e=[];for(var At in te)At=="constructor"&&(ce||!gt.call(te,At))||_e.push(At);return _e}function ml(te,ce,_e,At,Pt){te!==ce&&Oc(ce,function(cn,En){if(Pt||(Pt=new hi),gl(cn))io(te,ce,En,_e,ml,At,Pt);else{var Zt=At?At(ao(te,En),cn,En+"",te,ce,Pt):void 0;Zt===void 0&&(Zt=cn),Mo(te,En,Zt)}},ru)}function io(te,ce,_e,At,Pt,cn,En){var Zt=ao(te,_e),pn=ao(ce,_e),zn=En.get(pn);if(zn){Mo(te,_e,zn);return}var kr=cn?cn(Zt,pn,_e+"",te,ce,En):void 0,Pr=kr===void 0;if(Pr){var Zr=si(pn),Hi=!Zr&&xo(pn),Nr=!Zr&&!Hi&&Xd(pn);kr=pn,Zr||Hi||Nr?si(Zt)?kr=Zt:qu(Zt)?kr=ke(Zt):Hi?(Pr=!1,kr=le(pn)):Nr?(Pr=!1,kr=pe(pn)):kr=[]:lm(pn)||pi(pn)?(kr=Zt,pi(Zt)?kr=Cs(Zt):(!gl(Zt)||na(Zt))&&(kr=_t(pn))):Pr=!1}Pr&&(En.set(pn,kr),Pt(kr,pn,At,cn,En),En.delete(pn)),Mo(te,_e,kr)}function qd(te,ce){return Gd(ta(te,ce,ra),te+"")}var oo=Ae?function(te,ce){return Ae(te,"toString",{configurable:!0,enumerable:!1,value:Fa(ce),writable:!0})}:ra;function le(te,ce){return te.slice()}function we(te){var ce=new te.constructor(te.byteLength);return new tt(ce).set(new tt(te)),ce}function pe(te,ce){var _e=we(te.buffer);return new te.constructor(_e,te.byteOffset,te.length)}function ke(te,ce){var _e=-1,At=te.length;for(ce||(ce=Array(At));++_e<At;)ce[_e]=te[_e];return ce}function Re(te,ce,_e,At){var Pt=!_e;_e||(_e={});for(var cn=-1,En=ce.length;++cn<En;){var Zt=ce[cn],pn=void 0;pn===void 0&&(pn=te[Zt]),Pt?Gn(_e,Zt,pn):Wd(_e,Zt,pn)}return _e}function Ce(te){return qd(function(ce,_e){var At=-1,Pt=_e.length,cn=Pt>1?_e[Pt-1]:void 0,En=Pt>2?_e[2]:void 0;for(cn=te.length>3&&typeof cn=="function"?(Pt--,cn):void 0,En&&_n(_e[0],_e[1],En)&&(cn=Pt<3?void 0:cn,Pt=1),ce=Object(ce);++At<Pt;){var Zt=_e[At];Zt&&te(ce,Zt,At,cn)}return ce})}function Ge(te){return function(ce,_e,At){for(var Pt=-1,cn=Object(ce),En=At(ce),Zt=En.length;Zt--;){var pn=En[++Pt];if(_e(cn[pn],pn,cn)===!1)break}return ce}}function st(te,ce){var _e=te.__data__;return en(ce)?_e[typeof ce=="string"?"string":"hash"]:_e.map}function ut(te,ce){var _e=We(te,ce);return ro(_e)?_e:void 0}function lt(te){var ce=gt.call(te,Dt),_e=te[Dt];try{te[Dt]=void 0;var At=!0}catch{}var Pt=Tt.call(te);return At&&(ce?te[Dt]=_e:delete te[Dt]),Pt}function _t(te){return typeof te.constructor=="function"&&!Qt(te)?ii(Et(te)):{}}function zt(te,ce){var _e=typeof te;return ce=ce??s,!!ce&&(_e=="number"||_e!="symbol"&&Y.test(te))&&te>-1&&te%1==0&&te<ce}function _n(te,ce,_e){if(!gl(_e))return!1;var At=typeof ce;return(At=="number"?Jo(_e)&&zt(ce,_e.length):At=="string"&&ce in _e)?Po(_e[ce],te):!1}function en(te){var ce=typeof te;return ce=="string"||ce=="number"||ce=="symbol"||ce=="boolean"?te!=="__proto__":te===null}function On(te){return!!Ze&&Ze in te}function Qt(te){var ce=te&&te.constructor,_e=typeof ce=="function"&&ce.prototype||at;return te===_e}function Hn(te){var ce=[];if(te!=null)for(var _e in Object(te))ce.push(_e);return ce}function so(te){return Tt.call(te)}function ta(te,ce,_e){return ce=Ct(ce===void 0?te.length-1:ce,0),function(){for(var At=arguments,Pt=-1,cn=Ct(At.length-ce,0),En=Array(cn);++Pt<cn;)En[Pt]=At[ce+Pt];Pt=-1;for(var Zt=Array(ce+1);++Pt<ce;)Zt[Pt]=At[Pt];return Zt[ce]=_e(En),Se(te,this,Zt)}}function ao(te,ce){if(!(ce==="constructor"&&typeof te[ce]=="function")&&ce!="__proto__")return te[ce]}var Gd=Wu(oo);function Wu(te){var ce=0,_e=0;return function(){var At=xn(),Pt=o-(At-_e);if(_e=At,Pt>0){if(++ce>=i)return arguments[0]}else ce=0;return te.apply(void 0,arguments)}}function Yd(te){if(te!=null){try{return vt.call(te)}catch{}try{return te+""}catch{}}return""}function Po(te,ce){return te===ce||te!==te&&ce!==ce}var pi=Qo(function(){return arguments}())?Qo:function(te){return Mi(te)&&gt.call(te,"callee")&&!ln.call(te,"callee")},si=Array.isArray;function Jo(te){return te!=null&&Kd(te.length)&&!na(te)}function qu(te){return Mi(te)&&Jo(te)}var xo=Qe||me;function na(te){if(!gl(te))return!1;var ce=no(te);return ce==h||ce==p||ce==u||ce==w}function Kd(te){return typeof te=="number"&&te>-1&&te%1==0&&te<=s}function gl(te){var ce=typeof te;return te!=null&&(ce=="object"||ce=="function")}function Mi(te){return te!=null&&typeof te=="object"}function lm(te){if(!Mi(te)||no(te)!=v)return!1;var ce=Et(te);if(ce===null)return!0;var _e=gt.call(ce,"constructor")&&ce.constructor;return typeof _e=="function"&&_e instanceof _e&&vt.call(_e)==ue}var Xd=ae?Oe(ae):nu;function Cs(te){return Re(te,ru(te))}function ru(te){return Jo(te)?Vu(te):Ts(te)}var um=Ce(function(te,ce,_e){ml(te,ce,_e)});function Fa(te){return function(){return te}}function ra(te){return te}function me(){return!1}e.exports=um}(tS,tS.exports)),tS.exports}var Mlt=$lt();const d_e=ul(Mlt);function Pf(e,t){var n;return vN(e)&&t.baseComponents?d_e({},(n=t.baseComponents)==null?void 0:n[e.baseComponent],e):e}function pse(e,t){return t.components[e]===void 0?null:Pf(t.components[e],t)}async function Plt(e,t,n,r,i,o,s){const a=Og(n),l=Object.fromEntries(a.filter(p=>p!=="end").map((p,m)=>{const g=Pf(t.components[p]||{},t);return t.components[p]?[`${p}_${m}`,{answer:{},trialOrder:`${m}`,componentName:p,incorrectAnswers:{},startTime:0,endTime:-1,provenanceGraph:{aboveStimulus:void 0,belowStimulus:void 0,stimulus:void 0,sidebar:void 0},windowEvents:[],timedOut:!1,helpButtonClickedCount:0,parameters:Object.hasOwn(g,"parameters")?g.parameters:{},correctAnswer:Object.hasOwn(g,"correctAnswer")?g.correctAnswer:[]}]:null}).filter(p=>p!==null)),u=Object.assign({},...a.map((p,m)=>{const g=Pf(t.components[p]||{response:[]},t);return{[`${p}_${m}`]:{aboveStimulus:{valid:!1,values:{}},belowStimulus:{valid:!1,values:{}},sidebar:{valid:!1,values:{}},stimulus:{valid:!g.response.some(y=>y.type==="reactive"&&y.required!==!1),values:{}},provenanceGraph:{aboveStimulus:void 0,belowStimulus:void 0,stimulus:void 0,sidebar:void 0}}}})),c=Object.assign({},...a.map((p,m)=>({[`${p}_${m}`]:{aboveStimulus:!0,belowStimulus:!0,sidebar:!0,stimulus:!0,provenanceGraph:{aboveStimulus:void 0,belowStimulus:void 0,stimulus:void 0,sidebar:void 0}}}))),d={studyId:e,isRecording:!1,answers:Object.keys(i).length>0?i:l,sequence:n,config:t,showStudyBrowser:!0,showHelpText:!1,alertModal:{show:!1,message:""},trialValidation:Object.keys(i).length>0?c:u,reactiveAnswers:{},metadata:r,analysisProvState:{aboveStimulus:void 0,belowStimulus:void 0,stimulus:void 0,sidebar:void 0},analysisIsPlaying:!1,analysisHasAudio:!1,analysisHasProvenance:!1,modes:o,matrixAnswers:{},participantId:s,funcSequence:{}},f=Tlt({name:"storeSlice",initialState:d,reducers:{setConfig(p,{payload:m}){p.config=m},setIsRecording(p,{payload:m}){p.isRecording=m},pushToFuncSequence(p,{payload:m}){if(p.funcSequence[m.funcName]||(p.funcSequence[m.funcName]=[]),p.funcSequence[m.funcName].length>m.funcIndex)return;const g=Pf(p.config.components[m.component]||{response:[]},t),y=`${m.funcName}_${m.index}_${m.component}_${m.funcIndex}`;p.funcSequence[m.funcName].push(m.component),p.answers[y]={answer:{},incorrectAnswers:{},componentName:m.component,trialOrder:`${m.index}_${m.funcIndex}`,startTime:0,endTime:-1,provenanceGraph:{aboveStimulus:void 0,belowStimulus:void 0,stimulus:void 0,sidebar:void 0},windowEvents:[],timedOut:!1,helpButtonClickedCount:0,parameters:m.parameters||("parameters"in g?g.parameters:{})||{},correctAnswer:m.correctAnswer||g.correctAnswer||[]},p.trialValidation[y]={aboveStimulus:{valid:!1,values:{}},belowStimulus:{valid:!1,values:{}},stimulus:{valid:g.response.every(v=>v.type!=="reactive"),values:{}},sidebar:{valid:!1,values:{}},provenanceGraph:{aboveStimulus:void 0,belowStimulus:void 0,stimulus:void 0,sidebar:void 0}}},toggleStudyBrowser:p=>{p.showStudyBrowser=!p.showStudyBrowser},toggleShowHelpText:p=>{p.showHelpText=!p.showHelpText},setAlertModal:(p,m)=>{p.alertModal=m.payload},setReactiveAnswers:(p,m)=>{p.reactiveAnswers=m.payload},saveAnalysisState(p,{payload:m}){p.analysisProvState[m.location]=m.prov},setAnalysisIsPlaying(p,{payload:m}){p.analysisIsPlaying=m},setAnalysisHasAudio(p,{payload:m}){p.analysisHasAudio=m},setAnalysisHasProvenance(p,{payload:m}){p.analysisHasProvenance=m},setMatrixAnswersRadio:(p,m)=>{if(m.payload){const{responseId:g,questionKey:y,val:v}=m.payload;p.matrixAnswers={...p.matrixAnswers,[g]:{...p.matrixAnswers[g],[y]:v}}}else p.matrixAnswers={}},setMatrixAnswersCheckbox:(p,m)=>{var g;if(m.payload){const{responseId:y,questionKey:v,value:w,isChecked:E,choiceOptions:_}=m.payload,x=((g=p.matrixAnswers[y])==null?void 0:g[v])??"";let S="";E?x.length>0?S=[...x.split("|"),w].sort((C,A)=>_.map(k=>k.value).indexOf(C)-_.map(k=>k.value).indexOf(A)).join("|"):S=`${w}`:S=x.split("|").filter(C=>C!==w).join("|"),p.matrixAnswers={...p.matrixAnswers,[y]:{...p.matrixAnswers[y],[v]:S}}}else p.matrixAnswers={}},updateResponseBlockValidation:(p,{payload:m})=>{var y,v;if(!p.trialValidation[m.identifier])return;const g=(v=(y=p.trialValidation[m.identifier])==null?void 0:y[m.location])==null?void 0:v.values;Object.keys(m.values).length>0?p.trialValidation[m.identifier][m.location]={valid:m.status,values:{...g,...m.values}}:p.trialValidation[m.identifier][m.location]={valid:m.status,values:g||{}},m.provenanceGraph&&(p.trialValidation[m.identifier].provenanceGraph[m.location]=m.provenanceGraph)},saveTrialAnswer(p,{payload:m}){p.answers[m.identifier]={...m}},incrementHelpCounter(p,{payload:m}){p.answers[m.identifier].helpButtonClickedCount+=1},saveIncorrectAnswer(p,{payload:m}){const{identifier:g,answer:y,question:v}=m;p.answers[v].incorrectAnswers||(p.answers[v].incorrectAnswers={}),p.answers[v].incorrectAnswers[g]||(p.answers[v].incorrectAnswers[g]={id:g,value:[]}),p.answers[v].incorrectAnswers[g].value.push(y)}}});return{store:vlt({reducer:f.reducer,preloadedState:d}),actions:f.actions}}const f_e=H.createContext(null);function ys(){return H.useContext(f_e).actions}const Zs=Qwe,mr=dot;function Nlt(e){return mr(t=>{if(e.includes("reviewer-"))return!0;const n=t.trialValidation[e]?Object.values(t.trialValidation[e]).every(r=>typeof r=="object"&&"valid"in r?r.valid:!0):!0;return n?Object.values(n).every(r=>r):!1})}const Olt=n_e(e=>e.sequence,e=>Og(e));function Qv(){return mr(Olt)}var HI={exports:{}},VI={exports:{}},Llt=VI.exports,mse;function cr(){return mse||(mse=1,function(e,t){(function(n,r){e.exports=r()})(Llt,function(){var n=n||function(r,i){var o;if(typeof window<"u"&&window.crypto&&(o=window.crypto),typeof self<"u"&&self.crypto&&(o=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(o=globalThis.crypto),!o&&typeof window<"u"&&window.msCrypto&&(o=window.msCrypto),!o&&typeof Ur<"u"&&Ur.crypto&&(o=Ur.crypto),!o&&typeof KE=="function")try{o=Kve}catch{}var s=function(){if(o){if(typeof o.getRandomValues=="function")try{return o.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof o.randomBytes=="function")try{return o.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function v(){}return function(w){var E;return v.prototype=w,E=new v,v.prototype=null,E}}(),l={},u=l.lib={},c=u.Base=function(){return{extend:function(v){var w=a(this);return v&&w.mixIn(v),(!w.hasOwnProperty("init")||this.init===w.init)&&(w.init=function(){w.$super.init.apply(this,arguments)}),w.init.prototype=w,w.$super=this,w},create:function(){var v=this.extend();return v.init.apply(v,arguments),v},init:function(){},mixIn:function(v){for(var w in v)v.hasOwnProperty(w)&&(this[w]=v[w]);v.hasOwnProperty("toString")&&(this.toString=v.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),d=u.WordArray=c.extend({init:function(v,w){v=this.words=v||[],w!=i?this.sigBytes=w:this.sigBytes=v.length*4},toString:function(v){return(v||h).stringify(this)},concat:function(v){var w=this.words,E=v.words,_=this.sigBytes,x=v.sigBytes;if(this.clamp(),_%4)for(var S=0;S<x;S++){var C=E[S>>>2]>>>24-S%4*8&255;w[_+S>>>2]|=C<<24-(_+S)%4*8}else for(var A=0;A<x;A+=4)w[_+A>>>2]=E[A>>>2];return this.sigBytes+=x,this},clamp:function(){var v=this.words,w=this.sigBytes;v[w>>>2]&=4294967295<<32-w%4*8,v.length=r.ceil(w/4)},clone:function(){var v=c.clone.call(this);return v.words=this.words.slice(0),v},random:function(v){for(var w=[],E=0;E<v;E+=4)w.push(s());return new d.init(w,v)}}),f=l.enc={},h=f.Hex={stringify:function(v){for(var w=v.words,E=v.sigBytes,_=[],x=0;x<E;x++){var S=w[x>>>2]>>>24-x%4*8&255;_.push((S>>>4).toString(16)),_.push((S&15).toString(16))}return _.join("")},parse:function(v){for(var w=v.length,E=[],_=0;_<w;_+=2)E[_>>>3]|=parseInt(v.substr(_,2),16)<<24-_%8*4;return new d.init(E,w/2)}},p=f.Latin1={stringify:function(v){for(var w=v.words,E=v.sigBytes,_=[],x=0;x<E;x++){var S=w[x>>>2]>>>24-x%4*8&255;_.push(String.fromCharCode(S))}return _.join("")},parse:function(v){for(var w=v.length,E=[],_=0;_<w;_++)E[_>>>2]|=(v.charCodeAt(_)&255)<<24-_%4*8;return new d.init(E,w)}},m=f.Utf8={stringify:function(v){try{return decodeURIComponent(escape(p.stringify(v)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(v){return p.parse(unescape(encodeURIComponent(v)))}},g=u.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new d.init,this._nDataBytes=0},_append:function(v){typeof v=="string"&&(v=m.parse(v)),this._data.concat(v),this._nDataBytes+=v.sigBytes},_process:function(v){var w,E=this._data,_=E.words,x=E.sigBytes,S=this.blockSize,C=S*4,A=x/C;v?A=r.ceil(A):A=r.max((A|0)-this._minBufferSize,0);var k=A*S,N=r.min(k*4,x);if(k){for(var M=0;M<k;M+=S)this._doProcessBlock(_,M);w=_.splice(0,k),E.sigBytes-=N}return new d.init(w,N)},clone:function(){var v=c.clone.call(this);return v._data=this._data.clone(),v},_minBufferSize:0});u.Hasher=g.extend({cfg:c.extend(),init:function(v){this.cfg=this.cfg.extend(v),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(v){return this._append(v),this._process(),this},finalize:function(v){v&&this._append(v);var w=this._doFinalize();return w},blockSize:16,_createHelper:function(v){return function(w,E){return new v.init(E).finalize(w)}},_createHmacHelper:function(v){return function(w,E){return new y.HMAC.init(v,E).finalize(w)}}});var y=l.algo={};return l}(Math);return n})}(VI)),VI.exports}var WI={exports:{}},Flt=WI.exports,gse;function bN(){return gse||(gse=1,function(e,t){(function(n,r){e.exports=r(cr())})(Flt,function(n){return function(r){var i=n,o=i.lib,s=o.Base,a=o.WordArray,l=i.x64={};l.Word=s.extend({init:function(u,c){this.high=u,this.low=c}}),l.WordArray=s.extend({init:function(u,c){u=this.words=u||[],c!=r?this.sigBytes=c:this.sigBytes=u.length*8},toX32:function(){for(var u=this.words,c=u.length,d=[],f=0;f<c;f++){var h=u[f];d.push(h.high),d.push(h.low)}return a.create(d,this.sigBytes)},clone:function(){for(var u=s.clone.call(this),c=u.words=this.words.slice(0),d=c.length,f=0;f<d;f++)c[f]=c[f].clone();return u}})}(),n})}(WI)),WI.exports}var qI={exports:{}},Blt=qI.exports,yse;function jlt(){return yse||(yse=1,function(e,t){(function(n,r){e.exports=r(cr())})(Blt,function(n){return function(){if(typeof ArrayBuffer=="function"){var r=n,i=r.lib,o=i.WordArray,s=o.init,a=o.init=function(l){if(l instanceof ArrayBuffer&&(l=new Uint8Array(l)),(l instanceof Int8Array||typeof Uint8ClampedArray<"u"&&l instanceof Uint8ClampedArray||l instanceof Int16Array||l instanceof Uint16Array||l instanceof Int32Array||l instanceof Uint32Array||l instanceof Float32Array||l instanceof Float64Array)&&(l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength)),l instanceof Uint8Array){for(var u=l.byteLength,c=[],d=0;d<u;d++)c[d>>>2]|=l[d]<<24-d%4*8;s.call(this,c,u)}else s.apply(this,arguments)};a.prototype=o}}(),n.lib.WordArray})}(qI)),qI.exports}var GI={exports:{}},zlt=GI.exports,vse;function Ult(){return vse||(vse=1,function(e,t){(function(n,r){e.exports=r(cr())})(zlt,function(n){return function(){var r=n,i=r.lib,o=i.WordArray,s=r.enc;s.Utf16=s.Utf16BE={stringify:function(l){for(var u=l.words,c=l.sigBytes,d=[],f=0;f<c;f+=2){var h=u[f>>>2]>>>16-f%4*8&65535;d.push(String.fromCharCode(h))}return d.join("")},parse:function(l){for(var u=l.length,c=[],d=0;d<u;d++)c[d>>>1]|=l.charCodeAt(d)<<16-d%2*16;return o.create(c,u*2)}},s.Utf16LE={stringify:function(l){for(var u=l.words,c=l.sigBytes,d=[],f=0;f<c;f+=2){var h=a(u[f>>>2]>>>16-f%4*8&65535);d.push(String.fromCharCode(h))}return d.join("")},parse:function(l){for(var u=l.length,c=[],d=0;d<u;d++)c[d>>>1]|=a(l.charCodeAt(d)<<16-d%2*16);return o.create(c,u*2)}};function a(l){return l<<8&4278255360|l>>>8&16711935}}(),n.enc.Utf16})}(GI)),GI.exports}var YI={exports:{}},Hlt=YI.exports,bse;function Jv(){return bse||(bse=1,function(e,t){(function(n,r){e.exports=r(cr())})(Hlt,function(n){return function(){var r=n,i=r.lib,o=i.WordArray,s=r.enc;s.Base64={stringify:function(l){var u=l.words,c=l.sigBytes,d=this._map;l.clamp();for(var f=[],h=0;h<c;h+=3)for(var p=u[h>>>2]>>>24-h%4*8&255,m=u[h+1>>>2]>>>24-(h+1)%4*8&255,g=u[h+2>>>2]>>>24-(h+2)%4*8&255,y=p<<16|m<<8|g,v=0;v<4&&h+v*.75<c;v++)f.push(d.charAt(y>>>6*(3-v)&63));var w=d.charAt(64);if(w)for(;f.length%4;)f.push(w);return f.join("")},parse:function(l){var u=l.length,c=this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var f=0;f<c.length;f++)d[c.charCodeAt(f)]=f}var h=c.charAt(64);if(h){var p=l.indexOf(h);p!==-1&&(u=p)}return a(l,u,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(l,u,c){for(var d=[],f=0,h=0;h<u;h++)if(h%4){var p=c[l.charCodeAt(h-1)]<<h%4*2,m=c[l.charCodeAt(h)]>>>6-h%4*2,g=p|m;d[f>>>2]|=g<<24-f%4*8,f++}return o.create(d,f)}}(),n.enc.Base64})}(YI)),YI.exports}var KI={exports:{}},Vlt=KI.exports,wse;function Wlt(){return wse||(wse=1,function(e,t){(function(n,r){e.exports=r(cr())})(Vlt,function(n){return function(){var r=n,i=r.lib,o=i.WordArray,s=r.enc;s.Base64url={stringify:function(l,u){u===void 0&&(u=!0);var c=l.words,d=l.sigBytes,f=u?this._safe_map:this._map;l.clamp();for(var h=[],p=0;p<d;p+=3)for(var m=c[p>>>2]>>>24-p%4*8&255,g=c[p+1>>>2]>>>24-(p+1)%4*8&255,y=c[p+2>>>2]>>>24-(p+2)%4*8&255,v=m<<16|g<<8|y,w=0;w<4&&p+w*.75<d;w++)h.push(f.charAt(v>>>6*(3-w)&63));var E=f.charAt(64);if(E)for(;h.length%4;)h.push(E);return h.join("")},parse:function(l,u){u===void 0&&(u=!0);var c=l.length,d=u?this._safe_map:this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var h=0;h<d.length;h++)f[d.charCodeAt(h)]=h}var p=d.charAt(64);if(p){var m=l.indexOf(p);m!==-1&&(c=m)}return a(l,c,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(l,u,c){for(var d=[],f=0,h=0;h<u;h++)if(h%4){var p=c[l.charCodeAt(h-1)]<<h%4*2,m=c[l.charCodeAt(h)]>>>6-h%4*2,g=p|m;d[f>>>2]|=g<<24-f%4*8,f++}return o.create(d,f)}}(),n.enc.Base64url})}(KI)),KI.exports}var XI={exports:{}},qlt=XI.exports,xse;function Zv(){return xse||(xse=1,function(e,t){(function(n,r){e.exports=r(cr())})(qlt,function(n){return function(r){var i=n,o=i.lib,s=o.WordArray,a=o.Hasher,l=i.algo,u=[];(function(){for(var m=0;m<64;m++)u[m]=r.abs(r.sin(m+1))*4294967296|0})();var c=l.MD5=a.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(m,g){for(var y=0;y<16;y++){var v=g+y,w=m[v];m[v]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360}var E=this._hash.words,_=m[g+0],x=m[g+1],S=m[g+2],C=m[g+3],A=m[g+4],k=m[g+5],N=m[g+6],M=m[g+7],I=m[g+8],D=m[g+9],R=m[g+10],O=m[g+11],B=m[g+12],z=m[g+13],W=m[g+14],U=m[g+15],F=E[0],Y=E[1],V=E[2],G=E[3];F=d(F,Y,V,G,_,7,u[0]),G=d(G,F,Y,V,x,12,u[1]),V=d(V,G,F,Y,S,17,u[2]),Y=d(Y,V,G,F,C,22,u[3]),F=d(F,Y,V,G,A,7,u[4]),G=d(G,F,Y,V,k,12,u[5]),V=d(V,G,F,Y,N,17,u[6]),Y=d(Y,V,G,F,M,22,u[7]),F=d(F,Y,V,G,I,7,u[8]),G=d(G,F,Y,V,D,12,u[9]),V=d(V,G,F,Y,R,17,u[10]),Y=d(Y,V,G,F,O,22,u[11]),F=d(F,Y,V,G,B,7,u[12]),G=d(G,F,Y,V,z,12,u[13]),V=d(V,G,F,Y,W,17,u[14]),Y=d(Y,V,G,F,U,22,u[15]),F=f(F,Y,V,G,x,5,u[16]),G=f(G,F,Y,V,N,9,u[17]),V=f(V,G,F,Y,O,14,u[18]),Y=f(Y,V,G,F,_,20,u[19]),F=f(F,Y,V,G,k,5,u[20]),G=f(G,F,Y,V,R,9,u[21]),V=f(V,G,F,Y,U,14,u[22]),Y=f(Y,V,G,F,A,20,u[23]),F=f(F,Y,V,G,D,5,u[24]),G=f(G,F,Y,V,W,9,u[25]),V=f(V,G,F,Y,C,14,u[26]),Y=f(Y,V,G,F,I,20,u[27]),F=f(F,Y,V,G,z,5,u[28]),G=f(G,F,Y,V,S,9,u[29]),V=f(V,G,F,Y,M,14,u[30]),Y=f(Y,V,G,F,B,20,u[31]),F=h(F,Y,V,G,k,4,u[32]),G=h(G,F,Y,V,I,11,u[33]),V=h(V,G,F,Y,O,16,u[34]),Y=h(Y,V,G,F,W,23,u[35]),F=h(F,Y,V,G,x,4,u[36]),G=h(G,F,Y,V,A,11,u[37]),V=h(V,G,F,Y,M,16,u[38]),Y=h(Y,V,G,F,R,23,u[39]),F=h(F,Y,V,G,z,4,u[40]),G=h(G,F,Y,V,_,11,u[41]),V=h(V,G,F,Y,C,16,u[42]),Y=h(Y,V,G,F,N,23,u[43]),F=h(F,Y,V,G,D,4,u[44]),G=h(G,F,Y,V,B,11,u[45]),V=h(V,G,F,Y,U,16,u[46]),Y=h(Y,V,G,F,S,23,u[47]),F=p(F,Y,V,G,_,6,u[48]),G=p(G,F,Y,V,M,10,u[49]),V=p(V,G,F,Y,W,15,u[50]),Y=p(Y,V,G,F,k,21,u[51]),F=p(F,Y,V,G,B,6,u[52]),G=p(G,F,Y,V,C,10,u[53]),V=p(V,G,F,Y,R,15,u[54]),Y=p(Y,V,G,F,x,21,u[55]),F=p(F,Y,V,G,I,6,u[56]),G=p(G,F,Y,V,U,10,u[57]),V=p(V,G,F,Y,N,15,u[58]),Y=p(Y,V,G,F,z,21,u[59]),F=p(F,Y,V,G,A,6,u[60]),G=p(G,F,Y,V,O,10,u[61]),V=p(V,G,F,Y,S,15,u[62]),Y=p(Y,V,G,F,D,21,u[63]),E[0]=E[0]+F|0,E[1]=E[1]+Y|0,E[2]=E[2]+V|0,E[3]=E[3]+G|0},_doFinalize:function(){var m=this._data,g=m.words,y=this._nDataBytes*8,v=m.sigBytes*8;g[v>>>5]|=128<<24-v%32;var w=r.floor(y/4294967296),E=y;g[(v+64>>>9<<4)+15]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,g[(v+64>>>9<<4)+14]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,m.sigBytes=(g.length+1)*4,this._process();for(var _=this._hash,x=_.words,S=0;S<4;S++){var C=x[S];x[S]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360}return _},clone:function(){var m=a.clone.call(this);return m._hash=this._hash.clone(),m}});function d(m,g,y,v,w,E,_){var x=m+(g&y|~g&v)+w+_;return(x<<E|x>>>32-E)+g}function f(m,g,y,v,w,E,_){var x=m+(g&v|y&~v)+w+_;return(x<<E|x>>>32-E)+g}function h(m,g,y,v,w,E,_){var x=m+(g^y^v)+w+_;return(x<<E|x>>>32-E)+g}function p(m,g,y,v,w,E,_){var x=m+(y^(g|~v))+w+_;return(x<<E|x>>>32-E)+g}i.MD5=a._createHelper(c),i.HmacMD5=a._createHmacHelper(c)}(Math),n.MD5})}(XI)),XI.exports}var QI={exports:{}},Glt=QI.exports,_se;function h_e(){return _se||(_se=1,function(e,t){(function(n,r){e.exports=r(cr())})(Glt,function(n){return function(){var r=n,i=r.lib,o=i.WordArray,s=i.Hasher,a=r.algo,l=[],u=a.SHA1=s.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(c,d){for(var f=this._hash.words,h=f[0],p=f[1],m=f[2],g=f[3],y=f[4],v=0;v<80;v++){if(v<16)l[v]=c[d+v]|0;else{var w=l[v-3]^l[v-8]^l[v-14]^l[v-16];l[v]=w<<1|w>>>31}var E=(h<<5|h>>>27)+y+l[v];v<20?E+=(p&m|~p&g)+1518500249:v<40?E+=(p^m^g)+1859775393:v<60?E+=(p&m|p&g|m&g)-1894007588:E+=(p^m^g)-899497514,y=g,g=m,m=p<<30|p>>>2,p=h,h=E}f[0]=f[0]+h|0,f[1]=f[1]+p|0,f[2]=f[2]+m|0,f[3]=f[3]+g|0,f[4]=f[4]+y|0},_doFinalize:function(){var c=this._data,d=c.words,f=this._nDataBytes*8,h=c.sigBytes*8;return d[h>>>5]|=128<<24-h%32,d[(h+64>>>9<<4)+14]=Math.floor(f/4294967296),d[(h+64>>>9<<4)+15]=f,c.sigBytes=d.length*4,this._process(),this._hash},clone:function(){var c=s.clone.call(this);return c._hash=this._hash.clone(),c}});r.SHA1=s._createHelper(u),r.HmacSHA1=s._createHmacHelper(u)}(),n.SHA1})}(QI)),QI.exports}var JI={exports:{}},Ylt=JI.exports,Ese;function aq(){return Ese||(Ese=1,function(e,t){(function(n,r){e.exports=r(cr())})(Ylt,function(n){return function(r){var i=n,o=i.lib,s=o.WordArray,a=o.Hasher,l=i.algo,u=[],c=[];(function(){function h(y){for(var v=r.sqrt(y),w=2;w<=v;w++)if(!(y%w))return!1;return!0}function p(y){return(y-(y|0))*4294967296|0}for(var m=2,g=0;g<64;)h(m)&&(g<8&&(u[g]=p(r.pow(m,1/2))),c[g]=p(r.pow(m,1/3)),g++),m++})();var d=[],f=l.SHA256=a.extend({_doReset:function(){this._hash=new s.init(u.slice(0))},_doProcessBlock:function(h,p){for(var m=this._hash.words,g=m[0],y=m[1],v=m[2],w=m[3],E=m[4],_=m[5],x=m[6],S=m[7],C=0;C<64;C++){if(C<16)d[C]=h[p+C]|0;else{var A=d[C-15],k=(A<<25|A>>>7)^(A<<14|A>>>18)^A>>>3,N=d[C-2],M=(N<<15|N>>>17)^(N<<13|N>>>19)^N>>>10;d[C]=k+d[C-7]+M+d[C-16]}var I=E&_^~E&x,D=g&y^g&v^y&v,R=(g<<30|g>>>2)^(g<<19|g>>>13)^(g<<10|g>>>22),O=(E<<26|E>>>6)^(E<<21|E>>>11)^(E<<7|E>>>25),B=S+O+I+c[C]+d[C],z=R+D;S=x,x=_,_=E,E=w+B|0,w=v,v=y,y=g,g=B+z|0}m[0]=m[0]+g|0,m[1]=m[1]+y|0,m[2]=m[2]+v|0,m[3]=m[3]+w|0,m[4]=m[4]+E|0,m[5]=m[5]+_|0,m[6]=m[6]+x|0,m[7]=m[7]+S|0},_doFinalize:function(){var h=this._data,p=h.words,m=this._nDataBytes*8,g=h.sigBytes*8;return p[g>>>5]|=128<<24-g%32,p[(g+64>>>9<<4)+14]=r.floor(m/4294967296),p[(g+64>>>9<<4)+15]=m,h.sigBytes=p.length*4,this._process(),this._hash},clone:function(){var h=a.clone.call(this);return h._hash=this._hash.clone(),h}});i.SHA256=a._createHelper(f),i.HmacSHA256=a._createHmacHelper(f)}(Math),n.SHA256})}(JI)),JI.exports}var ZI={exports:{}},Klt=ZI.exports,Sse;function Xlt(){return Sse||(Sse=1,function(e,t){(function(n,r,i){e.exports=r(cr(),aq())})(Klt,function(n){return function(){var r=n,i=r.lib,o=i.WordArray,s=r.algo,a=s.SHA256,l=s.SHA224=a.extend({_doReset:function(){this._hash=new o.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var u=a._doFinalize.call(this);return u.sigBytes-=4,u}});r.SHA224=a._createHelper(l),r.HmacSHA224=a._createHmacHelper(l)}(),n.SHA224})}(ZI)),ZI.exports}var eR={exports:{}},Qlt=eR.exports,Tse;function p_e(){return Tse||(Tse=1,function(e,t){(function(n,r,i){e.exports=r(cr(),bN())})(Qlt,function(n){return function(){var r=n,i=r.lib,o=i.Hasher,s=r.x64,a=s.Word,l=s.WordArray,u=r.algo;function c(){return a.create.apply(a,arguments)}var d=[c(1116352408,3609767458),c(1899447441,602891725),c(3049323471,3964484399),c(3921009573,2173295548),c(961987163,4081628472),c(1508970993,3053834265),c(2453635748,2937671579),c(2870763221,3664609560),c(3624381080,2734883394),c(310598401,1164996542),c(607225278,1323610764),c(1426881987,3590304994),c(1925078388,4068182383),c(2162078206,991336113),c(2614888103,633803317),c(3248222580,3479774868),c(3835390401,2666613458),c(4022224774,944711139),c(264347078,2341262773),c(604807628,2007800933),c(770255983,1495990901),c(1249150122,1856431235),c(1555081692,3175218132),c(1996064986,2198950837),c(2554220882,3999719339),c(2821834349,766784016),c(2952996808,2566594879),c(3210313671,3203337956),c(3336571891,1034457026),c(3584528711,2466948901),c(113926993,3758326383),c(338241895,168717936),c(666307205,1188179964),c(773529912,1546045734),c(1294757372,1522805485),c(1396182291,2643833823),c(1695183700,2343527390),c(1986661051,1014477480),c(2177026350,1206759142),c(2456956037,344077627),c(2730485921,1290863460),c(2820302411,3158454273),c(3259730800,3505952657),c(3345764771,106217008),c(3516065817,3606008344),c(3600352804,1432725776),c(4094571909,1467031594),c(275423344,851169720),c(430227734,3100823752),c(506948616,1363258195),c(659060556,3750685593),c(883997877,3785050280),c(958139571,3318307427),c(1322822218,3812723403),c(1537002063,2003034995),c(1747873779,3602036899),c(1955562222,1575990012),c(2024104815,1125592928),c(2227730452,2716904306),c(2361852424,442776044),c(2428436474,593698344),c(2756734187,3733110249),c(3204031479,2999351573),c(3329325298,3815920427),c(3391569614,3928383900),c(3515267271,566280711),c(3940187606,3454069534),c(4118630271,4000239992),c(116418474,1914138554),c(174292421,2731055270),c(289380356,3203993006),c(460393269,320620315),c(685471733,587496836),c(852142971,1086792851),c(1017036298,365543100),c(1126000580,2618297676),c(1288033470,3409855158),c(1501505948,4234509866),c(1607167915,987167468),c(1816402316,1246189591)],f=[];(function(){for(var p=0;p<80;p++)f[p]=c()})();var h=u.SHA512=o.extend({_doReset:function(){this._hash=new l.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},_doProcessBlock:function(p,m){for(var g=this._hash.words,y=g[0],v=g[1],w=g[2],E=g[3],_=g[4],x=g[5],S=g[6],C=g[7],A=y.high,k=y.low,N=v.high,M=v.low,I=w.high,D=w.low,R=E.high,O=E.low,B=_.high,z=_.low,W=x.high,U=x.low,F=S.high,Y=S.low,V=C.high,G=C.low,X=A,Z=k,oe=N,ne=M,ie=I,fe=D,se=R,ae=O,Se=B,Te=z,Oe=W,We=U,Fe=F,Ue=Y,rt=V,at=G,ct=0;ct<80;ct++){var vt,gt,Ze=f[ct];if(ct<16)gt=Ze.high=p[m+ct*2]|0,vt=Ze.low=p[m+ct*2+1]|0;else{var Tt=f[ct-15],ue=Tt.high,xe=Tt.low,$e=(ue>>>1|xe<<31)^(ue>>>8|xe<<24)^ue>>>7,Ye=(xe>>>1|ue<<31)^(xe>>>8|ue<<24)^(xe>>>7|ue<<25),tt=f[ct-2],Et=tt.high,an=tt.low,ln=(Et>>>19|an<<13)^(Et<<3|an>>>29)^Et>>>6,Wt=(an>>>19|Et<<13)^(an<<3|Et>>>29)^(an>>>6|Et<<26),Dt=f[ct-7],Ae=Dt.high,Qe=Dt.low,Ct=f[ct-16],xn=Ct.high,gr=Ct.low;vt=Ye+Qe,gt=$e+Ae+(vt>>>0<Ye>>>0?1:0),vt=vt+Wt,gt=gt+ln+(vt>>>0<Wt>>>0?1:0),vt=vt+gr,gt=gt+xn+(vt>>>0<gr>>>0?1:0),Ze.high=gt,Ze.low=vt}var dr=Se&Oe^~Se&Fe,ii=Te&We^~Te&Ue,Rr=X&oe^X&ie^oe&ie,er=Z&ne^Z&fe^ne&fe,Es=(X>>>28|Z<<4)^(X<<30|Z>>>2)^(X<<25|Z>>>7),Do=(Z>>>28|X<<4)^(Z<<30|X>>>2)^(Z<<25|X>>>7),Ss=(Se>>>14|Te<<18)^(Se>>>18|Te<<14)^(Se<<23|Te>>>9),$i=(Te>>>14|Se<<18)^(Te>>>18|Se<<14)^(Te<<23|Se>>>9),Un=d[ct],or=Un.high,$o=Un.low,yr=at+$i,Jr=rt+Ss+(yr>>>0<at>>>0?1:0),yr=yr+ii,Jr=Jr+dr+(yr>>>0<ii>>>0?1:0),yr=yr+$o,Jr=Jr+or+(yr>>>0<$o>>>0?1:0),yr=yr+vt,Jr=Jr+gt+(yr>>>0<vt>>>0?1:0),Ui=Do+er,Ei=Es+Rr+(Ui>>>0<Do>>>0?1:0);rt=Fe,at=Ue,Fe=Oe,Ue=We,Oe=Se,We=Te,Te=ae+yr|0,Se=se+Jr+(Te>>>0<ae>>>0?1:0)|0,se=ie,ae=fe,ie=oe,fe=ne,oe=X,ne=Z,Z=yr+Ui|0,X=Jr+Ei+(Z>>>0<yr>>>0?1:0)|0}k=y.low=k+Z,y.high=A+X+(k>>>0<Z>>>0?1:0),M=v.low=M+ne,v.high=N+oe+(M>>>0<ne>>>0?1:0),D=w.low=D+fe,w.high=I+ie+(D>>>0<fe>>>0?1:0),O=E.low=O+ae,E.high=R+se+(O>>>0<ae>>>0?1:0),z=_.low=z+Te,_.high=B+Se+(z>>>0<Te>>>0?1:0),U=x.low=U+We,x.high=W+Oe+(U>>>0<We>>>0?1:0),Y=S.low=Y+Ue,S.high=F+Fe+(Y>>>0<Ue>>>0?1:0),G=C.low=G+at,C.high=V+rt+(G>>>0<at>>>0?1:0)},_doFinalize:function(){var p=this._data,m=p.words,g=this._nDataBytes*8,y=p.sigBytes*8;m[y>>>5]|=128<<24-y%32,m[(y+128>>>10<<5)+30]=Math.floor(g/4294967296),m[(y+128>>>10<<5)+31]=g,p.sigBytes=m.length*4,this._process();var v=this._hash.toX32();return v},clone:function(){var p=o.clone.call(this);return p._hash=this._hash.clone(),p},blockSize:1024/32});r.SHA512=o._createHelper(h),r.HmacSHA512=o._createHmacHelper(h)}(),n.SHA512})}(eR)),eR.exports}var tR={exports:{}},Jlt=tR.exports,Cse;function Zlt(){return Cse||(Cse=1,function(e,t){(function(n,r,i){e.exports=r(cr(),bN(),p_e())})(Jlt,function(n){return function(){var r=n,i=r.x64,o=i.Word,s=i.WordArray,a=r.algo,l=a.SHA512,u=a.SHA384=l.extend({_doReset:function(){this._hash=new s.init([new o.init(3418070365,3238371032),new o.init(1654270250,914150663),new o.init(2438529370,812702999),new o.init(355462360,4144912697),new o.init(1731405415,4290775857),new o.init(2394180231,1750603025),new o.init(3675008525,1694076839),new o.init(1203062813,3204075428)])},_doFinalize:function(){var c=l._doFinalize.call(this);return c.sigBytes-=16,c}});r.SHA384=l._createHelper(u),r.HmacSHA384=l._createHmacHelper(u)}(),n.SHA384})}(tR)),tR.exports}var nR={exports:{}},eut=nR.exports,Ase;function tut(){return Ase||(Ase=1,function(e,t){(function(n,r,i){e.exports=r(cr(),bN())})(eut,function(n){return function(r){var i=n,o=i.lib,s=o.WordArray,a=o.Hasher,l=i.x64,u=l.Word,c=i.algo,d=[],f=[],h=[];(function(){for(var g=1,y=0,v=0;v<24;v++){d[g+5*y]=(v+1)*(v+2)/2%64;var w=y%5,E=(2*g+3*y)%5;g=w,y=E}for(var g=0;g<5;g++)for(var y=0;y<5;y++)f[g+5*y]=y+(2*g+3*y)%5*5;for(var _=1,x=0;x<24;x++){for(var S=0,C=0,A=0;A<7;A++){if(_&1){var k=(1<<A)-1;k<32?C^=1<<k:S^=1<<k-32}_&128?_=_<<1^113:_<<=1}h[x]=u.create(S,C)}})();var p=[];(function(){for(var g=0;g<25;g++)p[g]=u.create()})();var m=c.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var g=this._state=[],y=0;y<25;y++)g[y]=new u.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(g,y){for(var v=this._state,w=this.blockSize/2,E=0;E<w;E++){var _=g[y+2*E],x=g[y+2*E+1];_=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,x=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360;var S=v[E];S.high^=x,S.low^=_}for(var C=0;C<24;C++){for(var A=0;A<5;A++){for(var k=0,N=0,M=0;M<5;M++){var S=v[A+5*M];k^=S.high,N^=S.low}var I=p[A];I.high=k,I.low=N}for(var A=0;A<5;A++)for(var D=p[(A+4)%5],R=p[(A+1)%5],O=R.high,B=R.low,k=D.high^(O<<1|B>>>31),N=D.low^(B<<1|O>>>31),M=0;M<5;M++){var S=v[A+5*M];S.high^=k,S.low^=N}for(var z=1;z<25;z++){var k,N,S=v[z],W=S.high,U=S.low,F=d[z];F<32?(k=W<<F|U>>>32-F,N=U<<F|W>>>32-F):(k=U<<F-32|W>>>64-F,N=W<<F-32|U>>>64-F);var Y=p[f[z]];Y.high=k,Y.low=N}var V=p[0],G=v[0];V.high=G.high,V.low=G.low;for(var A=0;A<5;A++)for(var M=0;M<5;M++){var z=A+5*M,S=v[z],X=p[z],Z=p[(A+1)%5+5*M],oe=p[(A+2)%5+5*M];S.high=X.high^~Z.high&oe.high,S.low=X.low^~Z.low&oe.low}var S=v[0],ne=h[C];S.high^=ne.high,S.low^=ne.low}},_doFinalize:function(){var g=this._data,y=g.words;this._nDataBytes*8;var v=g.sigBytes*8,w=this.blockSize*32;y[v>>>5]|=1<<24-v%32,y[(r.ceil((v+1)/w)*w>>>5)-1]|=128,g.sigBytes=y.length*4,this._process();for(var E=this._state,_=this.cfg.outputLength/8,x=_/8,S=[],C=0;C<x;C++){var A=E[C],k=A.high,N=A.low;k=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,N=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360,S.push(N),S.push(k)}return new s.init(S,_)},clone:function(){for(var g=a.clone.call(this),y=g._state=this._state.slice(0),v=0;v<25;v++)y[v]=y[v].clone();return g}});i.SHA3=a._createHelper(m),i.HmacSHA3=a._createHmacHelper(m)}(Math),n.SHA3})}(nR)),nR.exports}var rR={exports:{}},nut=rR.exports,kse;function rut(){return kse||(kse=1,function(e,t){(function(n,r){e.exports=r(cr())})(nut,function(n){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(r){var i=n,o=i.lib,s=o.WordArray,a=o.Hasher,l=i.algo,u=s.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=s.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),d=s.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),f=s.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),h=s.create([0,1518500249,1859775393,2400959708,2840853838]),p=s.create([1352829926,1548603684,1836072691,2053994217,0]),m=l.RIPEMD160=a.extend({_doReset:function(){this._hash=s.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(x,S){for(var C=0;C<16;C++){var A=S+C,k=x[A];x[A]=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360}var N=this._hash.words,M=h.words,I=p.words,D=u.words,R=c.words,O=d.words,B=f.words,z,W,U,F,Y,V,G,X,Z,oe;V=z=N[0],G=W=N[1],X=U=N[2],Z=F=N[3],oe=Y=N[4];for(var ne,C=0;C<80;C+=1)ne=z+x[S+D[C]]|0,C<16?ne+=g(W,U,F)+M[0]:C<32?ne+=y(W,U,F)+M[1]:C<48?ne+=v(W,U,F)+M[2]:C<64?ne+=w(W,U,F)+M[3]:ne+=E(W,U,F)+M[4],ne=ne|0,ne=_(ne,O[C]),ne=ne+Y|0,z=Y,Y=F,F=_(U,10),U=W,W=ne,ne=V+x[S+R[C]]|0,C<16?ne+=E(G,X,Z)+I[0]:C<32?ne+=w(G,X,Z)+I[1]:C<48?ne+=v(G,X,Z)+I[2]:C<64?ne+=y(G,X,Z)+I[3]:ne+=g(G,X,Z)+I[4],ne=ne|0,ne=_(ne,B[C]),ne=ne+oe|0,V=oe,oe=Z,Z=_(X,10),X=G,G=ne;ne=N[1]+U+Z|0,N[1]=N[2]+F+oe|0,N[2]=N[3]+Y+V|0,N[3]=N[4]+z+G|0,N[4]=N[0]+W+X|0,N[0]=ne},_doFinalize:function(){var x=this._data,S=x.words,C=this._nDataBytes*8,A=x.sigBytes*8;S[A>>>5]|=128<<24-A%32,S[(A+64>>>9<<4)+14]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,x.sigBytes=(S.length+1)*4,this._process();for(var k=this._hash,N=k.words,M=0;M<5;M++){var I=N[M];N[M]=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360}return k},clone:function(){var x=a.clone.call(this);return x._hash=this._hash.clone(),x}});function g(x,S,C){return x^S^C}function y(x,S,C){return x&S|~x&C}function v(x,S,C){return(x|~S)^C}function w(x,S,C){return x&C|S&~C}function E(x,S,C){return x^(S|~C)}function _(x,S){return x<<S|x>>>32-S}i.RIPEMD160=a._createHelper(m),i.HmacRIPEMD160=a._createHmacHelper(m)}(),n.RIPEMD160})}(rR)),rR.exports}var iR={exports:{}},iut=iR.exports,Ise;function lq(){return Ise||(Ise=1,function(e,t){(function(n,r){e.exports=r(cr())})(iut,function(n){(function(){var r=n,i=r.lib,o=i.Base,s=r.enc,a=s.Utf8,l=r.algo;l.HMAC=o.extend({init:function(u,c){u=this._hasher=new u.init,typeof c=="string"&&(c=a.parse(c));var d=u.blockSize,f=d*4;c.sigBytes>f&&(c=u.finalize(c)),c.clamp();for(var h=this._oKey=c.clone(),p=this._iKey=c.clone(),m=h.words,g=p.words,y=0;y<d;y++)m[y]^=1549556828,g[y]^=909522486;h.sigBytes=p.sigBytes=f,this.reset()},reset:function(){var u=this._hasher;u.reset(),u.update(this._iKey)},update:function(u){return this._hasher.update(u),this},finalize:function(u){var c=this._hasher,d=c.finalize(u);c.reset();var f=c.finalize(this._oKey.clone().concat(d));return f}})})()})}(iR)),iR.exports}var oR={exports:{}},out=oR.exports,Rse;function sut(){return Rse||(Rse=1,function(e,t){(function(n,r,i){e.exports=r(cr(),aq(),lq())})(out,function(n){return function(){var r=n,i=r.lib,o=i.Base,s=i.WordArray,a=r.algo,l=a.SHA256,u=a.HMAC,c=a.PBKDF2=o.extend({cfg:o.extend({keySize:128/32,hasher:l,iterations:25e4}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(d,f){for(var h=this.cfg,p=u.create(h.hasher,d),m=s.create(),g=s.create([1]),y=m.words,v=g.words,w=h.keySize,E=h.iterations;y.length<w;){var _=p.update(f).finalize(g);p.reset();for(var x=_.words,S=x.length,C=_,A=1;A<E;A++){C=p.finalize(C),p.reset();for(var k=C.words,N=0;N<S;N++)x[N]^=k[N]}m.concat(_),v[0]++}return m.sigBytes=w*4,m}});r.PBKDF2=function(d,f,h){return c.create(h).compute(d,f)}}(),n.PBKDF2})}(oR)),oR.exports}var sR={exports:{}},aut=sR.exports,Dse;function c0(){return Dse||(Dse=1,function(e,t){(function(n,r,i){e.exports=r(cr(),h_e(),lq())})(aut,function(n){return function(){var r=n,i=r.lib,o=i.Base,s=i.WordArray,a=r.algo,l=a.MD5,u=a.EvpKDF=o.extend({cfg:o.extend({keySize:128/32,hasher:l,iterations:1}),init:function(c){this.cfg=this.cfg.extend(c)},compute:function(c,d){for(var f,h=this.cfg,p=h.hasher.create(),m=s.create(),g=m.words,y=h.keySize,v=h.iterations;g.length<y;){f&&p.update(f),f=p.update(c).finalize(d),p.reset();for(var w=1;w<v;w++)f=p.finalize(f),p.reset();m.concat(f)}return m.sigBytes=y*4,m}});r.EvpKDF=function(c,d,f){return u.create(f).compute(c,d)}}(),n.EvpKDF})}(sR)),sR.exports}var aR={exports:{}},lut=aR.exports,$se;function ws(){return $se||($se=1,function(e,t){(function(n,r,i){e.exports=r(cr(),c0())})(lut,function(n){n.lib.Cipher||function(r){var i=n,o=i.lib,s=o.Base,a=o.WordArray,l=o.BufferedBlockAlgorithm,u=i.enc;u.Utf8;var c=u.Base64,d=i.algo,f=d.EvpKDF,h=o.Cipher=l.extend({cfg:s.extend(),createEncryptor:function(k,N){return this.create(this._ENC_XFORM_MODE,k,N)},createDecryptor:function(k,N){return this.create(this._DEC_XFORM_MODE,k,N)},init:function(k,N,M){this.cfg=this.cfg.extend(M),this._xformMode=k,this._key=N,this.reset()},reset:function(){l.reset.call(this),this._doReset()},process:function(k){return this._append(k),this._process()},finalize:function(k){k&&this._append(k);var N=this._doFinalize();return N},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function k(N){return typeof N=="string"?A:x}return function(N){return{encrypt:function(M,I,D){return k(I).encrypt(N,M,I,D)},decrypt:function(M,I,D){return k(I).decrypt(N,M,I,D)}}}}()});o.StreamCipher=h.extend({_doFinalize:function(){var k=this._process(!0);return k},blockSize:1});var p=i.mode={},m=o.BlockCipherMode=s.extend({createEncryptor:function(k,N){return this.Encryptor.create(k,N)},createDecryptor:function(k,N){return this.Decryptor.create(k,N)},init:function(k,N){this._cipher=k,this._iv=N}}),g=p.CBC=function(){var k=m.extend();k.Encryptor=k.extend({processBlock:function(M,I){var D=this._cipher,R=D.blockSize;N.call(this,M,I,R),D.encryptBlock(M,I),this._prevBlock=M.slice(I,I+R)}}),k.Decryptor=k.extend({processBlock:function(M,I){var D=this._cipher,R=D.blockSize,O=M.slice(I,I+R);D.decryptBlock(M,I),N.call(this,M,I,R),this._prevBlock=O}});function N(M,I,D){var R,O=this._iv;O?(R=O,this._iv=r):R=this._prevBlock;for(var B=0;B<D;B++)M[I+B]^=R[B]}return k}(),y=i.pad={},v=y.Pkcs7={pad:function(k,N){for(var M=N*4,I=M-k.sigBytes%M,D=I<<24|I<<16|I<<8|I,R=[],O=0;O<I;O+=4)R.push(D);var B=a.create(R,I);k.concat(B)},unpad:function(k){var N=k.words[k.sigBytes-1>>>2]&255;k.sigBytes-=N}};o.BlockCipher=h.extend({cfg:h.cfg.extend({mode:g,padding:v}),reset:function(){var k;h.reset.call(this);var N=this.cfg,M=N.iv,I=N.mode;this._xformMode==this._ENC_XFORM_MODE?k=I.createEncryptor:(k=I.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==k?this._mode.init(this,M&&M.words):(this._mode=k.call(I,this,M&&M.words),this._mode.__creator=k)},_doProcessBlock:function(k,N){this._mode.processBlock(k,N)},_doFinalize:function(){var k,N=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(N.pad(this._data,this.blockSize),k=this._process(!0)):(k=this._process(!0),N.unpad(k)),k},blockSize:128/32});var w=o.CipherParams=s.extend({init:function(k){this.mixIn(k)},toString:function(k){return(k||this.formatter).stringify(this)}}),E=i.format={},_=E.OpenSSL={stringify:function(k){var N,M=k.ciphertext,I=k.salt;return I?N=a.create([1398893684,1701076831]).concat(I).concat(M):N=M,N.toString(c)},parse:function(k){var N,M=c.parse(k),I=M.words;return I[0]==1398893684&&I[1]==1701076831&&(N=a.create(I.slice(2,4)),I.splice(0,4),M.sigBytes-=16),w.create({ciphertext:M,salt:N})}},x=o.SerializableCipher=s.extend({cfg:s.extend({format:_}),encrypt:function(k,N,M,I){I=this.cfg.extend(I);var D=k.createEncryptor(M,I),R=D.finalize(N),O=D.cfg;return w.create({ciphertext:R,key:M,iv:O.iv,algorithm:k,mode:O.mode,padding:O.padding,blockSize:k.blockSize,formatter:I.format})},decrypt:function(k,N,M,I){I=this.cfg.extend(I),N=this._parse(N,I.format);var D=k.createDecryptor(M,I).finalize(N.ciphertext);return D},_parse:function(k,N){return typeof k=="string"?N.parse(k,this):k}}),S=i.kdf={},C=S.OpenSSL={execute:function(k,N,M,I,D){if(I||(I=a.random(64/8)),D)var R=f.create({keySize:N+M,hasher:D}).compute(k,I);else var R=f.create({keySize:N+M}).compute(k,I);var O=a.create(R.words.slice(N),M*4);return R.sigBytes=N*4,w.create({key:R,iv:O,salt:I})}},A=o.PasswordBasedCipher=x.extend({cfg:x.cfg.extend({kdf:C}),encrypt:function(k,N,M,I){I=this.cfg.extend(I);var D=I.kdf.execute(M,k.keySize,k.ivSize,I.salt,I.hasher);I.iv=D.iv;var R=x.encrypt.call(this,k,N,D.key,I);return R.mixIn(D),R},decrypt:function(k,N,M,I){I=this.cfg.extend(I),N=this._parse(N,I.format);var D=I.kdf.execute(M,k.keySize,k.ivSize,N.salt,I.hasher);I.iv=D.iv;var R=x.decrypt.call(this,k,N,D.key,I);return R}})}()})}(aR)),aR.exports}var lR={exports:{}},uut=lR.exports,Mse;function cut(){return Mse||(Mse=1,function(e,t){(function(n,r,i){e.exports=r(cr(),ws())})(uut,function(n){return n.mode.CFB=function(){var r=n.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(o,s){var a=this._cipher,l=a.blockSize;i.call(this,o,s,l,a),this._prevBlock=o.slice(s,s+l)}}),r.Decryptor=r.extend({processBlock:function(o,s){var a=this._cipher,l=a.blockSize,u=o.slice(s,s+l);i.call(this,o,s,l,a),this._prevBlock=u}});function i(o,s,a,l){var u,c=this._iv;c?(u=c.slice(0),this._iv=void 0):u=this._prevBlock,l.encryptBlock(u,0);for(var d=0;d<a;d++)o[s+d]^=u[d]}return r}(),n.mode.CFB})}(lR)),lR.exports}var uR={exports:{}},dut=uR.exports,Pse;function fut(){return Pse||(Pse=1,function(e,t){(function(n,r,i){e.exports=r(cr(),ws())})(dut,function(n){return n.mode.CTR=function(){var r=n.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(o,s){var a=this._cipher,l=a.blockSize,u=this._iv,c=this._counter;u&&(c=this._counter=u.slice(0),this._iv=void 0);var d=c.slice(0);a.encryptBlock(d,0),c[l-1]=c[l-1]+1|0;for(var f=0;f<l;f++)o[s+f]^=d[f]}});return r.Decryptor=i,r}(),n.mode.CTR})}(uR)),uR.exports}var cR={exports:{}},hut=cR.exports,Nse;function put(){return Nse||(Nse=1,function(e,t){(function(n,r,i){e.exports=r(cr(),ws())})(hut,function(n){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return n.mode.CTRGladman=function(){var r=n.lib.BlockCipherMode.extend();function i(a){if((a>>24&255)===255){var l=a>>16&255,u=a>>8&255,c=a&255;l===255?(l=0,u===255?(u=0,c===255?c=0:++c):++u):++l,a=0,a+=l<<16,a+=u<<8,a+=c}else a+=1<<24;return a}function o(a){return(a[0]=i(a[0]))===0&&(a[1]=i(a[1])),a}var s=r.Encryptor=r.extend({processBlock:function(a,l){var u=this._cipher,c=u.blockSize,d=this._iv,f=this._counter;d&&(f=this._counter=d.slice(0),this._iv=void 0),o(f);var h=f.slice(0);u.encryptBlock(h,0);for(var p=0;p<c;p++)a[l+p]^=h[p]}});return r.Decryptor=s,r}(),n.mode.CTRGladman})}(cR)),cR.exports}var dR={exports:{}},mut=dR.exports,Ose;function gut(){return Ose||(Ose=1,function(e,t){(function(n,r,i){e.exports=r(cr(),ws())})(mut,function(n){return n.mode.OFB=function(){var r=n.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(o,s){var a=this._cipher,l=a.blockSize,u=this._iv,c=this._keystream;u&&(c=this._keystream=u.slice(0),this._iv=void 0),a.encryptBlock(c,0);for(var d=0;d<l;d++)o[s+d]^=c[d]}});return r.Decryptor=i,r}(),n.mode.OFB})}(dR)),dR.exports}var fR={exports:{}},yut=fR.exports,Lse;function vut(){return Lse||(Lse=1,function(e,t){(function(n,r,i){e.exports=r(cr(),ws())})(yut,function(n){return n.mode.ECB=function(){var r=n.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(i,o){this._cipher.encryptBlock(i,o)}}),r.Decryptor=r.extend({processBlock:function(i,o){this._cipher.decryptBlock(i,o)}}),r}(),n.mode.ECB})}(fR)),fR.exports}var hR={exports:{}},but=hR.exports,Fse;function wut(){return Fse||(Fse=1,function(e,t){(function(n,r,i){e.exports=r(cr(),ws())})(but,function(n){return n.pad.AnsiX923={pad:function(r,i){var o=r.sigBytes,s=i*4,a=s-o%s,l=o+a-1;r.clamp(),r.words[l>>>2]|=a<<24-l%4*8,r.sigBytes+=a},unpad:function(r){var i=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=i}},n.pad.Ansix923})}(hR)),hR.exports}var pR={exports:{}},xut=pR.exports,Bse;function _ut(){return Bse||(Bse=1,function(e,t){(function(n,r,i){e.exports=r(cr(),ws())})(xut,function(n){return n.pad.Iso10126={pad:function(r,i){var o=i*4,s=o-r.sigBytes%o;r.concat(n.lib.WordArray.random(s-1)).concat(n.lib.WordArray.create([s<<24],1))},unpad:function(r){var i=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=i}},n.pad.Iso10126})}(pR)),pR.exports}var mR={exports:{}},Eut=mR.exports,jse;function Sut(){return jse||(jse=1,function(e,t){(function(n,r,i){e.exports=r(cr(),ws())})(Eut,function(n){return n.pad.Iso97971={pad:function(r,i){r.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(r,i)},unpad:function(r){n.pad.ZeroPadding.unpad(r),r.sigBytes--}},n.pad.Iso97971})}(mR)),mR.exports}var gR={exports:{}},Tut=gR.exports,zse;function Cut(){return zse||(zse=1,function(e,t){(function(n,r,i){e.exports=r(cr(),ws())})(Tut,function(n){return n.pad.ZeroPadding={pad:function(r,i){var o=i*4;r.clamp(),r.sigBytes+=o-(r.sigBytes%o||o)},unpad:function(r){for(var i=r.words,o=r.sigBytes-1,o=r.sigBytes-1;o>=0;o--)if(i[o>>>2]>>>24-o%4*8&255){r.sigBytes=o+1;break}}},n.pad.ZeroPadding})}(gR)),gR.exports}var yR={exports:{}},Aut=yR.exports,Use;function kut(){return Use||(Use=1,function(e,t){(function(n,r,i){e.exports=r(cr(),ws())})(Aut,function(n){return n.pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding})}(yR)),yR.exports}var vR={exports:{}},Iut=vR.exports,Hse;function Rut(){return Hse||(Hse=1,function(e,t){(function(n,r,i){e.exports=r(cr(),ws())})(Iut,function(n){return function(r){var i=n,o=i.lib,s=o.CipherParams,a=i.enc,l=a.Hex,u=i.format;u.Hex={stringify:function(c){return c.ciphertext.toString(l)},parse:function(c){var d=l.parse(c);return s.create({ciphertext:d})}}}(),n.format.Hex})}(vR)),vR.exports}var bR={exports:{}},Dut=bR.exports,Vse;function $ut(){return Vse||(Vse=1,function(e,t){(function(n,r,i){e.exports=r(cr(),Jv(),Zv(),c0(),ws())})(Dut,function(n){return function(){var r=n,i=r.lib,o=i.BlockCipher,s=r.algo,a=[],l=[],u=[],c=[],d=[],f=[],h=[],p=[],m=[],g=[];(function(){for(var w=[],E=0;E<256;E++)E<128?w[E]=E<<1:w[E]=E<<1^283;for(var _=0,x=0,E=0;E<256;E++){var S=x^x<<1^x<<2^x<<3^x<<4;S=S>>>8^S&255^99,a[_]=S,l[S]=_;var C=w[_],A=w[C],k=w[A],N=w[S]*257^S*16843008;u[_]=N<<24|N>>>8,c[_]=N<<16|N>>>16,d[_]=N<<8|N>>>24,f[_]=N;var N=k*16843009^A*65537^C*257^_*16843008;h[S]=N<<24|N>>>8,p[S]=N<<16|N>>>16,m[S]=N<<8|N>>>24,g[S]=N,_?(_=C^w[w[w[k^C]]],x^=w[w[x]]):_=x=1}})();var y=[0,1,2,4,8,16,32,64,128,27,54],v=s.AES=o.extend({_doReset:function(){var w;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var E=this._keyPriorReset=this._key,_=E.words,x=E.sigBytes/4,S=this._nRounds=x+6,C=(S+1)*4,A=this._keySchedule=[],k=0;k<C;k++)k<x?A[k]=_[k]:(w=A[k-1],k%x?x>6&&k%x==4&&(w=a[w>>>24]<<24|a[w>>>16&255]<<16|a[w>>>8&255]<<8|a[w&255]):(w=w<<8|w>>>24,w=a[w>>>24]<<24|a[w>>>16&255]<<16|a[w>>>8&255]<<8|a[w&255],w^=y[k/x|0]<<24),A[k]=A[k-x]^w);for(var N=this._invKeySchedule=[],M=0;M<C;M++){var k=C-M;if(M%4)var w=A[k];else var w=A[k-4];M<4||k<=4?N[M]=w:N[M]=h[a[w>>>24]]^p[a[w>>>16&255]]^m[a[w>>>8&255]]^g[a[w&255]]}}},encryptBlock:function(w,E){this._doCryptBlock(w,E,this._keySchedule,u,c,d,f,a)},decryptBlock:function(w,E){var _=w[E+1];w[E+1]=w[E+3],w[E+3]=_,this._doCryptBlock(w,E,this._invKeySchedule,h,p,m,g,l);var _=w[E+1];w[E+1]=w[E+3],w[E+3]=_},_doCryptBlock:function(w,E,_,x,S,C,A,k){for(var N=this._nRounds,M=w[E]^_[0],I=w[E+1]^_[1],D=w[E+2]^_[2],R=w[E+3]^_[3],O=4,B=1;B<N;B++){var z=x[M>>>24]^S[I>>>16&255]^C[D>>>8&255]^A[R&255]^_[O++],W=x[I>>>24]^S[D>>>16&255]^C[R>>>8&255]^A[M&255]^_[O++],U=x[D>>>24]^S[R>>>16&255]^C[M>>>8&255]^A[I&255]^_[O++],F=x[R>>>24]^S[M>>>16&255]^C[I>>>8&255]^A[D&255]^_[O++];M=z,I=W,D=U,R=F}var z=(k[M>>>24]<<24|k[I>>>16&255]<<16|k[D>>>8&255]<<8|k[R&255])^_[O++],W=(k[I>>>24]<<24|k[D>>>16&255]<<16|k[R>>>8&255]<<8|k[M&255])^_[O++],U=(k[D>>>24]<<24|k[R>>>16&255]<<16|k[M>>>8&255]<<8|k[I&255])^_[O++],F=(k[R>>>24]<<24|k[M>>>16&255]<<16|k[I>>>8&255]<<8|k[D&255])^_[O++];w[E]=z,w[E+1]=W,w[E+2]=U,w[E+3]=F},keySize:256/32});r.AES=o._createHelper(v)}(),n.AES})}(bR)),bR.exports}var wR={exports:{}},Mut=wR.exports,Wse;function Put(){return Wse||(Wse=1,function(e,t){(function(n,r,i){e.exports=r(cr(),Jv(),Zv(),c0(),ws())})(Mut,function(n){return function(){var r=n,i=r.lib,o=i.WordArray,s=i.BlockCipher,a=r.algo,l=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],u=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],d=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],f=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=a.DES=s.extend({_doReset:function(){for(var y=this._key,v=y.words,w=[],E=0;E<56;E++){var _=l[E]-1;w[E]=v[_>>>5]>>>31-_%32&1}for(var x=this._subKeys=[],S=0;S<16;S++){for(var C=x[S]=[],A=c[S],E=0;E<24;E++)C[E/6|0]|=w[(u[E]-1+A)%28]<<31-E%6,C[4+(E/6|0)]|=w[28+(u[E+24]-1+A)%28]<<31-E%6;C[0]=C[0]<<1|C[0]>>>31;for(var E=1;E<7;E++)C[E]=C[E]>>>(E-1)*4+3;C[7]=C[7]<<5|C[7]>>>27}for(var k=this._invSubKeys=[],E=0;E<16;E++)k[E]=x[15-E]},encryptBlock:function(y,v){this._doCryptBlock(y,v,this._subKeys)},decryptBlock:function(y,v){this._doCryptBlock(y,v,this._invSubKeys)},_doCryptBlock:function(y,v,w){this._lBlock=y[v],this._rBlock=y[v+1],p.call(this,4,252645135),p.call(this,16,65535),m.call(this,2,858993459),m.call(this,8,16711935),p.call(this,1,1431655765);for(var E=0;E<16;E++){for(var _=w[E],x=this._lBlock,S=this._rBlock,C=0,A=0;A<8;A++)C|=d[A][((S^_[A])&f[A])>>>0];this._lBlock=S,this._rBlock=x^C}var k=this._lBlock;this._lBlock=this._rBlock,this._rBlock=k,p.call(this,1,1431655765),m.call(this,8,16711935),m.call(this,2,858993459),p.call(this,16,65535),p.call(this,4,252645135),y[v]=this._lBlock,y[v+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function p(y,v){var w=(this._lBlock>>>y^this._rBlock)&v;this._rBlock^=w,this._lBlock^=w<<y}function m(y,v){var w=(this._rBlock>>>y^this._lBlock)&v;this._lBlock^=w,this._rBlock^=w<<y}r.DES=s._createHelper(h);var g=a.TripleDES=s.extend({_doReset:function(){var y=this._key,v=y.words;if(v.length!==2&&v.length!==4&&v.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var w=v.slice(0,2),E=v.length<4?v.slice(0,2):v.slice(2,4),_=v.length<6?v.slice(0,2):v.slice(4,6);this._des1=h.createEncryptor(o.create(w)),this._des2=h.createEncryptor(o.create(E)),this._des3=h.createEncryptor(o.create(_))},encryptBlock:function(y,v){this._des1.encryptBlock(y,v),this._des2.decryptBlock(y,v),this._des3.encryptBlock(y,v)},decryptBlock:function(y,v){this._des3.decryptBlock(y,v),this._des2.encryptBlock(y,v),this._des1.decryptBlock(y,v)},keySize:192/32,ivSize:64/32,blockSize:64/32});r.TripleDES=s._createHelper(g)}(),n.TripleDES})}(wR)),wR.exports}var xR={exports:{}},Nut=xR.exports,qse;function Out(){return qse||(qse=1,function(e,t){(function(n,r,i){e.exports=r(cr(),Jv(),Zv(),c0(),ws())})(Nut,function(n){return function(){var r=n,i=r.lib,o=i.StreamCipher,s=r.algo,a=s.RC4=o.extend({_doReset:function(){for(var c=this._key,d=c.words,f=c.sigBytes,h=this._S=[],p=0;p<256;p++)h[p]=p;for(var p=0,m=0;p<256;p++){var g=p%f,y=d[g>>>2]>>>24-g%4*8&255;m=(m+h[p]+y)%256;var v=h[p];h[p]=h[m],h[m]=v}this._i=this._j=0},_doProcessBlock:function(c,d){c[d]^=l.call(this)},keySize:256/32,ivSize:0});function l(){for(var c=this._S,d=this._i,f=this._j,h=0,p=0;p<4;p++){d=(d+1)%256,f=(f+c[d])%256;var m=c[d];c[d]=c[f],c[f]=m,h|=c[(c[d]+c[f])%256]<<24-p*8}return this._i=d,this._j=f,h}r.RC4=o._createHelper(a);var u=s.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:function(){a._doReset.call(this);for(var c=this.cfg.drop;c>0;c--)l.call(this)}});r.RC4Drop=o._createHelper(u)}(),n.RC4})}(xR)),xR.exports}var _R={exports:{}},Lut=_R.exports,Gse;function Fut(){return Gse||(Gse=1,function(e,t){(function(n,r,i){e.exports=r(cr(),Jv(),Zv(),c0(),ws())})(Lut,function(n){return function(){var r=n,i=r.lib,o=i.StreamCipher,s=r.algo,a=[],l=[],u=[],c=s.Rabbit=o.extend({_doReset:function(){for(var f=this._key.words,h=this.cfg.iv,p=0;p<4;p++)f[p]=(f[p]<<8|f[p]>>>24)&16711935|(f[p]<<24|f[p]>>>8)&4278255360;var m=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],g=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var p=0;p<4;p++)d.call(this);for(var p=0;p<8;p++)g[p]^=m[p+4&7];if(h){var y=h.words,v=y[0],w=y[1],E=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,_=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,x=E>>>16|_&4294901760,S=_<<16|E&65535;g[0]^=E,g[1]^=x,g[2]^=_,g[3]^=S,g[4]^=E,g[5]^=x,g[6]^=_,g[7]^=S;for(var p=0;p<4;p++)d.call(this)}},_doProcessBlock:function(f,h){var p=this._X;d.call(this),a[0]=p[0]^p[5]>>>16^p[3]<<16,a[1]=p[2]^p[7]>>>16^p[5]<<16,a[2]=p[4]^p[1]>>>16^p[7]<<16,a[3]=p[6]^p[3]>>>16^p[1]<<16;for(var m=0;m<4;m++)a[m]=(a[m]<<8|a[m]>>>24)&16711935|(a[m]<<24|a[m]>>>8)&4278255360,f[h+m]^=a[m]},blockSize:128/32,ivSize:64/32});function d(){for(var f=this._X,h=this._C,p=0;p<8;p++)l[p]=h[p];h[0]=h[0]+1295307597+this._b|0,h[1]=h[1]+3545052371+(h[0]>>>0<l[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<l[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<l[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<l[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<l[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<l[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<l[6]>>>0?1:0)|0,this._b=h[7]>>>0<l[7]>>>0?1:0;for(var p=0;p<8;p++){var m=f[p]+h[p],g=m&65535,y=m>>>16,v=((g*g>>>17)+g*y>>>15)+y*y,w=((m&4294901760)*m|0)+((m&65535)*m|0);u[p]=v^w}f[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,f[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,f[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,f[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,f[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,f[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,f[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,f[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}r.Rabbit=o._createHelper(c)}(),n.Rabbit})}(_R)),_R.exports}var ER={exports:{}},But=ER.exports,Yse;function jut(){return Yse||(Yse=1,function(e,t){(function(n,r,i){e.exports=r(cr(),Jv(),Zv(),c0(),ws())})(But,function(n){return function(){var r=n,i=r.lib,o=i.StreamCipher,s=r.algo,a=[],l=[],u=[],c=s.RabbitLegacy=o.extend({_doReset:function(){var f=this._key.words,h=this.cfg.iv,p=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],m=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var g=0;g<4;g++)d.call(this);for(var g=0;g<8;g++)m[g]^=p[g+4&7];if(h){var y=h.words,v=y[0],w=y[1],E=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,_=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,x=E>>>16|_&4294901760,S=_<<16|E&65535;m[0]^=E,m[1]^=x,m[2]^=_,m[3]^=S,m[4]^=E,m[5]^=x,m[6]^=_,m[7]^=S;for(var g=0;g<4;g++)d.call(this)}},_doProcessBlock:function(f,h){var p=this._X;d.call(this),a[0]=p[0]^p[5]>>>16^p[3]<<16,a[1]=p[2]^p[7]>>>16^p[5]<<16,a[2]=p[4]^p[1]>>>16^p[7]<<16,a[3]=p[6]^p[3]>>>16^p[1]<<16;for(var m=0;m<4;m++)a[m]=(a[m]<<8|a[m]>>>24)&16711935|(a[m]<<24|a[m]>>>8)&4278255360,f[h+m]^=a[m]},blockSize:128/32,ivSize:64/32});function d(){for(var f=this._X,h=this._C,p=0;p<8;p++)l[p]=h[p];h[0]=h[0]+1295307597+this._b|0,h[1]=h[1]+3545052371+(h[0]>>>0<l[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<l[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<l[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<l[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<l[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<l[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<l[6]>>>0?1:0)|0,this._b=h[7]>>>0<l[7]>>>0?1:0;for(var p=0;p<8;p++){var m=f[p]+h[p],g=m&65535,y=m>>>16,v=((g*g>>>17)+g*y>>>15)+y*y,w=((m&4294901760)*m|0)+((m&65535)*m|0);u[p]=v^w}f[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,f[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,f[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,f[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,f[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,f[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,f[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,f[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}r.RabbitLegacy=o._createHelper(c)}(),n.RabbitLegacy})}(ER)),ER.exports}var SR={exports:{}},zut=SR.exports,Kse;function Uut(){return Kse||(Kse=1,function(e,t){(function(n,r,i){e.exports=r(cr(),Jv(),Zv(),c0(),ws())})(zut,function(n){return function(){var r=n,i=r.lib,o=i.BlockCipher,s=r.algo;const a=16,l=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],u=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var c={pbox:[],sbox:[]};function d(g,y){let v=y>>24&255,w=y>>16&255,E=y>>8&255,_=y&255,x=g.sbox[0][v]+g.sbox[1][w];return x=x^g.sbox[2][E],x=x+g.sbox[3][_],x}function f(g,y,v){let w=y,E=v,_;for(let x=0;x<a;++x)w=w^g.pbox[x],E=d(g,w)^E,_=w,w=E,E=_;return _=w,w=E,E=_,E=E^g.pbox[a],w=w^g.pbox[a+1],{left:w,right:E}}function h(g,y,v){let w=y,E=v,_;for(let x=a+1;x>1;--x)w=w^g.pbox[x],E=d(g,w)^E,_=w,w=E,E=_;return _=w,w=E,E=_,E=E^g.pbox[1],w=w^g.pbox[0],{left:w,right:E}}function p(g,y,v){for(let S=0;S<4;S++){g.sbox[S]=[];for(let C=0;C<256;C++)g.sbox[S][C]=u[S][C]}let w=0;for(let S=0;S<a+2;S++)g.pbox[S]=l[S]^y[w],w++,w>=v&&(w=0);let E=0,_=0,x=0;for(let S=0;S<a+2;S+=2)x=f(g,E,_),E=x.left,_=x.right,g.pbox[S]=E,g.pbox[S+1]=_;for(let S=0;S<4;S++)for(let C=0;C<256;C+=2)x=f(g,E,_),E=x.left,_=x.right,g.sbox[S][C]=E,g.sbox[S][C+1]=_;return!0}var m=s.Blowfish=o.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var g=this._keyPriorReset=this._key,y=g.words,v=g.sigBytes/4;p(c,y,v)}},encryptBlock:function(g,y){var v=f(c,g[y],g[y+1]);g[y]=v.left,g[y+1]=v.right},decryptBlock:function(g,y){var v=h(c,g[y],g[y+1]);g[y]=v.left,g[y+1]=v.right},blockSize:64/32,keySize:128/32,ivSize:64/32});r.Blowfish=o._createHelper(m)}(),n.Blowfish})}(SR)),SR.exports}var Hut=HI.exports,Xse;function Vut(){return Xse||(Xse=1,function(e,t){(function(n,r,i){e.exports=r(cr(),bN(),jlt(),Ult(),Jv(),Wlt(),Zv(),h_e(),aq(),Xlt(),p_e(),Zlt(),tut(),rut(),lq(),sut(),c0(),ws(),cut(),fut(),put(),gut(),vut(),wut(),_ut(),Sut(),Cut(),kut(),Rut(),$ut(),Put(),Out(),Fut(),jut(),Uut())})(Hut,function(n){return n})}(HI)),HI.exports}var Z1=Vut();const m_e=Z1.enc.Hex.parse("000102030405060708090a0b0c0d0e0f101112131415161718191a1b1c1d1e1f");function jo(e){const t=Z1.AES.encrypt(e.toString(),m_e,{mode:Z1.mode.ECB}).toString();return btoa(t)}function ov(e){const t=Z1.AES.decrypt(atob(e),m_e,{mode:Z1.mode.ECB}).toString(Z1.enc.Utf8);return parseInt(t,10)}function qf(){return mr(e=>e.config)}function Jp(){const{studyId:e}=Da();return`${e}`}function Uu(){const{index:e}=Da();return e===void 0?0:e.startsWith("reviewer-")||e.startsWith("__")?e:ov(e)}const Qse=Object.assign({"../public/a-usability-study-config/assets/Editor.tsx":Rxe,"../public/a-usability-study-config/assets/startingStrings.tsx":Ixe,"../public/a-usability-study-tabular/assets/Editor.tsx":Mxe,"../public/a-usability-study-tabular/assets/startingStrings.tsx":$xe,"../public/a-usability-study/assets/Editor.tsx":Oxe,"../public/a-usability-study/assets/startingStrings.tsx":Nxe,"../public/libraries/mic-check/assets/AudioTest.tsx":Hxe,"../public/libraries/test/assets/test.tsx":Vxe,"../public/test-step-logic/Example.tsx":Wxe,"../public/test-step-logic/func.ts":qxe});function uh(){const{funcIndex:e}=Da(),t=mr(m=>m.answers),n=qf(),r=Uu(),i=Qv(),o=zu(),s=Jp(),a=Zs(),{pushToFuncSequence:l}=ys(),[u,c]=H.useState(null),d=H.useMemo(()=>typeof r=="number"?pse(i[r],n):r.includes("reviewer-")?r:null,[r,i,n]),[f,h]=H.useState("__dynamicLoading"),p=H.useMemo(()=>{if(typeof r=="number"&&!d){const m=fse(i[r],n.sequence);if(!m)return null;const g=`../public/${m.functionPath}`;return g in Qse?Qse[g].default:null}return null},[d,r,i,n.sequence]);return H.useEffect(()=>{!e&&p&&typeof r=="number"&&o(`/${s}/${jo(r)}/${jo(0)}${window.location.search}`)},[r,e,o,p,s]),H.useEffect(()=>{var m;if(typeof r=="number"){const g=pse(i[r],n),y=i[r],v=e?ov(e):0,w=Object.entries(t).find(([_,x])=>_.startsWith(`${y}_${r}_`)&&_.endsWith(`${v}`)),E=w?w[1].componentName:null;if(E!==null){h(E),c(v);return}if(!g&&p!==null){const{component:_,parameters:x,correctAnswer:S}=p({components:[],answers:t,sequenceSoFar:[],customParameters:(m=fse(i[r],n.sequence))==null?void 0:m.parameters});_!==null?e&&(h(_),c(v),a(l({component:_,funcName:y,index:r,funcIndex:v,parameters:x||void 0,correctAnswer:S||void 0}))):(h("__dynamicLoading"),c(null),o(`/${s}/${jo(r+1)}${window.location.search}`))}}},[t,r,i,e,o,p,l,a,n,s]),typeof r=="number"&&i[r]==="end"?"end":d?typeof r=="number"?i[r]:r.replace("reviewer-",""):u!==null&&e&&ov(e)===u?f:"__dynamicLoading"}function eb(){const e=Uu(),t=Qv(),n=uh(),{funcIndex:r}=Da();return H.useMemo(()=>r&&typeof e=="number"?`${t[e]}_${e}_${n}_${ov(r)}`:`${n}_${e}`,[n,e,r,t])}function uq(){const{funcIndex:e}=Da(),t=Qv(),n=Uu(),r=uh(),i=e&&typeof n=="number"?`${t[n]}_${n}_${r}_${ov(e)}`:`${r}_${n}`;return mr(s=>s.answers[i])}const g_e=H.createContext(null);function Wut(){const e=H.useContext(g_e);if(!e)throw new Error("useWindowEvents must be used within a WindowEventsProvider");return e}function Gx(){const[e]=sh();return!!e.get("participantId")}function Jse(e,t,n,r){const i=t.slice(0,t.lastIndexOf("_")),o=Object.entries(r.components).find(([a])=>a===i),s=o?o[1]:null;if(!s)throw new Error(`Component ${i} could not be found in the study components.`);return s.correctAnswer?s.correctAnswer.every(a=>a.acceptableHigh!==void 0&&a.acceptableLow!==void 0?+e[a.id]>=a.acceptableLow&&+e[a.id]<=a.acceptableHigh:e[a.id]===a.answer):!0}function qut(){const e=Uu(),t=Qv(),n=mr(A=>A.trialValidation),r=mr(A=>A.sequence),i=mr(A=>A.answers),o=mr(A=>A.modes),s=qf(),{funcIndex:a}=Da(),l=eb(),u=Zs(),{saveTrialAnswer:c,setReactiveAnswers:d,setMatrixAnswersRadio:f,setMatrixAnswersCheckbox:h}=ys(),{storageEngine:p}=Zi(),m=Jp(),g=H.useMemo(()=>o.dataCollectionEnabled,[o]),y=Nlt(l),v=Gx(),w=typeof e!="number"||v||!y,E=uq(),_=zu(),x=H.useMemo(()=>Date.now(),[a,e]),S=Wut(),C=H.useCallback((A=!0)=>{if(typeof e!="number")return;const k=structuredClone(n[l]),N=Object.values(k).reduce((U,F)=>Object.hasOwn(F,"values")?{...U,...F.values}:U,{}),{provenanceGraph:M}=k,I=Date.now(),{componentName:D}=E,R=S&&"current"in S&&S.current?S.current.splice(0,S.current.length):[];if(g&&E.endTime===-1){const U={...E,answer:A?N:{},startTime:x,endTime:I,provenanceGraph:M,windowEvents:R,timedOut:!A};u(c({identifier:l,...U})),p&&p.saveAnswers({...i,[l]:U}),u(d({})),u(h(null)),u(f(null))}let O=e+1;const B=oq(r,e),z=B!==null&&B.some(U=>Object.hasOwn(U.currentBlock,"skip")&&U.currentBlock.skip!==void 0),W={...i,[l]:{answer:N,startTime:x,endTime:I,provenanceGraph:M,windowEvents:R}};z&&[...B.flatMap(F=>F.currentBlock.skip?F.currentBlock.skip.map(Y=>({...Y,firstIndex:F.firstIndex,lastIndex:F.lastIndex})):[])].some(F=>{let Y=!1;const V=Object.fromEntries(Object.entries(W).filter(([X])=>{const Z=parseInt(X.slice(X.lastIndexOf("_")+1),10);return Z>=F.firstIndex&&Z<=e})),G=F.check!=="block"?Object.entries(V).filter(([X])=>X.slice(0,X.lastIndexOf("_"))===F.name):Object.entries(V);if(G.length===0)return!1;if(G.some(([X,Z])=>!Z))throw new Error(`There are components with missing response objects for the skip condition: ${JSON.stringify(F,null,2)}`);if(F.check==="response"||F.check==="responses"){const[X,Z]=G[0];F.check==="response"?Y=F.comparison==="equal"?F.value===Z.answer[F.responseId]:F.value!==Z.answer[F.responseId]:Y=!Jse(Z.answer,X,s.components[X.slice(0,X.lastIndexOf("_"))],s)}else if(F.check==="block"||F.check==="repeatedComponent"){if(G.length<F.value)return!1;const X=G.map(([ne,ie])=>Jse(ie.answer,ne,s.components[D.slice(0,D.lastIndexOf("_"))],s)),Z=X.filter(ne=>ne).length,oe=X.length-Z;Y=F.condition==="numCorrect"&&Z===F.value||F.condition==="numIncorrect"&&oe===F.value}if(Y){const X=t.indexOf(F.to),Z=X===-1?Dlt(r,F.to):-1;return O=X===-1?Z:X,!0}return!1}),_(a?`/${m}/${jo(e)}/${jo(ov(a)+1)}${window.location.search}`:`/${m}/${jo(O)}${window.location.search}`)},[e,n,l,E,S,g,r,i,x,a,_,m,u,c,p,d,h,f,s,t]);return{isNextDisabled:w,goToNextStep:C}}function Gut({label:e="Next",disabled:t=!1,onClick:n,configInUse:r}){const{isNextDisabled:i,goToNextStep:o}=qut(),s=qf(),a=zu(),l=H.useCallback(()=>{n&&n(),o()},[o,n]),u=r==null?void 0:r.nextButtonDisableTime,c=(r==null?void 0:r.nextButtonEnableTime)||0,[d,f]=H.useState(void 0);H.useEffect(()=>{let p=0;const m=setInterval(()=>{p+=100,f(p)},100);return()=>{clearInterval(m)}},[]),H.useEffect(()=>{d&&u&&d>=u&&s.uiConfig.timeoutReject&&a("./../__timedOut")},[u,d,a,s.uiConfig.timeoutReject]);const h=H.useMemo(()=>{const p=u&&d?d<=u:!0,m=d?d>=c:!0;return p&&m},[u,c,d]);return H.useEffect(()=>{const p=m=>{m.key==="Enter"&&!t&&!i&&h&&o()};return s.uiConfig.nextOnEnter?(window.addEventListener("keydown",p),()=>{window.removeEventListener("keydown",p)}):()=>{}},[t,i,h,o,s.uiConfig.nextOnEnter]),$.jsxs($.Fragment,{children:[$.jsx(gn,{type:"submit",disabled:t||i||!h,onClick:l,children:e}),c>0&&d&&d<c&&$.jsxs(dp,{mt:"md",title:"Please wait",color:"blue",icon:$.jsx(tV,{}),children:["The next button will be enabled in"," ",Math.ceil((c-d)/1e3)," ","seconds."]}),u&&d&&u-d<1e4&&(u-d>0?$.jsxs(dp,{mt:"md",title:"Next button disables soon",color:"yellow",icon:$.jsx(RS,{}),children:["The next button disables in"," ",Math.ceil((u-d)/1e3)," ","seconds."]}):!s.uiConfig.timeoutReject&&$.jsxs(dp,{mt:"md",title:"Next button disabled",color:"red",icon:$.jsx(RS,{}),children:["The next button has timed out and is now disabled.",$.jsx(ri,{justify:"right",mt:"sm",children:$.jsx(gn,{onClick:()=>o(!1),variant:"link",color:"red",children:"Proceed"})})]}))]})}function Yut(e){if(!/^[0-9a-zA-Z-]+$/.test(e))throw new Error(`[@mantine/use-form] Form name "${e}" is invalid, it should contain only letters, numbers and dashes`)}const Kut=typeof window<"u"?H.useLayoutEffect:H.useEffect;function Is(e,t){Kut(()=>{if(e)return window.addEventListener(e,t),()=>window.removeEventListener(e,t)},[e])}function Xut(e,t){e&&Yut(e),Is(`mantine-form:${e}:set-field-value`,n=>t.setFieldValue(n.detail.path,n.detail.value)),Is(`mantine-form:${e}:set-values`,n=>t.setValues(n.detail)),Is(`mantine-form:${e}:set-initial-values`,n=>t.setInitialValues(n.detail)),Is(`mantine-form:${e}:set-errors`,n=>t.setErrors(n.detail)),Is(`mantine-form:${e}:set-field-error`,n=>t.setFieldError(n.detail.path,n.detail.error)),Is(`mantine-form:${e}:clear-field-error`,n=>t.clearFieldError(n.detail)),Is(`mantine-form:${e}:clear-errors`,t.clearErrors),Is(`mantine-form:${e}:reset`,t.reset),Is(`mantine-form:${e}:validate`,t.validate),Is(`mantine-form:${e}:validate-field`,n=>t.validateField(n.detail)),Is(`mantine-form:${e}:reorder-list-item`,n=>t.reorderListItem(n.detail.path,n.detail.payload)),Is(`mantine-form:${e}:remove-list-item`,n=>t.removeListItem(n.detail.path,n.detail.index)),Is(`mantine-form:${e}:insert-list-item`,n=>t.insertListItem(n.detail.path,n.detail.item,n.detail.index)),Is(`mantine-form:${e}:set-dirty`,n=>t.setDirty(n.detail)),Is(`mantine-form:${e}:set-touched`,n=>t.setTouched(n.detail)),Is(`mantine-form:${e}:reset-dirty`,n=>t.resetDirty(n.detail)),Is(`mantine-form:${e}:reset-touched`,t.resetTouched)}function Qut(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:n}=t;n instanceof HTMLInputElement?n.type==="checkbox"?e(n.checked):e(n.value):(n instanceof HTMLTextAreaElement||n instanceof HTMLSelectElement)&&e(n.value)}else e(t)}}function g9(e){return e===null||typeof e!="object"?{}:Object.keys(e).reduce((t,n)=>{const r=e[n];return r!=null&&r!==!1&&(t[n]=r),t},{})}function Jut(e){const[t,n]=H.useState(g9(e)),r=H.useRef(t),i=H.useCallback(l=>{n(u=>{const c=g9(typeof l=="function"?l(u):l);return r.current=c,c})},[]),o=H.useCallback(()=>i({}),[]),s=H.useCallback(l=>{r.current[l]!==void 0&&i(u=>{const c={...u};return delete c[l],c})},[t]),a=H.useCallback((l,u)=>{u==null||u===!1?s(l):r.current[l]!==u&&i(c=>({...c,[l]:u}))},[t]);return{errorsState:t,setErrors:i,clearErrors:o,setFieldError:a,clearFieldError:s}}function y9(e,t){if(t===null||typeof t!="object")return{};const n={...t};return Object.keys(t).forEach(r=>{r.includes(`${String(e)}.`)&&delete n[r]}),n}function Zse(e,t){const n=e.substring(t.length+1).split(".")[0];return parseInt(n,10)}function eae(e,t,n,r){if(t===void 0)return n;const i=`${String(e)}`;let o=n;r===-1&&(o=y9(`${i}.${t}`,o));const s={...o},a=new Set;return Object.entries(o).filter(([l])=>{if(!l.startsWith(`${i}.`))return!1;const u=Zse(l,i);return Number.isNaN(u)?!1:u>=t}).forEach(([l,u])=>{const c=Zse(l,i),d=l.replace(`${i}.${c}`,`${i}.${c+r}`);s[d]=u,a.add(d),a.has(l)||delete s[l]}),s}function Zut(e,{from:t,to:n},r){const i=`${e}.${t}`,o=`${e}.${n}`,s={...r};return Object.keys(r).every(a=>{let l,u;if(a.startsWith(i)&&(l=a,u=a.replace(i,o)),a.startsWith(o)&&(l=a.replace(o,i),u=a),l&&u){const c=s[l],d=s[u];return d===void 0?delete s[l]:s[l]=d,c===void 0?delete s[u]:s[u]=c,!1}return!0}),s}function tae(e,t,n){typeof n.value=="object"&&(n.value=D1(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function D1(e){if(typeof e!="object")return e;var t=0,n,r,i,o=Object.prototype.toString.call(e);if(o==="[object Object]"?i=Object.create(e.__proto__||null):o==="[object Array]"?i=Array(e.length):o==="[object Set]"?(i=new Set,e.forEach(function(s){i.add(D1(s))})):o==="[object Map]"?(i=new Map,e.forEach(function(s,a){i.set(D1(a),D1(s))})):o==="[object Date]"?i=new Date(+e):o==="[object RegExp]"?i=new RegExp(e.source,e.flags):o==="[object DataView]"?i=new e.constructor(D1(e.buffer)):o==="[object ArrayBuffer]"?i=e.slice(0):o.slice(-6)==="Array]"&&(i=new e.constructor(e)),i){for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)tae(i,r[t],Object.getOwnPropertyDescriptor(e,r[t]));for(t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)Object.hasOwnProperty.call(i,n=r[t])&&i[n]===e[n]||tae(i,n,Object.getOwnPropertyDescriptor(e,n))}return i||e}function y_e(e){return typeof e!="string"?[]:e.split(".")}function zs(e,t){const n=y_e(e);if(n.length===0||typeof t!="object"||t===null)return;let r=t[n[0]];for(let i=1;i<n.length&&r!=null;i+=1)r=r[n[i]];return r}function cA(e,t,n){const r=y_e(e);if(r.length===0)return n;const i=D1(n);if(r.length===1)return i[r[0]]=t,i;let o=i[r[0]];for(let s=1;s<r.length-1;s+=1){if(o===void 0)return i;o=o[r[s]]}return o[r[r.length-1]]=t,i}function ect(e,{from:t,to:n},r){const i=zs(e,r);if(!Array.isArray(i))return r;const o=[...i],s=i[t];return o.splice(t,1),o.splice(n,0,s),cA(e,o,r)}function tct(e,t,n,r){const i=zs(e,r);if(!Array.isArray(i))return r;const o=[...i];return o.splice(typeof n=="number"?n:o.length,0,t),cA(e,o,r)}function nct(e,t,n){const r=zs(e,n);return Array.isArray(r)?cA(e,r.filter((i,o)=>o!==t),n):n}function rct(e,t,n,r){const i=zs(e,r);if(!Array.isArray(i)||i.length<=n)return r;const o=[...i];return o[n]=t,cA(e,o,r)}function ict({$values:e,$errors:t,$status:n}){const r=H.useCallback((a,l)=>{n.clearFieldDirty(a),t.setErrors(u=>Zut(a,l,u)),e.setValues({values:ect(a,l,e.refValues.current),updateState:!0})},[]),i=H.useCallback((a,l)=>{n.clearFieldDirty(a),t.setErrors(u=>eae(a,l,u,-1)),e.setValues({values:nct(a,l,e.refValues.current),updateState:!0})},[]),o=H.useCallback((a,l,u)=>{n.clearFieldDirty(a),t.setErrors(c=>eae(a,u,c,1)),e.setValues({values:tct(a,l,u,e.refValues.current),updateState:!0})},[]),s=H.useCallback((a,l,u)=>{n.clearFieldDirty(a),e.setValues({values:rct(a,u,l,e.refValues.current),updateState:!0})},[]);return{reorderListItem:r,removeListItem:i,insertListItem:o,replaceListItem:s}}var h6,nae;function cq(){return nae||(nae=1,h6=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(o=Object.keys(t),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!==0;){var s=o[i];if(!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n}),h6}var oct=cq();const nS=ul(oct);function uE(e,t){const n=Object.keys(e);if(typeof t=="string"){const r=n.filter(i=>i.startsWith(`${t}.`));return e[t]||r.some(i=>e[i])||!1}return n.some(r=>e[r])}function sct({initialDirty:e,initialTouched:t,mode:n,$values:r}){const[i,o]=H.useState(t),[s,a]=H.useState(e),l=H.useRef(t),u=H.useRef(e),c=H.useCallback(x=>{const S=typeof x=="function"?x(l.current):x;l.current=S,n==="controlled"&&o(S)},[]),d=H.useCallback((x,S=!1)=>{const C=typeof x=="function"?x(u.current):x;u.current=C,(n==="controlled"||S)&&a(C)},[]),f=H.useCallback(()=>c({}),[]),h=H.useCallback(x=>{const S=x?{...r.refValues.current,...x}:r.refValues.current;r.setValuesSnapshot(S),d({})},[]),p=H.useCallback((x,S)=>{c(C=>uE(C,x)===S?C:{...C,[x]:S})},[]),m=H.useCallback((x,S,C)=>{d(A=>uE(A,x)===S?A:{...A,[x]:S},C)},[]),g=H.useCallback((x,S)=>{const C=uE(u.current,x),A=!nS(zs(x,r.getValuesSnapshot()),S),k=y9(x,u.current);k[x]=A,d(k,C!==A)},[]),y=H.useCallback(x=>uE(l.current,x),[]),v=H.useCallback(x=>d(S=>{if(typeof x!="string")return S;const C=y9(x,S);return delete C[x],nS(C,S)?S:C}),[]),w=H.useCallback(x=>{if(x){const C=zs(x,u.current);if(typeof C=="boolean")return C;const A=zs(x,r.refValues.current),k=zs(x,r.valuesSnapshot.current);return!nS(A,k)}return Object.keys(u.current).length>0?uE(u.current):!nS(r.refValues.current,r.valuesSnapshot.current)},[]),E=H.useCallback(()=>u.current,[]),_=H.useCallback(()=>l.current,[]);return{touchedState:i,dirtyState:s,touchedRef:l,dirtyRef:u,setTouched:c,setDirty:d,resetDirty:h,resetTouched:f,isTouched:y,setFieldTouched:p,setFieldDirty:m,setTouchedState:o,setDirtyState:a,clearFieldDirty:v,isDirty:w,getDirty:E,getTouched:_,setCalculatedFieldDirty:g}}function act({initialValues:e,onValuesChange:t,mode:n}){const r=H.useRef(!1),[i,o]=H.useState(e||{}),s=H.useRef(i),a=H.useRef(i),l=H.useCallback(({values:m,subscribers:g,updateState:y=!0,mergeWithPreviousValues:v=!0})=>{const w=s.current,E=m instanceof Function?m(s.current):m,_=v?{...w,...E}:E;s.current=_,y&&o(_),t==null||t(_,w),g==null||g.filter(Boolean).forEach(x=>x({updatedValues:_,previousValues:w}))},[t]),u=H.useCallback(m=>{var v;const g=zs(m.path,s.current),y=m.value instanceof Function?m.value(g):m.value;if(g!==y){const w=s.current,E=cA(m.path,y,s.current);l({values:E,updateState:m.updateState}),(v=m.subscribers)==null||v.filter(Boolean).forEach(_=>_({path:m.path,updatedValues:E,previousValues:w}))}},[l]),c=H.useCallback(m=>{a.current=m},[]),d=H.useCallback((m,g)=>{r.current||(r.current=!0,l({values:m,updateState:n==="controlled"}),c(m),g())},[l]),f=H.useCallback(()=>{l({values:a.current,updateState:!0,mergeWithPreviousValues:!1})},[l]),h=H.useCallback(()=>s.current,[]),p=H.useCallback(()=>a.current,[]);return{initialized:r,stateValues:i,refValues:s,valuesSnapshot:a,setValues:l,setFieldValue:u,resetValues:f,setValuesSnapshot:c,initialize:d,getValues:h,getValuesSnapshot:p}}function lct({$status:e}){const t=H.useRef({}),n=H.useCallback((i,o)=>{H.useEffect(()=>(t.current[i]=t.current[i]||[],t.current[i].push(o),()=>{t.current[i]=t.current[i].filter(s=>s!==o)}),[o])},[]),r=H.useCallback(i=>t.current[i]?t.current[i].map(o=>s=>o({previousValue:zs(i,s.previousValues),value:zs(i,s.updatedValues),touched:e.isTouched(i),dirty:e.isDirty(i)})):[],[]);return{subscribers:t,watch:n,getFieldSubscribers:r}}function rae(e,t){return e?`${e}-${t.toString()}`:t.toString()}const jk=Symbol("root-rule");function iae(e){const t=g9(e);return{hasErrors:Object.keys(t).length>0,errors:t}}function v9(e,t,n="",r={}){return typeof e!="object"||e===null?r:Object.keys(e).reduce((i,o)=>{const s=e[o],a=`${n===""?"":`${n}.`}${o}`,l=zs(a,t);let u=!1;return typeof s=="function"&&(i[a]=s(l,t,a)),typeof s=="object"&&Array.isArray(l)&&(u=!0,l.forEach((c,d)=>v9(s,t,`${a}.${d}`,i)),jk in s&&(i[a]=s[jk](l,t,a))),typeof s=="object"&&typeof l=="object"&&l!==null&&(u||v9(s,t,a,i),jk in s&&(i[a]=s[jk](l,t,a))),i},r)}function b9(e,t){return iae(typeof e=="function"?e(t):v9(e,t))}function zk(e,t,n){if(typeof e!="string")return{hasError:!1,error:null};const r=b9(t,n),i=Object.keys(r.errors).find(o=>e.split(".").every((s,a)=>s===o.split(".")[a]));return{hasError:!!i,error:i?r.errors[i]:null}}const uct="__MANTINE_FORM_INDEX__";function oae(e,t){return t?typeof t=="boolean"?t:Array.isArray(t)?t.includes(e.replace(/[.][0-9]+/g,`.${uct}`)):!1:!1}function v_e({name:e,mode:t="controlled",initialValues:n,initialErrors:r={},initialDirty:i={},initialTouched:o={},clearInputErrorOnChange:s=!0,validateInputOnChange:a=!1,validateInputOnBlur:l=!1,onValuesChange:u,transformValues:c=m=>m,enhanceGetInputProps:d,validate:f,onSubmitPreventDefault:h="always",touchTrigger:p="change"}={}){const m=Jut(r),g=act({initialValues:n,onValuesChange:u,mode:t}),y=sct({initialDirty:i,initialTouched:o,$values:g,mode:t}),v=ict({$values:g,$errors:m,$status:y}),w=lct({$status:y}),[E,_]=H.useState(0),[x,S]=H.useState({}),[C,A]=H.useState(!1),k=H.useCallback(()=>{g.resetValues(),m.clearErrors(),y.resetDirty(),y.resetTouched(),t==="uncontrolled"&&_(X=>X+1)},[]),N=H.useCallback(X=>{s&&m.clearErrors(),t==="uncontrolled"&&_(Z=>Z+1),Object.keys(w.subscribers.current).forEach(Z=>{const oe=zs(Z,g.refValues.current),ne=zs(Z,X);oe!==ne&&w.getFieldSubscribers(Z).forEach(ie=>ie({previousValues:X,updatedValues:g.refValues.current}))})},[s]),M=H.useCallback(X=>{const Z=g.refValues.current;g.initialize(X,()=>t==="uncontrolled"&&_(oe=>oe+1)),N(Z)},[N]),I=H.useCallback((X,Z,oe)=>{const ne=oae(X,a),ie=Z instanceof Function?Z(zs(X,g.refValues.current)):Z;y.setCalculatedFieldDirty(X,ie),p==="change"&&y.setFieldTouched(X,!0),!ne&&s&&m.clearFieldError(X),g.setFieldValue({path:X,value:Z,updateState:t==="controlled",subscribers:[...w.getFieldSubscribers(X),ne?fe=>{const se=zk(X,f,fe.updatedValues);se.hasError?m.setFieldError(X,se.error):m.clearFieldError(X)}:null,(oe==null?void 0:oe.forceUpdate)!==!1&&t!=="controlled"?()=>S(fe=>({...fe,[X]:(fe[X]||0)+1})):null]})},[u,f]),D=H.useCallback(X=>{const Z=g.refValues.current;g.setValues({values:X,updateState:t==="controlled"}),N(Z)},[u,N]),R=H.useCallback(()=>{const X=b9(f,g.refValues.current);return m.setErrors(X.errors),X},[f]),O=H.useCallback(X=>{const Z=zk(X,f,g.refValues.current);return Z.hasError?m.setFieldError(X,Z.error):m.clearFieldError(X),Z},[f]),B=(X,{type:Z="input",withError:oe=!0,withFocus:ne=!0,...ie}={})=>{const se={onChange:Qut(ae=>I(X,ae,{forceUpdate:!1})),"data-path":rae(e,X)};return oe&&(se.error=m.errorsState[X]),Z==="checkbox"?se[t==="controlled"?"checked":"defaultChecked"]=zs(X,g.refValues.current):se[t==="controlled"?"value":"defaultValue"]=zs(X,g.refValues.current),ne&&(se.onFocus=()=>y.setFieldTouched(X,!0),se.onBlur=()=>{if(oae(X,l)){const ae=zk(X,f,g.refValues.current);ae.hasError?m.setFieldError(X,ae.error):m.clearFieldError(X)}}),Object.assign(se,d==null?void 0:d({inputProps:se,field:X,options:{type:Z,withError:oe,withFocus:ne,...ie},form:G}))},z=(X,Z)=>oe=>{h==="always"&&(oe==null||oe.preventDefault());const ne=R();if(ne.hasErrors)h==="validation-failed"&&(oe==null||oe.preventDefault()),Z==null||Z(ne.errors,g.refValues.current,oe);else{const ie=X==null?void 0:X(c(g.refValues.current),oe);ie instanceof Promise&&(A(!0),ie.finally(()=>A(!1)))}},W=X=>c(X||g.refValues.current),U=H.useCallback(X=>{X.preventDefault(),k()},[]),F=H.useCallback(X=>X?!zk(X,f,g.refValues.current).hasError:!b9(f,g.refValues.current).hasErrors,[f]),Y=X=>`${E}-${X}-${x[X]||0}`,V=H.useCallback(X=>document.querySelector(`[data-path="${rae(e,X)}"]`),[]),G={watch:w.watch,initialized:g.initialized.current,values:g.stateValues,getValues:g.getValues,setInitialValues:g.setValuesSnapshot,initialize:M,setValues:D,setFieldValue:I,submitting:C,setSubmitting:A,errors:m.errorsState,setErrors:m.setErrors,setFieldError:m.setFieldError,clearFieldError:m.clearFieldError,clearErrors:m.clearErrors,resetDirty:y.resetDirty,setTouched:y.setTouched,setDirty:y.setDirty,isTouched:y.isTouched,resetTouched:y.resetTouched,isDirty:y.isDirty,getTouched:y.getTouched,getDirty:y.getDirty,reorderListItem:v.reorderListItem,insertListItem:v.insertListItem,removeListItem:v.removeListItem,replaceListItem:v.replaceListItem,reset:k,validate:R,validateField:O,getInputProps:B,onSubmit:z,onReset:U,isValid:F,getTransformedValues:W,key:Y,getInputNode:V};return Xut(e,G),G}function cct(e,t){const n=t;return r=>typeof r!="string"?n:e.test(r)?null:n}function dct(e){return cct(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,e)}function b_e(e,t){if(e.type==="checkbox"){const n=e,r=n.minSelections&&t.length<n.minSelections,i=n.maxSelections&&t.length>n.maxSelections;if(r&&i)return`Please select between ${n.minSelections} and ${n.maxSelections} options`;if(r)return`Please select at least ${n.minSelections} options`;if(i)return`Please select at most ${n.maxSelections} options`}return null}const fct=new URLSearchParams(window.location.search),hct=(e,t)=>{let n={};return e.forEach(r=>{const i=t?t[r.id]:{},o=t&&t[`${r.id}-dontKnow`]!==void 0?t[`${r.id}-dontKnow`]:!1,s=r.withDontKnow?{[`${r.id}-dontKnow`]:o}:{},a=t&&t[`${r.id}-other`]!==void 0?t[`${r.id}-other`]:"",l=r.withOther?{[`${r.id}-other`]:a}:{};if(i)n={...n,[r.id]:i,...s,...l};else{let u="";r.paramCapture?u=fct.get(r.paramCapture):r.type==="reactive"?u=[]:r.type==="matrix-radio"||r.type==="matrix-checkbox"?u=Object.fromEntries(r.questionOptions.map(c=>[c,""])):r.type==="slider"&&r.startingValue&&(u=r.startingValue.toString()),n={...n,[r.id]:u,...s,...l}}}),{...n}},pct=e=>{let t={};return e.forEach(n=>{n.required&&(t={...t,[n.id]:(r,i)=>{if(typeof r=="object"&&!Array.isArray(r)&&r!==null)return Object.values(r).every(o=>o!=="")?null:"Empty Input";if(Array.isArray(r)){if(n.requiredValue!=null&&!Array.isArray(n.requiredValue))return"Incorrect required value. Contact study administrator.";if(n.requiredValue!=null&&Array.isArray(n.requiredValue)){if(n.requiredValue.length!==r.length)return"Incorrect input";const o=[...n.requiredValue].sort(),s=[...r].sort();return o.every((a,l)=>a===s[l])?null:"Incorrect input"}return n.type==="checkbox"?b_e(n,r):r.length===0?"Empty input":null}return n.required&&n.requiredValue!=null&&r!=null?r.toString()!==n.requiredValue.toString()?"Incorrect input":null:n.required?(r==null||r==="")&&!i[`${n.id}-dontKnow`]?"Empty input":null:r===null?"Empty input":null}})}),t};function mct(e,t,n){const[r,i]=H.useState(null),o=v_e({initialValues:hct(e,n),validate:pct(e)});return H.useEffect(()=>{r!==t&&(i(t),o.reset())},[r,o,t]),o}function d0(e,t,n){var s;const{requiredValue:r,requiredLabel:i}=e;let o="";return t.checked&&Array.isArray(r)?o=r&&[...r].sort().toString()!==[...t.checked].sort().toString()?`Please ${n?"select":"enter"} ${i||r.toString()} to continue.`:null:t.checked&&e.required?o=b_e(e,t.checked):o=t.value&&r&&r.toString()!==t.value.toString()?`Please ${n?"select":"enter"} ${i||(n?(s=n.find(a=>a.value===r))==null?void 0:s.label:r.toString())} to continue.`:null,o}function w_e({horizontal:e,children:t,style:n}){return e?$.jsx(ri,{mt:je(4),gap:"lg",style:n,children:t}):$.jsx(Ru,{gap:"md",style:n,children:t})}const gct="_fixDisabled_1k5ri_1",yct="_fixDisabledIcon_1k5ri_16",vct="_fixDisabledLabel_1k5ri_20",ed={fixDisabled:gct,fixDisabledIcon:yct,fixDisabledLabel:vct},bct="_fixDisabled_d4mus_1",Lg={fixDisabled:bct};function wct({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i,otherValue:o}){const{prompt:s,required:a,options:l,secondaryText:u,horizontal:c,withOther:d}=e,f=l.map(g=>typeof g=="string"?{value:g,label:g}:g),[h,p]=H.useState(!1),m=H.useMemo(()=>d0(e,n,f),[e,n,f]);return $.jsxs(_a.Group,{label:$.jsxs(Kt,{direction:"row",wrap:"nowrap",gap:4,children:[i&&$.jsx(De,{style:{minWidth:"fit-content",fontSize:16,fontWeight:500},children:`${r}. `}),$.jsx(De,{style:{display:"block"},className:"no-last-child-bottom-padding",children:$.jsx(Xs,{text:s,required:a})})]}),description:u,...n,error:m,style:{"--input-description-size":"calc(var(--mantine-font-size-md) - calc(0.125rem * var(--mantine-scale)))"},children:[$.jsx(De,{mt:"xs",children:$.jsxs(w_e,{horizontal:!!c,style:{flexGrow:1},children:[f.map(g=>$.jsx(_a,{disabled:t,value:g.value,label:g.label,classNames:{input:ed.fixDisabled,label:ed.fixDisabledLabel,icon:ed.fixDisabledIcon}},g.value)),d&&$.jsx(_a,{disabled:t,value:"__other",checked:h,onClick:g=>p(g.currentTarget.checked),label:c?"Other":$.jsx(Xr,{mt:-8,placeholder:"Other",disabled:!h,...o,classNames:{input:Lg.fixDisabled}}),classNames:{input:ed.fixDisabled,label:ed.fixDisabledLabel,icon:ed.fixDisabledIcon}},"__other")]})}),c&&d&&$.jsx(Xr,{mt:"sm",placeholder:"Other",disabled:!h,...o,w:216,classNames:{input:Lg.fixDisabled}})]})}function xct({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{placeholder:o,prompt:s,required:a,options:l,secondaryText:u}=e,c=l.map(d=>typeof d=="string"?{value:d,label:d}:d);return $.jsx(_x,{disabled:t,label:$.jsxs(Kt,{direction:"row",wrap:"nowrap",gap:4,children:[i&&$.jsx(De,{style:{minWidth:"fit-content",fontSize:16,fontWeight:500},children:`${r}. `}),$.jsx(De,{style:{display:"block"},className:"no-last-child-bottom-padding",children:$.jsx(Xs,{text:s,required:a})})]}),description:u,placeholder:o,data:c,radius:"md",size:"md",...n,value:n.value===""?null:n.value,error:d0(e,n,c),classNames:{input:Lg.fixDisabled}})}function _ct({response:e,answer:t,index:n,enumerateQuestions:r}){const{prompt:i,required:o,secondaryText:s}=e;return $.jsx(Xr.Wrapper,{label:$.jsxs(Kt,{direction:"row",wrap:"nowrap",gap:4,children:[r&&$.jsx(De,{style:{minWidth:"fit-content",fontSize:16,fontWeight:500},children:`${n}. `}),$.jsx(De,{style:{display:"block"},className:"no-last-child-bottom-padding",children:$.jsx(Xs,{text:i,required:o})})]}),description:s,size:"md",children:t.value&&$.jsx(md,{children:Array.isArray(t.value)?t.value.map(a=>$.jsx(md.Item,{children:a},a)):$.jsx(md.Item,{children:t.value})})})}const Ect="_fixDisabled_14ab8_1",Sct="_fixDisabledIcon_14ab8_16",Tct="_fixDisabledLabel_14ab8_20",n1={fixDisabled:Ect,fixDisabledIcon:Sct,fixDisabledLabel:Tct};function x_e({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i,stretch:o,otherValue:s}){const{prompt:a,required:l,options:u,leftLabel:c,rightLabel:d,secondaryText:f,horizontal:h,withOther:p}=e,m=u.map(v=>typeof v=="string"?{value:v,label:v}:v),[g,y]=H.useState(!1);return $.jsxs(_u.Group,{name:`radioInput${e.id}`,label:$.jsxs(Kt,{direction:"row",wrap:"nowrap",gap:4,children:[i&&$.jsx(De,{style:{minWidth:"fit-content",fontSize:16,fontWeight:500},children:`${r}. `}),$.jsx(De,{style:{display:"block"},className:"no-last-child-bottom-padding",children:$.jsx(Xs,{text:a,required:l})})]}),description:f,...n,error:d0(e,n,m),style:{"--input-description-size":"calc(var(--mantine-font-size-md) - calc(0.125rem * var(--mantine-scale)))"},children:[$.jsxs(ri,{gap:"lg",align:"flex-end",mt:h?0:"sm",children:[c?$.jsx(it,{children:c}):null,$.jsxs(w_e,{horizontal:!!h,style:{flexGrow:1},children:[m.map(v=>$.jsxs("div",{style:{display:"flex",flexDirection:h?"column":"row",gap:h?"unset":je(12),flex:o?1:"unset",alignItems:"center"},children:[h&&$.jsx(it,{size:"sm",children:v.label}),$.jsx(_u,{disabled:t,value:v.value,label:v.label,styles:{label:{display:h?"none":"initial"}},onChange:()=>y(!1),classNames:{radio:n1.fixDisabled,label:n1.fixDisabledLabel,icon:n1.fixDisabledIcon}})]},`${v.value}-${e.id}`)),p&&$.jsxs("div",{style:{display:"flex",flexDirection:h?"column":"row",gap:h?"unset":je(12),flex:o?1:"unset",alignItems:"center"},children:[h&&$.jsx(it,{size:"sm",children:"Other"}),$.jsx(_u,{disabled:t,value:"other",checked:g,onClick:v=>y(v.currentTarget.checked),label:!h&&$.jsx(Xr,{mt:-8,placeholder:"Other",disabled:!g,...s,classNames:{input:Lg.fixDisabled}}),mt:0,classNames:{radio:n1.fixDisabled,label:n1.fixDisabledLabel,icon:n1.fixDisabledIcon}})]})]}),$.jsx(it,{children:d})]}),h&&p&&$.jsx(Xr,{mt:"sm",placeholder:"Other",disabled:!g,...s,w:216,classNames:{input:Lg.fixDisabled}})]},e.id)}function Cct({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{numItems:o}=e,s=[];for(let l=1;l<=+o;l+=1)s.push({label:`${l}`,value:`${l}`});const a={...e,type:"radio",options:s,horizontal:!0};return $.jsx(x_e,{disabled:t,response:a,answer:n,index:r,enumerateQuestions:i,stretch:!0})}function Act({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{prompt:o,required:s,min:a,max:l,placeholder:u,secondaryText:c}=e;return $.jsx(CH,{disabled:t,placeholder:u,label:$.jsxs(Kt,{direction:"row",wrap:"nowrap",gap:4,children:[i&&$.jsx(De,{style:{minWidth:"fit-content",fontSize:16,fontWeight:500},children:`${r}. `}),$.jsx(De,{style:{display:"block"},className:"no-last-child-bottom-padding",children:$.jsx(Xs,{text:o,required:s})})]}),description:c,radius:"md",size:"md",min:a,max:l,...n,error:d0(e,n),classNames:{input:Lg.fixDisabled}})}const kct="_track_w59g7_1",Ict="_fixDisabled_w59g7_11",sae={track:kct,fixDisabled:Ict};function Rct({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{prompt:o,required:s,options:a,secondaryText:l,snap:u,step:c,withBar:d,tlxStyle:f}=e,[h,p]=H.useMemo(()=>[Math.min(...a.map(y=>y.value)),Math.max(...a.map(y=>y.value))],[a]),m=a.some(y=>y.label!==""),g=d0(e,n);return $.jsx(Xr.Wrapper,{label:$.jsxs(Kt,{direction:"row",wrap:"nowrap",gap:4,children:[i&&$.jsx(De,{style:{minWidth:"fit-content",fontSize:16,fontWeight:500},children:`${r}. `}),$.jsx(De,{style:{display:"block"},className:"no-last-child-bottom-padding",children:$.jsx(Xs,{text:o,required:s})})]}),description:l,error:g,style:{"--input-description-size":"calc(var(--mantine-font-size-md) - calc(0.125rem * var(--mantine-scale)))"},children:$.jsx(PH,{disabled:t,marks:a,min:h,max:p,step:c??(u?.001:(p-h)/100),h:m?40:void 0,...n,classNames:{track:f?sae.track:"",bar:sae.fixDisabled},restrictToMarks:u,label:y=>u?null:y,styles:y=>({mark:{...f?{height:20,width:1,marginTop:-6,marginLeft:2,borderRadius:0}:{},...d===!1?{borderColor:"var(--mantine-color-gray-2)"}:{}},bar:d===!1||f?{display:"none"}:{},markLabel:{fontSize:y.fontSizes.sm,color:y.colors.gray[7],transform:"translate(calc((var(--mark-offset) * -1) + (var(--slider-size) / 2)), calc(var(--mantine-spacing-xs) / 2)"},thumb:{...f?{borderColor:"var(--mantine-color-red-6)",width:1,borderWidth:1,height:22,borderRadius:0,backgroundColor:"var(--mantine-color-red-6)",transform:"translate(-50%, -62%)"}:{}}}),flex:1,mt:f?"sm":"xs"})})}function Dct({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{placeholder:o,prompt:s,required:a,secondaryText:l}=e;return $.jsx(ep,{disabled:t,placeholder:o,label:$.jsxs(Kt,{direction:"row",wrap:"nowrap",gap:4,children:[i&&$.jsx(De,{style:{minWidth:"fit-content",fontSize:16,fontWeight:500},children:`${r}. `}),$.jsx(De,{style:{display:"block"},className:"no-last-child-bottom-padding",children:$.jsx(Xs,{text:s,required:a})})]}),description:l,radius:"md",size:"md",...n,value:n.value||"",error:d0(e,n),classNames:{input:Lg.fixDisabled}})}function $ct({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{placeholder:o,prompt:s,required:a,secondaryText:l}=e;return $.jsx(hH,{disabled:t,placeholder:o,label:$.jsxs(Kt,{direction:"row",wrap:"nowrap",gap:4,children:[i&&$.jsx(De,{style:{minWidth:"fit-content",fontSize:16,fontWeight:500},children:`${r}. `}),$.jsx(De,{style:{display:"block"},className:"no-last-child-bottom-padding",children:$.jsx(Xs,{text:s,required:a})})]}),description:l,radius:"md",size:"md",...n,value:n.value||"",error:d0(e,n),classNames:{input:Lg.fixDisabled}})}function Mct({_choices:e,_n:t,idx:n,question:r,answer:i,onChange:o,disabled:s}){return $.jsx("div",{style:{flex:1,display:"grid",gridTemplateColumns:`repeat(${t}, 1fr)`,justifyItems:"center"},children:e.map(a=>$.jsx(_a,{disabled:s,checked:i.value[r.label].split("|").includes(a.value),onChange:l=>o(l,r.label,a),value:a.value,classNames:{input:ed.fixDisabled,icon:ed.fixDisabledIcon}},`${a.label}-${n}`))})}function Pct({_choices:e,_n:t,idx:n,question:r,response:i,answer:o,onChange:s,disabled:a}){const l=Xv();return $.jsx(_u.Group,{name:`radioInput${i.id}-${n}`,style:{"--input-description-size":"calc(var(--mantine-font-size-md) - calc(0.125rem * var(--mantine-scale)))",flex:1},onChange:u=>s(u,r.label),value:o.value[r.label],children:$.jsx("div",{style:{flex:1,display:"grid",gridTemplateColumns:`repeat(${t}, 1fr)`,justifyItems:"center"},children:e.map(u=>u.separator?$.jsxs(ri,{justify:"space-between",style:{height:"80px",width:"100%"},children:[$.jsx(s0,{orientation:"vertical",size:"sm",color:l?"gray.4":"black"}),$.jsx(_u,{disabled:a,value:u.value},`${u.label}-${n}`),$.jsx(De,{})]},u.value):$.jsx(Ru,{justify:"center",style:{height:"80px",width:"100%"},children:$.jsx(mc,{children:$.jsx(_u,{disabled:a,value:u.value},`${u.label}-${n}`)})},u.value))})},`${i.id}-${n}`)}function Nct({response:e,answer:t,index:n,disabled:r,enumerateQuestions:i}){const{setMatrixAnswersRadio:o,setMatrixAnswersCheckbox:s}=ys(),a=Zs(),{answerOptions:l,questionOptions:u,prompt:c,secondaryText:d,required:f}=e,p=typeof l=="string"?{likely5:["Highly Unlikely","Unlikely","Neutral","Likely","Highly Likely"],likely7:["Highly Unlikely","Unlikely","Slightly Unlikely","Neutral","Slightly Likely","Likely","Highly Likely"],satisfaction5:["Highly Unsatisfied","Unsatisfied","Neutral","Satisfied","Highly Satisfied"],satisfaction7:["Highly Unsatisfied","Unsatisfied","Slightly Unsatisfied","Neutral","Slightly Satisfied","Satisfied","Highly Satisfied"]}[l].map(_=>({value:_,label:_})):l.map(_=>typeof _=="string"?{value:_,label:_}:_),m=u.map(_=>typeof _=="string"?{value:_,label:_}:_),g=(_,x)=>{const S={type:"radio",questionKey:x,val:_,responseId:e.id};a(o(S))},y=(_,x,S)=>{const C=_.target.checked,A={questionKey:x,responseId:e.id,value:S.value,label:S.label,isChecked:C,choiceOptions:p};a(s(A))},v=Xv(),w=p.length,E=m.length;return $.jsxs($.Fragment,{children:[$.jsxs(Kt,{direction:"row",wrap:"nowrap",gap:4,children:[i&&$.jsx(De,{style:{minWidth:"fit-content",fontSize:16,fontWeight:500},children:`${n}. `}),$.jsx(De,{style:{display:"block"},className:"no-last-child-bottom-padding",children:$.jsx(Xs,{text:c,required:f})})]}),$.jsx(it,{c:"dimmed",size:"sm",mt:0,children:d}),$.jsxs(De,{style:{display:"grid",gridTemplateColumns:"auto 1fr",gridTemplateRows:"auto 1fr"},m:"md",mt:"xs",children:[$.jsx("div",{style:{borderBottom:"1px solid var(--mantine-color-dark-0)",borderRight:"1px solid var(--mantine-color-dark-0)"}}),$.jsx("div",{style:{height:"100%",display:"grid",gridTemplateColumns:`repeat(${w}, 1fr)`,alignItems:"center",justifyItems:"center",borderBottom:"1px solid var(--mantine-color-dark-0)"},children:p.map((_,x)=>$.jsx(it,{style:{fontWeight:"bold",textAlign:"center",fontSize:"0.8em"},mb:"sm",ml:"xs",mr:"xs",children:_.label},`choice-${x}-label`))}),$.jsx("div",{style:{height:"100%",display:"grid",gridTemplateRows:`repeat(${E}, 1fr)`},children:m.map((_,x)=>$.jsx(it,{style:{height:"80px",width:"100%",display:"flex",alignItems:"safe center",justifyContent:"end",borderRight:"1px solid var(--mantine-color-dark-0)",backgroundColor:v?"":`${(x+1)%2===0?"var(--mantine-color-gray-2)":"white"}`,overflowY:"hidden"},ta:"right",p:"sm",miw:140,maw:400,children:_.label},`question-${x}-label`))}),$.jsx("div",{style:{height:"100%",display:"grid",gridTemplateRows:`repeat(${E},1fr)`},children:m.map((_,x)=>$.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",backgroundColor:v?`${(x+1)%2===0?"var(--mantine-color-gray-8)":""}`:`${(x+1)%2===0?"var(--mantine-color-gray-2)":"white"}`},children:e.type==="matrix-radio"?$.jsx(Pct,{disabled:r,idx:x,question:_,answer:t,_choices:p,_n:w,onChange:g,response:e}):$.jsx(Mct,{disabled:r,idx:x,question:_,answer:t,_choices:p,_n:w,onChange:y})},`question-${x}`))})]})]})}const Oct="_root_152zr_1",Lct={root:Oct};function Fct({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{prompt:o,required:s,options:a,secondaryText:l}=e,u=a.map(c=>typeof c=="string"?{value:c,label:c}:c);return $.jsx(IC,{children:$.jsx(_u.Group,{name:`radioInput${e.id}`,label:$.jsxs(Kt,{direction:"row",wrap:"nowrap",gap:4,children:[i&&$.jsx(De,{style:{minWidth:"fit-content",fontSize:16,fontWeight:500},children:`${r}. `}),$.jsx(De,{style:{display:"block"},className:"no-last-child-bottom-padding",children:$.jsx(Xs,{text:o,required:s})})]}),description:l,...n,error:d0(e,n,u),style:{"--input-description-size":"calc(var(--mantine-font-size-md) - calc(0.125rem * var(--mantine-scale)))"},children:$.jsx(Kt,{justify:"space-between",align:"center",gap:"xl",mt:"xs",children:u.map(c=>$.jsx(_u.Card,{value:c.value,disabled:t,ta:"center",className:Lct.root,p:"xs",children:$.jsx(it,{children:c.label})},c.value))})},e.id)})}function Bct({response:e,answer:t,storedAnswer:n,index:r,configInUse:i,dontKnowCheckbox:o,otherInput:s}){const a=(Object.keys(n||{}).length>0?{value:n[e.id]}:t)||{value:void 0},l=(Object.keys(n||{}).length>0?{checked:n[`${e.id}-dontKnow`]}:o)||{checked:void 0},u=(Object.keys(n||{}).length>0?{value:n[`${e.id}-other`]}:s)||{value:void 0},c=Object.keys(n||{}).length>0,[d]=sh(),h=qf().uiConfig.enumerateQuestions??!1,p=H.useMemo(()=>{if(e.paramCapture){const g=d.get(e.paramCapture);return c||!!g}return c},[c,e.paramCapture,d]),m=H.useMemo(()=>e.paramCapture?d.get(e.paramCapture)||"":e.type==="reactive"||e.type==="checkbox"?[]:e.type==="matrix-radio"||e.type==="matrix-checkbox"?Object.fromEntries(e.questionOptions.map(g=>[g,""])):e.type==="slider"&&e.startingValue?e.startingValue.toString():"",[e.paramCapture,e.questionOptions,e.startingValue,e.type,d]);return $.jsxs(De,{mb:e.withDivider||i.responseDividers?"xl":"lg",children:[e.type==="numerical"&&$.jsx(Act,{response:e,disabled:p||(o==null?void 0:o.checked),answer:a,index:r,enumerateQuestions:h}),e.type==="shortText"&&$.jsx(Dct,{response:e,disabled:p||(o==null?void 0:o.checked),answer:a,index:r,enumerateQuestions:h}),e.type==="longText"&&$.jsx($ct,{response:e,disabled:p||(o==null?void 0:o.checked),answer:a,index:r,enumerateQuestions:h}),e.type==="likert"&&$.jsx(Cct,{response:e,disabled:p||(o==null?void 0:o.checked),answer:a,index:r,enumerateQuestions:h}),e.type==="dropdown"&&$.jsx(xct,{response:e,disabled:p||(o==null?void 0:o.checked),answer:a,index:r,enumerateQuestions:h}),e.type==="slider"&&$.jsx(Rct,{response:e,disabled:p||(o==null?void 0:o.checked),answer:a,index:r,enumerateQuestions:h}),e.type==="radio"&&$.jsx(x_e,{response:e,disabled:p||(o==null?void 0:o.checked),answer:a,index:r,enumerateQuestions:h,otherValue:u}),e.type==="checkbox"&&$.jsx(wct,{response:e,disabled:p||(o==null?void 0:o.checked),answer:a,index:r,enumerateQuestions:h,otherValue:u}),e.type==="reactive"&&$.jsx(_ct,{response:e,answer:a,index:r,enumerateQuestions:h}),(e.type==="matrix-radio"||e.type==="matrix-checkbox")&&$.jsx(Nct,{disabled:p||(o==null?void 0:o.checked),response:e,answer:a,index:r,enumerateQuestions:h}),e.type==="buttons"&&$.jsx(Fct,{response:e,disabled:p||(o==null?void 0:o.checked),answer:a,index:r,enumerateQuestions:h}),e.withDontKnow&&$.jsx(_a,{mt:"xs",disabled:p,label:"I don't know",classNames:{input:ed.fixDisabled,label:ed.fixDisabledLabel,icon:ed.fixDisabledIcon},...o,checked:l.checked,onChange:g=>{o==null||o.onChange(g.currentTarget.checked),t.onChange(m)}}),(e.withDivider||i.responseDividers)&&$.jsx(s0,{mt:"xl",mb:"xs"})]})}function jct(e,t){const n=[];for(const r of e)t.includes(r)&&n.push(r);return n}function a$({config:e,location:t,status:n,style:r}){var U;const{storageEngine:i}=Zi(),o=Zs(),{updateResponseBlockValidation:s,toggleShowHelpText:a,saveIncorrectAnswer:l,incrementHelpCounter:u}=ys(),c=Uu(),d=mr(F=>F.analysisProvState[t]),f=H.useMemo(()=>(d==null?void 0:d.form)||(n==null?void 0:n.answer),[d,n]),h=Jp(),p=zu(),m=e,g=H.useMemo(()=>{var F;return((F=m==null?void 0:m.response)==null?void 0:F.filter(Y=>Y.location?Y.location===t:t==="belowStimulus"))||[]},[m==null?void 0:m.response,t]),y=H.useMemo(()=>g.map(F=>({...F,required:F.required===void 0?!0:F.required})),[g]),v=mct(y,c,f||{}),{actions:w,trrack:E}=H.useMemo(()=>{const F=Qp.create(),Y=F.register("update",(G,X)=>(G.form=X,G)),V=Kv({registry:F,initialState:{form:null}});return{actions:{updateFormAction:Y},trrack:V}},[]),_=mr(F=>F.reactiveAnswers),x=mr(F=>F.matrixAnswers),S=(m==null?void 0:m.provideFeedback)&&(((U=m==null?void 0:m.correctAnswer)==null?void 0:U.length)||0)>0,C=(m==null?void 0:m.allowFailedTraining)===void 0?!0:m.allowFailedTraining,[A,k]=H.useState(0),N=(m==null?void 0:m.trainingAttempts)||2,[M,I]=H.useState(!1),D=eb(),R=t===((m==null?void 0:m.nextButtonLocation)||"belowStimulus");H.useEffect(()=>{const F=y.find(Y=>Y.type==="reactive");if(_&&F){const Y=F.id;v.setValues({...v.values,[Y]:_[Y]})}},[_]),H.useEffect(()=>{const F=y.filter(Y=>Y.type==="matrix-radio"||Y.type==="matrix-checkbox");if(x&&F.length>0){const Y={...v.values};F.forEach(V=>{const{id:G}=V;Y[G]={...v.getInputProps(G).value,...x[G]}}),v.setValues(Y)}},[x]),H.useEffect(()=>{E.apply("update",w.updateFormAction(structuredClone(v.values))),o(s({location:t,identifier:D,status:v.isValid(),values:structuredClone(v.values),provenanceGraph:E.graph.backend}))},[v.values,D,t,o,s]);const[O,B]=H.useState(Object.fromEntries(y.map(F=>[F.id,{visible:!1,title:"Correct Answer",message:"The correct answer is: ",color:"green"}]))),z=(F,Y,V,G,X)=>{B(Z=>({...Z,[F]:{visible:Y,title:V,message:G,color:X}}))},W=()=>{const F=A+1;k(F);const Y=Object.fromEntries(y.map(V=>{var Z,oe;const G=(oe=(Z=m.correctAnswer)==null?void 0:Z.find(ne=>ne.id===V.id))==null?void 0:oe.answer,X=v.values[V.id];return[V.id,Array.isArray(X)?typeof G=="string"?X.length===1&&G===X[0]:X.length===G.length&&X.every(ne=>G.includes(ne)):G===X]}));S&&(y.forEach(V=>{var G,X,Z;if(Y[V.id]&&!((G=O[V.id])!=null&&G.message.includes("You've failed to answer this question correctly")))z(V.id,!0,"Correct Answer","You have answered the question correctly.","green");else{o(l({question:D,identifier:V.id,answer:v.values[V.id]}));let oe="";if(N===-1?oe="Please try again.":F>=N?(oe=`You didn't answer this question correctly after ${N} attempts. ${C?"You can continue to the next question.":"Unfortunately you have not met the criteria for continuing this study."}`,!C&&i&&i.rejectCurrentParticipant(h,"Failed training").then(()=>{setTimeout(()=>{p("./../__trainingFailed")},5e3)}).catch(()=>{console.error("Failed to reject participant who failed training"),setTimeout(()=>{p("./../__trainingFailed")},5e3)})):N-F===1?oe="Please try again. You have 1 attempt left.":oe=`Please try again. You have ${N-F} attempts left.`,V.type==="checkbox"){const ne=(Z=(X=m.correctAnswer)==null?void 0:X.find(ae=>ae.id===V.id))==null?void 0:Z.answer,ie=v.values[V.id],fe=jct(ie,ne),se=ne.length===fe.length&&ie.length>ne.length?"However, you have selected too many boxes. ":"";oe=`You have successfully checked ${fe.length}/${ne.length} correct boxes. ${se}${oe}`}z(V.id,!0,"Incorrect Answer",oe,"red")}}),I(C&&F>=N||Object.values(Y).every(V=>V)&&F<=N))};return $.jsxs("div",{style:r,children:[y.map((F,Y)=>{var G,X,Z;const V=(X=(G=m.correctAnswer)==null?void 0:G.find(oe=>oe.id===F.id))==null?void 0:X.answer;return $.jsx(rr.Fragment,{children:F.hidden?"":$.jsxs($.Fragment,{children:[$.jsx(Bct,{storedAnswer:f,answer:{...v.getInputProps(F.id,{type:F.type==="checkbox"?"checkbox":"input"})},dontKnowCheckbox:{...v.getInputProps(`${F.id}-dontKnow`,{type:"checkbox"})},otherInput:{...v.getInputProps(`${F.id}-other`)},response:F,index:Y+1,configInUse:m}),((Z=O[F.id])==null?void 0:Z.visible)&&$.jsxs(dp,{mb:"md",title:O[F.id].title,color:O[F.id].color,children:[O[F.id].message,O[F.id].message.includes("Please try again")&&$.jsxs($.Fragment,{children:[$.jsx("br",{}),$.jsx("br",{}),"If you're unsure"," ",$.jsx(Lv,{style:{fontSize:14},onClick:()=>{o(a()),o(u({identifier:D}))},children:"review the help text."})," "]}),$.jsx("br",{}),$.jsx("br",{}),A>=N&&N>=0&&V&&` The correct answer was: ${V}.`]})]})},`${F.id}-${c}`)}),$.jsxs(ri,{justify:"right",gap:"xs",children:[S&&R&&$.jsx(gn,{onClick:()=>W(),disabled:!v.isValid()||A>=N&&N>=0,children:"Check Answer"}),R&&$.jsx(Gut,{disabled:S&&!M||!v.isValid(),label:m.nextButtonText||"Next",configInUse:m})]})]})}const cE="@REVISIT_COMMS",zct={width:"100%",border:0};function Uct({currentConfig:e,provState:t,answers:n}){const{setReactiveAnswers:r,updateResponseBlockValidation:i}=ys(),o=Zs(),s=Qwe(),a=eb(),[l,u]=H.useState(800),c=H.useRef(null),d=H.useMemo(()=>crypto.randomUUID?crypto.randomUUID():`testID-${Date.now()}`,[]),f=uh(),h=H.useCallback((p,m)=>{var g,y;(y=(g=c.current)==null?void 0:g.contentWindow)==null||y.postMessage({error:!1,type:`${cE}/${p}`,iframeId:d,message:m},"*")},[c,d]);return H.useEffect(()=>{t&&h("PROVENANCE",t)},[t,h]),H.useEffect(()=>{n&&h("ANSWERS",n)},[n,h]),H.useEffect(()=>{const p=m=>{const{data:g}=m;if(typeof g=="object"&&d===g.iframeId)switch(g.type){case`${cE}/WINDOW_READY`:e.parameters&&h("STUDY_DATA",e.parameters);break;case`${cE}/READY`:if(c.current){const y=document.getElementById(g.iframeId);y&&y.contentWindow&&(c.current.style.height=`${y.contentWindow.document.body.scrollHeight.toString()}px`)}break;case`${cE}/ANSWERS`:o(r(g.message)),o(i({location:"stimulus",identifier:a,status:!0,values:g.message}));break;case`${cE}/PROVENANCE`:o(i({location:"stimulus",identifier:a,values:{},status:!0,provenanceGraph:g.message}));break}};return window.addEventListener("message",p),()=>window.removeEventListener("message",p)},[o,s,d,e,h,r,i,a]),$.jsx("iframe",{ref:c,id:d,src:e.path.startsWith("http")?e.path:`${ji}${e.path}?trialid=${f}&id=${d}`,style:{...zct,height:l},onLoad:()=>{var p,m;return u((((m=(p=c.current)==null?void 0:p.contentWindow)==null?void 0:m.document.body.scrollHeight)||750)+20)}})}async function wN(e){const n=await(await fetch(e)).text();if(!n.includes("<title>ReVISit</title>"))return n}async function Hct(e){const t=await fetch(`${ji}${e}`);let n;try{n=await t.json()}catch(r){console.error("Invalid JSON:",r)}return n}function Op({email:e,path:t}){const n=Rc();return $.jsxs(Ap,{fluid:!0,my:50,maw:800,mx:"auto",children:[$.jsx(Ki,{order:2,children:$.jsx(it,{span:!0,c:"orange",children:"404"})}),$.jsxs(it,{children:[$.jsx(it,{span:!0,fw:700,children:t||n.pathname})," ","not Found."]}),$.jsx(Eu,{h:"lg"}),$.jsxs(md,{children:[$.jsx(md.Item,{children:$.jsx(it,{children:"If you're trying to access your study please check the URL and verify that the global config file is correctly configured. Then try again."})}),$.jsx(md.Item,{children:$.jsxs(it,{children:["If you're a participant, please contact the study administrator"," ",e&&$.jsxs($.Fragment,{children:["at"," ",$.jsxs(Lv,{c:"blue",href:`mailto:${e}`,children:[e," "]})]}),"."]})})]})]})}const Vct={maxWidth:"100%"};function Wct({currentConfig:e}){const t={...Vct,...e.style},n=H.useMemo(()=>e.path.startsWith("http")?e.path:`${ji}${e.path}`,[e.path]),[r,i]=H.useState(!0),[o,s]=H.useState(!1);return H.useEffect(()=>{async function a(){let l=await wN(n);l=l!=null&&l.includes("File not found")?void 0:l,s(!!l),i(!1)}a()},[n]),r||o?$.jsx(a0,{mx:"auto",src:n,style:t}):$.jsx(Op,{path:e.path})}class qct extends rr.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}render(){return this.state.hasError?$.jsx(it,{children:this.state.error.toString()}):this.props.children}}const aae=Object.assign({"../public/a-usability-study-config/assets/Editor.tsx":Rxe,"../public/a-usability-study-config/assets/startingStrings.tsx":Ixe,"../public/a-usability-study-tabular/assets/Editor.tsx":Mxe,"../public/a-usability-study-tabular/assets/startingStrings.tsx":$xe,"../public/a-usability-study/assets/Editor.tsx":Oxe,"../public/a-usability-study/assets/startingStrings.tsx":Nxe,"../public/libraries/mic-check/assets/AudioTest.tsx":Hxe,"../public/libraries/test/assets/test.tsx":Vxe,"../public/test-step-logic/Example.tsx":Wxe,"../public/test-step-logic/func.ts":qxe});function Gct({currentConfig:e,provState:t,answers:n}){const r=`../public/${e.path}`,i=r in aae?aae[r].default:null,o=eb(),s=Zs(),{updateResponseBlockValidation:a,setReactiveAnswers:l}=ys(),u=H.useCallback(({status:c,provenanceGraph:d,answers:f})=>{s(a({location:"stimulus",identifier:o,status:c,values:f,provenanceGraph:d})),s(l(f))},[l,s,a,o]);return $.jsx(H.Suspense,{fallback:$.jsx("div",{children:"Loading..."}),children:i?$.jsx(qct,{children:$.jsx(i,{parameters:e.parameters,setAnswer:u,answers:n,provenanceState:t})}):$.jsx(Op,{path:e.path})})}function Yct({currentConfig:e}){const[t,n]=H.useState(""),[r,i]=H.useState(!0);return H.useEffect(()=>{async function o(){const s=await wN(`${ji}${e.path}`);s!==void 0&&n(s),i(!1)}o()},[e.path]),r||t?$.jsx(Xs,{text:t}):$.jsx(Op,{path:e.path})}function __e(){const e=Uu(),{setAlertModal:t}=ys(),n=Zs();H.useEffect(()=>{window.history.pushState(null,"",window.location.href),window.onpopstate=()=>{window.history.pushState(null,"",window.location.href),n(t({show:!0,message:"Using the browser's back button is prohibited during the study."}))}},[e,t,n])}var lae=Object.prototype.hasOwnProperty;function uae(e,t,n){for(n of e.keys())if(WS(n,t))return n}function WS(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&WS(e[r],t[r]););return r===-1}if(n===Set){if(e.size!==t.size)return!1;for(r of e)if(i=r,i&&typeof i=="object"&&(i=uae(t,i),!i)||!t.has(i))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e)if(i=r[0],i&&typeof i=="object"&&(i=uae(t,i),!i)||!WS(r[1],t.get(i)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(lae.call(e,n)&&++r&&!lae.call(t,n)||!(n in t)||!WS(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}function Kct(e){var t=H.useRef(e),n=H.useRef(0);return WS(e,t.current)||(t.current=e,n.current+=1),H.useMemo(function(){return t.current},[n.current])}function Xct(e,t){return H.useEffect(e,Kct(t))}const E_e=(e,t=null)=>{const[n,r]=H.useState("idle"),[i,o]=H.useState(null),[s,a]=H.useState(null),l=H.useRef(null),u=H.useRef(!1);H.useEffect(()=>(u.current=!0,()=>{u.current=!1}),[]);const c=H.useCallback((...d)=>{r("pending"),a(null);const f=Promise.resolve(e(...d)).then(h=>(u.current&&f===l.current&&(o(h),r("success")),h)).catch(h=>{throw u.current&&f===l.current&&(o(null),a(h),r("error")),h});return l.current=f,f},[e]);return Xct(()=>{if(t)try{c(...t)}catch{}},[c,t]),{execute:c,status:n,value:i,error:s}};function S_e(e){const t=e.endTime===-1?void 0:e.endTime-e.startTime,n=(e.windowEvents||[]).filter(s=>s!==void 0).filter(([s,a,l])=>a==="visibility");let r=0,i=0;for(;i<n.length-1;){if(n[i][2]==="hidden"){for(let s=i+1;s<n.length;s+=1)if(n[s][2]==="visible"){r+=n[s][0]-n[i][0],i=s;break}}i+=1}return t?t-r:void 0}const Qct="_root_1spq0_1",Jct="_description_1spq0_9",Zct="_title_1spq0_10",edt="_closeButton_1spq0_14",tdt={root:Qct,description:Jct,title:Zct,closeButton:edt},zT=e=>{const{title:t,message:n,color:r}=e;jv.show({title:t,message:n,position:"top-center",classNames:tdt,color:r||"blue",autoClose:r==="red"||r==="yellow"?!1:5e3})},cae=["status","rejectReason","rejectTime","percentComplete","description","instruction","responsePrompt","answer","correctAnswer","responseMin","responseMax","startTime","endTime","duration","cleanedDuration","meta","configHash"],T_e=["participantId","trialId","trialOrder","responseId"];function dq(e,t){const n=`data:text/json;charset=utf-8,${encodeURIComponent(e)}`,r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",t),document.body.appendChild(r),r.click(),r.remove()}function ndt(e,t,n){const r=(Object.entries(e.answers).filter(([o,s])=>s.endTime!==-1).length/Object.entries(e.answers).length*100).toFixed(2),i=new Set;return[[{participantId:e.participantId,trialId:"participantTags",trialOrder:null,responseId:"participantTags",answer:JSON.stringify(e.participantTags)},...Object.values(e.answers).map(o=>{const s=o.componentName,{trialOrder:a}=o,l=n.components[s],u=Pf(l,n),c=o.endTime===-1?void 0:o.endTime-o.startTime,d=S_e(o),f=Object.keys(o.answer).length===0?{"":void 0}:o.answer;return Object.entries(f).map(([p,m])=>{var v,w,E;const g={participantId:e.participantId,trialId:s,trialOrder:a,responseId:p};Object.entries(o.parameters).forEach(([_,x])=>{g[`parameters_${_}`]=x,i.add(`parameters_${_}`)});const y=u.response.find(_=>_.id===p);if(t.includes("status")&&(g.status=e.rejected?"rejected":e.completed?"completed":"in progress"),t.includes("rejectReason")&&(g.rejectReason=e.rejected?e.rejected.reason:void 0),t.includes("rejectTime")&&(g.rejectTime=e.rejected?new Date(e.rejected.timestamp).toISOString():void 0),t.includes("configHash")&&(g.configHash=e.participantConfigHash),t.includes("percentComplete")&&(g.percentComplete=r),t.includes("description")&&(g.description=u.description),t.includes("instruction")&&(g.instruction=u.instruction),t.includes("responsePrompt")&&(g.responsePrompt=y==null?void 0:y.prompt),t.includes("answer")&&(g.answer=m),t.includes("correctAnswer")){const _=(w=(v=u.correctAnswer)==null?void 0:v.find(C=>C.id===p))==null?void 0:w.answer,S=((E=o.correctAnswer.find(C=>C.id===p))==null?void 0:E.answer)||_;g.correctAnswer=typeof S=="object"?JSON.stringify(S):S}return t.includes("responseMin")&&(g.responseMin=(y==null?void 0:y.type)==="numerical"?y.min:void 0),t.includes("responseMax")&&(g.responseMax=(y==null?void 0:y.type)==="numerical"?y.max:void 0),t.includes("startTime")&&(g.startTime=new Date(o.startTime).toISOString()),t.includes("endTime")&&(g.endTime=new Date(o.endTime).toISOString()),t.includes("duration")&&(g.duration=c),t.includes("cleanedDuration")&&(g.cleanedDuration=d),t.includes("meta")&&(g.meta=JSON.stringify(u.meta,null,2)),g}).flat()}).flat()],Array.from(i)]}async function rdt(e,t,n,r){if(!n)return{header:[],rows:[]};const i=[...T_e,...e],o=[...new Set(t.map(f=>f.participantConfigHash))],s=await n.getAllConfigsFromHash(o,r),a=i,l=await Promise.all(t.map(async f=>await ndt(f,i,s[f.participantConfigHash]))),u=l.map(f=>f[0]),c=new Set(l.map(f=>f[1]).flat()),d=u.flat().sort((f,h)=>f!==h?f.participantId.localeCompare(h.participantId):f.trialOrder-h.trialOrder);return{header:[...a,...c],rows:d}}function idt({opened:e,close:t,filename:n,data:r,studyId:i}){const[o,s]=H.useState([...cae].filter(p=>p!=="meta")),a=Zi(),{value:l,status:u,error:c}=E_e(rdt,[o,r,a.storageEngine,i]),d=H.useCallback(()=>{if(!l)return;const p=[l.header.join(","),...l.rows.map(m=>l.header.map(g=>`"${`${m[g]}`.replace(/"/g,'""')}"`).join(","))].join(`
`);dq(p,n)},[n,l]),f=H.useCallback(()=>{l&&(window.parent.postMessage({type:"revisitWidget/PYTHON_EXPORT_TIDY",payload:l},"*"),zT({title:"Success",message:"Data sent to python notebook",color:"green"}))},[l]),h=H.useMemo(()=>{if(!l)return"";const p=l.rows.length>5?5:l.rows.length,m=p===1?"":"s";return`This is a preview of the first ${m?p:""} row${m} of the CSV. The full CSV contains ${l.rows.length} row${m}.`},[l]);return $.jsxs(Fi,{opened:e,size:"90%",onClose:t,title:"Tidy CSV Exporter",centered:!0,withCloseButton:!1,children:[$.jsx(EH,{searchable:!0,nothingFoundMessage:"Property not found",data:[...cae],value:o,onChange:p=>s(p),label:"Included optional columns:",leftSection:$.jsx(ize,{}),variant:"filled"}),$.jsx(Eu,{h:"md"}),$.jsxs(De,{mih:300,style:{width:"100%",overflow:"scroll"},children:[u==="success"&&l?$.jsxs(nn,{striped:!0,captionSide:"bottom",withTableBorder:!0,children:[$.jsx(nn.Thead,{children:$.jsx(nn.Tr,{children:l.header.map(p=>$.jsx(nn.Th,{style:{whiteSpace:"nowrap",minWidth:["description","instruction","participantId"].includes(p)?200:void 0},children:$.jsxs(Kt,{direction:"row",justify:"space-between",align:"center",children:[p,!T_e.includes(p)&&$.jsx(r0,{onClick:()=>s(o.filter(m=>m!==p)),style:{marginBottom:-3,marginLeft:8},variant:"subtle",color:"gray",children:$.jsx(Ax,{size:16})})]})},p))})}),$.jsx(nn.Tbody,{children:l.rows.slice(0,5).map((p,m)=>$.jsx(nn.Tr,{children:l.header.map(g=>$.jsx(nn.Td,{style:{whiteSpace:["description","instruction","participantId"].includes(g)?"normal":"nowrap"},children:p[g]},`${m}-${g}`))},m))})]}):u==="error"&&c?$.jsx(dp,{variant:"light",children:c.message}):null,$.jsx(gc,{visible:u==="pending"||u==="idle"})]}),$.jsx(Eu,{h:"sm"}),$.jsx(Kt,{justify:"center",fz:"sm",c:"dimmed",children:$.jsx(it,{children:h})}),$.jsx(Eu,{h:"md"}),$.jsxs(ri,{justify:"right",children:[$.jsx(gn,{onClick:t,color:"dark",variant:"subtle",children:"Close"}),$.jsx(gn,{leftSection:$.jsx(gye,{}),onClick:d,"data-autofocus":!0,children:"Download"}),i==="__revisit-widget"&&$.jsx(gn,{onClick:f,children:$.jsx(Y7e,{})})]})]})}function odt(){const e=qf(),{storageEngine:t}=Zi(),n=mr(w=>w.answers),r=Gx(),[i,o]=H.useState(!1);H.useEffect(()=>{if(r){o(!0);return}const w=setInterval(async()=>{await t.verifyCompletion(n)&&(o(!0),clearInterval(w))},1e3)},[]),__e();const[s,a]=H.useState(),[l,u]=H.useState(""),c=e.studyMetadata.title.replace(" ","_");H.useEffect(()=>{async function w(){if(t){const E=await t.getCurrentParticipantId(),_=await t.getParticipantData();u(E),a(_)}}w()},[t]);const d=H.useCallback(async()=>{dq(JSON.stringify(s,null,2),`${c}_${l}.json`)},[c,s,l]),f=e.uiConfig.autoDownloadStudy||!1,h=f&&e.uiConfig.autoDownloadTime||-1,[p,m]=H.useState(Math.floor(h/1e3));H.useEffect(()=>{if(i){const w=setInterval(()=>{m(E=>E-1)},1e3);return p<=0?(f&&d(),clearInterval(w),()=>clearInterval(w)):()=>clearInterval(w)}return()=>{}},[f,i,p,d]);const g=Jp(),[y,v]=H.useState(!1);return H.useEffect(()=>{(async()=>{if(t){const E=await t.getModes(g);v(E.dataCollectionEnabled)}})()},[t,g]),$.jsx(mc,{style:{height:"100%"},children:$.jsx(Kt,{direction:"column",children:i||!y?e.uiConfig.studyEndMsg?$.jsx(Xs,{text:e.uiConfig.studyEndMsg}):$.jsx(it,{size:"xl",display:"block",children:"Thank you for completing the study. You may close this window now."}):$.jsxs($.Fragment,{children:[$.jsx(it,{size:"xl",display:"block",children:"Please wait while your answers are uploaded."}),$.jsx(Eu,{h:"lg"}),$.jsx(mc,{children:$.jsx(oh,{color:"blue"})})]})})})}function sdt(){return $.jsx(it,{children:"Thank you for participating. Unfortunately you have didn't answer the training correctly, which means you are not eligible to participate in the study. You may close this window now."})}function adt(){return $.jsx(it,{children:"Thank you for participating. Unfortunately, you have not answered the questions within the given time limit. Because of this, you are no longer eligible to participate in the study. You may close this window now."})}const dae={};function w9(e,t){e===void 0&&(e=dae),t===void 0&&(t=dae);const n=Object.keys(e),r=Object.keys(t);return e===t||n.length===r.length&&n.every(i=>e[i]===t[i])}const ldt=/("(?:[^\\"]|\\.)*")|[:,]/g;function p6(e,t={}){const n=JSON.stringify([1],void 0,t.indent===void 0?2:t.indent).slice(2,-3),r=n===""?1/0:t.maxLength===void 0?80:t.maxLength;let{replacer:i}=t;return function o(s,a,l){s&&typeof s.toJSON=="function"&&(s=s.toJSON());const u=JSON.stringify(s,i);if(u===void 0)return u;const c=r-a.length-l;if(u.length<=c){const d=u.replace(ldt,(f,h)=>h||`${f} `);if(d.length<=c)return d}if(i!=null&&(s=JSON.parse(u),i=void 0),typeof s=="object"&&s!==null){const d=a+n,f=[];let h=0,p,m;if(Array.isArray(s)){p="[",m="]";const{length:g}=s;for(;h<g;h++)f.push(o(s[h],d,h===g-1?0:1)||"null")}else{p="{",m="}";const g=Object.keys(s),{length:y}=g;for(;h<y;h++){const v=g[h],w=`${JSON.stringify(v)}: `,E=o(s[v],d,w.length+(h===y-1?0:1));E!==void 0&&f.push(w+E)}}if(f.length>0)return[p,n+f.join(`,
${d}`),m].join(`
${a}`)}return u}(e,"",0)}function Ql(e,t,n){return e.fields=t||[],e.fname=n,e}function Qi(e){return e==null?null:e.fname}function Ta(e){return e==null?null:e.fields}function C_e(e){return e.length===1?udt(e[0]):cdt(e)}const udt=e=>function(t){return t[e]},cdt=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function Je(e){throw Error(e)}function ch(e){const t=[],n=e.length;let r=null,i=0,o="",s,a,l;e=e+"";function u(){t.push(o+e.substring(s,a)),o="",s=a+1}for(s=a=0;a<n;++a)if(l=e[a],l==="\\")o+=e.substring(s,a++),s=a;else if(l===r)u(),r=null,i=-1;else{if(r)continue;s===i&&l==='"'||s===i&&l==="'"?(s=a+1,r=l):l==="."&&!i?a>s?u():s=a+1:l==="["?(a>s&&u(),i=s=a+1):l==="]"&&(i||Je("Access path missing open bracket: "+e),i>0&&u(),i=0,s=a+1)}return i&&Je("Access path missing closing bracket: "+e),r&&Je("Access path missing closing quote: "+e),a>s&&(a++,u()),t}function vc(e,t,n){const r=ch(e);return e=r.length===1?r[0]:e,Ql((n&&n.get||C_e)(r),[e],t||e)}const dA=vc("id"),Ma=Ql(e=>e,[],"identity"),Qm=Ql(()=>0,[],"zero"),Yx=Ql(()=>1,[],"one"),bc=Ql(()=>!0,[],"true"),Nm=Ql(()=>!1,[],"false");function ddt(e,t,n){const r=[t].concat([].slice.call(n));console[e].apply(console,r)}const A_e=0,fq=1,hq=2,k_e=3,I_e=4;function pq(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ddt,r=e||A_e;return{level(i){return arguments.length?(r=+i,this):r},error(){return r>=fq&&n(t||"error","ERROR",arguments),this},warn(){return r>=hq&&n(t||"warn","WARN",arguments),this},info(){return r>=k_e&&n(t||"log","INFO",arguments),this},debug(){return r>=I_e&&n(t||"log","DEBUG",arguments),this}}}var et=Array.isArray;function Ft(e){return e===Object(e)}const fae=e=>e!=="__proto__";function Kx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,i)=>{for(const o in i)if(o==="signals")r.signals=fdt(r.signals,i.signals);else{const s=o==="legend"?{layout:1}:o==="style"?!0:null;Xx(r,o,i[o],s)}return r},{})}function Xx(e,t,n,r){if(!fae(t))return;let i,o;if(Ft(n)&&!et(n)){o=Ft(e[t])?e[t]:e[t]={};for(i in n)r&&(r===!0||r[i])?Xx(o,i,n[i]):fae(i)&&(o[i]=n[i])}else e[t]=n}function fdt(e,t){if(e==null)return t;const n={},r=[];function i(o){n[o.name]||(n[o.name]=1,r.push(o))}return t.forEach(i),e.forEach(i),r}function ur(e){return e[e.length-1]}function Ea(e){return e==null||e===""?null:+e}const R_e=e=>t=>e*Math.exp(t),D_e=e=>t=>Math.log(e*t),$_e=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),M_e=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,l$=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function xN(e,t,n,r){const i=n(e[0]),o=n(ur(e)),s=(o-i)*t;return[r(i-s),r(o-s)]}function P_e(e,t){return xN(e,t,Ea,Ma)}function N_e(e,t){var n=Math.sign(e[0]);return xN(e,t,D_e(n),R_e(n))}function O_e(e,t,n){return xN(e,t,l$(n),l$(1/n))}function L_e(e,t,n){return xN(e,t,$_e(n),M_e(n))}function _N(e,t,n,r,i){const o=r(e[0]),s=r(ur(e)),a=t!=null?r(t):(o+s)/2;return[i(a+(o-a)*n),i(a+(s-a)*n)]}function mq(e,t,n){return _N(e,t,n,Ea,Ma)}function gq(e,t,n){const r=Math.sign(e[0]);return _N(e,t,n,D_e(r),R_e(r))}function u$(e,t,n,r){return _N(e,t,n,l$(r),l$(1/r))}function yq(e,t,n,r){return _N(e,t,n,$_e(r),M_e(r))}function F_e(e){return 1+~~(new Date(e).getMonth()/3)}function B_e(e){return 1+~~(new Date(e).getUTCMonth()/3)}function jt(e){return e!=null?et(e)?e:[e]:[]}function j_e(e,t,n){let r=e[0],i=e[1],o;return i<r&&(o=i,i=r,r=o),o=i-r,o>=n-t?[t,n]:[r=Math.min(Math.max(r,t),n-o),r+o]}function jn(e){return typeof e=="function"}const hdt="descending";function vq(e,t,n){n=n||{},t=jt(t)||[];const r=[],i=[],o={},s=n.comparator||pdt;return jt(e).forEach((a,l)=>{a!=null&&(r.push(t[l]===hdt?-1:1),i.push(a=jn(a)?a:vc(a,null,n)),(Ta(a)||[]).forEach(u=>o[u]=1))}),i.length===0?null:Ql(s(i,r),Object.keys(o))}const Qx=(e,t)=>(e<t||e==null)&&t!=null?-1:(e>t||t==null)&&e!=null?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0),pdt=(e,t)=>e.length===1?mdt(e[0],t[0]):gdt(e,t,e.length),mdt=(e,t)=>function(n,r){return Qx(e(n),e(r))*t},gdt=(e,t,n)=>(t.push(0),function(r,i){let o,s=0,a=-1;for(;s===0&&++a<n;)o=e[a],s=Qx(o(r),o(i));return s*t[a]});function Pa(e){return jn(e)?e:()=>e}function bq(e,t){let n;return r=>{n&&clearTimeout(n),n=setTimeout(()=>(t(r),n=null),e)}}function Bn(e){for(let t,n,r=1,i=arguments.length;r<i;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e}function Gf(e,t){let n=0,r,i,o,s;if(e&&(r=e.length))if(t==null){for(i=e[n];n<r&&(i==null||i!==i);i=e[++n]);for(o=s=i;n<r;++n)i=e[n],i!=null&&(i<o&&(o=i),i>s&&(s=i))}else{for(i=t(e[n]);n<r&&(i==null||i!==i);i=t(e[++n]));for(o=s=i;n<r;++n)i=t(e[n]),i!=null&&(i<o&&(o=i),i>s&&(s=i))}return[o,s]}function z_e(e,t){const n=e.length;let r=-1,i,o,s,a,l;if(t==null){for(;++r<n;)if(o=e[r],o!=null&&o>=o){i=s=o;break}if(r===n)return[-1,-1];for(a=l=r;++r<n;)o=e[r],o!=null&&(i>o&&(i=o,a=r),s<o&&(s=o,l=r))}else{for(;++r<n;)if(o=t(e[r],r,e),o!=null&&o>=o){i=s=o;break}if(r===n)return[-1,-1];for(a=l=r;++r<n;)o=t(e[r],r,e),o!=null&&(i>o&&(i=o,a=r),s<o&&(s=o,l=r))}return[a,l]}function Vt(e,t){return Object.hasOwn(e,t)}const Uk={};function Jx(e){let t={},n;function r(o){return Vt(t,o)&&t[o]!==Uk}const i={size:0,empty:0,object:t,has:r,get(o){return r(o)?t[o]:void 0},set(o,s){return r(o)||(++i.size,t[o]===Uk&&--i.empty),t[o]=s,this},delete(o){return r(o)&&(--i.size,++i.empty,t[o]=Uk),this},clear(){i.size=i.empty=0,i.object=t={}},test(o){return arguments.length?(n=o,i):n},clean(){const o={};let s=0;for(const a in t){const l=t[a];l!==Uk&&(!n||!n(l))&&(o[a]=l,++s)}i.size=s,i.empty=0,i.object=t=o}};return e&&Object.keys(e).forEach(o=>{i.set(o,e[o])}),i}function U_e(e,t,n,r,i,o){if(!n&&n!==0)return o;const s=+n;let a=e[0],l=ur(e),u;l<a&&(u=a,a=l,l=u),u=Math.abs(t-a);const c=Math.abs(l-t);return u<c&&u<=s?r:c<=s?i:o}function Mt(e,t,n){const r=e.prototype=Object.create(t.prototype);return Object.defineProperty(r,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),Bn(r,n)}function $1(e,t,n,r){let i=t[0],o=t[t.length-1],s;return i>o&&(s=i,i=o,o=s),n=n===void 0||n,r=r===void 0||r,(n?i<=e:i<e)&&(r?e<=o:e<o)}function f0(e){return typeof e=="boolean"}function vg(e){return Object.prototype.toString.call(e)==="[object Date]"}function H_e(e){return e&&jn(e[Symbol.iterator])}function Sr(e){return typeof e=="number"}function wq(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function Bt(e){return typeof e=="string"}function xq(e,t,n){e&&(e=t?jt(e).map(a=>a.replace(/\\(.)/g,"$1")):jt(e));const r=e&&e.length,i=n&&n.get||C_e,o=a=>i(t?[a]:ch(a));let s;if(!r)s=function(){return""};else if(r===1){const a=o(e[0]);s=function(l){return""+a(l)}}else{const a=e.map(o);s=function(l){let u=""+a[0](l),c=0;for(;++c<r;)u+="|"+a[c](l);return u}}return Ql(s,e,"key")}function V_e(e,t){const n=e[0],r=ur(e),i=+t;return i?i===1?r:n+i*(r-n):n}const ydt=1e4;function W_e(e){e=+e||ydt;let t,n,r;const i=()=>{t={},n={},r=0},o=(s,a)=>(++r>e&&(n=t,t={},r=1),t[s]=a);return i(),{clear:i,has:s=>Vt(t,s)||Vt(n,s),get:s=>Vt(t,s)?t[s]:Vt(n,s)?o(s,n[s]):void 0,set:(s,a)=>Vt(t,s)?t[s]=a:o(s,a)}}function q_e(e,t,n,r){const i=t.length,o=n.length;if(!o)return t;if(!i)return n;const s=r||new t.constructor(i+o);let a=0,l=0,u=0;for(;a<i&&l<o;++u)s[u]=e(t[a],n[l])>0?n[l++]:t[a++];for(;a<i;++a,++u)s[u]=t[a];for(;l<o;++l,++u)s[u]=n[l];return s}function rS(e,t){let n="";for(;--t>=0;)n+=e;return n}function G_e(e,t,n,r){const i=n||" ",o=e+"",s=t-o.length;return s<=0?o:r==="left"?rS(i,s)+o:r==="center"?rS(i,~~(s/2))+o+rS(i,Math.ceil(s/2)):o+rS(i,s)}function fA(e){return e&&ur(e)-e[0]||0}function Rt(e){return et(e)?"["+e.map(Rt)+"]":Ft(e)||Bt(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function _q(e){return e==null||e===""?null:!e||e==="false"||e==="0"?!1:!!e}const vdt=e=>Sr(e)||vg(e)?e:Date.parse(e);function Eq(e,t){return t=t||vdt,e==null||e===""?null:t(e)}function Sq(e){return e==null||e===""?null:e+""}function Sd(e){const t={},n=e.length;for(let r=0;r<n;++r)t[e[r]]=!0;return t}function Y_e(e,t,n,r){const i=r??"",o=e+"",s=o.length,a=Math.max(0,t-i.length);return s<=t?o:n==="left"?i+o.slice(s-a):n==="center"?o.slice(0,Math.ceil(a/2))+i+o.slice(s-~~(a/2)):o.slice(0,a)+i}function Bm(e,t,n){if(e)if(t){const r=e.length;for(let i=0;i<r;++i){const o=t(e[i]);o&&n(o,i,e)}}else e.forEach(n)}var hae={},m6={},g6=34,dE=10,y6=13;function K_e(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function bdt(e,t){var n=K_e(e);return function(r,i){return t(n(r),i,e)}}function pae(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function Cl(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function wdt(e){return e<0?"-"+Cl(-e,6):e>9999?"+"+Cl(e,6):Cl(e,4)}function xdt(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":wdt(e.getUTCFullYear())+"-"+Cl(e.getUTCMonth()+1,2)+"-"+Cl(e.getUTCDate(),2)+(i?"T"+Cl(t,2)+":"+Cl(n,2)+":"+Cl(r,2)+"."+Cl(i,3)+"Z":r?"T"+Cl(t,2)+":"+Cl(n,2)+":"+Cl(r,2)+"Z":n||t?"T"+Cl(t,2)+":"+Cl(n,2)+"Z":"")}function _dt(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(d,f){var h,p,m=i(d,function(g,y){if(h)return h(g,y-1);p=g,h=f?bdt(g,f):K_e(g)});return m.columns=p||[],m}function i(d,f){var h=[],p=d.length,m=0,g=0,y,v=p<=0,w=!1;d.charCodeAt(p-1)===dE&&--p,d.charCodeAt(p-1)===y6&&--p;function E(){if(v)return m6;if(w)return w=!1,hae;var x,S=m,C;if(d.charCodeAt(S)===g6){for(;m++<p&&d.charCodeAt(m)!==g6||d.charCodeAt(++m)===g6;);return(x=m)>=p?v=!0:(C=d.charCodeAt(m++))===dE?w=!0:C===y6&&(w=!0,d.charCodeAt(m)===dE&&++m),d.slice(S+1,x-1).replace(/""/g,'"')}for(;m<p;){if((C=d.charCodeAt(x=m++))===dE)w=!0;else if(C===y6)w=!0,d.charCodeAt(m)===dE&&++m;else if(C!==n)continue;return d.slice(S,x)}return v=!0,d.slice(S,p)}for(;(y=E())!==m6;){for(var _=[];y!==hae&&y!==m6;)_.push(y),y=E();f&&(_=f(_,g++))==null||h.push(_)}return h}function o(d,f){return d.map(function(h){return f.map(function(p){return c(h[p])}).join(e)})}function s(d,f){return f==null&&(f=pae(d)),[f.map(c).join(e)].concat(o(d,f)).join(`
`)}function a(d,f){return f==null&&(f=pae(d)),o(d,f).join(`
`)}function l(d){return d.map(u).join(`
`)}function u(d){return d.map(c).join(e)}function c(d){return d==null?"":d instanceof Date?xdt(d):t.test(d+="")?'"'+d.replace(/"/g,'""')+'"':d}return{parse:r,parseRows:i,format:s,formatBody:a,formatRows:l,formatRow:u,formatValue:c}}function Edt(e){return e}function Sdt(e){if(e==null)return Edt;var t,n,r=e.scale[0],i=e.scale[1],o=e.translate[0],s=e.translate[1];return function(a,l){l||(t=n=0);var u=2,c=a.length,d=new Array(c);for(d[0]=(t+=a[0])*r+o,d[1]=(n+=a[1])*i+s;u<c;)d[u]=a[u],++u;return d}}function Tdt(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}function Cdt(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return mae(e,n)})}:mae(e,t)}function mae(e,t){var n=t.id,r=t.bbox,i=t.properties==null?{}:t.properties,o=X_e(e,t);return n==null&&r==null?{type:"Feature",properties:i,geometry:o}:r==null?{type:"Feature",id:n,properties:i,geometry:o}:{type:"Feature",id:n,bbox:r,properties:i,geometry:o}}function X_e(e,t){var n=Sdt(e.transform),r=e.arcs;function i(c,d){d.length&&d.pop();for(var f=r[c<0?~c:c],h=0,p=f.length;h<p;++h)d.push(n(f[h],h));c<0&&Tdt(d,p)}function o(c){return n(c)}function s(c){for(var d=[],f=0,h=c.length;f<h;++f)i(c[f],d);return d.length<2&&d.push(d[0]),d}function a(c){for(var d=s(c);d.length<4;)d.push(d[0]);return d}function l(c){return c.map(a)}function u(c){var d=c.type,f;switch(d){case"GeometryCollection":return{type:d,geometries:c.geometries.map(u)};case"Point":f=o(c.coordinates);break;case"MultiPoint":f=c.coordinates.map(o);break;case"LineString":f=s(c.arcs);break;case"MultiLineString":f=c.arcs.map(s);break;case"Polygon":f=l(c.arcs);break;case"MultiPolygon":f=c.arcs.map(l);break;default:return null}return{type:d,coordinates:f}}return u(t)}function Adt(e,t){var n={},r={},i={},o=[],s=-1;t.forEach(function(u,c){var d=e.arcs[u<0?~u:u],f;d.length<3&&!d[1][0]&&!d[1][1]&&(f=t[++s],t[s]=u,t[c]=f)}),t.forEach(function(u){var c=a(u),d=c[0],f=c[1],h,p;if(h=i[d])if(delete i[h.end],h.push(u),h.end=f,p=r[f]){delete r[p.start];var m=p===h?h:h.concat(p);r[m.start=h.start]=i[m.end=p.end]=m}else r[h.start]=i[h.end]=h;else if(h=r[f])if(delete r[h.start],h.unshift(u),h.start=d,p=i[d]){delete i[p.end];var g=p===h?h:p.concat(h);r[g.start=p.start]=i[g.end=h.end]=g}else r[h.start]=i[h.end]=h;else h=[u],r[h.start=d]=i[h.end=f]=h});function a(u){var c=e.arcs[u<0?~u:u],d=c[0],f;return e.transform?(f=[0,0],c.forEach(function(h){f[0]+=h[0],f[1]+=h[1]})):f=c[c.length-1],u<0?[f,d]:[d,f]}function l(u,c){for(var d in u){var f=u[d];delete c[f.start],delete f.start,delete f.end,f.forEach(function(h){n[h<0?~h:h]=1}),o.push(f)}}return l(i,r),l(r,i),t.forEach(function(u){n[u<0?~u:u]||o.push([u])}),o}function kdt(e){return X_e(e,Idt.apply(this,arguments))}function Idt(e,t,n){var r,i,o;if(arguments.length>1)r=Rdt(e,t,n);else for(i=0,r=new Array(o=e.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:Adt(e,r)}}function Rdt(e,t,n){var r=[],i=[],o;function s(d){var f=d<0?~d:d;(i[f]||(i[f]=[])).push({i:d,g:o})}function a(d){d.forEach(s)}function l(d){d.forEach(a)}function u(d){d.forEach(l)}function c(d){switch(o=d,d.type){case"GeometryCollection":d.geometries.forEach(c);break;case"LineString":a(d.arcs);break;case"MultiLineString":case"Polygon":l(d.arcs);break;case"MultiPolygon":u(d.arcs);break}}return c(t),i.forEach(n==null?function(d){r.push(d[0].i)}:function(d){n(d[0].g,d[d.length-1].g)&&r.push(d[0].i)}),r}function mp(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ddt(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Zx(e){let t,n,r;e.length!==2?(t=mp,n=(a,l)=>mp(e(a),l),r=(a,l)=>e(a)-l):(t=e===mp||e===Ddt?e:$dt,n=e,r=e);function i(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;n(a[d],l)<0?u=d+1:c=d}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;n(a[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function s(a,l,u=0,c=a.length){const d=i(a,l,u,c-1);return d>u&&r(a[d-1],l)>-r(a[d],l)?d-1:d}return{left:i,center:s,right:o}}function $dt(){return 0}function Q_e(e){return e===null?NaN:+e}function*Mdt(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const J_e=Zx(mp),Fg=J_e.right,Pdt=J_e.left;Zx(Q_e).center;function Ndt(e,t){let n=0,r,i=0,o=0;if(t===void 0)for(let s of e)s!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,o+=r*(s-i));else{let s=-1;for(let a of e)(a=t(a,++s,e))!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,o+=r*(a-i))}if(n>1)return o/(n-1)}function Odt(e,t){const n=Ndt(e,t);return n&&Math.sqrt(n)}function Ldt(e,t){let n,r;for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));return[n,r]}class il{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=n[i],s=t+o,a=Math.abs(t)<Math.abs(o)?t-(s-o):o-(s-t);a&&(n[r++]=a),t=s}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,o,s=0;if(n>0){for(s=t[--n];n>0&&(r=s,i=t[--n],s=r+i,o=i-(s-r),!o););n>0&&(o<0&&t[n-1]<0||o>0&&t[n-1]>0)&&(i=o*2,r=s+i,i==r-s&&(s=r))}return s}}class gae extends Map{constructor(t,n=tEe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(x9(this,t))}has(t){return super.has(x9(this,t))}set(t,n){return super.set(Z_e(this,t),n)}delete(t){return super.delete(eEe(this,t))}}class c$ extends Set{constructor(t,n=tEe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(x9(this,t))}add(t){return super.add(Z_e(this,t))}delete(t){return super.delete(eEe(this,t))}}function x9({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Z_e({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function eEe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function tEe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Fdt(e,t){return Array.from(t,n=>e[n])}function Bdt(e=mp){if(e===mp)return nEe;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function nEe(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const jdt=Math.sqrt(50),zdt=Math.sqrt(10),Udt=Math.sqrt(2);function d$(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=jdt?10:o>=zdt?5:o>=Udt?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(e*u),l=Math.round(t*u),a/u<e&&++a,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(e/u),l=Math.round(t/u),a*u<e&&++a,l*u>t&&--l),l<a&&.5<=n&&n<2?d$(e,t,n*2):[a,l,u]}function _9(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,s]=r?d$(t,e,n):d$(e,t,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function E9(e,t,n){return t=+t,e=+e,n=+n,d$(e,t,n)[2]}function Bg(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?E9(t,e,n):E9(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Fy(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function S9(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function rEe(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?nEe:Bdt(i);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,c=Math.log(l),d=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),h=Math.max(n,Math.floor(t-u*d/l+f)),p=Math.min(r,Math.floor(t+(l-u)*d/l+f));rEe(e,t,h,p,i)}const o=e[t];let s=n,a=r;for(fE(e,n,t),i(e[r],o)>0&&fE(e,n,r);s<a;){for(fE(e,s,a),++s,--a;i(e[s],o)<0;)++s;for(;i(e[a],o)>0;)--a}i(e[n],o)===0?fE(e,n,a):(++a,fE(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}return e}function fE(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function T9(e,t,n){if(e=Float64Array.from(Mdt(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return S9(e);if(t>=1)return Fy(e);var r,i=(r-1)*t,o=Math.floor(i),s=Fy(rEe(e,o).subarray(0,o+1)),a=S9(e.subarray(o+1));return s+(a-s)*(i-o)}}function iEe(e,t,n=Q_e){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),s=+n(e[o],o,e),a=+n(e[o+1],o+1,e);return s+(a-s)*(i-o)}}function Hdt(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function oEe(e,t){return T9(e,.5,t)}function*Vdt(e){for(const t of e)yield*t}function sEe(e){return Array.from(Vdt(e))}function bu(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function aEe(e,t){let n=0;for(let r of e)(r=+r)&&(n+=r);return n}function Wdt(e,...t){e=new c$(e),t=t.map(qdt);e:for(const n of e)for(const r of t)if(!r.has(n)){e.delete(n);continue e}return e}function qdt(e){return e instanceof c$?e:new c$(e)}function Gdt(...e){const t=new c$;for(const n of e)for(const r of n)t.add(r);return t}function Ydt(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function f$(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Aw(e){return e=f$(Math.abs(e)),e?e[1]:NaN}function Kdt(e,t){return function(n,r){for(var i=n.length,o=[],s=0,a=e[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=e[s=(s+1)%e.length];return o.reverse().join(t)}}function Xdt(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Qdt=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function sv(e){if(!(t=Qdt.exec(e)))throw new Error("invalid format: "+e);var t;return new Tq({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}sv.prototype=Tq.prototype;function Tq(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Tq.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Jdt(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var lEe;function Zdt(e,t){var n=f$(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(lEe=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+f$(e,Math.max(0,t+o-1))[0]}function yae(e,t){var n=f$(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const vae={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Ydt,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>yae(e*100,t),r:yae,s:Zdt,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function bae(e){return e}var wae=Array.prototype.map,xae=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function uEe(e){var t=e.grouping===void 0||e.thousands===void 0?bae:Kdt(wae.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?bae:Xdt(wae.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(d){d=sv(d);var f=d.fill,h=d.align,p=d.sign,m=d.symbol,g=d.zero,y=d.width,v=d.comma,w=d.precision,E=d.trim,_=d.type;_==="n"?(v=!0,_="g"):vae[_]||(w===void 0&&(w=12),E=!0,_="g"),(g||f==="0"&&h==="=")&&(g=!0,f="0",h="=");var x=m==="$"?n:m==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",S=m==="$"?r:/[%p]/.test(_)?s:"",C=vae[_],A=/[defgprs%]/.test(_);w=w===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function k(N){var M=x,I=S,D,R,O;if(_==="c")I=C(N)+I,N="";else{N=+N;var B=N<0||1/N<0;if(N=isNaN(N)?l:C(Math.abs(N),w),E&&(N=Jdt(N)),B&&+N==0&&p!=="+"&&(B=!1),M=(B?p==="("?p:a:p==="-"||p==="("?"":p)+M,I=(_==="s"?xae[8+lEe/3]:"")+I+(B&&p==="("?")":""),A){for(D=-1,R=N.length;++D<R;)if(O=N.charCodeAt(D),48>O||O>57){I=(O===46?i+N.slice(D+1):N.slice(D))+I,N=N.slice(0,D);break}}}v&&!g&&(N=t(N,1/0));var z=M.length+N.length+I.length,W=z<y?new Array(y-z+1).join(f):"";switch(v&&g&&(N=t(W+N,W.length?y-I.length:1/0),W=""),h){case"<":N=M+N+I+W;break;case"=":N=M+W+N+I;break;case"^":N=W.slice(0,z=W.length>>1)+M+N+I+W.slice(z);break;default:N=W+M+N+I;break}return o(N)}return k.toString=function(){return d+""},k}function c(d,f){var h=u((d=sv(d),d.type="f",d)),p=Math.max(-8,Math.min(8,Math.floor(Aw(f)/3)))*3,m=Math.pow(10,-p),g=xae[8+p/3];return function(y){return h(m*y)+g}}return{format:u,formatPrefix:c}}var Hk,EN,Cq;eft({thousands:",",grouping:[3],currency:["$",""]});function eft(e){return Hk=uEe(e),EN=Hk.format,Cq=Hk.formatPrefix,Hk}function cEe(e){return Math.max(0,-Aw(Math.abs(e)))}function dEe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Aw(t)/3)))*3-Aw(Math.abs(e)))}function fEe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Aw(t)-Aw(e))+1}const v6=new Date,b6=new Date;function Ko(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(t(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let u;do l.push(u=new Date(+o)),t(o,a),e(o);while(u<o&&o<s);return l},i.filter=o=>Ko(s=>{if(s>=s)for(;e(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;t(s,-1),!o(s););else for(;--a>=0;)for(;t(s,1),!o(s););}),n&&(i.count=(o,s)=>(v6.setTime(+o),b6.setTime(+s),e(v6),e(b6),Math.floor(n(v6,b6))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const kw=Ko(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);kw.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ko(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):kw);kw.range;const rp=1e3,ac=rp*60,ip=ac*60,Lp=ip*24,Aq=Lp*7,_ae=Lp*30,w6=Lp*365,op=Ko(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*rp)},(e,t)=>(t-e)/rp,e=>e.getUTCSeconds());op.range;const SN=Ko(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*rp)},(e,t)=>{e.setTime(+e+t*ac)},(e,t)=>(t-e)/ac,e=>e.getMinutes());SN.range;const TN=Ko(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ac)},(e,t)=>(t-e)/ac,e=>e.getUTCMinutes());TN.range;const CN=Ko(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*rp-e.getMinutes()*ac)},(e,t)=>{e.setTime(+e+t*ip)},(e,t)=>(t-e)/ip,e=>e.getHours());CN.range;const AN=Ko(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ip)},(e,t)=>(t-e)/ip,e=>e.getUTCHours());AN.range;const gp=Ko(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ac)/Lp,e=>e.getDate()-1);gp.range;const bg=Ko(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Lp,e=>e.getUTCDate()-1);bg.range;const hEe=Ko(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Lp,e=>Math.floor(e/Lp));hEe.range;function tb(e){return Ko(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ac)/Aq)}const e_=tb(0),h$=tb(1),tft=tb(2),nft=tb(3),Iw=tb(4),rft=tb(5),ift=tb(6);e_.range;h$.range;tft.range;nft.range;Iw.range;rft.range;ift.range;function nb(e){return Ko(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Aq)}const t_=nb(0),p$=nb(1),oft=nb(2),sft=nb(3),Rw=nb(4),aft=nb(5),lft=nb(6);t_.range;p$.range;oft.range;sft.range;Rw.range;aft.range;lft.range;const UT=Ko(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());UT.range;const HT=Ko(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());HT.range;const Yf=Ko(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Yf.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ko(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Yf.range;const Kf=Ko(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Kf.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ko(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Kf.range;function pEe(e,t,n,r,i,o){const s=[[op,1,rp],[op,5,5*rp],[op,15,15*rp],[op,30,30*rp],[o,1,ac],[o,5,5*ac],[o,15,15*ac],[o,30,30*ac],[i,1,ip],[i,3,3*ip],[i,6,6*ip],[i,12,12*ip],[r,1,Lp],[r,2,2*Lp],[n,1,Aq],[t,1,_ae],[t,3,3*_ae],[e,1,w6]];function a(u,c,d){const f=c<u;f&&([u,c]=[c,u]);const h=d&&typeof d.range=="function"?d:l(u,c,d),p=h?h.range(u,+c+1):[];return f?p.reverse():p}function l(u,c,d){const f=Math.abs(c-u)/d,h=Zx(([,,g])=>g).right(s,f);if(h===s.length)return e.every(Bg(u/w6,c/w6,d));if(h===0)return kw.every(Math.max(Bg(u,c,d),1));const[p,m]=s[f/s[h-1][2]<s[h][2]/f?h-1:h];return p.every(m)}return[a,l]}const[uft,cft]=pEe(Kf,HT,t_,hEe,AN,TN),[dft,fft]=pEe(Yf,UT,e_,gp,CN,SN),Ys="year",Hl="quarter",Ca="month",Uo="week",Vl="date",xa="day",Xf="dayofyear",Lu="hours",Fu="minutes",wc="seconds",Td="milliseconds",kq=[Ys,Hl,Ca,Uo,Vl,xa,Xf,Lu,Fu,wc,Td],x6=kq.reduce((e,t,n)=>(e[t]=1+n,e),{});function Iq(e){const t=jt(e).slice(),n={};return t.length||Je("Missing time unit."),t.forEach(i=>{Vt(x6,i)?n[i]=1:Je(`Invalid time unit: ${i}.`)}),(n[Uo]||n[xa]?1:0)+(n[Hl]||n[Ca]||n[Vl]?1:0)+(n[Xf]?1:0)>1&&Je(`Incompatible time units: ${e}`),t.sort((i,o)=>x6[i]-x6[o]),t}const hft={[Ys]:"%Y ",[Hl]:"Q%q ",[Ca]:"%b ",[Vl]:"%d ",[Uo]:"W%U ",[xa]:"%a ",[Xf]:"%j ",[Lu]:"%H:00",[Fu]:"00:%M",[wc]:":%S",[Td]:".%L",[`${Ys}-${Ca}`]:"%Y-%m ",[`${Ys}-${Ca}-${Vl}`]:"%Y-%m-%d ",[`${Lu}-${Fu}`]:"%H:%M"};function mEe(e,t){const n=Bn({},hft,t),r=Iq(e),i=r.length;let o="",s=0,a,l;for(s=0;s<i;)for(a=r.length;a>s;--a)if(l=r.slice(s,a).join("-"),n[l]!=null){o+=n[l],s=a;break}return o.trim()}const yy=new Date;function Rq(e){return yy.setFullYear(e),yy.setMonth(0),yy.setDate(1),yy.setHours(0,0,0,0),yy}function gEe(e){return vEe(new Date(e))}function yEe(e){return C9(new Date(e))}function vEe(e){return gp.count(Rq(e.getFullYear())-1,e)}function C9(e){return e_.count(Rq(e.getFullYear())-1,e)}function A9(e){return Rq(e).getDay()}function pft(e,t,n,r,i,o,s){if(0<=e&&e<100){const a=new Date(-1,t,n,r,i,o,s);return a.setFullYear(e),a}return new Date(e,t,n,r,i,o,s)}function bEe(e){return xEe(new Date(e))}function wEe(e){return k9(new Date(e))}function xEe(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return bg.count(t-1,e)}function k9(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return t_.count(t-1,e)}function I9(e){return yy.setTime(Date.UTC(e,0,1)),yy.getUTCDay()}function mft(e,t,n,r,i,o,s){if(0<=e&&e<100){const a=new Date(Date.UTC(-1,t,n,r,i,o,s));return a.setUTCFullYear(n.y),a}return new Date(Date.UTC(e,t,n,r,i,o,s))}function _Ee(e,t,n,r,i){const o=t||1,s=ur(e),a=(y,v,w)=>(w=w||y,gft(n[w],r[w],y===s&&o,v)),l=new Date,u=Sd(e),c=u[Ys]?a(Ys):Pa(2012),d=u[Ca]?a(Ca):u[Hl]?a(Hl):Qm,f=u[Uo]&&u[xa]?a(xa,1,Uo+xa):u[Uo]?a(Uo,1):u[xa]?a(xa,1):u[Vl]?a(Vl,1):u[Xf]?a(Xf,1):Yx,h=u[Lu]?a(Lu):Qm,p=u[Fu]?a(Fu):Qm,m=u[wc]?a(wc):Qm,g=u[Td]?a(Td):Qm;return function(y){l.setTime(+y);const v=c(l);return i(v,d(l),f(l,v),h(l),p(l),m(l),g(l))}}function gft(e,t,n,r){const i=n<=1?e:r?(o,s)=>r+n*Math.floor((e(o,s)-r)/n):(o,s)=>n*Math.floor(e(o,s)/n);return t?(o,s)=>t(i(o,s),s):i}function Dw(e,t,n){return t+e*7-(n+6)%7}const yft={[Ys]:e=>e.getFullYear(),[Hl]:e=>Math.floor(e.getMonth()/3),[Ca]:e=>e.getMonth(),[Vl]:e=>e.getDate(),[Lu]:e=>e.getHours(),[Fu]:e=>e.getMinutes(),[wc]:e=>e.getSeconds(),[Td]:e=>e.getMilliseconds(),[Xf]:e=>vEe(e),[Uo]:e=>C9(e),[Uo+xa]:(e,t)=>Dw(C9(e),e.getDay(),A9(t)),[xa]:(e,t)=>Dw(1,e.getDay(),A9(t))},vft={[Hl]:e=>3*e,[Uo]:(e,t)=>Dw(e,0,A9(t))};function EEe(e,t){return _Ee(e,t||1,yft,vft,pft)}const bft={[Ys]:e=>e.getUTCFullYear(),[Hl]:e=>Math.floor(e.getUTCMonth()/3),[Ca]:e=>e.getUTCMonth(),[Vl]:e=>e.getUTCDate(),[Lu]:e=>e.getUTCHours(),[Fu]:e=>e.getUTCMinutes(),[wc]:e=>e.getUTCSeconds(),[Td]:e=>e.getUTCMilliseconds(),[Xf]:e=>xEe(e),[Uo]:e=>k9(e),[xa]:(e,t)=>Dw(1,e.getUTCDay(),I9(t)),[Uo+xa]:(e,t)=>Dw(k9(e),e.getUTCDay(),I9(t))},wft={[Hl]:e=>3*e,[Uo]:(e,t)=>Dw(e,0,I9(t))};function SEe(e,t){return _Ee(e,t||1,bft,wft,mft)}const xft={[Ys]:Yf,[Hl]:UT.every(3),[Ca]:UT,[Uo]:e_,[Vl]:gp,[xa]:gp,[Xf]:gp,[Lu]:CN,[Fu]:SN,[wc]:op,[Td]:kw},_ft={[Ys]:Kf,[Hl]:HT.every(3),[Ca]:HT,[Uo]:t_,[Vl]:bg,[xa]:bg,[Xf]:bg,[Lu]:AN,[Fu]:TN,[wc]:op,[Td]:kw};function n_(e){return xft[e]}function r_(e){return _ft[e]}function TEe(e,t,n){return e?e.offset(t,n):void 0}function CEe(e,t,n){return TEe(n_(e),t,n)}function AEe(e,t,n){return TEe(r_(e),t,n)}function kEe(e,t,n,r){return e?e.range(t,n,r):void 0}function IEe(e,t,n,r){return kEe(n_(e),t,n,r)}function REe(e,t,n,r){return kEe(r_(e),t,n,r)}const iS=1e3,oS=iS*60,sS=oS*60,kN=sS*24,Eft=kN*7,Eae=kN*30,R9=kN*365,DEe=[Ys,Ca,Vl,Lu,Fu,wc,Td],aS=DEe.slice(0,-1),lS=aS.slice(0,-1),uS=lS.slice(0,-1),Sft=uS.slice(0,-1),Tft=[Ys,Uo],Sae=[Ys,Ca],$Ee=[Ys],hE=[[aS,1,iS],[aS,5,5*iS],[aS,15,15*iS],[aS,30,30*iS],[lS,1,oS],[lS,5,5*oS],[lS,15,15*oS],[lS,30,30*oS],[uS,1,sS],[uS,3,3*sS],[uS,6,6*sS],[uS,12,12*sS],[Sft,1,kN],[Tft,1,Eft],[Sae,1,Eae],[Sae,3,3*Eae],[$Ee,1,R9]];function MEe(e){const t=e.extent,n=e.maxbins||40,r=Math.abs(fA(t))/n;let i=Zx(a=>a[2]).right(hE,r),o,s;return i===hE.length?(o=$Ee,s=Bg(t[0]/R9,t[1]/R9,n)):i?(i=hE[r/hE[i-1][2]<hE[i][2]/r?i-1:i],o=i[0],s=i[1]):(o=DEe,s=Math.max(Bg(t[0],t[1],n),1)),{units:o,step:s}}function _6(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function E6(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function pE(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function PEe(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,s=e.shortDays,a=e.months,l=e.shortMonths,u=mE(i),c=gE(i),d=mE(o),f=gE(o),h=mE(s),p=gE(s),m=mE(a),g=gE(a),y=mE(l),v=gE(l),w={a:B,A:z,b:W,B:U,c:null,d:Rae,e:Rae,f:Yft,g:iht,G:sht,H:Wft,I:qft,j:Gft,L:NEe,m:Kft,M:Xft,p:F,q:Y,Q:Mae,s:Pae,S:Qft,u:Jft,U:Zft,V:eht,w:tht,W:nht,x:null,X:null,y:rht,Y:oht,Z:aht,"%":$ae},E={a:V,A:G,b:X,B:Z,c:null,d:Dae,e:Dae,f:dht,g:xht,G:Eht,H:lht,I:uht,j:cht,L:LEe,m:fht,M:hht,p:oe,q:ne,Q:Mae,s:Pae,S:pht,u:mht,U:ght,V:yht,w:vht,W:bht,x:null,X:null,y:wht,Y:_ht,Z:Sht,"%":$ae},_={a:k,A:N,b:M,B:I,c:D,d:kae,e:kae,f:zft,g:Aae,G:Cae,H:Iae,I:Iae,j:Lft,L:jft,m:Oft,M:Fft,p:A,q:Nft,Q:Hft,s:Vft,S:Bft,u:Rft,U:Dft,V:$ft,w:Ift,W:Mft,x:R,X:O,y:Aae,Y:Cae,Z:Pft,"%":Uft};w.x=x(n,w),w.X=x(r,w),w.c=x(t,w),E.x=x(n,E),E.X=x(r,E),E.c=x(t,E);function x(ie,fe){return function(se){var ae=[],Se=-1,Te=0,Oe=ie.length,We,Fe,Ue;for(se instanceof Date||(se=new Date(+se));++Se<Oe;)ie.charCodeAt(Se)===37&&(ae.push(ie.slice(Te,Se)),(Fe=Tae[We=ie.charAt(++Se)])!=null?We=ie.charAt(++Se):Fe=We==="e"?" ":"0",(Ue=fe[We])&&(We=Ue(se,Fe)),ae.push(We),Te=Se+1);return ae.push(ie.slice(Te,Se)),ae.join("")}}function S(ie,fe){return function(se){var ae=pE(1900,void 0,1),Se=C(ae,ie,se+="",0),Te,Oe;if(Se!=se.length)return null;if("Q"in ae)return new Date(ae.Q);if("s"in ae)return new Date(ae.s*1e3+("L"in ae?ae.L:0));if(fe&&!("Z"in ae)&&(ae.Z=0),"p"in ae&&(ae.H=ae.H%12+ae.p*12),ae.m===void 0&&(ae.m="q"in ae?ae.q:0),"V"in ae){if(ae.V<1||ae.V>53)return null;"w"in ae||(ae.w=1),"Z"in ae?(Te=E6(pE(ae.y,0,1)),Oe=Te.getUTCDay(),Te=Oe>4||Oe===0?p$.ceil(Te):p$(Te),Te=bg.offset(Te,(ae.V-1)*7),ae.y=Te.getUTCFullYear(),ae.m=Te.getUTCMonth(),ae.d=Te.getUTCDate()+(ae.w+6)%7):(Te=_6(pE(ae.y,0,1)),Oe=Te.getDay(),Te=Oe>4||Oe===0?h$.ceil(Te):h$(Te),Te=gp.offset(Te,(ae.V-1)*7),ae.y=Te.getFullYear(),ae.m=Te.getMonth(),ae.d=Te.getDate()+(ae.w+6)%7)}else("W"in ae||"U"in ae)&&("w"in ae||(ae.w="u"in ae?ae.u%7:"W"in ae?1:0),Oe="Z"in ae?E6(pE(ae.y,0,1)).getUTCDay():_6(pE(ae.y,0,1)).getDay(),ae.m=0,ae.d="W"in ae?(ae.w+6)%7+ae.W*7-(Oe+5)%7:ae.w+ae.U*7-(Oe+6)%7);return"Z"in ae?(ae.H+=ae.Z/100|0,ae.M+=ae.Z%100,E6(ae)):_6(ae)}}function C(ie,fe,se,ae){for(var Se=0,Te=fe.length,Oe=se.length,We,Fe;Se<Te;){if(ae>=Oe)return-1;if(We=fe.charCodeAt(Se++),We===37){if(We=fe.charAt(Se++),Fe=_[We in Tae?fe.charAt(Se++):We],!Fe||(ae=Fe(ie,se,ae))<0)return-1}else if(We!=se.charCodeAt(ae++))return-1}return ae}function A(ie,fe,se){var ae=u.exec(fe.slice(se));return ae?(ie.p=c.get(ae[0].toLowerCase()),se+ae[0].length):-1}function k(ie,fe,se){var ae=h.exec(fe.slice(se));return ae?(ie.w=p.get(ae[0].toLowerCase()),se+ae[0].length):-1}function N(ie,fe,se){var ae=d.exec(fe.slice(se));return ae?(ie.w=f.get(ae[0].toLowerCase()),se+ae[0].length):-1}function M(ie,fe,se){var ae=y.exec(fe.slice(se));return ae?(ie.m=v.get(ae[0].toLowerCase()),se+ae[0].length):-1}function I(ie,fe,se){var ae=m.exec(fe.slice(se));return ae?(ie.m=g.get(ae[0].toLowerCase()),se+ae[0].length):-1}function D(ie,fe,se){return C(ie,t,fe,se)}function R(ie,fe,se){return C(ie,n,fe,se)}function O(ie,fe,se){return C(ie,r,fe,se)}function B(ie){return s[ie.getDay()]}function z(ie){return o[ie.getDay()]}function W(ie){return l[ie.getMonth()]}function U(ie){return a[ie.getMonth()]}function F(ie){return i[+(ie.getHours()>=12)]}function Y(ie){return 1+~~(ie.getMonth()/3)}function V(ie){return s[ie.getUTCDay()]}function G(ie){return o[ie.getUTCDay()]}function X(ie){return l[ie.getUTCMonth()]}function Z(ie){return a[ie.getUTCMonth()]}function oe(ie){return i[+(ie.getUTCHours()>=12)]}function ne(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var fe=x(ie+="",w);return fe.toString=function(){return ie},fe},parse:function(ie){var fe=S(ie+="",!1);return fe.toString=function(){return ie},fe},utcFormat:function(ie){var fe=x(ie+="",E);return fe.toString=function(){return ie},fe},utcParse:function(ie){var fe=S(ie+="",!0);return fe.toString=function(){return ie},fe}}}var Tae={"-":"",_:" ",0:"0"},xs=/^\s*\d+/,Cft=/^%/,Aft=/[\\^$*+?|[\]().{}]/g;function Tr(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function kft(e){return e.replace(Aft,"\\$&")}function mE(e){return new RegExp("^(?:"+e.map(kft).join("|")+")","i")}function gE(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Ift(e,t,n){var r=xs.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Rft(e,t,n){var r=xs.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Dft(e,t,n){var r=xs.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function $ft(e,t,n){var r=xs.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Mft(e,t,n){var r=xs.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Cae(e,t,n){var r=xs.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Aae(e,t,n){var r=xs.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Pft(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Nft(e,t,n){var r=xs.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Oft(e,t,n){var r=xs.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function kae(e,t,n){var r=xs.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Lft(e,t,n){var r=xs.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Iae(e,t,n){var r=xs.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Fft(e,t,n){var r=xs.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Bft(e,t,n){var r=xs.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function jft(e,t,n){var r=xs.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function zft(e,t,n){var r=xs.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Uft(e,t,n){var r=Cft.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Hft(e,t,n){var r=xs.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Vft(e,t,n){var r=xs.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Rae(e,t){return Tr(e.getDate(),t,2)}function Wft(e,t){return Tr(e.getHours(),t,2)}function qft(e,t){return Tr(e.getHours()%12||12,t,2)}function Gft(e,t){return Tr(1+gp.count(Yf(e),e),t,3)}function NEe(e,t){return Tr(e.getMilliseconds(),t,3)}function Yft(e,t){return NEe(e,t)+"000"}function Kft(e,t){return Tr(e.getMonth()+1,t,2)}function Xft(e,t){return Tr(e.getMinutes(),t,2)}function Qft(e,t){return Tr(e.getSeconds(),t,2)}function Jft(e){var t=e.getDay();return t===0?7:t}function Zft(e,t){return Tr(e_.count(Yf(e)-1,e),t,2)}function OEe(e){var t=e.getDay();return t>=4||t===0?Iw(e):Iw.ceil(e)}function eht(e,t){return e=OEe(e),Tr(Iw.count(Yf(e),e)+(Yf(e).getDay()===4),t,2)}function tht(e){return e.getDay()}function nht(e,t){return Tr(h$.count(Yf(e)-1,e),t,2)}function rht(e,t){return Tr(e.getFullYear()%100,t,2)}function iht(e,t){return e=OEe(e),Tr(e.getFullYear()%100,t,2)}function oht(e,t){return Tr(e.getFullYear()%1e4,t,4)}function sht(e,t){var n=e.getDay();return e=n>=4||n===0?Iw(e):Iw.ceil(e),Tr(e.getFullYear()%1e4,t,4)}function aht(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Tr(t/60|0,"0",2)+Tr(t%60,"0",2)}function Dae(e,t){return Tr(e.getUTCDate(),t,2)}function lht(e,t){return Tr(e.getUTCHours(),t,2)}function uht(e,t){return Tr(e.getUTCHours()%12||12,t,2)}function cht(e,t){return Tr(1+bg.count(Kf(e),e),t,3)}function LEe(e,t){return Tr(e.getUTCMilliseconds(),t,3)}function dht(e,t){return LEe(e,t)+"000"}function fht(e,t){return Tr(e.getUTCMonth()+1,t,2)}function hht(e,t){return Tr(e.getUTCMinutes(),t,2)}function pht(e,t){return Tr(e.getUTCSeconds(),t,2)}function mht(e){var t=e.getUTCDay();return t===0?7:t}function ght(e,t){return Tr(t_.count(Kf(e)-1,e),t,2)}function FEe(e){var t=e.getUTCDay();return t>=4||t===0?Rw(e):Rw.ceil(e)}function yht(e,t){return e=FEe(e),Tr(Rw.count(Kf(e),e)+(Kf(e).getUTCDay()===4),t,2)}function vht(e){return e.getUTCDay()}function bht(e,t){return Tr(p$.count(Kf(e)-1,e),t,2)}function wht(e,t){return Tr(e.getUTCFullYear()%100,t,2)}function xht(e,t){return e=FEe(e),Tr(e.getUTCFullYear()%100,t,2)}function _ht(e,t){return Tr(e.getUTCFullYear()%1e4,t,4)}function Eht(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Rw(e):Rw.ceil(e),Tr(e.getUTCFullYear()%1e4,t,4)}function Sht(){return"+0000"}function $ae(){return"%"}function Mae(e){return+e}function Pae(e){return Math.floor(+e/1e3)}var r1,Dq,BEe,$q,jEe;Tht({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Tht(e){return r1=PEe(e),Dq=r1.format,BEe=r1.parse,$q=r1.utcFormat,jEe=r1.utcParse,r1}function cS(e){const t={};return n=>t[n]||(t[n]=e(n))}function Cht(e,t){return n=>{const r=e(n),i=r.indexOf(t);if(i<0)return r;let o=Aht(r,i);const s=o<r.length?r.slice(o):"";for(;--o>i;)if(r[o]!=="0"){++o;break}return r.slice(0,o)+s}}function Aht(e,t){let n=e.lastIndexOf("e"),r;if(n>0)return n;for(n=e.length;--n>t;)if(r=e.charCodeAt(n),r>=48&&r<=57)return n+1}function zEe(e){const t=cS(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat(r){const i=sv(r||",");if(i.precision==null){switch(i.precision=12,i.type){case"%":i.precision-=2;break;case"e":i.precision-=1;break}return Cht(t(i),t(".1f")(1)[1])}else return t(i)},formatSpan(r,i,o,s){s=sv(s??",f");const a=Bg(r,i,o),l=Math.max(Math.abs(r),Math.abs(i));let u;if(s.precision==null)switch(s.type){case"s":return isNaN(u=dEe(a,l))||(s.precision=u),n(s,l);case"":case"e":case"g":case"p":case"r":{isNaN(u=fEe(a,l))||(s.precision=u-(s.type==="e"));break}case"f":case"%":{isNaN(u=cEe(a))||(s.precision=u-(s.type==="%")*2);break}}return t(s)}}}let D9;UEe();function UEe(){return D9=zEe({format:EN,formatPrefix:Cq})}function HEe(e){return zEe(uEe(e))}function m$(e){return arguments.length?D9=HEe(e):D9}function Nae(e,t,n){n=n||{},Ft(n)||Je(`Invalid time multi-format specifier: ${n}`);const r=t(wc),i=t(Fu),o=t(Lu),s=t(Vl),a=t(Uo),l=t(Ca),u=t(Hl),c=t(Ys),d=e(n[Td]||".%L"),f=e(n[wc]||":%S"),h=e(n[Fu]||"%I:%M"),p=e(n[Lu]||"%I %p"),m=e(n[Vl]||n[xa]||"%a %d"),g=e(n[Uo]||"%b %d"),y=e(n[Ca]||"%B"),v=e(n[Hl]||"%B"),w=e(n[Ys]||"%Y");return E=>(r(E)<E?d:i(E)<E?f:o(E)<E?h:s(E)<E?p:l(E)<E?a(E)<E?m:g:c(E)<E?u(E)<E?y:v:w)(E)}function VEe(e){const t=cS(e.format),n=cS(e.utcFormat);return{timeFormat:r=>Bt(r)?t(r):Nae(t,n_,r),utcFormat:r=>Bt(r)?n(r):Nae(n,r_,r),timeParse:cS(e.parse),utcParse:cS(e.utcParse)}}let $9;WEe();function WEe(){return $9=VEe({format:Dq,parse:BEe,utcFormat:$q,utcParse:jEe})}function qEe(e){return VEe(PEe(e))}function VT(e){return arguments.length?$9=qEe(e):$9}const M9=(e,t)=>Bn({},e,t);function GEe(e,t){const n=e?HEe(e):m$(),r=t?qEe(t):VT();return M9(n,r)}function Mq(e,t){const n=arguments.length;return n&&n!==2&&Je("defaultLocale expects either zero or two arguments."),n?M9(m$(e),VT(t)):M9(m$(),VT())}function kht(){return UEe(),WEe(),Mq()}const Iht=/^(data:|([A-Za-z]+:)?\/\/)/,Rht=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,Dht=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,Oae="file://";function $ht(e,t){return n=>({options:n||{},sanitize:Pht,load:Mht,fileAccess:!1,file:Nht(t),http:Lht(e)})}async function Mht(e,t){const n=await this.sanitize(e,t),r=n.href;return n.localFile?this.file(r):this.http(r,t)}async function Pht(e,t){t=Bn({},this.options,t);const n=this.fileAccess,r={href:null};let i,o,s;const a=Rht.test(e.replace(Dht,""));(e==null||typeof e!="string"||!a)&&Je("Sanitize failure, invalid URI: "+Rt(e));const l=Iht.test(e);return(s=t.baseURL)&&!l&&(!e.startsWith("/")&&!s.endsWith("/")&&(e="/"+e),e=s+e),o=(i=e.startsWith(Oae))||t.mode==="file"||t.mode!=="http"&&!l&&n,i?e=e.slice(Oae.length):e.startsWith("//")&&(t.defaultProtocol==="file"?(e=e.slice(2),o=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(r,"localFile",{value:!!o}),r.href=e,t.target&&(r.target=t.target+""),t.rel&&(r.rel=t.rel+""),t.context==="image"&&t.crossOrigin&&(r.crossOrigin=t.crossOrigin+""),r}function Nht(e){return e?t=>new Promise((n,r)=>{e.readFile(t,(i,o)=>{i?r(i):n(o)})}):Oht}async function Oht(){Je("No file system access.")}function Lht(e){return e?async function(t,n){const r=Bn({},this.options.http,n),i=n&&n.response,o=await e(t,r);return o.ok?jn(o[i])?o[i]():o.text():Je(o.status+""+o.statusText)}:Fht}async function Fht(){Je("No HTTP fetch method available.")}const Bht=e=>e!=null&&e===e,jht=e=>e==="true"||e==="false"||e===!0||e===!1,zht=e=>!Number.isNaN(Date.parse(e)),YEe=e=>!Number.isNaN(+e)&&!(e instanceof Date),Uht=e=>YEe(e)&&Number.isInteger(+e),P9={boolean:_q,integer:Ea,number:Ea,date:Eq,string:Sq,unknown:Ma},Vk=[jht,Uht,YEe,zht],Hht=["boolean","integer","number","date"];function KEe(e,t){if(!e||!e.length)return"unknown";const n=e.length,r=Vk.length,i=Vk.map((o,s)=>s+1);for(let o=0,s=0,a,l;o<n;++o)for(l=t?e[o][t]:e[o],a=0;a<r;++a)if(i[a]&&Bht(l)&&!Vk[a](l)&&(i[a]=0,++s,s===Vk.length))return"string";return Hht[i.reduce((o,s)=>o===0?s:o,0)-1]}function XEe(e,t){return t.reduce((n,r)=>(n[r]=KEe(e,r),n),{})}function Lae(e){const t=function(n,r){const i={delimiter:e};return Pq(n,r?Bn(r,i):i)};return t.responseType="text",t}function Pq(e,t){return t.header&&(e=t.header.map(Rt).join(t.delimiter)+`
`+e),_dt(t.delimiter).parse(e+"")}Pq.responseType="text";function Vht(e){return typeof Buffer=="function"&&jn(Buffer.isBuffer)?Buffer.isBuffer(e):!1}function Nq(e,t){const n=t&&t.property?vc(t.property):Ma;return Ft(e)&&!Vht(e)?Wht(n(e),t):n(JSON.parse(e))}Nq.responseType="json";function Wht(e,t){return!et(e)&&H_e(e)&&(e=[...e]),t&&t.copy?JSON.parse(JSON.stringify(e)):e}const qht={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function QEe(e,t){let n,r,i,o;return e=Nq(e,t),t&&t.feature?(n=Cdt,i=t.feature):t&&t.mesh?(n=kdt,i=t.mesh,o=qht[t.filter]):Je("Missing TopoJSON feature or mesh parameter."),r=(r=e.objects[i])?n(e,r,o):Je("Invalid TopoJSON object: "+i),r&&r.features||[r]}QEe.responseType="json";const TR={dsv:Pq,csv:Lae(","),tsv:Lae("	"),json:Nq,topojson:QEe};function Oq(e,t){return arguments.length>1?(TR[e]=t,this):Vt(TR,e)?TR[e]:null}function JEe(e){const t=Oq(e);return t&&t.responseType||"text"}function ZEe(e,t,n,r){t=t||{};const i=Oq(t.type||"json");return i||Je("Unknown data format type: "+t.type),e=i(e,t),t.parse&&Ght(e,t.parse,n,r),Vt(e,"columns")&&delete e.columns,e}function Ght(e,t,n,r){if(!e.length)return;const i=VT();n=n||i.timeParse,r=r||i.utcParse;let o=e.columns||Object.keys(e[0]),s,a,l,u,c,d;t==="auto"&&(t=XEe(e,o)),o=Object.keys(t);const f=o.map(h=>{const p=t[h];let m,g;if(p&&(p.startsWith("date:")||p.startsWith("utc:")))return m=p.split(/:(.+)?/,2),g=m[1],(g[0]==="'"&&g[g.length-1]==="'"||g[0]==='"'&&g[g.length-1]==='"')&&(g=g.slice(1,-1)),(m[0]==="utc"?r:n)(g);if(!P9[p])throw Error("Illegal format pattern: "+h+":"+p);return P9[p]});for(l=0,c=e.length,d=o.length;l<c;++l)for(s=e[l],u=0;u<d;++u)a=o[u],s[a]=f[u](s[a])}const IN=$ht(typeof fetch<"u"&&fetch,null);function RN(e){const t=e||Ma,n=[],r={};return n.add=i=>{const o=t(i);return r[o]||(r[o]=1,n.push(i)),n},n.remove=i=>{const o=t(i);if(r[o]){r[o]=0;const s=n.indexOf(i);s>=0&&n.splice(s,1)}return n},n}async function CR(e,t){try{await t(e)}catch(n){e.error(n)}}const eSe=Symbol("vega_id");let Yht=1;function DN(e){return!!(e&&fn(e))}function fn(e){return e[eSe]}function tSe(e,t){return e[eSe]=t,e}function Ir(e){const t=e===Object(e)?e:{data:e};return fn(t)?t:tSe(t,Yht++)}function Lq(e){return $N(e,Ir({}))}function $N(e,t){for(const n in e)t[n]=e[n];return t}function nSe(e,t){return tSe(t,fn(e))}function rb(e,t){return e?t?(n,r)=>e(n,r)||fn(t(n))-fn(t(r)):(n,r)=>e(n,r)||fn(n)-fn(r):null}function rSe(e){return e&&e.constructor===ib}function ib(){const e=[],t=[],n=[],r=[],i=[];let o=null,s=!1;return{constructor:ib,insert(a){const l=jt(a),u=l.length;for(let c=0;c<u;++c)e.push(l[c]);return this},remove(a){const l=jn(a)?r:t,u=jt(a),c=u.length;for(let d=0;d<c;++d)l.push(u[d]);return this},modify(a,l,u){const c={field:l,value:Pa(u)};return jn(a)?(c.filter=a,i.push(c)):(c.tuple=a,n.push(c)),this},encode(a,l){return jn(a)?i.push({filter:a,field:l}):n.push({tuple:a,field:l}),this},clean(a){return o=a,this},reflow(){return s=!0,this},pulse(a,l){const u={},c={};let d,f,h,p,m,g;for(d=0,f=l.length;d<f;++d)u[fn(l[d])]=1;for(d=0,f=t.length;d<f;++d)m=t[d],u[fn(m)]=-1;for(d=0,f=r.length;d<f;++d)p=r[d],l.forEach(v=>{p(v)&&(u[fn(v)]=-1)});for(d=0,f=e.length;d<f;++d)m=e[d],g=fn(m),u[g]?u[g]=1:a.add.push(Ir(e[d]));for(d=0,f=l.length;d<f;++d)m=l[d],u[fn(m)]<0&&a.rem.push(m);function y(v,w,E){E?v[w]=E(v):a.encode=w,s||(c[fn(v)]=v)}for(d=0,f=n.length;d<f;++d)h=n[d],m=h.tuple,p=h.field,g=u[fn(m)],g>0&&(y(m,p,h.value),a.modifies(p));for(d=0,f=i.length;d<f;++d)h=i[d],p=h.filter,l.forEach(v=>{p(v)&&u[fn(v)]>0&&y(v,h.field,h.value)}),a.modifies(h.field);if(s)a.mod=t.length||r.length?l.filter(v=>u[fn(v)]>0):l.slice();else for(g in c)a.mod.push(c[g]);return(o||o==null&&(t.length||r.length))&&a.clean(!0),a}}}const AR="_:mod:_";function MN(){Object.defineProperty(this,AR,{writable:!0,value:{}})}MN.prototype={set(e,t,n,r){const i=this,o=i[e],s=i[AR];return t!=null&&t>=0?(o[t]!==n||r)&&(o[t]=n,s[t+":"+e]=-1,s[e]=-1):(o!==n||r)&&(i[e]=n,s[e]=et(n)?1+n.length:-1),i},modified(e,t){const n=this[AR];if(arguments.length){if(et(e)){for(let r=0;r<e.length;++r)if(n[e[r]])return!0;return!1}}else{for(const r in n)if(n[r])return!0;return!1}return t!=null&&t>=0?t+1<n[e]||!!n[t+":"+e]:!!n[e]},clear(){return this[AR]={},this}};let Kht=0;const Xht="pulse",Qht=new MN,Jht=1,Zht=2;function ei(e,t,n,r){this.id=++Kht,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}function Fae(e){return function(t){const n=this.flags;return arguments.length===0?!!(n&e):(this.flags=t?n|e:n&~e,this)}}ei.prototype={targets(){return this._targets||(this._targets=RN(dA))},set(e){return this.value!==e?(this.value=e,1):0},skip:Fae(Jht),modified:Fae(Zht),parameters(e,t,n){t=t!==!1;const r=this._argval=this._argval||new MN,i=this._argops=this._argops||[],o=[];let s,a,l,u;const c=(d,f,h)=>{h instanceof ei?(h!==this&&(t&&h.targets().add(this),o.push(h)),i.push({op:h,name:d,index:f})):r.set(d,f,h)};for(s in e)if(a=e[s],s===Xht)jt(a).forEach(d=>{d instanceof ei?d!==this&&(d.targets().add(this),o.push(d)):Je("Pulse parameters must be operator instances.")}),this.source=a;else if(et(a))for(r.set(s,-1,Array(l=a.length)),u=0;u<l;++u)c(s,u,a[u]);else c(s,-1,a);return this.marshall().clear(),n&&(i.initonly=!0),o},marshall(e){const t=this._argval||Qht,n=this._argops;let r,i,o,s;if(n){const a=n.length;for(i=0;i<a;++i)r=n[i],o=r.op,s=o.modified()&&o.stamp===e,t.set(r.name,r.index,o.value,s);if(n.initonly){for(i=0;i<a;++i)r=n[i],r.op.targets().remove(this);this._argops=null,this._update=null}}return t},detach(){const e=this._argops;let t,n,r,i;if(e)for(t=0,n=e.length;t<n;++t)r=e[t],i=r.op,i._targets&&i._targets.remove(this);this.pulse=null,this.source=null},evaluate(e){const t=this._update;if(t){const n=this.marshall(e.stamp),r=t.call(this,n,e);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return e.StopPropagation}},run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e}};function ept(e,t,n,r){let i=1,o;return e instanceof ei?o=e:e&&e.prototype instanceof ei?o=new e:jn(e)?o=new ei(null,e):(i=0,o=new ei(e,t)),this.rank(o),i&&(r=n,n=t),n&&this.connect(o,o.parameters(n,r)),this.touch(o),o}function tpt(e,t){const n=e.rank,r=t.length;for(let i=0;i<r;++i)if(n<t[i].rank){this.rerank(e);return}}let npt=0;function PN(e,t,n){this.id=++npt,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function Om(e,t,n){return new PN(e,t,n)}PN.prototype={_filter:bc,_apply:Ma,targets(){return this._targets||(this._targets=RN(dA))},consume(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive(e){if(this._filter(e)){const t=this.value=this._apply(e),n=this._targets,r=n?n.length:0;for(let i=0;i<r;++i)n[i].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter(e){const t=Om(e);return this.targets().add(t),t},apply(e){const t=Om(null,e);return this.targets().add(t),t},merge(){const e=Om();this.targets().add(e);for(let t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},throttle(e){let t=-1;return this.filter(()=>{const n=Date.now();return n-t>e?(t=n,1):0})},debounce(e){const t=Om();return this.targets().add(Om(null,null,bq(e,n=>{const r=n.dataflow;t.receive(n),r&&r.run&&r.run()}))),t},between(e,t){let n=!1;return e.targets().add(Om(null,null,()=>n=!0)),t.targets().add(Om(null,null,()=>n=!1)),this.filter(()=>n)},detach(){this._filter=bc,this._targets=null}};function rpt(e,t,n,r){const i=this,o=Om(n,r),s=function(u){u.dataflow=i;try{o.receive(u)}catch(c){i.error(c)}finally{i.run()}};let a;typeof e=="string"&&typeof document<"u"?a=document.querySelectorAll(e):a=jt(e);const l=a.length;for(let u=0;u<l;++u)a[u].addEventListener(t,s);return o}function ipt(e,t){const n=this.locale();return ZEe(e,t,n.timeParse,n.utcParse)}function opt(e,t,n){return t=this.parse(t,n),this.pulse(e,this.changeset().insert(t))}async function spt(e,t){const n=this;let r=0,i;try{i=await n.loader().load(e,{context:"dataflow",response:JEe(t&&t.type)});try{i=n.parse(i,t)}catch(o){r=-2,n.warn("Data ingestion failed",e,o)}}catch(o){r=-1,n.warn("Loading failed",e,o)}return{data:i,status:r}}async function apt(e,t,n){const r=this,i=r._pending||lpt(r);i.requests+=1;const o=await r.request(t,n);return r.pulse(e,r.changeset().remove(bc).insert(o.data||[])),i.done(),o}function lpt(e){let t;const n=new Promise(r=>t=r);return n.requests=0,n.done=()=>{--n.requests===0&&(e._pending=null,t(e))},e._pending=n}const upt={skip:!0};function cpt(e,t,n,r,i){return(e instanceof ei?fpt:dpt)(this,e,t,n,r,i),this}function dpt(e,t,n,r,i,o){const s=Bn({},o,upt);let a,l;jn(n)||(n=Pa(n)),r===void 0?a=u=>e.touch(n(u)):jn(r)?(l=new ei(null,r,i,!1),a=u=>{l.evaluate(u);const c=n(u),d=l.value;rSe(d)?e.pulse(c,d,o):e.update(c,d,s)}):a=u=>e.update(n(u),r,s),t.apply(a)}function fpt(e,t,n,r,i,o){if(r===void 0)t.targets().add(n);else{const s=o||{},a=new ei(null,hpt(n,r),i,!1);a.modified(s.force),a.rank=t.rank,t.targets().add(a),n&&(a.skip(!0),a.value=n.value,a.targets().add(n),e.connect(n,[a]))}}function hpt(e,t){return t=jn(t)?t:Pa(t),e?function(n,r){const i=t(n,r);return e.skip()||(e.skip(i!==this.value).value=i),i}:t}function ppt(e){e.rank=++this._rank}function mpt(e){const t=[e];let n,r,i;for(;t.length;)if(this.rank(n=t.pop()),r=n._targets)for(i=r.length;--i>=0;)t.push(n=r[i]),n===e&&Je("Cycle detected in dataflow graph.")}const g$={},df=1,jm=2,Hh=4,gpt=df|jm,Bae=df|Hh,i1=df|jm|Hh,jae=8,yE=16,zae=32,Uae=64;function wg(e,t,n){this.dataflow=e,this.stamp=t??-1,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function S6(e,t){const n=[];return Bm(e,t,r=>n.push(r)),n}function Hae(e,t){const n={};return e.visit(t,r=>{n[fn(r)]=1}),r=>n[fn(r)]?null:r}function Wk(e,t){return e?(n,r)=>e(n,r)&&t(n,r):t}wg.prototype={StopPropagation:g$,ADD:df,REM:jm,MOD:Hh,ADD_REM:gpt,ADD_MOD:Bae,ALL:i1,REFLOW:jae,SOURCE:yE,NO_SOURCE:zae,NO_FIELDS:Uae,fork(e){return new wg(this.dataflow).init(this,e)},clone(){const e=this.fork(i1);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(i1|yE)},addAll(){let e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||(e=new wg(this.dataflow).init(this),e.add=e.source,e.rem=[]),e},init(e,t){const n=this;return n.stamp=e.stamp,n.encode=e.encode,e.fields&&!(t&Uae)&&(n.fields=e.fields),t&df?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),t&jm?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),t&Hh?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),t&zae?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source,e.cleans&&(n.cleans=e.cleans)),n},runAfter(e){this.dataflow.runAfter(e)},changed(e){const t=e||i1;return t&df&&this.add.length||t&jm&&this.rem.length||t&Hh&&this.mod.length},reflow(e){if(e)return this.fork(i1).reflow();const t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(Hh,Hae(this,df))),this},clean(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies(e){const t=this.fields||(this.fields={});return et(e)?e.forEach(n=>t[n]=!0):t[e]=!0,this},modified(e,t){const n=this.fields;return(t||this.mod.length)&&n?arguments.length?et(e)?e.some(r=>n[r]):n[e]:!!n:!1},filter(e,t){const n=this;return e&df&&(n.addF=Wk(n.addF,t)),e&jm&&(n.remF=Wk(n.remF,t)),e&Hh&&(n.modF=Wk(n.modF,t)),e&yE&&(n.srcF=Wk(n.srcF,t)),n},materialize(e){e=e||i1;const t=this;return e&df&&t.addF&&(t.add=S6(t.add,t.addF),t.addF=null),e&jm&&t.remF&&(t.rem=S6(t.rem,t.remF),t.remF=null),e&Hh&&t.modF&&(t.mod=S6(t.mod,t.modF),t.modF=null),e&yE&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit(e,t){const n=this,r=t;if(e&yE)return Bm(n.source,n.srcF,r),n;e&df&&Bm(n.add,n.addF,r),e&jm&&Bm(n.rem,n.remF,r),e&Hh&&Bm(n.mod,n.modF,r);const i=n.source;if(e&jae&&i){const o=n.add.length+n.mod.length;o===i.length||(o?Bm(i,Hae(n,Bae),r):Bm(i,n.srcF,r))}return n}};function Fq(e,t,n,r){const i=this;let o=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n;for(const s of n)if(s.stamp===t){if(s.fields){const a=i.fields||(i.fields={});for(const l in s.fields)a[l]=1}s.changed(i.ADD)&&(o|=i.ADD),s.changed(i.REM)&&(o|=i.REM),s.changed(i.MOD)&&(o|=i.MOD)}this.changes=o}Mt(Fq,wg,{fork(e){const t=new wg(this.dataflow).init(this,e&this.NO_FIELDS);return e!==void 0&&(e&t.ADD&&this.visit(t.ADD,n=>t.add.push(n)),e&t.REM&&this.visit(t.REM,n=>t.rem.push(n)),e&t.MOD&&this.visit(t.MOD,n=>t.mod.push(n))),t},changed(e){return this.changes&e},modified(e){const t=this,n=t.fields;return n&&t.changes&t.MOD?et(e)?e.some(r=>n[r]):n[e]:0},filter(){Je("MultiPulse does not support filtering.")},materialize(){Je("MultiPulse does not support materialization.")},visit(e,t){const n=this,r=n.pulses,i=r.length;let o=0;if(e&n.SOURCE)for(;o<i;++o)r[o].visit(e,t);else for(;o<i;++o)r[o].stamp===n.stamp&&r[o].visit(e,t);return n}});async function ypt(e,t,n){const r=this,i=[];if(r._pulse)return iSe(r);if(r._pending&&await r._pending,t&&await CR(r,t),!r._touched.length)return r.debug("Dataflow invoked, but nothing to do."),r;const o=++r._clock;r._pulse=new wg(r,o,e),r._touched.forEach(c=>r._enqueue(c,!0)),r._touched=RN(dA);let s=0,a,l,u;try{for(;r._heap.size()>0;){if(a=r._heap.pop(),a.rank!==a.qrank){r._enqueue(a,!0);continue}l=a.run(r._getPulse(a,e)),l.then?l=await l:l.async&&(i.push(l.async),l=g$),l!==g$&&a._targets&&a._targets.forEach(c=>r._enqueue(c)),++s}}catch(c){r._heap.clear(),u=c}if(r._input={},r._pulse=null,r.debug(`Pulse ${o}: ${s} operators`),u&&(r._postrun=[],r.error(u)),r._postrun.length){const c=r._postrun.sort((d,f)=>f.priority-d.priority);r._postrun=[];for(let d=0;d<c.length;++d)await CR(r,c[d].callback)}return n&&await CR(r,n),i.length&&Promise.all(i).then(c=>r.runAsync(null,()=>{c.forEach(d=>{try{d(r)}catch(f){r.error(f)}})})),r}async function vpt(e,t,n){for(;this._running;)await this._running;const r=()=>this._running=null;return(this._running=this.evaluate(e,t,n)).then(r,r),this._running}function bpt(e,t,n){return this._pulse?iSe(this):(this.evaluate(e,t,n),this)}function wpt(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(r){this.error(r)}}function iSe(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}function xpt(e,t){const n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))}function _pt(e,t){const n=e.source,r=this._clock;return n&&et(n)?new Fq(this,r,n.map(i=>i.pulse),t):this._input[e.id]||Ept(this._pulse,n&&n.pulse)}function Ept(e,t){return t&&t.stamp===e.stamp?t:(e=e.fork(),t&&t!==g$&&(e.source=t.source),e)}const Bq={skip:!1,force:!1};function Spt(e,t){const n=t||Bq;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this}function Tpt(e,t,n){const r=n||Bq;return(e.set(t)||r.force)&&this.touch(e,r),this}function Cpt(e,t,n){this.touch(e,n||Bq);const r=new wg(this,this._clock+(this._pulse?0:1)),i=e.pulse&&e.pulse.source||[];return r.target=e,this._input[e.id]=t.pulse(r,i),this}function Apt(e){let t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:n=>(t.push(n),oSe(t,0,t.length-1,e)),pop:()=>{const n=t.pop();let r;return t.length?(r=t[0],t[0]=n,kpt(t,0,e)):r=n,r}}}function oSe(e,t,n,r){let i,o;const s=e[n];for(;n>t;){if(o=n-1>>1,i=e[o],r(s,i)<0){e[n]=i,n=o;continue}break}return e[n]=s}function kpt(e,t,n){const r=t,i=e.length,o=e[t];let s=(t<<1)+1,a;for(;s<i;)a=s+1,a<i&&n(e[s],e[a])>=0&&(s=a),e[t]=e[s],t=s,s=(t<<1)+1;return e[t]=o,oSe(e,r,t,n)}function ew(){this.logger(pq()),this.logLevel(fq),this._clock=0,this._rank=0,this._locale=Mq();try{this._loader=IN()}catch{}this._touched=RN(dA),this._input={},this._pulse=null,this._heap=Apt((e,t)=>e.qrank-t.qrank),this._postrun=[]}function vE(e){return function(){return this._log[e].apply(this,arguments)}}ew.prototype={stamp(){return this._clock},loader(e){return arguments.length?(this._loader=e,this):this._loader},locale(e){return arguments.length?(this._locale=e,this):this._locale},logger(e){return arguments.length?(this._log=e,this):this._log},error:vE("error"),warn:vE("warn"),info:vE("info"),debug:vE("debug"),logLevel:vE("level"),cleanThreshold:1e4,add:ept,connect:tpt,rank:ppt,rerank:mpt,pulse:Cpt,touch:Spt,update:Tpt,changeset:ib,ingest:opt,parse:ipt,preload:apt,request:spt,events:rpt,on:cpt,evaluate:ypt,run:bpt,runAsync:vpt,runAfter:wpt,_enqueue:xpt,_getPulse:_pt};function Ve(e,t){ei.call(this,e,null,t)}Mt(Ve,ei,{run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,t.then?t=t.then(n=>this.pulse=n):t!==e.StopPropagation&&(this.pulse=t),t},evaluate(e){const t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},transform(){}});const $w={};function sSe(e){const t=aSe(e);return t&&t.Definition||null}function aSe(e){return e=e&&e.toLowerCase(),Vt($w,e)?$w[e]:null}function*lSe(e,t){if(t==null)for(let n of e)n!=null&&n!==""&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)r=t(r,++n,e),r!=null&&r!==""&&(r=+r)>=r&&(yield r)}}function jq(e,t,n){const r=Float64Array.from(lSe(e,n));return r.sort(mp),t.map(i=>iEe(r,i))}function zq(e,t){return jq(e,[.25,.5,.75],t)}function Uq(e,t){const n=e.length,r=Odt(e,t),i=zq(e,t),o=(i[2]-i[0])/1.34;return 1.06*(Math.min(r,o)||r||Math.abs(i[0])||1)*Math.pow(n,-.2)}function uSe(e){const t=e.maxbins||20,n=e.base||10,r=Math.log(n),i=e.divide||[5,2];let o=e.extent[0],s=e.extent[1],a,l,u,c,d,f;const h=e.span||s-o||Math.abs(o)||1;if(e.step)a=e.step;else if(e.steps){for(c=h/t,d=0,f=e.steps.length;d<f&&e.steps[d]<c;++d);a=e.steps[Math.max(0,d-1)]}else{for(l=Math.ceil(Math.log(t)/r),u=e.minstep||0,a=Math.max(u,Math.pow(n,Math.round(Math.log(h)/r)-l));Math.ceil(h/a)>t;)a*=n;for(d=0,f=i.length;d<f;++d)c=a/i[d],c>=u&&h/c<=t&&(a=c)}c=Math.log(a);const p=c>=0?0:~~(-c/r)+1,m=Math.pow(n,-p-1);return(e.nice||e.nice===void 0)&&(c=Math.floor(o/a+m)*a,o=o<c?c-a:c,s=Math.ceil(s/a)*a),{start:o,stop:s===o?o+a:s,step:a}}var xc=Math.random;function Ipt(e){xc=e}function cSe(e,t,n,r){if(!e.length)return[void 0,void 0];const i=Float64Array.from(lSe(e,r)),o=i.length,s=t;let a,l,u,c;for(u=0,c=Array(s);u<s;++u){for(a=0,l=0;l<o;++l)a+=i[~~(xc()*o)];c[u]=a/o}return c.sort(mp),[T9(c,n/2),T9(c,1-n/2)]}function dSe(e,t,n,r){r=r||(f=>f);const i=e.length,o=new Float64Array(i);let s=0,a=1,l=r(e[0]),u=l,c=l+t,d;for(;a<i;++a){if(d=r(e[a]),d>=c){for(u=(l+u)/2;s<a;++s)o[s]=u;c=d+t,l=d}u=d}for(u=(l+u)/2;s<a;++s)o[s]=u;return n?Rpt(o,t+t/4):o}function Rpt(e,t){const n=e.length;let r=0,i=1,o,s;for(;e[r]===e[i];)++i;for(;i<n;){for(o=i+1;e[i]===e[o];)++o;if(e[i]-e[i-1]<t){for(s=i+(r+o-i-i>>1);s<i;)e[s++]=e[i];for(;s>i;)e[s--]=e[r]}r=i,i=o}return e}function Dpt(e){return function(){return e=(1103515245*e+12345)%2147483647,e/2147483647}}function $pt(e,t){t==null&&(t=e,e=0);let n,r,i;const o={min(s){return arguments.length?(n=s||0,i=r-n,o):n},max(s){return arguments.length?(r=s||0,i=r-n,o):r},sample(){return n+Math.floor(i*xc())},pdf(s){return s===Math.floor(s)&&s>=n&&s<r?1/i:0},cdf(s){const a=Math.floor(s);return a<n?0:a>=r?1:(a-n+1)/i},icdf(s){return s>=0&&s<=1?n-1+Math.floor(s*i):NaN}};return o.min(e).max(t)}const fSe=Math.sqrt(2*Math.PI),Mpt=Math.SQRT2;let bE=NaN;function NN(e,t){e=e||0,t=t??1;let n=0,r=0,i,o;if(bE===bE)n=bE,bE=NaN;else{do n=xc()*2-1,r=xc()*2-1,i=n*n+r*r;while(i===0||i>1);o=Math.sqrt(-2*Math.log(i)/i),n*=o,bE=r*o}return e+n*t}function Hq(e,t,n){n=n??1;const r=(e-(t||0))/n;return Math.exp(-.5*r*r)/(n*fSe)}function ON(e,t,n){t=t||0,n=n??1;const r=(e-t)/n,i=Math.abs(r);let o;if(i>37)o=0;else{const s=Math.exp(-i*i/2);let a;i<7.07106781186547?(a=.0352624965998911*i+.700383064443688,a=a*i+6.37396220353165,a=a*i+33.912866078383,a=a*i+112.079291497871,a=a*i+221.213596169931,a=a*i+220.206867912376,o=s*a,a=.0883883476483184*i+1.75566716318264,a=a*i+16.064177579207,a=a*i+86.7807322029461,a=a*i+296.564248779674,a=a*i+637.333633378831,a=a*i+793.826512519948,a=a*i+440.413735824752,o=o/a):(a=i+.65,a=i+4/a,a=i+3/a,a=i+2/a,a=i+1/a,o=s/a/2.506628274631)}return r>0?1-o:o}function LN(e,t,n){return e<0||e>1?NaN:(t||0)+(n??1)*Mpt*Ppt(2*e-1)}function Ppt(e){let t=-Math.log((1-e)*(1+e)),n;return t<6.25?(t-=3.125,n=-364441206401782e-35,n=-16850591381820166e-35+n*t,n=128584807152564e-32+n*t,n=11157877678025181e-33+n*t,n=-1333171662854621e-31+n*t,n=20972767875968562e-33+n*t,n=6637638134358324e-30+n*t,n=-4054566272975207e-29+n*t,n=-8151934197605472e-29+n*t,n=26335093153082323e-28+n*t,n=-12975133253453532e-27+n*t,n=-5415412054294628e-26+n*t,n=10512122733215323e-25+n*t,n=-4112633980346984e-24+n*t,n=-29070369957882005e-24+n*t,n=42347877827932404e-23+n*t,n=-13654692000834679e-22+n*t,n=-13882523362786469e-21+n*t,n=.00018673420803405714+n*t,n=-.000740702534166267+n*t,n=-.006033670871430149+n*t,n=.24015818242558962+n*t,n=1.6536545626831027+n*t):t<16?(t=Math.sqrt(t)-3.25,n=22137376921775787e-25,n=9075656193888539e-23+n*t,n=-27517406297064545e-23+n*t,n=18239629214389228e-24+n*t,n=15027403968909828e-22+n*t,n=-4013867526981546e-21+n*t,n=29234449089955446e-22+n*t,n=12475304481671779e-21+n*t,n=-47318229009055734e-21+n*t,n=6828485145957318e-20+n*t,n=24031110387097894e-21+n*t,n=-.0003550375203628475+n*t,n=.0009532893797373805+n*t,n=-.0016882755560235047+n*t,n=.002491442096107851+n*t,n=-.003751208507569241+n*t,n=.005370914553590064+n*t,n=1.0052589676941592+n*t,n=3.0838856104922208+n*t):Number.isFinite(t)?(t=Math.sqrt(t)-5,n=-27109920616438573e-27,n=-2555641816996525e-25+n*t,n=15076572693500548e-25+n*t,n=-3789465440126737e-24+n*t,n=761570120807834e-23+n*t,n=-1496002662714924e-23+n*t,n=2914795345090108e-23+n*t,n=-6771199775845234e-23+n*t,n=22900482228026655e-23+n*t,n=-99298272942317e-20+n*t,n=4526062597223154e-21+n*t,n=-1968177810553167e-20+n*t,n=7599527703001776e-20+n*t,n=-.00021503011930044477+n*t,n=-.00013871931833623122+n*t,n=1.0103004648645344+n*t,n=4.849906401408584+n*t):n=1/0,n*e}function Vq(e,t){let n,r;const i={mean(o){return arguments.length?(n=o||0,i):n},stdev(o){return arguments.length?(r=o??1,i):r},sample:()=>NN(n,r),pdf:o=>Hq(o,n,r),cdf:o=>ON(o,n,r),icdf:o=>LN(o,n,r)};return i.mean(e).stdev(t)}function Wq(e,t){const n=Vq();let r=0;const i={data(o){return arguments.length?(e=o,r=o?o.length:0,i.bandwidth(t)):e},bandwidth(o){return arguments.length?(t=o,!t&&e&&(t=Uq(e)),i):t},sample(){return e[~~(xc()*r)]+t*n.sample()},pdf(o){let s=0,a=0;for(;a<r;++a)s+=n.pdf((o-e[a])/t);return s/t/r},cdf(o){let s=0,a=0;for(;a<r;++a)s+=n.cdf((o-e[a])/t);return s/r},icdf(){throw Error("KDE icdf not supported.")}};return i.data(e)}function qq(e,t){return e=e||0,t=t??1,Math.exp(e+NN()*t)}function Gq(e,t,n){if(e<=0)return 0;t=t||0,n=n??1;const r=(Math.log(e)-t)/n;return Math.exp(-.5*r*r)/(n*fSe*e)}function Yq(e,t,n){return ON(Math.log(e),t,n)}function Kq(e,t,n){return Math.exp(LN(e,t,n))}function hSe(e,t){let n,r;const i={mean(o){return arguments.length?(n=o||0,i):n},stdev(o){return arguments.length?(r=o??1,i):r},sample:()=>qq(n,r),pdf:o=>Gq(o,n,r),cdf:o=>Yq(o,n,r),icdf:o=>Kq(o,n,r)};return i.mean(e).stdev(t)}function pSe(e,t){let n=0,r;function i(s){const a=[];let l=0,u;for(u=0;u<n;++u)l+=a[u]=s[u]==null?1:+s[u];for(u=0;u<n;++u)a[u]/=l;return a}const o={weights(s){return arguments.length?(r=i(t=s||[]),o):t},distributions(s){return arguments.length?(s?(n=s.length,e=s):(n=0,e=[]),o.weights(t)):e},sample(){const s=xc();let a=e[n-1],l=r[0],u=0;for(;u<n-1;l+=r[++u])if(s<l){a=e[u];break}return a.sample()},pdf(s){let a=0,l=0;for(;l<n;++l)a+=r[l]*e[l].pdf(s);return a},cdf(s){let a=0,l=0;for(;l<n;++l)a+=r[l]*e[l].cdf(s);return a},icdf(){throw Error("Mixture icdf not supported.")}};return o.distributions(e).weights(t)}function Xq(e,t){return t==null&&(t=e??1,e=0),e+(t-e)*xc()}function Qq(e,t,n){return n==null&&(n=t??1,t=0),e>=t&&e<=n?1/(n-t):0}function Jq(e,t,n){return n==null&&(n=t??1,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function Zq(e,t,n){return n==null&&(n=t??1,t=0),e>=0&&e<=1?t+e*(n-t):NaN}function mSe(e,t){let n,r;const i={min(o){return arguments.length?(n=o||0,i):n},max(o){return arguments.length?(r=o??1,i):r},sample:()=>Xq(n,r),pdf:o=>Qq(o,n,r),cdf:o=>Jq(o,n,r),icdf:o=>Zq(o,n,r)};return t==null&&(t=e??1,e=0),i.min(e).max(t)}function eG(e,t,n){let r=0,i=0;for(const o of e){const s=n(o);t(o)==null||s==null||isNaN(s)||(r+=(s-r)/++i)}return{coef:[r],predict:()=>r,rSquared:0}}function hA(e,t,n,r){const i=r-e*e,o=Math.abs(i)<1e-24?0:(n-e*t)/i;return[t-o*e,o]}function FN(e,t,n,r){e=e.filter(h=>{let p=t(h),m=n(h);return p!=null&&(p=+p)>=p&&m!=null&&(m=+m)>=m}),r&&e.sort((h,p)=>t(h)-t(p));const i=e.length,o=new Float64Array(i),s=new Float64Array(i);let a=0,l=0,u=0,c,d,f;for(f of e)o[a]=c=+t(f),s[a]=d=+n(f),++a,l+=(c-l)/a,u+=(d-u)/a;for(a=0;a<i;++a)o[a]-=l,s[a]-=u;return[o,s,l,u]}function pA(e,t,n,r){let i=-1,o,s;for(const a of e)o=t(a),s=n(a),o!=null&&(o=+o)>=o&&s!=null&&(s=+s)>=s&&r(o,s,++i)}function i_(e,t,n,r,i){let o=0,s=0;return pA(e,t,n,(a,l)=>{const u=l-i(a),c=l-r;o+=u*u,s+=c*c}),1-o/s}function tG(e,t,n){let r=0,i=0,o=0,s=0,a=0;pA(e,t,n,(c,d)=>{++a,r+=(c-r)/a,i+=(d-i)/a,o+=(c*d-o)/a,s+=(c*c-s)/a});const l=hA(r,i,o,s),u=c=>l[0]+l[1]*c;return{coef:l,predict:u,rSquared:i_(e,t,n,i,u)}}function gSe(e,t,n){let r=0,i=0,o=0,s=0,a=0;pA(e,t,n,(c,d)=>{++a,c=Math.log(c),r+=(c-r)/a,i+=(d-i)/a,o+=(c*d-o)/a,s+=(c*c-s)/a});const l=hA(r,i,o,s),u=c=>l[0]+l[1]*Math.log(c);return{coef:l,predict:u,rSquared:i_(e,t,n,i,u)}}function ySe(e,t,n){const[r,i,o,s]=FN(e,t,n);let a=0,l=0,u=0,c=0,d=0,f,h,p;pA(e,t,n,(v,w)=>{f=r[d++],h=Math.log(w),p=f*w,a+=(w*h-a)/d,l+=(p-l)/d,u+=(p*h-u)/d,c+=(f*p-c)/d});const[m,g]=hA(l/s,a/s,u/s,c/s),y=v=>Math.exp(m+g*(v-o));return{coef:[Math.exp(m-g*o),g],predict:y,rSquared:i_(e,t,n,s,y)}}function vSe(e,t,n){let r=0,i=0,o=0,s=0,a=0,l=0;pA(e,t,n,(d,f)=>{const h=Math.log(d),p=Math.log(f);++l,r+=(h-r)/l,i+=(p-i)/l,o+=(h*p-o)/l,s+=(h*h-s)/l,a+=(f-a)/l});const u=hA(r,i,o,s),c=d=>u[0]*Math.pow(d,u[1]);return u[0]=Math.exp(u[0]),{coef:u,predict:c,rSquared:i_(e,t,n,a,c)}}function nG(e,t,n){const[r,i,o,s]=FN(e,t,n),a=r.length;let l=0,u=0,c=0,d=0,f=0,h,p,m,g;for(h=0;h<a;)p=r[h],m=i[h++],g=p*p,l+=(g-l)/h,u+=(g*p-u)/h,c+=(g*g-c)/h,d+=(p*m-d)/h,f+=(g*m-f)/h;const y=c-l*l,v=l*y-u*u,w=(f*l-d*u)/v,E=(d*y-f*u)/v,_=-w*l,x=S=>(S=S-o,w*S*S+E*S+_+s);return{coef:[_-E*o+w*o*o+s,E-2*w*o,w],predict:x,rSquared:i_(e,t,n,s,x)}}function bSe(e,t,n,r){if(r===0)return eG(e,t,n);if(r===1)return tG(e,t,n);if(r===2)return nG(e,t,n);const[i,o,s,a]=FN(e,t,n),l=i.length,u=[],c=[],d=r+1;let f,h,p,m,g;for(f=0;f<d;++f){for(p=0,m=0;p<l;++p)m+=Math.pow(i[p],f)*o[p];for(u.push(m),g=new Float64Array(d),h=0;h<d;++h){for(p=0,m=0;p<l;++p)m+=Math.pow(i[p],f+h);g[h]=m}c.push(g)}c.push(u);const y=Opt(c),v=w=>{w-=s;let E=a+y[0]+y[1]*w+y[2]*w*w;for(f=3;f<d;++f)E+=y[f]*Math.pow(w,f);return E};return{coef:Npt(d,y,-s,a),predict:v,rSquared:i_(e,t,n,a,v)}}function Npt(e,t,n,r){const i=Array(e);let o,s,a,l;for(o=0;o<e;++o)i[o]=0;for(o=e-1;o>=0;--o)for(a=t[o],l=1,i[o]+=a,s=1;s<=o;++s)l*=(o+1-s)/s,i[o-s]+=a*Math.pow(n,s)*l;return i[0]+=r,i}function Opt(e){const t=e.length-1,n=[];let r,i,o,s,a;for(r=0;r<t;++r){for(s=r,i=r+1;i<t;++i)Math.abs(e[r][i])>Math.abs(e[r][s])&&(s=i);for(o=r;o<t+1;++o)a=e[o][r],e[o][r]=e[o][s],e[o][s]=a;for(i=r+1;i<t;++i)for(o=t;o>=r;o--)e[o][i]-=e[o][r]*e[r][i]/e[r][r]}for(i=t-1;i>=0;--i){for(a=0,o=i+1;o<t;++o)a+=e[o][i]*n[o];n[i]=(e[t][i]-a)/e[i][i]}return n}const Vae=2,Wae=1e-12;function wSe(e,t,n,r){const[i,o,s,a]=FN(e,t,n,!0),l=i.length,u=Math.max(2,~~(r*l)),c=new Float64Array(l),d=new Float64Array(l),f=new Float64Array(l).fill(1);for(let h=-1;++h<=Vae;){const p=[0,u-1];for(let g=0;g<l;++g){const y=i[g],v=p[0],w=p[1],E=y-i[v]>i[w]-y?v:w;let _=0,x=0,S=0,C=0,A=0;const k=1/Math.abs(i[E]-y||1);for(let I=v;I<=w;++I){const D=i[I],R=o[I],O=Lpt(Math.abs(y-D)*k)*f[I],B=D*O;_+=O,x+=B,S+=R*O,C+=R*B,A+=D*B}const[N,M]=hA(x/_,S/_,C/_,A/_);c[g]=N+M*y,d[g]=Math.abs(o[g]-c[g]),Fpt(i,g+1,p)}if(h===Vae)break;const m=oEe(d);if(Math.abs(m)<Wae)break;for(let g=0,y,v;g<l;++g)y=d[g]/(6*m),f[g]=y>=1?Wae:(v=1-y*y)*v}return Bpt(i,c,s,a)}function Lpt(e){return(e=1-e*e*e)*e*e}function Fpt(e,t,n){const r=e[t];let i=n[0],o=n[1]+1;if(!(o>=e.length))for(;t>i&&e[o]-r<=r-e[i];)n[0]=++i,n[1]=o,++o}function Bpt(e,t,n,r){const i=e.length,o=[];let s=0,a=0,l=[],u;for(;s<i;++s)u=e[s]+n,l[0]===u?l[1]+=(t[s]-l[1])/++a:(a=0,l[1]+=r,l=[u,t[s]],o.push(l));return l[1]+=r,o}const jpt=.5*Math.PI/180;function BN(e,t,n,r){n=n||25,r=Math.max(n,r||200);const i=m=>[m,e(m)],o=t[0],s=t[1],a=s-o,l=a/r,u=[i(o)],c=[];if(n===r){for(let m=1;m<r;++m)u.push(i(o+m/n*a));return u.push(i(s)),u}else{c.push(i(s));for(let m=n;--m>0;)c.push(i(o+m/n*a))}let d=u[0],f=c[c.length-1];const h=1/a,p=zpt(d[1],c);for(;f;){const m=i((d[0]+f[0])/2);m[0]-d[0]>=l&&Upt(d,m,f,h,p)>jpt?c.push(m):(d=f,u.push(f),c.pop()),f=c[c.length-1]}return u}function zpt(e,t){let n=e,r=e;const i=t.length;for(let o=0;o<i;++o){const s=t[o][1];s<n&&(n=s),s>r&&(r=s)}return 1/(r-n)}function Upt(e,t,n,r,i){const o=Math.atan2(i*(n[1]-e[1]),r*(n[0]-e[0])),s=Math.atan2(i*(t[1]-e[1]),r*(t[0]-e[0]));return Math.abs(o-s)}function Hpt(e){return t=>{const n=e.length;let r=1,i=String(e[0](t));for(;r<n;++r)i+="|"+e[r](t);return i}}function N9(e){return!e||!e.length?function(){return""}:e.length===1?e[0]:Hpt(e)}function xSe(e,t,n){return n||e+(t?"_"+t:"")}const T6=()=>{},Vpt={init:T6,add:T6,rem:T6,idx:0},WT={values:{init:e=>e.cell.store=!0,value:e=>e.cell.data.values(),idx:-1},count:{value:e=>e.cell.num},__count__:{value:e=>e.missing+e.valid},missing:{value:e=>e.missing},valid:{value:e=>e.valid},sum:{init:e=>e.sum=0,value:e=>e.valid?e.sum:void 0,add:(e,t)=>e.sum+=+t,rem:(e,t)=>e.sum-=t},product:{init:e=>e.product=1,value:e=>e.valid?e.product:void 0,add:(e,t)=>e.product*=t,rem:(e,t)=>e.product/=t},mean:{init:e=>e.mean=0,value:e=>e.valid?e.mean:void 0,add:(e,t)=>(e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid),rem:(e,t)=>(e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean)},average:{value:e=>e.valid?e.mean:void 0,req:["mean"],idx:1},variance:{init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):void 0,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean),req:["mean"],idx:1},variancep:{value:e=>e.valid>1?e.dev/e.valid:void 0,req:["variance"],idx:2},stdev:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):void 0,req:["variance"],idx:2},stderr:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:e=>e.cell.data.distinct(e.get),req:["values"],idx:3},ci0:{value:e=>e.cell.data.ci0(e.get),req:["values"],idx:3},ci1:{value:e=>e.cell.data.ci1(e.get),req:["values"],idx:3},median:{value:e=>e.cell.data.q2(e.get),req:["values"],idx:3},q1:{value:e=>e.cell.data.q1(e.get),req:["values"],idx:3},q3:{value:e=>e.cell.data.q3(e.get),req:["values"],idx:3},min:{init:e=>e.min=void 0,value:e=>e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min,add:(e,t)=>{(t<e.min||e.min===void 0)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:e=>e.max=void 0,value:e=>e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max,add:(e,t)=>{(t>e.max||e.max===void 0)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:e=>e.argmin=void 0,value:e=>e.argmin||e.cell.data.argmin(e.get),add:(e,t,n)=>{t<e.min&&(e.argmin=n)},rem:(e,t)=>{t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:e=>e.argmax=void 0,value:e=>e.argmax||e.cell.data.argmax(e.get),add:(e,t,n)=>{t>e.max&&(e.argmax=n)},rem:(e,t)=>{t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3},exponential:{init:(e,t)=>{e.exp=0,e.exp_r=t},value:e=>e.valid?e.exp*(1-e.exp_r)/(1-e.exp_r**e.valid):void 0,add:(e,t)=>e.exp=e.exp_r*e.exp+t,rem:(e,t)=>e.exp=(e.exp-t/e.exp_r**(e.valid-1))/e.exp_r},exponentialb:{value:e=>e.valid?e.exp*(1-e.exp_r):void 0,req:["exponential"],idx:1}},mA=Object.keys(WT).filter(e=>e!=="__count__");function Wpt(e,t){return(n,r)=>Bn({name:e,aggregate_param:r,out:n||e},Vpt,t)}[...mA,"__count__"].forEach(e=>{WT[e]=Wpt(e,WT[e])});function _Se(e,t,n){return WT[e](n,t)}function ESe(e,t){return e.idx-t.idx}function qpt(e){const t={};e.forEach(r=>t[r.name]=r);const n=r=>{r.req&&r.req.forEach(i=>{t[i]||n(t[i]=WT[i]())})};return e.forEach(n),Object.values(t).sort(ESe)}function Gpt(){this.valid=0,this.missing=0,this._ops.forEach(e=>e.aggregate_param==null?e.init(this):e.init(this,e.aggregate_param))}function Ypt(e,t){if(e==null||e===""){++this.missing;return}e===e&&(++this.valid,this._ops.forEach(n=>n.add(this,e,t)))}function Kpt(e,t){if(e==null||e===""){--this.missing;return}e===e&&(--this.valid,this._ops.forEach(n=>n.rem(this,e,t)))}function Xpt(e){return this._out.forEach(t=>e[t.out]=t.value(this)),e}function SSe(e,t){const n=t||Ma,r=qpt(e),i=e.slice().sort(ESe);function o(s){this._ops=r,this._out=i,this.cell=s,this.init()}return o.prototype.init=Gpt,o.prototype.add=Ypt,o.prototype.rem=Kpt,o.prototype.set=Xpt,o.prototype.get=n,o.fields=e.map(s=>s.out),o}function rG(e){this._key=e?vc(e):fn,this.reset()}const ea=rG.prototype;ea.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null};ea.add=function(e){this._add.push(e)};ea.rem=function(e){this._rem.push(e)};ea.values=function(){if(this._get=null,this._rem.length===0)return this._add;const e=this._add,t=this._rem,n=this._key,r=e.length,i=t.length,o=Array(r-i),s={};let a,l,u;for(a=0;a<i;++a)s[n(t[a])]=1;for(a=0,l=0;a<r;++a)s[n(u=e[a])]?s[n(u)]=0:o[l++]=u;return this._rem=[],this._add=o};ea.distinct=function(e){const t=this.values(),n={};let r=t.length,i=0,o;for(;--r>=0;)o=e(t[r])+"",Vt(n,o)||(n[o]=1,++i);return i};ea.extent=function(e){if(this._get!==e||!this._ext){const t=this.values(),n=z_e(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext};ea.argmin=function(e){return this.extent(e)[0]||{}};ea.argmax=function(e){return this.extent(e)[1]||{}};ea.min=function(e){const t=this.extent(e)[0];return t!=null?e(t):void 0};ea.max=function(e){const t=this.extent(e)[1];return t!=null?e(t):void 0};ea.quartile=function(e){return(this._get!==e||!this._q)&&(this._q=zq(this.values(),e),this._get=e),this._q};ea.q1=function(e){return this.quartile(e)[0]};ea.q2=function(e){return this.quartile(e)[1]};ea.q3=function(e){return this.quartile(e)[2]};ea.ci=function(e){return(this._get!==e||!this._ci)&&(this._ci=cSe(this.values(),1e3,.05,e),this._get=e),this._ci};ea.ci0=function(e){return this.ci(e)[0]};ea.ci1=function(e){return this.ci(e)[1]};function jg(e){Ve.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}jg.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:mA},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};Mt(jg,Ve,{transform(e,t){const n=this,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.modified();return n.stamp=r.stamp,n.value&&(i||t.modified(n._inputs,!0))?(n._prev=n.value,n.value=i?n.init(e):Object.create(null),t.visit(t.SOURCE,o=>n.add(o))):(n.value=n.value||n.init(e),t.visit(t.REM,o=>n.rem(o)),t.visit(t.ADD,o=>n.add(o))),r.modifies(n._outputs),n._drop=e.drop!==!1,e.cross&&n._dims.length>1&&(n._drop=!1,n.cross()),t.clean()&&n._drop&&r.clean(!0).runAfter(()=>this.clean()),n.changes(r)},cross(){const e=this,t=e.value,n=e._dnames,r=n.map(()=>({})),i=n.length;function o(a){let l,u,c,d;for(l in a)for(c=a[l].tuple,u=0;u<i;++u)r[u][d=c[n[u]]]=d}o(e._prev),o(t);function s(a,l,u){const c=n[u],d=r[u++];for(const f in d){const h=a?a+"|"+f:f;l[c]=d[f],u<i?s(h,l,u):t[h]||e.cell(h,l)}}s("",{},0)},init(e){const t=this._inputs=[],n=this._outputs=[],r={};function i(v){const w=jt(Ta(v)),E=w.length;let _=0,x;for(;_<E;++_)r[x=w[_]]||(r[x]=1,t.push(x))}this._dims=jt(e.groupby),this._dnames=this._dims.map(v=>{const w=Qi(v);return i(v),n.push(w),w}),this.cellkey=e.key?e.key:N9(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const o=e.fields||[null],s=e.ops||["count"],a=e.aggregate_params||[null],l=e.as||[],u=o.length,c={};let d,f,h,p,m,g,y;for(u!==s.length&&Je("Unmatched number of fields and aggregate ops."),y=0;y<u;++y){if(d=o[y],f=s[y],h=a[y]||null,d==null&&f!=="count"&&Je("Null aggregate field specified."),m=Qi(d),g=xSe(f,m,l[y]),n.push(g),f==="count"){this._counts.push(g);continue}p=c[m],p||(i(d),p=c[m]=[],p.field=d,this._measures.push(p)),f!=="count"&&(this._countOnly=!1),p.push(_Se(f,h,g))}return this._measures=this._measures.map(v=>SSe(v,v.field)),Object.create(null)},cellkey:N9(),cell(e,t){let n=this.value[e];return n?n.num===0&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},newcell(e,t){const n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){const r=this._measures,i=r.length;n.agg=Array(i);for(let o=0;o<i;++o)n.agg[o]=new r[o](n)}return n.store&&(n.data=new rG),n},newtuple(e,t){const n=this._dnames,r=this._dims,i=r.length,o={};for(let s=0;s<i;++s)o[n[s]]=r[s](e);return t?nSe(t.tuple,o):Ir(o)},clean(){const e=this.value;for(const t in e)e[t].num===0&&delete e[t]},add(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num+=1,this._countOnly)return;n.store&&n.data.add(e);const r=n.agg;for(let i=0,o=r.length;i<o;++i)r[i].add(r[i].get(e),e)},rem(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num-=1,this._countOnly)return;n.store&&n.data.rem(e);const r=n.agg;for(let i=0,o=r.length;i<o;++i)r[i].rem(r[i].get(e),e)},celltuple(e){const t=e.tuple,n=this._counts;e.store&&e.data.values();for(let r=0,i=n.length;r<i;++r)t[n[r]]=e.num;if(!this._countOnly){const r=e.agg;for(let i=0,o=r.length;i<o;++i)r[i].set(t)}return t},changes(e){const t=this._adds,n=this._mods,r=this._prev,i=this._drop,o=e.add,s=e.rem,a=e.mod;let l,u,c,d;if(r)for(u in r)l=r[u],(!i||l.num)&&s.push(l.tuple);for(c=0,d=this._alen;c<d;++c)o.push(this.celltuple(t[c])),t[c]=null;for(c=0,d=this._mlen;c<d;++c)l=n[c],(l.num===0&&i?s:a).push(this.celltuple(l)),n[c]=null;return this._alen=this._mlen=0,this._prev=null,e}});const Qpt=1e-14;function iG(e){Ve.call(this,null,e)}iG.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};Mt(iG,Ve,{transform(e,t){const n=e.interval!==!1,r=this._bins(e),i=r.start,o=r.step,s=e.as||["bin0","bin1"],a=s[0],l=s[1];let u;return e.modified()?(t=t.reflow(!0),u=t.SOURCE):u=t.modified(Ta(e.field))?t.ADD_MOD:t.ADD,t.visit(u,n?c=>{const d=r(c);c[a]=d,c[l]=d==null?null:i+o*(1+(d-i)/o)}:c=>c[a]=r(c)),t.modifies(n?s:a)},_bins(e){if(this.value&&!e.modified())return this.value;const t=e.field,n=uSe(e),r=n.step;let i=n.start,o=i+Math.ceil((n.stop-i)/r)*r,s,a;(s=e.anchor)!=null&&(a=s-(i+r*Math.floor((s-i)/r)),i+=a,o+=a);const l=function(u){let c=Ea(t(u));return c==null?null:c<i?-1/0:c>o?1/0:(c=Math.max(i,Math.min(c,o-r)),i+r*Math.floor(Qpt+(c-i)/r))};return l.start=i,l.stop=n.stop,l.step=r,this.value=Ql(l,Ta(t),e.name||"bin_"+Qi(t))}});function TSe(e,t,n){const r=e;let i=t||[],o=n||[],s={},a=0;return{add:l=>o.push(l),remove:l=>s[r(l)]=++a,size:()=>i.length,data:(l,u)=>(a&&(i=i.filter(c=>!s[r(c)]),s={},a=0),u&&l&&i.sort(l),o.length&&(i=l?q_e(l,i,o.sort(l)):i.concat(o),o=[]),i)}}function oG(e){Ve.call(this,[],e)}oG.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};Mt(oG,Ve,{transform(e,t){const n=t.fork(t.ALL),r=TSe(fn,this.value,n.materialize(n.ADD).add),i=e.sort,o=t.changed()||i&&(e.modified("sort")||t.modified(i.fields));return n.visit(n.REM,r.remove),this.modified(o),this.value=n.source=r.data(rb(i),o),t.source&&t.source.root&&(this.value.root=t.source.root),n}});function CSe(e){ei.call(this,null,Jpt,e)}Mt(CSe,ei);function Jpt(e){return this.value&&!e.modified()?this.value:vq(e.fields,e.orders)}function sG(e){Ve.call(this,null,e)}sG.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};function Zpt(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break}return e.match(n)}Mt(sG,Ve,{transform(e,t){const n=d=>f=>{for(var h=Zpt(a(f),e.case,o)||[],p,m=0,g=h.length;m<g;++m)s.test(p=h[m])||d(p)},r=this._parameterCheck(e,t),i=this._counts,o=this._match,s=this._stop,a=e.field,l=e.as||["text","count"],u=n(d=>i[d]=1+(i[d]||0)),c=n(d=>i[d]-=1);return r?t.visit(t.SOURCE,u):(t.visit(t.ADD,u),t.visit(t.REM,c)),this._finish(t,l)},_parameterCheck(e,t){let n=!1;return(e.modified("stopwords")||!this._stop)&&(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),(e.modified("pattern")||!this._match)&&(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},_finish(e,t){const n=this._counts,r=this._tuples||(this._tuples={}),i=t[0],o=t[1],s=e.fork(e.NO_SOURCE|e.NO_FIELDS);let a,l,u;for(a in n)l=r[a],u=n[a]||0,!l&&u?(r[a]=l=Ir({}),l[i]=a,l[o]=u,s.add.push(l)):u===0?(l&&s.rem.push(l),n[a]=null,r[a]=null):l[o]!==u&&(l[o]=u,s.mod.push(l));return s.modifies(t)}});function aG(e){Ve.call(this,null,e)}aG.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]};Mt(aG,Ve,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.as||["a","b"],i=r[0],o=r[1],s=!this.value||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter");let a=this.value;return s?(a&&(n.rem=a),a=t.materialize(t.SOURCE).source,n.add=this.value=emt(a,i,o,e.filter||bc)):n.mod=a,n.source=this.value,n.modifies(r)}});function emt(e,t,n,r){for(var i=[],o={},s=e.length,a=0,l,u;a<s;++a)for(o[t]=u=e[a],l=0;l<s;++l)o[n]=e[l],r(o)&&(i.push(Ir(o)),o={},o[t]=u);return i}const qae={kde:Wq,mixture:pSe,normal:Vq,lognormal:hSe,uniform:mSe},tmt="distributions",Gae="function",nmt="field";function ASe(e,t){const n=e[Gae];Vt(qae,n)||Je("Unknown distribution function: "+n);const r=qae[n]();for(const i in e)i===nmt?r.data((e.from||t()).map(e[i])):i===tmt?r[i](e[i].map(o=>ASe(o,t))):typeof r[i]===Gae&&r[i](e[i]);return r}function lG(e){Ve.call(this,null,e)}const kSe=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],rmt={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:kSe},{name:"weights",type:"number",array:!0}]};lG.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:kSe.concat(rmt)},{name:"as",type:"string",array:!0,default:["value","density"]}]};Mt(lG,Ve,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=ASe(e.distribution,imt(t)),i=e.steps||e.minsteps||25,o=e.steps||e.maxsteps||200;let s=e.method||"pdf";s!=="pdf"&&s!=="cdf"&&Je("Invalid density method: "+s),!e.extent&&!r.data&&Je("Missing density extent parameter."),s=r[s];const a=e.as||["value","density"],l=e.extent||Gf(r.data()),u=BN(s,l,i,o).map(c=>{const d={};return d[a[0]]=c[0],d[a[1]]=c[1],Ir(d)});this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});function imt(e){return()=>e.materialize(e.SOURCE).source}function ISe(e,t){return e?e.map((n,r)=>t[r]||Qi(n)):null}function uG(e,t,n){const r=[],i=d=>d(l);let o,s,a,l,u,c;if(t==null)r.push(e.map(n));else for(o={},s=0,a=e.length;s<a;++s)l=e[s],u=t.map(i),c=o[u],c||(o[u]=c=[],c.dims=u,r.push(c)),c.push(n(l));return r}const RSe="bin";function cG(e){Ve.call(this,null,e)}cG.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:RSe}]};const omt=(e,t)=>fA(Gf(e,t))/30;Mt(cG,Ve,{transform(e,t){if(this.value&&!(e.modified()||t.changed()))return t;const n=t.materialize(t.SOURCE).source,r=uG(t.source,e.groupby,Ma),i=e.smooth||!1,o=e.field,s=e.step||omt(n,o),a=rb((p,m)=>o(p)-o(m)),l=e.as||RSe,u=r.length;let c=1/0,d=-1/0,f=0,h;for(;f<u;++f){const p=r[f].sort(a);h=-1;for(const m of dSe(p,s,i,o))m<c&&(c=m),m>d&&(d=m),p[++h][l]=m}return this.value={start:c,stop:d,step:s},t.reflow(!0).modifies(l)}});function DSe(e){ei.call(this,null,smt,e),this.modified(!0)}Mt(DSe,ei);function smt(e){const t=e.expr;return this.value&&!e.modified("expr")?this.value:Ql(n=>t(n,e),Ta(t),Qi(t))}function dG(e){Ve.call(this,[void 0,void 0],e)}dG.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};Mt(dG,Ve,{transform(e,t){const n=this.value,r=e.field,i=t.changed()||t.modified(r.fields)||e.modified("field");let o=n[0],s=n[1];if((i||o==null)&&(o=1/0,s=-1/0),t.visit(i?t.SOURCE:t.ADD,a=>{const l=Ea(r(a));l!=null&&(l<o&&(o=l),l>s&&(s=l))}),!Number.isFinite(o)||!Number.isFinite(s)){let a=Qi(r);a&&(a=` for field "${a}"`),t.dataflow.warn(`Infinite extent${a}: [${o}, ${s}]`),o=s=void 0}this.value=[o,s]}});function fG(e,t){ei.call(this,e),this.parent=t,this.count=0}Mt(fG,ei,{connect(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add(e){this.count+=1,this.value.add.push(e)},rem(e){this.count-=1,this.value.rem.push(e)},mod(e){this.value.mod.push(e)},init(e){this.value.init(e,e.NO_SOURCE)},evaluate(){return this.value}});function jN(e){Ve.call(this,{},e),this._keys=Jx();const t=this._targets=[];t.active=0,t.forEach=n=>{for(let r=0,i=t.active;r<i;++r)n(t[r],r,t)}}Mt(jN,Ve,{activate(e){this._targets[this._targets.active++]=e},subflow(e,t,n,r){const i=this.value;let o=Vt(i,e)&&i[e],s,a;return o?o.value.stamp<n.stamp&&(o.init(n),this.activate(o)):(a=r||(a=this._group[e])&&a.tuple,s=n.dataflow,o=new fG(n.fork(n.NO_SOURCE),this),s.add(o).connect(t(s,e,a)),i[e]=o,this.activate(o)),o},clean(){const e=this.value;let t=0;for(const n in e)if(e[n].count===0){const r=e[n].detachSubflow;r&&r(),delete e[n],++t}if(t){const n=this._targets.filter(r=>r&&r.count>0);this.initTargets(n)}},initTargets(e){const t=this._targets,n=t.length,r=e?e.length:0;let i=0;for(;i<r;++i)t[i]=e[i];for(;i<n&&t[i]!=null;++i)t[i]=null;t.active=r},transform(e,t){const n=t.dataflow,r=e.key,i=e.subflow,o=this._keys,s=e.modified("key"),a=l=>this.subflow(l,i,t);return this._group=e.group||{},this.initTargets(),t.visit(t.REM,l=>{const u=fn(l),c=o.get(u);c!==void 0&&(o.delete(u),a(c).rem(l))}),t.visit(t.ADD,l=>{const u=r(l);o.set(fn(l),u),a(u).add(l)}),s||t.modified(r.fields)?t.visit(t.MOD,l=>{const u=fn(l),c=o.get(u),d=r(l);c===d?a(d).mod(l):(o.set(u,d),a(c).rem(l),a(d).add(l))}):t.changed(t.MOD)&&t.visit(t.MOD,l=>{a(o.get(fn(l))).mod(l)}),s&&t.visit(t.REFLOW,l=>{const u=fn(l),c=o.get(u),d=r(l);c!==d&&(o.set(u,d),a(c).rem(l),a(d).add(l))}),t.clean()?n.runAfter(()=>{this.clean(),o.clean()}):o.empty>n.cleanThreshold&&n.runAfter(o.clean),t}});function $Se(e){ei.call(this,null,amt,e)}Mt($Se,ei);function amt(e){return this.value&&!e.modified()?this.value:et(e.name)?jt(e.name).map(t=>vc(t)):vc(e.name,e.as)}function hG(e){Ve.call(this,Jx(),e)}hG.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};Mt(hG,Ve,{transform(e,t){const n=t.dataflow,r=this.value,i=t.fork(),o=i.add,s=i.rem,a=i.mod,l=e.expr;let u=!0;t.visit(t.REM,d=>{const f=fn(d);r.has(f)?r.delete(f):s.push(d)}),t.visit(t.ADD,d=>{l(d,e)?o.push(d):r.set(fn(d),1)});function c(d){const f=fn(d),h=l(d,e),p=r.get(f);h&&p?(r.delete(f),o.push(d)):!h&&!p?(r.set(f,1),s.push(d)):u&&h&&!p&&a.push(d)}return t.visit(t.MOD,c),e.modified()&&(u=!1,t.visit(t.REFLOW,c)),r.empty>n.cleanThreshold&&n.runAfter(r.clean),i}});function pG(e){Ve.call(this,[],e)}pG.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};Mt(pG,Ve,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=ISe(r,e.as||[]),o=e.index||null,s=i.length;return n.rem=this.value,t.visit(t.SOURCE,a=>{const l=r.map(p=>p(a)),u=l.reduce((p,m)=>Math.max(p,m.length),0);let c=0,d,f,h;for(;c<u;++c){for(f=Lq(a),d=0;d<s;++d)f[i[d]]=(h=l[d][c])==null?null:h;o&&(f[o]=c),n.add.push(f)}}),this.value=n.source=n.add,o&&n.modifies(o),n.modifies(i)}});function mG(e){Ve.call(this,[],e)}mG.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]};Mt(mG,Ve,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=r.map(Qi),o=e.as||["key","value"],s=o[0],a=o[1],l=r.length;return n.rem=this.value,t.visit(t.SOURCE,u=>{for(let c=0,d;c<l;++c)d=Lq(u),d[s]=i[c],d[a]=r[c](u),n.add.push(d)}),this.value=n.source=n.add,n.modifies(o)}});function gG(e){Ve.call(this,null,e)}gG.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};Mt(gG,Ve,{transform(e,t){const n=e.expr,r=e.as,i=e.modified(),o=e.initonly?t.ADD:i?t.SOURCE:t.modified(n.fields)||t.modified(r)?t.ADD_MOD:t.ADD;return i&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(r),t.visit(o,s=>s[r]=n(s,e))}});function MSe(e){Ve.call(this,[],e)}Mt(MSe,Ve,{transform(e,t){const n=t.fork(t.ALL),r=e.generator;let i=this.value,o=e.size-i.length,s,a,l;if(o>0){for(s=[];--o>=0;)s.push(l=Ir(r(e))),i.push(l);n.add=n.add.length?n.materialize(n.ADD).add.concat(s):s}else a=i.slice(0,-o),n.rem=n.rem.length?n.materialize(n.REM).rem.concat(a):a,i=i.slice(-o);return n.source=this.value=i,n}});const qk={value:"value",median:oEe,mean:Hdt,min:S9,max:Fy},lmt=[];function yG(e){Ve.call(this,[],e)}yG.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]};function umt(e){var t=e.method||qk.value,n;if(qk[t]==null)Je("Unrecognized imputation method: "+t);else return t===qk.value?(n=e.value!==void 0?e.value:0,()=>n):qk[t]}function cmt(e){const t=e.field;return n=>n?t(n):NaN}Mt(yG,Ve,{transform(e,t){var n=t.fork(t.ALL),r=umt(e),i=cmt(e),o=Qi(e.field),s=Qi(e.key),a=(e.groupby||[]).map(Qi),l=dmt(t.source,e.groupby,e.key,e.keyvals),u=[],c=this.value,d=l.domain.length,f,h,p,m,g,y,v,w,E,_;for(g=0,w=l.length;g<w;++g)for(f=l[g],p=f.values,h=NaN,v=0;v<d;++v)if(f[v]==null){for(m=l.domain[v],_={_impute:!0},y=0,E=p.length;y<E;++y)_[a[y]]=p[y];_[s]=m,_[o]=Number.isNaN(h)?h=r(f,i):h,u.push(Ir(_))}return u.length&&(n.add=n.materialize(n.ADD).add.concat(u)),c.length&&(n.rem=n.materialize(n.REM).rem.concat(c)),this.value=u,n}});function dmt(e,t,n,r){var i=y=>y(g),o=[],s=r?r.slice():[],a={},l={},u,c,d,f,h,p,m,g;for(s.forEach((y,v)=>a[y]=v+1),f=0,m=e.length;f<m;++f)g=e[f],p=n(g),h=a[p]||(a[p]=s.push(p)),c=(u=t?t.map(i):lmt)+"",(d=l[c])||(d=l[c]=[],o.push(d),d.values=u),d[h-1]=g;return o.domain=s,o}function vG(e){jg.call(this,e)}vG.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:mA},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};Mt(vG,jg,{transform(e,t){const n=this,r=e.modified();let i;return n.value&&(r||t.modified(n._inputs,!0))?(i=n.value=r?n.init(e):{},t.visit(t.SOURCE,o=>n.add(o))):(i=n.value=n.value||this.init(e),t.visit(t.REM,o=>n.rem(o)),t.visit(t.ADD,o=>n.add(o))),n.changes(),t.visit(t.SOURCE,o=>{Bn(o,i[n.cellkey(o)].tuple)}),t.reflow(r).modifies(this._outputs)},changes(){const e=this._adds,t=this._mods;let n,r;for(n=0,r=this._alen;n<r;++n)this.celltuple(e[n]),e[n]=null;for(n=0,r=this._mlen;n<r;++n)this.celltuple(t[n]),t[n]=null;this._alen=this._mlen=0}});function bG(e){Ve.call(this,null,e)}bG.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]};Mt(bG,Ve,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=uG(r,e.groupby,e.field),o=(e.groupby||[]).map(Qi),s=e.bandwidth,a=e.cumulative?"cdf":"pdf",l=e.as||["value","density"],u=[];let c=e.extent,d=e.steps||e.minsteps||25,f=e.steps||e.maxsteps||200;a!=="pdf"&&a!=="cdf"&&Je("Invalid density method: "+a),e.resolve==="shared"&&(c||(c=Gf(r,e.field)),d=f=e.steps||f),i.forEach(h=>{const p=Wq(h,s)[a],m=e.counts?h.length:1,g=c||Gf(h);BN(p,g,d,f).forEach(y=>{const v={};for(let w=0;w<o.length;++w)v[o[w]]=h.dims[w];v[l[0]]=y[0],v[l[1]]=y[1]*m,u.push(Ir(v))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});function PSe(e){ei.call(this,null,fmt,e)}Mt(PSe,ei);function fmt(e){return this.value&&!e.modified()?this.value:xq(e.fields,e.flat)}function NSe(e){Ve.call(this,[],e),this._pending=null}Mt(NSe,Ve,{transform(e,t){const n=t.dataflow;return this._pending?C6(this,t,this._pending):hmt(e)?t.StopPropagation:e.values?C6(this,t,n.parse(e.values,e.format)):e.async?{async:n.request(e.url,e.format).then(i=>(this._pending=jt(i.data),o=>o.touch(this)))}:n.request(e.url,e.format).then(r=>C6(this,t,jt(r.data)))}});function hmt(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}function C6(e,t,n){n.forEach(Ir);const r=t.fork(t.NO_FIELDS&t.NO_SOURCE);return r.rem=e.value,e.value=r.source=r.add=n,e._pending=null,r.rem.length&&r.clean(!0),r}function wG(e){Ve.call(this,{},e)}wG.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]};Mt(wG,Ve,{transform(e,t){const n=e.fields,r=e.index,i=e.values,o=e.default==null?null:e.default,s=e.modified(),a=n.length;let l=s?t.SOURCE:t.ADD,u=t,c=e.as,d,f,h;return i?(f=i.length,a>1&&!c&&Je('Multi-field lookup requires explicit "as" parameter.'),c&&c.length!==a*f&&Je('The "as" parameter has too few output field names.'),c=c||i.map(Qi),d=function(p){for(var m=0,g=0,y,v;m<a;++m)if(v=r.get(n[m](p)),v==null)for(y=0;y<f;++y,++g)p[c[g]]=o;else for(y=0;y<f;++y,++g)p[c[g]]=i[y](v)}):(c||Je("Missing output field names."),d=function(p){for(var m=0,g;m<a;++m)g=r.get(n[m](p)),p[c[m]]=g??o}),s?u=t.reflow(!0):(h=n.some(p=>t.modified(p.fields)),l|=h?t.MOD:0),t.visit(l,d),u.modifies(c)}});function OSe(e){ei.call(this,null,pmt,e)}Mt(OSe,ei);function pmt(e){if(this.value&&!e.modified())return this.value;const t=e.extents,n=t.length;let r=1/0,i=-1/0,o,s;for(o=0;o<n;++o)s=t[o],s[0]<r&&(r=s[0]),s[1]>i&&(i=s[1]);return[r,i]}function LSe(e){ei.call(this,null,mmt,e)}Mt(LSe,ei);function mmt(e){return this.value&&!e.modified()?this.value:e.values.reduce((t,n)=>t.concat(n),[])}function FSe(e){Ve.call(this,null,e)}Mt(FSe,Ve,{transform(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function xG(e){jg.call(this,e)}xG.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:mA,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};Mt(xG,jg,{_transform:jg.prototype.transform,transform(e,t){return this._transform(gmt(e,t),t)}});function gmt(e,t){const n=e.field,r=e.value,i=(e.op==="count"?"__count__":e.op)||"sum",o=Ta(n).concat(Ta(r)),s=vmt(n,e.limit||0,t);return t.changed()&&e.set("__pivot__",null,null,!0),{key:e.key,groupby:e.groupby,ops:s.map(()=>i),fields:s.map(a=>ymt(a,n,r,o)),as:s.map(a=>a+""),modified:e.modified.bind(e)}}function ymt(e,t,n,r){return Ql(i=>t(i)===e?n(i):NaN,r,e+"")}function vmt(e,t,n){const r={},i=[];return n.visit(n.SOURCE,o=>{const s=e(o);r[s]||(r[s]=1,i.push(s))}),i.sort(Qx),t?i.slice(0,t):i}function BSe(e){jN.call(this,e)}Mt(BSe,jN,{transform(e,t){const n=e.subflow,r=e.field,i=o=>this.subflow(fn(o),n,t,o);return(e.modified("field")||r&&t.modified(Ta(r)))&&Je("PreFacet does not support field modification."),this.initTargets(),r?(t.visit(t.MOD,o=>{const s=i(o);r(o).forEach(a=>s.mod(a))}),t.visit(t.ADD,o=>{const s=i(o);r(o).forEach(a=>s.add(Ir(a)))}),t.visit(t.REM,o=>{const s=i(o);r(o).forEach(a=>s.rem(a))})):(t.visit(t.MOD,o=>i(o).mod(o)),t.visit(t.ADD,o=>i(o).add(o)),t.visit(t.REM,o=>i(o).rem(o))),t.clean()&&t.runAfter(()=>this.clean()),t}});function _G(e){Ve.call(this,null,e)}_G.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]};Mt(_G,Ve,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=ISe(e.fields,e.as||[]),o=r?(a,l)=>bmt(a,l,r,i):$N;let s;return this.value?s=this.value:(t=t.addAll(),s=this.value={}),t.visit(t.REM,a=>{const l=fn(a);n.rem.push(s[l]),s[l]=null}),t.visit(t.ADD,a=>{const l=o(a,Ir({}));s[fn(a)]=l,n.add.push(l)}),t.visit(t.MOD,a=>{n.mod.push(o(a,s[fn(a)]))}),n}});function bmt(e,t,n,r){for(let i=0,o=n.length;i<o;++i)t[r[i]]=n[i](e);return t}function jSe(e){Ve.call(this,null,e)}Mt(jSe,Ve,{transform(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function EG(e){Ve.call(this,null,e)}EG.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};const wmt=1e-14;Mt(EG,Ve,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;const i=t.materialize(t.SOURCE).source,o=uG(i,e.groupby,e.field),s=(e.groupby||[]).map(Qi),a=[],l=e.step||.01,u=e.probs||bu(l/2,1-wmt,l),c=u.length;return o.forEach(d=>{const f=jq(d,u);for(let h=0;h<c;++h){const p={};for(let m=0;m<s.length;++m)p[s[m]]=d.dims[m];p[r[0]]=u[h],p[r[1]]=f[h],a.push(Ir(p))}}),this.value&&(n.rem=this.value),this.value=n.add=n.source=a,n}});function zSe(e){Ve.call(this,null,e)}Mt(zSe,Ve,{transform(e,t){let n,r;return this.value?r=this.value:(n=t=t.addAll(),r=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,i=>{const o=fn(i);n.rem.push(r[o]),r[o]=null}),t.visit(t.ADD,i=>{const o=Lq(i);r[fn(i)]=o,n.add.push(o)}),t.visit(t.MOD,i=>{const o=r[fn(i)];for(const s in i)o[s]=i[s],n.modifies(s);n.mod.push(o)})),n}});function SG(e){Ve.call(this,[],e),this.count=0}SG.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]};Mt(SG,Ve,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.modified("size"),i=e.size,o=this.value.reduce((c,d)=>(c[fn(d)]=1,c),{});let s=this.value,a=this.count,l=0;function u(c){let d,f;s.length<i?s.push(c):(f=~~((a+1)*xc()),f<s.length&&f>=l&&(d=s[f],o[fn(d)]&&n.rem.push(d),s[f]=c)),++a}if(t.rem.length&&(t.visit(t.REM,c=>{const d=fn(c);o[d]&&(o[d]=-1,n.rem.push(c)),--a}),s=s.filter(c=>o[fn(c)]!==-1)),(t.rem.length||r)&&s.length<i&&t.source&&(l=a=s.length,t.visit(t.SOURCE,c=>{o[fn(c)]||u(c)}),l=-1),r&&s.length>i){const c=s.length-i;for(let d=0;d<c;++d)o[fn(s[d])]=-1,n.rem.push(s[d]);s=s.slice(c)}return t.mod.length&&t.visit(t.MOD,c=>{o[fn(c)]&&n.mod.push(c)}),t.add.length&&t.visit(t.ADD,u),(t.add.length||l<0)&&(n.add=s.filter(c=>!o[fn(c)])),this.count=a,this.value=n.source=s,n}});function TG(e){Ve.call(this,null,e)}TG.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]};Mt(TG,Ve,{transform(e,t){if(this.value&&!e.modified())return;const n=t.materialize().fork(t.MOD),r=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=bu(e.start,e.stop,e.step||1).map(i=>{const o={};return o[r]=i,Ir(o)}),n.add=t.add.concat(this.value),n}});function USe(e){Ve.call(this,null,e),this.modified(!0)}Mt(USe,Ve,{transform(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function CG(e){Ve.call(this,null,e)}const HSe=["unit0","unit1"];CG.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:kq,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:HSe}]};Mt(CG,Ve,{transform(e,t){const n=e.field,r=e.interval!==!1,i=e.timezone==="utc",o=this._floor(e,t),s=(i?r_:n_)(o.unit).offset,a=e.as||HSe,l=a[0],u=a[1],c=o.step;let d=o.start||1/0,f=o.stop||-1/0,h=t.ADD;return(e.modified()||t.changed(t.REM)||t.modified(Ta(n)))&&(t=t.reflow(!0),h=t.SOURCE,d=1/0,f=-1/0),t.visit(h,p=>{const m=n(p);let g,y;m==null?(p[l]=null,r&&(p[u]=null)):(p[l]=g=y=o(m),r&&(p[u]=y=s(g,c)),g<d&&(d=g),y>f&&(f=y))}),o.start=d,o.stop=f,t.modifies(r?a:l)},_floor(e,t){const n=e.timezone==="utc",{units:r,step:i}=e.units?{units:e.units,step:e.step||1}:MEe({extent:e.extent||Gf(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),o=Iq(r),s=this.value||{},a=(n?SEe:EEe)(o,i);return a.unit=ur(o),a.units=o,a.step=i,a.start=s.start,a.stop=s.stop,this.value=a}});function VSe(e){Ve.call(this,Jx(),e)}Mt(VSe,Ve,{transform(e,t){const n=t.dataflow,r=e.field,i=this.value,o=a=>i.set(r(a),a);let s=!0;return e.modified("field")||t.modified(r.fields)?(i.clear(),t.visit(t.SOURCE,o)):t.changed()?(t.visit(t.REM,a=>i.delete(r(a))),t.visit(t.ADD,o)):s=!1,this.modified(s),i.empty>n.cleanThreshold&&n.runAfter(i.clean),t.fork()}});function WSe(e){Ve.call(this,null,e)}Mt(WSe,Ve,{transform(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(rb(e.sort)):t.source).map(e.field))}});function xmt(e,t,n,r){const i=qT[e](t,n);return{init:i.init||Qm,update:function(o,s){s[r]=i.next(o)}}}const qT={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?e=n+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?++e:e}}},percent_rank:function(){const e=qT.rank(),t=e.next;return{init:e.init,next:n=>(t(n)-1)/(n.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:t=>{const n=t.data,r=t.compare;let i=t.index;if(e<i){for(;i+1<n.length&&!r(n[i],n[i+1]);)++i;e=i}return(1+e)/n.length}}},ntile:function(e,t){t=+t,t>0||Je("ntile num must be greater than zero.");const n=qT.cume_dist(),r=n.next;return{init:n.init,next:i=>Math.ceil(t*r(i))}},lag:function(e,t){return t=+t||1,{next:n=>{const r=n.index-t;return r>=0?e(n.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:n=>{const r=n.index+t,i=n.data;return r<i.length?e(i[r]):null}}},first_value:function(e){return{next:t=>e(t.data[t.i0])}},last_value:function(e){return{next:t=>e(t.data[t.i1-1])}},nth_value:function(e,t){return t=+t,t>0||Je("nth_value nth must be greater than zero."),{next:n=>{const r=n.i0+(t-1);return r<n.i1?e(n.data[r]):null}}},prev_value:function(e){let t;return{init:()=>t=null,next:n=>{const r=e(n.data[n.index]);return r!=null?t=r:t}}},next_value:function(e){let t,n;return{init:()=>(t=null,n=-1),next:r=>{const i=r.data;return r.index<=n?t:(n=_mt(e,i,r.index))<0?(n=i.length,t=null):t=e(i[n])}}}};function _mt(e,t,n){for(let r=t.length;n<r;++n)if(e(t[n])!=null)return n;return-1}const Emt=Object.keys(qT);function qSe(e){const t=jt(e.ops),n=jt(e.fields),r=jt(e.params),i=jt(e.aggregate_params),o=jt(e.as),s=this.outputs=[],a=this.windows=[],l={},u={},c=[],d=[];let f=!0;function h(p){jt(Ta(p)).forEach(m=>l[m]=1)}h(e.sort),t.forEach((p,m)=>{const g=n[m],y=r[m],v=i[m]||null,w=Qi(g),E=xSe(p,w,o[m]);if(h(g),s.push(E),Vt(qT,p))a.push(xmt(p,g,y,E));else{if(g==null&&p!=="count"&&Je("Null aggregate field specified."),p==="count"){c.push(E);return}f=!1;let _=u[w];_||(_=u[w]=[],_.field=g,d.push(_)),_.push(_Se(p,v,E))}}),(c.length||d.length)&&(this.cell=Smt(d,c,f)),this.inputs=Object.keys(l)}const GSe=qSe.prototype;GSe.init=function(){this.windows.forEach(e=>e.init()),this.cell&&this.cell.init()};GSe.update=function(e,t){const n=this.cell,r=this.windows,i=e.data,o=r&&r.length;let s;if(n){for(s=e.p0;s<e.i0;++s)n.rem(i[s]);for(s=e.p1;s<e.i1;++s)n.add(i[s]);n.set(t)}for(s=0;s<o;++s)r[s].update(e,t)};function Smt(e,t,n){e=e.map(l=>SSe(l,l.field));const r={num:0,agg:null,store:!1,count:t};if(!n)for(var i=e.length,o=r.agg=Array(i),s=0;s<i;++s)o[s]=new e[s](r);if(r.store)var a=r.data=new rG;return r.add=function(l){if(r.num+=1,!n){a&&a.add(l);for(let u=0;u<i;++u)o[u].add(o[u].get(l),l)}},r.rem=function(l){if(r.num-=1,!n){a&&a.rem(l);for(let u=0;u<i;++u)o[u].rem(o[u].get(l),l)}},r.set=function(l){let u,c;for(a&&a.values(),u=0,c=t.length;u<c;++u)l[t[u]]=r.num;if(!n)for(u=0,c=o.length;u<c;++u)o[u].set(l)},r.init=function(){r.num=0,a&&a.reset();for(let l=0;l<i;++l)o[l].init()},r}function AG(e){Ve.call(this,{},e),this._mlen=0,this._mods=[]}AG.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Emt.concat(mA)},{name:"params",type:"number",null:!0,array:!0},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};Mt(AG,Ve,{transform(e,t){this.stamp=t.stamp;const n=e.modified(),r=rb(e.sort),i=N9(e.groupby),o=a=>this.group(i(a));let s=this.state;(!s||n)&&(s=this.state=new qSe(e)),n||t.modified(s.inputs)?(this.value={},t.visit(t.SOURCE,a=>o(a).add(a))):(t.visit(t.REM,a=>o(a).remove(a)),t.visit(t.ADD,a=>o(a).add(a)));for(let a=0,l=this._mlen;a<l;++a)Tmt(this._mods[a],s,r,e);return this._mlen=0,this._mods=[],t.reflow(n).modifies(s.outputs)},group(e){let t=this.value[e];return t||(t=this.value[e]=TSe(fn),t.stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}});function Tmt(e,t,n,r){const i=r.sort,o=i&&!r.ignorePeers,s=r.frame||[null,0],a=e.data(n),l=a.length,u=o?Zx(i):null,c={i0:0,i1:0,p0:0,p1:0,index:0,data:a,compare:i||Pa(-1)};t.init();for(let d=0;d<l;++d)Cmt(c,s,d,l),o&&Amt(c,u),t.update(c,a[d])}function Cmt(e,t,n,r){e.p0=e.i0,e.p1=e.i1,e.i0=t[0]==null?0:Math.max(0,n-Math.abs(t[0])),e.i1=t[1]==null?r:Math.min(r,n+Math.abs(t[1])+1),e.index=n}function Amt(e,t){const n=e.i0,r=e.i1-1,i=e.compare,o=e.data,s=o.length-1;n>0&&!i(o[n],o[n-1])&&(e.i0=t.left(o,o[n])),r<s&&!i(o[r],o[r+1])&&(e.i1=t.right(o,o[r]))}const kmt=Object.freeze(Object.defineProperty({__proto__:null,aggregate:jg,bin:iG,collect:oG,compare:CSe,countpattern:sG,cross:aG,density:lG,dotbin:cG,expression:DSe,extent:dG,facet:jN,field:$Se,filter:hG,flatten:pG,fold:mG,formula:gG,generate:MSe,impute:yG,joinaggregate:vG,kde:bG,key:PSe,load:NSe,lookup:wG,multiextent:OSe,multivalues:LSe,params:FSe,pivot:xG,prefacet:BSe,project:_G,proxy:jSe,quantile:EG,relay:zSe,sample:SG,sequence:TG,sieve:USe,subflow:fG,timeunit:CG,tupleindex:VSe,values:WSe,window:AG},Symbol.toStringTag,{value:"Module"}));function Dr(e){return function(){return e}}const Yae=Math.abs,da=Math.atan2,V0=Math.cos,Imt=Math.max,A6=Math.min,nf=Math.sin,ky=Math.sqrt,pa=1e-12,Mw=Math.PI,y$=Mw/2,YSe=2*Mw;function Rmt(e){return e>1?0:e<-1?Mw:Math.acos(e)}function Kae(e){return e>=1?y$:e<=-1?-y$:Math.asin(e)}const O9=Math.PI,L9=2*O9,hy=1e-6,Dmt=L9-hy;function KSe(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function $mt(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return KSe;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let kG=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?KSe:$mt(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-t,u=i-n,c=s-t,d=a-n,f=c*c+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(f>hy)if(!(Math.abs(d*l-u*c)>hy)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-s,p=i-a,m=l*l+u*u,g=h*h+p*p,y=Math.sqrt(m),v=Math.sqrt(f),w=o*Math.tan((O9-Math.acos((m+f-g)/(2*y*v)))/2),E=w/v,_=w/y;Math.abs(E-1)>hy&&this._append`L${t+E*c},${n+E*d}`,this._append`A${o},${o},0,0,${+(d*h>c*p)},${this._x1=t+_*l},${this._y1=n+_*u}`}}arc(t,n,r,i,o,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=t+a,c=n+l,d=1^s,f=s?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>hy||Math.abs(this._y1-c)>hy)&&this._append`L${u},${c}`,r&&(f<0&&(f=f%L9+L9),f>Dmt?this._append`A${r},${r},0,1,${d},${t-a},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:f>hy&&this._append`A${r},${r},0,${+(f>=O9)},${d},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function zN(){return new kG}zN.prototype=kG.prototype;function UN(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new kG(t)}function Mmt(e){return e.innerRadius}function Pmt(e){return e.outerRadius}function Nmt(e){return e.startAngle}function Omt(e){return e.endAngle}function Lmt(e){return e&&e.padAngle}function Fmt(e,t,n,r,i,o,s,a){var l=n-e,u=r-t,c=s-i,d=a-o,f=d*l-c*u;if(!(f*f<pa))return f=(c*(t-o)-d*(e-i))/f,[e+f*l,t+f*u]}function Gk(e,t,n,r,i,o,s){var a=e-n,l=t-r,u=(s?o:-o)/ky(a*a+l*l),c=u*l,d=-u*a,f=e+c,h=t+d,p=n+c,m=r+d,g=(f+p)/2,y=(h+m)/2,v=p-f,w=m-h,E=v*v+w*w,_=i-o,x=f*m-p*h,S=(w<0?-1:1)*ky(Imt(0,_*_*E-x*x)),C=(x*w-v*S)/E,A=(-x*v-w*S)/E,k=(x*w+v*S)/E,N=(-x*v+w*S)/E,M=C-g,I=A-y,D=k-g,R=N-y;return M*M+I*I>D*D+R*R&&(C=k,A=N),{cx:C,cy:A,x01:-c,y01:-d,x11:C*(i/_-1),y11:A*(i/_-1)}}function Bmt(){var e=Mmt,t=Pmt,n=Dr(0),r=null,i=Nmt,o=Omt,s=Lmt,a=null,l=UN(u);function u(){var c,d,f=+e.apply(this,arguments),h=+t.apply(this,arguments),p=i.apply(this,arguments)-y$,m=o.apply(this,arguments)-y$,g=Yae(m-p),y=m>p;if(a||(a=c=l()),h<f&&(d=h,h=f,f=d),!(h>pa))a.moveTo(0,0);else if(g>YSe-pa)a.moveTo(h*V0(p),h*nf(p)),a.arc(0,0,h,p,m,!y),f>pa&&(a.moveTo(f*V0(m),f*nf(m)),a.arc(0,0,f,m,p,y));else{var v=p,w=m,E=p,_=m,x=g,S=g,C=s.apply(this,arguments)/2,A=C>pa&&(r?+r.apply(this,arguments):ky(f*f+h*h)),k=A6(Yae(h-f)/2,+n.apply(this,arguments)),N=k,M=k,I,D;if(A>pa){var R=Kae(A/f*nf(C)),O=Kae(A/h*nf(C));(x-=R*2)>pa?(R*=y?1:-1,E+=R,_-=R):(x=0,E=_=(p+m)/2),(S-=O*2)>pa?(O*=y?1:-1,v+=O,w-=O):(S=0,v=w=(p+m)/2)}var B=h*V0(v),z=h*nf(v),W=f*V0(_),U=f*nf(_);if(k>pa){var F=h*V0(w),Y=h*nf(w),V=f*V0(E),G=f*nf(E),X;if(g<Mw)if(X=Fmt(B,z,V,G,F,Y,W,U)){var Z=B-X[0],oe=z-X[1],ne=F-X[0],ie=Y-X[1],fe=1/nf(Rmt((Z*ne+oe*ie)/(ky(Z*Z+oe*oe)*ky(ne*ne+ie*ie)))/2),se=ky(X[0]*X[0]+X[1]*X[1]);N=A6(k,(f-se)/(fe-1)),M=A6(k,(h-se)/(fe+1))}else N=M=0}S>pa?M>pa?(I=Gk(V,G,B,z,h,M,y),D=Gk(F,Y,W,U,h,M,y),a.moveTo(I.cx+I.x01,I.cy+I.y01),M<k?a.arc(I.cx,I.cy,M,da(I.y01,I.x01),da(D.y01,D.x01),!y):(a.arc(I.cx,I.cy,M,da(I.y01,I.x01),da(I.y11,I.x11),!y),a.arc(0,0,h,da(I.cy+I.y11,I.cx+I.x11),da(D.cy+D.y11,D.cx+D.x11),!y),a.arc(D.cx,D.cy,M,da(D.y11,D.x11),da(D.y01,D.x01),!y))):(a.moveTo(B,z),a.arc(0,0,h,v,w,!y)):a.moveTo(B,z),!(f>pa)||!(x>pa)?a.lineTo(W,U):N>pa?(I=Gk(W,U,F,Y,f,-N,y),D=Gk(B,z,V,G,f,-N,y),a.lineTo(I.cx+I.x01,I.cy+I.y01),N<k?a.arc(I.cx,I.cy,N,da(I.y01,I.x01),da(D.y01,D.x01),!y):(a.arc(I.cx,I.cy,N,da(I.y01,I.x01),da(I.y11,I.x11),!y),a.arc(0,0,f,da(I.cy+I.y11,I.cx+I.x11),da(D.cy+D.y11,D.cx+D.x11),y),a.arc(D.cx,D.cy,N,da(D.y11,D.x11),da(D.y01,D.x01),!y))):a.arc(0,0,f,_,E,y)}if(a.closePath(),c)return a=null,c+""||null}return u.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,d=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Mw/2;return[V0(d)*c,nf(d)*c]},u.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:Dr(+c),u):e},u.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:Dr(+c),u):t},u.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:Dr(+c),u):n},u.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:Dr(+c),u):r},u.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:Dr(+c),u):i},u.endAngle=function(c){return arguments.length?(o=typeof c=="function"?c:Dr(+c),u):o},u.padAngle=function(c){return arguments.length?(s=typeof c=="function"?c:Dr(+c),u):s},u.context=function(c){return arguments.length?(a=c??null,u):a},u}function XSe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function QSe(e){this._context=e}QSe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function IG(e){return new QSe(e)}function JSe(e){return e[0]}function ZSe(e){return e[1]}function eTe(e,t){var n=Dr(!0),r=null,i=IG,o=null,s=UN(a);e=typeof e=="function"?e:e===void 0?JSe:Dr(e),t=typeof t=="function"?t:t===void 0?ZSe:Dr(t);function a(l){var u,c=(l=XSe(l)).length,d,f=!1,h;for(r==null&&(o=i(h=s())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+e(d,u,l),+t(d,u,l));if(h)return o=null,h+""||null}return a.x=function(l){return arguments.length?(e=typeof l=="function"?l:Dr(+l),a):e},a.y=function(l){return arguments.length?(t=typeof l=="function"?l:Dr(+l),a):t},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Dr(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function tTe(e,t,n){var r=null,i=Dr(!0),o=null,s=IG,a=null,l=UN(u);e=typeof e=="function"?e:e===void 0?JSe:Dr(+e),t=typeof t=="function"?t:Dr(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?ZSe:Dr(+n);function u(d){var f,h,p,m=(d=XSe(d)).length,g,y=!1,v,w=new Array(m),E=new Array(m);for(o==null&&(a=s(v=l())),f=0;f<=m;++f){if(!(f<m&&i(g=d[f],f,d))===y)if(y=!y)h=f,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),p=f-1;p>=h;--p)a.point(w[p],E[p]);a.lineEnd(),a.areaEnd()}y&&(w[f]=+e(g,f,d),E[f]=+t(g,f,d),a.point(r?+r(g,f,d):w[f],n?+n(g,f,d):E[f]))}if(v)return a=null,v+""||null}function c(){return eTe().defined(i).curve(s).context(o)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:Dr(+d),r=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Dr(+d),u):e},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Dr(+d),u):r},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:Dr(+d),n=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Dr(+d),u):t},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Dr(+d),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Dr(!!d),u):i},u.curve=function(d){return arguments.length?(s=d,o!=null&&(a=s(o)),u):s},u.context=function(d){return arguments.length?(d==null?o=a=null:a=s(o=d),u):o},u}const jmt={draw(e,t){const n=ky(t/Mw);e.moveTo(n,0),e.arc(0,0,n,0,YSe)}};function zmt(e,t){let n=null,r=UN(i);e=typeof e=="function"?e:Dr(e||jmt),t=typeof t=="function"?t:Dr(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:Dr(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:Dr(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function zg(){}function v$(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function HN(e){this._context=e}HN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:v$(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:v$(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Umt(e){return new HN(e)}function nTe(e){this._context=e}nTe.prototype={areaStart:zg,areaEnd:zg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:v$(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Hmt(e){return new nTe(e)}function rTe(e){this._context=e}rTe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:v$(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Vmt(e){return new rTe(e)}function iTe(e,t){this._basis=new HN(e),this._beta=t}iTe.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],o=e[n]-r,s=t[n]-i,a=-1,l;++a<=n;)l=a/n,this._basis.point(this._beta*e[a]+(1-this._beta)*(r+l*o),this._beta*t[a]+(1-this._beta)*(i+l*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const Wmt=function e(t){function n(r){return t===1?new HN(r):new iTe(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function b$(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function RG(e,t){this._context=e,this._k=(1-t)/6}RG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:b$(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:b$(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const qmt=function e(t){function n(r){return new RG(r,t)}return n.tension=function(r){return e(+r)},n}(0);function DG(e,t){this._context=e,this._k=(1-t)/6}DG.prototype={areaStart:zg,areaEnd:zg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:b$(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Gmt=function e(t){function n(r){return new DG(r,t)}return n.tension=function(r){return e(+r)},n}(0);function $G(e,t){this._context=e,this._k=(1-t)/6}$G.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:b$(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Ymt=function e(t){function n(r){return new $G(r,t)}return n.tension=function(r){return e(+r)},n}(0);function MG(e,t,n){var r=e._x1,i=e._y1,o=e._x2,s=e._y2;if(e._l01_a>pa){var a=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*a-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*a-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>pa){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*u+e._x1*e._l23_2a-t*e._l12_2a)/c,s=(s*u+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,i,o,s,e._x2,e._y2)}function oTe(e,t){this._context=e,this._alpha=t}oTe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:MG(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Kmt=function e(t){function n(r){return t?new oTe(r,t):new RG(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function sTe(e,t){this._context=e,this._alpha=t}sTe.prototype={areaStart:zg,areaEnd:zg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:MG(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Xmt=function e(t){function n(r){return t?new sTe(r,t):new DG(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function aTe(e,t){this._context=e,this._alpha=t}aTe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:MG(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Qmt=function e(t){function n(r){return t?new aTe(r,t):new $G(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function lTe(e){this._context=e}lTe.prototype={areaStart:zg,areaEnd:zg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Jmt(e){return new lTe(e)}function Xae(e){return e<0?-1:1}function Qae(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(Xae(o)+Xae(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function Jae(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function k6(e,t,n){var r=e._x0,i=e._y0,o=e._x1,s=e._y1,a=(o-r)/3;e._context.bezierCurveTo(r+a,i+a*t,o-a,s-a*n,o,s)}function w$(e){this._context=e}w$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:k6(this,this._t0,Jae(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,k6(this,Jae(this,n=Qae(this,e,t)),n);break;default:k6(this,this._t0,n=Qae(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function uTe(e){this._context=new cTe(e)}(uTe.prototype=Object.create(w$.prototype)).point=function(e,t){w$.prototype.point.call(this,t,e)};function cTe(e){this._context=e}cTe.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function Zmt(e){return new w$(e)}function egt(e){return new uTe(e)}function dTe(e){this._context=e}dTe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=Zae(e),i=Zae(t),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Zae(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function tgt(e){return new dTe(e)}function VN(e,t){this._context=e,this._t=t}VN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function ngt(e){return new VN(e,.5)}function rgt(e){return new VN(e,0)}function igt(e){return new VN(e,1)}function xg(e,t){if(typeof document<"u"&&document.createElement){const n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}const ogt=()=>typeof Image<"u"?Image:null;function dh(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function h0(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const F9=Symbol("implicit");function PG(){var e=new gae,t=[],n=[],r=F9;function i(o){let s=e.get(o);if(s===void 0){if(r!==F9)return r;e.set(o,s=t.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new gae;for(const s of o)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return PG(t,n).unknown(r)},dh.apply(i,arguments),i}function o_(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function gA(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function p0(){}var av=.7,Pw=1/av,tw="\\s*([+-]?\\d+)\\s*",GT="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Nf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",sgt=/^#([0-9a-f]{3,8})$/,agt=new RegExp(`^rgb\\(${tw},${tw},${tw}\\)$`),lgt=new RegExp(`^rgb\\(${Nf},${Nf},${Nf}\\)$`),ugt=new RegExp(`^rgba\\(${tw},${tw},${tw},${GT}\\)$`),cgt=new RegExp(`^rgba\\(${Nf},${Nf},${Nf},${GT}\\)$`),dgt=new RegExp(`^hsl\\(${GT},${Nf},${Nf}\\)$`),fgt=new RegExp(`^hsla\\(${GT},${Nf},${Nf},${GT}\\)$`),ele={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};o_(p0,lv,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:tle,formatHex:tle,formatHex8:hgt,formatHsl:pgt,formatRgb:nle,toString:nle});function tle(){return this.rgb().formatHex()}function hgt(){return this.rgb().formatHex8()}function pgt(){return fTe(this).formatHsl()}function nle(){return this.rgb().formatRgb()}function lv(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=sgt.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?rle(t):n===3?new us(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Yk(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Yk(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=agt.exec(e))?new us(t[1],t[2],t[3],1):(t=lgt.exec(e))?new us(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=ugt.exec(e))?Yk(t[1],t[2],t[3],t[4]):(t=cgt.exec(e))?Yk(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=dgt.exec(e))?sle(t[1],t[2]/100,t[3]/100,1):(t=fgt.exec(e))?sle(t[1],t[2]/100,t[3]/100,t[4]):ele.hasOwnProperty(e)?rle(ele[e]):e==="transparent"?new us(NaN,NaN,NaN,0):null}function rle(e){return new us(e>>16&255,e>>8&255,e&255,1)}function Yk(e,t,n,r){return r<=0&&(e=t=n=NaN),new us(e,t,n,r)}function NG(e){return e instanceof p0||(e=lv(e)),e?(e=e.rgb(),new us(e.r,e.g,e.b,e.opacity)):new us}function Ug(e,t,n,r){return arguments.length===1?NG(e):new us(e,t,n,r??1)}function us(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}o_(us,Ug,gA(p0,{brighter(e){return e=e==null?Pw:Math.pow(Pw,e),new us(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?av:Math.pow(av,e),new us(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new us(By(this.r),By(this.g),By(this.b),x$(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ile,formatHex:ile,formatHex8:mgt,formatRgb:ole,toString:ole}));function ile(){return`#${Iy(this.r)}${Iy(this.g)}${Iy(this.b)}`}function mgt(){return`#${Iy(this.r)}${Iy(this.g)}${Iy(this.b)}${Iy((isNaN(this.opacity)?1:this.opacity)*255)}`}function ole(){const e=x$(this.opacity);return`${e===1?"rgb(":"rgba("}${By(this.r)}, ${By(this.g)}, ${By(this.b)}${e===1?")":`, ${e})`}`}function x$(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function By(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Iy(e){return e=By(e),(e<16?"0":"")+e.toString(16)}function sle(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new id(e,t,n,r)}function fTe(e){if(e instanceof id)return new id(e.h,e.s,e.l,e.opacity);if(e instanceof p0||(e=lv(e)),!e)return new id;if(e instanceof id)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new id(s,a,l,e.opacity)}function _$(e,t,n,r){return arguments.length===1?fTe(e):new id(e,t,n,r??1)}function id(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}o_(id,_$,gA(p0,{brighter(e){return e=e==null?Pw:Math.pow(Pw,e),new id(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?av:Math.pow(av,e),new id(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new us(I6(e>=240?e-240:e+120,i,r),I6(e,i,r),I6(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new id(ale(this.h),Kk(this.s),Kk(this.l),x$(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=x$(this.opacity);return`${e===1?"hsl(":"hsla("}${ale(this.h)}, ${Kk(this.s)*100}%, ${Kk(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ale(e){return e=(e||0)%360,e<0?e+360:e}function Kk(e){return Math.max(0,Math.min(1,e||0))}function I6(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const hTe=Math.PI/180,pTe=180/Math.PI,E$=18,mTe=.96422,gTe=1,yTe=.82521,vTe=4/29,nw=6/29,bTe=3*nw*nw,ggt=nw*nw*nw;function wTe(e){if(e instanceof Of)return new Of(e.l,e.a,e.b,e.opacity);if(e instanceof sp)return xTe(e);e instanceof us||(e=NG(e));var t=M6(e.r),n=M6(e.g),r=M6(e.b),i=R6((.2225045*t+.7168786*n+.0606169*r)/gTe),o,s;return t===n&&n===r?o=s=i:(o=R6((.4360747*t+.3850649*n+.1430804*r)/mTe),s=R6((.0139322*t+.0971045*n+.7141733*r)/yTe)),new Of(116*i-16,500*(o-i),200*(i-s),e.opacity)}function S$(e,t,n,r){return arguments.length===1?wTe(e):new Of(e,t,n,r??1)}function Of(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}o_(Of,S$,gA(p0,{brighter(e){return new Of(this.l+E$*(e??1),this.a,this.b,this.opacity)},darker(e){return new Of(this.l-E$*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=mTe*D6(t),e=gTe*D6(e),n=yTe*D6(n),new us($6(3.1338561*t-1.6168667*e-.4906146*n),$6(-.9787684*t+1.9161415*e+.033454*n),$6(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function R6(e){return e>ggt?Math.pow(e,1/3):e/bTe+vTe}function D6(e){return e>nw?e*e*e:bTe*(e-vTe)}function $6(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function M6(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function ygt(e){if(e instanceof sp)return new sp(e.h,e.c,e.l,e.opacity);if(e instanceof Of||(e=wTe(e)),e.a===0&&e.b===0)return new sp(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*pTe;return new sp(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function T$(e,t,n,r){return arguments.length===1?ygt(e):new sp(e,t,n,r??1)}function sp(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function xTe(e){if(isNaN(e.h))return new Of(e.l,0,0,e.opacity);var t=e.h*hTe;return new Of(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}o_(sp,T$,gA(p0,{brighter(e){return new sp(this.h,this.c,this.l+E$*(e??1),this.opacity)},darker(e){return new sp(this.h,this.c,this.l-E$*(e??1),this.opacity)},rgb(){return xTe(this).rgb()}}));var _Te=-.14861,OG=1.78277,LG=-.29227,WN=-.90649,YT=1.97294,lle=YT*WN,ule=YT*OG,cle=OG*LG-WN*_Te;function vgt(e){if(e instanceof jy)return new jy(e.h,e.s,e.l,e.opacity);e instanceof us||(e=NG(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(cle*r+lle*t-ule*n)/(cle+lle-ule),o=r-i,s=(YT*(n-i)-LG*o)/WN,a=Math.sqrt(s*s+o*o)/(YT*i*(1-i)),l=a?Math.atan2(s,o)*pTe-120:NaN;return new jy(l<0?l+360:l,a,i,e.opacity)}function B9(e,t,n,r){return arguments.length===1?vgt(e):new jy(e,t,n,r??1)}function jy(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}o_(jy,B9,gA(p0,{brighter(e){return e=e==null?Pw:Math.pow(Pw,e),new jy(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?av:Math.pow(av,e),new jy(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*hTe,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new us(255*(t+n*(_Te*r+OG*i)),255*(t+n*(LG*r+WN*i)),255*(t+n*(YT*r)),this.opacity)}}));function ETe(e,t,n,r,i){var o=e*e,s=o*e;return((1-3*e+3*o-s)*t+(4-6*o+3*s)*n+(1+3*e+3*o-3*s)*r+s*i)/6}function STe(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],s=r>0?e[r-1]:2*i-o,a=r<t-1?e[r+2]:2*o-i;return ETe((n-r/t)*t,s,i,o,a)}}function TTe(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],s=e[(r+1)%t],a=e[(r+2)%t];return ETe((n-r/t)*t,i,o,s,a)}}const qN=e=>()=>e;function CTe(e,t){return function(n){return e+n*t}}function bgt(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function GN(e,t){var n=t-e;return n?CTe(e,n>180||n<-180?n-360*Math.round(n/360):n):qN(isNaN(e)?t:e)}function wgt(e){return(e=+e)==1?cs:function(t,n){return n-t?bgt(t,n,e):qN(isNaN(t)?n:t)}}function cs(e,t){var n=t-e;return n?CTe(e,n):qN(isNaN(e)?t:e)}const KT=function e(t){var n=wgt(t);function r(i,o){var s=n((i=Ug(i)).r,(o=Ug(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=cs(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function ATe(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),o=new Array(n),s,a;for(s=0;s<n;++s)a=Ug(t[s]),r[s]=a.r||0,i[s]=a.g||0,o[s]=a.b||0;return r=e(r),i=e(i),o=e(o),a.opacity=1,function(l){return a.r=r(l),a.g=i(l),a.b=o(l),a+""}}}var xgt=ATe(STe),_gt=ATe(TTe);function FG(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function kTe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Egt(e,t){return(kTe(t)?FG:ITe)(e,t)}function ITe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=m0(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function RTe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function ic(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function DTe(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=m0(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var j9=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,P6=new RegExp(j9.source,"g");function Sgt(e){return function(){return e}}function Tgt(e){return function(t){return e(t)+""}}function BG(e,t){var n=j9.lastIndex=P6.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(e=e+"",t=t+"";(r=j9.exec(e))&&(i=P6.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:ic(r,i)})),n=P6.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?Tgt(l[0].x):Sgt(t):(t=l.length,function(u){for(var c=0,d;c<t;++c)a[(d=l[c]).i]=d.x(u);return a.join("")})}function m0(e,t){var n=typeof t,r;return t==null||n==="boolean"?qN(t):(n==="number"?ic:n==="string"?(r=lv(t))?(t=r,KT):BG:t instanceof lv?KT:t instanceof Date?RTe:kTe(t)?FG:Array.isArray(t)?ITe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?DTe:ic)(e,t)}function Cgt(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function Agt(e,t){var n=GN(+e,+t);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function yA(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var dle=180/Math.PI,z9={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function $Te(e,t,n,r,i,o){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*dle,skewX:Math.atan(l)*dle,scaleX:s,scaleY:a}}var Xk;function kgt(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?z9:$Te(t.a,t.b,t.c,t.d,t.e,t.f)}function Igt(e){return e==null||(Xk||(Xk=document.createElementNS("http://www.w3.org/2000/svg","g")),Xk.setAttribute("transform",e),!(e=Xk.transform.baseVal.consolidate()))?z9:(e=e.matrix,$Te(e.a,e.b,e.c,e.d,e.e,e.f))}function MTe(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,d,f,h,p){if(u!==d||c!==f){var m=h.push("translate(",null,t,null,n);p.push({i:m-4,x:ic(u,d)},{i:m-2,x:ic(c,f)})}else(d||f)&&h.push("translate("+d+t+f+n)}function s(u,c,d,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:d.push(i(d)+"rotate(",null,r)-2,x:ic(u,c)})):c&&d.push(i(d)+"rotate("+c+r)}function a(u,c,d,f){u!==c?f.push({i:d.push(i(d)+"skewX(",null,r)-2,x:ic(u,c)}):c&&d.push(i(d)+"skewX("+c+r)}function l(u,c,d,f,h,p){if(u!==d||c!==f){var m=h.push(i(h)+"scale(",null,",",null,")");p.push({i:m-4,x:ic(u,d)},{i:m-2,x:ic(c,f)})}else(d!==1||f!==1)&&h.push(i(h)+"scale("+d+","+f+")")}return function(u,c){var d=[],f=[];return u=e(u),c=e(c),o(u.translateX,u.translateY,c.translateX,c.translateY,d,f),s(u.rotate,c.rotate,d,f),a(u.skewX,c.skewX,d,f),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,d,f),u=c=null,function(h){for(var p=-1,m=f.length,g;++p<m;)d[(g=f[p]).i]=g.x(h);return d.join("")}}}var PTe=MTe(kgt,"px, ","px)","deg)"),NTe=MTe(Igt,", ",")",")"),Rgt=1e-12;function fle(e){return((e=Math.exp(e))+1/e)/2}function Dgt(e){return((e=Math.exp(e))-1/e)/2}function $gt(e){return((e=Math.exp(2*e))-1)/(e+1)}const Mgt=function e(t,n,r){function i(o,s){var a=o[0],l=o[1],u=o[2],c=s[0],d=s[1],f=s[2],h=c-a,p=d-l,m=h*h+p*p,g,y;if(m<Rgt)y=Math.log(f/u)/t,g=function(S){return[a+S*h,l+S*p,u*Math.exp(t*S*y)]};else{var v=Math.sqrt(m),w=(f*f-u*u+r*m)/(2*u*n*v),E=(f*f-u*u-r*m)/(2*f*n*v),_=Math.log(Math.sqrt(w*w+1)-w),x=Math.log(Math.sqrt(E*E+1)-E);y=(x-_)/t,g=function(S){var C=S*y,A=fle(_),k=u/(n*v)*(A*$gt(t*C+_)-Dgt(_));return[a+k*h,l+k*p,u*A/fle(t*C+_)]}}return g.duration=y*1e3*t/Math.SQRT2,g}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,l=a*a;return e(s,a,l)},i}(Math.SQRT2,2,4);function OTe(e){return function(t,n){var r=e((t=_$(t)).h,(n=_$(n)).h),i=cs(t.s,n.s),o=cs(t.l,n.l),s=cs(t.opacity,n.opacity);return function(a){return t.h=r(a),t.s=i(a),t.l=o(a),t.opacity=s(a),t+""}}}const Pgt=OTe(GN);var Ngt=OTe(cs);function Ogt(e,t){var n=cs((e=S$(e)).l,(t=S$(t)).l),r=cs(e.a,t.a),i=cs(e.b,t.b),o=cs(e.opacity,t.opacity);return function(s){return e.l=n(s),e.a=r(s),e.b=i(s),e.opacity=o(s),e+""}}function LTe(e){return function(t,n){var r=e((t=T$(t)).h,(n=T$(n)).h),i=cs(t.c,n.c),o=cs(t.l,n.l),s=cs(t.opacity,n.opacity);return function(a){return t.h=r(a),t.c=i(a),t.l=o(a),t.opacity=s(a),t+""}}}const Lgt=LTe(GN);var Fgt=LTe(cs);function FTe(e){return function t(n){n=+n;function r(i,o){var s=e((i=B9(i)).h,(o=B9(o)).h),a=cs(i.s,o.s),l=cs(i.l,o.l),u=cs(i.opacity,o.opacity);return function(c){return i.h=s(c),i.s=a(c),i.l=l(Math.pow(c,n)),i.opacity=u(c),i+""}}return r.gamma=t,r}(1)}const Bgt=FTe(GN);var jgt=FTe(cs);function jG(e,t){t===void 0&&(t=e,e=m0);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function zgt(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}const Ugt=Object.freeze(Object.defineProperty({__proto__:null,interpolate:m0,interpolateArray:Egt,interpolateBasis:STe,interpolateBasisClosed:TTe,interpolateCubehelix:Bgt,interpolateCubehelixLong:jgt,interpolateDate:RTe,interpolateDiscrete:Cgt,interpolateHcl:Lgt,interpolateHclLong:Fgt,interpolateHsl:Pgt,interpolateHslLong:Ngt,interpolateHue:Agt,interpolateLab:Ogt,interpolateNumber:ic,interpolateNumberArray:FG,interpolateObject:DTe,interpolateRgb:KT,interpolateRgbBasis:xgt,interpolateRgbBasisClosed:_gt,interpolateRound:yA,interpolateString:BG,interpolateTransformCss:PTe,interpolateTransformSvg:NTe,interpolateZoom:Mgt,piecewise:jG,quantize:zgt},Symbol.toStringTag,{value:"Module"}));function Hgt(e){return function(){return e}}function U9(e){return+e}var hle=[0,1];function Fl(e){return e}function H9(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Hgt(isNaN(t)?NaN:.5)}function Vgt(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Wgt(e,t,n){var r=e[0],i=e[1],o=t[0],s=t[1];return i<r?(r=H9(i,r),o=n(s,o)):(r=H9(r,i),o=n(o,s)),function(a){return o(r(a))}}function qgt(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=H9(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(a){var l=Fg(e,a,1,r)-1;return o[l](i[l](a))}}function vA(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function YN(){var e=hle,t=hle,n=m0,r,i,o,s=Fl,a,l,u;function c(){var f=Math.min(e.length,t.length);return s!==Fl&&(s=Vgt(e[0],e[f-1])),a=f>2?qgt:Wgt,l=u=null,d}function d(f){return f==null||isNaN(f=+f)?o:(l||(l=a(e.map(r),t,n)))(r(s(f)))}return d.invert=function(f){return s(i((u||(u=a(t,e.map(r),ic)))(f)))},d.domain=function(f){return arguments.length?(e=Array.from(f,U9),c()):e.slice()},d.range=function(f){return arguments.length?(t=Array.from(f),c()):t.slice()},d.rangeRound=function(f){return t=Array.from(f),n=yA,c()},d.clamp=function(f){return arguments.length?(s=f?!0:Fl,c()):s!==Fl},d.interpolate=function(f){return arguments.length?(n=f,c()):n},d.unknown=function(f){return arguments.length?(o=f,d):o},function(f,h){return r=f,i=h,c()}}function BTe(){return YN()(Fl,Fl)}function jTe(e,t,n,r){var i=Bg(e,t,n),o;switch(r=sv(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=dEe(i,s))&&(r.precision=o),Cq(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=fEe(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=cEe(i))&&(r.precision=o-(r.type==="%")*2);break}}return EN(r)}function ob(e){var t=e.domain;return e.ticks=function(n){var r=t();return _9(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return jTe(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,c=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);c-- >0;){if(u=E9(s,a,n),u===l)return r[i]=s,r[o]=a,t(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return e},e}function KN(){var e=BTe();return e.copy=function(){return vA(e,KN())},dh.apply(e,arguments),ob(e)}function zTe(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,U9),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return zTe(e).unknown(t)},e=arguments.length?Array.from(e,U9):[0,1],ob(n)}function UTe(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),e[n]=t.floor(i),e[r]=t.ceil(o),e}function ple(e){return Math.log(e)}function mle(e){return Math.exp(e)}function Ggt(e){return-Math.log(-e)}function Ygt(e){return-Math.exp(-e)}function Kgt(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Xgt(e){return e===10?Kgt:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Qgt(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function gle(e){return(t,n)=>-e(-t,n)}function zG(e){const t=e(ple,mle),n=t.domain;let r=10,i,o;function s(){return i=Qgt(r),o=Xgt(r),n()[0]<0?(i=gle(i),o=gle(o),e(Ggt,Ygt)):e(ple,mle),t}return t.base=function(a){return arguments.length?(r=+a,s()):r},t.domain=function(a){return arguments.length?(n(a),s()):n()},t.ticks=a=>{const l=n();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let f=i(u),h=i(c),p,m;const g=a==null?10:+a;let y=[];if(!(r%1)&&h-f<g){if(f=Math.floor(f),h=Math.ceil(h),u>0){for(;f<=h;++f)for(p=1;p<r;++p)if(m=f<0?p/o(-f):p*o(f),!(m<u)){if(m>c)break;y.push(m)}}else for(;f<=h;++f)for(p=r-1;p>=1;--p)if(m=f>0?p/o(-f):p*o(f),!(m<u)){if(m>c)break;y.push(m)}y.length*2<g&&(y=_9(u,c,g))}else y=_9(f,h,Math.min(h-f,g)).map(o);return d?y.reverse():y},t.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=sv(l)).precision==null&&(l.trim=!0),l=EN(l)),a===1/0)return l;const u=Math.max(1,r*a/t.ticks().length);return c=>{let d=c/o(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?l(c):""}},t.nice=()=>n(UTe(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),t}function HTe(){const e=zG(YN()).domain([1,10]);return e.copy=()=>vA(e,HTe()).base(e.base()),dh.apply(e,arguments),e}function yle(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function vle(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function UG(e){var t=1,n=e(yle(t),vle(t));return n.constant=function(r){return arguments.length?e(yle(t=+r),vle(t)):t},ob(n)}function VTe(){var e=UG(YN());return e.copy=function(){return vA(e,VTe()).constant(e.constant())},dh.apply(e,arguments)}function ble(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Jgt(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Zgt(e){return e<0?-e*e:e*e}function HG(e){var t=e(Fl,Fl),n=1;function r(){return n===1?e(Fl,Fl):n===.5?e(Jgt,Zgt):e(ble(n),ble(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},ob(t)}function VG(){var e=HG(YN());return e.copy=function(){return vA(e,VG()).exponent(e.exponent())},dh.apply(e,arguments),e}function e0t(){return VG.apply(null,arguments).exponent(.5)}function WTe(){var e=[],t=[],n=[],r;function i(){var s=0,a=Math.max(1,t.length);for(n=new Array(a-1);++s<a;)n[s-1]=iEe(e,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:t[Fg(n,s)]}return o.invertExtent=function(s){var a=t.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:e[0],a<n.length?n[a]:e[e.length-1]]},o.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(mp),i()},o.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return WTe().domain(e).range(t).unknown(r)},dh.apply(o,arguments)}function qTe(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[Fg(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,a()):[e,t]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return qTe().domain([e,t]).range(i).unknown(o)},dh.apply(ob(s),arguments)}function GTe(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[Fg(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var s=t.indexOf(o);return[e[s-1],e[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return GTe().domain(e).range(t).unknown(n)},dh.apply(i,arguments)}function t0t(e){return new Date(e)}function n0t(e){return e instanceof Date?+e:+new Date(+e)}function WG(e,t,n,r,i,o,s,a,l,u){var c=BTe(),d=c.invert,f=c.domain,h=u(".%L"),p=u(":%S"),m=u("%I:%M"),g=u("%I %p"),y=u("%a %d"),v=u("%b %d"),w=u("%B"),E=u("%Y");function _(x){return(l(x)<x?h:a(x)<x?p:s(x)<x?m:o(x)<x?g:r(x)<x?i(x)<x?y:v:n(x)<x?w:E)(x)}return c.invert=function(x){return new Date(d(x))},c.domain=function(x){return arguments.length?f(Array.from(x,n0t)):f().map(t0t)},c.ticks=function(x){var S=f();return e(S[0],S[S.length-1],x??10)},c.tickFormat=function(x,S){return S==null?_:u(S)},c.nice=function(x){var S=f();return(!x||typeof x.range!="function")&&(x=t(S[0],S[S.length-1],x??10)),x?f(UTe(S,x)):c},c.copy=function(){return vA(c,WG(e,t,n,r,i,o,s,a,l,u))},c}function r0t(){return dh.apply(WG(dft,fft,Yf,UT,e_,gp,CN,SN,op,Dq).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function i0t(){return dh.apply(WG(uft,cft,Kf,HT,t_,bg,AN,TN,op,$q).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function XN(){var e=0,t=1,n,r,i,o,s=Fl,a=!1,l;function u(d){return d==null||isNaN(d=+d)?l:s(i===0?.5:(d=(o(d)-n)*i,a?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(d){return arguments.length?(a=!!d,u):a},u.interpolator=function(d){return arguments.length?(s=d,u):s};function c(d){return function(f){var h,p;return arguments.length?([h,p]=f,s=d(h,p),u):[s(0),s(1)]}}return u.range=c(m0),u.rangeRound=c(yA),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return o=d,n=d(e),r=d(t),i=n===r?0:1/(r-n),u}}function g0(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function qG(){var e=ob(XN()(Fl));return e.copy=function(){return g0(e,qG())},h0.apply(e,arguments)}function YTe(){var e=zG(XN()).domain([1,10]);return e.copy=function(){return g0(e,YTe()).base(e.base())},h0.apply(e,arguments)}function KTe(){var e=UG(XN());return e.copy=function(){return g0(e,KTe()).constant(e.constant())},h0.apply(e,arguments)}function GG(){var e=HG(XN());return e.copy=function(){return g0(e,GG()).exponent(e.exponent())},h0.apply(e,arguments)}function o0t(){return GG.apply(null,arguments).exponent(.5)}function QN(){var e=0,t=.5,n=1,r=1,i,o,s,a,l,u=Fl,c,d=!1,f;function h(m){return isNaN(m=+m)?f:(m=.5+((m=+c(m))-o)*(r*m<r*o?a:l),u(d?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([e,t,n]=m,i=c(e=+e),o=c(t=+t),s=c(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,h):[e,t,n]},h.clamp=function(m){return arguments.length?(d=!!m,h):d},h.interpolator=function(m){return arguments.length?(u=m,h):u};function p(m){return function(g){var y,v,w;return arguments.length?([y,v,w]=g,u=jG(m,[y,v,w]),h):[u(0),u(.5),u(1)]}}return h.range=p(m0),h.rangeRound=p(yA),h.unknown=function(m){return arguments.length?(f=m,h):f},function(m){return c=m,i=m(e),o=m(t),s=m(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,h}}function XTe(){var e=ob(QN()(Fl));return e.copy=function(){return g0(e,XTe())},h0.apply(e,arguments)}function QTe(){var e=zG(QN()).domain([.1,1,10]);return e.copy=function(){return g0(e,QTe()).base(e.base())},h0.apply(e,arguments)}function JTe(){var e=UG(QN());return e.copy=function(){return g0(e,JTe()).constant(e.constant())},h0.apply(e,arguments)}function YG(){var e=HG(QN());return e.copy=function(){return g0(e,YG()).exponent(e.exponent())},h0.apply(e,arguments)}function s0t(){return YG.apply(null,arguments).exponent(.5)}function fh(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const a0t=fh("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),l0t=fh("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),u0t=fh("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),c0t=fh("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),d0t=fh("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),f0t=fh("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),h0t=fh("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),p0t=fh("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),m0t=fh("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),g0t=fh("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");function KG(e,t,n){const r=e-t+n*2;return e?r>0?r:1:0}const y0t="identity",Nw="linear",Fp="log",bA="pow",wA="sqrt",JN="symlog",uv="time",cv="utc",Lf="sequential",s_="diverging",Ow="quantile",ZN="quantize",eO="threshold",XG="ordinal",V9="point",ZTe="band",QG="bin-ordinal",Xo="continuous",xA="discrete",_A="discretizing",$c="interpolating",JG="temporal";function v0t(e){return function(t){let n=t[0],r=t[1],i;return r<n&&(i=n,n=r,r=i),[e.invert(n),e.invert(r)]}}function b0t(e){return function(t){const n=e.range();let r=t[0],i=t[1],o=-1,s,a,l,u;for(i<r&&(a=r,r=i,i=a),l=0,u=n.length;l<u;++l)n[l]>=r&&n[l]<=i&&(o<0&&(o=l),s=l);if(!(o<0))return r=e.invertExtent(n[o]),i=e.invertExtent(n[s]),[r[0]===void 0?r[1]:r[0],i[1]===void 0?i[0]:i[1]]}}function ZG(){const e=PG().unknown(void 0),t=e.domain,n=e.range;let r=[0,1],i,o,s=!1,a=0,l=0,u=.5;delete e.unknown;function c(){const d=t().length,f=r[1]<r[0],h=r[1-f],p=KG(d,a,l);let m=r[f-0];i=(h-m)/(p||1),s&&(i=Math.floor(i)),m+=(h-m-i*(d-a))*u,o=i*(1-a),s&&(m=Math.round(m),o=Math.round(o));const g=bu(d).map(y=>m+i*y);return n(f?g.reverse():g)}return e.domain=function(d){return arguments.length?(t(d),c()):t()},e.range=function(d){return arguments.length?(r=[+d[0],+d[1]],c()):r.slice()},e.rangeRound=function(d){return r=[+d[0],+d[1]],s=!0,c()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(d){return arguments.length?(s=!!d,c()):s},e.padding=function(d){return arguments.length?(l=Math.max(0,Math.min(1,d)),a=l,c()):a},e.paddingInner=function(d){return arguments.length?(a=Math.max(0,Math.min(1,d)),c()):a},e.paddingOuter=function(d){return arguments.length?(l=Math.max(0,Math.min(1,d)),c()):l},e.align=function(d){return arguments.length?(u=Math.max(0,Math.min(1,d)),c()):u},e.invertRange=function(d){if(d[0]==null||d[1]==null)return;const f=r[1]<r[0],h=f?n().reverse():n(),p=h.length-1;let m=+d[0],g=+d[1],y,v,w;if(!(m!==m||g!==g)&&(g<m&&(w=m,m=g,g=w),!(g<h[0]||m>r[1-f])))return y=Math.max(0,Fg(h,m)-1),v=m===g?y:Fg(h,g)-1,m-h[y]>o+1e-10&&++y,f&&(w=y,y=p-v,v=p-w),y>v?void 0:t().slice(y,v+1)},e.invert=function(d){const f=e.invertRange([d,d]);return f&&f[0]},e.copy=function(){return ZG().domain(t()).range(r).round(s).paddingInner(a).paddingOuter(l).align(u)},c()}function eCe(e){const t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return eCe(t())},e}function w0t(){return eCe(ZG().paddingInner(1))}var x0t=Array.prototype.map;function _0t(e){return x0t.call(e,Ea)}const E0t=Array.prototype.slice;function tCe(){let e=[],t=[];function n(r){return r==null||r!==r?void 0:t[(Fg(e,r)-1)%t.length]}return n.domain=function(r){return arguments.length?(e=_0t(r),n):e.slice()},n.range=function(r){return arguments.length?(t=E0t.call(r),n):t.slice()},n.tickFormat=function(r,i){return jTe(e[0],ur(e),r??10,i)},n.copy=function(){return tCe().domain(n.domain()).range(n.range())},n}const C$=new Map,nCe=Symbol("vega_scale");function rCe(e){return e[nCe]=!0,e}function wle(e){return e&&e[nCe]===!0}function S0t(e,t,n){const r=function(){const o=t();return o.invertRange||(o.invertRange=o.invert?v0t(o):o.invertExtent?b0t(o):void 0),o.type=e,rCe(o)};return r.metadata=Sd(jt(n)),r}function Cr(e,t,n){return arguments.length>1?(C$.set(e,S0t(e,t,n)),this):iCe(e)?C$.get(e):void 0}Cr(y0t,zTe);Cr(Nw,KN,Xo);Cr(Fp,HTe,[Xo,Fp]);Cr(bA,VG,Xo);Cr(wA,e0t,Xo);Cr(JN,VTe,Xo);Cr(uv,r0t,[Xo,JG]);Cr(cv,i0t,[Xo,JG]);Cr(Lf,qG,[Xo,$c]);Cr(`${Lf}-${Nw}`,qG,[Xo,$c]);Cr(`${Lf}-${Fp}`,YTe,[Xo,$c,Fp]);Cr(`${Lf}-${bA}`,GG,[Xo,$c]);Cr(`${Lf}-${wA}`,o0t,[Xo,$c]);Cr(`${Lf}-${JN}`,KTe,[Xo,$c]);Cr(`${s_}-${Nw}`,XTe,[Xo,$c]);Cr(`${s_}-${Fp}`,QTe,[Xo,$c,Fp]);Cr(`${s_}-${bA}`,YG,[Xo,$c]);Cr(`${s_}-${wA}`,s0t,[Xo,$c]);Cr(`${s_}-${JN}`,JTe,[Xo,$c]);Cr(Ow,WTe,[_A,Ow]);Cr(ZN,qTe,_A);Cr(eO,GTe,_A);Cr(QG,tCe,[xA,_A]);Cr(XG,PG,xA);Cr(ZTe,ZG,xA);Cr(V9,w0t,xA);function iCe(e){return C$.has(e)}function sb(e,t){const n=C$.get(e);return n&&n.metadata[t]}function eY(e){return sb(e,Xo)}function Lw(e){return sb(e,xA)}function W9(e){return sb(e,_A)}function oCe(e){return sb(e,Fp)}function T0t(e){return sb(e,JG)}function sCe(e){return sb(e,$c)}function aCe(e){return sb(e,Ow)}const C0t=["clamp","base","constant","exponent"];function lCe(e,t){const n=t[0],r=ur(t)-n;return function(i){return e(n+i*r)}}function tO(e,t,n){return jG(tY(t||"rgb",n),e)}function uCe(e,t){const n=new Array(t),r=t+1;for(let i=0;i<t;)n[i]=e(++i/r);return n}function cCe(e,t,n){const r=n-t;let i,o,s;return!r||!Number.isFinite(r)?Pa(.5):(i=(o=e.type).indexOf("-"),o=i<0?o:o.slice(i+1),s=Cr(o)().domain([t,n]).range([0,1]),C0t.forEach(a=>e[a]?s[a](e[a]()):0),s)}function tY(e,t){const n=Ugt[A0t(e)];return t!=null&&n&&n.gamma?n.gamma(t):n}function A0t(e){return"interpolate"+e.toLowerCase().split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join("")}const k0t={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},I0t={accent:l0t,category10:a0t,category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",dark2:u0t,observable10:c0t,paired:d0t,pastel1:f0t,pastel2:h0t,set1:p0t,set2:m0t,set3:g0t,tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5"};function dCe(e){if(et(e))return e;const t=e.length/6|0,n=new Array(t);for(let r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}function fCe(e,t){for(const n in e)nY(n,t(e[n]))}const xle={};fCe(I0t,dCe);fCe(k0t,e=>tO(dCe(e)));function nY(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(xle[e]=t,this):xle[e]}const kR="symbol",R0t="discrete",D0t="gradient",$0t=e=>et(e)?e.map(t=>String(t)):String(e),M0t=(e,t)=>e[1]-t[1],P0t=(e,t)=>t[1]-e[1];function rY(e,t,n){let r;return Sr(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),n!=null&&(t=Math.min(t,Math.floor(fA(e.domain())/n||1)+1))),Ft(t)&&(r=t.step,t=t.interval),Bt(t)&&(t=e.type===uv?n_(t):e.type==cv?r_(t):Je("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function hCe(e,t,n){let r=e.range(),i=r[0],o=ur(r),s=M0t;if(i>o&&(r=o,o=i,i=r,s=P0t),i=Math.floor(i),o=Math.ceil(o),t=t.map(a=>[a,e(a)]).filter(a=>i<=a[1]&&a[1]<=o).sort(s).map(a=>a[0]),n>0&&t.length>1){const a=[t[0],ur(t)];for(;t.length>n&&t.length>=3;)t=t.filter((l,u)=>!(u%2));t.length<3&&(t=a)}return t}function iY(e,t){return e.bins?hCe(e,e.bins,t):e.ticks?e.ticks(t):e.domain()}function pCe(e,t,n,r,i,o){const s=t.type;let a=$0t;if(s===uv||i===uv)a=e.timeFormat(r);else if(s===cv||i===cv)a=e.utcFormat(r);else if(oCe(s)){const l=e.formatFloat(r);if(o||t.bins)a=l;else{const u=mCe(t,n,!1);a=c=>u(c)?l(c):""}}else if(t.tickFormat){const l=t.domain();a=e.formatSpan(l[0],l[l.length-1],n,r)}else r&&(a=e.format(r));return a}function mCe(e,t,n){const r=iY(e,t),i=e.base(),o=Math.log(i),s=Math.max(1,i*t/r.length),a=l=>{let u=l/Math.pow(i,Math.round(Math.log(l)/o));return u*i<i-.5&&(u*=i),u<=s};return n?r.filter(a):a}const q9={[Ow]:"quantiles",[ZN]:"thresholds",[eO]:"domain"},gCe={[Ow]:"quantiles",[ZN]:"domain"};function yCe(e,t){return e.bins?L0t(e.bins):e.type===Fp?mCe(e,t,!0):q9[e.type]?O0t(e[q9[e.type]]()):iY(e,t)}function N0t(e,t,n){const r=t[gCe[t.type]](),i=r.length;let o=i>1?r[1]-r[0]:r[0],s;for(s=1;s<i;++s)o=Math.min(o,r[s]-r[s-1]);return e.formatSpan(0,o,3*10,n)}function O0t(e){const t=[-1/0].concat(e);return t.max=1/0,t}function L0t(e){const t=e.slice(0,-1);return t.max=ur(e),t}const F0t=e=>q9[e.type]||e.bins;function vCe(e,t,n,r,i,o,s){const a=gCe[t.type]&&o!==uv&&o!==cv?N0t(e,t,i):pCe(e,t,n,i,o,s);return r===kR&&F0t(t)?B0t(a):r===R0t?j0t(a):z0t(a)}const B0t=e=>(t,n,r)=>{const i=_le(r[n+1],_le(r.max,1/0)),o=Ele(t,e),s=Ele(i,e);return o&&s?o+"  "+s:s?"< "+s:" "+o},_le=(e,t)=>e??t,j0t=e=>(t,n)=>n?e(t):null,z0t=e=>t=>e(t),Ele=(e,t)=>Number.isFinite(e)?t(e):null;function U0t(e){const t=e.domain(),n=t.length-1;let r=+t[0],i=+ur(t),o=i-r;if(e.type===eO){const s=n?o/n:.1;r-=s,i+=s,o=i-r}return s=>(s-r)/o}function H0t(e,t,n,r){const i=r||t.type;return Bt(n)&&T0t(i)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),!n&&i===uv?e.timeFormat("%A, %d %B %Y, %X"):!n&&i===cv?e.utcFormat("%A, %d %B %Y, %X UTC"):vCe(e,t,5,null,n,r,!0)}function bCe(e,t,n){n=n||{};const r=Math.max(3,n.maxlen||7),i=H0t(e,t,n.format,n.formatType);if(W9(t.type)){const o=yCe(t).slice(1).map(i),s=o.length;return`${s} boundar${s===1?"y":"ies"}: ${o.join(", ")}`}else if(Lw(t.type)){const o=t.domain(),s=o.length,a=s>r?o.slice(0,r-2).map(i).join(", ")+", ending with "+o.slice(-1).map(i):o.map(i).join(", ");return`${s} value${s===1?"":"s"}: ${a}`}else{const o=t.domain();return`values from ${i(o[0])} to ${i(ur(o))}`}}let wCe=0;function V0t(){wCe=0}const A$="p_";function oY(e){return e&&e.gradient}function xCe(e,t,n){const r=e.gradient;let i=e.id,o=r==="radial"?A$:"";return i||(i=e.id="gradient_"+wCe++,r==="radial"?(e.x1=rf(e.x1,.5),e.y1=rf(e.y1,.5),e.r1=rf(e.r1,0),e.x2=rf(e.x2,.5),e.y2=rf(e.y2,.5),e.r2=rf(e.r2,.5),o=A$):(e.x1=rf(e.x1,0),e.y1=rf(e.y1,0),e.x2=rf(e.x2,1),e.y2=rf(e.y2,0))),t[i]=e,"url("+(n||"")+"#"+o+i+")"}function rf(e,t){return e??t}function _Ce(e,t){var n=[],r;return r={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:n,stop:function(i,o){return n.push({offset:i,color:o}),r}}}const Sle={basis:{curve:Umt},"basis-closed":{curve:Hmt},"basis-open":{curve:Vmt},bundle:{curve:Wmt,tension:"beta",value:.85},cardinal:{curve:qmt,tension:"tension",value:0},"cardinal-open":{curve:Ymt,tension:"tension",value:0},"cardinal-closed":{curve:Gmt,tension:"tension",value:0},"catmull-rom":{curve:Kmt,tension:"alpha",value:.5},"catmull-rom-closed":{curve:Xmt,tension:"alpha",value:.5},"catmull-rom-open":{curve:Qmt,tension:"alpha",value:.5},linear:{curve:IG},"linear-closed":{curve:Jmt},monotone:{horizontal:egt,vertical:Zmt},natural:{curve:tgt},step:{curve:ngt},"step-after":{curve:igt},"step-before":{curve:rgt}};function sY(e,t,n){var r=Vt(Sle,e)&&Sle[e],i=null;return r&&(i=r.curve||r[t||"vertical"],r.tension&&n!=null&&(i=i[r.tension](n))),i}const W0t={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},q0t=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,G0t=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,Y0t=/^((\s+,?\s*)|(,\s*))/,K0t=/^[01]/;function Fw(e){const t=[];return(e.match(q0t)||[]).forEach(r=>{let i=r[0];const o=i.toLowerCase(),s=W0t[o],a=X0t(o,s,r.slice(1).trim()),l=a.length;if(l<s||l&&l%s!==0)throw Error("Invalid SVG path, incorrect parameter count");if(t.push([i,...a.slice(0,s)]),l!==s){o==="m"&&(i=i==="M"?"L":"l");for(let u=s;u<l;u+=s)t.push([i,...a.slice(u,u+s)])}}),t}function X0t(e,t,n){const r=[];for(let i=0;t&&i<n.length;)for(let o=0;o<t;++o){const s=e==="a"&&(o===3||o===4)?K0t:G0t,a=n.slice(i).match(s);if(a===null)throw Error("Invalid SVG path, incorrect parameter type");i+=a[0].length,r.push(+a[0]);const l=n.slice(i).match(Y0t);l!==null&&(i+=l[0].length)}return r}const Hg=Math.PI/180,Q0t=1e-14,vy=Math.PI/2,yf=Math.PI*2,o1=Math.sqrt(3)/2;var N6={},O6={},ECe=[].join;function J0t(e,t,n,r,i,o,s,a,l){const u=ECe.call(arguments);if(N6[u])return N6[u];const c=s*Hg,d=Math.sin(c),f=Math.cos(c);n=Math.abs(n),r=Math.abs(r);const h=f*(a-e)*.5+d*(l-t)*.5,p=f*(l-t)*.5-d*(a-e)*.5;let m=h*h/(n*n)+p*p/(r*r);m>1&&(m=Math.sqrt(m),n*=m,r*=m);const g=f/n,y=d/n,v=-d/r,w=f/r,E=g*a+y*l,_=v*a+w*l,x=g*e+y*t,S=v*e+w*t;let A=1/((x-E)*(x-E)+(S-_)*(S-_))-.25;A<0&&(A=0);let k=Math.sqrt(A);o==i&&(k=-k);const N=.5*(E+x)-k*(S-_),M=.5*(_+S)+k*(x-E),I=Math.atan2(_-M,E-N);let R=Math.atan2(S-M,x-N)-I;R<0&&o===1?R+=yf:R>0&&o===0&&(R-=yf);const O=Math.ceil(Math.abs(R/(vy+.001))),B=[];for(let z=0;z<O;++z){const W=I+z*R/O,U=I+(z+1)*R/O;B[z]=[N,M,W,U,n,r,d,f]}return N6[u]=B}function Z0t(e){const t=ECe.call(e);if(O6[t])return O6[t];var n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],u=e[7];const c=u*s,d=-l*a,f=l*s,h=u*a,p=Math.cos(i),m=Math.sin(i),g=Math.cos(o),y=Math.sin(o),v=.5*(o-i),w=Math.sin(v*.5),E=8/3*w*w/Math.sin(v),_=n+p-E*m,x=r+m+E*p,S=n+g,C=r+y,A=S+E*y,k=C-E*g;return O6[t]=[c*_+d*x,f*_+h*x,c*A+d*k,f*A+h*k,c*S+d*C,f*S+h*C]}const ec=["l",0,0,0,0,0,0,0];function eyt(e,t,n){const r=ec[0]=e[0];if(r==="a"||r==="A")ec[1]=t*e[1],ec[2]=n*e[2],ec[3]=e[3],ec[4]=e[4],ec[5]=e[5],ec[6]=t*e[6],ec[7]=n*e[7];else if(r==="h"||r==="H")ec[1]=t*e[1];else if(r==="v"||r==="V")ec[1]=n*e[1];else for(var i=1,o=e.length;i<o;++i)ec[i]=(i%2==1?t:n)*e[i];return ec}function XT(e,t,n,r,i,o){var s,a=null,l=0,u=0,c=0,d=0,f,h,p,m,g=0,y=0;n==null&&(n=0),r==null&&(r=0),i==null&&(i=1),o==null&&(o=i),e.beginPath&&e.beginPath();for(var v=0,w=t.length;v<w;++v){switch(s=t[v],(i!==1||o!==1)&&(s=eyt(s,i,o)),s[0]){case"l":l+=s[1],u+=s[2],e.lineTo(l+n,u+r);break;case"L":l=s[1],u=s[2],e.lineTo(l+n,u+r);break;case"h":l+=s[1],e.lineTo(l+n,u+r);break;case"H":l=s[1],e.lineTo(l+n,u+r);break;case"v":u+=s[1],e.lineTo(l+n,u+r);break;case"V":u=s[1],e.lineTo(l+n,u+r);break;case"m":l+=s[1],u+=s[2],g=l,y=u,e.moveTo(l+n,u+r);break;case"M":l=s[1],u=s[2],g=l,y=u,e.moveTo(l+n,u+r);break;case"c":f=l+s[5],h=u+s[6],c=l+s[3],d=u+s[4],e.bezierCurveTo(l+s[1]+n,u+s[2]+r,c+n,d+r,f+n,h+r),l=f,u=h;break;case"C":l=s[5],u=s[6],c=s[3],d=s[4],e.bezierCurveTo(s[1]+n,s[2]+r,c+n,d+r,l+n,u+r);break;case"s":f=l+s[3],h=u+s[4],c=2*l-c,d=2*u-d,e.bezierCurveTo(c+n,d+r,l+s[1]+n,u+s[2]+r,f+n,h+r),c=l+s[1],d=u+s[2],l=f,u=h;break;case"S":f=s[3],h=s[4],c=2*l-c,d=2*u-d,e.bezierCurveTo(c+n,d+r,s[1]+n,s[2]+r,f+n,h+r),l=f,u=h,c=s[1],d=s[2];break;case"q":f=l+s[3],h=u+s[4],c=l+s[1],d=u+s[2],e.quadraticCurveTo(c+n,d+r,f+n,h+r),l=f,u=h;break;case"Q":f=s[3],h=s[4],e.quadraticCurveTo(s[1]+n,s[2]+r,f+n,h+r),l=f,u=h,c=s[1],d=s[2];break;case"t":f=l+s[1],h=u+s[2],a[0].match(/[QqTt]/)===null?(c=l,d=u):a[0]==="t"?(c=2*l-p,d=2*u-m):a[0]==="q"&&(c=2*l-c,d=2*u-d),p=c,m=d,e.quadraticCurveTo(c+n,d+r,f+n,h+r),l=f,u=h,c=l+s[1],d=u+s[2];break;case"T":f=s[1],h=s[2],c=2*l-c,d=2*u-d,e.quadraticCurveTo(c+n,d+r,f+n,h+r),l=f,u=h;break;case"a":Tle(e,l+n,u+r,[s[1],s[2],s[3],s[4],s[5],s[6]+l+n,s[7]+u+r]),l+=s[6],u+=s[7];break;case"A":Tle(e,l+n,u+r,[s[1],s[2],s[3],s[4],s[5],s[6]+n,s[7]+r]),l=s[6],u=s[7];break;case"z":case"Z":l=g,u=y,e.closePath();break}a=s}}function Tle(e,t,n,r){const i=J0t(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n);for(let o=0;o<i.length;++o){const s=Z0t(i[o]);e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5])}}const Cle=.5773502691896257,Ale={circle:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,yf)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/7,i=n/2.5,o=n/8;e.moveTo(-r,n),e.lineTo(r,n),e.lineTo(r,-o),e.lineTo(i,-o),e.lineTo(0,-n),e.lineTo(-i,-o),e.lineTo(-r,-o),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=o1*n,i=r-n*Cle,o=n/4;e.moveTo(0,-r-i),e.lineTo(-o,r-i),e.lineTo(o,r-i),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=o1*n,i=r-n*Cle;e.moveTo(0,-r-i),e.lineTo(-n,r-i),e.lineTo(n,r-i),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=o1*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=o1*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=o1*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=o1*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function SCe(e){return Vt(Ale,e)?Ale[e]:tyt(e)}var L6={};function tyt(e){if(!Vt(L6,e)){const t=Fw(e);L6[e]={draw:function(n,r){XT(n,t,0,0,Math.sqrt(r)/2)}}}return L6[e]}const Dm=.448084975506;function nyt(e){return e.x}function ryt(e){return e.y}function iyt(e){return e.width}function oyt(e){return e.height}function Nh(e){return typeof e=="function"?e:()=>+e}function Qk(e,t,n){return Math.max(t,Math.min(e,n))}function TCe(){var e=nyt,t=ryt,n=iyt,r=oyt,i=Nh(0),o=i,s=i,a=i,l=null;function u(c,d,f){var h,p=d??+e.call(this,c),m=f??+t.call(this,c),g=+n.call(this,c),y=+r.call(this,c),v=Math.min(g,y)/2,w=Qk(+i.call(this,c),0,v),E=Qk(+o.call(this,c),0,v),_=Qk(+s.call(this,c),0,v),x=Qk(+a.call(this,c),0,v);if(l||(l=h=zN()),w<=0&&E<=0&&_<=0&&x<=0)l.rect(p,m,g,y);else{var S=p+g,C=m+y;l.moveTo(p+w,m),l.lineTo(S-E,m),l.bezierCurveTo(S-Dm*E,m,S,m+Dm*E,S,m+E),l.lineTo(S,C-x),l.bezierCurveTo(S,C-Dm*x,S-Dm*x,C,S-x,C),l.lineTo(p+_,C),l.bezierCurveTo(p+Dm*_,C,p,C-Dm*_,p,C-_),l.lineTo(p,m+w),l.bezierCurveTo(p,m+Dm*w,p+Dm*w,m,p+w,m),l.closePath()}if(h)return l=null,h+""||null}return u.x=function(c){return arguments.length?(e=Nh(c),u):e},u.y=function(c){return arguments.length?(t=Nh(c),u):t},u.width=function(c){return arguments.length?(n=Nh(c),u):n},u.height=function(c){return arguments.length?(r=Nh(c),u):r},u.cornerRadius=function(c,d,f,h){return arguments.length?(i=Nh(c),o=d!=null?Nh(d):i,a=f!=null?Nh(f):i,s=h!=null?Nh(h):o,u):i},u.context=function(c){return arguments.length?(l=c??null,u):l},u}function CCe(){var e,t,n,r,i=null,o,s,a,l;function u(d,f,h){const p=h/2;if(o){var m=a-f,g=d-s;if(m||g){var y=Math.hypot(m,g),v=(m/=y)*l,w=(g/=y)*l,E=Math.atan2(g,m);i.moveTo(s-v,a-w),i.lineTo(d-m*p,f-g*p),i.arc(d,f,p,E-Math.PI,E),i.lineTo(s+v,a+w),i.arc(s,a,l,E,E+Math.PI)}else i.arc(d,f,p,0,yf);i.closePath()}else o=1;s=d,a=f,l=p}function c(d){var f,h=d.length,p,m=!1,g;for(i==null&&(i=g=zN()),f=0;f<=h;++f)!(f<h&&r(p=d[f],f,d))===m&&(m=!m)&&(o=0),m&&u(+e(p,f,d),+t(p,f,d),+n(p,f,d));if(g)return i=null,g+""||null}return c.x=function(d){return arguments.length?(e=d,c):e},c.y=function(d){return arguments.length?(t=d,c):t},c.size=function(d){return arguments.length?(n=d,c):n},c.defined=function(d){return arguments.length?(r=d,c):r},c.context=function(d){return arguments.length?(d==null?i=null:i=d,c):i},c}function EA(e,t){return e??t}const SA=e=>e.x||0,TA=e=>e.y||0,syt=e=>e.width||0,ayt=e=>e.height||0,lyt=e=>(e.x||0)+(e.width||0),uyt=e=>(e.y||0)+(e.height||0),cyt=e=>e.startAngle||0,dyt=e=>e.endAngle||0,fyt=e=>e.padAngle||0,hyt=e=>e.innerRadius||0,pyt=e=>e.outerRadius||0,myt=e=>e.cornerRadius||0,gyt=e=>EA(e.cornerRadiusTopLeft,e.cornerRadius)||0,yyt=e=>EA(e.cornerRadiusTopRight,e.cornerRadius)||0,vyt=e=>EA(e.cornerRadiusBottomRight,e.cornerRadius)||0,byt=e=>EA(e.cornerRadiusBottomLeft,e.cornerRadius)||0,wyt=e=>EA(e.size,64),xyt=e=>e.size||1,nO=e=>e.defined!==!1,_yt=e=>SCe(e.shape||"circle"),Eyt=Bmt().startAngle(cyt).endAngle(dyt).padAngle(fyt).innerRadius(hyt).outerRadius(pyt).cornerRadius(myt),Syt=tTe().x(SA).y1(TA).y0(uyt).defined(nO),Tyt=tTe().y(TA).x1(SA).x0(lyt).defined(nO),Cyt=eTe().x(SA).y(TA).defined(nO),Ayt=TCe().x(SA).y(TA).width(syt).height(ayt).cornerRadius(gyt,yyt,vyt,byt),kyt=zmt().type(_yt).size(wyt),Iyt=CCe().x(SA).y(TA).defined(nO).size(xyt);function aY(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function Ryt(e,t){return Eyt.context(e)(t)}function Dyt(e,t){const n=t[0],r=n.interpolate||"linear";return(n.orient==="horizontal"?Tyt:Syt).curve(sY(r,n.orient,n.tension)).context(e)(t)}function $yt(e,t){const n=t[0],r=n.interpolate||"linear";return Cyt.curve(sY(r,n.orient,n.tension)).context(e)(t)}function a_(e,t,n,r){return Ayt.context(e)(t,n,r)}function Myt(e,t){return(t.mark.shape||t.shape).context(e)(t)}function Pyt(e,t){return kyt.context(e)(t)}function Nyt(e,t){return Iyt.context(e)(t)}var ACe=1;function kCe(){ACe=1}function lY(e,t,n){var r=t.clip,i=e._defs,o=t.clip_id||(t.clip_id="clip"+ACe++),s=i.clipping[o]||(i.clipping[o]={id:o});return jn(r)?s.path=r(null):aY(n)?s.path=a_(null,n,0,0):(s.width=n.width||0,s.height=n.height||0),"url(#"+o+")"}function ko(e){this.clear(),e&&this.union(e)}ko.prototype={clone(){return new ko(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},add(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate(e,t,n){const r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints(e,t,n){var{x1:r,y1:i,x2:o,y2:s}=this,a=Math.cos(e),l=Math.sin(e),u=t-t*a+n*l,c=n-t*l-n*a;return[a*r-l*i+u,l*r+a*i+c,a*r-l*s+u,l*r+a*s+c,a*o-l*i+u,l*o+a*i+c,a*o-l*s+u,l*o+a*s+c]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};function rO(e){this.mark=e,this.bounds=this.bounds||new ko}function iO(e){rO.call(this,e),this.items=this.items||[]}Mt(iO,rO);class ICe{constructor(t){this._pending=0,this._loader=t||IN()}pending(){return this._pending}sanitizeURL(t){const n=this;return kle(n),n._loader.sanitize(t,{context:"href"}).then(r=>(wE(n),r)).catch(()=>(wE(n),null))}loadImage(t){const n=this,r=ogt();return kle(n),n._loader.sanitize(t,{context:"image"}).then(i=>{const o=i.href;if(!o||!r)throw{url:o};const s=new r,a=Vt(i,"crossOrigin")?i.crossOrigin:"anonymous";return a!=null&&(s.crossOrigin=a),s.onload=()=>wE(n),s.onerror=()=>wE(n),s.src=o,s}).catch(i=>(wE(n),{complete:!1,width:0,height:0,src:i&&i.url||""}))}ready(){const t=this;return new Promise(n=>{function r(i){t.pending()?setTimeout(()=>{r(!0)},10):n(i)}r(!1)})}}function kle(e){e._pending+=1}function wE(e){e._pending-=1}function Zp(e,t,n){if(t.stroke&&t.opacity!==0&&t.strokeOpacity!==0){const r=t.strokeWidth!=null?+t.strokeWidth:1;e.expand(r+(n?Oyt(t,r):0))}return e}function Oyt(e,t){return e.strokeJoin&&e.strokeJoin!=="miter"?0:t}const Lyt=yf-1e-8;let oO,IR,RR,Ry,G9,DR,Y9,K9;const tg=(e,t)=>oO.add(e,t),$R=(e,t)=>tg(IR=e,RR=t),Ile=e=>tg(e,oO.y1),Rle=e=>tg(oO.x1,e),by=(e,t)=>G9*e+Y9*t,wy=(e,t)=>DR*e+K9*t,F6=(e,t)=>tg(by(e,t),wy(e,t)),B6=(e,t)=>$R(by(e,t),wy(e,t));function CA(e,t){return oO=e,t?(Ry=t*Hg,G9=K9=Math.cos(Ry),DR=Math.sin(Ry),Y9=-DR):(G9=K9=1,Ry=DR=Y9=0),Fyt}const Fyt={beginPath(){},closePath(){},moveTo:B6,lineTo:B6,rect(e,t,n,r){Ry?(F6(e+n,t),F6(e+n,t+r),F6(e,t+r),B6(e,t)):(tg(e+n,t+r),$R(e,t))},quadraticCurveTo(e,t,n,r){const i=by(e,t),o=wy(e,t),s=by(n,r),a=wy(n,r);Dle(IR,i,s,Ile),Dle(RR,o,a,Rle),$R(s,a)},bezierCurveTo(e,t,n,r,i,o){const s=by(e,t),a=wy(e,t),l=by(n,r),u=wy(n,r),c=by(i,o),d=wy(i,o);$le(IR,s,l,c,Ile),$le(RR,a,u,d,Rle),$R(c,d)},arc(e,t,n,r,i,o){if(r+=Ry,i+=Ry,IR=n*Math.cos(i)+e,RR=n*Math.sin(i)+t,Math.abs(i-r)>Lyt)tg(e-n,t-n),tg(e+n,t+n);else{const s=u=>tg(n*Math.cos(u)+e,n*Math.sin(u)+t);let a,l;if(s(r),s(i),i!==r)if(r=r%yf,r<0&&(r+=yf),i=i%yf,i<0&&(i+=yf),i<r&&(o=!o,a=r,r=i,i=a),o)for(i-=yf,a=r-r%vy,l=0;l<4&&a>i;++l,a-=vy)s(a);else for(a=r-r%vy+vy,l=0;l<4&&a<i;++l,a=a+vy)s(a)}}};function Dle(e,t,n,r){const i=(e-t)/(e+n-2*t);0<i&&i<1&&r(e+(t-e)*i)}function $le(e,t,n,r,i){const o=r-e+3*t-3*n,s=e+n-2*t,a=e-t;let l=0,u=0,c;Math.abs(o)>Q0t?(c=s*s+a*o,c>=0&&(c=Math.sqrt(c),l=(-s+c)/o,u=(-s-c)/o)):l=.5*a/s,0<l&&l<1&&i(Mle(l,e,t,n,r)),0<u&&u<1&&i(Mle(u,e,t,n,r))}function Mle(e,t,n,r,i){const o=1-e,s=o*o,a=e*e;return s*o*t+3*s*e*n+3*o*a*r+a*e*i}var _g=(_g=xg(1,1))?_g.getContext("2d"):null;const X9=new ko;function uY(e){return function(t,n){if(!_g)return!0;e(_g,t),X9.clear().union(t.bounds).intersect(n).round();const{x1:r,y1:i,x2:o,y2:s}=X9;for(let a=i;a<=s;++a)for(let l=r;l<=o;++l)if(_g.isPointInPath(l,a))return!0;return!1}}function cY(e,t){return t.contains(e.x||0,e.y||0)}function RCe(e,t){const n=e.x||0,r=e.y||0,i=e.width||0,o=e.height||0;return t.intersects(X9.set(n,r,n+i,r+o))}function DCe(e,t){const n=e.x||0,r=e.y||0,i=e.x2!=null?e.x2:n,o=e.y2!=null?e.y2:r;return M1(t,n,r,i,o)}function M1(e,t,n,r,i){const{x1:o,y1:s,x2:a,y2:l}=e,u=r-t,c=i-n;let d=0,f=1,h,p,m,g;for(g=0;g<4;++g){if(g===0&&(h=-u,p=-(o-t)),g===1&&(h=u,p=a-t),g===2&&(h=-c,p=-(s-n)),g===3&&(h=c,p=l-n),Math.abs(h)<1e-10&&p<0)return!1;if(m=p/h,h<0){if(m>f)return!1;m>d&&(d=m)}else if(h>0){if(m<d)return!1;m<f&&(f=m)}}return!0}function Bw(e,t){e.globalCompositeOperation=t.blend||"source-over"}function Gc(e,t){return e??t}function Ple(e,t){const n=t.length;for(let r=0;r<n;++r)e.addColorStop(t[r].offset,t[r].color);return e}function Byt(e,t,n){const r=n.width(),i=n.height();let o;if(t.gradient==="radial")o=e.createRadialGradient(n.x1+Gc(t.x1,.5)*r,n.y1+Gc(t.y1,.5)*i,Math.max(r,i)*Gc(t.r1,0),n.x1+Gc(t.x2,.5)*r,n.y1+Gc(t.y2,.5)*i,Math.max(r,i)*Gc(t.r2,.5));else{const s=Gc(t.x1,0),a=Gc(t.y1,0),l=Gc(t.x2,1),u=Gc(t.y2,0);if(s===l||a===u||r===i)o=e.createLinearGradient(n.x1+s*r,n.y1+a*i,n.x1+l*r,n.y1+u*i);else{const c=xg(Math.ceil(r),Math.ceil(i)),d=c.getContext("2d");return d.scale(r,i),d.fillStyle=Ple(d.createLinearGradient(s,a,l,u),t.stops),d.fillRect(0,0,r,i),e.createPattern(c,"no-repeat")}}return Ple(o,t.stops)}function $Ce(e,t,n){return oY(n)?Byt(e,n,t.bounds):n}function k$(e,t,n){return n*=t.fillOpacity==null?1:t.fillOpacity,n>0?(e.globalAlpha=n,e.fillStyle=$Ce(e,t,t.fill),!0):!1}var jyt=[];function jw(e,t,n){var r=(r=t.strokeWidth)!=null?r:1;return r<=0?!1:(n*=t.strokeOpacity==null?1:t.strokeOpacity,n>0?(e.globalAlpha=n,e.strokeStyle=$Ce(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||jyt),e.lineDashOffset=t.strokeDashOffset||0),!0):!1)}function zyt(e,t){return e.zindex-t.zindex||e.index-t.index}function dY(e){if(!e.zdirty)return e.zitems;var t=e.items,n=[],r,i,o;for(i=0,o=t.length;i<o;++i)r=t[i],r.index=i,r.zindex&&n.push(r);return e.zdirty=!1,e.zitems=n.sort(zyt)}function Cd(e,t){var n=e.items,r,i;if(!n||!n.length)return;const o=dY(e);if(o&&o.length){for(r=0,i=n.length;r<i;++r)n[r].zindex||t(n[r]);n=o}for(r=0,i=n.length;r<i;++r)t(n[r])}function I$(e,t){var n=e.items,r,i;if(!n||!n.length)return null;const o=dY(e);for(o&&o.length&&(n=o),i=n.length;--i>=0;)if(r=t(n[i]))return r;if(n===o){for(n=e.items,i=n.length;--i>=0;)if(!n[i].zindex&&(r=t(n[i])))return r}return null}function fY(e){return function(t,n,r){Cd(n,i=>{(!r||r.intersects(i.bounds))&&MCe(e,t,i,i)})}}function Uyt(e){return function(t,n,r){n.items.length&&(!r||r.intersects(n.bounds))&&MCe(e,t,n.items[0],n.items)}}function MCe(e,t,n,r){var i=n.opacity==null?1:n.opacity;i!==0&&(e(t,r)||(Bw(t,n),n.fill&&k$(t,n,i)&&t.fill(),n.stroke&&jw(t,n,i)&&t.stroke()))}function sO(e){return e=e||bc,function(t,n,r,i,o,s){return r*=t.pixelRatio,i*=t.pixelRatio,I$(n,a=>{const l=a.bounds;if(!(l&&!l.contains(o,s)||!l)&&e(t,a,r,i,o,s))return a})}}function AA(e,t){return function(n,r,i,o){var s=Array.isArray(r)?r[0]:r,a=t??s.fill,l=s.stroke&&n.isPointInStroke,u,c;return l&&(u=s.strokeWidth,c=s.strokeCap,n.lineWidth=u??1,n.lineCap=c??"butt"),e(n,r)?!1:a&&n.isPointInPath(i,o)||l&&n.isPointInStroke(i,o)}}function hY(e){return sO(AA(e))}function zy(e,t){return"translate("+e+","+t+")"}function pY(e){return"rotate("+e+")"}function Hyt(e,t){return"scale("+e+","+t+")"}function PCe(e){return zy(e.x||0,e.y||0)}function Vyt(e){return zy(e.x||0,e.y||0)+(e.angle?" "+pY(e.angle):"")}function Wyt(e){return zy(e.x||0,e.y||0)+(e.angle?" "+pY(e.angle):"")+(e.scaleX||e.scaleY?" "+Hyt(e.scaleX||1,e.scaleY||1):"")}function mY(e,t,n){function r(s,a){s("transform",Vyt(a)),s("d",t(null,a))}function i(s,a){return t(CA(s,a.angle),a),Zp(s,a).translate(a.x||0,a.y||0)}function o(s,a){var l=a.x||0,u=a.y||0,c=a.angle||0;s.translate(l,u),c&&s.rotate(c*=Hg),s.beginPath(),t(s,a),c&&s.rotate(-c),s.translate(-l,-u)}return{type:e,tag:"path",nested:!1,attr:r,bound:i,draw:fY(o),pick:hY(o),isect:n||uY(o)}}var qyt=mY("arc",Ryt);function Gyt(e,t){for(var n=e[0].orient==="horizontal"?t[1]:t[0],r=e[0].orient==="horizontal"?"y":"x",i=e.length,o=1/0,s,a;--i>=0;)e[i].defined!==!1&&(a=Math.abs(e[i][r]-n),a<o&&(o=a,s=e[i]));return s}function Yyt(e,t){for(var n=Math.pow(e[0].strokeWidth||1,2),r=e.length,i,o,s;--r>=0;)if(e[r].defined!==!1&&(i=e[r].x-t[0],o=e[r].y-t[1],s=i*i+o*o,s<n))return e[r];return null}function Kyt(e,t){for(var n=e.length,r,i,o;--n>=0;)if(e[n].defined!==!1&&(r=e[n].x-t[0],i=e[n].y-t[1],o=r*r+i*i,r=e[n].size||1,o<r*r))return e[n];return null}function gY(e,t,n){function r(l,u){var c=u.mark.items;c.length&&l("d",t(null,c))}function i(l,u){var c=u.items;return c.length===0?l:(t(CA(l),c),Zp(l,c[0]))}function o(l,u){l.beginPath(),t(l,u)}const s=AA(o);function a(l,u,c,d,f,h){var p=u.items,m=u.bounds;return!p||!p.length||m&&!m.contains(f,h)?null:(c*=l.pixelRatio,d*=l.pixelRatio,s(l,p,c,d)?p[0]:null)}return{type:e,tag:"path",nested:!0,attr:r,bound:i,draw:Uyt(o),pick:a,isect:cY,tip:n}}var Xyt=gY("area",Dyt,Gyt);function Qyt(e,t){var n=t.clip;e.save(),jn(n)?(e.beginPath(),n(e),e.clip()):NCe(e,t.group)}function NCe(e,t){e.beginPath(),aY(t)?a_(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function OCe(e){const t=Gc(e.strokeWidth,1);return e.strokeOffset!=null?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function Jyt(e,t){e("transform",PCe(t))}function LCe(e,t){const n=OCe(t);e("d",a_(null,t,n,n))}function Zyt(e,t){e("class","background"),e("aria-hidden",!0),LCe(e,t)}function evt(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?LCe(e,t):e("d","")}function tvt(e,t,n){const r=t.clip?lY(n,t,t):null;e("clip-path",r)}function nvt(e,t){if(!t.clip&&t.items){const n=t.items,r=n.length;for(let i=0;i<r;++i)e.union(n[i].bounds)}return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),Zp(e,t),e.translate(t.x||0,t.y||0)}function QT(e,t,n,r){const i=OCe(t);e.beginPath(),a_(e,t,(n||0)+i,(r||0)+i)}const rvt=AA(QT),ivt=AA(QT,!1),ovt=AA(QT,!0);function svt(e,t,n,r){Cd(t,i=>{const o=i.x||0,s=i.y||0,a=i.strokeForeground,l=i.opacity==null?1:i.opacity;(i.stroke||i.fill)&&l&&(QT(e,i,o,s),Bw(e,i),i.fill&&k$(e,i,l)&&e.fill(),i.stroke&&!a&&jw(e,i,l)&&e.stroke()),e.save(),e.translate(o,s),i.clip&&NCe(e,i),n&&n.translate(-o,-s),Cd(i,u=>{(u.marktype==="group"||r==null||r.includes(u.marktype))&&this.draw(e,u,n,r)}),n&&n.translate(o,s),e.restore(),a&&i.stroke&&l&&(QT(e,i,o,s),Bw(e,i),jw(e,i,l)&&e.stroke())})}function avt(e,t,n,r,i,o){if(t.bounds&&!t.bounds.contains(i,o)||!t.items)return null;const s=n*e.pixelRatio,a=r*e.pixelRatio;return I$(t,l=>{let u,c,d;const f=l.bounds;if(f&&!f.contains(i,o))return;c=l.x||0,d=l.y||0;const h=c+(l.width||0),p=d+(l.height||0),m=l.clip;if(m&&(i<c||i>h||o<d||o>p))return;if(e.save(),e.translate(c,d),c=i-c,d=o-d,m&&aY(l)&&!ovt(e,l,s,a))return e.restore(),null;const g=l.strokeForeground,y=t.interactive!==!1;return y&&g&&l.stroke&&ivt(e,l,s,a)?(e.restore(),l):(u=I$(l,v=>lvt(v,c,d)?this.pick(v,n,r,c,d):null),!u&&y&&(l.fill||!g&&l.stroke)&&rvt(e,l,s,a)&&(u=l),e.restore(),u||null)})}function lvt(e,t,n){return(e.interactive!==!1||e.marktype==="group")&&e.bounds&&e.bounds.contains(t,n)}var uvt={type:"group",tag:"g",nested:!1,attr:Jyt,bound:nvt,draw:svt,pick:avt,isect:RCe,content:tvt,background:Zyt,foreground:evt},JT={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function yY(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then(r=>{e.image=r,e.image.url=e.url})),n}function vY(e,t){return e.width!=null?e.width:!t||!t.width?0:e.aspect!==!1&&e.height?e.height*t.width/t.height:t.width}function bY(e,t){return e.height!=null?e.height:!t||!t.height?0:e.aspect!==!1&&e.width?e.width*t.height/t.width:t.height}function aO(e,t){return e==="center"?t/2:e==="right"?t:0}function lO(e,t){return e==="middle"?t/2:e==="bottom"?t:0}function cvt(e,t,n){const r=yY(t,n),i=vY(t,r),o=bY(t,r),s=(t.x||0)-aO(t.align,i),a=(t.y||0)-lO(t.baseline,o),l=!r.src&&r.toDataURL?r.toDataURL():r.src||"";e("href",l,JT["xmlns:xlink"],"xlink:href"),e("transform",zy(s,a)),e("width",i),e("height",o),e("preserveAspectRatio",t.aspect===!1?"none":"xMidYMid")}function dvt(e,t){const n=t.image,r=vY(t,n),i=bY(t,n),o=(t.x||0)-aO(t.align,r),s=(t.y||0)-lO(t.baseline,i);return e.set(o,s,o+r,s+i)}function fvt(e,t,n){Cd(t,r=>{if(n&&!n.intersects(r.bounds))return;const i=yY(r,this);let o=vY(r,i),s=bY(r,i);if(o===0||s===0)return;let a=(r.x||0)-aO(r.align,o),l=(r.y||0)-lO(r.baseline,s),u,c,d,f;r.aspect!==!1&&(c=i.width/i.height,d=r.width/r.height,c===c&&d===d&&c!==d&&(d<c?(f=o/c,l+=(s-f)/2,s=f):(f=s*c,a+=(o-f)/2,o=f))),(i.complete||i.toDataURL)&&(Bw(e,r),e.globalAlpha=(u=r.opacity)!=null?u:1,e.imageSmoothingEnabled=r.smooth!==!1,e.drawImage(i,a,l,o,s))})}var hvt={type:"image",tag:"image",nested:!1,attr:cvt,bound:dvt,draw:fvt,pick:sO(),isect:bc,get:yY,xOffset:aO,yOffset:lO},pvt=gY("line",$yt,Yyt);function mvt(e,t){var n=t.scaleX||1,r=t.scaleY||1;(n!==1||r!==1)&&e("vector-effect","non-scaling-stroke"),e("transform",Wyt(t)),e("d",t.path)}function MR(e,t){var n=t.path;if(n==null)return!0;var r=t.x||0,i=t.y||0,o=t.scaleX||1,s=t.scaleY||1,a=(t.angle||0)*Hg,l=t.pathCache;(!l||l.path!==n)&&((t.pathCache=l=Fw(n)).path=n),a&&e.rotate&&e.translate?(e.translate(r,i),e.rotate(a),XT(e,l,0,0,o,s),e.rotate(-a),e.translate(-r,-i)):XT(e,l,r,i,o,s)}function gvt(e,t){return MR(CA(e,t.angle),t)?e.set(0,0,0,0):Zp(e,t,!0)}var yvt={type:"path",tag:"path",nested:!1,attr:mvt,bound:gvt,draw:fY(MR),pick:hY(MR),isect:uY(MR)};function vvt(e,t){e("d",a_(null,t))}function bvt(e,t){var n,r;return Zp(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)}function Nle(e,t){e.beginPath(),a_(e,t)}var wvt={type:"rect",tag:"path",nested:!1,attr:vvt,bound:bvt,draw:fY(Nle),pick:hY(Nle),isect:RCe};function xvt(e,t){e("transform",PCe(t)),e("x2",t.x2!=null?t.x2-(t.x||0):0),e("y2",t.y2!=null?t.y2-(t.y||0):0)}function _vt(e,t){var n,r;return Zp(e.set(n=t.x||0,r=t.y||0,t.x2!=null?t.x2:n,t.y2!=null?t.y2:r),t)}function FCe(e,t,n){var r,i,o,s;return t.stroke&&jw(e,t,n)?(r=t.x||0,i=t.y||0,o=t.x2!=null?t.x2:r,s=t.y2!=null?t.y2:i,e.beginPath(),e.moveTo(r,i),e.lineTo(o,s),!0):!1}function Evt(e,t,n){Cd(t,r=>{if(!(n&&!n.intersects(r.bounds))){var i=r.opacity==null?1:r.opacity;i&&FCe(e,r,i)&&(Bw(e,r),e.stroke())}})}function Svt(e,t,n,r){return e.isPointInStroke?FCe(e,t,1)&&e.isPointInStroke(n,r):!1}var Tvt={type:"rule",tag:"line",nested:!1,attr:xvt,bound:_vt,draw:Evt,pick:sO(Svt),isect:DCe},Cvt=mY("shape",Myt),Avt=mY("symbol",Pyt,cY);const Ole=W_e();var Tu={height:hh,measureWidth:wY,estimateWidth:R$,width:R$,canvas:BCe};BCe(!0);function BCe(e){Tu.width=e&&_g?wY:R$}function R$(e,t){return jCe(Wg(e,t),hh(e))}function jCe(e,t){return~~(.8*e.length*t)}function wY(e,t){return hh(e)<=0||!(t=Wg(e,t))?0:zCe(t,uO(e))}function zCe(e,t){const n=`(${t}) ${e}`;let r=Ole.get(n);return r===void 0&&(_g.font=t,r=_g.measureText(e).width,Ole.set(n,r)),r}function hh(e){return e.fontSize!=null?+e.fontSize||0:11}function Vg(e){return e.lineHeight!=null?e.lineHeight:hh(e)+2}function kvt(e){return et(e)?e.length>1?e:e[0]:e}function kA(e){return kvt(e.lineBreak&&e.text&&!et(e.text)?e.text.split(e.lineBreak):e.text)}function xY(e){const t=kA(e);return(et(t)?t.length-1:0)*Vg(e)}function Wg(e,t){const n=t==null?"":(t+"").trim();return e.limit>0&&n.length?Rvt(e,n):n}function Ivt(e){if(Tu.width===wY){const t=uO(e);return n=>zCe(n,t)}else if(Tu.width===R$){const t=hh(e);return n=>jCe(n,t)}else return t=>Tu.width(e,t)}function Rvt(e,t){var n=+e.limit,r=Ivt(e);if(r(t)<n)return t;var i=e.ellipsis||"",o=e.dir==="rtl",s=0,a=t.length,l;if(n-=r(i),o){for(;s<a;)l=s+a>>>1,r(t.slice(l))>n?s=l+1:a=l;return i+t.slice(s)}else{for(;s<a;)l=1+(s+a>>>1),r(t.slice(0,l))<n?s=l:a=l-1;return t.slice(0,s)+i}}function IA(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function uO(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+hh(e)+"px "+IA(e,t)}function _Y(e){var t=e.baseline,n=hh(e);return Math.round(t==="top"?.79*n:t==="middle"?.3*n:t==="bottom"?-.21*n:t==="line-top"?.29*n+.5*Vg(e):t==="line-bottom"?.29*n-.5*Vg(e):0)}const Dvt={left:"start",center:"middle",right:"end"},qS=new ko;function cO(e){var t=e.x||0,n=e.y||0,r=e.radius||0,i;return r&&(i=(e.theta||0)-vy,t+=r*Math.cos(i),n+=r*Math.sin(i)),qS.x1=t,qS.y1=n,qS}function $vt(e,t){var n=t.dx||0,r=(t.dy||0)+_Y(t),i=cO(t),o=i.x1,s=i.y1,a=t.angle||0,l;e("text-anchor",Dvt[t.align]||"start"),a?(l=zy(o,s)+" "+pY(a),(n||r)&&(l+=" "+zy(n,r))):l=zy(o+n,s+r),e("transform",l)}function EY(e,t,n){var r=Tu.height(t),i=t.align,o=cO(t),s=o.x1,a=o.y1,l=t.dx||0,u=(t.dy||0)+_Y(t)-Math.round(.8*r),c=kA(t),d;if(et(c)?(r+=Vg(t)*(c.length-1),d=c.reduce((f,h)=>Math.max(f,Tu.width(t,h)),0)):d=Tu.width(t,c),i==="center"?l-=d/2:i==="right"&&(l-=d),e.set(l+=s,u+=a,l+d,u+r),t.angle&&!n)e.rotate(t.angle*Hg,s,a);else if(n===2)return e.rotatedPoints(t.angle*Hg,s,a);return e}function Mvt(e,t,n){Cd(t,r=>{var i=r.opacity==null?1:r.opacity,o,s,a,l,u,c,d;if(!(n&&!n.intersects(r.bounds)||i===0||r.fontSize<=0||r.text==null||r.text.length===0)){if(e.font=uO(r),e.textAlign=r.align||"left",o=cO(r),s=o.x1,a=o.y1,r.angle&&(e.save(),e.translate(s,a),e.rotate(r.angle*Hg),s=a=0),s+=r.dx||0,a+=(r.dy||0)+_Y(r),c=kA(r),Bw(e,r),et(c))for(u=Vg(r),l=0;l<c.length;++l)d=Wg(r,c[l]),r.fill&&k$(e,r,i)&&e.fillText(d,s,a),r.stroke&&jw(e,r,i)&&e.strokeText(d,s,a),a+=u;else d=Wg(r,c),r.fill&&k$(e,r,i)&&e.fillText(d,s,a),r.stroke&&jw(e,r,i)&&e.strokeText(d,s,a);r.angle&&e.restore()}})}function Pvt(e,t,n,r,i,o){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var s=cO(t),a=s.x1,l=s.y1,u=EY(qS,t,1),c=-t.angle*Hg,d=Math.cos(c),f=Math.sin(c),h=d*i-f*o+(a-d*a+f*l),p=f*i+d*o+(l-f*a-d*l);return u.contains(h,p)}function Nvt(e,t){const n=EY(qS,e,2);return M1(t,n[0],n[1],n[2],n[3])||M1(t,n[0],n[1],n[4],n[5])||M1(t,n[4],n[5],n[6],n[7])||M1(t,n[2],n[3],n[6],n[7])}var Ovt={type:"text",tag:"text",nested:!1,attr:$vt,bound:EY,draw:Mvt,pick:sO(Pvt),isect:Nvt},Lvt=gY("trail",Nyt,Kyt),Bu={arc:qyt,area:Xyt,group:uvt,image:hvt,line:pvt,path:yvt,rect:wvt,rule:Tvt,shape:Cvt,symbol:Avt,text:Ovt,trail:Lvt};function Q9(e,t,n){var r=Bu[e.mark.marktype],i=t||r.bound;return r.nested&&(e=e.mark),i(e.bounds||(e.bounds=new ko),e,n)}var Lle={mark:null};function UCe(e,t,n){var r=Bu[e.marktype],i=r.bound,o=e.items,s=o&&o.length,a,l,u,c;if(r.nested)return s?u=o[0]:(Lle.mark=e,u=Lle),c=Q9(u,i,n),t=t&&t.union(c)||c,t;if(t=t||e.bounds&&e.bounds.clear()||new ko,s)for(a=0,l=o.length;a<l;++a)t.union(Q9(o[a],i,n));return e.bounds=t}const Fvt=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function HCe(e,t){return JSON.stringify(e,Fvt,t)}function VCe(e){const t=typeof e=="string"?JSON.parse(e):e;return WCe(t)}function WCe(e){var t=e.marktype,n=e.items,r,i,o;if(n)for(i=0,o=n.length;i<o;++i)r=t?"mark":"group",n[i][r]=e,n[i].zindex&&(n[i][r].zdirty=!0),(t||r)==="group"&&WCe(n[i]);return t&&UCe(e),e}class qCe{constructor(t){arguments.length?this.root=VCe(t):(this.root=Fle({marktype:"group",name:"root",role:"frame"}),this.root.items=[new iO(this.root)])}toJSON(t){return HCe(this.root,t||0)}mark(t,n,r){n=n||this.root.items[0];const i=Fle(t,n);return n.items[r]=i,i.zindex&&(i.group.zdirty=!0),i}}function Fle(e,t){const n={bounds:new ko,clip:!!e.clip,group:t,interactive:e.interactive!==!1,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return e.aria!=null&&(n.aria=e.aria),e.description&&(n.description=e.description),n}function ng(e,t,n){return!e&&typeof document<"u"&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function SY(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function zo(e,t,n,r){var i=e.childNodes[t],o;return(!i||i.tagName.toLowerCase()!==n.toLowerCase())&&(o=i||null,i=ng(e.ownerDocument,n,r),e.insertBefore(i,o)),i}function oc(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function GCe(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function dO(e,t){const n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}function Bvt(e,t,n,r){var i=e&&e.mark,o,s;if(i&&(o=Bu[i.marktype]).tip){for(s=dO(t,n),s[0]-=r[0],s[1]-=r[1];e=e.mark.group;)s[0]-=e.x||0,s[1]-=e.y||0;e=o.tip(i.items,s)}return e}let TY=class{constructor(t,n){this._active=null,this._handlers={},this._loader=t||IN(),this._tooltip=n||jvt}initialize(t,n,r){return this._el=t,this._obj=r||null,this.origin(n)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}origin(t){return arguments.length?(this._origin=t||[0,0],this):this._origin.slice()}scene(t){return arguments.length?(this._scene=t,this):this._scene}on(){}off(){}_handlerIndex(t,n,r){for(let i=t?t.length:0;--i>=0;)if(t[i].type===n&&(!r||t[i].handler===r))return i;return-1}handlers(t){const n=this._handlers,r=[];if(t)r.push(...n[this.eventName(t)]);else for(const i in n)r.push(...n[i]);return r}eventName(t){const n=t.indexOf(".");return n<0?t:t.slice(0,n)}handleHref(t,n,r){this._loader.sanitize(r,{context:"href"}).then(i=>{const o=new MouseEvent(t.type,t),s=ng(null,"a");for(const a in i)s.setAttribute(a,i[a]);s.dispatchEvent(o)}).catch(()=>{})}handleTooltip(t,n,r){if(n&&n.tooltip!=null){n=Bvt(n,t,this.canvas(),this._origin);const i=r&&n&&n.tooltip||null;this._tooltip.call(this._obj,this,t,n,i)}}getItemBoundingClientRect(t){const n=this.canvas();if(!n)return;const r=n.getBoundingClientRect(),i=this._origin,o=t.bounds,s=o.width(),a=o.height();let l=o.x1+i[0]+r.left,u=o.y1+i[1]+r.top;for(;t.mark&&(t=t.mark.group);)l+=t.x||0,u+=t.y||0;return{x:l,y:u,width:s,height:a,left:l,top:u,right:l+s,bottom:u+a}}};function jvt(e,t,n,r){e.element().setAttribute("title",r||"")}class RA{constructor(t){this._el=null,this._bgcolor=null,this._loader=new ICe(t)}initialize(t,n,r,i,o){return this._el=t,this.resize(n,r,i,o)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}background(t){return arguments.length===0?this._bgcolor:(this._bgcolor=t,this)}resize(t,n,r,i){return this._width=t,this._height=n,this._origin=r||[0,0],this._scale=i||1,this}dirty(){}render(t,n){const r=this;return r._call=function(){r._render(t,n)},r._call(),r._call=null,r}_render(){}renderAsync(t,n){const r=this.render(t,n);return this._ready?this._ready.then(()=>r):Promise.resolve(r)}_load(t,n){var r=this,i=r._loader[t](n);if(!r._ready){const o=r._call;r._ready=r._loader.ready().then(s=>{s&&o(),r._ready=null})}return i}sanitizeURL(t){return this._load("sanitizeURL",t)}loadImage(t){return this._load("loadImage",t)}}const zvt="keydown",Uvt="keypress",Hvt="keyup",YCe="dragenter",PR="dragleave",KCe="dragover",J9="pointerdown",Vvt="pointerup",D$="pointermove",NR="pointerout",XCe="pointerover",Z9="mousedown",Wvt="mouseup",QCe="mousemove",$$="mouseout",JCe="mouseover",M$="click",qvt="dblclick",Gvt="wheel",ZCe="mousewheel",P$="touchstart",N$="touchmove",O$="touchend",Yvt=[zvt,Uvt,Hvt,YCe,PR,KCe,J9,Vvt,D$,NR,XCe,Z9,Wvt,QCe,$$,JCe,M$,qvt,Gvt,ZCe,P$,N$,O$],e7=D$,GS=$$,t7=M$;class DA extends TY{constructor(t,n){super(t,n),this._down=null,this._touch=null,this._first=!0,this._events={},this.events=Yvt,this.pointermove=jle([D$,QCe],[XCe,JCe],[NR,$$]),this.dragover=jle([KCe],[YCe],[PR]),this.pointerout=zle([NR,$$]),this.dragleave=zle([PR])}initialize(t,n,r){return this._canvas=t&&SY(t,"canvas"),[M$,Z9,J9,D$,NR,PR].forEach(i=>Ble(this,i)),super.initialize(t,n,r)}canvas(){return this._canvas}context(){return this._canvas.getContext("2d")}DOMMouseScroll(t){this.fire(ZCe,t)}pointerdown(t){this._down=this._active,this.fire(J9,t)}mousedown(t){this._down=this._active,this.fire(Z9,t)}click(t){this._down===this._active&&(this.fire(M$,t),this._down=null)}touchstart(t){this._touch=this.pickEvent(t.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(P$,t,!0)}touchmove(t){this.fire(N$,t,!0)}touchend(t){this.fire(O$,t,!0),this._touch=null}fire(t,n,r){const i=r?this._touch:this._active,o=this._handlers[t];if(n.vegaType=t,t===t7&&i&&i.href?this.handleHref(n,i,i.href):(t===e7||t===GS)&&this.handleTooltip(n,i,t!==GS),o)for(let s=0,a=o.length;s<a;++s)o[s].handler.call(this._obj,n,i)}on(t,n){const r=this.eventName(t),i=this._handlers;return this._handlerIndex(i[r],t,n)<0&&(Ble(this,t),(i[r]||(i[r]=[])).push({type:t,handler:n})),this}off(t,n){const r=this.eventName(t),i=this._handlers[r],o=this._handlerIndex(i,t,n);return o>=0&&i.splice(o,1),this}pickEvent(t){const n=dO(t,this._canvas),r=this._origin;return this.pick(this._scene,n[0],n[1],n[0]-r[0],n[1]-r[1])}pick(t,n,r,i,o){const s=this.context();return Bu[t.marktype].pick.call(this,s,t,n,r,i,o)}}const Kvt=e=>e===P$||e===N$||e===O$?[P$,N$,O$]:[e];function Ble(e,t){Kvt(t).forEach(n=>Xvt(e,n))}function Xvt(e,t){const n=e.canvas();n&&!e._events[t]&&(e._events[t]=1,n.addEventListener(t,e[t]?r=>e[t](r):r=>e.fire(t,r)))}function dS(e,t,n){t.forEach(r=>e.fire(r,n))}function jle(e,t,n){return function(r){const i=this._active,o=this.pickEvent(r);o===i?dS(this,e,r):((!i||!i.exit)&&dS(this,n,r),this._active=o,dS(this,t,r),dS(this,e,r))}}function zle(e){return function(t){dS(this,e,t),this._active=null}}function Qvt(){return typeof window<"u"&&window.devicePixelRatio||1}function Jvt(e,t,n,r,i,o){const s=typeof HTMLElement<"u"&&e instanceof HTMLElement&&e.parentNode!=null,a=e.getContext("2d"),l=s?Qvt():i;e.width=t*l,e.height=n*l;for(const u in o)a[u]=o[u];return s&&l!==1&&(e.style.width=t+"px",e.style.height=n+"px"),a.pixelRatio=l,a.setTransform(l,0,0,l,l*r[0],l*r[1]),e}class L$ extends RA{constructor(t){super(t),this._options={},this._redraw=!1,this._dirty=new ko,this._tempb=new ko}initialize(t,n,r,i,o,s){return this._options=s||{},this._canvas=this._options.externalContext?null:xg(1,1,this._options.type),t&&this._canvas&&(oc(t,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),super.initialize(t,n,r,i,o)}resize(t,n,r,i){if(super.resize(t,n,r,i),this._canvas)Jvt(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const o=this._options.externalContext;o||Je("CanvasRenderer is missing a valid canvas or context"),o.scale(this._scale,this._scale),o.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this}canvas(){return this._canvas}context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)}dirty(t){const n=this._tempb.clear().union(t.bounds);let r=t.mark.group;for(;r;)n.translate(r.x||0,r.y||0),r=r.mark.group;this._dirty.union(n)}_render(t,n){const r=this.context(),i=this._origin,o=this._width,s=this._height,a=this._dirty,l=Zvt(i,o,s);r.save();const u=this._redraw||a.empty()?(this._redraw=!1,l.expand(1)):ebt(r,l.intersect(a),i);return this.clear(-i[0],-i[1],o,s),this.draw(r,t,u,n),r.restore(),a.clear(),this}draw(t,n,r,i){if(n.marktype!=="group"&&i!=null&&!i.includes(n.marktype))return;const o=Bu[n.marktype];n.clip&&Qyt(t,n),o.draw.call(this,t,n,r,i),n.clip&&t.restore()}clear(t,n,r,i){const o=this._options,s=this.context();o.type!=="pdf"&&!o.externalContext&&s.clearRect(t,n,r,i),this._bgcolor!=null&&(s.fillStyle=this._bgcolor,s.fillRect(t,n,r,i))}}const Zvt=(e,t,n)=>new ko().set(0,0,t,n).translate(-e[0],-e[1]);function ebt(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-(n[0]%1),-(n[1]%1)),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}class eAe extends TY{constructor(t,n){super(t,n);const r=this;r._hrefHandler=j6(r,(i,o)=>{o&&o.href&&r.handleHref(i,o,o.href)}),r._tooltipHandler=j6(r,(i,o)=>{r.handleTooltip(i,o,i.type!==GS)})}initialize(t,n,r){let i=this._svg;return i&&(i.removeEventListener(t7,this._hrefHandler),i.removeEventListener(e7,this._tooltipHandler),i.removeEventListener(GS,this._tooltipHandler)),this._svg=i=t&&SY(t,"svg"),i&&(i.addEventListener(t7,this._hrefHandler),i.addEventListener(e7,this._tooltipHandler),i.addEventListener(GS,this._tooltipHandler)),super.initialize(t,n,r)}canvas(){return this._svg}on(t,n){const r=this.eventName(t),i=this._handlers;if(this._handlerIndex(i[r],t,n)<0){const s={type:t,handler:n,listener:j6(this,n)};(i[r]||(i[r]=[])).push(s),this._svg&&this._svg.addEventListener(r,s.listener)}return this}off(t,n){const r=this.eventName(t),i=this._handlers[r],o=this._handlerIndex(i,t,n);return o>=0&&(this._svg&&this._svg.removeEventListener(r,i[o].listener),i.splice(o,1)),this}}const j6=(e,t)=>n=>{let r=n.target.__data__;r=Array.isArray(r)?r[0]:r,n.vegaType=n.type,t.call(e._obj,n,r)},tAe="aria-hidden",CY="aria-label",AY="role",kY="aria-roledescription",nAe="graphics-object",IY="graphics-symbol",rAe=(e,t,n)=>({[AY]:e,[kY]:t,[CY]:n||void 0}),tbt=Sd(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),Ule={axis:{desc:"axis",caption:ibt},legend:{desc:"legend",caption:obt},"title-text":{desc:"title",caption:e=>`Title text '${Vle(e)}'`},"title-subtitle":{desc:"subtitle",caption:e=>`Subtitle text '${Vle(e)}'`}},Hle={ariaRole:AY,ariaRoleDescription:kY,description:CY};function iAe(e,t){const n=t.aria===!1;if(e(tAe,n||void 0),n||t.description==null)for(const r in Hle)e(Hle[r],void 0);else{const r=t.mark.marktype;e(CY,t.description),e(AY,t.ariaRole||(r==="group"?nAe:IY)),e(kY,t.ariaRoleDescription||`${r} mark`)}}function oAe(e){return e.aria===!1?{[tAe]:!0}:tbt[e.role]?null:Ule[e.role]?rbt(e,Ule[e.role]):nbt(e)}function nbt(e){const t=e.marktype,n=t==="group"||t==="text"||e.items.some(r=>r.description!=null&&r.aria!==!1);return rAe(n?nAe:IY,`${t} mark container`,e.description)}function rbt(e,t){try{const n=e.items[0],r=t.caption||(()=>"");return rAe(t.role||IY,t.desc,n.description||r(n))}catch{return null}}function Vle(e){return jt(e.text).join(" ")}function ibt(e){const t=e.datum,n=e.orient,r=t.title?sAe(e):null,i=e.context,o=i.scales[t.scale].value,s=i.dataflow.locale(),a=o.type;return`${n==="left"||n==="right"?"Y":"X"}-axis`+(r?` titled '${r}'`:"")+` for a ${Lw(a)?"discrete":a} scale with ${bCe(s,o,e)}`}function obt(e){const t=e.datum,n=t.title?sAe(e):null,r=`${t.type||""} legend`.trim(),i=t.scales,o=Object.keys(i),s=e.context,a=s.scales[i[o[0]]].value,l=s.dataflow.locale();return abt(r)+(n?` titled '${n}'`:"")+` for ${sbt(o)} with ${bCe(l,a,e)}`}function sAe(e){try{return jt(ur(e.items).items[0].text).join(" ")}catch{return null}}function sbt(e){return e=e.map(t=>t+(t==="fill"||t==="stroke"?" color":"")),e.length<2?e[0]:e.slice(0,-1).join(", ")+" and "+ur(e)}function abt(e){return e.length?e[0].toUpperCase()+e.slice(1):e}const aAe=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),lbt=e=>aAe(e).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;");function RY(){let e="",t="",n="";const r=[],i=()=>t=n="",o=l=>{t&&(e+=`${t}>${n}`,i()),r.push(l)},s=(l,u)=>(u!=null&&(t+=` ${l}="${lbt(u)}"`),a),a={open(l){o(l),t="<"+l;for(var u=arguments.length,c=new Array(u>1?u-1:0),d=1;d<u;d++)c[d-1]=arguments[d];for(const f of c)for(const h in f)s(h,f[h]);return a},close(){const l=r.pop();return t?e+=t+(n?`>${n}</${l}>`:"/>"):e+=`</${l}>`,i(),a},attr:s,text:l=>(n+=aAe(l),a),toString:()=>e};return a}const lAe=e=>uAe(RY(),e)+"";function uAe(e,t){if(e.open(t.tagName),t.hasAttributes()){const n=t.attributes,r=n.length;for(let i=0;i<r;++i)e.attr(n[i].name,n[i].value)}if(t.hasChildNodes()){const n=t.childNodes;for(const r of n)r.nodeType===3?e.text(r.nodeValue):uAe(e,r)}return e.close()}const F$={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},B$={blend:"mix-blend-mode"},cAe={fill:"none","stroke-miterlimit":10},xE=0,Wle="http://www.w3.org/2000/xmlns/",Bo=JT.xmlns;class DY extends RA{constructor(t){super(t),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}initialize(t,n,r,i,o){return this._defs={},this._clearDefs(),t&&(this._svg=zo(t,0,"svg",Bo),this._svg.setAttributeNS(Wle,"xmlns",Bo),this._svg.setAttributeNS(Wle,"xmlns:xlink",JT["xmlns:xlink"]),this._svg.setAttribute("version",JT.version),this._svg.setAttribute("class","marks"),oc(t,1),this._root=zo(this._svg,xE,"g",Bo),rg(this._root,cAe),oc(this._svg,xE+1)),this.background(this._bgcolor),super.initialize(t,n,r,i,o)}background(t){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",t),super.background(...arguments)}resize(t,n,r,i){return super.resize(t,n,r,i),this._svg&&(rg(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this}canvas(){return this._svg}svg(){const t=this._svg,n=this._bgcolor;if(!t)return null;let r;n&&(t.removeAttribute("style"),r=zo(t,xE,"rect",Bo),rg(r,{width:this._width,height:this._height,fill:n}));const i=lAe(t);return n&&(t.removeChild(r),this._svg.style.setProperty("background-color",n)),i}_render(t,n){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,t,void 0,n),oc(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this}dirty(t){t.dirty!==this._dirtyID&&(t.dirty=this._dirtyID,this._dirty.push(t))}isDirty(t){return this._dirtyAll||!t._svg||!t._svg.ownerSVGElement||t.dirty===this._dirtyID}_dirtyCheck(){this._dirtyAll=!0;const t=this._dirty;if(!t.length||!this._dirtyID)return!0;const n=++this._dirtyID;let r,i,o,s,a,l,u;for(a=0,l=t.length;a<l;++a)if(r=t[a],i=r.mark,i.marktype!==o&&(o=i.marktype,s=Bu[o]),i.zdirty&&i.dirty!==n&&(this._dirtyAll=!1,qle(r,n),i.items.forEach(c=>{c.dirty=n})),!i.zdirty){if(r.exit){s.nested&&i.items.length?(u=i.items[0],u._svg&&this._update(s,u._svg,u)):r._svg&&(u=r._svg.parentNode,u&&u.removeChild(r._svg)),r._svg=null;continue}r=s.nested?i.items[0]:r,r._update!==n&&(!r._svg||!r._svg.ownerSVGElement?(this._dirtyAll=!1,qle(r,n)):this._update(s,r._svg,r),r._update=n)}return!this._dirtyAll}mark(t,n,r,i){if(!this.isDirty(n))return n._svg;const o=this._svg,s=n.marktype,a=Bu[s],l=n.interactive===!1?"none":null,u=a.tag==="g",c=Gle(n,t,r,"g",o);if(s!=="group"&&i!=null&&!i.includes(s))return oc(c,0),n._svg;c.setAttribute("class",GCe(n));const d=oAe(n);for(const m in d)Ya(c,m,d[m]);u||Ya(c,"pointer-events",l),Ya(c,"clip-path",n.clip?lY(this,n,n.group):null);let f=null,h=0;const p=m=>{const g=this.isDirty(m),y=Gle(m,c,f,a.tag,o);g&&(this._update(a,y,m),u&&dbt(this,y,m,i)),f=y,++h};return a.nested?n.items.length&&p(n.items[0]):Cd(n,p),oc(c,h),c}_update(t,n,r){ap=n,ya=n.__values__,iAe(YS,r),t.attr(YS,r,this);const i=hbt[t.type];i&&i.call(this,t,n,r),ap&&this.style(ap,r)}style(t,n){if(n!=null){for(const r in F$){let i=r==="font"?IA(n):n[r];if(i===ya[r])continue;const o=F$[r];i==null?t.removeAttribute(o):(oY(i)&&(i=xCe(i,this._defs.gradient,dAe())),t.setAttribute(o,i+"")),ya[r]=i}for(const r in B$)OR(t,B$[r],n[r])}}defs(){const t=this._svg,n=this._defs;let r=n.el,i=0;for(const o in n.gradient)r||(n.el=r=zo(t,xE+1,"defs",Bo)),i=ubt(r,n.gradient[o],i);for(const o in n.clipping)r||(n.el=r=zo(t,xE+1,"defs",Bo)),i=cbt(r,n.clipping[o],i);r&&(i===0?(t.removeChild(r),n.el=null):oc(r,i))}_clearDefs(){const t=this._defs;t.gradient={},t.clipping={}}}function qle(e,t){for(;e&&e.dirty!==t;e=e.mark.group)if(e.dirty=t,e.mark&&e.mark.dirty!==t)e.mark.dirty=t;else return}function ubt(e,t,n){let r,i,o;if(t.gradient==="radial"){let s=zo(e,n++,"pattern",Bo);rg(s,{id:A$+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),s=zo(s,0,"rect",Bo),rg(s,{width:1,height:1,fill:`url(${dAe()}#${t.id})`}),e=zo(e,n++,"radialGradient",Bo),rg(e,{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else e=zo(e,n++,"linearGradient",Bo),rg(e,{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(r=0,i=t.stops.length;r<i;++r)o=zo(e,r,"stop",Bo),o.setAttribute("offset",t.stops[r].offset),o.setAttribute("stop-color",t.stops[r].color);return oc(e,r),n}function cbt(e,t,n){let r;return e=zo(e,n,"clipPath",Bo),e.setAttribute("id",t.id),t.path?(r=zo(e,0,"path",Bo),r.setAttribute("d",t.path)):(r=zo(e,0,"rect",Bo),rg(r,{x:0,y:0,width:t.width,height:t.height})),oc(e,1),n+1}function dbt(e,t,n,r){t=t.lastChild.previousSibling;let i,o=0;Cd(n,s=>{i=e.mark(t,s,i,r),++o}),oc(t,1+o)}function Gle(e,t,n,r,i){let o=e._svg,s;if(!o&&(s=t.ownerDocument,o=ng(s,r,Bo),e._svg=o,e.mark&&(o.__data__=e,o.__values__={fill:"default"},r==="g"))){const a=ng(s,"path",Bo);o.appendChild(a),a.__data__=e;const l=ng(s,"g",Bo);o.appendChild(l),l.__data__=e;const u=ng(s,"path",Bo);o.appendChild(u),u.__data__=e,u.__values__={fill:"default"}}return(o.ownerSVGElement!==i||fbt(o,n))&&t.insertBefore(o,n?n.nextSibling:t.firstChild),o}function fbt(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}let ap=null,ya=null;const hbt={group(e,t,n){const r=ap=t.childNodes[2];ya=r.__values__,e.foreground(YS,n,this),ya=t.__values__,ap=t.childNodes[1],e.content(YS,n,this);const i=ap=t.childNodes[0];e.background(YS,n,this);const o=n.mark.interactive===!1?"none":null;if(o!==ya.events&&(Ya(r,"pointer-events",o),Ya(i,"pointer-events",o),ya.events=o),n.strokeForeground&&n.stroke){const s=n.fill;Ya(r,"display",null),this.style(i,n),Ya(i,"stroke",null),s&&(n.fill=null),ya=r.__values__,this.style(r,n),s&&(n.fill=s),ap=null}else Ya(r,"display","none")},image(e,t,n){n.smooth===!1?(OR(t,"image-rendering","optimizeSpeed"),OR(t,"image-rendering","pixelated")):OR(t,"image-rendering",null)},text(e,t,n){const r=kA(n);let i,o,s,a;et(r)?(o=r.map(l=>Wg(n,l)),i=o.join(`
`),i!==ya.text&&(oc(t,0),s=t.ownerDocument,a=Vg(n),o.forEach((l,u)=>{const c=ng(s,"tspan",Bo);c.__data__=n,c.textContent=l,u&&(c.setAttribute("x",0),c.setAttribute("dy",a)),t.appendChild(c)}),ya.text=i)):(o=Wg(n,r),o!==ya.text&&(t.textContent=o,ya.text=o)),Ya(t,"font-family",IA(n)),Ya(t,"font-size",hh(n)+"px"),Ya(t,"font-style",n.fontStyle),Ya(t,"font-variant",n.fontVariant),Ya(t,"font-weight",n.fontWeight)}};function YS(e,t,n){t!==ya[e]&&(n?pbt(ap,e,t,n):Ya(ap,e,t),ya[e]=t)}function OR(e,t,n){n!==ya[t]&&(n==null?e.style.removeProperty(t):e.style.setProperty(t,n+""),ya[t]=n)}function rg(e,t){for(const n in t)Ya(e,n,t[n])}function Ya(e,t,n){n!=null?e.setAttribute(t,n):e.removeAttribute(t)}function pbt(e,t,n,r){n!=null?e.setAttributeNS(r,t,n):e.removeAttributeNS(r,t)}function dAe(){let e;return typeof window>"u"?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}class fAe extends RA{constructor(t){super(t),this._text=null,this._defs={gradient:{},clipping:{}}}svg(){return this._text}_render(t){const n=RY();n.open("svg",Bn({},JT,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const r=this._bgcolor;return r&&r!=="transparent"&&r!=="none"&&n.open("rect",{width:this._width,height:this._height,fill:r}).close(),n.open("g",cAe,{transform:"translate("+this._origin+")"}),this.mark(n,t),n.close(),this.defs(n),this._text=n.close()+"",this}mark(t,n){const r=Bu[n.marktype],i=r.tag,o=[iAe,r.attr];t.open("g",{class:GCe(n),"clip-path":n.clip?lY(this,n,n.group):null},oAe(n),{"pointer-events":i!=="g"&&n.interactive===!1?"none":null});const s=a=>{const l=this.href(a);if(l&&t.open("a",l),t.open(i,this.attr(n,a,o,i!=="g"?i:null)),i==="text"){const u=kA(a);if(et(u)){const c={x:0,dy:Vg(a)};for(let d=0;d<u.length;++d)t.open("tspan",d?c:null).text(Wg(a,u[d])).close()}else t.text(Wg(a,u))}else if(i==="g"){const u=a.strokeForeground,c=a.fill,d=a.stroke;u&&d&&(a.stroke=null),t.open("path",this.attr(n,a,r.background,"bgrect")).close(),t.open("g",this.attr(n,a,r.content)),Cd(a,f=>this.mark(t,f)),t.close(),u&&d?(c&&(a.fill=null),a.stroke=d,t.open("path",this.attr(n,a,r.foreground,"bgrect")).close(),c&&(a.fill=c)):t.open("path",this.attr(n,a,r.foreground,"bgfore")).close()}t.close(),l&&t.close()};return r.nested?n.items&&n.items.length&&s(n.items[0]):Cd(n,s),t.close()}href(t){const n=t.href;let r;if(n){if(r=this._hrefs&&this._hrefs[n])return r;this.sanitizeURL(n).then(i=>{i["xlink:href"]=i.href,i.href=null,(this._hrefs||(this._hrefs={}))[n]=i})}return null}attr(t,n,r,i){const o={},s=(a,l,u,c)=>{o[c||a]=l};return Array.isArray(r)?r.forEach(a=>a(s,n,this)):r(s,n,this),i&&mbt(o,n,t,i,this._defs),o}defs(t){const n=this._defs.gradient,r=this._defs.clipping;if(Object.keys(n).length+Object.keys(r).length!==0){t.open("defs");for(const o in n){const s=n[o],a=s.stops;s.gradient==="radial"?(t.open("pattern",{id:A$+o,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),t.open("rect",{width:"1",height:"1",fill:"url(#"+o+")"}).close(),t.close(),t.open("radialGradient",{id:o,fx:s.x1,fy:s.y1,fr:s.r1,cx:s.x2,cy:s.y2,r:s.r2})):t.open("linearGradient",{id:o,x1:s.x1,x2:s.x2,y1:s.y1,y2:s.y2});for(let l=0;l<a.length;++l)t.open("stop",{offset:a[l].offset,"stop-color":a[l].color}).close();t.close()}for(const o in r){const s=r[o];t.open("clipPath",{id:o}),s.path?t.open("path",{d:s.path}).close():t.open("rect",{x:0,y:0,width:s.width,height:s.height}).close(),t.close()}t.close()}}}function mbt(e,t,n,r,i){let o;if(t==null||(r==="bgrect"&&n.interactive===!1&&(e["pointer-events"]="none"),r==="bgfore"&&(n.interactive===!1&&(e["pointer-events"]="none"),e.display="none",t.fill!==null)))return e;r==="image"&&t.smooth===!1&&(o=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]),r==="text"&&(e["font-family"]=IA(t),e["font-size"]=hh(t)+"px",e["font-style"]=t.fontStyle,e["font-variant"]=t.fontVariant,e["font-weight"]=t.fontWeight);for(const s in F$){let a=t[s];const l=F$[s];a==="transparent"&&(l==="fill"||l==="stroke")||a!=null&&(oY(a)&&(a=xCe(a,i.gradient,"")),e[l]=a)}for(const s in B$){const a=t[s];a!=null&&(o=o||[],o.push(`${B$[s]}: ${a};`))}return o&&(e.style=o.join(" ")),e}const Qc={svgMarkTypes:["text"],svgOnTop:!0,debug:!1};function gbt(e){Qc.svgMarkTypes=e.svgMarkTypes??["text"],Qc.svgOnTop=e.svgOnTop??!0,Qc.debug=e.debug??!1}class n7 extends RA{constructor(t){super(t),this._svgRenderer=new DY(t),this._canvasRenderer=new L$(t)}initialize(t,n,r,i,o){this._root_el=zo(t,0,"div");const s=zo(this._root_el,0,"div"),a=zo(this._root_el,1,"div");return this._root_el.style.position="relative",Qc.debug||(s.style.height="100%",a.style.position="absolute",a.style.top="0",a.style.left="0",a.style.height="100%",a.style.width="100%"),this._svgEl=Qc.svgOnTop?a:s,this._canvasEl=Qc.svgOnTop?s:a,this._svgEl.style.pointerEvents="none",this._canvasRenderer.initialize(this._canvasEl,n,r,i,o),this._svgRenderer.initialize(this._svgEl,n,r,i,o),super.initialize(t,n,r,i,o)}dirty(t){return Qc.svgMarkTypes.includes(t.mark.marktype)?this._svgRenderer.dirty(t):this._canvasRenderer.dirty(t),this}_render(t,n){const i=(n??["arc","area","image","line","path","rect","rule","shape","symbol","text","trail"]).filter(o=>!Qc.svgMarkTypes.includes(o));this._svgRenderer.render(t,Qc.svgMarkTypes),this._canvasRenderer.render(t,i)}resize(t,n,r,i){return super.resize(t,n,r,i),this._svgRenderer.resize(t,n,r,i),this._canvasRenderer.resize(t,n,r,i),this}background(t){return Qc.svgOnTop?this._canvasRenderer.background(t):this._svgRenderer.background(t),this}}class hAe extends DA{constructor(t,n){super(t,n)}initialize(t,n,r){const i=zo(zo(t,0,"div"),Qc.svgOnTop?0:1,"div");return super.initialize(i,n,r)}}const pAe="canvas",mAe="hybrid",gAe="png",yAe="svg",vAe="none",ig={Canvas:pAe,PNG:gAe,SVG:yAe,Hybrid:mAe,None:vAe},dv={};dv[pAe]=dv[gAe]={renderer:L$,headless:L$,handler:DA};dv[yAe]={renderer:DY,headless:fAe,handler:eAe};dv[mAe]={renderer:n7,headless:n7,handler:hAe};dv[vAe]={};function fO(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(dv[e]=t,this):dv[e]}function bAe(e,t,n){const r=[],i=new ko().union(t),o=e.marktype;return o?wAe(e,i,n,r):o==="group"?xAe(e,i,n,r):Je("Intersect scene must be mark node or group item.")}function wAe(e,t,n,r){if(ybt(e,t,n)){const i=e.items,o=e.marktype,s=i.length;let a=0;if(o==="group")for(;a<s;++a)xAe(i[a],t,n,r);else for(const l=Bu[o].isect;a<s;++a){const u=i[a];_Ae(u,t,l)&&r.push(u)}}return r}function ybt(e,t,n){return e.bounds&&t.intersects(e.bounds)&&(e.marktype==="group"||e.interactive!==!1&&(!n||n(e)))}function xAe(e,t,n,r){n&&n(e.mark)&&_Ae(e,t,Bu.group.isect)&&r.push(e);const i=e.items,o=i&&i.length;if(o){const s=e.x||0,a=e.y||0;t.translate(-s,-a);for(let l=0;l<o;++l)wAe(i[l],t,n,r);t.translate(s,a)}return r}function _Ae(e,t,n){const r=e.bounds;return t.encloses(r)||t.intersects(r)&&n(e,t)}const z6=new ko;function EAe(e){const t=e.clip;if(jn(t))t(CA(z6.clear()));else if(t)z6.set(0,0,e.group.width,e.group.height);else return;e.bounds.intersect(z6)}const vbt=1e-9;function $Y(e,t,n){return e===t?!0:n==="path"?SAe(e,t):e instanceof Date&&t instanceof Date?+e==+t:Sr(e)&&Sr(t)?Math.abs(e-t)<=vbt:!e||!t||!Ft(e)&&!Ft(t)?e==t:bbt(e,t)}function SAe(e,t){return $Y(Fw(e),Fw(t))}function bbt(e,t){var n=Object.keys(e),r=Object.keys(t),i,o;if(n.length!==r.length)return!1;for(n.sort(),r.sort(),o=n.length-1;o>=0;o--)if(n[o]!=r[o])return!1;for(o=n.length-1;o>=0;o--)if(i=n[o],!$Y(e[i],t[i],i))return!1;return typeof e==typeof t}function wbt(){kCe(),V0t()}const zw="top",od="left",cd="right",qg="bottom",xbt="top-left",_bt="top-right",Ebt="bottom-left",Sbt="bottom-right",MY="start",r7="middle",Ka="end",Tbt="x",Cbt="y",hO="group",PY="axis",NY="title",Abt="frame",kbt="scope",OY="legend",TAe="row-header",CAe="row-footer",AAe="row-title",kAe="column-header",IAe="column-footer",RAe="column-title",Ibt="padding",Rbt="symbol",DAe="fit",$Ae="fit-x",MAe="fit-y",Dbt="pad",LY="none",Jk="all",i7="each",FY="flush",og="column",sg="row";function PAe(e){Ve.call(this,null,e)}Mt(PAe,Ve,{transform(e,t){const n=t.dataflow,r=e.mark,i=r.marktype,o=Bu[i],s=o.bound;let a=r.bounds,l;if(o.nested)r.items.length&&n.dirty(r.items[0]),a=Zk(r,s),r.items.forEach(u=>{u.bounds.clear().union(a)});else if(i===hO||e.modified())switch(t.visit(t.MOD,u=>n.dirty(u)),a.clear(),r.items.forEach(u=>a.union(Zk(u,s))),r.role){case PY:case OY:case NY:t.reflow()}else l=t.changed(t.REM),t.visit(t.ADD,u=>{a.union(Zk(u,s))}),t.visit(t.MOD,u=>{l=l||a.alignsWith(u.bounds),n.dirty(u),a.union(Zk(u,s))}),l&&(a.clear(),r.items.forEach(u=>a.union(u.bounds)));return EAe(r),t.modifies("bounds")}});function Zk(e,t,n){return t(e.bounds.clear(),e,n)}const Yle=":vega_identifier:";function BY(e){Ve.call(this,0,e)}BY.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};Mt(BY,Ve,{transform(e,t){const n=$bt(t.dataflow),r=e.as;let i=n.value;return t.visit(t.ADD,o=>o[r]=o[r]||++i),n.set(this.value=i),t}});function $bt(e){return e._signals[Yle]||(e._signals[Yle]=e.add(0))}function NAe(e){Ve.call(this,null,e)}Mt(NAe,Ve,{transform(e,t){let n=this.value;n||(n=t.dataflow.scenegraph().mark(e.markdef,Mbt(e),e.index),n.group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);const r=n.marktype===hO?iO:rO;return t.visit(t.ADD,i=>r.call(i,n)),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t}});function Mbt(e){const t=e.groups,n=e.parent;return t&&t.size===1?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}function OAe(e){Ve.call(this,null,e)}const Kle={parity:e=>e.filter((t,n)=>n%2?t.opacity=0:1),greedy:(e,t)=>{let n;return e.filter((r,i)=>!i||!LAe(n.bounds,r.bounds,t)?(n=r,1):r.opacity=0)}},LAe=(e,t,n)=>n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2),Xle=(e,t)=>{for(var n=1,r=e.length,i=e[0].bounds,o;n<r;i=o,++n)if(LAe(i,o=e[n].bounds,t))return!0},Pbt=e=>{const t=e.bounds;return t.width()>1&&t.height()>1},Nbt=(e,t,n)=>{var r=e.range(),i=new ko;return t===zw||t===qg?i.set(r[0],-1/0,r[1],1/0):i.set(-1/0,r[0],1/0,r[1]),i.expand(n||1),o=>i.encloses(o.bounds)},Qle=e=>(e.forEach(t=>t.opacity=1),e),Jle=(e,t)=>e.reflow(t.modified()).modifies("opacity");Mt(OAe,Ve,{transform(e,t){const n=Kle[e.method]||Kle.parity,r=e.separation||0;let i=t.materialize(t.SOURCE).source,o,s;if(!i||!i.length)return;if(!e.method)return e.modified("method")&&(Qle(i),t=Jle(t,e)),t;if(i=i.filter(Pbt),!i.length)return;if(e.sort&&(i=i.slice().sort(e.sort)),o=Qle(i),t=Jle(t,e),o.length>=3&&Xle(o,r)){do o=n(o,r);while(o.length>=3&&Xle(o,r));o.length<3&&!ur(i).opacity&&(o.length>1&&(ur(o).opacity=0),ur(i).opacity=1)}e.boundScale&&e.boundTolerance>=0&&(s=Nbt(e.boundScale,e.boundOrient,+e.boundTolerance),i.forEach(l=>{s(l)||(l.opacity=0)}));const a=o[0].mark.bounds.clear();return i.forEach(l=>{l.opacity&&a.union(l.bounds)}),t}});function FAe(e){Ve.call(this,null,e)}Mt(FAe,Ve,{transform(e,t){const n=t.dataflow;if(t.visit(t.ALL,r=>n.dirty(r)),t.fields&&t.fields.zindex){const r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}}});const ma=new ko;function P1(e,t,n){return e[t]===n?0:(e[t]=n,1)}function Obt(e){var t=e.items[0].orient;return t===od||t===cd}function Lbt(e){let t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}function Fbt(e,t,n,r){var i=t.items[0],o=i.datum,s=i.translate!=null?i.translate:.5,a=i.orient,l=Lbt(o),u=i.range,c=i.offset,d=i.position,f=i.minExtent,h=i.maxExtent,p=o.title&&i.items[l[2]].items[0],m=i.titlePadding,g=i.bounds,y=p&&xY(p),v=0,w=0,E,_;switch(ma.clear().union(g),g.clear(),(E=l[0])>-1&&g.union(i.items[E].bounds),(E=l[1])>-1&&g.union(i.items[E].bounds),a){case zw:v=d||0,w=-c,_=Math.max(f,Math.min(h,-g.y1)),g.add(0,-_).add(u,0),p&&e3(e,p,_,m,y,0,-1,g);break;case od:v=-c,w=d||0,_=Math.max(f,Math.min(h,-g.x1)),g.add(-_,0).add(0,u),p&&e3(e,p,_,m,y,1,-1,g);break;case cd:v=n+c,w=d||0,_=Math.max(f,Math.min(h,g.x2)),g.add(0,0).add(_,u),p&&e3(e,p,_,m,y,1,1,g);break;case qg:v=d||0,w=r+c,_=Math.max(f,Math.min(h,g.y2)),g.add(0,0).add(u,_),p&&e3(e,p,_,m,0,0,1,g);break;default:v=i.x,w=i.y}return Zp(g.translate(v,w),i),P1(i,"x",v+s)|P1(i,"y",w+s)&&(i.bounds=ma,e.dirty(i),i.bounds=g,e.dirty(i)),i.mark.bounds.clear().union(g)}function e3(e,t,n,r,i,o,s,a){const l=t.bounds;if(t.auto){const u=s*(n+i+r);let c=0,d=0;e.dirty(t),o?c=(t.x||0)-(t.x=u):d=(t.y||0)-(t.y=u),t.mark.bounds.clear().union(l.translate(-c,-d)),e.dirty(t)}a.union(l)}const Zle=(e,t)=>Math.floor(Math.min(e,t)),eue=(e,t)=>Math.ceil(Math.max(e,t));function Bbt(e){var t=e.items,n=t.length,r=0,i,o;const s={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;r<n;++r)if(i=t[r],o=i.items,i.marktype===hO)switch(i.role){case PY:case OY:case NY:break;case TAe:s.rowheaders.push(...o);break;case CAe:s.rowfooters.push(...o);break;case kAe:s.colheaders.push(...o);break;case IAe:s.colfooters.push(...o);break;case AAe:s.rowtitle=o[0];break;case RAe:s.coltitle=o[0];break;default:s.marks.push(...o)}return s}function jbt(e){return new ko().set(0,0,e.width||0,e.height||0)}function zbt(e){const t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function Ci(e,t,n){const r=Ft(e)?e[t]:e;return r??(n!==void 0?n:0)}function tue(e){return e<0?Math.ceil(-e):0}function BAe(e,t,n){var r=!n.nodirty,i=n.bounds===FY?jbt:zbt,o=ma.set(0,0,0,0),s=Ci(n.align,og),a=Ci(n.align,sg),l=Ci(n.padding,og),u=Ci(n.padding,sg),c=n.columns||t.length,d=c<=0?1:Math.ceil(t.length/c),f=t.length,h=Array(f),p=Array(c),m=0,g=Array(f),y=Array(d),v=0,w=Array(f),E=Array(f),_=Array(f),x,S,C,A,k,N,M,I,D,R,O;for(S=0;S<c;++S)p[S]=0;for(S=0;S<d;++S)y[S]=0;for(S=0;S<f;++S)N=t[S],k=_[S]=i(N),N.x=N.x||0,w[S]=0,N.y=N.y||0,E[S]=0,C=S%c,A=~~(S/c),m=Math.max(m,M=Math.ceil(k.x2)),v=Math.max(v,I=Math.ceil(k.y2)),p[C]=Math.max(p[C],M),y[A]=Math.max(y[A],I),h[S]=l+tue(k.x1),g[S]=u+tue(k.y1),r&&e.dirty(t[S]);for(S=0;S<f;++S)S%c===0&&(h[S]=0),S<c&&(g[S]=0);if(s===i7)for(C=1;C<c;++C){for(O=0,S=C;S<f;S+=c)O<h[S]&&(O=h[S]);for(S=C;S<f;S+=c)h[S]=O+p[C-1]}else if(s===Jk){for(O=0,S=0;S<f;++S)S%c&&O<h[S]&&(O=h[S]);for(S=0;S<f;++S)S%c&&(h[S]=O+m)}else for(s=!1,C=1;C<c;++C)for(S=C;S<f;S+=c)h[S]+=p[C-1];if(a===i7)for(A=1;A<d;++A){for(O=0,S=A*c,x=S+c;S<x;++S)O<g[S]&&(O=g[S]);for(S=A*c;S<x;++S)g[S]=O+y[A-1]}else if(a===Jk){for(O=0,S=c;S<f;++S)O<g[S]&&(O=g[S]);for(S=c;S<f;++S)g[S]=O+v}else for(a=!1,A=1;A<d;++A)for(S=A*c,x=S+c;S<x;++S)g[S]+=y[A-1];for(D=0,S=0;S<f;++S)D=h[S]+(S%c?D:0),w[S]+=D-t[S].x;for(C=0;C<c;++C)for(R=0,S=C;S<f;S+=c)R+=g[S],E[S]+=R-t[S].y;if(s&&Ci(n.center,og)&&d>1)for(S=0;S<f;++S)k=s===Jk?m:p[S%c],D=k-_[S].x2-t[S].x-w[S],D>0&&(w[S]+=D/2);if(a&&Ci(n.center,sg)&&c!==1)for(S=0;S<f;++S)k=a===Jk?v:y[~~(S/c)],R=k-_[S].y2-t[S].y-E[S],R>0&&(E[S]+=R/2);for(S=0;S<f;++S)o.union(_[S].translate(w[S],E[S]));switch(D=Ci(n.anchor,Tbt),R=Ci(n.anchor,Cbt),Ci(n.anchor,og)){case Ka:D-=o.width();break;case r7:D-=o.width()/2}switch(Ci(n.anchor,sg)){case Ka:R-=o.height();break;case r7:R-=o.height()/2}for(D=Math.round(D),R=Math.round(R),o.clear(),S=0;S<f;++S)t[S].mark.bounds.clear();for(S=0;S<f;++S)N=t[S],N.x+=w[S]+=D,N.y+=E[S]+=R,o.union(N.mark.bounds.union(N.bounds.translate(w[S],E[S]))),r&&e.dirty(N);return o}function Ubt(e,t,n){var r=Bbt(t),i=r.marks,o=n.bounds===FY?Hbt:Vbt,s=n.offset,a=n.columns||i.length,l=a<=0?1:Math.ceil(i.length/a),u=l*a,c,d,f,h,p,m,g;const y=BAe(e,i,n);y.empty()&&y.set(0,0,0,0),r.rowheaders&&(m=Ci(n.headerBand,sg,null),c=t3(e,r.rowheaders,i,a,l,-Ci(s,"rowHeader"),Zle,0,o,"x1",0,a,1,m)),r.colheaders&&(m=Ci(n.headerBand,og,null),d=t3(e,r.colheaders,i,a,a,-Ci(s,"columnHeader"),Zle,1,o,"y1",0,1,a,m)),r.rowfooters&&(m=Ci(n.footerBand,sg,null),f=t3(e,r.rowfooters,i,a,l,Ci(s,"rowFooter"),eue,0,o,"x2",a-1,a,1,m)),r.colfooters&&(m=Ci(n.footerBand,og,null),h=t3(e,r.colfooters,i,a,a,Ci(s,"columnFooter"),eue,1,o,"y2",u-a,1,a,m)),r.rowtitle&&(p=Ci(n.titleAnchor,sg),g=Ci(s,"rowTitle"),g=p===Ka?f+g:c-g,m=Ci(n.titleBand,sg,.5),nue(e,r.rowtitle,g,0,y,m)),r.coltitle&&(p=Ci(n.titleAnchor,og),g=Ci(s,"columnTitle"),g=p===Ka?h+g:d-g,m=Ci(n.titleBand,og,.5),nue(e,r.coltitle,g,1,y,m))}function Hbt(e,t){return t==="x1"?e.x||0:t==="y1"?e.y||0:t==="x2"?(e.x||0)+(e.width||0):t==="y2"?(e.y||0)+(e.height||0):void 0}function Vbt(e,t){return e.bounds[t]}function t3(e,t,n,r,i,o,s,a,l,u,c,d,f,h){var p=n.length,m=0,g=0,y,v,w,E,_,x,S,C,A;if(!p)return m;for(y=c;y<p;y+=d)n[y]&&(m=s(m,l(n[y],u)));if(!t.length)return m;for(t.length>i&&(e.warn("Grid headers exceed limit: "+i),t=t.slice(0,i)),m+=o,v=0,E=t.length;v<E;++v)e.dirty(t[v]),t[v].mark.bounds.clear();for(y=c,v=0,E=t.length;v<E;++v,y+=d){for(x=t[v],_=x.mark.bounds,w=y;w>=0&&(S=n[w])==null;w-=f);a?(C=h==null?S.x:Math.round(S.bounds.x1+h*S.bounds.width()),A=m):(C=m,A=h==null?S.y:Math.round(S.bounds.y1+h*S.bounds.height())),_.union(x.bounds.translate(C-(x.x||0),A-(x.y||0))),x.x=C,x.y=A,e.dirty(x),g=s(g,_[u])}return g}function nue(e,t,n,r,i,o){if(t){e.dirty(t);var s=n,a=n;r?s=Math.round(i.x1+o*i.width()):a=Math.round(i.y1+o*i.height()),t.bounds.translate(s-(t.x||0),a-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=s,t.y=a,e.dirty(t)}}function Wbt(e,t){const n=e[t]||{};return(r,i)=>n[r]!=null?n[r]:e[r]!=null?e[r]:i}function qbt(e,t){let n=-1/0;return e.forEach(r=>{r.offset!=null&&(n=Math.max(n,r.offset))}),n>-1/0?n:t}function Gbt(e,t,n,r,i,o,s){const a=Wbt(n,t),l=qbt(e,a("offset",0)),u=a("anchor",MY),c=u===Ka?1:u===r7?.5:0,d={align:i7,bounds:a("bounds",FY),columns:a("direction")==="vertical"?1:e.length,padding:a("margin",8),center:a("center"),nodirty:!0};switch(t){case od:d.anchor={x:Math.floor(r.x1)-l,column:Ka,y:c*(s||r.height()+2*r.y1),row:u};break;case cd:d.anchor={x:Math.ceil(r.x2)+l,y:c*(s||r.height()+2*r.y1),row:u};break;case zw:d.anchor={y:Math.floor(i.y1)-l,row:Ka,x:c*(o||i.width()+2*i.x1),column:u};break;case qg:d.anchor={y:Math.ceil(i.y2)+l,x:c*(o||i.width()+2*i.x1),column:u};break;case xbt:d.anchor={x:l,y:l};break;case _bt:d.anchor={x:o-l,y:l,column:Ka};break;case Ebt:d.anchor={x:l,y:s-l,row:Ka};break;case Sbt:d.anchor={x:o-l,y:s-l,column:Ka,row:Ka};break}return d}function Ybt(e,t){var n=t.items[0],r=n.datum,i=n.orient,o=n.bounds,s=n.x,a=n.y,l,u;return n._bounds?n._bounds.clear().union(o):n._bounds=o.clone(),o.clear(),Xbt(e,n,n.items[0].items[0]),o=Kbt(n,o),l=2*n.padding,u=2*n.padding,o.empty()||(l=Math.ceil(o.width()+l),u=Math.ceil(o.height()+u)),r.type===Rbt&&Qbt(n.items[0].items[0].items[0].items),i!==LY&&(n.x=s=0,n.y=a=0),n.width=l,n.height=u,Zp(o.set(s,a,s+l,a+u),n),n.mark.bounds.clear().union(o),n}function Kbt(e,t){return e.items.forEach(n=>t.union(n.bounds)),t.x1=e.padding,t.y1=e.padding,t}function Xbt(e,t,n){var r=t.padding,i=r-n.x,o=r-n.y;if(!t.datum.title)(i||o)&&_E(e,n,i,o);else{var s=t.items[1].items[0],a=s.anchor,l=t.titlePadding||0,u=r-s.x,c=r-s.y;switch(s.orient){case od:i+=Math.ceil(s.bounds.width())+l;break;case cd:case qg:break;default:o+=s.bounds.height()+l}switch((i||o)&&_E(e,n,i,o),s.orient){case od:c+=s1(t,n,s,a,1,1);break;case cd:u+=s1(t,n,s,Ka,0,0)+l,c+=s1(t,n,s,a,1,1);break;case qg:u+=s1(t,n,s,a,0,0),c+=s1(t,n,s,Ka,-1,0,1)+l;break;default:u+=s1(t,n,s,a,0,0)}(u||c)&&_E(e,s,u,c),(u=Math.round(s.bounds.x1-r))<0&&(_E(e,n,-u,0),_E(e,s,-u,0))}}function s1(e,t,n,r,i,o,s){const a=e.datum.type!=="symbol",l=n.datum.vgrad,u=a&&(o||!l)&&!s?t.items[0]:t,c=u.bounds[i?"y2":"x2"]-e.padding,d=l&&o?c:0,f=l&&o?0:c,h=i<=0?0:xY(n);return Math.round(r===MY?d:r===Ka?f-h:.5*(c-h))}function _E(e,t,n,r){t.x+=n,t.y+=r,t.bounds.translate(n,r),t.mark.bounds.translate(n,r),e.dirty(t)}function Qbt(e){const t=e.reduce((n,r)=>(n[r.column]=Math.max(r.bounds.x2-r.x,n[r.column]||0),n),{});e.forEach(n=>{n.width=t[n.column],n.height=n.bounds.y2-n.y})}function Jbt(e,t,n,r,i){var o=t.items[0],s=o.frame,a=o.orient,l=o.anchor,u=o.offset,c=o.padding,d=o.items[0].items[0],f=o.items[1]&&o.items[1].items[0],h=a===od||a===cd?r:n,p=0,m=0,g=0,y=0,v=0,w;if(s!==hO?a===od?(p=i.y2,h=i.y1):a===cd?(p=i.y1,h=i.y2):(p=i.x1,h=i.x2):a===od&&(p=r,h=0),w=l===MY?p:l===Ka?h:(p+h)/2,f&&f.text){switch(a){case zw:case qg:v=d.bounds.height()+c;break;case od:y=d.bounds.width()+c;break;case cd:y=-d.bounds.width()-c;break}ma.clear().union(f.bounds),ma.translate(y-(f.x||0),v-(f.y||0)),P1(f,"x",y)|P1(f,"y",v)&&(e.dirty(f),f.bounds.clear().union(ma),f.mark.bounds.clear().union(ma),e.dirty(f)),ma.clear().union(f.bounds)}else ma.clear();switch(ma.union(d.bounds),a){case zw:m=w,g=i.y1-ma.height()-u;break;case od:m=i.x1-ma.width()-u,g=w;break;case cd:m=i.x2+ma.width()+u,g=w;break;case qg:m=w,g=i.y2+u;break;default:m=o.x,g=o.y}return P1(o,"x",m)|P1(o,"y",g)&&(ma.translate(m,g),e.dirty(o),o.bounds.clear().union(ma),t.bounds.clear().union(ma),e.dirty(o)),o.bounds}function jAe(e){Ve.call(this,null,e)}Mt(jAe,Ve,{transform(e,t){const n=t.dataflow;return e.mark.items.forEach(r=>{e.layout&&Ubt(n,r,e.layout),e1t(n,r,e)}),Zbt(e.mark.group)?t.reflow():t}});function Zbt(e){return e&&e.mark.role!=="legend-entry"}function e1t(e,t,n){var r=t.items,i=Math.max(0,t.width||0),o=Math.max(0,t.height||0),s=new ko().set(0,0,i,o),a=s.clone(),l=s.clone(),u=[],c,d,f,h,p,m;for(p=0,m=r.length;p<m;++p)switch(d=r[p],d.role){case PY:h=Obt(d)?a:l,h.union(Fbt(e,d,i,o));break;case NY:c=d;break;case OY:u.push(Ybt(e,d));break;case Abt:case kbt:case TAe:case CAe:case AAe:case kAe:case IAe:case RAe:a.union(d.bounds),l.union(d.bounds);break;default:s.union(d.bounds)}if(u.length){const g={};u.forEach(y=>{f=y.orient||cd,f!==LY&&(g[f]||(g[f]=[])).push(y)});for(const y in g){const v=g[y];BAe(e,v,Gbt(v,y,n.legends,a,l,i,o))}u.forEach(y=>{const v=y.bounds;if(v.equals(y._bounds)||(y.bounds=y._bounds,e.dirty(y),y.bounds=v,e.dirty(y)),n.autosize&&(n.autosize.type===DAe||n.autosize.type===$Ae||n.autosize.type===MAe))switch(y.orient){case od:case cd:s.add(v.x1,0).add(v.x2,0);break;case zw:case qg:s.add(0,v.y1).add(0,v.y2)}else s.union(v)})}s.union(a).union(l),c&&s.union(Jbt(e,c,i,o,s)),t.clip&&s.set(0,0,t.width||0,t.height||0),t1t(e,t,s,n)}function t1t(e,t,n,r){const i=r.autosize||{},o=i.type;if(e._autosize<1||!o)return;let s=e._width,a=e._height,l=Math.max(0,t.width||0),u=Math.max(0,Math.ceil(-n.x1)),c=Math.max(0,t.height||0),d=Math.max(0,Math.ceil(-n.y1));const f=Math.max(0,Math.ceil(n.x2-l)),h=Math.max(0,Math.ceil(n.y2-c));if(i.contains===Ibt){const p=e.padding();s-=p.left+p.right,a-=p.top+p.bottom}o===LY?(u=0,d=0,l=s,c=a):o===DAe?(l=Math.max(0,s-u-f),c=Math.max(0,a-d-h)):o===$Ae?(l=Math.max(0,s-u-f),a=c+d+h):o===MAe?(s=l+u+f,c=Math.max(0,a-d-h)):o===Dbt&&(s=l+u+f,a=c+d+h),e._resizeView(s,a,l,c,[u,d],i.resize)}const n1t=Object.freeze(Object.defineProperty({__proto__:null,bound:PAe,identifier:BY,mark:NAe,overlap:OAe,render:FAe,viewlayout:jAe},Symbol.toStringTag,{value:"Module"}));function zAe(e){Ve.call(this,null,e)}Mt(zAe,Ve,{transform(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,o=e.scale,s=e.count==null?e.values?e.values.length:10:e.count,a=rY(o,s,e.minstep),l=e.format||pCe(n,o,a,e.formatSpecifier,e.formatType,!!e.values),u=e.values?hCe(o,e.values,a):iY(o,a);return i&&(r.rem=i),i=u.map((c,d)=>Ir({index:d/(u.length-1||1),value:c,label:l(c)})),e.extra&&i.length&&i.push(Ir({index:-1,extra:{value:i[0].value},label:""})),r.source=i,r.add=i,this.value=i,r}});function UAe(e){Ve.call(this,null,e)}function r1t(){return Ir({})}function i1t(e){const t=Jx().test(n=>n.exit);return t.lookup=n=>t.get(e(n)),t}Mt(UAe,Ve,{transform(e,t){var n=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.item||r1t,o=e.key||fn,s=this.value;return et(r.encode)&&(r.encode=null),s&&(e.modified("key")||t.modified(o))&&Je("DataJoin does not support modified key function or fields."),s||(t=t.addAll(),this.value=s=i1t(o)),t.visit(t.ADD,a=>{const l=o(a);let u=s.get(l);u?u.exit?(s.empty--,r.add.push(u)):r.mod.push(u):(u=i(a),s.set(l,u),r.add.push(u)),u.datum=a,u.exit=!1}),t.visit(t.MOD,a=>{const l=o(a),u=s.get(l);u&&(u.datum=a,r.mod.push(u))}),t.visit(t.REM,a=>{const l=o(a),u=s.get(l);a===u.datum&&!u.exit&&(r.rem.push(u),u.exit=!0,++s.empty)}),t.changed(t.ADD_MOD)&&r.modifies("datum"),(t.clean()||e.clean&&s.empty>n.cleanThreshold)&&n.runAfter(s.clean),r}});function HAe(e){Ve.call(this,null,e)}Mt(HAe,Ve,{transform(e,t){var n=t.fork(t.ADD_REM),r=e.mod||!1,i=e.encoders,o=t.encode;if(et(o))if(n.changed()||o.every(d=>i[d]))o=o[0],n.encode=null;else return t.StopPropagation;var s=o==="enter",a=i.update||Nm,l=i.enter||Nm,u=i.exit||Nm,c=(o&&!s?i[o]:a)||Nm;if(t.changed(t.ADD)&&(t.visit(t.ADD,d=>{l(d,e),a(d,e)}),n.modifies(l.output),n.modifies(a.output),c!==Nm&&c!==a&&(t.visit(t.ADD,d=>{c(d,e)}),n.modifies(c.output))),t.changed(t.REM)&&u!==Nm&&(t.visit(t.REM,d=>{u(d,e)}),n.modifies(u.output)),s||c!==Nm){const d=t.MOD|(e.modified()?t.REFLOW:0);s?(t.visit(d,f=>{const h=l(f,e)||r;(c(f,e)||h)&&n.mod.push(f)}),n.mod.length&&n.modifies(l.output)):t.visit(d,f=>{(c(f,e)||r)&&n.mod.push(f)}),n.mod.length&&n.modifies(c.output)}return n.changed()?n:t.StopPropagation}});function VAe(e){Ve.call(this,[],e)}Mt(VAe,Ve,{transform(e,t){if(this.value!=null&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,o=e.type||kR,s=e.scale,a=+e.limit,l=rY(s,e.count==null?5:e.count,e.minstep),u=!!e.values||o===kR,c=e.format||vCe(n,s,l,o,e.formatSpecifier,e.formatType,u),d=e.values||yCe(s,l),f,h,p,m,g;return i&&(r.rem=i),o===kR?(a&&d.length>a?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),i=d.slice(0,a-1),g=!0):i=d,jn(p=e.size)?(!e.values&&s(i[0])===0&&(i=i.slice(1)),m=i.reduce((y,v)=>Math.max(y,p(v,e)),0)):p=Pa(m=p||8),i=i.map((y,v)=>Ir({index:v,label:c(y,v,i),value:y,offset:m,size:p(y,e)})),g&&(g=d[i.length],i.push(Ir({index:i.length,label:`${d.length-i.length} entries`,value:g,offset:m,size:p(g,e)})))):o===D0t?(f=s.domain(),h=cCe(s,f[0],ur(f)),d.length<3&&!e.values&&f[0]!==ur(f)&&(d=[f[0],ur(f)]),i=d.map((y,v)=>Ir({index:v,label:c(y,v,d),value:y,perc:h(y)}))):(p=d.length-1,h=U0t(s),i=d.map((y,v)=>Ir({index:v,label:c(y,v,d),value:y,perc:v?h(y):0,perc2:v===p?1:h(d[v+1])}))),r.source=i,r.add=i,this.value=i,r}});const o1t=e=>e.source.x,s1t=e=>e.source.y,a1t=e=>e.target.x,l1t=e=>e.target.y;function jY(e){Ve.call(this,{},e)}jY.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]};Mt(jY,Ve,{transform(e,t){var n=e.sourceX||o1t,r=e.sourceY||s1t,i=e.targetX||a1t,o=e.targetY||l1t,s=e.as||"path",a=e.orient||"vertical",l=e.shape||"line",u=rue.get(l+"-"+a)||rue.get(l);return u||Je("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,c=>{c[s]=u(n(c),r(c),i(c),o(c))}),t.reflow(e.modified()).modifies(s)}});const WAe=(e,t,n,r)=>"M"+e+","+t+"L"+n+","+r,u1t=(e,t,n,r)=>WAe(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),qAe=(e,t,n,r)=>{var i=n-e,o=r-t,s=Math.hypot(i,o)/2,a=180*Math.atan2(o,i)/Math.PI;return"M"+e+","+t+"A"+s+","+s+" "+a+" 0 1 "+n+","+r},c1t=(e,t,n,r)=>qAe(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),GAe=(e,t,n,r)=>{const i=n-e,o=r-t,s=.2*(i+o),a=.2*(o-i);return"M"+e+","+t+"C"+(e+s)+","+(t+a)+" "+(n+a)+","+(r-s)+" "+n+","+r},d1t=(e,t,n,r)=>GAe(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),f1t=(e,t,n,r)=>"M"+e+","+t+"V"+r+"H"+n,h1t=(e,t,n,r)=>"M"+e+","+t+"H"+n+"V"+r,p1t=(e,t,n,r)=>{const i=Math.cos(e),o=Math.sin(e),s=Math.cos(n),a=Math.sin(n),l=Math.abs(n-e)>Math.PI?n<=e:n>e;return"M"+t*i+","+t*o+"A"+t+","+t+" 0 0,"+(l?1:0)+" "+t*s+","+t*a+"L"+r*s+","+r*a},m1t=(e,t,n,r)=>{const i=(e+n)/2;return"M"+e+","+t+"C"+i+","+t+" "+i+","+r+" "+n+","+r},g1t=(e,t,n,r)=>{const i=(t+r)/2;return"M"+e+","+t+"C"+e+","+i+" "+n+","+i+" "+n+","+r},y1t=(e,t,n,r)=>{const i=Math.cos(e),o=Math.sin(e),s=Math.cos(n),a=Math.sin(n),l=(t+r)/2;return"M"+t*i+","+t*o+"C"+l*i+","+l*o+" "+l*s+","+l*a+" "+r*s+","+r*a},rue=Jx({line:WAe,"line-radial":u1t,arc:qAe,"arc-radial":c1t,curve:GAe,"curve-radial":d1t,"orthogonal-horizontal":f1t,"orthogonal-vertical":h1t,"orthogonal-radial":p1t,"diagonal-horizontal":m1t,"diagonal-vertical":g1t,"diagonal-radial":y1t});function zY(e){Ve.call(this,null,e)}zY.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]};Mt(zY,Ve,{transform(e,t){var n=e.as||["startAngle","endAngle"],r=n[0],i=n[1],o=e.field||Yx,s=e.startAngle||0,a=e.endAngle!=null?e.endAngle:2*Math.PI,l=t.source,u=l.map(o),c=u.length,d=s,f=(a-s)/aEe(u),h=bu(c),p,m,g;for(e.sort&&h.sort((y,v)=>u[y]-u[v]),p=0;p<c;++p)g=u[h[p]],m=l[h[p]],m[r]=d,m[i]=d+=g*f;return this.value=u,t.reflow(e.modified()).modifies(n)}});const v1t=5;function b1t(e){const t=e.type;return!e.bins&&(t===Nw||t===bA||t===wA)}function YAe(e){return eY(e)&&e!==Lf}const w1t=Sd(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function KAe(e){Ve.call(this,null,e),this.modified(!0)}Mt(KAe,Ve,{transform(e,t){var n=t.dataflow,r=this.value,i=x1t(e);(!r||i!==r.type)&&(this.value=r=Cr(i)());for(i in e)if(!w1t[i]){if(i==="padding"&&YAe(r.type))continue;jn(r[i])?r[i](e[i]):n.warn("Unsupported scale property: "+i)}return A1t(r,e,C1t(r,e,E1t(r,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function x1t(e){var t=e.type,n="",r;return t===Lf?Lf+"-"+Nw:(_1t(e)&&(r=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(e.domainMid!=null):0,n=r===2?Lf+"-":r===3?s_+"-":""),(n+t||Nw).toLowerCase())}function _1t(e){const t=e.type;return eY(t)&&t!==uv&&t!==cv&&(e.scheme||e.range&&e.range.length&&e.range.every(Bt))}function E1t(e,t,n){const r=S1t(e,t.domainRaw,n);if(r>-1)return r;var i=t.domain,o=e.type,s=t.zero||t.zero===void 0&&b1t(e),a,l;if(!i)return 0;if((s||t.domainMin!=null||t.domainMax!=null||t.domainMid!=null)&&(a=(i=i.slice()).length-1||1,s&&(i[0]>0&&(i[0]=0),i[a]<0&&(i[a]=0)),t.domainMin!=null&&(i[0]=t.domainMin),t.domainMax!=null&&(i[a]=t.domainMax),t.domainMid!=null)){l=t.domainMid;const u=l>i[a]?a+1:l<i[0]?0:a;u!==a&&n.warn("Scale domainMid exceeds domain min or max.",l),i.splice(u,0,l)}return YAe(o)&&t.padding&&i[0]!==ur(i)&&(i=T1t(o,i,t.range,t.padding,t.exponent,t.constant)),e.domain(XAe(o,i,n)),o===XG&&e.unknown(t.domainImplicit?F9:void 0),t.nice&&e.nice&&e.nice(t.nice!==!0&&rY(e,t.nice)||null),i.length}function S1t(e,t,n){return t?(e.domain(XAe(e.type,t,n)),t.length):-1}function T1t(e,t,n,r,i,o){var s=Math.abs(ur(n)-n[0]),a=s/(s-2*r),l=e===Fp?gq(t,null,a):e===wA?u$(t,null,a,.5):e===bA?u$(t,null,a,i||1):e===JN?yq(t,null,a,o||1):mq(t,null,a);return t=t.slice(),t[0]=l[0],t[t.length-1]=l[1],t}function XAe(e,t,n){if(oCe(e)){var r=Math.abs(t.reduce((i,o)=>i+(o<0?-1:o>0?1:0),0));r!==t.length&&n.warn("Log scale domain includes zero: "+Rt(t))}return t}function C1t(e,t,n){let r=t.bins;if(r&&!et(r)){const i=e.domain(),o=i[0],s=ur(i),a=r.step;let l=r.start==null?o:r.start,u=r.stop==null?s:r.stop;a||Je("Scale bins parameter missing step property."),l<o&&(l=a*Math.ceil(o/a)),u>s&&(u=a*Math.floor(s/a)),r=bu(l,u+a/2,a)}return r?e.bins=r:e.bins&&delete e.bins,e.type===QG&&(r?!t.domain&&!t.domainRaw&&(e.domain(r),n=r.length):e.bins=e.domain()),n}function A1t(e,t,n){var r=e.type,i=t.round||!1,o=t.range;if(t.rangeStep!=null)o=k1t(r,t,n);else if(t.scheme&&(o=I1t(r,t,n),jn(o))){if(e.interpolator)return e.interpolator(o);Je(`Scale type ${r} does not support interpolating color schemes.`)}if(o&&sCe(r))return e.interpolator(tO(o7(o,t.reverse),t.interpolate,t.interpolateGamma));o&&t.interpolate&&e.interpolate?e.interpolate(tY(t.interpolate,t.interpolateGamma)):jn(e.round)?e.round(i):jn(e.rangeRound)&&e.interpolate(i?yA:m0),o&&e.range(o7(o,t.reverse))}function k1t(e,t,n){e!==ZTe&&e!==V9&&Je("Only band and point scales support rangeStep.");var r=(t.paddingOuter!=null?t.paddingOuter:t.padding)||0,i=e===V9?1:(t.paddingInner!=null?t.paddingInner:t.padding)||0;return[0,t.rangeStep*KG(n,i,r)]}function I1t(e,t,n){var r=t.schemeExtent,i,o;return et(t.scheme)?o=tO(t.scheme,t.interpolate,t.interpolateGamma):(i=t.scheme.toLowerCase(),o=nY(i),o||Je(`Unrecognized scheme name: ${t.scheme}`)),n=e===eO?n+1:e===QG?n-1:e===Ow||e===ZN?+t.schemeCount||v1t:n,sCe(e)?iue(o,r,t.reverse):jn(o)?uCe(iue(o,r),n):e===XG?o:o.slice(0,n)}function iue(e,t,n){return jn(e)&&(t||n)?lCe(e,o7(t||[0,1],n)):e}function o7(e,t){return t?e.slice().reverse():e}function QAe(e){Ve.call(this,null,e)}Mt(QAe,Ve,{transform(e,t){const n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(rb(e.sort)),this.modified(n),t}});const oue="zero",JAe="center",ZAe="normalize",e2e=["y0","y1"];function UY(e){Ve.call(this,null,e)}UY.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:oue,values:[oue,JAe,ZAe]},{name:"as",type:"string",array:!0,length:2,default:e2e}]};Mt(UY,Ve,{transform(e,t){var n=e.as||e2e,r=n[0],i=n[1],o=rb(e.sort),s=e.field||Yx,a=e.offset===JAe?R1t:e.offset===ZAe?D1t:$1t,l,u,c,d;for(l=M1t(t.source,e.groupby,o,s),u=0,c=l.length,d=l.max;u<c;++u)a(l[u],d,s,r,i);return t.reflow(e.modified()).modifies(n)}});function R1t(e,t,n,r,i){for(var o=(t-e.sum)/2,s=e.length,a=0,l;a<s;++a)l=e[a],l[r]=o,l[i]=o+=Math.abs(n(l))}function D1t(e,t,n,r,i){for(var o=1/e.sum,s=0,a=e.length,l=0,u=0,c;l<a;++l)c=e[l],c[r]=s,c[i]=s=o*(u+=Math.abs(n(c)))}function $1t(e,t,n,r,i){for(var o=0,s=0,a=e.length,l=0,u,c;l<a;++l)c=e[l],u=+n(c),u<0?(c[r]=s,c[i]=s+=u):(c[r]=o,c[i]=o+=u)}function M1t(e,t,n,r){var i=[],o=m=>m(c),s,a,l,u,c,d,f,h,p;if(t==null)i.push(e.slice());else for(s={},a=0,l=e.length;a<l;++a)c=e[a],d=t.map(o),f=s[d],f||(s[d]=f=[],i.push(f)),f.push(c);for(d=0,p=0,u=i.length;d<u;++d){for(f=i[d],a=0,h=0,l=f.length;a<l;++a)h+=Math.abs(r(f[a]));f.sum=h,h>p&&(p=h),n&&f.sort(n)}return i.max=p,i}const P1t=Object.freeze(Object.defineProperty({__proto__:null,axisticks:zAe,datajoin:UAe,encode:HAe,legendentries:VAe,linkpath:jY,pie:zY,scale:KAe,sortitems:QAe,stack:UY},Symbol.toStringTag,{value:"Module"}));var wn=1e-6,s7=1e-12,Qn=Math.PI,Xi=Qn/2,j$=Qn/4,sl=Qn*2,fo=180/Qn,Wn=Qn/180,lr=Math.abs,l_=Math.atan,_c=Math.atan2,yn=Math.cos,n3=Math.ceil,t2e=Math.exp,a7=Math.hypot,z$=Math.log,U6=Math.pow,hn=Math.sin,lc=Math.sign||function(e){return e>0?1:e<0?-1:0},al=Math.sqrt,HY=Math.tan;function n2e(e){return e>1?0:e<-1?Qn:Math.acos(e)}function Wl(e){return e>1?Xi:e<-1?-Xi:Math.asin(e)}function Hs(){}function U$(e,t){e&&aue.hasOwnProperty(e.type)&&aue[e.type](e,t)}var sue={Feature:function(e,t){U$(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)U$(n[r].geometry,t)}},aue={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){l7(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)l7(n[r],t,0)},Polygon:function(e,t){lue(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)lue(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)U$(n[r],t)}};function l7(e,t,n){var r=-1,i=e.length-n,o;for(t.lineStart();++r<i;)o=e[r],t.point(o[0],o[1],o[2]);t.lineEnd()}function lue(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)l7(e[n],t,1);t.polygonEnd()}function Xh(e,t){e&&sue.hasOwnProperty(e.type)?sue[e.type](e,t):U$(e,t)}var H$=new il,V$=new il,r2e,i2e,u7,c7,d7,Qf={point:Hs,lineStart:Hs,lineEnd:Hs,polygonStart:function(){H$=new il,Qf.lineStart=N1t,Qf.lineEnd=O1t},polygonEnd:function(){var e=+H$;V$.add(e<0?sl+e:e),this.lineStart=this.lineEnd=this.point=Hs},sphere:function(){V$.add(sl)}};function N1t(){Qf.point=L1t}function O1t(){o2e(r2e,i2e)}function L1t(e,t){Qf.point=o2e,r2e=e,i2e=t,e*=Wn,t*=Wn,u7=e,c7=yn(t=t/2+j$),d7=hn(t)}function o2e(e,t){e*=Wn,t*=Wn,t=t/2+j$;var n=e-u7,r=n>=0?1:-1,i=r*n,o=yn(t),s=hn(t),a=d7*s,l=c7*o+a*yn(i),u=a*r*hn(i);H$.add(_c(u,l)),u7=e,c7=o,d7=s}function F1t(e){return V$=new il,Xh(e,Qf),V$*2}function W$(e){return[_c(e[1],e[0]),Wl(e[2])]}function fv(e){var t=e[0],n=e[1],r=yn(n);return[r*yn(t),r*hn(t),hn(n)]}function r3(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Uw(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function H6(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function i3(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function q$(e){var t=al(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var Oi,Dl,Wi,mu,py,s2e,a2e,rw,KS,zm,Bp,Vh={point:f7,lineStart:uue,lineEnd:cue,polygonStart:function(){Vh.point=u2e,Vh.lineStart=B1t,Vh.lineEnd=j1t,KS=new il,Qf.polygonStart()},polygonEnd:function(){Qf.polygonEnd(),Vh.point=f7,Vh.lineStart=uue,Vh.lineEnd=cue,H$<0?(Oi=-(Wi=180),Dl=-(mu=90)):KS>wn?mu=90:KS<-1e-6&&(Dl=-90),Bp[0]=Oi,Bp[1]=Wi},sphere:function(){Oi=-(Wi=180),Dl=-(mu=90)}};function f7(e,t){zm.push(Bp=[Oi=e,Wi=e]),t<Dl&&(Dl=t),t>mu&&(mu=t)}function l2e(e,t){var n=fv([e*Wn,t*Wn]);if(rw){var r=Uw(rw,n),i=[r[1],-r[0],0],o=Uw(i,r);q$(o),o=W$(o);var s=e-py,a=s>0?1:-1,l=o[0]*fo*a,u,c=lr(s)>180;c^(a*py<l&&l<a*e)?(u=o[1]*fo,u>mu&&(mu=u)):(l=(l+360)%360-180,c^(a*py<l&&l<a*e)?(u=-o[1]*fo,u<Dl&&(Dl=u)):(t<Dl&&(Dl=t),t>mu&&(mu=t))),c?e<py?pu(Oi,e)>pu(Oi,Wi)&&(Wi=e):pu(e,Wi)>pu(Oi,Wi)&&(Oi=e):Wi>=Oi?(e<Oi&&(Oi=e),e>Wi&&(Wi=e)):e>py?pu(Oi,e)>pu(Oi,Wi)&&(Wi=e):pu(e,Wi)>pu(Oi,Wi)&&(Oi=e)}else zm.push(Bp=[Oi=e,Wi=e]);t<Dl&&(Dl=t),t>mu&&(mu=t),rw=n,py=e}function uue(){Vh.point=l2e}function cue(){Bp[0]=Oi,Bp[1]=Wi,Vh.point=f7,rw=null}function u2e(e,t){if(rw){var n=e-py;KS.add(lr(n)>180?n+(n>0?360:-360):n)}else s2e=e,a2e=t;Qf.point(e,t),l2e(e,t)}function B1t(){Qf.lineStart()}function j1t(){u2e(s2e,a2e),Qf.lineEnd(),lr(KS)>wn&&(Oi=-(Wi=180)),Bp[0]=Oi,Bp[1]=Wi,rw=null}function pu(e,t){return(t-=e)<0?t+360:t}function z1t(e,t){return e[0]-t[0]}function due(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function U1t(e){var t,n,r,i,o,s,a;if(mu=Wi=-(Oi=Dl=1/0),zm=[],Xh(e,Vh),n=zm.length){for(zm.sort(z1t),t=1,r=zm[0],o=[r];t<n;++t)i=zm[t],due(r,i[0])||due(r,i[1])?(pu(r[0],i[1])>pu(r[0],r[1])&&(r[1]=i[1]),pu(i[0],r[1])>pu(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(s=-1/0,n=o.length-1,t=0,r=o[n];t<=n;r=i,++t)i=o[t],(a=pu(r[1],i[0]))>s&&(s=a,Oi=i[0],Wi=r[1])}return zm=Bp=null,Oi===1/0||Dl===1/0?[[NaN,NaN],[NaN,NaN]]:[[Oi,Dl],[Wi,mu]]}var fS,G$,Y$,K$,X$,Q$,J$,Z$,h7,p7,m7,c2e,d2e,Xa,Qa,Ja,dd={sphere:Hs,point:VY,lineStart:fue,lineEnd:hue,polygonStart:function(){dd.lineStart=W1t,dd.lineEnd=q1t},polygonEnd:function(){dd.lineStart=fue,dd.lineEnd=hue}};function VY(e,t){e*=Wn,t*=Wn;var n=yn(t);$A(n*yn(e),n*hn(e),hn(t))}function $A(e,t,n){++fS,Y$+=(e-Y$)/fS,K$+=(t-K$)/fS,X$+=(n-X$)/fS}function fue(){dd.point=H1t}function H1t(e,t){e*=Wn,t*=Wn;var n=yn(t);Xa=n*yn(e),Qa=n*hn(e),Ja=hn(t),dd.point=V1t,$A(Xa,Qa,Ja)}function V1t(e,t){e*=Wn,t*=Wn;var n=yn(t),r=n*yn(e),i=n*hn(e),o=hn(t),s=_c(al((s=Qa*o-Ja*i)*s+(s=Ja*r-Xa*o)*s+(s=Xa*i-Qa*r)*s),Xa*r+Qa*i+Ja*o);G$+=s,Q$+=s*(Xa+(Xa=r)),J$+=s*(Qa+(Qa=i)),Z$+=s*(Ja+(Ja=o)),$A(Xa,Qa,Ja)}function hue(){dd.point=VY}function W1t(){dd.point=G1t}function q1t(){f2e(c2e,d2e),dd.point=VY}function G1t(e,t){c2e=e,d2e=t,e*=Wn,t*=Wn,dd.point=f2e;var n=yn(t);Xa=n*yn(e),Qa=n*hn(e),Ja=hn(t),$A(Xa,Qa,Ja)}function f2e(e,t){e*=Wn,t*=Wn;var n=yn(t),r=n*yn(e),i=n*hn(e),o=hn(t),s=Qa*o-Ja*i,a=Ja*r-Xa*o,l=Xa*i-Qa*r,u=a7(s,a,l),c=Wl(u),d=u&&-c/u;h7.add(d*s),p7.add(d*a),m7.add(d*l),G$+=c,Q$+=c*(Xa+(Xa=r)),J$+=c*(Qa+(Qa=i)),Z$+=c*(Ja+(Ja=o)),$A(Xa,Qa,Ja)}function Y1t(e){fS=G$=Y$=K$=X$=Q$=J$=Z$=0,h7=new il,p7=new il,m7=new il,Xh(e,dd);var t=+h7,n=+p7,r=+m7,i=a7(t,n,r);return i<s7&&(t=Q$,n=J$,r=Z$,G$<wn&&(t=Y$,n=K$,r=X$),i=a7(t,n,r),i<s7)?[NaN,NaN]:[_c(n,t)*fo,Wl(r/i)*fo]}function g7(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function y7(e,t){return lr(e)>Qn&&(e-=Math.round(e/sl)*sl),[e,t]}y7.invert=y7;function h2e(e,t,n){return(e%=sl)?t||n?g7(mue(e),gue(t,n)):mue(e):t||n?gue(t,n):y7}function pue(e){return function(t,n){return t+=e,lr(t)>Qn&&(t-=Math.round(t/sl)*sl),[t,n]}}function mue(e){var t=pue(e);return t.invert=pue(-e),t}function gue(e,t){var n=yn(e),r=hn(e),i=yn(t),o=hn(t);function s(a,l){var u=yn(l),c=yn(a)*u,d=hn(a)*u,f=hn(l),h=f*n+c*r;return[_c(d*i-h*o,c*n-f*r),Wl(h*i+d*o)]}return s.invert=function(a,l){var u=yn(l),c=yn(a)*u,d=hn(a)*u,f=hn(l),h=f*i-d*o;return[_c(d*i+f*o,c*n+h*r),Wl(h*n-c*r)]},s}function K1t(e){e=h2e(e[0]*Wn,e[1]*Wn,e.length>2?e[2]*Wn:0);function t(n){return n=e(n[0]*Wn,n[1]*Wn),n[0]*=fo,n[1]*=fo,n}return t.invert=function(n){return n=e.invert(n[0]*Wn,n[1]*Wn),n[0]*=fo,n[1]*=fo,n},t}function X1t(e,t,n,r,i,o){if(n){var s=yn(t),a=hn(t),l=r*n;i==null?(i=t+r*sl,o=t-l/2):(i=yue(s,i),o=yue(s,o),(r>0?i<o:i>o)&&(i+=r*sl));for(var u,c=i;r>0?c>o:c<o;c-=l)u=W$([s,-a*yn(c),-a*hn(c)]),e.point(u[0],u[1])}}function yue(e,t){t=fv(t),t[0]-=e,q$(t);var n=n2e(-t[1]);return((-t[2]<0?-n:n)+sl-wn)%sl}function p2e(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:Hs,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function LR(e,t){return lr(e[0]-t[0])<wn&&lr(e[1]-t[1])<wn}function o3(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function m2e(e,t,n,r,i){var o=[],s=[],a,l;if(e.forEach(function(p){if(!((m=p.length-1)<=0)){var m,g=p[0],y=p[m],v;if(LR(g,y)){if(!g[2]&&!y[2]){for(i.lineStart(),a=0;a<m;++a)i.point((g=p[a])[0],g[1]);i.lineEnd();return}y[0]+=2*wn}o.push(v=new o3(g,p,null,!0)),s.push(v.o=new o3(g,null,v,!1)),o.push(v=new o3(y,p,null,!1)),s.push(v.o=new o3(y,null,v,!0))}}),!!o.length){for(s.sort(t),vue(o),vue(s),a=0,l=s.length;a<l;++a)s[a].e=n=!n;for(var u=o[0],c,d;;){for(var f=u,h=!0;f.v;)if((f=f.n)===u)return;c=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(h)for(a=0,l=c.length;a<l;++a)i.point((d=c[a])[0],d[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(h)for(c=f.p.z,a=c.length-1;a>=0;--a)i.point((d=c[a])[0],d[1]);else r(f.x,f.p.x,-1,i);f=f.p}f=f.o,c=f.z,h=!h}while(!f.v);i.lineEnd()}}}function vue(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function V6(e){return lr(e[0])<=Qn?e[0]:lc(e[0])*((lr(e[0])+Qn)%sl-Qn)}function Q1t(e,t){var n=V6(t),r=t[1],i=hn(r),o=[hn(n),-yn(n),0],s=0,a=0,l=new il;i===1?r=Xi+wn:i===-1&&(r=-Xi-wn);for(var u=0,c=e.length;u<c;++u)if(f=(d=e[u]).length)for(var d,f,h=d[f-1],p=V6(h),m=h[1]/2+j$,g=hn(m),y=yn(m),v=0;v<f;++v,p=E,g=x,y=S,h=w){var w=d[v],E=V6(w),_=w[1]/2+j$,x=hn(_),S=yn(_),C=E-p,A=C>=0?1:-1,k=A*C,N=k>Qn,M=g*x;if(l.add(_c(M*A*hn(k),y*S+M*yn(k))),s+=N?C+A*sl:C,N^p>=n^E>=n){var I=Uw(fv(h),fv(w));q$(I);var D=Uw(o,I);q$(D);var R=(N^C>=0?-1:1)*Wl(D[2]);(r>R||r===R&&(I[0]||I[1]))&&(a+=N^C>=0?1:-1)}}return(s<-1e-6||s<wn&&l<-1e-12)^a&1}function g2e(e,t,n,r){return function(i){var o=t(i),s=p2e(),a=t(s),l=!1,u,c,d,f={point:h,lineStart:m,lineEnd:g,polygonStart:function(){f.point=y,f.lineStart=v,f.lineEnd=w,c=[],u=[]},polygonEnd:function(){f.point=h,f.lineStart=m,f.lineEnd=g,c=sEe(c);var E=Q1t(u,r);c.length?(l||(i.polygonStart(),l=!0),m2e(c,Z1t,E,n,i)):E&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),c=u=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(E,_){e(E,_)&&i.point(E,_)}function p(E,_){o.point(E,_)}function m(){f.point=p,o.lineStart()}function g(){f.point=h,o.lineEnd()}function y(E,_){d.push([E,_]),a.point(E,_)}function v(){a.lineStart(),d=[]}function w(){y(d[0][0],d[0][1]),a.lineEnd();var E=a.clean(),_=s.result(),x,S=_.length,C,A,k;if(d.pop(),u.push(d),d=null,!!S){if(E&1){if(A=_[0],(C=A.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),x=0;x<C;++x)i.point((k=A[x])[0],k[1]);i.lineEnd()}return}S>1&&E&2&&_.push(_.pop().concat(_.shift())),c.push(_.filter(J1t))}}return f}}function J1t(e){return e.length>1}function Z1t(e,t){return((e=e.x)[0]<0?e[1]-Xi-wn:Xi-e[1])-((t=t.x)[0]<0?t[1]-Xi-wn:Xi-t[1])}const bue=g2e(function(){return!0},ewt,nwt,[-Qn,-Xi]);function ewt(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(o,s){var a=o>0?Qn:-Qn,l=lr(o-t);lr(l-Qn)<wn?(e.point(t,n=(n+s)/2>0?Xi:-Xi),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),e.point(o,n),i=0):r!==a&&l>=Qn&&(lr(t-r)<wn&&(t-=r*wn),lr(o-a)<wn&&(o-=a*wn),n=twt(t,n,o,s),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),i=0),e.point(t=o,n=s),r=a},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function twt(e,t,n,r){var i,o,s=hn(e-n);return lr(s)>wn?l_((hn(t)*(o=yn(r))*hn(n)-hn(r)*(i=yn(t))*hn(e))/(i*o*s)):(t+r)/2}function nwt(e,t,n,r){var i;if(e==null)i=n*Xi,r.point(-Qn,i),r.point(0,i),r.point(Qn,i),r.point(Qn,0),r.point(Qn,-i),r.point(0,-i),r.point(-Qn,-i),r.point(-Qn,0),r.point(-Qn,i);else if(lr(e[0]-t[0])>wn){var o=e[0]<t[0]?Qn:-Qn;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}function rwt(e){var t=yn(e),n=2*Wn,r=t>0,i=lr(t)>wn;function o(c,d,f,h){X1t(h,e,n,f,c,d)}function s(c,d){return yn(c)*yn(d)>t}function a(c){var d,f,h,p,m;return{lineStart:function(){p=h=!1,m=1},point:function(g,y){var v=[g,y],w,E=s(g,y),_=r?E?0:u(g,y):E?u(g+(g<0?Qn:-Qn),y):0;if(!d&&(p=h=E)&&c.lineStart(),E!==h&&(w=l(d,v),(!w||LR(d,w)||LR(v,w))&&(v[2]=1)),E!==h)m=0,E?(c.lineStart(),w=l(v,d),c.point(w[0],w[1])):(w=l(d,v),c.point(w[0],w[1],2),c.lineEnd()),d=w;else if(i&&d&&r^E){var x;!(_&f)&&(x=l(v,d,!0))&&(m=0,r?(c.lineStart(),c.point(x[0][0],x[0][1]),c.point(x[1][0],x[1][1]),c.lineEnd()):(c.point(x[1][0],x[1][1]),c.lineEnd(),c.lineStart(),c.point(x[0][0],x[0][1],3)))}E&&(!d||!LR(d,v))&&c.point(v[0],v[1]),d=v,h=E,f=_},lineEnd:function(){h&&c.lineEnd(),d=null},clean:function(){return m|(p&&h)<<1}}}function l(c,d,f){var h=fv(c),p=fv(d),m=[1,0,0],g=Uw(h,p),y=r3(g,g),v=g[0],w=y-v*v;if(!w)return!f&&c;var E=t*y/w,_=-t*v/w,x=Uw(m,g),S=i3(m,E),C=i3(g,_);H6(S,C);var A=x,k=r3(S,A),N=r3(A,A),M=k*k-N*(r3(S,S)-1);if(!(M<0)){var I=al(M),D=i3(A,(-k-I)/N);if(H6(D,S),D=W$(D),!f)return D;var R=c[0],O=d[0],B=c[1],z=d[1],W;O<R&&(W=R,R=O,O=W);var U=O-R,F=lr(U-Qn)<wn,Y=F||U<wn;if(!F&&z<B&&(W=B,B=z,z=W),Y?F?B+z>0^D[1]<(lr(D[0]-R)<wn?B:z):B<=D[1]&&D[1]<=z:U>Qn^(R<=D[0]&&D[0]<=O)){var V=i3(A,(-k+I)/N);return H6(V,S),[D,W$(V)]}}}function u(c,d){var f=r?e:Qn-e,h=0;return c<-f?h|=1:c>f&&(h|=2),d<-f?h|=4:d>f&&(h|=8),h}return g2e(s,a,o,r?[0,-e]:[-Qn,e-Qn])}function iwt(e,t,n,r,i,o){var s=e[0],a=e[1],l=t[0],u=t[1],c=0,d=1,f=l-s,h=u-a,p;if(p=n-s,!(!f&&p>0)){if(p/=f,f<0){if(p<c)return;p<d&&(d=p)}else if(f>0){if(p>d)return;p>c&&(c=p)}if(p=i-s,!(!f&&p<0)){if(p/=f,f<0){if(p>d)return;p>c&&(c=p)}else if(f>0){if(p<c)return;p<d&&(d=p)}if(p=r-a,!(!h&&p>0)){if(p/=h,h<0){if(p<c)return;p<d&&(d=p)}else if(h>0){if(p>d)return;p>c&&(c=p)}if(p=o-a,!(!h&&p<0)){if(p/=h,h<0){if(p>d)return;p>c&&(c=p)}else if(h>0){if(p<c)return;p<d&&(d=p)}return c>0&&(e[0]=s+c*f,e[1]=a+c*h),d<1&&(t[0]=s+d*f,t[1]=a+d*h),!0}}}}}var s3=1e9,a3=-1e9;function y2e(e,t,n,r){function i(u,c){return e<=u&&u<=n&&t<=c&&c<=r}function o(u,c,d,f){var h=0,p=0;if(u==null||(h=s(u,d))!==(p=s(c,d))||l(u,c)<0^d>0)do f.point(h===0||h===3?e:n,h>1?r:t);while((h=(h+d+4)%4)!==p);else f.point(c[0],c[1])}function s(u,c){return lr(u[0]-e)<wn?c>0?0:3:lr(u[0]-n)<wn?c>0?2:1:lr(u[1]-t)<wn?c>0?1:0:c>0?3:2}function a(u,c){return l(u.x,c.x)}function l(u,c){var d=s(u,1),f=s(c,1);return d!==f?d-f:d===0?c[1]-u[1]:d===1?u[0]-c[0]:d===2?u[1]-c[1]:c[0]-u[0]}return function(u){var c=u,d=p2e(),f,h,p,m,g,y,v,w,E,_,x,S={point:C,lineStart:M,lineEnd:I,polygonStart:k,polygonEnd:N};function C(R,O){i(R,O)&&c.point(R,O)}function A(){for(var R=0,O=0,B=h.length;O<B;++O)for(var z=h[O],W=1,U=z.length,F=z[0],Y,V,G=F[0],X=F[1];W<U;++W)Y=G,V=X,F=z[W],G=F[0],X=F[1],V<=r?X>r&&(G-Y)*(r-V)>(X-V)*(e-Y)&&++R:X<=r&&(G-Y)*(r-V)<(X-V)*(e-Y)&&--R;return R}function k(){c=d,f=[],h=[],x=!0}function N(){var R=A(),O=x&&R,B=(f=sEe(f)).length;(O||B)&&(u.polygonStart(),O&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),B&&m2e(f,a,R,o,u),u.polygonEnd()),c=u,f=h=p=null}function M(){S.point=D,h&&h.push(p=[]),_=!0,E=!1,v=w=NaN}function I(){f&&(D(m,g),y&&E&&d.rejoin(),f.push(d.result())),S.point=C,E&&c.lineEnd()}function D(R,O){var B=i(R,O);if(h&&p.push([R,O]),_)m=R,g=O,y=B,_=!1,B&&(c.lineStart(),c.point(R,O));else if(B&&E)c.point(R,O);else{var z=[v=Math.max(a3,Math.min(s3,v)),w=Math.max(a3,Math.min(s3,w))],W=[R=Math.max(a3,Math.min(s3,R)),O=Math.max(a3,Math.min(s3,O))];iwt(z,W,e,t,n,r)?(E||(c.lineStart(),c.point(z[0],z[1])),c.point(W[0],W[1]),B||c.lineEnd(),x=!1):B&&(c.lineStart(),c.point(R,O),x=!1)}v=R,w=O,E=B}return S}}function wue(e,t,n){var r=bu(e,t-wn,n).concat(t);return function(i){return r.map(function(o){return[i,o]})}}function xue(e,t,n){var r=bu(e,t-wn,n).concat(t);return function(i){return r.map(function(o){return[o,i]})}}function owt(){var e,t,n,r,i,o,s,a,l=10,u=l,c=90,d=360,f,h,p,m,g=2.5;function y(){return{type:"MultiLineString",coordinates:v()}}function v(){return bu(n3(r/c)*c,n,c).map(p).concat(bu(n3(a/d)*d,s,d).map(m)).concat(bu(n3(t/l)*l,e,l).filter(function(w){return lr(w%c)>wn}).map(f)).concat(bu(n3(o/u)*u,i,u).filter(function(w){return lr(w%d)>wn}).map(h))}return y.lines=function(){return v().map(function(w){return{type:"LineString",coordinates:w}})},y.outline=function(){return{type:"Polygon",coordinates:[p(r).concat(m(s).slice(1),p(n).reverse().slice(1),m(a).reverse().slice(1))]}},y.extent=function(w){return arguments.length?y.extentMajor(w).extentMinor(w):y.extentMinor()},y.extentMajor=function(w){return arguments.length?(r=+w[0][0],n=+w[1][0],a=+w[0][1],s=+w[1][1],r>n&&(w=r,r=n,n=w),a>s&&(w=a,a=s,s=w),y.precision(g)):[[r,a],[n,s]]},y.extentMinor=function(w){return arguments.length?(t=+w[0][0],e=+w[1][0],o=+w[0][1],i=+w[1][1],t>e&&(w=t,t=e,e=w),o>i&&(w=o,o=i,i=w),y.precision(g)):[[t,o],[e,i]]},y.step=function(w){return arguments.length?y.stepMajor(w).stepMinor(w):y.stepMinor()},y.stepMajor=function(w){return arguments.length?(c=+w[0],d=+w[1],y):[c,d]},y.stepMinor=function(w){return arguments.length?(l=+w[0],u=+w[1],y):[l,u]},y.precision=function(w){return arguments.length?(g=+w,f=wue(o,i,90),h=xue(t,e,g),p=wue(a,s,90),m=xue(r,n,g),y):g},y.extentMajor([[-180,-90+wn],[180,90-wn]]).extentMinor([[-180,-80-wn],[180,80+wn]])}const ZT=e=>e;var W6=new il,v7=new il,v2e,b2e,b7,w7,Qh={point:Hs,lineStart:Hs,lineEnd:Hs,polygonStart:function(){Qh.lineStart=swt,Qh.lineEnd=lwt},polygonEnd:function(){Qh.lineStart=Qh.lineEnd=Qh.point=Hs,W6.add(lr(v7)),v7=new il},result:function(){var e=W6/2;return W6=new il,e}};function swt(){Qh.point=awt}function awt(e,t){Qh.point=w2e,v2e=b7=e,b2e=w7=t}function w2e(e,t){v7.add(w7*e-b7*t),b7=e,w7=t}function lwt(){w2e(v2e,b2e)}var Hw=1/0,eM=Hw,eC=-Hw,tM=eC,nM={point:uwt,lineStart:Hs,lineEnd:Hs,polygonStart:Hs,polygonEnd:Hs,result:function(){var e=[[Hw,eM],[eC,tM]];return eC=tM=-(eM=Hw=1/0),e}};function uwt(e,t){e<Hw&&(Hw=e),e>eC&&(eC=e),t<eM&&(eM=t),t>tM&&(tM=t)}var x7=0,_7=0,hS=0,rM=0,iM=0,N1=0,E7=0,S7=0,pS=0,x2e,_2e,vf,bf,sc={point:hv,lineStart:_ue,lineEnd:Eue,polygonStart:function(){sc.lineStart=fwt,sc.lineEnd=hwt},polygonEnd:function(){sc.point=hv,sc.lineStart=_ue,sc.lineEnd=Eue},result:function(){var e=pS?[E7/pS,S7/pS]:N1?[rM/N1,iM/N1]:hS?[x7/hS,_7/hS]:[NaN,NaN];return x7=_7=hS=rM=iM=N1=E7=S7=pS=0,e}};function hv(e,t){x7+=e,_7+=t,++hS}function _ue(){sc.point=cwt}function cwt(e,t){sc.point=dwt,hv(vf=e,bf=t)}function dwt(e,t){var n=e-vf,r=t-bf,i=al(n*n+r*r);rM+=i*(vf+e)/2,iM+=i*(bf+t)/2,N1+=i,hv(vf=e,bf=t)}function Eue(){sc.point=hv}function fwt(){sc.point=pwt}function hwt(){E2e(x2e,_2e)}function pwt(e,t){sc.point=E2e,hv(x2e=vf=e,_2e=bf=t)}function E2e(e,t){var n=e-vf,r=t-bf,i=al(n*n+r*r);rM+=i*(vf+e)/2,iM+=i*(bf+t)/2,N1+=i,i=bf*e-vf*t,E7+=i*(vf+e),S7+=i*(bf+t),pS+=i*3,hv(vf=e,bf=t)}function S2e(e){this._context=e}S2e.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,sl);break}}},result:Hs};var T7=new il,q6,T2e,C2e,mS,gS,tC={point:Hs,lineStart:function(){tC.point=mwt},lineEnd:function(){q6&&A2e(T2e,C2e),tC.point=Hs},polygonStart:function(){q6=!0},polygonEnd:function(){q6=null},result:function(){var e=+T7;return T7=new il,e}};function mwt(e,t){tC.point=A2e,T2e=mS=e,C2e=gS=t}function A2e(e,t){mS-=e,gS-=t,T7.add(al(mS*mS+gS*gS)),mS=e,gS=t}let Sue,oM,Tue,Cue;class Aue{constructor(t){this._append=t==null?k2e:gwt(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==Tue||this._append!==oM){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Tue=r,oM=this._append,Cue=this._,this._=i}this._+=Cue;break}}}result(){const t=this._;return this._="",t.length?t:null}}function k2e(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function gwt(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return k2e;if(t!==Sue){const n=10**t;Sue=t,oM=function(i){let o=1;this._+=i[0];for(const s=i.length;o<s;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}return oM}function I2e(e,t){let n=3,r=4.5,i,o;function s(a){return a&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),Xh(a,i(o))),o.result()}return s.area=function(a){return Xh(a,i(Qh)),Qh.result()},s.measure=function(a){return Xh(a,i(tC)),tC.result()},s.bounds=function(a){return Xh(a,i(nM)),nM.result()},s.centroid=function(a){return Xh(a,i(sc)),sc.result()},s.projection=function(a){return arguments.length?(i=a==null?(e=null,ZT):(e=a).stream,s):e},s.context=function(a){return arguments.length?(o=a==null?(t=null,new Aue(n)):new S2e(t=a),typeof r!="function"&&o.pointRadius(r),s):t},s.pointRadius=function(a){return arguments.length?(r=typeof a=="function"?a:(o.pointRadius(+a),+a),s):r},s.digits=function(a){if(!arguments.length)return n;if(a==null)n=null;else{const l=Math.floor(a);if(!(l>=0))throw new RangeError(`invalid digits: ${a}`);n=l}return t===null&&(o=new Aue(n)),s},s.projection(e).digits(n).context(t)}function pO(e){return function(t){var n=new C7;for(var r in e)n[r]=e[r];return n.stream=t,n}}function C7(){}C7.prototype={constructor:C7,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function WY(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),Xh(n,e.stream(nM)),t(nM.result()),r!=null&&e.clipExtent(r),e}function mO(e,t,n){return WY(e,function(r){var i=t[1][0]-t[0][0],o=t[1][1]-t[0][1],s=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),a=+t[0][0]+(i-s*(r[1][0]+r[0][0]))/2,l=+t[0][1]+(o-s*(r[1][1]+r[0][1]))/2;e.scale(150*s).translate([a,l])},n)}function qY(e,t,n){return mO(e,[[0,0],t],n)}function GY(e,t,n){return WY(e,function(r){var i=+t,o=i/(r[1][0]-r[0][0]),s=(i-o*(r[1][0]+r[0][0]))/2,a=-o*r[0][1];e.scale(150*o).translate([s,a])},n)}function YY(e,t,n){return WY(e,function(r){var i=+t,o=i/(r[1][1]-r[0][1]),s=-o*r[0][0],a=(i-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([s,a])},n)}var kue=16,ywt=yn(30*Wn);function Iue(e,t){return+t?bwt(e,t):vwt(e)}function vwt(e){return pO({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function bwt(e,t){function n(r,i,o,s,a,l,u,c,d,f,h,p,m,g){var y=u-r,v=c-i,w=y*y+v*v;if(w>4*t&&m--){var E=s+f,_=a+h,x=l+p,S=al(E*E+_*_+x*x),C=Wl(x/=S),A=lr(lr(x)-1)<wn||lr(o-d)<wn?(o+d)/2:_c(_,E),k=e(A,C),N=k[0],M=k[1],I=N-r,D=M-i,R=v*I-y*D;(R*R/w>t||lr((y*I+v*D)/w-.5)>.3||s*f+a*h+l*p<ywt)&&(n(r,i,o,s,a,l,N,M,A,E/=S,_/=S,x,m,g),g.point(N,M),n(N,M,A,E,_,x,u,c,d,f,h,p,m,g))}}return function(r){var i,o,s,a,l,u,c,d,f,h,p,m,g={point:y,lineStart:v,lineEnd:E,polygonStart:function(){r.polygonStart(),g.lineStart=_},polygonEnd:function(){r.polygonEnd(),g.lineStart=v}};function y(C,A){C=e(C,A),r.point(C[0],C[1])}function v(){d=NaN,g.point=w,r.lineStart()}function w(C,A){var k=fv([C,A]),N=e(C,A);n(d,f,c,h,p,m,d=N[0],f=N[1],c=C,h=k[0],p=k[1],m=k[2],kue,r),r.point(d,f)}function E(){g.point=y,r.lineEnd()}function _(){v(),g.point=x,g.lineEnd=S}function x(C,A){w(i=C,A),o=d,s=f,a=h,l=p,u=m,g.point=w}function S(){n(d,f,c,h,p,m,o,s,i,a,l,u,kue,r),g.lineEnd=E,E()}return g}}var wwt=pO({point:function(e,t){this.stream.point(e*Wn,t*Wn)}});function xwt(e){return pO({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function _wt(e,t,n,r,i){function o(s,a){return s*=r,a*=i,[t+e*s,n-e*a]}return o.invert=function(s,a){return[(s-t)/e*r,(n-a)/e*i]},o}function Rue(e,t,n,r,i,o){if(!o)return _wt(e,t,n,r,i);var s=yn(o),a=hn(o),l=s*e,u=a*e,c=s/e,d=a/e,f=(a*n-s*t)/e,h=(a*t+s*n)/e;function p(m,g){return m*=r,g*=i,[l*m-u*g+t,n-u*m-l*g]}return p.invert=function(m,g){return[r*(c*m-d*g+f),i*(h-d*m-c*g)]},p}function ph(e){return R2e(function(){return e})()}function R2e(e){var t,n=150,r=480,i=250,o=0,s=0,a=0,l=0,u=0,c,d=0,f=1,h=1,p=null,m=bue,g=null,y,v,w,E=ZT,_=.5,x,S,C,A,k;function N(R){return C(R[0]*Wn,R[1]*Wn)}function M(R){return R=C.invert(R[0],R[1]),R&&[R[0]*fo,R[1]*fo]}N.stream=function(R){return A&&k===R?A:A=wwt(xwt(c)(m(x(E(k=R)))))},N.preclip=function(R){return arguments.length?(m=R,p=void 0,D()):m},N.postclip=function(R){return arguments.length?(E=R,g=y=v=w=null,D()):E},N.clipAngle=function(R){return arguments.length?(m=+R?rwt(p=R*Wn):(p=null,bue),D()):p*fo},N.clipExtent=function(R){return arguments.length?(E=R==null?(g=y=v=w=null,ZT):y2e(g=+R[0][0],y=+R[0][1],v=+R[1][0],w=+R[1][1]),D()):g==null?null:[[g,y],[v,w]]},N.scale=function(R){return arguments.length?(n=+R,I()):n},N.translate=function(R){return arguments.length?(r=+R[0],i=+R[1],I()):[r,i]},N.center=function(R){return arguments.length?(o=R[0]%360*Wn,s=R[1]%360*Wn,I()):[o*fo,s*fo]},N.rotate=function(R){return arguments.length?(a=R[0]%360*Wn,l=R[1]%360*Wn,u=R.length>2?R[2]%360*Wn:0,I()):[a*fo,l*fo,u*fo]},N.angle=function(R){return arguments.length?(d=R%360*Wn,I()):d*fo},N.reflectX=function(R){return arguments.length?(f=R?-1:1,I()):f<0},N.reflectY=function(R){return arguments.length?(h=R?-1:1,I()):h<0},N.precision=function(R){return arguments.length?(x=Iue(S,_=R*R),D()):al(_)},N.fitExtent=function(R,O){return mO(N,R,O)},N.fitSize=function(R,O){return qY(N,R,O)},N.fitWidth=function(R,O){return GY(N,R,O)},N.fitHeight=function(R,O){return YY(N,R,O)};function I(){var R=Rue(n,0,0,f,h,d).apply(null,t(o,s)),O=Rue(n,r-R[0],i-R[1],f,h,d);return c=h2e(a,l,u),S=g7(t,O),C=g7(c,S),x=Iue(S,_),D()}function D(){return A=k=null,N}return function(){return t=e.apply(this,arguments),N.invert=t.invert&&M,I()}}function KY(e){var t=0,n=Qn/3,r=R2e(e),i=r(t,n);return i.parallels=function(o){return arguments.length?r(t=o[0]*Wn,n=o[1]*Wn):[t*fo,n*fo]},i}function Ewt(e){var t=yn(e);function n(r,i){return[r*t,hn(i)/t]}return n.invert=function(r,i){return[r/t,Wl(i*t)]},n}function Swt(e,t){var n=hn(e),r=(n+hn(t))/2;if(lr(r)<wn)return Ewt(e);var i=1+n*(2*r-n),o=al(i)/r;function s(a,l){var u=al(i-2*r*hn(l))/r;return[u*hn(a*=r),o-u*yn(a)]}return s.invert=function(a,l){var u=o-l,c=_c(a,lr(u))*lc(u);return u*r<0&&(c-=Qn*lc(a)*lc(u)),[c/r,Wl((i-(a*a+u*u)*r*r)/(2*r))]},s}function sM(){return KY(Swt).scale(155.424).center([0,33.6442])}function D2e(){return sM().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Twt(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function Cwt(){var e,t,n=D2e(),r,i=sM().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,s=sM().rotate([157,0]).center([-3,19.9]).parallels([8,18]),a,l,u={point:function(f,h){l=[f,h]}};function c(f){var h=f[0],p=f[1];return l=null,r.point(h,p),l||(o.point(h,p),l)||(a.point(h,p),l)}c.invert=function(f){var h=n.scale(),p=n.translate(),m=(f[0]-p[0])/h,g=(f[1]-p[1])/h;return(g>=.12&&g<.234&&m>=-.425&&m<-.214?i:g>=.166&&g<.234&&m>=-.214&&m<-.115?s:n).invert(f)},c.stream=function(f){return e&&t===f?e:e=Twt([n.stream(t=f),i.stream(f),s.stream(f)])},c.precision=function(f){return arguments.length?(n.precision(f),i.precision(f),s.precision(f),d()):n.precision()},c.scale=function(f){return arguments.length?(n.scale(f),i.scale(f*.35),s.scale(f),c.translate(n.translate())):n.scale()},c.translate=function(f){if(!arguments.length)return n.translate();var h=n.scale(),p=+f[0],m=+f[1];return r=n.translate(f).clipExtent([[p-.455*h,m-.238*h],[p+.455*h,m+.238*h]]).stream(u),o=i.translate([p-.307*h,m+.201*h]).clipExtent([[p-.425*h+wn,m+.12*h+wn],[p-.214*h-wn,m+.234*h-wn]]).stream(u),a=s.translate([p-.205*h,m+.212*h]).clipExtent([[p-.214*h+wn,m+.166*h+wn],[p-.115*h-wn,m+.234*h-wn]]).stream(u),d()},c.fitExtent=function(f,h){return mO(c,f,h)},c.fitSize=function(f,h){return qY(c,f,h)},c.fitWidth=function(f,h){return GY(c,f,h)},c.fitHeight=function(f,h){return YY(c,f,h)};function d(){return e=t=null,c}return c.scale(1070)}function $2e(e){return function(t,n){var r=yn(t),i=yn(n),o=e(r*i);return o===1/0?[2,0]:[o*i*hn(t),o*hn(n)]}}function MA(e){return function(t,n){var r=al(t*t+n*n),i=e(r),o=hn(i),s=yn(i);return[_c(t*o,r*s),Wl(r&&n*o/r)]}}var M2e=$2e(function(e){return al(2/(1+e))});M2e.invert=MA(function(e){return 2*Wl(e/2)});function Awt(){return ph(M2e).scale(124.75).clipAngle(180-.001)}var P2e=$2e(function(e){return(e=n2e(e))&&e/hn(e)});P2e.invert=MA(function(e){return e});function kwt(){return ph(P2e).scale(79.4188).clipAngle(180-.001)}function gO(e,t){return[e,z$(HY((Xi+t)/2))]}gO.invert=function(e,t){return[e,2*l_(t2e(t))-Xi]};function Iwt(){return N2e(gO).scale(961/sl)}function N2e(e){var t=ph(e),n=t.center,r=t.scale,i=t.translate,o=t.clipExtent,s=null,a,l,u;t.scale=function(d){return arguments.length?(r(d),c()):r()},t.translate=function(d){return arguments.length?(i(d),c()):i()},t.center=function(d){return arguments.length?(n(d),c()):n()},t.clipExtent=function(d){return arguments.length?(d==null?s=a=l=u=null:(s=+d[0][0],a=+d[0][1],l=+d[1][0],u=+d[1][1]),c()):s==null?null:[[s,a],[l,u]]};function c(){var d=Qn*r(),f=t(K1t(t.rotate()).invert([0,0]));return o(s==null?[[f[0]-d,f[1]-d],[f[0]+d,f[1]+d]]:e===gO?[[Math.max(f[0]-d,s),a],[Math.min(f[0]+d,l),u]]:[[s,Math.max(f[1]-d,a)],[l,Math.min(f[1]+d,u)]])}return c()}function l3(e){return HY((Xi+e)/2)}function Rwt(e,t){var n=yn(e),r=e===t?hn(e):z$(n/yn(t))/z$(l3(t)/l3(e)),i=n*U6(l3(e),r)/r;if(!r)return gO;function o(s,a){i>0?a<-Xi+wn&&(a=-Xi+wn):a>Xi-wn&&(a=Xi-wn);var l=i/U6(l3(a),r);return[l*hn(r*s),i-l*yn(r*s)]}return o.invert=function(s,a){var l=i-a,u=lc(r)*al(s*s+l*l),c=_c(s,lr(l))*lc(l);return l*r<0&&(c-=Qn*lc(s)*lc(l)),[c/r,2*l_(U6(i/u,1/r))-Xi]},o}function Dwt(){return KY(Rwt).scale(109.5).parallels([30,30])}function aM(e,t){return[e,t]}aM.invert=aM;function $wt(){return ph(aM).scale(152.63)}function Mwt(e,t){var n=yn(e),r=e===t?hn(e):(n-yn(t))/(t-e),i=n/r+e;if(lr(r)<wn)return aM;function o(s,a){var l=i-a,u=r*s;return[l*hn(u),i-l*yn(u)]}return o.invert=function(s,a){var l=i-a,u=_c(s,lr(l))*lc(l);return l*r<0&&(u-=Qn*lc(s)*lc(l)),[u/r,i-lc(r)*al(s*s+l*l)]},o}function Pwt(){return KY(Mwt).scale(131.154).center([0,13.9389])}var XS=1.340264,QS=-.081106,JS=893e-6,ZS=.003796,lM=al(3)/2,Nwt=12;function O2e(e,t){var n=Wl(lM*hn(t)),r=n*n,i=r*r*r;return[e*yn(n)/(lM*(XS+3*QS*r+i*(7*JS+9*ZS*r))),n*(XS+QS*r+i*(JS+ZS*r))]}O2e.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,o=0,s,a,l;o<Nwt&&(a=n*(XS+QS*r+i*(JS+ZS*r))-t,l=XS+3*QS*r+i*(7*JS+9*ZS*r),n-=s=a/l,r=n*n,i=r*r*r,!(lr(s)<s7));++o);return[lM*e*(XS+3*QS*r+i*(7*JS+9*ZS*r))/yn(n),Wl(hn(n)/lM)]};function Owt(){return ph(O2e).scale(177.158)}function L2e(e,t){var n=yn(t),r=yn(e)*n;return[n*hn(e)/r,hn(t)/r]}L2e.invert=MA(l_);function Lwt(){return ph(L2e).scale(144.049).clipAngle(60)}function Fwt(){var e=1,t=0,n=0,r=1,i=1,o=0,s,a,l=null,u,c,d,f=1,h=1,p=pO({point:function(E,_){var x=w([E,_]);this.stream.point(x[0],x[1])}}),m=ZT,g,y;function v(){return f=e*r,h=e*i,g=y=null,w}function w(E){var _=E[0]*f,x=E[1]*h;if(o){var S=x*s-_*a;_=_*s+x*a,x=S}return[_+t,x+n]}return w.invert=function(E){var _=E[0]-t,x=E[1]-n;if(o){var S=x*s+_*a;_=_*s-x*a,x=S}return[_/f,x/h]},w.stream=function(E){return g&&y===E?g:g=p(m(y=E))},w.postclip=function(E){return arguments.length?(m=E,l=u=c=d=null,v()):m},w.clipExtent=function(E){return arguments.length?(m=E==null?(l=u=c=d=null,ZT):y2e(l=+E[0][0],u=+E[0][1],c=+E[1][0],d=+E[1][1]),v()):l==null?null:[[l,u],[c,d]]},w.scale=function(E){return arguments.length?(e=+E,v()):e},w.translate=function(E){return arguments.length?(t=+E[0],n=+E[1],v()):[t,n]},w.angle=function(E){return arguments.length?(o=E%360*Wn,a=hn(o),s=yn(o),v()):o*fo},w.reflectX=function(E){return arguments.length?(r=E?-1:1,v()):r<0},w.reflectY=function(E){return arguments.length?(i=E?-1:1,v()):i<0},w.fitExtent=function(E,_){return mO(w,E,_)},w.fitSize=function(E,_){return qY(w,E,_)},w.fitWidth=function(E,_){return GY(w,E,_)},w.fitHeight=function(E,_){return YY(w,E,_)},w}function F2e(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),t*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}F2e.invert=function(e,t){var n=t,r=25,i;do{var o=n*n,s=o*o;n-=i=(n*(1.007226+o*(.015085+s*(-.044475+.028874*o-.005916*s)))-t)/(1.007226+o*(.015085*3+s*(-.044475*7+.028874*9*o-.005916*11*s)))}while(lr(i)>wn&&--r>0);return[e/(.8707+(o=n*n)*(-.131979+o*(-.013791+o*o*o*(.003971-.001529*o)))),n]};function Bwt(){return ph(F2e).scale(175.295)}function B2e(e,t){return[yn(t)*hn(e),hn(t)]}B2e.invert=MA(Wl);function jwt(){return ph(B2e).scale(249.5).clipAngle(90+wn)}function j2e(e,t){var n=yn(t),r=1+yn(e)*n;return[n*hn(e)/r,hn(t)/r]}j2e.invert=MA(function(e){return 2*l_(e)});function zwt(){return ph(j2e).scale(250).clipAngle(142)}function z2e(e,t){return[z$(HY((Xi+t)/2)),-e]}z2e.invert=function(e,t){return[-t,2*l_(t2e(e))-Xi]};function Uwt(){var e=N2e(z2e),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}var Hwt=Math.abs,A7=Math.cos,uM=Math.sin,Vwt=1e-6,U2e=Math.PI,k7=U2e/2,Due=Wwt(2);function $ue(e){return e>1?k7:e<-1?-k7:Math.asin(e)}function Wwt(e){return e>0?Math.sqrt(e):0}function qwt(e,t){var n=e*uM(t),r=30,i;do t-=i=(t+uM(t)-n)/(1+A7(t));while(Hwt(i)>Vwt&&--r>0);return t/2}function Gwt(e,t,n){function r(i,o){return[e*i*A7(o=qwt(n,o)),t*uM(o)]}return r.invert=function(i,o){return o=$ue(o/t),[i/(e*A7(o)),$ue((2*o+uM(2*o))/n)]},r}var Ywt=Gwt(Due/k7,Due,U2e);function Kwt(){return ph(Ywt).scale(169.529)}const Xwt=I2e(),I7=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function Qwt(e,t){return function n(){const r=t();return r.type=e,r.path=I2e().projection(r),r.copy=r.copy||function(){const i=n();return I7.forEach(o=>{r[o]&&i[o](r[o]())}),i.path.pointRadius(r.path.pointRadius()),i},rCe(r)}}function XY(e,t){if(!e||typeof e!="string")throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(cM[e]=Qwt(e,t),this):cM[e]||null}function H2e(e){return e&&e.path||Xwt}const cM={albers:D2e,albersusa:Cwt,azimuthalequalarea:Awt,azimuthalequidistant:kwt,conicconformal:Dwt,conicequalarea:sM,conicequidistant:Pwt,equalEarth:Owt,equirectangular:$wt,gnomonic:Lwt,identity:Fwt,mercator:Iwt,mollweide:Kwt,naturalEarth1:Bwt,orthographic:jwt,stereographic:zwt,transversemercator:Uwt};for(const e in cM)XY(e,cM[e]);function Jwt(){}const Oh=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function V2e(){var e=1,t=1,n=a;function r(l,u){return u.map(c=>i(l,c))}function i(l,u){var c=[],d=[];return o(l,u,f=>{n(f,l,u),Zwt(f)>0?c.push([f]):d.push(f)}),d.forEach(f=>{for(var h=0,p=c.length,m;h<p;++h)if(ext((m=c[h])[0],f)!==-1){m.push(f);return}}),{type:"MultiPolygon",value:u,coordinates:c}}function o(l,u,c){var d=[],f=[],h,p,m,g,y,v;for(h=p=-1,g=l[0]>=u,Oh[g<<1].forEach(w);++h<e-1;)m=g,g=l[h+1]>=u,Oh[m|g<<1].forEach(w);for(Oh[g<<0].forEach(w);++p<t-1;){for(h=-1,g=l[p*e+e]>=u,y=l[p*e]>=u,Oh[g<<1|y<<2].forEach(w);++h<e-1;)m=g,g=l[p*e+e+h+1]>=u,v=y,y=l[p*e+h+1]>=u,Oh[m|g<<1|y<<2|v<<3].forEach(w);Oh[g|y<<3].forEach(w)}for(h=-1,y=l[p*e]>=u,Oh[y<<2].forEach(w);++h<e-1;)v=y,y=l[p*e+h+1]>=u,Oh[y<<2|v<<3].forEach(w);Oh[y<<3].forEach(w);function w(E){var _=[E[0][0]+h,E[0][1]+p],x=[E[1][0]+h,E[1][1]+p],S=s(_),C=s(x),A,k;(A=f[S])?(k=d[C])?(delete f[A.end],delete d[k.start],A===k?(A.ring.push(x),c(A.ring)):d[A.start]=f[k.end]={start:A.start,end:k.end,ring:A.ring.concat(k.ring)}):(delete f[A.end],A.ring.push(x),f[A.end=C]=A):(A=d[C])?(k=f[S])?(delete d[A.start],delete f[k.end],A===k?(A.ring.push(x),c(A.ring)):d[k.start]=f[A.end]={start:k.start,end:A.end,ring:k.ring.concat(A.ring)}):(delete d[A.start],A.ring.unshift(_),d[A.start=S]=A):d[S]=f[C]={start:S,end:C,ring:[_,x]}}}function s(l){return l[0]*2+l[1]*(e+1)*4}function a(l,u,c){l.forEach(d=>{var f=d[0],h=d[1],p=f|0,m=h|0,g,y=u[m*e+p];f>0&&f<e&&p===f&&(g=u[m*e+p-1],d[0]=f+(c-g)/(y-g)-.5),h>0&&h<t&&m===h&&(g=u[(m-1)*e+p],d[1]=h+(c-g)/(y-g)-.5)})}return r.contour=i,r.size=function(l){if(!arguments.length)return[e,t];var u=Math.floor(l[0]),c=Math.floor(l[1]);return u>=0&&c>=0||Je("invalid size"),e=u,t=c,r},r.smooth=function(l){return arguments.length?(n=l?a:Jwt,r):n===a},r}function Zwt(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}function ext(e,t){for(var n=-1,r=t.length,i;++n<r;)if(i=txt(e,t[n]))return i;return 0}function txt(e,t){for(var n=t[0],r=t[1],i=-1,o=0,s=e.length,a=s-1;o<s;a=o++){var l=e[o],u=l[0],c=l[1],d=e[a],f=d[0],h=d[1];if(nxt(l,d,t))return 0;c>r!=h>r&&n<(f-u)*(r-c)/(h-c)+u&&(i=-i)}return i}function nxt(e,t,n){var r;return rxt(e,t,n)&&ixt(e[r=+(e[0]===t[0])],n[r],t[r])}function rxt(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}function ixt(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}function W2e(e,t,n){return function(r){var i=Gf(r),o=n?Math.min(i[0],0):i[0],s=i[1],a=s-o,l=t?Bg(o,s,e):a/(e+1);return bu(o+l,s,l)}}function QY(e){Ve.call(this,null,e)}QY.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]};Mt(QY,Ve,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=e.field||Ma,o=V2e().smooth(e.smooth!==!1),s=e.thresholds||oxt(r,i,e),a=e.as===null?null:e.as||"contour",l=[];return r.forEach(u=>{const c=i(u),d=o.size([c.width,c.height])(c.values,et(s)?s:s(c.values));sxt(d,c,u,e),d.forEach(f=>{l.push($N(u,Ir(a!=null?{[a]:f}:f)))})}),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});function oxt(e,t,n){const r=W2e(n.levels||10,n.nice,n.zero!==!1);return n.resolve!=="shared"?r:r(e.map(i=>Fy(t(i).values)))}function sxt(e,t,n,r){let i=r.scale||t.scale,o=r.translate||t.translate;if(jn(i)&&(i=i(n,r)),jn(o)&&(o=o(n,r)),(i===1||i==null)&&!o)return;const s=(Sr(i)?i:i[0])||1,a=(Sr(i)?i:i[1])||1,l=o&&o[0]||0,u=o&&o[1]||0;e.forEach(q2e(t,s,a,l,u))}function q2e(e,t,n,r,i){const o=e.x1||0,s=e.y1||0,a=t*n<0;function l(d){d.forEach(u)}function u(d){a&&d.reverse(),d.forEach(c)}function c(d){d[0]=(d[0]-o)*t+r,d[1]=(d[1]-s)*n+i}return function(d){return d.coordinates.forEach(l),d}}function Mue(e,t,n){const r=e>=0?e:Uq(t,n);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function G6(e){return jn(e)?e:Pa(+e)}function G2e(){var e=l=>l[0],t=l=>l[1],n=Yx,r=[-1,-1],i=960,o=500,s=2;function a(l,u){const c=Mue(r[0],l,e)>>s,d=Mue(r[1],l,t)>>s,f=c?c+2:0,h=d?d+2:0,p=2*f+(i>>s),m=2*h+(o>>s),g=new Float32Array(p*m),y=new Float32Array(p*m);let v=g;l.forEach(E=>{const _=f+(+e(E)>>s),x=h+(+t(E)>>s);_>=0&&_<p&&x>=0&&x<m&&(g[_+x*p]+=+n(E))}),c>0&&d>0?(a1(p,m,g,y,c),l1(p,m,y,g,d),a1(p,m,g,y,c),l1(p,m,y,g,d),a1(p,m,g,y,c),l1(p,m,y,g,d)):c>0?(a1(p,m,g,y,c),a1(p,m,y,g,c),a1(p,m,g,y,c),v=y):d>0&&(l1(p,m,g,y,d),l1(p,m,y,g,d),l1(p,m,g,y,d),v=y);const w=u?Math.pow(2,-2*s):1/aEe(v);for(let E=0,_=p*m;E<_;++E)v[E]*=w;return{values:v,scale:1<<s,width:p,height:m,x1:f,y1:h,x2:f+(i>>s),y2:h+(o>>s)}}return a.x=function(l){return arguments.length?(e=G6(l),a):e},a.y=function(l){return arguments.length?(t=G6(l),a):t},a.weight=function(l){return arguments.length?(n=G6(l),a):n},a.size=function(l){if(!arguments.length)return[i,o];var u=+l[0],c=+l[1];return u>=0&&c>=0||Je("invalid size"),i=u,o=c,a},a.cellSize=function(l){return arguments.length?((l=+l)>=1||Je("invalid cell size"),s=Math.floor(Math.log(l)/Math.LN2),a):1<<s},a.bandwidth=function(l){return arguments.length?(l=jt(l),l.length===1&&(l=[+l[0],+l[0]]),l.length!==2&&Je("invalid bandwidth"),r=l,a):r},a}function a1(e,t,n,r,i){const o=(i<<1)+1;for(let s=0;s<t;++s)for(let a=0,l=0;a<e+i;++a)a<e&&(l+=n[a+s*e]),a>=i&&(a>=o&&(l-=n[a-o+s*e]),r[a-i+s*e]=l/Math.min(a+1,e-1+o-a,o))}function l1(e,t,n,r,i){const o=(i<<1)+1;for(let s=0;s<e;++s)for(let a=0,l=0;a<t+i;++a)a<t&&(l+=n[s+a*e]),a>=i&&(a>=o&&(l-=n[s+(a-o)*e]),r[s+(a-i)*e]=l/Math.min(a+1,t-1+o-a,o))}function JY(e){Ve.call(this,null,e)}JY.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};const axt=["x","y","weight","size","cellSize","bandwidth"];function Y2e(e,t){return axt.forEach(n=>t[n]!=null?e[n](t[n]):0),e}Mt(JY,Ve,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=lxt(r,e.groupby),o=(e.groupby||[]).map(Qi),s=Y2e(G2e(),e),a=e.as||"grid",l=[];function u(c,d){for(let f=0;f<o.length;++f)c[o[f]]=d[f];return c}return l=i.map(c=>Ir(u({[a]:s(c,e.counts)},c.dims))),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});function lxt(e,t){var n=[],r=c=>c(a),i,o,s,a,l,u;if(t==null)n.push(e);else for(i={},o=0,s=e.length;o<s;++o)a=e[o],l=t.map(r),u=i[l],u||(i[l]=u=[],u.dims=l,n.push(u)),u.push(a);return n}function ZY(e){Ve.call(this,null,e)}ZY.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]};Mt(ZY,Ve,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=V2e().smooth(e.smooth!==!1),i=e.values,o=e.thresholds||W2e(e.count||10,e.nice,!!i),s=e.size,a,l;return i||(i=t.materialize(t.SOURCE).source,a=Y2e(G2e(),e)(i,!0),l=q2e(a,a.scale||1,a.scale||1,0,0),s=[a.width,a.height],i=a.values),o=et(o)?o:o(i),i=r.size(s)(i,o),l&&i.forEach(l),this.value&&(n.rem=this.value),this.value=n.source=n.add=(i||[]).map(Ir),n}});const R7="Feature",eK="FeatureCollection",uxt="MultiPoint";function tK(e){Ve.call(this,null,e)}tK.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};Mt(tK,Ve,{transform(e,t){var n=this._features,r=this._points,i=e.fields,o=i&&i[0],s=i&&i[1],a=e.geojson||!i&&Ma,l=t.ADD,u;u=e.modified()||t.changed(t.REM)||t.modified(Ta(a))||o&&t.modified(Ta(o))||s&&t.modified(Ta(s)),(!this.value||u)&&(l=t.SOURCE,this._features=n=[],this._points=r=[]),a&&t.visit(l,c=>n.push(a(c))),o&&s&&(t.visit(l,c=>{var d=o(c),f=s(c);d!=null&&f!=null&&(d=+d)===d&&(f=+f)===f&&r.push([d,f])}),n=n.concat({type:R7,geometry:{type:uxt,coordinates:r}})),this.value={type:eK,features:n}}});function nK(e){Ve.call(this,null,e)}nK.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]};Mt(nK,Ve,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.field||Ma,o=e.as||"path",s=n.SOURCE;!r||e.modified()?(this.value=r=H2e(e.projection),n.materialize().reflow()):s=i===Ma||t.modified(i.fields)?n.ADD_MOD:n.ADD;const a=cxt(r,e.pointRadius);return n.visit(s,l=>l[o]=r(i(l))),r.pointRadius(a),n.modifies(o)}});function cxt(e,t){const n=e.pointRadius();return e.context(null),t!=null&&e.pointRadius(t),n}function rK(e){Ve.call(this,null,e)}rK.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]};Mt(rK,Ve,{transform(e,t){var n=e.projection,r=e.fields[0],i=e.fields[1],o=e.as||["x","y"],s=o[0],a=o[1],l;function u(c){const d=n([r(c),i(c)]);d?(c[s]=d[0],c[a]=d[1]):(c[s]=void 0,c[a]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,u):(l=t.modified(r.fields)||t.modified(i.fields),t.visit(l?t.ADD_MOD:t.ADD,u)),t.modifies(o)}});function iK(e){Ve.call(this,null,e)}iK.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]};Mt(iK,Ve,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.as||"shape",o=n.ADD;return(!r||e.modified())&&(this.value=r=dxt(H2e(e.projection),e.field||vc("datum"),e.pointRadius),n.materialize().reflow(),o=n.SOURCE),n.visit(o,s=>s[i]=r),n.modifies(i)}});function dxt(e,t,n){const r=n==null?i=>e(t(i)):i=>{var o=e.pointRadius(),s=e.pointRadius(n)(t(i));return e.pointRadius(o),s};return r.context=i=>(e.context(i),r),r}function oK(e){Ve.call(this,[],e),this.generator=owt()}oK.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]};Mt(oK,Ve,{transform(e,t){var n=this.value,r=this.generator,i;if(!n.length||e.modified())for(const o in e)jn(r[o])&&r[o](e[o]);return i=r(),n.length?t.mod.push(nSe(n[0],i)):t.add.push(Ir(i)),n[0]=i,t}});function sK(e){Ve.call(this,null,e)}sK.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]};Mt(sK,Ve,{transform(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var n=t.materialize(t.SOURCE).source,r=e.resolve==="shared",i=e.field||Ma,o=hxt(e.opacity,e),s=fxt(e.color,e),a=e.as||"image",l={$x:0,$y:0,$value:0,$max:r?Fy(n.map(u=>Fy(i(u).values))):0};return n.forEach(u=>{const c=i(u),d=Bn({},u,l);r||(d.$max=Fy(c.values||[])),u[a]=pxt(c,d,s.dep?s:Pa(s(d)),o.dep?o:Pa(o(d)))}),t.reflow(!0).modifies(a)}});function fxt(e,t){let n;return jn(e)?(n=r=>Ug(e(r,t)),n.dep=K2e(e)):n=Pa(Ug(e||"#888")),n}function hxt(e,t){let n;return jn(e)?(n=r=>e(r,t),n.dep=K2e(e)):e?n=Pa(e):(n=r=>r.$value/r.$max||0,n.dep=!0),n}function K2e(e){if(!jn(e))return!1;const t=Sd(Ta(e));return t.$x||t.$y||t.$value||t.$max}function pxt(e,t,n,r){const i=e.width,o=e.height,s=e.x1||0,a=e.y1||0,l=e.x2||i,u=e.y2||o,c=e.values,d=c?g=>c[g]:Qm,f=xg(l-s,u-a),h=f.getContext("2d"),p=h.getImageData(0,0,l-s,u-a),m=p.data;for(let g=a,y=0;g<u;++g){t.$y=g-a;for(let v=s,w=g*i;v<l;++v,y+=4){t.$x=v-s,t.$value=d(v+w);const E=n(t);m[y+0]=E.r,m[y+1]=E.g,m[y+2]=E.b,m[y+3]=~~(255*r(t))}}return h.putImageData(p,0,0),f}function X2e(e){Ve.call(this,null,e),this.modified(!0)}Mt(X2e,Ve,{transform(e,t){let n=this.value;return!n||e.modified("type")?(this.value=n=gxt(e.type),I7.forEach(r=>{e[r]!=null&&Pue(n,r,e[r])})):I7.forEach(r=>{e.modified(r)&&Pue(n,r,e[r])}),e.pointRadius!=null&&n.path.pointRadius(e.pointRadius),e.fit&&mxt(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function mxt(e,t){const n=yxt(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}function gxt(e){const t=XY((e||"mercator").toLowerCase());return t||Je("Unrecognized projection type: "+e),t()}function Pue(e,t,n){jn(e[t])&&e[t](n)}function yxt(e){return e=jt(e),e.length===1?e[0]:{type:eK,features:e.reduce((t,n)=>t.concat(vxt(n)),[])}}function vxt(e){return e.type===eK?e.features:jt(e).filter(t=>t!=null).map(t=>t.type===R7?t:{type:R7,geometry:t})}const bxt=Object.freeze(Object.defineProperty({__proto__:null,contour:ZY,geojson:tK,geopath:nK,geopoint:rK,geoshape:iK,graticule:oK,heatmap:sK,isocontour:QY,kde2d:JY,projection:X2e},Symbol.toStringTag,{value:"Module"}));function wxt(e,t){var n,r=1;e==null&&(e=0),t==null&&(t=0);function i(){var o,s=n.length,a,l=0,u=0;for(o=0;o<s;++o)a=n[o],l+=a.x,u+=a.y;for(l=(l/s-e)*r,u=(u/s-t)*r,o=0;o<s;++o)a=n[o],a.x-=l,a.y-=u}return i.initialize=function(o){n=o},i.x=function(o){return arguments.length?(e=+o,i):e},i.y=function(o){return arguments.length?(t=+o,i):t},i.strength=function(o){return arguments.length?(r=+o,i):r},i}function xxt(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return Q2e(this.cover(t,n),t,n,e)}function Q2e(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o=e._root,s={data:r},a=e._x0,l=e._y0,u=e._x1,c=e._y1,d,f,h,p,m,g,y,v;if(!o)return e._root=s,e;for(;o.length;)if((m=t>=(d=(a+u)/2))?a=d:u=d,(g=n>=(f=(l+c)/2))?l=f:c=f,i=o,!(o=o[y=g<<1|m]))return i[y]=s,e;if(h=+e._x.call(null,o.data),p=+e._y.call(null,o.data),t===h&&n===p)return s.next=o,i?i[y]=s:e._root=s,e;do i=i?i[y]=new Array(4):e._root=new Array(4),(m=t>=(d=(a+u)/2))?a=d:u=d,(g=n>=(f=(l+c)/2))?l=f:c=f;while((y=g<<1|m)===(v=(p>=f)<<1|h>=d));return i[v]=o,i[y]=s,e}function _xt(e){var t,n,r=e.length,i,o,s=new Array(r),a=new Array(r),l=1/0,u=1/0,c=-1/0,d=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(o=+this._y.call(null,t))||(s[n]=i,a[n]=o,i<l&&(l=i),i>c&&(c=i),o<u&&(u=o),o>d&&(d=o));if(l>c||u>d)return this;for(this.cover(l,u).cover(c,d),n=0;n<r;++n)Q2e(this,s[n],a[n],e[n]);return this}function Ext(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var s=i-n||1,a=this._root,l,u;n>e||e>=i||r>t||t>=o;)switch(u=(t<r)<<1|e<n,l=new Array(4),l[u]=a,a=l,s*=2,u){case 0:i=n+s,o=r+s;break;case 1:n=i-s,o=r+s;break;case 2:i=n+s,r=o-s;break;case 3:n=i-s,r=o-s;break}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this}function Sxt(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function Txt(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Za(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function Cxt(e,t,n){var r,i=this._x0,o=this._y0,s,a,l,u,c=this._x1,d=this._y1,f=[],h=this._root,p,m;for(h&&f.push(new Za(h,i,o,c,d)),n==null?n=1/0:(i=e-n,o=t-n,c=e+n,d=t+n,n*=n);p=f.pop();)if(!(!(h=p.node)||(s=p.x0)>c||(a=p.y0)>d||(l=p.x1)<i||(u=p.y1)<o))if(h.length){var g=(s+l)/2,y=(a+u)/2;f.push(new Za(h[3],g,y,l,u),new Za(h[2],s,y,g,u),new Za(h[1],g,a,l,y),new Za(h[0],s,a,g,y)),(m=(t>=y)<<1|e>=g)&&(p=f[f.length-1],f[f.length-1]=f[f.length-1-m],f[f.length-1-m]=p)}else{var v=e-+this._x.call(null,h.data),w=t-+this._y.call(null,h.data),E=v*v+w*w;if(E<n){var _=Math.sqrt(n=E);i=e-_,o=t-_,c=e+_,d=t+_,r=h.data}}return r}function Axt(e){if(isNaN(c=+this._x.call(null,e))||isNaN(d=+this._y.call(null,e)))return this;var t,n=this._root,r,i,o,s=this._x0,a=this._y0,l=this._x1,u=this._y1,c,d,f,h,p,m,g,y;if(!n)return this;if(n.length)for(;;){if((p=c>=(f=(s+l)/2))?s=f:l=f,(m=d>=(h=(a+u)/2))?a=h:u=h,t=n,!(n=n[g=m<<1|p]))return this;if(!n.length)break;(t[g+1&3]||t[g+2&3]||t[g+3&3])&&(r=t,y=g)}for(;n.data!==e;)if(i=n,!(n=n.next))return this;return(o=n.next)&&delete n.next,i?(o?i.next=o:delete i.next,this):t?(o?t[g]=o:delete t[g],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[y]=n:this._root=n),this):(this._root=o,this)}function kxt(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function Ixt(){return this._root}function Rxt(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function Dxt(e){var t=[],n,r=this._root,i,o,s,a,l;for(r&&t.push(new Za(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,o=n.x0,s=n.y0,a=n.x1,l=n.y1)&&r.length){var u=(o+a)/2,c=(s+l)/2;(i=r[3])&&t.push(new Za(i,u,c,a,l)),(i=r[2])&&t.push(new Za(i,o,c,u,l)),(i=r[1])&&t.push(new Za(i,u,s,a,c)),(i=r[0])&&t.push(new Za(i,o,s,u,c))}return this}function $xt(e){var t=[],n=[],r;for(this._root&&t.push(new Za(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var i=r.node;if(i.length){var o,s=r.x0,a=r.y0,l=r.x1,u=r.y1,c=(s+l)/2,d=(a+u)/2;(o=i[0])&&t.push(new Za(o,s,a,c,d)),(o=i[1])&&t.push(new Za(o,c,a,l,d)),(o=i[2])&&t.push(new Za(o,s,d,c,u)),(o=i[3])&&t.push(new Za(o,c,d,l,u))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function Mxt(e){return e[0]}function Pxt(e){return arguments.length?(this._x=e,this):this._x}function Nxt(e){return e[1]}function Oxt(e){return arguments.length?(this._y=e,this):this._y}function aK(e,t,n){var r=new lK(t??Mxt,n??Nxt,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function lK(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Nue(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var dl=aK.prototype=lK.prototype;dl.copy=function(){var e=new lK(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=Nue(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var i=0;i<4;++i)(r=t.source[i])&&(r.length?n.push({source:r,target:t.target[i]=new Array(4)}):t.target[i]=Nue(r));return e};dl.add=xxt;dl.addAll=_xt;dl.cover=Ext;dl.data=Sxt;dl.extent=Txt;dl.find=Cxt;dl.remove=Axt;dl.removeAll=kxt;dl.root=Ixt;dl.size=Rxt;dl.visit=Dxt;dl.visitAfter=$xt;dl.x=Pxt;dl.y=Oxt;function tl(e){return function(){return e}}function ag(e){return(e()-.5)*1e-6}function Lxt(e){return e.x+e.vx}function Fxt(e){return e.y+e.vy}function Bxt(e){var t,n,r,i=1,o=1;typeof e!="function"&&(e=tl(e==null?1:+e));function s(){for(var u,c=t.length,d,f,h,p,m,g,y=0;y<o;++y)for(d=aK(t,Lxt,Fxt).visitAfter(a),u=0;u<c;++u)f=t[u],m=n[f.index],g=m*m,h=f.x+f.vx,p=f.y+f.vy,d.visit(v);function v(w,E,_,x,S){var C=w.data,A=w.r,k=m+A;if(C){if(C.index>f.index){var N=h-C.x-C.vx,M=p-C.y-C.vy,I=N*N+M*M;I<k*k&&(N===0&&(N=ag(r),I+=N*N),M===0&&(M=ag(r),I+=M*M),I=(k-(I=Math.sqrt(I)))/I*i,f.vx+=(N*=I)*(k=(A*=A)/(g+A)),f.vy+=(M*=I)*k,C.vx-=N*(k=1-k),C.vy-=M*k)}return}return E>h+k||x<h-k||_>p+k||S<p-k}}function a(u){if(u.data)return u.r=n[u.data.index];for(var c=u.r=0;c<4;++c)u[c]&&u[c].r>u.r&&(u.r=u[c].r)}function l(){if(t){var u,c=t.length,d;for(n=new Array(c),u=0;u<c;++u)d=t[u],n[d.index]=+e(d,u,t)}}return s.initialize=function(u,c){t=u,r=c,l()},s.iterations=function(u){return arguments.length?(o=+u,s):o},s.strength=function(u){return arguments.length?(i=+u,s):i},s.radius=function(u){return arguments.length?(e=typeof u=="function"?u:tl(+u),l(),s):e},s}function jxt(e){return e.index}function Oue(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function zxt(e){var t=jxt,n=d,r,i=tl(30),o,s,a,l,u,c=1;e==null&&(e=[]);function d(g){return 1/Math.min(a[g.source.index],a[g.target.index])}function f(g){for(var y=0,v=e.length;y<c;++y)for(var w=0,E,_,x,S,C,A,k;w<v;++w)E=e[w],_=E.source,x=E.target,S=x.x+x.vx-_.x-_.vx||ag(u),C=x.y+x.vy-_.y-_.vy||ag(u),A=Math.sqrt(S*S+C*C),A=(A-o[w])/A*g*r[w],S*=A,C*=A,x.vx-=S*(k=l[w]),x.vy-=C*k,_.vx+=S*(k=1-k),_.vy+=C*k}function h(){if(s){var g,y=s.length,v=e.length,w=new Map(s.map((_,x)=>[t(_,x,s),_])),E;for(g=0,a=new Array(y);g<v;++g)E=e[g],E.index=g,typeof E.source!="object"&&(E.source=Oue(w,E.source)),typeof E.target!="object"&&(E.target=Oue(w,E.target)),a[E.source.index]=(a[E.source.index]||0)+1,a[E.target.index]=(a[E.target.index]||0)+1;for(g=0,l=new Array(v);g<v;++g)E=e[g],l[g]=a[E.source.index]/(a[E.source.index]+a[E.target.index]);r=new Array(v),p(),o=new Array(v),m()}}function p(){if(s)for(var g=0,y=e.length;g<y;++g)r[g]=+n(e[g],g,e)}function m(){if(s)for(var g=0,y=e.length;g<y;++g)o[g]=+i(e[g],g,e)}return f.initialize=function(g,y){s=g,u=y,h()},f.links=function(g){return arguments.length?(e=g,h(),f):e},f.id=function(g){return arguments.length?(t=g,f):t},f.iterations=function(g){return arguments.length?(c=+g,f):c},f.strength=function(g){return arguments.length?(n=typeof g=="function"?g:tl(+g),p(),f):n},f.distance=function(g){return arguments.length?(i=typeof g=="function"?g:tl(+g),m(),f):i},f}var Uxt={value:()=>{}};function uK(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new FR(n)}function FR(e){this._=e}function Hxt(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}FR.prototype=uK.prototype={constructor:FR,on:function(e,t){var n=this._,r=Hxt(e+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(e=r[o]).type)&&(i=Vxt(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=Lue(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Lue(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new FR(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function Vxt(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Lue(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Uxt,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Vw=0,yS=0,EE=0,J2e=1e3,dM,vS,fM=0,pv=0,yO=0,nC=typeof performance=="object"&&performance.now?performance:Date,Z2e=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function vO(){return pv||(Z2e(Wxt),pv=nC.now()+yO)}function Wxt(){pv=0}function rC(){this._call=this._time=this._next=null}rC.prototype=cK.prototype={constructor:rC,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?vO():+n)+(t==null?0:+t),!this._next&&vS!==this&&(vS?vS._next=this:dM=this,vS=this),this._call=e,this._time=n,D7()},stop:function(){this._call&&(this._call=null,this._time=1/0,D7())}};function cK(e,t,n){var r=new rC;return r.restart(e,t,n),r}function qxt(){vO(),++Vw;for(var e=dM,t;e;)(t=pv-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Vw}function Fue(){pv=(fM=nC.now())+yO,Vw=yS=0;try{qxt()}finally{Vw=0,Yxt(),pv=0}}function Gxt(){var e=nC.now(),t=e-fM;t>J2e&&(yO-=t,fM=e)}function Yxt(){for(var e,t=dM,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:dM=n);vS=e,D7(r)}function D7(e){if(!Vw){yS&&(yS=clearTimeout(yS));var t=e-pv;t>24?(e<1/0&&(yS=setTimeout(Fue,e-nC.now()-yO)),EE&&(EE=clearInterval(EE))):(EE||(fM=nC.now(),EE=setInterval(Gxt,J2e)),Vw=1,Z2e(Fue))}}function Bue(e,t,n){var r=new rC;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}function Kxt(e,t,n){var r=new rC,i=t;return t==null?(r.restart(e,t,n),r):(r._restart=r.restart,r.restart=function(o,s,a){s=+s,a=a==null?vO():+a,r._restart(function l(u){u+=i,r._restart(l,i+=s,a),o(u)},s,a)},r.restart(e,t,n),r)}const Xxt=1664525,Qxt=1013904223,jue=4294967296;function Jxt(){let e=1;return()=>(e=(Xxt*e+Qxt)%jue)/jue}function Zxt(e){return e.x}function e_t(e){return e.y}var t_t=10,n_t=Math.PI*(3-Math.sqrt(5));function r_t(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,s=.6,a=new Map,l=cK(d),u=uK("tick","end"),c=Jxt();e==null&&(e=[]);function d(){f(),u.call("tick",t),n<r&&(l.stop(),u.call("end",t))}function f(m){var g,y=e.length,v;m===void 0&&(m=1);for(var w=0;w<m;++w)for(n+=(o-n)*i,a.forEach(function(E){E(n)}),g=0;g<y;++g)v=e[g],v.fx==null?v.x+=v.vx*=s:(v.x=v.fx,v.vx=0),v.fy==null?v.y+=v.vy*=s:(v.y=v.fy,v.vy=0);return t}function h(){for(var m=0,g=e.length,y;m<g;++m){if(y=e[m],y.index=m,y.fx!=null&&(y.x=y.fx),y.fy!=null&&(y.y=y.fy),isNaN(y.x)||isNaN(y.y)){var v=t_t*Math.sqrt(.5+m),w=m*n_t;y.x=v*Math.cos(w),y.y=v*Math.sin(w)}(isNaN(y.vx)||isNaN(y.vy))&&(y.vx=y.vy=0)}}function p(m){return m.initialize&&m.initialize(e,c),m}return h(),t={tick:f,restart:function(){return l.restart(d),t},stop:function(){return l.stop(),t},nodes:function(m){return arguments.length?(e=m,h(),a.forEach(p),t):e},alpha:function(m){return arguments.length?(n=+m,t):n},alphaMin:function(m){return arguments.length?(r=+m,t):r},alphaDecay:function(m){return arguments.length?(i=+m,t):+i},alphaTarget:function(m){return arguments.length?(o=+m,t):o},velocityDecay:function(m){return arguments.length?(s=1-m,t):1-s},randomSource:function(m){return arguments.length?(c=m,a.forEach(p),t):c},force:function(m,g){return arguments.length>1?(g==null?a.delete(m):a.set(m,p(g)),t):a.get(m)},find:function(m,g,y){var v=0,w=e.length,E,_,x,S,C;for(y==null?y=1/0:y*=y,v=0;v<w;++v)S=e[v],E=m-S.x,_=g-S.y,x=E*E+_*_,x<y&&(C=S,y=x);return C},on:function(m,g){return arguments.length>1?(u.on(m,g),t):u.on(m)}}}function i_t(){var e,t,n,r,i=tl(-30),o,s=1,a=1/0,l=.81;function u(h){var p,m=e.length,g=aK(e,Zxt,e_t).visitAfter(d);for(r=h,p=0;p<m;++p)t=e[p],g.visit(f)}function c(){if(e){var h,p=e.length,m;for(o=new Array(p),h=0;h<p;++h)m=e[h],o[m.index]=+i(m,h,e)}}function d(h){var p=0,m,g,y=0,v,w,E;if(h.length){for(v=w=E=0;E<4;++E)(m=h[E])&&(g=Math.abs(m.value))&&(p+=m.value,y+=g,v+=g*m.x,w+=g*m.y);h.x=v/y,h.y=w/y}else{m=h,m.x=m.data.x,m.y=m.data.y;do p+=o[m.data.index];while(m=m.next)}h.value=p}function f(h,p,m,g){if(!h.value)return!0;var y=h.x-t.x,v=h.y-t.y,w=g-p,E=y*y+v*v;if(w*w/l<E)return E<a&&(y===0&&(y=ag(n),E+=y*y),v===0&&(v=ag(n),E+=v*v),E<s&&(E=Math.sqrt(s*E)),t.vx+=y*h.value*r/E,t.vy+=v*h.value*r/E),!0;if(h.length||E>=a)return;(h.data!==t||h.next)&&(y===0&&(y=ag(n),E+=y*y),v===0&&(v=ag(n),E+=v*v),E<s&&(E=Math.sqrt(s*E)));do h.data!==t&&(w=o[h.data.index]*r/E,t.vx+=y*w,t.vy+=v*w);while(h=h.next)}return u.initialize=function(h,p){e=h,n=p,c()},u.strength=function(h){return arguments.length?(i=typeof h=="function"?h:tl(+h),c(),u):i},u.distanceMin=function(h){return arguments.length?(s=h*h,u):Math.sqrt(s)},u.distanceMax=function(h){return arguments.length?(a=h*h,u):Math.sqrt(a)},u.theta=function(h){return arguments.length?(l=h*h,u):Math.sqrt(l)},u}function o_t(e){var t=tl(.1),n,r,i;typeof e!="function"&&(e=tl(e==null?0:+e));function o(a){for(var l=0,u=n.length,c;l<u;++l)c=n[l],c.vx+=(i[l]-c.x)*r[l]*a}function s(){if(n){var a,l=n.length;for(r=new Array(l),i=new Array(l),a=0;a<l;++a)r[a]=isNaN(i[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return o.initialize=function(a){n=a,s()},o.strength=function(a){return arguments.length?(t=typeof a=="function"?a:tl(+a),s(),o):t},o.x=function(a){return arguments.length?(e=typeof a=="function"?a:tl(+a),s(),o):e},o}function s_t(e){var t=tl(.1),n,r,i;typeof e!="function"&&(e=tl(e==null?0:+e));function o(a){for(var l=0,u=n.length,c;l<u;++l)c=n[l],c.vy+=(i[l]-c.y)*r[l]*a}function s(){if(n){var a,l=n.length;for(r=new Array(l),i=new Array(l),a=0;a<l;++a)r[a]=isNaN(i[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return o.initialize=function(a){n=a,s()},o.strength=function(a){return arguments.length?(t=typeof a=="function"?a:tl(+a),s(),o):t},o.y=function(a){return arguments.length?(e=typeof a=="function"?a:tl(+a),s(),o):e},o}const zue={center:wxt,collide:Bxt,nbody:i_t,link:zxt,x:o_t,y:s_t},bS="forces",$7=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],a_t=["static","iterations"],eke=["x","y","vx","vy"];function dK(e){Ve.call(this,null,e)}dK.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30,expr:!0},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:eke}]};Mt(dK,Ve,{transform(e,t){var n=this.value,r=t.changed(t.ADD_REM),i=e.modified($7),o=e.iterations||300;if(n?(r&&(t.modifies("index"),n.nodes(t.source)),(i||t.changed(t.MOD))&&tke(n,e,0,t)):(this.value=n=u_t(t.source,e),n.on("tick",l_t(t.dataflow,this)),e.static||(r=!0,n.tick()),t.modifies("index")),i||r||e.modified(a_t)||t.changed()&&e.restart){if(n.alpha(Math.max(n.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(n.alphaMin(),1/o)),e.static)for(n.stop();--o>=0;)n.tick();else if(n.stopped()&&n.restart(),!r)return t.StopPropagation}return this.finish(e,t)},finish(e,t){const n=t.dataflow;for(let a=this._argops,l=0,u=a.length,c;l<u;++l)if(c=a[l],!(c.name!==bS||c.op._argval.force!=="link")){for(var r=c.op._argops,i=0,o=r.length,s;i<o;++i)if(r[i].name==="links"&&(s=r[i].op.source)){n.pulse(s,n.changeset().reflow());break}}return t.reflow(e.modified()).modifies(eke)}});function l_t(e,t){return()=>e.touch(t).run()}function u_t(e,t){const n=r_t(e),r=n.stop,i=n.restart;let o=!1;return n.stopped=()=>o,n.restart=()=>(o=!1,i()),n.stop=()=>(o=!0,r()),tke(n,t,!0).on("end",()=>o=!0)}function tke(e,t,n,r){var i=jt(t.forces),o,s,a,l;for(o=0,s=$7.length;o<s;++o)a=$7[o],a!==bS&&t.modified(a)&&e[a](t[a]);for(o=0,s=i.length;o<s;++o)l=bS+o,a=n||t.modified(bS,o)?d_t(i[o]):r&&c_t(i[o],r)?e.force(l):null,a&&e.force(l,a);for(s=e.numForces||0;o<s;++o)e.force(bS+o,null);return e.numForces=i.length,e}function c_t(e,t){var n,r;for(n in e)if(jn(r=e[n])&&t.modified(Ta(r)))return 1;return 0}function d_t(e){var t,n;Vt(zue,e.force)||Je("Unrecognized force: "+e.force),t=zue[e.force]();for(n in e)jn(t[n])&&f_t(t[n],e[n],e);return t}function f_t(e,t,n){e(jn(t)?r=>t(r,n):t)}const h_t=Object.freeze(Object.defineProperty({__proto__:null,force:dK},Symbol.toStringTag,{value:"Module"}));function p_t(e,t){return e.parent===t.parent?1:2}function m_t(e){return e.reduce(g_t,0)/e.length}function g_t(e,t){return e+t.x}function y_t(e){return 1+e.reduce(v_t,0)}function v_t(e,t){return Math.max(e,t.y)}function b_t(e){for(var t;t=e.children;)e=t[0];return e}function w_t(e){for(var t;t=e.children;)e=t[t.length-1];return e}function x_t(){var e=p_t,t=1,n=1,r=!1;function i(o){var s,a=0;o.eachAfter(function(f){var h=f.children;h?(f.x=m_t(h),f.y=y_t(h)):(f.x=s?a+=e(f,s):0,f.y=0,s=f)});var l=b_t(o),u=w_t(o),c=l.x-e(l,u)/2,d=u.x+e(u,l)/2;return o.eachAfter(r?function(f){f.x=(f.x-o.x)*t,f.y=(o.y-f.y)*n}:function(f){f.x=(f.x-c)/(d-c)*t,f.y=(1-(o.y?f.y/o.y:1))*n})}return i.separation=function(o){return arguments.length?(e=o,i):e},i.size=function(o){return arguments.length?(r=!1,t=+o[0],n=+o[1],i):r?null:[t,n]},i.nodeSize=function(o){return arguments.length?(r=!0,t=+o[0],n=+o[1],i):r?[t,n]:null},i}function __t(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function E_t(){return this.eachAfter(__t)}function S_t(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function T_t(e,t){for(var n=this,r=[n],i,o,s=-1;n=r.pop();)if(e.call(t,n,++s,this),i=n.children)for(o=i.length-1;o>=0;--o)r.push(i[o]);return this}function C_t(e,t){for(var n=this,r=[n],i=[],o,s,a,l=-1;n=r.pop();)if(i.push(n),o=n.children)for(s=0,a=o.length;s<a;++s)r.push(o[s]);for(;n=i.pop();)e.call(t,n,++l,this);return this}function A_t(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function k_t(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function I_t(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function R_t(e){for(var t=this,n=D_t(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function D_t(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function $_t(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function M_t(){return Array.from(this)}function P_t(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function N_t(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*O_t(){var e=this,t,n=[e],r,i,o;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,o=r.length;i<o;++i)n.push(r[i]);while(n.length)}function fK(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=B_t)):t===void 0&&(t=F_t);for(var n=new Ww(e),r,i=[n],o,s,a,l;r=i.pop();)if((s=t(r.data))&&(l=(s=Array.from(s)).length))for(r.children=s,a=l-1;a>=0;--a)i.push(o=s[a]=new Ww(s[a])),o.parent=r,o.depth=r.depth+1;return n.eachBefore(nke)}function L_t(){return fK(this).eachBefore(j_t)}function F_t(e){return e.children}function B_t(e){return Array.isArray(e)?e[1]:null}function j_t(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function nke(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function Ww(e){this.data=e,this.depth=this.height=0,this.parent=null}Ww.prototype=fK.prototype={constructor:Ww,count:E_t,each:S_t,eachAfter:C_t,eachBefore:T_t,find:A_t,sum:k_t,sort:I_t,path:R_t,ancestors:$_t,descendants:M_t,leaves:P_t,links:N_t,copy:L_t,[Symbol.iterator]:O_t};function BR(e){return e==null?null:rke(e)}function rke(e){if(typeof e!="function")throw new Error;return e}function xy(){return 0}function T1(e){return function(){return e}}const z_t=1664525,U_t=1013904223,Uue=4294967296;function H_t(){let e=1;return()=>(e=(z_t*e+U_t)%Uue)/Uue}function V_t(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function W_t(e,t){let n=e.length,r,i;for(;n;)i=t()*n--|0,r=e[n],e[n]=e[i],e[i]=r;return e}function q_t(e,t){for(var n=0,r=(e=W_t(Array.from(e),t)).length,i=[],o,s;n<r;)o=e[n],s&&ike(s,o)?++n:(s=Y_t(i=G_t(i,o)),n=0);return s}function G_t(e,t){var n,r;if(Y6(t,e))return[t];for(n=0;n<e.length;++n)if(u3(t,e[n])&&Y6(wS(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(u3(wS(e[n],e[r]),t)&&u3(wS(e[n],t),e[r])&&u3(wS(e[r],t),e[n])&&Y6(oke(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function u3(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function ike(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function Y6(e,t){for(var n=0;n<t.length;++n)if(!ike(e,t[n]))return!1;return!0}function Y_t(e){switch(e.length){case 1:return K_t(e[0]);case 2:return wS(e[0],e[1]);case 3:return oke(e[0],e[1],e[2])}}function K_t(e){return{x:e.x,y:e.y,r:e.r}}function wS(e,t){var n=e.x,r=e.y,i=e.r,o=t.x,s=t.y,a=t.r,l=o-n,u=s-r,c=a-i,d=Math.sqrt(l*l+u*u);return{x:(n+o+l/d*c)/2,y:(r+s+u/d*c)/2,r:(d+i+a)/2}}function oke(e,t,n){var r=e.x,i=e.y,o=e.r,s=t.x,a=t.y,l=t.r,u=n.x,c=n.y,d=n.r,f=r-s,h=r-u,p=i-a,m=i-c,g=l-o,y=d-o,v=r*r+i*i-o*o,w=v-s*s-a*a+l*l,E=v-u*u-c*c+d*d,_=h*p-f*m,x=(p*E-m*w)/(_*2)-r,S=(m*g-p*y)/_,C=(h*w-f*E)/(_*2)-i,A=(f*y-h*g)/_,k=S*S+A*A-1,N=2*(o+x*S+C*A),M=x*x+C*C-o*o,I=-(Math.abs(k)>1e-6?(N+Math.sqrt(N*N-4*k*M))/(2*k):M/N);return{x:r+x+S*I,y:i+C+A*I,r:I}}function Hue(e,t,n){var r=e.x-t.x,i,o,s=e.y-t.y,a,l,u=r*r+s*s;u?(o=t.r+n.r,o*=o,l=e.r+n.r,l*=l,o>l?(i=(u+l-o)/(2*u),a=Math.sqrt(Math.max(0,l/u-i*i)),n.x=e.x-i*r-a*s,n.y=e.y-i*s+a*r):(i=(u+o-l)/(2*u),a=Math.sqrt(Math.max(0,o/u-i*i)),n.x=t.x+i*r-a*s,n.y=t.y+i*s+a*r)):(n.x=t.x+n.r,n.y=t.y)}function Vue(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function Wue(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,o=(t.y*n.r+n.y*t.r)/r;return i*i+o*o}function c3(e){this._=e,this.next=null,this.previous=null}function X_t(e,t){if(!(o=(e=V_t(e)).length))return 0;var n,r,i,o,s,a,l,u,c,d,f;if(n=e[0],n.x=0,n.y=0,!(o>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(o>2))return n.r+r.r;Hue(r,n,i=e[2]),n=new c3(n),r=new c3(r),i=new c3(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(l=3;l<o;++l){Hue(n._,r._,i=e[l]),i=new c3(i),u=r.next,c=n.previous,d=r._.r,f=n._.r;do if(d<=f){if(Vue(u._,i._)){r=u,n.next=r,r.previous=n,--l;continue e}d+=u._.r,u=u.next}else{if(Vue(c._,i._)){n=c,n.next=r,r.previous=n,--l;continue e}f+=c._.r,c=c.previous}while(u!==c.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,s=Wue(n);(i=i.next)!==r;)(a=Wue(i))<s&&(n=i,s=a);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=q_t(n,t),l=0;l<o;++l)n=e[l],n.x-=i.x,n.y-=i.y;return i.r}function Q_t(e){return Math.sqrt(e.value)}function J_t(){var e=null,t=1,n=1,r=xy;function i(o){const s=H_t();return o.x=t/2,o.y=n/2,e?o.eachBefore(que(e)).eachAfter(K6(r,.5,s)).eachBefore(Gue(1)):o.eachBefore(que(Q_t)).eachAfter(K6(xy,1,s)).eachAfter(K6(r,o.r/Math.min(t,n),s)).eachBefore(Gue(Math.min(t,n)/(2*o.r))),o}return i.radius=function(o){return arguments.length?(e=BR(o),i):e},i.size=function(o){return arguments.length?(t=+o[0],n=+o[1],i):[t,n]},i.padding=function(o){return arguments.length?(r=typeof o=="function"?o:T1(+o),i):r},i}function que(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function K6(e,t,n){return function(r){if(i=r.children){var i,o,s=i.length,a=e(r)*t||0,l;if(a)for(o=0;o<s;++o)i[o].r+=a;if(l=X_t(i,n),a)for(o=0;o<s;++o)i[o].r-=a;r.r=l+a}}}function Gue(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function ske(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function PA(e,t,n,r,i){for(var o=e.children,s,a=-1,l=o.length,u=e.value&&(r-t)/e.value;++a<l;)s=o[a],s.y0=n,s.y1=i,s.x0=t,s.x1=t+=s.value*u}function Z_t(){var e=1,t=1,n=0,r=!1;function i(s){var a=s.height+1;return s.x0=s.y0=n,s.x1=e,s.y1=t/a,s.eachBefore(o(t,a)),r&&s.eachBefore(ske),s}function o(s,a){return function(l){l.children&&PA(l,l.x0,s*(l.depth+1)/a,l.x1,s*(l.depth+2)/a);var u=l.x0,c=l.y0,d=l.x1-n,f=l.y1-n;d<u&&(u=d=(u+d)/2),f<c&&(c=f=(c+f)/2),l.x0=u,l.y0=c,l.x1=d,l.y1=f}}return i.round=function(s){return arguments.length?(r=!!s,i):r},i.size=function(s){return arguments.length?(e=+s[0],t=+s[1],i):[e,t]},i.padding=function(s){return arguments.length?(n=+s,i):n},i}var eEt={depth:-1},Yue={},X6={};function tEt(e){return e.id}function nEt(e){return e.parentId}function Kue(){var e=tEt,t=nEt,n;function r(i){var o=Array.from(i),s=e,a=t,l,u,c,d,f,h,p,m,g=new Map;if(n!=null){const y=o.map((E,_)=>rEt(n(E,_,i))),v=y.map(Xue),w=new Set(y).add("");for(const E of v)w.has(E)||(w.add(E),y.push(E),v.push(Xue(E)),o.push(X6));s=(E,_)=>y[_],a=(E,_)=>v[_]}for(c=0,l=o.length;c<l;++c)u=o[c],h=o[c]=new Ww(u),(p=s(u,c,i))!=null&&(p+="")&&(m=h.id=p,g.set(m,g.has(m)?Yue:h)),(p=a(u,c,i))!=null&&(p+="")&&(h.parent=p);for(c=0;c<l;++c)if(h=o[c],p=h.parent){if(f=g.get(p),!f)throw new Error("missing: "+p);if(f===Yue)throw new Error("ambiguous: "+p);f.children?f.children.push(h):f.children=[h],h.parent=f}else{if(d)throw new Error("multiple roots");d=h}if(!d)throw new Error("no root");if(n!=null){for(;d.data===X6&&d.children.length===1;)d=d.children[0],--l;for(let y=o.length-1;y>=0&&(h=o[y],h.data===X6);--y)h.data=null}if(d.parent=eEt,d.eachBefore(function(y){y.depth=y.parent.depth+1,--l}).eachBefore(nke),d.parent=null,l>0)throw new Error("cycle");return d}return r.id=function(i){return arguments.length?(e=BR(i),r):e},r.parentId=function(i){return arguments.length?(t=BR(i),r):t},r.path=function(i){return arguments.length?(n=BR(i),r):n},r}function rEt(e){e=`${e}`;let t=e.length;return M7(e,t-1)&&!M7(e,t-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function Xue(e){let t=e.length;if(t<2)return"";for(;--t>1&&!M7(e,t););return e.slice(0,t)}function M7(e,t){if(e[t]==="/"){let n=0;for(;t>0&&e[--t]==="\\";)++n;if((n&1)===0)return!0}return!1}function iEt(e,t){return e.parent===t.parent?1:2}function Q6(e){var t=e.children;return t?t[0]:e.t}function J6(e){var t=e.children;return t?t[t.length-1]:e.t}function oEt(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function sEt(e){for(var t=0,n=0,r=e.children,i=r.length,o;--i>=0;)o=r[i],o.z+=t,o.m+=t,t+=o.s+(n+=o.c)}function aEt(e,t,n){return e.a.parent===t.parent?e.a:n}function jR(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}jR.prototype=Object.create(Ww.prototype);function lEt(e){for(var t=new jR(e,0),n,r=[t],i,o,s,a;n=r.pop();)if(o=n._.children)for(n.children=new Array(a=o.length),s=a-1;s>=0;--s)r.push(i=n.children[s]=new jR(o[s],s)),i.parent=n;return(t.parent=new jR(null,0)).children=[t],t}function uEt(){var e=iEt,t=1,n=1,r=null;function i(u){var c=lEt(u);if(c.eachAfter(o),c.parent.m=-c.z,c.eachBefore(s),r)u.eachBefore(l);else{var d=u,f=u,h=u;u.eachBefore(function(v){v.x<d.x&&(d=v),v.x>f.x&&(f=v),v.depth>h.depth&&(h=v)});var p=d===f?1:e(d,f)/2,m=p-d.x,g=t/(f.x+p+m),y=n/(h.depth||1);u.eachBefore(function(v){v.x=(v.x+m)*g,v.y=v.depth*y})}return u}function o(u){var c=u.children,d=u.parent.children,f=u.i?d[u.i-1]:null;if(c){sEt(u);var h=(c[0].z+c[c.length-1].z)/2;f?(u.z=f.z+e(u._,f._),u.m=u.z-h):u.z=h}else f&&(u.z=f.z+e(u._,f._));u.parent.A=a(u,f,u.parent.A||d[0])}function s(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function a(u,c,d){if(c){for(var f=u,h=u,p=c,m=f.parent.children[0],g=f.m,y=h.m,v=p.m,w=m.m,E;p=J6(p),f=Q6(f),p&&f;)m=Q6(m),h=J6(h),h.a=u,E=p.z+v-f.z-g+e(p._,f._),E>0&&(oEt(aEt(p,u,d),u,E),g+=E,y+=E),v+=p.m,g+=f.m,w+=m.m,y+=h.m;p&&!J6(h)&&(h.t=p,h.m+=v-y),f&&!Q6(m)&&(m.t=f,m.m+=g-w,d=u)}return d}function l(u){u.x*=t,u.y=u.depth*n}return i.separation=function(u){return arguments.length?(e=u,i):e},i.size=function(u){return arguments.length?(r=!1,t=+u[0],n=+u[1],i):r?null:[t,n]},i.nodeSize=function(u){return arguments.length?(r=!0,t=+u[0],n=+u[1],i):r?[t,n]:null},i}function bO(e,t,n,r,i){for(var o=e.children,s,a=-1,l=o.length,u=e.value&&(i-n)/e.value;++a<l;)s=o[a],s.x0=t,s.x1=r,s.y0=n,s.y1=n+=s.value*u}var ake=(1+Math.sqrt(5))/2;function lke(e,t,n,r,i,o){for(var s=[],a=t.children,l,u,c=0,d=0,f=a.length,h,p,m=t.value,g,y,v,w,E,_,x;c<f;){h=i-n,p=o-r;do g=a[d++].value;while(!g&&d<f);for(y=v=g,_=Math.max(p/h,h/p)/(m*e),x=g*g*_,E=Math.max(v/x,x/y);d<f;++d){if(g+=u=a[d].value,u<y&&(y=u),u>v&&(v=u),x=g*g*_,w=Math.max(v/x,x/y),w>E){g-=u;break}E=w}s.push(l={value:g,dice:h<p,children:a.slice(c,d)}),l.dice?PA(l,n,r,i,m?r+=p*g/m:o):bO(l,n,r,m?n+=h*g/m:i,o),m-=g,c=d}return s}const uke=function e(t){function n(r,i,o,s,a){lke(t,r,i,o,s,a)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(ake);function cEt(){var e=uke,t=!1,n=1,r=1,i=[0],o=xy,s=xy,a=xy,l=xy,u=xy;function c(f){return f.x0=f.y0=0,f.x1=n,f.y1=r,f.eachBefore(d),i=[0],t&&f.eachBefore(ske),f}function d(f){var h=i[f.depth],p=f.x0+h,m=f.y0+h,g=f.x1-h,y=f.y1-h;g<p&&(p=g=(p+g)/2),y<m&&(m=y=(m+y)/2),f.x0=p,f.y0=m,f.x1=g,f.y1=y,f.children&&(h=i[f.depth+1]=o(f)/2,p+=u(f)-h,m+=s(f)-h,g-=a(f)-h,y-=l(f)-h,g<p&&(p=g=(p+g)/2),y<m&&(m=y=(m+y)/2),e(f,p,m,g,y))}return c.round=function(f){return arguments.length?(t=!!f,c):t},c.size=function(f){return arguments.length?(n=+f[0],r=+f[1],c):[n,r]},c.tile=function(f){return arguments.length?(e=rke(f),c):e},c.padding=function(f){return arguments.length?c.paddingInner(f).paddingOuter(f):c.paddingInner()},c.paddingInner=function(f){return arguments.length?(o=typeof f=="function"?f:T1(+f),c):o},c.paddingOuter=function(f){return arguments.length?c.paddingTop(f).paddingRight(f).paddingBottom(f).paddingLeft(f):c.paddingTop()},c.paddingTop=function(f){return arguments.length?(s=typeof f=="function"?f:T1(+f),c):s},c.paddingRight=function(f){return arguments.length?(a=typeof f=="function"?f:T1(+f),c):a},c.paddingBottom=function(f){return arguments.length?(l=typeof f=="function"?f:T1(+f),c):l},c.paddingLeft=function(f){return arguments.length?(u=typeof f=="function"?f:T1(+f),c):u},c}function dEt(e,t,n,r,i){var o=e.children,s,a=o.length,l,u=new Array(a+1);for(u[0]=l=s=0;s<a;++s)u[s+1]=l+=o[s].value;c(0,a,e.value,t,n,r,i);function c(d,f,h,p,m,g,y){if(d>=f-1){var v=o[d];v.x0=p,v.y0=m,v.x1=g,v.y1=y;return}for(var w=u[d],E=h/2+w,_=d+1,x=f-1;_<x;){var S=_+x>>>1;u[S]<E?_=S+1:x=S}E-u[_-1]<u[_]-E&&d+1<_&&--_;var C=u[_]-w,A=h-C;if(g-p>y-m){var k=h?(p*A+g*C)/h:g;c(d,_,C,p,m,k,y),c(_,f,A,k,m,g,y)}else{var N=h?(m*A+y*C)/h:y;c(d,_,C,p,m,g,N),c(_,f,A,p,N,g,y)}}}function fEt(e,t,n,r,i){(e.depth&1?bO:PA)(e,t,n,r,i)}const hEt=function e(t){function n(r,i,o,s,a){if((l=r._squarify)&&l.ratio===t)for(var l,u,c,d,f=-1,h,p=l.length,m=r.value;++f<p;){for(u=l[f],c=u.children,d=u.value=0,h=c.length;d<h;++d)u.value+=c[d].value;u.dice?PA(u,i,o,s,m?o+=(a-o)*u.value/m:a):bO(u,i,o,m?i+=(s-i)*u.value/m:s,a),m-=u.value}else r._squarify=l=lke(t,r,i,o,s,a),l.ratio=t}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(ake);function P7(e,t,n){const r={};return e.each(i=>{const o=i.data;n(o)&&(r[t(o)]=i)}),e.lookup=r,e}function hK(e){Ve.call(this,null,e)}hK.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const pEt=e=>e.values;Mt(hK,Ve,{transform(e,t){t.source||Je("Nest transform requires an upstream data source.");var n=e.generate,r=e.modified(),i=t.clone(),o=this.value;return(!o||r||t.changed())&&(o&&o.each(s=>{s.children&&DN(s.data)&&i.rem.push(s.data)}),this.value=o=fK({values:jt(e.keys).reduce((s,a)=>(s.key(a),s),mEt()).entries(i.source)},pEt),n&&o.each(s=>{s.children&&(s=Ir(s.data),i.add.push(s),i.source.push(s))}),P7(o,fn,fn)),i.source.root=o,i}});function mEt(){const e=[],t={entries:i=>r(n(i,0),0),key:i=>(e.push(i),t)};function n(i,o){if(o>=e.length)return i;const s=i.length,a=e[o++],l={},u={};let c=-1,d,f,h;for(;++c<s;)d=a(f=i[c])+"",(h=l[d])?h.push(f):l[d]=[f];for(d in l)u[d]=n(l[d],o);return u}function r(i,o){if(++o>e.length)return i;const s=[];for(const a in i)s.push({key:a,values:r(i[a],o)});return s}return t}function em(e){Ve.call(this,null,e)}const gEt=(e,t)=>e.parent===t.parent?1:2;Mt(em,Ve,{transform(e,t){(!t.source||!t.source.root)&&Je(this.constructor.name+" transform requires a backing tree data source.");const n=this.layout(e.method),r=this.fields,i=t.source.root,o=e.as||r;e.field?i.sum(e.field):i.count(),e.sort&&i.sort(rb(e.sort,s=>s.data)),yEt(n,this.params,e),n.separation&&n.separation(e.separation!==!1?gEt:Yx);try{this.value=n(i)}catch(s){Je(s)}return i.each(s=>vEt(s,r,o)),t.reflow(e.modified()).modifies(o).modifies("leaf")}});function yEt(e,t,n){for(let r,i=0,o=t.length;i<o;++i)r=t[i],r in n&&e[r](n[r])}function vEt(e,t,n){const r=e.data,i=t.length-1;for(let o=0;o<i;++o)r[n[o]]=e[t[o]];r[n[i]]=e.children?e.children.length:0}const N7=["x","y","r","depth","children"];function pK(e){em.call(this,e)}pK.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:N7.length,default:N7}]};Mt(pK,em,{layout:J_t,params:["radius","size","padding"],fields:N7});const O7=["x0","y0","x1","y1","depth","children"];function mK(e){em.call(this,e)}mK.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:O7.length,default:O7}]};Mt(mK,em,{layout:Z_t,params:["size","round","padding"],fields:O7});function gK(e){Ve.call(this,null,e)}gK.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};Mt(gK,Ve,{transform(e,t){t.source||Je("Stratify transform requires an upstream data source.");let n=this.value;const r=e.modified(),i=t.fork(t.ALL).materialize(t.SOURCE),o=!n||r||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return i.source=i.source.slice(),o&&(n=i.source.length?P7(Kue().id(e.key).parentId(e.parentKey)(i.source),e.key,bc):P7(Kue()([{}]),e.key,e.key)),i.source.root=this.value=n,i}});const Que={tidy:uEt,cluster:x_t},L7=["x","y","depth","children"];function yK(e){em.call(this,e)}yK.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:L7.length,default:L7}]};Mt(yK,em,{layout(e){const t=e||"tidy";if(Vt(Que,t))return Que[t]();Je("Unrecognized Tree layout method: "+t)},params:["size","nodeSize"],fields:L7});function vK(e){Ve.call(this,[],e)}vK.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};Mt(vK,Ve,{transform(e,t){const n=this.value,r=t.source&&t.source.root,i=t.fork(t.NO_SOURCE),o={};return r||Je("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(i.rem=n,t.visit(t.SOURCE,s=>o[fn(s)]=1),r.each(s=>{const a=s.data,l=s.parent&&s.parent.data;l&&o[fn(a)]&&o[fn(l)]&&i.add.push(Ir({source:l,target:a}))}),this.value=i.add):t.changed(t.MOD)&&(t.visit(t.MOD,s=>o[fn(s)]=1),n.forEach(s=>{(o[fn(s.source)]||o[fn(s.target)])&&i.mod.push(s)})),i}});const Jue={binary:dEt,dice:PA,slice:bO,slicedice:fEt,squarify:uke,resquarify:hEt},F7=["x0","y0","x1","y1","depth","children"];function bK(e){em.call(this,e)}bK.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:F7.length,default:F7}]};Mt(bK,em,{layout(){const e=cEt();return e.ratio=t=>{const n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=t=>{Vt(Jue,t)?e.tile(Jue[t]):Je("Unrecognized Treemap layout method: "+t)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:F7});const bEt=Object.freeze(Object.defineProperty({__proto__:null,nest:hK,pack:pK,partition:mK,stratify:gK,tree:yK,treelinks:vK,treemap:bK},Symbol.toStringTag,{value:"Module"})),Z6=4278190080;function wEt(e,t){const n=e.bitmap();return(t||[]).forEach(r=>n.set(e(r.boundary[0]),e(r.boundary[3]))),[n,void 0]}function xEt(e,t,n,r,i){const o=e.width,s=e.height,a=r||i,l=xg(o,s).getContext("2d"),u=xg(o,s).getContext("2d"),c=a&&xg(o,s).getContext("2d");n.forEach(C=>zR(l,C,!1)),zR(u,t,!1),a&&zR(c,t,!0);const d=eB(l,o,s),f=eB(u,o,s),h=a&&eB(c,o,s),p=e.bitmap(),m=a&&e.bitmap();let g,y,v,w,E,_,x,S;for(y=0;y<s;++y)for(g=0;g<o;++g)E=y*o+g,_=d[E]&Z6,S=f[E]&Z6,x=a&&h[E]&Z6,(_||x||S)&&(v=e(g),w=e(y),!i&&(_||S)&&p.set(v,w),a&&(_||x)&&m.set(v,w));return[p,m]}function eB(e,t,n){return new Uint32Array(e.getImageData(0,0,t,n).data.buffer)}function zR(e,t,n){if(!t.length)return;const r=t[0].mark.marktype;r==="group"?t.forEach(i=>{i.items.forEach(o=>zR(e,o.items,n))}):Bu[r].draw(e,{items:n?t.map(_Et):t})}function _Et(e){const t=$N(e,{});return t.stroke&&t.strokeOpacity!==0||t.fill&&t.fillOpacity!==0?{...t,strokeOpacity:1,stroke:"#000",fillOpacity:0}:t}const Lh=5,Wa=31,iC=32,Um=new Uint32Array(iC+1),td=new Uint32Array(iC+1);td[0]=0;Um[0]=~td[0];for(let e=1;e<=iC;++e)td[e]=td[e-1]<<1|1,Um[e]=~td[e];function EEt(e,t){const n=new Uint32Array(~~((e*t+iC)/iC));function r(o,s){n[o]|=s}function i(o,s){n[o]&=s}return{array:n,get:(o,s)=>{const a=s*e+o;return n[a>>>Lh]&1<<(a&Wa)},set:(o,s)=>{const a=s*e+o;r(a>>>Lh,1<<(a&Wa))},clear:(o,s)=>{const a=s*e+o;i(a>>>Lh,~(1<<(a&Wa)))},getRange:(o,s,a,l)=>{let u=l,c,d,f,h;for(;u>=s;--u)if(c=u*e+o,d=u*e+a,f=c>>>Lh,h=d>>>Lh,f===h){if(n[f]&Um[c&Wa]&td[(d&Wa)+1])return!0}else{if(n[f]&Um[c&Wa]||n[h]&td[(d&Wa)+1])return!0;for(let p=f+1;p<h;++p)if(n[p])return!0}return!1},setRange:(o,s,a,l)=>{let u,c,d,f,h;for(;s<=l;++s)if(u=s*e+o,c=s*e+a,d=u>>>Lh,f=c>>>Lh,d===f)r(d,Um[u&Wa]&td[(c&Wa)+1]);else for(r(d,Um[u&Wa]),r(f,td[(c&Wa)+1]),h=d+1;h<f;++h)r(h,4294967295)},clearRange:(o,s,a,l)=>{let u,c,d,f,h;for(;s<=l;++s)if(u=s*e+o,c=s*e+a,d=u>>>Lh,f=c>>>Lh,d===f)i(d,td[u&Wa]|Um[(c&Wa)+1]);else for(i(d,td[u&Wa]),i(f,Um[(c&Wa)+1]),h=d+1;h<f;++h)i(h,0)},outOfBounds:(o,s,a,l)=>o<0||s<0||l>=t||a>=e}}function SEt(e,t,n){const r=Math.max(1,Math.sqrt(e*t/1e6)),i=~~((e+2*n+r)/r),o=~~((t+2*n+r)/r),s=a=>~~((a+n)/r);return s.invert=a=>a*r-n,s.bitmap=()=>EEt(i,o),s.ratio=r,s.padding=n,s.width=e,s.height=t,s}function TEt(e,t,n,r){const i=e.width,o=e.height;return function(s){const a=s.datum.datum.items[r].items,l=a.length,u=s.datum.fontSize,c=Tu.width(s.datum,s.datum.text);let d=0,f,h,p,m,g,y,v;for(let w=0;w<l;++w)f=a[w].x,p=a[w].y,h=a[w].x2===void 0?f:a[w].x2,m=a[w].y2===void 0?p:a[w].y2,g=(f+h)/2,y=(p+m)/2,v=Math.abs(h-f+m-p),v>=d&&(d=v,s.x=g,s.y=y);return g=c/2,y=u/2,f=s.x-g,h=s.x+g,p=s.y-y,m=s.y+y,s.align="center",f<0&&h<=i?s.align="left":0<=f&&i<h&&(s.align="right"),s.baseline="middle",p<0&&m<=o?s.baseline="top":0<=p&&o<m&&(s.baseline="bottom"),!0}}function hM(e,t,n,r,i,o){let s=n/2;return e-s<0||e+s>i||t-(s=r/2)<0||t+s>o}function lg(e,t,n,r,i,o,s,a){const l=i*o/(r*2),u=e(t-l),c=e(t+l),d=e(n-(o=o/2)),f=e(n+o);return s.outOfBounds(u,d,c,f)||s.getRange(u,d,c,f)||a&&a.getRange(u,d,c,f)}function CEt(e,t,n,r){const i=e.width,o=e.height,s=t[0],a=t[1];function l(u,c,d,f,h){const p=e.invert(u),m=e.invert(c);let g=d,y=o,v;if(!hM(p,m,f,h,i,o)&&!lg(e,p,m,h,f,g,s,a)&&!lg(e,p,m,h,f,h,s,null)){for(;y-g>=1;)v=(g+y)/2,lg(e,p,m,h,f,v,s,a)?y=v:g=v;if(g>d)return[p,m,g,!0]}}return function(u){const c=u.datum.datum.items[r].items,d=c.length,f=u.datum.fontSize,h=Tu.width(u.datum,u.datum.text);let p=n?f:0,m=!1,g=!1,y=0,v,w,E,_,x,S,C,A,k,N,M,I,D,R,O,B,z;for(let W=0;W<d;++W){for(v=c[W].x,E=c[W].y,w=c[W].x2===void 0?v:c[W].x2,_=c[W].y2===void 0?E:c[W].y2,v>w&&(z=v,v=w,w=z),E>_&&(z=E,E=_,_=z),k=e(v),M=e(w),N=~~((k+M)/2),I=e(E),R=e(_),D=~~((I+R)/2),C=N;C>=k;--C)for(A=D;A>=I;--A)B=l(C,A,p,h,f),B&&([u.x,u.y,p,m]=B);for(C=N;C<=M;++C)for(A=D;A<=R;++A)B=l(C,A,p,h,f),B&&([u.x,u.y,p,m]=B);!m&&!n&&(O=Math.abs(w-v+_-E),x=(v+w)/2,S=(E+_)/2,O>=y&&!hM(x,S,h,f,i,o)&&!lg(e,x,S,f,h,f,s,null)&&(y=O,u.x=x,u.y=S,g=!0))}return m||g?(x=h/2,S=f/2,s.setRange(e(u.x-x),e(u.y-S),e(u.x+x),e(u.y+S)),u.align="center",u.baseline="middle",!0):!1}}const AEt=[-1,-1,1,1],kEt=[-1,1,-1,1];function IEt(e,t,n,r){const i=e.width,o=e.height,s=t[0],a=t[1],l=e.bitmap();return function(u){const c=u.datum.datum.items[r].items,d=c.length,f=u.datum.fontSize,h=Tu.width(u.datum,u.datum.text),p=[];let m=n?f:0,g=!1,y=!1,v=0,w,E,_,x,S,C,A,k,N,M,I,D;for(let R=0;R<d;++R){for(w=c[R].x,_=c[R].y,E=c[R].x2===void 0?w:c[R].x2,x=c[R].y2===void 0?_:c[R].y2,p.push([e((w+E)/2),e((_+x)/2)]);p.length;)if([A,k]=p.pop(),!(s.get(A,k)||a.get(A,k)||l.get(A,k))){l.set(A,k);for(let O=0;O<4;++O)S=A+AEt[O],C=k+kEt[O],l.outOfBounds(S,C,S,C)||p.push([S,C]);if(S=e.invert(A),C=e.invert(k),N=m,M=o,!hM(S,C,h,f,i,o)&&!lg(e,S,C,f,h,N,s,a)&&!lg(e,S,C,f,h,f,s,null)){for(;M-N>=1;)I=(N+M)/2,lg(e,S,C,f,h,I,s,a)?M=I:N=I;N>m&&(u.x=S,u.y=C,m=N,g=!0)}}!g&&!n&&(D=Math.abs(E-w+x-_),S=(w+E)/2,C=(_+x)/2,D>=v&&!hM(S,C,h,f,i,o)&&!lg(e,S,C,f,h,f,s,null)&&(v=D,u.x=S,u.y=C,y=!0))}return g||y?(S=h/2,C=f/2,s.setRange(e(u.x-S),e(u.y-C),e(u.x+S),e(u.y+C)),u.align="center",u.baseline="middle",!0):!1}}const REt=["right","center","left"],DEt=["bottom","middle","top"];function $Et(e,t,n,r){const i=e.width,o=e.height,s=t[0],a=t[1],l=r.length;return function(u){const c=u.boundary,d=u.datum.fontSize;if(c[2]<0||c[5]<0||c[0]>i||c[3]>o)return!1;let f=u.textWidth??0,h,p,m,g,y,v,w,E,_,x,S,C,A,k,N;for(let M=0;M<l;++M){if(h=(n[M]&3)-1,p=(n[M]>>>2&3)-1,m=h===0&&p===0||r[M]<0,g=h&&p?Math.SQRT1_2:1,y=r[M]<0?-1:1,v=c[1+h]+r[M]*h*g,S=c[4+p]+y*d*p/2+r[M]*p*g,E=S-d/2,_=S+d/2,C=e(v),k=e(E),N=e(_),!f)if(Zue(C,C,k,N,s,a,v,v,E,_,c,m))f=Tu.width(u.datum,u.datum.text);else continue;if(x=v+y*f*h/2,v=x-f/2,w=x+f/2,C=e(v),A=e(w),Zue(C,A,k,N,s,a,v,w,E,_,c,m))return u.x=h?h*y<0?w:v:x,u.y=p?p*y<0?_:E:S,u.align=REt[h*y+1],u.baseline=DEt[p*y+1],s.setRange(C,k,A,N),!0}return!1}}function Zue(e,t,n,r,i,o,s,a,l,u,c,d){return!(i.outOfBounds(e,n,t,r)||(d&&o||i).getRange(e,n,t,r))}const tB=0,nB=4,rB=8,iB=0,oB=1,sB=2,MEt={"top-left":tB+iB,top:tB+oB,"top-right":tB+sB,left:nB+iB,middle:nB+oB,right:nB+sB,"bottom-left":rB+iB,bottom:rB+oB,"bottom-right":rB+sB},PEt={naive:TEt,"reduced-search":CEt,floodfill:IEt};function NEt(e,t,n,r,i,o,s,a,l,u,c){if(!e.length)return e;const d=Math.max(r.length,i.length),f=OEt(r,d),h=LEt(i,d),p=FEt(e[0].datum),m=p==="group"&&e[0].datum.items[l].marktype,g=m==="area",y=BEt(p,m,a,l),v=u===null||u===1/0,w=g&&c==="naive";let E=-1,_=-1;const x=e.map(k=>{const N=v?Tu.width(k,k.text):void 0;return E=Math.max(E,N),_=Math.max(_,k.fontSize),{datum:k,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:y(k),textWidth:N}});u=u===null||u===1/0?Math.max(E,_)+Math.max(...r):u;const S=SEt(t[0],t[1],u);let C;if(!w){n&&x.sort((M,I)=>n(M.datum,I.datum));let k=!1;for(let M=0;M<h.length&&!k;++M)k=h[M]===5||f[M]<0;const N=(p&&s||g)&&e.map(M=>M.datum);C=o.length||N?xEt(S,N||[],o,k,g):wEt(S,s&&x)}const A=g?PEt[c](S,C,s,l):$Et(S,C,h,f);return x.forEach(k=>k.opacity=+A(k)),x}function OEt(e,t){const n=new Float64Array(t),r=e.length;for(let i=0;i<r;++i)n[i]=e[i]||0;for(let i=r;i<t;++i)n[i]=n[r-1];return n}function LEt(e,t){const n=new Int8Array(t),r=e.length;for(let i=0;i<r;++i)n[i]|=MEt[e[i]];for(let i=r;i<t;++i)n[i]=n[r-1];return n}function FEt(e){return e&&e.mark&&e.mark.marktype}function BEt(e,t,n,r){const i=o=>[o.x,o.x,o.x,o.y,o.y,o.y];return e?e==="line"||e==="area"?o=>i(o.datum):t==="line"?o=>{const s=o.datum.items[r].items;return i(s.length?s[n==="start"?0:s.length-1]:{x:NaN,y:NaN})}:o=>{const s=o.datum.bounds;return[s.x1,(s.x1+s.x2)/2,s.x2,s.y1,(s.y1+s.y2)/2,s.y2]}:i}const B7=["x","y","opacity","align","baseline"],cke=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function wK(e){Ve.call(this,null,e)}wK.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:cke},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:B7.length,default:B7}]};Mt(wK,Ve,{transform(e,t){function n(o){const s=e[o];return jn(s)&&t.modified(s.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||n("sort")))return;(!e.size||e.size.length!==2)&&Je("Size parameter should be specified as a [width, height] array.");const i=e.as||B7;return NEt(t.materialize(t.SOURCE).source||[],e.size,e.sort,jt(e.offset==null?1:e.offset),jt(e.anchor||cke),e.avoidMarks||[],e.avoidBaseMark!==!1,e.lineAnchor||"end",e.markIndex||0,e.padding===void 0?0:e.padding,e.method||"naive").forEach(o=>{const s=o.datum;s[i[0]]=o.x,s[i[1]]=o.y,s[i[2]]=o.opacity,s[i[3]]=o.align,s[i[4]]=o.baseline}),t.reflow(r).modifies(i)}});const jEt=Object.freeze(Object.defineProperty({__proto__:null,label:wK},Symbol.toStringTag,{value:"Module"}));function dke(e,t){var n=[],r=function(c){return c(a)},i,o,s,a,l,u;if(t==null)n.push(e);else for(i={},o=0,s=e.length;o<s;++o)a=e[o],l=t.map(r),u=i[l],u||(i[l]=u=[],u.dims=l,n.push(u)),u.push(a);return n}function xK(e){Ve.call(this,null,e)}xK.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]};Mt(xK,Ve,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=dke(r,e.groupby),o=(e.groupby||[]).map(Qi),s=o.length,a=e.as||[Qi(e.x),Qi(e.y)],l=[];i.forEach(u=>{wSe(u,e.x,e.y,e.bandwidth||.3).forEach(c=>{const d={};for(let f=0;f<s;++f)d[o[f]]=u.dims[f];d[a[0]]=c[0],d[a[1]]=c[1],l.push(Ir(d))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n}});const j7={constant:eG,linear:tG,log:gSe,exp:ySe,pow:vSe,quad:nG,poly:bSe},zEt=(e,t)=>e==="poly"?t:e==="quad"?2:1;function _K(e){Ve.call(this,null,e)}_K.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(j7)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]};Mt(_K,Ve,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=dke(r,e.groupby),o=(e.groupby||[]).map(Qi),s=e.method||"linear",a=e.order==null?3:e.order,l=zEt(s,a),u=e.as||[Qi(e.x),Qi(e.y)],c=j7[s],d=[];let f=e.extent;Vt(j7,s)||Je("Invalid regression method: "+s),f!=null&&s==="log"&&f[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),f=null),i.forEach(h=>{if(h.length<=l){t.dataflow.warn("Skipping regression with more parameters than data points.");return}const m=c(h,e.x,e.y,a);if(e.params){d.push(Ir({keys:h.dims,coef:m.coef,rSquared:m.rSquared}));return}const g=f||Gf(h,e.x),y=v=>{const w={};for(let E=0;E<o.length;++E)w[o[E]]=h.dims[E];w[u[0]]=v[0],w[u[1]]=v[1],d.push(Ir(w))};s==="linear"||s==="constant"?g.forEach(v=>y([v,m.predict(v)])):BN(m.predict,g,25,200).forEach(y)}),this.value&&(n.rem=this.value),this.value=n.add=n.source=d}return n}});const UEt=Object.freeze(Object.defineProperty({__proto__:null,loess:xK,regression:_K},Symbol.toStringTag,{value:"Module"})),yp=11102230246251565e-32,fa=134217729,HEt=(3+8*yp)*yp;function aB(e,t,n,r,i){let o,s,a,l,u=t[0],c=r[0],d=0,f=0;c>u==c>-u?(o=u,u=t[++d]):(o=c,c=r[++f]);let h=0;if(d<e&&f<n)for(c>u==c>-u?(s=u+o,a=o-(s-u),u=t[++d]):(s=c+o,a=o-(s-c),c=r[++f]),o=s,a!==0&&(i[h++]=a);d<e&&f<n;)c>u==c>-u?(s=o+u,l=s-o,a=o-(s-l)+(u-l),u=t[++d]):(s=o+c,l=s-o,a=o-(s-l)+(c-l),c=r[++f]),o=s,a!==0&&(i[h++]=a);for(;d<e;)s=o+u,l=s-o,a=o-(s-l)+(u-l),u=t[++d],o=s,a!==0&&(i[h++]=a);for(;f<n;)s=o+c,l=s-o,a=o-(s-l)+(c-l),c=r[++f],o=s,a!==0&&(i[h++]=a);return(o!==0||h===0)&&(i[h++]=o),h}function VEt(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}function NA(e){return new Float64Array(e)}const WEt=(3+16*yp)*yp,qEt=(2+12*yp)*yp,GEt=(9+64*yp)*yp*yp,u1=NA(4),ece=NA(8),tce=NA(12),nce=NA(16),qa=NA(4);function YEt(e,t,n,r,i,o,s){let a,l,u,c,d,f,h,p,m,g,y,v,w,E,_,x,S,C;const A=e-i,k=n-i,N=t-o,M=r-o;E=A*M,f=fa*A,h=f-(f-A),p=A-h,f=fa*M,m=f-(f-M),g=M-m,_=p*g-(E-h*m-p*m-h*g),x=N*k,f=fa*N,h=f-(f-N),p=N-h,f=fa*k,m=f-(f-k),g=k-m,S=p*g-(x-h*m-p*m-h*g),y=_-S,d=_-y,u1[0]=_-(y+d)+(d-S),v=E+y,d=v-E,w=E-(v-d)+(y-d),y=w-x,d=w-y,u1[1]=w-(y+d)+(d-x),C=v+y,d=C-v,u1[2]=v-(C-d)+(y-d),u1[3]=C;let I=VEt(4,u1),D=qEt*s;if(I>=D||-I>=D||(d=e-A,a=e-(A+d)+(d-i),d=n-k,u=n-(k+d)+(d-i),d=t-N,l=t-(N+d)+(d-o),d=r-M,c=r-(M+d)+(d-o),a===0&&l===0&&u===0&&c===0)||(D=GEt*s+HEt*Math.abs(I),I+=A*c+M*a-(N*u+k*l),I>=D||-I>=D))return I;E=a*M,f=fa*a,h=f-(f-a),p=a-h,f=fa*M,m=f-(f-M),g=M-m,_=p*g-(E-h*m-p*m-h*g),x=l*k,f=fa*l,h=f-(f-l),p=l-h,f=fa*k,m=f-(f-k),g=k-m,S=p*g-(x-h*m-p*m-h*g),y=_-S,d=_-y,qa[0]=_-(y+d)+(d-S),v=E+y,d=v-E,w=E-(v-d)+(y-d),y=w-x,d=w-y,qa[1]=w-(y+d)+(d-x),C=v+y,d=C-v,qa[2]=v-(C-d)+(y-d),qa[3]=C;const R=aB(4,u1,4,qa,ece);E=A*c,f=fa*A,h=f-(f-A),p=A-h,f=fa*c,m=f-(f-c),g=c-m,_=p*g-(E-h*m-p*m-h*g),x=N*u,f=fa*N,h=f-(f-N),p=N-h,f=fa*u,m=f-(f-u),g=u-m,S=p*g-(x-h*m-p*m-h*g),y=_-S,d=_-y,qa[0]=_-(y+d)+(d-S),v=E+y,d=v-E,w=E-(v-d)+(y-d),y=w-x,d=w-y,qa[1]=w-(y+d)+(d-x),C=v+y,d=C-v,qa[2]=v-(C-d)+(y-d),qa[3]=C;const O=aB(R,ece,4,qa,tce);E=a*c,f=fa*a,h=f-(f-a),p=a-h,f=fa*c,m=f-(f-c),g=c-m,_=p*g-(E-h*m-p*m-h*g),x=l*u,f=fa*l,h=f-(f-l),p=l-h,f=fa*u,m=f-(f-u),g=u-m,S=p*g-(x-h*m-p*m-h*g),y=_-S,d=_-y,qa[0]=_-(y+d)+(d-S),v=E+y,d=v-E,w=E-(v-d)+(y-d),y=w-x,d=w-y,qa[1]=w-(y+d)+(d-x),C=v+y,d=C-v,qa[2]=v-(C-d)+(y-d),qa[3]=C;const B=aB(O,tce,4,qa,nce);return nce[B-1]}function d3(e,t,n,r,i,o){const s=(t-o)*(n-i),a=(e-i)*(r-o),l=s-a,u=Math.abs(s+a);return Math.abs(l)>=WEt*u?l:-YEt(e,t,n,r,i,o,u)}const rce=Math.pow(2,-52),f3=new Uint32Array(512);class pM{static from(t,n=ZEt,r=eSt){const i=t.length,o=new Float64Array(i*2);for(let s=0;s<i;s++){const a=t[s];o[2*s]=n(a),o[2*s+1]=r(a)}return new pM(o)}constructor(t){const n=t.length>>1;if(n>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:o}=this,s=t.length>>1;let a=1/0,l=1/0,u=-1/0,c=-1/0;for(let A=0;A<s;A++){const k=t[2*A],N=t[2*A+1];k<a&&(a=k),N<l&&(l=N),k>u&&(u=k),N>c&&(c=N),this._ids[A]=A}const d=(a+u)/2,f=(l+c)/2;let h,p,m;for(let A=0,k=1/0;A<s;A++){const N=lB(d,f,t[2*A],t[2*A+1]);N<k&&(h=A,k=N)}const g=t[2*h],y=t[2*h+1];for(let A=0,k=1/0;A<s;A++){if(A===h)continue;const N=lB(g,y,t[2*A],t[2*A+1]);N<k&&N>0&&(p=A,k=N)}let v=t[2*p],w=t[2*p+1],E=1/0;for(let A=0;A<s;A++){if(A===h||A===p)continue;const k=QEt(g,y,v,w,t[2*A],t[2*A+1]);k<E&&(m=A,E=k)}let _=t[2*m],x=t[2*m+1];if(E===1/0){for(let N=0;N<s;N++)this._dists[N]=t[2*N]-t[0]||t[2*N+1]-t[1];O1(this._ids,this._dists,0,s-1);const A=new Uint32Array(s);let k=0;for(let N=0,M=-1/0;N<s;N++){const I=this._ids[N],D=this._dists[I];D>M&&(A[k++]=I,M=D)}this.hull=A.subarray(0,k),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(d3(g,y,v,w,_,x)<0){const A=p,k=v,N=w;p=m,v=_,w=x,m=A,_=k,x=N}const S=JEt(g,y,v,w,_,x);this._cx=S.x,this._cy=S.y;for(let A=0;A<s;A++)this._dists[A]=lB(t[2*A],t[2*A+1],S.x,S.y);O1(this._ids,this._dists,0,s-1),this._hullStart=h;let C=3;r[h]=n[m]=p,r[p]=n[h]=m,r[m]=n[p]=h,i[h]=0,i[p]=1,i[m]=2,o.fill(-1),o[this._hashKey(g,y)]=h,o[this._hashKey(v,w)]=p,o[this._hashKey(_,x)]=m,this.trianglesLen=0,this._addTriangle(h,p,m,-1,-1,-1);for(let A=0,k,N;A<this._ids.length;A++){const M=this._ids[A],I=t[2*M],D=t[2*M+1];if(A>0&&Math.abs(I-k)<=rce&&Math.abs(D-N)<=rce||(k=I,N=D,M===h||M===p||M===m))continue;let R=0;for(let U=0,F=this._hashKey(I,D);U<this._hashSize&&(R=o[(F+U)%this._hashSize],!(R!==-1&&R!==r[R]));U++);R=n[R];let O=R,B;for(;B=r[O],d3(I,D,t[2*O],t[2*O+1],t[2*B],t[2*B+1])>=0;)if(O=B,O===R){O=-1;break}if(O===-1)continue;let z=this._addTriangle(O,M,r[O],-1,-1,i[O]);i[M]=this._legalize(z+2),i[O]=z,C++;let W=r[O];for(;B=r[W],d3(I,D,t[2*W],t[2*W+1],t[2*B],t[2*B+1])<0;)z=this._addTriangle(W,M,B,i[M],-1,i[W]),i[M]=this._legalize(z+2),r[W]=W,C--,W=B;if(O===R)for(;B=n[O],d3(I,D,t[2*B],t[2*B+1],t[2*O],t[2*O+1])<0;)z=this._addTriangle(B,M,O,-1,i[O],i[B]),this._legalize(z+2),i[B]=z,r[O]=O,C--,O=B;this._hullStart=n[M]=O,r[O]=n[W]=M,r[M]=W,o[this._hashKey(I,D)]=M,o[this._hashKey(t[2*O],t[2*O+1])]=O}this.hull=new Uint32Array(C);for(let A=0,k=this._hullStart;A<C;A++)this.hull[A]=k,k=r[k];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(KEt(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:r,coords:i}=this;let o=0,s=0;for(;;){const a=r[t],l=t-t%3;if(s=l+(t+2)%3,a===-1){if(o===0)break;t=f3[--o];continue}const u=a-a%3,c=l+(t+1)%3,d=u+(a+2)%3,f=n[s],h=n[t],p=n[c],m=n[d];if(XEt(i[2*f],i[2*f+1],i[2*h],i[2*h+1],i[2*p],i[2*p+1],i[2*m],i[2*m+1])){n[t]=m,n[a]=f;const y=r[d];if(y===-1){let w=this._hullStart;do{if(this._hullTri[w]===d){this._hullTri[w]=t;break}w=this._hullPrev[w]}while(w!==this._hullStart)}this._link(t,y),this._link(a,r[s]),this._link(s,d);const v=u+(a+1)%3;o<f3.length&&(f3[o++]=v)}else{if(o===0)break;t=f3[--o]}}return s}_link(t,n){this._halfedges[t]=n,n!==-1&&(this._halfedges[n]=t)}_addTriangle(t,n,r,i,o,s){const a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=n,this._triangles[a+2]=r,this._link(a,i),this._link(a+1,o),this._link(a+2,s),this.trianglesLen+=3,a}}function KEt(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}function lB(e,t,n,r){const i=e-n,o=t-r;return i*i+o*o}function XEt(e,t,n,r,i,o,s,a){const l=e-s,u=t-a,c=n-s,d=r-a,f=i-s,h=o-a,p=l*l+u*u,m=c*c+d*d,g=f*f+h*h;return l*(d*g-m*h)-u*(c*g-m*f)+p*(c*h-d*f)<0}function QEt(e,t,n,r,i,o){const s=n-e,a=r-t,l=i-e,u=o-t,c=s*s+a*a,d=l*l+u*u,f=.5/(s*u-a*l),h=(u*c-a*d)*f,p=(s*d-l*c)*f;return h*h+p*p}function JEt(e,t,n,r,i,o){const s=n-e,a=r-t,l=i-e,u=o-t,c=s*s+a*a,d=l*l+u*u,f=.5/(s*u-a*l),h=e+(u*c-a*d)*f,p=t+(s*d-l*c)*f;return{x:h,y:p}}function O1(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const o=e[i],s=t[o];let a=i-1;for(;a>=n&&t[e[a]]>s;)e[a+1]=e[a--];e[a+1]=o}else{const i=n+r>>1;let o=n+1,s=r;SE(e,i,o),t[e[n]]>t[e[r]]&&SE(e,n,r),t[e[o]]>t[e[r]]&&SE(e,o,r),t[e[n]]>t[e[o]]&&SE(e,n,o);const a=e[o],l=t[a];for(;;){do o++;while(t[e[o]]<l);do s--;while(t[e[s]]>l);if(s<o)break;SE(e,o,s)}e[n+1]=e[s],e[s]=a,r-o+1>=s-n?(O1(e,t,o,r),O1(e,t,n,s-1)):(O1(e,t,n,s-1),O1(e,t,o,r))}}function SE(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function ZEt(e){return e[0]}function eSt(e){return e[1]}const ice=1e-6;class Dy{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,r){t=+t,n=+n,r=+r;const i=t+r,o=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${o}`:(Math.abs(this._x1-i)>ice||Math.abs(this._y1-o)>ice)&&(this._+="L"+i+","+o),r&&(this._+=`A${r},${r},0,1,1,${t-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=o}`)}rect(t,n,r,i){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}class z7{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}let tSt=class{constructor(t,[n,r,i,o]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((o=+o)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=i,this.xmin=n,this.ymax=o,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:r},vectors:i}=this;let o,s;const a=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let m=0,g=0,y=r.length,v,w;m<y;m+=3,g+=2){const E=r[m]*2,_=r[m+1]*2,x=r[m+2]*2,S=t[E],C=t[E+1],A=t[_],k=t[_+1],N=t[x],M=t[x+1],I=A-S,D=k-C,R=N-S,O=M-C,B=(I*O-D*R)*2;if(Math.abs(B)<1e-9){if(o===void 0){o=s=0;for(const W of n)o+=t[W*2],s+=t[W*2+1];o/=n.length,s/=n.length}const z=1e9*Math.sign((o-S)*O-(s-C)*R);v=(S+N)/2-z*O,w=(C+M)/2+z*R}else{const z=1/B,W=I*I+D*D,U=R*R+O*O;v=S+(O*W-D*U)*z,w=C+(I*U-R*W)*z}a[g]=v,a[g+1]=w}let l=n[n.length-1],u,c=l*4,d,f=t[2*l],h,p=t[2*l+1];i.fill(0);for(let m=0;m<n.length;++m)l=n[m],u=c,d=f,h=p,c=l*4,f=t[2*l],p=t[2*l+1],i[u+2]=i[c]=h-p,i[u+3]=i[c+1]=f-d}render(t){const n=t==null?t=new Dy:void 0,{delaunay:{halfedges:r,inedges:i,hull:o},circumcenters:s,vectors:a}=this;if(o.length<=1)return null;for(let c=0,d=r.length;c<d;++c){const f=r[c];if(f<c)continue;const h=Math.floor(c/3)*2,p=Math.floor(f/3)*2,m=s[h],g=s[h+1],y=s[p],v=s[p+1];this._renderSegment(m,g,y,v,t)}let l,u=o[o.length-1];for(let c=0;c<o.length;++c){l=u,u=o[c];const d=Math.floor(i[u]/3)*2,f=s[d],h=s[d+1],p=l*4,m=this._project(f,h,a[p+2],a[p+3]);m&&this._renderSegment(f,h,m[0],m[1],t)}return n&&n.value()}renderBounds(t){const n=t==null?t=new Dy:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const r=n==null?n=new Dy:void 0,i=this._clip(t);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let o=i.length;for(;i[0]===i[o-2]&&i[1]===i[o-1]&&o>1;)o-=2;for(let s=2;s<o;s+=2)(i[s]!==i[s-2]||i[s+1]!==i[s-1])&&n.lineTo(i[s],i[s+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,r=t.length/2;n<r;++n){const i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(t){const n=new z7;return this.renderCell(t,n),n.value()}_renderSegment(t,n,r,i,o){let s;const a=this._regioncode(t,n),l=this._regioncode(r,i);a===0&&l===0?(o.moveTo(t,n),o.lineTo(r,i)):(s=this._clipSegment(t,n,r,i,a,l))&&(o.moveTo(s[0],s[1]),o.lineTo(s[2],s[3]))}contains(t,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(t,n,r)===t}*neighbors(t){const n=this._clip(t);if(n)for(const r of this.delaunay.neighbors(t)){const i=this._clip(r);if(i){e:for(let o=0,s=n.length;o<s;o+=2)for(let a=0,l=i.length;a<l;a+=2)if(n[o]===i[a]&&n[o+1]===i[a+1]&&n[(o+2)%s]===i[(a+l-2)%l]&&n[(o+3)%s]===i[(a+l-1)%l]){yield r;break e}}}}_cell(t){const{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:o}}=this,s=r[t];if(s===-1)return null;const a=[];let l=s;do{const u=Math.floor(l/3);if(a.push(n[u*2],n[u*2+1]),l=l%3===2?l-2:l+1,o[l]!==t)break;l=i[l]}while(l!==s&&l!==-1);return a}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(n===null)return null;const{vectors:r}=this,i=t*4;return this._simplify(r[i]||r[i+1]?this._clipInfinite(t,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(t,n))}_clipFinite(t,n){const r=n.length;let i=null,o,s,a=n[r-2],l=n[r-1],u,c=this._regioncode(a,l),d,f=0;for(let h=0;h<r;h+=2)if(o=a,s=l,a=n[h],l=n[h+1],u=c,c=this._regioncode(a,l),u===0&&c===0)d=f,f=0,i?i.push(a,l):i=[a,l];else{let p,m,g,y,v;if(u===0){if((p=this._clipSegment(o,s,a,l,u,c))===null)continue;[m,g,y,v]=p}else{if((p=this._clipSegment(a,l,o,s,c,u))===null)continue;[y,v,m,g]=p,d=f,f=this._edgecode(m,g),d&&f&&this._edge(t,d,f,i,i.length),i?i.push(m,g):i=[m,g]}d=f,f=this._edgecode(y,v),d&&f&&this._edge(t,d,f,i,i.length),i?i.push(y,v):i=[y,v]}if(i)d=f,f=this._edgecode(i[0],i[1]),d&&f&&this._edge(t,d,f,i,i.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(t,n,r,i,o,s){const a=o<s;for(a&&([t,n,r,i,o,s]=[r,i,t,n,s,o]);;){if(o===0&&s===0)return a?[r,i,t,n]:[t,n,r,i];if(o&s)return null;let l,u,c=o||s;c&8?(l=t+(r-t)*(this.ymax-n)/(i-n),u=this.ymax):c&4?(l=t+(r-t)*(this.ymin-n)/(i-n),u=this.ymin):c&2?(u=n+(i-n)*(this.xmax-t)/(r-t),l=this.xmax):(u=n+(i-n)*(this.xmin-t)/(r-t),l=this.xmin),o?(t=l,n=u,o=this._regioncode(t,n)):(r=l,i=u,s=this._regioncode(r,i))}}_clipInfinite(t,n,r,i,o,s){let a=Array.from(n),l;if((l=this._project(a[0],a[1],r,i))&&a.unshift(l[0],l[1]),(l=this._project(a[a.length-2],a[a.length-1],o,s))&&a.push(l[0],l[1]),a=this._clipFinite(t,a))for(let u=0,c=a.length,d,f=this._edgecode(a[c-2],a[c-1]);u<c;u+=2)d=f,f=this._edgecode(a[u],a[u+1]),d&&f&&(u=this._edge(t,d,f,a,u),c=a.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(a=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return a}_edge(t,n,r,i,o){for(;n!==r;){let s,a;switch(n){case 5:n=4;continue;case 4:n=6,s=this.xmax,a=this.ymin;break;case 6:n=2;continue;case 2:n=10,s=this.xmax,a=this.ymax;break;case 10:n=8;continue;case 8:n=9,s=this.xmin,a=this.ymax;break;case 9:n=1;continue;case 1:n=5,s=this.xmin,a=this.ymin;break}(i[o]!==s||i[o+1]!==a)&&this.contains(t,s,a)&&(i.splice(o,0,s,a),o+=2)}return o}_project(t,n,r,i){let o=1/0,s,a,l;if(i<0){if(n<=this.ymin)return null;(s=(this.ymin-n)/i)<o&&(l=this.ymin,a=t+(o=s)*r)}else if(i>0){if(n>=this.ymax)return null;(s=(this.ymax-n)/i)<o&&(l=this.ymax,a=t+(o=s)*r)}if(r>0){if(t>=this.xmax)return null;(s=(this.xmax-t)/r)<o&&(a=this.xmax,l=n+(o=s)*i)}else if(r<0){if(t<=this.xmin)return null;(s=(this.xmin-t)/r)<o&&(a=this.xmin,l=n+(o=s)*i)}return[a,l]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let n=0;n<t.length;n+=2){const r=(n+2)%t.length,i=(n+4)%t.length;(t[n]===t[r]&&t[r]===t[i]||t[n+1]===t[r+1]&&t[r+1]===t[i+1])&&(t.splice(r,2),n-=2)}t.length||(t=null)}return t}};const nSt=2*Math.PI,c1=Math.pow;function rSt(e){return e[0]}function iSt(e){return e[1]}function oSt(e){const{triangles:t,coords:n}=e;for(let r=0;r<t.length;r+=3){const i=2*t[r],o=2*t[r+1],s=2*t[r+2];if((n[s]-n[i])*(n[o+1]-n[i+1])-(n[o]-n[i])*(n[s+1]-n[i+1])>1e-10)return!1}return!0}function sSt(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class EK{static from(t,n=rSt,r=iSt,i){return new EK("length"in t?aSt(t,n,r,i):Float64Array.from(lSt(t,n,r,i)))}constructor(t){this._delaunator=new pM(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&oSt(t)){this.collinear=Int32Array.from({length:n.length/2},(f,h)=>h).sort((f,h)=>n[2*f]-n[2*h]||n[2*f+1]-n[2*h+1]);const l=this.collinear[0],u=this.collinear[this.collinear.length-1],c=[n[2*l],n[2*l+1],n[2*u],n[2*u+1]],d=1e-8*Math.hypot(c[3]-c[1],c[2]-c[0]);for(let f=0,h=n.length/2;f<h;++f){const p=sSt(n[2*f],n[2*f+1],d);n[2*f]=p[0],n[2*f+1]=p[1]}this._delaunator=new pM(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,s=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let l=0,u=r.length;l<u;++l){const c=o[l%3===2?l-2:l+1];(r[l]===-1||s[c]===-1)&&(s[c]=l)}for(let l=0,u=i.length;l<u;++l)a[i[l]]=l;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],s[i[0]]=1,i.length===2&&(s[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(t){return new tSt(this,t)}*neighbors(t){const{inedges:n,hull:r,_hullIndex:i,halfedges:o,triangles:s,collinear:a}=this;if(a){const d=a.indexOf(t);d>0&&(yield a[d-1]),d<a.length-1&&(yield a[d+1]);return}const l=n[t];if(l===-1)return;let u=l,c=-1;do{if(yield c=s[u],u=u%3===2?u-2:u+1,s[u]!==t)return;if(u=o[u],u===-1){const d=r[(i[t]+1)%r.length];d!==c&&(yield d);return}}while(u!==l)}find(t,n,r=0){if(t=+t,t!==t||(n=+n,n!==n))return-1;const i=r;let o;for(;(o=this._step(r,t,n))>=0&&o!==r&&o!==i;)r=o;return o}_step(t,n,r){const{inedges:i,hull:o,_hullIndex:s,halfedges:a,triangles:l,points:u}=this;if(i[t]===-1||!u.length)return(t+1)%(u.length>>1);let c=t,d=c1(n-u[t*2],2)+c1(r-u[t*2+1],2);const f=i[t];let h=f;do{let p=l[h];const m=c1(n-u[p*2],2)+c1(r-u[p*2+1],2);if(m<d&&(d=m,c=p),h=h%3===2?h-2:h+1,l[h]!==t)break;if(h=a[h],h===-1){if(h=o[(s[t]+1)%o.length],h!==p&&c1(n-u[h*2],2)+c1(r-u[h*2+1],2)<d)return h;break}}while(h!==f);return c}render(t){const n=t==null?t=new Dy:void 0,{points:r,halfedges:i,triangles:o}=this;for(let s=0,a=i.length;s<a;++s){const l=i[s];if(l<s)continue;const u=o[s]*2,c=o[l]*2;t.moveTo(r[u],r[u+1]),t.lineTo(r[c],r[c+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n){n===void 0&&(!t||typeof t.moveTo!="function")&&(n=t,t=null),n=n==null?2:+n;const r=t==null?t=new Dy:void 0,{points:i}=this;for(let o=0,s=i.length;o<s;o+=2){const a=i[o],l=i[o+1];t.moveTo(a+n,l),t.arc(a,l,n,0,nSt)}return r&&r.value()}renderHull(t){const n=t==null?t=new Dy:void 0,{hull:r,points:i}=this,o=r[0]*2,s=r.length;t.moveTo(i[o],i[o+1]);for(let a=1;a<s;++a){const l=2*r[a];t.lineTo(i[l],i[l+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new z7;return this.renderHull(t),t.value()}renderTriangle(t,n){const r=n==null?n=new Dy:void 0,{points:i,triangles:o}=this,s=o[t*=3]*2,a=o[t+1]*2,l=o[t+2]*2;return n.moveTo(i[s],i[s+1]),n.lineTo(i[a],i[a+1]),n.lineTo(i[l],i[l+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,r=t.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new z7;return this.renderTriangle(t,n),n.value()}}function aSt(e,t,n,r){const i=e.length,o=new Float64Array(i*2);for(let s=0;s<i;++s){const a=e[s];o[s*2]=t.call(r,a,s,e),o[s*2+1]=n.call(r,a,s,e)}return o}function*lSt(e,t,n,r){let i=0;for(const o of e)yield t.call(r,o,i,e),yield n.call(r,o,i,e),++i}function SK(e){Ve.call(this,null,e)}SK.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const uSt=[-1e5,-1e5,1e5,1e5];Mt(SK,Ve,{transform(e,t){const n=e.as||"path",r=t.source;if(!r||!r.length)return t;let i=e.size;i=i?[0,0,i[0],i[1]]:(i=e.extent)?[i[0][0],i[0][1],i[1][0],i[1][1]]:uSt;const o=this.value=EK.from(r,e.x,e.y).voronoi(i);for(let s=0,a=r.length;s<a;++s){const l=o.cellPolygon(s);r[s][n]=l&&!dSt(l)?cSt(l):null}return t.reflow(e.modified()).modifies(n)}});function cSt(e){const t=e[0][0],n=e[0][1];let r=e.length-1;for(;e[r][0]===t&&e[r][1]===n;--r);return"M"+e.slice(0,r+1).join("L")+"Z"}function dSt(e){return e.length===2&&e[0][0]===e[1][0]&&e[0][1]===e[1][1]}const fSt=Object.freeze(Object.defineProperty({__proto__:null,voronoi:SK},Symbol.toStringTag,{value:"Module"}));var uB=Math.PI/180,xS=64,UR=2048;function hSt(){var e=[256,256],t,n,r,i,o,s,a,l=fke,u=[],c=Math.random,d={};d.layout=function(){for(var p=f(xg()),m=bSt((e[0]>>5)*e[1]),g=null,y=u.length,v=-1,w=[],E=u.map(x=>({text:t(x),font:n(x),style:i(x),weight:o(x),rotate:s(x),size:~~(r(x)+1e-14),padding:a(x),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:x})).sort((x,S)=>S.size-x.size);++v<y;){var _=E[v];_.x=e[0]*(c()+.5)>>1,_.y=e[1]*(c()+.5)>>1,pSt(p,_,E,v),_.hasText&&h(m,_,g)&&(w.push(_),g?gSt(g,_):g=[{x:_.x+_.x0,y:_.y+_.y0},{x:_.x+_.x1,y:_.y+_.y1}],_.x-=e[0]>>1,_.y-=e[1]>>1)}return w};function f(p){p.width=p.height=1;var m=Math.sqrt(p.getContext("2d").getImageData(0,0,1,1).data.length>>2);p.width=(xS<<5)/m,p.height=UR/m;var g=p.getContext("2d");return g.fillStyle=g.strokeStyle="red",g.textAlign="center",{context:g,ratio:m}}function h(p,m,g){for(var y=m.x,v=m.y,w=Math.hypot(e[0],e[1]),E=l(e),_=c()<.5?1:-1,x=-_,S,C,A;(S=E(x+=_))&&(C=~~S[0],A=~~S[1],!(Math.min(Math.abs(C),Math.abs(A))>=w));)if(m.x=y+C,m.y=v+A,!(m.x+m.x0<0||m.y+m.y0<0||m.x+m.x1>e[0]||m.y+m.y1>e[1])&&(!g||!mSt(m,p,e[0]))&&(!g||ySt(m,g))){for(var k=m.sprite,N=m.width>>5,M=e[0]>>5,I=m.x-(N<<4),D=I&127,R=32-D,O=m.y1-m.y0,B=(m.y+m.y0)*M+(I>>5),z,W=0;W<O;W++){z=0;for(var U=0;U<=N;U++)p[B+U]|=z<<R|(U<N?(z=k[W*N+U])>>>D:0);B+=M}return m.sprite=null,!0}return!1}return d.words=function(p){return arguments.length?(u=p,d):u},d.size=function(p){return arguments.length?(e=[+p[0],+p[1]],d):e},d.font=function(p){return arguments.length?(n=W0(p),d):n},d.fontStyle=function(p){return arguments.length?(i=W0(p),d):i},d.fontWeight=function(p){return arguments.length?(o=W0(p),d):o},d.rotate=function(p){return arguments.length?(s=W0(p),d):s},d.text=function(p){return arguments.length?(t=W0(p),d):t},d.spiral=function(p){return arguments.length?(l=wSt[p]||p,d):l},d.fontSize=function(p){return arguments.length?(r=W0(p),d):r},d.padding=function(p){return arguments.length?(a=W0(p),d):a},d.random=function(p){return arguments.length?(c=p,d):c},d}function pSt(e,t,n,r){if(!t.sprite){var i=e.context,o=e.ratio;i.clearRect(0,0,(xS<<5)/o,UR/o);var s=0,a=0,l=0,u=n.length,c,d,f,h,p;for(--r;++r<u;){if(t=n[r],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/o)+"px "+t.font,c=i.measureText(t.text+"m").width*o,f=t.size<<1,t.rotate){var m=Math.sin(t.rotate*uB),g=Math.cos(t.rotate*uB),y=c*g,v=c*m,w=f*g,E=f*m;c=Math.max(Math.abs(y+E),Math.abs(y-E))+31>>5<<5,f=~~Math.max(Math.abs(v+w),Math.abs(v-w))}else c=c+31>>5<<5;if(f>l&&(l=f),s+c>=xS<<5&&(s=0,a+=l,l=0),a+f>=UR)break;i.translate((s+(c>>1))/o,(a+(f>>1))/o),t.rotate&&i.rotate(t.rotate*uB),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=c,t.height=f,t.xoff=s,t.yoff=a,t.x1=c>>1,t.y1=f>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,s+=c}for(var _=i.getImageData(0,0,(xS<<5)/o,UR/o).data,x=[];--r>=0;)if(t=n[r],!!t.hasText){for(c=t.width,d=c>>5,f=t.y1-t.y0,h=0;h<f*d;h++)x[h]=0;if(s=t.xoff,s==null)return;a=t.yoff;var S=0,C=-1;for(p=0;p<f;p++){for(h=0;h<c;h++){var A=d*p+(h>>5),k=_[(a+p)*(xS<<5)+(s+h)<<2]?1<<31-h%32:0;x[A]|=k,S|=k}S?C=p:(t.y0++,f--,p--,a++)}t.y1=t.y0+C,t.sprite=x.slice(0,(t.y1-t.y0)*d)}}}function mSt(e,t,n){n>>=5;for(var r=e.sprite,i=e.width>>5,o=e.x-(i<<4),s=o&127,a=32-s,l=e.y1-e.y0,u=(e.y+e.y0)*n+(o>>5),c,d=0;d<l;d++){c=0;for(var f=0;f<=i;f++)if((c<<a|(f<i?(c=r[d*i+f])>>>s:0))&t[u+f])return!0;u+=n}return!1}function gSt(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function ySt(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function fke(e){var t=e[0]/e[1];return function(n){return[t*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function vSt(e){var t=4,n=t*e[0]/e[1],r=0,i=0;return function(o){var s=o<0?-1:1;switch(Math.sqrt(1+4*s*o)-s&3){case 0:r+=n;break;case 1:i+=t;break;case 2:r-=n;break;default:i-=t;break}return[r,i]}}function bSt(e){for(var t=[],n=-1;++n<e;)t[n]=0;return t}function W0(e){return typeof e=="function"?e:function(){return e}}var wSt={archimedean:fke,rectangular:vSt};const hke=["x","y","font","fontSize","fontStyle","fontWeight","angle"],xSt=["text","font","rotate","fontSize","fontStyle","fontWeight"];function TK(e){Ve.call(this,hSt(),e)}TK.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:hke}]};Mt(TK,Ve,{transform(e,t){e.size&&!(e.size[0]&&e.size[1])&&Je("Wordcloud size dimensions must be non-zero.");function n(p){const m=e[p];return jn(m)&&t.modified(m.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||xSt.some(n)))return;const i=t.materialize(t.SOURCE).source,o=this.value,s=e.as||hke;let a=e.fontSize||14,l;if(jn(a)?l=e.fontSizeRange:a=Pa(a),l){const p=a,m=Cr("sqrt")().domain(Gf(i,p)).range(l);a=g=>m(p(g))}i.forEach(p=>{p[s[0]]=NaN,p[s[1]]=NaN,p[s[3]]=0});const u=o.words(i).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(a).random(xc).layout(),c=o.size(),d=c[0]>>1,f=c[1]>>1,h=u.length;for(let p=0,m,g;p<h;++p)m=u[p],g=m.datum,g[s[0]]=m.x+d,g[s[1]]=m.y+f,g[s[2]]=m.font,g[s[3]]=m.size,g[s[4]]=m.style,g[s[5]]=m.weight,g[s[6]]=m.rotate;return t.reflow(r).modifies(s)}});const _St=Object.freeze(Object.defineProperty({__proto__:null,wordcloud:TK},Symbol.toStringTag,{value:"Module"})),ESt=e=>new Uint8Array(e),SSt=e=>new Uint16Array(e),eT=e=>new Uint32Array(e);function TSt(){let e=8,t=[],n=eT(0),r=h3(0,e),i=h3(0,e);return{data:()=>t,seen:()=>n=CSt(n,t.length),add(o){for(let s=0,a=t.length,l=o.length,u;s<l;++s)u=o[s],u._index=a++,t.push(u)},remove(o,s){const a=t.length,l=Array(a-o),u=t;let c,d,f;for(d=0;!s[d]&&d<a;++d)l[d]=t[d],u[d]=d;for(f=d;d<a;++d)c=t[d],s[d]?u[d]=-1:(u[d]=f,r[f]=r[d],i[f]=i[d],l[f]=c,c._index=f++),r[d]=0;return t=l,u},size:()=>t.length,curr:()=>r,prev:()=>i,reset:o=>i[o]=r[o],all:()=>e<257?255:e<65537?65535:4294967295,set(o,s){r[o]|=s},clear(o,s){r[o]&=~s},resize(o,s){const a=r.length;(o>a||s>e)&&(e=Math.max(s,e),r=h3(o,e,r),i=h3(o,e))}}}function CSt(e,t,n){return e.length>=t?e:(n=n||new e.constructor(t),n.set(e),n)}function h3(e,t,n){const r=(t<257?ESt:t<65537?SSt:eT)(e);return n&&r.set(n),r}function oce(e,t,n){const r=1<<t;return{one:r,zero:~r,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd(i,o){const s=this,a=s.bisect(s.range,i.value),l=i.index,u=a[0],c=a[1],d=l.length;let f;for(f=0;f<u;++f)o[l[f]]|=r;for(f=c;f<d;++f)o[l[f]]|=r;return s}}}function sce(){let e=eT(0),t=[],n=0;function r(a,l,u){if(!l.length)return[];const c=n,d=l.length,f=eT(d);let h=Array(d),p,m,g;for(g=0;g<d;++g)h[g]=a(l[g]),f[g]=g;if(h=ASt(h,f),c)p=t,m=e,t=Array(c+d),e=eT(c+d),kSt(u,p,m,c,h,f,d,t,e);else{if(u>0)for(g=0;g<d;++g)f[g]+=u;t=h,e=f}return n=c+d,{index:f,value:h}}function i(a,l){const u=n;let c,d,f;for(d=0;!l[e[d]]&&d<u;++d);for(f=d;d<u;++d)l[c=e[d]]||(e[f]=c,t[f]=t[d],++f);n=u-a}function o(a){for(let l=0,u=n;l<u;++l)e[l]=a[e[l]]}function s(a,l){let u;return l?u=l.length:(l=t,u=n),[Pdt(l,a[0],0,u),Fg(l,a[1],0,u)]}return{insert:r,remove:i,bisect:s,reindex:o,index:()=>e,size:()=>n}}function ASt(e,t){return e.sort.call(t,(n,r)=>{const i=e[n],o=e[r];return i<o?-1:i>o?1:0}),Fdt(e,t)}function kSt(e,t,n,r,i,o,s,a,l){let u=0,c=0,d;for(d=0;u<r&&c<s;++d)t[u]<i[c]?(a[d]=t[u],l[d]=n[u++]):(a[d]=i[c],l[d]=o[c++]+e);for(;u<r;++u,++d)a[d]=t[u],l[d]=n[u];for(;c<s;++c,++d)a[d]=i[c],l[d]=o[c]+e}function CK(e){Ve.call(this,TSt(),e),this._indices=null,this._dims=null}CK.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};Mt(CK,Ve,{transform(e,t){if(this._dims){var n=e.modified("fields")||e.fields.some(r=>t.modified(r.fields));return n?this.reinit(e,t):this.eval(e,t)}else return this.init(e,t)},init(e,t){const n=e.fields,r=e.query,i=this._indices={},o=this._dims=[],s=r.length;let a=0,l,u;for(;a<s;++a)l=n[a].fname,u=i[l]||(i[l]=sce()),o.push(oce(u,a,r[a]));return this.eval(e,t)},reinit(e,t){const n=t.materialize().fork(),r=e.fields,i=e.query,o=this._indices,s=this._dims,a=this.value,l=a.curr(),u=a.prev(),c=a.all(),d=n.rem=n.add,f=n.mod,h=i.length,p={};let m,g,y,v,w,E,_,x,S;if(u.set(l),t.rem.length&&(w=this.remove(e,t,n)),t.add.length&&a.add(t.add),t.mod.length)for(E={},v=t.mod,_=0,x=v.length;_<x;++_)E[v[_]._index]=1;for(_=0;_<h;++_)S=r[_],(!s[_]||e.modified("fields",_)||t.modified(S.fields))&&(y=S.fname,(m=p[y])||(o[y]=g=sce(),p[y]=m=g.insert(S,t.source,0)),s[_]=oce(g,_,i[_]).onAdd(m,l));for(_=0,x=a.data().length;_<x;++_)w[_]||(u[_]!==l[_]?d.push(_):E[_]&&l[_]!==c&&f.push(_));return a.mask=(1<<h)-1,n},eval(e,t){const n=t.materialize().fork(),r=this._dims.length;let i=0;return t.rem.length&&(this.remove(e,t,n),i|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(i|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),i|=(1<<r)-1),t.mod.length&&(this.modify(t,n),i|=(1<<r)-1),this.value.mask=i,n},insert(e,t,n){const r=t.add,i=this.value,o=this._dims,s=this._indices,a=e.fields,l={},u=n.add,c=i.size()+r.length,d=o.length;let f=i.size(),h,p,m;i.resize(c,d),i.add(r);const g=i.curr(),y=i.prev(),v=i.all();for(h=0;h<d;++h)p=a[h].fname,m=l[p]||(l[p]=s[p].insert(a[h],r,f)),o[h].onAdd(m,g);for(;f<c;++f)y[f]=v,g[f]!==v&&u.push(f)},modify(e,t){const n=t.mod,r=this.value,i=r.curr(),o=r.all(),s=e.mod;let a,l,u;for(a=0,l=s.length;a<l;++a)u=s[a]._index,i[u]!==o&&n.push(u)},remove(e,t,n){const r=this._indices,i=this.value,o=i.curr(),s=i.prev(),a=i.all(),l={},u=n.rem,c=t.rem;let d,f,h,p;for(d=0,f=c.length;d<f;++d)h=c[d]._index,l[h]=1,s[h]=p=o[h],o[h]=a,p!==a&&u.push(h);for(h in r)r[h].remove(f,l);return this.reindex(t,f,l),l},reindex(e,t,n){const r=this._indices,i=this.value;e.runAfter(()=>{const o=i.remove(t,n);for(const s in r)r[s].reindex(o)})},update(e,t,n){const r=this._dims,i=e.query,o=t.stamp,s=r.length;let a=0,l,u;for(n.filters=0,u=0;u<s;++u)e.modified("query",u)&&(l=u,++a);if(a===1)a=r[l].one,this.incrementOne(r[l],i[l],n.add,n.rem);else for(u=0,a=0;u<s;++u)e.modified("query",u)&&(a|=r[u].one,this.incrementAll(r[u],i[u],o,n.add),n.rem=n.add);return a},incrementAll(e,t,n,r){const i=this.value,o=i.seen(),s=i.curr(),a=i.prev(),l=e.index(),u=e.bisect(e.range),c=e.bisect(t),d=c[0],f=c[1],h=u[0],p=u[1],m=e.one;let g,y,v;if(d<h)for(g=d,y=Math.min(h,f);g<y;++g)v=l[g],o[v]!==n&&(a[v]=s[v],o[v]=n,r.push(v)),s[v]^=m;else if(d>h)for(g=h,y=Math.min(d,p);g<y;++g)v=l[g],o[v]!==n&&(a[v]=s[v],o[v]=n,r.push(v)),s[v]^=m;if(f>p)for(g=Math.max(d,p),y=f;g<y;++g)v=l[g],o[v]!==n&&(a[v]=s[v],o[v]=n,r.push(v)),s[v]^=m;else if(f<p)for(g=Math.max(h,f),y=p;g<y;++g)v=l[g],o[v]!==n&&(a[v]=s[v],o[v]=n,r.push(v)),s[v]^=m;e.range=t.slice()},incrementOne(e,t,n,r){const i=this.value,o=i.curr(),s=e.index(),a=e.bisect(e.range),l=e.bisect(t),u=l[0],c=l[1],d=a[0],f=a[1],h=e.one;let p,m,g;if(u<d)for(p=u,m=Math.min(d,c);p<m;++p)g=s[p],o[g]^=h,n.push(g);else if(u>d)for(p=d,m=Math.min(u,f);p<m;++p)g=s[p],o[g]^=h,r.push(g);if(c>f)for(p=Math.max(u,f),m=c;p<m;++p)g=s[p],o[g]^=h,n.push(g);else if(c<f)for(p=Math.max(d,c),m=f;p<m;++p)g=s[p],o[g]^=h,r.push(g);e.range=t.slice()}});function AK(e){Ve.call(this,null,e)}AK.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};Mt(AK,Ve,{transform(e,t){const n=~(e.ignore||0),r=e.filter,i=r.mask;if((i&n)===0)return t.StopPropagation;const o=t.fork(t.ALL),s=r.data(),a=r.curr(),l=r.prev(),u=c=>a[c]&n?null:s[c];return o.filter(o.MOD,u),i&i-1?(o.filter(o.ADD,c=>{const d=a[c]&n;return!d&&d^l[c]&n?s[c]:null}),o.filter(o.REM,c=>{const d=a[c]&n;return d&&!(d^(d^l[c]&n))?s[c]:null})):(o.filter(o.ADD,u),o.filter(o.REM,c=>(a[c]&n)===i?s[c]:null)),o.filter(o.SOURCE,c=>u(c._index))}});const ISt=Object.freeze(Object.defineProperty({__proto__:null,crossfilter:CK,resolvefilter:AK},Symbol.toStringTag,{value:"Module"})),RSt="RawCode",mv="Literal",DSt="Property",$St="Identifier",MSt="ArrayExpression",PSt="BinaryExpression",pke="CallExpression",NSt="ConditionalExpression",OSt="LogicalExpression",LSt="MemberExpression",FSt="ObjectExpression",BSt="UnaryExpression";function Pd(e){this.type=e}Pd.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=jSt(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};function jSt(e){switch(e.type){case MSt:return e.elements;case PSt:case OSt:return[e.left,e.right];case pke:return[e.callee].concat(e.arguments);case NSt:return[e.test,e.consequent,e.alternate];case LSt:return[e.object,e.property];case FSt:return e.properties;case DSt:return[e.key,e.value];case BSt:return[e.argument];case $St:case mv:case RSt:default:return[]}}var mh,rn,Ke,Aa,jr,wO=1,OA=2,gv=3,y0=4,xO=5,ab=6,Il=7,LA=8,zSt=9;mh={};mh[wO]="Boolean";mh[OA]="<end>";mh[gv]="Identifier";mh[y0]="Keyword";mh[xO]="Null";mh[ab]="Numeric";mh[Il]="Punctuator";mh[LA]="String";mh[zSt]="RegularExpression";var USt="ArrayExpression",HSt="BinaryExpression",VSt="CallExpression",WSt="ConditionalExpression",mke="Identifier",qSt="Literal",GSt="LogicalExpression",YSt="MemberExpression",KSt="ObjectExpression",XSt="Property",QSt="UnaryExpression",ds="Unexpected token %0",JSt="Unexpected number",ZSt="Unexpected string",eTt="Unexpected identifier",tTt="Unexpected reserved word",nTt="Unexpected end of input",U7="Invalid regular expression",cB="Invalid regular expression: missing /",gke="Octal literals are not allowed in strict mode.",rTt="Duplicate data property in object literal not allowed in strict mode",Vs="ILLEGAL",oC="Disabled.",iTt=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),oTt=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function _O(e,t){if(!e)throw new Error("ASSERT: "+t)}function Wh(e){return e>=48&&e<=57}function kK(e){return"0123456789abcdefABCDEF".includes(e)}function tT(e){return"01234567".includes(e)}function sTt(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(e)}function sC(e){return e===10||e===13||e===8232||e===8233}function FA(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&iTt.test(String.fromCharCode(e))}function mM(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&oTt.test(String.fromCharCode(e))}const aTt={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function yke(){for(;Ke<Aa;){const e=rn.charCodeAt(Ke);if(sTt(e)||sC(e))++Ke;else break}}function H7(e){var t,n,r,i=0;for(n=e==="u"?4:2,t=0;t<n;++t)Ke<Aa&&kK(rn[Ke])?(r=rn[Ke++],i=i*16+"0123456789abcdef".indexOf(r.toLowerCase())):_r({},ds,Vs);return String.fromCharCode(i)}function lTt(){var e,t,n,r;for(e=rn[Ke],t=0,e==="}"&&_r({},ds,Vs);Ke<Aa&&(e=rn[Ke++],!!kK(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&_r({},ds,Vs),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function vke(){var e,t;for(e=rn.charCodeAt(Ke++),t=String.fromCharCode(e),e===92&&(rn.charCodeAt(Ke)!==117&&_r({},ds,Vs),++Ke,e=H7("u"),(!e||e==="\\"||!FA(e.charCodeAt(0)))&&_r({},ds,Vs),t=e);Ke<Aa&&(e=rn.charCodeAt(Ke),!!mM(e));)++Ke,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),rn.charCodeAt(Ke)!==117&&_r({},ds,Vs),++Ke,e=H7("u"),(!e||e==="\\"||!mM(e.charCodeAt(0)))&&_r({},ds,Vs),t+=e);return t}function uTt(){var e,t;for(e=Ke++;Ke<Aa;){if(t=rn.charCodeAt(Ke),t===92)return Ke=e,vke();if(mM(t))++Ke;else break}return rn.slice(e,Ke)}function cTt(){var e,t,n;return e=Ke,t=rn.charCodeAt(Ke)===92?vke():uTt(),t.length===1?n=gv:aTt.hasOwnProperty(t)?n=y0:t==="null"?n=xO:t==="true"||t==="false"?n=wO:n=gv,{type:n,value:t,start:e,end:Ke}}function dB(){var e=Ke,t=rn.charCodeAt(Ke),n,r=rn[Ke],i,o,s;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Ke,{type:Il,value:String.fromCharCode(t),start:e,end:Ke};default:if(n=rn.charCodeAt(Ke+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Ke+=2,{type:Il,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:Ke};case 33:case 61:return Ke+=2,rn.charCodeAt(Ke)===61&&++Ke,{type:Il,value:rn.slice(e,Ke),start:e,end:Ke}}}if(s=rn.substr(Ke,4),s===">>>=")return Ke+=4,{type:Il,value:s,start:e,end:Ke};if(o=s.substr(0,3),o===">>>"||o==="<<="||o===">>=")return Ke+=3,{type:Il,value:o,start:e,end:Ke};if(i=o.substr(0,2),r===i[1]&&"+-<>&|".includes(r)||i==="=>")return Ke+=2,{type:Il,value:i,start:e,end:Ke};if(i==="//"&&_r({},ds,Vs),"<>=!+-*%&|^/".includes(r))return++Ke,{type:Il,value:r,start:e,end:Ke};_r({},ds,Vs)}function dTt(e){let t="";for(;Ke<Aa&&kK(rn[Ke]);)t+=rn[Ke++];return t.length===0&&_r({},ds,Vs),FA(rn.charCodeAt(Ke))&&_r({},ds,Vs),{type:ab,value:parseInt("0x"+t,16),start:e,end:Ke}}function fTt(e){let t="0"+rn[Ke++];for(;Ke<Aa&&tT(rn[Ke]);)t+=rn[Ke++];return(FA(rn.charCodeAt(Ke))||Wh(rn.charCodeAt(Ke)))&&_r({},ds,Vs),{type:ab,value:parseInt(t,8),octal:!0,start:e,end:Ke}}function lce(){var e,t,n;if(n=rn[Ke],_O(Wh(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=Ke,e="",n!=="."){if(e=rn[Ke++],n=rn[Ke],e==="0"){if(n==="x"||n==="X")return++Ke,dTt(t);if(tT(n))return fTt(t);n&&Wh(n.charCodeAt(0))&&_r({},ds,Vs)}for(;Wh(rn.charCodeAt(Ke));)e+=rn[Ke++];n=rn[Ke]}if(n==="."){for(e+=rn[Ke++];Wh(rn.charCodeAt(Ke));)e+=rn[Ke++];n=rn[Ke]}if(n==="e"||n==="E")if(e+=rn[Ke++],n=rn[Ke],(n==="+"||n==="-")&&(e+=rn[Ke++]),Wh(rn.charCodeAt(Ke)))for(;Wh(rn.charCodeAt(Ke));)e+=rn[Ke++];else _r({},ds,Vs);return FA(rn.charCodeAt(Ke))&&_r({},ds,Vs),{type:ab,value:parseFloat(e),start:t,end:Ke}}function hTt(){var e="",t,n,r,i,o=!1;for(t=rn[Ke],_O(t==="'"||t==='"',"String literal must starts with a quote"),n=Ke,++Ke;Ke<Aa;)if(r=rn[Ke++],r===t){t="";break}else if(r==="\\")if(r=rn[Ke++],!r||!sC(r.charCodeAt(0)))switch(r){case"u":case"x":rn[Ke]==="{"?(++Ke,e+=lTt()):e+=H7(r);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:tT(r)?(i="01234567".indexOf(r),i!==0&&(o=!0),Ke<Aa&&tT(rn[Ke])&&(o=!0,i=i*8+"01234567".indexOf(rn[Ke++]),"0123".includes(r)&&Ke<Aa&&tT(rn[Ke])&&(i=i*8+"01234567".indexOf(rn[Ke++]))),e+=String.fromCharCode(i)):e+=r;break}else r==="\r"&&rn[Ke]===`
`&&++Ke;else{if(sC(r.charCodeAt(0)))break;e+=r}return t!==""&&_r({},ds,Vs),{type:LA,value:e,octal:o,start:n,end:Ke}}function pTt(e,t){let n=e;t.includes("u")&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,i)=>{if(parseInt(i,16)<=1114111)return"x";_r({},U7)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{_r({},U7)}try{return new RegExp(e,t)}catch{return null}}function mTt(){var e,t,n,r,i;for(e=rn[Ke],_O(e==="/","Regular expression literal must start with a slash"),t=rn[Ke++],n=!1,r=!1;Ke<Aa;)if(e=rn[Ke++],t+=e,e==="\\")e=rn[Ke++],sC(e.charCodeAt(0))&&_r({},cB),t+=e;else if(sC(e.charCodeAt(0)))_r({},cB);else if(n)e==="]"&&(n=!1);else if(e==="/"){r=!0;break}else e==="["&&(n=!0);return r||_r({},cB),i=t.substr(1,t.length-2),{value:i,literal:t}}function gTt(){var e,t,n;for(t="",n="";Ke<Aa&&(e=rn[Ke],!!mM(e.charCodeAt(0)));)++Ke,e==="\\"&&Ke<Aa?_r({},ds,Vs):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&_r({},U7,n),{value:n,literal:t}}function yTt(){var e,t,n,r;return jr=null,yke(),e=Ke,t=mTt(),n=gTt(),r=pTt(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:Ke}}function vTt(e){return e.type===gv||e.type===y0||e.type===wO||e.type===xO}function bke(){if(yke(),Ke>=Aa)return{type:OA,start:Ke,end:Ke};const e=rn.charCodeAt(Ke);return FA(e)?cTt():e===40||e===41||e===59?dB():e===39||e===34?hTt():e===46?Wh(rn.charCodeAt(Ke+1))?lce():dB():Wh(e)?lce():dB()}function Ml(){const e=jr;return Ke=e.end,jr=bke(),Ke=e.end,e}function wke(){const e=Ke;jr=bke(),Ke=e}function bTt(e){const t=new Pd(USt);return t.elements=e,t}function uce(e,t,n){const r=new Pd(e==="||"||e==="&&"?GSt:HSt);return r.operator=e,r.left=t,r.right=n,r}function wTt(e,t){const n=new Pd(VSt);return n.callee=e,n.arguments=t,n}function xTt(e,t,n){const r=new Pd(WSt);return r.test=e,r.consequent=t,r.alternate=n,r}function IK(e){const t=new Pd(mke);return t.name=e,t}function _S(e){const t=new Pd(qSt);return t.value=e.value,t.raw=rn.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function cce(e,t,n){const r=new Pd(YSt);return r.computed=e==="[",r.object=t,r.property=n,r.computed||(n.member=!0),r}function _Tt(e){const t=new Pd(KSt);return t.properties=e,t}function dce(e,t,n){const r=new Pd(XSt);return r.key=t,r.value=n,r.kind=e,r}function ETt(e,t){const n=new Pd(QSt);return n.operator=e,n.argument=t,n.prefix=!0,n}function _r(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(o,s)=>(_O(s<r.length,"Message reference must be in range"),r[s]));throw n=new Error(i),n.index=Ke,n.description=i,n}function EO(e){e.type===OA&&_r(e,nTt),e.type===ab&&_r(e,JSt),e.type===LA&&_r(e,ZSt),e.type===gv&&_r(e,eTt),e.type===y0&&_r(e,tTt),_r(e,ds,e.value)}function ka(e){const t=Ml();(t.type!==Il||t.value!==e)&&EO(t)}function wi(e){return jr.type===Il&&jr.value===e}function fB(e){return jr.type===y0&&jr.value===e}function STt(){const e=[];for(Ke=jr.start,ka("[");!wi("]");)wi(",")?(Ml(),e.push(null)):(e.push(yv()),wi("]")||ka(","));return Ml(),bTt(e)}function fce(){Ke=jr.start;const e=Ml();return e.type===LA||e.type===ab?(e.octal&&_r(e,gke),_S(e)):IK(e.value)}function TTt(){var e,t,n,r;if(Ke=jr.start,e=jr,e.type===gv)return n=fce(),ka(":"),r=yv(),dce("init",n,r);if(e.type===OA||e.type===Il)EO(e);else return t=fce(),ka(":"),r=yv(),dce("init",t,r)}function CTt(){var e=[],t,n,r,i={},o=String;for(Ke=jr.start,ka("{");!wi("}");)t=TTt(),t.key.type===mke?n=t.key.name:n=o(t.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(i,r)?_r({},rTt):i[r]=!0,e.push(t),wi("}")||ka(",");return ka("}"),_Tt(e)}function ATt(){ka("(");const e=RK();return ka(")"),e}const kTt={if:1};function ITt(){var e,t,n;if(wi("("))return ATt();if(wi("["))return STt();if(wi("{"))return CTt();if(e=jr.type,Ke=jr.start,e===gv||kTt[jr.value])n=IK(Ml().value);else if(e===LA||e===ab)jr.octal&&_r(jr,gke),n=_S(Ml());else{if(e===y0)throw new Error(oC);e===wO?(t=Ml(),t.value=t.value==="true",n=_S(t)):e===xO?(t=Ml(),t.value=null,n=_S(t)):wi("/")||wi("/=")?(n=_S(yTt()),wke()):EO(Ml())}return n}function RTt(){const e=[];if(ka("("),!wi(")"))for(;Ke<Aa&&(e.push(yv()),!wi(")"));)ka(",");return ka(")"),e}function DTt(){Ke=jr.start;const e=Ml();return vTt(e)||EO(e),IK(e.value)}function $Tt(){return ka("."),DTt()}function MTt(){ka("[");const e=RK();return ka("]"),e}function PTt(){var e,t,n;for(e=ITt();;)if(wi("."))n=$Tt(),e=cce(".",e,n);else if(wi("("))t=RTt(),e=wTt(e,t);else if(wi("["))n=MTt(),e=cce("[",e,n);else break;return e}function hce(){const e=PTt();if(jr.type===Il&&(wi("++")||wi("--")))throw new Error(oC);return e}function HR(){var e,t;if(jr.type!==Il&&jr.type!==y0)t=hce();else{if(wi("++")||wi("--"))throw new Error(oC);if(wi("+")||wi("-")||wi("~")||wi("!"))e=Ml(),t=HR(),t=ETt(e.value,t);else{if(fB("delete")||fB("void")||fB("typeof"))throw new Error(oC);t=hce()}}return t}function pce(e){let t=0;if(e.type!==Il&&e.type!==y0)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function NTt(){var e,t,n,r,i,o,s,a,l,u;if(e=jr,l=HR(),r=jr,i=pce(r),i===0)return l;for(r.prec=i,Ml(),t=[e,jr],s=HR(),o=[l,r,s];(i=pce(jr))>0;){for(;o.length>2&&i<=o[o.length-2].prec;)s=o.pop(),a=o.pop().value,l=o.pop(),t.pop(),n=uce(a,l,s),o.push(n);r=Ml(),r.prec=i,o.push(r),t.push(jr),n=HR(),o.push(n)}for(u=o.length-1,n=o[u],t.pop();u>1;)t.pop(),n=uce(o[u-1].value,o[u-2],n),u-=2;return n}function yv(){var e,t,n;return e=NTt(),wi("?")&&(Ml(),t=yv(),ka(":"),n=yv(),e=xTt(e,t,n)),e}function RK(){const e=yv();if(wi(","))throw new Error(oC);return e}function xke(e){rn=e,Ke=0,Aa=rn.length,jr=null,wke();const t=RK();if(jr.type!==OA)throw new Error("Unexpect token after expression.");return t}var _ke={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function Eke(e){function t(s,a,l,u){let c=e(a[0]);return l&&(c=l+"("+c+")",l.lastIndexOf("new ",0)===0&&(c="("+c+")")),c+"."+s+(u<0?"":u===0?"()":"("+a.slice(1).map(e).join(",")+")")}function n(s,a,l){return u=>t(s,u,a,l)}const r="new Date",i="String",o="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(s){s.length<3&&Je("Missing arguments to clamp function."),s.length>3&&Je("Too many arguments to clamp function.");const a=s.map(e);return"Math.max("+a[1]+", Math.min("+a[2]+","+a[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:r,date:n("getDate",r,0),day:n("getDay",r,0),year:n("getFullYear",r,0),month:n("getMonth",r,0),hours:n("getHours",r,0),minutes:n("getMinutes",r,0),seconds:n("getSeconds",r,0),milliseconds:n("getMilliseconds",r,0),time:n("getTime",r,0),timezoneoffset:n("getTimezoneOffset",r,0),utcdate:n("getUTCDate",r,0),utcday:n("getUTCDay",r,0),utcyear:n("getUTCFullYear",r,0),utcmonth:n("getUTCMonth",r,0),utchours:n("getUTCHours",r,0),utcminutes:n("getUTCMinutes",r,0),utcseconds:n("getUTCSeconds",r,0),utcmilliseconds:n("getUTCMilliseconds",r,0),length:n("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",i,0),lower:n("toLowerCase",i,0),substring:n("substring",i),split:n("split",i),trim:n("trim",i,0),btoa:"btoa",atob:"atob",regexp:o,test:n("test",o),if:function(s){s.length<3&&Je("Missing arguments to if function."),s.length>3&&Je("Too many arguments to if function.");const a=s.map(e);return"("+a[0]+"?"+a[1]+":"+a[2]+")"}}}function OTt(e){const t=e&&e.length-1;return t&&(e[0]==='"'&&e[t]==='"'||e[0]==="'"&&e[t]==="'")?e.slice(1,-1):e}function Ske(e){e=e||{};const t=e.allowed?Sd(e.allowed):{},n=e.forbidden?Sd(e.forbidden):{},r=e.constants||_ke,i=(e.functions||Eke)(d),o=e.globalvar,s=e.fieldvar,a=jn(o)?o:p=>`${o}["${p}"]`;let l={},u={},c=0;function d(p){if(Bt(p))return p;const m=f[p.type];return m==null&&Je("Unsupported type: "+p.type),m(p)}const f={Literal:p=>p.raw,Identifier:p=>{const m=p.name;return c>0?m:Vt(n,m)?Je("Illegal identifier: "+m):Vt(r,m)?r[m]:Vt(t,m)?m:(l[m]=1,a(m))},MemberExpression:p=>{const m=!p.computed,g=d(p.object);m&&(c+=1);const y=d(p.property);return g===s&&(u[OTt(y)]=1),m&&(c-=1),g+(m?"."+y:"["+y+"]")},CallExpression:p=>{p.callee.type!=="Identifier"&&Je("Illegal callee type: "+p.callee.type);const m=p.callee.name,g=p.arguments,y=Vt(i,m)&&i[m];return y||Je("Unrecognized function: "+m),jn(y)?y(g):y+"("+g.map(d).join(",")+")"},ArrayExpression:p=>"["+p.elements.map(d).join(",")+"]",BinaryExpression:p=>"("+d(p.left)+" "+p.operator+" "+d(p.right)+")",UnaryExpression:p=>"("+p.operator+d(p.argument)+")",ConditionalExpression:p=>"("+d(p.test)+"?"+d(p.consequent)+":"+d(p.alternate)+")",LogicalExpression:p=>"("+d(p.left)+p.operator+d(p.right)+")",ObjectExpression:p=>"{"+p.properties.map(d).join(",")+"}",Property:p=>{c+=1;const m=d(p.key);return c-=1,m+":"+d(p.value)}};function h(p){const m={code:d(p),globals:Object.keys(l),fields:Object.keys(u)};return l={},u={},m}return h.functions=i,h.constants=r,h}const mce=Symbol("vega_selection_getter");function Tke(e){return(!e.getter||!e.getter[mce])&&(e.getter=vc(e.field),e.getter[mce]=!0),e.getter}const DK="intersect",gce="union",LTt="vlMulti",FTt="vlPoint",yce="or",BTt="and",pf="_vgsid_",aC=vc(pf),jTt="E",zTt="R",UTt="R-E",HTt="R-LE",VTt="R-RE",WTt="E-LT",qTt="E-LTE",GTt="E-GT",YTt="E-GTE",KTt="E-VALID",XTt="E-ONE",gM="index:unit";function vce(e,t){for(var n=t.fields,r=t.values,i=n.length,o=0,s,a;o<i;++o)if(a=n[o],s=Tke(a)(e),vg(s)&&(s=Ea(s)),vg(r[o])&&(r[o]=Ea(r[o])),et(r[o])&&vg(r[o][0])&&(r[o]=r[o].map(Ea)),a.type===jTt){if(et(r[o])?!r[o].includes(s):s!==r[o])return!1}else if(a.type===zTt){if(!$1(s,r[o]))return!1}else if(a.type===VTt){if(!$1(s,r[o],!0,!1))return!1}else if(a.type===UTt){if(!$1(s,r[o],!1,!1))return!1}else if(a.type===HTt){if(!$1(s,r[o],!1,!0))return!1}else if(a.type===WTt){if(s>=r[o])return!1}else if(a.type===qTt){if(s>r[o])return!1}else if(a.type===GTt){if(s<=r[o])return!1}else if(a.type===YTt){if(s<r[o])return!1}else if(a.type===KTt){if(s===null||isNaN(s))return!1}else if(a.type===XTt&&r[o].indexOf(s)===-1)return!1;return!0}function QTt(e,t,n){for(var r=this.context.data[e],i=r?r.values.value:[],o=r?r[gM]&&r[gM].value:void 0,s=n===DK,a=i.length,l=0,u,c,d,f,h;l<a;++l)if(u=i[l],o&&s){if(c=c||{},d=c[f=u.unit]||0,d===-1)continue;if(h=vce(t,u),c[f]=h?-1:++d,h&&o.size===1)return!0;if(!h&&d===o.get(f).count)return!1}else if(h=vce(t,u),s^h)return h;return a&&s}const Cke=Zx(aC),JTt=Cke.left,ZTt=Cke.right;function eCt(e,t,n){const r=this.context.data[e],i=r?r.values.value:[],o=r?r[gM]&&r[gM].value:void 0,s=n===DK,a=aC(t),l=JTt(i,a);if(l===i.length||aC(i[l])!==a)return!1;if(o&&s){if(o.size===1)return!0;if(ZTt(i,a)-l<o.size)return!1}return!0}function tCt(e,t){return e.map(n=>Bn(t.fields?{values:t.fields.map(r=>Tke(r)(n.datum))}:{[pf]:aC(n.datum)},t))}function nCt(e,t,n,r){for(var i=this.context.data[e],o=i?i.values.value:[],s={},a={},l={},u,c,d,f,h,p,m,g,y,v,w=o.length,E=0,_,x;E<w;++E)if(u=o[E],f=u.unit,c=u.fields,d=u.values,c&&d){for(_=0,x=c.length;_<x;++_)h=c[_],m=s[h.field]||(s[h.field]={}),g=m[f]||(m[f]=[]),l[h.field]=y=h.type.charAt(0),v=hB[`${y}_union`],m[f]=v(g,jt(d[_]));n&&(g=a[f]||(a[f]=[]),g.push(jt(d).reduce((S,C,A)=>(S[c[A].field]=C,S),{})))}else h=pf,p=aC(u),m=s[h]||(s[h]={}),g=m[f]||(m[f]=[]),g.push(p),n&&(g=a[f]||(a[f]=[]),g.push({[pf]:p}));if(t=t||gce,s[pf]?s[pf]=hB[`${pf}_${t}`](...Object.values(s[pf])):Object.keys(s).forEach(S=>{s[S]=Object.keys(s[S]).map(C=>s[S][C]).reduce((C,A)=>C===void 0?A:hB[`${l[S]}_${t}`](C,A))}),o=Object.keys(a),n&&o.length){const S=r?FTt:LTt;s[S]=t===gce?{[yce]:o.reduce((C,A)=>(C.push(...a[A]),C),[])}:{[BTt]:o.map(C=>({[yce]:a[C]}))}}return s}var hB={[`${pf}_union`]:Gdt,[`${pf}_intersect`]:Wdt,E_union:function(e,t){if(!e.length)return t;for(var n=0,r=t.length;n<r;++n)e.includes(t[n])||e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter(n=>t.includes(n)):t},R_union:function(e,t){var n=Ea(t[0]),r=Ea(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<r&&(e[1]=r),e):[n,r]},R_intersect:function(e,t){var n=Ea(t[0]),r=Ea(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?r<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>r&&(e[1]=r),e):[n,r]}};const rCt=":",iCt="@";function $K(e,t,n,r){t[0].type!==mv&&Je("First argument to selection functions must be a string literal.");const i=t[0].value,o=t.length>=2&&ur(t).value,s="unit",a=iCt+s,l=rCt+i;o===DK&&!Vt(r,a)&&(r[a]=n.getData(i).indataRef(n,s)),Vt(r,l)||(r[l]=n.getData(i).tuplesRef())}function Ake(e){const t=this.context.data[e];return t?t.values.value:[]}function oCt(e,t,n){const r=this.context.data[e]["index:"+t],i=r?r.value.get(n):void 0;return i&&i.count}function sCt(e,t){const n=this.context.dataflow,r=this.context.data[e],i=r.input;return n.pulse(i,n.changeset().remove(bc).insert(t)),1}function aCt(e,t,n){if(e){const r=this.context.dataflow,i=e.mark.source;r.pulse(i,r.changeset().encode(e,t))}return n!==void 0?n:e}const BA=e=>function(t,n){const r=this.context.dataflow.locale();return t===null?"null":r[e](n)(t)},lCt=BA("format"),kke=BA("timeFormat"),uCt=BA("utcFormat"),cCt=BA("timeParse"),dCt=BA("utcParse"),p3=new Date(2e3,0,1);function SO(e,t,n){return!Number.isInteger(e)||!Number.isInteger(t)?"":(p3.setYear(2e3),p3.setMonth(e),p3.setDate(t),kke.call(this,p3,n))}function fCt(e){return SO.call(this,e,1,"%B")}function hCt(e){return SO.call(this,e,1,"%b")}function pCt(e){return SO.call(this,0,2+e,"%A")}function mCt(e){return SO.call(this,0,2+e,"%a")}const gCt=":",yCt="@",V7="%",Ike="$";function MK(e,t,n,r){t[0].type!==mv&&Je("First argument to data functions must be a string literal.");const i=t[0].value,o=gCt+i;if(!Vt(o,r))try{r[o]=n.getData(i).tuplesRef()}catch{}}function vCt(e,t,n,r){t[0].type!==mv&&Je("First argument to indata must be a string literal."),t[1].type!==mv&&Je("Second argument to indata must be a string literal.");const i=t[0].value,o=t[1].value,s=yCt+o;Vt(s,r)||(r[s]=n.getData(i).indataRef(n,o))}function ol(e,t,n,r){if(t[0].type===mv)bce(n,r,t[0].value);else for(e in n.scales)bce(n,r,e)}function bce(e,t,n){const r=V7+n;if(!Vt(t,r))try{t[r]=e.scaleRef(n)}catch{}}function gh(e,t){if(Bt(e)){const n=t.scales[e];return n&&wle(n.value)?n.value:void 0}else if(jn(e))return wle(e)?e:void 0}function bCt(e,t,n){t.__bandwidth=i=>i&&i.bandwidth?i.bandwidth():0,n._bandwidth=ol,n._range=ol,n._scale=ol;const r=i=>"_["+(i.type===mv?Rt(V7+i.value):Rt(V7)+"+"+e(i))+"]";return{_bandwidth:i=>`this.__bandwidth(${r(i[0])})`,_range:i=>`${r(i[0])}.range()`,_scale:i=>`${r(i[0])}(${e(i[1])})`}}function PK(e,t){return function(n,r,i){if(n){const o=gh(n,(i||this).context);return o&&o.path[e](r)}else return t(r)}}const wCt=PK("area",F1t),xCt=PK("bounds",U1t),_Ct=PK("centroid",Y1t);function ECt(e,t){const n=gh(e,(t||this).context);return n&&n.scale()}function SCt(e){const t=this.context.group;let n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n}function NK(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(r){e.warn(r)}return n[n.length-1]}function TCt(){return NK(this.context.dataflow,"warn",arguments)}function CCt(){return NK(this.context.dataflow,"info",arguments)}function ACt(){return NK(this.context.dataflow,"debug",arguments)}function pB(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function W7(e){const t=Ug(e),n=pB(t.r),r=pB(t.g),i=pB(t.b);return .2126*n+.7152*r+.0722*i}function kCt(e,t){const n=W7(e),r=W7(t),i=Math.max(n,r),o=Math.min(n,r);return(i+.05)/(o+.05)}function ICt(){const e=[].slice.call(arguments);return e.unshift({}),Bn(...e)}function Rke(e,t){return e===t||e!==e&&t!==t?!0:et(e)?et(t)&&e.length===t.length?RCt(e,t):!1:Ft(e)&&Ft(t)?Dke(e,t):!1}function RCt(e,t){for(let n=0,r=e.length;n<r;++n)if(!Rke(e[n],t[n]))return!1;return!0}function Dke(e,t){for(const n in e)if(!Rke(e[n],t[n]))return!1;return!0}function wce(e){return t=>Dke(e,t)}function DCt(e,t,n,r,i,o){const s=this.context.dataflow,a=this.context.data[e],l=a.input,u=s.stamp();let c=a.changes,d,f;if(s._trigger===!1||!(l.value.length||t||r))return 0;if((!c||c.stamp<u)&&(a.changes=c=s.changeset(),c.stamp=u,s.runAfter(()=>{a.modified=!0,s.pulse(l,c).run()},!0,1)),n&&(d=n===!0?bc:et(n)||DN(n)?n:wce(n),c.remove(d)),t&&c.insert(t),r&&(d=wce(r),l.value.some(d)?c.remove(d):c.insert(r)),i)for(f in o)c.modify(i,f,o[f]);return 1}function $Ct(e){const t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.hypot(n,r)}function MCt(e){const t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)}const xce={};function PCt(e,t){const n=xce[t]||(xce[t]=vc(t));return et(e)?e.map(n):n(e)}function TO(e){return et(e)||ArrayBuffer.isView(e)?e:null}function OK(e){return TO(e)||(Bt(e)?e:null)}function NCt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return TO(e).join(...n)}function OCt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return OK(e).indexOf(...n)}function LCt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return OK(e).lastIndexOf(...n)}function FCt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return OK(e).slice(...n)}function BCt(e,t,n){return jn(n)&&Je("Function argument passed to replace."),!Bt(t)&&!wq(t)&&Je("Please pass a string or RegExp argument to replace."),String(e).replace(t,n)}function jCt(e){return TO(e).slice().reverse()}function zCt(e){return TO(e).slice().sort(Qx)}function UCt(e,t,n){return KG(e||0,t||0,n||0)}function HCt(e,t){const n=gh(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}function VCt(e,t){const n=gh(e,(t||this).context);return n?n.copy():void 0}function WCt(e,t){const n=gh(e,(t||this).context);return n?n.domain():[]}function qCt(e,t,n){const r=gh(e,(n||this).context);return r?et(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}function GCt(e,t){const n=gh(e,(t||this).context);return n&&n.range?n.range():[]}function YCt(e,t,n){const r=gh(e,(n||this).context);return r?r(t):void 0}function KCt(e,t,n,r,i){e=gh(e,(i||this).context);const o=_Ce(t,n);let s=e.domain(),a=s[0],l=ur(s),u=Ma;return l-a?u=cCe(e,a,l):e=(e.interpolator?Cr("sequential")().interpolator(e.interpolator()):Cr("linear")().interpolate(e.interpolate()).range(e.range())).domain([a=0,l=1]),e.ticks&&(s=e.ticks(+r||15),a!==s[0]&&s.unshift(a),l!==ur(s)&&s.push(l)),s.forEach(c=>o.stop(u(c),e(c))),o}function XCt(e,t,n){const r=gh(e,(n||this).context);return function(i){return r?r.path.context(i)(t):""}}function QCt(e){let t=null;return function(n){return n?XT(n,t=t||Fw(e)):e}}const $ke=e=>e.data;function Mke(e,t){const n=Ake.call(t,e);return n.root&&n.root.lookup||{}}function JCt(e,t,n){const r=Mke(e,this),i=r[t],o=r[n];return i&&o?i.path(o).map($ke):void 0}function ZCt(e,t){const n=Mke(e,this)[t];return n?n.ancestors().map($ke):void 0}const Pke=()=>typeof window<"u"&&window||null;function eAt(){const e=Pke();return e?e.screen:{}}function tAt(){const e=Pke();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]}function nAt(){const e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]}function Nke(e,t,n){if(!e)return[];const[r,i]=e,o=new ko().set(r[0],r[1],i[0],i[1]),s=n||this.context.dataflow.scenegraph().root;return bAe(s,o,rAt(t))}function rAt(e){let t=null;if(e){const n=jt(e.marktype),r=jt(e.markname);t=i=>(!n.length||n.some(o=>i.marktype===o))&&(!r.length||r.some(o=>i.name===o))}return t}function iAt(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:5;e=jt(e);const i=e[e.length-1];return i===void 0||Math.hypot(i[0]-t,i[1]-n)>r?[...e,[t,n]]:e}function oAt(e){return jt(e).reduce((t,n,r)=>{let[i,o]=n;return t+=r==0?`M ${i},${o} `:r===e.length-1?" Z":`L ${i},${o} `},"")}function sAt(e,t,n){const{x:r,y:i,mark:o}=n,s=new ko().set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const[l,u]of t)l<s.x1&&(s.x1=l),l>s.x2&&(s.x2=l),u<s.y1&&(s.y1=u),u>s.y2&&(s.y2=u);return s.translate(r,i),Nke([[s.x1,s.y1],[s.x2,s.y2]],e,o).filter(l=>aAt(l.x,l.y,t))}function aAt(e,t,n){let r=0;for(let i=0,o=n.length-1;i<n.length;o=i++){const[s,a]=n[o],[l,u]=n[i];u>t!=a>t&&e<(s-l)*(t-u)/(a-u)+l&&r++}return r&1}const lC={random(){return xc()},cumulativeNormal:ON,cumulativeLogNormal:Yq,cumulativeUniform:Jq,densityNormal:Hq,densityLogNormal:Gq,densityUniform:Qq,quantileNormal:LN,quantileLogNormal:Kq,quantileUniform:Zq,sampleNormal:NN,sampleLogNormal:qq,sampleUniform:Xq,isArray:et,isBoolean:f0,isDate:vg,isDefined(e){return e!==void 0},isNumber:Sr,isObject:Ft,isRegExp:wq,isString:Bt,isTuple:DN,isValid(e){return e!=null&&e===e},toBoolean:_q,toDate(e){return Eq(e)},toNumber:Ea,toString:Sq,indexof:OCt,join:NCt,lastindexof:LCt,replace:BCt,reverse:jCt,sort:zCt,slice:FCt,flush:U_e,lerp:V_e,merge:ICt,pad:G_e,peek:ur,pluck:PCt,span:fA,inrange:$1,truncate:Y_e,rgb:Ug,lab:S$,hcl:T$,hsl:_$,luminance:W7,contrast:kCt,sequence:bu,format:lCt,utcFormat:uCt,utcParse:dCt,utcOffset:AEe,utcSequence:REe,timeFormat:kke,timeParse:cCt,timeOffset:CEe,timeSequence:IEe,timeUnitSpecifier:mEe,monthFormat:fCt,monthAbbrevFormat:hCt,dayFormat:pCt,dayAbbrevFormat:mCt,quarter:F_e,utcquarter:B_e,week:yEe,utcweek:wEe,dayofyear:gEe,utcdayofyear:bEe,warn:TCt,info:CCt,debug:ACt,extent(e){return Gf(e)},inScope:SCt,intersect:Nke,clampRange:j_e,pinchDistance:$Ct,pinchAngle:MCt,screen:eAt,containerSize:nAt,windowSize:tAt,bandspace:UCt,setdata:sCt,pathShape:QCt,panLinear:P_e,panLog:N_e,panPow:O_e,panSymlog:L_e,zoomLinear:mq,zoomLog:gq,zoomPow:u$,zoomSymlog:yq,encode:aCt,modify:DCt,lassoAppend:iAt,lassoPath:oAt,intersectLasso:sAt},lAt=["view","item","group","xy","x","y"],uAt="event.vega.",Oke="this.",LK={},Lke={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:e=>`_[${Rt(Ike+e)}]`,functions:cAt,constants:_ke,visitors:LK},q7=Ske(Lke);function cAt(e){const t=Eke(e);lAt.forEach(n=>t[n]=uAt+n);for(const n in lC)t[n]=Oke+n;return Bn(t,bCt(e,lC,LK)),t}function wo(e,t,n){return arguments.length===1?lC[e]:(lC[e]=t,n&&(LK[e]=n),q7&&(q7.functions[e]=Oke+e),this)}wo("bandwidth",HCt,ol);wo("copy",VCt,ol);wo("domain",WCt,ol);wo("range",GCt,ol);wo("invert",qCt,ol);wo("scale",YCt,ol);wo("gradient",KCt,ol);wo("geoArea",wCt,ol);wo("geoBounds",xCt,ol);wo("geoCentroid",_Ct,ol);wo("geoShape",XCt,ol);wo("geoScale",ECt,ol);wo("indata",oCt,vCt);wo("data",Ake,MK);wo("treePath",JCt,MK);wo("treeAncestors",ZCt,MK);wo("vlSelectionTest",QTt,$K);wo("vlSelectionIdTest",eCt,$K);wo("vlSelectionResolve",nCt,$K);wo("vlSelectionTuples",tCt);function Jf(e,t){const n={};let r;try{e=Bt(e)?e:Rt(e)+"",r=xke(e)}catch{Je("Expression parse error: "+e)}r.visit(o=>{if(o.type!==pke)return;const s=o.callee.name,a=Lke.visitors[s];a&&a(s,o.arguments,t,n)});const i=q7(r);return i.globals.forEach(o=>{const s=Ike+o;!Vt(n,s)&&t.getSignal(o)&&(n[s]=t.signalRef(o))}),{$expr:Bn({code:i.code},t.options.ast?{ast:r}:null),$fields:i.fields,$params:n}}function dAt(e){const t=this,n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),n.forEach(r=>t.parseOperator(r)),n.forEach(r=>t.parseOperatorParameters(r)),(e.streams||[]).forEach(r=>t.parseStream(r)),(e.updates||[]).forEach(r=>t.parseUpdate(r)),t.resolve()}const fAt=Sd(["rule"]),_ce=Sd(["group","image","rect"]);function hAt(e,t){let n="";return fAt[t]||(e.x2&&(e.x?(_ce[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(_ce[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}function FK(e){return(e+"").toLowerCase()}function pAt(e){return FK(e)==="operator"}function mAt(e){return FK(e)==="collect"}function TE(e,t,n){n.endsWith(";")||(n="return("+n+");");const r=Function(...t.concat(n));return e&&e.functions?r.bind(e.functions):r}function gAt(e,t,n,r){return`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n}
  : (u > v || v == null) && u != null ? ${r}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}
  : v !== v && u === u ? ${r} : `}var yAt={operator:(e,t)=>TE(e,["_"],t.code),parameter:(e,t)=>TE(e,["datum","_"],t.code),event:(e,t)=>TE(e,["event"],t.code),handler:(e,t)=>{const n=`var datum=event.item&&event.item.datum;return ${t.code};`;return TE(e,["_","event"],n)},encode:(e,t)=>{const{marktype:n,channels:r}=t;let i="var o=item,datum=o.datum,m=0,$;";for(const o in r){const s="o["+Rt(o)+"]";i+=`$=${r[o].code};if(${s}!==$)${s}=$,m=1;`}return i+=hAt(r,n),i+="return m;",TE(e,["item","_"],i)},codegen:{get(e){const t=`[${e.map(Rt).join("][")}]`,n=Function("_",`return _${t};`);return n.path=t,n},comparator(e,t){let n;const r=(o,s)=>{const a=t[s];let l,u;return o.path?(l=`a${o.path}`,u=`b${o.path}`):((n=n||{})["f"+s]=o,l=`this.f${s}(a)`,u=`this.f${s}(b)`),gAt(l,u,-a,a)},i=Function("a","b","var u, v; return "+e.map(r).join("")+"0;");return n?i.bind(n):i}}};function vAt(e){const t=this;pAt(e.type)||!e.type?t.operator(e,e.update?t.operatorExpression(e.update):null):t.transform(e,e.type)}function bAt(e){const t=this;if(e.params){const n=t.get(e.id);n||Je("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(t.parseParameters(e.params),e.react,e.initonly))}}function wAt(e,t){t=t||{};const n=this;for(const r in e){const i=e[r];t[r]=et(i)?i.map(o=>Ece(o,n,t)):Ece(i,n,t)}return t}function Ece(e,t,n){if(!e||!Ft(e))return e;for(let r=0,i=Sce.length,o;r<i;++r)if(o=Sce[r],Vt(e,o.key))return o.parse(e,t,n);return e}var Sce=[{key:"$ref",parse:xAt},{key:"$key",parse:EAt},{key:"$expr",parse:_At},{key:"$field",parse:SAt},{key:"$encode",parse:CAt},{key:"$compare",parse:TAt},{key:"$context",parse:AAt},{key:"$subflow",parse:kAt},{key:"$tupleid",parse:IAt}];function xAt(e,t){return t.get(e.$ref)||Je("Operator not defined: "+e.$ref)}function _At(e,t,n){e.$params&&t.parseParameters(e.$params,n);const r="e:"+e.$expr.code;return t.fn[r]||(t.fn[r]=Ql(t.parameterExpression(e.$expr),e.$fields))}function EAt(e,t){const n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=xq(e.$key,e.$flat,t.expr.codegen))}function SAt(e,t){if(!e.$field)return null;const n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=vc(e.$field,e.$name,t.expr.codegen))}function TAt(e,t){const n="c:"+e.$compare+"_"+e.$order,r=jt(e.$compare).map(i=>i&&i.$tupleid?fn:i);return t.fn[n]||(t.fn[n]=vq(r,e.$order,t.expr.codegen))}function CAt(e,t){const n=e.$encode,r={};for(const i in n){const o=n[i];r[i]=Ql(t.encodeExpression(o.$expr),o.$fields),r[i].output=o.$output}return r}function AAt(e,t){return t}function kAt(e,t){const n=e.$subflow;return function(r,i,o){const s=t.fork().parse(n),a=s.get(n.operators[0].id),l=s.signals.parent;return l&&l.set(o),a.detachSubflow=()=>t.detach(s),a}}function IAt(){return fn}function RAt(e){var t=this,n=e.filter!=null?t.eventExpression(e.filter):void 0,r=e.stream!=null?t.get(e.stream):void 0,i;e.source?r=t.events(e.source,e.type,n):e.merge&&(i=e.merge.map(o=>t.get(o)),r=i[0].merge.apply(i[0],i.slice(1))),e.between&&(i=e.between.map(o=>t.get(o)),r=r.between(i[0],i[1])),e.filter&&(r=r.filter(n)),e.throttle!=null&&(r=r.throttle(+e.throttle)),e.debounce!=null&&(r=r.debounce(+e.debounce)),r==null&&Je("Invalid stream definition: "+JSON.stringify(e)),e.consume&&r.consume(!0),t.stream(e,r)}function DAt(e){var t=this,n=Ft(n=e.source)?n.$ref:n,r=t.get(n),i=null,o=e.update,s=void 0;r||Je("Source not defined: "+e.source),i=e.target&&e.target.$expr?t.eventExpression(e.target.$expr):t.get(e.target),o&&o.$expr&&(o.$params&&(s=t.parseParameters(o.$params)),o=t.handlerExpression(o.$expr)),t.update(e,r,i,o,s)}const $At={skip:!0};function MAt(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach(o=>{const s=t.signals[o];e.signals(o,s)&&(r[o]=s.value)})}if(e.data){var i=n.data={};Object.keys(t.data).forEach(o=>{const s=t.data[o];e.data(o,s)&&(i[o]=s.input.value)})}return t.subcontext&&e.recurse!==!1&&(n.subcontext=t.subcontext.map(o=>o.getState(e))),n}function PAt(e){var t=this,n=t.dataflow,r=e.data,i=e.signals;Object.keys(i||{}).forEach(o=>{n.update(t.signals[o],i[o],$At)}),Object.keys(r||{}).forEach(o=>{n.pulse(t.data[o].input,n.changeset().remove(bc).insert(r[o]))}),(e.subcontext||[]).forEach((o,s)=>{const a=t.subcontext[s];a&&a.setState(o)})}function Fke(e,t,n,r){return new Bke(e,t,n,r)}function Bke(e,t,n,r){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=r||yAt,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function Tce(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}Bke.prototype=Tce.prototype={fork(){const e=new Tce(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach(e){this.subcontext=this.subcontext.filter(n=>n!==e);const t=Object.keys(e.nodes);for(const n of t)e.nodes[n]._targets=null;for(const n of t)e.nodes[n].detach();e.nodes=null},get(e){return this.nodes[e]},set(e,t){return this.nodes[e]=t},add(e,t){const n=this,r=n.dataflow,i=e.value;if(n.set(e.id,t),mAt(e.type)&&i&&(i.$ingest?r.ingest(t,i.$ingest,i.$format):i.$request?r.preload(t,i.$request,i.$format):r.pulse(t,r.changeset().insert(i))),e.root&&(n.root=t),e.parent){let o=n.get(e.parent.$ref);o?(r.connect(o,[t]),t.targets().add(o)):(n.unresolved=n.unresolved||[]).push(()=>{o=n.get(e.parent.$ref),r.connect(o,[t]),t.targets().add(o)})}if(e.signal&&(n.signals[e.signal]=t),e.scale&&(n.scales[e.scale]=t),e.data)for(const o in e.data){const s=n.data[o]||(n.data[o]={});e.data[o].forEach(a=>s[a]=t)}},resolve(){return(this.unresolved||[]).forEach(e=>e()),delete this.unresolved,this},operator(e,t){this.add(e,this.dataflow.add(e.value,t))},transform(e,t){this.add(e,this.dataflow.add(this.transforms[FK(t)]))},stream(e,t){this.set(e.id,t)},update(e,t,n,r,i){this.dataflow.on(t,n,r,i,e.options)},operatorExpression(e){return this.expr.operator(this,e)},parameterExpression(e){return this.expr.parameter(this,e)},eventExpression(e){return this.expr.event(this,e)},handlerExpression(e){return this.expr.handler(this,e)},encodeExpression(e){return this.expr.encode(this,e)},parse:dAt,parseOperator:vAt,parseOperatorParameters:bAt,parseParameters:wAt,parseStream:RAt,parseUpdate:DAt,getState:MAt,setState:PAt};function NAt(e){const t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),jke(t,e.description()))}function jke(e,t){e&&(t==null?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}function OAt(e){e.add(null,t=>(e._background=t.bg,e._resize=1,t.bg),{bg:e._signals.background})}const mB="default";function LAt(e){const t=e._signals.cursor||(e._signals.cursor=e.add({user:mB,item:null}));e.on(e.events("view","pointermove"),t,(n,r)=>{const i=t.value,o=i?Bt(i)?i:i.user:mB,s=r.item&&r.item.cursor||null;return i&&o===i.user&&s==i.item?i:{user:o,item:s}}),e.add(null,function(n){let r=n.cursor,i=this.value;return Bt(r)||(i=r.item,r=r.user),G7(e,r&&r!==mB?r:i||r),i},{cursor:t})}function G7(e,t){const n=e.globalCursor()?typeof document<"u"&&document.body:e.container();if(n)return t==null?n.style.removeProperty("cursor"):n.style.cursor=t}function yM(e,t){var n=e._runtime.data;return Vt(n,t)||Je("Unrecognized data set: "+t),n[t]}function FAt(e,t){return arguments.length<2?yM(this,e).values.value:CO.call(this,e,ib().remove(bc).insert(t))}function CO(e,t){rSe(t)||Je("Second argument to changes must be a changeset.");const n=yM(this,e);return n.modified=!0,this.pulse(n.input,t)}function BAt(e,t){return CO.call(this,e,ib().insert(t))}function jAt(e,t){return CO.call(this,e,ib().remove(t))}function zke(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function Uke(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function AO(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function zAt(e){var t=AO(e),n=zke(e),r=Uke(e);e._renderer.background(e.background()),e._renderer.resize(n,r,t),e._handler.origin(t),e._resizeListeners.forEach(i=>{try{i(n,r)}catch(o){e.error(o)}})}function UAt(e,t,n){var r=e._renderer,i=r&&r.canvas(),o,s,a;return i&&(a=AO(e),s=t.changedTouches?t.changedTouches[0]:t,o=dO(s,i),o[0]-=a[0],o[1]-=a[1]),t.dataflow=e,t.item=n,t.vega=HAt(e,n,o),t}function HAt(e,t,n){const r=t?t.mark.marktype==="group"?t:t.mark.group:null;function i(s){var a=r,l;if(s){for(l=t;l;l=l.mark.group)if(l.mark.name===s){a=l;break}}return a&&a.mark&&a.mark.interactive?a:{}}function o(s){if(!s)return n;Bt(s)&&(s=i(s));const a=n.slice();for(;s;)a[0]-=s.x||0,a[1]-=s.y||0,s=s.mark&&s.mark.group;return a}return{view:Pa(e),item:Pa(t||{}),group:i,xy:o,x:s=>o(s)[0],y:s=>o(s)[1]}}const Cce="view",VAt="timer",WAt="window",qAt={trap:!1};function GAt(e){const t=Bn({defaults:{}},e),n=(r,i)=>{i.forEach(o=>{et(r[o])&&(r[o]=Sd(r[o]))})};return n(t.defaults,["prevent","allow"]),n(t,["view","window","selector"]),t}function Hke(e,t,n,r){e._eventListeners.push({type:n,sources:jt(t),handler:r})}function YAt(e,t){var n=e._eventConfig.defaults,r=n.prevent,i=n.allow;return r===!1||i===!0?!1:r===!0||i===!1?!0:r?r[t]:i?!i[t]:e.preventDefault()}function m3(e,t,n){const r=e._eventConfig&&e._eventConfig[t];return r===!1||Ft(r)&&!r[n]?(e.warn(`Blocked ${t} ${n} event listener.`),!1):!0}function KAt(e,t,n){var r=this,i=new PN(n),o=function(u,c){r.runAsync(null,()=>{e===Cce&&YAt(r,t)&&u.preventDefault(),i.receive(UAt(r,u,c))})},s;if(e===VAt)m3(r,"timer",t)&&r.timer(o,t);else if(e===Cce)m3(r,"view",t)&&r.addEventListener(t,o,qAt);else if(e===WAt?m3(r,"window",t)&&typeof window<"u"&&(s=[window]):typeof document<"u"&&m3(r,"selector",t)&&(s=Array.from(document.querySelectorAll(e))),!s)r.warn("Can not resolve event source: "+e);else{for(var a=0,l=s.length;a<l;++a)s[a].addEventListener(t,o);Hke(r,s,t,o)}return i}function Ace(e){return e.item}function kce(e){return e.item.mark.source}function Ice(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}function XAt(e,t){return e=[e||"hover"],t=[t||"update",e[0]],this.on(this.events("view","pointerover",Ace),kce,Ice(e)),this.on(this.events("view","pointerout",Ace),kce,Ice(t)),this}function QAt(){var e=this._tooltip,t=this._timers,n=this._handler.handlers(),r=this._eventListeners,i,o,s,a,l;for(i=t.length;--i>=0;)t[i].stop();for(i=r.length;--i>=0;)for(s=r[i],o=s.sources.length;--o>=0;)s.sources[o].removeEventListener(s.type,s.handler);for(e&&e.call(this,this._handler,null,null,null),i=n.length;--i>=0;)l=n[i].type,a=n[i].handler,this._handler.off(l,a);return this}function Cu(e,t,n){const r=document.createElement(e);for(const i in t)r.setAttribute(i,t[i]);return n!=null&&(r.textContent=n),r}const JAt="vega-bind",ZAt="vega-bind-name",e2t="vega-bind-radio";function t2t(e,t,n){if(!t)return;const r=n.param;let i=n.state;return i||(i=n.state={elements:null,active:!1,set:null,update:s=>{s!=e.signal(r.signal)&&e.runAsync(null,()=>{i.source=!0,e.signal(r.signal,s)})}},r.debounce&&(i.update=bq(r.debounce,i.update))),(r.input==null&&r.element?n2t:i2t)(i,t,r,e),i.active||(e.on(e._signals[r.signal],null,()=>{i.source?i.source=!1:i.set(e.signal(r.signal))}),i.active=!0),i}function n2t(e,t,n,r){const i=n.event||"input",o=()=>e.update(t.value);r.signal(n.signal,t.value),t.addEventListener(i,o),Hke(r,t,i,o),e.set=s=>{t.value=s,t.dispatchEvent(r2t(i))}}function r2t(e){return typeof Event<"u"?new Event(e):{type:e}}function i2t(e,t,n,r){const i=r.signal(n.signal),o=Cu("div",{class:JAt}),s=n.input==="radio"?o:o.appendChild(Cu("label"));s.appendChild(Cu("span",{class:ZAt},n.name||n.signal)),t.appendChild(o);let a=o2t;switch(n.input){case"checkbox":a=s2t;break;case"select":a=a2t;break;case"radio":a=l2t;break;case"range":a=u2t;break}a(e,s,n,i)}function o2t(e,t,n,r){const i=Cu("input");for(const o in n)o!=="signal"&&o!=="element"&&i.setAttribute(o==="input"?"type":o,n[o]);i.setAttribute("name",n.signal),i.value=r,t.appendChild(i),i.addEventListener("input",()=>e.update(i.value)),e.elements=[i],e.set=o=>i.value=o}function s2t(e,t,n,r){const i={type:"checkbox",name:n.signal};r&&(i.checked=!0);const o=Cu("input",i);t.appendChild(o),o.addEventListener("change",()=>e.update(o.checked)),e.elements=[o],e.set=s=>o.checked=!!s||null}function a2t(e,t,n,r){const i=Cu("select",{name:n.signal}),o=n.labels||[];n.options.forEach((s,a)=>{const l={value:s};vM(s,r)&&(l.selected=!0),i.appendChild(Cu("option",l,(o[a]||s)+""))}),t.appendChild(i),i.addEventListener("change",()=>{e.update(n.options[i.selectedIndex])}),e.elements=[i],e.set=s=>{for(let a=0,l=n.options.length;a<l;++a)if(vM(n.options[a],s)){i.selectedIndex=a;return}}}function l2t(e,t,n,r){const i=Cu("span",{class:e2t}),o=n.labels||[];t.appendChild(i),e.elements=n.options.map((s,a)=>{const l={type:"radio",name:n.signal,value:s};vM(s,r)&&(l.checked=!0);const u=Cu("input",l);u.addEventListener("change",()=>e.update(s));const c=Cu("label",{},(o[a]||s)+"");return c.prepend(u),i.appendChild(c),u}),e.set=s=>{const a=e.elements,l=a.length;for(let u=0;u<l;++u)vM(a[u].value,s)&&(a[u].checked=!0)}}function u2t(e,t,n,r){r=r!==void 0?r:(+n.max+ +n.min)/2;const i=n.max!=null?n.max:Math.max(100,+r)||100,o=n.min||Math.min(0,i,+r)||0,s=n.step||Bg(o,i,100),a=Cu("input",{type:"range",name:n.signal,min:o,max:i,step:s});a.value=r;const l=Cu("span",{},+r);t.appendChild(a),t.appendChild(l);const u=()=>{l.textContent=a.value,e.update(+a.value)};a.addEventListener("input",u),a.addEventListener("change",u),e.elements=[a],e.set=c=>{a.value=c,l.textContent=c}}function vM(e,t){return e===t||e+""==t+""}function Vke(e,t,n,r,i,o){return t=t||new r(e.loader()),t.initialize(n,zke(e),Uke(e),AO(e),i,o).background(e.background())}function BK(e,t){return t?function(){try{t.apply(this,arguments)}catch(n){e.error(n)}}:null}function c2t(e,t,n,r){const i=new r(e.loader(),BK(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,AO(e),e);return t&&t.handlers().forEach(o=>{i.on(o.type,o.handler)}),i}function d2t(e,t){const n=this,r=n._renderType,i=n._eventConfig.bind,o=fO(r);e=n._el=e?gB(n,e,!0):null,NAt(n),o||n.error("Unrecognized renderer type: "+r);const s=o.handler||DA,a=e?o.renderer:o.headless;return n._renderer=a?Vke(n,n._renderer,e,a):null,n._handler=c2t(n,n._handler,e,s),n._redraw=!0,e&&i!=="none"&&(t=t?n._elBind=gB(n,t,!0):e.appendChild(Cu("form",{class:"vega-bindings"})),n._bind.forEach(l=>{l.param.element&&i!=="container"&&(l.element=gB(n,l.param.element,!!l.param.input))}),n._bind.forEach(l=>{t2t(n,l.element||t,l)})),n}function gB(e,t,n){if(typeof t=="string")if(typeof document<"u"){if(t=document.querySelector(t),!t)return e.error("Signal bind element not found: "+t),null}else return e.error("DOM document instance not found."),null;if(t&&n)try{t.textContent=""}catch(r){t=null,e.error(r)}return t}const CE=e=>+e||0,f2t=e=>({top:e,bottom:e,left:e,right:e});function Rce(e){return Ft(e)?{top:CE(e.top),bottom:CE(e.bottom),left:CE(e.left),right:CE(e.right)}:f2t(CE(e))}async function jK(e,t,n,r){const i=fO(t),o=i&&i.headless;return o||Je("Unrecognized renderer type: "+t),await e.runAsync(),Vke(e,null,null,o,n,r).renderAsync(e._scenegraph.root)}async function h2t(e,t){e!==ig.Canvas&&e!==ig.SVG&&e!==ig.PNG&&Je("Unrecognized image type: "+e);const n=await jK(this,e,t);return e===ig.SVG?p2t(n.svg(),"image/svg+xml"):n.canvas().toDataURL("image/png")}function p2t(e,t){const n=new Blob([e],{type:t});return window.URL.createObjectURL(n)}async function m2t(e,t){return(await jK(this,ig.Canvas,e,t)).canvas()}async function g2t(e){return(await jK(this,ig.SVG,e)).svg()}function y2t(e,t,n){return Fke(e,$w,lC,n).parse(t)}function v2t(e){var t=this._runtime.scales;return Vt(t,e)||Je("Unrecognized scale or projection: "+e),t[e].value}var Wke="width",qke="height",zK="padding",Dce={skip:!0};function Gke(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===zK?r.left+r.right:0)}function Yke(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===zK?r.top+r.bottom:0)}function b2t(e){var t=e._signals,n=t[Wke],r=t[qke],i=t[zK];function o(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,a=>{e._width=a.size,e._viewWidth=Gke(e,a.size),o()},{size:n}),e._resizeHeight=e.add(null,a=>{e._height=a.size,e._viewHeight=Yke(e,a.size),o()},{size:r});const s=e.add(null,o,{pad:i});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=r.rank+1,s.rank=i.rank+1}function w2t(e,t,n,r,i,o){this.runAfter(s=>{let a=0;s._autosize=0,s.width()!==n&&(a=1,s.signal(Wke,n,Dce),s._resizeWidth.skip(!0)),s.height()!==r&&(a=1,s.signal(qke,r,Dce),s._resizeHeight.skip(!0)),s._viewWidth!==e&&(s._resize=1,s._viewWidth=e),s._viewHeight!==t&&(s._resize=1,s._viewHeight=t),(s._origin[0]!==i[0]||s._origin[1]!==i[1])&&(s._resize=1,s._origin=i),a&&s.run("enter"),o&&s.runAfter(l=>l.resize())},!1,1)}function x2t(e){return this._runtime.getState(e||{data:_2t,signals:E2t,recurse:!0})}function _2t(e,t){return t.modified&&et(t.input.value)&&!e.startsWith("_:vega:_")}function E2t(e,t){return!(e==="parent"||t instanceof $w.proxy)}function S2t(e){return this.runAsync(null,t=>{t._trigger=!1,t._runtime.setState(e)},t=>{t._trigger=!0}),this}function T2t(e,t){function n(r){e({timestamp:Date.now(),elapsed:r})}this._timers.push(Kxt(n,t))}function C2t(e,t,n,r){const i=e.element();i&&i.setAttribute("title",A2t(r))}function A2t(e){return e==null?"":et(e)?Kke(e):Ft(e)&&!vg(e)?k2t(e):e+""}function k2t(e){return Object.keys(e).map(t=>{const n=e[t];return t+": "+(et(n)?Kke(n):Xke(n))}).join(`
`)}function Kke(e){return"["+e.map(Xke).join(", ")+"]"}function Xke(e){return et(e)?"[]":Ft(e)&&!vg(e)?"{}":e}function I2t(){if(this.renderer()==="canvas"&&this._renderer._canvas){let e=null;const t=()=>{e!=null&&e();const n=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`);n.addEventListener("change",t),e=()=>{n.removeEventListener("change",t)},this._renderer._canvas.getContext("2d").pixelRatio=window.devicePixelRatio||1,this._redraw=!0,this._resize=1,this.resize().runAsync()};t()}}function Qke(e,t){const n=this;if(t=t||{},ew.call(n),t.loader&&n.loader(t.loader),t.logger&&n.logger(t.logger),t.logLevel!=null&&n.logLevel(t.logLevel),t.locale||e.locale){const o=Bn({},e.locale,t.locale);n.locale(GEe(o.number,o.time))}n._el=null,n._elBind=null,n._renderType=t.renderer||ig.Canvas,n._scenegraph=new qCe;const r=n._scenegraph.root;n._renderer=null,n._tooltip=t.tooltip||C2t,n._redraw=!0,n._handler=new DA().scene(r),n._globalCursor=!1,n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=GAt(e.eventConfig),n.globalCursor(n._eventConfig.globalCursor);const i=y2t(n,e,t.expr);n._runtime=i,n._signals=i.signals,n._bind=(e.bindings||[]).map(o=>({state:null,param:Bn({},o)})),i.root&&i.root.set(r),r.source=i.data.root.input,n.pulse(i.data.root.input,n.changeset().insert(r.items)),n._width=n.width(),n._height=n.height(),n._viewWidth=Gke(n,n._width),n._viewHeight=Yke(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,b2t(n),OAt(n),LAt(n),n.description(e.description),t.hover&&n.hover(),t.container&&n.initialize(t.container,t.bind),t.watchPixelRatio&&n._watchPixelRatio()}function g3(e,t){return Vt(e._signals,t)?e._signals[t]:Je("Unrecognized signal name: "+Rt(t))}function Jke(e,t){const n=(e._targets||[]).filter(r=>r._update&&r._update.handler===t);return n.length?n[0]:null}function $ce(e,t,n,r){let i=Jke(n,r);return i||(i=BK(e,()=>r(t,n.value)),i.handler=r,e.on(n,null,i)),e}function Mce(e,t,n){const r=Jke(t,n);return r&&t._targets.remove(r),e}Mt(Qke,ew,{async evaluate(e,t,n){if(await ew.prototype.evaluate.call(this,e,t),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,zAt(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(r){this.error(r)}return n&&CR(this,n),this},dirty(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description(e){if(arguments.length){const t=e!=null?e+"":null;return t!==this._desc&&jke(this._el,this._desc=t),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(e,t,n){const r=g3(this,e);return arguments.length===1?r.value:this.update(r,t,n)},width(e){return arguments.length?this.signal("width",e):this.signal("width")},height(e){return arguments.length?this.signal("height",e):this.signal("height")},padding(e){return arguments.length?this.signal("padding",Rce(e)):Rce(this.signal("padding"))},autosize(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer(e){return arguments.length?(fO(e)||Je("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader(e){return arguments.length?(e!==this._loader&&(ew.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(g3(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:w2t,addEventListener(e,t,n){let r=t;return n&&n.trap===!1||(r=BK(this,t),r.raw=t),this._handler.on(e,r),this},removeEventListener(e,t){for(var n=this._handler.handlers(e),r=n.length,i,o;--r>=0;)if(o=n[r].type,i=n[r].handler,e===o&&(t===i||t===i.raw)){this._handler.off(o,i);break}return this},addResizeListener(e){const t=this._resizeListeners;return t.includes(e)||t.push(e),this},removeResizeListener(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},addSignalListener(e,t){return $ce(this,e,g3(this,e),t)},removeSignalListener(e,t){return Mce(this,g3(this,e),t)},addDataListener(e,t){return $ce(this,e,yM(this,e).values,t)},removeDataListener(e,t){return Mce(this,yM(this,e).values,t)},globalCursor(e){if(arguments.length){if(this._globalCursor!==!!e){const t=G7(this,null);this._globalCursor=!!e,t&&G7(this,t)}return this}else return this._globalCursor},preventDefault(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:T2t,events:KAt,finalize:QAt,hover:XAt,data:FAt,change:CO,insert:BAt,remove:jAt,scale:v2t,initialize:d2t,toImageURL:h2t,toCanvas:m2t,toSVG:g2t,getState:x2t,setState:S2t,_watchPixelRatio:I2t});const R2t="view",bM="[",wM="]",Zke="{",e3e="}",D2t=":",t3e=",",$2t="@",M2t=">",P2t=/[[\]{}]/,N2t={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let n3e,r3e;function v0(e,t,n){return n3e=t||R2t,r3e=n||N2t,i3e(e.trim()).map(Y7)}function O2t(e){return r3e[e]}function nT(e,t,n,r,i){const o=e.length;let s=0,a;for(;t<o;++t){if(a=e[t],!s&&a===n)return t;i&&i.indexOf(a)>=0?--s:r&&r.indexOf(a)>=0&&++s}return t}function i3e(e){const t=[],n=e.length;let r=0,i=0;for(;i<n;)i=nT(e,i,t3e,bM+Zke,wM+e3e),t.push(e.substring(r,i).trim()),r=++i;if(t.length===0)throw"Empty event selector: "+e;return t}function Y7(e){return e[0]==="["?L2t(e):F2t(e)}function L2t(e){const t=e.length;let n=1,r;if(n=nT(e,n,wM,bM,wM),n===t)throw"Empty between selector: "+e;if(r=i3e(e.substring(1,n)),r.length!==2)throw"Between selector must have two elements: "+e;if(e=e.slice(n+1).trim(),e[0]!==M2t)throw"Expected '>' after between selector: "+e;r=r.map(Y7);const i=Y7(e.slice(1).trim());return i.between?{between:r,stream:i}:(i.between=r,i)}function F2t(e){const t={source:n3e},n=[];let r=[0,0],i=0,o=0,s=e.length,a=0,l,u;if(e[s-1]===e3e){if(a=e.lastIndexOf(Zke),a>=0){try{r=B2t(e.substring(a+1,s-1))}catch{throw"Invalid throttle specification: "+e}e=e.slice(0,a).trim(),s=e.length}else throw"Unmatched right brace: "+e;a=0}if(!s)throw e;if(e[0]===$2t&&(i=++a),l=nT(e,a,D2t),l<s&&(n.push(e.substring(o,l).trim()),o=a=++l),a=nT(e,a,bM),a===s)n.push(e.substring(o,s).trim());else if(n.push(e.substring(o,a).trim()),u=[],o=++a,o===s)throw"Unmatched left bracket: "+e;for(;a<s;){if(a=nT(e,a,wM),a===s)throw"Unmatched left bracket: "+e;if(u.push(e.substring(o,a).trim()),a<s-1&&e[++a]!==bM)throw"Expected left bracket: "+e;o=++a}if(!(s=n.length)||P2t.test(n[s-1]))throw"Invalid event selector: "+e;return s>1?(t.type=n[1],i?t.markname=n[0].slice(1):O2t(n[0])?t.marktype=n[0]:t.source=n[0]):t.type=n[0],t.type.slice(-1)==="!"&&(t.consume=!0,t.type=t.type.slice(0,-1)),u!=null&&(t.filter=u),r[0]&&(t.throttle=r[0]),r[1]&&(t.debounce=r[1]),t}function B2t(e){const t=e.split(t3e);if(!e.length||t.length>2)throw e;return t.map(n=>{const r=+n;if(r!==r)throw e;return r})}function j2t(e){return Ft(e)?e:{type:e||"pad"}}const AE=e=>+e||0,z2t=e=>({top:e,bottom:e,left:e,right:e});function U2t(e){return Ft(e)?e.signal?e:{top:AE(e.top),bottom:AE(e.bottom),left:AE(e.left),right:AE(e.right)}:z2t(AE(e))}const fs=e=>Ft(e)&&!et(e)?Bn({},e):{value:e};function Pce(e,t,n,r){return n!=null?(Ft(n)&&!et(n)||et(n)&&n.length&&Ft(n[0])?e.update[t]=n:e[r||"enter"][t]={value:n},1):0}function Js(e,t,n){for(const r in t)Pce(e,r,t[r]);for(const r in n)Pce(e,r,n[r],"update")}function u_(e,t,n){for(const r in t)n&&Vt(n,r)||(e[r]=Bn(e[r]||{},t[r]));return e}function C1(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}const UK="mark",HK="frame",VK="scope",H2t="axis",V2t="axis-domain",W2t="axis-grid",q2t="axis-label",G2t="axis-tick",Y2t="axis-title",K2t="legend",X2t="legend-band",Q2t="legend-entry",J2t="legend-gradient",o3e="legend-label",Z2t="legend-symbol",ekt="legend-title",tkt="title",nkt="title-text",rkt="title-subtitle";function ikt(e,t,n,r,i){const o={},s={};let a,l,u,c;l="lineBreak",t==="text"&&i[l]!=null&&!C1(l,e)&&yB(o,l,i[l]),(n=="legend"||String(n).startsWith("axis"))&&(n=null),c=n===HK?i.group:n===UK?Bn({},i.mark,i[t]):null;for(l in c)u=C1(l,e)||(l==="fill"||l==="stroke")&&(C1("fill",e)||C1("stroke",e)),u||yB(o,l,c[l]);jt(r).forEach(d=>{const f=i.style&&i.style[d];for(const h in f)C1(h,e)||yB(o,h,f[h])}),e=Bn({},e);for(l in o)c=o[l],c.signal?(a=a||{})[l]=c:s[l]=c;return e.enter=Bn(s,e.enter),a&&(e.update=Bn(a,e.update)),e}function yB(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}const s3e=e=>Bt(e)?Rt(e):e.signal?`(${e.signal})`:a3e(e);function kO(e){if(e.gradient!=null)return skt(e);let t=e.signal?`(${e.signal})`:e.color?okt(e.color):e.field!=null?a3e(e.field):e.value!==void 0?Rt(e.value):void 0;return e.scale!=null&&(t=akt(e,t)),t===void 0&&(t=null),e.exponent!=null&&(t=`pow(${t},${VR(e.exponent)})`),e.mult!=null&&(t+=`*${VR(e.mult)}`),e.offset!=null&&(t+=`+${VR(e.offset)}`),e.round&&(t=`round(${t})`),t}const y3=(e,t,n,r)=>`(${e}(${[t,n,r].map(kO).join(",")})+'')`;function okt(e){return e.c?y3("hcl",e.h,e.c,e.l):e.h||e.s?y3("hsl",e.h,e.s,e.l):e.l||e.a?y3("lab",e.l,e.a,e.b):e.r||e.g||e.b?y3("rgb",e.r,e.g,e.b):null}function skt(e){const t=[e.start,e.stop,e.count].map(n=>n==null?null:Rt(n));for(;t.length&&ur(t)==null;)t.pop();return t.unshift(s3e(e.gradient)),`gradient(${t.join(",")})`}function VR(e){return Ft(e)?"("+kO(e)+")":e}function a3e(e){return l3e(Ft(e)?e:{datum:e})}function l3e(e){let t,n,r;if(e.signal)t="datum",r=e.signal;else if(e.group||e.parent){for(n=Math.max(1,e.level||1),t="item";n-- >0;)t+=".mark.group";e.parent?(r=e.parent,t+=".datum"):r=e.group}else e.datum?(t="datum",r=e.datum):Je("Invalid field reference: "+Rt(e));return e.signal||(r=Bt(r)?ch(r).map(Rt).join("]["):l3e(r)),t+"["+r+"]"}function akt(e,t){const n=s3e(e.scale);return e.range!=null?t=`lerp(_range(${n}), ${+e.range})`:(t!==void 0&&(t=`_scale(${n}, ${t})`),e.band&&(t=(t?t+"+":"")+`_bandwidth(${n})`+(+e.band==1?"":"*"+VR(e.band)),e.extra&&(t=`(datum.extra ? _scale(${n}, datum.extra.value) : ${t})`)),t==null&&(t="0")),t}function lkt(e){let t="";return e.forEach(n=>{const r=kO(n);t+=n.test?`(${n.test})?${r}:`:r}),ur(t)===":"&&(t+="null"),t}function u3e(e,t,n,r,i,o){const s={};o=o||{},o.encoders={$encode:s},e=ikt(e,t,n,r,i.config);for(const a in e)s[a]=ukt(e[a],t,o,i);return o}function ukt(e,t,n,r){const i={},o={};for(const s in e)e[s]!=null&&(i[s]=dkt(ckt(e[s]),r,n,o));return{$expr:{marktype:t,channels:i},$fields:Object.keys(o),$output:Object.keys(e)}}function ckt(e){return et(e)?lkt(e):kO(e)}function dkt(e,t,n,r){const i=Jf(e,t);return i.$fields.forEach(o=>r[o]=1),Bn(n,i.$params),i.$expr}const fkt="outer",hkt=["value","update","init","react","bind"];function Nce(e,t){Je(e+' for "outer" push: '+Rt(t))}function c3e(e,t){const n=e.name;if(e.push===fkt)t.signals[n]||Nce("No prior signal definition",n),hkt.forEach(r=>{e[r]!==void 0&&Nce("Invalid property ",r)});else{const r=t.addSignal(n,e.value);e.react===!1&&(r.react=!1),e.bind&&t.addBinding(n,e.bind)}}function K7(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function IO(e,t,n,r){return new K7(e,t,n,r)}function xM(e,t){return IO("operator",e,t)}function dn(e){const t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function uC(e,t){return t?{$field:e,$name:t}:{$field:e}}const X7=uC("key");function Oce(e,t){return{$compare:e,$order:t}}function pkt(e,t){const n={$key:e};return t&&(n.$flat=!0),n}const mkt="ascending",gkt="descending";function ykt(e){return Ft(e)?(e.order===gkt?"-":"+")+RO(e.op,e.field):""}function RO(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}const WK="scope",Q7="view";function Go(e){return e&&e.signal}function vkt(e){return e&&e.expr}function WR(e){if(Go(e))return!0;if(Ft(e)){for(const t in e)if(WR(e[t]))return!0}return!1}function Jc(e,t){return e??t}function Uy(e){return e&&e.signal||e}const Lce="timer";function cC(e,t){return(e.merge?wkt:e.stream?xkt:e.type?_kt:Je("Invalid stream specification: "+Rt(e)))(e,t)}function bkt(e){return e===WK?Q7:e||Q7}function wkt(e,t){const n=e.merge.map(i=>cC(i,t)),r=qK({merge:n},e,t);return t.addStream(r).id}function xkt(e,t){const n=cC(e.stream,t),r=qK({stream:n},e,t);return t.addStream(r).id}function _kt(e,t){let n;e.type===Lce?(n=t.event(Lce,e.throttle),e={between:e.between,filter:e.filter}):n=t.event(bkt(e.source),e.type);const r=qK({stream:n},e,t);return Object.keys(r).length===1?n:t.addStream(r).id}function qK(e,t,n){let r=t.between;return r&&(r.length!==2&&Je('Stream "between" parameter must have 2 entries: '+Rt(t)),e.between=[cC(r[0],n),cC(r[1],n)]),r=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&r.push(Ekt(t.marktype,t.markname,t.markrole)),t.source===WK&&r.push("inScope(event.item)"),r.length&&(e.filter=Jf("("+r.join(")&&(")+")",n).$expr),(r=t.throttle)!=null&&(e.throttle=+r),(r=t.debounce)!=null&&(e.debounce=+r),t.consume&&(e.consume=!0),e}function Ekt(e,t,n){const r="event.item";return r+(e&&e!=="*"?"&&"+r+".mark.marktype==='"+e+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}const Skt={code:"_.$value",ast:{type:"Identifier",value:"value"}};function Tkt(e,t,n){const r=e.encode,i={target:n};let o=e.events,s=e.update,a=[];o||Je("Signal update missing events specification."),Bt(o)&&(o=v0(o,t.isSubscope()?WK:Q7)),o=jt(o).filter(l=>l.signal||l.scale?(a.push(l),0):1),a.length>1&&(a=[Akt(a)]),o.length&&a.push(o.length>1?{merge:o}:o[0]),r!=null&&(s&&Je("Signal encode and update are mutually exclusive."),s="encode(item(),"+Rt(r)+")"),i.update=Bt(s)?Jf(s,t):s.expr!=null?Jf(s.expr,t):s.value!=null?s.value:s.signal!=null?{$expr:Skt,$params:{$value:t.signalRef(s.signal)}}:Je("Invalid signal update specification."),e.force&&(i.options={force:!0}),a.forEach(l=>t.addUpdate(Bn(Ckt(l,t),i)))}function Ckt(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):cC(e,t)}}function Akt(e){return{signal:"["+e.map(t=>t.scale?'scale("'+t.scale+'")':t.signal)+"]"}}function kkt(e,t){const n=t.getSignal(e.name);let r=e.update;e.init&&(r?Je("Signals can not include both init and update expressions."):(r=e.init,n.initonly=!0)),r&&(r=Jf(r,t),n.update=r.$expr,n.params=r.$params),e.on&&e.on.forEach(i=>Tkt(i,t,n.id))}const Qr=e=>(t,n,r)=>IO(e,n,t||void 0,r),d3e=Qr("aggregate"),Ikt=Qr("axisticks"),f3e=Qr("bound"),Nd=Qr("collect"),Fce=Qr("compare"),Rkt=Qr("datajoin"),h3e=Qr("encode"),Dkt=Qr("expression"),$kt=Qr("facet"),Mkt=Qr("field"),Pkt=Qr("key"),Nkt=Qr("legendentries"),Okt=Qr("load"),Lkt=Qr("mark"),Fkt=Qr("multiextent"),Bkt=Qr("multivalues"),jkt=Qr("overlap"),zkt=Qr("params"),p3e=Qr("prefacet"),Ukt=Qr("projection"),Hkt=Qr("proxy"),Vkt=Qr("relay"),m3e=Qr("render"),Wkt=Qr("scale"),lb=Qr("sieve"),qkt=Qr("sortitems"),g3e=Qr("viewlayout"),Gkt=Qr("values");let Ykt=0;const y3e={min:"min",max:"max",count:"sum"};function Kkt(e,t){const n=e.type||"linear";iCe(n)||Je("Unrecognized scale type: "+Rt(n)),t.addScale(e.name,{type:n,domain:void 0})}function Xkt(e,t){const n=t.getScale(e.name).params;let r;n.domain=v3e(e.domain,e,t),e.range!=null&&(n.range=w3e(e,t,n)),e.interpolate!=null&&s3t(e.interpolate,n),e.nice!=null&&(n.nice=o3t(e.nice,t)),e.bins!=null&&(n.bins=i3t(e.bins,t));for(r in e)Vt(n,r)||r==="name"||(n[r]=uc(e[r],t))}function uc(e,t){return Ft(e)?e.signal?t.signalRef(e.signal):Je("Unsupported object: "+Rt(e)):e}function qR(e,t){return e.signal?t.signalRef(e.signal):e.map(n=>uc(n,t))}function DO(e){Je("Can not find data set: "+Rt(e))}function v3e(e,t,n){if(!e){(t.domainMin!=null||t.domainMax!=null)&&Je("No scale domain defined for domainMin/domainMax to override.");return}return e.signal?n.signalRef(e.signal):(et(e)?Qkt:e.fields?Zkt:Jkt)(e,t,n)}function Qkt(e,t,n){return e.map(r=>uc(r,n))}function Jkt(e,t,n){const r=n.getData(e.data);return r||DO(e.data),Lw(t.type)?r.valuesRef(n,e.field,b3e(e.sort,!1)):aCe(t.type)?r.domainRef(n,e.field):r.extentRef(n,e.field)}function Zkt(e,t,n){const r=e.data,i=e.fields.reduce((o,s)=>(s=Bt(s)?{data:r,field:s}:et(s)||s.signal?e3t(s,n):s,o.push(s),o),[]);return(Lw(t.type)?t3t:aCe(t.type)?n3t:r3t)(e,n,i)}function e3t(e,t){const n="_:vega:_"+Ykt++,r=Nd({});if(et(e))r.value={$ingest:e};else if(e.signal){const i="setdata("+Rt(n)+","+e.signal+")";r.params.input=t.signalRef(i)}return t.addDataPipeline(n,[r,lb({})]),{data:n,field:"data"}}function t3t(e,t,n){const r=b3e(e.sort,!0);let i,o;const s=n.map(u=>{const c=t.getData(u.data);return c||DO(u.data),c.countsRef(t,u.field,r)}),a={groupby:X7,pulse:s};r&&(i=r.op||"count",o=r.field?RO(i,r.field):"count",a.ops=[y3e[i]],a.fields=[t.fieldRef(o)],a.as=[o]),i=t.add(d3e(a));const l=t.add(Nd({pulse:dn(i)}));return o=t.add(Gkt({field:X7,sort:t.sortRef(r),pulse:dn(l)})),dn(o)}function b3e(e,t){return e&&(!e.field&&!e.op?Ft(e)?e.field="key":e={field:"key"}:!e.field&&e.op!=="count"?Je("No field provided for sort aggregate op: "+e.op):t&&e.field&&e.op&&!y3e[e.op]&&Je("Multiple domain scales can not be sorted using "+e.op)),e}function n3t(e,t,n){const r=n.map(i=>{const o=t.getData(i.data);return o||DO(i.data),o.domainRef(t,i.field)});return dn(t.add(Bkt({values:r})))}function r3t(e,t,n){const r=n.map(i=>{const o=t.getData(i.data);return o||DO(i.data),o.extentRef(t,i.field)});return dn(t.add(Fkt({extents:r})))}function i3t(e,t){return e.signal||et(e)?qR(e,t):t.objectProperty(e)}function o3t(e,t){return e.signal?t.signalRef(e.signal):Ft(e)?{interval:uc(e.interval),step:uc(e.step)}:uc(e)}function s3t(e,t){t.interpolate=uc(e.type||e),e.gamma!=null&&(t.interpolateGamma=uc(e.gamma))}function w3e(e,t,n){const r=t.config.range;let i=e.range;if(i.signal)return t.signalRef(i.signal);if(Bt(i)){if(r&&Vt(r,i))return e=Bn({},e,{range:r[i]}),w3e(e,t,n);i==="width"?i=[0,{signal:"width"}]:i==="height"?i=Lw(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:Je("Unrecognized scale range value: "+Rt(i))}else if(i.scheme){n.scheme=et(i.scheme)?qR(i.scheme,t):uc(i.scheme,t),i.extent&&(n.schemeExtent=qR(i.extent,t)),i.count&&(n.schemeCount=uc(i.count,t));return}else if(i.step){n.rangeStep=uc(i.step,t);return}else{if(Lw(e.type)&&!et(i))return v3e(i,e,t);et(i)||Je("Unsupported range type: "+Rt(i))}return i.map(o=>(et(o)?qR:uc)(o,t))}function a3t(e,t){const n=t.config.projection||{},r={};for(const i in e)i!=="name"&&(r[i]=J7(e[i],i,t));for(const i in n)r[i]==null&&(r[i]=J7(n[i],i,t));t.addProjection(e.name,r)}function J7(e,t,n){return et(e)?e.map(r=>J7(r,t,n)):Ft(e)?e.signal?n.signalRef(e.signal):t==="fit"?e:Je("Unsupported parameter object: "+Rt(e)):e}const Od="top",c_="left",d_="right",Gg="bottom",x3e="center",l3t="vertical",u3t="start",c3t="middle",d3t="end",Z7="index",GK="label",f3t="offset",qw="perc",h3t="perc2",fc="value",jA="guide-label",YK="guide-title",p3t="group-title",m3t="group-subtitle",Bce="symbol",GR="gradient",ez="discrete",tz="size",g3t="shape",y3t="fill",v3t="stroke",b3t="strokeWidth",w3t="strokeDash",x3t="opacity",KK=[tz,g3t,y3t,v3t,b3t,w3t,x3t],zA={name:1,style:1,interactive:1},pr={value:0},hc={value:1},$O="group",_3e="rect",XK="rule",_3t="symbol",ub="text";function dC(e){return e.type=$O,e.interactive=e.interactive||!1,e}function Jl(e,t){const n=(r,i)=>Jc(e[r],Jc(t[r],i));return n.isVertical=r=>l3t===Jc(e.direction,t.direction||(r?t.symbolDirection:t.gradientDirection)),n.gradientLength=()=>Jc(e.gradientLength,t.gradientLength||t.gradientWidth),n.gradientThickness=()=>Jc(e.gradientThickness,t.gradientThickness||t.gradientHeight),n.entryColumns=()=>Jc(e.columns,Jc(t.columns,+n.isVertical(!0))),n}function E3e(e,t){const n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function E3t(e,t,n){const r=t.config.style[n];return r&&r[e]}function MO(e,t,n){return`item.anchor === '${u3t}' ? ${e} : item.anchor === '${d3t}' ? ${t} : ${n}`}const QK=MO(Rt(c_),Rt(d_),Rt(x3e));function S3t(e){const t=e("tickBand");let n=e("tickOffset"),r,i;return t?t.signal?(r={signal:`(${t.signal}) === 'extent' ? 1 : 0.5`},i={signal:`(${t.signal}) === 'extent'`},Ft(n)||(n={signal:`(${t.signal}) === 'extent' ? 0 : ${n}`})):t==="extent"?(r=1,i=!0,n=0):(r=.5,i=!1):(r=e("bandPosition"),i=e("tickExtra")),{extra:i,band:r,offset:n}}function S3e(e,t){return t?e?Ft(e)?Object.assign({},e,{offset:S3e(e.offset,t)}):{value:e,offset:t}:t:e}function ju(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=u_(e.encode,t,zA)):e.interactive=!1,e}function T3t(e,t,n,r){const i=Jl(e,n),o=i.isVertical(),s=i.gradientThickness(),a=i.gradientLength();let l,u,c,d,f;o?(u=[0,1],c=[0,0],d=s,f=a):(u=[0,0],c=[1,0],d=a,f=s);const h={enter:l={opacity:pr,x:pr,y:pr,width:fs(d),height:fs(f)},update:Bn({},l,{opacity:hc,fill:{gradient:t,start:u,stop:c}}),exit:{opacity:pr}};return Js(h,{stroke:i("gradientStrokeColor"),strokeWidth:i("gradientStrokeWidth")},{opacity:i("gradientOpacity")}),ju({type:_3e,role:J2t,encode:h},r)}function C3t(e,t,n,r,i){const o=Jl(e,n),s=o.isVertical(),a=o.gradientThickness(),l=o.gradientLength();let u,c,d,f,h="";s?(u="y",d="y2",c="x",f="width",h="1-"):(u="x",d="x2",c="y",f="height");const p={opacity:pr,fill:{scale:t,field:fc}};p[u]={signal:h+"datum."+qw,mult:l},p[c]=pr,p[d]={signal:h+"datum."+h3t,mult:l},p[f]=fs(a);const m={enter:p,update:Bn({},p,{opacity:hc}),exit:{opacity:pr}};return Js(m,{stroke:o("gradientStrokeColor"),strokeWidth:o("gradientStrokeWidth")},{opacity:o("gradientOpacity")}),ju({type:_3e,role:X2t,key:fc,from:i,encode:m},r)}const A3t=`datum.${qw}<=0?"${c_}":datum.${qw}>=1?"${d_}":"${x3e}"`,k3t=`datum.${qw}<=0?"${Gg}":datum.${qw}>=1?"${Od}":"${c3t}"`;function jce(e,t,n,r){const i=Jl(e,t),o=i.isVertical(),s=fs(i.gradientThickness()),a=i.gradientLength();let l=i("labelOverlap"),u,c,d,f,h="";const p={enter:u={opacity:pr},update:c={opacity:hc,text:{field:GK}},exit:{opacity:pr}};return Js(p,{fill:i("labelColor"),fillOpacity:i("labelOpacity"),font:i("labelFont"),fontSize:i("labelFontSize"),fontStyle:i("labelFontStyle"),fontWeight:i("labelFontWeight"),limit:Jc(e.labelLimit,t.gradientLabelLimit)}),o?(u.align={value:"left"},u.baseline=c.baseline={signal:k3t},d="y",f="x",h="1-"):(u.align=c.align={signal:A3t},u.baseline={value:"top"},d="x",f="y"),u[d]=c[d]={signal:h+"datum."+qw,mult:a},u[f]=c[f]=s,s.offset=Jc(e.labelOffset,t.gradientLabelOffset)||0,l=l?{separation:i("labelSeparation"),method:l,order:"datum."+Z7}:void 0,ju({type:ub,role:o3e,style:jA,key:fc,from:r,encode:p,overlap:l},n)}function I3t(e,t,n,r,i){const o=Jl(e,t),s=n.entries,a=!!(s&&s.interactive),l=s?s.name:void 0,u=o("clipHeight"),c=o("symbolOffset"),d={data:"value"},f=`(${i}) ? datum.${f3t} : datum.${tz}`,h=u?fs(u):{field:tz},p=`datum.${Z7}`,m=`max(1, ${i})`;let g,y,v,w,E;h.mult=.5,g={enter:y={opacity:pr,x:{signal:f,mult:.5,offset:c},y:h},update:v={opacity:hc,x:y.x,y:y.y},exit:{opacity:pr}};let _=null,x=null;e.fill||(_=t.symbolBaseFillColor,x=t.symbolBaseStrokeColor),Js(g,{fill:o("symbolFillColor",_),shape:o("symbolType"),size:o("symbolSize"),stroke:o("symbolStrokeColor",x),strokeDash:o("symbolDash"),strokeDashOffset:o("symbolDashOffset"),strokeWidth:o("symbolStrokeWidth")},{opacity:o("symbolOpacity")}),KK.forEach(k=>{e[k]&&(v[k]=y[k]={scale:e[k],field:fc})});const S=ju({type:_3t,role:Z2t,key:fc,from:d,clip:u?!0:void 0,encode:g},n.symbols),C=fs(c);C.offset=o("labelOffset"),g={enter:y={opacity:pr,x:{signal:f,offset:C},y:h},update:v={opacity:hc,text:{field:GK},x:y.x,y:y.y},exit:{opacity:pr}},Js(g,{align:o("labelAlign"),baseline:o("labelBaseline"),fill:o("labelColor"),fillOpacity:o("labelOpacity"),font:o("labelFont"),fontSize:o("labelFontSize"),fontStyle:o("labelFontStyle"),fontWeight:o("labelFontWeight"),limit:o("labelLimit")});const A=ju({type:ub,role:o3e,style:jA,key:fc,from:d,encode:g},n.labels);return g={enter:{noBound:{value:!u},width:pr,height:u?fs(u):pr,opacity:pr},exit:{opacity:pr},update:v={opacity:hc,row:{signal:null},column:{signal:null}}},o.isVertical(!0)?(w=`ceil(item.mark.items.length / ${m})`,v.row.signal=`${p}%${w}`,v.column.signal=`floor(${p} / ${w})`,E={field:["row",p]}):(v.row.signal=`floor(${p} / ${m})`,v.column.signal=`${p} % ${m}`,E={field:p}),v.column.signal=`(${i})?${v.column.signal}:${p}`,r={facet:{data:r,name:"value",groupby:Z7}},dC({role:VK,from:r,encode:u_(g,s,zA),marks:[S,A],name:l,interactive:a,sort:E})}function R3t(e,t){const n=Jl(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}const JK='item.orient === "left"',ZK='item.orient === "right"',PO=`(${JK} || ${ZK})`,D3t=`datum.vgrad && ${PO}`,$3t=MO('"top"','"bottom"','"middle"'),M3t=MO('"right"','"left"','"center"'),P3t=`datum.vgrad && ${ZK} ? (${M3t}) : (${PO} && !(datum.vgrad && ${JK})) ? "left" : ${QK}`,N3t=`item._anchor || (${PO} ? "middle" : "start")`,O3t=`${D3t} ? (${JK} ? -90 : 90) : 0`,L3t=`${PO} ? (datum.vgrad ? (${ZK} ? "bottom" : "top") : ${$3t}) : "top"`;function F3t(e,t,n,r){const i=Jl(e,t),o={enter:{opacity:pr},update:{opacity:hc,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:pr}};return Js(o,{orient:i("titleOrient"),_anchor:i("titleAnchor"),anchor:{signal:N3t},angle:{signal:O3t},align:{signal:P3t},baseline:{signal:L3t},text:e.title,fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),baseline:i("titleBaseline")}),ju({type:ub,role:ekt,style:YK,from:r,encode:o},n)}function B3t(e,t){let n;return Ft(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+zce(e.path)+")":e.sphere&&(n="geoShape("+zce(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e}function zce(e){return Ft(e)&&e.signal?e.signal:Rt(e)}function T3e(e){const t=e.role||"";return t.startsWith("axis")||t.startsWith("legend")||t.startsWith("title")?t:e.type===$O?VK:t||UK}function j3t(e){return{marktype:e.type,name:e.name||void 0,role:e.role||T3e(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function z3t(e,t){return e&&e.signal?t.signalRef(e.signal):e!==!1}function eX(e,t){const n=sSe(e.type);n||Je("Unrecognized transform type: "+Rt(e.type));const r=IO(n.type.toLowerCase(),null,C3e(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=n.metadata||{},r}function C3e(e,t,n){const r={},i=e.params.length;for(let o=0;o<i;++o){const s=e.params[o];r[s.name]=U3t(s,t,n)}return r}function U3t(e,t,n){const r=e.type,i=t[e.name];if(r==="index")return H3t(e,t,n);if(i===void 0){e.required&&Je("Missing required "+Rt(t.type)+" parameter: "+Rt(e.name));return}else{if(r==="param")return V3t(e,t,n);if(r==="projection")return n.projectionRef(t[e.name])}return e.array&&!Go(i)?i.map(o=>Uce(e,o,n)):Uce(e,i,n)}function Uce(e,t,n){const r=e.type;if(Go(t))return Vce(r)?Je("Expression references can not be signals."):vB(r)?n.fieldRef(t):Wce(r)?n.compareRef(t):n.signalRef(t.signal);{const i=e.expr||vB(r);return i&&W3t(t)?n.exprRef(t.expr,t.as):i&&q3t(t)?uC(t.field,t.as):Vce(r)?Jf(t,n):G3t(r)?dn(n.getData(t).values):vB(r)?uC(t):Wce(r)?n.compareRef(t):t}}function H3t(e,t,n){return Bt(t.from)||Je('Lookup "from" parameter must be a string literal.'),n.getData(t.from).lookupRef(n,t.key)}function V3t(e,t,n){const r=t[e.name];return e.array?(et(r)||Je("Expected an array of sub-parameters. Instead: "+Rt(r)),r.map(i=>Hce(e,i,n))):Hce(e,r,n)}function Hce(e,t,n){const r=e.params.length;let i;for(let s=0;s<r;++s){i=e.params[s];for(const a in i.key)if(i.key[a]!==t[a]){i=null;break}if(i)break}i||Je("Unsupported parameter: "+Rt(t));const o=Bn(C3e(i,t,n),i.key);return dn(n.add(zkt(o)))}const W3t=e=>e&&e.expr,q3t=e=>e&&e.field,G3t=e=>e==="data",Vce=e=>e==="expr",vB=e=>e==="field",Wce=e=>e==="compare";function Y3t(e,t,n){let r,i,o,s,a;return e?(r=e.facet)&&(t||Je("Only group marks can be faceted."),r.field!=null?s=a=YR(r,n):(e.data?a=dn(n.getData(e.data).aggregate):(o=eX(Bn({type:"aggregate",groupby:jt(r.groupby)},r.aggregate),n),o.params.key=n.keyRef(r.groupby),o.params.pulse=YR(r,n),s=a=dn(n.add(o))),i=n.keyRef(r.groupby,!0))):s=dn(n.add(Nd(null,[{}]))),s||(s=YR(e,n)),{key:i,pulse:s,parent:a}}function YR(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:dn(t.getData(e.data).output)}function vv(e,t,n,r,i){this.scope=e,this.input=t,this.output=n,this.values=r,this.aggregate=i,this.index={}}vv.fromEntries=function(e,t){const n=t.length,r=t[n-1],i=t[n-2];let o=t[0],s=null,a=1;for(o&&o.type==="load"&&(o=t[1]),e.add(t[0]);a<n;++a)t[a].params.pulse=dn(t[a-1]),e.add(t[a]),t[a].type==="aggregate"&&(s=t[a]);return new vv(e,o,i,r,s)};function A3e(e){return Bt(e)?e:null}function qce(e,t,n){const r=RO(n.op,n.field);let i;if(t.ops){for(let o=0,s=t.as.length;o<s;++o)if(t.as[o]===r)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((i=n.op.signal)?e.signalRef(i):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(r))}function kE(e,t,n,r,i,o,s){const a=t[n]||(t[n]={}),l=ykt(o);let u=A3e(i),c,d;if(u!=null&&(e=t.scope,u=u+(l?"|"+l:""),c=a[u]),!c){const f=o?{field:X7,pulse:t.countsRef(e,i,o)}:{field:e.fieldRef(i),pulse:dn(t.output)};l&&(f.sort=e.sortRef(o)),d=e.add(IO(r,void 0,f)),s&&(t.index[i]=d),c=dn(d),u!=null&&(a[u]=c)}return c}vv.prototype={countsRef(e,t,n){const r=this,i=r.counts||(r.counts={}),o=A3e(t);let s,a,l;return o!=null&&(e=r.scope,s=i[o]),s?n&&n.field&&qce(e,s.agg.params,n):(l={groupby:e.fieldRef(t,"key"),pulse:dn(r.output)},n&&n.field&&qce(e,l,n),a=e.add(d3e(l)),s=e.add(Nd({pulse:dn(a)})),s={agg:a,ref:dn(s)},o!=null&&(i[o]=s)),s.ref},tuplesRef(){return dn(this.values)},extentRef(e,t){return kE(e,this,"extent","extent",t,!1)},domainRef(e,t){return kE(e,this,"domain","values",t,!1)},valuesRef(e,t,n){return kE(e,this,"vals","values",t,n||!0)},lookupRef(e,t){return kE(e,this,"lookup","tupleindex",t,!1)},indataRef(e,t){return kE(e,this,"indata","tupleindex",t,!0,!0)}};function K3t(e,t,n){const r=e.from.facet,i=r.name,o=YR(r,t);let s;r.name||Je("Facet must have a name: "+Rt(r)),r.data||Je("Facet must reference a data set: "+Rt(r)),r.field?s=t.add(p3e({field:t.fieldRef(r.field),pulse:o})):r.groupby?s=t.add($kt({key:t.keyRef(r.groupby),group:dn(t.proxy(n.parent)),pulse:o})):Je("Facet must specify groupby or field: "+Rt(r));const a=t.fork(),l=a.add(Nd()),u=a.add(lb({pulse:dn(l)}));a.addData(i,new vv(a,l,l,u)),a.addSignal("parent",null),s.params.subflow={$subflow:a.parse(e).toRuntime()}}function X3t(e,t,n){const r=t.add(p3e({pulse:n.pulse})),i=t.fork();i.add(lb()),i.addSignal("parent",null),r.params.subflow={$subflow:i.parse(e).toRuntime()}}function k3e(e,t,n){const r=e.remove,i=e.insert,o=e.toggle,s=e.modify,a=e.values,l=t.add(xM()),u="if("+e.trigger+',modify("'+n+'",'+[i,r,o,s,a].map(d=>d??"null").join(",")+"),0)",c=Jf(u,t);l.update=c.$expr,l.params=c.$params}function NO(e,t){const n=T3e(e),r=e.type===$O,i=e.from&&e.from.facet,o=e.overlap;let s=e.layout||n===VK||n===HK,a,l,u,c,d,f,h;const p=n===UK||s||i,m=Y3t(e.from,r,t);l=t.add(Rkt({key:m.key||(e.key?uC(e.key):void 0),pulse:m.pulse,clean:!r}));const g=dn(l);l=u=t.add(Nd({pulse:g})),l=t.add(Lkt({markdef:j3t(e),interactive:z3t(e.interactive,t),clip:B3t(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:dn(l)}));const y=dn(l);l=c=t.add(h3e(u3e(e.encode,e.type,n,e.style,t,{mod:!1,pulse:y}))),l.params.parent=t.encode(),e.transform&&e.transform.forEach(x=>{const S=eX(x,t),C=S.metadata;(C.generates||C.changes)&&Je("Mark transforms should not generate new data."),C.nomod||(c.params.mod=!0),S.params.pulse=dn(l),t.add(l=S)}),e.sort&&(l=t.add(qkt({sort:t.compareRef(e.sort),pulse:dn(l)})));const v=dn(l);(i||s)&&(s=t.add(g3e({layout:t.objectProperty(e.layout),legends:t.legends,mark:y,pulse:v})),f=dn(s));const w=t.add(f3e({mark:y,pulse:f||v}));h=dn(w),r&&(p&&(a=t.operators,a.pop(),s&&a.pop()),t.pushState(v,f||h,g),i?K3t(e,t,m):p?X3t(e,t,m):t.parse(e),t.popState(),p&&(s&&a.push(s),a.push(w))),o&&(h=Q3t(o,h,t));const E=t.add(m3e({pulse:h})),_=t.add(lb({pulse:dn(E)},void 0,t.parent()));e.name!=null&&(d=e.name,t.addData(d,new vv(t,u,E,_)),e.on&&e.on.forEach(x=>{(x.insert||x.remove||x.toggle)&&Je("Marks only support modify triggers."),k3e(x,t,d)}))}function Q3t(e,t,n){const r=e.method,i=e.bound,o=e.separation,s={separation:Go(o)?n.signalRef(o.signal):o,method:Go(r)?n.signalRef(r.signal):r,pulse:t};if(e.order&&(s.sort=n.compareRef({field:e.order})),i){const a=i.tolerance;s.boundTolerance=Go(a)?n.signalRef(a.signal):+a,s.boundScale=n.scaleRef(i.scale),s.boundOrient=i.orient}return dn(n.add(jkt(s)))}function J3t(e,t){const n=t.config.legend,r=e.encode||{},i=Jl(e,n),o=r.legend||{},s=o.name||void 0,a=o.interactive,l=o.style,u={};let c=0,d,f,h;KK.forEach(w=>e[w]?(u[w]=e[w],c=c||e[w]):0),c||Je("Missing valid scale for legend.");const p=Z3t(e,t.scaleType(c)),m={title:e.title!=null,scales:u,type:p,vgrad:p!=="symbol"&&i.isVertical()},g=dn(t.add(Nd(null,[m]))),y={enter:{x:{value:0},y:{value:0}}},v=dn(t.add(Nkt(f={type:p,scale:t.scaleRef(c),count:t.objectProperty(i("tickCount")),limit:t.property(i("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)})));return p===GR?(h=[T3t(e,c,n,r.gradient),jce(e,n,r.labels,v)],f.count=f.count||t.signalRef(`max(2,2*floor((${Uy(i.gradientLength())})/100))`)):p===ez?h=[C3t(e,c,n,r.gradient,v),jce(e,n,r.labels,v)]:(d=R3t(e,n),h=[I3t(e,n,r,v,Uy(d.columns))],f.size=nIt(e,t,h[0].marks)),h=[dC({role:Q2t,from:g,encode:y,marks:h,layout:d,interactive:a})],m.title&&h.push(F3t(e,n,r.title,g)),NO(dC({role:K2t,from:g,encode:u_(tIt(i,e,n),o,zA),marks:h,aria:i("aria"),description:i("description"),zindex:i("zindex"),name:s,interactive:a,style:l}),t)}function Z3t(e,t){let n=e.type||Bce;return!e.type&&eIt(e)===1&&(e.fill||e.stroke)&&(n=eY(t)?GR:W9(t)?ez:Bce),n!==GR?n:W9(t)?ez:GR}function eIt(e){return KK.reduce((t,n)=>t+(e[n]?1:0),0)}function tIt(e,t,n){const r={enter:{},update:{}};return Js(r,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),r}function nIt(e,t,n){const r=Uy(Gce("size",e,n)),i=Uy(Gce("strokeWidth",e,n)),o=Uy(rIt(n[1].encode,t,jA));return Jf(`max(ceil(sqrt(${r})+${i}),${o})`,t)}function Gce(e,t,n){return t[e]?`scale("${t[e]}",datum)`:E3e(e,n[0].encode)}function rIt(e,t,n){return E3e("fontSize",e)||E3t("fontSize",t,n)}const iIt=`item.orient==="${c_}"?-90:item.orient==="${d_}"?90:0`;function oIt(e,t){e=Bt(e)?{text:e}:e;const n=Jl(e,t.config.title),r=e.encode||{},i=r.group||{},o=i.name||void 0,s=i.interactive,a=i.style,l=[],u={},c=dn(t.add(Nd(null,[u])));return l.push(lIt(e,n,sIt(e),c)),e.subtitle&&l.push(uIt(e,n,r.subtitle,c)),NO(dC({role:tkt,from:c,encode:aIt(n,i),marks:l,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:o,interactive:s,style:a}),t)}function sIt(e){const t=e.encode;return t&&t.title||Bn({name:e.name,interactive:e.interactive,style:e.style},t)}function aIt(e,t){const n={enter:{},update:{}};return Js(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:QK},angle:{signal:iIt},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),u_(n,t,zA)}function lIt(e,t,n,r){const i={value:0},o=e.text,s={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return Js(s,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),ju({type:ub,role:nkt,style:p3t,from:r,encode:s},n)}function uIt(e,t,n,r){const i={value:0},o=e.subtitle,s={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return Js(s,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),ju({type:ub,role:rkt,style:m3t,from:r,encode:s},n)}function cIt(e,t){const n=[];e.transform&&e.transform.forEach(r=>{n.push(eX(r,t))}),e.on&&e.on.forEach(r=>{k3e(r,t,e.name)}),t.addDataPipeline(e.name,dIt(e,t,n))}function dIt(e,t,n){const r=[];let i=null,o=!1,s=!1,a,l,u,c,d;for(e.values?Go(e.values)||WR(e.format)?(r.push(Yce(t,e)),r.push(i=q0())):r.push(i=q0({$ingest:e.values,$format:e.format})):e.url?WR(e.url)||WR(e.format)?(r.push(Yce(t,e)),r.push(i=q0())):r.push(i=q0({$request:e.url,$format:e.format})):e.source&&(i=a=jt(e.source).map(f=>dn(t.getData(f).output)),r.push(null)),l=0,u=n.length;l<u;++l)c=n[l],d=c.metadata,!i&&!d.source&&r.push(i=q0()),r.push(c),d.generates&&(s=!0),d.modifies&&!s&&(o=!0),d.source?i=c:d.changes&&(i=null);return a&&(u=a.length-1,r[0]=Vkt({derive:o,pulse:u?a:a[0]}),(o||u)&&r.splice(1,0,q0())),i||r.push(q0()),r.push(lb({})),r}function q0(e){const t=Nd({},e);return t.metadata={source:!0},t}function Yce(e,t){return Okt({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}const I3e=e=>e===Gg||e===Od,OO=(e,t,n)=>Go(e)?mIt(e.signal,t,n):e===c_||e===Od?t:n,hs=(e,t,n)=>Go(e)?hIt(e.signal,t,n):I3e(e)?t:n,bd=(e,t,n)=>Go(e)?pIt(e.signal,t,n):I3e(e)?n:t,R3e=(e,t,n)=>Go(e)?gIt(e.signal,t,n):e===Od?{value:t}:{value:n},fIt=(e,t,n)=>Go(e)?yIt(e.signal,t,n):e===d_?{value:t}:{value:n},hIt=(e,t,n)=>D3e(`${e} === '${Od}' || ${e} === '${Gg}'`,t,n),pIt=(e,t,n)=>D3e(`${e} !== '${Od}' && ${e} !== '${Gg}'`,t,n),mIt=(e,t,n)=>tX(`${e} === '${c_}' || ${e} === '${Od}'`,t,n),gIt=(e,t,n)=>tX(`${e} === '${Od}'`,t,n),yIt=(e,t,n)=>tX(`${e} === '${d_}'`,t,n),D3e=(e,t,n)=>(t=t!=null?fs(t):t,n=n!=null?fs(n):n,Kce(t)&&Kce(n)?(t=t?t.signal||Rt(t.value):null,n=n?n.signal||Rt(n.value):null,{signal:`${e} ? (${t}) : (${n})`}):[Bn({test:e},t)].concat(n||[])),Kce=e=>e==null||Object.keys(e).length===1,tX=(e,t,n)=>({signal:`${e} ? (${L1(t)}) : (${L1(n)})`}),vIt=(e,t,n,r,i)=>({signal:(r!=null?`${e} === '${c_}' ? (${L1(r)}) : `:"")+(n!=null?`${e} === '${Gg}' ? (${L1(n)}) : `:"")+(i!=null?`${e} === '${d_}' ? (${L1(i)}) : `:"")+(t!=null?`${e} === '${Od}' ? (${L1(t)}) : `:"")+"(null)"}),L1=e=>Go(e)?e.signal:e==null?null:Rt(e),bIt=(e,t)=>t===0?0:Go(e)?{signal:`(${e.signal}) * ${t}`}:{value:e*t},iw=(e,t)=>{const n=e.signal;return n&&n.endsWith("(null)")?{signal:n.slice(0,-6)+t.signal}:e};function d1(e,t,n,r){let i;if(t&&Vt(t,e))return t[e];if(Vt(n,e))return n[e];if(e.startsWith("title")){switch(e){case"titleColor":i="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":i=e[5].toLowerCase()+e.slice(6)}return r[YK][i]}else if(e.startsWith("label")){switch(e){case"labelColor":i="fill";break;case"labelFont":case"labelFontSize":i=e[5].toLowerCase()+e.slice(6)}return r[jA][i]}return null}function Xce(e){const t={};for(const n of e)if(n)for(const r in n)t[r]=1;return Object.keys(t)}function wIt(e,t){var n=t.config,r=n.style,i=n.axis,o=t.scaleType(e.scale)==="band"&&n.axisBand,s=e.orient,a,l,u;if(Go(s)){const d=Xce([n.axisX,n.axisY]),f=Xce([n.axisTop,n.axisBottom,n.axisLeft,n.axisRight]);a={};for(u of d)a[u]=hs(s,d1(u,n.axisX,i,r),d1(u,n.axisY,i,r));l={};for(u of f)l[u]=vIt(s.signal,d1(u,n.axisTop,i,r),d1(u,n.axisBottom,i,r),d1(u,n.axisLeft,i,r),d1(u,n.axisRight,i,r))}else a=s===Od||s===Gg?n.axisX:n.axisY,l=n["axis"+s[0].toUpperCase()+s.slice(1)];return a||l||o?Bn({},i,a,l,o):i}function xIt(e,t,n,r){const i=Jl(e,t),o=e.orient;let s,a;const l={enter:s={opacity:pr},update:a={opacity:hc},exit:{opacity:pr}};Js(l,{stroke:i("domainColor"),strokeCap:i("domainCap"),strokeDash:i("domainDash"),strokeDashOffset:i("domainDashOffset"),strokeWidth:i("domainWidth"),strokeOpacity:i("domainOpacity")});const u=Qce(e,0),c=Qce(e,1);return s.x=a.x=hs(o,u,pr),s.x2=a.x2=hs(o,c),s.y=a.y=bd(o,u,pr),s.y2=a.y2=bd(o,c),ju({type:XK,role:V2t,from:r,encode:l},n)}function Qce(e,t){return{scale:e.scale,range:t}}function _It(e,t,n,r,i){const o=Jl(e,t),s=e.orient,a=e.gridScale,l=OO(s,1,-1),u=EIt(e.offset,l);let c,d,f;const h={enter:c={opacity:pr},update:f={opacity:hc},exit:d={opacity:pr}};Js(h,{stroke:o("gridColor"),strokeCap:o("gridCap"),strokeDash:o("gridDash"),strokeDashOffset:o("gridDashOffset"),strokeOpacity:o("gridOpacity"),strokeWidth:o("gridWidth")});const p={scale:e.scale,field:fc,band:i.band,extra:i.extra,offset:i.offset,round:o("tickRound")},m=hs(s,{signal:"height"},{signal:"width"}),g=a?{scale:a,range:0,mult:l,offset:u}:{value:0,offset:u},y=a?{scale:a,range:1,mult:l,offset:u}:Bn(m,{mult:l,offset:u});return c.x=f.x=hs(s,p,g),c.y=f.y=bd(s,p,g),c.x2=f.x2=bd(s,y),c.y2=f.y2=hs(s,y),d.x=hs(s,p),d.y=bd(s,p),ju({type:XK,role:W2t,key:fc,from:r,encode:h},n)}function EIt(e,t){if(t!==1)if(!Ft(e))e=Go(t)?{signal:`(${t.signal}) * (${e||0})`}:t*(e||0);else{let n=e=Bn({},e);for(;n.mult!=null;)if(Ft(n.mult))n=n.mult=Bn({},n.mult);else return n.mult=Go(t)?{signal:`(${n.mult}) * (${t.signal})`}:n.mult*t,e;n.mult=t}return e}function SIt(e,t,n,r,i,o){const s=Jl(e,t),a=e.orient,l=OO(a,-1,1);let u,c,d;const f={enter:u={opacity:pr},update:d={opacity:hc},exit:c={opacity:pr}};Js(f,{stroke:s("tickColor"),strokeCap:s("tickCap"),strokeDash:s("tickDash"),strokeDashOffset:s("tickDashOffset"),strokeOpacity:s("tickOpacity"),strokeWidth:s("tickWidth")});const h=fs(i);h.mult=l;const p={scale:e.scale,field:fc,band:o.band,extra:o.extra,offset:o.offset,round:s("tickRound")};return d.y=u.y=hs(a,pr,p),d.y2=u.y2=hs(a,h),c.x=hs(a,p),d.x=u.x=bd(a,pr,p),d.x2=u.x2=bd(a,h),c.y=bd(a,p),ju({type:XK,role:G2t,key:fc,from:r,encode:f},n)}function bB(e,t,n,r,i){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+r+","+i+")"}}function TIt(e,t,n,r,i,o){const s=Jl(e,t),a=e.orient,l=e.scale,u=OO(a,-1,1),c=Uy(s("labelFlush")),d=Uy(s("labelFlushOffset")),f=s("labelAlign"),h=s("labelBaseline");let p=c===0||!!c,m;const g=fs(i);g.mult=u,g.offset=fs(s("labelPadding")||0),g.offset.mult=u;const y={scale:l,field:fc,band:.5,offset:S3e(o.offset,s("labelOffset"))},v=hs(a,p?bB(l,c,'"left"','"right"','"center"'):{value:"center"},fIt(a,"left","right")),w=hs(a,R3e(a,"bottom","top"),p?bB(l,c,'"top"','"bottom"','"middle"'):{value:"middle"}),E=bB(l,c,`-(${d})`,d,0);p=p&&d;const _={opacity:pr,x:hs(a,y,g),y:bd(a,y,g)},x={enter:_,update:m={opacity:hc,text:{field:GK},x:_.x,y:_.y,align:v,baseline:w},exit:{opacity:pr,x:_.x,y:_.y}};Js(x,{dx:!f&&p?hs(a,E):null,dy:!h&&p?bd(a,E):null}),Js(x,{angle:s("labelAngle"),fill:s("labelColor"),fillOpacity:s("labelOpacity"),font:s("labelFont"),fontSize:s("labelFontSize"),fontWeight:s("labelFontWeight"),fontStyle:s("labelFontStyle"),limit:s("labelLimit"),lineHeight:s("labelLineHeight")},{align:f,baseline:h});const S=s("labelBound");let C=s("labelOverlap");return C=C||S?{separation:s("labelSeparation"),method:C,order:"datum.index",bound:S?{scale:l,orient:a,tolerance:S}:null}:void 0,m.align!==v&&(m.align=iw(m.align,v)),m.baseline!==w&&(m.baseline=iw(m.baseline,w)),ju({type:ub,role:q2t,style:jA,key:fc,from:r,encode:x,overlap:C},n)}function CIt(e,t,n,r){const i=Jl(e,t),o=e.orient,s=OO(o,-1,1);let a,l;const u={enter:a={opacity:pr,anchor:fs(i("titleAnchor",null)),align:{signal:QK}},update:l=Bn({},a,{opacity:hc,text:fs(e.title)}),exit:{opacity:pr}},c={signal:`lerp(range("${e.scale}"), ${MO(0,1,.5)})`};return l.x=hs(o,c),l.y=bd(o,c),a.angle=hs(o,pr,bIt(s,90)),a.baseline=hs(o,R3e(o,Gg,Od),{value:Gg}),l.angle=a.angle,l.baseline=a.baseline,Js(u,{fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),angle:i("titleAngle"),baseline:i("titleBaseline")}),AIt(i,o,u,n),u.update.align=iw(u.update.align,a.align),u.update.angle=iw(u.update.angle,a.angle),u.update.baseline=iw(u.update.baseline,a.baseline),ju({type:ub,role:Y2t,style:YK,from:r,encode:u},n)}function AIt(e,t,n,r){const i=(a,l)=>a!=null?(n.update[l]=iw(fs(a),n.update[l]),!1):!C1(l,r),o=i(e("titleX"),"x"),s=i(e("titleY"),"y");n.enter.auto=s===o?fs(s):hs(t,fs(s),fs(o))}function kIt(e,t){const n=wIt(e,t),r=e.encode||{},i=r.axis||{},o=i.name||void 0,s=i.interactive,a=i.style,l=Jl(e,n),u=S3t(l),c={scale:e.scale,ticks:!!l("ticks"),labels:!!l("labels"),grid:!!l("grid"),domain:!!l("domain"),title:e.title!=null},d=dn(t.add(Nd({},[c]))),f=dn(t.add(Ikt({scale:t.scaleRef(e.scale),extra:t.property(u.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),h=[];let p;return c.grid&&h.push(_It(e,n,r.grid,f,u)),c.ticks&&(p=l("tickSize"),h.push(SIt(e,n,r.ticks,f,p,u))),c.labels&&(p=c.ticks?p:0,h.push(TIt(e,n,r.labels,f,p,u))),c.domain&&h.push(xIt(e,n,r.domain,d)),c.title&&h.push(CIt(e,n,r.title,d)),NO(dC({role:H2t,from:d,encode:u_(IIt(l,e),i,zA),marks:h,aria:l("aria"),description:l("description"),zindex:l("zindex"),name:o,interactive:s,style:a}),t)}function IIt(e,t){const n={enter:{},update:{}};return Js(n,{orient:e("orient"),offset:e("offset")||0,position:Jc(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:`abs(span(range("${t.scale}")))`},translate:e("translate"),format:t.format,formatType:t.formatType}),n}function $3e(e,t,n){const r=jt(e.signals),i=jt(e.scales);return n||r.forEach(o=>c3e(o,t)),jt(e.projections).forEach(o=>a3t(o,t)),i.forEach(o=>Kkt(o,t)),jt(e.data).forEach(o=>cIt(o,t)),i.forEach(o=>Xkt(o,t)),(n||r).forEach(o=>kkt(o,t)),jt(e.axes).forEach(o=>kIt(o,t)),jt(e.marks).forEach(o=>NO(o,t)),jt(e.legends).forEach(o=>J3t(o,t)),e.title&&oIt(e.title,t),t.parseLambdas(),t}const RIt=e=>u_({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e);function DIt(e,t){const n=t.config,r=dn(t.root=t.add(xM())),i=$It(e,n);i.forEach(u=>c3e(u,t)),t.description=e.description||n.description,t.eventConfig=n.events,t.legends=t.objectProperty(n.legend&&n.legend.layout),t.locale=n.locale;const o=t.add(Nd()),s=t.add(h3e(u3e(RIt(e.encode),$O,HK,e.style,t,{pulse:dn(o)}))),a=t.add(g3e({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:r,pulse:dn(s)}));t.operators.pop(),t.pushState(dn(s),dn(a),null),$3e(e,t,i),t.operators.push(a);let l=t.add(f3e({mark:r,pulse:dn(a)}));return l=t.add(m3e({pulse:dn(l)})),l=t.add(lb({pulse:dn(l)})),t.addData("root",new vv(t,o,o,l)),t}function IE(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function $It(e,t){const n=s=>Jc(e[s],t[s]),r=[IE("background",n("background")),IE("autosize",j2t(n("autosize"))),IE("padding",U2t(n("padding"))),IE("width",n("width")||0),IE("height",n("height")||0)],i=r.reduce((s,a)=>(s[a.name]=a,s),{}),o={};return jt(e.signals).forEach(s=>{Vt(i,s.name)?s=Bn(i[s.name],s):r.push(s),o[s.name]=s}),jt(t.signals).forEach(s=>{!Vt(o,s.name)&&!Vt(i,s.name)&&r.push(s)}),r}function M3e(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function Jce(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}M3e.prototype=Jce.prototype={parse(e){return $3e(e,this)},fork(){return new Jce(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach(t=>{t.$ref=e.id}),e.refs=null),e},proxy(e){const t=e instanceof K7?dn(e):e;return this.add(Hkt({value:t}))},addStream(e){return this.streams.push(e),e.id=this.id(),e},addUpdate(e){return this.updates.push(e),e},finish(){let e,t;this.root&&(this.root.root=!0);for(e in this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(r,i,o){let s,a;r&&(s=r.data||(r.data={}),a=s[i]||(s[i]=[]),a.push(o))}for(e in this.data){t=this.data[e],n(t.input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values");for(const r in t.index)n(t.index[r],e,"index:"+r)}return this},pushState(e,t,n){this._encode.push(dn(this.add(lb({pulse:e})))),this._parent.push(t),this._lookup.push(n?dn(this.proxy(n)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return ur(this._parent)},encode(){return ur(this._encode)},lookup(){return ur(this._lookup)},markpath(){const e=this._markpath;return++e[e.length-1]},fieldRef(e,t){if(Bt(e))return uC(e,t);e.signal||Je("Unsupported field reference: "+Rt(e));const n=e.signal;let r=this.field[n];if(!r){const i={name:this.signalRef(n)};t&&(i.as=t),this.field[n]=r=dn(this.add(Mkt(i)))}return r},compareRef(e){let t=!1;const n=o=>Go(o)?(t=!0,this.signalRef(o.signal)):vkt(o)?(t=!0,this.exprRef(o.expr)):o,r=jt(e.field).map(n),i=jt(e.order).map(n);return t?dn(this.add(Fce({fields:r,orders:i}))):Oce(r,i)},keyRef(e,t){let n=!1;const r=o=>Go(o)?(n=!0,dn(i[o.signal])):o,i=this.signals;return e=jt(e).map(r),n?dn(this.add(Pkt({fields:e,flat:t}))):pkt(e,t)},sortRef(e){if(!e)return e;const t=RO(e.op,e.field),n=e.order||mkt;return n.signal?dn(this.add(Fce({fields:t,orders:this.signalRef(n.signal)}))):Oce(t,n)},event(e,t){const n=e+":"+t;if(!this.events[n]){const r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[n]=r}return this.events[n]},hasOwnSignal(e){return Vt(this.signals,e)},addSignal(e,t){this.hasOwnSignal(e)&&Je("Duplicate signal name: "+Rt(e));const n=t instanceof K7?t:this.add(xM(t));return this.signals[e]=n},getSignal(e){return this.signals[e]||Je("Unrecognized signal name: "+Rt(e)),this.signals[e]},signalRef(e){return this.signals[e]?dn(this.signals[e]):(Vt(this.lambdas,e)||(this.lambdas[e]=this.add(xM(null))),dn(this.lambdas[e]))},parseLambdas(){const e=Object.keys(this.lambdas);for(let t=0,n=e.length;t<n;++t){const r=e[t],i=Jf(r,this),o=this.lambdas[r];o.params=i.$params,o.update=i.$expr}},property(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty(e){return!e||!Ft(e)?e:this.signalRef(e.signal||nX(e))},exprRef(e,t){const n={expr:Jf(e,this)};return t&&(n.expr.$name=t),dn(this.add(Dkt(n)))},addBinding(e,t){this.bindings||Je("Nested signals do not support binding: "+Rt(e)),this.bindings.push(Bn({signal:e},t))},addScaleProj(e,t){Vt(this.scales,e)&&Je("Duplicate scale or projection name: "+Rt(e)),this.scales[e]=this.add(t)},addScale(e,t){this.addScaleProj(e,Wkt(t))},addProjection(e,t){this.addScaleProj(e,Ukt(t))},getScale(e){return this.scales[e]||Je("Unrecognized scale name: "+Rt(e)),this.scales[e]},scaleRef(e){return dn(this.getScale(e))},scaleType(e){return this.getScale(e).params.type},projectionRef(e){return this.scaleRef(e)},projectionType(e){return this.scaleType(e)},addData(e,t){return Vt(this.data,e)&&Je("Duplicate data set name: "+Rt(e)),this.data[e]=t},getData(e){return this.data[e]||Je("Undefined data set name: "+Rt(e)),this.data[e]},addDataPipeline(e,t){return Vt(this.data,e)&&Je("Duplicate data set name: "+Rt(e)),this.addData(e,vv.fromEntries(this,t))}};function nX(e){return(et(e)?MIt:PIt)(e)}function MIt(e){const t=e.length;let n="[";for(let r=0;r<t;++r){const i=e[r];n+=(r>0?",":"")+(Ft(i)?i.signal||nX(i):Rt(i))}return n+"]"}function PIt(e){let t="{",n=0,r,i;for(r in e)i=e[r],t+=(++n>1?",":"")+Rt(r)+":"+(Ft(i)?i.signal||nX(i):Rt(i));return t+"}"}function NIt(){const e="sans-serif",r="#4c78a8",i="#000",o="#888",s="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:r},area:{fill:r},image:null,line:{stroke:r,strokeWidth:2},path:{stroke:r},rect:{fill:r},rule:{stroke:i},shape:{stroke:r},symbol:{fill:r,size:64},text:{fill:i,font:e,fontSize:11},trail:{fill:r,size:2},style:{"guide-label":{fill:i,font:e,fontSize:10},"guide-title":{fill:i,font:e,fontSize:11,fontWeight:"bold"},"group-title":{fill:i,font:e,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:i,font:e,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:s},view:{fill:"transparent"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:o,grid:!1,gridWidth:1,gridColor:s,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:o,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:s,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:o,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}function OIt(e,t,n){return Ft(e)||Je("Input Vega specification must be an object."),t=Kx(NIt(),t,e.config),DIt(e,new M3e(t,n)).toRuntime()}var LIt="5.33.0";Bn($w,kmt,n1t,P1t,bxt,h_t,jEt,bEt,UEt,fSt,_St,ISt);const FIt=Object.freeze(Object.defineProperty({__proto__:null,Bounds:ko,CanvasHandler:DA,CanvasRenderer:L$,DATE:Vl,DAY:xa,DAYOFYEAR:Xf,Dataflow:ew,Debug:I_e,Error:fq,EventStream:PN,Gradient:_Ce,GroupItem:iO,HOURS:Lu,Handler:TY,HybridHandler:hAe,HybridRenderer:n7,Info:k_e,Item:rO,MILLISECONDS:Td,MINUTES:Fu,MONTH:Ca,Marks:Bu,MultiPulse:Fq,None:A_e,Operator:ei,Parameters:MN,Pulse:wg,QUARTER:Hl,RenderType:ig,Renderer:RA,ResourceLoader:ICe,SECONDS:wc,SVGHandler:eAe,SVGRenderer:DY,SVGStringRenderer:fAe,Scenegraph:qCe,TIME_UNITS:kq,Transform:Ve,View:Qke,WEEK:Uo,Warn:hq,YEAR:Ys,accessor:Ql,accessorFields:Ta,accessorName:Qi,array:jt,ascending:Qx,bandwidthNRD:Uq,bin:uSe,bootstrapCI:cSe,boundClip:EAe,boundContext:CA,boundItem:Q9,boundMark:UCe,boundStroke:Zp,changeset:ib,clampRange:j_e,codegenExpression:Ske,compare:vq,constant:Pa,cumulativeLogNormal:Yq,cumulativeNormal:ON,cumulativeUniform:Jq,dayofyear:gEe,debounce:bq,defaultLocale:Mq,definition:sSe,densityLogNormal:Gq,densityNormal:Hq,densityUniform:Qq,domChild:zo,domClear:oc,domCreate:ng,domFind:SY,dotbin:dSe,error:Je,expressionFunction:wo,extend:Bn,extent:Gf,extentIndex:z_e,falsy:Nm,fastmap:Jx,field:vc,flush:U_e,font:uO,fontFamily:IA,fontSize:hh,format:TR,formatLocale:m$,formats:Oq,hasOwnProperty:Vt,id:dA,identity:Ma,inferType:KEe,inferTypes:XEe,ingest:Ir,inherits:Mt,inrange:$1,interpolate:tY,interpolateColors:tO,interpolateRange:lCe,intersect:bAe,intersectBoxLine:M1,intersectPath:uY,intersectPoint:cY,intersectRule:DCe,isArray:et,isBoolean:f0,isDate:vg,isFunction:jn,isIterable:H_e,isNumber:Sr,isObject:Ft,isRegExp:wq,isString:Bt,isTuple:DN,key:xq,lerp:V_e,lineHeight:Vg,loader:IN,locale:GEe,logger:pq,lruCache:W_e,markup:RY,merge:q_e,mergeConfig:Kx,multiLineOffset:xY,one:Yx,pad:G_e,panLinear:P_e,panLog:N_e,panPow:O_e,panSymlog:L_e,parse:OIt,parseExpression:xke,parseSelector:v0,path:zN,pathCurves:sY,pathEqual:SAe,pathParse:Fw,pathRectangle:TCe,pathRender:XT,pathSymbols:SCe,pathTrail:CCe,peek:ur,point:dO,projection:XY,quantileLogNormal:Kq,quantileNormal:LN,quantileUniform:Zq,quantiles:jq,quantizeInterpolator:uCe,quarter:F_e,quartiles:zq,get random(){return xc},randomInteger:$pt,randomKDE:Wq,randomLCG:Dpt,randomLogNormal:hSe,randomMixture:pSe,randomNormal:Vq,randomUniform:mSe,read:ZEe,regressionConstant:eG,regressionExp:ySe,regressionLinear:tG,regressionLoess:wSe,regressionLog:gSe,regressionPoly:bSe,regressionPow:vSe,regressionQuad:nG,renderModule:fO,repeat:rS,resetDefaultLocale:kht,resetSVGClipId:kCe,resetSVGDefIds:wbt,responseType:JEe,runtimeContext:Fke,sampleCurve:BN,sampleLogNormal:qq,sampleNormal:NN,sampleUniform:Xq,scale:Cr,sceneEqual:$Y,sceneFromJSON:VCe,scenePickVisit:I$,sceneToJSON:HCe,sceneVisit:Cd,sceneZOrder:dY,scheme:nY,serializeXML:lAe,setHybridRendererOptions:gbt,setRandom:Ipt,span:fA,splitAccessPath:ch,stringValue:Rt,textMetrics:Tu,timeBin:MEe,timeFloor:EEe,timeFormatLocale:VT,timeInterval:n_,timeOffset:CEe,timeSequence:IEe,timeUnitSpecifier:mEe,timeUnits:Iq,toBoolean:_q,toDate:Eq,toNumber:Ea,toSet:Sd,toString:Sq,transform:aSe,transforms:$w,truncate:Y_e,truthy:bc,tupleid:fn,typeParsers:P9,utcFloor:SEe,utcInterval:r_,utcOffset:AEe,utcSequence:REe,utcdayofyear:bEe,utcquarter:B_e,utcweek:wEe,version:LIt,visitArray:Bm,week:yEe,writeConfig:Xx,zero:Qm,zoomLinear:mq,zoomLog:gq,zoomPow:u$,zoomSymlog:yq},Symbol.toStringTag,{value:"Module"}));function BIt(e,t,n){let r;t.x2&&(t.x?(n&&e.x>e.x2&&(r=e.x,e.x=e.x2,e.x2=r),e.width=e.x2-e.x):e.x=e.x2-(e.width||0)),t.xc&&(e.x=e.xc-(e.width||0)/2),t.y2&&(t.y?(n&&e.y>e.y2&&(r=e.y,e.y=e.y2,e.y2=r),e.height=e.y2-e.y):e.y=e.y2-(e.height||0)),t.yc&&(e.y=e.yc-(e.height||0)/2)}var jIt={NaN:NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},zIt={"*":(e,t)=>e*t,"+":(e,t)=>e+t,"-":(e,t)=>e-t,"/":(e,t)=>e/t,"%":(e,t)=>e%t,">":(e,t)=>e>t,"<":(e,t)=>e<t,"<=":(e,t)=>e<=t,">=":(e,t)=>e>=t,"==":(e,t)=>e==t,"!=":(e,t)=>e!=t,"===":(e,t)=>e===t,"!==":(e,t)=>e!==t,"&":(e,t)=>e&t,"|":(e,t)=>e|t,"^":(e,t)=>e^t,"<<":(e,t)=>e<<t,">>":(e,t)=>e>>t,">>>":(e,t)=>e>>>t},UIt={"+":e=>+e,"-":e=>-e,"~":e=>~e,"!":e=>!e};const HIt=Array.prototype.slice,G0=(e,t,n)=>{const r=n?n(t[0]):t[0];return r[e].apply(r,HIt.call(t,1))},VIt=(e,t,n,r,i,o,s)=>new Date(e,t||0,n??1,r||0,i||0,o||0,s||0);var WIt={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(e,t,n)=>Math.max(t,Math.min(n,e)),now:Date.now,utc:Date.UTC,datetime:VIt,date:e=>new Date(e).getDate(),day:e=>new Date(e).getDay(),year:e=>new Date(e).getFullYear(),month:e=>new Date(e).getMonth(),hours:e=>new Date(e).getHours(),minutes:e=>new Date(e).getMinutes(),seconds:e=>new Date(e).getSeconds(),milliseconds:e=>new Date(e).getMilliseconds(),time:e=>new Date(e).getTime(),timezoneoffset:e=>new Date(e).getTimezoneOffset(),utcdate:e=>new Date(e).getUTCDate(),utcday:e=>new Date(e).getUTCDay(),utcyear:e=>new Date(e).getUTCFullYear(),utcmonth:e=>new Date(e).getUTCMonth(),utchours:e=>new Date(e).getUTCHours(),utcminutes:e=>new Date(e).getUTCMinutes(),utcseconds:e=>new Date(e).getUTCSeconds(),utcmilliseconds:e=>new Date(e).getUTCMilliseconds(),length:e=>e.length,join:function(){return G0("join",arguments)},indexof:function(){return G0("indexOf",arguments)},lastindexof:function(){return G0("lastIndexOf",arguments)},slice:function(){return G0("slice",arguments)},reverse:e=>e.slice().reverse(),sort:e=>e.slice().sort(Qx),parseFloat,parseInt,upper:e=>String(e).toUpperCase(),lower:e=>String(e).toLowerCase(),substring:function(){return G0("substring",arguments,String)},split:function(){return G0("split",arguments,String)},replace:function(){return G0("replace",arguments,String)},trim:e=>String(e).trim(),btoa:e=>btoa(e),atob:e=>atob(e),regexp:RegExp,test:(e,t)=>RegExp(e).test(t)};const qIt=["view","item","group","xy","x","y"],nz=new Set([Function,eval,setTimeout,setInterval]);typeof setImmediate=="function"&&nz.add(setImmediate);const GIt={Literal:(e,t)=>t.value,Identifier:(e,t)=>{const n=t.name;return e.memberDepth>0?n:n==="datum"?e.datum:n==="event"?e.event:n==="item"?e.item:jIt[n]||e.params["$"+n]},MemberExpression:(e,t)=>{const n=!t.computed,r=e(t.object);n&&(e.memberDepth+=1);const i=e(t.property);if(n&&(e.memberDepth-=1),nz.has(r[i])){console.error(`Prevented interpretation of member "${i}" which could lead to insecure code execution`);return}return r[i]},CallExpression:(e,t)=>{const n=t.arguments;let r=t.callee.name;return r.startsWith("_")&&(r=r.slice(1)),r==="if"?e(n[0])?e(n[1]):e(n[2]):(e.fn[r]||WIt[r]).apply(e.fn,n.map(e))},ArrayExpression:(e,t)=>t.elements.map(e),BinaryExpression:(e,t)=>zIt[t.operator](e(t.left),e(t.right)),UnaryExpression:(e,t)=>UIt[t.operator](e(t.argument)),ConditionalExpression:(e,t)=>e(t.test)?e(t.consequent):e(t.alternate),LogicalExpression:(e,t)=>t.operator==="&&"?e(t.left)&&e(t.right):e(t.left)||e(t.right),ObjectExpression:(e,t)=>t.properties.reduce((n,r)=>{e.memberDepth+=1;const i=e(r.key);return e.memberDepth-=1,nz.has(e(r.value))?console.error(`Prevented interpretation of property "${i}" which could lead to insecure code execution`):n[i]=e(r.value),n},{})};function RE(e,t,n,r,i,o){const s=a=>GIt[a.type](s,a);return s.memberDepth=0,s.fn=Object.create(t),s.params=n,s.datum=r,s.event=i,s.item=o,qIt.forEach(a=>s.fn[a]=function(){return i.vega[a](...arguments)}),s(e)}var YIt={operator(e,t){const n=t.ast,r=e.functions;return i=>RE(n,r,i)},parameter(e,t){const n=t.ast,r=e.functions;return(i,o)=>RE(n,r,o,i)},event(e,t){const n=t.ast,r=e.functions;return i=>RE(n,r,void 0,void 0,i)},handler(e,t){const n=t.ast,r=e.functions;return(i,o)=>{const s=o.item&&o.item.datum;return RE(n,r,i,s,o)}},encode(e,t){const{marktype:n,channels:r}=t,i=e.functions,o=n==="group"||n==="image"||n==="rect";return(s,a)=>{const l=s.datum;let u=0,c;for(const d in r)c=RE(r[d].ast,i,a,l,void 0,s),s[d]!==c&&(s[d]=c,u=1);return n!=="rule"&&BIt(s,r,o),u}}};const KIt="5.23.0",XIt={version:KIt};function rX(e){return yt(e,"or")}function iX(e){return yt(e,"and")}function oX(e){return yt(e,"not")}function KR(e,t){if(oX(e))KR(e.not,t);else if(iX(e))for(const n of e.and)KR(n,t);else if(rX(e))for(const n of e.or)KR(n,t);else t(e)}function ow(e,t){return oX(e)?{not:ow(e.not,t)}:iX(e)?{and:e.and.map(n=>ow(n,t))}:rX(e)?{or:e.or.map(n=>ow(n,t))}:t(e)}const Dn=structuredClone;function P3e(e){throw new Error(e)}function Gw(e,t){const n={};for(const r of t)Vt(e,r)&&(n[r]=e[r]);return n}function jl(e,t){const n={...e};for(const r of t)delete n[r];return n}Set.prototype.toJSON=function(){return`Set(${[...this].map(e=>Kr(e)).join(",")})`};function ir(e){if(Sr(e))return e;const t=Bt(e)?e:Kr(e);if(t.length<250)return t;let n=0;for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);n=(n<<5)-n+i,n=n&n}return n}function rz(e){return e===!1||e===null}function Jn(e,t){return e.includes(t)}function Yw(e,t){let n=0;for(const[r,i]of e.entries())if(t(i,r,n++))return!0;return!1}function sX(e,t){let n=0;for(const[r,i]of e.entries())if(!t(i,r,n++))return!1;return!0}function N3e(e,...t){for(const n of t)QIt(e,n??{});return e}function QIt(e,t){for(const n of mt(t))Xx(e,n,t[n],!0)}function Ef(e,t){const n=[],r={};let i;for(const o of e)i=t(o),!(i in r)&&(r[i]=1,n.push(o));return n}function JIt(e,t){const n=mt(e),r=mt(t);if(n.length!==r.length)return!1;for(const i of n)if(e[i]!==t[i])return!1;return!0}function O3e(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function aX(e,t){for(const n of e)if(t.has(n))return!0;return!1}function iz(e){const t=new Set;for(const n of e){const i=ch(n).map((s,a)=>a===0?s:`[${s}]`),o=i.map((s,a)=>i.slice(0,a+1).join(""));for(const s of o)t.add(s)}return t}function lX(e,t){return e===void 0||t===void 0?!0:aX(iz(e),iz(t))}function Yr(e){return mt(e).length===0}const mt=Object.keys,Ks=Object.values,Yg=Object.entries;function fC(e){return e===!0||e===!1}function Ii(e){const t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function rT(e,t){return oX(e)?`!(${rT(e.not,t)})`:iX(e)?`(${e.and.map(n=>rT(n,t)).join(") && (")})`:rX(e)?`(${e.or.map(n=>rT(n,t)).join(") || (")})`:t(e)}function _M(e,t){if(t.length===0)return!0;const n=t.shift();return n in e&&_M(e[n],t)&&delete e[n],Yr(e)}function UA(e){return e.charAt(0).toUpperCase()+e.substr(1)}function uX(e,t="datum"){const n=ch(e),r=[];for(let i=1;i<=n.length;i++){const o=`[${n.slice(0,i).map(Rt).join("][")}]`;r.push(`${t}${o}`)}return r.join(" && ")}function L3e(e,t="datum"){return`${t}[${Rt(ch(e).join("."))}]`}function Fr(e){return`datum['${e.replaceAll("'","\\'")}']`}function ZIt(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function Ec(e){return`${ch(e).map(ZIt).join("\\.")}`}function bv(e,t,n){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function f_(e){return`${ch(e).join(".")}`}function Kw(e){return e?ch(e).length:0}function vo(...e){return e.find(t=>t!==void 0)}let F3e=42;function B3e(e){const t=++F3e;return e?String(e)+t:t}function eRt(){F3e=42}function j3e(e){return z3e(e)?e:`__${e}`}function z3e(e){return e.startsWith("__")}function hC(e){if(e!==void 0)return(e%360+360)%360}function LO(e){return Sr(e)?!0:!isNaN(e)&&!isNaN(parseFloat(e))}const Zce=Object.getPrototypeOf(structuredClone({}));function wu(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor.name!==t.constructor.name)return!1;let n,r;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!wu(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const o of e.entries())if(!t.has(o[0]))return!1;for(const o of e.entries())if(!wu(o[1],t.get(o[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const o of e.entries())if(!t.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&e.valueOf!==Zce.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&e.toString!==Zce.toString)return e.toString()===t.toString();const i=Object.keys(e);if(n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!wu(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Kr(e){const t=[];return function n(r){if(r&&r.toJSON&&typeof r.toJSON=="function"&&(r=r.toJSON()),r===void 0)return;if(typeof r=="number")return isFinite(r)?""+r:"null";if(typeof r!="object")return JSON.stringify(r);let i,o;if(Array.isArray(r)){for(o="[",i=0;i<r.length;i++)i&&(o+=","),o+=n(r[i])||"null";return o+"]"}if(r===null)return"null";if(t.includes(r))throw new TypeError("Converting circular structure to JSON");const s=t.push(r)-1,a=Object.keys(r).sort();for(o="",i=0;i<a.length;i++){const l=a[i],u=n(r[l]);u&&(o&&(o+=","),o+=JSON.stringify(l)+":"+u)}return t.splice(s,1),`{${o}}`}(e)}function yt(e,t){return Ft(e)&&Vt(e,t)&&e[t]!==void 0}const vp="row",bp="column",FO="facet",Di="x",_s="y",Ld="x2",yh="y2",b0="xOffset",h_="yOffset",Fd="radius",tm="radius2",Mc="theta",nm="theta2",Bd="latitude",jd="longitude",zd="latitude2",Sc="longitude2",w0="time",ql="color",vh="fill",bh="stroke",Gl="shape",rm="size",cb="angle",im="opacity",x0="fillOpacity",_0="strokeOpacity",E0="strokeWidth",S0="strokeDash",HA="text",Xw="order",VA="detail",BO="key",wv="tooltip",jO="href",zO="url",UO="description",tRt={x:1,y:1,x2:1,y2:1},U3e={theta:1,theta2:1,radius:1,radius2:1};function H3e(e){return Vt(U3e,e)}const cX={longitude:1,longitude2:1,latitude:1,latitude2:1};function V3e(e){switch(e){case Bd:return"y";case zd:return"y2";case jd:return"x";case Sc:return"x2"}}function W3e(e){return Vt(cX,e)}const nRt=mt(cX),dX={...tRt,...U3e,...cX,xOffset:1,yOffset:1,color:1,fill:1,stroke:1,time:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1};function sw(e){return e===ql||e===vh||e===bh}const q3e={row:1,column:1,facet:1},cc=mt(q3e),fX={...dX,...q3e},rRt=mt(fX),{order:uUt,detail:cUt,tooltip:dUt,...iRt}=fX,{row:fUt,column:hUt,facet:pUt,...oRt}=iRt;function sRt(e){return Vt(oRt,e)}function G3e(e){return Vt(fX,e)}const aRt=[Ld,yh,zd,Sc,nm,tm];function Y3e(e){return db(e)!==e}function db(e){switch(e){case Ld:return Di;case yh:return _s;case zd:return Bd;case Sc:return jd;case nm:return Mc;case tm:return Fd}return e}function Kg(e){if(H3e(e))switch(e){case Mc:return"startAngle";case nm:return"endAngle";case Fd:return"outerRadius";case tm:return"innerRadius"}return e}function wh(e){switch(e){case Di:return Ld;case _s:return yh;case Bd:return zd;case jd:return Sc;case Mc:return nm;case Fd:return tm}}function Yl(e){switch(e){case Di:case Ld:return"width";case _s:case yh:return"height"}}function K3e(e){switch(e){case Di:return"xOffset";case _s:return"yOffset";case Ld:return"x2Offset";case yh:return"y2Offset";case Mc:return"thetaOffset";case Fd:return"radiusOffset";case nm:return"theta2Offset";case tm:return"radius2Offset"}}function hX(e){switch(e){case Di:return"xOffset";case _s:return"yOffset"}}function lRt(e){switch(e){case"xOffset":return"x";case"yOffset":return"y"}}const uRt=mt(dX),{x:mUt,y:gUt,x2:yUt,y2:vUt,xOffset:bUt,yOffset:wUt,latitude:xUt,longitude:_Ut,latitude2:EUt,longitude2:SUt,theta:TUt,theta2:CUt,radius:AUt,radius2:kUt,...pX}=dX,cRt=mt(pX),mX={x:1,y:1},om=mt(mX);function bo(e){return Vt(mX,e)}const gX={theta:1,radius:1},dRt=mt(gX);function HO(e){return e==="width"?Di:_s}const X3e={xOffset:1,yOffset:1};function WA(e){return Vt(X3e,e)}const fRt={time:1};function wB(e){return e in fRt}const{text:IUt,tooltip:RUt,href:DUt,url:$Ut,description:MUt,detail:PUt,key:NUt,order:OUt,...Q3e}=pX,hRt=mt(Q3e);function pRt(e){return Vt(pX,e)}function mRt(e){switch(e){case ql:case vh:case bh:case rm:case Gl:case im:case E0:case S0:return!0;case x0:case _0:case cb:case w0:return!1}}const J3e={...mX,...gX,...X3e,...Q3e},yX=mt(J3e);function xh(e){return Vt(J3e,e)}function gRt(e,t){return vRt(e)[t]}const Z3e={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},{geoshape:LUt,...yRt}=Z3e;function vRt(e){switch(e){case ql:case vh:case bh:case UO:case VA:case BO:case wv:case jO:case Xw:case im:case x0:case _0:case E0:case FO:case vp:case bp:return Z3e;case Di:case _s:case b0:case h_:case Bd:case jd:case w0:return yRt;case Ld:case yh:case zd:case Sc:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case rm:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case S0:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case Gl:return{point:"always",geoshape:"always"};case HA:return{text:"always"};case cb:return{point:"always",square:"always",text:"always"};case zO:return{image:"always"};case Mc:return{text:"always",arc:"always"};case Fd:return{text:"always",arc:"always"};case nm:case tm:return{arc:"always"}}}function xB(e){switch(e){case Di:case _s:case Mc:case Fd:case b0:case h_:case rm:case cb:case E0:case im:case x0:case _0:case w0:case Ld:case yh:case nm:case tm:return;case FO:case vp:case bp:case Gl:case S0:case HA:case wv:case jO:case zO:case UO:return"discrete";case ql:case vh:case bh:return"flexible";case Bd:case jd:case zd:case Sc:case VA:case BO:case Xw:return}}const bRt={argmax:1,argmin:1,average:1,count:1,distinct:1,exponential:1,exponentialb:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},wRt={count:1,min:1,max:1};function jp(e){return yt(e,"argmin")}function T0(e){return yt(e,"argmax")}function vX(e){return Bt(e)&&Vt(bRt,e)}const xRt=new Set(["count","valid","missing","distinct"]);function VO(e){return Bt(e)&&xRt.has(e)}function _Rt(e){return Bt(e)&&Jn(["min","max"],e)}const ERt=new Set(["count","sum","distinct","valid","missing"]),SRt=new Set(["mean","average","median","q1","q3","min","max"]);function eIe(e){return f0(e)&&(e=nL(e,void 0)),"bin"+mt(e).map(t=>WO(e[t])?Ii(`_${t}_${Yg(e[t])}`):Ii(`_${t}_${e[t]}`)).join("")}function fi(e){return e===!0||fb(e)&&!e.binned}function Ns(e){return e==="binned"||fb(e)&&e.binned===!0}function fb(e){return Ft(e)}function WO(e){return yt(e,"param")}function ede(e){switch(e){case vp:case bp:case rm:case ql:case vh:case bh:case E0:case im:case x0:case _0:case Gl:return 6;case S0:return 4;default:return 10}}function qA(e){return yt(e,"expr")}function Ls(e,{level:t}={level:0}){const n=mt(e||{}),r={};for(const i of n)r[i]=t===0?yu(e[i]):Ls(e[i],{level:t-1});return r}function tIe(e){const{anchor:t,frame:n,offset:r,orient:i,angle:o,limit:s,color:a,subtitleColor:l,subtitleFont:u,subtitleFontSize:c,subtitleFontStyle:d,subtitleFontWeight:f,subtitleLineHeight:h,subtitlePadding:p,...m}=e,g={...m,...a?{fill:a}:{}},y={...t?{anchor:t}:{},...n?{frame:n}:{},...r?{offset:r}:{},...i?{orient:i}:{},...o!==void 0?{angle:o}:{},...s!==void 0?{limit:s}:{}},v={...l?{subtitleColor:l}:{},...u?{subtitleFont:u}:{},...c?{subtitleFontSize:c}:{},...d?{subtitleFontStyle:d}:{},...f?{subtitleFontWeight:f}:{},...h?{subtitleLineHeight:h}:{},...p?{subtitlePadding:p}:{}},w=Gw(e,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:g,subtitleMarkConfig:w,nonMarkTitleProperties:y,subtitle:v}}function Hm(e){return Bt(e)||et(e)&&Bt(e[0])}function sn(e){return yt(e,"signal")}function hb(e){return yt(e,"step")}function TRt(e){return et(e)?!1:yt(e,"fields")&&!yt(e,"data")}function CRt(e){return et(e)?!1:yt(e,"fields")&&yt(e,"data")}function lp(e){return et(e)?!1:yt(e,"field")&&yt(e,"data")}const ARt={aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1},kRt=mt(ARt),IRt={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},oz=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function nIe(e){const t=et(e.condition)?e.condition.map(tde):tde(e.condition);return{...yu(e),condition:t}}function yu(e){if(qA(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function tde(e){if(qA(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function xi(e){if(qA(e)){const{expr:t,...n}=e;return{signal:t,...n}}return sn(e)?e:e!==void 0?{value:e}:void 0}function RRt(e){return sn(e)?e.signal:Rt(e)}function nde(e){return sn(e)?e.signal:Rt(e.value)}function fd(e){return sn(e)?e.signal:e==null?null:Rt(e)}function DRt(e,t,n){for(const r of n){const i=Zf(r,t.markDef,t.config);i!==void 0&&(e[r]=xi(i))}return e}function rIe(e){return[].concat(e.type,e.style??[])}function Gr(e,t,n,r={}){const{vgChannel:i,ignoreVgConfig:o}=r;return i&&yt(t,i)?t[i]:t[e]!==void 0?t[e]:o&&(!i||i===e)?void 0:Zf(e,t,n,r)}function Zf(e,t,n,{vgChannel:r}={}){const i=sz(e,t,n.style);return vo(r?i:void 0,i,r?n[t.type][r]:void 0,n[t.type][e],r?n.mark[r]:n.mark[e])}function sz(e,t,n){return iIe(e,rIe(t),n)}function iIe(e,t,n){t=jt(t);let r;for(const i of t){const o=n[i];yt(o,e)&&(r=o[e])}return r}function oIe(e,t){return jt(e).reduce((n,r)=>(n.field.push(Ot(r,t)),n.order.push(r.sort??"ascending"),n),{field:[],order:[]})}function sIe(e,t){const n=[...e];return t.forEach(r=>{for(const i of n)if(wu(i,r))return;n.push(r)}),n}function aIe(e,t){return wu(e,t)||!t?e:e?[...jt(e),...jt(t)].join(", "):t}function lIe(e,t){const n=e.value,r=t.value;if(n==null||r===null)return{explicit:e.explicit,value:null};if((Hm(n)||sn(n))&&(Hm(r)||sn(r)))return{explicit:e.explicit,value:aIe(n,r)};if(Hm(n)||sn(n))return{explicit:e.explicit,value:n};if(Hm(r)||sn(r))return{explicit:e.explicit,value:r};if(!Hm(n)&&!sn(n)&&!Hm(r)&&!sn(r))return{explicit:e.explicit,value:sIe(n,r)};throw new Error("It should never reach here")}function bX(e){return`Invalid specification ${Kr(e)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}const $Rt='Autosize "fit" only works for single views and layered views.';function rde(e){return`${e=="width"?"Width":"Height"} "container" only works for single views and layered views.`}function ide(e){const t=e=="width"?"Width":"Height",n=e=="width"?"x":"y";return`${t} "container" only works well with autosize "fit" or "fit-${n}".`}function ode(e){return e?`Dropping "fit-${e}" because spec has discrete ${Yl(e)}.`:'Dropping "fit" because spec has discrete size.'}function wX(e){return`Unknown field for ${e}. Cannot calculate view size.`}function sde(e){return`Cannot project a selection on encoding channel "${e}", which has no field.`}function MRt(e,t){return`Cannot project a selection on encoding channel "${e}" as it uses an aggregate function ("${t}").`}function PRt(e){return`The "nearest" transform is not supported for ${e} marks.`}function uIe(e){return`Selection not supported for ${e} yet.`}function NRt(e){return`Cannot find a selection named "${e}".`}const ORt="Scale bindings are currently only supported for scales with unbinned, continuous domains.",LRt="Sequntial scales are deprecated. The available quantitative scale type values are linear, log, pow, sqrt, symlog, time and utc",FRt="Legend bindings are only supported for selections over an individual field or encoding channel.";function BRt(e){return`Lookups can only be performed on selection parameters. "${e}" is a variable parameter.`}function jRt(e){return`Cannot define and lookup the "${e}" selection in the same view. Try moving the lookup into a second, layered view?`}const zRt="The same selection must be used to override scale domains in a layered view.",URt='Interval selections should be initialized using "x", "y", "longitude", or "latitude" keys.';function HRt(e){return`Unknown repeated value "${e}".`}function ade(e){return`The "columns" property cannot be used when "${e}" has nested row/column.`}const VRt="Multiple timer selections in one unit spec are not supported. Ignoring all but the first.",xX="Animation involving facet, layer, or concat is currently unsupported.";function WRt(e){return`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${Rt(e)}.`}function qRt(e,t,n,r){return(e.length?"Multiple ":"No ")+`matching ${Rt(t)} encoding found for selection ${Rt(n.param)}. Using "field": ${Rt(r)}.`}const GRt="Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function YRt(e){return`Unrecognized parse "${e}".`}function lde(e,t,n){return`An ancestor parsed field "${e}" as ${n} but a child wants to parse the field as ${t}.`}const KRt="Attempt to add the same child twice.";function XRt(e){return`Ignoring an invalid transform: ${Kr(e)}.`}const QRt='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function ude(e){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${e} are dropped.`}function JRt(e){const{parentProjection:t,projection:n}=e;return`Layer's shared projection ${Kr(t)} is overridden by a child projection ${Kr(n)}.`}const ZRt="Arc marks uses theta channel rather than angle, replacing angle with theta.";function eDt(e){return`${e}Offset dropped because ${e} is continuous`}function tDt(e,t,n){return`Channel ${e} is a ${t}. Converted to {value: ${Kr(n)}}.`}function cIe(e){return`Invalid field type "${e}".`}function nDt(e,t){return`Invalid field type "${e}" for aggregate: "${t}", using "quantitative" instead.`}function rDt(e){return`Invalid aggregation operator "${e}".`}function dIe(e,t){const{fill:n,stroke:r}=t;return`Dropping color ${e} as the plot also has ${n&&r?"fill and stroke":n?"fill":"stroke"}.`}function iDt(e){return`Position range does not support relative band size for ${e}.`}function az(e,t){return`Dropping ${Kr(e)} from channel "${t}" since it does not contain any data field, datum, value, or signal.`}const oDt="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function qO(e,t,n){return`${e} dropped as it is incompatible with "${t}".`}function sDt(e){return`${e}-encoding is dropped as ${e} is not a valid encoding channel.`}function aDt(e){return`${e} encoding should be discrete (ordinal / nominal / binned).`}function lDt(e){return`${e} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}function uDt(e){return`Facet encoding dropped as ${e.join(" and ")} ${e.length>1?"are":"is"} also specified.`}function _B(e,t){return`Using discrete channel "${e}" to encode "${t}" field can be misleading as it does not encode ${t==="ordinal"?"order":"magnitude"}.`}function cDt(e){return`The ${e} for range marks cannot be an expression`}function dDt(e,t){return`Line mark is for continuous lines and thus cannot be used with ${e&&t?"x2 and y2":e?"x2":"y2"}. We will use the rule mark (line segments) instead.`}function fDt(e,t){return`Specified orient "${e}" overridden with "${t}".`}function hDt(e){return`Cannot use the scale property "${e}" with non-color channel.`}function pDt(e){return`Cannot use the relative band size with ${e} scale.`}function mDt(e){return`Using unaggregated domain with raw field has no effect (${Kr(e)}).`}function gDt(e){return`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}function yDt(e){return`Unaggregated domain is currently unsupported for log scale (${Kr(e)}).`}function vDt(e){return`Cannot apply size to non-oriented mark "${e}".`}function bDt(e,t,n){return`Channel "${e}" does not work with "${t}" scale. We are using "${n}" scale instead.`}function wDt(e,t){return`FieldDef does not work with "${e}" scale. We are using "${t}" scale instead.`}function fIe(e,t,n){return`${n}-scale's "${t}" is dropped as it does not work with ${e} scale.`}function hIe(e){return`The step for "${e}" is dropped because the ${e==="width"?"x":"y"} is continuous.`}function xDt(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${Kr(n)} and ${Kr(r)}). Using ${Kr(n)}.`}function _Dt(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${Kr(n)} and ${Kr(r)}). Using the union of the two domains.`}function EDt(e){return`Setting the scale to be independent for "${e}" means we also have to set the guide (axis or legend) to be independent.`}function SDt(e){return`Dropping sort property ${Kr(e)} as unioned domains only support boolean or op "count", "min", and "max".`}const cde="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",TDt="Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.",CDt="Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.",ADt="Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.";function kDt(e){return`Cannot stack "${e}" if there is already "${e}2".`}function IDt(e){return`Stack is applied to a non-linear scale (${e}).`}function RDt(e){return`Stacking is applied even though the aggregate function is non-summative ("${e}").`}function EM(e,t){return`Invalid ${e}: ${Kr(t)}.`}function DDt(e){return`Dropping day from datetime ${Kr(e)} as day cannot be combined with other units.`}function $Dt(e,t){return`${t?"extent ":""}${t&&e?"and ":""}${e?"center ":""}${t&&e?"are ":"is "}not needed when data are aggregated.`}function MDt(e,t,n){return`${e} is not usually used with ${t} for ${n}.`}function PDt(e,t){return`Continuous axis should not have customized aggregation function ${e}; ${t} already agregates the axis.`}function dde(e){return`1D error band does not support ${e}.`}function pIe(e){return`Channel ${e} is required for "binned" bin.`}function NDt(e){return`Channel ${e} should not be used with "binned" bin.`}function ODt(e){return`Domain for ${e} is required for threshold scale.`}const mIe=pq(hq);let xv=mIe;function LDt(e){return xv=e,xv}function FDt(){return xv=mIe,xv}function _X(...e){xv.error(...e)}function xt(...e){xv.warn(...e)}function BDt(...e){xv.debug(...e)}function pb(e){if(e&&Ft(e)){for(const t of SX)if(yt(e,t))return!0}return!1}const gIe=["january","february","march","april","may","june","july","august","september","october","november","december"],jDt=gIe.map(e=>e.substr(0,3)),yIe=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],zDt=yIe.map(e=>e.substr(0,3));function UDt(e){if(LO(e)&&(e=+e),Sr(e))return e>4&&xt(EM("quarter",e)),e-1;throw new Error(EM("quarter",e))}function HDt(e){if(LO(e)&&(e=+e),Sr(e))return e-1;{const t=e.toLowerCase(),n=gIe.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=jDt.indexOf(r);if(i!==-1)return i;throw new Error(EM("month",e))}}function VDt(e){if(LO(e)&&(e=+e),Sr(e))return e%7;{const t=e.toLowerCase(),n=yIe.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=zDt.indexOf(r);if(i!==-1)return i;throw new Error(EM("day",e))}}function EX(e,t){const n=[];if(t&&e.day!==void 0&&mt(e).length>1&&(xt(DDt(e)),e=Dn(e),delete e.day),e.year!==void 0?n.push(e.year):n.push(2012),e.month!==void 0){const r=t?HDt(e.month):e.month;n.push(r)}else if(e.quarter!==void 0){const r=t?UDt(e.quarter):e.quarter;n.push(Sr(r)?r*3:`${r}*3`)}else n.push(0);if(e.date!==void 0)n.push(e.date);else if(e.day!==void 0){const r=t?VDt(e.day):e.day;n.push(Sr(r)?r+1:`${r}+1`)}else n.push(1);for(const r of["hours","minutes","seconds","milliseconds"]){const i=e[r];n.push(typeof i>"u"?0:i)}return n}function _v(e){const n=EX(e,!0).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function WDt(e){const n=EX(e,!1).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function qDt(e){const t=EX(e,!0);return e.utc?+new Date(Date.UTC(...t)):+new Date(...t)}const vIe={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},SX=mt(vIe);function GDt(e){return Vt(vIe,e)}function mb(e){return Ft(e)?e.binned:bIe(e)}function bIe(e){return e&&e.startsWith("binned")}function TX(e){return e.startsWith("utc")}function YDt(e){return e.substring(3)}const KDt={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function GO(e){return SX.filter(t=>xIe(e,t))}function wIe(e){const t=GO(e);return t[t.length-1]}function xIe(e,t){const n=e.indexOf(t);return!(n<0||n>0&&t==="seconds"&&e.charAt(n-1)==="i"||e.length>n+3&&t==="day"&&e.charAt(n+3)==="o"||n>0&&t==="year"&&e.charAt(n-1)==="f")}function XDt(e,t,{end:n}={end:!1}){const r=uX(t),i=TX(e)?"utc":"";function o(l){return l==="quarter"?`(${i}quarter(${r})-1)`:`${i}${l}(${r})`}let s;const a={};for(const l of SX)xIe(e,l)&&(a[l]=o(l),s=l);return n&&(a[s]+="+1"),WDt(a)}function _Ie(e){if(!e)return;const t=GO(e);return`timeUnitSpecifier(${Kr(t)}, ${Kr(KDt)})`}function QDt(e,t,n){if(!e)return;const r=_Ie(e);return`${n||TX(e)?"utc":"time"}Format(${t}, ${r})`}function ms(e){if(!e)return;let t;return Bt(e)?bIe(e)?t={unit:e.substring(6),binned:!0}:t={unit:e}:Ft(e)&&(t={...e,...e.unit?{unit:e.unit}:{}}),TX(t.unit)&&(t.utc=!0,t.unit=YDt(t.unit)),t}function JDt(e){const{utc:t,...n}=ms(e);return n.unit?(t?"utc":"")+mt(n).map(r=>Ii(`${r==="unit"?"":`_${r}_`}${n[r]}`)).join(""):(t?"utc":"")+"timeunit"+mt(n).map(r=>Ii(`_${r}_${n[r]}`)).join("")}function EIe(e,t=n=>n){const n=ms(e),r=wIe(n.unit);if(r&&r!=="day"){const i={year:2001,month:1,date:1,hours:0,minutes:0,seconds:0,milliseconds:0},{step:o,part:s}=SIe(r,n.step),a={...i,[s]:+i[s]+o};return`${t(_v(a))} - ${t(_v(i))}`}}const ZDt={year:1,month:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1};function e$t(e){return Vt(ZDt,e)}function SIe(e,t=1){if(e$t(e))return{part:e,step:t};switch(e){case"day":case"dayofyear":return{part:"date",step:t};case"quarter":return{part:"month",step:t*3};case"week":return{part:"date",step:t*7}}}function t$t(e){return yt(e,"param")}function CX(e){return!!(e!=null&&e.field)&&e.equal!==void 0}function AX(e){return!!(e!=null&&e.field)&&e.lt!==void 0}function kX(e){return!!(e!=null&&e.field)&&e.lte!==void 0}function IX(e){return!!(e!=null&&e.field)&&e.gt!==void 0}function RX(e){return!!(e!=null&&e.field)&&e.gte!==void 0}function DX(e){if(e!=null&&e.field){if(et(e.range)&&e.range.length===2)return!0;if(sn(e.range))return!0}return!1}function $X(e){return!!(e!=null&&e.field)&&(et(e.oneOf)||et(e.in))}function n$t(e){return!!(e!=null&&e.field)&&e.valid!==void 0}function TIe(e){return $X(e)||CX(e)||DX(e)||AX(e)||IX(e)||kX(e)||RX(e)}function sf(e,t){return rL(e,{timeUnit:t,wrapTime:!0})}function r$t(e,t){return e.map(n=>sf(n,t))}function CIe(e,t=!0){const{field:n}=e,r=ms(e.timeUnit),{unit:i,binned:o}=r||{},s=Ot(e,{expr:"datum"}),a=i?`time(${o?s:XDt(i,n)})`:s;if(CX(e))return`${a}===${sf(e.equal,i)}`;if(AX(e)){const l=e.lt;return`${a}<${sf(l,i)}`}else if(IX(e)){const l=e.gt;return`${a}>${sf(l,i)}`}else if(kX(e)){const l=e.lte;return`${a}<=${sf(l,i)}`}else if(RX(e)){const l=e.gte;return`${a}>=${sf(l,i)}`}else{if($X(e))return`indexof([${r$t(e.oneOf,i).join(",")}], ${a}) !== -1`;if(n$t(e))return YO(a,e.valid);if(DX(e)){const{range:l}=Ls(e),u=sn(l)?{signal:`${l.signal}[0]`}:l[0],c=sn(l)?{signal:`${l.signal}[1]`}:l[1];if(u!==null&&c!==null&&t)return"inrange("+a+", ["+sf(u,i)+", "+sf(c,i)+"])";const d=[];return u!==null&&d.push(`${a} >= ${sf(u,i)}`),c!==null&&d.push(`${a} <= ${sf(c,i)}`),d.length>0?d.join(" && "):"true"}}throw new Error(`Invalid field predicate: ${Kr(e)}`)}function YO(e,t=!0){return t?`isValid(${e}) && isFinite(+${e})`:`!isValid(${e}) || !isFinite(+${e})`}function i$t(e){return TIe(e)&&e.timeUnit?{...e,timeUnit:ms(e.timeUnit)}:e}const GA={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};function o$t(e){return e==="quantitative"||e==="temporal"}function AIe(e){return e==="ordinal"||e==="nominal"}const Ev=GA.quantitative,MX=GA.ordinal,Qw=GA.temporal,PX=GA.nominal,p_=GA.geojson;function s$t(e){if(e)switch(e=e.toLowerCase(),e){case"q":case Ev:return"quantitative";case"t":case Qw:return"temporal";case"o":case MX:return"ordinal";case"n":case PX:return"nominal";case p_:return"geojson"}}const Bs={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",TIME:"time",UTC:"utc",POINT:"point",BAND:"band"},lz={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};function a$t(e,t){const n=lz[e],r=lz[t];return n===r||n==="ordinal-position"&&r==="time"||r==="ordinal-position"&&n==="time"}const l$t={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function fde(e){return l$t[e]}const kIe=new Set(["linear","log","pow","sqrt","symlog"]),IIe=new Set([...kIe,"time","utc"]);function RIe(e){return kIe.has(e)}const DIe=new Set(["quantile","quantize","threshold"]),u$t=new Set([...IIe,...DIe,"sequential","identity"]),c$t=new Set(["ordinal","bin-ordinal","point","band"]);function vs(e){return c$t.has(e)}function Ad(e){return u$t.has(e)}function Sf(e){return IIe.has(e)}function Jw(e){return DIe.has(e)}const d$t={pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,tickBandPaddingInner:.25,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:4,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0,framesPerSecond:2,animationDuration:5};function f$t(e){return!Bt(e)&&yt(e,"name")}function $Ie(e){return yt(e,"param")}function h$t(e){return yt(e,"unionWith")}function p$t(e){return Ft(e)&&"field"in e}const m$t={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,domainRaw:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},{type:FUt,domain:BUt,range:jUt,rangeMax:zUt,rangeMin:UUt,scheme:HUt,...g$t}=m$t,y$t=mt(g$t);function uz(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(e);case"bins":return!["point","band","identity","ordinal"].includes(e);case"round":return Sf(e)||e==="band"||e==="point";case"padding":case"rangeMin":case"rangeMax":return Sf(e)||["point","band"].includes(e);case"paddingOuter":case"align":return["point","band"].includes(e);case"paddingInner":return e==="band";case"domainMax":case"domainMid":case"domainMin":case"domainRaw":case"clamp":return Sf(e);case"nice":return Sf(e)||e==="quantize"||e==="threshold";case"exponent":return e==="pow";case"base":return e==="log";case"constant":return e==="symlog";case"zero":return Ad(e)&&!Jn(["log","time","utc","threshold","quantile"],e)}}function MIe(e,t){switch(t){case"interpolate":case"scheme":case"domainMid":return sw(e)?void 0:hDt(t);case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"domainRaw":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}function v$t(e,t){return Jn([MX,PX],t)?e===void 0||vs(e):t===Qw?Jn([Bs.TIME,Bs.UTC,void 0],e):t===Ev?RIe(e)||Jw(e)||e===void 0:!0}function b$t(e,t,n=!1){if(!xh(e))return!1;switch(e){case Di:case _s:case b0:case h_:case Mc:case Fd:return Sf(t)||t==="band"?!0:t==="point"?!n:!1;case w0:return Jn(["linear","band"],t);case rm:case E0:case im:case x0:case _0:case cb:return Sf(t)||Jw(t)||Jn(["band","point","ordinal"],t);case ql:case vh:case bh:return t!=="band";case S0:case Gl:return t==="ordinal"||Jw(t)}}function w$t(e){return Ft(e)&&"value"in e}const fl={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},PIe=fl.arc,KO=fl.area,XO=fl.bar,x$t=fl.image,QO=fl.line,JO=fl.point,_$t=fl.rect,SM=fl.rule,NIe=fl.text,NX=fl.tick,E$t=fl.trail,OX=fl.circle,LX=fl.square,OIe=fl.geoshape;function C0(e){return["line","area","trail"].includes(e)}function pC(e){return["rect","bar","image","arc","tick"].includes(e)}const S$t=new Set(mt(fl));function eh(e){return yt(e,"type")}const T$t=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],C$t=["fill","fillOpacity"],A$t=[...T$t,...C$t],k$t={color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1},hde=mt(k$t),EB=["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],I$t={area:["line","point"],bar:EB,rect:EB,line:["point"],tick:["bandSize","thickness",...EB]},R$t={color:"#4c78a8",invalid:"break-paths-show-path-domains",timeUnitBandSize:1},D$t={mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1},LIe=mt(D$t);function Sv(e){return yt(e,"band")}const $$t={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},M$t=5,FX={binSpacing:0,continuousBandSize:M$t,minBandSize:.25,timeUnitBandPosition:.5},P$t={...FX,binSpacing:1},N$t={...FX,thickness:1};function O$t(e){return eh(e)?e.type:e}function FIe(e,{isPath:t}){return e===void 0||e==="break-paths-show-path-domains"?t?"break-paths-show-domains":"filter":e===null?"show":e}function BX({markDef:e,config:t,scaleChannel:n,scaleType:r,isCountAggregate:i}){var a,l;if(!r||!Ad(r)||i)return"always-valid";const o=FIe(Gr("invalid",e,t),{isPath:C0(e.type)});return((l=(a=t.scale)==null?void 0:a.invalid)==null?void 0:l[n])!==void 0?"show":o}function L$t(e){return e==="break-paths-filter-domains"||e==="break-paths-show-domains"}function BIe({scaleName:e,scale:t,mode:n}){const r=`domain('${e}')`;if(!t||!e)return;const i=`${r}[0]`,o=`peek(${r})`,s=t.domainHasZero();return s==="definitely"?{scale:e,value:0}:s==="maybe"?{signal:`scale('${e}', inrange(0, ${r}) ? 0 : ${n==="zeroOrMin"?i:o})`}:{signal:`scale('${e}', ${n==="zeroOrMin"?i:o})`}}function jIe({scaleChannel:e,channelDef:t,scale:n,scaleName:r,markDef:i,config:o}){var c;const s=n==null?void 0:n.get("type"),a=Id(t),l=VO(a==null?void 0:a.aggregate),u=BX({scaleChannel:e,markDef:i,config:o,scaleType:s,isCountAggregate:l});if(a&&u==="show"){const d=((c=o.scale.invalid)==null?void 0:c[e])??"zero-or-min";return{test:YO(Ot(a,{expr:"datum"}),!1),...F$t(d,n,r)}}}function F$t(e,t,n){if(w$t(e)){const{value:r}=e;return sn(r)?{signal:r.signal}:{value:r}}return BIe({scale:t,scaleName:n,mode:"zeroOrMin"})}function jX(e){const{channel:t,channelDef:n,markDef:r,scale:i,scaleName:o,config:s}=e,a=db(t),l=zX(e),u=jIe({scaleChannel:a,channelDef:n,scale:i,scaleName:o,markDef:r,config:s});return u!==void 0?[u,l]:l}function B$t(e){const{datum:t}=e;return pb(t)?_v(t):`${Kr(t)}`}function Hy(e,t,n,r){const i={};if(t&&(i.scale=t),_h(e)){const{datum:o}=e;pb(o)?i.signal=_v(o):sn(o)?i.signal=o.signal:qA(o)?i.signal=o.expr:i.value=o}else i.field=Ot(e,n);if(r){const{offset:o,band:s}=r;o&&(i.offset=o),s&&(i.band=s)}return i}function TM({scaleName:e,fieldOrDatumDef:t,fieldOrDatumDef2:n,offset:r,startSuffix:i,endSuffix:o="end",bandPosition:s=.5}){const a=!sn(s)&&0<s&&s<1?"datum":void 0,l=Ot(t,{expr:a,suffix:i}),u=n!==void 0?Ot(n,{expr:a}):Ot(t,{suffix:o,expr:a}),c={};if(s===0||s===1){c.scale=e;const d=s===0?l:u;c.field=d}else{const d=sn(s)?`(1-${s.signal}) * ${l} + ${s.signal} * ${u}`:`${1-s} * ${l} + ${s} * ${u}`;c.signal=`scale("${e}", ${d})`}return r&&(c.offset=r),c}function j$t({scaleName:e,fieldDef:t}){const n=Ot(t,{expr:"datum"}),r=Ot(t,{expr:"datum",suffix:"end"});return`abs(scale("${e}", ${r}) - scale("${e}", ${n}))`}function zX({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:o,scale:s,stack:a,offset:l,defaultRef:u,bandPosition:c}){if(t){if($n(t)){const d=s==null?void 0:s.get("type");if(ll(t)){c??(c=Xg({fieldDef:t,fieldDef2:n,markDef:r,config:i}));const{bin:f,timeUnit:h,type:p}=t;if(fi(f)||c&&h&&p===Qw)return a!=null&&a.impute?Hy(t,o,{binSuffix:"mid"},{offset:l}):c&&!vs(d)?TM({scaleName:o,fieldOrDatumDef:t,bandPosition:c,offset:l}):Hy(t,o,JA(t,e)?{binSuffix:"range"}:{},{offset:l});if(Ns(f)){if(St(n))return TM({scaleName:o,fieldOrDatumDef:t,fieldOrDatumDef2:n,bandPosition:c,offset:l});xt(pIe(e===Di?Ld:yh))}}return Hy(t,o,vs(d)?{binSuffix:"range"}:{},{offset:l,band:d==="band"?c??t.bandPosition??.5:void 0})}else if(kd(t)){const d=t.value,f=l?{offset:l}:{};return{...iT(e,d),...f}}}return jn(u)&&(u=u()),u&&{...u,...l?{offset:l}:{}}}function iT(e,t){return Jn(["x","x2"],e)&&t==="width"?{field:{group:"width"}}:Jn(["y","y2"],e)&&t==="height"?{field:{group:"height"}}:xi(t)}function Tv(e){return e&&e!=="number"&&e!=="time"}function zIe(e,t,n){return`${e}(${t}${n?`, ${Kr(n)}`:""})`}const z$t="  ";function UX({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:o}){var l,u;if(Tv(n))return hd({fieldOrDatumDef:e,format:t,formatType:n,expr:r,config:o});const s=UIe(e,r,i),a=Zw(e);if(t===void 0&&n===void 0&&o.customFormatTypes){if(a==="quantitative"){if(i&&o.normalizedNumberFormatType)return hd({fieldOrDatumDef:e,format:o.normalizedNumberFormat,formatType:o.normalizedNumberFormatType,expr:r,config:o});if(o.numberFormatType)return hd({fieldOrDatumDef:e,format:o.numberFormat,formatType:o.numberFormatType,expr:r,config:o})}if(a==="temporal"&&o.timeFormatType&&St(e)&&e.timeUnit===void 0)return hd({fieldOrDatumDef:e,format:o.timeFormat,formatType:o.timeFormatType,expr:r,config:o})}if(tx(e)){const c=H$t({field:s,timeUnit:St(e)?(l=ms(e.timeUnit))==null?void 0:l.unit:void 0,format:t,formatType:o.timeFormatType,rawTimeFormat:o.timeFormat,isUTCScale:gb(e)&&((u=e.scale)==null?void 0:u.type)===Bs.UTC});return c?{signal:c}:void 0}if(t=cz({type:a,specifiedFormat:t,config:o,normalizeStack:i}),St(e)&&fi(e.bin)){const c=Ot(e,{expr:r,binSuffix:"end"});return{signal:YA(s,c,t,n,o)}}else return t||Zw(e)==="quantitative"?{signal:`${WIe(s,t)}`}:{signal:`isValid(${s}) ? ${s} : ""+${s}`}}function UIe(e,t,n){return St(e)?n?`${Ot(e,{expr:t,suffix:"end"})}-${Ot(e,{expr:t,suffix:"start"})}`:Ot(e,{expr:t}):B$t(e)}function hd({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:o,field:s}){if(s??(s=UIe(e,r,i)),s!=="datum.value"&&St(e)&&fi(e.bin)){const a=Ot(e,{expr:r,binSuffix:"end"});return{signal:YA(s,a,t,n,o)}}return{signal:zIe(n,s,t)}}function HIe(e,t,n,r,i,o){var s;if(!(Bt(r)&&Tv(r))&&!(n===void 0&&r===void 0&&i.customFormatTypes&&Zw(e)==="quantitative"&&(i.normalizedNumberFormatType&&ex(e)&&e.stack==="normalize"||i.numberFormatType))){if(ex(e)&&e.stack==="normalize"&&i.normalizedNumberFormat)return cz({type:"quantitative",config:i,normalizeStack:!0});if(tx(e)){const a=St(e)?(s=ms(e.timeUnit))==null?void 0:s.unit:void 0;return a===void 0&&i.customFormatTypes&&i.timeFormatType?void 0:U$t({specifiedFormat:n,timeUnit:a,config:i,omitTimeFormatConfig:o})}return cz({type:t,specifiedFormat:n,config:i})}}function VIe(e,t,n){var r;if(e&&(sn(e)||e==="number"||e==="time"))return e;if(tx(t)&&n!=="time"&&n!=="utc")return St(t)&&((r=ms(t==null?void 0:t.timeUnit))!=null&&r.utc)?"utc":"time"}function cz({type:e,specifiedFormat:t,config:n,normalizeStack:r}){if(Bt(t))return t;if(e===Ev)return r?n.normalizedNumberFormat:n.numberFormat}function U$t({specifiedFormat:e,timeUnit:t,config:n,omitTimeFormatConfig:r}){return e||(t?{signal:_Ie(t)}:r?void 0:n.timeFormat)}function WIe(e,t){return`format(${e}, "${t||""}")`}function pde(e,t,n,r){return Tv(n)?zIe(n,e,t):WIe(e,(Bt(t)?t:void 0)??r.numberFormat)}function YA(e,t,n,r,i){if(n===void 0&&r===void 0&&i.customFormatTypes&&i.numberFormatType)return YA(e,t,i.numberFormat,i.numberFormatType,i);const o=pde(e,n,r,i),s=pde(t,n,r,i);return`${YO(e,!1)} ? "null" : ${o} + "${z$t}" + ${s}`}function H$t({field:e,timeUnit:t,format:n,formatType:r,rawTimeFormat:i,isUTCScale:o}){return!t||n?!t&&r?`${r}(${e}, '${n}')`:(n=Bt(n)?n:i,`${o?"utc":"time"}Format(${e}, '${n}')`):QDt(t,e,o)}const ZO="min",V$t={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function mde(e){return Vt(V$t,e)}function W$t(e){return yt(e,"encoding")}function wp(e){return e&&(e.op==="count"||yt(e,"field"))}function qIe(e){return e&&et(e)}function KA(e){return yt(e,"row")||yt(e,"column")}function HX(e){return yt(e,"header")}function eL(e){return yt(e,"facet")}function q$t(e){return yt(e,"param")}function G$t(e){return!Bt(e)&&yt(e,"repeat")}function gde(e){const{field:t,timeUnit:n,bin:r,aggregate:i}=e;return{...n?{timeUnit:n}:{},...r?{bin:r}:{},...i?{aggregate:i}:{},field:t}}function VX(e){return yt(e,"sort")}function Xg({fieldDef:e,fieldDef2:t,markDef:n,config:r}){if($n(e)&&e.bandPosition!==void 0)return e.bandPosition;if(St(e)){const{timeUnit:i,bin:o}=e;if(i&&!t)return Zf("timeUnitBandPosition",n,r);if(fi(o))return .5}}function GIe({channel:e,fieldDef:t,fieldDef2:n,markDef:r,config:i,scaleType:o,useVlSizeChannel:s}){var u,c,d;const a=Yl(e),l=Gr(s?"size":a,r,i,{vgChannel:a});if(l!==void 0)return l;if(St(t)){const{timeUnit:f,bin:h}=t;if(f&&!n)return{band:Zf("timeUnitBandSize",r,i)};if(fi(h)&&!vs(o))return{band:1}}if(pC(r.type))return o?vs(o)?((u=i[r.type])==null?void 0:u.discreteBandSize)||{band:1}:(c=i[r.type])==null?void 0:c.continuousBandSize:(d=i[r.type])==null?void 0:d.discreteBandSize}function YIe(e,t,n,r){return fi(e.bin)||e.timeUnit&&ll(e)&&e.type==="temporal"?Xg({fieldDef:e,fieldDef2:t,markDef:n,config:r})!==void 0:!1}function KIe(e){return yt(e,"sort")&&!yt(e,"field")}function XA(e){return yt(e,"condition")}function tL(e){const t=e==null?void 0:e.condition;return!!t&&!et(t)&&St(t)}function QA(e){const t=e==null?void 0:e.condition;return!!t&&!et(t)&&$n(t)}function Y$t(e){const t=e==null?void 0:e.condition;return!!t&&(et(t)||kd(t))}function St(e){return yt(e,"field")||(e==null?void 0:e.aggregate)==="count"}function Zw(e){return e==null?void 0:e.type}function _h(e){return yt(e,"datum")}function ug(e){return ll(e)&&!AM(e)||CM(e)}function yde(e){return ll(e)&&e.type==="quantitative"&&!e.bin||CM(e)}function CM(e){return _h(e)&&Sr(e.datum)}function $n(e){return St(e)||_h(e)}function ll(e){return e&&(yt(e,"field")||e.aggregate==="count")&&yt(e,"type")}function kd(e){return yt(e,"value")}function gb(e){return yt(e,"scale")||yt(e,"sort")}function ex(e){return yt(e,"axis")||yt(e,"stack")||yt(e,"impute")}function XIe(e){return yt(e,"legend")}function QIe(e){return yt(e,"format")||yt(e,"formatType")}function K$t(e){return jl(e,["legend","axis","header","scale"])}function X$t(e){return yt(e,"op")}function Ot(e,t={}){let n=e.field;const r=t.prefix;let i=t.suffix,o="";if(J$t(e))n=j3e("count");else{let s;if(!t.nofn)if(X$t(e))s=e.op;else{const{bin:a,aggregate:l,timeUnit:u}=e;fi(a)?(s=eIe(a),i=(t.binSuffix??"")+(t.suffix??"")):l?T0(l)?(o=`["${n}"]`,n=`argmax_${l.argmax}`):jp(l)?(o=`["${n}"]`,n=`argmin_${l.argmin}`):s=String(l):u&&!mb(u)&&(s=JDt(u),i=(!["range","mid"].includes(t.binSuffix)&&t.binSuffix||"")+(t.suffix??""))}s&&(n=n?`${s}_${n}`:s)}return i&&(n=`${n}_${i}`),r&&(n=`${r}_${n}`),t.forAs?f_(n):t.expr?L3e(n,t.expr)+o:Ec(n)+o}function AM(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return St(e)&&!!e.bin;case"temporal":return!1}throw new Error(cIe(e.type))}function Q$t(e){var t;return gb(e)&&Jw((t=e.scale)==null?void 0:t.type)}function J$t(e){return e.aggregate==="count"}function Z$t(e,t){var s;const{field:n,bin:r,timeUnit:i,aggregate:o}=e;if(o==="count")return t.countTitle;if(fi(r))return`${n} (binned)`;if(i&&!mb(i)){const a=(s=ms(i))==null?void 0:s.unit;if(a)return`${n} (${GO(a).join("-")})`}else if(o)return T0(o)?`${n} for max ${o.argmax}`:jp(o)?`${n} for min ${o.argmin}`:`${UA(o)} of ${n}`;return n}function eMt(e){const{aggregate:t,bin:n,timeUnit:r,field:i}=e;if(T0(t))return`${i} for argmax(${t.argmax})`;if(jp(t))return`${i} for argmin(${t.argmin})`;const o=r&&!mb(r)?ms(r):void 0,s=t||(o==null?void 0:o.unit)||(o==null?void 0:o.maxbins)&&"timeunit"||fi(n)&&"bin";return s?`${s.toUpperCase()}(${i})`:i}const JIe=(e,t)=>{switch(t.fieldTitle){case"plain":return e.field;case"functional":return eMt(e);default:return Z$t(e,t)}};let ZIe=JIe;function eRe(e){ZIe=e}function tMt(){eRe(JIe)}function aw(e,t,{allowDisabling:n,includeDefault:r=!0}){var a;const i=(a=WX(e))==null?void 0:a.title;if(!St(e))return i??e.title;const o=e,s=r?qX(o,t):void 0;return n?vo(i,o.title,s):i??o.title??s}function WX(e){if(ex(e)&&e.axis)return e.axis;if(XIe(e)&&e.legend)return e.legend;if(HX(e)&&e.header)return e.header}function qX(e,t){return ZIe(e,t)}function kM(e){if(QIe(e)){const{format:t,formatType:n}=e;return{format:t,formatType:n}}else{const t=WX(e)??{},{format:n,formatType:r}=t;return{format:n,formatType:r}}}function nMt(e,t){var o;switch(t){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(VX(e)&&et(e.sort))return"ordinal";const{aggregate:n,bin:r,timeUnit:i}=e;if(i)return"temporal";if(r||n&&!T0(n)&&!jp(n))return"quantitative";if(gb(e)&&((o=e.scale)!=null&&o.type))switch(lz[e.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}function Id(e){if(St(e))return e;if(tL(e))return e.condition}function Ho(e){if($n(e))return e;if(QA(e))return e.condition}function tRe(e,t,n,r={}){if(Bt(e)||Sr(e)||f0(e)){const i=Bt(e)?"string":Sr(e)?"number":"boolean";return xt(tDt(t,i,e)),{value:e}}return $n(e)?IM(e,t,n,r):QA(e)?{...e,condition:IM(e.condition,t,n,r)}:e}function IM(e,t,n,r){if(QIe(e)){const{format:i,formatType:o,...s}=e;if(Tv(o)&&!n.customFormatTypes)return xt(ude(t)),IM(s,t,n,r)}else{const i=ex(e)?"axis":XIe(e)?"legend":HX(e)?"header":null;if(i&&e[i]){const{format:o,formatType:s,...a}=e[i];if(Tv(s)&&!n.customFormatTypes)return xt(ude(t)),IM({...e,[i]:a},t,n,r)}}return St(e)?GX(e,t,r):rMt(e)}function rMt(e){let t=e.type;if(t)return e;const{datum:n}=e;return t=Sr(n)?"quantitative":Bt(n)?"nominal":pb(n)?"temporal":void 0,{...e,type:t}}function GX(e,t,{compositeMark:n=!1}={}){const{aggregate:r,timeUnit:i,bin:o,field:s}=e,a={...e};if(!n&&r&&!vX(r)&&!T0(r)&&!jp(r)&&(xt(rDt(r)),delete a.aggregate),i&&(a.timeUnit=ms(i)),s&&(a.field=`${s}`),fi(o)&&(a.bin=nL(o,t)),Ns(o)&&!bo(t)&&xt(NDt(t)),ll(a)){const{type:l}=a,u=s$t(l);l!==u&&(a.type=u),l!=="quantitative"&&VO(r)&&(xt(nDt(l,r)),a.type="quantitative")}else if(!Y3e(t)){const l=nMt(a,t);a.type=l}if(ll(a)){const{compatible:l,warning:u}=iMt(a,t)||{};l===!1&&xt(u)}if(VX(a)&&Bt(a.sort)){const{sort:l}=a;if(mde(l))return{...a,sort:{encoding:l}};const u=l.substring(1);if(l.charAt(0)==="-"&&mde(u))return{...a,sort:{encoding:u,order:"descending"}}}if(HX(a)){const{header:l}=a;if(l){const{orient:u,...c}=l;if(u)return{...a,header:{...c,labelOrient:l.labelOrient||u,titleOrient:l.titleOrient||u}}}}return a}function nL(e,t){return f0(e)?{maxbins:ede(t)}:e==="binned"?{binned:!0}:!e.maxbins&&!e.step?{...e,maxbins:ede(t)}:e}const f1={compatible:!0};function iMt(e,t){const n=e.type;if(n==="geojson"&&t!=="shape")return{compatible:!1,warning:`Channel ${t} should not be used with a geojson data.`};switch(t){case vp:case bp:case FO:return AM(e)?f1:{compatible:!1,warning:aDt(t)};case Di:case _s:case b0:case h_:case ql:case vh:case bh:case HA:case VA:case BO:case wv:case jO:case zO:case cb:case Mc:case Fd:case UO:return f1;case jd:case Sc:case Bd:case zd:return n!==Ev?{compatible:!1,warning:`Channel ${t} should be used with a quantitative field only, not ${e.type} field.`}:f1;case im:case x0:case _0:case E0:case rm:case nm:case tm:case Ld:case yh:case w0:return n==="nominal"&&!e.sort?{compatible:!1,warning:`Channel ${t} should not be used with an unsorted discrete field.`}:f1;case Gl:case S0:return!AM(e)&&!Q$t(e)?{compatible:!1,warning:lDt(t)}:f1;case Xw:return e.type==="nominal"&&!("sort"in e)?{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}:f1}}function tx(e){const{formatType:t}=kM(e);return t==="time"||!t&&oMt(e)}function oMt(e){return e&&(e.type==="temporal"||St(e)&&!!e.timeUnit)}function rL(e,{timeUnit:t,type:n,wrapTime:r,undefinedIfExprNotRequired:i}){var l;const o=t&&((l=ms(t))==null?void 0:l.unit);let s=o||n==="temporal",a;return qA(e)?a=e.expr:sn(e)?a=e.signal:pb(e)?(s=!0,a=_v(e)):(Bt(e)||Sr(e))&&s&&(a=`datetime(${Kr(e)})`,GDt(o)&&(Sr(e)&&e<1e4||Bt(e)&&isNaN(Date.parse(e)))&&(a=_v({[o]:e}))),a?r&&s?`time(${a})`:a:i?void 0:Kr(e)}function nRe(e,t){const{type:n}=e;return t.map(r=>{const i=St(e)&&!mb(e.timeUnit)?e.timeUnit:void 0,o=rL(r,{timeUnit:i,type:n,undefinedIfExprNotRequired:!0});return o!==void 0?{signal:o}:r})}function JA(e,t){return fi(e.bin)?xh(t)&&["ordinal","nominal"].includes(e.type):(console.warn("Only call this method for binned field defs."),!1)}const vde={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function ZA(e){return e==null?void 0:e.condition}const rRe=["domain","grid","labels","ticks","title"],sMt={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},iRe={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},aMt={...iRe,style:1,labelExpr:1,encoding:1};function bde(e){return Vt(aMt,e)}const lMt={axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1},oRe=mt(lMt);function sm(e){return yt(e,"mark")}class iL{constructor(t,n){this.name=t,this.run=n}hasMatchingType(t){return sm(t)?O$t(t.mark)===this.name:!1}}function Vy(e,t){const n=e&&e[t];return n?et(n)?Yw(n,r=>!!r.field):St(n)||tL(n):!1}function sRe(e,t){const n=e&&e[t];return n?et(n)?Yw(n,r=>!!r.field):St(n)||_h(n)||QA(n):!1}function aRe(e,t){if(bo(t)){const n=e[t];if((St(n)||_h(n))&&(AIe(n.type)||St(n)&&n.timeUnit)){const r=hX(t);return sRe(e,r)}}return!1}function lRe(e){return Yw(rRt,t=>{if(Vy(e,t)){const n=e[t];if(et(n))return Yw(n,r=>!!r.aggregate);{const r=Id(n);return r&&!!r.aggregate}}return!1})}function uRe(e,t){const n=[],r=[],i=[],o=[],s={};return YX(e,(a,l)=>{if(St(a)){const{field:u,aggregate:c,bin:d,timeUnit:f,...h}=a;if(c||f||d){const p=WX(a),m=p==null?void 0:p.title;let g=Ot(a,{forAs:!0});const y={...m?[]:{title:aw(a,t,{allowDisabling:!0})},...h,field:g};if(c){let v;if(T0(c)?(v="argmax",g=Ot({op:"argmax",field:c.argmax},{forAs:!0}),y.field=`${g}.${u}`):jp(c)?(v="argmin",g=Ot({op:"argmin",field:c.argmin},{forAs:!0}),y.field=`${g}.${u}`):c!=="boxplot"&&c!=="errorbar"&&c!=="errorband"&&(v=c),v){const w={op:v,as:g};u&&(w.field=u),o.push(w)}}else if(n.push(g),ll(a)&&fi(d)){if(r.push({bin:d,field:u,as:g}),n.push(Ot(a,{binSuffix:"end"})),JA(a,l)&&n.push(Ot(a,{binSuffix:"range"})),bo(l)){const v={field:`${g}_end`};s[`${l}2`]=v}y.bin="binned",Y3e(l)||(y.type=Ev)}else if(f&&!mb(f)){i.push({timeUnit:f,field:u,as:g});const v=ll(a)&&a.type!==Qw&&"time";v&&(l===HA||l===wv?y.formatType=v:pRt(l)?y.legend={formatType:v,...y.legend}:bo(l)&&(y.axis={formatType:v,...y.axis}))}s[l]=y}else n.push(u),s[l]=e[l]}else s[l]=e[l]}),{bins:r,timeUnits:i,aggregate:o,groupby:n,encoding:s}}function uMt(e,t,n){const r=gRt(t,n);if(r){if(r==="binned"){const i=e[t===Ld?Di:_s];return!!(St(i)&&St(e[t])&&Ns(i.bin))}}else return!1;return!0}function cMt(e,t,n,r){const i={};for(const o of mt(e))G3e(o)||xt(sDt(o));for(let o of uRt){if(!e[o])continue;const s=e[o];if(WA(o)){const a=lRt(o),l=i[a];if(St(l)&&o$t(l.type)&&St(s)&&!l.timeUnit){xt(eDt(a));continue}}if(o==="angle"&&t==="arc"&&!e.theta&&(xt(ZRt),o=Mc),!uMt(e,o,t)){xt(qO(o,t));continue}if(o===rm&&t==="line"){const a=Id(e[o]);if(a!=null&&a.aggregate){xt(oDt);continue}}if(o===ql&&(n?"fill"in e:"stroke"in e)){xt(dIe("encoding",{fill:"fill"in e,stroke:"stroke"in e}));continue}if(o===VA||o===Xw&&!et(s)&&!kd(s)||o===wv&&et(s)){if(s){if(o===Xw){const a=e[o];if(KIe(a)){i[o]=a;continue}}i[o]=jt(s).reduce((a,l)=>(St(l)?a.push(GX(l,o)):xt(az(l,o)),a),[])}}else{if(o===wv&&s===null)i[o]=null;else if(!St(s)&&!_h(s)&&!kd(s)&&!XA(s)&&!sn(s)){xt(az(s,o));continue}i[o]=tRe(s,o,r)}}return i}function oL(e,t){const n={};for(const r of mt(e)){const i=tRe(e[r],r,t,{compositeMark:!0});n[r]=i}return n}function dMt(e){const t=[];for(const n of mt(e))if(Vy(e,n)){const r=e[n],i=jt(r);for(const o of i)St(o)?t.push(o):tL(o)&&t.push(o.condition)}return t}function YX(e,t,n){if(e)for(const r of mt(e)){const i=e[r];if(et(i))for(const o of i)t.call(n,o,r);else t.call(n,i,r)}}function fMt(e,t,n,r){return e?mt(e).reduce((i,o)=>{const s=e[o];return et(s)?s.reduce((a,l)=>t.call(r,a,l,o),i):t.call(r,i,s,o)},n):n}function cRe(e,t){return mt(t).reduce((n,r)=>{switch(r){case Di:case _s:case jO:case UO:case zO:case Ld:case yh:case b0:case h_:case Mc:case nm:case Fd:case tm:case w0:case Bd:case jd:case zd:case Sc:case HA:case Gl:case cb:case wv:return n;case Xw:if(e==="line"||e==="trail")return n;case VA:case BO:{const i=t[r];if(et(i)||St(i))for(const o of jt(i))o.aggregate||n.push(Ot(o,{}));return n}case rm:if(e==="trail")return n;case ql:case vh:case bh:case im:case x0:case _0:case S0:case E0:{const i=Id(t[r]);return i&&!i.aggregate&&n.push(Ot(i,{})),n}}},[])}function hMt(e){const{tooltip:t,...n}=e;if(!t)return{filteredEncoding:n};let r,i;if(et(t)){for(const o of t)o.aggregate?(r||(r=[]),r.push(o)):(i||(i=[]),i.push(o));r&&(n.tooltip=r)}else t.aggregate?n.tooltip=t:i=t;return et(i)&&i.length===1&&(i=i[0]),{customTooltipWithoutAggregatedField:i,filteredEncoding:n}}function dz(e,t,n,r=!0){if("tooltip"in n)return{tooltip:n.tooltip};const i=e.map(({fieldPrefix:s,titlePrefix:a})=>{const l=r?` of ${KX(t)}`:"";return{field:s+t.field,type:t.type,title:sn(a)?{signal:`${a}"${escape(l)}"`}:a+l}}),o=dMt(n).map(K$t);return{tooltip:[...i,...Ef(o,ir)]}}function KX(e){const{title:t,field:n}=e;return vo(t,n)}function XX(e,t,n,r,i){const{scale:o,axis:s}=n;return({partName:a,mark:l,positionPrefix:u,endPositionPrefix:c=void 0,extraEncoding:d={}})=>{const f=KX(n);return dRe(e,a,i,{mark:l,encoding:{[t]:{field:`${u}_${n.field}`,type:n.type,...f!==void 0?{title:f}:{},...o!==void 0?{scale:o}:{},...s!==void 0?{axis:s}:{}},...Bt(c)?{[`${t}2`]:{field:`${c}_${n.field}`}}:{},...r,...d}})}}function dRe(e,t,n,r){const{clip:i,color:o,opacity:s}=e,a=e.type;return e[t]||e[t]===void 0&&n[t]?[{...r,mark:{...n[t],...i?{clip:i}:{},...o?{color:o}:{},...s?{opacity:s}:{},...eh(r.mark)?r.mark:{type:r.mark},style:`${a}-${String(t)}`,...f0(e[t])?{}:e[t]}}]:[]}function fRe(e,t,n){const{encoding:r}=e,i=t==="vertical"?"y":"x",o=r[i],s=r[`${i}2`],a=r[`${i}Error`],l=r[`${i}Error2`];return{continuousAxisChannelDef:v3(o,n),continuousAxisChannelDef2:v3(s,n),continuousAxisChannelDefError:v3(a,n),continuousAxisChannelDefError2:v3(l,n),continuousAxis:i}}function v3(e,t){if(e!=null&&e.aggregate){const{aggregate:n,...r}=e;return n!==t&&xt(PDt(n,t)),r}else return e}function hRe(e,t){const{mark:n,encoding:r}=e,{x:i,y:o}=r;if(eh(n)&&n.orient)return n.orient;if(ug(i)){if(ug(o)){const s=St(i)&&i.aggregate,a=St(o)&&o.aggregate;if(!s&&a===t)return"vertical";if(!a&&s===t)return"horizontal";if(s===t&&a===t)throw new Error("Both x and y cannot have aggregate");return tx(o)&&!tx(i)?"horizontal":"vertical"}return"horizontal"}else{if(ug(o))return"vertical";throw new Error(`Need a valid continuous axis for ${t}s`)}}const RM="boxplot",pMt=["box","median","outliers","rule","ticks"],mMt=new iL(RM,mRe);function pRe(e){return Sr(e)?"tukey":e}function mRe(e,{config:t}){e={...e,encoding:oL(e.encoding,t)};const{mark:n,encoding:r,params:i,projection:o,...s}=e,a=eh(n)?n:{type:n};i&&xt(uIe("boxplot"));const l=a.extent??t.boxplot.extent,u=Gr("size",a,t),c=a.invalid,d=pRe(l),{bins:f,timeUnits:h,transform:p,continuousAxisChannelDef:m,continuousAxis:g,groupby:y,aggregate:v,encodingWithoutContinuousAxis:w,ticksOrient:E,boxOrient:_,customTooltipWithoutAggregatedField:x}=gMt(e,l,t),S=f_(m.field),{color:C,size:A,...k}=w,N=Ue=>XX(a,g,m,Ue,t.boxplot),M=N(k),I=N(w),D=(Ft(t.boxplot.box)?t.boxplot.box.color:t.mark.color)||"#4c78a8",R=N({...k,...A?{size:A}:{},color:{condition:{test:`${Fr(`lower_box_${m.field}`)} >= ${Fr(`upper_box_${m.field}`)}`,...C||{value:D}}}}),O=dz([{fieldPrefix:d==="min-max"?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:d==="min-max"?"lower_whisker_":"min_",titlePrefix:"Min"}],m,w),B={type:"tick",color:"black",opacity:1,orient:E,invalid:c,aria:!1},z=d==="min-max"?O:dz([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],m,w),W=[...M({partName:"rule",mark:{type:"rule",invalid:c,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:z}),...M({partName:"rule",mark:{type:"rule",invalid:c,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:z}),...M({partName:"ticks",mark:B,positionPrefix:"lower_whisker",extraEncoding:z}),...M({partName:"ticks",mark:B,positionPrefix:"upper_whisker",extraEncoding:z})],U=[...d!=="tukey"?W:[],...I({partName:"box",mark:{type:"bar",...u?{size:u}:{},orient:_,invalid:c,ariaRoleDescription:"box"},positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:O}),...R({partName:"median",mark:{type:"tick",invalid:c,...Ft(t.boxplot.median)&&t.boxplot.median.color?{color:t.boxplot.median.color}:{},...u?{size:u}:{},orient:E,aria:!1},positionPrefix:"mid_box",extraEncoding:O})];if(d==="min-max")return{...s,transform:(s.transform??[]).concat(p),layer:U};const F=Fr(`lower_box_${m.field}`),Y=Fr(`upper_box_${m.field}`),V=`(${Y} - ${F})`,G=`${F} - ${l} * ${V}`,X=`${Y} + ${l} * ${V}`,Z=Fr(m.field),oe={joinaggregate:gRe(m.field),groupby:y},ne={transform:[{filter:`(${G} <= ${Z}) && (${Z} <= ${X})`},{aggregate:[{op:"min",field:m.field,as:`lower_whisker_${S}`},{op:"max",field:m.field,as:`upper_whisker_${S}`},{op:"min",field:`lower_box_${m.field}`,as:`lower_box_${S}`},{op:"max",field:`upper_box_${m.field}`,as:`upper_box_${S}`},...v],groupby:y}],layer:W},{tooltip:ie,...fe}=k,{scale:se,axis:ae}=m,Se=KX(m),Te=jl(ae,["title"]),Oe=dRe(a,"outliers",t.boxplot,{transform:[{filter:`(${Z} < ${G}) || (${Z} > ${X})`}],mark:"point",encoding:{[g]:{field:m.field,type:m.type,...Se!==void 0?{title:Se}:{},...se!==void 0?{scale:se}:{},...Yr(Te)?{}:{axis:Te}},...fe,...C?{color:C}:{},...x?{tooltip:x}:{}}})[0];let We;const Fe=[...f,...h,oe];return Oe?We={transform:Fe,layer:[Oe,ne]}:(We=ne,We.transform.unshift(...Fe)),{...s,layer:[We,{transform:p,layer:U}]}}function gRe(e){const t=f_(e);return[{op:"q1",field:e,as:`lower_box_${t}`},{op:"q3",field:e,as:`upper_box_${t}`}]}function gMt(e,t,n){const r=hRe(e,RM),{continuousAxisChannelDef:i,continuousAxis:o}=fRe(e,r,RM),s=i.field,a=f_(s),l=pRe(t),u=[...gRe(s),{op:"median",field:s,as:`mid_box_${a}`},{op:"min",field:s,as:(l==="min-max"?"lower_whisker_":"min_")+a},{op:"max",field:s,as:(l==="min-max"?"upper_whisker_":"max_")+a}],c=l==="min-max"||l==="tukey"?[]:[{calculate:`${Fr(`upper_box_${a}`)} - ${Fr(`lower_box_${a}`)}`,as:`iqr_${a}`},{calculate:`min(${Fr(`upper_box_${a}`)} + ${Fr(`iqr_${a}`)} * ${t}, ${Fr(`max_${a}`)})`,as:`upper_whisker_${a}`},{calculate:`max(${Fr(`lower_box_${a}`)} - ${Fr(`iqr_${a}`)} * ${t}, ${Fr(`min_${a}`)})`,as:`lower_whisker_${a}`}],{[o]:d,...f}=e.encoding,{customTooltipWithoutAggregatedField:h,filteredEncoding:p}=hMt(f),{bins:m,timeUnits:g,aggregate:y,groupby:v,encoding:w}=uRe(p,n),E=r==="vertical"?"horizontal":"vertical",_=r,x=[...m,...g,{aggregate:[...y,...u],groupby:v},...c];return{bins:m,timeUnits:g,transform:x,groupby:v,aggregate:y,continuousAxisChannelDef:i,continuousAxis:o,encodingWithoutContinuousAxis:w,ticksOrient:E,boxOrient:_,customTooltipWithoutAggregatedField:h}}const QX="errorbar",yMt=["ticks","rule"],vMt=new iL(QX,yRe);function yRe(e,{config:t}){e={...e,encoding:oL(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:o,ticksOrient:s,markDef:a,outerSpec:l,tooltipEncoding:u}=vRe(e,QX,t);delete o.size;const c=XX(a,i,r,o,t.errorbar),d=a.thickness,f=a.size,h={type:"tick",orient:s,aria:!1,...d!==void 0?{thickness:d}:{},...f!==void 0?{size:f}:{}},p=[...c({partName:"ticks",mark:h,positionPrefix:"lower",extraEncoding:u}),...c({partName:"ticks",mark:h,positionPrefix:"upper",extraEncoding:u}),...c({partName:"rule",mark:{type:"rule",ariaRoleDescription:"errorbar",...d!==void 0?{size:d}:{}},positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:u})];return{...l,transform:n,...p.length>1?{layer:p}:{...p[0]}}}function bMt(e,t){const{encoding:n}=e;if(wMt(n))return{orient:hRe(e,t),inputType:"raw"};const r=xMt(n),i=_Mt(n),o=n.x,s=n.y;if(r){if(i)throw new Error(`${t} cannot be both type aggregated-upper-lower and aggregated-error`);const a=n.x2,l=n.y2;if($n(a)&&$n(l))throw new Error(`${t} cannot have both x2 and y2`);if($n(a)){if(ug(o))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error(`Both x and x2 have to be quantitative in ${t}`)}else if($n(l)){if(ug(s))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error(`Both y and y2 have to be quantitative in ${t}`)}throw new Error("No ranged axis")}else{const a=n.xError,l=n.xError2,u=n.yError,c=n.yError2;if($n(l)&&!$n(a))throw new Error(`${t} cannot have xError2 without xError`);if($n(c)&&!$n(u))throw new Error(`${t} cannot have yError2 without yError`);if($n(a)&&$n(u))throw new Error(`${t} cannot have both xError and yError with both are quantiative`);if($n(a)){if(ug(o))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}else if($n(u)){if(ug(s))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}function wMt(e){return($n(e.x)||$n(e.y))&&!$n(e.x2)&&!$n(e.y2)&&!$n(e.xError)&&!$n(e.xError2)&&!$n(e.yError)&&!$n(e.yError2)}function xMt(e){return $n(e.x2)||$n(e.y2)}function _Mt(e){return $n(e.xError)||$n(e.xError2)||$n(e.yError)||$n(e.yError2)}function vRe(e,t,n){const{mark:r,encoding:i,params:o,projection:s,...a}=e,l=eh(r)?r:{type:r};o&&xt(uIe(t));const{orient:u,inputType:c}=bMt(e,t),{continuousAxisChannelDef:d,continuousAxisChannelDef2:f,continuousAxisChannelDefError:h,continuousAxisChannelDefError2:p,continuousAxis:m}=fRe(e,u,t),{errorBarSpecificAggregate:g,postAggregateCalculates:y,tooltipSummary:v,tooltipTitleWithFieldName:w}=EMt(l,d,f,h,p,c,t,n),{[m]:E,[m==="x"?"x2":"y2"]:_,[m==="x"?"xError":"yError"]:x,[m==="x"?"xError2":"yError2"]:S,...C}=i,{bins:A,timeUnits:k,aggregate:N,groupby:M,encoding:I}=uRe(C,n),D=[...N,...g],R=c!=="raw"?[]:M,O=dz(v,d,I,w);return{transform:[...a.transform??[],...A,...k,...D.length===0?[]:[{aggregate:D,groupby:R}],...y],groupby:R,continuousAxisChannelDef:d,continuousAxis:m,encodingWithoutContinuousAxis:I,ticksOrient:u==="vertical"?"horizontal":"vertical",markDef:l,outerSpec:a,tooltipEncoding:O}}function EMt(e,t,n,r,i,o,s,a){let l=[],u=[];const c=t.field;let d,f=!1;if(o==="raw"){const h=e.center?e.center:e.extent?e.extent==="iqr"?"median":"mean":a.errorbar.center,p=e.extent?e.extent:h==="mean"?"stderr":"iqr";if(h==="median"!=(p==="iqr")&&xt(MDt(h,p,s)),p==="stderr"||p==="stdev")l=[{op:p,field:c,as:`extent_${c}`},{op:h,field:c,as:`center_${c}`}],u=[{calculate:`${Fr(`center_${c}`)} + ${Fr(`extent_${c}`)}`,as:`upper_${c}`},{calculate:`${Fr(`center_${c}`)} - ${Fr(`extent_${c}`)}`,as:`lower_${c}`}],d=[{fieldPrefix:"center_",titlePrefix:UA(h)},{fieldPrefix:"upper_",titlePrefix:wde(h,p,"+")},{fieldPrefix:"lower_",titlePrefix:wde(h,p,"-")}],f=!0;else{let m,g,y;p==="ci"?(m="mean",g="ci0",y="ci1"):(m="median",g="q1",y="q3"),l=[{op:g,field:c,as:`lower_${c}`},{op:y,field:c,as:`upper_${c}`},{op:m,field:c,as:`center_${c}`}],d=[{fieldPrefix:"upper_",titlePrefix:aw({field:c,aggregate:y,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:aw({field:c,aggregate:g,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:aw({field:c,aggregate:m,type:"quantitative"},a,{allowDisabling:!1})}]}}else{(e.center||e.extent)&&xt($Dt(e.center,e.extent)),o==="aggregated-upper-lower"?(d=[],u=[{calculate:Fr(n.field),as:`upper_${c}`},{calculate:Fr(c),as:`lower_${c}`}]):o==="aggregated-error"&&(d=[{fieldPrefix:"",titlePrefix:c}],u=[{calculate:`${Fr(c)} + ${Fr(r.field)}`,as:`upper_${c}`}],i?u.push({calculate:`${Fr(c)} + ${Fr(i.field)}`,as:`lower_${c}`}):u.push({calculate:`${Fr(c)} - ${Fr(r.field)}`,as:`lower_${c}`}));for(const h of u)d.push({fieldPrefix:h.as.substring(0,6),titlePrefix:bv(bv(h.calculate,"datum['",""),"']","")})}return{postAggregateCalculates:u,errorBarSpecificAggregate:l,tooltipSummary:d,tooltipTitleWithFieldName:f}}function wde(e,t,n){return`${UA(e)} ${n} ${t}`}const JX="errorband",SMt=["band","borders"],TMt=new iL(JX,bRe);function bRe(e,{config:t}){e={...e,encoding:oL(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:o,markDef:s,outerSpec:a,tooltipEncoding:l}=vRe(e,JX,t),u=s,c=XX(u,i,r,o,t.errorband),d=e.encoding.x!==void 0&&e.encoding.y!==void 0;let f={type:d?"area":"rect"},h={type:d?"line":"rule"};const p={...u.interpolate?{interpolate:u.interpolate}:{},...u.tension&&u.interpolate?{tension:u.tension}:{}};return d?(f={...f,...p,ariaRoleDescription:"errorband"},h={...h,...p,aria:!1}):u.interpolate?xt(dde("interpolate")):u.tension&&xt(dde("tension")),{...a,transform:n,layer:[...c({partName:"band",mark:f,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:l}),...c({partName:"borders",mark:h,positionPrefix:"lower",extraEncoding:l}),...c({partName:"borders",mark:h,positionPrefix:"upper",extraEncoding:l})]}}const wRe={};function ZX(e,t,n){const r=new iL(e,t);wRe[e]={normalizer:r,parts:n}}function CMt(){return mt(wRe)}ZX(RM,mRe,pMt);ZX(QX,yRe,yMt);ZX(JX,bRe,SMt);const AMt=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],xRe={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},_Re={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},kMt=mt(xRe),IMt=mt(_Re),RMt={header:1,headerRow:1,headerColumn:1,headerFacet:1},ERe=mt(RMt),SRe=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],DMt={gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},$Mt={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},Rd="_vgsid_",MMt={point:{on:"click",fields:[Rd],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[pointerdown, window:pointerup] > window:pointermove!",encodings:["x","y"],translate:"[pointerdown, window:pointerup] > window:pointermove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function eQ(e){return e==="legend"||!!(e!=null&&e.legend)}function SB(e){return eQ(e)&&Ft(e)}function tQ(e){return!!(e!=null&&e.select)}function TRe(e){const t=[];for(const n of e||[]){if(tQ(n))continue;const{expr:r,bind:i,...o}=n;if(i&&r){const s={...o,bind:i,init:r};t.push(s)}else{const s={...o,...r?{update:r}:{},...i?{bind:i}:{}};t.push(s)}}return t}function PMt(e){return sL(e)||rQ(e)||nQ(e)}function nQ(e){return yt(e,"concat")}function sL(e){return yt(e,"vconcat")}function rQ(e){return yt(e,"hconcat")}function CRe({step:e,offsetIsDiscrete:t}){return t?e.for??"offset":"position"}function th(e){return yt(e,"step")}function xde(e){return yt(e,"view")||yt(e,"width")||yt(e,"height")}const _de=20,NMt={align:1,bounds:1,center:1,columns:1,spacing:1},OMt=mt(NMt);function LMt(e,t,n){const r=n[t],i={},{spacing:o,columns:s}=r;o!==void 0&&(i.spacing=o),s!==void 0&&(eL(e)&&!KA(e.facet)||nQ(e))&&(i.columns=s),sL(e)&&(i.columns=1);for(const a of OMt)if(e[a]!==void 0)if(a==="spacing"){const l=e[a];i[a]=Sr(l)?l:{row:l.row??o,column:l.column??o}}else i[a]=e[a];return i}function fz(e,t){return e[t]??e[t==="width"?"continuousWidth":"continuousHeight"]}function hz(e,t){const n=DM(e,t);return th(n)?n.step:ARe}function DM(e,t){const n=e[t]??e[t==="width"?"discreteWidth":"discreteHeight"];return vo(n,{step:e.step})}const ARe=20,FMt={continuousWidth:200,continuousHeight:200,step:ARe},BMt={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:FMt,mark:R$t,arc:{},area:{},bar:P$t,circle:{},geoshape:{},image:{},line:{},point:{},rect:FX,rule:{color:"black"},square:{},text:{color:"black"},tick:N$t,trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:d$t,projection:{},legend:DMt,header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:MMt,style:{},title:{},facet:{spacing:_de},concat:{spacing:_de},normalizedNumberFormat:".0%"},Fh=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],Ede={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},Sde={blue:Fh[0],orange:Fh[1],red:Fh[2],teal:Fh[3],green:Fh[4],yellow:Fh[5],purple:Fh[6],pink:Fh[7],brown:Fh[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function jMt(e={}){return{signals:[{name:"color",value:Ft(e)?{...Sde,...e}:Sde}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function zMt(e){return{signals:[{name:"fontSize",value:Ft(e)?{...Ede,...e}:Ede}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function UMt(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}function kRe(e){const t=mt(e||{}),n={};for(const r of t){const i=e[r];n[r]=ZA(i)?nIe(i):yu(i)}return n}function HMt(e){const t=mt(e),n={};for(const r of t)n[r]=kRe(e[r]);return n}const VMt=[...LIe,...oRe,...ERe,"background","padding","legend","lineBreak","scale","style","title","view"];function IRe(e={}){const{color:t,font:n,fontSize:r,selection:i,...o}=e,s=Kx({},Dn(BMt),n?UMt(n):{},t?jMt(t):{},r?zMt(r):{},o||{});i&&Xx(s,"selection",i,!0);const a=jl(s,VMt);for(const l of["background","lineBreak","padding"])s[l]&&(a[l]=yu(s[l]));for(const l of LIe)s[l]&&(a[l]=Ls(s[l]));for(const l of oRe)s[l]&&(a[l]=kRe(s[l]));for(const l of ERe)s[l]&&(a[l]=Ls(s[l]));if(s.legend&&(a.legend=Ls(s.legend)),s.scale){const{invalid:l,...u}=s.scale,c=Ls(l,{level:1});a.scale={...Ls(u),...mt(c).length>0?{invalid:c}:{}}}return s.style&&(a.style=HMt(s.style)),s.title&&(a.title=Ls(s.title)),s.view&&(a.view=Ls(s.view)),a}const WMt=new Set(["view",...S$t]),qMt=["color","fontSize","background","padding","facet","concat","numberFormat","numberFormatType","normalizedNumberFormat","normalizedNumberFormatType","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],GMt={view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"],...I$t};function YMt(e){e=Dn(e);for(const t of qMt)delete e[t];if(e.axis)for(const t in e.axis)ZA(e.axis[t])&&delete e.axis[t];if(e.legend)for(const t of AMt)delete e.legend[t];if(e.mark){for(const t of hde)delete e.mark[t];e.mark.tooltip&&Ft(e.mark.tooltip)&&delete e.mark.tooltip}e.params&&(e.signals=(e.signals||[]).concat(TRe(e.params)),delete e.params);for(const t of WMt){for(const r of hde)delete e[t][r];const n=GMt[t];if(n)for(const r of n)delete e[t][r];XMt(e,t)}for(const t of CMt())delete e[t];KMt(e);for(const t in e)Ft(e[t])&&Yr(e[t])&&delete e[t];return Yr(e)?void 0:e}function KMt(e){const{titleMarkConfig:t,subtitleMarkConfig:n,subtitle:r}=tIe(e.title);Yr(t)||(e.style["group-title"]={...e.style["group-title"],...t}),Yr(n)||(e.style["group-subtitle"]={...e.style["group-subtitle"],...n}),Yr(r)?delete e.title:e.title=r}function XMt(e,t,n,r){const i=e[t];t==="view"&&(n="cell");const o={...i,...e.style[n??t]};Yr(o)||(e.style[n??t]=o),delete e[t]}function aL(e){return yt(e,"layer")}function QMt(e){return yt(e,"repeat")}function JMt(e){return!et(e.repeat)&&yt(e.repeat,"layer")}class iQ{map(t,n){return eL(t)?this.mapFacet(t,n):QMt(t)?this.mapRepeat(t,n):rQ(t)?this.mapHConcat(t,n):sL(t)?this.mapVConcat(t,n):nQ(t)?this.mapConcat(t,n):this.mapLayerOrUnit(t,n)}mapLayerOrUnit(t,n){if(aL(t))return this.mapLayer(t,n);if(sm(t))return this.mapUnit(t,n);throw new Error(bX(t))}mapLayer(t,n){return{...t,layer:t.layer.map(r=>this.mapLayerOrUnit(r,n))}}mapHConcat(t,n){return{...t,hconcat:t.hconcat.map(r=>this.map(r,n))}}mapVConcat(t,n){return{...t,vconcat:t.vconcat.map(r=>this.map(r,n))}}mapConcat(t,n){const{concat:r,...i}=t;return{...i,concat:r.map(o=>this.map(o,n))}}mapFacet(t,n){return{...t,spec:this.map(t.spec,n)}}mapRepeat(t,n){return{...t,spec:this.map(t.spec,n)}}}const ZMt={zero:1,center:1,normalize:1};function ePt(e){return Vt(ZMt,e)}const tPt=new Set([PIe,XO,KO,SM,JO,OX,LX,QO,NIe,NX]),nPt=new Set([XO,KO,PIe]);function h1(e){return St(e)&&Zw(e)==="quantitative"&&!e.bin}function Tde(e,t,{orient:n,type:r}){const i=t==="x"?"y":"radius",o=t==="x"&&["bar","area"].includes(r),s=e[t],a=e[i];if(St(s)&&St(a))if(h1(s)&&h1(a)){if(s.stack)return t;if(a.stack)return i;const l=St(s)&&!!s.aggregate,u=St(a)&&!!a.aggregate;if(l!==u)return l?t:i;if(o){if(n==="vertical")return i;if(n==="horizontal")return t}}else{if(h1(s))return t;if(h1(a))return i}else{if(h1(s))return o&&n==="vertical"?void 0:t;if(h1(a))return o&&n==="horizontal"?void 0:i}}function rPt(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}function RRe(e,t){var m,g;const n=eh(e)?e:{type:e},r=n.type;if(!tPt.has(r))return null;const i=Tde(t,"x",n)||Tde(t,"theta",n);if(!i)return null;const o=t[i],s=St(o)?Ot(o,{}):void 0,a=rPt(i),l=[],u=new Set;if(t[a]){const y=t[a],v=St(y)?Ot(y,{}):void 0;v&&v!==s&&(l.push(a),u.add(v))}const c=a==="x"?"xOffset":"yOffset",d=t[c],f=St(d)?Ot(d,{}):void 0;f&&f!==s&&(l.push(c),u.add(f));const h=cRt.reduce((y,v)=>{if(v!=="tooltip"&&Vy(t,v)){const w=t[v];for(const E of jt(w)){const _=Id(E);if(_.aggregate)continue;const x=Ot(_,{});(!x||!u.has(x))&&y.push({channel:v,fieldDef:_})}}return y},[]);let p;return o.stack!==void 0?f0(o.stack)?p=o.stack?"zero":null:p=o.stack:nPt.has(r)&&(p="zero"),!p||!ePt(p)||lRe(t)&&h.length===0?null:((m=o==null?void 0:o.scale)!=null&&m.type&&((g=o==null?void 0:o.scale)==null?void 0:g.type)!==Bs.LINEAR&&o!=null&&o.stack&&xt(IDt(o.scale.type)),$n(t[wh(i)])?(o.stack!==void 0&&xt(kDt(i)),null):(St(o)&&o.aggregate&&!ERt.has(o.aggregate)&&xt(RDt(o.aggregate)),{groupbyChannels:l,groupbyFields:u,fieldChannel:i,impute:o.impute===null?!1:C0(r),stackBy:h,offset:p}))}function DRe(e,t,n){const r=Ls(e),i=Gr("orient",r,n);if(r.orient=aPt(r.type,t,i),i!==void 0&&i!==r.orient&&xt(fDt(r.orient,i)),r.type==="bar"&&r.orient){const l=Gr("cornerRadiusEnd",r,n);if(l!==void 0){const u=r.orient==="horizontal"&&t.x2||r.orient==="vertical"&&t.y2?["cornerRadius"]:$$t[r.orient];for(const c of u)r[c]=l;r.cornerRadiusEnd!==void 0&&delete r.cornerRadiusEnd}}const o=Gr("opacity",r,n),s=Gr("fillOpacity",r,n);return o===void 0&&s===void 0&&(r.opacity=oPt(r.type,t)),Gr("cursor",r,n)===void 0&&(r.cursor=iPt(r,t,n)),r}function iPt(e,t,n){return t.href||e.href||Gr("href",e,n)?"pointer":e.cursor}function oPt(e,t){if(Jn([JO,NX,OX,LX],e)&&!lRe(t))return .7}function sPt(e,t,{graticule:n}){if(n)return!1;const r=Zf("filled",e,t),i=e.type;return vo(r,i!==JO&&i!==QO&&i!==SM)}function aPt(e,t,n){switch(e){case JO:case OX:case LX:case NIe:case _$t:case x$t:return}const{x:r,y:i,x2:o,y2:s}=t;switch(e){case XO:if(St(r)&&(Ns(r.bin)||St(i)&&i.aggregate&&!r.aggregate))return"vertical";if(St(i)&&(Ns(i.bin)||St(r)&&r.aggregate&&!i.aggregate))return"horizontal";if(s||o){if(n)return n;if(!o)return(St(r)&&r.type===Ev&&!fi(r.bin)||CM(r))&&St(i)&&Ns(i.bin)?"horizontal":"vertical";if(!s)return(St(i)&&i.type===Ev&&!fi(i.bin)||CM(i))&&St(r)&&Ns(r.bin)?"vertical":"horizontal"}case SM:if(o&&!(St(r)&&Ns(r.bin))&&s&&!(St(i)&&Ns(i.bin)))return;case KO:if(s)return St(i)&&Ns(i.bin)?"horizontal":"vertical";if(o)return St(r)&&Ns(r.bin)?"vertical":"horizontal";if(e===SM){if(r&&!i)return"vertical";if(i&&!r)return"horizontal"}case QO:case NX:{const a=yde(r),l=yde(i);if(n)return n;if(a&&!l)return e!=="tick"?"horizontal":"vertical";if(!a&&l)return e!=="tick"?"vertical":"horizontal";if(a&&l)return"vertical";{const u=ll(r)&&r.type===Qw,c=ll(i)&&i.type===Qw;if(u&&!c)return"vertical";if(!u&&c)return"horizontal"}return}}return"vertical"}function lPt(e){const{point:t,line:n,...r}=e;return mt(r).length>1?r:r.type}function uPt(e){for(const t of["line","area","rule","trail"])e[t]&&(e={...e,[t]:jl(e[t],["point","line"])});return e}function TB(e,t={},n){return e.point==="transparent"?{opacity:0}:e.point?Ft(e.point)?e.point:{}:e.point!==void 0?null:t.point||n.shape?Ft(t.point)?t.point:{}:void 0}function Cde(e,t={}){return e.line?e.line===!0?{}:e.line:e.line!==void 0?null:t.line?t.line===!0?{}:t.line:void 0}class cPt{constructor(){this.name="path-overlay"}hasMatchingType(t,n){if(sm(t)){const{mark:r,encoding:i}=t,o=eh(r)?r:{type:r};switch(o.type){case"line":case"rule":case"trail":return!!TB(o,n[o.type],i);case"area":return!!TB(o,n[o.type],i)||!!Cde(o,n[o.type])}}return!1}run(t,n,r){const{config:i}=n,{params:o,projection:s,mark:a,name:l,encoding:u,...c}=t,d=oL(u,i),f=eh(a)?a:{type:a},h=TB(f,i[f.type],d),p=f.type==="area"&&Cde(f,i[f.type]),m=[{name:l,...o?{params:o}:{},mark:lPt({...f.type==="area"&&f.opacity===void 0&&f.fillOpacity===void 0?{opacity:.7}:{},...f}),encoding:jl(d,["shape"])}],g=RRe(DRe(f,d,i),d);let y=d;if(g){const{fieldChannel:v,offset:w}=g;y={...d,[v]:{...d[v],...w?{stack:w}:{}}}}return y=jl(y,["y2","x2"]),p&&m.push({...s?{projection:s}:{},mark:{type:"line",...Gw(f,["clip","interpolate","tension","tooltip"]),...p},encoding:y}),h&&m.push({...s?{projection:s}:{},mark:{type:"point",opacity:1,filled:!0,...Gw(f,["clip","tooltip"]),...h},encoding:y}),r({...c,layer:m},{...n,config:uPt(i)})}}function dPt(e,t){return t?KA(e)?MRe(e,t):$Re(e,t):e}function CB(e,t){return t?MRe(e,t):e}function pz(e,t,n){const r=t[e];if(G$t(r)){if(r.repeat in n)return{...t,[e]:n[r.repeat]};xt(HRt(r.repeat));return}return t}function $Re(e,t){if(e=pz("field",e,t),e!==void 0){if(e===null)return null;if(VX(e)&&wp(e.sort)){const n=pz("field",e.sort,t);e={...e,...n?{sort:n}:{}}}return e}}function Ade(e,t){if(St(e))return $Re(e,t);{const n=pz("datum",e,t);return n!==e&&!n.type&&(n.type="nominal"),n}}function kde(e,t){if($n(e)){const n=Ade(e,t);if(n)return n;if(XA(e))return{condition:e.condition}}else{if(QA(e)){const n=Ade(e.condition,t);if(n)return{...e,condition:n};{const{condition:r,...i}=e;return i}}return e}}function MRe(e,t){const n={};for(const r in e)if(yt(e,r)){const i=e[r];if(et(i))n[r]=i.map(o=>kde(o,t)).filter(o=>o);else{const o=kde(i,t);o!==void 0&&(n[r]=o)}}return n}class fPt{constructor(){this.name="RuleForRangedLine"}hasMatchingType(t){if(sm(t)){const{encoding:n,mark:r}=t;if(r==="line"||eh(r)&&r.type==="line")for(const i of aRt){const o=db(i),s=n[o];if(n[i]&&(St(s)&&!Ns(s.bin)||_h(s)))return!0}}return!1}run(t,n,r){const{encoding:i,mark:o}=t;return xt(dDt(!!i.x2,!!i.y2)),r({...t,mark:Ft(o)?{...o,type:"rule"}:"rule"},n)}}class hPt extends iQ{constructor(){super(...arguments),this.nonFacetUnitNormalizers=[mMt,vMt,TMt,new cPt,new fPt]}map(t,n){if(sm(t)){const r=Vy(t.encoding,vp),i=Vy(t.encoding,bp),o=Vy(t.encoding,FO);if(r||i||o)return this.mapFacetedUnit(t,n)}return super.map(t,n)}mapUnit(t,n){const{parentEncoding:r,parentProjection:i}=n,o=CB(t.encoding,n.repeater),s={...t,...t.name?{name:[n.repeaterPrefix,t.name].filter(l=>l).join("_")}:{},...o?{encoding:o}:{}};if(r||i)return this.mapUnitWithParentEncodingOrProjection(s,n);const a=this.mapLayerOrUnit.bind(this);for(const l of this.nonFacetUnitNormalizers)if(l.hasMatchingType(s,n.config))return l.run(s,n,a);return s}mapRepeat(t,n){return JMt(t)?this.mapLayerRepeat(t,n):this.mapNonLayerRepeat(t,n)}mapLayerRepeat(t,n){const{repeat:r,spec:i,...o}=t,{row:s,column:a,layer:l}=r,{repeater:u={},repeaterPrefix:c=""}=n;return s||a?this.mapRepeat({...t,repeat:{...s?{row:s}:{},...a?{column:a}:{}},spec:{repeat:{layer:l},spec:i}},n):{...o,layer:l.map(d=>{const f={...u,layer:d},h=`${(i.name?`${i.name}_`:"")+c}child__layer_${Ii(d)}`,p=this.mapLayerOrUnit(i,{...n,repeater:f,repeaterPrefix:h});return p.name=h,p})}}mapNonLayerRepeat(t,n){const{repeat:r,spec:i,data:o,...s}=t;!et(r)&&t.columns&&(t=jl(t,["columns"]),xt(ade("repeat")));const a=[],{repeater:l={},repeaterPrefix:u=""}=n,c=!et(r)&&r.row||[l?l.row:null],d=!et(r)&&r.column||[l?l.column:null],f=et(r)&&r||[l?l.repeat:null];for(const p of f)for(const m of c)for(const g of d){const y={repeat:p,row:m,column:g,layer:l.layer},v=(i.name?`${i.name}_`:"")+u+"child__"+(et(r)?`${Ii(p)}`:(r.row?`row_${Ii(m)}`:"")+(r.column?`column_${Ii(g)}`:"")),w=this.map(i,{...n,repeater:y,repeaterPrefix:v});w.name=v,a.push(jl(w,["data"]))}const h=et(r)?t.columns:r.column?r.column.length:1;return{data:i.data??o,align:"all",...s,columns:h,concat:a}}mapFacet(t,n){const{facet:r}=t;return KA(r)&&t.columns&&(t=jl(t,["columns"]),xt(ade("facet"))),super.mapFacet(t,n)}mapUnitWithParentEncodingOrProjection(t,n){const{encoding:r,projection:i}=t,{parentEncoding:o,parentProjection:s,config:a}=n,l=Rde({parentProjection:s,projection:i}),u=Ide({parentEncoding:o,encoding:CB(r,n.repeater)});return this.mapUnit({...t,...l?{projection:l}:{},...u?{encoding:u}:{}},{config:a})}mapFacetedUnit(t,n){const{row:r,column:i,facet:o,...s}=t.encoding,{mark:a,width:l,projection:u,height:c,view:d,params:f,encoding:h,...p}=t,{facetMapping:m,layout:g}=this.getFacetMappingAndLayout({row:r,column:i,facet:o},n),y=CB(s,n.repeater);return this.mapFacet({...p,...g,facet:m,spec:{...l?{width:l}:{},...c?{height:c}:{},...d?{view:d}:{},...u?{projection:u}:{},mark:a,encoding:y,...f?{params:f}:{}}},n)}getFacetMappingAndLayout(t,n){const{row:r,column:i,facet:o}=t;if(r||i){o&&xt(uDt([...r?[vp]:[],...i?[bp]:[]]));const s={},a={};for(const l of[vp,bp]){const u=t[l];if(u){const{align:c,center:d,spacing:f,columns:h,...p}=u;s[l]=p;for(const m of["align","center","spacing"])u[m]!==void 0&&(a[m]??(a[m]={}),a[m][l]=u[m])}}return{facetMapping:s,layout:a}}else{const{align:s,center:a,spacing:l,columns:u,...c}=o;return{facetMapping:dPt(c,n.repeater),layout:{...s?{align:s}:{},...a?{center:a}:{},...l?{spacing:l}:{},...u?{columns:u}:{}}}}}mapLayer(t,{parentEncoding:n,parentProjection:r,...i}){const{encoding:o,projection:s,...a}=t,l={...i,parentEncoding:Ide({parentEncoding:n,encoding:o,layer:!0}),parentProjection:Rde({parentProjection:r,projection:s})};return super.mapLayer({...a,...t.name?{name:[l.repeaterPrefix,t.name].filter(u=>u).join("_")}:{}},l)}}function Ide({parentEncoding:e,encoding:t={},layer:n}){let r={};if(e){const i=new Set([...mt(e),...mt(t)]);for(const o of i){const s=t[o],a=e[o];if($n(s)){const l={...a,...s};r[o]=l}else QA(s)?r[o]={...s,condition:{...a,...s.condition}}:s||s===null?r[o]=s:(n||kd(a)||sn(a)||$n(a)||et(a))&&(r[o]=a)}}else r=t;return!r||Yr(r)?void 0:r}function Rde(e){const{parentProjection:t,projection:n}=e;return t&&n&&xt(JRt({parentProjection:t,projection:n})),n??t}function oQ(e){return yt(e,"filter")}function pPt(e){return yt(e,"stop")}function PRe(e){return yt(e,"lookup")}function mPt(e){return yt(e,"data")}function gPt(e){return yt(e,"param")}function yPt(e){return yt(e,"pivot")}function vPt(e){return yt(e,"density")}function bPt(e){return yt(e,"quantile")}function wPt(e){return yt(e,"regression")}function xPt(e){return yt(e,"loess")}function _Pt(e){return yt(e,"sample")}function EPt(e){return yt(e,"window")}function SPt(e){return yt(e,"joinaggregate")}function TPt(e){return yt(e,"flatten")}function CPt(e){return yt(e,"calculate")}function NRe(e){return yt(e,"bin")}function APt(e){return yt(e,"impute")}function kPt(e){return yt(e,"timeUnit")}function IPt(e){return yt(e,"aggregate")}function RPt(e){return yt(e,"stack")}function DPt(e){return yt(e,"fold")}function $Pt(e){return yt(e,"extent")&&!yt(e,"density")&&!yt(e,"regression")}function MPt(e){return e.map(t=>oQ(t)?{filter:ow(t.filter,i$t)}:t)}class PPt extends iQ{map(t,n){return n.emptySelections??(n.emptySelections={}),n.selectionPredicates??(n.selectionPredicates={}),t=Dde(t,n),super.map(t,n)}mapLayerOrUnit(t,n){if(t=Dde(t,n),t.encoding){const r={};for(const[i,o]of Yg(t.encoding))r[i]=ORe(o,n);t={...t,encoding:r}}return super.mapLayerOrUnit(t,n)}mapUnit(t,n){const{selection:r,...i}=t;return r?{...i,params:Yg(r).map(([o,s])=>{const{init:a,bind:l,empty:u,...c}=s;c.type==="single"?(c.type="point",c.toggle=!1):c.type==="multi"&&(c.type="point"),n.emptySelections[o]=u!=="none";for(const d of Ks(n.selectionPredicates[o]??{}))d.empty=u!=="none";return{name:o,value:a,select:c,bind:l}})}:t}}function Dde(e,t){const{transform:n,...r}=e;if(n){const i=n.map(o=>{if(oQ(o))return{filter:mz(o,t)};if(NRe(o)&&fb(o.bin))return{...o,bin:LRe(o.bin)};if(PRe(o)){const{selection:s,...a}=o.from;return s?{...o,from:{param:s,...a}}:o}return o});return{...r,transform:i}}return e}function ORe(e,t){var r,i;const n=Dn(e);if(St(n)&&fb(n.bin)&&(n.bin=LRe(n.bin)),gb(n)&&((i=(r=n.scale)==null?void 0:r.domain)!=null&&i.selection)){const{selection:o,...s}=n.scale.domain;n.scale.domain={...s,...o?{param:o}:{}}}if(XA(n))if(et(n.condition))n.condition=n.condition.map(o=>{const{selection:s,param:a,test:l,...u}=o;return a?o:{...u,test:mz(o,t)}});else{const{selection:o,param:s,test:a,...l}=ORe(n.condition,t);n.condition=s?n.condition:{...l,test:mz(n.condition,t)}}return n}function LRe(e){const t=e.extent;if(t!=null&&t.selection){const{selection:n,...r}=t;return{...e,extent:{...r,param:n}}}return e}function mz(e,t){const n=r=>ow(r,i=>{var o;const s=t.emptySelections[i]??!0,a={param:i,empty:s};return(o=t.selectionPredicates)[i]??(o[i]=[]),t.selectionPredicates[i].push(a),a});return e.selection?n(e.selection):ow(e.test||e.filter,r=>r.selection?n(r.selection):r)}class gz extends iQ{map(t,n){const r=n.selections??[];if(t.params&&!sm(t)){const i=[];for(const o of t.params)tQ(o)?r.push(o):i.push(o);t.params=i}return n.selections=r,super.map(t,n)}mapUnit(t,n){const r=n.selections;if(!r||!r.length)return t;const i=(n.path??[]).concat(t.name),o=[];for(const s of r)if(!s.views||!s.views.length)o.push(s);else for(const a of s.views)(Bt(a)&&(a===t.name||i.includes(a))||et(a)&&a.map(l=>i.indexOf(l)).every((l,u,c)=>l!==-1&&(u===0||l>c[u-1])))&&o.push(s);return o.length&&(t.params=o),t}}for(const e of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const t=gz.prototype[e];gz.prototype[e]=function(n,r){return t.call(this,n,NPt(n,r))}}function NPt(e,t){return e.name?{...t,path:(t.path??[]).concat(e.name)}:t}function FRe(e,t){t===void 0&&(t=IRe(e.config));const n=BPt(e,t),{width:r,height:i}=e,o=jPt(n,{width:r,height:i,autosize:e.autosize},t);return{...n,...o?{autosize:o}:{}}}const OPt=new hPt,LPt=new PPt,FPt=new gz;function BPt(e,t={}){const n={config:t};return FPt.map(OPt.map(LPt.map(e,n),n),n)}function $de(e){return Bt(e)?{type:e}:e??{}}function jPt(e,t,n){let{width:r,height:i}=t;const o=sm(e)||aL(e),s={};o?r=="container"&&i=="container"?(s.type="fit",s.contains="padding"):r=="container"?(s.type="fit-x",s.contains="padding"):i=="container"&&(s.type="fit-y",s.contains="padding"):(r=="container"&&(xt(rde("width")),r=void 0),i=="container"&&(xt(rde("height")),i=void 0));const a={type:"pad",...s,...n?$de(n.autosize):{},...$de(e.autosize)};if(a.type==="fit"&&!o&&(xt($Rt),a.type="pad"),r=="container"&&!(a.type=="fit"||a.type=="fit-x")&&xt(ide("width")),i=="container"&&!(a.type=="fit"||a.type=="fit-y")&&xt(ide("height")),!wu(a,{type:"pad"}))return a}function zPt(e){return["fit","fit-x","fit-y"].includes(e)}function UPt(e){return e?`fit-${HO(e)}`:"fit"}const HPt=["background","padding"];function Mde(e,t){const n={};for(const r of HPt)e&&e[r]!==void 0&&(n[r]=yu(e[r]));return t&&(n.params=e.params),n}class am{constructor(t={},n={}){this.explicit=t,this.implicit=n}clone(){return new am(Dn(this.explicit),Dn(this.implicit))}combine(){return{...this.explicit,...this.implicit}}get(t){return vo(this.explicit[t],this.implicit[t])}getWithExplicit(t){return this.explicit[t]!==void 0?{explicit:!0,value:this.explicit[t]}:this.implicit[t]!==void 0?{explicit:!1,value:this.implicit[t]}:{explicit:!1,value:void 0}}setWithExplicit(t,{value:n,explicit:r}){n!==void 0&&this.set(t,n,r)}set(t,n,r){return delete this[r?"implicit":"explicit"][t],this[r?"explicit":"implicit"][t]=n,this}copyKeyFromSplit(t,{explicit:n,implicit:r}){n[t]!==void 0?this.set(t,n[t],!0):r[t]!==void 0&&this.set(t,r[t],!1)}copyKeyFromObject(t,n){n[t]!==void 0&&this.set(t,n[t],!0)}copyAll(t){for(const n of mt(t.combine())){const r=t.getWithExplicit(n);this.setWithExplicit(n,r)}}}function ff(e){return{explicit:!0,value:e}}function hu(e){return{explicit:!1,value:e}}function BRe(e){return(t,n,r,i)=>{const o=e(t.value,n.value);return o>0?t:o<0?n:lL(t,n,r,i)}}function lL(e,t,n,r){return e.explicit&&t.explicit&&xt(xDt(n,r,e.value,t.value)),e}function Qg(e,t,n,r,i=lL){return e===void 0||e.value===void 0?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:wu(e.value,t.value)?e:i(e,t,n,r)}class VPt extends am{constructor(t={},n={},r=!1){super(t,n),this.explicit=t,this.implicit=n,this.parseNothing=r}clone(){const t=super.clone();return t.parseNothing=this.parseNothing,t}}function nx(e){return yt(e,"url")}function mC(e){return yt(e,"values")}function jRe(e){return yt(e,"name")&&!nx(e)&&!mC(e)&&!Eg(e)}function Eg(e){return e&&(zRe(e)||URe(e)||sQ(e))}function zRe(e){return yt(e,"sequence")}function URe(e){return yt(e,"sphere")}function sQ(e){return yt(e,"graticule")}var Bi;(function(e){e[e.Raw=0]="Raw",e[e.Main=1]="Main",e[e.Row=2]="Row",e[e.Column=3]="Column",e[e.Lookup=4]="Lookup",e[e.PreFilterInvalid=5]="PreFilterInvalid",e[e.PostFilterInvalid=6]="PostFilterInvalid"})(Bi||(Bi={}));function HRe({invalid:e,isPath:t}){switch(FIe(e,{isPath:t})){case"filter":return{marks:"exclude-invalid-values",scales:"exclude-invalid-values"};case"break-paths-show-domains":return{marks:t?"include-invalid-values":"exclude-invalid-values",scales:"include-invalid-values"};case"break-paths-filter-domains":return{marks:t?"include-invalid-values":"exclude-invalid-values",scales:"exclude-invalid-values"};case"show":return{marks:"include-invalid-values",scales:"include-invalid-values"}}}function WPt(e){const{marks:t,scales:n}=HRe(e);return t===n?Bi.Main:n==="include-invalid-values"?Bi.PreFilterInvalid:Bi.PostFilterInvalid}class Vr{constructor(t,n){this.debugName=n,this._children=[],this._parent=null,t&&(this.parent=t)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(t){this._parent=t,t&&t.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(t,n){if(this._children.includes(t)){xt(KRt);return}n!==void 0?this._children.splice(n,0,t):this._children.push(t)}removeChild(t){const n=this._children.indexOf(t);return this._children.splice(n,1),n}remove(){let t=this._parent.removeChild(this);for(const n of this._children)n._parent=this._parent,this._parent.addChild(n,t++)}insertAsParentOf(t){const n=t.parent;n.removeChild(this),this.parent=n,t.parent=this}swapWithParent(){const t=this._parent,n=t.parent;for(const i of this._children)i.parent=t;this._children=[],t.removeChild(this);const r=t.parent.removeChild(t);this._parent=n,n.addChild(this,r),t.parent=this}}class zl extends Vr{clone(){const t=new this.constructor;return t.debugName=`clone_${this.debugName}`,t._source=this._source,t._name=`clone_${this._name}`,t.type=this.type,t.refCounts=this.refCounts,t.refCounts[t._name]=0,t}constructor(t,n,r,i){super(t,n),this.type=r,this.refCounts=i,this._source=this._name=n,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){return this._hash===void 0&&(this._hash=`Output ${B3e()}`),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(t){this._source=t}}function AB(e){return e.as!==void 0}function Pde(e){return`${e}_end`}class Ff extends Vr{clone(){return new Ff(null,Dn(this.timeUnits))}constructor(t,n){super(t),this.timeUnits=n}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,o,s)=>{const{field:a,timeUnit:l}=o;if(l){let u;if(mb(l)){if(Li(n)){const{mark:c,markDef:d,config:f}=n,h=Xg({fieldDef:o,markDef:d,config:f});(pC(c)||h)&&(u={timeUnit:ms(l),field:a})}}else u={as:Ot(o,{forAs:!0}),field:a,timeUnit:l};if(Li(n)){const{mark:c,markDef:d,config:f}=n,h=Xg({fieldDef:o,markDef:d,config:f});pC(c)&&bo(s)&&h!==.5&&(u.rectBandPosition=h)}u&&(i[ir(u)]=u)}return i},{});return Yr(r)?null:new Ff(t,r)}static makeFromTransform(t,n){const{timeUnit:r,...i}={...n},o=ms(r),s={...i,timeUnit:o};return new Ff(t,{[ir(s)]:s})}merge(t){this.timeUnits={...this.timeUnits};for(const n in t.timeUnits)this.timeUnits[n]||(this.timeUnits[n]=t.timeUnits[n]);for(const n of t.children)t.removeChild(n),n.parent=this;t.remove()}removeFormulas(t){const n={};for(const[r,i]of Yg(this.timeUnits)){const o=AB(i)?i.as:`${i.field}_end`;t.has(o)||(n[r]=i)}this.timeUnits=n}producedFields(){return new Set(Ks(this.timeUnits).map(t=>AB(t)?t.as:Pde(t.field)))}dependentFields(){return new Set(Ks(this.timeUnits).map(t=>t.field))}hash(){return`TimeUnit ${ir(this.timeUnits)}`}assemble(){const t=[];for(const n of Ks(this.timeUnits)){const{rectBandPosition:r}=n,i=ms(n.timeUnit);if(AB(n)){const{field:o,as:s}=n,{unit:a,utc:l,...u}=i,c=[s,`${s}_end`];t.push({field:Ec(o),type:"timeunit",...a?{units:GO(a)}:{},...l?{timezone:"utc"}:{},...u,as:c}),t.push(...Nde(c,r,i))}else if(n){const{field:o}=n,s=o.replaceAll("\\.","."),a=VRe({timeUnit:i,field:s}),l=Pde(s);t.push({type:"formula",expr:a,as:l}),t.push(...Nde([s,l],r,i))}}return t}}const uL="offsetted_rect_start",cL="offsetted_rect_end";function VRe({timeUnit:e,field:t,reverse:n}){const{unit:r,utc:i}=e,o=wIe(r),{part:s,step:a}=SIe(o,e.step);return`${i?"utcOffset":"timeOffset"}('${s}', ${Fr(t)}, ${n?-a:a})`}function Nde([e,t],n,r){if(n!==void 0&&n!==.5){const i=Fr(e),o=Fr(t);return[{type:"formula",expr:Ode([VRe({timeUnit:r,field:e,reverse:!0}),i],n+.5),as:`${e}_${uL}`},{type:"formula",expr:Ode([i,o],n+.5),as:`${e}_${cL}`}]}return[]}function Ode([e,t],n){return`${1-n} * ${e} + ${n} * ${t}`}const e2="_tuple_fields";class qPt{constructor(...t){this.items=t,this.hasChannel={},this.hasField={},this.hasSelectionId=!1}}const GPt={defined:()=>!0,parse:(e,t,n)=>{const r=t.name,i=t.project??(t.project=new qPt),o={},s={},a=new Set,l=(p,m)=>{const g=m==="visual"?p.channel:p.field;let y=Ii(`${r}_${g}`);for(let v=1;a.has(y);v++)y=Ii(`${r}_${g}_${v}`);return a.add(y),{[m]:y}},u=t.type,c=e.config.selection[u],d=n.value!==void 0?jt(n.value):null;let{fields:f,encodings:h}=Ft(n.select)?n.select:{};if(!f&&!h&&d){for(const p of d)if(Ft(p))for(const m of mt(p))sRt(m)?(h||(h=[])).push(m):u==="interval"?(xt(URt),h=c.encodings):(f??(f=[])).push(m)}!f&&!h&&(h=c.encodings,"fields"in c&&(f=c.fields));for(const p of h??[]){const m=e.fieldDef(p);if(m){let g=m.field;if(m.aggregate){xt(MRt(p,m.aggregate));continue}else if(!g){xt(sde(p));continue}if(m.timeUnit&&!mb(m.timeUnit)){g=e.vgField(p);const y={timeUnit:m.timeUnit,as:g,field:m.field};s[ir(y)]=y}if(!o[g]){const y=u==="interval"&&xh(p)&&Ad(e.getScaleComponent(p).get("type"))?"R":m.bin?"R-RE":"E",v={field:g,channel:p,type:y,index:i.items.length};v.signals={...l(v,"data"),...l(v,"visual")},i.items.push(o[g]=v),i.hasField[g]=o[g],i.hasSelectionId=i.hasSelectionId||g===Rd,W3e(p)?(v.geoChannel=p,v.channel=V3e(p),i.hasChannel[v.channel]=o[g]):i.hasChannel[p]=o[g]}}else xt(sde(p))}for(const p of f??[]){if(i.hasField[p])continue;const m={type:"E",field:p,index:i.items.length};m.signals={...l(m,"data")},i.items.push(m),i.hasField[p]=m,i.hasSelectionId=i.hasSelectionId||p===Rd}d&&(t.init=d.map(p=>i.items.map(m=>Ft(p)?p[m.geoChannel||m.channel]!==void 0?p[m.geoChannel||m.channel]:p[m.field]:p))),Yr(s)||(i.timeUnit=new Ff(null,s))},signals:(e,t,n)=>{const r=t.name+e2;return n.filter(o=>o.name===r).length>0||t.project.hasSelectionId?n:n.concat({name:r,value:t.project.items.map(YRe)})}},WRe="_curr",XR="anim_value",A1="anim_clock",yz="eased_anim_clock",qRe="min_extent",GRe="max_range_extent",kB="last_tick_at",IB="is_playing",YPt=1/60*1e3,KPt=(e,t)=>[{name:yz,update:A1},{name:`${e}_domain`,init:`domain('${t}')`},{name:qRe,init:`extent(${e}_domain)[0]`},{name:GRe,init:`extent(range('${t}'))[1]`},{name:XR,update:`invert('${t}', ${yz})`}],XPt={defined:e=>e.type==="point",topLevelSignals:(e,t,n)=>(Bf(t)&&(n=n.concat([{name:A1,init:"0",on:[{events:{type:"timer",throttle:YPt},update:`${IB} ? (${A1} + (now() - ${kB}) > ${GRe} ? 0 : ${A1} + (now() - ${kB})) : ${A1}`}]},{name:kB,init:"now()",on:[{events:[{signal:A1},{signal:IB}],update:"now()"}]},{name:IB,init:"true"}])),n),signals:(e,t,n)=>{const r=t.name,i=r+e2,o=t.project,s="(item().isVoronoi ? datum.datum : datum)",a=Ks(e.component.selection??{}).reduce((c,d)=>d.type==="interval"?c.concat(d.name+lw):c,[]).map(c=>`indexof(item().mark.name, '${c}') < 0`).join(" && "),l=`datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0${a?` && ${a}`:""}`;let u=`unit: ${Wy(e)}, `;if(t.project.hasSelectionId)u+=`${Rd}: ${s}[${Rt(Rd)}]`;else if(Bf(t))u+=`fields: ${i}, values: [${XR} ? ${XR} : ${qRe}]`;else{const c=o.items.map(d=>{const f=e.fieldDef(d.channel);return f!=null&&f.bin?`[${s}[${Rt(e.vgField(d.channel,{}))}], ${s}[${Rt(e.vgField(d.channel,{binSuffix:"end"}))}]]`:`${s}[${Rt(d.field)}]`}).join(", ");u+=`fields: ${i}, values: [${c}]`}if(Bf(t))return n.concat(KPt(t.name,e.scaleName(w0)),[{name:r+Up,on:[{events:[{signal:yz},{signal:XR}],update:`{${u}}`,force:!0}]}]);{const c=t.events;return n.concat([{name:r+Up,on:c?[{events:c,update:`${l} ? {${u}} : null`,force:!0}]:[]}])}}};function YRe(e){const{signals:t,hasLegend:n,index:r,...i}=e;return i.field=Ec(i.field),i}function Cv(e,t=!0,n=Ma){if(et(e)){const r=e.map(i=>Cv(i,t,n));return t?`[${r.join(", ")}]`:r}else if(pb(e))return n(t?_v(e):qDt(e));return t?n(Kr(e)):e}function QPt(e,t){for(const n of Ks(e.component.selection??{})){const r=n.name;let i=`${r}${Up}, ${n.resolve==="global"?"true":`{unit: ${Wy(e)}}`}`;for(const o of fL)o.defined(n)&&(o.signals&&(t=o.signals(e,n,t)),o.modifyExpr&&(i=o.modifyExpr(e,n,i)));t.push({name:r+SNt,on:[{events:{signal:n.name+Up},update:`modify(${Rt(n.name+Av)}, ${i})`}]})}return aQ(t)}function JPt(e,t){if(e.component.selection&&mt(e.component.selection).length){const n=Rt(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:v0("pointermove","scope"),update:`isTuple(facet) ? facet : group(${n}).datum`}]})}return aQ(t)}function ZPt(e,t){let n=!1;for(const r of Ks(e.component.selection??{})){const i=r.name,o=Rt(i+Av);if(t.filter(a=>a.name===i).length===0){const a=r.resolve==="global"?"union":r.resolve,l=r.type==="point"?", true, true)":")";t.push({name:r.name,update:`${dDe}(${o}, ${Rt(a)}${l}`})}n=!0;for(const a of fL)a.defined(r)&&a.topLevelSignals&&(t=a.topLevelSignals(e,r,t))}return n&&t.filter(i=>i.name==="unit").length===0&&t.unshift({name:"unit",value:{},on:[{events:"pointermove",update:"isTuple(group()) ? group() : unit"}]}),aQ(t)}function eNt(e,t){const n=[],r=[],i=Wy(e,{escape:!1});for(const o of Ks(e.component.selection??{})){const s={name:o.name+Av};if(o.project.hasSelectionId&&(s.transform=[{type:"collect",sort:{field:Rd}}]),o.init){const l=o.project.items.map(YRe);s.values=o.project.hasSelectionId?o.init.map(u=>({unit:i,[Rd]:Cv(u,!1)[0]})):o.init.map(u=>({unit:i,fields:l,values:Cv(u,!1)}))}if([...n,...t].filter(l=>l.name===o.name+Av).length||n.push(s),Bf(o)&&t.length){const l=e.lookupDataSource(e.getDataName(Bi.Main)),u=t.find(d=>d.name===l),c=u.transform.find(d=>d.type==="filter"&&d.expr.includes("vlSelectionTest"));if(c){u.transform=u.transform.filter(f=>f!==c);const d={name:u.name+WRe,source:u.name,transform:[c]};r.push(d)}}}return n.concat(t,r)}function KRe(e,t){for(const n of Ks(e.component.selection??{}))for(const r of fL)r.defined(n)&&r.marks&&(t=r.marks(e,n,t));return t}function tNt(e,t){for(const n of e.children)Li(n)&&(t=KRe(n,t));return t}function nNt(e,t,n,r){const i=_De(e,t.param,t);return{signal:Ad(n.get("type"))&&et(r)&&r[0]>r[1]?`isValid(${i}) && reverse(${i})`:i}}function aQ(e){return e.map(t=>(t.on&&!t.on.length&&delete t.on,t))}const xp={defined:e=>e.type==="interval"&&e.resolve==="global"&&e.bind&&e.bind==="scales",parse:(e,t)=>{const n=t.scales=[];for(const r of t.project.items){const i=r.channel;if(!xh(i))continue;const o=e.getScaleComponent(i),s=o?o.get("type"):void 0;if(s=="sequential"&&xt(LRt),!o||!Ad(s)){xt(ORt);continue}o.set("selectionExtent",{param:t.name,field:r.field},!0),n.push(r)}},topLevelSignals:(e,t,n)=>{const r=t.scales.filter(s=>n.filter(a=>a.name===s.signals.data).length===0);if(!e.parent||bz(e)||r.length===0)return n;const i=n.find(s=>s.name===t.name);let o=i.update;if(o.includes(dDe))i.update=`{${r.map(s=>`${Rt(Ec(s.field))}: ${s.signals.data}`).join(", ")}}`;else{for(const s of r){const a=`${Rt(Ec(s.field))}: ${s.signals.data}`;o.includes(a)||(o=`${o.substring(0,o.length-1)}, ${a}}`)}i.update=o}return n.concat(r.map(s=>({name:s.signals.data})))},signals:(e,t,n)=>{if(e.parent&&!bz(e))for(const r of t.scales){const i=n.find(o=>o.name===r.signals.data);i.push="outer",delete i.value,delete i.update}return n}};function vz(e,t){return`domain(${Rt(e.scaleName(t))})`}function bz(e){return e.parent&&b_(e.parent)&&(!e.parent.parent||bz(e.parent.parent))}const lw="_brush",XRe="_scale_trigger",DE="geo_interval_init_tick",QRe="_init",rNt="_center",iNt={defined:e=>e.type==="interval",parse:(e,t,n)=>{var r;if(e.hasProjection){const i={...Ft(n.select)?n.select:{}};i.fields=[Rd],i.encodings||(i.encodings=n.value?mt(n.value):[jd,Bd]),n.select={type:"interval",...i}}if(t.translate&&!xp.defined(t)){const i=`!event.item || event.item.mark.name !== ${Rt(t.name+lw)}`;for(const o of t.events){if(!o.between){xt(`${o} is not an ordered event stream for interval selections.`);continue}const s=jt((r=o.between[0]).filter??(r.filter=[]));s.includes(i)||s.push(i)}}},signals:(e,t,n)=>{const r=t.name,i=r+Up,o=Ks(t.project.hasChannel).filter(a=>a.channel===Di||a.channel===_s),s=t.init?t.init[0]:null;if(n.push(...o.reduce((a,l)=>a.concat(oNt(e,t,l,s&&s[l.index])),[])),e.hasProjection){const a=Rt(e.projectionName()),l=e.projectionName()+rNt,{x:u,y:c}=t.project.hasChannel,d=u&&u.signals.visual,f=c&&c.signals.visual,h=u?s&&s[u.index]:`${l}[0]`,p=c?s&&s[c.index]:`${l}[1]`,m=_=>e.getSizeSignalRef(_).signal,g=`[[${d?d+"[0]":"0"}, ${f?f+"[0]":"0"}],[${d?d+"[1]":m("width")}, ${f?f+"[1]":m("height")}]]`;s&&(n.unshift({name:r+QRe,init:`[scale(${a}, [${u?h[0]:h}, ${c?p[0]:p}]), scale(${a}, [${u?h[1]:h}, ${c?p[1]:p}])]`}),(!u||!c)&&(n.find(x=>x.name===l)||n.unshift({name:l,update:`invert(${a}, [${m("width")}/2, ${m("height")}/2])`})));const y=`intersect(${g}, {markname: ${Rt(e.getName("marks"))}}, unit.mark)`,v=`{unit: ${Wy(e)}}`,w=`vlSelectionTuples(${y}, ${v})`,E=o.map(_=>_.signals.visual);return n.concat({name:i,on:[{events:[...E.length?[{signal:E.join(" || ")}]:[],...s?[{signal:DE}]:[]],update:w}]})}else{if(!xp.defined(t)){const u=r+XRe,c=o.map(d=>{const f=d.channel,{data:h,visual:p}=d.signals,m=Rt(e.scaleName(f)),g=e.getScaleComponent(f).get("type"),y=Ad(g)?"+":"";return`(!isArray(${h}) || (${y}invert(${m}, ${p})[0] === ${y}${h}[0] && ${y}invert(${m}, ${p})[1] === ${y}${h}[1]))`});c.length&&n.push({name:u,value:{},on:[{events:o.map(d=>({scale:e.scaleName(d.channel)})),update:c.join(" && ")+` ? ${u} : {}`}]})}const a=o.map(u=>u.signals.data),l=`unit: ${Wy(e)}, fields: ${r+e2}, values`;return n.concat({name:i,...s?{init:`{${l}: ${Cv(s)}}`}:{},...a.length?{on:[{events:[{signal:a.join(" || ")}],update:`${a.join(" && ")} ? {${l}: [${a}]} : null`}]}:{}})}},topLevelSignals:(e,t,n)=>(Li(e)&&e.hasProjection&&t.init&&(n.filter(i=>i.name===DE).length||n.unshift({name:DE,value:null,on:[{events:"timer{1}",update:`${DE} === null ? {} : ${DE}`}]})),n),marks:(e,t,n)=>{const r=t.name,{x:i,y:o}=t.project.hasChannel,s=i==null?void 0:i.signals.visual,a=o==null?void 0:o.signals.visual,l=`data(${Rt(t.name+Av)})`;if(xp.defined(t)||!i&&!o)return n;const u={x:i!==void 0?{signal:`${s}[0]`}:{value:0},y:o!==void 0?{signal:`${a}[0]`}:{value:0},x2:i!==void 0?{signal:`${s}[1]`}:{field:{group:"width"}},y2:o!==void 0?{signal:`${a}[1]`}:{field:{group:"height"}}};if(t.resolve==="global")for(const g of mt(u))u[g]=[{test:`${l}.length && ${l}[0].unit === ${Wy(e)}`,...u[g]},{value:0}];const{fill:c,fillOpacity:d,cursor:f,...h}=t.mark,p=mt(h).reduce((g,y)=>(g[y]=[{test:[i!==void 0&&`${s}[0] !== ${s}[1]`,o!==void 0&&`${a}[0] !== ${a}[1]`].filter(v=>v).join(" && "),value:h[y]},{value:null}],g),{}),m=f??(t.translate?"move":null);return[{name:`${r+lw}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:c},fillOpacity:{value:d}},update:u}},...n,{name:r+lw,type:"rect",clip:!0,encode:{enter:{...m?{cursor:{value:m}}:{},fill:{value:"transparent"}},update:{...u,...p}}}]}};function oNt(e,t,n,r){const i=!e.hasProjection,o=n.channel,s=n.signals.visual,a=Rt(i?e.scaleName(o):e.projectionName()),l=f=>`scale(${a}, ${f})`,u=e.getSizeSignalRef(o===Di?"width":"height").signal,c=`${o}(unit)`,d=t.events.reduce((f,h)=>[...f,{events:h.between[0],update:`[${c}, ${c}]`},{events:h,update:`[${s}[0], clamp(${c}, 0, ${u})]`}],[]);if(i){const f=n.signals.data,h=xp.defined(t),p=e.getScaleComponent(o),m=p?p.get("type"):void 0,g=r?{init:Cv(r,!0,l)}:{value:[]};return d.push({events:{signal:t.name+XRe},update:Ad(m)?`[${l(`${f}[0]`)}, ${l(`${f}[1]`)}]`:"[0, 0]"}),h?[{name:f,on:[]}]:[{name:s,...g,on:d},{name:f,...r?{init:Cv(r)}:{},on:[{events:{signal:s},update:`${s}[0] === ${s}[1] ? null : invert(${a}, ${s})`}]}]}else{const f=o===Di?0:1,h=t.name+QRe,p=r?{init:`[${h}[0][${f}], ${h}[1][${f}]]`}:{value:[]};return[{name:s,...p,on:d}]}}function m_({model:e,channelDef:t,vgChannel:n,invalidValueRef:r,mainRefFn:i}){const o=XA(t)&&t.condition;let s=[];o&&(s=jt(o).map(u=>{const c=i(u);if(q$t(u)){const{param:d,empty:f}=u;return{test:xDe(e,{param:d,empty:f}),...c}}else return{test:NM(e,u.test),...c}})),r!==void 0&&s.push(r);const a=i(t);return a!==void 0&&s.push(a),s.length>1||s.length===1&&s[0].test?{[n]:s}:s.length===1?{[n]:s[0]}:{}}function lQ(e,t="text"){const n=e.encoding[t];return m_({model:e,channelDef:n,vgChannel:t,mainRefFn:r=>dL(r,e.config),invalidValueRef:void 0})}function dL(e,t,n="datum"){if(e){if(kd(e))return xi(e.value);if($n(e)){const{format:r,formatType:i}=kM(e);return UX({fieldOrDatumDef:e,format:r,formatType:i,expr:n,config:t})}}}function JRe(e,t={}){const{encoding:n,markDef:r,config:i,stack:o}=e,s=n.tooltip;if(et(s))return{tooltip:Lde({tooltip:s},o,i,t)};{const a=t.reactiveGeom?"datum.datum":"datum";return m_({model:e,channelDef:s,vgChannel:"tooltip",mainRefFn:u=>{const c=dL(u,i,a);if(c)return c;if(u===null)return;let d=Gr("tooltip",r,i);if(d===!0&&(d={content:"encoding"}),Bt(d))return{value:d};if(Ft(d))return sn(d)?d:d.content==="encoding"?Lde(n,o,i,t):{signal:a}},invalidValueRef:void 0})}}function ZRe(e,t,n,{reactiveGeom:r}={}){const i={...n,...n.tooltipFormat},o=new Set,s=r?"datum.datum":"datum",a=[];function l(c,d){const f=db(d),h=ll(c)?c:{...c,type:e[f].type},p=h.title||qX(h,i),m=jt(p).join(", ").replaceAll(/"/g,'\\"');let g;if(bo(d)){const y=d==="x"?"x2":"y2",v=Id(e[y]);if(Ns(h.bin)&&v){const w=Ot(h,{expr:s}),E=Ot(v,{expr:s}),{format:_,formatType:x}=kM(h);g=YA(w,E,_,x,i),o.add(y)}}if((bo(d)||d===Mc||d===Fd)&&t&&t.fieldChannel===d&&t.offset==="normalize"){const{format:y,formatType:v}=kM(h);g=UX({fieldOrDatumDef:h,format:y,formatType:v,expr:s,config:i,normalizeStack:!0}).signal}g??(g=dL(h,i,s).signal),a.push({channel:d,key:m,value:g})}YX(e,(c,d)=>{St(c)?l(c,d):tL(c)&&l(c.condition,d)});const u={};for(const{channel:c,key:d,value:f}of a)!o.has(c)&&!u[d]&&(u[d]=f);return u}function Lde(e,t,n,{reactiveGeom:r}={}){const i=ZRe(e,t,n,{reactiveGeom:r}),o=Yg(i).map(([s,a])=>`"${s}": ${a}`);return o.length>0?{signal:`{${o.join(", ")}}`}:void 0}function sNt(e){const{markDef:t,config:n}=e,r=Gr("aria",t,n);return r===!1?{}:{...r?{aria:r}:{},...aNt(e),...lNt(e)}}function aNt(e){const{mark:t,markDef:n,config:r}=e;if(r.aria===!1)return{};const i=Gr("ariaRoleDescription",n,r);return i!=null?{ariaRoleDescription:{value:i}}:Vt(IRt,t)?{}:{ariaRoleDescription:{value:t}}}function lNt(e){const{encoding:t,markDef:n,config:r,stack:i}=e,o=t.description;if(o)return m_({model:e,channelDef:o,vgChannel:"description",mainRefFn:l=>dL(l,e.config),invalidValueRef:void 0});const s=Gr("description",n,r);if(s!=null)return{description:xi(s)};if(r.aria===!1)return{};const a=ZRe(t,i,r);if(!Yr(a))return{description:{signal:Yg(a).map(([l,u],c)=>`"${c>0?"; ":""}${l}: " + (${u})`).join(" + ")}}}function Us(e,t,n={}){const{markDef:r,encoding:i,config:o}=t,{vgChannel:s}=n;let{defaultRef:a,defaultValue:l}=n;const u=i[e];a===void 0&&(l??(l=Gr(e,r,o,{vgChannel:s,ignoreVgConfig:!XA(u)})),l!==void 0&&(a=xi(l)));const c={markDef:r,config:o,scaleName:t.scaleName(e),scale:t.getScaleComponent(e)},d=jIe({...c,scaleChannel:e,channelDef:u});return m_({model:t,channelDef:u,vgChannel:s??e,invalidValueRef:d,mainRefFn:h=>zX({...c,channel:e,channelDef:h,stack:null,defaultRef:a})})}function eDe(e,t={filled:void 0}){const{markDef:n,encoding:r,config:i}=e,{type:o}=n,s=t.filled??Gr("filled",n,i),a=Jn(["bar","point","circle","square","geoshape"],o)?"transparent":void 0,l=Gr(s===!0?"color":void 0,n,i,{vgChannel:"fill"})??i.mark[s===!0&&"color"]??a,u=Gr(s===!1?"color":void 0,n,i,{vgChannel:"stroke"})??i.mark[s===!1&&"color"],c=s?"fill":"stroke",d={...l?{fill:xi(l)}:{},...u?{stroke:xi(u)}:{}};return n.color&&(s?n.fill:n.stroke)&&xt(dIe("property",{fill:"fill"in n,stroke:"stroke"in n})),{...d,...Us("color",e,{vgChannel:c,defaultValue:s?l:u}),...Us("fill",e,{defaultValue:r.fill?l:void 0}),...Us("stroke",e,{defaultValue:r.stroke?u:void 0})}}function uNt(e){const{encoding:t,mark:n}=e,r=t.order;return!C0(n)&&kd(r)?m_({model:e,channelDef:r,vgChannel:"zindex",mainRefFn:i=>xi(i.value),invalidValueRef:void 0}):{}}function rx({channel:e,markDef:t,encoding:n={},model:r,bandPosition:i}){const o=`${e}Offset`,s=t[o],a=n[o];if((o==="xOffset"||o==="yOffset")&&a)return{offsetType:"encoding",offset:zX({channel:o,channelDef:a,markDef:t,config:r==null?void 0:r.config,scaleName:r.scaleName(o),scale:r.getScaleComponent(o),stack:null,defaultRef:xi(s),bandPosition:i})};const l=t[o];return l?{offsetType:"visual",offset:l}:{}}function nl(e,t,{defaultPos:n,vgChannel:r}){const{encoding:i,markDef:o,config:s,stack:a}=t,l=i[e],u=i[wh(e)],c=t.scaleName(e),d=t.getScaleComponent(e),{offset:f,offsetType:h}=rx({channel:e,markDef:o,encoding:i,model:t,bandPosition:.5}),p=uQ({model:t,defaultPos:n,channel:e,scaleName:c,scale:d}),m=!l&&bo(e)&&(i.latitude||i.longitude)?{field:t.getName(e)}:cNt({channel:e,channelDef:l,channel2Def:u,markDef:o,config:s,scaleName:c,scale:d,stack:a,offset:f,defaultRef:p,bandPosition:h==="encoding"?0:void 0});return m?{[r||e]:m}:void 0}function cNt(e){const{channel:t,channelDef:n,scaleName:r,stack:i,offset:o,markDef:s}=e;if($n(n)&&i&&t===i.fieldChannel){if(St(n)){let a=n.bandPosition;if(a===void 0&&s.type==="text"&&(t==="radius"||t==="theta")&&(a=.5),a!==void 0)return TM({scaleName:r,fieldOrDatumDef:n,startSuffix:"start",bandPosition:a,offset:o})}return Hy(n,r,{suffix:"end"},{offset:o})}return jX(e)}function uQ({model:e,defaultPos:t,channel:n,scaleName:r,scale:i}){const{markDef:o,config:s}=e;return()=>{const a=db(n),l=Kg(n),u=Gr(n,o,s,{vgChannel:l});if(u!==void 0)return iT(n,u);switch(t){case"zeroOrMin":return Fde({scaleName:r,scale:i,mode:"zeroOrMin",mainChannel:a,config:s});case"zeroOrMax":return Fde({scaleName:r,scale:i,mode:{zeroOrMax:{widthSignal:e.width.signal,heightSignal:e.height.signal}},mainChannel:a,config:s});case"mid":return{...e[Yl(n)],mult:.5}}}}function Fde({mainChannel:e,config:t,...n}){const r=BIe(n),{mode:i}=n;if(r)return r;switch(e){case"radius":{if(i==="zeroOrMin")return{value:0};const{widthSignal:o,heightSignal:s}=i.zeroOrMax;return{signal:`min(${o},${s})/2`}}case"theta":return i==="zeroOrMin"?{value:0}:{signal:"2*PI"};case"x":return i==="zeroOrMin"?{value:0}:{field:{group:"width"}};case"y":return i==="zeroOrMin"?{field:{group:"height"}}:{value:0}}}const dNt={left:"x",center:"xc",right:"x2"},fNt={top:"y",middle:"yc",bottom:"y2"};function tDe(e,t,n,r="middle"){if(e==="radius"||e==="theta")return Kg(e);const i=e==="x"?"align":"baseline",o=Gr(i,t,n);let s;return sn(o)?(xt(cDt(i)),s=void 0):s=o,e==="x"?dNt[s||(r==="top"?"left":"center")]:fNt[s||r]}function $M(e,t,{defaultPos:n,defaultPos2:r,range:i}){return i?nDe(e,t,{defaultPos:n,defaultPos2:r}):nl(e,t,{defaultPos:n})}function nDe(e,t,{defaultPos:n,defaultPos2:r}){const{markDef:i,config:o}=t,s=wh(e),a=Yl(e),l=hNt(t,r,s),u=l[a]?tDe(e,i,o):Kg(e);return{...nl(e,t,{defaultPos:n,vgChannel:u}),...l}}function hNt(e,t,n){const{encoding:r,mark:i,markDef:o,stack:s,config:a}=e,l=db(n),u=Yl(n),c=Kg(n),d=r[l],f=e.scaleName(l),h=e.getScaleComponent(l),{offset:p}=n in r||n in o?rx({channel:n,markDef:o,encoding:r,model:e}):rx({channel:l,markDef:o,encoding:r,model:e});if(!d&&(n==="x2"||n==="y2")&&(r.latitude||r.longitude)){const g=Yl(n),y=e.markDef[g];return y!=null?{[g]:{value:y}}:{[c]:{field:e.getName(n)}}}const m=pNt({channel:n,channelDef:d,channel2Def:r[n],markDef:o,config:a,scaleName:f,scale:h,stack:s,offset:p,defaultRef:void 0});return m!==void 0?{[c]:m}:b3(n,o)||b3(n,{[n]:sz(n,o,a.style),[u]:sz(u,o,a.style)})||b3(n,a[i])||b3(n,a.mark)||{[c]:uQ({model:e,defaultPos:t,channel:n,scaleName:f,scale:h})()}}function pNt({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:o,scale:s,stack:a,offset:l,defaultRef:u}){return $n(t)&&a&&e.charAt(0)===a.fieldChannel.charAt(0)?Hy(t,o,{suffix:"start"},{offset:l}):jX({channel:e,channelDef:n,scaleName:o,scale:s,stack:a,markDef:r,config:i,offset:l,defaultRef:u})}function b3(e,t){const n=Yl(e),r=Kg(e);if(t[r]!==void 0)return{[r]:iT(e,t[r])};if(t[e]!==void 0)return{[r]:iT(e,t[e])};if(t[n]){const i=t[n];if(Sv(i))xt(iDt(n));else return{[n]:iT(e,i)}}}function zp(e,t){const{config:n,encoding:r,markDef:i}=e,o=i.type,s=wh(t),a=Yl(t),l=r[t],u=r[s],c=e.getScaleComponent(t),d=c?c.get("type"):void 0,f=i.orient,h=r[a]??r.size??Gr("size",i,n,{vgChannel:a}),p=K3e(t),m=o==="bar"&&(t==="x"?f==="vertical":f==="horizontal")||o==="tick"&&(t==="y"?f==="vertical":f==="horizontal");return St(l)&&(fi(l.bin)||Ns(l.bin)||l.timeUnit&&!u)&&!(h&&!Sv(h))&&!r[p]&&!vs(d)?yNt({fieldDef:l,fieldDef2:u,channel:t,model:e}):($n(l)&&vs(d)||m)&&!u?gNt(l,t,e):nDe(t,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function mNt(e,t,n,r,i,o,s){if(Sv(i))if(n){const l=n.get("type");if(l==="band"){let u=`bandwidth('${t}')`;i.band!==1&&(u=`${i.band} * ${u}`);const c=Zf("minBandSize",{type:s},r);return{signal:c?`max(${fd(c)}, ${u})`:u}}else i.band!==1&&(xt(pDt(l)),i=void 0)}else return{mult:i.band,field:{group:e}};else{if(sn(i))return i;if(i)return{value:i}}if(n){const l=n.get("range");if(hb(l)&&Sr(l.step))return{value:l.step-2}}if(!o){const{bandPaddingInner:l,barBandPaddingInner:u,rectBandPaddingInner:c,tickBandPaddingInner:d}=r.scale,f=vo(l,s==="tick"?d:s==="bar"?u:c);if(sn(f))return{signal:`(1 - (${f.signal})) * ${e}`};if(Sr(f))return{signal:`${1-f} * ${e}`}}return{value:hz(r.view,e)-2}}function gNt(e,t,n){var A,k;const{markDef:r,encoding:i,config:o,stack:s}=n,a=r.orient,l=n.scaleName(t),u=n.getScaleComponent(t),c=Yl(t),d=wh(t),f=K3e(t),h=n.scaleName(f),p=n.getScaleComponent(hX(t)),m=r.type==="tick"||a==="horizontal"&&t==="y"||a==="vertical"&&t==="x";let g;(i.size||r.size)&&(m?g=Us("size",n,{vgChannel:c,defaultRef:xi(r.size)}):xt(vDt(r.type)));const y=!!g,v=GIe({channel:t,fieldDef:e,markDef:r,config:o,scaleType:(A=u||p)==null?void 0:A.get("type"),useVlSizeChannel:m});g=g||{[c]:mNt(c,h||l,p||u,o,v,!!e,r.type)};const w=((k=u||p)==null?void 0:k.get("type"))==="band"&&Sv(v)&&!y?"top":"middle",E=tDe(t,r,o,w),_=E==="xc"||E==="yc",{offset:x,offsetType:S}=rx({channel:t,markDef:r,encoding:i,model:n,bandPosition:_?.5:0}),C=jX({channel:t,channelDef:e,markDef:r,config:o,scaleName:l,scale:u,stack:s,offset:x,defaultRef:uQ({model:n,defaultPos:"mid",channel:t,scaleName:l,scale:u}),bandPosition:_?S==="encoding"?0:.5:sn(v)?{signal:`(1-${v})/2`}:Sv(v)?(1-v.band)/2:0});if(c)return{[E]:C,...g};{const N=Kg(d),M=g[c],I=x?{...M,offset:x}:M;return{[E]:C,[N]:et(C)?[C[0],{...C[1],offset:I}]:{...C,offset:I}}}}function Bde(e,t,n,r,i,o,s){if(H3e(e))return 0;const a=e==="x"||e==="y2",l=a?-t/2:t/2;if(sn(n)||sn(i)||sn(r)||o){const u=fd(n),c=fd(i),d=fd(r),f=fd(o),p=o?`(${s} < ${f} ? ${a?"":"-"}0.5 * (${f} - (${s})) : ${l})`:l,m=d?`${d} + `:"",g=u?`(${u} ? -1 : 1) * `:"",y=c?`(${c} + ${p})`:p;return{signal:m+g+y}}else return i=i||0,r+(n?-i-l:+i+l)}function yNt({fieldDef:e,fieldDef2:t,channel:n,model:r}){var k;const{config:i,markDef:o,encoding:s}=r,a=r.getScaleComponent(n),l=r.scaleName(n),u=a?a.get("type"):void 0,c=a.get("reverse"),d=GIe({channel:n,fieldDef:e,markDef:o,config:i,scaleType:u}),f=(k=r.component.axes[n])==null?void 0:k[0],h=(f==null?void 0:f.get("translate"))??.5,p=bo(n)?Gr("binSpacing",o,i)??0:0,m=wh(n),g=Kg(n),y=Kg(m),v=Zf("minBandSize",o,i),{offset:w}=rx({channel:n,markDef:o,encoding:s,model:r,bandPosition:0}),{offset:E}=rx({channel:m,markDef:o,encoding:s,model:r,bandPosition:0}),_=j$t({fieldDef:e,scaleName:l}),x=Bde(n,p,c,h,w,v,_),S=Bde(m,p,c,h,E??w,v,_),C=sn(d)?{signal:`(1-${d.signal})/2`}:Sv(d)?(1-d.band)/2:.5,A=Xg({fieldDef:e,fieldDef2:t,markDef:o,config:i});if(fi(e.bin)||e.timeUnit){const N=e.timeUnit&&A!==.5;return{[y]:jde({fieldDef:e,scaleName:l,bandPosition:C,offset:S,useRectOffsetField:N}),[g]:jde({fieldDef:e,scaleName:l,bandPosition:sn(C)?{signal:`1-${C.signal}`}:1-C,offset:x,useRectOffsetField:N})}}else if(Ns(e.bin)){const N=Hy(e,l,{},{offset:S});if(St(t))return{[y]:N,[g]:Hy(t,l,{},{offset:x})};if(fb(e.bin)&&e.bin.step)return{[y]:N,[g]:{signal:`scale("${l}", ${Ot(e,{expr:"datum"})} + ${e.bin.step})`,offset:x}}}xt(pIe(m))}function jde({fieldDef:e,scaleName:t,bandPosition:n,offset:r,useRectOffsetField:i}){return TM({scaleName:t,fieldOrDatumDef:e,bandPosition:n,offset:r,...i?{startSuffix:uL,endSuffix:cL}:{}})}const vNt=new Set(["aria","width","height"]);function Pc(e,t){const{fill:n=void 0,stroke:r=void 0}=t.color==="include"?eDe(e):{};return{...bNt(e.markDef,t),...zde("fill",n),...zde("stroke",r),...Us("opacity",e),...Us("fillOpacity",e),...Us("strokeOpacity",e),...Us("strokeWidth",e),...Us("strokeDash",e),...uNt(e),...JRe(e),...lQ(e,"href"),...sNt(e)}}function zde(e,t){return t?{[e]:t}:{}}function bNt(e,t){return kRt.reduce((n,r)=>(!vNt.has(r)&&yt(e,r)&&t[r]!=="ignore"&&(n[r]=xi(e[r])),n),{})}function cQ(e){const{config:t,markDef:n}=e,r=new Set;if(e.forEachFieldDef((i,o)=>{var u;let s;if(!xh(o)||!(s=e.getScaleType(o)))return;const a=VO(i.aggregate),l=BX({scaleChannel:o,markDef:n,config:t,scaleType:s,isCountAggregate:a});if(L$t(l)){const c=e.vgField(o,{expr:"datum",binSuffix:(u=e.stack)!=null&&u.impute?"mid":void 0});c&&r.add(c)}}),r.size>0)return{defined:{signal:[...r].map(o=>YO(o,!0)).join(" && ")}}}function Ude(e,t){if(t!==void 0)return{[e]:xi(t)}}const RB="voronoi",rDe={defined:e=>e.type==="point"&&e.nearest,parse:(e,t)=>{if(t.events)for(const n of t.events)n.markname=e.getName(RB)},marks:(e,t,n)=>{const{x:r,y:i}=t.project.hasChannel,o=e.mark;if(C0(o))return xt(PRt(o)),n;const s={name:e.getName(RB),type:"path",interactive:!0,from:{data:e.getName("marks")},encode:{update:{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0},...JRe(e,{reactiveGeom:!0})}},transform:[{type:"voronoi",x:{expr:r||!i?"datum.datum.x || 0":"0"},y:{expr:i||!r?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]};let a=0,l=!1;return n.forEach((u,c)=>{const d=u.name??"";d===e.component.mark[0].name?a=c:d.includes(RB)&&(l=!0)}),l||n.splice(a+1,0,s),n}},iDe={defined:e=>e.type==="point"&&e.resolve==="global"&&e.bind&&e.bind!=="scales"&&!eQ(e.bind),parse:(e,t,n)=>fDe(t,n),topLevelSignals:(e,t,n)=>{const r=t.name,i=t.project,o=t.bind,s=t.init&&t.init[0],a=rDe.defined(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return i.items.forEach((l,u)=>{const c=Ii(`${r}_${l.field}`);n.filter(f=>f.name===c).length||n.unshift({name:c,...s?{init:Cv(s[u])}:{value:null},on:t.events?[{events:t.events,update:`datum && item().mark.marktype !== 'group' ? ${a}[${Rt(l.field)}] : null`}]:[],bind:o[l.field]??o[l.channel]??o})}),n},signals:(e,t,n)=>{const r=t.name,i=t.project,o=n.find(u=>u.name===r+Up),s=r+e2,a=i.items.map(u=>Ii(`${r}_${u.field}`)),l=a.map(u=>`${u} !== null`).join(" && ");return a.length&&(o.update=`${l} ? {fields: ${s}, values: [${a.join(", ")}]} : null`),delete o.value,delete o.on,n}},MM="_toggle",oDe={defined:e=>e.type==="point"&&!Bf(e)&&!!e.toggle,signals:(e,t,n)=>n.concat({name:t.name+MM,value:!1,on:[{events:t.events,update:t.toggle}]}),modifyExpr:(e,t)=>{const n=t.name+Up,r=t.name+MM;return`${r} ? null : ${n}, `+(t.resolve==="global"?`${r} ? null : true, `:`${r} ? null : {unit: ${Wy(e)}}, `)+`${r} ? ${n} : null`}},wNt={defined:e=>e.clear!==void 0&&e.clear!==!1&&!Bf(e),parse:(e,t)=>{t.clear&&(t.clear=Bt(t.clear)?v0(t.clear,"view"):t.clear)},topLevelSignals:(e,t,n)=>{if(iDe.defined(t))for(const r of t.project.items){const i=n.findIndex(o=>o.name===Ii(`${t.name}_${r.field}`));i!==-1&&n[i].on.push({events:t.clear,update:"null"})}return n},signals:(e,t,n)=>{function r(i,o){i!==-1&&n[i].on&&n[i].on.push({events:t.clear,update:o})}if(t.type==="interval")for(const i of t.project.items){const o=n.findIndex(s=>s.name===i.signals.visual);if(r(o,"[0, 0]"),o===-1){const s=n.findIndex(a=>a.name===i.signals.data);r(s,"null")}}else{let i=n.findIndex(o=>o.name===t.name+Up);r(i,"null"),oDe.defined(t)&&(i=n.findIndex(o=>o.name===t.name+MM),r(i,"false"))}return n}},sDe={defined:e=>{const t=e.resolve==="global"&&e.bind&&eQ(e.bind),n=e.project.items.length===1&&e.project.items[0].field!==Rd;return t&&!n&&xt(FRt),t&&n},parse:(e,t,n)=>{const r=Dn(n);if(r.select=Bt(r.select)?{type:r.select,toggle:t.toggle}:{...r.select,toggle:t.toggle},fDe(t,r),Ft(n.select)&&(n.select.on||n.select.clear)){const s='event.item && indexof(event.item.mark.role, "legend") < 0';for(const a of t.events)a.filter=jt(a.filter??[]),a.filter.includes(s)||a.filter.push(s)}const i=SB(t.bind)?t.bind.legend:"click",o=Bt(i)?v0(i,"view"):jt(i);t.bind={legend:{merge:o}}},topLevelSignals:(e,t,n)=>{const r=t.name,i=SB(t.bind)&&t.bind.legend,o=s=>a=>{const l=Dn(a);return l.markname=s,l};for(const s of t.project.items){if(!s.hasLegend)continue;const a=`${Ii(s.field)}_legend`,l=`${r}_${a}`;if(n.filter(c=>c.name===l).length===0){const c=i.merge.map(o(`${a}_symbols`)).concat(i.merge.map(o(`${a}_labels`))).concat(i.merge.map(o(`${a}_entries`)));n.unshift({name:l,...t.init?{}:{value:null},on:[{events:c,update:"isDefined(datum.value) ? datum.value : item().items[0].items[0].datum.value",force:!0},{events:i.merge,update:`!event.item || !datum ? null : ${l}`,force:!0}]})}}return n},signals:(e,t,n)=>{const r=t.name,i=t.project,o=n.find(f=>f.name===r+Up),s=r+e2,a=i.items.filter(f=>f.hasLegend).map(f=>Ii(`${r}_${Ii(f.field)}_legend`)),u=`${a.map(f=>`${f} !== null`).join(" && ")} ? {fields: ${s}, values: [${a.join(", ")}]} : null`;t.events&&a.length>0?o.on.push({events:a.map(f=>({signal:f})),update:u}):a.length>0&&(o.update=u,delete o.value,delete o.on);const c=n.find(f=>f.name===r+MM),d=SB(t.bind)&&t.bind.legend;return c&&(t.events?c.on.push({...c.on[0],events:d}):c.on[0].events=d),n}};function xNt(e,t,n){var i;const r=(i=e.fieldDef(t))==null?void 0:i.field;for(const o of Ks(e.component.selection??{})){const s=o.project.hasField[r]??o.project.hasChannel[t];if(s&&sDe.defined(o)){const a=n.get("selections")??[];a.push(o.name),n.set("selections",a,!1),s.hasLegend=!0}}}const aDe="_translate_anchor",lDe="_translate_delta",_Nt={defined:e=>e.type==="interval"&&e.translate,signals:(e,t,n)=>{const r=t.name,i=xp.defined(t),o=r+aDe,{x:s,y:a}=t.project.hasChannel;let l=v0(t.translate,"scope");return i||(l=l.map(u=>(u.between[0].markname=r+lw,u))),n.push({name:o,value:{},on:[{events:l.map(u=>u.between[0]),update:"{x: x(unit), y: y(unit)"+(s!==void 0?`, extent_x: ${i?vz(e,Di):`slice(${s.signals.visual})`}`:"")+(a!==void 0?`, extent_y: ${i?vz(e,_s):`slice(${a.signals.visual})`}`:"")+"}"}]},{name:r+lDe,value:{},on:[{events:l,update:`{x: ${o}.x - x(unit), y: ${o}.y - y(unit)}`}]}),s!==void 0&&Hde(e,t,s,"width",n),a!==void 0&&Hde(e,t,a,"height",n),n}};function Hde(e,t,n,r,i){const o=t.name,s=o+aDe,a=o+lDe,l=n.channel,u=xp.defined(t),c=i.find(_=>_.name===n.signals[u?"data":"visual"]),d=e.getSizeSignalRef(r).signal,f=e.getScaleComponent(l),h=f&&f.get("type"),p=f&&f.get("reverse"),m=u?l===Di?p?"":"-":p?"-":"":"",g=`${s}.extent_${l}`,y=`${m}${a}.${l} / ${u?`${d}`:`span(${g})`}`,v=!u||!f?"panLinear":h==="log"?"panLog":h==="symlog"?"panSymlog":h==="pow"?"panPow":"panLinear",w=u?h==="pow"?`, ${f.get("exponent")??1}`:h==="symlog"?`, ${f.get("constant")??1}`:"":"",E=`${v}(${g}, ${y}${w})`;c.on.push({events:{signal:a},update:u?E:`clampRange(${E}, 0, ${d})`})}const uDe="_zoom_anchor",cDe="_zoom_delta",ENt={defined:e=>e.type==="interval"&&e.zoom,signals:(e,t,n)=>{const r=t.name,i=xp.defined(t),o=r+cDe,{x:s,y:a}=t.project.hasChannel,l=Rt(e.scaleName(Di)),u=Rt(e.scaleName(_s));let c=v0(t.zoom,"scope");return i||(c=c.map(d=>(d.markname=r+lw,d))),n.push({name:r+uDe,on:[{events:c,update:i?"{"+[l?`x: invert(${l}, x(unit))`:"",u?`y: invert(${u}, y(unit))`:""].filter(d=>d).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:o,on:[{events:c,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),s!==void 0&&Vde(e,t,s,"width",n),a!==void 0&&Vde(e,t,a,"height",n),n}};function Vde(e,t,n,r,i){const o=t.name,s=n.channel,a=xp.defined(t),l=i.find(v=>v.name===n.signals[a?"data":"visual"]),u=e.getSizeSignalRef(r).signal,c=e.getScaleComponent(s),d=c&&c.get("type"),f=a?vz(e,s):l.name,h=o+cDe,p=`${o}${uDe}.${s}`,m=!a||!c?"zoomLinear":d==="log"?"zoomLog":d==="symlog"?"zoomSymlog":d==="pow"?"zoomPow":"zoomLinear",g=a?d==="pow"?`, ${c.get("exponent")??1}`:d==="symlog"?`, ${c.get("constant")??1}`:"":"",y=`${m}(${f}, ${p}, ${h}${g})`;l.on.push({events:{signal:h},update:a?y:`clampRange(${y}, 0, ${u})`})}const Av="_store",Up="_tuple",SNt="_modify",dDe="vlSelectionResolve",fL=[XPt,iNt,GPt,oDe,iDe,xp,sDe,wNt,_Nt,ENt,rDe];function TNt(e){let t=e.parent;for(;t&&!Au(t);)t=t.parent;return t}function Wy(e,{escape:t}={escape:!0}){let n=t?Rt(e.name):e.name;const r=TNt(e);if(r){const{facet:i}=r;for(const o of cc)i[o]&&(n+=` + '__facet_${o}_' + (facet[${Rt(r.vgField(o))}])`)}return n}function dQ(e){return Ks(e.component.selection??{}).reduce((t,n)=>t||n.project.hasSelectionId,!1)}function fDe(e,t){(Bt(t.select)||!t.select.on)&&delete e.events,(Bt(t.select)||!t.select.clear)&&delete e.clear,(Bt(t.select)||!t.select.toggle)&&delete e.toggle}function Bf(e){var t;return(t=e.events)==null?void 0:t.find(n=>"type"in n&&n.type==="timer")}const CNt="RawCode",ANt="Literal",kNt="Property",INt="Identifier",RNt="ArrayExpression",DNt="BinaryExpression",$Nt="CallExpression",MNt="ConditionalExpression",PNt="LogicalExpression",NNt="MemberExpression",ONt="ObjectExpression",LNt="UnaryExpression";function Ud(e){this.type=e}Ud.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=FNt(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};function FNt(e){switch(e.type){case RNt:return e.elements;case DNt:case PNt:return[e.left,e.right];case $Nt:return[e.callee].concat(e.arguments);case MNt:return[e.test,e.consequent,e.alternate];case NNt:return[e.object,e.property];case ONt:return e.properties;case kNt:return[e.key,e.value];case LNt:return[e.argument];case INt:case ANt:case CNt:default:return[]}}var Eh,on,Xe,Ia,zr,hL=1,t2=2,kv=3,A0=4,pL=5,yb=6,Rl=7,n2=8,BNt=9;Eh={};Eh[hL]="Boolean";Eh[t2]="<end>";Eh[kv]="Identifier";Eh[A0]="Keyword";Eh[pL]="Null";Eh[yb]="Numeric";Eh[Rl]="Punctuator";Eh[n2]="String";Eh[BNt]="RegularExpression";var jNt="ArrayExpression",zNt="BinaryExpression",UNt="CallExpression",HNt="ConditionalExpression",hDe="Identifier",VNt="Literal",WNt="LogicalExpression",qNt="MemberExpression",GNt="ObjectExpression",YNt="Property",KNt="UnaryExpression",ps="Unexpected token %0",XNt="Unexpected number",QNt="Unexpected string",JNt="Unexpected identifier",ZNt="Unexpected reserved word",eOt="Unexpected end of input",wz="Invalid regular expression",DB="Invalid regular expression: missing /",pDe="Octal literals are not allowed in strict mode.",tOt="Duplicate data property in object literal not allowed in strict mode",Ws="ILLEGAL",gC="Disabled.",nOt=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),rOt=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function mL(e,t){if(!e)throw new Error("ASSERT: "+t)}function qh(e){return e>=48&&e<=57}function fQ(e){return"0123456789abcdefABCDEF".includes(e)}function oT(e){return"01234567".includes(e)}function iOt(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(e)}function yC(e){return e===10||e===13||e===8232||e===8233}function r2(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&nOt.test(String.fromCharCode(e))}function PM(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&rOt.test(String.fromCharCode(e))}const oOt={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function mDe(){for(;Xe<Ia;){const e=on.charCodeAt(Xe);if(iOt(e)||yC(e))++Xe;else break}}function xz(e){var t,n,r,i=0;for(n=e==="u"?4:2,t=0;t<n;++t)Xe<Ia&&fQ(on[Xe])?(r=on[Xe++],i=i*16+"0123456789abcdef".indexOf(r.toLowerCase())):Er({},ps,Ws);return String.fromCharCode(i)}function sOt(){var e,t,n,r;for(e=on[Xe],t=0,e==="}"&&Er({},ps,Ws);Xe<Ia&&(e=on[Xe++],!!fQ(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&Er({},ps,Ws),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function gDe(){var e,t;for(e=on.charCodeAt(Xe++),t=String.fromCharCode(e),e===92&&(on.charCodeAt(Xe)!==117&&Er({},ps,Ws),++Xe,e=xz("u"),(!e||e==="\\"||!r2(e.charCodeAt(0)))&&Er({},ps,Ws),t=e);Xe<Ia&&(e=on.charCodeAt(Xe),!!PM(e));)++Xe,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),on.charCodeAt(Xe)!==117&&Er({},ps,Ws),++Xe,e=xz("u"),(!e||e==="\\"||!PM(e.charCodeAt(0)))&&Er({},ps,Ws),t+=e);return t}function aOt(){var e,t;for(e=Xe++;Xe<Ia;){if(t=on.charCodeAt(Xe),t===92)return Xe=e,gDe();if(PM(t))++Xe;else break}return on.slice(e,Xe)}function lOt(){var e,t,n;return e=Xe,t=on.charCodeAt(Xe)===92?gDe():aOt(),t.length===1?n=kv:oOt.hasOwnProperty(t)?n=A0:t==="null"?n=pL:t==="true"||t==="false"?n=hL:n=kv,{type:n,value:t,start:e,end:Xe}}function $B(){var e=Xe,t=on.charCodeAt(Xe),n,r=on[Xe],i,o,s;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Xe,{type:Rl,value:String.fromCharCode(t),start:e,end:Xe};default:if(n=on.charCodeAt(Xe+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Xe+=2,{type:Rl,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:Xe};case 33:case 61:return Xe+=2,on.charCodeAt(Xe)===61&&++Xe,{type:Rl,value:on.slice(e,Xe),start:e,end:Xe}}}if(s=on.substr(Xe,4),s===">>>=")return Xe+=4,{type:Rl,value:s,start:e,end:Xe};if(o=s.substr(0,3),o===">>>"||o==="<<="||o===">>=")return Xe+=3,{type:Rl,value:o,start:e,end:Xe};if(i=o.substr(0,2),r===i[1]&&"+-<>&|".includes(r)||i==="=>")return Xe+=2,{type:Rl,value:i,start:e,end:Xe};if(i==="//"&&Er({},ps,Ws),"<>=!+-*%&|^/".includes(r))return++Xe,{type:Rl,value:r,start:e,end:Xe};Er({},ps,Ws)}function uOt(e){let t="";for(;Xe<Ia&&fQ(on[Xe]);)t+=on[Xe++];return t.length===0&&Er({},ps,Ws),r2(on.charCodeAt(Xe))&&Er({},ps,Ws),{type:yb,value:parseInt("0x"+t,16),start:e,end:Xe}}function cOt(e){let t="0"+on[Xe++];for(;Xe<Ia&&oT(on[Xe]);)t+=on[Xe++];return(r2(on.charCodeAt(Xe))||qh(on.charCodeAt(Xe)))&&Er({},ps,Ws),{type:yb,value:parseInt(t,8),octal:!0,start:e,end:Xe}}function Wde(){var e,t,n;if(n=on[Xe],mL(qh(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=Xe,e="",n!=="."){if(e=on[Xe++],n=on[Xe],e==="0"){if(n==="x"||n==="X")return++Xe,uOt(t);if(oT(n))return cOt(t);n&&qh(n.charCodeAt(0))&&Er({},ps,Ws)}for(;qh(on.charCodeAt(Xe));)e+=on[Xe++];n=on[Xe]}if(n==="."){for(e+=on[Xe++];qh(on.charCodeAt(Xe));)e+=on[Xe++];n=on[Xe]}if(n==="e"||n==="E")if(e+=on[Xe++],n=on[Xe],(n==="+"||n==="-")&&(e+=on[Xe++]),qh(on.charCodeAt(Xe)))for(;qh(on.charCodeAt(Xe));)e+=on[Xe++];else Er({},ps,Ws);return r2(on.charCodeAt(Xe))&&Er({},ps,Ws),{type:yb,value:parseFloat(e),start:t,end:Xe}}function dOt(){var e="",t,n,r,i,o=!1;for(t=on[Xe],mL(t==="'"||t==='"',"String literal must starts with a quote"),n=Xe,++Xe;Xe<Ia;)if(r=on[Xe++],r===t){t="";break}else if(r==="\\")if(r=on[Xe++],!r||!yC(r.charCodeAt(0)))switch(r){case"u":case"x":on[Xe]==="{"?(++Xe,e+=sOt()):e+=xz(r);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:oT(r)?(i="01234567".indexOf(r),i!==0&&(o=!0),Xe<Ia&&oT(on[Xe])&&(o=!0,i=i*8+"01234567".indexOf(on[Xe++]),"0123".includes(r)&&Xe<Ia&&oT(on[Xe])&&(i=i*8+"01234567".indexOf(on[Xe++]))),e+=String.fromCharCode(i)):e+=r;break}else r==="\r"&&on[Xe]===`
`&&++Xe;else{if(yC(r.charCodeAt(0)))break;e+=r}return t!==""&&Er({},ps,Ws),{type:n2,value:e,octal:o,start:n,end:Xe}}function fOt(e,t){let n=e;t.includes("u")&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,i)=>{if(parseInt(i,16)<=1114111)return"x";Er({},wz)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{Er({},wz)}try{return new RegExp(e,t)}catch{return null}}function hOt(){var e,t,n,r,i;for(e=on[Xe],mL(e==="/","Regular expression literal must start with a slash"),t=on[Xe++],n=!1,r=!1;Xe<Ia;)if(e=on[Xe++],t+=e,e==="\\")e=on[Xe++],yC(e.charCodeAt(0))&&Er({},DB),t+=e;else if(yC(e.charCodeAt(0)))Er({},DB);else if(n)e==="]"&&(n=!1);else if(e==="/"){r=!0;break}else e==="["&&(n=!0);return r||Er({},DB),i=t.substr(1,t.length-2),{value:i,literal:t}}function pOt(){var e,t,n;for(t="",n="";Xe<Ia&&(e=on[Xe],!!PM(e.charCodeAt(0)));)++Xe,e==="\\"&&Xe<Ia?Er({},ps,Ws):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&Er({},wz,n),{value:n,literal:t}}function mOt(){var e,t,n,r;return zr=null,mDe(),e=Xe,t=hOt(),n=pOt(),r=fOt(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:Xe}}function gOt(e){return e.type===kv||e.type===A0||e.type===hL||e.type===pL}function yDe(){if(mDe(),Xe>=Ia)return{type:t2,start:Xe,end:Xe};const e=on.charCodeAt(Xe);return r2(e)?lOt():e===40||e===41||e===59?$B():e===39||e===34?dOt():e===46?qh(on.charCodeAt(Xe+1))?Wde():$B():qh(e)?Wde():$B()}function Pl(){const e=zr;return Xe=e.end,zr=yDe(),Xe=e.end,e}function vDe(){const e=Xe;zr=yDe(),Xe=e}function yOt(e){const t=new Ud(jNt);return t.elements=e,t}function qde(e,t,n){const r=new Ud(e==="||"||e==="&&"?WNt:zNt);return r.operator=e,r.left=t,r.right=n,r}function vOt(e,t){const n=new Ud(UNt);return n.callee=e,n.arguments=t,n}function bOt(e,t,n){const r=new Ud(HNt);return r.test=e,r.consequent=t,r.alternate=n,r}function hQ(e){const t=new Ud(hDe);return t.name=e,t}function ES(e){const t=new Ud(VNt);return t.value=e.value,t.raw=on.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function Gde(e,t,n){const r=new Ud(qNt);return r.computed=e==="[",r.object=t,r.property=n,r.computed||(n.member=!0),r}function wOt(e){const t=new Ud(GNt);return t.properties=e,t}function Yde(e,t,n){const r=new Ud(YNt);return r.key=t,r.value=n,r.kind=e,r}function xOt(e,t){const n=new Ud(KNt);return n.operator=e,n.argument=t,n.prefix=!0,n}function Er(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(o,s)=>(mL(s<r.length,"Message reference must be in range"),r[s]));throw n=new Error(i),n.index=Xe,n.description=i,n}function gL(e){e.type===t2&&Er(e,eOt),e.type===yb&&Er(e,XNt),e.type===n2&&Er(e,QNt),e.type===kv&&Er(e,JNt),e.type===A0&&Er(e,ZNt),Er(e,ps,e.value)}function Ra(e){const t=Pl();(t.type!==Rl||t.value!==e)&&gL(t)}function _i(e){return zr.type===Rl&&zr.value===e}function MB(e){return zr.type===A0&&zr.value===e}function _Ot(){const e=[];for(Xe=zr.start,Ra("[");!_i("]");)_i(",")?(Pl(),e.push(null)):(e.push(Iv()),_i("]")||Ra(","));return Pl(),yOt(e)}function Kde(){Xe=zr.start;const e=Pl();return e.type===n2||e.type===yb?(e.octal&&Er(e,pDe),ES(e)):hQ(e.value)}function EOt(){var e,t,n,r;if(Xe=zr.start,e=zr,e.type===kv)return n=Kde(),Ra(":"),r=Iv(),Yde("init",n,r);if(e.type===t2||e.type===Rl)gL(e);else return t=Kde(),Ra(":"),r=Iv(),Yde("init",t,r)}function SOt(){var e=[],t,n,r,i={},o=String;for(Xe=zr.start,Ra("{");!_i("}");)t=EOt(),t.key.type===hDe?n=t.key.name:n=o(t.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(i,r)?Er({},tOt):i[r]=!0,e.push(t),_i("}")||Ra(",");return Ra("}"),wOt(e)}function TOt(){Ra("(");const e=pQ();return Ra(")"),e}const COt={if:1};function AOt(){var e,t,n;if(_i("("))return TOt();if(_i("["))return _Ot();if(_i("{"))return SOt();if(e=zr.type,Xe=zr.start,e===kv||COt[zr.value])n=hQ(Pl().value);else if(e===n2||e===yb)zr.octal&&Er(zr,pDe),n=ES(Pl());else{if(e===A0)throw new Error(gC);e===hL?(t=Pl(),t.value=t.value==="true",n=ES(t)):e===pL?(t=Pl(),t.value=null,n=ES(t)):_i("/")||_i("/=")?(n=ES(mOt()),vDe()):gL(Pl())}return n}function kOt(){const e=[];if(Ra("("),!_i(")"))for(;Xe<Ia&&(e.push(Iv()),!_i(")"));)Ra(",");return Ra(")"),e}function IOt(){Xe=zr.start;const e=Pl();return gOt(e)||gL(e),hQ(e.value)}function ROt(){return Ra("."),IOt()}function DOt(){Ra("[");const e=pQ();return Ra("]"),e}function $Ot(){var e,t,n;for(e=AOt();;)if(_i("."))n=ROt(),e=Gde(".",e,n);else if(_i("("))t=kOt(),e=vOt(e,t);else if(_i("["))n=DOt(),e=Gde("[",e,n);else break;return e}function Xde(){const e=$Ot();if(zr.type===Rl&&(_i("++")||_i("--")))throw new Error(gC);return e}function QR(){var e,t;if(zr.type!==Rl&&zr.type!==A0)t=Xde();else{if(_i("++")||_i("--"))throw new Error(gC);if(_i("+")||_i("-")||_i("~")||_i("!"))e=Pl(),t=QR(),t=xOt(e.value,t);else{if(MB("delete")||MB("void")||MB("typeof"))throw new Error(gC);t=Xde()}}return t}function Qde(e){let t=0;if(e.type!==Rl&&e.type!==A0)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function MOt(){var e,t,n,r,i,o,s,a,l,u;if(e=zr,l=QR(),r=zr,i=Qde(r),i===0)return l;for(r.prec=i,Pl(),t=[e,zr],s=QR(),o=[l,r,s];(i=Qde(zr))>0;){for(;o.length>2&&i<=o[o.length-2].prec;)s=o.pop(),a=o.pop().value,l=o.pop(),t.pop(),n=qde(a,l,s),o.push(n);r=Pl(),r.prec=i,o.push(r),t.push(zr),n=QR(),o.push(n)}for(u=o.length-1,n=o[u],t.pop();u>1;)t.pop(),n=qde(o[u-1].value,o[u-2],n),u-=2;return n}function Iv(){var e,t,n;return e=MOt(),_i("?")&&(Pl(),t=Iv(),Ra(":"),n=Iv(),e=bOt(e,t,n)),e}function pQ(){const e=Iv();if(_i(","))throw new Error(gC);return e}function POt(e){on=e,Xe=0,Ia=on.length,zr=null,vDe();const t=pQ();if(zr.type!==t2)throw new Error("Unexpect token after expression.");return t}function _z(e){const t=[];return e.type==="Identifier"?[e.name]:e.type==="Literal"?[e.value]:(e.type==="MemberExpression"&&(t.push(..._z(e.object)),t.push(..._z(e.property))),t)}function bDe(e){return e.object.type==="MemberExpression"?bDe(e.object):e.object.name==="datum"}function wDe(e){const t=POt(e),n=new Set;return t.visit(r=>{r.type==="MemberExpression"&&bDe(r)&&n.add(_z(r).slice(1).join("."))}),n}class g_ extends Vr{clone(){return new g_(null,this.model,Dn(this.filter))}constructor(t,n,r){super(t),this.model=n,this.filter=r,this.expr=NM(this.model,this.filter,this),this._dependentFields=wDe(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}function NOt(e,t){const n={},r=e.config.selection;if(!t||!t.length)return n;let i=0;for(const o of t){const s=Ii(o.name),a=o.select,l=Bt(a)?a:a.type,u=Ft(a)?Dn(a):{type:l},c=r[l];for(const h in c)h==="fields"||h==="encodings"||(h==="mark"&&(u.mark={...c.mark,...u.mark}),(u[h]===void 0||u[h]===!0)&&(u[h]=Dn(c[h]??u[h])));const d=n[s]={...u,name:s,type:l,init:o.value,bind:o.bind,events:Bt(u.on)?v0(u.on,"scope"):jt(Dn(u.on))};if(Bf(d)&&(i++,i>1)){delete n[s];continue}const f=Dn(o);for(const h of fL)h.defined(d)&&h.parse&&h.parse(e,d,f)}return i>1&&xt(VRt),n}function xDe(e,t,n,r="datum"){const i=Bt(t)?t:t.param,o=Ii(i),s=Rt(o+Av);let a;try{a=e.getSelectionComponent(o,i)}catch{return`!!${o}`}if(a.project.timeUnit){const f=n??e.component.data.raw,h=a.project.timeUnit.clone();f.parent?h.insertAsParentOf(f):f.parent=h}const l=a.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(",u=a.resolve==="global"?")":`, ${Rt(a.resolve)})`,c=`${l}${s}, ${r}${u}`,d=`length(data(${s}))`;return t.empty===!1?`${d} && ${c}`:`!${d} || ${c}`}function _De(e,t,n){const r=Ii(t),i=n.encoding;let o=n.field,s;try{s=e.getSelectionComponent(r,t)}catch{return r}if(!i&&!o)o=s.project.items[0].field,s.project.items.length>1&&xt(WRt(o));else if(i&&!o){const a=s.project.items.filter(l=>l.channel===i);!a.length||a.length>1?(o=s.project.items[0].field,xt(qRt(a,i,n,o))):o=a[0].field}return`${s.name}[${Rt(Ec(o))}]`}function OOt(e,t){for(const[n,r]of Yg(e.component.selection??{})){const i=e.getName(`lookup_${n}`);e.component.data.outputNodes[i]=r.materialized=new zl(new g_(t,e,{param:n}),i,Bi.Lookup,e.component.data.outputNodeRefCounts)}}function NM(e,t,n){return rT(t,r=>Bt(r)?r:t$t(r)?xDe(e,r,n):CIe(r))}function LOt(e,t){if(e)return et(e)&&!Hm(e)?e.map(n=>qX(n,t)).join(", "):e}function PB(e,t,n,r){var i,o;e.encode??(e.encode={}),(i=e.encode)[t]??(i[t]={}),(o=e.encode[t]).update??(o.update={}),e.encode[t].update[n]=r}function SS(e,t,n,r={header:!1}){var d,f;const{disable:i,orient:o,scale:s,labelExpr:a,title:l,zindex:u,...c}=e.combine();if(!i){for(const h in c){const p=h,m=sMt[p],g=c[p];if(m&&m!==t&&m!=="both")delete c[p];else if(ZA(g)){const{condition:y,...v}=g,w=jt(y),E=vde[p];if(E){const{vgProp:_,part:x}=E,S=[...w.map(C=>{const{test:A,...k}=C;return{test:NM(null,A),...k}}),v];PB(c,x,_,S),delete c[p]}else if(E===null){const _={signal:w.map(x=>{const{test:S,...C}=x;return`${NM(null,S)} ? ${nde(C)} : `}).join("")+nde(v)};c[p]=_}}else if(sn(g)){const y=vde[p];if(y){const{vgProp:v,part:w}=y;PB(c,w,v,g),delete c[p]}}Jn(["labelAlign","labelBaseline"],p)&&c[p]===null&&delete c[p]}if(t==="grid"){if(!c.grid)return;if(c.encode){const{grid:h}=c.encode;c.encode={...h?{grid:h}:{}},Yr(c.encode)&&delete c.encode}return{scale:s,orient:o,...c,domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:vo(u,0)}}else{if(!r.header&&e.mainExtracted)return;if(a!==void 0){let p=a;(f=(d=c.encode)==null?void 0:d.labels)!=null&&f.update&&sn(c.encode.labels.update.text)&&(p=bv(a,"datum.label",c.encode.labels.update.text.signal)),PB(c,"labels","text",{signal:p})}if(c.labelAlign===null&&delete c.labelAlign,c.encode){for(const p of rRe)e.hasAxisPart(p)||delete c.encode[p];Yr(c.encode)&&delete c.encode}const h=LOt(l,n);return{scale:s,orient:o,grid:!1,...h?{title:h}:{},...c,...n.aria===!1?{aria:!1}:{},zindex:vo(u,0)}}}}function EDe(e){const{axes:t}=e.component,n=[];for(const r of om)if(t[r]){for(const i of t[r])if(!i.get("disable")&&!i.get("gridScale")){const o=r==="x"?"height":"width",s=e.getSizeSignalRef(o).signal;o!==s&&n.push({name:o,update:s})}}return n}function FOt(e,t){const{x:n=[],y:r=[]}=e;return[...n.map(i=>SS(i,"grid",t)),...r.map(i=>SS(i,"grid",t)),...n.map(i=>SS(i,"main",t)),...r.map(i=>SS(i,"main",t))].filter(i=>i)}function Jde(e,t,n,r){return Object.assign.apply(null,[{},...e.map(i=>{if(i==="axisOrient"){const o=n==="x"?"bottom":"left",s=t[n==="x"?"axisBottom":"axisLeft"]||{},a=t[n==="x"?"axisTop":"axisRight"]||{},l=new Set([...mt(s),...mt(a)]),u={};for(const c of l.values())u[c]={signal:`${r.signal} === "${o}" ? ${fd(s[c])} : ${fd(a[c])}`};return u}return t[i]})])}function BOt(e,t,n,r){const i=t==="band"?["axisDiscrete","axisBand"]:t==="point"?["axisDiscrete","axisPoint"]:RIe(t)?["axisQuantitative"]:t==="time"||t==="utc"?["axisTemporal"]:[],o=e==="x"?"axisX":"axisY",s=sn(n)?"axisOrient":`axis${UA(n)}`,a=[...i,...i.map(u=>o+u.substr(4))],l=["axis",s,o];return{vlOnlyAxisConfig:Jde(a,r,e,n),vgAxisConfig:Jde(l,r,e,n),axisConfigStyle:jOt([...l,...a],r)}}function jOt(e,t){var r;const n=[{}];for(const i of e){let o=(r=t[i])==null?void 0:r.style;if(o){o=jt(o);for(const s of o)n.push(t.style[s])}}return Object.assign.apply(null,n)}function Ez(e,t,n,r={}){var o;const i=iIe(e,n,t);if(i!==void 0)return{configFrom:"style",configValue:i};for(const s of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"])if(((o=r[s])==null?void 0:o[e])!==void 0)return{configFrom:s,configValue:r[s][e]};return{}}const Zde={scale:({model:e,channel:t})=>e.scaleName(t),format:({format:e})=>e,formatType:({formatType:e})=>e,grid:({fieldOrDatumDef:e,axis:t,scaleType:n})=>t.grid??zOt(n,e),gridScale:({model:e,channel:t})=>UOt(e,t),labelAlign:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelAlign||TDe(t,n,r),labelAngle:({labelAngle:e})=>e,labelBaseline:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelBaseline||SDe(t,n,r),labelFlush:({axis:e,fieldOrDatumDef:t,channel:n})=>e.labelFlush??VOt(t.type,n),labelOverlap:({axis:e,fieldOrDatumDef:t,scaleType:n})=>e.labelOverlap??WOt(t.type,n,St(t)&&!!t.timeUnit,St(t)?t.sort:void 0),orient:({orient:e})=>e,tickCount:({channel:e,model:t,axis:n,fieldOrDatumDef:r,scaleType:i})=>{const o=e==="x"?"width":e==="y"?"height":void 0,s=o?t.getSizeSignalRef(o):void 0;return n.tickCount??GOt({fieldOrDatumDef:r,scaleType:i,size:s,values:n.values})},tickMinStep:YOt,title:({axis:e,model:t,channel:n})=>{if(e.title!==void 0)return e.title;const r=CDe(t,n);if(r!==void 0)return r;const i=t.typedFieldDef(n),o=n==="x"?"x2":"y2",s=t.fieldDef(o);return sIe(i?[gde(i)]:[],St(s)?[gde(s)]:[])},values:({axis:e,fieldOrDatumDef:t})=>KOt(e,t),zindex:({axis:e,fieldOrDatumDef:t,mark:n})=>e.zindex??XOt(n,t)};function zOt(e,t){return!vs(e)&&St(t)&&!fi(t==null?void 0:t.bin)&&!Ns(t==null?void 0:t.bin)}function UOt(e,t){const n=t==="x"?"y":"x";if(e.getScaleComponent(n))return e.scaleName(n)}function HOt(e,t,n,r,i){const o=t==null?void 0:t.labelAngle;if(o!==void 0)return sn(o)?o:hC(o);{const{configValue:s}=Ez("labelAngle",r,t==null?void 0:t.style,i);return s!==void 0?hC(s):n===Di&&Jn([PX,MX],e.type)&&!(St(e)&&e.timeUnit)?270:void 0}}function Sz(e){return`(((${e.signal} % 360) + 360) % 360)`}function SDe(e,t,n,r){if(e!==void 0)if(n==="x"){if(sn(e)){const i=Sz(e),o=sn(t)?`(${t.signal} === "top")`:t==="top";return{signal:`(45 < ${i} && ${i} < 135) || (225 < ${i} && ${i} < 315) ? "middle" :(${i} <= 45 || 315 <= ${i}) === ${o} ? "bottom" : "top"`}}if(45<e&&e<135||225<e&&e<315)return"middle";if(sn(t)){const i=e<=45||315<=e?"===":"!==";return{signal:`${t.signal} ${i} "top" ? "bottom" : "top"`}}return(e<=45||315<=e)==(t==="top")?"bottom":"top"}else{if(sn(e)){const i=Sz(e),o=sn(t)?`(${t.signal} === "left")`:t==="left";return{signal:`${i} <= 45 || 315 <= ${i} || (135 <= ${i} && ${i} <= 225) ? ${r?'"middle"':"null"} : (45 <= ${i} && ${i} <= 135) === ${o} ? "top" : "bottom"`}}if(e<=45||315<=e||135<=e&&e<=225)return r?"middle":null;if(sn(t)){const i=45<=e&&e<=135?"===":"!==";return{signal:`${t.signal} ${i} "left" ? "top" : "bottom"`}}return(45<=e&&e<=135)==(t==="left")?"top":"bottom"}}function TDe(e,t,n){if(e===void 0)return;const r=n==="x",i=r?0:90,o=r?"bottom":"left";if(sn(e)){const s=Sz(e),a=sn(t)?`(${t.signal} === "${o}")`:t===o;return{signal:`(${i?`(${s} + 90)`:s} % 180 === 0) ? ${r?null:'"center"'} :(${i} < ${s} && ${s} < ${180+i}) === ${a} ? "left" : "right"`}}if((e+i)%180===0)return r?null:"center";if(sn(t)){const s=i<e&&e<180+i?"===":"!==";return{signal:`${`${t.signal} ${s} "${o}"`} ? "left" : "right"`}}return(i<e&&e<180+i)==(t===o)?"left":"right"}function VOt(e,t){if(t==="x"&&Jn(["quantitative","temporal"],e))return!0}function WOt(e,t,n,r){if(n&&!Ft(r)||e!=="nominal"&&e!=="ordinal")return t==="log"||t==="symlog"?"greedy":!0}function qOt(e){return e==="x"?"bottom":"left"}function GOt({fieldOrDatumDef:e,scaleType:t,size:n,values:r}){var i;if(!r&&!vs(t)&&t!=="log"){if(St(e)){if(fi(e.bin))return{signal:`ceil(${n.signal}/10)`};if(e.timeUnit&&Jn(["month","hours","day","quarter"],(i=ms(e.timeUnit))==null?void 0:i.unit))return}return{signal:`ceil(${n.signal}/40)`}}}function YOt({format:e,fieldOrDatumDef:t}){if(e==="d")return 1;if(St(t)){const{timeUnit:n}=t;if(n){const r=EIe(n);if(r)return{signal:r}}}}function CDe(e,t){const n=t==="x"?"x2":"y2",r=e.fieldDef(t),i=e.fieldDef(n),o=r?r.title:void 0,s=i?i.title:void 0;if(o&&s)return aIe(o,s);if(o)return o;if(s)return s;if(o!==void 0)return o;if(s!==void 0)return s}function KOt(e,t){const n=e.values;if(et(n))return nRe(t,n);if(sn(n))return n}function XOt(e,t){return e==="rect"&&AM(t)?1:0}class ix extends Vr{clone(){return new ix(null,Dn(this.transform))}constructor(t,n){super(t),this.transform=n,this._dependentFields=wDe(this.transform.calculate)}static parseAllForSortIndex(t,n){return n.forEachFieldDef((r,i)=>{if(gb(r)&&qIe(r.sort)){const{field:o,timeUnit:s}=r,a=r.sort,l=a.map((u,c)=>`${CIe({field:o,timeUnit:s,equal:u})} ? ${c} : `).join("")+a.length;t=new ix(t,{calculate:l,as:ox(r,i,{forAs:!0})})}}),t}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${ir(this.transform)}`}}function ox(e,t,n){return Ot(e,{prefix:t,suffix:"sort_index",...n})}function yL(e,t){return Jn(["top","bottom"],t)?"column":Jn(["left","right"],t)||e==="row"?"row":"column"}function sx(e,t,n,r){const i=r==="row"?n.headerRow:r==="column"?n.headerColumn:n.headerFacet;return vo((t||{})[e],i[e],n.header[e])}function vL(e,t,n,r){const i={};for(const o of e){const s=sx(o,t||{},n,r);s!==void 0&&(i[o]=s)}return i}const mQ=["row","column"],gQ=["header","footer"];function QOt(e,t){const n=e.component.layoutHeaders[t].title,r=e.config?e.config:void 0,i=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,{titleAnchor:o,titleAngle:s,titleOrient:a}=vL(["titleAnchor","titleAngle","titleOrient"],i.header,r,t),l=yL(t,a),u=hC(s);return{name:`${t}-title`,type:"group",role:`${l}-title`,title:{text:n,...t==="row"?{orient:"left"}:{},style:"guide-title",...kDe(u,l),...ADe(l,u,o),...IDe(r,i,t,kMt,xRe)}}}function ADe(e,t,n="middle"){switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}const r=TDe(t,e==="row"?"left":"top",e==="row"?"y":"x");return r?{align:r}:{}}function kDe(e,t){const n=SDe(e,t==="row"?"left":"top",t==="row"?"y":"x",!0);return n?{baseline:n}:{}}function JOt(e,t){const n=e.component.layoutHeaders[t],r=[];for(const i of gQ)if(n[i])for(const o of n[i]){const s=eLt(e,t,i,n,o);s!=null&&r.push(s)}return r}function ZOt(e,t){const{sort:n}=e;return wp(n)?{field:Ot(n,{expr:"datum"}),order:n.order??"ascending"}:et(n)?{field:ox(e,t,{expr:"datum"}),order:"ascending"}:{field:Ot(e,{expr:"datum"}),order:n??"ascending"}}function Tz(e,t,n){const{format:r,formatType:i,labelAngle:o,labelAnchor:s,labelOrient:a,labelExpr:l}=vL(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e.header,n,t),u=UX({fieldOrDatumDef:e,format:r,formatType:i,expr:"parent",config:n}).signal,c=yL(t,a);return{text:{signal:l?bv(bv(l,"datum.label",u),"datum.value",Ot(e,{expr:"parent"})):u},...t==="row"?{orient:"left"}:{},style:"guide-label",frame:"group",...kDe(o,c),...ADe(c,o,s),...IDe(n,e,t,IMt,_Re)}}function eLt(e,t,n,r,i){if(i){let o=null;const{facetFieldDef:s}=r,a=e.config?e.config:void 0;if(s&&i.labels){const{labelOrient:d}=vL(["labelOrient"],s.header,a,t);(t==="row"&&!Jn(["top","bottom"],d)||t==="column"&&!Jn(["left","right"],d))&&(o=Tz(s,t,a))}const l=Au(e)&&!KA(e.facet),u=i.axes,c=(u==null?void 0:u.length)>0;if(o||c){const d=t==="row"?"height":"width";return{name:e.getName(`${t}_${n}`),type:"group",role:`${t}-${n}`,...r.facetFieldDef?{from:{data:e.getName(`${t}_domain`)},sort:ZOt(s,t)}:{},...c&&l?{from:{data:e.getName(`facet_domain_${t}`)}}:{},...o?{title:o}:{},...i.sizeSignal?{encode:{update:{[d]:i.sizeSignal}}}:{},...c?{axes:u}:{}}}}return null}const tLt={column:{start:0,end:1},row:{start:1,end:0}};function nLt(e,t){return tLt[t][e]}function rLt(e,t){const n={};for(const r of cc){const i=e[r];if(i!=null&&i.facetFieldDef){const{titleAnchor:o,titleOrient:s}=vL(["titleAnchor","titleOrient"],i.facetFieldDef.header,t,r),a=yL(r,s),l=nLt(o,a);l!==void 0&&(n[a]=l)}}return Yr(n)?void 0:n}function IDe(e,t,n,r,i){const o={};for(const s of r){if(!i[s])continue;const a=sx(s,t==null?void 0:t.header,e,n);a!==void 0&&(o[i[s]]=a)}return o}function yQ(e){return[...w3(e,"width"),...w3(e,"height"),...w3(e,"childWidth"),...w3(e,"childHeight")]}function w3(e,t){const n=t==="width"?"x":"y",r=e.component.layoutSize.get(t);if(!r||r==="merged")return[];const i=e.getSizeSignalRef(t).signal;if(r==="step"){const o=e.getScaleComponent(n);if(o){const s=o.get("type"),a=o.get("range");if(vs(s)&&hb(a)){const l=e.scaleName(n);return Au(e.parent)&&e.parent.component.resolve.scale[n]==="independent"?[efe(l,a)]:[efe(l,a),{name:i,update:RDe(l,o,`domain('${l}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}else if(r=="container"){const o=i.endsWith("width"),s=o?"containerSize()[0]":"containerSize()[1]",a=fz(e.config.view,o?"width":"height"),l=`isFinite(${s}) ? ${s} : ${a}`;return[{name:i,init:l,on:[{update:l,events:"window:resize"}]}]}else return[{name:i,value:r}]}function efe(e,t){const n=`${e}_step`;return sn(t.step)?{name:n,update:t.step.signal}:{name:n,value:t.step}}function RDe(e,t,n){const r=t.get("type"),i=t.get("padding"),o=vo(t.get("paddingOuter"),i);let s=t.get("paddingInner");return s=r==="band"?s!==void 0?s:i:1,`bandspace(${n}, ${fd(s)}, ${fd(o)}) * ${e}_step`}function DDe(e){return e==="childWidth"?"width":e==="childHeight"?"height":e}function $De(e,t){return mt(e).reduce((n,r)=>({...n,...m_({model:t,channelDef:e[r],vgChannel:r,mainRefFn:i=>xi(i.value),invalidValueRef:void 0})}),{})}function MDe(e,t){if(Au(t))return e==="theta"?"independent":"shared";if(b_(t))return"shared";if(SQ(t))return bo(e)||e==="theta"||e==="radius"?"independent":"shared";throw new Error("invalid model type for resolve")}function vQ(e,t){const n=e.scale[t],r=bo(t)?"axis":"legend";return n==="independent"?(e[r][t]==="shared"&&xt(EDt(t)),"independent"):e[r][t]||"shared"}const iLt={...$Mt,disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1},PDe=mt(iLt);class oLt extends am{}const tfe={symbols:sLt,gradient:aLt,labels:lLt,entries:uLt};function sLt(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i,legendType:o}){if(o!=="symbol")return;const{markDef:s,encoding:a,config:l,mark:u}=n,c=s.filled&&u!=="trail";let d={...DRt({},n,A$t),...eDe(n,{filled:c})};const f=i.get("symbolOpacity")??l.legend.symbolOpacity,h=i.get("symbolFillColor")??l.legend.symbolFillColor,p=i.get("symbolStrokeColor")??l.legend.symbolStrokeColor,m=f===void 0?NDe(a.opacity)??s.opacity:void 0;if(d.fill){if(r==="fill"||c&&r===ql)delete d.fill;else if(yt(d.fill,"field"))h?delete d.fill:(d.fill=xi(l.legend.symbolBaseFillColor??"black"),d.fillOpacity=xi(m??1));else if(et(d.fill)){const g=Cz(a.fill??a.color)??s.fill??(c&&s.color);g&&(d.fill=xi(g))}}if(d.stroke){if(r==="stroke"||!c&&r===ql)delete d.stroke;else if(yt(d.stroke,"field")||p)delete d.stroke;else if(et(d.stroke)){const g=vo(Cz(a.stroke||a.color),s.stroke,c?s.color:void 0);g&&(d.stroke={value:g})}}if(r!==im){const g=St(t)&&LDe(n,i,t);g?d.opacity=[{test:g,...xi(m??1)},xi(l.legend.unselectedOpacity)]:m&&(d.opacity=xi(m))}return d={...d,...e},Yr(d)?void 0:d}function aLt(e,{model:t,legendType:n,legendCmpt:r}){if(n!=="gradient")return;const{config:i,markDef:o,encoding:s}=t;let a={};const u=(r.get("gradientOpacity")??i.legend.gradientOpacity)===void 0?NDe(s.opacity)||o.opacity:void 0;return u&&(a.opacity=xi(u)),a={...a,...e},Yr(a)?void 0:a}function lLt(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i}){const o=n.legend(r)||{},s=n.config,a=St(t)?LDe(n,i,t):void 0,l=a?[{test:a,value:1},{value:s.legend.unselectedOpacity}]:void 0,{format:u,formatType:c}=o;let d;Tv(c)?d=hd({fieldOrDatumDef:t,field:"datum.value",format:u,formatType:c,config:s}):u===void 0&&c===void 0&&s.customFormatTypes&&(t.type==="quantitative"&&s.numberFormatType?d=hd({fieldOrDatumDef:t,field:"datum.value",format:s.numberFormat,formatType:s.numberFormatType,config:s}):t.type==="temporal"&&s.timeFormatType&&St(t)&&t.timeUnit===void 0&&(d=hd({fieldOrDatumDef:t,field:"datum.value",format:s.timeFormat,formatType:s.timeFormatType,config:s})));const f={...l?{opacity:l}:{},...d?{text:d}:{},...e};return Yr(f)?void 0:f}function uLt(e,{legendCmpt:t}){const n=t.get("selections");return n!=null&&n.length?{...e,fill:{value:"transparent"}}:e}function NDe(e){return ODe(e,(t,n)=>Math.max(t,n.value))}function Cz(e){return ODe(e,(t,n)=>vo(t,n.value))}function ODe(e,t){if(Y$t(e))return jt(e.condition).reduce(t,e.value);if(kd(e))return e.value}function LDe(e,t,n){const r=t.get("selections");if(!(r!=null&&r.length))return;const i=Rt(n.field);return r.map(o=>`(!length(data(${Rt(Ii(o)+Av)})) || (${o}[${i}] && indexof(${o}[${i}], datum.value) >= 0))`).join(" || ")}const nfe={direction:({direction:e})=>e,format:({fieldOrDatumDef:e,legend:t,config:n})=>{const{format:r,formatType:i}=t;return HIe(e,e.type,r,i,n,!1)},formatType:({legend:e,fieldOrDatumDef:t,scaleType:n})=>{const{formatType:r}=e;return VIe(r,t,n)},gradientLength:e=>{const{legend:t,legendConfig:n}=e;return t.gradientLength??n.gradientLength??gLt(e)},labelOverlap:({legend:e,legendConfig:t,scaleType:n})=>e.labelOverlap??t.labelOverlap??yLt(n),symbolType:({legend:e,markDef:t,channel:n,encoding:r})=>e.symbolType??dLt(t.type,n,r.shape,t.shape),title:({fieldOrDatumDef:e,config:t})=>aw(e,t,{allowDisabling:!0}),type:({legendType:e,scaleType:t,channel:n})=>{if(sw(n)&&Sf(t)){if(e==="gradient")return}else if(e==="symbol")return;return e},values:({fieldOrDatumDef:e,legend:t})=>cLt(t,e)};function cLt(e,t){const n=e.values;if(et(n))return nRe(t,n);if(sn(n))return n}function dLt(e,t,n,r){if(t!=="shape"){const i=Cz(n)??r;if(i)return i}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}function fLt(e){const{legend:t}=e;return vo(t.type,hLt(e))}function hLt({channel:e,timeUnit:t,scaleType:n}){if(sw(e)){if(Jn(["quarter","month","day"],t))return"symbol";if(Sf(n))return"gradient"}return"symbol"}function pLt({legendConfig:e,legendType:t,orient:n,legend:r}){return r.direction??e[t?"gradientDirection":"symbolDirection"]??mLt(n,t)}function mLt(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return t==="gradient"?"horizontal":void 0}}function gLt({legendConfig:e,model:t,direction:n,orient:r,scaleType:i}){const{gradientHorizontalMaxLength:o,gradientHorizontalMinLength:s,gradientVerticalMaxLength:a,gradientVerticalMinLength:l}=e;if(Sf(i))return n==="horizontal"?r==="top"||r==="bottom"?rfe(t,"width",s,o):s:rfe(t,"height",l,a)}function rfe(e,t,n,r){return{signal:`clamp(${e.getSizeSignalRef(t).signal}, ${n}, ${r})`}}function yLt(e){if(Jn(["quantile","threshold","log","symlog"],e))return"greedy"}function FDe(e){const t=Li(e)?vLt(e):_Lt(e);return e.component.legends=t,t}function vLt(e){const{encoding:t}=e,n={};for(const r of[ql,...SRe]){const i=Ho(t[r]);!i||!e.getScaleComponent(r)||r===Gl&&St(i)&&i.type===p_||(n[r]=xLt(e,r))}return n}function bLt(e,t){const n=e.scaleName(t);if(e.mark==="trail"){if(t==="color")return{stroke:n};if(t==="size")return{strokeWidth:n}}return t==="color"?e.markDef.filled?{fill:n}:{stroke:n}:{[t]:n}}function wLt(e,t,n,r){switch(t){case"disable":return n!==void 0;case"values":return!!(n!=null&&n.values);case"title":if(t==="title"&&e===(r==null?void 0:r.title))return!0}return e===(n||{})[t]}function xLt(e,t){var E;let n=e.legend(t);const{markDef:r,encoding:i,config:o}=e,s=o.legend,a=new oLt({},bLt(e,t));xNt(e,t,a);const l=n!==void 0?!n:s.disable;if(a.set("disable",l,n!==void 0),l)return a;n=n||{};const u=e.getScaleComponent(t).get("type"),c=Ho(i[t]),d=St(c)?(E=ms(c.timeUnit))==null?void 0:E.unit:void 0,f=n.orient||o.legend.orient||"right",h=fLt({legend:n,channel:t,timeUnit:d,scaleType:u}),p=pLt({legend:n,legendType:h,orient:f,legendConfig:s}),m={legend:n,channel:t,model:e,markDef:r,encoding:i,fieldOrDatumDef:c,legendConfig:s,config:o,scaleType:u,orient:f,legendType:h,direction:p};for(const _ of PDe){if(h==="gradient"&&_.startsWith("symbol")||h==="symbol"&&_.startsWith("gradient"))continue;const x=_ in nfe?nfe[_](m):n[_];if(x!==void 0){const S=wLt(x,_,n,e.fieldDef(t));(S||o.legend[_]===void 0)&&a.set(_,x,S)}}const g=(n==null?void 0:n.encoding)??{},y=a.get("selections"),v={},w={fieldOrDatumDef:c,model:e,channel:t,legendCmpt:a,legendType:h};for(const _ of["labels","legend","title","symbols","gradient","entries"]){const x=$De(g[_]??{},e),S=_ in tfe?tfe[_](x,w):x;S!==void 0&&!Yr(S)&&(v[_]={...y!=null&&y.length&&St(c)?{name:`${Ii(c.field)}_legend_${_}`}:{},...y!=null&&y.length?{interactive:!!y}:{},update:S})}return Yr(v)||a.set("encode",v,!!(n!=null&&n.encoding)),a}function _Lt(e){const{legends:t,resolve:n}=e.component;for(const r of e.children){FDe(r);for(const i of mt(r.component.legends))n.legend[i]=vQ(e.component.resolve,i),n.legend[i]==="shared"&&(t[i]=BDe(t[i],r.component.legends[i]),t[i]||(n.legend[i]="independent",delete t[i]))}for(const r of mt(t))for(const i of e.children)i.component.legends[r]&&n.legend[r]==="shared"&&delete i.component.legends[r];return t}function BDe(e,t){var o,s,a,l;if(!e)return t.clone();const n=e.getWithExplicit("orient"),r=t.getWithExplicit("orient");if(n.explicit&&r.explicit&&n.value!==r.value)return;let i=!1;for(const u of PDe){const c=Qg(e.getWithExplicit(u),t.getWithExplicit(u),u,"legend",(d,f)=>{switch(u){case"symbolType":return ELt(d,f);case"title":return lIe(d,f);case"type":return i=!0,hu("symbol")}return lL(d,f,u,"legend")});e.setWithExplicit(u,c)}return i&&((s=(o=e.implicit)==null?void 0:o.encode)!=null&&s.gradient&&_M(e.implicit,["encode","gradient"]),(l=(a=e.explicit)==null?void 0:a.encode)!=null&&l.gradient&&_M(e.explicit,["encode","gradient"])),e}function ELt(e,t){return t.value==="circle"?t:e}function SLt(e,t,n,r){var i,o;e.encode??(e.encode={}),(i=e.encode)[t]??(i[t]={}),(o=e.encode[t]).update??(o.update={}),e.encode[t].update[n]=r}function jDe(e){const t=e.component.legends,n={};for(const i of mt(t)){const o=e.getScaleComponent(i),s=Kr(o.get("domains"));if(n[s])for(const a of n[s])BDe(a,t[i])||n[s].push(t[i]);else n[s]=[t[i].clone()]}return Ks(n).flat().map(i=>TLt(i,e.config)).filter(i=>i!==void 0)}function TLt(e,t){var s,a,l;const{disable:n,labelExpr:r,selections:i,...o}=e.combine();if(!n){if(t.aria===!1&&o.aria==null&&(o.aria=!1),(s=o.encode)!=null&&s.symbols){const u=o.encode.symbols.update;u.fill&&u.fill.value!=="transparent"&&!u.stroke&&!o.stroke&&(u.stroke={value:"transparent"});for(const c of SRe)o[c]&&delete u[c]}if(o.title||delete o.title,r!==void 0){let u=r;(l=(a=o.encode)==null?void 0:a.labels)!=null&&l.update&&sn(o.encode.labels.update.text)&&(u=bv(r,"datum.label",o.encode.labels.update.text.signal)),SLt(o,"labels","text",{signal:u})}return o}}function CLt(e){return b_(e)||SQ(e)?ALt(e):zDe(e)}function ALt(e){return e.children.reduce((t,n)=>t.concat(n.assembleProjections()),zDe(e))}function zDe(e){const t=e.component.projection;if(!t||t.merged)return[];const n=t.combine(),{name:r}=n;if(t.data){const i={signal:`[${t.size.map(s=>s.signal).join(", ")}]`},o=t.data.reduce((s,a)=>{const l=sn(a)?a.signal:`data('${e.lookupDataSource(a)}')`;return Jn(s,l)||s.push(l),s},[]);if(o.length<=0)throw new Error("Projection's fit didn't find any data sources");return[{name:r,size:i,fit:{signal:o.length>1?`[${o.join(", ")}]`:o[0]},...n}]}else return[{name:r,translate:{signal:"[width / 2, height / 2]"},...n}]}const kLt=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class UDe extends am{constructor(t,n,r,i){super({...n},{name:t}),this.specifiedProjection=n,this.size=r,this.data=i,this.merged=!1}get isFit(){return!!this.data}}function HDe(e){e.component.projection=Li(e)?ILt(e):$Lt(e)}function ILt(e){if(e.hasProjection){const t=Ls(e.specifiedProjection),n=!(t&&(t.scale!=null||t.translate!=null)),r=n?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,i=n?RLt(e):void 0,o=new UDe(e.projectionName(!0),{...Ls(e.config.projection),...t},r,i);return o.get("type")||o.set("type","equalEarth",!1),o}}function RLt(e){const t=[],{encoding:n}=e;for(const r of[[jd,Bd],[Sc,zd]])(Ho(n[r[0]])||Ho(n[r[1]]))&&t.push({signal:e.getName(`geojson_${t.length}`)});return e.channelHasField(Gl)&&e.typedFieldDef(Gl).type===p_&&t.push({signal:e.getName(`geojson_${t.length}`)}),t.length===0&&t.push(e.requestDataName(Bi.Main)),t}function DLt(e,t){const n=sX(kLt,i=>!!(!Vt(e.explicit,i)&&!Vt(t.explicit,i)||Vt(e.explicit,i)&&Vt(t.explicit,i)&&wu(e.get(i),t.get(i))));if(wu(e.size,t.size)){if(n)return e;if(wu(e.explicit,{}))return t;if(wu(t.explicit,{}))return e}return null}function $Lt(e){if(e.children.length===0)return;let t;for(const r of e.children)HDe(r);const n=sX(e.children,r=>{const i=r.component.projection;if(i)if(t){const o=DLt(t,i);return o&&(t=o),!!o}else return t=i,!0;else return!0});if(t&&n){const r=e.projectionName(!0),i=new UDe(r,t.specifiedProjection,t.size,Dn(t.data));for(const o of e.children){const s=o.component.projection;s&&(s.isFit&&i.data.push(...o.component.projection.data),o.renameProjection(s.get("name"),r),s.merged=!0)}return i}}function MLt(e,t,n,r){if(JA(t,n)){const i=Li(e)?e.axis(n)??e.legend(n)??{}:{},o=Ot(t,{expr:"datum"}),s=Ot(t,{expr:"datum",binSuffix:"end"});return{formulaAs:Ot(t,{binSuffix:"range",forAs:!0}),formula:YA(o,s,i.format,i.formatType,r)}}return{}}function VDe(e,t){return`${eIe(e)}_${t}`}function PLt(e,t){return{signal:e.getName(`${t}_bins`),extentSignal:e.getName(`${t}_extent`)}}function bQ(e,t,n){const r=nL(n,void 0)??{},i=VDe(r,t);return e.getName(`${i}_bins`)}function NLt(e){return"as"in e}function ife(e,t,n){let r,i;NLt(e)?r=Bt(e.as)?[e.as,`${e.as}_end`]:[e.as[0],e.as[1]]:r=[Ot(e,{forAs:!0}),Ot(e,{binSuffix:"end",forAs:!0})];const o={...nL(t,void 0)},s=VDe(o,e.field),{signal:a,extentSignal:l}=PLt(n,s);if(WO(o.extent)){const c=o.extent;i=_De(n,c.param,c),delete o.extent}const u={bin:o,field:e.field,as:[r],...a?{signal:a}:{},...l?{extentSignal:l}:{},...i?{span:i}:{}};return{key:s,binComponent:u}}class jf extends Vr{clone(){return new jf(null,Dn(this.bins))}constructor(t,n){super(t),this.bins=n}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,o,s)=>{if(ll(o)&&fi(o.bin)){const{key:a,binComponent:l}=ife(o,o.bin,n);i[a]={...l,...i[a],...MLt(n,o,s,n.config)}}return i},{});return Yr(r)?null:new jf(t,r)}static makeFromTransform(t,n,r){const{key:i,binComponent:o}=ife(n,n.bin,r);return new jf(t,{[i]:o})}merge(t,n){for(const r of mt(t.bins))r in this.bins?(n(t.bins[r].signal,this.bins[r].signal),this.bins[r].as=Ef([...this.bins[r].as,...t.bins[r].as],ir)):this.bins[r]=t.bins[r];for(const r of t.children)t.removeChild(r),r.parent=this;t.remove()}producedFields(){return new Set(Ks(this.bins).map(t=>t.as).flat(2))}dependentFields(){return new Set(Ks(this.bins).map(t=>t.field))}hash(){return`Bin ${ir(this.bins)}`}assemble(){return Ks(this.bins).flatMap(t=>{const n=[],[r,...i]=t.as,{extent:o,...s}=t.bin,a={type:"bin",field:Ec(t.field),as:r,signal:t.signal,...WO(o)?{extent:null}:{extent:o},...t.span?{span:{signal:`span(${t.span})`}}:{},...s};!o&&t.extentSignal&&(n.push({type:"extent",field:Ec(t.field),signal:t.extentSignal}),a.extent={signal:t.extentSignal}),n.push(a);for(const l of i)for(let u=0;u<2;u++)n.push({type:"formula",expr:Ot({field:r[u]},{expr:"datum"}),as:l[u]});return t.formula&&n.push({type:"formula",expr:t.formula,as:t.formulaAs}),n})}}function OLt(e,t,n,r){var o;const i=Li(r)?r.encoding[wh(t)]:void 0;if(ll(n)&&Li(r)&&YIe(n,i,r.markDef,r.config)){e.add(Ot(n,{})),e.add(Ot(n,{suffix:"end"}));const{mark:s,markDef:a,config:l}=r,u=Xg({fieldDef:n,markDef:a,config:l});pC(s)&&u!==.5&&bo(t)&&(e.add(Ot(n,{suffix:uL})),e.add(Ot(n,{suffix:cL}))),n.bin&&JA(n,t)&&e.add(Ot(n,{binSuffix:"range"}))}else if(W3e(t)){const s=V3e(t);e.add(r.getName(s))}else e.add(Ot(n));return gb(n)&&p$t((o=n.scale)==null?void 0:o.range)&&e.add(n.scale.range.field),e}function LLt(e,t){for(const n of mt(t)){const r=t[n];for(const i of mt(r))n in e?e[n][i]=new Set([...e[n][i]??[],...r[i]]):e[n]={[i]:r[i]}}}class wd extends Vr{clone(){return new wd(null,new Set(this.dimensions),Dn(this.measures))}constructor(t,n,r){super(t),this.dimensions=n,this.measures=r}get groupBy(){return this.dimensions}static makeFromEncoding(t,n){let r=!1;n.forEachFieldDef(s=>{s.aggregate&&(r=!0)});const i={},o=new Set;return!r||(n.forEachFieldDef((s,a)=>{const{aggregate:l,field:u}=s;if(l)if(l==="count")i["*"]??(i["*"]={}),i["*"].count=new Set([Ot(s,{forAs:!0})]);else{if(jp(l)||T0(l)){const c=jp(l)?"argmin":"argmax",d=l[c];i[d]??(i[d]={}),i[d][c]=new Set([Ot({op:c,field:d},{forAs:!0})])}else i[u]??(i[u]={}),i[u][l]=new Set([Ot(s,{forAs:!0})]);xh(a)&&n.scaleDomain(a)==="unaggregated"&&(i[u]??(i[u]={}),i[u].min=new Set([Ot({field:u,aggregate:"min"},{forAs:!0})]),i[u].max=new Set([Ot({field:u,aggregate:"max"},{forAs:!0})]))}else OLt(o,a,s,n)}),o.size+mt(i).length===0)?null:new wd(t,o,i)}static makeFromTransform(t,n){var r;const i=new Set,o={};for(const s of n.aggregate){const{op:a,field:l,as:u}=s;a&&(a==="count"?(o["*"]??(o["*"]={}),o["*"].count=new Set([u||Ot(s,{forAs:!0})])):(o[l]??(o[l]={}),(r=o[l])[a]??(r[a]=new Set),o[l][a].add(u||Ot(s,{forAs:!0}))))}for(const s of n.groupby??[])i.add(s);return i.size+mt(o).length===0?null:new wd(t,i,o)}merge(t){return O3e(this.dimensions,t.dimensions)?(LLt(this.measures,t.measures),!0):(BDt("different dimensions, cannot merge"),!1)}addDimensions(t){t.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...mt(this.measures)])}producedFields(){const t=new Set;for(const n of mt(this.measures))for(const r of mt(this.measures[n])){const i=this.measures[n][r];i.size===0?t.add(`${r}_${n}`):i.forEach(t.add,t)}return t}hash(){return`Aggregate ${ir({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const t=[],n=[],r=[];for(const o of mt(this.measures))for(const s of mt(this.measures[o]))for(const a of this.measures[o][s])r.push(a),t.push(s),n.push(o==="*"?null:Ec(o));return{type:"aggregate",groupby:[...this.dimensions].map(Ec),ops:t,fields:n,as:r}}}class y_ extends Vr{constructor(t,n,r,i){super(t),this.model=n,this.name=r,this.data=i;for(const o of cc){const s=n.facet[o];if(s){const{bin:a,sort:l}=s;this[o]={name:n.getName(`${o}_domain`),fields:[Ot(s),...fi(a)?[Ot(s,{binSuffix:"end"})]:[]],...wp(l)?{sortField:l}:et(l)?{sortIndexField:ox(s,o)}:{}}}}this.childModel=n.child}hash(){let t="Facet";for(const n of cc)this[n]&&(t+=` ${n.charAt(0)}:${ir(this[n])}`);return t}get fields(){var n;const t=[];for(const r of cc)(n=this[r])!=null&&n.fields&&t.push(...this[r].fields);return t}dependentFields(){const t=new Set(this.fields);for(const n of cc)this[n]&&(this[n].sortField&&t.add(this[n].sortField.field),this[n].sortIndexField&&t.add(this[n].sortIndexField));return t}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const t={};for(const n of om){const r=this.childModel.component.scales[n];if(r&&!r.merged){const i=r.get("type"),o=r.get("range");if(vs(i)&&hb(o)){const s=bL(this.childModel,n),a=EQ(s);a?t[n]=a:xt(wX(n))}}}return t}assembleRowColumnHeaderData(t,n,r){const i={row:"y",column:"x",facet:void 0}[t],o=[],s=[],a=[];i&&r&&r[i]&&(n?(o.push(`distinct_${r[i]}`),s.push("max")):(o.push(r[i]),s.push("distinct")),a.push(`distinct_${r[i]}`));const{sortField:l,sortIndexField:u}=this[t];if(l){const{op:c=ZO,field:d}=l;o.push(d),s.push(c),a.push(Ot(l,{forAs:!0}))}else u&&(o.push(u),s.push("max"),a.push(u));return{name:this[t].name,source:n??this.data,transform:[{type:"aggregate",groupby:this[t].fields,...o.length?{fields:o,ops:s,as:a}:{}}]}}assembleFacetHeaderData(t){var l;const{columns:n}=this.model.layout,{layoutHeaders:r}=this.model.component,i=[],o={};for(const u of mQ){for(const c of gQ){const d=(r[u]&&r[u][c])??[];for(const f of d)if(((l=f.axes)==null?void 0:l.length)>0){o[u]=!0;break}}if(o[u]){const c=`length(data("${this.facet.name}"))`,d=u==="row"?n?{signal:`ceil(${c} / ${n})`}:1:n?{signal:`min(${c}, ${n})`}:{signal:c};i.push({name:`${this.facet.name}_${u}`,transform:[{type:"sequence",start:0,stop:d}]})}}const{row:s,column:a}=o;return(s||a)&&i.unshift(this.assembleRowColumnHeaderData("facet",null,t)),i}assemble(){const t=[];let n=null;const r=this.getChildIndependentFieldsWithStep(),{column:i,row:o,facet:s}=this;if(i&&o&&(r.x||r.y)){n=`cross_${this.column.name}_${this.row.name}`;const a=[].concat(r.x??[],r.y??[]),l=a.map(()=>"distinct");t.push({name:n,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:a,ops:l}]})}for(const a of[bp,vp])this[a]&&t.push(this.assembleRowColumnHeaderData(a,n,r));if(s){const a=this.assembleFacetHeaderData(r);a&&t.push(...a)}return t}}function ofe(e){return e.startsWith("'")&&e.endsWith("'")||e.startsWith('"')&&e.endsWith('"')?e.slice(1,-1):e}function FLt(e,t){const n=uX(e);if(t==="number")return`toNumber(${n})`;if(t==="boolean")return`toBoolean(${n})`;if(t==="string")return`toString(${n})`;if(t==="date")return`toDate(${n})`;if(t==="flatten")return n;if(t.startsWith("date:")){const r=ofe(t.slice(5,t.length));return`timeParse(${n},'${r}')`}else if(t.startsWith("utc:")){const r=ofe(t.slice(4,t.length));return`utcParse(${n},'${r}')`}else return xt(YRt(t)),null}function BLt(e){const t={};return KR(e.filter,n=>{if(TIe(n)){let r=null;CX(n)?r=yu(n.equal):kX(n)?r=yu(n.lte):AX(n)?r=yu(n.lt):IX(n)?r=yu(n.gt):RX(n)?r=yu(n.gte):DX(n)?r=n.range[0]:$X(n)&&(r=(n.oneOf??n.in)[0]),r&&(pb(r)?t[n.field]="date":Sr(r)?t[n.field]="number":Bt(r)&&(t[n.field]="string")),n.timeUnit&&(t[n.field]="date")}}),t}function jLt(e){const t={};function n(r){tx(r)?t[r.field]="date":r.type==="quantitative"&&_Rt(r.aggregate)?t[r.field]="number":Kw(r.field)>1?r.field in t||(t[r.field]="flatten"):gb(r)&&wp(r.sort)&&Kw(r.sort.field)>1&&(r.sort.field in t||(t[r.sort.field]="flatten"))}if((Li(e)||Au(e))&&e.forEachFieldDef((r,i)=>{if(ll(r))n(r);else{const o=db(i),s=e.fieldDef(o);n({...r,type:s.type})}}),Li(e)){const{mark:r,markDef:i,encoding:o}=e;if(C0(r)&&!e.encoding.order){const s=i.orient==="horizontal"?"y":"x",a=o[s];St(a)&&a.type==="quantitative"&&!(a.field in t)&&(t[a.field]="number")}}return t}function zLt(e){const t={};if(Li(e)&&e.component.selection)for(const n of mt(e.component.selection)){const r=e.component.selection[n];for(const i of r.project.items)!i.channel&&Kw(i.field)>1&&(t[i.field]="flatten")}return t}class Sa extends Vr{clone(){return new Sa(null,Dn(this._parse))}constructor(t,n){super(t),this._parse=n}hash(){return`Parse ${ir(this._parse)}`}static makeExplicit(t,n,r){var s;let i={};const o=n.data;return!Eg(o)&&((s=o==null?void 0:o.format)!=null&&s.parse)&&(i=o.format.parse),this.makeWithAncestors(t,i,{},r)}static makeWithAncestors(t,n,r,i){for(const a of mt(r)){const l=i.getWithExplicit(a);l.value!==void 0&&(l.explicit||l.value===r[a]||l.value==="derived"||r[a]==="flatten"?delete r[a]:xt(lde(a,r[a],l.value)))}for(const a of mt(n)){const l=i.get(a);l!==void 0&&(l===n[a]?delete n[a]:xt(lde(a,n[a],l)))}const o=new am(n,r);i.copyAll(o);const s={};for(const a of mt(o.combine())){const l=o.get(a);l!==null&&(s[a]=l)}return mt(s).length===0||i.parseNothing?null:new Sa(t,s)}get parse(){return this._parse}merge(t){this._parse={...this._parse,...t.parse},t.remove()}assembleFormatParse(){const t={};for(const n of mt(this._parse)){const r=this._parse[n];Kw(n)===1&&(t[n]=r)}return t}producedFields(){return new Set(mt(this._parse))}dependentFields(){return new Set(mt(this._parse))}assembleTransforms(t=!1){return mt(this._parse).filter(n=>t?Kw(n)>1:!0).map(n=>{const r=FLt(n,this._parse[n]);return r?{type:"formula",expr:r,as:f_(n)}:null}).filter(n=>n!==null)}}class Jg extends Vr{clone(){return new Jg(null)}constructor(t){super(t)}dependentFields(){return new Set}producedFields(){return new Set([Rd])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:Rd}}}class i2 extends Vr{clone(){return new i2(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${ir(this.params)}`}assemble(){return{type:"graticule",...this.params===!0?{}:this.params}}}class o2 extends Vr{clone(){return new o2(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){return new Set([this.params.as??"data"])}hash(){return`Hash ${ir(this.params)}`}assemble(){return{type:"sequence",...this.params}}}class Rv extends Vr{constructor(t){super(null),t??(t={name:"source"});let n;if(Eg(t)||(n=t.format?{...jl(t.format,["parse"])}:{}),mC(t))this._data={values:t.values};else if(nx(t)){if(this._data={url:t.url},!n.type){let r=/(?:\.([^.]+))?$/.exec(t.url)[1];Jn(["json","csv","tsv","dsv","topojson"],r)||(r="json"),n.type=r}}else URe(t)?this._data={values:[{type:"Sphere"}]}:(jRe(t)||Eg(t))&&(this._data={});this._generator=Eg(t),t.name&&(this._name=t.name),n&&!Yr(n)&&(this._data.format=n)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(t){this._name=t}set parent(t){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return{name:this._name,...this._data,transform:[]}}}var sfe=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},ULt=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},TS;function wQ(e){return e instanceof Rv||e instanceof i2||e instanceof o2}class xQ{constructor(){TS.set(this,void 0),sfe(this,TS,!1,"f")}setModified(){sfe(this,TS,!0,"f")}get modifiedFlag(){return ULt(this,TS,"f")}}TS=new WeakMap;class vb extends xQ{getNodeDepths(t,n,r){r.set(t,n);for(const i of t.children)this.getNodeDepths(i,n+1,r);return r}optimize(t){const r=[...this.getNodeDepths(t,0,new Map).entries()].sort((i,o)=>o[1]-i[1]);for(const i of r)this.run(i[0]);return this.modifiedFlag}}class _Q extends xQ{optimize(t){this.run(t);for(const n of t.children)this.optimize(n);return this.modifiedFlag}}class HLt extends _Q{mergeNodes(t,n){const r=n.shift();for(const i of n)t.removeChild(i),i.parent=r,i.remove()}run(t){const n=t.children.map(i=>i.hash()),r={};for(let i=0;i<n.length;i++)r[n[i]]===void 0?r[n[i]]=[t.children[i]]:r[n[i]].push(t.children[i]);for(const i of mt(r))r[i].length>1&&(this.setModified(),this.mergeNodes(t,r[i]))}}class VLt extends _Q{constructor(t){super(),this.requiresSelectionId=t&&dQ(t)}run(t){t instanceof Jg&&(this.requiresSelectionId&&(wQ(t.parent)||t.parent instanceof wd||t.parent instanceof Sa)||(this.setModified(),t.remove()))}}class WLt extends xQ{optimize(t){return this.run(t,new Set),this.modifiedFlag}run(t,n){let r=new Set;t instanceof Ff&&(r=t.producedFields(),aX(r,n)&&(this.setModified(),t.removeFormulas(n),t.producedFields.length===0&&t.remove()));for(const i of t.children)this.run(i,new Set([...n,...r]))}}class qLt extends _Q{constructor(){super()}run(t){t instanceof zl&&!t.isRequired()&&(this.setModified(),t.remove())}}class GLt extends vb{run(t){if(!wQ(t)&&!(t.numChildren()>1)){for(const n of t.children)if(n instanceof Sa)if(t instanceof Sa)this.setModified(),t.merge(n);else{if(lX(t.producedFields(),n.dependentFields()))continue;this.setModified(),n.swapWithParent()}}}}class YLt extends vb{run(t){const n=[...t.children],r=t.children.filter(i=>i instanceof Sa);if(t.numChildren()>1&&r.length>=1){const i={},o=new Set;for(const s of r){const a=s.parse;for(const l of mt(a))l in i?i[l]!==a[l]&&o.add(l):i[l]=a[l]}for(const s of o)delete i[s];if(!Yr(i)){this.setModified();const s=new Sa(t,i);for(const a of n){if(a instanceof Sa)for(const l of mt(i))delete a.parse[l];t.removeChild(a),a.parent=s,a instanceof Sa&&mt(a.parse).length===0&&a.remove()}}}}}class KLt extends vb{run(t){t instanceof zl||t.numChildren()>0||t instanceof y_||t instanceof Rv||(this.setModified(),t.remove())}}class XLt extends vb{run(t){const n=t.children.filter(i=>i instanceof Ff),r=n.pop();for(const i of n)this.setModified(),r.merge(i)}}class QLt extends vb{run(t){const n=t.children.filter(i=>i instanceof wd),r={};for(const i of n){const o=ir(i.groupBy);o in r||(r[o]=[]),r[o].push(i)}for(const i of mt(r)){const o=r[i];if(o.length>1){const s=o.pop();for(const a of o)s.merge(a)&&(t.removeChild(a),a.parent=s,a.remove(),this.setModified())}}}}class JLt extends vb{constructor(t){super(),this.model=t}run(t){const n=!(wQ(t)||t instanceof g_||t instanceof Sa||t instanceof Jg),r=[],i=[];for(const o of t.children)o instanceof jf&&(n&&!lX(t.producedFields(),o.dependentFields())?r.push(o):i.push(o));if(r.length>0){const o=r.pop();for(const s of r)o.merge(s,this.model.renameSignal.bind(this.model));this.setModified(),t instanceof jf?t.merge(o,this.model.renameSignal.bind(this.model)):o.swapWithParent()}if(i.length>1){const o=i.pop();for(const s of i)o.merge(s,this.model.renameSignal.bind(this.model));this.setModified()}}}class ZLt extends vb{run(t){const n=[...t.children];if(!Yw(n,s=>s instanceof zl)||t.numChildren()<=1)return;const i=[];let o;for(const s of n)if(s instanceof zl){let a=s;for(;a.numChildren()===1;){const[l]=a.children;if(l instanceof zl)a=l;else break}i.push(...a.children),o?(t.removeChild(s),s.parent=o.parent,o.parent.removeChild(o),o.parent=a,this.setModified()):o=a}else i.push(s);if(i.length){this.setModified();for(const s of i)s.parent.removeChild(s),s.parent=o}}}class bb extends Vr{clone(){return new bb(null,Dn(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=Ef(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return this.transform.groupby&&this.transform.groupby.forEach(t.add,t),this.transform.joinaggregate.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(t){return t.as??Ot(t)}hash(){return`JoinAggregateTransform ${ir(this.transform)}`}assemble(){const t=[],n=[],r=[];for(const o of this.transform.joinaggregate)n.push(o.op),r.push(this.getDefaultName(o)),t.push(o.field===void 0?null:o.field);const i=this.transform.groupby;return{type:"joinaggregate",as:r,ops:n,fields:t,...i!==void 0?{groupby:i}:{}}}}class ax extends Vr{clone(){return new ax(null,{...this.filter})}constructor(t,n){super(t),this.filter=n}static make(t,n,r){const{config:i,markDef:o}=n,{marks:s,scales:a}=r;if(s==="include-invalid-values"&&a==="include-invalid-values")return null;const l=n.reduceFieldDef((u,c,d)=>{const f=xh(d)&&n.getScaleComponent(d);if(f){const h=f.get("type"),{aggregate:p}=c,m=BX({scaleChannel:d,markDef:o,config:i,scaleType:h,isCountAggregate:VO(p)});m!=="show"&&m!=="always-valid"&&(u[c.field]=c)}return u},{});return mt(l).length?new ax(t,l):null}dependentFields(){return new Set(mt(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${ir(this.filter)}`}assemble(){const t=mt(this.filter).reduce((n,r)=>{const i=this.filter[r],o=Ot(i,{expr:"datum"});return i!==null&&(i.type==="temporal"?n.push(`(isDate(${o}) || (${Az(o)}))`):i.type==="quantitative"&&n.push(Az(o))),n},[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null}}function Az(e){return`isValid(${e}) && isFinite(+${e})`}function e4t(e){return e.stack.stackBy.reduce((t,n)=>{const r=n.fieldDef,i=Ot(r);return i&&t.push(i),t},[])}function t4t(e){return et(e)&&e.every(t=>Bt(t))&&e.length>1}class _p extends Vr{clone(){return new _p(null,Dn(this._stack))}constructor(t,n){super(t),this._stack=n}static makeFromTransform(t,n){const{stack:r,groupby:i,as:o,offset:s="zero"}=n,a=[],l=[];if(n.sort!==void 0)for(const d of n.sort)a.push(d.field),l.push(vo(d.order,"ascending"));const u={field:a,order:l};let c;return t4t(o)?c=o:Bt(o)?c=[o,`${o}_end`]:c=[`${n.stack}_start`,`${n.stack}_end`],new _p(t,{dimensionFieldDefs:[],stackField:r,groupby:i,offset:s,sort:u,facetby:[],as:c})}static makeFromEncoding(t,n){const r=n.stack,{encoding:i}=n;if(!r)return null;const{groupbyChannels:o,fieldChannel:s,offset:a,impute:l}=r,u=o.map(h=>{const p=i[h];return Id(p)}).filter(h=>!!h),c=e4t(n),d=n.encoding.order;let f;if(et(d)||St(d))f=oIe(d);else{const h=KIe(d)?d.sort:s==="y"?"descending":"ascending";f=c.reduce((p,m)=>(p.field.includes(m)||(p.field.push(m),p.order.push(h)),p),{field:[],order:[]})}return new _p(t,{dimensionFieldDefs:u,stackField:n.vgField(s),facetby:[],stackby:c,sort:f,offset:a,impute:l,as:[n.vgField(s,{suffix:"start",forAs:!0}),n.vgField(s,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(t){this._stack.facetby.push(...t)}dependentFields(){const t=new Set;return t.add(this._stack.stackField),this.getGroupbyFields().forEach(t.add,t),this._stack.facetby.forEach(t.add,t),this._stack.sort.field.forEach(t.add,t),t}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${ir(this._stack)}`}getGroupbyFields(){const{dimensionFieldDefs:t,impute:n,groupby:r}=this._stack;return t.length>0?t.map(i=>i.bin?n?[Ot(i,{binSuffix:"mid"})]:[Ot(i,{}),Ot(i,{binSuffix:"end"})]:[Ot(i)]).flat():r??[]}assemble(){const t=[],{facetby:n,dimensionFieldDefs:r,stackField:i,stackby:o,sort:s,offset:a,impute:l,as:u}=this._stack;if(l)for(const c of r){const{bandPosition:d=.5,bin:f}=c;if(f){const h=Ot(c,{expr:"datum"}),p=Ot(c,{expr:"datum",binSuffix:"end"});t.push({type:"formula",expr:`${Az(h)} ? ${d}*${h}+${1-d}*${p} : ${h}`,as:Ot(c,{binSuffix:"mid",forAs:!0})})}t.push({type:"impute",field:i,groupby:[...o,...n],key:Ot(c,{binSuffix:"mid"}),method:"value",value:0})}return t.push({type:"stack",groupby:[...this.getGroupbyFields(),...n],field:i,sort:s,as:u,offset:a}),t}}class v_ extends Vr{clone(){return new v_(null,Dn(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=Ef(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return(this.transform.groupby??[]).forEach(t.add,t),(this.transform.sort??[]).forEach(n=>t.add(n.field)),this.transform.window.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(t){return t.as??Ot(t)}hash(){return`WindowTransform ${ir(this.transform)}`}assemble(){const t=[],n=[],r=[],i=[];for(const d of this.transform.window)n.push(d.op),r.push(this.getDefaultName(d)),i.push(d.param===void 0?null:d.param),t.push(d.field===void 0?null:d.field);const o=this.transform.frame,s=this.transform.groupby;if(o&&o[0]===null&&o[1]===null&&n.every(d=>vX(d)))return{type:"joinaggregate",as:r,ops:n,fields:t,...s!==void 0?{groupby:s}:{}};const a=[],l=[];if(this.transform.sort!==void 0)for(const d of this.transform.sort)a.push(d.field),l.push(d.order??"ascending");const u={field:a,order:l},c=this.transform.ignorePeers;return{type:"window",params:i,as:r,ops:n,fields:t,sort:u,...c!==void 0?{ignorePeers:c}:{},...s!==void 0?{groupby:s}:{},...o!==void 0?{frame:o}:{}}}}function n4t(e){function t(n){if(!(n instanceof y_)){const r=n.clone();if(r instanceof zl){const i=Iz+r.getSource();r.setSource(i),e.model.component.data.outputNodes[i]=r}else(r instanceof wd||r instanceof _p||r instanceof v_||r instanceof bb)&&r.addDimensions(e.fields);for(const i of n.children.flatMap(t))i.parent=r;return[r]}return n.children.flatMap(t)}return t}function kz(e){if(e instanceof y_)if(e.numChildren()===1&&!(e.children[0]instanceof zl)){const t=e.children[0];(t instanceof wd||t instanceof _p||t instanceof v_||t instanceof bb)&&t.addDimensions(e.fields),t.swapWithParent(),kz(e)}else{const t=e.model.component.data.main;WDe(t);const n=n4t(e),r=e.children.map(n).flat();for(const i of r)i.parent=t}else e.children.map(kz)}function WDe(e){if(e instanceof zl&&e.type===Bi.Main&&e.numChildren()===1){const t=e.children[0];t instanceof y_||(t.swapWithParent(),WDe(e))}}const Iz="scale_",x3=5;function Rz(e){for(const t of e){for(const n of t.children)if(n.parent!==t)return!1;if(!Rz(t.children))return!1}return!0}function Wc(e,t){let n=!1;for(const r of t)n=e.optimize(r)||n;return n}function afe(e,t,n){let r=e.sources,i=!1;return i=Wc(new qLt,r)||i,i=Wc(new VLt(t),r)||i,r=r.filter(o=>o.numChildren()>0),i=Wc(new KLt,r)||i,r=r.filter(o=>o.numChildren()>0),n||(i=Wc(new GLt,r)||i,i=Wc(new JLt(t),r)||i,i=Wc(new WLt,r)||i,i=Wc(new YLt,r)||i,i=Wc(new QLt,r)||i,i=Wc(new XLt,r)||i,i=Wc(new HLt,r)||i,i=Wc(new ZLt,r)||i),e.sources=r,i}function r4t(e,t){Rz(e.sources);let n=0,r=0;for(let i=0;i<x3&&afe(e,t,!0);i++)n++;e.sources.map(kz);for(let i=0;i<x3&&afe(e,t,!1);i++)r++;Rz(e.sources),Math.max(n,r)===x3&&xt(`Maximum optimization runs(${x3}) reached.`)}class as{constructor(t){Object.defineProperty(this,"signal",{enumerable:!0,get:t})}static fromName(t,n){return new as(()=>t(n))}}function qDe(e){Li(e)?i4t(e):o4t(e)}function i4t(e){const t=e.component.scales;for(const n of mt(t)){const r=a4t(e,n);if(t[n].setWithExplicit("domains",r),u4t(e,n),e.component.data.isFaceted){let o=e;for(;!Au(o)&&o.parent;)o=o.parent;if(o.component.resolve.scale[n]==="shared")for(const a of r.value)lp(a)&&(a.data=Iz+a.data.replace(Iz,""))}}}function o4t(e){for(const n of e.children)qDe(n);const t=e.component.scales;for(const n of mt(t)){let r,i=null;for(const o of e.children){const s=o.component.scales[n];if(s){r===void 0?r=s.getWithExplicit("domains"):r=Qg(r,s.getWithExplicit("domains"),"domains","scale",Dz);const a=s.get("selectionExtent");i&&a&&i.param!==a.param&&xt(zRt),i=a}}t[n].setWithExplicit("domains",r),i&&t[n].set("selectionExtent",i,!0)}}function s4t(e,t,n,r){if(e==="unaggregated"){const{valid:i,reason:o}=lfe(t,n);if(!i){xt(o);return}}else if(e===void 0&&r.useUnaggregatedDomain){const{valid:i}=lfe(t,n);if(i)return"unaggregated"}return e}function a4t(e,t){const n=e.getScaleComponent(t).get("type"),{encoding:r}=e,i=s4t(e.scaleDomain(t),e.typedFieldDef(t),n,e.config.scale);return i!==e.scaleDomain(t)&&(e.specifiedScales[t]={...e.specifiedScales[t],domain:i}),t==="x"&&Ho(r.x2)?Ho(r.x)?Qg(Lm(n,i,e,"x"),Lm(n,i,e,"x2"),"domain","scale",Dz):Lm(n,i,e,"x2"):t==="y"&&Ho(r.y2)?Ho(r.y)?Qg(Lm(n,i,e,"y"),Lm(n,i,e,"y2"),"domain","scale",Dz):Lm(n,i,e,"y2"):Lm(n,i,e,t)}function l4t(e,t,n){return e.map(r=>({signal:`{data: ${rL(r,{timeUnit:n,type:t})}}`}))}function NB(e,t,n){var i;const r=(i=ms(n))==null?void 0:i.unit;return t==="temporal"||r?l4t(e,t,r):[e]}function Lm(e,t,n,r){const{encoding:i,markDef:o,mark:s,config:a,stack:l}=n,u=Ho(i[r]),{type:c}=u,d=u.timeUnit,f=WPt({invalid:Zf("invalid",o,a),isPath:C0(s)});if(h$t(t)){const m=Lm(e,void 0,n,r),g=NB(t.unionWith,c,d);return ff([...g,...m.value])}else{if(sn(t))return ff([t]);if(t&&t!=="unaggregated"&&!$Ie(t))return ff(NB(t,c,d))}if(l&&r===l.fieldChannel){if(l.offset==="normalize")return hu([[0,1]]);const m=n.requestDataName(f);return hu([{data:m,field:n.vgField(r,{suffix:"start"})},{data:m,field:n.vgField(r,{suffix:"end"})}])}const h=xh(r)&&St(u)?c4t(n,r,e):void 0;if(_h(u)){const m=NB([u.datum],c,d);return hu(m)}const p=u;if(t==="unaggregated"){const{field:m}=u;return hu([{data:n.requestDataName(f),field:Ot({field:m,aggregate:"min"})},{data:n.requestDataName(f),field:Ot({field:m,aggregate:"max"})}])}else if(fi(p.bin)){if(vs(e))return hu(e==="bin-ordinal"?[]:[{data:fC(h)?n.requestDataName(f):n.requestDataName(Bi.Raw),field:n.vgField(r,JA(p,r)?{binSuffix:"range"}:{}),sort:h===!0||!Ft(h)?{field:n.vgField(r,{}),op:"min"}:h}]);{const{bin:m}=p;if(fi(m)){const g=bQ(n,p.field,m);return hu([new as(()=>{const y=n.getSignalName(g);return`[${y}.start, ${y}.stop]`})])}else return hu([{data:n.requestDataName(f),field:n.vgField(r,{})}])}}else if(p.timeUnit&&Jn(["time","utc"],e)){const m=i[wh(r)];if(YIe(p,m,o,a)){const g=n.requestDataName(f),y=Xg({fieldDef:p,fieldDef2:m,markDef:o,config:a}),v=pC(s)&&y!==.5&&bo(r);return hu([{data:g,field:n.vgField(r,v?{suffix:uL}:{})},{data:g,field:n.vgField(r,{suffix:v?cL:"end"})}])}}return hu(h?[{data:fC(h)?n.requestDataName(f):n.requestDataName(Bi.Raw),field:n.vgField(r),sort:h}]:[{data:n.requestDataName(f),field:n.vgField(r)}])}function OB(e,t){const{op:n,field:r,order:i}=e;return{op:n??(t?"sum":ZO),...r?{field:Ec(r)}:{},...i?{order:i}:{}}}function u4t(e,t){var a;const n=e.component.scales[t],r=e.specifiedScales[t].domain,i=(a=e.fieldDef(t))==null?void 0:a.bin,o=$Ie(r)?r:void 0,s=fb(i)&&WO(i.extent)?i.extent:void 0;(o||s)&&n.set("selectionExtent",o??s,!0)}function c4t(e,t,n){if(!vs(n))return;const r=e.fieldDef(t),i=r.sort;if(qIe(i))return{op:"min",field:ox(r,t),order:"ascending"};const{stack:o}=e,s=o?new Set([...o.groupbyFields,...o.stackBy.map(a=>a.fieldDef.field)]):void 0;if(wp(i)){const a=o&&!s.has(i.field);return OB(i,a)}else if(W$t(i)){const{encoding:a,order:l}=i,u=e.fieldDef(a),{aggregate:c,field:d}=u,f=o&&!s.has(d);if(jp(c)||T0(c))return OB({field:Ot(u),order:l},f);if(vX(c)||!c)return OB({op:c,field:d,order:l},f)}else{if(i==="descending")return{op:"min",field:e.vgField(t),order:"descending"};if(Jn(["ascending",void 0],i))return!0}}function lfe(e,t){const{aggregate:n,type:r}=e;return n?Bt(n)&&!SRt.has(n)?{valid:!1,reason:gDt(n)}:r==="quantitative"&&t==="log"?{valid:!1,reason:yDt(e)}:{valid:!0}:{valid:!1,reason:mDt(e)}}function Dz(e,t,n,r){return e.explicit&&t.explicit&&xt(_Dt(n,r,e.value,t.value)),{explicit:e.explicit,value:[...e.value,...t.value]}}function d4t(e){const t=Ef(e.map(s=>{if(lp(s)){const{sort:a,...l}=s;return l}return s}),ir),n=Ef(e.map(s=>{if(lp(s)){const a=s.sort;return a!==void 0&&!fC(a)&&("op"in a&&a.op==="count"&&delete a.field,a.order==="ascending"&&delete a.order),a}}).filter(s=>s!==void 0),ir);if(t.length===0)return;if(t.length===1){const s=e[0];if(lp(s)&&n.length>0){let a=n[0];if(n.length>1){xt(cde);const l=n.filter(u=>Ft(u)&&"op"in u&&u.op!=="min");n.every(u=>Ft(u)&&"op"in u)&&l.length===1?a=l[0]:a=!0}else if(Ft(a)&&"field"in a){const l=a.field;s.field===l&&(a=a.order?{order:a.order}:!0)}return{...s,sort:a}}return s}const r=Ef(n.map(s=>fC(s)||!("op"in s)||Bt(s.op)&&Vt(wRt,s.op)?s:(xt(SDt(s)),!0)),ir);let i;r.length===1?i=r[0]:r.length>1&&(xt(cde),i=!0);const o=Ef(e.map(s=>lp(s)?s.data:null),s=>s);return o.length===1&&o[0]!==null?{data:o[0],fields:t.map(a=>a.field),...i?{sort:i}:{}}:{fields:t,...i?{sort:i}:{}}}function EQ(e){if(lp(e)&&Bt(e.field))return e.field;if(TRt(e)){let t;for(const n of e.fields)if(lp(n)&&Bt(n.field)){if(!t)t=n.field;else if(t!==n.field)return xt(TDt),t}return xt(CDt),t}else if(CRt(e)){xt(ADt);const t=e.fields[0];return Bt(t)?t:void 0}}function bL(e,t){const r=e.component.scales[t].get("domains").map(i=>(lp(i)&&(i.data=e.lookupDataSource(i.data)),i));return d4t(r)}function GDe(e){return b_(e)||SQ(e)?e.children.reduce((t,n)=>t.concat(GDe(n)),ufe(e)):ufe(e)}function ufe(e){return mt(e.component.scales).reduce((t,n)=>{const r=e.component.scales[n];if(r.merged)return t;const i=r.combine(),{name:o,type:s,selectionExtent:a,domains:l,range:u,reverse:c,...d}=i,f=f4t(i.range,o,n,e),h=bL(e,n),p=a?nNt(e,a,r,h):null;return t.push({name:o,type:s,...h?{domain:h}:{},...p?{domainRaw:p}:{},range:f,...c!==void 0?{reverse:c}:{},...d}),t},[])}function f4t(e,t,n,r){if(bo(n)){if(hb(e))return{step:{signal:`${t}_step`}}}else if(Ft(e)&&lp(e))return{...e,data:r.lookupDataSource(e.data)};return e}class YDe extends am{constructor(t,n){super({},{name:t}),this.merged=!1,this.setWithExplicit("type",n)}domainHasZero(){const t=this.get("type");if(Jn([Bs.LOG,Bs.TIME,Bs.UTC],t))return"definitely-not";const n=this.get("zero");if(n===!0||n===void 0&&Jn([Bs.LINEAR,Bs.SQRT,Bs.POW],t))return"definitely";const r=this.get("domains");if(r.length>0){let i=!1,o=!1,s=!1;for(const a of r){if(et(a)){const l=a[0],u=a[a.length-1];if(Sr(l)&&Sr(u))if(l<=0&&u>=0){i=!0;continue}else{o=!0;continue}}s=!0}if(i)return"definitely";if(o&&!s)return"definitely-not"}return"maybe"}}const h4t=["range","scheme"];function p4t(e){const t=e.component.scales;for(const n of yX){const r=t[n];if(!r)continue;const i=m4t(n,e);r.setWithExplicit("range",i)}}function cfe(e,t){const n=e.fieldDef(t);if(n!=null&&n.bin){const{bin:r,field:i}=n,o=Yl(t),s=e.getName(o);if(Ft(r)&&r.binned&&r.step!==void 0)return new as(()=>{const a=e.scaleName(t),l=`(domain("${a}")[1] - domain("${a}")[0]) / ${r.step}`;return`${e.getSignalName(s)} / (${l})`});if(fi(r)){const a=bQ(e,i,r);return new as(()=>{const l=e.getSignalName(a),u=`(${l}.stop - ${l}.start) / ${l}.step`;return`${e.getSignalName(s)} / (${u})`})}}}function m4t(e,t){const n=t.specifiedScales[e],{size:r}=t,o=t.getScaleComponent(e).get("type");for(const d of h4t)if(n[d]!==void 0){const f=uz(o,d),h=MIe(e,d);if(!f)xt(fIe(o,d,e));else if(h)xt(h);else switch(d){case"range":{const p=n.range;if(et(p)){if(bo(e))return ff(p.map(m=>{if(m==="width"||m==="height"){const g=t.getName(m),y=t.getSignalName.bind(t);return as.fromName(y,g)}return m}))}else if(Ft(p))return ff({data:t.requestDataName(Bi.Main),field:p.field,sort:{op:"min",field:t.vgField(e)}});return ff(p)}case"scheme":return ff(g4t(n[d]))}}const s=e===Di||e==="xOffset"?"width":"height",a=r[s];if(th(a)){if(bo(e))if(vs(o)){const d=XDe(a,t,e);if(d)return ff({step:d})}else xt(hIe(s));else if(WA(e)){const d=e===b0?"x":"y";if(t.getScaleComponent(d).get("type")==="band"){const p=QDe(a,o);if(p)return ff(p)}}}const{rangeMin:l,rangeMax:u}=n,c=y4t(e,t);return(l!==void 0||u!==void 0)&&uz(o,"rangeMin")&&et(c)&&c.length===2?ff([l??c[0],u??c[1]]):hu(c)}function g4t(e){return f$t(e)?{scheme:e.name,...jl(e,["name"])}:{scheme:e}}function KDe(e,t,n,{center:r}={}){const i=Yl(e),o=t.getName(i),s=t.getSignalName.bind(t);return e===_s&&Ad(n)?r?[as.fromName(a=>`${s(a)}/2`,o),as.fromName(a=>`-${s(a)}/2`,o)]:[as.fromName(s,o),0]:r?[as.fromName(a=>`-${s(a)}/2`,o),as.fromName(a=>`${s(a)}/2`,o)]:[0,as.fromName(s,o)]}function y4t(e,t){const{size:n,config:r,mark:i,encoding:o}=t,{type:s}=Ho(o[e]),l=t.getScaleComponent(e).get("type"),{domain:u,domainMid:c}=t.specifiedScales[e];switch(e){case Di:case _s:{if(Jn(["point","band"],l)){const d=JDe(e,n,r.view);if(th(d))return{step:XDe(d,t,e)}}return KDe(e,t,l)}case b0:case h_:return v4t(e,t,l);case rm:{const d=x4t(i,r),f=_4t(i,n,t,r);return Jw(l)?w4t(d,f,b4t(l,r,u,e)):[d,f]}case Mc:return[0,Math.PI*2];case cb:return[0,360];case Fd:return[0,new as(()=>{const d=t.getSignalName(Au(t.parent)?"child_width":"width"),f=t.getSignalName(Au(t.parent)?"child_height":"height");return`min(${d},${f})/2`})];case w0:return{step:1e3/r.scale.framesPerSecond};case E0:return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case S0:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case Gl:return"symbol";case ql:case vh:case bh:return l==="ordinal"?s==="nominal"?"category":"ordinal":c!==void 0?"diverging":i==="rect"||i==="geoshape"?"heatmap":"ramp";case im:case x0:case _0:return[r.scale.minOpacity,r.scale.maxOpacity]}}function XDe(e,t,n){const{encoding:r}=t,i=t.getScaleComponent(n),o=hX(n),s=r[o];if(CRe({step:e,offsetIsDiscrete:$n(s)&&AIe(s.type)})==="offset"&&sRe(r,o)){const l=t.getScaleComponent(o);let c=`domain('${t.scaleName(o)}').length`;if(l.get("type")==="band"){const f=l.get("paddingInner")??l.get("padding")??0,h=l.get("paddingOuter")??l.get("padding")??0;c=`bandspace(${c}, ${f}, ${h})`}const d=i.get("paddingInner")??i.get("padding");return{signal:`${e.step} * ${c} / (1-${RRt(d)})`}}else return e.step}function QDe(e,t){if(CRe({step:e,offsetIsDiscrete:vs(t)})==="offset")return{step:e.step}}function v4t(e,t,n){const r=e===b0?"x":"y",i=t.getScaleComponent(r);if(!i)return KDe(r,t,n,{center:!0});const o=i.get("type"),s=t.scaleName(r),{markDef:a,config:l}=t;if(o==="band"){const u=JDe(r,t.size,t.config.view);if(th(u)){const c=QDe(u,n);if(c)return c}return[0,{signal:`bandwidth('${s}')`}]}else{const u=t.encoding[r];if(St(u)&&u.timeUnit){const c=EIe(u.timeUnit,p=>`scale('${s}', ${p})`),d=t.config.scale.bandWithNestedOffsetPaddingInner,f=Xg({fieldDef:u,markDef:a,config:l})-.5,h=f!==0?` + ${f}`:"";if(d){const p=sn(d)?`${d.signal}/2`+h:`${d/2+f}`,m=sn(d)?`(1 - ${d.signal}/2)`+h:`${1-d/2+f}`;return[{signal:`${p} * (${c})`},{signal:`${m} * (${c})`}]}return[0,{signal:c}]}return P3e(`Cannot use ${e} scale if ${r} scale is not discrete.`)}}function JDe(e,t,n){const r=e===Di?"width":"height",i=t[r];return i||DM(n,r)}function b4t(e,t,n,r){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return n!==void 0&&et(n)?n.length+1:(xt(ODt(r)),3)}}function w4t(e,t,n){const r=()=>{const i=fd(t),o=fd(e),s=`(${i} - ${o}) / (${n} - 1)`;return`sequence(${o}, ${i} + ${s}, ${s})`};return sn(t)?new as(r):{signal:r()}}function x4t(e,t){switch(e){case"bar":case"tick":return t.scale.minBandSize;case"line":case"trail":case"rule":return t.scale.minStrokeWidth;case"text":return t.scale.minFontSize;case"point":case"square":case"circle":return t.scale.minSize}throw new Error(qO("size",e))}const dfe=.95;function _4t(e,t,n,r){const i={x:cfe(n,"x"),y:cfe(n,"y")};switch(e){case"bar":case"tick":{if(r.scale.maxBandSize!==void 0)return r.scale.maxBandSize;const o=ffe(t,i,r.view);return Sr(o)?o-1:new as(()=>`${o.signal} - 1`)}case"line":case"trail":case"rule":return r.scale.maxStrokeWidth;case"text":return r.scale.maxFontSize;case"point":case"square":case"circle":{if(r.scale.maxSize)return r.scale.maxSize;const o=ffe(t,i,r.view);return Sr(o)?Math.pow(dfe*o,2):new as(()=>`pow(${dfe} * ${o.signal}, 2)`)}}throw new Error(qO("size",e))}function ffe(e,t,n){const r=th(e.width)?e.width.step:hz(n,"width"),i=th(e.height)?e.height.step:hz(n,"height");return t.x||t.y?new as(()=>`min(${[t.x?t.x.signal:r,t.y?t.y.signal:i].join(", ")})`):Math.min(r,i)}function ZDe(e,t){Li(e)?E4t(e,t):t$e(e,t)}function E4t(e,t){const n=e.component.scales,{config:r,encoding:i,markDef:o,specifiedScales:s}=e;for(const a of mt(n)){const l=s[a],u=n[a],c=e.getScaleComponent(a),d=Ho(i[a]),f=l[t],h=c.get("type"),p=c.get("padding"),m=c.get("paddingInner"),g=uz(h,t),y=MIe(a,t);if(f!==void 0&&(g?y&&xt(y):xt(fIe(h,t,a))),g&&y===void 0)if(f!==void 0){const v=d.timeUnit,w=d.type;switch(t){case"domainMax":case"domainMin":pb(l[t])||w==="temporal"||v?u.set(t,{signal:rL(l[t],{type:w,timeUnit:v})},!0):u.set(t,l[t],!0);break;default:u.copyKeyFromObject(t,l)}}else{const v=yt(hfe,t)?hfe[t]({model:e,channel:a,fieldOrDatumDef:d,scaleType:h,scalePadding:p,scalePaddingInner:m,domain:l.domain,domainMin:l.domainMin,domainMax:l.domainMax,markDef:o,config:r,hasNestedOffsetScale:aRe(i,a),hasSecondaryRangeChannel:!!i[wh(a)]}):r.scale[t];v!==void 0&&u.set(t,v,!1)}}}const hfe={bins:({model:e,fieldOrDatumDef:t})=>St(t)?S4t(e,t):void 0,interpolate:({channel:e,fieldOrDatumDef:t})=>T4t(e,t.type),nice:({scaleType:e,channel:t,domain:n,domainMin:r,domainMax:i,fieldOrDatumDef:o})=>C4t(e,t,n,r,i,o),padding:({channel:e,scaleType:t,fieldOrDatumDef:n,markDef:r,config:i})=>A4t(e,t,i.scale,n,r,i.bar),paddingInner:({scalePadding:e,channel:t,markDef:n,scaleType:r,config:i,hasNestedOffsetScale:o})=>k4t(e,t,n.type,r,i.scale,o),paddingOuter:({scalePadding:e,channel:t,scaleType:n,scalePaddingInner:r,config:i,hasNestedOffsetScale:o})=>I4t(e,t,n,r,i.scale,o),reverse:({fieldOrDatumDef:e,scaleType:t,channel:n,config:r})=>{const i=St(e)?e.sort:void 0;return R4t(t,i,n,r.scale)},zero:({channel:e,fieldOrDatumDef:t,domain:n,markDef:r,scaleType:i,config:o,hasSecondaryRangeChannel:s})=>D4t(e,t,n,r,i,o.scale,s)};function e$e(e){Li(e)?p4t(e):t$e(e,"range")}function t$e(e,t){const n=e.component.scales;for(const r of e.children)t==="range"?e$e(r):ZDe(r,t);for(const r of mt(n)){let i;for(const o of e.children){const s=o.component.scales[r];if(s){const a=s.getWithExplicit(t);i=Qg(i,a,t,"scale",BRe((l,u)=>{switch(t){case"range":return l.step&&u.step?l.step-u.step:0}return 0}))}}n[r].setWithExplicit(t,i)}}function S4t(e,t){const n=t.bin;if(fi(n)){const r=bQ(e,t.field,n);return new as(()=>e.getSignalName(r))}else if(Ns(n)&&fb(n)&&n.step!==void 0)return{step:n.step}}function T4t(e,t){if(Jn([ql,vh,bh],e)&&t!=="nominal")return"hcl"}function C4t(e,t,n,r,i,o){var s;if(!((s=Id(o))!=null&&s.bin||et(n)||i!=null||r!=null||Jn([Bs.TIME,Bs.UTC],e)))return bo(t)?!0:void 0}function A4t(e,t,n,r,i,o){if(bo(e)){if(Sf(t)){if(n.continuousPadding!==void 0)return n.continuousPadding;const{type:s,orient:a}=i;if(s==="bar"&&!(St(r)&&(r.bin||r.timeUnit))&&(a==="vertical"&&e==="x"||a==="horizontal"&&e==="y"))return o.continuousBandSize}if(t===Bs.POINT)return n.pointPadding}}function k4t(e,t,n,r,i,o=!1){if(e===void 0){if(bo(t)){const{bandPaddingInner:s,barBandPaddingInner:a,rectBandPaddingInner:l,tickBandPaddingInner:u,bandWithNestedOffsetPaddingInner:c}=i;return o?c:vo(s,n==="bar"?a:n==="tick"?u:l)}else if(WA(t)&&r===Bs.BAND)return i.offsetBandPaddingInner}}function I4t(e,t,n,r,i,o=!1){if(e===void 0){if(bo(t)){const{bandPaddingOuter:s,bandWithNestedOffsetPaddingOuter:a}=i;if(o)return a;if(n===Bs.BAND)return vo(s,sn(r)?{signal:`${r.signal}/2`}:r/2)}else if(WA(t)){if(n===Bs.POINT)return .5;if(n===Bs.BAND)return i.offsetBandPaddingOuter}}}function R4t(e,t,n,r){if(n==="x"&&r.xReverse!==void 0)return Ad(e)&&t==="descending"?sn(r.xReverse)?{signal:`!${r.xReverse.signal}`}:!r.xReverse:r.xReverse;if(Ad(e)&&t==="descending")return!0}function D4t(e,t,n,r,i,o,s){if(!!n&&n!=="unaggregated"&&Ad(i)){if(et(n)){const l=n[0],u=n[n.length-1];if(Sr(l)&&l<=0&&Sr(u)&&u>=0)return!0}return!1}if(e==="size"&&t.type==="quantitative"&&!Jw(i))return!0;if(!(St(t)&&t.bin)&&Jn([...om,...dRt],e)){const{orient:l,type:u}=r;return Jn(["bar","area","line","trail"],u)&&(l==="horizontal"&&e==="y"||l==="vertical"&&e==="x")?!1:Jn(["bar","area"],u)&&!s?!0:o==null?void 0:o.zero}return!1}function $4t(e,t,n,r,i=!1){const o=M4t(t,n,r,i),{type:s}=e;return xh(t)?s!==void 0?b$t(t,s)?St(n)&&!v$t(s,n.type)?(xt(wDt(s,o)),o):s:(xt(bDt(t,s,o)),o):o:null}function M4t(e,t,n,r){var i;switch(t.type){case"nominal":case"ordinal":{if(sw(e)||xB(e)==="discrete")return e==="shape"&&t.type==="ordinal"&&xt(_B(e,"ordinal")),"ordinal";if(wB(e))return"band";if(bo(e)||WA(e)){if(Jn(["rect","bar","image","rule","tick"],n.type)||r)return"band"}else if(n.type==="arc"&&e in gX)return"band";const o=n[Yl(e)];return Sv(o)||ex(t)&&((i=t.axis)!=null&&i.tickBand)?"band":"point"}case"temporal":return sw(e)?"time":xB(e)==="discrete"?(xt(_B(e,"temporal")),"ordinal"):St(t)&&t.timeUnit&&ms(t.timeUnit).utc?"utc":wB(e)?"band":"time";case"quantitative":return sw(e)?St(t)&&fi(t.bin)?"bin-ordinal":"linear":xB(e)==="discrete"?(xt(_B(e,"quantitative")),"ordinal"):wB(e)?"band":"linear";case"geojson":return}throw new Error(cIe(t.type))}function P4t(e,{ignoreRange:t}={}){n$e(e),qDe(e);for(const n of y$t)ZDe(e,n);t||e$e(e)}function n$e(e){Li(e)?e.component.scales=N4t(e):e.component.scales=L4t(e)}function N4t(e){const{encoding:t,mark:n,markDef:r}=e,i={};for(const o of yX){const s=Ho(t[o]);if(s&&n===OIe&&o===Gl&&s.type===p_)continue;let a=s&&s.scale;if(s&&a!==null&&a!==!1){a??(a={});const l=aRe(t,o),u=$4t(a,o,s,r,l);i[o]=new YDe(e.scaleName(`${o}`,!0),{value:u,explicit:a.type===u})}}return i}const O4t=BRe((e,t)=>fde(e)-fde(t));function L4t(e){var t;const n=e.component.scales={},r={},i=e.component.resolve;for(const o of e.children){n$e(o);for(const s of mt(o.component.scales))if((t=i.scale)[s]??(t[s]=MDe(s,e)),i.scale[s]==="shared"){const a=r[s],l=o.component.scales[s].getWithExplicit("type");a?a$t(a.value,l.value)?r[s]=Qg(a,l,"type","scale",O4t):(i.scale[s]="independent",delete r[s]):r[s]=l}}for(const o of mt(r)){const s=e.scaleName(o,!0),a=r[o];n[o]=new YDe(s,a);for(const l of e.children){const u=l.component.scales[o];u&&(l.renameScale(u.get("name"),s),u.merged=!0)}}return n}class LB{constructor(){this.nameMap={}}rename(t,n){this.nameMap[t]=n}has(t){return this.nameMap[t]!==void 0}get(t){for(;this.nameMap[t]&&t!==this.nameMap[t];)t=this.nameMap[t];return t}}function Li(e){return(e==null?void 0:e.type)==="unit"}function Au(e){return(e==null?void 0:e.type)==="facet"}function SQ(e){return(e==null?void 0:e.type)==="concat"}function b_(e){return(e==null?void 0:e.type)==="layer"}class TQ{constructor(t,n,r,i,o,s,a){this.type=n,this.parent=r,this.config=o,this.parent=r,this.config=o,this.view=Ls(a),this.name=t.name??i,this.title=Hm(t.title)?{text:t.title}:t.title?Ls(t.title):void 0,this.scaleNameMap=r?r.scaleNameMap:new LB,this.projectionNameMap=r?r.projectionNameMap:new LB,this.signalNameMap=r?r.signalNameMap:new LB,this.data=t.data,this.description=t.description,this.transforms=MPt(t.transform??[]),this.layout=n==="layer"||n==="unit"?{}:LMt(t,n,o),this.component={data:{sources:r?r.component.data.sources:[],outputNodes:r?r.component.data.outputNodes:{},outputNodeRefCounts:r?r.component.data.outputNodeRefCounts:{},isFaceted:eL(t)||(r==null?void 0:r.component.data.isFaceted)&&t.data===void 0},layoutSize:new am,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:{scale:{},axis:{},legend:{},...s?Dn(s):{}},selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){P4t(this)}parseProjection(){HDe(this)}renameTopLevelLayoutSizeSignal(){this.getName("width")!=="width"&&this.renameSignal(this.getName("width"),"width"),this.getName("height")!=="height"&&this.renameSignal(this.getName("height"),"height")}parseLegends(){FDe(this)}assembleEncodeFromView(t){const{style:n,...r}=t,i={};for(const o of mt(r)){const s=r[o];s!==void 0&&(i[o]=xi(s))}return i}assembleGroupEncodeEntry(t){let n={};return this.view&&(n=this.assembleEncodeFromView(this.view)),!t&&(this.description&&(n.description=xi(this.description)),this.type==="unit"||this.type==="layer")?{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height"),...n}:Yr(n)?void 0:n}assembleLayout(){if(!this.layout)return;const{spacing:t,...n}=this.layout,{component:r,config:i}=this,o=rLt(r.layoutHeaders,i);return{padding:t,...this.assembleDefaultLayout(),...n,...o?{titleBand:o}:{}}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const{layoutHeaders:t}=this.component;let n=[];for(const r of cc)t[r].title&&n.push(QOt(this,r));for(const r of mQ)n=n.concat(JOt(this,r));return n}assembleAxes(){return FOt(this.component.axes,this.config)}assembleLegends(){return jDe(this)}assembleProjections(){return CLt(this)}assembleTitle(){const{encoding:t,...n}=this.title??{},r={...tIe(this.config.title).nonMarkTitleProperties,...n,...t?{encode:{update:t}}:{}};if(r.text)return Jn(["unit","layer"],this.type)?Jn(["middle",void 0],r.anchor)&&(r.frame??(r.frame="group")):r.anchor??(r.anchor="start"),Yr(r)?void 0:r}assembleGroup(t=[]){const n={};t=t.concat(this.assembleSignals()),t.length>0&&(n.signals=t);const r=this.assembleLayout();r&&(n.layout=r),n.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());const i=!this.parent||Au(this.parent)?GDe(this):[];i.length>0&&(n.scales=i);const o=this.assembleAxes();o.length>0&&(n.axes=o);const s=this.assembleLegends();return s.length>0&&(n.legends=s),n}getName(t){return Ii((this.name?`${this.name}_`:"")+t)}getDataName(t){return this.getName(Bi[t].toLowerCase())}requestDataName(t){const n=this.getDataName(t),r=this.component.data.outputNodeRefCounts;return r[n]=(r[n]||0)+1,n}getSizeSignalRef(t){if(Au(this.parent)){const n=DDe(t),r=HO(n),i=this.component.scales[r];if(i&&!i.merged){const o=i.get("type"),s=i.get("range");if(vs(o)&&hb(s)){const a=i.get("name"),l=bL(this,r),u=EQ(l);if(u){const c=Ot({aggregate:"distinct",field:u},{expr:"datum"});return{signal:RDe(a,i,c)}}else return xt(wX(r)),null}}}return{signal:this.signalNameMap.get(this.getName(t))}}lookupDataSource(t){const n=this.component.data.outputNodes[t];return n?n.getSource():t}getSignalName(t){return this.signalNameMap.get(t)}renameSignal(t,n){this.signalNameMap.rename(t,n)}renameScale(t,n){this.scaleNameMap.rename(t,n)}renameProjection(t,n){this.projectionNameMap.rename(t,n)}scaleName(t,n){if(n)return this.getName(t);if(G3e(t)&&xh(t)&&this.component.scales[t]||this.scaleNameMap.has(this.getName(t)))return this.scaleNameMap.get(this.getName(t))}projectionName(t){if(t)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(t){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const n=this.component.scales[t];return n&&!n.merged?n:this.parent?this.parent.getScaleComponent(t):void 0}getScaleType(t){const n=this.getScaleComponent(t);return n?n.get("type"):void 0}getSelectionComponent(t,n){let r=this.component.selection[t];if(!r&&this.parent&&(r=this.parent.getSelectionComponent(t,n)),!r)throw new Error(NRt(n));return r}hasAxisOrientSignalRef(){var t,n;return((t=this.component.axes.x)==null?void 0:t.some(r=>r.hasOrientSignalRef()))||((n=this.component.axes.y)==null?void 0:n.some(r=>r.hasOrientSignalRef()))}}class r$e extends TQ{vgField(t,n={}){const r=this.fieldDef(t);if(r)return Ot(r,n)}reduceFieldDef(t,n){return fMt(this.getMapping(),(r,i,o)=>{const s=Id(i);return s?t(r,s,o):r},n)}forEachFieldDef(t,n){YX(this.getMapping(),(r,i)=>{const o=Id(r);o&&t(o,i)},n)}}class wL extends Vr{clone(){return new wL(null,Dn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Dn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"value",r[1]??"density"];const i=this.transform.resolve??"shared";this.transform.resolve=i}dependentFields(){return new Set([this.transform.density,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${ir(this.transform)}`}assemble(){const{density:t,...n}=this.transform,r={type:"kde",field:t,...n};return r.resolve=this.transform.resolve,r}}class xL extends Vr{clone(){return new xL(null,Dn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Dn(n)}dependentFields(){return new Set([this.transform.extent])}producedFields(){return new Set([])}hash(){return`ExtentTransform ${ir(this.transform)}`}assemble(){const{extent:t,param:n}=this.transform;return{type:"extent",field:t,signal:n}}}class _L extends Vr{clone(){return new _L(this.parent,Dn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Dn(n);const{flatten:r,as:i=[]}=this.transform;this.transform.as=r.map((o,s)=>i[s]??o)}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${ir(this.transform)}`}assemble(){const{flatten:t,as:n}=this.transform;return{type:"flatten",fields:t,as:n}}}class EL extends Vr{clone(){return new EL(null,Dn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Dn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"key",r[1]??"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${ir(this.transform)}`}assemble(){const{fold:t,as:n}=this.transform;return{type:"fold",fields:t,as:n}}}class uw extends Vr{clone(){return new uw(null,Dn(this.fields),this.geojson,this.signal)}static parseAll(t,n){if(n.component.projection&&!n.component.projection.isFit)return t;let r=0;for(const i of[[jd,Bd],[Sc,zd]]){const o=i.map(s=>{const a=Ho(n.encoding[s]);return St(a)?a.field:_h(a)?{expr:`${a.datum}`}:kd(a)?{expr:`${a.value}`}:void 0});(o[0]||o[1])&&(t=new uw(t,o,null,n.getName(`geojson_${r++}`)))}if(n.channelHasField(Gl)){const i=n.typedFieldDef(Gl);i.type===p_&&(t=new uw(t,null,i.field,n.getName(`geojson_${r++}`)))}return t}constructor(t,n,r,i){super(t),this.fields=n,this.geojson=r,this.signal=i}dependentFields(){const t=(this.fields??[]).filter(Bt);return new Set([...this.geojson?[this.geojson]:[],...t])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${ir(this.fields)}`}assemble(){return[...this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[],{type:"geojson",...this.fields?{fields:this.fields}:{},...this.geojson?{geojson:this.geojson}:{},signal:this.signal}]}}class vC extends Vr{clone(){return new vC(null,this.projection,Dn(this.fields),Dn(this.as))}constructor(t,n,r,i){super(t),this.projection=n,this.fields=r,this.as=i}static parseAll(t,n){if(!n.projectionName())return t;for(const r of[[jd,Bd],[Sc,zd]]){const i=r.map(s=>{const a=Ho(n.encoding[s]);return St(a)?a.field:_h(a)?{expr:`${a.datum}`}:kd(a)?{expr:`${a.value}`}:void 0}),o=r[0]===Sc?"2":"";(i[0]||i[1])&&(t=new vC(t,n.projectionName(),i,[n.getName(`x${o}`),n.getName(`y${o}`)]))}return t}dependentFields(){return new Set(this.fields.filter(Bt))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${ir(this.fields)} ${ir(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class qy extends Vr{clone(){return new qy(null,Dn(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set([this.transform.impute,this.transform.key,...this.transform.groupby??[]])}producedFields(){return new Set([this.transform.impute])}processSequence(t){const{start:n=0,stop:r,step:i}=t;return{signal:`sequence(${[n,r,...i?[i]:[]].join(",")})`}}static makeFromTransform(t,n){return new qy(t,n)}static makeFromEncoding(t,n){const r=n.encoding,i=r.x,o=r.y;if(St(i)&&St(o)){const s=i.impute?i:o.impute?o:void 0;if(s===void 0)return;const a=i.impute?o:o.impute?i:void 0,{method:l,value:u,frame:c,keyvals:d}=s.impute,f=cRe(n.mark,r);return new qy(t,{impute:s.field,key:a.field,...l?{method:l}:{},...u!==void 0?{value:u}:{},...c?{frame:c}:{},...d!==void 0?{keyvals:d}:{},...f.length?{groupby:f}:{}})}return null}hash(){return`Impute ${ir(this.transform)}`}assemble(){const{impute:t,key:n,keyvals:r,method:i,groupby:o,value:s,frame:a=[null,null]}=this.transform,l={type:"impute",field:t,key:n,...r?{keyvals:pPt(r)?this.processSequence(r):r}:{},method:"value",...o?{groupby:o}:{},value:!i||i==="value"?s:null};if(i&&i!=="value"){const u={type:"window",as:[`imputed_${t}_value`],ops:[i],fields:[t],frame:a,ignorePeers:!1,...o?{groupby:o}:{}},c={type:"formula",expr:`datum.${t} === null ? datum.imputed_${t}_value : datum.${t}`,as:t};return[l,u,c]}else return[l]}}class SL extends Vr{clone(){return new SL(null,Dn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Dn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??n.on,r[1]??n.loess]}dependentFields(){return new Set([this.transform.loess,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${ir(this.transform)}`}assemble(){const{loess:t,on:n,...r}=this.transform;return{type:"loess",x:n,y:t,...r}}}class bC extends Vr{clone(){return new bC(null,Dn(this.transform),this.secondary)}constructor(t,n,r){super(t),this.transform=n,this.secondary=r}static make(t,n,r,i){const o=n.component.data.sources,{from:s}=r;let a=null;if(mPt(s)){let l=s$e(s.data,o);l||(l=new Rv(s.data),o.push(l));const u=n.getName(`lookup_${i}`);a=new zl(l,u,Bi.Lookup,n.component.data.outputNodeRefCounts),n.component.data.outputNodes[u]=a}else if(gPt(s)){const l=s.param;r={as:l,...r};let u;try{u=n.getSelectionComponent(Ii(l),l)}catch{throw new Error(BRt(l))}if(a=u.materialized,!a)throw new Error(jRt(l))}return new bC(t,r,a.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?jt(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${ir({transform:this.transform,secondary:this.secondary})}`}assemble(){let t;if(this.transform.from.fields)t={values:this.transform.from.fields,...this.transform.as?{as:jt(this.transform.as)}:{}};else{let n=this.transform.as;Bt(n)||(xt(QRt),n="_lookup"),t={as:[n]}}return{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup],...t,...this.transform.default?{default:this.transform.default}:{}}}}class TL extends Vr{clone(){return new TL(null,Dn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Dn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"prob",r[1]??"value"]}dependentFields(){return new Set([this.transform.quantile,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${ir(this.transform)}`}assemble(){const{quantile:t,...n}=this.transform;return{type:"quantile",field:t,...n}}}class CL extends Vr{clone(){return new CL(null,Dn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Dn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??n.on,r[1]??n.regression]}dependentFields(){return new Set([this.transform.regression,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${ir(this.transform)}`}assemble(){const{regression:t,on:n,...r}=this.transform;return{type:"regression",x:n,y:t,...r}}}class AL extends Vr{clone(){return new AL(null,Dn(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=Ef((this.transform.groupby??[]).concat(t),n=>n)}producedFields(){}dependentFields(){return new Set([this.transform.pivot,this.transform.value,...this.transform.groupby??[]])}hash(){return`PivotTransform ${ir(this.transform)}`}assemble(){const{pivot:t,value:n,groupby:r,limit:i,op:o}=this.transform;return{type:"pivot",field:t,value:n,...i!==void 0?{limit:i}:{},...o!==void 0?{op:o}:{},...r!==void 0?{groupby:r}:{}}}}class kL extends Vr{clone(){return new kL(null,Dn(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${ir(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}function i$e(e){let t=0;function n(r,i){if(r instanceof Rv&&!r.isGenerator&&!nx(r.data)&&(e.push(i),i={name:null,source:i.name,transform:[]}),r instanceof Sa&&(r.parent instanceof Rv&&!i.source?(i.format={...i.format,parse:r.assembleFormatParse()},i.transform.push(...r.assembleTransforms(!0))):i.transform.push(...r.assembleTransforms())),r instanceof y_){i.name||(i.name=`data_${t++}`),!i.source||i.transform.length>0?(e.push(i),r.data=i.name):r.data=i.source,e.push(...r.assemble());return}switch((r instanceof i2||r instanceof o2||r instanceof ax||r instanceof g_||r instanceof ix||r instanceof vC||r instanceof wd||r instanceof bC||r instanceof v_||r instanceof bb||r instanceof EL||r instanceof _L||r instanceof wL||r instanceof SL||r instanceof TL||r instanceof CL||r instanceof Jg||r instanceof kL||r instanceof AL||r instanceof xL)&&i.transform.push(r.assemble()),(r instanceof jf||r instanceof Ff||r instanceof qy||r instanceof _p||r instanceof uw)&&i.transform.push(...r.assemble()),r instanceof zl&&(i.source&&i.transform.length===0?r.setSource(i.source):r.parent instanceof zl?r.setSource(i.name):(i.name||(i.name=`data_${t++}`),r.setSource(i.name),r.numChildren()===1&&(e.push(i),i={name:null,source:i.name,transform:[]}))),r.numChildren()){case 0:r instanceof zl&&(!i.source||i.transform.length>0)&&e.push(i);break;case 1:n(r.children[0],i);break;default:{i.name||(i.name=`data_${t++}`);let o=i.name;!i.source||i.transform.length>0?e.push(i):o=i.source;for(const s of r.children)n(s,{name:null,source:o,transform:[]});break}}}return n}function F4t(e){const t=[],n=i$e(t);for(const r of e.children)n(r,{source:e.name,name:null,transform:[]});return t}function B4t(e,t){const n=[],r=i$e(n);let i=0;for(const s of e.sources){s.hasName()||(s.dataName=`source_${i++}`);const a=s.assemble();r(s,a)}for(const s of n)s.transform.length===0&&delete s.transform;let o=0;for(const[s,a]of n.entries())(a.transform??[]).length===0&&!a.source&&n.splice(o++,0,n.splice(s,1)[0]);for(const s of n)for(const a of s.transform??[])a.type==="lookup"&&(a.from=e.outputNodes[a.from].getSource());for(const s of n)s.name in t&&(s.values=t[s.name]);return n}function j4t(e){return e==="top"||e==="left"||sn(e)?"header":"footer"}function z4t(e){for(const t of cc)U4t(e,t);pfe(e,"x"),pfe(e,"y")}function U4t(e,t){var s;const{facet:n,config:r,child:i,component:o}=e;if(e.channelHasField(t)){const a=n[t],l=sx("title",null,r,t);let u=aw(a,r,{allowDisabling:!0,includeDefault:l===void 0||!!l});i.component.layoutHeaders[t].title&&(u=et(u)?u.join(", "):u,u+=` / ${i.component.layoutHeaders[t].title}`,i.component.layoutHeaders[t].title=null);const c=sx("labelOrient",a.header,r,t),d=a.header!==null?vo((s=a.header)==null?void 0:s.labels,r.header.labels,!0):!1,f=Jn(["bottom","right"],c)?"footer":"header";o.layoutHeaders[t]={title:a.header!==null?u:null,facetFieldDef:a,[f]:t==="facet"?[]:[o$e(e,t,d)]}}}function o$e(e,t,n){const r=t==="row"?"height":"width";return{labels:n,sizeSignal:e.child.component.layoutSize.get(r)?e.child.getSizeSignalRef(r):void 0,axes:[]}}function pfe(e,t){const{child:n}=e;if(n.component.axes[t]){const{layoutHeaders:r,resolve:i}=e.component;if(i.axis[t]=vQ(i,t),i.axis[t]==="shared"){const o=t==="x"?"column":"row",s=r[o];for(const a of n.component.axes[t]){const l=j4t(a.get("orient"));s[l]??(s[l]=[o$e(e,o,!1)]);const u=SS(a,"main",e.config,{header:!0});u&&s[l][0].axes.push(u),a.mainExtracted=!0}}}}function H4t(e){CQ(e),OM(e,"width"),OM(e,"height")}function V4t(e){CQ(e);const t=e.layout.columns===1?"width":"childWidth",n=e.layout.columns===void 0?"height":"childHeight";OM(e,t),OM(e,n)}function CQ(e){for(const t of e.children)t.parseLayoutSize()}function OM(e,t){const n=DDe(t),r=HO(n),i=e.component.resolve,o=e.component.layoutSize;let s;for(const a of e.children){const l=a.component.layoutSize.getWithExplicit(n),u=i.scale[r]??MDe(r,e);if(u==="independent"&&l.value==="step"){s=void 0;break}if(s){if(u==="independent"&&s.value!==l.value){s=void 0;break}s=Qg(s,l,n,"")}else s=l}if(s){for(const a of e.children)e.renameSignal(a.getName(n),e.getName(t)),a.component.layoutSize.set(n,"merged",!1);o.setWithExplicit(t,s)}else o.setWithExplicit(t,{explicit:!1,value:void 0})}function W4t(e){const{size:t,component:n}=e;for(const r of om){const i=Yl(r);if(t[i]){const o=t[i];n.layoutSize.set(i,th(o)?"step":o,!0)}else{const o=q4t(e,i);n.layoutSize.set(i,o,!1)}}}function q4t(e,t){const n=t==="width"?"x":"y",r=e.config,i=e.getScaleComponent(n);if(i){const o=i.get("type"),s=i.get("range");if(vs(o)){const a=DM(r.view,t);return hb(s)||th(a)?"step":a}else return fz(r.view,t)}else{if(e.hasProjection||e.mark==="arc")return fz(r.view,t);{const o=DM(r.view,t);return th(o)?o.step:o}}}function $z(e,t,n){return Ot(t,{suffix:`by_${Ot(e)}`,...n})}class sT extends r$e{constructor(t,n,r,i){super(t,"facet",n,r,i,t.resolve),this.child=DQ(t.spec,this,this.getName("child"),void 0,i),this.children=[this.child],this.facet=this.initFacet(t.facet)}initFacet(t){if(!KA(t))return{facet:this.initFacetFieldDef(t,"facet")};const n=mt(t),r={};for(const i of n){if(![vp,bp].includes(i)){xt(qO(i,"facet"));break}const o=t[i];if(o.field===void 0){xt(az(o,i));break}r[i]=this.initFacetFieldDef(o,i)}return r}initFacetFieldDef(t,n){const r=GX(t,n);return r.header?r.header=Ls(r.header):r.header===null&&(r.header=null),r}channelHasField(t){return yt(this.facet,t)}fieldDef(t){return this.facet[t]}parseData(){this.component.data=IL(this),this.child.parseData()}parseLayoutSize(){CQ(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection,Object.values(this.component.selection).some(t=>Bf(t))&&_X(xX)}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),z4t(this)}assembleSelectionTopLevelSignals(t){return this.child.assembleSelectionTopLevelSignals(t)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(t){return this.child.assembleSelectionData(t)}getHeaderLayoutMixins(){const t={};for(const n of cc)for(const r of gQ){const i=this.component.layoutHeaders[n],o=i[r],{facetFieldDef:s}=i;if(s){const a=sx("titleOrient",s.header,this.config,n);if(["right","bottom"].includes(a)){const l=yL(n,a);t.titleAnchor??(t.titleAnchor={}),t.titleAnchor[l]="end"}}if(o!=null&&o[0]){const a=n==="row"?"height":"width",l=r==="header"?"headerBand":"footerBand";n!=="facet"&&!this.child.component.layoutSize.get(a)&&(t[l]??(t[l]={}),t[l][n]=.5),i.title&&(t.offset??(t.offset={}),t.offset[n==="row"?"rowTitle":"columnTitle"]=10)}}return t}assembleDefaultLayout(){const{column:t,row:n}=this.facet,r=t?this.columnDistinctSignal():n?1:void 0;let i="all";return(!n&&this.component.resolve.scale.x==="independent"||!t&&this.component.resolve.scale.y==="independent")&&(i="none"),{...this.getHeaderLayoutMixins(),...r?{columns:r}:{},bounds:"full",align:i}}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof sT))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(t){return this.parent&&this.parent instanceof sT?{...this.channelHasField("column")?{encode:{update:{columns:{field:Ot(this.facet.column,{prefix:"distinct"})}}}}:{},...super.assembleGroup(t)}:super.assembleGroup(t)}getCardinalityAggregateForChild(){const t=[],n=[],r=[];if(this.child instanceof sT){if(this.child.channelHasField("column")){const i=Ot(this.child.facet.column);t.push(i),n.push("distinct"),r.push(`distinct_${i}`)}}else for(const i of om){const o=this.child.component.scales[i];if(o&&!o.merged){const s=o.get("type"),a=o.get("range");if(vs(s)&&hb(a)){const l=bL(this.child,i),u=EQ(l);u?(t.push(u),n.push("distinct"),r.push(`distinct_${u}`)):xt(wX(i))}}}return{fields:t,ops:n,as:r}}assembleFacet(){const{name:t,data:n}=this.component.data.facetRoot,{row:r,column:i}=this.facet,{fields:o,ops:s,as:a}=this.getCardinalityAggregateForChild(),l=[];for(const c of cc){const d=this.facet[c];if(d){l.push(Ot(d));const{bin:f,sort:h}=d;if(fi(f)&&l.push(Ot(d,{binSuffix:"end"})),wp(h)){const{field:p,op:m=ZO}=h,g=$z(d,h);r&&i?(o.push(g),s.push("max"),a.push(g)):(o.push(p),s.push(m),a.push(g))}else if(et(h)){const p=ox(d,c);o.push(p),s.push("max"),a.push(p)}}}const u=!!r&&!!i;return{name:t,data:n,groupby:l,...u||o.length>0?{aggregate:{...u?{cross:u}:{},...o.length?{fields:o,ops:s,as:a}:{}}}:{}}}facetSortFields(t){const{facet:n}=this,r=n[t];return r?wp(r.sort)?[$z(r,r.sort,{expr:"datum"})]:et(r.sort)?[ox(r,t,{expr:"datum"})]:[Ot(r,{expr:"datum"})]:[]}facetSortOrder(t){const{facet:n}=this,r=n[t];if(r){const{sort:i}=r;return[(wp(i)?i.order:!et(i)&&i)||"ascending"]}return[]}assembleLabelTitle(){var i;const{facet:t,config:n}=this;if(t.facet)return Tz(t.facet,"facet",n);const r={row:["top","bottom"],column:["left","right"]};for(const o of mQ)if(t[o]){const s=sx("labelOrient",(i=t[o])==null?void 0:i.header,n,o);if(r[o].includes(s))return Tz(t[o],o,n)}}assembleMarks(){const{child:t}=this,n=this.component.data.facetRoot,r=F4t(n),i=t.assembleGroupEncodeEntry(!1),o=this.assembleLabelTitle()||t.assembleTitle(),s=t.assembleGroupStyle();return[{name:this.getName("cell"),type:"group",...o?{title:o}:{},...s?{style:s}:{},from:{facet:this.assembleFacet()},sort:{field:cc.map(l=>this.facetSortFields(l)).flat(),order:cc.map(l=>this.facetSortOrder(l)).flat()},...r.length>0?{data:r}:{},...i?{encode:{update:i}}:{},...t.assembleGroup(JPt(this,[]))}]}getMapping(){return this.facet}}function G4t(e,t){const{row:n,column:r}=t;if(n&&r){let i=null;for(const o of[n,r])if(wp(o.sort)){const{field:s,op:a=ZO}=o.sort;e=i=new bb(e,{joinaggregate:[{op:a,field:s,as:$z(o,o.sort,{forAs:!0})}],groupby:[Ot(o)]})}return i}return null}function s$e(e,t){var n,r,i,o;for(const s of t){const a=s.data;if(e.name&&s.hasName()&&e.name!==s.dataName)continue;const l=(n=e.format)==null?void 0:n.mesh,u=(r=a.format)==null?void 0:r.feature;if(l&&u)continue;const c=(i=e.format)==null?void 0:i.feature;if((c||u)&&c!==u)continue;const d=(o=a.format)==null?void 0:o.mesh;if(!((l||d)&&l!==d)){if(mC(e)&&mC(a)){if(wu(e.values,a.values))return s}else if(nx(e)&&nx(a)){if(e.url===a.url)return s}else if(jRe(e)&&e.name===s.dataName)return s}}return null}function Y4t(e,t){if(e.data||!e.parent){if(e.data===null){const r=new Rv({values:[]});return t.push(r),r}const n=s$e(e.data,t);if(n)return Eg(e.data)||(n.data.format=N3e({},e.data.format,n.data.format)),!n.hasName()&&e.data.name&&(n.dataName=e.data.name),n;{const r=new Rv(e.data);return t.push(r),r}}else return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}function K4t(e,t,n){let r=0;for(const i of t.transforms){let o,s;if(CPt(i))s=e=new ix(e,i),o="derived";else if(oQ(i)){const a=BLt(i);s=e=Sa.makeWithAncestors(e,{},a,n)??e,e=new g_(e,t,i.filter)}else if(NRe(i))s=e=jf.makeFromTransform(e,i,t),o="number";else if(kPt(i))o="date",n.getWithExplicit(i.field).value===void 0&&(e=new Sa(e,{[i.field]:o}),n.set(i.field,o,!1)),s=e=Ff.makeFromTransform(e,i);else if(IPt(i))s=e=wd.makeFromTransform(e,i),o="number",dQ(t)&&(e=new Jg(e));else if(PRe(i))s=e=bC.make(e,t,i,r++),o="derived";else if(EPt(i))s=e=new v_(e,i),o="number";else if(SPt(i))s=e=new bb(e,i),o="number";else if(RPt(i))s=e=_p.makeFromTransform(e,i),o="derived";else if(DPt(i))s=e=new EL(e,i),o="derived";else if($Pt(i))s=e=new xL(e,i),o="derived";else if(TPt(i))s=e=new _L(e,i),o="derived";else if(yPt(i))s=e=new AL(e,i),o="derived";else if(_Pt(i))e=new kL(e,i);else if(APt(i))s=e=qy.makeFromTransform(e,i),o="derived";else if(vPt(i))s=e=new wL(e,i),o="derived";else if(bPt(i))s=e=new TL(e,i),o="derived";else if(wPt(i))s=e=new CL(e,i),o="derived";else if(xPt(i))s=e=new SL(e,i),o="derived";else{xt(XRt(i));continue}if(s&&o!==void 0)for(const a of s.producedFields()??[])n.set(a,o,!1)}return e}function IL(e){var g;let t=Y4t(e,e.component.data.sources);const{outputNodes:n,outputNodeRefCounts:r}=e.component.data,i=e.data,s=!(i&&(Eg(i)||nx(i)||mC(i)))&&e.parent?e.parent.component.data.ancestorParse.clone():new VPt;Eg(i)?(zRe(i)?t=new o2(t,i.sequence):sQ(i)&&(t=new i2(t,i.graticule)),s.parseNothing=!0):((g=i==null?void 0:i.format)==null?void 0:g.parse)===null&&(s.parseNothing=!0),t=Sa.makeExplicit(t,e,s)??t,t=new Jg(t);const a=e.parent&&b_(e.parent);(Li(e)||Au(e))&&a&&(t=jf.makeFromEncoding(t,e)??t),e.transforms.length>0&&(t=K4t(t,e,s));const l=zLt(e),u=jLt(e);t=Sa.makeWithAncestors(t,{},{...l,...u},s)??t,Li(e)&&(t=uw.parseAll(t,e),t=vC.parseAll(t,e)),(Li(e)||Au(e))&&(a||(t=jf.makeFromEncoding(t,e)??t),t=Ff.makeFromEncoding(t,e)??t,t=ix.parseAllForSortIndex(t,e));const c=t=_3(Bi.Raw,e,t);if(Li(e)){const y=wd.makeFromEncoding(t,e);y&&(t=y,dQ(e)&&(t=new Jg(t))),t=qy.makeFromEncoding(t,e)??t,t=_p.makeFromEncoding(t,e)??t}let d,f;if(Li(e)){const{markDef:y,mark:v,config:w}=e,E=Gr("invalid",y,w),{marks:_,scales:x}=f=HRe({invalid:E,isPath:C0(v)});_!==x&&x==="include-invalid-values"&&(d=t=_3(Bi.PreFilterInvalid,e,t)),_==="exclude-invalid-values"&&(t=ax.make(t,e,f)??t)}const h=t=_3(Bi.Main,e,t);let p;if(Li(e)&&f){const{marks:y,scales:v}=f;y==="include-invalid-values"&&v==="exclude-invalid-values"&&(t=ax.make(t,e,f)??t,p=t=_3(Bi.PostFilterInvalid,e,t))}Li(e)&&OOt(e,h);let m=null;if(Au(e)){const y=e.getName("facet");t=G4t(t,e.facet)??t,m=new y_(t,e,y,h.getSource()),n[y]=m}return{...e.component.data,outputNodes:n,outputNodeRefCounts:r,raw:c,main:h,facetRoot:m,ancestorParse:s,preFilterInvalid:d,postFilterInvalid:p}}function _3(e,t,n){const{outputNodes:r,outputNodeRefCounts:i}=t.component.data,o=t.getDataName(e),s=new zl(n,o,e,i);return r[o]=s,s}class X4t extends TQ{constructor(t,n,r,i){var o,s,a,l;super(t,"concat",n,r,i,t.resolve),(((s=(o=t.resolve)==null?void 0:o.axis)==null?void 0:s.x)==="shared"||((l=(a=t.resolve)==null?void 0:a.axis)==null?void 0:l.y)==="shared")&&xt(GRt),this.children=this.getChildren(t).map((u,c)=>DQ(u,this,this.getName(`concat_${c}`),void 0,i))}parseData(){this.component.data=IL(this);for(const t of this.children)t.parseData()}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of mt(t.component.selection))this.component.selection[n]=t.component.selection[n]}Object.values(this.component.selection).some(t=>Bf(t))&&_X(xX)}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){for(const t of this.children)t.parseAxesAndHeaders()}getChildren(t){return sL(t)?t.vconcat:rQ(t)?t.hconcat:t.concat}parseLayoutSize(){V4t(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.forEach(t=>t.assembleSignals()),[]}assembleLayoutSignals(){const t=yQ(this);for(const n of this.children)t.push(...n.assembleLayoutSignals());return t}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleMarks(){return this.children.map(t=>{const n=t.assembleTitle(),r=t.assembleGroupStyle(),i=t.assembleGroupEncodeEntry(!1);return{type:"group",name:t.getName("group"),...n?{title:n}:{},...r?{style:r}:{},...i?{encode:{update:i}}:{},...t.assembleGroup()}})}assembleGroupStyle(){}assembleDefaultLayout(){const t=this.layout.columns;return{...t!=null?{columns:t}:{},bounds:"full",align:"each"}}}function Q4t(e){return e===!1||e===null}const J4t={disable:1,gridScale:1,scale:1,...iRe,labelExpr:1,encode:1},a$e=mt(J4t);class AQ extends am{constructor(t={},n={},r=!1){super(),this.explicit=t,this.implicit=n,this.mainExtracted=r}clone(){return new AQ(Dn(this.explicit),Dn(this.implicit),this.mainExtracted)}hasAxisPart(t){return t==="axis"?!0:t==="grid"||t==="title"?!!this.get(t):!Q4t(this.get(t))}hasOrientSignalRef(){return sn(this.explicit.orient)}}function Z4t(e,t,n){const{encoding:r,config:i}=e,o=Ho(r[t])??Ho(r[wh(t)]),s=e.axis(t)||{},{format:a,formatType:l}=s;if(Tv(l))return{text:hd({fieldOrDatumDef:o,field:"datum.value",format:a,formatType:l,config:i}),...n};if(a===void 0&&l===void 0&&i.customFormatTypes){if(Zw(o)==="quantitative"){if(ex(o)&&o.stack==="normalize"&&i.normalizedNumberFormatType)return{text:hd({fieldOrDatumDef:o,field:"datum.value",format:i.normalizedNumberFormat,formatType:i.normalizedNumberFormatType,config:i}),...n};if(i.numberFormatType)return{text:hd({fieldOrDatumDef:o,field:"datum.value",format:i.numberFormat,formatType:i.numberFormatType,config:i}),...n}}if(Zw(o)==="temporal"&&i.timeFormatType&&St(o)&&!o.timeUnit)return{text:hd({fieldOrDatumDef:o,field:"datum.value",format:i.timeFormat,formatType:i.timeFormatType,config:i}),...n}}return n}function eFt(e){return om.reduce((t,n)=>(e.component.scales[n]&&(t[n]=[aFt(n,e)]),t),{})}const tFt={bottom:"top",top:"bottom",left:"right",right:"left"};function nFt(e){const{axes:t,resolve:n}=e.component,r={top:0,bottom:0,right:0,left:0};for(const i of e.children){i.parseAxesAndHeaders();for(const o of mt(i.component.axes))n.axis[o]=vQ(e.component.resolve,o),n.axis[o]==="shared"&&(t[o]=rFt(t[o],i.component.axes[o]),t[o]||(n.axis[o]="independent",delete t[o]))}for(const i of om){for(const o of e.children)if(o.component.axes[i]){if(n.axis[i]==="independent"){t[i]=(t[i]??[]).concat(o.component.axes[i]);for(const s of o.component.axes[i]){const{value:a,explicit:l}=s.getWithExplicit("orient");if(!sn(a)){if(r[a]>0&&!l){const u=tFt[a];r[a]>r[u]&&s.set("orient",u,!1)}r[a]++}}}delete o.component.axes[i]}if(n.axis[i]==="independent"&&t[i]&&t[i].length>1)for(const[o,s]of(t[i]||[]).entries())o>0&&s.get("grid")&&!s.explicit.grid&&(s.implicit.grid=!1)}}function rFt(e,t){if(e){if(e.length!==t.length)return;const n=e.length;for(let r=0;r<n;r++){const i=e[r],o=t[r];if(!!i!=!!o)return;if(i&&o){const s=i.getWithExplicit("orient"),a=o.getWithExplicit("orient");if(s.explicit&&a.explicit&&s.value!==a.value)return;e[r]=iFt(i,o)}}}else return t.map(n=>n.clone());return e}function iFt(e,t){for(const n of a$e){const r=Qg(e.getWithExplicit(n),t.getWithExplicit(n),n,"axis",(i,o)=>{switch(n){case"title":return lIe(i,o);case"gridScale":return{explicit:i.explicit,value:vo(i.value,o.value)}}return lL(i,o,n,"axis")});e.setWithExplicit(n,r)}return e}function oFt(e,t,n,r,i){if(t==="disable")return n!==void 0;switch(n=n||{},t){case"titleAngle":case"labelAngle":return e===(sn(n.labelAngle)?n.labelAngle:hC(n.labelAngle));case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(e===CDe(r,i))return!0}return e===n[t]}const sFt=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function aFt(e,t){var y,v;let n=t.axis(e);const r=new AQ,i=Ho(t.encoding[e]),{mark:o,config:s}=t,a=(n==null?void 0:n.orient)||((y=s[e==="x"?"axisX":"axisY"])==null?void 0:y.orient)||((v=s.axis)==null?void 0:v.orient)||qOt(e),l=t.getScaleComponent(e).get("type"),u=BOt(e,l,a,t.config),c=n!==void 0?!n:Ez("disable",s.style,n==null?void 0:n.style,u).configValue;if(r.set("disable",c,n!==void 0),c)return r;n=n||{};const d=HOt(i,n,e,s.style,u),f=VIe(n.formatType,i,l),h=HIe(i,i.type,n.format,n.formatType,s,!0),p={fieldOrDatumDef:i,axis:n,channel:e,model:t,scaleType:l,orient:a,labelAngle:d,format:h,formatType:f,mark:o,config:s};for(const w of a$e){const E=w in Zde?Zde[w](p):bde(w)?n[w]:void 0,_=E!==void 0,x=oFt(E,w,n,t,e);if(_&&x)r.set(w,E,x);else{const{configValue:S=void 0,configFrom:C=void 0}=bde(w)&&w!=="values"?Ez(w,s.style,n.style,u):{},A=S!==void 0;_&&!A?r.set(w,E,x):(C!=="vgAxisConfig"||sFt.has(w)&&A||ZA(S)||sn(S))&&r.set(w,S,!1)}}const m=n.encoding??{},g=rRe.reduce((w,E)=>{if(!r.hasAxisPart(E))return w;const _=$De(m[E]??{},t),x=E==="labels"?Z4t(t,e,_):_;return x!==void 0&&!Yr(x)&&(w[E]={update:x}),w},{});return Yr(g)||r.set("encode",g,!!n.encoding||n.labelAngle!==void 0),r}function lFt({encoding:e,size:t}){for(const n of om){const r=Yl(n);th(t[r])&&ug(e[n])&&(delete t[r],xt(hIe(r)))}return t}const uFt={vgMark:"arc",encodeEntry:e=>({...Pc(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...nl("x",e,{defaultPos:"mid"}),...nl("y",e,{defaultPos:"mid"}),...zp(e,"radius"),...zp(e,"theta")})},cFt={vgMark:"area",encodeEntry:e=>({...Pc(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),...$M("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="horizontal"}),...$M("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="vertical"}),...cQ(e)})},dFt={vgMark:"rect",encodeEntry:e=>({...Pc(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...zp(e,"x"),...zp(e,"y")})},fFt={vgMark:"shape",encodeEntry:e=>({...Pc(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})}),postEncodingTransform:e=>{const{encoding:t}=e,n=t.shape;return[{type:"geoshape",projection:e.projectionName(),...n&&St(n)&&n.type===p_?{field:Ot(n,{expr:"datum"})}:{}}]}},hFt={vgMark:"image",encodeEntry:e=>({...Pc(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),...zp(e,"x"),...zp(e,"y"),...lQ(e,"url")})},pFt={vgMark:"line",encodeEntry:e=>({...Pc(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...nl("x",e,{defaultPos:"mid"}),...nl("y",e,{defaultPos:"mid"}),...Us("size",e,{vgChannel:"strokeWidth"}),...cQ(e)})},mFt={vgMark:"trail",encodeEntry:e=>({...Pc(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...nl("x",e,{defaultPos:"mid"}),...nl("y",e,{defaultPos:"mid"}),...Us("size",e),...cQ(e)})};function kQ(e,t){const{config:n}=e;return{...Pc(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...nl("x",e,{defaultPos:"mid"}),...nl("y",e,{defaultPos:"mid"}),...Us("size",e),...Us("angle",e),...gFt(e,n,t)}}function gFt(e,t,n){return n?{shape:{value:n}}:Us("shape",e)}const yFt={vgMark:"symbol",encodeEntry:e=>kQ(e)},vFt={vgMark:"symbol",encodeEntry:e=>kQ(e,"circle")},bFt={vgMark:"symbol",encodeEntry:e=>kQ(e,"square")},wFt={vgMark:"rect",encodeEntry:e=>({...Pc(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...zp(e,"x"),...zp(e,"y")})},xFt={vgMark:"rule",encodeEntry:e=>{const{markDef:t}=e,n=t.orient;return!e.encoding.x&&!e.encoding.y&&!e.encoding.latitude&&!e.encoding.longitude?{}:{...Pc(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...$M("x",e,{defaultPos:n==="horizontal"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="vertical"}),...$M("y",e,{defaultPos:n==="vertical"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="horizontal"}),...Us("size",e,{vgChannel:"strokeWidth"})}}},_Ft={vgMark:"text",encodeEntry:e=>{const{config:t,encoding:n}=e;return{...Pc(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),...nl("x",e,{defaultPos:"mid"}),...nl("y",e,{defaultPos:"mid"}),...lQ(e),...Us("size",e,{vgChannel:"fontSize"}),...Us("angle",e),...Ude("align",EFt(e.markDef,n,t)),...Ude("baseline",SFt(e.markDef,n,t)),...nl("radius",e,{defaultPos:null}),...nl("theta",e,{defaultPos:null})}}};function EFt(e,t,n){if(Gr("align",e,n)===void 0)return"center"}function SFt(e,t,n){if(Gr("baseline",e,n)===void 0)return"middle"}const TFt={vgMark:"rect",encodeEntry:e=>{const{config:t,markDef:n}=e,r=n.orient,i=r==="horizontal"?"x":"y",o=r==="horizontal"?"y":"x",s=r==="horizontal"?"height":"width";return{...Pc(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...zp(e,i),...nl(o,e,{defaultPos:"mid",vgChannel:o==="y"?"yc":"xc"}),[s]:xi(Gr("thickness",n,t))}}},E3={arc:uFt,area:cFt,bar:dFt,circle:vFt,geoshape:fFt,image:hFt,line:pFt,point:yFt,rect:wFt,rule:xFt,square:bFt,text:_Ft,tick:TFt,trail:mFt};function CFt(e){if(Jn([QO,KO,E$t],e.mark)){const t=cRe(e.mark,e.encoding);if(t.length>0)return AFt(e,t)}else if(e.mark===XO){const t=oz.some(n=>Gr(n,e.markDef,e.config));if(e.stack&&!e.fieldDef("size")&&t)return kFt(e)}return IQ(e)}const mfe="faceted_path_";function AFt(e,t){return[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:mfe+e.requestDataName(Bi.Main),data:e.requestDataName(Bi.Main),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:IQ(e,{fromPrefix:mfe})}]}const gfe="stack_group_";function kFt(e){var u;const[t]=IQ(e,{fromPrefix:gfe}),n=e.scaleName(e.stack.fieldChannel),r=(c={})=>e.vgField(e.stack.fieldChannel,c),i=(c,d)=>{const f=[r({prefix:"min",suffix:"start",expr:d}),r({prefix:"max",suffix:"start",expr:d}),r({prefix:"min",suffix:"end",expr:d}),r({prefix:"max",suffix:"end",expr:d})];return`${c}(${f.map(h=>`scale('${n}',${h})`).join(",")})`};let o,s;e.stack.fieldChannel==="x"?(o={...Gw(t.encode.update,["y","yc","y2","height",...oz]),x:{signal:i("min","datum")},x2:{signal:i("max","datum")},clip:{value:!0}},s={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},t.encode.update={...jl(t.encode.update,["y","yc","y2"]),height:{field:{group:"height"}}}):(o={...Gw(t.encode.update,["x","xc","x2","width"]),y:{signal:i("min","datum")},y2:{signal:i("max","datum")},clip:{value:!0}},s={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},t.encode.update={...jl(t.encode.update,["x","xc","x2"]),width:{field:{group:"width"}}});for(const c of oz){const d=Zf(c,e.markDef,e.config);t.encode.update[c]?(o[c]=t.encode.update[c],delete t.encode.update[c]):d&&(o[c]=xi(d)),d&&(t.encode.update[c]={value:0})}const a=[];if(((u=e.stack.groupbyChannels)==null?void 0:u.length)>0)for(const c of e.stack.groupbyChannels){const d=e.fieldDef(c),f=Ot(d);f&&a.push(f),(d!=null&&d.bin||d!=null&&d.timeUnit)&&a.push(Ot(d,{binSuffix:"end"}))}return o=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((c,d)=>{if(t.encode.update[d])return{...c,[d]:t.encode.update[d]};{const f=Zf(d,e.markDef,e.config);return f!==void 0?{...c,[d]:xi(f)}:c}},o),o.stroke&&(o.strokeForeground={value:!0},o.strokeOffset={value:0}),[{type:"group",from:{facet:{data:e.requestDataName(Bi.Main),name:gfe+e.requestDataName(Bi.Main),groupby:a,aggregate:{fields:[r({suffix:"start"}),r({suffix:"start"}),r({suffix:"end"}),r({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:o},marks:[{type:"group",encode:{update:s},marks:[t]}]}]}function IFt(e){const{encoding:t,stack:n,mark:r,markDef:i,config:o}=e,s=t.order;if(!(!et(s)&&kd(s)&&rz(s.value)||!s&&rz(Gr("order",i,o)))){if((et(s)||St(s))&&!n)return oIe(s,{expr:"datum"});if(C0(r)){const a=i.orient==="horizontal"?"y":"x",l=t[a];if(St(l))return{field:a}}}}function IQ(e,t={fromPrefix:""}){const{mark:n,markDef:r,encoding:i,config:o}=e,s=vo(r.clip,RFt(e),DFt(e)),a=rIe(r),l=i.key,u=IFt(e),c=$Ft(e),d=Gr("aria",r,o),f=E3[n].postEncodingTransform?E3[n].postEncodingTransform(e):null;return[{name:e.getName("marks"),type:E3[n].vgMark,...s?{clip:s}:{},...a?{style:a}:{},...l?{key:l.field}:{},...u?{sort:u}:{},...c||{},...d===!1?{aria:d}:{},from:{data:t.fromPrefix+e.requestDataName(Bi.Main)},encode:{update:E3[n].encodeEntry(e)},...f?{transform:f}:{}}]}function RFt(e){const t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return t!=null&&t.get("selectionExtent")||n!=null&&n.get("selectionExtent")?!0:void 0}function DFt(e){const t=e.component.projection;return t&&!t.isFit?!0:void 0}function $Ft(e){if(!e.component.selection)return null;const t=mt(e.component.selection).length;let n=t,r=e.parent;for(;r&&n===0;)n=mt(r.component.selection).length,r=r.parent;return n?{interactive:t>0||e.mark==="geoshape"||!!e.encoding.tooltip||!!e.markDef.tooltip}:null}class l$e extends r$e{constructor(t,n,r,i={},o){super(t,"unit",n,r,o,void 0,xde(t)?t.view:void 0),this.specifiedScales={},this.specifiedAxes={},this.specifiedLegends={},this.specifiedProjection={},this.selection=[],this.children=[],this.correctDataNames=u=>{var c,d,f;return(c=u.from)!=null&&c.data&&(u.from.data=this.lookupDataSource(u.from.data),"time"in this.encoding&&(u.from.data=u.from.data+WRe)),(f=(d=u.from)==null?void 0:d.facet)!=null&&f.data&&(u.from.facet.data=this.lookupDataSource(u.from.facet.data)),u};const s=eh(t.mark)?{...t.mark}:{type:t.mark},a=s.type;s.filled===void 0&&(s.filled=sPt(s,o,{graticule:t.data&&sQ(t.data)}));const l=this.encoding=cMt(t.encoding||{},a,s.filled,o);this.markDef=DRe(s,l,o),this.size=lFt({encoding:l,size:xde(t)?{...i,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}}:i}),this.stack=RRe(this.markDef,l),this.specifiedScales=this.initScales(a,l),this.specifiedAxes=this.initAxes(l),this.specifiedLegends=this.initLegends(l),this.specifiedProjection=t.projection,this.selection=(t.params??[]).filter(u=>tQ(u))}get hasProjection(){const{encoding:t}=this,n=this.mark===OIe,r=t&&nRt.some(i=>$n(t[i]));return n||r}scaleDomain(t){const n=this.specifiedScales[t];return n?n.domain:void 0}axis(t){return this.specifiedAxes[t]}legend(t){return this.specifiedLegends[t]}initScales(t,n){return yX.reduce((r,i)=>{const o=Ho(n[i]);return o&&(r[i]=this.initScale(o.scale??{})),r},{})}initScale(t){const{domain:n,range:r}=t,i=Ls(t);return et(n)&&(i.domain=n.map(yu)),et(r)&&(i.range=r.map(yu)),i}initAxes(t){return om.reduce((n,r)=>{const i=t[r];if($n(i)||r===Di&&$n(t.x2)||r===_s&&$n(t.y2)){const o=$n(i)?i.axis:void 0;n[r]=o&&this.initAxis({...o})}return n},{})}initAxis(t){const n=mt(t),r={};for(const i of n){const o=t[i];r[i]=ZA(o)?nIe(o):yu(o)}return r}initLegends(t){return hRt.reduce((n,r)=>{const i=Ho(t[r]);if(i&&mRt(r)){const o=i.legend;n[r]=o&&Ls(o)}return n},{})}parseData(){this.component.data=IL(this)}parseLayoutSize(){W4t(this)}parseSelections(){this.component.selection=NOt(this,this.selection)}parseMarkGroup(){this.component.mark=CFt(this)}parseAxesAndHeaders(){this.component.axes=eFt(this)}assembleSelectionTopLevelSignals(t){return ZPt(this,t)}assembleSignals(){return[...EDe(this),...QPt(this,[])]}assembleSelectionData(t){return eNt(this,t)}assembleLayout(){return null}assembleLayoutSignals(){return yQ(this)}assembleMarks(){let t=this.component.mark??[];return(!this.parent||!b_(this.parent))&&(t=KRe(this,t)),t.map(this.correctDataNames)}assembleGroupStyle(){const{style:t}=this.view||{};return t!==void 0?t:this.encoding.x||this.encoding.y?"cell":"view"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(t){return Vy(this.encoding,t)}fieldDef(t){const n=this.encoding[t];return Id(n)}typedFieldDef(t){const n=this.fieldDef(t);return ll(n)?n:null}}class RQ extends TQ{constructor(t,n,r,i,o){super(t,"layer",n,r,o,t.resolve,t.view);const s={...i,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}};this.children=t.layer.map((a,l)=>{if(aL(a))return new RQ(a,this,this.getName(`layer_${l}`),s,o);if(sm(a))return new l$e(a,this,this.getName(`layer_${l}`),s,o);throw new Error(bX(a))})}parseData(){this.component.data=IL(this);for(const t of this.children)t.parseData()}parseLayoutSize(){H4t(this)}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of mt(t.component.selection))this.component.selection[n]=t.component.selection[n]}Object.values(this.component.selection).some(t=>Bf(t))&&_X(xX)}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){nFt(this)}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleSignals()),EDe(this))}assembleLayoutSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleLayoutSignals()),yQ(this))}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleGroupStyle(){const t=new Set;for(const r of this.children)for(const i of jt(r.assembleGroupStyle()))t.add(i);const n=Array.from(t);return n.length>1?n:n.length===1?n[0]:void 0}assembleTitle(){let t=super.assembleTitle();if(t)return t;for(const n of this.children)if(t=n.assembleTitle(),t)return t}assembleLayout(){return null}assembleMarks(){return tNt(this,this.children.flatMap(t=>t.assembleMarks()))}assembleLegends(){return this.children.reduce((t,n)=>t.concat(n.assembleLegends()),jDe(this))}}function DQ(e,t,n,r,i){if(eL(e))return new sT(e,t,n,i);if(aL(e))return new RQ(e,t,n,r,i);if(sm(e))return new l$e(e,t,n,r,i);if(PMt(e))return new X4t(e,t,n,i);throw new Error(bX(e))}function MFt(e,t={}){t.logger&&LDt(t.logger),t.fieldTitle&&eRe(t.fieldTitle);try{const n=IRe(Kx(t.config,e.config)),r=FRe(e,n),i=DQ(r,null,"",void 0,n);return i.parse(),r4t(i.component.data,i),{spec:NFt(i,PFt(e,r.autosize,n,i),e.datasets,e.usermeta),normalized:r}}finally{t.logger&&FDt(),t.fieldTitle&&tMt()}}function PFt(e,t,n,r){const i=r.component.layoutSize.get("width"),o=r.component.layoutSize.get("height");if(t===void 0?(t={type:"pad"},r.hasAxisOrientSignalRef()&&(t.resize=!0)):Bt(t)&&(t={type:t}),i&&o&&zPt(t.type)){if(i==="step"&&o==="step")xt(ode()),t.type="pad";else if(i==="step"||o==="step"){const s=i==="step"?"width":"height";xt(ode(HO(s)));const a=s==="width"?"height":"width";t.type=UPt(a)}}return{...mt(t).length===1&&t.type?t.type==="pad"?{}:{autosize:t.type}:{autosize:t},...Mde(n,!1),...Mde(e,!0)}}function NFt(e,t,n={},r){const i=e.config?YMt(e.config):void 0,o=B4t(e.component.data,n),s=e.assembleSelectionData(o),a=e.assembleProjections(),l=e.assembleTitle(),u=e.assembleGroupStyle(),c=e.assembleGroupEncodeEntry(!0);let d=e.assembleLayoutSignals();d=d.filter(p=>(p.name==="width"||p.name==="height")&&p.value!==void 0?(t[p.name]=+p.value,!1):!0);const{params:f,...h}=t;return{$schema:"https://vega.github.io/schema/vega/v5.json",...e.description?{description:e.description}:{},...h,...l?{title:l}:{},...u?{style:u}:{},...c?{encode:{update:c}}:{},data:s,...a.length>0?{projections:a}:{},...e.assembleGroup([...d,...e.assembleSelectionTopLevelSignals([]),...TRe(f)]),...i?{config:i}:{},...r?{usermeta:r}:{}}}const OFt=XIt.version,LFt=Object.freeze(Object.defineProperty({__proto__:null,accessPathDepth:Kw,accessPathWithDatum:uX,accessWithDatumToUnescapedPath:Fr,compile:MFt,contains:Jn,deepEqual:wu,deleteNestedProperty:_M,duplicate:Dn,entries:Yg,every:sX,fieldIntersection:lX,flatAccessWithDatum:L3e,getFirstDefined:vo,hasIntersection:aX,hasProperty:yt,hash:ir,internalField:j3e,isBoolean:fC,isEmpty:Yr,isEqual:JIt,isInternalField:z3e,isNullOrFalse:rz,isNumeric:LO,keys:mt,logicalExpr:rT,mergeDeep:N3e,never:P3e,normalize:FRe,normalizeAngle:hC,omit:jl,pick:Gw,prefixGenerator:iz,removePathFromField:f_,replaceAll:bv,replacePathInField:Ec,resetIdCounter:eRt,setEqual:O3e,some:Yw,stringify:Kr,titleCase:UA,unique:Ef,uniqueId:B3e,vals:Ks,varName:Ii,version:OFt},Symbol.toStringTag,{value:"Module"}));function u$e(e){const[t,n]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:t,version:n}}var FFt="2.15.0",BFt={version:FFt};const p1="#fff",yfe="#888",jFt={background:"#333",view:{stroke:yfe},title:{color:p1,subtitleColor:p1},style:{"guide-label":{fill:p1},"guide-title":{fill:p1}},axis:{domainColor:p1,gridColor:yfe,tickColor:p1}},Y0="#4572a7",zFt={background:"#fff",arc:{fill:Y0},area:{fill:Y0},line:{stroke:Y0,strokeWidth:2},path:{stroke:Y0},rect:{fill:Y0},shape:{stroke:Y0},symbol:{fill:Y0,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},K0="#30a2da",FB="#cbcbcb",UFt="#999",HFt="#333",vfe="#f0f0f0",bfe="#333",VFt={arc:{fill:K0},area:{fill:K0},axis:{domainColor:FB,grid:!0,gridColor:FB,gridWidth:1,labelColor:UFt,labelFontSize:10,titleColor:HFt,tickColor:FB,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:vfe,group:{fill:vfe},legend:{labelColor:bfe,labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:bfe,titleFontSize:14,titlePadding:10},line:{stroke:K0,strokeWidth:2},path:{stroke:K0,strokeWidth:.5},rect:{fill:K0},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:K0},bar:{binSpacing:2,fill:K0,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},X0="#000",WFt={group:{fill:"#e5e5e5"},arc:{fill:X0},area:{fill:X0},line:{stroke:X0},path:{stroke:X0},rect:{fill:X0},shape:{stroke:X0},symbol:{fill:X0,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},qFt=22,GFt="normal",wfe="Benton Gothic, sans-serif",xfe=11.5,YFt="normal",Q0="#82c6df",BB="Benton Gothic Bold, sans-serif",_fe="normal",Efe=13,$E={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"]},KFt={background:"#ffffff",title:{anchor:"start",color:"#000000",font:BB,fontSize:qFt,fontWeight:GFt},arc:{fill:Q0},area:{fill:Q0},line:{stroke:Q0,strokeWidth:2},path:{stroke:Q0},rect:{fill:Q0},shape:{stroke:Q0},symbol:{fill:Q0,size:30},axis:{labelFont:wfe,labelFontSize:xfe,labelFontWeight:YFt,titleFont:BB,titleFontSize:Efe,titleFontWeight:_fe},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:wfe,labelFontSize:xfe,symbolType:"square",titleFont:BB,titleFontSize:Efe,titleFontWeight:_fe},range:{category:$E["category-6"],diverging:$E["fireandice-6"],heatmap:$E["fire-7"],ordinal:$E["fire-7"],ramp:$E["fire-7"]}},J0="#ab5787",S3="#979797",XFt={background:"#f9f9f9",arc:{fill:J0},area:{fill:J0},line:{stroke:J0},path:{stroke:J0},rect:{fill:J0},shape:{stroke:J0},symbol:{fill:J0,size:30},axis:{domainColor:S3,domainWidth:.5,gridWidth:.2,labelColor:S3,tickColor:S3,tickWidth:.2,titleColor:S3},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},Z0="#3e5c69",QFt={background:"#fff",arc:{fill:Z0},area:{fill:Z0},line:{stroke:Z0},path:{stroke:Z0},rect:{fill:Z0},shape:{stroke:Z0},symbol:{fill:Z0},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},tc="#1696d2",Sfe="#000000",JFt="#FFFFFF",T3="Lato",jB="Lato",ZFt="Lato",e5t="#DEDDDD",t5t=18,ME={"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},n5t={background:JFt,title:{anchor:"start",fontSize:t5t,font:T3},axisX:{domain:!0,domainColor:Sfe,domainWidth:1,grid:!1,labelFontSize:12,labelFont:jB,labelAngle:0,tickColor:Sfe,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:T3},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:e5t,gridWidth:1,labelFontSize:12,labelFont:jB,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:T3,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:jB,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:T3,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:ME["six-groups-cat-1"],diverging:ME["diverging-colors"],heatmap:ME["diverging-colors"],ordinal:ME["six-groups-seq"],ramp:ME["shades-blue"]},area:{fill:tc},rect:{fill:tc},line:{color:tc,stroke:tc,strokeWidth:5},trail:{color:tc,stroke:tc,strokeWidth:0,size:1},path:{stroke:tc,strokeWidth:.5},point:{filled:!0},text:{font:ZFt,color:tc,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:tc,stroke:null}},arc:{fill:tc},shape:{stroke:tc},symbol:{fill:tc,size:30}},ey="#3366CC",Tfe="#ccc",C3="Arial, sans-serif",r5t={arc:{fill:ey},area:{fill:ey},path:{stroke:ey},rect:{fill:ey},shape:{stroke:ey},symbol:{stroke:ey},circle:{fill:ey},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:C3,fontSize:12},"guide-title":{font:C3,fontSize:12},"group-title":{font:C3,fontSize:12}},title:{font:C3,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:Tfe,tickColor:Tfe,domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},$Q=e=>e*(1/3+1),Cfe=$Q(9),Afe=$Q(10),kfe=$Q(12),PE="Segoe UI",Ife="wf_standard-font, helvetica, arial, sans-serif",Rfe="#252423",NE="#605E5C",Dfe="transparent",i5t="#C8C6C4",Yc="#118DFF",o5t="#12239E",s5t="#E66C37",a5t="#6B007B",l5t="#E044A7",u5t="#744EC2",c5t="#D9B300",d5t="#D64550",c$e=Yc,d$e="#DEEFFF",$fe=[d$e,c$e],f5t=[d$e,"#c7e4ff","#b0d9ff","#9aceff","#83c3ff","#6cb9ff","#55aeff","#3fa3ff","#2898ff",c$e],h5t={view:{stroke:Dfe},background:Dfe,font:PE,header:{titleFont:Ife,titleFontSize:kfe,titleColor:Rfe,labelFont:PE,labelFontSize:Afe,labelColor:NE},axis:{ticks:!1,grid:!1,domain:!1,labelColor:NE,labelFontSize:Cfe,titleFont:Ife,titleColor:Rfe,titleFontSize:kfe,titleFontWeight:"normal"},axisQuantitative:{tickCount:3,grid:!0,gridColor:i5t,gridDash:[1,5],labelFlush:!1},axisBand:{tickExtra:!0},axisX:{labelPadding:5},axisY:{labelPadding:10},bar:{fill:Yc},line:{stroke:Yc,strokeWidth:3,strokeCap:"round",strokeJoin:"round"},text:{font:PE,fontSize:Cfe,fill:NE},arc:{fill:Yc},area:{fill:Yc,line:!0,opacity:.6},path:{stroke:Yc},rect:{fill:Yc},point:{fill:Yc,filled:!0,size:75},shape:{stroke:Yc},symbol:{fill:Yc,strokeWidth:1.5,size:50},legend:{titleFont:PE,titleFontWeight:"bold",titleColor:NE,labelFont:PE,labelFontSize:Afe,labelColor:NE,symbolType:"circle",symbolSize:75},range:{category:[Yc,o5t,s5t,a5t,l5t,u5t,c5t,d5t],diverging:$fe,heatmap:$fe,ordinal:f5t}},zB='IBM Plex Sans,system-ui,-apple-system,BlinkMacSystemFont,".sfnstext-regular",sans-serif',p5t='IBM Plex Sans Condensed, system-ui, -apple-system, BlinkMacSystemFont, ".SFNSText-Regular", sans-serif',UB=400,A3={textPrimary:{g90:"#f4f4f4",g100:"#f4f4f4",white:"#161616",g10:"#161616"},textSecondary:{g90:"#c6c6c6",g100:"#c6c6c6",white:"#525252",g10:"#525252"},layerAccent01:{white:"#e0e0e0",g10:"#e0e0e0",g90:"#525252",g100:"#393939"},gridBg:{white:"#ffffff",g10:"#ffffff",g90:"#161616",g100:"#161616"}},m5t=["#8a3ffc","#33b1ff","#007d79","#ff7eb6","#fa4d56","#fff1f1","#6fdc8c","#4589ff","#d12771","#d2a106","#08bdba","#bae6ff","#ba4e00","#d4bbff"],g5t=["#6929c4","#1192e8","#005d5d","#9f1853","#fa4d56","#570408","#198038","#002d9c","#ee538b","#b28600","#009d9a","#012749","#8a3800","#a56eff"];function RL({theme:e,background:t}){const n=["white","g10"].includes(e)?"light":"dark",r=A3.gridBg[e],i=A3.textPrimary[e],o=A3.textSecondary[e],s=n==="dark"?m5t:g5t,a=n==="dark"?"#d4bbff":"#6929c4";return{background:t,arc:{fill:a},area:{fill:a},path:{stroke:a},rect:{fill:a},shape:{stroke:a},symbol:{stroke:a},circle:{fill:a},view:{fill:r,stroke:r},group:{fill:r},title:{color:i,anchor:"start",dy:-15,fontSize:16,font:zB,fontWeight:600},axis:{labelColor:o,labelFontSize:12,labelFont:p5t,labelFontWeight:UB,titleColor:i,titleFontWeight:600,titleFontSize:12,grid:!0,gridColor:A3.layerAccent01[e],labelAngle:0},axisX:{titlePadding:10},axisY:{titlePadding:2.5},style:{"guide-label":{font:zB,fill:o,fontWeight:UB},"guide-title":{font:zB,fill:o,fontWeight:UB}},range:{category:s,diverging:["#750e13","#a2191f","#da1e28","#fa4d56","#ff8389","#ffb3b8","#ffd7d9","#fff1f1","#e5f6ff","#bae6ff","#82cfff","#33b1ff","#1192e8","#0072c3","#00539a","#003a6d"],heatmap:["#f6f2ff","#e8daff","#d4bbff","#be95ff","#a56eff","#8a3ffc","#6929c4","#491d8b","#31135e","#1c0f30"]}}}const y5t=RL({theme:"white",background:"#ffffff"}),v5t=RL({theme:"g10",background:"#f4f4f4"}),b5t=RL({theme:"g90",background:"#262626"}),w5t=RL({theme:"g100",background:"#161616"}),x5t=BFt.version,_5t=Object.freeze(Object.defineProperty({__proto__:null,carbong10:v5t,carbong100:w5t,carbong90:b5t,carbonwhite:y5t,dark:jFt,excel:zFt,fivethirtyeight:VFt,ggplot2:WFt,googlecharts:r5t,latimes:KFt,powerbi:h5t,quartz:XFt,urbaninstitute:n5t,version:x5t,vox:QFt},Symbol.toStringTag,{value:"Module"}));function E5t(e,t,n,r){if(et(e))return`[${e.map(i=>t(Bt(i)?i:Mfe(i,n))).join(", ")}]`;if(Ft(e)){let i="";const{title:o,image:s,...a}=e;o&&(i+=`<h2>${t(o)}</h2>`),s&&(i+=`<img src="${new URL(t(s),r||location.href).href}">`);const l=Object.keys(a);if(l.length>0){i+="<table>";for(const u of l){let c=a[u];c!==void 0&&(Ft(c)&&(c=Mfe(c,n)),i+=`<tr><td class="key">${t(u)}</td><td class="value">${t(c)}</td></tr>`)}i+="</table>"}return i||"{}"}return t(e)}function S5t(e){const t=[];return function(n,r){if(typeof r!="object"||r===null)return r;const i=t.indexOf(this)+1;return t.length=i,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}function Mfe(e,t){return JSON.stringify(e,S5t(t))}var T5t=`#vg-tooltip-element {
  visibility: hidden;
  padding: 8px;
  position: fixed;
  z-index: 1000;
  font-family: sans-serif;
  font-size: 11px;
  border-radius: 3px;
  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  /* The default theme is the light theme. */
  background-color: rgba(255, 255, 255, 0.95);
  border: 1px solid #d9d9d9;
  color: black;
}
#vg-tooltip-element.visible {
  visibility: visible;
}
#vg-tooltip-element h2 {
  margin-top: 0;
  margin-bottom: 10px;
  font-size: 13px;
}
#vg-tooltip-element table {
  border-spacing: 0;
}
#vg-tooltip-element table tr {
  border: none;
}
#vg-tooltip-element table tr td {
  overflow: hidden;
  text-overflow: ellipsis;
  padding-top: 2px;
  padding-bottom: 2px;
}
#vg-tooltip-element table tr td.key {
  color: #808080;
  max-width: 150px;
  text-align: right;
  padding-right: 4px;
}
#vg-tooltip-element table tr td.value {
  display: block;
  max-width: 300px;
  max-height: 7em;
  text-align: left;
}
#vg-tooltip-element.dark-theme {
  background-color: rgba(32, 32, 32, 0.9);
  border: 1px solid #f5f5f5;
  color: white;
}
#vg-tooltip-element.dark-theme td.key {
  color: #bfbfbf;
}
`;const f$e="vg-tooltip-element",C5t={offsetX:10,offsetY:10,id:f$e,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:A5t,maxDepth:2,formatTooltip:E5t,baseURL:"",anchor:"cursor",position:["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right"]};function A5t(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function k5t(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return T5t.toString().replace(f$e,e)}function h$e(e,t,{offsetX:n,offsetY:r}){const i=p$e({x1:e.clientX,x2:e.clientX,y1:e.clientY,y2:e.clientY},t,n,r),o=["bottom-right","bottom-left","top-right","top-left"];for(const s of o)if(m$e(i[s],t))return i[s];return i["top-left"]}function I5t(e,t,n,r,i){const{position:o,offsetX:s,offsetY:a}=i,l=e._el.getBoundingClientRect(),u=e._origin,c=R5t(l,u,n),d=p$e(c,r,s,a),f=Array.isArray(o)?o:[o];for(const h of f)if(m$e(d[h],r)&&!D5t(t,d[h],r))return d[h];return h$e(t,r,i)}function R5t(e,t,n){const r=n.isVoronoi?n.datum.bounds:n.bounds;let i=e.left+t[0]+r.x1,o=e.top+t[1]+r.y1,s=n;for(;s.mark.group;)s=s.mark.group,i+=s.x??0,o+=s.y??0;const a=r.x2-r.x1,l=r.y2-r.y1;return{x1:i,x2:i+a,y1:o,y2:o+l}}function p$e(e,t,n,r){const i=(e.x1+e.x2)/2,o=(e.y1+e.y2)/2,s=e.x1-t.width-n,a=i-t.width/2,l=e.x2+n,u=e.y1-t.height-r,c=o-t.height/2,d=e.y2+r;return{top:{x:a,y:u},bottom:{x:a,y:d},left:{x:s,y:c},right:{x:l,y:c},"top-left":{x:s,y:u},"top-right":{x:l,y:u},"bottom-left":{x:s,y:d},"bottom-right":{x:l,y:d}}}function m$e(e,t){return e.x>=0&&e.y>=0&&e.x+t.width<=window.innerWidth&&e.y+t.height<=window.innerHeight}function D5t(e,t,n){return e.clientX>=t.x&&e.clientX<=t.x+n.width&&e.clientY>=t.y&&e.clientY<=t.y+n.height}class $5t{constructor(t){this.options={...C5t,...t};const n=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const r=document.createElement("style");r.setAttribute("id",this.options.styleId),r.innerHTML=k5t(n);const i=document.head;i.childNodes.length>0?i.insertBefore(r,i.childNodes[0]):i.appendChild(r)}}tooltipHandler(t,n,r,i){if(this.el=document.getElementById(this.options.id),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),(document.fullscreenElement??document.body).appendChild(this.el)),i==null||i===""){this.el.classList.remove("visible",`${this.options.theme}-theme`);return}this.el.innerHTML=this.options.formatTooltip(i,this.options.sanitize,this.options.maxDepth,this.options.baseURL),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:o,y:s}=this.options.anchor==="mark"?I5t(t,n,r,this.el.getBoundingClientRect(),this.options):h$e(n,this.el.getBoundingClientRect(),this.options);this.el.style.top=`${s}px`,this.el.style.left=`${o}px`}}var HB={};/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var M5t=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),P5t=Object.prototype.hasOwnProperty;function Mz(e,t){return P5t.call(e,t)}function Pz(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)Mz(e,i)&&r.push(i);return r}function xu(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function Nz(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function my(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function g$e(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function Oz(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(Oz(e[t]))return!0}else if(typeof e=="object"){for(var r=Pz(e),i=r.length,o=0;o<i;o++)if(Oz(e[r[o]]))return!0}}return!1}function Pfe(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var y$e=function(e){M5t(t,e);function t(n,r,i,o,s){var a=this.constructor,l=e.call(this,Pfe(n,{name:r,index:i,operation:o,tree:s}))||this;return l.name=r,l.index=i,l.operation=o,l.tree=s,Object.setPrototypeOf(l,a.prototype),l.message=Pfe(n,{name:r,index:i,operation:o,tree:s}),l}return t}(Error),Gi=y$e,N5t=xu,F1={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=LM(n,this.path);r&&(r=xu(r));var i=Gy(n,{op:"remove",path:this.from}).removed;return Gy(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=LM(n,this.from);return Gy(n,{op:"add",path:this.path,value:xu(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:wC(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},O5t={add:function(e,t,n){return Nz(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:F1.move,copy:F1.copy,test:F1.test,_get:F1._get};function LM(e,t){if(t=="")return e;var n={op:"_get",path:t};return Gy(e,n),n.value}function Gy(e,t,n,r,i,o){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),o===void 0&&(o=0),n&&(typeof n=="function"?n(t,0,e,t.path):FM(t,0)),t.path===""){var s={newDocument:e};if(t.op==="add")return s.newDocument=t.value,s;if(t.op==="replace")return s.newDocument=t.value,s.removed=e,s;if(t.op==="move"||t.op==="copy")return s.newDocument=LM(e,t.from),t.op==="move"&&(s.removed=e),s;if(t.op==="test"){if(s.test=wC(e,t.value),s.test===!1)throw new Gi("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s.newDocument=e,s}else{if(t.op==="remove")return s.removed=e,s.newDocument=null,s;if(t.op==="_get")return t.value=e,s;if(n)throw new Gi("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,t,e);return s}}else{r||(e=xu(e));var a=t.path||"",l=a.split("/"),u=e,c=1,d=l.length,f=void 0,h=void 0,p=void 0;for(typeof n=="function"?p=n:p=FM;;){if(h=l[c],h&&h.indexOf("~")!=-1&&(h=g$e(h)),i&&(h=="__proto__"||h=="prototype"&&c>0&&l[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&f===void 0&&(u[h]===void 0?f=l.slice(0,c).join("/"):c==d-1&&(f=t.path),f!==void 0&&p(t,0,e,f)),c++,Array.isArray(u)){if(h==="-")h=u.length;else{if(n&&!Nz(h))throw new Gi("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,t,e);Nz(h)&&(h=~~h)}if(c>=d){if(n&&t.op==="add"&&h>u.length)throw new Gi("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,t,e);var s=O5t[t.op].call(t,u,h,e);if(s.test===!1)throw new Gi("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s}}else if(c>=d){var s=F1[t.op].call(t,u,h,e);if(s.test===!1)throw new Gi("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s}if(u=u[h],n&&c<d&&(!u||typeof u!="object"))throw new Gi("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",o,t,e)}}}function DL(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new Gi("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=xu(e));for(var o=new Array(t.length),s=0,a=t.length;s<a;s++)o[s]=Gy(e,t[s],n,!0,i,s),e=o[s].newDocument;return o.newDocument=e,o}function L5t(e,t,n){var r=Gy(e,t);if(r.test===!1)throw new Gi("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function FM(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new Gi("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(F1[e.op]){if(typeof e.path!="string")throw new Gi("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new Gi('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new Gi("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new Gi("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&Oz(e.value))throw new Gi("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,o=r.split("/").length;if(i!==o+1&&i!==o)throw new Gi("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new Gi("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var s={op:"_get",path:e.from,value:void 0},a=v$e([s],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new Gi("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new Gi("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function v$e(e,t,n){try{if(!Array.isArray(e))throw new Gi("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)DL(xu(t),xu(e),n||!0);else{n=n||FM;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof Gi)return i;throw i}}function wC(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,o,s;if(n&&r){if(o=e.length,o!=t.length)return!1;for(i=o;i--!==0;)if(!wC(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=Object.keys(e);if(o=a.length,o!==Object.keys(t).length)return!1;for(i=o;i--!==0;)if(!t.hasOwnProperty(a[i]))return!1;for(i=o;i--!==0;)if(s=a[i],!wC(e[s],t[s]))return!1;return!0}return e!==e&&t!==t}var F5t=Object.freeze({__proto__:null,JsonPatchError:Gi,_areEquals:wC,applyOperation:Gy,applyPatch:DL,applyReducer:L5t,deepClone:N5t,getValueByPointer:LM,validate:v$e,validator:FM});/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var MQ=new WeakMap,B5t=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),j5t=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function z5t(e){return MQ.get(e)}function U5t(e,t){return e.observers.get(t)}function H5t(e,t){e.observers.delete(t.callback)}function V5t(e,t){t.unobserve()}function W5t(e,t){var n=[],r,i=z5t(e);if(!i)i=new B5t(e),MQ.set(e,i);else{var o=U5t(i,t);r=o&&o.observer}if(r)return r;if(r={},i.value=xu(e),t){r.callback=t,r.next=null;var s=function(){Lz(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(s)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=n,r.object=e,r.unobserve=function(){Lz(r),clearTimeout(r.next),H5t(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},i.observers.set(t,new j5t(t,r)),r}function Lz(e,t){t===void 0&&(t=!1);var n=MQ.get(e.object);PQ(n.value,e.object,e.patches,"",t),e.patches.length&&DL(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function PQ(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var o=Pz(t),s=Pz(e),a=!1,l=s.length-1;l>=0;l--){var u=s[l],c=e[u];if(Mz(t,u)&&!(t[u]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var d=t[u];typeof c=="object"&&c!=null&&typeof d=="object"&&d!=null&&Array.isArray(c)===Array.isArray(d)?PQ(c,d,n,r+"/"+my(u),i):c!==d&&(i&&n.push({op:"test",path:r+"/"+my(u),value:xu(c)}),n.push({op:"replace",path:r+"/"+my(u),value:xu(d)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+my(u),value:xu(c)}),n.push({op:"remove",path:r+"/"+my(u)}),a=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!a&&o.length==s.length))for(var l=0;l<o.length;l++){var u=o[l];!Mz(e,u)&&t[u]!==void 0&&n.push({op:"add",path:r+"/"+my(u),value:xu(t[u])})}}}function q5t(e,t,n){n===void 0&&(n=!1);var r=[];return PQ(e,t,r,"",n),r}var G5t=Object.freeze({__proto__:null,compare:q5t,generate:Lz,observe:W5t,unobserve:V5t});Object.assign({},F5t,G5t,{JsonPatchError:y$e,deepClone:xu,escapePathComponent:my,unescapePathComponent:g$e});function Y5t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var VB,Nfe;function K5t(){if(Nfe)return VB;Nfe=1;class e{constructor(){this.max=1e3,this.map=new Map}get(n){const r=this.map.get(n);if(r!==void 0)return this.map.delete(n),this.map.set(n,r),r}delete(n){return this.map.delete(n)}set(n,r){if(!this.delete(n)&&r!==void 0){if(this.map.size>=this.max){const o=this.map.keys().next().value;this.delete(o)}this.map.set(n,r)}return this}}return VB=e,VB}var WB,Ofe;function NQ(){if(Ofe)return WB;Ofe=1;const e=Object.freeze({loose:!0}),t=Object.freeze({});return WB=r=>r?typeof r!="object"?e:r:t,WB}var k3={exports:{}},qB,Lfe;function OQ(){if(Lfe)return qB;Lfe=1;const e="2.0.0",t=256,n=Number.MAX_SAFE_INTEGER||9007199254740991,r=16,i=t-6;return qB={MAX_LENGTH:t,MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:i,MAX_SAFE_INTEGER:n,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},qB}var GB,Ffe;function $L(){return Ffe||(Ffe=1,GB=typeof process=="object"&&HB&&HB.NODE_DEBUG&&/\bsemver\b/i.test(HB.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{}),GB}var Bfe;function LQ(){return Bfe||(Bfe=1,function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=OQ(),o=$L();t=e.exports={};const s=t.re=[],a=t.safeRe=[],l=t.src=[],u=t.t={};let c=0;const d="[a-zA-Z0-9-]",f=[["\\s",1],["\\d",i],[d,r]],h=m=>{for(const[g,y]of f)m=m.split(`${g}*`).join(`${g}{0,${y}}`).split(`${g}+`).join(`${g}{1,${y}}`);return m},p=(m,g,y)=>{const v=h(g),w=c++;o(m,w,g),u[m]=w,l[w]=g,s[w]=new RegExp(g,y?"g":void 0),a[w]=new RegExp(v,y?"g":void 0)};p("NUMERICIDENTIFIER","0|[1-9]\\d*"),p("NUMERICIDENTIFIERLOOSE","\\d+"),p("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),p("MAINVERSION",`(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})`),p("MAINVERSIONLOOSE",`(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})`),p("PRERELEASEIDENTIFIER",`(?:${l[u.NUMERICIDENTIFIER]}|${l[u.NONNUMERICIDENTIFIER]})`),p("PRERELEASEIDENTIFIERLOOSE",`(?:${l[u.NUMERICIDENTIFIERLOOSE]}|${l[u.NONNUMERICIDENTIFIER]})`),p("PRERELEASE",`(?:-(${l[u.PRERELEASEIDENTIFIER]}(?:\\.${l[u.PRERELEASEIDENTIFIER]})*))`),p("PRERELEASELOOSE",`(?:-?(${l[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[u.PRERELEASEIDENTIFIERLOOSE]})*))`),p("BUILDIDENTIFIER",`${d}+`),p("BUILD",`(?:\\+(${l[u.BUILDIDENTIFIER]}(?:\\.${l[u.BUILDIDENTIFIER]})*))`),p("FULLPLAIN",`v?${l[u.MAINVERSION]}${l[u.PRERELEASE]}?${l[u.BUILD]}?`),p("FULL",`^${l[u.FULLPLAIN]}$`),p("LOOSEPLAIN",`[v=\\s]*${l[u.MAINVERSIONLOOSE]}${l[u.PRERELEASELOOSE]}?${l[u.BUILD]}?`),p("LOOSE",`^${l[u.LOOSEPLAIN]}$`),p("GTLT","((?:<|>)?=?)"),p("XRANGEIDENTIFIERLOOSE",`${l[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),p("XRANGEIDENTIFIER",`${l[u.NUMERICIDENTIFIER]}|x|X|\\*`),p("XRANGEPLAIN",`[v=\\s]*(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:${l[u.PRERELEASE]})?${l[u.BUILD]}?)?)?`),p("XRANGEPLAINLOOSE",`[v=\\s]*(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:${l[u.PRERELEASELOOSE]})?${l[u.BUILD]}?)?)?`),p("XRANGE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAIN]}$`),p("XRANGELOOSE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAINLOOSE]}$`),p("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),p("COERCE",`${l[u.COERCEPLAIN]}(?:$|[^\\d])`),p("COERCEFULL",l[u.COERCEPLAIN]+`(?:${l[u.PRERELEASE]})?(?:${l[u.BUILD]})?(?:$|[^\\d])`),p("COERCERTL",l[u.COERCE],!0),p("COERCERTLFULL",l[u.COERCEFULL],!0),p("LONETILDE","(?:~>?)"),p("TILDETRIM",`(\\s*)${l[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",p("TILDE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAIN]}$`),p("TILDELOOSE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAINLOOSE]}$`),p("LONECARET","(?:\\^)"),p("CARETTRIM",`(\\s*)${l[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",p("CARET",`^${l[u.LONECARET]}${l[u.XRANGEPLAIN]}$`),p("CARETLOOSE",`^${l[u.LONECARET]}${l[u.XRANGEPLAINLOOSE]}$`),p("COMPARATORLOOSE",`^${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]})$|^$`),p("COMPARATOR",`^${l[u.GTLT]}\\s*(${l[u.FULLPLAIN]})$|^$`),p("COMPARATORTRIM",`(\\s*)${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]}|${l[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",p("HYPHENRANGE",`^\\s*(${l[u.XRANGEPLAIN]})\\s+-\\s+(${l[u.XRANGEPLAIN]})\\s*$`),p("HYPHENRANGELOOSE",`^\\s*(${l[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[u.XRANGEPLAINLOOSE]})\\s*$`),p("STAR","(<|>)?=?\\s*\\*"),p("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),p("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(k3,k3.exports)),k3.exports}var YB,jfe;function X5t(){if(jfe)return YB;jfe=1;const e=/^[0-9]+$/,t=(r,i)=>{const o=e.test(r),s=e.test(i);return o&&s&&(r=+r,i=+i),r===i?0:o&&!s?-1:s&&!o?1:r<i?-1:1};return YB={compareIdentifiers:t,rcompareIdentifiers:(r,i)=>t(i,r)},YB}var KB,zfe;function FQ(){if(zfe)return KB;zfe=1;const e=$L(),{MAX_LENGTH:t,MAX_SAFE_INTEGER:n}=OQ(),{safeRe:r,t:i}=LQ(),o=NQ(),{compareIdentifiers:s}=X5t();class a{constructor(u,c){if(c=o(c),u instanceof a){if(u.loose===!!c.loose&&u.includePrerelease===!!c.includePrerelease)return u;u=u.version}else if(typeof u!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof u}".`);if(u.length>t)throw new TypeError(`version is longer than ${t} characters`);e("SemVer",u,c),this.options=c,this.loose=!!c.loose,this.includePrerelease=!!c.includePrerelease;const d=u.trim().match(c.loose?r[i.LOOSE]:r[i.FULL]);if(!d)throw new TypeError(`Invalid Version: ${u}`);if(this.raw=u,this.major=+d[1],this.minor=+d[2],this.patch=+d[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");d[4]?this.prerelease=d[4].split(".").map(f=>{if(/^[0-9]+$/.test(f)){const h=+f;if(h>=0&&h<n)return h}return f}):this.prerelease=[],this.build=d[5]?d[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(u){if(e("SemVer.compare",this.version,this.options,u),!(u instanceof a)){if(typeof u=="string"&&u===this.version)return 0;u=new a(u,this.options)}return u.version===this.version?0:this.compareMain(u)||this.comparePre(u)}compareMain(u){return u instanceof a||(u=new a(u,this.options)),s(this.major,u.major)||s(this.minor,u.minor)||s(this.patch,u.patch)}comparePre(u){if(u instanceof a||(u=new a(u,this.options)),this.prerelease.length&&!u.prerelease.length)return-1;if(!this.prerelease.length&&u.prerelease.length)return 1;if(!this.prerelease.length&&!u.prerelease.length)return 0;let c=0;do{const d=this.prerelease[c],f=u.prerelease[c];if(e("prerelease compare",c,d,f),d===void 0&&f===void 0)return 0;if(f===void 0)return 1;if(d===void 0)return-1;if(d===f)continue;return s(d,f)}while(++c)}compareBuild(u){u instanceof a||(u=new a(u,this.options));let c=0;do{const d=this.build[c],f=u.build[c];if(e("build compare",c,d,f),d===void 0&&f===void 0)return 0;if(f===void 0)return 1;if(d===void 0)return-1;if(d===f)continue;return s(d,f)}while(++c)}inc(u,c,d){switch(u){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",c,d);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",c,d);break;case"prepatch":this.prerelease.length=0,this.inc("patch",c,d),this.inc("pre",c,d);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",c,d),this.inc("pre",c,d);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const f=Number(d)?1:0;if(!c&&d===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[f];else{let h=this.prerelease.length;for(;--h>=0;)typeof this.prerelease[h]=="number"&&(this.prerelease[h]++,h=-2);if(h===-1){if(c===this.prerelease.join(".")&&d===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(f)}}if(c){let h=[c,f];d===!1&&(h=[c]),s(this.prerelease[0],c)===0?isNaN(this.prerelease[1])&&(this.prerelease=h):this.prerelease=h}break}default:throw new Error(`invalid increment argument: ${u}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return KB=a,KB}var XB,Ufe;function w_(){if(Ufe)return XB;Ufe=1;const e=FQ();return XB=(n,r,i)=>new e(n,i).compare(new e(r,i)),XB}var QB,Hfe;function Q5t(){if(Hfe)return QB;Hfe=1;const e=w_();return QB=(n,r,i)=>e(n,r,i)===0,QB}var JB,Vfe;function J5t(){if(Vfe)return JB;Vfe=1;const e=w_();return JB=(n,r,i)=>e(n,r,i)!==0,JB}var ZB,Wfe;function Z5t(){if(Wfe)return ZB;Wfe=1;const e=w_();return ZB=(n,r,i)=>e(n,r,i)>0,ZB}var e8,qfe;function e6t(){if(qfe)return e8;qfe=1;const e=w_();return e8=(n,r,i)=>e(n,r,i)>=0,e8}var t8,Gfe;function t6t(){if(Gfe)return t8;Gfe=1;const e=w_();return t8=(n,r,i)=>e(n,r,i)<0,t8}var n8,Yfe;function n6t(){if(Yfe)return n8;Yfe=1;const e=w_();return n8=(n,r,i)=>e(n,r,i)<=0,n8}var r8,Kfe;function r6t(){if(Kfe)return r8;Kfe=1;const e=Q5t(),t=J5t(),n=Z5t(),r=e6t(),i=t6t(),o=n6t();return r8=(a,l,u,c)=>{switch(l){case"===":return typeof a=="object"&&(a=a.version),typeof u=="object"&&(u=u.version),a===u;case"!==":return typeof a=="object"&&(a=a.version),typeof u=="object"&&(u=u.version),a!==u;case"":case"=":case"==":return e(a,u,c);case"!=":return t(a,u,c);case">":return n(a,u,c);case">=":return r(a,u,c);case"<":return i(a,u,c);case"<=":return o(a,u,c);default:throw new TypeError(`Invalid operator: ${l}`)}},r8}var i8,Xfe;function i6t(){if(Xfe)return i8;Xfe=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(c,d){if(d=n(d),c instanceof t){if(c.loose===!!d.loose)return c;c=c.value}c=c.trim().split(/\s+/).join(" "),s("comparator",c,d),this.options=d,this.loose=!!d.loose,this.parse(c),this.semver===e?this.value="":this.value=this.operator+this.semver.version,s("comp",this)}parse(c){const d=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],f=c.match(d);if(!f)throw new TypeError(`Invalid comparator: ${c}`);this.operator=f[1]!==void 0?f[1]:"",this.operator==="="&&(this.operator=""),f[2]?this.semver=new a(f[2],this.options.loose):this.semver=e}toString(){return this.value}test(c){if(s("Comparator.test",c,this.options.loose),this.semver===e||c===e)return!0;if(typeof c=="string")try{c=new a(c,this.options)}catch{return!1}return o(c,this.operator,this.semver,this.options)}intersects(c,d){if(!(c instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(c.value,d).test(this.value):c.operator===""?c.value===""?!0:new l(this.value,d).test(c.semver):(d=n(d),d.includePrerelease&&(this.value==="<0.0.0-0"||c.value==="<0.0.0-0")||!d.includePrerelease&&(this.value.startsWith("<0.0.0")||c.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&c.operator.startsWith(">")||this.operator.startsWith("<")&&c.operator.startsWith("<")||this.semver.version===c.semver.version&&this.operator.includes("=")&&c.operator.includes("=")||o(this.semver,"<",c.semver,d)&&this.operator.startsWith(">")&&c.operator.startsWith("<")||o(this.semver,">",c.semver,d)&&this.operator.startsWith("<")&&c.operator.startsWith(">")))}}i8=t;const n=NQ(),{safeRe:r,t:i}=LQ(),o=r6t(),s=$L(),a=FQ(),l=b$e();return i8}var o8,Qfe;function b$e(){if(Qfe)return o8;Qfe=1;const e=/\s+/g;class t{constructor(R,O){if(O=i(O),R instanceof t)return R.loose===!!O.loose&&R.includePrerelease===!!O.includePrerelease?R:new t(R.raw,O);if(R instanceof o)return this.raw=R.value,this.set=[[R]],this.formatted=void 0,this;if(this.options=O,this.loose=!!O.loose,this.includePrerelease=!!O.includePrerelease,this.raw=R.trim().replace(e," "),this.set=this.raw.split("||").map(B=>this.parseRange(B.trim())).filter(B=>B.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const B=this.set[0];if(this.set=this.set.filter(z=>!m(z[0])),this.set.length===0)this.set=[B];else if(this.set.length>1){for(const z of this.set)if(z.length===1&&g(z[0])){this.set=[z];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let R=0;R<this.set.length;R++){R>0&&(this.formatted+="||");const O=this.set[R];for(let B=0;B<O.length;B++)B>0&&(this.formatted+=" "),this.formatted+=O[B].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(R){const B=((this.options.includePrerelease&&h)|(this.options.loose&&p))+":"+R,z=r.get(B);if(z)return z;const W=this.options.loose,U=W?l[u.HYPHENRANGELOOSE]:l[u.HYPHENRANGE];R=R.replace(U,M(this.options.includePrerelease)),s("hyphen replace",R),R=R.replace(l[u.COMPARATORTRIM],c),s("comparator trim",R),R=R.replace(l[u.TILDETRIM],d),s("tilde trim",R),R=R.replace(l[u.CARETTRIM],f),s("caret trim",R);let F=R.split(" ").map(X=>v(X,this.options)).join(" ").split(/\s+/).map(X=>N(X,this.options));W&&(F=F.filter(X=>(s("loose invalid filter",X,this.options),!!X.match(l[u.COMPARATORLOOSE])))),s("range list",F);const Y=new Map,V=F.map(X=>new o(X,this.options));for(const X of V){if(m(X))return[X];Y.set(X.value,X)}Y.size>1&&Y.has("")&&Y.delete("");const G=[...Y.values()];return r.set(B,G),G}intersects(R,O){if(!(R instanceof t))throw new TypeError("a Range is required");return this.set.some(B=>y(B,O)&&R.set.some(z=>y(z,O)&&B.every(W=>z.every(U=>W.intersects(U,O)))))}test(R){if(!R)return!1;if(typeof R=="string")try{R=new a(R,this.options)}catch{return!1}for(let O=0;O<this.set.length;O++)if(I(this.set[O],R,this.options))return!0;return!1}}o8=t;const n=K5t(),r=new n,i=NQ(),o=i6t(),s=$L(),a=FQ(),{safeRe:l,t:u,comparatorTrimReplace:c,tildeTrimReplace:d,caretTrimReplace:f}=LQ(),{FLAG_INCLUDE_PRERELEASE:h,FLAG_LOOSE:p}=OQ(),m=D=>D.value==="<0.0.0-0",g=D=>D.value==="",y=(D,R)=>{let O=!0;const B=D.slice();let z=B.pop();for(;O&&B.length;)O=B.every(W=>z.intersects(W,R)),z=B.pop();return O},v=(D,R)=>(s("comp",D,R),D=x(D,R),s("caret",D),D=E(D,R),s("tildes",D),D=C(D,R),s("xrange",D),D=k(D,R),s("stars",D),D),w=D=>!D||D.toLowerCase()==="x"||D==="*",E=(D,R)=>D.trim().split(/\s+/).map(O=>_(O,R)).join(" "),_=(D,R)=>{const O=R.loose?l[u.TILDELOOSE]:l[u.TILDE];return D.replace(O,(B,z,W,U,F)=>{s("tilde",D,B,z,W,U,F);let Y;return w(z)?Y="":w(W)?Y=`>=${z}.0.0 <${+z+1}.0.0-0`:w(U)?Y=`>=${z}.${W}.0 <${z}.${+W+1}.0-0`:F?(s("replaceTilde pr",F),Y=`>=${z}.${W}.${U}-${F} <${z}.${+W+1}.0-0`):Y=`>=${z}.${W}.${U} <${z}.${+W+1}.0-0`,s("tilde return",Y),Y})},x=(D,R)=>D.trim().split(/\s+/).map(O=>S(O,R)).join(" "),S=(D,R)=>{s("caret",D,R);const O=R.loose?l[u.CARETLOOSE]:l[u.CARET],B=R.includePrerelease?"-0":"";return D.replace(O,(z,W,U,F,Y)=>{s("caret",D,z,W,U,F,Y);let V;return w(W)?V="":w(U)?V=`>=${W}.0.0${B} <${+W+1}.0.0-0`:w(F)?W==="0"?V=`>=${W}.${U}.0${B} <${W}.${+U+1}.0-0`:V=`>=${W}.${U}.0${B} <${+W+1}.0.0-0`:Y?(s("replaceCaret pr",Y),W==="0"?U==="0"?V=`>=${W}.${U}.${F}-${Y} <${W}.${U}.${+F+1}-0`:V=`>=${W}.${U}.${F}-${Y} <${W}.${+U+1}.0-0`:V=`>=${W}.${U}.${F}-${Y} <${+W+1}.0.0-0`):(s("no pr"),W==="0"?U==="0"?V=`>=${W}.${U}.${F}${B} <${W}.${U}.${+F+1}-0`:V=`>=${W}.${U}.${F}${B} <${W}.${+U+1}.0-0`:V=`>=${W}.${U}.${F} <${+W+1}.0.0-0`),s("caret return",V),V})},C=(D,R)=>(s("replaceXRanges",D,R),D.split(/\s+/).map(O=>A(O,R)).join(" ")),A=(D,R)=>{D=D.trim();const O=R.loose?l[u.XRANGELOOSE]:l[u.XRANGE];return D.replace(O,(B,z,W,U,F,Y)=>{s("xRange",D,B,z,W,U,F,Y);const V=w(W),G=V||w(U),X=G||w(F),Z=X;return z==="="&&Z&&(z=""),Y=R.includePrerelease?"-0":"",V?z===">"||z==="<"?B="<0.0.0-0":B="*":z&&Z?(G&&(U=0),F=0,z===">"?(z=">=",G?(W=+W+1,U=0,F=0):(U=+U+1,F=0)):z==="<="&&(z="<",G?W=+W+1:U=+U+1),z==="<"&&(Y="-0"),B=`${z+W}.${U}.${F}${Y}`):G?B=`>=${W}.0.0${Y} <${+W+1}.0.0-0`:X&&(B=`>=${W}.${U}.0${Y} <${W}.${+U+1}.0-0`),s("xRange return",B),B})},k=(D,R)=>(s("replaceStars",D,R),D.trim().replace(l[u.STAR],"")),N=(D,R)=>(s("replaceGTE0",D,R),D.trim().replace(l[R.includePrerelease?u.GTE0PRE:u.GTE0],"")),M=D=>(R,O,B,z,W,U,F,Y,V,G,X,Z)=>(w(B)?O="":w(z)?O=`>=${B}.0.0${D?"-0":""}`:w(W)?O=`>=${B}.${z}.0${D?"-0":""}`:U?O=`>=${O}`:O=`>=${O}${D?"-0":""}`,w(V)?Y="":w(G)?Y=`<${+V+1}.0.0-0`:w(X)?Y=`<${V}.${+G+1}.0-0`:Z?Y=`<=${V}.${G}.${X}-${Z}`:D?Y=`<${V}.${G}.${+X+1}-0`:Y=`<=${Y}`,`${O} ${Y}`.trim()),I=(D,R,O)=>{for(let B=0;B<D.length;B++)if(!D[B].test(R))return!1;if(R.prerelease.length&&!O.includePrerelease){for(let B=0;B<D.length;B++)if(s(D[B].semver),D[B].semver!==o.ANY&&D[B].semver.prerelease.length>0){const z=D[B].semver;if(z.major===R.major&&z.minor===R.minor&&z.patch===R.patch)return!0}return!1}return!0};return o8}var s8,Jfe;function o6t(){if(Jfe)return s8;Jfe=1;const e=b$e();return s8=(n,r,i)=>{try{r=new e(r,i)}catch{return!1}return r.test(n)},s8}var s6t=o6t(),w$e=Y5t(s6t);function a6t(e,t,n){const r=e.open(t),i=250,{origin:o}=new URL(t);let s=40;function a(u){u.source===r&&(s=0,e.removeEventListener("message",a,!1))}e.addEventListener("message",a,!1);function l(){s<=0||(r.postMessage(n,o),setTimeout(l,i),s-=1)}setTimeout(l,i)}var l6t=`.vega-embed {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
}
.vega-embed.has-actions {
  padding-right: 38px;
}
.vega-embed details:not([open]) > :not(summary) {
  display: none !important;
}
.vega-embed summary {
  list-style: none;
  position: absolute;
  top: 0;
  right: 0;
  padding: 6px;
  z-index: 1000;
  background: white;
  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
  color: #1b1e23;
  border: 1px solid #aaa;
  border-radius: 999px;
  opacity: 0.2;
  transition: opacity 0.4s ease-in;
  cursor: pointer;
  line-height: 0px;
}
.vega-embed summary::-webkit-details-marker {
  display: none;
}
.vega-embed summary:active {
  box-shadow: #aaa 0px 0px 0px 1px inset;
}
.vega-embed summary svg {
  width: 14px;
  height: 14px;
}
.vega-embed details[open] summary {
  opacity: 0.7;
}
.vega-embed:hover summary, .vega-embed:focus-within summary {
  opacity: 1 !important;
  transition: opacity 0.2s ease;
}
.vega-embed .vega-actions {
  position: absolute;
  z-index: 1001;
  top: 35px;
  right: -9px;
  display: flex;
  flex-direction: column;
  padding-bottom: 8px;
  padding-top: 8px;
  border-radius: 4px;
  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);
  border: 1px solid #d9d9d9;
  background: white;
  animation-duration: 0.15s;
  animation-name: scale-in;
  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);
  text-align: left;
}
.vega-embed .vega-actions a {
  padding: 8px 16px;
  font-family: sans-serif;
  font-size: 14px;
  font-weight: 600;
  white-space: nowrap;
  color: #434a56;
  text-decoration: none;
}
.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {
  background-color: #f7f7f9;
  color: black;
}
.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {
  content: "";
  display: inline-block;
  position: absolute;
}
.vega-embed .vega-actions::before {
  left: auto;
  right: 14px;
  top: -16px;
  border: 8px solid rgba(0, 0, 0, 0);
  border-bottom-color: #d9d9d9;
}
.vega-embed .vega-actions::after {
  left: auto;
  right: 15px;
  top: -14px;
  border: 7px solid rgba(0, 0, 0, 0);
  border-bottom-color: #fff;
}
.vega-embed .chart-wrapper.fit-x {
  width: 100%;
}
.vega-embed .chart-wrapper.fit-y {
  height: 100%;
}

.vega-embed-wrapper {
  max-width: 100%;
  overflow: auto;
  padding-right: 14px;
}

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.6);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}
`;function x$e(e,...t){for(const n of t)u6t(e,n);return e}function u6t(e,t){for(const n of Object.keys(t))Xx(e,n,t[n],!0)}const Xc=FIt;let xC=LFt;const I3=typeof window<"u"?window:void 0;var Hpe;xC===void 0&&((Hpe=I3==null?void 0:I3.vl)!=null&&Hpe.compile)&&(xC=I3.vl);const c6t={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},d6t={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},CS={vega:"Vega","vega-lite":"Vega-Lite"},BM={vega:Xc.version,"vega-lite":xC?xC.version:"not available"},f6t={vega:e=>e,"vega-lite":(e,t)=>xC.compile(e,{config:t}).spec},h6t=`
<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
  <circle r="2" cy="8" cx="2"></circle>
  <circle r="2" cy="8" cx="8"></circle>
  <circle r="2" cy="8" cx="14"></circle>
</svg>`,p6t="chart-wrapper";function m6t(e){return typeof e=="function"}function Zfe(e,t,n,r){const i=`<html><head>${t}</head><body><pre><code class="json">`,o=`</code></pre>${n}</body></html>`,s=window.open("");s.document.write(i+e+o),s.document.title=`${CS[r]} JSON Source`}function g6t(e,t){if(e.$schema){const n=u$e(e.$schema);t&&t!==n.library&&console.warn(`The given visualization spec is written in ${CS[n.library]}, but mode argument sets ${CS[t]??t}.`);const r=n.library;return w$e(BM[r],`^${n.version.slice(1)}`)||console.warn(`The input spec uses ${CS[r]} ${n.version}, but the current version of ${CS[r]} is v${BM[r]}.`),r}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":t??"vega"}function _$e(e){return!!(e&&"load"in e)}function ehe(e){return _$e(e)?e:Xc.loader(e)}function y6t(e){var n;const t=((n=e.usermeta)==null?void 0:n.embedOptions)??{};return Bt(t.defaultStyle)&&(t.defaultStyle=!1),t}async function v6t(e,t,n={}){let r,i;Bt(t)?(i=ehe(n.loader),r=JSON.parse(await i.load(t))):r=t;const o=y6t(r),s=o.loader;(!i||s)&&(i=ehe(n.loader??s));const a=await the(o,i),l=await the(n,i),u={...x$e(l,a),config:Kx(l.config??{},a.config??{})};return await w6t(e,r,u,i)}async function the(e,t){const n=Bt(e.config)?JSON.parse(await t.load(e.config)):e.config??{},r=Bt(e.patch)?JSON.parse(await t.load(e.patch)):e.patch;return{...e,...r?{patch:r}:{},...n?{config:n}:{}}}function b6t(e){const t=e.getRootNode?e.getRootNode():document;return t instanceof ShadowRoot?{root:t,rootContainer:t}:{root:document,rootContainer:document.head??document.body}}async function w6t(e,t,n={},r){const i=n.theme?Kx(_5t[n.theme],n.config??{}):n.config,o=f0(n.actions)?n.actions:x$e({},c6t,n.actions??{}),s={...d6t,...n.i18n},a=n.renderer??"canvas",l=n.logLevel??Xc.Warn,u=n.downloadFileName??"visualization",c=typeof e=="string"?document.querySelector(e):e;if(!c)throw new Error(`${e} does not exist`);if(n.defaultStyle!==!1){const _="vega-embed-style",{root:x,rootContainer:S}=b6t(c);if(!x.getElementById(_)){const C=document.createElement("style");C.id=_,C.innerHTML=n.defaultStyle===void 0||n.defaultStyle===!0?l6t.toString():n.defaultStyle,S.appendChild(C)}}const d=g6t(t,n.mode);let f=f6t[d](t,i);if(d==="vega-lite"&&f.$schema){const _=u$e(f.$schema);w$e(BM.vega,`^${_.version.slice(1)}`)||console.warn(`The compiled spec uses Vega ${_.version}, but current version is v${BM.vega}.`)}c.classList.add("vega-embed"),o&&c.classList.add("has-actions"),c.innerHTML="";let h=c;if(o){const _=document.createElement("div");_.classList.add(p6t),c.appendChild(_),h=_}const p=n.patch;if(p&&(f=p instanceof Function?p(f):DL(f,p,!0,!1).newDocument),n.formatLocale&&Xc.formatLocale(n.formatLocale),n.timeFormatLocale&&Xc.timeFormatLocale(n.timeFormatLocale),n.expressionFunctions)for(const _ in n.expressionFunctions){const x=n.expressionFunctions[_];"fn"in x?Xc.expressionFunction(_,x.fn,x.visitor):x instanceof Function&&Xc.expressionFunction(_,x)}const{ast:m}=n,g=Xc.parse(f,d==="vega-lite"?{}:i,{ast:m}),y=new(n.viewClass||Xc.View)(g,{loader:r,logLevel:l,renderer:a,...m?{expr:Xc.expressionInterpreter??n.expr??YIt}:{}});if(y.addSignalListener("autosize",(_,x)=>{const{type:S}=x;S=="fit-x"?(h.classList.add("fit-x"),h.classList.remove("fit-y")):S=="fit-y"?(h.classList.remove("fit-x"),h.classList.add("fit-y")):S=="fit"?h.classList.add("fit-x","fit-y"):h.classList.remove("fit-x","fit-y")}),n.tooltip!==!1){const{loader:_,tooltip:x}=n,S=_&&!_$e(_)?_==null?void 0:_.baseURL:void 0,C=m6t(x)?x:new $5t({baseURL:S,...x===!0?{}:x}).call;y.tooltip(C)}let{hover:v}=n;if(v===void 0&&(v=d==="vega"),v){const{hoverSet:_,updateSet:x}=typeof v=="boolean"?{}:v;y.hover(_,x)}n&&(n.width!=null&&y.width(n.width),n.height!=null&&y.height(n.height),n.padding!=null&&y.padding(n.padding)),await y.initialize(h,n.bind).runAsync();let w;if(o!==!1){let _=c;if(n.defaultStyle!==!1||n.forceActionsMenu){const S=document.createElement("details");S.title=s.CLICK_TO_VIEW_ACTIONS,c.append(S),_=S;const C=document.createElement("summary");C.innerHTML=h6t,S.append(C),w=A=>{S.contains(A.target)||S.removeAttribute("open")},document.addEventListener("click",w)}const x=document.createElement("div");if(_.append(x),x.classList.add("vega-actions"),o===!0||o.export!==!1){for(const S of["svg","png"])if(o===!0||o.export===!0||o.export[S]){const C=s[`${S.toUpperCase()}_ACTION`],A=document.createElement("a"),k=Ft(n.scaleFactor)?n.scaleFactor[S]:n.scaleFactor;A.text=C,A.href="#",A.target="_blank",A.download=`${u}.${S}`,A.addEventListener("mousedown",async function(N){N.preventDefault();const M=await y.toImageURL(S,k);this.href=M}),x.append(A)}}if(o===!0||o.source!==!1){const S=document.createElement("a");S.text=s.SOURCE_ACTION,S.href="#",S.addEventListener("click",function(C){Zfe(p6(t),n.sourceHeader??"",n.sourceFooter??"",d),C.preventDefault()}),x.append(S)}if(d==="vega-lite"&&(o===!0||o.compiled!==!1)){const S=document.createElement("a");S.text=s.COMPILED_ACTION,S.href="#",S.addEventListener("click",function(C){Zfe(p6(f),n.sourceHeader??"",n.sourceFooter??"","vega"),C.preventDefault()}),x.append(S)}if(o===!0||o.editor!==!1){const S=n.editorUrl??"https://vega.github.io/editor/",C=document.createElement("a");C.text=s.EDITOR_ACTION,C.href="#",C.addEventListener("click",function(A){a6t(window,S,{config:i,mode:p?"vega":d,renderer:a,spec:p6(p?f:t)}),A.preventDefault()}),x.append(C)}}function E(){w&&document.removeEventListener("click",w),y.finalize()}return{view:y,spec:t,vgSpec:f,finalize:E,embedOptions:n}}function x6t(e){return!!e&&{}.toString.call(e)==="[object Function]"}function _6t(e,t,n){n&&(x6t(n)?n(e.data(t)):e.change(t,Xc.changeset().remove(()=>!0).insert(n)))}function E6t(e,t){Object.keys(t).forEach(n=>{_6t(e,n,t[n])})}function E$e(e){const t=new Set;return e.forEach(n=>{Object.keys(n).forEach(r=>{t.add(r)})}),t}const S$e=()=>{};function a8(e,t){const n=Object.keys(t);return n.forEach(r=>{try{e.addSignalListener(r,t[r])}catch(i){console.warn("Cannot add invalid signal listener.",i)}}),n.length>0}function S6t(e,t){if(e===t)return!1;const n={width:!1,height:!1,isExpensive:!1},r=E$e([e,t]);return r.has("width")&&(!("width"in e)||!("width"in t)||e.width!==t.width)&&("width"in e&&typeof e.width=="number"?n.width=e.width:n.isExpensive=!0),r.has("height")&&(!("height"in e)||!("height"in t)||e.height!==t.height)&&("height"in e&&typeof e.height=="number"?n.height=e.height:n.isExpensive=!0),r.delete("width"),r.delete("height"),[...r].some(i=>!(i in e)||!(i in t)||!nS(e[i],t[i]))&&(n.isExpensive=!0),n.width!==!1||n.height!==!1||n.isExpensive?n:!1}function nhe(e,t){const n=Object.keys(t);return n.forEach(r=>{try{e.removeSignalListener(r,t[r])}catch(i){console.warn("Cannot remove invalid signal listener.",i)}}),n.length>0}function l8(e){const{spec:t,width:n,height:r}=e;return typeof n<"u"&&typeof r<"u"?{...t,width:n,height:r}:typeof n<"u"?{...t,width:n}:typeof r<"u"?{...t,height:r}:t}function AS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class T$e extends rr.PureComponent{constructor(){super(...arguments),AS(this,"containerRef",rr.createRef()),AS(this,"resultPromise",void 0),AS(this,"handleError",t=>{const{onError:n=S$e}=this.props;n(t,this.containerRef.current),console.warn(t)}),AS(this,"modifyView",t=>{this.resultPromise&&this.resultPromise.then(n=>(n&&t(n.view),!0)).catch(this.handleError)})}componentDidMount(){this.createView()}componentDidUpdate(t){const n=E$e([this.props,t]);if(n.delete("className"),n.delete("signalListeners"),n.delete("spec"),n.delete("style"),n.delete("width"),n.delete("height"),Array.from(n).some(r=>this.props[r]!==t[r]))this.clearView(),this.createView();else{const r=S6t(l8(this.props),l8(t)),{signalListeners:i}=this.props,{signalListeners:o}=t;if(r)if(r.isExpensive)this.clearView(),this.createView();else{const s=!w9(i,o);this.modifyView(a=>{r.width!==!1&&a.width(r.width),r.height!==!1&&a.height(r.height),s&&(o&&nhe(a,o),i&&a8(a,i)),a.run()})}else w9(i,o)||this.modifyView(s=>{o&&nhe(s,o),i&&a8(s,i),s.run()})}}componentWillUnmount(){this.clearView()}createView(){const{spec:t,onNewView:n,signalListeners:r={},width:i,height:o,...s}=this.props;if(this.containerRef.current){const a=l8(this.props);this.resultPromise=v6t(this.containerRef.current,a,s).then(l=>{if(l){const{view:u}=l;a8(u,r)&&u.run()}return l}).catch(this.handleError),n&&this.modifyView(n)}}clearView(){return this.resultPromise&&this.resultPromise.then(t=>{t&&t.finalize()}).catch(this.handleError),this.resultPromise=void 0,this}render(){const{className:t,style:n}=this.props;return rr.createElement("div",{ref:this.containerRef,className:t,style:n})}}AS(T$e,"propTypes",{className:yD.string,onError:yD.func});function Fz(){return Fz=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fz.apply(this,arguments)}function Bz(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const T6t={};class BQ extends rr.PureComponent{constructor(){super(...arguments),Bz(this,"vegaEmbed",rr.createRef()),Bz(this,"handleNewView",t=>{this.update();const{onNewView:n=S$e}=this.props;n(t)})}componentDidMount(){this.update()}componentDidUpdate(t){w9(this.props.data,t.data)||this.update()}update(){const{data:t}=this.props;this.vegaEmbed.current&&t&&Object.keys(t).length>0&&this.vegaEmbed.current.modifyView(n=>{E6t(n,t),n.resize().run()})}render(){const{data:t,...n}=this.props;return rr.createElement(T$e,Fz({ref:this.vegaEmbed},n,{onNewView:this.handleNewView}))}}Bz(BQ,"defaultProps",{data:T6t});function jz(){return jz=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jz.apply(this,arguments)}function rhe(e){return rr.createElement(BQ,jz({},e,{mode:"vega-lite"}))}const C6t=BQ;function A6t({currentConfig:e,provState:t}){const n=Zs(),[r,i]=H.useState(null),[o,s]=H.useState(!0),a=eb(),{updateResponseBlockValidation:l,setReactiveAnswers:u}=ys(),[c,d]=H.useState(),{actions:f,trrack:h}=H.useMemo(()=>{const v=Qp.create(),w=v.register("signal",(_,x)=>(_.event=x,_)),E=Kv({registry:v,initialState:{event:{}}});return{actions:{signalAction:w},trrack:E}},[]),p=H.useCallback(({status:v,provenanceGraph:w,answers:E})=>{n(l({location:"stimulus",identifier:a,status:v,values:E,provenanceGraph:w})),n(u(E))},[n,l,a,u]),m=H.useCallback((v,w)=>{h.apply(v,f.signalAction({key:v,value:w}))},[f,h]),g=H.useCallback((v,w)=>{const{responseId:E,response:_}=w;p({status:!0,provenanceGraph:h.graph.backend,answers:{[E]:_}})},[p,h.graph.backend]),y=H.useMemo(()=>{var w;const v=(w=r==null?void 0:r.config)==null?void 0:w.signals;return v?v.reduce((E,_)=>(_.name==="revisitAnswer"?E[_.name]=g:E[_.name]=m,E),{}):{}},[g,m,r]);return H.useEffect(()=>{async function v(){s(!0);let w;"path"in e?w=await Hct(e.path):w=e.config,w!==void 0&&i(w),s(!1)}e&&v()},[e]),H.useEffect(()=>{c&&t&&t.event&&t.event.key&&c.signal(t.event.key,t.event.value).run()},[c,t]),o?$.jsx("div",{children:"Loading..."}):"path"in e&&!r?$.jsx(Op,{path:e.path}):r?$.jsx(C6t,{spec:structuredClone(r),signalListeners:y,onNewView:v=>d(v)}):$.jsx("div",{children:"Failed to load vega config"})}function Ut(e,t,n){return(t=I6t(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k6t(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function I6t(e){var t=k6t(e,"string");return typeof t=="symbol"?t:String(t)}function R6t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ihe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D6t(e,t,n){return t&&ihe(e.prototype,t),n&&ihe(e,n),e}function $6t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ohe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function she(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ohe(Object(n),!0).forEach(function(r){$6t(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ohe(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var ahe={addCSS:!0,thumbWidth:15,watch:!0};function M6t(e,t){return(function(){return Array.from(document.querySelectorAll(t)).includes(this)}).call(e,t)}function P6t(e,t){if(e&&t){var n=new Event(t,{bubbles:!0});e.dispatchEvent(n)}}var s2=function(e){return e!=null?e.constructor:null},jQ=function(e,t){return!!(e&&t&&e instanceof t)},C$e=function(e){return e==null},A$e=function(e){return s2(e)===Object},N6t=function(e){return s2(e)===Number&&!Number.isNaN(e)},k$e=function(e){return s2(e)===String},O6t=function(e){return s2(e)===Boolean},L6t=function(e){return s2(e)===Function},I$e=function(e){return Array.isArray(e)},R$e=function(e){return jQ(e,NodeList)},F6t=function(e){return jQ(e,Element)},B6t=function(e){return jQ(e,Event)},j6t=function(e){return C$e(e)||(k$e(e)||I$e(e)||R$e(e))&&!e.length||A$e(e)&&!Object.keys(e).length},ha={nullOrUndefined:C$e,object:A$e,number:N6t,string:k$e,boolean:O6t,function:L6t,array:I$e,nodeList:R$e,element:F6t,event:B6t,empty:j6t};function z6t(e){var t="".concat(e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}function U6t(e,t){if(1>t){var n=z6t(t);return parseFloat(e.toFixed(n))}return Math.round(e/t)*t}var H6t=function(){function e(t,n){R6t(this,e),ha.element(t)?this.element=t:ha.string(t)&&(this.element=document.querySelector(t)),ha.element(this.element)&&ha.empty(this.element.rangeTouch)&&(this.config=she({},ahe,{},n),this.init())}return D6t(e,[{key:"init",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(t){var n=this,r=t?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach(function(i){n.element[r](i,function(o){return n.set(o)},!1)})}},{key:"get",value:function(t){if(!e.enabled||!ha.event(t))return null;var n,r=t.target,i=t.changedTouches[0],o=parseFloat(r.getAttribute("min"))||0,s=parseFloat(r.getAttribute("max"))||100,a=parseFloat(r.getAttribute("step"))||1,l=r.getBoundingClientRect(),u=100/l.width*(this.config.thumbWidth/2)/100;return 0>(n=100/l.width*(i.clientX-l.left))?n=0:100<n&&(n=100),50>n?n-=(100-2*n)*u:50<n&&(n+=2*(n-50)*u),o+U6t(n/100*(s-o),a)}},{key:"set",value:function(t){e.enabled&&ha.event(t)&&!t.target.disabled&&(t.preventDefault(),t.target.value=this.get(t),P6t(t.target,t.type==="touchend"?"change":"input"))}}],[{key:"setup",value:function(t){var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},r=null;if(ha.empty(t)||ha.string(t)?r=Array.from(document.querySelectorAll(ha.string(t)?t:'input[type="range"]')):ha.element(t)?r=[t]:ha.nodeList(t)?r=Array.from(t):ha.array(t)&&(r=t.filter(ha.element)),ha.empty(r))return null;var i=she({},ahe,{},n);if(ha.string(t)&&i.watch){var o=new MutationObserver(function(s){Array.from(s).forEach(function(a){Array.from(a.addedNodes).forEach(function(l){ha.element(l)&&M6t(l,t)&&new e(l,i)})})});o.observe(document.body,{childList:!0,subtree:!0})}return r.map(function(s){return new e(s,n)})}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),e}();const a2=e=>e!=null?e.constructor:null,Hp=(e,t)=>!!(e&&t&&e instanceof t),zQ=e=>e==null,D$e=e=>a2(e)===Object,V6t=e=>a2(e)===Number&&!Number.isNaN(e),ML=e=>a2(e)===String,W6t=e=>a2(e)===Boolean,$$e=e=>typeof e=="function",M$e=e=>Array.isArray(e),q6t=e=>Hp(e,WeakMap),P$e=e=>Hp(e,NodeList),G6t=e=>a2(e)===Text,Y6t=e=>Hp(e,Event),K6t=e=>Hp(e,KeyboardEvent),X6t=e=>Hp(e,window.TextTrackCue)||Hp(e,window.VTTCue),Q6t=e=>Hp(e,TextTrack)||!zQ(e)&&ML(e.kind),J6t=e=>Hp(e,Promise)&&$$e(e.then),Z6t=e=>e!==null&&typeof e=="object"&&e.nodeType===1&&typeof e.style=="object"&&typeof e.ownerDocument=="object",N$e=e=>zQ(e)||(ML(e)||M$e(e)||P$e(e))&&!e.length||D$e(e)&&!Object.keys(e).length,eBt=e=>{if(Hp(e,window.URL))return!0;if(!ML(e))return!1;let t=e;e.startsWith("http://")&&e.startsWith("https://")||(t=`http://${e}`);try{return!N$e(new URL(t).hostname)}catch{return!1}};var ge={nullOrUndefined:zQ,object:D$e,number:V6t,string:ML,boolean:W6t,function:$$e,array:M$e,weakMap:q6t,nodeList:P$e,element:Z6t,textNode:G6t,event:Y6t,keyboardEvent:K6t,cue:X6t,track:Q6t,promise:J6t,url:eBt,empty:N$e};const zz=(()=>{const e=document.createElement("span"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},n=Object.keys(t).find(r=>e.style[r]!==void 0);return!!ge.string(n)&&t[n]})();function O$e(e,t){setTimeout(()=>{try{e.hidden=!0,e.offsetHeight,e.hidden=!1}catch{}},t)}const tBt=!!window.document.documentMode,nBt=/Edge/g.test(navigator.userAgent),rBt="WebkitAppearance"in document.documentElement.style&&!/Edge/g.test(navigator.userAgent),iBt=/iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1,oBt=navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,sBt=/iPad|iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1;var ss={isIE:tBt,isEdge:nBt,isWebKit:rBt,isIPhone:iBt,isIPadOS:oBt,isIos:sBt};function aBt(e){return JSON.parse(JSON.stringify(e))}function L$e(e,t){return t.split(".").reduce((n,r)=>n&&n[r],e)}function co(e={},...t){if(!t.length)return e;const n=t.shift();return ge.object(n)?(Object.keys(n).forEach(r=>{ge.object(n[r])?(Object.keys(e).includes(r)||Object.assign(e,{[r]:{}}),co(e[r],n[r])):Object.assign(e,{[r]:n[r]})}),co(e,...t)):e}function F$e(e,t){const n=e.length?e:[e];Array.from(n).reverse().forEach((r,i)=>{const o=i>0?t.cloneNode(!0):t,s=r.parentNode,a=r.nextSibling;o.appendChild(r),a?s.insertBefore(o,a):s.appendChild(o)})}function Uz(e,t){ge.element(e)&&!ge.empty(t)&&Object.entries(t).filter(([,n])=>!ge.nullOrUndefined(n)).forEach(([n,r])=>e.setAttribute(n,r))}function Sn(e,t,n){const r=document.createElement(e);return ge.object(t)&&Uz(r,t),ge.string(n)&&(r.innerText=n),r}function lBt(e,t){ge.element(e)&&ge.element(t)&&t.parentNode.insertBefore(e,t.nextSibling)}function lhe(e,t,n,r){ge.element(t)&&t.appendChild(Sn(e,n,r))}function up(e){ge.nodeList(e)||ge.array(e)?Array.from(e).forEach(up):ge.element(e)&&ge.element(e.parentNode)&&e.parentNode.removeChild(e)}function JR(e){if(!ge.element(e))return;let{length:t}=e.childNodes;for(;t>0;)e.removeChild(e.lastChild),t-=1}function jM(e,t){return ge.element(t)&&ge.element(t.parentNode)&&ge.element(e)?(t.parentNode.replaceChild(e,t),e):null}function uf(e,t){if(!ge.string(e)||ge.empty(e))return{};const n={},r=co({},t);return e.split(",").forEach(i=>{const o=i.trim(),s=o.replace(".",""),a=o.replace(/[[\]]/g,"").split("="),[l]=a,u=a.length>1?a[1].replace(/["']/g,""):"";switch(o.charAt(0)){case".":ge.string(r.class)?n.class=`${r.class} ${s}`:n.class=s;break;case"#":n.id=o.replace("#","");break;case"[":n[l]=u}}),co(r,n)}function ty(e,t){if(!ge.element(e))return;let n=t;ge.boolean(n)||(n=!e.hidden),e.hidden=n}function $r(e,t,n){if(ge.nodeList(e))return Array.from(e).map(r=>$r(r,t,n));if(ge.element(e)){let r="toggle";return n!==void 0&&(r=n?"add":"remove"),e.classList[r](t),e.classList.contains(t)}return!1}function zM(e,t){return ge.element(e)&&e.classList.contains(t)}function $y(e,t){const{prototype:n}=Element;return(n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||function(){return Array.from(document.querySelectorAll(t)).includes(this)}).call(e,t)}function uBt(e,t){const{prototype:n}=Element;return(n.closest||function(){let r=this;do{if($y.matches(r,t))return r;r=r.parentElement||r.parentNode}while(r!==null&&r.nodeType===1);return null}).call(e,t)}function _C(e){return this.elements.container.querySelectorAll(e)}function Fo(e){return this.elements.container.querySelector(e)}function u8(e=null,t=!1){ge.element(e)&&e.focus({preventScroll:!0,focusVisible:t})}const uhe={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},ho={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check(e,t){const n=ho[e]||t!=="html5";return{api:n,ui:n&&ho.rangeInput}},pip:!(ss.isIPhone||!ge.function(Sn("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||Sn("video").disablePictureInPicture)),airplay:ge.function(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime(e){if(ge.empty(e))return!1;const[t]=e.split("/");let n=e;if(!this.isHTML5||t!==this.type)return!1;Object.keys(uhe).includes(n)&&(n+=`; codecs="${uhe[e]}"`);try{return!!(n&&this.media.canPlayType(n).replace(/no/,""))}catch{return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:(()=>{const e=document.createElement("input");return e.type="range",e.type==="range"})(),touch:"ontouchstart"in document.documentElement,transitions:zz!==!1,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},cBt=(()=>{let e=!1;try{const t=Object.defineProperty({},"passive",{get:()=>(e=!0,null)});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return e})();function EC(e,t,n,r=!1,i=!0,o=!1){if(!e||!("addEventListener"in e)||ge.empty(t)||!ge.function(n))return;const s=t.split(" ");let a=o;cBt&&(a={passive:i,capture:o}),s.forEach(l=>{this&&this.eventListeners&&r&&this.eventListeners.push({element:e,type:l,callback:n,options:a}),e[r?"addEventListener":"removeEventListener"](l,n,a)})}function br(e,t="",n,r=!0,i=!1){EC.call(this,e,t,n,!0,r,i)}function PL(e,t="",n,r=!0,i=!1){EC.call(this,e,t,n,!1,r,i)}function UQ(e,t="",n,r=!0,i=!1){const o=(...s)=>{PL(e,t,o,r,i),n.apply(this,s)};EC.call(this,e,t,o,!0,r,i)}function Tn(e,t="",n=!1,r={}){if(!ge.element(e)||ge.empty(t))return;const i=new CustomEvent(t,{bubbles:n,detail:{...r,plyr:this}});e.dispatchEvent(i)}function dBt(){this&&this.eventListeners&&(this.eventListeners.forEach(e=>{const{element:t,type:n,callback:r,options:i}=e;t.removeEventListener(n,r,i)}),this.eventListeners=[])}function fBt(){return new Promise(e=>this.ready?setTimeout(e,0):br.call(this,this.elements.container,"ready",e)).then(()=>{})}function wf(e){ge.promise(e)&&e.then(null,()=>{})}function Hz(e){return ge.array(e)?e.filter((t,n)=>e.indexOf(t)===n):e}function B$e(e,t){return ge.array(e)&&e.length?e.reduce((n,r)=>Math.abs(r-t)<Math.abs(n-t)?r:n):null}function j$e(e){return!(!window||!window.CSS)&&window.CSS.supports(e)}const che=[[1,1],[4,3],[3,4],[5,4],[4,5],[3,2],[2,3],[16,10],[10,16],[16,9],[9,16],[21,9],[9,21],[32,9],[9,32]].reduce((e,[t,n])=>({...e,[t/n]:[t,n]}),{});function z$e(e){return ge.array(e)||ge.string(e)&&e.includes(":")?(ge.array(e)?e:e.split(":")).map(Number).every(ge.number):!1}function UM(e){if(!ge.array(e)||!e.every(ge.number))return null;const[t,n]=e,r=(o,s)=>s===0?o:r(s,o%s),i=r(t,n);return[t/i,n/i]}function HQ(e){const t=r=>z$e(r)?r.split(":").map(Number):null;let n=t(e);if(n===null&&(n=t(this.config.ratio)),n===null&&!ge.empty(this.embed)&&ge.array(this.embed.ratio)&&({ratio:n}=this.embed),n===null&&this.isHTML5){const{videoWidth:r,videoHeight:i}=this.media;n=[r,i]}return UM(n)}function lx(e){if(!this.isVideo)return{};const{wrapper:t}=this.elements,n=HQ.call(this,e);if(!ge.array(n))return{};const[r,i]=UM(n),o=100/r*i;if(j$e(`aspect-ratio: ${r}/${i}`)?t.style.aspectRatio=`${r}/${i}`:t.style.paddingBottom=`${o}%`,this.isVimeo&&!this.config.vimeo.premium&&this.supported.ui){const s=100/this.media.offsetWidth*parseInt(window.getComputedStyle(this.media).paddingBottom,10),a=(s-o)/(s/50);this.fullscreen.active?t.style.paddingBottom=null:this.media.style.transform=`translateY(-${a}%)`}else this.isHTML5&&t.classList.add(this.config.classNames.videoFixedRatio);return{padding:o,ratio:n}}function U$e(e,t,n=.05){const r=e/t,i=B$e(Object.keys(che),r);return Math.abs(i-r)<=n?che[i]:[e,t]}function hBt(){return[Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)]}const cg={getSources(){return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter(e=>{const t=e.getAttribute("type");return!!ge.empty(t)||ho.mime.call(this,t)}):[]},getQualityOptions(){return this.config.quality.forced?this.config.quality.options:cg.getSources.call(this).map(e=>Number(e.getAttribute("size"))).filter(Boolean)},setup(){if(!this.isHTML5)return;const e=this;e.options.speed=e.config.speed.options,ge.empty(this.config.ratio)||lx.call(e),Object.defineProperty(e.media,"quality",{get(){const t=cg.getSources.call(e).find(n=>n.getAttribute("src")===e.source);return t&&Number(t.getAttribute("size"))},set(t){if(e.quality!==t){if(e.config.quality.forced&&ge.function(e.config.quality.onChange))e.config.quality.onChange(t);else{const n=cg.getSources.call(e).find(l=>Number(l.getAttribute("size"))===t);if(!n)return;const{currentTime:r,paused:i,preload:o,readyState:s,playbackRate:a}=e.media;e.media.src=n.getAttribute("src"),(o!=="none"||s)&&(e.once("loadedmetadata",()=>{e.speed=a,e.currentTime=r,i||wf(e.play())}),e.media.load())}Tn.call(e,e.media,"qualitychange",!1,{quality:t})}}})},cancelRequests(){this.isHTML5&&(up(cg.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function pBt(e){return`${e}-${Math.floor(1e4*Math.random())}`}function Vz(e,...t){return ge.empty(e)?e:e.toString().replace(/{(\d+)}/g,(n,r)=>t[r].toString())}function mBt(e,t){return e===0||t===0||Number.isNaN(e)||Number.isNaN(t)?0:(e/t*100).toFixed(2)}const aT=(e="",t="",n="")=>e.replace(new RegExp(t.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),n.toString()),H$e=(e="")=>e.toString().replace(/\w\S*/g,t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase());function gBt(e=""){let t=e.toString();return t=aT(t,"-"," "),t=aT(t,"_"," "),t=H$e(t),aT(t," ","")}function yBt(e=""){let t=e.toString();return t=gBt(t),t.charAt(0).toLowerCase()+t.slice(1)}function vBt(e){const t=document.createDocumentFragment(),n=document.createElement("div");return t.appendChild(n),n.innerHTML=e,t.firstChild.innerText}function bBt(e){const t=document.createElement("div");return t.appendChild(e),t.innerHTML}const dhe={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},is={get(e="",t={}){if(ge.empty(e)||ge.empty(t))return"";let n=L$e(t.i18n,e);if(ge.empty(n))return Object.keys(dhe).includes(e)?dhe[e]:"";const r={"{seektime}":t.seekTime,"{title}":t.title};return Object.entries(r).forEach(([i,o])=>{n=aT(n,i,o)}),n}};class SC{constructor(t){Ut(this,"get",n=>{if(!SC.supported||!this.enabled)return null;const r=window.localStorage.getItem(this.key);if(ge.empty(r))return null;const i=JSON.parse(r);return ge.string(n)&&n.length?i[n]:i}),Ut(this,"set",n=>{if(!SC.supported||!this.enabled||!ge.object(n))return;let r=this.get();ge.empty(r)&&(r={}),co(r,n);try{window.localStorage.setItem(this.key,JSON.stringify(r))}catch{}}),this.enabled=t.config.storage.enabled,this.key=t.config.storage.key}static get supported(){try{if(!("localStorage"in window))return!1;const t="___test";return window.localStorage.setItem(t,t),window.localStorage.removeItem(t),!0}catch{return!1}}}function l2(e,t="text"){return new Promise((n,r)=>{try{const i=new XMLHttpRequest;if(!("withCredentials"in i))return;i.addEventListener("load",()=>{if(t==="text")try{n(JSON.parse(i.responseText))}catch{n(i.responseText)}else n(i.response)}),i.addEventListener("error",()=>{throw new Error(i.status)}),i.open("GET",e,!0),i.responseType=t,i.send()}catch(i){r(i)}})}function V$e(e,t){if(!ge.string(e))return;const n="cache",r=ge.string(t);let i=!1;const o=()=>document.getElementById(t)!==null,s=(a,l)=>{a.innerHTML=l,r&&o()||document.body.insertAdjacentElement("afterbegin",a)};if(!r||!o()){const a=SC.supported,l=document.createElement("div");if(l.setAttribute("hidden",""),r&&l.setAttribute("id",t),a){const u=window.localStorage.getItem(`${n}-${t}`);if(i=u!==null,i){const c=JSON.parse(u);s(l,c.content)}}l2(e).then(u=>{if(!ge.empty(u)){if(a)try{window.localStorage.setItem(`${n}-${t}`,JSON.stringify({content:u}))}catch{}s(l,u)}}).catch(()=>{})}}const W$e=e=>Math.trunc(e/60/60%60,10),wBt=e=>Math.trunc(e/60%60,10),xBt=e=>Math.trunc(e%60,10);function NL(e=0,t=!1,n=!1){if(!ge.number(e))return NL(void 0,t,n);const r=a=>`0${a}`.slice(-2);let i=W$e(e);const o=wBt(e),s=xBt(e);return i=t||i>0?`${i}:`:"",`${n&&e>0?"-":""}${i}${r(o)}:${r(s)}`}const Lt={getIconUrl(){const e=new URL(this.config.iconUrl,window.location),t=window.location.host?window.location.host:window.top.location.host,n=e.host!==t||ss.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:n}},findElements(){try{return this.elements.controls=Fo.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:_C.call(this,this.config.selectors.buttons.play),pause:Fo.call(this,this.config.selectors.buttons.pause),restart:Fo.call(this,this.config.selectors.buttons.restart),rewind:Fo.call(this,this.config.selectors.buttons.rewind),fastForward:Fo.call(this,this.config.selectors.buttons.fastForward),mute:Fo.call(this,this.config.selectors.buttons.mute),pip:Fo.call(this,this.config.selectors.buttons.pip),airplay:Fo.call(this,this.config.selectors.buttons.airplay),settings:Fo.call(this,this.config.selectors.buttons.settings),captions:Fo.call(this,this.config.selectors.buttons.captions),fullscreen:Fo.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=Fo.call(this,this.config.selectors.progress),this.elements.inputs={seek:Fo.call(this,this.config.selectors.inputs.seek),volume:Fo.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:Fo.call(this,this.config.selectors.display.buffer),currentTime:Fo.call(this,this.config.selectors.display.currentTime),duration:Fo.call(this,this.config.selectors.display.duration)},ge.element(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(`.${this.config.classNames.tooltip}`)),!0}catch(e){return this.debug.warn("It looks like there is a problem with your custom controls HTML",e),this.toggleNativeControls(!0),!1}},createIcon(e,t){const n="http://www.w3.org/2000/svg",r=Lt.getIconUrl.call(this),i=`${r.cors?"":r.url}#${this.config.iconPrefix}`,o=document.createElementNS(n,"svg");Uz(o,co(t,{"aria-hidden":"true",focusable:"false"}));const s=document.createElementNS(n,"use"),a=`${i}-${e}`;return"href"in s&&s.setAttributeNS("http://www.w3.org/1999/xlink","href",a),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a),o.appendChild(s),o},createLabel(e,t={}){const n=is.get(e,this.config);return Sn("span",{...t,class:[t.class,this.config.classNames.hidden].filter(Boolean).join(" ")},n)},createBadge(e){if(ge.empty(e))return null;const t=Sn("span",{class:this.config.classNames.menu.value});return t.appendChild(Sn("span",{class:this.config.classNames.menu.badge},e)),t},createButton(e,t){const n=co({},t);let r=yBt(e);const i={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach(s=>{Object.keys(n).includes(s)&&(i[s]=n[s],delete n[s])}),i.element!=="button"||Object.keys(n).includes("type")||(n.type="button"),Object.keys(n).includes("class")?n.class.split(" ").some(s=>s===this.config.classNames.control)||co(n,{class:`${n.class} ${this.config.classNames.control}`}):n.class=this.config.classNames.control,e){case"play":i.toggle=!0,i.label="play",i.labelPressed="pause",i.icon="play",i.iconPressed="pause";break;case"mute":i.toggle=!0,i.label="mute",i.labelPressed="unmute",i.icon="volume",i.iconPressed="muted";break;case"captions":i.toggle=!0,i.label="enableCaptions",i.labelPressed="disableCaptions",i.icon="captions-off",i.iconPressed="captions-on";break;case"fullscreen":i.toggle=!0,i.label="enterFullscreen",i.labelPressed="exitFullscreen",i.icon="enter-fullscreen",i.iconPressed="exit-fullscreen";break;case"play-large":n.class+=` ${this.config.classNames.control}--overlaid`,r="play",i.label="play",i.icon="play";break;default:ge.empty(i.label)&&(i.label=r),ge.empty(i.icon)&&(i.icon=e)}const o=Sn(i.element);return i.toggle?(o.appendChild(Lt.createIcon.call(this,i.iconPressed,{class:"icon--pressed"})),o.appendChild(Lt.createIcon.call(this,i.icon,{class:"icon--not-pressed"})),o.appendChild(Lt.createLabel.call(this,i.labelPressed,{class:"label--pressed"})),o.appendChild(Lt.createLabel.call(this,i.label,{class:"label--not-pressed"}))):(o.appendChild(Lt.createIcon.call(this,i.icon)),o.appendChild(Lt.createLabel.call(this,i.label))),co(n,uf(this.config.selectors.buttons[r],n)),Uz(o,n),r==="play"?(ge.array(this.elements.buttons[r])||(this.elements.buttons[r]=[]),this.elements.buttons[r].push(o)):this.elements.buttons[r]=o,o},createRange(e,t){const n=Sn("input",co(uf(this.config.selectors.inputs[e]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":is.get(e,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},t));return this.elements.inputs[e]=n,Lt.updateRangeFill.call(this,n),H6t.setup(n),n},createProgress(e,t){const n=Sn("progress",co(uf(this.config.selectors.display[e]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},t));if(e!=="volume"){n.appendChild(Sn("span",null,"0"));const r={played:"played",buffer:"buffered"}[e],i=r?is.get(r,this.config):"";n.innerText=`% ${i.toLowerCase()}`}return this.elements.display[e]=n,n},createTime(e,t){const n=uf(this.config.selectors.display[e],t),r=Sn("div",co(n,{class:`${n.class?n.class:""} ${this.config.classNames.display.time} `.trim(),"aria-label":is.get(e,this.config),role:"timer"}),"00:00");return this.elements.display[e]=r,r},bindMenuItemShortcuts(e,t){br.call(this,e,"keydown keyup",n=>{if(![" ","ArrowUp","ArrowDown","ArrowRight"].includes(n.key)||(n.preventDefault(),n.stopPropagation(),n.type==="keydown"))return;const r=$y(e,'[role="menuitemradio"]');if(!r&&[" ","ArrowRight"].includes(n.key))Lt.showMenuPanel.call(this,t,!0);else{let i;n.key!==" "&&(n.key==="ArrowDown"||r&&n.key==="ArrowRight"?(i=e.nextElementSibling,ge.element(i)||(i=e.parentNode.firstElementChild)):(i=e.previousElementSibling,ge.element(i)||(i=e.parentNode.lastElementChild)),u8.call(this,i,!0))}},!1),br.call(this,e,"keyup",n=>{n.key==="Return"&&Lt.focusFirstMenuItem.call(this,null,!0)})},createMenuItem({value:e,list:t,type:n,title:r,badge:i=null,checked:o=!1}){const s=uf(this.config.selectors.inputs[n]),a=Sn("button",co(s,{type:"button",role:"menuitemradio",class:`${this.config.classNames.control} ${s.class?s.class:""}`.trim(),"aria-checked":o,value:e})),l=Sn("span");l.innerHTML=r,ge.element(i)&&l.appendChild(i),a.appendChild(l),Object.defineProperty(a,"checked",{enumerable:!0,get:()=>a.getAttribute("aria-checked")==="true",set(u){u&&Array.from(a.parentNode.children).filter(c=>$y(c,'[role="menuitemradio"]')).forEach(c=>c.setAttribute("aria-checked","false")),a.setAttribute("aria-checked",u?"true":"false")}}),this.listeners.bind(a,"click keyup",u=>{if(!ge.keyboardEvent(u)||u.key===" "){switch(u.preventDefault(),u.stopPropagation(),a.checked=!0,n){case"language":this.currentTrack=Number(e);break;case"quality":this.quality=e;break;case"speed":this.speed=parseFloat(e)}Lt.showMenuPanel.call(this,"home",ge.keyboardEvent(u))}},n,!1),Lt.bindMenuItemShortcuts.call(this,a,n),t.appendChild(a)},formatTime(e=0,t=!1){return ge.number(e)?NL(e,W$e(this.duration)>0,t):e},updateTimeDisplay(e=null,t=0,n=!1){ge.element(e)&&ge.number(t)&&(e.innerText=Lt.formatTime(t,n))},updateVolume(){this.supported.ui&&(ge.element(this.elements.inputs.volume)&&Lt.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),ge.element(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||this.volume===0))},setRange(e,t=0){ge.element(e)&&(e.value=t,Lt.updateRangeFill.call(this,e))},updateProgress(e){if(!this.supported.ui||!ge.event(e))return;let t=0;const n=(r,i)=>{const o=ge.number(i)?i:0,s=ge.element(r)?r:this.elements.display.buffer;if(ge.element(s)){s.value=o;const a=s.getElementsByTagName("span")[0];ge.element(a)&&(a.childNodes[0].nodeValue=o)}};if(e)switch(e.type){case"timeupdate":case"seeking":case"seeked":t=mBt(this.currentTime,this.duration),e.type==="timeupdate"&&Lt.setRange.call(this,this.elements.inputs.seek,t);break;case"playing":case"progress":n(this.elements.display.buffer,100*this.buffered)}},updateRangeFill(e){const t=ge.event(e)?e.target:e;if(ge.element(t)&&t.getAttribute("type")==="range"){if($y(t,this.config.selectors.inputs.seek)){t.setAttribute("aria-valuenow",this.currentTime);const n=Lt.formatTime(this.currentTime),r=Lt.formatTime(this.duration),i=is.get("seekLabel",this.config);t.setAttribute("aria-valuetext",i.replace("{currentTime}",n).replace("{duration}",r))}else if($y(t,this.config.selectors.inputs.volume)){const n=100*t.value;t.setAttribute("aria-valuenow",n),t.setAttribute("aria-valuetext",`${n.toFixed(1)}%`)}else t.setAttribute("aria-valuenow",t.value);(ss.isWebKit||ss.isIPadOS)&&t.style.setProperty("--value",t.value/t.max*100+"%")}},updateSeekTooltip(e){var t,n;if(!this.config.tooltips.seek||!ge.element(this.elements.inputs.seek)||!ge.element(this.elements.display.seekTooltip)||this.duration===0)return;const r=this.elements.display.seekTooltip,i=`${this.config.classNames.tooltip}--visible`,o=c=>$r(r,i,c);if(this.touch)return void o(!1);let s=0;const a=this.elements.progress.getBoundingClientRect();if(ge.event(e))s=100/a.width*(e.pageX-a.left);else{if(!zM(r,i))return;s=parseFloat(r.style.left,10)}s<0?s=0:s>100&&(s=100);const l=this.duration/100*s;r.innerText=Lt.formatTime(l);const u=(t=this.config.markers)===null||t===void 0||(n=t.points)===null||n===void 0?void 0:n.find(({time:c})=>c===Math.round(l));u&&r.insertAdjacentHTML("afterbegin",`${u.label}<br>`),r.style.left=`${s}%`,ge.event(e)&&["mouseenter","mouseleave"].includes(e.type)&&o(e.type==="mouseenter")},timeUpdate(e){const t=!ge.element(this.elements.display.duration)&&this.config.invertTime;Lt.updateTimeDisplay.call(this,this.elements.display.currentTime,t?this.duration-this.currentTime:this.currentTime,t),e&&e.type==="timeupdate"&&this.media.seeking||Lt.updateProgress.call(this,e)},durationUpdate(){if(!this.supported.ui||!this.config.invertTime&&this.currentTime)return;if(this.duration>=2**32)return ty(this.elements.display.currentTime,!0),void ty(this.elements.progress,!0);ge.element(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);const e=ge.element(this.elements.display.duration);!e&&this.config.displayDuration&&this.paused&&Lt.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),e&&Lt.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),this.config.markers.enabled&&Lt.setMarkers.call(this),Lt.updateSeekTooltip.call(this)},toggleMenuButton(e,t){ty(this.elements.settings.buttons[e],!t)},updateSetting(e,t,n){const r=this.elements.settings.panels[e];let i=null,o=t;if(e==="captions")i=this.currentTrack;else{if(i=ge.empty(n)?this[e]:n,ge.empty(i)&&(i=this.config[e].default),!ge.empty(this.options[e])&&!this.options[e].includes(i))return void this.debug.warn(`Unsupported value of '${i}' for ${e}`);if(!this.config[e].options.includes(i))return void this.debug.warn(`Disabled value of '${i}' for ${e}`)}if(ge.element(o)||(o=r&&r.querySelector('[role="menu"]')),!ge.element(o))return;this.elements.settings.buttons[e].querySelector(`.${this.config.classNames.menu.value}`).innerHTML=Lt.getLabel.call(this,e,i);const s=o&&o.querySelector(`[value="${i}"]`);ge.element(s)&&(s.checked=!0)},getLabel(e,t){switch(e){case"speed":return t===1?is.get("normal",this.config):`${t}&times;`;case"quality":if(ge.number(t)){const n=is.get(`qualityLabel.${t}`,this.config);return n.length?n:`${t}p`}return H$e(t);case"captions":return xr.getLabel.call(this);default:return null}},setQualityMenu(e){if(!ge.element(this.elements.settings.panels.quality))return;const t="quality",n=this.elements.settings.panels.quality.querySelector('[role="menu"]');ge.array(e)&&(this.options.quality=Hz(e).filter(o=>this.config.quality.options.includes(o)));const r=!ge.empty(this.options.quality)&&this.options.quality.length>1;if(Lt.toggleMenuButton.call(this,t,r),JR(n),Lt.checkMenu.call(this),!r)return;const i=o=>{const s=is.get(`qualityBadge.${o}`,this.config);return s.length?Lt.createBadge.call(this,s):null};this.options.quality.sort((o,s)=>{const a=this.config.quality.options;return a.indexOf(o)>a.indexOf(s)?1:-1}).forEach(o=>{Lt.createMenuItem.call(this,{value:o,list:n,type:t,title:Lt.getLabel.call(this,"quality",o),badge:i(o)})}),Lt.updateSetting.call(this,t,n)},setCaptionsMenu(){if(!ge.element(this.elements.settings.panels.captions))return;const e="captions",t=this.elements.settings.panels.captions.querySelector('[role="menu"]'),n=xr.getTracks.call(this),r=!!n.length;if(Lt.toggleMenuButton.call(this,e,r),JR(t),Lt.checkMenu.call(this),!r)return;const i=n.map((o,s)=>({value:s,checked:this.captions.toggled&&this.currentTrack===s,title:xr.getLabel.call(this,o),badge:o.language&&Lt.createBadge.call(this,o.language.toUpperCase()),list:t,type:"language"}));i.unshift({value:-1,checked:!this.captions.toggled,title:is.get("disabled",this.config),list:t,type:"language"}),i.forEach(Lt.createMenuItem.bind(this)),Lt.updateSetting.call(this,e,t)},setSpeedMenu(){if(!ge.element(this.elements.settings.panels.speed))return;const e="speed",t=this.elements.settings.panels.speed.querySelector('[role="menu"]');this.options.speed=this.options.speed.filter(r=>r>=this.minimumSpeed&&r<=this.maximumSpeed);const n=!ge.empty(this.options.speed)&&this.options.speed.length>1;Lt.toggleMenuButton.call(this,e,n),JR(t),Lt.checkMenu.call(this),n&&(this.options.speed.forEach(r=>{Lt.createMenuItem.call(this,{value:r,list:t,type:e,title:Lt.getLabel.call(this,"speed",r)})}),Lt.updateSetting.call(this,e,t))},checkMenu(){const{buttons:e}=this.elements.settings,t=!ge.empty(e)&&Object.values(e).some(n=>!n.hidden);ty(this.elements.settings.menu,!t)},focusFirstMenuItem(e,t=!1){if(this.elements.settings.popup.hidden)return;let n=e;ge.element(n)||(n=Object.values(this.elements.settings.panels).find(i=>!i.hidden));const r=n.querySelector('[role^="menuitem"]');u8.call(this,r,t)},toggleMenu(e){const{popup:t}=this.elements.settings,n=this.elements.buttons.settings;if(!ge.element(t)||!ge.element(n))return;const{hidden:r}=t;let i=r;if(ge.boolean(e))i=e;else if(ge.keyboardEvent(e)&&e.key==="Escape")i=!1;else if(ge.event(e)){const o=ge.function(e.composedPath)?e.composedPath()[0]:e.target,s=t.contains(o);if(s||!s&&e.target!==n&&i)return}n.setAttribute("aria-expanded",i),ty(t,!i),$r(this.elements.container,this.config.classNames.menu.open,i),i&&ge.keyboardEvent(e)?Lt.focusFirstMenuItem.call(this,null,!0):i||r||u8.call(this,n,ge.keyboardEvent(e))},getMenuSize(e){const t=e.cloneNode(!0);t.style.position="absolute",t.style.opacity=0,t.removeAttribute("hidden"),e.parentNode.appendChild(t);const n=t.scrollWidth,r=t.scrollHeight;return up(t),{width:n,height:r}},showMenuPanel(e="",t=!1){const n=this.elements.container.querySelector(`#plyr-settings-${this.id}-${e}`);if(!ge.element(n))return;const r=n.parentNode,i=Array.from(r.children).find(o=>!o.hidden);if(ho.transitions&&!ho.reducedMotion){r.style.width=`${i.scrollWidth}px`,r.style.height=`${i.scrollHeight}px`;const o=Lt.getMenuSize.call(this,n),s=a=>{a.target===r&&["width","height"].includes(a.propertyName)&&(r.style.width="",r.style.height="",PL.call(this,r,zz,s))};br.call(this,r,zz,s),r.style.width=`${o.width}px`,r.style.height=`${o.height}px`}ty(i,!0),ty(n,!1),Lt.focusFirstMenuItem.call(this,n,t)},setDownloadUrl(){const e=this.elements.buttons.download;ge.element(e)&&e.setAttribute("href",this.download)},create(e){const{bindMenuItemShortcuts:t,createButton:n,createProgress:r,createRange:i,createTime:o,setQualityMenu:s,setSpeedMenu:a,showMenuPanel:l}=Lt;this.elements.controls=null,ge.array(this.config.controls)&&this.config.controls.includes("play-large")&&this.elements.container.appendChild(n.call(this,"play-large"));const u=Sn("div",uf(this.config.selectors.controls.wrapper));this.elements.controls=u;const c={class:"plyr__controls__item"};return Hz(ge.array(this.config.controls)?this.config.controls:[]).forEach(d=>{if(d==="restart"&&u.appendChild(n.call(this,"restart",c)),d==="rewind"&&u.appendChild(n.call(this,"rewind",c)),d==="play"&&u.appendChild(n.call(this,"play",c)),d==="fast-forward"&&u.appendChild(n.call(this,"fast-forward",c)),d==="progress"){const f=Sn("div",{class:`${c.class} plyr__progress__container`}),h=Sn("div",uf(this.config.selectors.progress));if(h.appendChild(i.call(this,"seek",{id:`plyr-seek-${e.id}`})),h.appendChild(r.call(this,"buffer")),this.config.tooltips.seek){const p=Sn("span",{class:this.config.classNames.tooltip},"00:00");h.appendChild(p),this.elements.display.seekTooltip=p}this.elements.progress=h,f.appendChild(this.elements.progress),u.appendChild(f)}if(d==="current-time"&&u.appendChild(o.call(this,"currentTime",c)),d==="duration"&&u.appendChild(o.call(this,"duration",c)),d==="mute"||d==="volume"){let{volume:f}=this.elements;if(ge.element(f)&&u.contains(f)||(f=Sn("div",co({},c,{class:`${c.class} plyr__volume`.trim()})),this.elements.volume=f,u.appendChild(f)),d==="mute"&&f.appendChild(n.call(this,"mute")),d==="volume"&&!ss.isIos&&!ss.isIPadOS){const h={max:1,step:.05,value:this.config.volume};f.appendChild(i.call(this,"volume",co(h,{id:`plyr-volume-${e.id}`})))}}if(d==="captions"&&u.appendChild(n.call(this,"captions",c)),d==="settings"&&!ge.empty(this.config.settings)){const f=Sn("div",co({},c,{class:`${c.class} plyr__menu`.trim(),hidden:""}));f.appendChild(n.call(this,"settings",{"aria-haspopup":!0,"aria-controls":`plyr-settings-${e.id}`,"aria-expanded":!1}));const h=Sn("div",{class:"plyr__menu__container",id:`plyr-settings-${e.id}`,hidden:""}),p=Sn("div"),m=Sn("div",{id:`plyr-settings-${e.id}-home`}),g=Sn("div",{role:"menu"});m.appendChild(g),p.appendChild(m),this.elements.settings.panels.home=m,this.config.settings.forEach(y=>{const v=Sn("button",co(uf(this.config.selectors.buttons.settings),{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--forward`,role:"menuitem","aria-haspopup":!0,hidden:""}));t.call(this,v,y),br.call(this,v,"click",()=>{l.call(this,y,!1)});const w=Sn("span",null,is.get(y,this.config)),E=Sn("span",{class:this.config.classNames.menu.value});E.innerHTML=e[y],w.appendChild(E),v.appendChild(w),g.appendChild(v);const _=Sn("div",{id:`plyr-settings-${e.id}-${y}`,hidden:""}),x=Sn("button",{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--back`});x.appendChild(Sn("span",{"aria-hidden":!0},is.get(y,this.config))),x.appendChild(Sn("span",{class:this.config.classNames.hidden},is.get("menuBack",this.config))),br.call(this,_,"keydown",S=>{S.key==="ArrowLeft"&&(S.preventDefault(),S.stopPropagation(),l.call(this,"home",!0))},!1),br.call(this,x,"click",()=>{l.call(this,"home",!1)}),_.appendChild(x),_.appendChild(Sn("div",{role:"menu"})),p.appendChild(_),this.elements.settings.buttons[y]=v,this.elements.settings.panels[y]=_}),h.appendChild(p),f.appendChild(h),u.appendChild(f),this.elements.settings.popup=h,this.elements.settings.menu=f}if(d==="pip"&&ho.pip&&u.appendChild(n.call(this,"pip",c)),d==="airplay"&&ho.airplay&&u.appendChild(n.call(this,"airplay",c)),d==="download"){const f=co({},c,{element:"a",href:this.download,target:"_blank"});this.isHTML5&&(f.download="");const{download:h}=this.config.urls;!ge.url(h)&&this.isEmbed&&co(f,{icon:`logo-${this.provider}`,label:this.provider}),u.appendChild(n.call(this,"download",f))}d==="fullscreen"&&u.appendChild(n.call(this,"fullscreen",c))}),this.isHTML5&&s.call(this,cg.getQualityOptions.call(this)),a.call(this),u},inject(){if(this.config.loadSprite){const i=Lt.getIconUrl.call(this);i.cors&&V$e(i.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());let e=null;this.elements.controls=null;const t={id:this.id,seektime:this.config.seekTime,title:this.config.title};let n=!0;ge.function(this.config.controls)&&(this.config.controls=this.config.controls.call(this,t)),this.config.controls||(this.config.controls=[]),ge.element(this.config.controls)||ge.string(this.config.controls)?e=this.config.controls:(e=Lt.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:xr.getLabel.call(this)}),n=!1);let r;if(n&&ge.string(this.config.controls)&&(e=(i=>{let o=i;return Object.entries(t).forEach(([s,a])=>{o=aT(o,`{${s}}`,a)}),o})(e)),ge.string(this.config.selectors.controls.container)&&(r=document.querySelector(this.config.selectors.controls.container)),ge.element(r)||(r=this.elements.container),r[ge.element(e)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",e),ge.element(this.elements.controls)||Lt.findElements.call(this),!ge.empty(this.elements.buttons)){const i=o=>{const s=this.config.classNames.controlPressed;o.setAttribute("aria-pressed","false"),Object.defineProperty(o,"pressed",{configurable:!0,enumerable:!0,get:()=>zM(o,s),set(a=!1){$r(o,s,a),o.setAttribute("aria-pressed",a?"true":"false")}})};Object.values(this.elements.buttons).filter(Boolean).forEach(o=>{ge.array(o)||ge.nodeList(o)?Array.from(o).filter(Boolean).forEach(i):i(o)})}if(ss.isEdge&&O$e(r),this.config.tooltips.controls){const{classNames:i,selectors:o}=this.config,s=`${o.controls.wrapper} ${o.labels} .${i.hidden}`,a=_C.call(this,s);Array.from(a).forEach(l=>{$r(l,this.config.classNames.hidden,!1),$r(l,this.config.classNames.tooltip,!0)})}},setMediaMetadata(){try{"mediaSession"in navigator&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:this.config.mediaMetadata.title,artist:this.config.mediaMetadata.artist,album:this.config.mediaMetadata.album,artwork:this.config.mediaMetadata.artwork}))}catch{}},setMarkers(){var e,t;if(!this.duration||this.elements.markers)return;const n=(e=this.config.markers)===null||e===void 0||(t=e.points)===null||t===void 0?void 0:t.filter(({time:l})=>l>0&&l<this.duration);if(n==null||!n.length)return;const r=document.createDocumentFragment(),i=document.createDocumentFragment();let o=null;const s=`${this.config.classNames.tooltip}--visible`,a=l=>$r(o,s,l);n.forEach(l=>{const u=Sn("span",{class:this.config.classNames.marker},""),c=l.time/this.duration*100+"%";o&&(u.addEventListener("mouseenter",()=>{l.label||(o.style.left=c,o.innerHTML=l.label,a(!0))}),u.addEventListener("mouseleave",()=>{a(!1)})),u.addEventListener("click",()=>{this.currentTime=l.time}),u.style.left=c,i.appendChild(u)}),r.appendChild(i),this.config.tooltips.seek||(o=Sn("span",{class:this.config.classNames.tooltip},""),r.appendChild(o)),this.elements.markers={points:i,tip:o},this.elements.progress.appendChild(r)}};function q$e(e,t=!0){let n=e;if(t){const r=document.createElement("a");r.href=n,n=r.href}try{return new URL(n)}catch{return null}}function G$e(e){const t=new URLSearchParams;return ge.object(e)&&Object.entries(e).forEach(([n,r])=>{t.set(n,r)}),t}const xr={setup(){if(!this.supported.ui)return;if(!this.isVideo||this.isYouTube||this.isHTML5&&!ho.textTracks)return void(ge.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Lt.setCaptionsMenu.call(this));if(ge.element(this.elements.captions)||(this.elements.captions=Sn("div",uf(this.config.selectors.captions)),this.elements.captions.setAttribute("dir","auto"),lBt(this.elements.captions,this.elements.wrapper)),ss.isIE&&window.URL){const r=this.media.querySelectorAll("track");Array.from(r).forEach(i=>{const o=i.getAttribute("src"),s=q$e(o);s!==null&&s.hostname!==window.location.href.hostname&&["http:","https:"].includes(s.protocol)&&l2(o,"blob").then(a=>{i.setAttribute("src",window.URL.createObjectURL(a))}).catch(()=>{up(i)})})}const e=Hz((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map(r=>r.split("-")[0]));let t=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();t==="auto"&&([t]=e);let n=this.storage.get("captions");if(ge.boolean(n)||({active:n}=this.config.captions),Object.assign(this.captions,{toggled:!1,active:n,language:t,languages:e}),this.isHTML5){const r=this.config.captions.update?"addtrack removetrack":"removetrack";br.call(this,this.media.textTracks,r,xr.update.bind(this))}setTimeout(xr.update.bind(this),0)},update(){const e=xr.getTracks.call(this,!0),{active:t,language:n,meta:r,currentTrackNode:i}=this.captions,o=!!e.find(s=>s.language===n);this.isHTML5&&this.isVideo&&e.filter(s=>!r.get(s)).forEach(s=>{this.debug.log("Track added",s),r.set(s,{default:s.mode==="showing"}),s.mode==="showing"&&(s.mode="hidden"),br.call(this,s,"cuechange",()=>xr.updateCues.call(this))}),(o&&this.language!==n||!e.includes(i))&&(xr.setLanguage.call(this,n),xr.toggle.call(this,t&&o)),this.elements&&$r(this.elements.container,this.config.classNames.captions.enabled,!ge.empty(e)),ge.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Lt.setCaptionsMenu.call(this)},toggle(e,t=!0){if(!this.supported.ui)return;const{toggled:n}=this.captions,r=this.config.classNames.captions.active,i=ge.nullOrUndefined(e)?!n:e;if(i!==n){if(t||(this.captions.active=i,this.storage.set({captions:i})),!this.language&&i&&!t){const o=xr.getTracks.call(this),s=xr.findTrack.call(this,[this.captions.language,...this.captions.languages],!0);return this.captions.language=s.language,void xr.set.call(this,o.indexOf(s))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=i),$r(this.elements.container,r,i),this.captions.toggled=i,Lt.updateSetting.call(this,"captions"),Tn.call(this,this.media,i?"captionsenabled":"captionsdisabled")}setTimeout(()=>{i&&this.captions.toggled&&(this.captions.currentTrackNode.mode="hidden")})},set(e,t=!0){const n=xr.getTracks.call(this);if(e!==-1)if(ge.number(e))if(e in n){if(this.captions.currentTrack!==e){this.captions.currentTrack=e;const r=n[e],{language:i}=r||{};this.captions.currentTrackNode=r,Lt.updateSetting.call(this,"captions"),t||(this.captions.language=i,this.storage.set({language:i})),this.isVimeo&&this.embed.enableTextTrack(i),Tn.call(this,this.media,"languagechange")}xr.toggle.call(this,!0,t),this.isHTML5&&this.isVideo&&xr.updateCues.call(this)}else this.debug.warn("Track not found",e);else this.debug.warn("Invalid caption argument",e);else xr.toggle.call(this,!1,t)},setLanguage(e,t=!0){if(!ge.string(e))return void this.debug.warn("Invalid language argument",e);const n=e.toLowerCase();this.captions.language=n;const r=xr.getTracks.call(this),i=xr.findTrack.call(this,[n]);xr.set.call(this,r.indexOf(i),t)},getTracks(e=!1){return Array.from((this.media||{}).textTracks||[]).filter(t=>!this.isHTML5||e||this.captions.meta.has(t)).filter(t=>["captions","subtitles"].includes(t.kind))},findTrack(e,t=!1){const n=xr.getTracks.call(this),r=s=>Number((this.captions.meta.get(s)||{}).default),i=Array.from(n).sort((s,a)=>r(a)-r(s));let o;return e.every(s=>(o=i.find(a=>a.language===s),!o)),o||(t?i[0]:void 0)},getCurrentTrack(){return xr.getTracks.call(this)[this.currentTrack]},getLabel(e){let t=e;return!ge.track(t)&&ho.textTracks&&this.captions.toggled&&(t=xr.getCurrentTrack.call(this)),ge.track(t)?ge.empty(t.label)?ge.empty(t.language)?is.get("enabled",this.config):e.language.toUpperCase():t.label:is.get("disabled",this.config)},updateCues(e){if(!this.supported.ui)return;if(!ge.element(this.elements.captions))return void this.debug.warn("No captions element to render to");if(!ge.nullOrUndefined(e)&&!Array.isArray(e))return void this.debug.warn("updateCues: Invalid input",e);let t=e;if(!t){const r=xr.getCurrentTrack.call(this);t=Array.from((r||{}).activeCues||[]).map(i=>i.getCueAsHTML()).map(bBt)}const n=t.map(r=>r.trim()).join(`
`);if(n!==this.elements.captions.innerHTML){JR(this.elements.captions);const r=Sn("span",uf(this.config.selectors.caption));r.innerHTML=n,this.elements.captions.appendChild(r),Tn.call(this,this.media,"cuechange")}}},Y$e={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.7.8/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",pip:"PIP",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/oembed.json?url={0}"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",marker:"plyr__progress__marker",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id",hash:"data-plyr-embed-hash"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1,customControls:!0,referrerPolicy:null,premium:!1},youtube:{rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,customControls:!0,noCookie:!1},mediaMetadata:{title:"",artist:"",album:"",artwork:[]},markers:{enabled:!1,points:[]}},c8={active:"picture-in-picture",inactive:"inline"},Jm={html5:"html5",youtube:"youtube",vimeo:"vimeo"},d8={audio:"audio",video:"video"};function _Bt(e){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(e)?Jm.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(e)?Jm.vimeo:null}const f8=()=>{};class EBt{constructor(t=!1){this.enabled=window.console&&t,this.enabled&&this.log("Debugging enabled")}get log(){return this.enabled?Function.prototype.bind.call(console.log,console):f8}get warn(){return this.enabled?Function.prototype.bind.call(console.warn,console):f8}get error(){return this.enabled?Function.prototype.bind.call(console.error,console):f8}}class Kc{constructor(t){Ut(this,"onChange",()=>{if(!this.supported)return;const n=this.player.elements.buttons.fullscreen;ge.element(n)&&(n.pressed=this.active);const r=this.target===this.player.media?this.target:this.player.elements.container;Tn.call(this.player,r,this.active?"enterfullscreen":"exitfullscreen",!0)}),Ut(this,"toggleFallback",(n=!1)=>{if(n?this.scrollPosition={x:window.scrollX??0,y:window.scrollY??0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=n?"hidden":"",$r(this.target,this.player.config.classNames.fullscreen.fallback,n),ss.isIos){let r=document.head.querySelector('meta[name="viewport"]');const i="viewport-fit=cover";r||(r=document.createElement("meta"),r.setAttribute("name","viewport"));const o=ge.string(r.content)&&r.content.includes(i);n?(this.cleanupViewport=!o,o||(r.content+=`,${i}`)):this.cleanupViewport&&(r.content=r.content.split(",").filter(s=>s.trim()!==i).join(","))}this.onChange()}),Ut(this,"trapFocus",n=>{if(ss.isIos||ss.isIPadOS||!this.active||n.key!=="Tab")return;const r=document.activeElement,i=_C.call(this.player,"a[href], button:not(:disabled), input:not(:disabled), [tabindex]"),[o]=i,s=i[i.length-1];r!==s||n.shiftKey?r===o&&n.shiftKey&&(s.focus(),n.preventDefault()):(o.focus(),n.preventDefault())}),Ut(this,"update",()=>{if(this.supported){let n;n=this.forceFallback?"Fallback (forced)":Kc.nativeSupported?"Native":"Fallback",this.player.debug.log(`${n} fullscreen enabled`)}else this.player.debug.log("Fullscreen not supported and fallback disabled");$r(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.supported)}),Ut(this,"enter",()=>{this.supported&&(ss.isIos&&this.player.config.fullscreen.iosNative?this.player.isVimeo?this.player.embed.requestFullscreen():this.target.webkitEnterFullscreen():!Kc.nativeSupported||this.forceFallback?this.toggleFallback(!0):this.prefix?ge.empty(this.prefix)||this.target[`${this.prefix}Request${this.property}`]():this.target.requestFullscreen({navigationUI:"hide"}))}),Ut(this,"exit",()=>{if(this.supported)if(ss.isIos&&this.player.config.fullscreen.iosNative)this.player.isVimeo?this.player.embed.exitFullscreen():this.target.webkitEnterFullscreen(),wf(this.player.play());else if(!Kc.nativeSupported||this.forceFallback)this.toggleFallback(!1);else if(this.prefix){if(!ge.empty(this.prefix)){const n=this.prefix==="moz"?"Cancel":"Exit";document[`${this.prefix}${n}${this.property}`]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)}),Ut(this,"toggle",()=>{this.active?this.exit():this.enter()}),this.player=t,this.prefix=Kc.prefix,this.property=Kc.property,this.scrollPosition={x:0,y:0},this.forceFallback=t.config.fullscreen.fallback==="force",this.player.elements.fullscreen=t.config.fullscreen.container&&uBt(this.player.elements.container,t.config.fullscreen.container),br.call(this.player,document,this.prefix==="ms"?"MSFullscreenChange":`${this.prefix}fullscreenchange`,()=>{this.onChange()}),br.call(this.player,this.player.elements.container,"dblclick",n=>{ge.element(this.player.elements.controls)&&this.player.elements.controls.contains(n.target)||this.player.listeners.proxy(n,this.toggle,"fullscreen")}),br.call(this,this.player.elements.container,"keydown",n=>this.trapFocus(n)),this.update()}static get nativeSupported(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}get useNative(){return Kc.nativeSupported&&!this.forceFallback}static get prefix(){if(ge.function(document.exitFullscreen))return"";let t="";return["webkit","moz","ms"].some(n=>!(!ge.function(document[`${n}ExitFullscreen`])&&!ge.function(document[`${n}CancelFullScreen`]))&&(t=n,!0)),t}static get property(){return this.prefix==="moz"?"FullScreen":"Fullscreen"}get supported(){return[this.player.config.fullscreen.enabled,this.player.isVideo,Kc.nativeSupported||this.player.config.fullscreen.fallback,!this.player.isYouTube||Kc.nativeSupported||!ss.isIos||this.player.config.playsinline&&!this.player.config.fullscreen.iosNative].every(Boolean)}get active(){if(!this.supported)return!1;if(!Kc.nativeSupported||this.forceFallback)return zM(this.target,this.player.config.classNames.fullscreen.fallback);const t=this.prefix?this.target.getRootNode()[`${this.prefix}${this.property}Element`]:this.target.getRootNode().fullscreenElement;return t&&t.shadowRoot?t===this.target.getRootNode().host:t===this.target}get target(){return ss.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.fullscreen??this.player.elements.container}}function ZR(e,t=1){return new Promise((n,r)=>{const i=new Image,o=()=>{delete i.onload,delete i.onerror,(i.naturalWidth>=t?n:r)(i)};Object.assign(i,{onload:o,onerror:o,src:e})})}const Wr={addStyleHook(){$r(this.elements.container,this.config.selectors.container.replace(".",""),!0),$r(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls(e=!1){e&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build(){if(this.listeners.media(),!this.supported.ui)return this.debug.warn(`Basic support only for ${this.provider} ${this.type}`),void Wr.toggleNativeControls.call(this,!0);ge.element(this.elements.controls)||(Lt.inject.call(this),this.listeners.controls()),Wr.toggleNativeControls.call(this),this.isHTML5&&xr.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,Lt.updateVolume.call(this),Lt.timeUpdate.call(this),Lt.durationUpdate.call(this),Wr.checkPlaying.call(this),$r(this.elements.container,this.config.classNames.pip.supported,ho.pip&&this.isHTML5&&this.isVideo),$r(this.elements.container,this.config.classNames.airplay.supported,ho.airplay&&this.isHTML5),$r(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout(()=>{Tn.call(this,this.media,"ready")},0),Wr.setTitle.call(this),this.poster&&Wr.setPoster.call(this,this.poster,!1).catch(()=>{}),this.config.duration&&Lt.durationUpdate.call(this),this.config.mediaMetadata&&Lt.setMediaMetadata.call(this)},setTitle(){let e=is.get("play",this.config);if(ge.string(this.config.title)&&!ge.empty(this.config.title)&&(e+=`, ${this.config.title}`),Array.from(this.elements.buttons.play||[]).forEach(t=>{t.setAttribute("aria-label",e)}),this.isEmbed){const t=Fo.call(this,"iframe");if(!ge.element(t))return;const n=ge.empty(this.config.title)?"video":this.config.title,r=is.get("frameTitle",this.config);t.setAttribute("title",r.replace("{title}",n))}},togglePoster(e){$r(this.elements.container,this.config.classNames.posterEnabled,e)},setPoster(e,t=!0){return t&&this.poster?Promise.reject(new Error("Poster already set")):(this.media.setAttribute("data-poster",e),this.elements.poster.removeAttribute("hidden"),fBt.call(this).then(()=>ZR(e)).catch(n=>{throw e===this.poster&&Wr.togglePoster.call(this,!1),n}).then(()=>{if(e!==this.poster)throw new Error("setPoster cancelled by later call to setPoster")}).then(()=>(Object.assign(this.elements.poster.style,{backgroundImage:`url('${e}')`,backgroundSize:""}),Wr.togglePoster.call(this,!0),e)))},checkPlaying(e){$r(this.elements.container,this.config.classNames.playing,this.playing),$r(this.elements.container,this.config.classNames.paused,this.paused),$r(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach(t=>{Object.assign(t,{pressed:this.playing}),t.setAttribute("aria-label",is.get(this.playing?"pause":"play",this.config))}),ge.event(e)&&e.type==="timeupdate"||Wr.toggleControls.call(this)},checkLoading(e){this.loading=["stalled","waiting"].includes(e.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout(()=>{$r(this.elements.container,this.config.classNames.loading,this.loading),Wr.toggleControls.call(this)},this.loading?250:0)},toggleControls(e){const{controls:t}=this.elements;if(t&&this.config.hideControls){const n=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(!!(e||this.loading||this.paused||t.pressed||t.hover||n))}},migrateStyles(){Object.values({...this.media.style}).filter(e=>!ge.empty(e)&&ge.string(e)&&e.startsWith("--plyr")).forEach(e=>{this.elements.container.style.setProperty(e,this.media.style.getPropertyValue(e)),this.media.style.removeProperty(e)}),ge.empty(this.media.style)&&this.media.removeAttribute("style")}};class SBt{constructor(t){Ut(this,"firstTouch",()=>{const{player:n}=this,{elements:r}=n;n.touch=!0,$r(r.container,n.config.classNames.isTouch,!0)}),Ut(this,"global",(n=!0)=>{const{player:r}=this;r.config.keyboard.global&&EC.call(r,window,"keydown keyup",this.handleKey,n,!1),EC.call(r,document.body,"click",this.toggleMenu,n),UQ.call(r,document.body,"touchstart",this.firstTouch)}),Ut(this,"container",()=>{const{player:n}=this,{config:r,elements:i,timers:o}=n;!r.keyboard.global&&r.keyboard.focused&&br.call(n,i.container,"keydown keyup",this.handleKey,!1),br.call(n,i.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",l=>{const{controls:u}=i;u&&l.type==="enterfullscreen"&&(u.pressed=!1,u.hover=!1);let c=0;["touchstart","touchmove","mousemove"].includes(l.type)&&(Wr.toggleControls.call(n,!0),c=n.touch?3e3:2e3),clearTimeout(o.controls),o.controls=setTimeout(()=>Wr.toggleControls.call(n,!1),c)});const s=()=>{if(!n.isVimeo||n.config.vimeo.premium)return;const l=i.wrapper,{active:u}=n.fullscreen,[c,d]=HQ.call(n),f=j$e(`aspect-ratio: ${c} / ${d}`);if(!u)return void(f?(l.style.width=null,l.style.height=null):(l.style.maxWidth=null,l.style.margin=null));const[h,p]=hBt(),m=h/p>c/d;f?(l.style.width=m?"auto":"100%",l.style.height=m?"100%":"auto"):(l.style.maxWidth=m?p/d*c+"px":null,l.style.margin=m?"0 auto":null)},a=()=>{clearTimeout(o.resized),o.resized=setTimeout(s,50)};br.call(n,i.container,"enterfullscreen exitfullscreen",l=>{const{target:u}=n.fullscreen;u===i.container&&(!n.isEmbed&&ge.empty(n.config.ratio)||(s(),(l.type==="enterfullscreen"?br:PL).call(n,window,"resize",a)))})}),Ut(this,"media",()=>{const{player:n}=this,{elements:r}=n;if(br.call(n,n.media,"timeupdate seeking seeked",o=>Lt.timeUpdate.call(n,o)),br.call(n,n.media,"durationchange loadeddata loadedmetadata",o=>Lt.durationUpdate.call(n,o)),br.call(n,n.media,"ended",()=>{n.isHTML5&&n.isVideo&&n.config.resetOnEnd&&(n.restart(),n.pause())}),br.call(n,n.media,"progress playing seeking seeked",o=>Lt.updateProgress.call(n,o)),br.call(n,n.media,"volumechange",o=>Lt.updateVolume.call(n,o)),br.call(n,n.media,"playing play pause ended emptied timeupdate",o=>Wr.checkPlaying.call(n,o)),br.call(n,n.media,"waiting canplay seeked playing",o=>Wr.checkLoading.call(n,o)),n.supported.ui&&n.config.clickToPlay&&!n.isAudio){const o=Fo.call(n,`.${n.config.classNames.video}`);if(!ge.element(o))return;br.call(n,r.container,"click",s=>{([r.container,o].includes(s.target)||o.contains(s.target))&&(n.touch&&n.config.hideControls||(n.ended?(this.proxy(s,n.restart,"restart"),this.proxy(s,()=>{wf(n.play())},"play")):this.proxy(s,()=>{wf(n.togglePlay())},"play")))})}n.supported.ui&&n.config.disableContextMenu&&br.call(n,r.wrapper,"contextmenu",o=>{o.preventDefault()},!1),br.call(n,n.media,"volumechange",()=>{n.storage.set({volume:n.volume,muted:n.muted})}),br.call(n,n.media,"ratechange",()=>{Lt.updateSetting.call(n,"speed"),n.storage.set({speed:n.speed})}),br.call(n,n.media,"qualitychange",o=>{Lt.updateSetting.call(n,"quality",null,o.detail.quality)}),br.call(n,n.media,"ready qualitychange",()=>{Lt.setDownloadUrl.call(n)});const i=n.config.events.concat(["keyup","keydown"]).join(" ");br.call(n,n.media,i,o=>{let{detail:s={}}=o;o.type==="error"&&(s=n.media.error),Tn.call(n,r.container,o.type,!0,s)})}),Ut(this,"proxy",(n,r,i)=>{const{player:o}=this,s=o.config.listeners[i];let a=!0;ge.function(s)&&(a=s.call(o,n)),a!==!1&&ge.function(r)&&r.call(o,n)}),Ut(this,"bind",(n,r,i,o,s=!0)=>{const{player:a}=this,l=a.config.listeners[o],u=ge.function(l);br.call(a,n,r,c=>this.proxy(c,i,o),s&&!u)}),Ut(this,"controls",()=>{const{player:n}=this,{elements:r}=n,i=ss.isIE?"change":"input";if(r.buttons.play&&Array.from(r.buttons.play).forEach(o=>{this.bind(o,"click",()=>{wf(n.togglePlay())},"play")}),this.bind(r.buttons.restart,"click",n.restart,"restart"),this.bind(r.buttons.rewind,"click",()=>{n.lastSeekTime=Date.now(),n.rewind()},"rewind"),this.bind(r.buttons.fastForward,"click",()=>{n.lastSeekTime=Date.now(),n.forward()},"fastForward"),this.bind(r.buttons.mute,"click",()=>{n.muted=!n.muted},"mute"),this.bind(r.buttons.captions,"click",()=>n.toggleCaptions()),this.bind(r.buttons.download,"click",()=>{Tn.call(n,n.media,"download")},"download"),this.bind(r.buttons.fullscreen,"click",()=>{n.fullscreen.toggle()},"fullscreen"),this.bind(r.buttons.pip,"click",()=>{n.pip="toggle"},"pip"),this.bind(r.buttons.airplay,"click",n.airplay,"airplay"),this.bind(r.buttons.settings,"click",o=>{o.stopPropagation(),o.preventDefault(),Lt.toggleMenu.call(n,o)},null,!1),this.bind(r.buttons.settings,"keyup",o=>{[" ","Enter"].includes(o.key)&&(o.key!=="Enter"?(o.preventDefault(),o.stopPropagation(),Lt.toggleMenu.call(n,o)):Lt.focusFirstMenuItem.call(n,null,!0))},null,!1),this.bind(r.settings.menu,"keydown",o=>{o.key==="Escape"&&Lt.toggleMenu.call(n,o)}),this.bind(r.inputs.seek,"mousedown mousemove",o=>{const s=r.progress.getBoundingClientRect(),a=100/s.width*(o.pageX-s.left);o.currentTarget.setAttribute("seek-value",a)}),this.bind(r.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",o=>{const s=o.currentTarget,a="play-on-seeked";if(ge.keyboardEvent(o)&&!["ArrowLeft","ArrowRight"].includes(o.key))return;n.lastSeekTime=Date.now();const l=s.hasAttribute(a),u=["mouseup","touchend","keyup"].includes(o.type);l&&u?(s.removeAttribute(a),wf(n.play())):!u&&n.playing&&(s.setAttribute(a,""),n.pause())}),ss.isIos){const o=_C.call(n,'input[type="range"]');Array.from(o).forEach(s=>this.bind(s,i,a=>O$e(a.target)))}this.bind(r.inputs.seek,i,o=>{const s=o.currentTarget;let a=s.getAttribute("seek-value");ge.empty(a)&&(a=s.value),s.removeAttribute("seek-value"),n.currentTime=a/s.max*n.duration},"seek"),this.bind(r.progress,"mouseenter mouseleave mousemove",o=>Lt.updateSeekTooltip.call(n,o)),this.bind(r.progress,"mousemove touchmove",o=>{const{previewThumbnails:s}=n;s&&s.loaded&&s.startMove(o)}),this.bind(r.progress,"mouseleave touchend click",()=>{const{previewThumbnails:o}=n;o&&o.loaded&&o.endMove(!1,!0)}),this.bind(r.progress,"mousedown touchstart",o=>{const{previewThumbnails:s}=n;s&&s.loaded&&s.startScrubbing(o)}),this.bind(r.progress,"mouseup touchend",o=>{const{previewThumbnails:s}=n;s&&s.loaded&&s.endScrubbing(o)}),ss.isWebKit&&Array.from(_C.call(n,'input[type="range"]')).forEach(o=>{this.bind(o,"input",s=>Lt.updateRangeFill.call(n,s.target))}),n.config.toggleInvert&&!ge.element(r.display.duration)&&this.bind(r.display.currentTime,"click",()=>{n.currentTime!==0&&(n.config.invertTime=!n.config.invertTime,Lt.timeUpdate.call(n))}),this.bind(r.inputs.volume,i,o=>{n.volume=o.target.value},"volume"),this.bind(r.controls,"mouseenter mouseleave",o=>{r.controls.hover=!n.touch&&o.type==="mouseenter"}),r.fullscreen&&Array.from(r.fullscreen.children).filter(o=>!o.contains(r.container)).forEach(o=>{this.bind(o,"mouseenter mouseleave",s=>{r.controls&&(r.controls.hover=!n.touch&&s.type==="mouseenter")})}),this.bind(r.controls,"mousedown mouseup touchstart touchend touchcancel",o=>{r.controls.pressed=["mousedown","touchstart"].includes(o.type)}),this.bind(r.controls,"focusin",()=>{const{config:o,timers:s}=n;$r(r.controls,o.classNames.noTransition,!0),Wr.toggleControls.call(n,!0),setTimeout(()=>{$r(r.controls,o.classNames.noTransition,!1)},0);const a=this.touch?3e3:4e3;clearTimeout(s.controls),s.controls=setTimeout(()=>Wr.toggleControls.call(n,!1),a)}),this.bind(r.inputs.volume,"wheel",o=>{const s=o.webkitDirectionInvertedFromDevice,[a,l]=[o.deltaX,-o.deltaY].map(d=>s?-d:d),u=Math.sign(Math.abs(a)>Math.abs(l)?a:l);n.increaseVolume(u/50);const{volume:c}=n.media;(u===1&&c<1||u===-1&&c>0)&&o.preventDefault()},"volume",!1)}),this.player=t,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.firstTouch=this.firstTouch.bind(this)}handleKey(t){const{player:n}=this,{elements:r}=n,{key:i,type:o,altKey:s,ctrlKey:a,metaKey:l,shiftKey:u}=t,c=o==="keydown",d=c&&i===this.lastKey;if(!(s||a||l||u)&&i){if(c){const h=document.activeElement;if(ge.element(h)){const{editable:p}=n.config.selectors,{seek:m}=r.inputs;if(h!==m&&$y(h,p)||t.key===" "&&$y(h,'button, [role^="menuitem"]'))return}switch([" ","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","0","1","2","3","4","5","6","7","8","9","c","f","k","l","m"].includes(i)&&(t.preventDefault(),t.stopPropagation()),i){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":d||(f=parseInt(i,10),n.currentTime=n.duration/10*f);break;case" ":case"k":d||wf(n.togglePlay());break;case"ArrowUp":n.increaseVolume(.1);break;case"ArrowDown":n.decreaseVolume(.1);break;case"m":d||(n.muted=!n.muted);break;case"ArrowRight":n.forward();break;case"ArrowLeft":n.rewind();break;case"f":n.fullscreen.toggle();break;case"c":d||n.toggleCaptions();break;case"l":n.loop=!n.loop}i==="Escape"&&!n.fullscreen.usingNative&&n.fullscreen.active&&n.fullscreen.toggle(),this.lastKey=i}else this.lastKey=null;var f}}toggleMenu(t){Lt.toggleMenu.call(this.player,t)}}function TBt(e,t){return e(t={exports:{}},t.exports),t.exports}var CBt=TBt(function(e,t){e.exports=function(){var n=function(){},r={},i={},o={};function s(f,h){f=f.push?f:[f];var p,m,g,y=[],v=f.length,w=v;for(p=function(E,_){_.length&&y.push(E),--w||h(y)};v--;)m=f[v],(g=i[m])?p(m,g):(o[m]=o[m]||[]).push(p)}function a(f,h){if(f){var p=o[f];if(i[f]=h,p)for(;p.length;)p[0](f,h),p.splice(0,1)}}function l(f,h){f.call&&(f={success:f}),h.length?(f.error||n)(h):(f.success||n)(f)}function u(f,h,p,m){var g,y,v=document,w=p.async,E=(p.numRetries||0)+1,_=p.before||n,x=f.replace(/[\?|#].*$/,""),S=f.replace(/^(css|img)!/,"");m=m||0,/(^css!|\.css$)/.test(x)?((y=v.createElement("link")).rel="stylesheet",y.href=S,(g="hideFocus"in y)&&y.relList&&(g=0,y.rel="preload",y.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(x)?(y=v.createElement("img")).src=S:((y=v.createElement("script")).src=f,y.async=w===void 0||w),y.onload=y.onerror=y.onbeforeload=function(C){var A=C.type[0];if(g)try{y.sheet.cssText.length||(A="e")}catch(k){k.code!=18&&(A="e")}if(A=="e"){if((m+=1)<E)return u(f,h,p,m)}else if(y.rel=="preload"&&y.as=="style")return y.rel="stylesheet";h(f,A,C.defaultPrevented)},_(f,y)!==!1&&v.head.appendChild(y)}function c(f,h,p){var m,g,y=(f=f.push?f:[f]).length,v=y,w=[];for(m=function(E,_,x){if(_=="e"&&w.push(E),_=="b"){if(!x)return;w.push(E)}--y||h(w)},g=0;g<v;g++)u(f[g],m,p)}function d(f,h,p){var m,g;if(h&&h.trim&&(m=h),g=(m?p:h)||{},m){if(m in r)throw"LoadJS";r[m]=!0}function y(v,w){c(f,function(E){l(g,E),v&&l({success:v,error:w},E),a(m,E)},g)}if(g.returnPromise)return new Promise(y);y()}return d.ready=function(f,h){return s(f,function(p){l(h,p)}),d},d.done=function(f){a(f,[])},d.reset=function(){r={},i={},o={}},d.isDefined=function(f){return f in r},d}()});function VQ(e){return new Promise((t,n)=>{CBt(e,{success:t,error:n})})}function ABt(e){return ge.empty(e)?null:ge.number(Number(e))?e:e.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:e}function kBt(e){const t=e.match(/^.*(vimeo.com\/|video\/)(\d+)(\?.*&*h=|\/)+([\d,a-f]+)/);return t&&t.length===5?t[4]:null}function OE(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,Tn.call(this,this.media,e?"play":"pause"))}const Wz={setup(){const e=this;$r(e.elements.wrapper,e.config.classNames.embed,!0),e.options.speed=e.config.speed.options,lx.call(e),ge.object(window.Vimeo)?Wz.ready.call(e):VQ(e.config.urls.vimeo.sdk).then(()=>{Wz.ready.call(e)}).catch(t=>{e.debug.warn("Vimeo SDK (player.js) failed to load",t)})},ready(){const e=this,t=e.config.vimeo,{premium:n,referrerPolicy:r,...i}=t;let o=e.media.getAttribute("src"),s="";ge.empty(o)?(o=e.media.getAttribute(e.config.attributes.embed.id),s=e.media.getAttribute(e.config.attributes.embed.hash)):s=kBt(o);const a=s?{h:s}:{};n&&Object.assign(i,{controls:!1,sidedock:!1});const l=G$e({loop:e.config.loop.active,autoplay:e.autoplay,muted:e.muted,gesture:"media",playsinline:e.config.playsinline,...a,...i}),u=ABt(o),c=Sn("iframe"),d=Vz(e.config.urls.vimeo.iframe,u,l);if(c.setAttribute("src",d),c.setAttribute("allowfullscreen",""),c.setAttribute("allow",["autoplay","fullscreen","picture-in-picture","encrypted-media","accelerometer","gyroscope"].join("; ")),ge.empty(r)||c.setAttribute("referrerPolicy",r),n||!t.customControls)c.setAttribute("data-poster",e.poster),e.media=jM(c,e.media);else{const v=Sn("div",{class:e.config.classNames.embedContainer,"data-poster":e.poster});v.appendChild(c),e.media=jM(v,e.media)}t.customControls||l2(Vz(e.config.urls.vimeo.api,d)).then(v=>{!ge.empty(v)&&v.thumbnail_url&&Wr.setPoster.call(e,v.thumbnail_url).catch(()=>{})}),e.embed=new window.Vimeo.Player(c,{autopause:e.config.autopause,muted:e.muted}),e.media.paused=!0,e.media.currentTime=0,e.supported.ui&&e.embed.disableTextTrack(),e.media.play=()=>(OE.call(e,!0),e.embed.play()),e.media.pause=()=>(OE.call(e,!1),e.embed.pause()),e.media.stop=()=>{e.pause(),e.currentTime=0};let{currentTime:f}=e.media;Object.defineProperty(e.media,"currentTime",{get:()=>f,set(v){const{embed:w,media:E,paused:_,volume:x}=e,S=_&&!w.hasPlayed;E.seeking=!0,Tn.call(e,E,"seeking"),Promise.resolve(S&&w.setVolume(0)).then(()=>w.setCurrentTime(v)).then(()=>S&&w.pause()).then(()=>S&&w.setVolume(x)).catch(()=>{})}});let h=e.config.speed.selected;Object.defineProperty(e.media,"playbackRate",{get:()=>h,set(v){e.embed.setPlaybackRate(v).then(()=>{h=v,Tn.call(e,e.media,"ratechange")}).catch(()=>{e.options.speed=[1]})}});let{volume:p}=e.config;Object.defineProperty(e.media,"volume",{get:()=>p,set(v){e.embed.setVolume(v).then(()=>{p=v,Tn.call(e,e.media,"volumechange")})}});let{muted:m}=e.config;Object.defineProperty(e.media,"muted",{get:()=>m,set(v){const w=!!ge.boolean(v)&&v;e.embed.setMuted(!!w||e.config.muted).then(()=>{m=w,Tn.call(e,e.media,"volumechange")})}});let g,{loop:y}=e.config;Object.defineProperty(e.media,"loop",{get:()=>y,set(v){const w=ge.boolean(v)?v:e.config.loop.active;e.embed.setLoop(w).then(()=>{y=w})}}),e.embed.getVideoUrl().then(v=>{g=v,Lt.setDownloadUrl.call(e)}).catch(v=>{this.debug.warn(v)}),Object.defineProperty(e.media,"currentSrc",{get:()=>g}),Object.defineProperty(e.media,"ended",{get:()=>e.currentTime===e.duration}),Promise.all([e.embed.getVideoWidth(),e.embed.getVideoHeight()]).then(v=>{const[w,E]=v;e.embed.ratio=U$e(w,E),lx.call(this)}),e.embed.setAutopause(e.config.autopause).then(v=>{e.config.autopause=v}),e.embed.getVideoTitle().then(v=>{e.config.title=v,Wr.setTitle.call(this)}),e.embed.getCurrentTime().then(v=>{f=v,Tn.call(e,e.media,"timeupdate")}),e.embed.getDuration().then(v=>{e.media.duration=v,Tn.call(e,e.media,"durationchange")}),e.embed.getTextTracks().then(v=>{e.media.textTracks=v,xr.setup.call(e)}),e.embed.on("cuechange",({cues:v=[]})=>{const w=v.map(E=>vBt(E.text));xr.updateCues.call(e,w)}),e.embed.on("loaded",()=>{e.embed.getPaused().then(v=>{OE.call(e,!v),v||Tn.call(e,e.media,"playing")}),ge.element(e.embed.element)&&e.supported.ui&&e.embed.element.setAttribute("tabindex",-1)}),e.embed.on("bufferstart",()=>{Tn.call(e,e.media,"waiting")}),e.embed.on("bufferend",()=>{Tn.call(e,e.media,"playing")}),e.embed.on("play",()=>{OE.call(e,!0),Tn.call(e,e.media,"playing")}),e.embed.on("pause",()=>{OE.call(e,!1)}),e.embed.on("timeupdate",v=>{e.media.seeking=!1,f=v.seconds,Tn.call(e,e.media,"timeupdate")}),e.embed.on("progress",v=>{e.media.buffered=v.percent,Tn.call(e,e.media,"progress"),parseInt(v.percent,10)===1&&Tn.call(e,e.media,"canplaythrough"),e.embed.getDuration().then(w=>{w!==e.media.duration&&(e.media.duration=w,Tn.call(e,e.media,"durationchange"))})}),e.embed.on("seeked",()=>{e.media.seeking=!1,Tn.call(e,e.media,"seeked")}),e.embed.on("ended",()=>{e.media.paused=!0,Tn.call(e,e.media,"ended")}),e.embed.on("error",v=>{e.media.error=v,Tn.call(e,e.media,"error")}),t.customControls&&setTimeout(()=>Wr.build.call(e),0)}};function IBt(e){return ge.empty(e)?null:e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:e}function LE(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,Tn.call(this,this.media,e?"play":"pause"))}function RBt(e){return e.noCookie?"https://www.youtube-nocookie.com":window.location.protocol==="http:"?"http://www.youtube.com":void 0}const eD={setup(){if($r(this.elements.wrapper,this.config.classNames.embed,!0),ge.object(window.YT)&&ge.function(window.YT.Player))eD.ready.call(this);else{const e=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{ge.function(e)&&e(),eD.ready.call(this)},VQ(this.config.urls.youtube.sdk).catch(t=>{this.debug.warn("YouTube API failed to load",t)})}},getTitle(e){l2(Vz(this.config.urls.youtube.api,e)).then(t=>{if(ge.object(t)){const{title:n,height:r,width:i}=t;this.config.title=n,Wr.setTitle.call(this),this.embed.ratio=U$e(i,r)}lx.call(this)}).catch(()=>{lx.call(this)})},ready(){const e=this,t=e.config.youtube,n=e.media&&e.media.getAttribute("id");if(!ge.empty(n)&&n.startsWith("youtube-"))return;let r=e.media.getAttribute("src");ge.empty(r)&&(r=e.media.getAttribute(this.config.attributes.embed.id));const i=IBt(r),o=Sn("div",{id:pBt(e.provider),"data-poster":t.customControls?e.poster:void 0});if(e.media=jM(o,e.media),t.customControls){const s=a=>`https://i.ytimg.com/vi/${i}/${a}default.jpg`;ZR(s("maxres"),121).catch(()=>ZR(s("sd"),121)).catch(()=>ZR(s("hq"))).then(a=>Wr.setPoster.call(e,a.src)).then(a=>{a.includes("maxres")||(e.elements.poster.style.backgroundSize="cover")}).catch(()=>{})}e.embed=new window.YT.Player(e.media,{videoId:i,host:RBt(t),playerVars:co({},{autoplay:e.config.autoplay?1:0,hl:e.config.hl,controls:e.supported.ui&&t.customControls?0:1,disablekb:1,playsinline:e.config.playsinline&&!e.config.fullscreen.iosNative?1:0,cc_load_policy:e.captions.active?1:0,cc_lang_pref:e.config.captions.language,widget_referrer:window?window.location.href:null},t),events:{onError(s){if(!e.media.error){const a=s.data,l={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[a]||"An unknown error occurred";e.media.error={code:a,message:l},Tn.call(e,e.media,"error")}},onPlaybackRateChange(s){const a=s.target;e.media.playbackRate=a.getPlaybackRate(),Tn.call(e,e.media,"ratechange")},onReady(s){if(ge.function(e.media.play))return;const a=s.target;eD.getTitle.call(e,i),e.media.play=()=>{LE.call(e,!0),a.playVideo()},e.media.pause=()=>{LE.call(e,!1),a.pauseVideo()},e.media.stop=()=>{a.stopVideo()},e.media.duration=a.getDuration(),e.media.paused=!0,e.media.currentTime=0,Object.defineProperty(e.media,"currentTime",{get:()=>Number(a.getCurrentTime()),set(d){e.paused&&!e.embed.hasPlayed&&e.embed.mute(),e.media.seeking=!0,Tn.call(e,e.media,"seeking"),a.seekTo(d)}}),Object.defineProperty(e.media,"playbackRate",{get:()=>a.getPlaybackRate(),set(d){a.setPlaybackRate(d)}});let{volume:l}=e.config;Object.defineProperty(e.media,"volume",{get:()=>l,set(d){l=d,a.setVolume(100*l),Tn.call(e,e.media,"volumechange")}});let{muted:u}=e.config;Object.defineProperty(e.media,"muted",{get:()=>u,set(d){const f=ge.boolean(d)?d:u;u=f,a[f?"mute":"unMute"](),a.setVolume(100*l),Tn.call(e,e.media,"volumechange")}}),Object.defineProperty(e.media,"currentSrc",{get:()=>a.getVideoUrl()}),Object.defineProperty(e.media,"ended",{get:()=>e.currentTime===e.duration});const c=a.getAvailablePlaybackRates();e.options.speed=c.filter(d=>e.config.speed.options.includes(d)),e.supported.ui&&t.customControls&&e.media.setAttribute("tabindex",-1),Tn.call(e,e.media,"timeupdate"),Tn.call(e,e.media,"durationchange"),clearInterval(e.timers.buffering),e.timers.buffering=setInterval(()=>{e.media.buffered=a.getVideoLoadedFraction(),(e.media.lastBuffered===null||e.media.lastBuffered<e.media.buffered)&&Tn.call(e,e.media,"progress"),e.media.lastBuffered=e.media.buffered,e.media.buffered===1&&(clearInterval(e.timers.buffering),Tn.call(e,e.media,"canplaythrough"))},200),t.customControls&&setTimeout(()=>Wr.build.call(e),50)},onStateChange(s){const a=s.target;switch(clearInterval(e.timers.playing),e.media.seeking&&[1,2].includes(s.data)&&(e.media.seeking=!1,Tn.call(e,e.media,"seeked")),s.data){case-1:Tn.call(e,e.media,"timeupdate"),e.media.buffered=a.getVideoLoadedFraction(),Tn.call(e,e.media,"progress");break;case 0:LE.call(e,!1),e.media.loop?(a.stopVideo(),a.playVideo()):Tn.call(e,e.media,"ended");break;case 1:t.customControls&&!e.config.autoplay&&e.media.paused&&!e.embed.hasPlayed?e.media.pause():(LE.call(e,!0),Tn.call(e,e.media,"playing"),e.timers.playing=setInterval(()=>{Tn.call(e,e.media,"timeupdate")},50),e.media.duration!==a.getDuration()&&(e.media.duration=a.getDuration(),Tn.call(e,e.media,"durationchange")));break;case 2:e.muted||e.embed.unMute(),LE.call(e,!1);break;case 3:Tn.call(e,e.media,"waiting")}Tn.call(e,e.elements.container,"statechange",!1,{code:s.data})}}})}},K$e={setup(){this.media?($r(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),$r(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&$r(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=Sn("div",{class:this.config.classNames.video}),F$e(this.media,this.elements.wrapper),this.elements.poster=Sn("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?cg.setup.call(this):this.isYouTube?eD.setup.call(this):this.isVimeo&&Wz.setup.call(this)):this.debug.warn("No media element found!")}};class DBt{constructor(t){Ut(this,"load",()=>{this.enabled&&(ge.object(window.google)&&ge.object(window.google.ima)?this.ready():VQ(this.player.config.urls.googleIMA.sdk).then(()=>{this.ready()}).catch(()=>{this.trigger("error",new Error("Google IMA SDK failed to load"))}))}),Ut(this,"ready",()=>{var n;this.enabled||((n=this).manager&&n.manager.destroy(),n.elements.displayContainer&&n.elements.displayContainer.destroy(),n.elements.container.remove()),this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then(()=>{this.clearSafetyTimer("onAdsManagerLoaded()")}),this.listeners(),this.setupIMA()}),Ut(this,"setupIMA",()=>{this.elements.container=Sn("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container,this.player.media),this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,n=>this.onAdsManagerLoaded(n),!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,n=>this.onAdError(n),!1),this.requestAds()}),Ut(this,"requestAds",()=>{const{container:n}=this.player.elements;try{const r=new google.ima.AdsRequest;r.adTagUrl=this.tagUrl,r.linearAdSlotWidth=n.offsetWidth,r.linearAdSlotHeight=n.offsetHeight,r.nonLinearAdSlotWidth=n.offsetWidth,r.nonLinearAdSlotHeight=n.offsetHeight,r.forceNonLinearFullSlot=!1,r.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(r)}catch(r){this.onAdError(r)}}),Ut(this,"pollCountdown",(n=!1)=>{if(!n)return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");this.countdownTimer=setInterval(()=>{const r=NL(Math.max(this.manager.getRemainingTime(),0)),i=`${is.get("advertisement",this.player.config)} - ${r}`;this.elements.container.setAttribute("data-badge-text",i)},100)}),Ut(this,"onAdsManagerLoaded",n=>{if(!this.enabled)return;const r=new google.ima.AdsRenderingSettings;r.restoreCustomPlaybackStateOnAdBreakComplete=!0,r.enablePreloading=!0,this.manager=n.getAdsManager(this.player,r),this.cuePoints=this.manager.getCuePoints(),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,i=>this.onAdError(i)),Object.keys(google.ima.AdEvent.Type).forEach(i=>{this.manager.addEventListener(google.ima.AdEvent.Type[i],o=>this.onAdEvent(o))}),this.trigger("loaded")}),Ut(this,"addCuePoints",()=>{ge.empty(this.cuePoints)||this.cuePoints.forEach(n=>{if(n!==0&&n!==-1&&n<this.player.duration){const r=this.player.elements.progress;if(ge.element(r)){const i=100/this.player.duration*n,o=Sn("span",{class:this.player.config.classNames.cues});o.style.left=`${i.toString()}%`,r.appendChild(o)}}})}),Ut(this,"onAdEvent",n=>{const{container:r}=this.player.elements,i=n.getAd(),o=n.getAdData();switch((s=>{Tn.call(this.player,this.player.media,`ads${s.replace(/_/g,"").toLowerCase()}`)})(n.type),n.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),this.pollCountdown(!0),i.isLinear()||(i.width=r.offsetWidth,i.height=r.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:this.manager.setVolume(this.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.player.ended?this.loadAds():this.loader.contentComplete();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.LOG:o.adError&&this.player.debug.warn(`Non-fatal ad error: ${o.adError.getMessage()}`)}}),Ut(this,"onAdError",n=>{this.cancel(),this.player.debug.warn("Ads error",n)}),Ut(this,"listeners",()=>{const{container:n}=this.player.elements;let r;this.player.on("canplay",()=>{this.addCuePoints()}),this.player.on("ended",()=>{this.loader.contentComplete()}),this.player.on("timeupdate",()=>{r=this.player.currentTime}),this.player.on("seeked",()=>{const i=this.player.currentTime;ge.empty(this.cuePoints)||this.cuePoints.forEach((o,s)=>{r<o&&o<i&&(this.manager.discardAdBreak(),this.cuePoints.splice(s,1))})}),window.addEventListener("resize",()=>{this.manager&&this.manager.resize(n.offsetWidth,n.offsetHeight,google.ima.ViewMode.NORMAL)})}),Ut(this,"play",()=>{const{container:n}=this.player.elements;this.managerPromise||this.resumeContent(),this.managerPromise.then(()=>{this.manager.setVolume(this.player.volume),this.elements.displayContainer.initialize();try{this.initialized||(this.manager.init(n.offsetWidth,n.offsetHeight,google.ima.ViewMode.NORMAL),this.manager.start()),this.initialized=!0}catch(r){this.onAdError(r)}}).catch(()=>{})}),Ut(this,"resumeContent",()=>{this.elements.container.style.zIndex="",this.playing=!1,wf(this.player.media.play())}),Ut(this,"pauseContent",()=>{this.elements.container.style.zIndex=3,this.playing=!0,this.player.media.pause()}),Ut(this,"cancel",()=>{this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()}),Ut(this,"loadAds",()=>{this.managerPromise.then(()=>{this.manager&&this.manager.destroy(),this.managerPromise=new Promise(n=>{this.on("loaded",n),this.player.debug.log(this.manager)}),this.initialized=!1,this.requestAds()}).catch(()=>{})}),Ut(this,"trigger",(n,...r)=>{const i=this.events[n];ge.array(i)&&i.forEach(o=>{ge.function(o)&&o.apply(this,r)})}),Ut(this,"on",(n,r)=>(ge.array(this.events[n])||(this.events[n]=[]),this.events[n].push(r),this)),Ut(this,"startSafetyTimer",(n,r)=>{this.player.debug.log(`Safety timer invoked from: ${r}`),this.safetyTimer=setTimeout(()=>{this.cancel(),this.clearSafetyTimer("startSafetyTimer()")},n)}),Ut(this,"clearSafetyTimer",n=>{ge.nullOrUndefined(this.safetyTimer)||(this.player.debug.log(`Safety timer cleared from: ${n}`),clearTimeout(this.safetyTimer),this.safetyTimer=null)}),this.player=t,this.config=t.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise((n,r)=>{this.on("loaded",n),this.on("error",r)}),this.load()}get enabled(){const{config:t}=this;return this.player.isHTML5&&this.player.isVideo&&t.enabled&&(!ge.empty(t.publisherId)||ge.url(t.tagUrl))}get tagUrl(){const{config:t}=this;return ge.url(t.tagUrl)?t.tagUrl:`https://go.aniview.com/api/adserver6/vast/?${G$e({AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:t.publisherId})}`}}function X$e(e=0,t=0,n=255){return Math.min(Math.max(e,t),n)}const $Bt=e=>{const t=[];return e.split(/\r\n\r\n|\n\n|\r\r/).forEach(n=>{const r={};n.split(/\r\n|\n|\r/).forEach(i=>{if(ge.number(r.startTime)){if(!ge.empty(i.trim())&&ge.empty(r.text)){const o=i.trim().split("#xywh=");[r.text]=o,o[1]&&([r.x,r.y,r.w,r.h]=o[1].split(","))}}else{const o=i.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);o&&(r.startTime=60*Number(o[1]||0)*60+60*Number(o[2])+Number(o[3])+ +`0.${o[4]}`,r.endTime=60*Number(o[6]||0)*60+60*Number(o[7])+Number(o[8])+ +`0.${o[9]}`)}}),r.text&&t.push(r)}),t},fhe=(e,t)=>{const n={};return e>t.width/t.height?(n.width=t.width,n.height=1/e*t.width):(n.height=t.height,n.width=e*t.height),n};class qz{constructor(t){Ut(this,"load",()=>{this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),this.enabled&&this.getThumbnails().then(()=>{this.enabled&&(this.render(),this.determineContainerAutoSizing(),this.listeners(),this.loaded=!0)})}),Ut(this,"getThumbnails",()=>new Promise(n=>{const{src:r}=this.player.config.previewThumbnails;if(ge.empty(r))throw new Error("Missing previewThumbnails.src config attribute");const i=()=>{this.thumbnails.sort((o,s)=>o.height-s.height),this.player.debug.log("Preview thumbnails",this.thumbnails),n()};if(ge.function(r))r(o=>{this.thumbnails=o,i()});else{const o=(ge.string(r)?[r]:r).map(s=>this.getThumbnail(s));Promise.all(o).then(i)}})),Ut(this,"getThumbnail",n=>new Promise(r=>{l2(n).then(i=>{const o={frames:$Bt(i),height:null,urlPrefix:""};o.frames[0].text.startsWith("/")||o.frames[0].text.startsWith("http://")||o.frames[0].text.startsWith("https://")||(o.urlPrefix=n.substring(0,n.lastIndexOf("/")+1));const s=new Image;s.onload=()=>{o.height=s.naturalHeight,o.width=s.naturalWidth,this.thumbnails.push(o),r()},s.src=o.urlPrefix+o.frames[0].text})})),Ut(this,"startMove",n=>{if(this.loaded&&ge.event(n)&&["touchmove","mousemove"].includes(n.type)&&this.player.media.duration){if(n.type==="touchmove")this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100);else{var r,i;const o=this.player.elements.progress.getBoundingClientRect(),s=100/o.width*(n.pageX-o.left);this.seekTime=this.player.media.duration*(s/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=n.pageX,this.elements.thumb.time.innerText=NL(this.seekTime);const a=(r=this.player.config.markers)===null||r===void 0||(i=r.points)===null||i===void 0?void 0:i.find(({time:l})=>l===Math.round(this.seekTime));a&&this.elements.thumb.time.insertAdjacentHTML("afterbegin",`${a.label}<br>`)}this.showImageAtCurrentTime()}}),Ut(this,"endMove",()=>{this.toggleThumbContainer(!1,!0)}),Ut(this,"startScrubbing",n=>{(ge.nullOrUndefined(n.button)||n.button===!1||n.button===0)&&(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))}),Ut(this,"endScrubbing",()=>{this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):UQ.call(this.player,this.player.media,"timeupdate",()=>{this.mouseDown||this.toggleScrubbingContainer(!1)})}),Ut(this,"listeners",()=>{this.player.on("play",()=>{this.toggleThumbContainer(!1,!0)}),this.player.on("seeked",()=>{this.toggleThumbContainer(!1)}),this.player.on("timeupdate",()=>{this.lastTime=this.player.media.currentTime})}),Ut(this,"render",()=>{this.elements.thumb.container=Sn("div",{class:this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=Sn("div",{class:this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);const n=Sn("div",{class:this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=Sn("span",{},"00:00"),n.appendChild(this.elements.thumb.time),this.elements.thumb.imageContainer.appendChild(n),ge.element(this.player.elements.progress)&&this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=Sn("div",{class:this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)}),Ut(this,"destroy",()=>{this.elements.thumb.container&&this.elements.thumb.container.remove(),this.elements.scrubbing.container&&this.elements.scrubbing.container.remove()}),Ut(this,"showImageAtCurrentTime",()=>{this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos();const n=this.thumbnails[0].frames.findIndex(o=>this.seekTime>=o.startTime&&this.seekTime<=o.endTime),r=n>=0;let i=0;this.mouseDown||this.toggleThumbContainer(r),r&&(this.thumbnails.forEach((o,s)=>{this.loadedImages.includes(o.frames[n].text)&&(i=s)}),n!==this.showingThumb&&(this.showingThumb=n,this.loadImage(i)))}),Ut(this,"loadImage",(n=0)=>{const r=this.showingThumb,i=this.thumbnails[n],{urlPrefix:o}=i,s=i.frames[r],a=i.frames[r].text,l=o+a;if(this.currentImageElement&&this.currentImageElement.dataset.filename===a)this.showImage(this.currentImageElement,s,n,r,a,!1),this.currentImageElement.dataset.index=r,this.removeOldImages(this.currentImageElement);else{this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null);const u=new Image;u.src=l,u.dataset.index=r,u.dataset.filename=a,this.showingThumbFilename=a,this.player.debug.log(`Loading image: ${l}`),u.onload=()=>this.showImage(u,s,n,r,a,!0),this.loadingImage=u,this.removeOldImages(u)}}),Ut(this,"showImage",(n,r,i,o,s,a=!0)=>{this.player.debug.log(`Showing thumb: ${s}. num: ${o}. qual: ${i}. newimg: ${a}`),this.setImageSizeAndOffset(n,r),a&&(this.currentImageContainer.appendChild(n),this.currentImageElement=n,this.loadedImages.includes(s)||this.loadedImages.push(s)),this.preloadNearby(o,!0).then(this.preloadNearby(o,!1)).then(this.getHigherQuality(i,n,r,s))}),Ut(this,"removeOldImages",n=>{Array.from(this.currentImageContainer.children).forEach(r=>{if(r.tagName.toLowerCase()!=="img")return;const i=this.usingSprites?500:1e3;if(r.dataset.index!==n.dataset.index&&!r.dataset.deleting){r.dataset.deleting=!0;const{currentImageContainer:o}=this;setTimeout(()=>{o.removeChild(r),this.player.debug.log(`Removing thumb: ${r.dataset.filename}`)},i)}})}),Ut(this,"preloadNearby",(n,r=!0)=>new Promise(i=>{setTimeout(()=>{const o=this.thumbnails[0].frames[n].text;if(this.showingThumbFilename===o){let s;s=r?this.thumbnails[0].frames.slice(n):this.thumbnails[0].frames.slice(0,n).reverse();let a=!1;s.forEach(l=>{const u=l.text;if(u!==o&&!this.loadedImages.includes(u)){a=!0,this.player.debug.log(`Preloading thumb filename: ${u}`);const{urlPrefix:c}=this.thumbnails[0],d=c+u,f=new Image;f.src=d,f.onload=()=>{this.player.debug.log(`Preloaded thumb filename: ${u}`),this.loadedImages.includes(u)||this.loadedImages.push(u),i()}}}),a||i()}},300)})),Ut(this,"getHigherQuality",(n,r,i,o)=>{if(n<this.thumbnails.length-1){let s=r.naturalHeight;this.usingSprites&&(s=i.h),s<this.thumbContainerHeight&&setTimeout(()=>{this.showingThumbFilename===o&&(this.player.debug.log(`Showing higher quality thumb for: ${o}`),this.loadImage(n+1))},300)}}),Ut(this,"toggleThumbContainer",(n=!1,r=!1)=>{const i=this.player.config.classNames.previewThumbnails.thumbContainerShown;this.elements.thumb.container.classList.toggle(i,n),!n&&r&&(this.showingThumb=null,this.showingThumbFilename=null)}),Ut(this,"toggleScrubbingContainer",(n=!1)=>{const r=this.player.config.classNames.previewThumbnails.scrubbingContainerShown;this.elements.scrubbing.container.classList.toggle(r,n),n||(this.showingThumb=null,this.showingThumbFilename=null)}),Ut(this,"determineContainerAutoSizing",()=>{(this.elements.thumb.imageContainer.clientHeight>20||this.elements.thumb.imageContainer.clientWidth>20)&&(this.sizeSpecifiedInCSS=!0)}),Ut(this,"setThumbContainerSizeAndPos",()=>{const{imageContainer:n}=this.elements.thumb;if(this.sizeSpecifiedInCSS){if(n.clientHeight>20&&n.clientWidth<20){const r=Math.floor(n.clientHeight*this.thumbAspectRatio);n.style.width=`${r}px`}else if(n.clientHeight<20&&n.clientWidth>20){const r=Math.floor(n.clientWidth/this.thumbAspectRatio);n.style.height=`${r}px`}}else{const r=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio);n.style.height=`${this.thumbContainerHeight}px`,n.style.width=`${r}px`}this.setThumbContainerPos()}),Ut(this,"setThumbContainerPos",()=>{const n=this.player.elements.progress.getBoundingClientRect(),r=this.player.elements.container.getBoundingClientRect(),{container:i}=this.elements.thumb,o=r.left-n.left+10,s=r.right-n.left-i.clientWidth-10,a=this.mousePosX-n.left-i.clientWidth/2,l=X$e(a,o,s);i.style.left=`${l}px`,i.style.setProperty("--preview-arrow-offset",a-l+"px")}),Ut(this,"setScrubbingContainerSize",()=>{const{width:n,height:r}=fhe(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});this.elements.scrubbing.container.style.width=`${n}px`,this.elements.scrubbing.container.style.height=`${r}px`}),Ut(this,"setImageSizeAndOffset",(n,r)=>{if(!this.usingSprites)return;const i=this.thumbContainerHeight/r.h;n.style.height=n.naturalHeight*i+"px",n.style.width=n.naturalWidth*i+"px",n.style.left=`-${r.x*i}px`,n.style.top=`-${r.y*i}px`}),this.player=t,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}get enabled(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}get currentImageContainer(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}get usingSprites(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}get thumbAspectRatio(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}get thumbContainerHeight(){if(this.mouseDown){const{height:t}=fhe(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});return t}return this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}get currentImageElement(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement}set currentImageElement(t){this.mouseDown?this.currentScrubbingImageElement=t:this.currentThumbnailImageElement=t}}const Gz={insertElements(e,t){ge.string(t)?lhe(e,this.media,{src:t}):ge.array(t)&&t.forEach(n=>{lhe(e,this.media,n)})},change(e){L$e(e,"sources.length")?(cg.cancelRequests.call(this),this.destroy.call(this,()=>{this.options.quality=[],up(this.media),this.media=null,ge.element(this.elements.container)&&this.elements.container.removeAttribute("class");const{sources:t,type:n}=e,[{provider:r=Jm.html5,src:i}]=t,o=r==="html5"?n:"div",s=r==="html5"?{}:{src:i};Object.assign(this,{provider:r,type:n,supported:ho.check(n,r,this.config.playsinline),media:Sn(o,s)}),this.elements.container.appendChild(this.media),ge.boolean(e.autoplay)&&(this.config.autoplay=e.autoplay),this.isHTML5&&(this.config.crossorigin&&this.media.setAttribute("crossorigin",""),this.config.autoplay&&this.media.setAttribute("autoplay",""),ge.empty(e.poster)||(this.poster=e.poster),this.config.loop.active&&this.media.setAttribute("loop",""),this.config.muted&&this.media.setAttribute("muted",""),this.config.playsinline&&this.media.setAttribute("playsinline","")),Wr.addStyleHook.call(this),this.isHTML5&&Gz.insertElements.call(this,"source",t),this.config.title=e.title,K$e.setup.call(this),this.isHTML5&&Object.keys(e).includes("tracks")&&Gz.insertElements.call(this,"track",e.tracks),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&Wr.build.call(this),this.isHTML5&&this.media.load(),ge.empty(e.previewThumbnails)||(Object.assign(this.config.previewThumbnails,e.previewThumbnails),this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new qz(this))),this.fullscreen.update()},!0)):this.debug.warn("Invalid source format")}};let Q$e=class Yz{constructor(t,n){if(Ut(this,"play",()=>ge.function(this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then(()=>this.ads.play()).catch(()=>wf(this.media.play())),this.media.play()):null),Ut(this,"pause",()=>this.playing&&ge.function(this.media.pause)?this.media.pause():null),Ut(this,"togglePlay",a=>(ge.boolean(a)?a:!this.playing)?this.play():this.pause()),Ut(this,"stop",()=>{this.isHTML5?(this.pause(),this.restart()):ge.function(this.media.stop)&&this.media.stop()}),Ut(this,"restart",()=>{this.currentTime=0}),Ut(this,"rewind",a=>{this.currentTime-=ge.number(a)?a:this.config.seekTime}),Ut(this,"forward",a=>{this.currentTime+=ge.number(a)?a:this.config.seekTime}),Ut(this,"increaseVolume",a=>{const l=this.media.muted?0:this.volume;this.volume=l+(ge.number(a)?a:0)}),Ut(this,"decreaseVolume",a=>{this.increaseVolume(-a)}),Ut(this,"airplay",()=>{ho.airplay&&this.media.webkitShowPlaybackTargetPicker()}),Ut(this,"toggleControls",a=>{if(this.supported.ui&&!this.isAudio){const l=zM(this.elements.container,this.config.classNames.hideControls),u=a===void 0?void 0:!a,c=$r(this.elements.container,this.config.classNames.hideControls,u);if(c&&ge.array(this.config.controls)&&this.config.controls.includes("settings")&&!ge.empty(this.config.settings)&&Lt.toggleMenu.call(this,!1),c!==l){const d=c?"controlshidden":"controlsshown";Tn.call(this,this.media,d)}return!c}return!1}),Ut(this,"on",(a,l)=>{br.call(this,this.elements.container,a,l)}),Ut(this,"once",(a,l)=>{UQ.call(this,this.elements.container,a,l)}),Ut(this,"off",(a,l)=>{PL(this.elements.container,a,l)}),Ut(this,"destroy",(a,l=!1)=>{if(!this.ready)return;const u=()=>{document.body.style.overflow="",this.embed=null,l?(Object.keys(this.elements).length&&(up(this.elements.buttons.play),up(this.elements.captions),up(this.elements.controls),up(this.elements.wrapper),this.elements.buttons.play=null,this.elements.captions=null,this.elements.controls=null,this.elements.wrapper=null),ge.function(a)&&a()):(dBt.call(this),cg.cancelRequests.call(this),jM(this.elements.original,this.elements.container),Tn.call(this,this.elements.original,"destroyed",!0),ge.function(a)&&a.call(this.elements.original),this.ready=!1,setTimeout(()=>{this.elements=null,this.media=null},200))};this.stop(),clearTimeout(this.timers.loading),clearTimeout(this.timers.controls),clearTimeout(this.timers.resized),this.isHTML5?(Wr.toggleNativeControls.call(this,!0),u()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),this.embed!==null&&ge.function(this.embed.destroy)&&this.embed.destroy(),u()):this.isVimeo&&(this.embed!==null&&this.embed.unload().then(u),setTimeout(u,200))}),Ut(this,"supports",a=>ho.mime.call(this,a)),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=ho.touch,this.media=t,ge.string(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||ge.nodeList(this.media)||ge.array(this.media))&&(this.media=this.media[0]),this.config=co({},Y$e,Yz.defaults,n||{},(()=>{try{return JSON.parse(this.media.getAttribute("data-plyr-config"))}catch{return{}}})()),this.elements={container:null,fullscreen:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new EBt(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",ho),ge.nullOrUndefined(this.media)||!ge.element(this.media))return void this.debug.error("Setup failed: no suitable element passed");if(this.media.plyr)return void this.debug.warn("Target already setup");if(!this.config.enabled)return void this.debug.error("Setup failed: disabled by config");if(!ho.check().api)return void this.debug.error("Setup failed: no support");const r=this.media.cloneNode(!0);r.autoplay=!1,this.elements.original=r;const i=this.media.tagName.toLowerCase();let o=null,s=null;switch(i){case"div":if(o=this.media.querySelector("iframe"),ge.element(o)){if(s=q$e(o.getAttribute("src")),this.provider=_Bt(s.toString()),this.elements.container=this.media,this.media=o,this.elements.container.className="",s.search.length){const a=["1","true"];a.includes(s.searchParams.get("autoplay"))&&(this.config.autoplay=!0),a.includes(s.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=a.includes(s.searchParams.get("playsinline")),this.config.youtube.hl=s.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(ge.empty(this.provider)||!Object.values(Jm).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=d8.video;break;case"video":case"audio":this.type=i,this.provider=Jm.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=ho.check(this.type,this.provider),this.supported.api?(this.eventListeners=[],this.listeners=new SBt(this),this.storage=new SC(this),this.media.plyr=this,ge.element(this.elements.container)||(this.elements.container=Sn("div"),F$e(this.media,this.elements.container)),Wr.migrateStyles.call(this),Wr.addStyleHook.call(this),K$e.setup.call(this),this.config.debug&&br.call(this,this.elements.container,this.config.events.join(" "),a=>{this.debug.log(`event: ${a.type}`)}),this.fullscreen=new Kc(this),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&Wr.build.call(this),this.listeners.container(),this.listeners.global(),this.config.ads.enabled&&(this.ads=new DBt(this)),this.isHTML5&&this.config.autoplay&&this.once("canplay",()=>wf(this.play())),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new qz(this))):this.debug.error("Setup failed: no support")}get isHTML5(){return this.provider===Jm.html5}get isEmbed(){return this.isYouTube||this.isVimeo}get isYouTube(){return this.provider===Jm.youtube}get isVimeo(){return this.provider===Jm.vimeo}get isVideo(){return this.type===d8.video}get isAudio(){return this.type===d8.audio}get playing(){return!!(this.ready&&!this.paused&&!this.ended)}get paused(){return!!this.media.paused}get stopped(){return!!(this.paused&&this.currentTime===0)}get ended(){return!!this.media.ended}set currentTime(t){if(!this.duration)return;const n=ge.number(t)&&t>0;this.media.currentTime=n?Math.min(t,this.duration):0,this.debug.log(`Seeking to ${this.currentTime} seconds`)}get currentTime(){return Number(this.media.currentTime)}get buffered(){const{buffered:t}=this.media;return ge.number(t)?t:t&&t.length&&this.duration>0?t.end(0)/this.duration:0}get seeking(){return!!this.media.seeking}get duration(){const t=parseFloat(this.config.duration),n=(this.media||{}).duration,r=ge.number(n)&&n!==1/0?n:0;return t||r}set volume(t){let n=t;ge.string(n)&&(n=Number(n)),ge.number(n)||(n=this.storage.get("volume")),ge.number(n)||({volume:n}=this.config),n>1&&(n=1),n<0&&(n=0),this.config.volume=n,this.media.volume=n,!ge.empty(t)&&this.muted&&n>0&&(this.muted=!1)}get volume(){return Number(this.media.volume)}set muted(t){let n=t;ge.boolean(n)||(n=this.storage.get("muted")),ge.boolean(n)||(n=this.config.muted),this.config.muted=n,this.media.muted=n}get muted(){return!!this.media.muted}get hasAudio(){return!this.isHTML5||!!this.isAudio||!!this.media.mozHasAudio||!!this.media.webkitAudioDecodedByteCount||!!(this.media.audioTracks&&this.media.audioTracks.length)}set speed(t){let n=null;ge.number(t)&&(n=t),ge.number(n)||(n=this.storage.get("speed")),ge.number(n)||(n=this.config.speed.selected);const{minimumSpeed:r,maximumSpeed:i}=this;n=X$e(n,r,i),this.config.speed.selected=n,setTimeout(()=>{this.media&&(this.media.playbackRate=n)},0)}get speed(){return Number(this.media.playbackRate)}get minimumSpeed(){return this.isYouTube?Math.min(...this.options.speed):this.isVimeo?.5:.0625}get maximumSpeed(){return this.isYouTube?Math.max(...this.options.speed):this.isVimeo?2:16}set quality(t){const n=this.config.quality,r=this.options.quality;if(!r.length)return;let i=[!ge.empty(t)&&Number(t),this.storage.get("quality"),n.selected,n.default].find(ge.number),o=!0;if(!r.includes(i)){const s=B$e(r,i);this.debug.warn(`Unsupported quality option: ${i}, using ${s} instead`),i=s,o=!1}n.selected=i,this.media.quality=i,o&&this.storage.set({quality:i})}get quality(){return this.media.quality}set loop(t){const n=ge.boolean(t)?t:this.config.loop.active;this.config.loop.active=n,this.media.loop=n}get loop(){return!!this.media.loop}set source(t){Gz.change.call(this,t)}get source(){return this.media.currentSrc}get download(){const{download:t}=this.config.urls;return ge.url(t)?t:this.source}set download(t){ge.url(t)&&(this.config.urls.download=t,Lt.setDownloadUrl.call(this))}set poster(t){this.isVideo?Wr.setPoster.call(this,t,!1).catch(()=>{}):this.debug.warn("Poster can only be set for video")}get poster(){return this.isVideo?this.media.getAttribute("poster")||this.media.getAttribute("data-poster"):null}get ratio(){if(!this.isVideo)return null;const t=UM(HQ.call(this));return ge.array(t)?t.join(":"):t}set ratio(t){this.isVideo?ge.string(t)&&z$e(t)?(this.config.ratio=UM(t),lx.call(this)):this.debug.error(`Invalid aspect ratio specified (${t})`):this.debug.warn("Aspect ratio can only be set for video")}set autoplay(t){this.config.autoplay=ge.boolean(t)?t:this.config.autoplay}get autoplay(){return!!this.config.autoplay}toggleCaptions(t){xr.toggle.call(this,t,!1)}set currentTrack(t){xr.set.call(this,t,!1),xr.setup.call(this)}get currentTrack(){const{toggled:t,currentTrack:n}=this.captions;return t?n:-1}set language(t){xr.setLanguage.call(this,t,!1)}get language(){return(xr.getCurrentTrack.call(this)||{}).language}set pip(t){if(!ho.pip)return;const n=ge.boolean(t)?t:!this.pip;ge.function(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(n?c8.active:c8.inactive),ge.function(this.media.requestPictureInPicture)&&(!this.pip&&n?this.media.requestPictureInPicture():this.pip&&!n&&document.exitPictureInPicture())}get pip(){return ho.pip?ge.empty(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===c8.active:null}setPreviewThumbnails(t){this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),Object.assign(this.config.previewThumbnails,t),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new qz(this))}static supported(t,n){return ho.check(t,n)}static loadSprite(t,n){return V$e(t,n)}static setup(t,n={}){let r=null;return ge.string(t)?r=Array.from(document.querySelectorAll(t)):ge.nodeList(t)?r=Array.from(t):ge.array(t)&&(r=t.filter(ge.element)),ge.empty(r)?null:r.map(i=>new Yz(i,n))}};Q$e.defaults=aBt(Y$e);function MBt(e,t,n=[]){const[r,i]=H.useState(null),o=H.useRef(null),{instantiate:s,destroy:a,getAPI:l,params:u}=t;H.useEffect(()=>{const d=s(o.current,u);return i(d),()=>{a&&a(d,u)}},n);const c=H.useMemo(()=>l(r,u),[r]);return H.useImperativeHandle(e,c,[c]),o}const PBt={},NBt=(e,t)=>{const n=new Q$e(".plyr-react",t.options||{});return t.source&&(n.source=t.source),n},OBt=e=>{e&&e.destroy()},LBt=()=>{},FBt=e=>e?()=>({plyr:e}):()=>new Proxy({plyr:{source:null}},{get:(t,n)=>n==="plyr"?t[n]:LBt});function J$e(e,t,n=null){return MBt(e,{instantiate:NBt,getAPI:FBt,destroy:OBt,params:t},n||[t.options,t.source])}const h8=H.forwardRef((e,t)=>{const{source:n,options:r=null,...i}=e,o=J$e(t,{source:n,options:r});return $.jsx("video",{ref:o,className:"plyr-react plyr",...i})});(PBt&&"production")!=="production"&&(h8.displayName="Plyr",h8.defaultProps={options:{controls:["rewind","play","fast-forward","progress","current-time","duration","mute","volume","settings","fullscreen"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop"}},source:{type:"video",sources:[{src:"https://cdn.plyr.io/static/blank.mp4",type:"video/mp4",size:720},{src:"https://cdn.plyr.io/static/blank.mp4",type:"video/mp4",size:1080}]}},h8.propTypes={options:yD.object,source:yD.any});const BBt=H.forwardRef((e,t)=>{const{source:n,options:r=null,endedCallback:i,errorCallback:o}=e,s=J$e(t,{options:r,source:n});return H.useEffect(()=>{const{current:a}=t;a.plyr.source!==null&&(a.plyr.on("ended",i),a.plyr.on("error",o))}),$.jsx("video",{ref:s,className:"plyr-react plyr"})});function jBt({currentConfig:e}){const t=H.useMemo(()=>e.path.startsWith("http")?e.path:`${ji}${e.path}`,[e.path]),[n,r]=H.useState(!0),[i,o]=H.useState(!1);H.useEffect(()=>{async function m(){if(t.startsWith("http"))o(!0);else{const g=await wN(t);o(!!g)}r(!1)}m()},[t]);const s=H.useMemo(()=>t.includes("youtube")?[{src:t,provider:"youtube"}]:t.includes("vimeo")?[{src:t,provider:"vimeo"}]:[{src:t,type:"video/mp4"}],[t]),a=H.useMemo(()=>({controls:[e.forceCompletion!==!1?"play-large":"play","current-time",...e.withTimeline?["progress"]:[],"volume","fullscreen"]}),[e.forceCompletion,e.withTimeline]),l=uh(),u=Uu(),c=Zs(),{updateResponseBlockValidation:d}=ys();H.useEffect(()=>{e.forceCompletion&&c(d({location:"stimulus",identifier:`${l}_${u}`,status:!1,values:{}}))},[l,e.forceCompletion,u,c,d]);const f=H.useCallback(()=>{e.forceCompletion&&c(d({location:"stimulus",identifier:`${l}_${u}`,status:!0,values:{}}))},[l,e.forceCompletion,u,c,d]),h=H.useCallback(()=>{o(!1)},[]),p=H.useRef(null);return n||i?$.jsx(De,{mb:"md",children:$.jsx(BBt,{ref:p,source:{type:"video",sources:s},options:a,endedCallback:f,errorCallback:h})}):$.jsx(Op,{path:e.path})}function zBt(){const e=qf(),t=Uu(),n=uh(),r=e.components[n],{storageEngine:i}=Zi(),o=mr(N=>N.answers),s=H.useRef(null),[a,l]=H.useState(null),{setIsRecording:u}=ys(),c=mr(N=>N.analysisProvState.stimulus),d=Gx(),f=uq(),h=mr(N=>N.sequence),[p]=sh(),m=mr(N=>N.participantId),g=H.useMemo(()=>p.get("participantId"),[p]);__e();const y=Zs(),{setAlertModal:v}=ys();H.useEffect(()=>{(i==null?void 0:i.getEngine())!=="firebase"&&y(v({show:!0,message:"There was an issue connecting to the firebase database. This could be caused by a network issue or your adblocker. If you are using an adblocker, please disable it for this website and refresh."}))},[v,i,y]),H.useEffect(()=>{!e||!e.uiConfig.recordStudyAudio||!i||i.getEngine()!=="firebase"||f&&f.endTime>0||d||(s.current&&a&&i.saveAudio(s.current,a),s.current&&(s.current.stream.getTracks().forEach(N=>{var M;N.stop(),(M=s.current)==null||M.stream.removeTrack(N)}),s.current.stream.getAudioTracks().forEach(N=>{var M;N.stop(),(M=s.current)==null||M.stream.removeTrack(N)}),s.current.stop(),s.current=null),r&&r.recordAudio!==void 0&&!r.recordAudio||n==="end"?(l(null),y(u(!1))):navigator.mediaDevices.getUserMedia({audio:!0}).then(N=>{const M=new MediaRecorder(N);s.current=M,s.current.start(),y(u(!0)),l(`${n}_${t}`)}))},[n,t]);const[w,E]=H.useState([]),_=H.useRef([]);H.useEffect(()=>{async function N(){var D;const I=((D=oq(h,t))==null?void 0:D.map(R=>R.currentBlock.id).filter(R=>R!==void 0))||[];E(I)}async function M(){const I=_.current;JSON.stringify(I)!==JSON.stringify(w)&&w.length>0&&i&&await i.addParticipantTags(w),_.current=w}N().then(M)},[t,i,h]);const x=eb(),S=H.useMemo(()=>{var M,I;const N=n&&n!=="end"&&!n.startsWith("__")&&Pf(r,e);if(typeof N=="object"){const D=(M=o[x])==null?void 0:M.parameters,R=(I=o[x])==null?void 0:I.correctAnswer;return{...N,parameters:D||N.parameters||void 0,correctAnswer:R||N.correctAnswer||void 0}}return N},[o,n,x,r,e]);if(n==="end")return $.jsx(odt,{});if(n==="__dynamicLoading")return null;if(n==="__trainingFailed")return $.jsx(sdt,{});if(n==="__timedOut")return $.jsx(adt,{});if(n==="Notfound")return $.jsx(Op,{email:e.uiConfig.contactEmail});if(g&&m!==g)return $.jsx(mc,{style:{height:"80vh"},children:$.jsx(oh,{})});const C=S.instruction||"",{instructionLocation:A}=S,k=e.uiConfig.sidebar&&(A==="sidebar"||A===void 0);return $.jsxs($.Fragment,{children:[A==="aboveStimulus"&&$.jsx(Xs,{text:C}),$.jsx(a$,{status:f,config:S,location:"aboveStimulus"},`${t}-above-response-block`),$.jsxs(H.Suspense,{fallback:$.jsx("div",{children:"Loading..."}),children:[S.type==="markdown"&&$.jsx(Yct,{currentConfig:S}),S.type==="website"&&$.jsx(Uct,{currentConfig:S,provState:c,answers:o}),S.type==="image"&&$.jsx(Wct,{currentConfig:S}),S.type==="react-component"&&$.jsx(Gct,{currentConfig:S,provState:c,answers:o}),S.type==="vega"&&$.jsx(A6t,{currentConfig:S,provState:c}),S.type==="video"&&$.jsx(jBt,{currentConfig:S})]},`${t}-stimulus`),(A==="belowStimulus"||A===void 0&&!k)&&$.jsx(Xs,{text:C}),$.jsx(a$,{status:f,config:S,location:"belowStimulus"},`${t}-below-response-block`)]})}function Z$e(e){const[t]=sh();return $.jsx(XH,{...e,to:{pathname:e.to,search:t.toString()}})}var p8,hhe;function UBt(){if(hhe)return p8;hhe=1;var e="Expected a function",t=NaN,n="[object Symbol]",r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt,l=typeof Ur=="object"&&Ur&&Ur.Object===Object&&Ur,u=typeof self=="object"&&self&&self.Object===Object&&self,c=l||u||Function("return this")(),d=Object.prototype,f=d.toString,h=Math.max,p=Math.min,m=function(){return c.Date.now()};function g(_,x,S){var C,A,k,N,M,I,D=0,R=!1,O=!1,B=!0;if(typeof _!="function")throw new TypeError(e);x=E(x)||0,y(S)&&(R=!!S.leading,O="maxWait"in S,k=O?h(E(S.maxWait)||0,x):k,B="trailing"in S?!!S.trailing:B);function z(oe){var ne=C,ie=A;return C=A=void 0,D=oe,N=_.apply(ie,ne),N}function W(oe){return D=oe,M=setTimeout(Y,x),R?z(oe):N}function U(oe){var ne=oe-I,ie=oe-D,fe=x-ne;return O?p(fe,k-ie):fe}function F(oe){var ne=oe-I,ie=oe-D;return I===void 0||ne>=x||ne<0||O&&ie>=k}function Y(){var oe=m();if(F(oe))return V(oe);M=setTimeout(Y,U(oe))}function V(oe){return M=void 0,B&&C?z(oe):(C=A=void 0,N)}function G(){M!==void 0&&clearTimeout(M),D=0,C=I=A=M=void 0}function X(){return M===void 0?N:V(m())}function Z(){var oe=m(),ne=F(oe);if(C=arguments,A=this,I=oe,ne){if(M===void 0)return W(I);if(O)return M=setTimeout(Y,x),z(I)}return M===void 0&&(M=setTimeout(Y,x)),N}return Z.cancel=G,Z.flush=X,Z}function y(_){var x=typeof _;return!!_&&(x=="object"||x=="function")}function v(_){return!!_&&typeof _=="object"}function w(_){return typeof _=="symbol"||v(_)&&f.call(_)==n}function E(_){if(typeof _=="number")return _;if(w(_))return t;if(y(_)){var x=typeof _.valueOf=="function"?_.valueOf():_;_=y(x)?x+"":x}if(typeof _!="string")return _===0?_:+_;_=_.replace(r,"");var S=o.test(_);return S||s.test(_)?a(_.slice(2),S?2:8):i.test(_)?t:+_}return p8=g,p8}var HBt=UBt();const of=ul(HBt);function eMe(e,t,n,r){let i=0;for(let o=0;o<e.components.length;o+=1){const s=e.components[o];if(typeof s=="string"){if(r===e.orderPath&&s===t&&o>=n)break;i+=1}else if(s.order==="dynamic"?i+=1:i+=eMe(s,t,n,r),r.includes(s.orderPath))break}return i}function tMe(e,t){let n=0;return t.components.forEach(r=>{var i;if(typeof r=="string"&&((i=e.interruptions)!=null&&i.flatMap(o=>o.components).includes(r)))n+=1;else if(typeof r!="string"){const o=e.components.find(s=>typeof s!="string"&&s.orderPath===r.orderPath);n+=tMe(o,r)}}),n}function VBt(e,t){const n=[];return t.forEach(r=>{const i=e.findIndex(o=>typeof o=="string"?o===r:typeof r!="string"&&o.orderPath===r.orderPath);i!==-1&&(n.push(e[i]),e.splice(i,1)),i===-1&&typeof r=="string"&&n.push(r)}),e&&n.push(...e),n}function WBt({step:e,disabled:t,fullSequence:n,startIndex:r,interruption:i,participantView:o,studyConfig:s,subSequence:a,analysisNavigation:l,parentBlock:u,parentActive:c,answers:d}){const f=Jp(),h=zu(),p=Uu(),m=s.components[e]&&Pf(s.components[e],s),g=a&&a.components.slice(r).includes(e)?eMe(n,e,r,a.orderPath):-1,{trialId:y,funcIndex:v,analysisTab:w}=Da(),[E]=sh(),_=H.useMemo(()=>E.get("participantId"),[E]),x=w?[]:Qv(),S=y===e,C=c&&u&&v?r===ov(v):!1,A=o?p===g||C:p===`reviewer-${e}`,k=l?S:A,N=y?`./../${e}`:`./${e}`,M=u.order==="dynamic"?`/${f}/${jo(x.indexOf(u.id))}/${jo(r)}`:"",I=o?u.order==="dynamic"?M:`/${f}/${jo(g)}`:`/${f}/reviewer-${e}`,D=l?()=>h(N):()=>h(`${I}${_?`?participantId=${_}`:""}`),R=e.includes(".co.")?".co.":e.includes(".components.")?".components.":!1,O=e.includes("$")&&R&&e.includes(R)?e.split(R).at(-1):e,B=u.order==="dynamic"?Object.entries(d).find(([F,Y])=>F===`${u.id}_${x.indexOf(u.id)}_${O}_${r}`):Object.entries(d).find(([F,Y])=>F===`${O}_${r}`),z=B?B[1]:null,W=z&&z.correctAnswer.length>0&&Object.keys(z.answer).length>0&&z.correctAnswer,U=W&&z&&Object.values(W).every(F=>z.answer[F.id]===F.answer);return $.jsxs(Py,{withinPortal:!0,position:"left",withArrow:!0,arrowSize:10,shadow:"md",offset:0,children:[$.jsx(Py.Target,{children:$.jsx(xP,{active:k,style:{lineHeight:"32px",height:"32px"},label:$.jsxs(De,{children:[i&&$.jsx(G7e,{size:16,style:{marginRight:4,marginBottom:-2},color:"orange"}),e!==O&&$.jsx(lze,{size:16,style:{marginRight:4,marginBottom:-2},color:"blue"}),z&&W?U?$.jsx(jC,{size:16,style:{marginRight:4,marginBottom:-2},color:"green"}):$.jsx(Ax,{size:16,style:{marginRight:4,marginBottom:-2},color:"red"}):null,$.jsx(it,{size:"sm",span:k,fw:k?"700":void 0,display:"inline",style:{textWrap:"nowrap"},children:O})]}),onClick:D,disabled:t&&u.order!=="dynamic"})}),m&&$.jsx(Py.Dropdown,{children:$.jsxs(De,{mah:700,style:{overflow:"auto"},children:[$.jsxs(De,{children:[$.jsx(it,{fw:900,display:"inline-block",mr:2,children:"Name:"})," ",$.jsx(it,{fw:400,component:"span",children:O})]}),m.description&&$.jsxs(De,{children:[$.jsx(it,{fw:900,display:"inline-block",mr:2,children:"Description:"})," ",$.jsx(it,{fw:400,component:"span",children:m.description})]}),("parameters"in m||z)&&$.jsxs(De,{children:[$.jsx(it,{fw:900,display:"inline-block",mr:2,children:"Parameters:"})," ",$.jsx(Zh,{block:!0,children:z&&JSON.stringify(Object.keys(z).length>0?z.parameters:"parameters"in m?m.parameters:{},null,2)})]}),$.jsxs(De,{children:[$.jsx(it,{fw:900,display:"inline-block",mr:2,children:"Response:"})," ",$.jsx(Zh,{block:!0,children:JSON.stringify(m.response,null,2)})]}),m.correctAnswer&&$.jsxs(De,{children:[$.jsx(it,{fw:900,display:"inline-block",mr:2,children:"Correct Answer:"})," ",$.jsx(Zh,{block:!0,children:JSON.stringify(m.correctAnswer,null,2)})]}),m.meta&&$.jsxs(De,{children:[$.jsx(it,{fw:"900",component:"span",children:"Task Meta: "}),$.jsx(Zh,{block:!0,children:JSON.stringify(m.meta,null,2)})]})]})})]})}function HM({configSequence:e,fullSequence:t,participantSequence:n,participantView:r,studyConfig:i,analysisNavigation:o}){var S;let s=structuredClone(e.components);n&&r&&(s=VBt(structuredClone(e.components),structuredClone(n.components)));const{analysisTab:a}=Da();let l={};a||(l=mr(C=>C.answers)),r||(s=[...((S=e.interruptions)==null?void 0:S.flatMap(C=>C.components))||[],...s||[]]);const u=H.useMemo(()=>n?Og(n).length-tMe(e,n):0,[e,n]),c=H.useMemo(()=>Og(e),[e]),[d,f]=H.useState(u>0),[h]=sh(),p=H.useMemo(()=>h.get("participantId"),[h]),m=Uu(),g=a?[]:Qv(),y=typeof m=="number"&&e.order==="dynamic"&&g[m]===e.id,v=e.id&&g.indexOf(e.id)||-1,w=Jp(),E=zu(),_=()=>E(`/${w}/${jo(v)}/${jo(0)}${p?`?participantId=${p}`:""}`),x=[...s,...Object.entries(l).filter(([C,A])=>C.startsWith(`${e.id}_${v}_`)).map(([C,A])=>A.componentName)];return $.jsx(xP,{active:y,label:$.jsxs(De,{style:{opacity:u>0?1:.5},children:[$.jsx(it,{size:"sm",display:"inline",fw:y?900:700,children:e.id?e.id:e.order}),e.order==="random"||e.order==="latinSquare"?$.jsx(vi,{label:e.order,position:"right",withArrow:!0,children:$.jsx(W7e,{size:"15",opacity:.5,style:{marginLeft:"5px",verticalAlign:"middle"}})}):null,r&&$.jsx(pd,{ml:5,variant:"light",children:e.order==="dynamic"?`${Object.keys(l).filter(C=>C.startsWith(`${e.id}_`)).length} / ?`:`${u}/${c.length}`}),r&&e.interruptions&&$.jsx(pd,{ml:5,color:"orange",variant:"light",children:(n==null?void 0:n.components.filter(C=>{var A;return typeof C=="string"&&((A=e.interruptions)==null?void 0:A.flatMap(k=>k.components).includes(C))}).length)||0})]}),opened:d,onClick:()=>e.order==="dynamic"&&!o&&r?_():f(!d),childrenOffset:32,style:{lineHeight:"32px",height:"32px"},children:d?$.jsx(De,{style:{borderLeft:"1px solid #e9ecef"},children:x.map((C,A)=>{if(typeof C=="string")return $.jsx(WBt,{step:C,disabled:r&&(n==null?void 0:n.components[A])!==C,fullSequence:t,startIndex:A,interruption:e.interruptions&&e.interruptions.findIndex(N=>N.components.includes(C))>-1||!1,participantView:r,studyConfig:i,subSequence:n,analysisNavigation:o,parentBlock:e,parentActive:y,answers:l},A);const k=n==null?void 0:n.components.find(N=>typeof N!="string"&&N.orderPath===C.orderPath);return $.jsx(HM,{configSequence:C,participantSequence:k,fullSequence:t,participantView:r,studyConfig:i,analysisNavigation:o},A)})}):null},e.id)}function nMe(e,t,n,r){e==null||e.nextParticipant().then(()=>{window.location.href=r}).catch(i=>{console.error(i)})}function phe({text:e}){return $.jsx(vi,{label:e,multiline:!0,w:200,style:{whiteSpace:"normal"},withinPortal:!0,position:"bottom",children:$.jsx(tV,{size:16,style:{marginBottom:-3,marginLeft:4}})})}function qBt(){const e=mr(p=>p.sequence),t=mr(p=>p.metadata),{toggleStudyBrowser:n}=ys(),r=Xv(),i=qf(),o=Zs(),s=Jp(),a=GH(`/${s}`),{storageEngine:l}=Zi(),u=Gx(),c=H.useMemo(()=>{let p=structuredClone(i.sequence);return p=sq(p,"root"),p.components.push("end"),p},[i.sequence]),[d,f]=H.useState("participant"),h=H.useMemo(()=>d==="allTrials"||u,[d,u]);return $.jsxs(qr.Aside,{p:"0",children:[$.jsx(qr.Section,{p:"md",children:$.jsxs(Kt,{direction:"row",justify:"space-between",children:[$.jsx(it,{size:"md",fw:700,pt:3,children:"Study Browser"}),$.jsx(vi,{label:"Go to the sequence of the next participant in the experiment. Sequences can be different between participants due to randomization, etc.",w:280,multiline:!0,disabled:h,children:$.jsx(gn,{variant:"light",leftSection:$.jsx(nV,{size:14}),onClick:()=>nMe(l,i,t,a),size:"xs",disabled:h,children:"Next Participant"})}),$.jsx(i0,{onClick:()=>o(n()),mt:1})]})}),$.jsx(qr.Section,{grow:!0,component:Cp,p:"md",children:$.jsxs(sr,{value:d,onChange:f,children:[$.jsx(De,{style:{position:"sticky",top:0,backgroundColor:r?"":"white",zIndex:1},children:$.jsxs(sr.List,{grow:!0,children:[$.jsxs(sr.Tab,{value:"participant",children:["Participant View",$.jsx(phe,{text:"The Participants View shows items just as a participants would see them, considering randomization, omissions, etc. You can navigate between multiple participants using the next participant button."})]}),$.jsxs(sr.Tab,{value:"allTrials",disabled:u,children:["All Trials View",$.jsx(phe,{text:"The All Trials View shows all items in the order defined in the config."})]})]})}),$.jsx(sr.Panel,{value:"participant",children:$.jsx(HM,{configSequence:c,participantSequence:e,fullSequence:e,participantView:!0,studyConfig:i})}),$.jsx(sr.Panel,{value:"allTrials",children:$.jsx(HM,{configSequence:c,participantSequence:e,fullSequence:e,participantView:!1,studyConfig:i})})]})})]})}function GBt({studyNavigatorEnabled:e,dataCollectionEnabled:t}){const n=mr(k=>k.config),r=mr(k=>k.metadata),i=mr(k=>k.answers),o=Qv(),s=Zs(),{toggleShowHelpText:a,toggleStudyBrowser:l,incrementHelpCounter:u}=ys(),{storageEngine:c}=Zi(),d=uh(),f=Uu(),h=H.useMemo(()=>{const k=Object.values(i).filter(M=>M.endTime>-1).length,N=o.map((M,I)=>n.components[M]?1:typeof f=="number"&&f<=I&&M!=="end"?55:Object.entries(i).filter(([D,R])=>D.includes(`${M}_`)).length).reduce((M,I)=>M+I,0);return k/N*100},[i,f,o,n.components]),[p,m]=H.useState(!1),g=n==null?void 0:n.uiConfig.logoPath,y=n==null?void 0:n.uiConfig.withProgressBar,v=Jp(),w=GH(`/${v}`),E=H.useRef(null),[_,x]=H.useState(!1),S=mr(k=>k.isRecording);H.useEffect(()=>{const k=E.current;k&&x(k.scrollWidth>k.offsetWidth)},[n]);const{colorScheme:C,setColorScheme:A}=hme();return $.jsx(qr.Header,{p:"md",children:$.jsxs(xf,{mt:-7,align:"center",children:[$.jsx(xf.Col,{span:4,children:$.jsxs(Kt,{align:"center",children:[$.jsx(a0,{w:40,src:`${ji}${g}`,alt:"Study Logo"}),$.jsx(Eu,{w:"md"}),$.jsx(Ki,{ref:E,order:4,style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},title:_?n==null?void 0:n.studyMetadata.title:void 0,children:n==null?void 0:n.studyMetadata.title})]})}),$.jsx(xf.Col,{span:4,children:y&&$.jsx(xx,{radius:"md",size:"lg",value:h})}),$.jsx(xf.Col,{span:4,children:$.jsxs(ri,{wrap:"nowrap",justify:"right",children:[S?$.jsxs(ri,{ml:"xl",gap:20,wrap:"nowrap",children:[$.jsx(it,{color:"red",children:"Recording audio"}),$.jsx(Uxe,{})]}):null,!t&&$.jsx(vi,{multiline:!0,withArrow:!0,arrowSize:6,w:300,label:"This is a demo version of the study, were not collecting any data.",children:$.jsx(pd,{size:"lg",color:"orange",children:"Demo Mode"})}),$.jsx(dg,{color:"dark.4",size:"md",checked:C==="dark",onLabel:$.jsx(yze,{size:16,stroke:2.5,color:"var(--mantine-color-yellow-4)"}),offLabel:$.jsx(sze,{size:16,stroke:2.5,color:"var(--mantine-color-blue-6)"}),onChange:k=>A(k.currentTarget.checked?"dark":"light")}),(n==null?void 0:n.uiConfig.helpTextPath)!==void 0&&$.jsx(gn,{variant:"outline",onClick:()=>{s(a()),s(u({identifier:`${d}_${f}`}))},children:"Help"}),$.jsxs(Os,{shadow:"md",width:200,withinPortal:!0,opened:p,onChange:m,children:[$.jsx(Os.Target,{children:$.jsx(r0,{size:"lg",className:"studyBrowserMenuDropdown",variant:"subtle",color:"gray",children:$.jsx(eze,{})})}),$.jsxs(Os.Dropdown,{children:[e&&$.jsx(Os.Item,{leftSection:$.jsx(hze,{size:14}),onClick:()=>s(l()),children:"Study Browser"}),$.jsx(Os.Item,{component:"a",href:n!==null?`mailto:${n.uiConfig.contactEmail}`:void 0,leftSection:$.jsx(oze,{size:14}),children:"Contact"}),e&&$.jsx(Os.Item,{leftSection:$.jsx(nV,{size:14}),onClick:()=>nMe(c,n,r,w),children:"Next Participant"}),e&&$.jsx(Os.Item,{leftSection:$.jsx(dye,{size:14}),component:"a",href:`${ji}analysis/stats/${v}`,children:"Analyze & Manage"})]})]})]})})]})})}function YBt(){var u;const e=(u=qf())==null?void 0:u.uiConfig.sidebar,t=qf(),n=uh(),r=t.components[n],i=H.useMemo(()=>r?Pf(r,t):null,[r,t]),o=Xv(),s=uq(),a=(i==null?void 0:i.instruction)||"",l=(i==null?void 0:i.instructionLocation)==="sidebar"||(i==null?void 0:i.instructionLocation)===void 0;return e&&i?$.jsxs(qr.Navbar,{bg:o?"":"gray.1",display:"block",style:{zIndex:0,overflowY:"scroll"},children:[l&&a!==""&&$.jsxs(qr.Section,{bg:o?"":"gray.3",p:"md",children:[$.jsx(it,{span:!0,c:"orange.8",fw:700,inherit:!0,children:"Task:"}),$.jsx(Xs,{text:a})]}),$.jsx(qr.Section,{p:"md",children:$.jsx(a$,{status:s,config:i,location:"sidebar"},`${n}-sidebar-response-block`)})]}):$.jsx(qr.Navbar,{bg:o?"":"gray.1",display:"block",style:{zIndex:0,overflowY:"scroll"},children:$.jsx(a$,{status:s,config:i,location:"sidebar",style:{display:"hidden"}},`${n}-sidebar-response-block`)})}function KBt(){const e=mr(d=>d.showHelpText),t=mr(d=>d.config),n=Zs(),{toggleShowHelpText:r}=ys(),[i,o]=H.useState(""),[s,a]=H.useState(!0),l=uh(),u=H.useMemo(()=>Pf(t.components[l]||{},t),[l,t]),c=H.useMemo(()=>u.helpTextPathOverride?u.helpTextPathOverride:t.uiConfig.helpTextPath,[u.helpTextPathOverride,t.uiConfig.helpTextPath]);return H.useEffect(()=>{async function d(){if(!c){a(!1);return}const f=await wN(`${ji}${c}`);f!==void 0&&o(f),a(!1)}d()},[c]),$.jsx(Fi,{size:"70%",opened:e,withCloseButton:!1,onClose:()=>n(r()),children:s||i?$.jsx(Xs,{text:i}):$.jsx(Op,{path:t.uiConfig.helpTextPath})})}function XBt(){const e=mr(s=>s.alertModal),{setAlertModal:t}=ys(),n=Zs(),[r,i]=H.useState(e.show),o=H.useCallback(()=>n(t({...e,show:!1})),[e,t,n]);return H.useEffect(()=>i(e.show),[e.show]),$.jsx(Fi,{opened:r,centered:!0,size:"lg",withCloseButton:!1,onClose:o,children:$.jsxs(dp,{color:"red",radius:"xs",title:"Alert",icon:$.jsx(V7e,{}),onClose:o,styles:{root:{backgroundColor:"unset"}},children:[$.jsx(it,{my:"md",children:e.message}),$.jsx(ri,{w:"100%",justify:"end",children:$.jsx(gn,{onClick:o,color:"red",variant:"filled",m:"xs",children:"Continue Study"})})]})})}var Kz="http://www.w3.org/1999/xhtml";const mhe={svg:"http://www.w3.org/2000/svg",xhtml:Kz,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function OL(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),mhe.hasOwnProperty(t)?{space:mhe[t],local:e}:e}function QBt(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Kz&&t.documentElement.namespaceURI===Kz?t.createElement(e):t.createElementNS(n,e)}}function JBt(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function rMe(e){var t=OL(e);return(t.local?JBt:QBt)(t)}function ZBt(){}function WQ(e){return e==null?ZBt:function(){return this.querySelector(e)}}function e8t(e){typeof e!="function"&&(e=WQ(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=new Array(s),l,u,c=0;c<s;++c)(l=o[c])&&(u=e.call(l,l.__data__,c,o))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new Dd(r,this._parents)}function t8t(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function n8t(){return[]}function iMe(e){return e==null?n8t:function(){return this.querySelectorAll(e)}}function r8t(e){return function(){return t8t(e.apply(this,arguments))}}function i8t(e){typeof e=="function"?e=r8t(e):e=iMe(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s=t[o],a=s.length,l,u=0;u<a;++u)(l=s[u])&&(r.push(e.call(l,l.__data__,u,s)),i.push(l));return new Dd(r,i)}function oMe(e){return function(){return this.matches(e)}}function sMe(e){return function(t){return t.matches(e)}}var o8t=Array.prototype.find;function s8t(e){return function(){return o8t.call(this.children,e)}}function a8t(){return this.firstElementChild}function l8t(e){return this.select(e==null?a8t:s8t(typeof e=="function"?e:sMe(e)))}var u8t=Array.prototype.filter;function c8t(){return Array.from(this.children)}function d8t(e){return function(){return u8t.call(this.children,e)}}function f8t(e){return this.selectAll(e==null?c8t:d8t(typeof e=="function"?e:sMe(e)))}function h8t(e){typeof e!="function"&&(e=oMe(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],l,u=0;u<s;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&a.push(l);return new Dd(r,this._parents)}function aMe(e){return new Array(e.length)}function p8t(){return new Dd(this._enter||this._groups.map(aMe),this._parents)}function VM(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}VM.prototype={constructor:VM,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function m8t(e){return function(){return e}}function g8t(e,t,n,r,i,o){for(var s=0,a,l=t.length,u=o.length;s<u;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new VM(e,o[s]);for(;s<l;++s)(a=t[s])&&(i[s]=a)}function y8t(e,t,n,r,i,o,s){var a,l,u=new Map,c=t.length,d=o.length,f=new Array(c),h;for(a=0;a<c;++a)(l=t[a])&&(f[a]=h=s.call(l,l.__data__,a,t)+"",u.has(h)?i[a]=l:u.set(h,l));for(a=0;a<d;++a)h=s.call(e,o[a],a,o)+"",(l=u.get(h))?(r[a]=l,l.__data__=o[a],u.delete(h)):n[a]=new VM(e,o[a]);for(a=0;a<c;++a)(l=t[a])&&u.get(f[a])===l&&(i[a]=l)}function v8t(e){return e.__data__}function b8t(e,t){if(!arguments.length)return Array.from(this,v8t);var n=t?y8t:g8t,r=this._parents,i=this._groups;typeof e!="function"&&(e=m8t(e));for(var o=i.length,s=new Array(o),a=new Array(o),l=new Array(o),u=0;u<o;++u){var c=r[u],d=i[u],f=d.length,h=w8t(e.call(c,c&&c.__data__,u,r)),p=h.length,m=a[u]=new Array(p),g=s[u]=new Array(p),y=l[u]=new Array(f);n(c,d,m,g,y,h,t);for(var v=0,w=0,E,_;v<p;++v)if(E=m[v]){for(v>=w&&(w=v+1);!(_=g[w])&&++w<p;);E._next=_||null}}return s=new Dd(s,r),s._enter=a,s._exit=l,s}function w8t(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function x8t(){return new Dd(this._exit||this._groups.map(aMe),this._parents)}function _8t(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function E8t(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),l=0;l<s;++l)for(var u=n[l],c=r[l],d=u.length,f=a[l]=new Array(d),h,p=0;p<d;++p)(h=u[p]||c[p])&&(f[p]=h);for(;l<i;++l)a[l]=n[l];return new Dd(a,this._parents)}function S8t(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function T8t(e){e||(e=C8t);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,l=i[o]=new Array(a),u,c=0;c<a;++c)(u=s[c])&&(l[c]=u);l.sort(t)}return new Dd(i,this._parents).order()}function C8t(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function A8t(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function k8t(){return Array.from(this)}function I8t(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function R8t(){let e=0;for(const t of this)++e;return e}function D8t(){return!this.node()}function $8t(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&e.call(a,a.__data__,o,i);return this}function M8t(e){return function(){this.removeAttribute(e)}}function P8t(e){return function(){this.removeAttributeNS(e.space,e.local)}}function N8t(e,t){return function(){this.setAttribute(e,t)}}function O8t(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function L8t(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function F8t(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function B8t(e,t){var n=OL(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?P8t:M8t:typeof t=="function"?n.local?F8t:L8t:n.local?O8t:N8t)(n,t))}function lMe(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function j8t(e){return function(){this.style.removeProperty(e)}}function z8t(e,t,n){return function(){this.style.setProperty(e,t,n)}}function U8t(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function H8t(e,t,n){return arguments.length>1?this.each((t==null?j8t:typeof t=="function"?U8t:z8t)(e,t,n??"")):ux(this.node(),e)}function ux(e,t){return e.style.getPropertyValue(t)||lMe(e).getComputedStyle(e,null).getPropertyValue(t)}function V8t(e){return function(){delete this[e]}}function W8t(e,t){return function(){this[e]=t}}function q8t(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function G8t(e,t){return arguments.length>1?this.each((t==null?V8t:typeof t=="function"?q8t:W8t)(e,t)):this.node()[e]}function uMe(e){return e.trim().split(/^|\s+/)}function qQ(e){return e.classList||new cMe(e)}function cMe(e){this._node=e,this._names=uMe(e.getAttribute("class")||"")}cMe.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function dMe(e,t){for(var n=qQ(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function fMe(e,t){for(var n=qQ(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Y8t(e){return function(){dMe(this,e)}}function K8t(e){return function(){fMe(this,e)}}function X8t(e,t){return function(){(t.apply(this,arguments)?dMe:fMe)(this,e)}}function Q8t(e,t){var n=uMe(e+"");if(arguments.length<2){for(var r=qQ(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?X8t:t?Y8t:K8t)(n,t))}function J8t(){this.textContent=""}function Z8t(e){return function(){this.textContent=e}}function ejt(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function tjt(e){return arguments.length?this.each(e==null?J8t:(typeof e=="function"?ejt:Z8t)(e)):this.node().textContent}function njt(){this.innerHTML=""}function rjt(e){return function(){this.innerHTML=e}}function ijt(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function ojt(e){return arguments.length?this.each(e==null?njt:(typeof e=="function"?ijt:rjt)(e)):this.node().innerHTML}function sjt(){this.nextSibling&&this.parentNode.appendChild(this)}function ajt(){return this.each(sjt)}function ljt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ujt(){return this.each(ljt)}function cjt(e){var t=typeof e=="function"?e:rMe(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function djt(){return null}function fjt(e,t){var n=typeof e=="function"?e:rMe(e),r=t==null?djt:typeof t=="function"?t:WQ(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function hjt(){var e=this.parentNode;e&&e.removeChild(this)}function pjt(){return this.each(hjt)}function mjt(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function gjt(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function yjt(e){return this.select(e?gjt:mjt)}function vjt(e){return arguments.length?this.property("__data__",e):this.node().__data__}function bjt(e){return function(t){e.call(this,t,this.__data__)}}function wjt(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function xjt(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function _jt(e,t,n){return function(){var r=this.__on,i,o=bjt(t);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function Ejt(e,t,n){var r=wjt(e+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(i=0,c=a[l];i<o;++i)if((s=r[i]).type===c.type&&s.name===c.name)return c.value}return}for(a=t?_jt:xjt,i=0;i<o;++i)this.each(a(r[i],t,n));return this}function hMe(e,t,n){var r=lMe(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Sjt(e,t){return function(){return hMe(this,e,t)}}function Tjt(e,t){return function(){return hMe(this,e,t.apply(this,arguments))}}function Cjt(e,t){return this.each((typeof t=="function"?Tjt:Sjt)(e,t))}function*Ajt(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var kjt=[null];function Dd(e,t){this._groups=e,this._parents=t}function u2(){return new Dd([[document.documentElement]],kjt)}function Ijt(){return this}Dd.prototype=u2.prototype={constructor:Dd,select:e8t,selectAll:i8t,selectChild:l8t,selectChildren:f8t,filter:h8t,data:b8t,enter:p8t,exit:x8t,join:_8t,merge:E8t,selection:Ijt,order:S8t,sort:T8t,call:A8t,nodes:k8t,node:I8t,size:R8t,empty:D8t,each:$8t,attr:B8t,style:H8t,property:G8t,classed:Q8t,text:tjt,html:ojt,raise:ajt,lower:ujt,append:cjt,insert:fjt,remove:pjt,clone:yjt,datum:vjt,on:Ejt,dispatch:Cjt,[Symbol.iterator]:Ajt};var Rjt=uK("start","end","cancel","interrupt"),Djt=[],pMe=0,ghe=1,Xz=2,tD=3,yhe=4,Qz=5,nD=6;function LL(e,t,n,r,i,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;$jt(e,n,{name:t,index:r,group:i,on:Rjt,tween:Djt,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:pMe})}function GQ(e,t){var n=Hd(e,t);if(n.state>pMe)throw new Error("too late; already scheduled");return n}function Sh(e,t){var n=Hd(e,t);if(n.state>tD)throw new Error("too late; already running");return n}function Hd(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function $jt(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=cK(o,0,n.time);function o(u){n.state=ghe,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var c,d,f,h;if(n.state!==ghe)return l();for(c in r)if(h=r[c],h.name===n.name){if(h.state===tD)return Bue(s);h.state===yhe?(h.state=nD,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=nD,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(Bue(function(){n.state===tD&&(n.state=yhe,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Xz,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Xz){for(n.state=tD,i=new Array(f=n.tween.length),c=0,d=-1;c<f;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++d]=h);i.length=d+1}}function a(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=Qz,1),d=-1,f=i.length;++d<f;)i[d].call(e,c);n.state===Qz&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=nD,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function Mjt(e,t){var n=e.__transition,r,i,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){o=!1;continue}i=r.state>Xz&&r.state<Qz,r.state=nD,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}o&&delete e.__transition}}function Pjt(e){return this.each(function(){Mjt(this,e)})}function Njt(e,t){var n,r;return function(){var i=Sh(this,e),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function Ojt(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Sh(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=a;break}l===u&&i.push(a)}o.tween=i}}function Ljt(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Hd(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?Njt:Ojt)(n,e,t))}function YQ(e,t,n){var r=e._id;return e.each(function(){var i=Sh(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Hd(i,r).value[t]}}function mMe(e,t){var n;return(typeof t=="number"?ic:t instanceof lv?KT:(n=lv(t))?(t=n,KT):BG)(e,t)}function Fjt(e){return function(){this.removeAttribute(e)}}function Bjt(e){return function(){this.removeAttributeNS(e.space,e.local)}}function jjt(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttribute(e);return s===i?null:s===r?o:o=t(r=s,n)}}function zjt(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?o:o=t(r=s,n)}}function Ujt(e,t,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a)))}}function Hjt(e,t,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a)))}}function Vjt(e,t){var n=OL(e),r=n==="transform"?NTe:mMe;return this.attrTween(e,typeof t=="function"?(n.local?Hjt:Ujt)(n,r,YQ(this,"attr."+e,t)):t==null?(n.local?Bjt:Fjt)(n):(n.local?zjt:jjt)(n,r,t))}function Wjt(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function qjt(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Gjt(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&qjt(e,o)),n}return i._value=t,i}function Yjt(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&Wjt(e,o)),n}return i._value=t,i}function Kjt(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=OL(e);return this.tween(n,(r.local?Gjt:Yjt)(r,t))}function Xjt(e,t){return function(){GQ(this,e).delay=+t.apply(this,arguments)}}function Qjt(e,t){return t=+t,function(){GQ(this,e).delay=t}}function Jjt(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Xjt:Qjt)(t,e)):Hd(this.node(),t).delay}function Zjt(e,t){return function(){Sh(this,e).duration=+t.apply(this,arguments)}}function e9t(e,t){return t=+t,function(){Sh(this,e).duration=t}}function t9t(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Zjt:e9t)(t,e)):Hd(this.node(),t).duration}function n9t(e,t){if(typeof t!="function")throw new Error;return function(){Sh(this,e).ease=t}}function r9t(e){var t=this._id;return arguments.length?this.each(n9t(t,e)):Hd(this.node(),t).ease}function i9t(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Sh(this,e).ease=n}}function o9t(e){if(typeof e!="function")throw new Error;return this.each(i9t(this._id,e))}function s9t(e){typeof e!="function"&&(e=oMe(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],l,u=0;u<s;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&a.push(l);return new Vp(r,this._parents,this._name,this._id)}function a9t(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var l=t[a],u=n[a],c=l.length,d=s[a]=new Array(c),f,h=0;h<c;++h)(f=l[h]||u[h])&&(d[h]=f);for(;a<r;++a)s[a]=t[a];return new Vp(s,this._parents,this._name,this._id)}function l9t(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function u9t(e,t,n){var r,i,o=l9t(t)?GQ:Sh;return function(){var s=o(this,e),a=s.on;a!==r&&(i=(r=a).copy()).on(t,n),s.on=i}}function c9t(e,t){var n=this._id;return arguments.length<2?Hd(this.node(),n).on.on(e):this.each(u9t(n,e,t))}function d9t(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function f9t(){return this.on("end.remove",d9t(this._id))}function h9t(e){var t=this._name,n=this._id;typeof e!="function"&&(e=WQ(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],l=a.length,u=o[s]=new Array(l),c,d,f=0;f<l;++f)(c=a[f])&&(d=e.call(c,c.__data__,f,a))&&("__data__"in c&&(d.__data__=c.__data__),u[f]=d,LL(u[f],t,n,f,u,Hd(c,n)));return new Vp(o,this._parents,t,n)}function p9t(e){var t=this._name,n=this._id;typeof e!="function"&&(e=iMe(e));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var l=r[a],u=l.length,c,d=0;d<u;++d)if(c=l[d]){for(var f=e.call(c,c.__data__,d,l),h,p=Hd(c,n),m=0,g=f.length;m<g;++m)(h=f[m])&&LL(h,t,n,m,f,p);o.push(f),s.push(c)}return new Vp(o,s,t,n)}var m9t=u2.prototype.constructor;function g9t(){return new m9t(this._groups,this._parents)}function y9t(e,t){var n,r,i;return function(){var o=ux(this,e),s=(this.style.removeProperty(e),ux(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}function gMe(e){return function(){this.style.removeProperty(e)}}function v9t(e,t,n){var r,i=n+"",o;return function(){var s=ux(this,e);return s===i?null:s===r?o:o=t(r=s,n)}}function b9t(e,t,n){var r,i,o;return function(){var s=ux(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),ux(this,e))),s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a))}}function w9t(e,t){var n,r,i,o="style."+t,s="end."+o,a;return function(){var l=Sh(this,e),u=l.on,c=l.value[o]==null?a||(a=gMe(t)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(s,i=c),l.on=r}}function x9t(e,t,n){var r=(e+="")=="transform"?PTe:mMe;return t==null?this.styleTween(e,y9t(e,r)).on("end.style."+e,gMe(e)):typeof t=="function"?this.styleTween(e,b9t(e,r,YQ(this,"style."+e,t))).each(w9t(this._id,e)):this.styleTween(e,v9t(e,r,t),n).on("end.style."+e,null)}function _9t(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function E9t(e,t,n){var r,i;function o(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&_9t(e,s,n)),r}return o._value=t,o}function S9t(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,E9t(e,t,n??""))}function T9t(e){return function(){this.textContent=e}}function C9t(e){return function(){var t=e(this);this.textContent=t??""}}function A9t(e){return this.tween("text",typeof e=="function"?C9t(YQ(this,"text",e)):T9t(e==null?"":e+""))}function k9t(e){return function(t){this.textContent=e.call(this,t)}}function I9t(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&k9t(i)),t}return r._value=e,r}function R9t(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,I9t(e))}function D9t(){for(var e=this._name,t=this._id,n=yMe(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,u=0;u<a;++u)if(l=s[u]){var c=Hd(l,t);LL(l,e,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Vp(r,this._parents,e,n)}function $9t(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},l={value:function(){--i===0&&o()}};n.each(function(){var u=Sh(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),u.on=t}),i===0&&o()})}var M9t=0;function Vp(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function yMe(){return++M9t}var Bh=u2.prototype;Vp.prototype={constructor:Vp,select:h9t,selectAll:p9t,selectChild:Bh.selectChild,selectChildren:Bh.selectChildren,filter:s9t,merge:a9t,selection:g9t,transition:D9t,call:Bh.call,nodes:Bh.nodes,node:Bh.node,size:Bh.size,empty:Bh.empty,each:Bh.each,on:c9t,attr:Vjt,attrTween:Kjt,style:x9t,styleTween:S9t,text:A9t,textTween:R9t,remove:f9t,tween:Ljt,delay:Jjt,duration:t9t,ease:r9t,easeVarying:o9t,end:$9t,[Symbol.iterator]:Bh[Symbol.iterator]};function P9t(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var N9t={time:null,delay:0,duration:250,ease:P9t};function O9t(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function L9t(e){var t,n;e instanceof Vp?(t=e._id,e=e._name):(t=yMe(),(n=N9t).time=vO(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,u=0;u<a;++u)(l=s[u])&&LL(l,e,t,u,s,n||O9t(l,t));return new Vp(r,this._parents,e,t)}u2.prototype.interrupt=Pjt;u2.prototype.transition=L9t;function kS(e,t,n){this.k=e,this.x=t,this.y=n}kS.prototype={constructor:kS,scale:function(e){return e===1?this:new kS(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new kS(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};kS.prototype;const R3=15,D3=3,vhe=["#4269d0","#ff725c","#6cc5b0","#3ca951","#ff8ab7","#a463f2","#97bbf5","#9c6b4e"];function F9t({xScale:e,height:t,currentNode:n,provenance:r,answer:i}){const o=H.useMemo(()=>{var a;const s=new Map;if(s.set("Root","#efb118"),i.provenanceGraph){let l=0;Object.entries(((a=i.provenanceGraph.stimulus)==null?void 0:a.nodes)||{}).forEach(u=>{const[,c]=u;s.has(c.label)||(s.set(c.label,vhe[l]),l=(l+1)%vhe.length)})}return s},[i]);return $.jsxs("g",{style:{cursor:"pointer"},children:[r?Object.entries(r.nodes||{}).map(s=>{const[a,l]=s;return $.jsx("g",{children:$.jsx("rect",{fill:o.get(l.label)||"#9498a0",opacity:l.id===n?1:.7,x:e(l.createdOn)-D3/2,y:t/2-R3/2,width:D3,height:R3})},a)}):null,n&&r&&r.nodes[n]&&$.jsx("rect",{fill:o.get(r.nodes[n].label)||"#9498a0",x:e(r.nodes[n].createdOn)-D3/2,y:t/2-R3/2,width:D3,height:R3}),$.jsx(LU,{position:{bottom:10,left:10},children:$.jsxs(Gs,{width:200,position:"bottom",withArrow:!0,shadow:"md",children:[$.jsx(Gs.Target,{children:$.jsx(gn,{children:"Show Legend"})}),$.jsx(Gs.Dropdown,{children:$.jsx(Ru,{children:Array.from(o.keys()).map(s=>$.jsxs(ri,{children:[$.jsx(uH,{color:o.get(s)}),$.jsx("span",{children:s})]},s))})})]})})]})}const bhe={left:5};function B9t({xScale:e,answers:t,width:n,height:r,currentNode:i,trialName:o}){const s=H.useMemo(()=>Object.entries(t).filter(a=>o?o===a[0]:!0).map(a=>{const[l,u]=a;return Object.keys(u.provenanceGraph).map(d=>{const f=u.provenanceGraph[d];return f?$.jsx(F9t,{answer:t[o],height:r,currentNode:i,xScale:e,provenance:f},l+d):null})}),[i,r,t,o,e]);return $.jsxs("svg",{style:{width:n,height:r},children:[$.jsx("line",{stroke:"black",strokeWidth:1,x1:bhe.left,x2:n+bhe.left,y1:r/2,y2:r/2}),s]})}function vMe(e){const t=H.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return H.useLayoutEffect(()=>{t.current=e}),H.useCallback((...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function j9t({width:e,height:t,updateTimer:n,duration:r,isPlaying:i,xScale:o,startTime:s}){const a=H.useRef(0),l=H.useRef(Date.now()),[u,c]=H.useState(0);H.useEffect(()=>{s&&(a.current=0,n(s,0))},[s,n]);const d=vMe(()=>{if(a.current>=r)return;const h=Date.now();a.current=h-l.current,n(s+a.current,void 0),c(u+1)});H.useEffect(()=>{i&&a.current>=r&&(n(s,0),l.current=Date.now()-a.current,a.current=0)},[s,i,r,n]),H.useEffect(()=>{let h=null;return i&&a.current<r&&(l.current=Date.now()-a.current,h=setInterval(()=>{i&&d()},30)),()=>{h&&clearInterval(h)}},[r,d,i]);const f=H.useCallback(h=>{a.current=o.invert(h.clientX-10)-o.domain()[0],l.current=Date.now()-a.current,c(u+1),n(s+a.current,a.current/r)},[r,u,s,n,o]);return $.jsx("svg",{onClick:f,style:{width:e,height:t,position:"absolute",zIndex:1e4},children:$.jsx("line",{stroke:"#e15759",strokeWidth:3,y1:0,y2:t,x1:o(s+a.current),x2:o(s+a.current)})})}function Jz(e){const t=Math.floor(e/1e3/60/60),n=Math.floor((e/1e3/60/60-t)*60),r=Math.floor(((e/1e3/60/60-t)*60-n)*60),i=r<10?`0${r}`:`${r}`,o=n<10?`0${n}`:`${n}`,s=t<10?`0${t}`:`${t}`;return`${t>0?`${s}h`:""} ${n>0?`${o}m`:""} ${i}s`}function m8(e,t,n,r,i){const{saveAnalysisState:o}=ys(),s=Zs(),a=H.useMemo(()=>{const l=Qp.create(),u=Kv({registry:l,initialState:{}});return n&&u.importObject(structuredClone(n)),u},[n]);H.useEffect(()=>{if(!n){r&&(i(null,e),s(o({prov:null,location:e})));return}if(!r||!n.nodes[r]){i(n.root,e),s(o({prov:a.getState(n.nodes[n.root]),location:e}));return}let l=n.nodes[r];for(;;)if(t<l.createdOn){if(wxe(l))break;{const u=l.parent;l=n.nodes[u]}}else if(l.children.length>0){const u=l.children[0];if(t>n.nodes[u].createdOn)l=n.nodes[u];else break}else break;l.id!==r&&(i(l.id,e),s(o({prov:a.getState(l),location:e})))},[r,t,n,s,o,e,i,a])}const g8={left:0,right:0};function z9t({setTimeString:e}){var G,X,Z,oe;const[t]=sh(),n=H.useMemo(()=>t.get("participantId")||void 0,[t]),{storageEngine:r}=Zi(),i=mr(ne=>ne.analysisIsPlaying),o=mr(ne=>ne.analysisHasAudio),{saveAnalysisState:s,setAnalysisHasAudio:a,setAnalysisIsPlaying:l}=ys(),u=Zs(),c=uh(),d=Uu();H.useEffect(()=>{u(s({prov:void 0,location:"stimulus"}))},[d,s,u]);const[f,{width:h}]=CC(),[p,m]=H.useState(0),[g,y]=H.useState(null),[v,w]=H.useState({aboveStimulus:void 0,belowStimulus:void 0,sidebar:void 0,stimulus:void 0}),[E,_]=H.useState(null),[x,S]=H.useState(0),C=mr(ne=>ne.answers),[A,k]=uOe(0,100),N=H.useRef(null),[M,I]=H.useState(!0),D=H.useRef(null),R=eb(),O=vMe((ne,ie)=>{var se;const fe=(se=C[R])==null?void 0:se.provenanceGraph[ie];fe&&ne&&(!E||fe.nodes[ne].createdOn>E.time||A<E.time)&&_({name:ne||"",time:fe.nodes[ne].createdOn}),w({...v,[ie]:ne})});m8("aboveStimulus",A,(G=C[R])==null?void 0:G.provenanceGraph.aboveStimulus,v.aboveStimulus,O),m8("belowStimulus",A,(X=C[R])==null?void 0:X.provenanceGraph.belowStimulus,v.belowStimulus,O),m8("sidebar",A,(Z=C[R])==null?void 0:Z.provenanceGraph.sidebar,v.sidebar,O),H.useEffect(()=>{u(l(!1))},[n,c,d,u,l]),H.useEffect(()=>{var ne,ie,fe;if(R&&((ne=C[R])!=null&&ne.provenanceGraph)){const se=Qp.create(),ae=Kv({registry:se,initialState:{}});(ie=C[R])!=null&&ie.provenanceGraph.stimulus&&(ae.importObject(structuredClone((fe=C[R])==null?void 0:fe.provenanceGraph.stimulus)),D.current=ae)}},[C,R,u]);const B=H.useCallback(ne=>{var ie,fe;ne&&(R&&D.current&&(u(s({prov:D.current.getState((fe=(ie=C[R])==null?void 0:ie.provenanceGraph.stimulus)==null?void 0:fe.nodes[ne]),location:"stimulus"})),D.current.to(ne)),O(ne,"stimulus"),y(ne))},[R,O,u,s,C]);H.useEffect(()=>{var fe,se;if(!R||!D.current||!((fe=C[R])!=null&&fe.provenanceGraph))return;const ne=(se=C[R])==null?void 0:se.provenanceGraph;if(!ne.stimulus)return;if(!g||!ne.stimulus.nodes[g]){B(ne.stimulus.root);return}let ie=ne.stimulus.nodes[g];for(;;)if(A<ie.createdOn){if(wxe(ie))break;{const ae=ie.parent;ie=ne.stimulus.nodes[ae]}}else if(ie.children.length>0){const ae=ie.children[0];if(A>ne.stimulus.nodes[ae].createdOn)ie=ne.stimulus.nodes[ae];else break}else break;ie.id!==g&&B(ie.id)},[B,g,n,A,R,C]);const z=H.useMemo(()=>{var ne;return((ne=C[R])==null?void 0:ne.startTime)||0},[C,R]);H.useEffect(()=>{x===0?e(""):A!==0&&e(`${Jz(A-z)} / ${Jz(x*1e3)}`)},[R,A,e,z,x]),H.useEffect(()=>{var ne,ie;if(!o){const fe=((ne=C[R])==null?void 0:ne.endTime)-((ie=C[R])==null?void 0:ie.startTime);S(fe>-1?fe/1e3:0)}},[o,C,R]);const W=Gx(),U=H.useRef(null),F=H.useCallback(async ne=>{if(U.current=ne,ne&&W&&R&&r)try{const ie=await r.getAudio(R,n);await ne.load(ie),I(!1),u(a(!0)),S(ne.getDuration()),m(ne.getWidth()),ne.seekTo(0),ne.on("redrawcomplete",()=>m(ne.getWidth()))}catch(ie){throw u(a(!1)),new Error(ie)}else u(a(!1)),S(0)},[W,R,r,n,u,a]),Y=H.useCallback((ne,ie)=>{if(ne>x*1e3+z){u(l(!1)),k(ne);return}k(ne),U.current&&ie!==void 0&&setTimeout(()=>{var fe;(fe=U.current)==null||fe.seekTo(ie)})},[l,k,z,u,x]);H.useEffect(()=>{U.current&&(i?U.current.play():U.current.pause())},[U,i,x,z,k]);const V=H.useMemo(()=>{var fe,se,ae,Se,Te;if(!((fe=C[R])!=null&&fe.startTime)||!((se=C[R])!=null&&se.endTime))return null;const ne=x>0?((ae=C[R])==null?void 0:ae.startTime)+x*1e3:(Se=C[R])==null?void 0:Se.endTime;return KN([g8.left,h+g8.left+g8.right]).domain([(Te=C[R])==null?void 0:Te.startTime,ne]).clamp(!0)},[C,R,x,h]);return H.useEffect(()=>{F(U.current)},[Y,F,n,U]),$.jsx(ri,{wrap:"nowrap",gap:10,mx:10,children:$.jsxs(Ru,{ref:f,style:{width:"100%"},gap:0,children:[$.jsx(mc,{}),n!==void 0&&R?$.jsxs(De,{ref:N,style:{overflow:"hidden",width:"100%",pointerEvents:"none"},display:o?"block":"none",id:"waveformDiv",children:[$.jsx(Bxe,{onMount:F,plugins:[],container:"#waveformDiv",height:50,waveColor:"#484848",progressColor:"#e15759",barHeight:0,cursorColor:"rgba(0, 0, 0, 0)",children:$.jsx(jxe,{id:"waveform",height:50})}),M?$.jsx(oh,{}):null]}):null,V&&R&&((oe=C[R])!=null&&oe.provenanceGraph)?$.jsx(B9t,{xScale:V,trialName:R,currentNode:(E==null?void 0:E.name)||"",answers:C,width:p||h,height:25}):null,V?$.jsx(j9t,{duration:x*1e3,height:(o?50:0)+25,isPlaying:i,startTime:z,width:h,xScale:V,updateTimer:Y}):null]})})}function U9t(e){return e?e.getAllParticipantNames():null}function H9t(){const[e]=sh(),t=H.useMemo(()=>e.get("participantId")||void 0,[e]),n=uh(),r=Uu(),{funcIndex:i}=Da(),o=zu(),{setAnalysisIsPlaying:s}=ys(),a=Zs(),l=mr(m=>m.analysisIsPlaying),{storageEngine:u}=Zi(),{value:c}=E_e(U9t,[u]),[d,f]=H.useMemo(()=>{if(c&&t&&n){const m=c.findIndex(v=>v===t),g=m<c.length-1?c[m+1]:c[0],y=m>0?c[m-1]:c[c.length-1];return[[g,r],[y,r]]}return[["",0],["",0]]},[c,n,r,t]),[h,p]=H.useState("");return $.jsx(qr.Footer,{zIndex:101,withBorder:!1,children:$.jsxs(De,{style:{backgroundColor:"var(--mantine-color-blue-1)",height:"150px"},children:[$.jsx(z9t,{setTimeString:p}),$.jsx(mc,{children:$.jsxs(ri,{gap:"xs",style:{height:"50px"},children:[$.jsx(it,{size:"sm",ff:"monospace",children:h}),$.jsx(r0,{variant:"filled",size:30,onClick:()=>a(s(!l)),children:l?$.jsx(wze,{}):$.jsx(xze,{})}),$.jsx(it,{mx:"0",children:"Participant:"}),$.jsx(_x,{style:{width:"300px"},value:t||"",onChange:m=>{o(`./../${jo(0)}?participantId=${m}`)},data:c||[]}),$.jsx(gn,{onClick:()=>o(`../${i?"..":""}${jo(+r-1)}?participantId=${t}`,{relative:"path"}),children:$.jsx(Fte,{})}),$.jsx(gn,{onClick:()=>o(`../${i?"..":""}${jo(+r+1)}?participantId=${t}`,{relative:"path"}),children:$.jsx(Bte,{})}),$.jsxs(gn,{px:"xs",disabled:f[0]===t,onClick:()=>o(`./../${i?"..":""}${jo(f[1])}?participantId=${f[0]}`),children:[$.jsx(Fte,{}),$.jsx(jte,{})]}),$.jsxs(gn,{px:"xs",disabled:d[0]===t,onClick:()=>o(`./../${i?"..":""}${jo(d[1])}?participantId=${d[0]}`),children:[$.jsx(jte,{}),$.jsx(Bte,{})]})]})})]})})}function V9t(){const e=H.useRef([]),t=qf(),n=t.uiConfig.windowEventDebounceTime??100,r=mr(d=>d.showStudyBrowser),i=mr(d=>d.analysisHasAudio),o=mr(d=>d.modes);H.useEffect(()=>{const d=of(_=>{e.current.push([Date.now(),"focus",_.target instanceof HTMLElement?_.target.tagName:""])},n,{maxWait:n}),f=of(_=>{e.current.push([Date.now(),"input",_.data??""])},n,{maxWait:n}),h=of(_=>{e.current.push([Date.now(),"keydown",_.key])},n,{maxWait:n}),p=of(_=>{e.current.push([Date.now(),"keyup",_.key])},n,{maxWait:n}),m=of(_=>{e.current.push([Date.now(),"mousedown",[_.clientX,_.clientY]])},n,{maxWait:n}),g=of(_=>{e.current.push([Date.now(),"mouseup",[_.clientX,_.clientY]])},n,{maxWait:n}),y=of(()=>{e.current.push([Date.now(),"resize",[window.innerWidth,window.innerHeight]])},n,{maxWait:n}),v=of(_=>{e.current.push([Date.now(),"mousemove",[_.clientX,_.clientY]])},n,{maxWait:n}),w=of(()=>{e.current.push([Date.now(),"scroll",[window.scrollX,window.scrollY]])},n,{maxWait:n}),E=of(()=>{e.current.push([Date.now(),"visibility",document.visibilityState])},n,{maxWait:n});return window.addEventListener("focus",d,!0),window.addEventListener("input",f),window.addEventListener("keydown",h),window.addEventListener("keyup",p),window.addEventListener("mousedown",m),window.addEventListener("mouseup",g),window.addEventListener("resize",y),window.addEventListener("mousemove",v),window.addEventListener("scroll",w),document.addEventListener("visibilitychange",E),()=>{window.removeEventListener("focus",d,!0),window.removeEventListener("input",f),window.removeEventListener("keydown",h),window.removeEventListener("keyup",p),window.removeEventListener("mousedown",m),window.removeEventListener("mouseup",g),window.removeEventListener("resize",y),window.removeEventListener("mousemove",v),window.removeEventListener("scroll",w),document.removeEventListener("visibilitychange",E)}},[]);const s=t.uiConfig.sidebarWidth??300,{studyNavigatorEnabled:a,dataCollectionEnabled:l}=H.useMemo(()=>o,[o]),u=H.useMemo(()=>a&&r,[a,r]),c=Gx();return $.jsx(g_e.Provider,{value:e,children:$.jsxs(qr,{padding:"md",header:{height:70},navbar:{width:s,breakpoint:"xs",collapsed:{desktop:!t.uiConfig.sidebar,mobile:!t.uiConfig.sidebar}},aside:{width:360,breakpoint:"xs",collapsed:{desktop:!u,mobile:!u}},footer:{height:(c?75:0)+(i?50:0)},children:[$.jsx(YBt,{}),$.jsx(qBt,{}),$.jsx(GBt,{studyNavigatorEnabled:a,dataCollectionEnabled:l}),$.jsx(KBt,{}),$.jsx(XBt,{}),$.jsx(qr.Main,{children:$.jsx(e7e,{})}),c&&$.jsx(H9t,{})]})})}function W9t(e,t=!1){return typeof e=="number"?whe(e,t):whe(e.length,t).map(r=>r.map(i=>e[i]))}function whe(e,t){if(e<0)throw new Error("Latin square size must be > 0");if(e==0)return[];if(e==1)return[[0]];let n=new Array(e);for(let o=0;o<e;o++)o<2?n[o]=o:o%2==0?n[o]=e-o/2:n[o]=Math.floor(o/2)+1;let r=[n],i=n;for(let o=1;o<e;o+=1){let s=i.map(a=>(a+1)%e);r.push(s),i=s}if(t&&e%2>0)for(let o=0;o<e;o+=1)r.push(r[o].slice().reverse());return r}function bMe(e,t,n){if(Ou(e))return{id:e.id,orderPath:n,order:e.order,components:[],skip:[]};let r=e.components;e.order==="random"?r=e.components.sort(()=>.5-Math.random()):e.order==="latinSquare"&&t&&(r=t[n].pop().map(i=>i.startsWith("_componentBlock")?e.components[+i.slice(15)]:i)),r=r.slice(0,e.numSamples);for(let i=0;i<r.length;i+=1){const o=r[i];if(typeof o!="string"&&!Array.isArray(o)){const s=e.components.indexOf(o);r[i]=bMe(o,t,`${n}-${s}`)}}return e.interruptions&&e.interruptions.forEach(i=>{const o=[];if(i.spacing!=="random")for(let s=0;s<r.length;s+=1)(s===i.firstLocation||s>i.firstLocation&&s%i.spacing===0)&&o.push(...i.components),o.push(r[s]);if(i.spacing==="random"){const s=new Set;if(i.numInterruptions>r.length-1)throw new Error("Number of interruptions cannot be greater than the number of components");for(;s.size<i.numInterruptions;){const u=Math.floor(Math.random()*r.length-1)+1;s.add(u)}const a=Array.from(s).sort((u,c)=>u-c);let l=0;for(let u=0;u<r.length;u+=1)u===a[l]&&(o.push(...i.components),l+=1),o.push(r[u])}r=o}),{id:e.id,orderPath:n,order:e.order,components:r.flat(),skip:e.skip}}function q9t(e,t){const n=structuredClone(e);return bMe(n,t,"root")}function wMe(e,t,n,r=0){const i=n.length>0?`${n}-${r}`:"root";e.order==="latinSquare"&&t.push(i),!Ou(e)&&e.components.forEach((o,s)=>{typeof o!="string"&&!Ou(o)&&wMe(o,t,i,s)})}function G9t(e){const t=[];return wMe(e,t,"",0),t}function xhe(e,t){const n=t.split("-");let r={};n.forEach(s=>{if(s==="root")r=e.sequence;else{if(Ou(r))return;r=r.components[+s]}});const i=r.components.map((s,a)=>typeof s=="string"?s:`_componentBlock${a}`);return W9t(i.sort(()=>.5-Math.random()),!0)}function _he(e){const n=G9t(e.sequence).map(o=>({[o]:xhe(e,o)})).reduce((o,s)=>({...o,...s}),{}),r=e.uiConfig.numSequences||1e3,i=[];return Array.from({length:r}).forEach(()=>{const o=q9t(e.sequence,n);o.components.push("end"),i.push(o),Object.entries(n).forEach(([s,a])=>{a.length===0&&(n[s]=xhe(e,s))})}),i}var $3={exports:{}},y8={},jh={},ny={},v8={},b8={},w8={},Ehe;function WM(){return Ehe||(Ehe=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends t{constructor(v){if(super(),!e.IDENTIFIER.test(v))throw new Error("CodeGen: name must be a valid identifier");this.str=v}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=n;class r extends t{constructor(v){super(),this._items=typeof v=="string"?[v]:v}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const v=this._items[0];return v===""||v==='""'}get str(){var v;return(v=this._str)!==null&&v!==void 0?v:this._str=this._items.reduce((w,E)=>`${w}${E}`,"")}get names(){var v;return(v=this._names)!==null&&v!==void 0?v:this._names=this._items.reduce((w,E)=>(E instanceof n&&(w[E.str]=(w[E.str]||0)+1),w),{})}}e._Code=r,e.nil=new r("");function i(y,...v){const w=[y[0]];let E=0;for(;E<v.length;)a(w,v[E]),w.push(y[++E]);return new r(w)}e._=i;const o=new r("+");function s(y,...v){const w=[h(y[0])];let E=0;for(;E<v.length;)w.push(o),a(w,v[E]),w.push(o,h(y[++E]));return l(w),new r(w)}e.str=s;function a(y,v){v instanceof r?y.push(...v._items):v instanceof n?y.push(v):y.push(d(v))}e.addCodeArg=a;function l(y){let v=1;for(;v<y.length-1;){if(y[v]===o){const w=u(y[v-1],y[v+1]);if(w!==void 0){y.splice(v-1,3,w);continue}y[v++]="+"}v++}}function u(y,v){if(v==='""')return y;if(y==='""')return v;if(typeof y=="string")return v instanceof n||y[y.length-1]!=='"'?void 0:typeof v!="string"?`${y.slice(0,-1)}${v}"`:v[0]==='"'?y.slice(0,-1)+v.slice(1):void 0;if(typeof v=="string"&&v[0]==='"'&&!(y instanceof n))return`"${y}${v.slice(1)}`}function c(y,v){return v.emptyStr()?y:y.emptyStr()?v:s`${y}${v}`}e.strConcat=c;function d(y){return typeof y=="number"||typeof y=="boolean"||y===null?y:h(Array.isArray(y)?y.join(","):y)}function f(y){return new r(h(y))}e.stringify=f;function h(y){return JSON.stringify(y).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=h;function p(y){return typeof y=="string"&&e.IDENTIFIER.test(y)?new r(`.${y}`):i`[${y}]`}e.getProperty=p;function m(y){if(typeof y=="string"&&e.IDENTIFIER.test(y))return new r(`${y}`);throw new Error(`CodeGen: invalid export name: ${y}, use explicit $id name mapping`)}e.getEsmExportName=m;function g(y){return new r(y.toString())}e.regexpCode=g}(w8)),w8}var x8={},She;function The(){return She||(She=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=WM();class n extends Error{constructor(u){super(`CodeGen: "code" for ${u} not defined`),this.value=u.value}}var r;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(r||(e.UsedValueState=r={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:u,parent:c}={}){this._names={},this._prefixes=u,this._parent=c}toName(u){return u instanceof t.Name?u:this.name(u)}name(u){return new t.Name(this._newName(u))}_newName(u){const c=this._names[u]||this._nameGroup(u);return`${u}${c.index++}`}_nameGroup(u){var c,d;if(!((d=(c=this._parent)===null||c===void 0?void 0:c._prefixes)===null||d===void 0)&&d.has(u)||this._prefixes&&!this._prefixes.has(u))throw new Error(`CodeGen: prefix "${u}" is not allowed in this scope`);return this._names[u]={prefix:u,index:0}}}e.Scope=i;class o extends t.Name{constructor(u,c){super(c),this.prefix=u}setValue(u,{property:c,itemIndex:d}){this.value=u,this.scopePath=(0,t._)`.${new t.Name(c)}[${d}]`}}e.ValueScopeName=o;const s=(0,t._)`\n`;class a extends i{constructor(u){super(u),this._values={},this._scope=u.scope,this.opts={...u,_n:u.lines?s:t.nil}}get(){return this._scope}name(u){return new o(u,this._newName(u))}value(u,c){var d;if(c.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const f=this.toName(u),{prefix:h}=f,p=(d=c.key)!==null&&d!==void 0?d:c.ref;let m=this._values[h];if(m){const v=m.get(p);if(v)return v}else m=this._values[h]=new Map;m.set(p,f);const g=this._scope[h]||(this._scope[h]=[]),y=g.length;return g[y]=c.ref,f.setValue(c,{property:h,itemIndex:y}),f}getValue(u,c){const d=this._values[u];if(d)return d.get(c)}scopeRefs(u,c=this._values){return this._reduceValues(c,d=>{if(d.scopePath===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return(0,t._)`${u}${d.scopePath}`})}scopeCode(u=this._values,c,d){return this._reduceValues(u,f=>{if(f.value===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return f.value.code},c,d)}_reduceValues(u,c,d={},f){let h=t.nil;for(const p in u){const m=u[p];if(!m)continue;const g=d[p]=d[p]||new Map;m.forEach(y=>{if(g.has(y))return;g.set(y,r.Started);let v=c(y);if(v){const w=this.opts.es5?e.varKinds.var:e.varKinds.const;h=(0,t._)`${h}${w} ${y} = ${v};${this.opts._n}`}else if(v=f==null?void 0:f(y))h=(0,t._)`${h}${v}${this.opts._n}`;else throw new n(y);g.set(y,r.Completed)})}return h}}e.ValueScope=a}(x8)),x8}var Che;function Zn(){return Che||(Che=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=WM(),n=The();var r=WM();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}});var i=The();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class o{optimizeNodes(){return this}optimizeNames(G,X){return this}}class s extends o{constructor(G,X,Z){super(),this.varKind=G,this.name=X,this.rhs=Z}render({es5:G,_n:X}){const Z=G?n.varKinds.var:this.varKind,oe=this.rhs===void 0?"":` = ${this.rhs}`;return`${Z} ${this.name}${oe};`+X}optimizeNames(G,X){if(G[this.name.str])return this.rhs&&(this.rhs=D(this.rhs,G,X)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends o{constructor(G,X,Z){super(),this.lhs=G,this.rhs=X,this.sideEffects=Z}render({_n:G}){return`${this.lhs} = ${this.rhs};`+G}optimizeNames(G,X){if(!(this.lhs instanceof t.Name&&!G[this.lhs.str]&&!this.sideEffects))return this.rhs=D(this.rhs,G,X),this}get names(){const G=this.lhs instanceof t.Name?{}:{...this.lhs.names};return I(G,this.rhs)}}class l extends a{constructor(G,X,Z,oe){super(G,Z,oe),this.op=X}render({_n:G}){return`${this.lhs} ${this.op}= ${this.rhs};`+G}}class u extends o{constructor(G){super(),this.label=G,this.names={}}render({_n:G}){return`${this.label}:`+G}}class c extends o{constructor(G){super(),this.label=G,this.names={}}render({_n:G}){return`break${this.label?` ${this.label}`:""};`+G}}class d extends o{constructor(G){super(),this.error=G}render({_n:G}){return`throw ${this.error};`+G}get names(){return this.error.names}}class f extends o{constructor(G){super(),this.code=G}render({_n:G}){return`${this.code};`+G}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(G,X){return this.code=D(this.code,G,X),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class h extends o{constructor(G=[]){super(),this.nodes=G}render(G){return this.nodes.reduce((X,Z)=>X+Z.render(G),"")}optimizeNodes(){const{nodes:G}=this;let X=G.length;for(;X--;){const Z=G[X].optimizeNodes();Array.isArray(Z)?G.splice(X,1,...Z):Z?G[X]=Z:G.splice(X,1)}return G.length>0?this:void 0}optimizeNames(G,X){const{nodes:Z}=this;let oe=Z.length;for(;oe--;){const ne=Z[oe];ne.optimizeNames(G,X)||(R(G,ne.names),Z.splice(oe,1))}return Z.length>0?this:void 0}get names(){return this.nodes.reduce((G,X)=>M(G,X.names),{})}}class p extends h{render(G){return"{"+G._n+super.render(G)+"}"+G._n}}class m extends h{}class g extends p{}g.kind="else";class y extends p{constructor(G,X){super(X),this.condition=G}render(G){let X=`if(${this.condition})`+super.render(G);return this.else&&(X+="else "+this.else.render(G)),X}optimizeNodes(){super.optimizeNodes();const G=this.condition;if(G===!0)return this.nodes;let X=this.else;if(X){const Z=X.optimizeNodes();X=this.else=Array.isArray(Z)?new g(Z):Z}if(X)return G===!1?X instanceof y?X:X.nodes:this.nodes.length?this:new y(O(G),X instanceof y?[X]:X.nodes);if(!(G===!1||!this.nodes.length))return this}optimizeNames(G,X){var Z;if(this.else=(Z=this.else)===null||Z===void 0?void 0:Z.optimizeNames(G,X),!!(super.optimizeNames(G,X)||this.else))return this.condition=D(this.condition,G,X),this}get names(){const G=super.names;return I(G,this.condition),this.else&&M(G,this.else.names),G}}y.kind="if";class v extends p{}v.kind="for";class w extends v{constructor(G){super(),this.iteration=G}render(G){return`for(${this.iteration})`+super.render(G)}optimizeNames(G,X){if(super.optimizeNames(G,X))return this.iteration=D(this.iteration,G,X),this}get names(){return M(super.names,this.iteration.names)}}class E extends v{constructor(G,X,Z,oe){super(),this.varKind=G,this.name=X,this.from=Z,this.to=oe}render(G){const X=G.es5?n.varKinds.var:this.varKind,{name:Z,from:oe,to:ne}=this;return`for(${X} ${Z}=${oe}; ${Z}<${ne}; ${Z}++)`+super.render(G)}get names(){const G=I(super.names,this.from);return I(G,this.to)}}class _ extends v{constructor(G,X,Z,oe){super(),this.loop=G,this.varKind=X,this.name=Z,this.iterable=oe}render(G){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(G)}optimizeNames(G,X){if(super.optimizeNames(G,X))return this.iterable=D(this.iterable,G,X),this}get names(){return M(super.names,this.iterable.names)}}class x extends p{constructor(G,X,Z){super(),this.name=G,this.args=X,this.async=Z}render(G){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(G)}}x.kind="func";class S extends h{render(G){return"return "+super.render(G)}}S.kind="return";class C extends p{render(G){let X="try"+super.render(G);return this.catch&&(X+=this.catch.render(G)),this.finally&&(X+=this.finally.render(G)),X}optimizeNodes(){var G,X;return super.optimizeNodes(),(G=this.catch)===null||G===void 0||G.optimizeNodes(),(X=this.finally)===null||X===void 0||X.optimizeNodes(),this}optimizeNames(G,X){var Z,oe;return super.optimizeNames(G,X),(Z=this.catch)===null||Z===void 0||Z.optimizeNames(G,X),(oe=this.finally)===null||oe===void 0||oe.optimizeNames(G,X),this}get names(){const G=super.names;return this.catch&&M(G,this.catch.names),this.finally&&M(G,this.finally.names),G}}class A extends p{constructor(G){super(),this.error=G}render(G){return`catch(${this.error})`+super.render(G)}}A.kind="catch";class k extends p{render(G){return"finally"+super.render(G)}}k.kind="finally";class N{constructor(G,X={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...X,_n:X.lines?`
`:""},this._extScope=G,this._scope=new n.Scope({parent:G}),this._nodes=[new m]}toString(){return this._root.render(this.opts)}name(G){return this._scope.name(G)}scopeName(G){return this._extScope.name(G)}scopeValue(G,X){const Z=this._extScope.value(G,X);return(this._values[Z.prefix]||(this._values[Z.prefix]=new Set)).add(Z),Z}getScopeValue(G,X){return this._extScope.getValue(G,X)}scopeRefs(G){return this._extScope.scopeRefs(G,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(G,X,Z,oe){const ne=this._scope.toName(X);return Z!==void 0&&oe&&(this._constants[ne.str]=Z),this._leafNode(new s(G,ne,Z)),ne}const(G,X,Z){return this._def(n.varKinds.const,G,X,Z)}let(G,X,Z){return this._def(n.varKinds.let,G,X,Z)}var(G,X,Z){return this._def(n.varKinds.var,G,X,Z)}assign(G,X,Z){return this._leafNode(new a(G,X,Z))}add(G,X){return this._leafNode(new l(G,e.operators.ADD,X))}code(G){return typeof G=="function"?G():G!==t.nil&&this._leafNode(new f(G)),this}object(...G){const X=["{"];for(const[Z,oe]of G)X.length>1&&X.push(","),X.push(Z),(Z!==oe||this.opts.es5)&&(X.push(":"),(0,t.addCodeArg)(X,oe));return X.push("}"),new t._Code(X)}if(G,X,Z){if(this._blockNode(new y(G)),X&&Z)this.code(X).else().code(Z).endIf();else if(X)this.code(X).endIf();else if(Z)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(G){return this._elseNode(new y(G))}else(){return this._elseNode(new g)}endIf(){return this._endBlockNode(y,g)}_for(G,X){return this._blockNode(G),X&&this.code(X).endFor(),this}for(G,X){return this._for(new w(G),X)}forRange(G,X,Z,oe,ne=this.opts.es5?n.varKinds.var:n.varKinds.let){const ie=this._scope.toName(G);return this._for(new E(ne,ie,X,Z),()=>oe(ie))}forOf(G,X,Z,oe=n.varKinds.const){const ne=this._scope.toName(G);if(this.opts.es5){const ie=X instanceof t.Name?X:this.var("_arr",X);return this.forRange("_i",0,(0,t._)`${ie}.length`,fe=>{this.var(ne,(0,t._)`${ie}[${fe}]`),Z(ne)})}return this._for(new _("of",oe,ne,X),()=>Z(ne))}forIn(G,X,Z,oe=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(G,(0,t._)`Object.keys(${X})`,Z);const ne=this._scope.toName(G);return this._for(new _("in",oe,ne,X),()=>Z(ne))}endFor(){return this._endBlockNode(v)}label(G){return this._leafNode(new u(G))}break(G){return this._leafNode(new c(G))}return(G){const X=new S;if(this._blockNode(X),this.code(G),X.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(S)}try(G,X,Z){if(!X&&!Z)throw new Error('CodeGen: "try" without "catch" and "finally"');const oe=new C;if(this._blockNode(oe),this.code(G),X){const ne=this.name("e");this._currNode=oe.catch=new A(ne),X(ne)}return Z&&(this._currNode=oe.finally=new k,this.code(Z)),this._endBlockNode(A,k)}throw(G){return this._leafNode(new d(G))}block(G,X){return this._blockStarts.push(this._nodes.length),G&&this.code(G).endBlock(X),this}endBlock(G){const X=this._blockStarts.pop();if(X===void 0)throw new Error("CodeGen: not in self-balancing block");const Z=this._nodes.length-X;if(Z<0||G!==void 0&&Z!==G)throw new Error(`CodeGen: wrong number of nodes: ${Z} vs ${G} expected`);return this._nodes.length=X,this}func(G,X=t.nil,Z,oe){return this._blockNode(new x(G,X,Z)),oe&&this.code(oe).endFunc(),this}endFunc(){return this._endBlockNode(x)}optimize(G=1){for(;G-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(G){return this._currNode.nodes.push(G),this}_blockNode(G){this._currNode.nodes.push(G),this._nodes.push(G)}_endBlockNode(G,X){const Z=this._currNode;if(Z instanceof G||X&&Z instanceof X)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${X?`${G.kind}/${X.kind}`:G.kind}"`)}_elseNode(G){const X=this._currNode;if(!(X instanceof y))throw new Error('CodeGen: "else" without "if"');return this._currNode=X.else=G,this}get _root(){return this._nodes[0]}get _currNode(){const G=this._nodes;return G[G.length-1]}set _currNode(G){const X=this._nodes;X[X.length-1]=G}}e.CodeGen=N;function M(V,G){for(const X in G)V[X]=(V[X]||0)+(G[X]||0);return V}function I(V,G){return G instanceof t._CodeOrName?M(V,G.names):V}function D(V,G,X){if(V instanceof t.Name)return Z(V);if(!oe(V))return V;return new t._Code(V._items.reduce((ne,ie)=>(ie instanceof t.Name&&(ie=Z(ie)),ie instanceof t._Code?ne.push(...ie._items):ne.push(ie),ne),[]));function Z(ne){const ie=X[ne.str];return ie===void 0||G[ne.str]!==1?ne:(delete G[ne.str],ie)}function oe(ne){return ne instanceof t._Code&&ne._items.some(ie=>ie instanceof t.Name&&G[ie.str]===1&&X[ie.str]!==void 0)}}function R(V,G){for(const X in G)V[X]=(V[X]||0)-(G[X]||0)}function O(V){return typeof V=="boolean"||typeof V=="number"||V===null?!V:(0,t._)`!${Y(V)}`}e.not=O;const B=F(e.operators.AND);function z(...V){return V.reduce(B)}e.and=z;const W=F(e.operators.OR);function U(...V){return V.reduce(W)}e.or=U;function F(V){return(G,X)=>G===t.nil?X:X===t.nil?G:(0,t._)`${Y(G)} ${V} ${Y(X)}`}function Y(V){return V instanceof t.Name?V:(0,t._)`(${V})`}}(b8)),b8}var Vn={},Ahe;function Ar(){if(Ahe)return Vn;Ahe=1,Object.defineProperty(Vn,"__esModule",{value:!0}),Vn.checkStrictMode=Vn.getErrorPath=Vn.Type=Vn.useFunc=Vn.setEvaluated=Vn.evaluatedPropsToName=Vn.mergeEvaluated=Vn.eachItem=Vn.unescapeJsonPointer=Vn.escapeJsonPointer=Vn.escapeFragment=Vn.unescapeFragment=Vn.schemaRefOrVal=Vn.schemaHasRulesButRef=Vn.schemaHasRules=Vn.checkUnknownRules=Vn.alwaysValidSchema=Vn.toHash=void 0;const e=Zn(),t=WM();function n(_){const x={};for(const S of _)x[S]=!0;return x}Vn.toHash=n;function r(_,x){return typeof x=="boolean"?x:Object.keys(x).length===0?!0:(i(_,x),!o(x,_.self.RULES.all))}Vn.alwaysValidSchema=r;function i(_,x=_.schema){const{opts:S,self:C}=_;if(!S.strictSchema||typeof x=="boolean")return;const A=C.RULES.keywords;for(const k in x)A[k]||E(_,`unknown keyword: "${k}"`)}Vn.checkUnknownRules=i;function o(_,x){if(typeof _=="boolean")return!_;for(const S in _)if(x[S])return!0;return!1}Vn.schemaHasRules=o;function s(_,x){if(typeof _=="boolean")return!_;for(const S in _)if(S!=="$ref"&&x.all[S])return!0;return!1}Vn.schemaHasRulesButRef=s;function a({topSchemaRef:_,schemaPath:x},S,C,A){if(!A){if(typeof S=="number"||typeof S=="boolean")return S;if(typeof S=="string")return(0,e._)`${S}`}return(0,e._)`${_}${x}${(0,e.getProperty)(C)}`}Vn.schemaRefOrVal=a;function l(_){return d(decodeURIComponent(_))}Vn.unescapeFragment=l;function u(_){return encodeURIComponent(c(_))}Vn.escapeFragment=u;function c(_){return typeof _=="number"?`${_}`:_.replace(/~/g,"~0").replace(/\//g,"~1")}Vn.escapeJsonPointer=c;function d(_){return _.replace(/~1/g,"/").replace(/~0/g,"~")}Vn.unescapeJsonPointer=d;function f(_,x){if(Array.isArray(_))for(const S of _)x(S);else x(_)}Vn.eachItem=f;function h({mergeNames:_,mergeToName:x,mergeValues:S,resultToName:C}){return(A,k,N,M)=>{const I=N===void 0?k:N instanceof e.Name?(k instanceof e.Name?_(A,k,N):x(A,k,N),N):k instanceof e.Name?(x(A,N,k),k):S(k,N);return M===e.Name&&!(I instanceof e.Name)?C(A,I):I}}Vn.mergeEvaluated={props:h({mergeNames:(_,x,S)=>_.if((0,e._)`${S} !== true && ${x} !== undefined`,()=>{_.if((0,e._)`${x} === true`,()=>_.assign(S,!0),()=>_.assign(S,(0,e._)`${S} || {}`).code((0,e._)`Object.assign(${S}, ${x})`))}),mergeToName:(_,x,S)=>_.if((0,e._)`${S} !== true`,()=>{x===!0?_.assign(S,!0):(_.assign(S,(0,e._)`${S} || {}`),m(_,S,x))}),mergeValues:(_,x)=>_===!0?!0:{..._,...x},resultToName:p}),items:h({mergeNames:(_,x,S)=>_.if((0,e._)`${S} !== true && ${x} !== undefined`,()=>_.assign(S,(0,e._)`${x} === true ? true : ${S} > ${x} ? ${S} : ${x}`)),mergeToName:(_,x,S)=>_.if((0,e._)`${S} !== true`,()=>_.assign(S,x===!0?!0:(0,e._)`${S} > ${x} ? ${S} : ${x}`)),mergeValues:(_,x)=>_===!0?!0:Math.max(_,x),resultToName:(_,x)=>_.var("items",x)})};function p(_,x){if(x===!0)return _.var("props",!0);const S=_.var("props",(0,e._)`{}`);return x!==void 0&&m(_,S,x),S}Vn.evaluatedPropsToName=p;function m(_,x,S){Object.keys(S).forEach(C=>_.assign((0,e._)`${x}${(0,e.getProperty)(C)}`,!0))}Vn.setEvaluated=m;const g={};function y(_,x){return _.scopeValue("func",{ref:x,code:g[x.code]||(g[x.code]=new t._Code(x.code))})}Vn.useFunc=y;var v;(function(_){_[_.Num=0]="Num",_[_.Str=1]="Str"})(v||(Vn.Type=v={}));function w(_,x,S){if(_ instanceof e.Name){const C=x===v.Num;return S?C?(0,e._)`"[" + ${_} + "]"`:(0,e._)`"['" + ${_} + "']"`:C?(0,e._)`"/" + ${_}`:(0,e._)`"/" + ${_}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return S?(0,e.getProperty)(_).toString():"/"+c(_)}Vn.getErrorPath=w;function E(_,x,S=_.opts.strictSchema){if(S){if(x=`strict mode: ${x}`,S===!0)throw new Error(x);_.self.logger.warn(x)}}return Vn.checkStrictMode=E,Vn}var M3={},khe;function k0(){if(khe)return M3;khe=1,Object.defineProperty(M3,"__esModule",{value:!0});const e=Zn(),t={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};return M3.default=t,M3}var Ihe;function FL(){return Ihe||(Ihe=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=Zn(),n=Ar(),r=k0();e.keywordError={message:({keyword:g})=>(0,t.str)`must pass "${g}" keyword validation`},e.keyword$DataError={message:({keyword:g,schemaType:y})=>y?(0,t.str)`"${g}" keyword must be ${y} ($data)`:(0,t.str)`"${g}" keyword is invalid ($data)`};function i(g,y=e.keywordError,v,w){const{it:E}=g,{gen:_,compositeRule:x,allErrors:S}=E,C=d(g,y,v);w??(x||S)?l(_,C):u(E,(0,t._)`[${C}]`)}e.reportError=i;function o(g,y=e.keywordError,v){const{it:w}=g,{gen:E,compositeRule:_,allErrors:x}=w,S=d(g,y,v);l(E,S),_||x||u(w,r.default.vErrors)}e.reportExtraError=o;function s(g,y){g.assign(r.default.errors,y),g.if((0,t._)`${r.default.vErrors} !== null`,()=>g.if(y,()=>g.assign((0,t._)`${r.default.vErrors}.length`,y),()=>g.assign(r.default.vErrors,null)))}e.resetErrorsCount=s;function a({gen:g,keyword:y,schemaValue:v,data:w,errsCount:E,it:_}){if(E===void 0)throw new Error("ajv implementation error");const x=g.name("err");g.forRange("i",E,r.default.errors,S=>{g.const(x,(0,t._)`${r.default.vErrors}[${S}]`),g.if((0,t._)`${x}.instancePath === undefined`,()=>g.assign((0,t._)`${x}.instancePath`,(0,t.strConcat)(r.default.instancePath,_.errorPath))),g.assign((0,t._)`${x}.schemaPath`,(0,t.str)`${_.errSchemaPath}/${y}`),_.opts.verbose&&(g.assign((0,t._)`${x}.schema`,v),g.assign((0,t._)`${x}.data`,w))})}e.extendErrors=a;function l(g,y){const v=g.const("err",y);g.if((0,t._)`${r.default.vErrors} === null`,()=>g.assign(r.default.vErrors,(0,t._)`[${v}]`),(0,t._)`${r.default.vErrors}.push(${v})`),g.code((0,t._)`${r.default.errors}++`)}function u(g,y){const{gen:v,validateName:w,schemaEnv:E}=g;E.$async?v.throw((0,t._)`new ${g.ValidationError}(${y})`):(v.assign((0,t._)`${w}.errors`,y),v.return(!1))}const c={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function d(g,y,v){const{createErrors:w}=g.it;return w===!1?(0,t._)`{}`:f(g,y,v)}function f(g,y,v={}){const{gen:w,it:E}=g,_=[h(E,v),p(g,v)];return m(g,y,_),w.object(..._)}function h({errorPath:g},{instancePath:y}){const v=y?(0,t.str)`${g}${(0,n.getErrorPath)(y,n.Type.Str)}`:g;return[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,v)]}function p({keyword:g,it:{errSchemaPath:y}},{schemaPath:v,parentSchema:w}){let E=w?y:(0,t.str)`${y}/${g}`;return v&&(E=(0,t.str)`${E}${(0,n.getErrorPath)(v,n.Type.Str)}`),[c.schemaPath,E]}function m(g,{params:y,message:v},w){const{keyword:E,data:_,schemaValue:x,it:S}=g,{opts:C,propertyName:A,topSchemaRef:k,schemaPath:N}=S;w.push([c.keyword,E],[c.params,typeof y=="function"?y(g):y||(0,t._)`{}`]),C.messages&&w.push([c.message,typeof v=="function"?v(g):v]),C.verbose&&w.push([c.schema,x],[c.parentSchema,(0,t._)`${k}${N}`],[r.default.data,_]),A&&w.push([c.propertyName,A])}}(v8)),v8}var Rhe;function Y9t(){if(Rhe)return ny;Rhe=1,Object.defineProperty(ny,"__esModule",{value:!0}),ny.boolOrEmptySchema=ny.topBoolOrEmptySchema=void 0;const e=FL(),t=Zn(),n=k0(),r={message:"boolean schema is false"};function i(a){const{gen:l,schema:u,validateName:c}=a;u===!1?s(a,!1):typeof u=="object"&&u.$async===!0?l.return(n.default.data):(l.assign((0,t._)`${c}.errors`,null),l.return(!0))}ny.topBoolOrEmptySchema=i;function o(a,l){const{gen:u,schema:c}=a;c===!1?(u.var(l,!1),s(a)):u.var(l,!0)}ny.boolOrEmptySchema=o;function s(a,l){const{gen:u,data:c}=a,d={gen:u,keyword:"false schema",data:c,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:a};(0,e.reportError)(d,r,void 0,l)}return ny}var Rs={},ry={},Dhe;function xMe(){if(Dhe)return ry;Dhe=1,Object.defineProperty(ry,"__esModule",{value:!0}),ry.getRules=ry.isJSONType=void 0;const e=["string","number","integer","boolean","null","object","array"],t=new Set(e);function n(i){return typeof i=="string"&&t.has(i)}ry.isJSONType=n;function r(){const i={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...i,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},i.number,i.string,i.array,i.object],post:{rules:[]},all:{},keywords:{}}}return ry.getRules=r,ry}var zh={},$he;function _Me(){if($he)return zh;$he=1,Object.defineProperty(zh,"__esModule",{value:!0}),zh.shouldUseRule=zh.shouldUseGroup=zh.schemaHasRulesForType=void 0;function e({schema:r,self:i},o){const s=i.RULES.types[o];return s&&s!==!0&&t(r,s)}zh.schemaHasRulesForType=e;function t(r,i){return i.rules.some(o=>n(r,o))}zh.shouldUseGroup=t;function n(r,i){var o;return r[i.keyword]!==void 0||((o=i.definition.implements)===null||o===void 0?void 0:o.some(s=>r[s]!==void 0))}return zh.shouldUseRule=n,zh}var Mhe;function qM(){if(Mhe)return Rs;Mhe=1,Object.defineProperty(Rs,"__esModule",{value:!0}),Rs.reportTypeError=Rs.checkDataTypes=Rs.checkDataType=Rs.coerceAndCheckDataType=Rs.getJSONTypes=Rs.getSchemaTypes=Rs.DataType=void 0;const e=xMe(),t=_Me(),n=FL(),r=Zn(),i=Ar();var o;(function(v){v[v.Correct=0]="Correct",v[v.Wrong=1]="Wrong"})(o||(Rs.DataType=o={}));function s(v){const w=a(v.type);if(w.includes("null")){if(v.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!w.length&&v.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');v.nullable===!0&&w.push("null")}return w}Rs.getSchemaTypes=s;function a(v){const w=Array.isArray(v)?v:v?[v]:[];if(w.every(e.isJSONType))return w;throw new Error("type must be JSONType or JSONType[]: "+w.join(","))}Rs.getJSONTypes=a;function l(v,w){const{gen:E,data:_,opts:x}=v,S=c(w,x.coerceTypes),C=w.length>0&&!(S.length===0&&w.length===1&&(0,t.schemaHasRulesForType)(v,w[0]));if(C){const A=p(w,_,x.strictNumbers,o.Wrong);E.if(A,()=>{S.length?d(v,w,S):g(v)})}return C}Rs.coerceAndCheckDataType=l;const u=new Set(["string","number","integer","boolean","null"]);function c(v,w){return w?v.filter(E=>u.has(E)||w==="array"&&E==="array"):[]}function d(v,w,E){const{gen:_,data:x,opts:S}=v,C=_.let("dataType",(0,r._)`typeof ${x}`),A=_.let("coerced",(0,r._)`undefined`);S.coerceTypes==="array"&&_.if((0,r._)`${C} == 'object' && Array.isArray(${x}) && ${x}.length == 1`,()=>_.assign(x,(0,r._)`${x}[0]`).assign(C,(0,r._)`typeof ${x}`).if(p(w,x,S.strictNumbers),()=>_.assign(A,x))),_.if((0,r._)`${A} !== undefined`);for(const N of E)(u.has(N)||N==="array"&&S.coerceTypes==="array")&&k(N);_.else(),g(v),_.endIf(),_.if((0,r._)`${A} !== undefined`,()=>{_.assign(x,A),f(v,A)});function k(N){switch(N){case"string":_.elseIf((0,r._)`${C} == "number" || ${C} == "boolean"`).assign(A,(0,r._)`"" + ${x}`).elseIf((0,r._)`${x} === null`).assign(A,(0,r._)`""`);return;case"number":_.elseIf((0,r._)`${C} == "boolean" || ${x} === null
              || (${C} == "string" && ${x} && ${x} == +${x})`).assign(A,(0,r._)`+${x}`);return;case"integer":_.elseIf((0,r._)`${C} === "boolean" || ${x} === null
              || (${C} === "string" && ${x} && ${x} == +${x} && !(${x} % 1))`).assign(A,(0,r._)`+${x}`);return;case"boolean":_.elseIf((0,r._)`${x} === "false" || ${x} === 0 || ${x} === null`).assign(A,!1).elseIf((0,r._)`${x} === "true" || ${x} === 1`).assign(A,!0);return;case"null":_.elseIf((0,r._)`${x} === "" || ${x} === 0 || ${x} === false`),_.assign(A,null);return;case"array":_.elseIf((0,r._)`${C} === "string" || ${C} === "number"
              || ${C} === "boolean" || ${x} === null`).assign(A,(0,r._)`[${x}]`)}}}function f({gen:v,parentData:w,parentDataProperty:E},_){v.if((0,r._)`${w} !== undefined`,()=>v.assign((0,r._)`${w}[${E}]`,_))}function h(v,w,E,_=o.Correct){const x=_===o.Correct?r.operators.EQ:r.operators.NEQ;let S;switch(v){case"null":return(0,r._)`${w} ${x} null`;case"array":S=(0,r._)`Array.isArray(${w})`;break;case"object":S=(0,r._)`${w} && typeof ${w} == "object" && !Array.isArray(${w})`;break;case"integer":S=C((0,r._)`!(${w} % 1) && !isNaN(${w})`);break;case"number":S=C();break;default:return(0,r._)`typeof ${w} ${x} ${v}`}return _===o.Correct?S:(0,r.not)(S);function C(A=r.nil){return(0,r.and)((0,r._)`typeof ${w} == "number"`,A,E?(0,r._)`isFinite(${w})`:r.nil)}}Rs.checkDataType=h;function p(v,w,E,_){if(v.length===1)return h(v[0],w,E,_);let x;const S=(0,i.toHash)(v);if(S.array&&S.object){const C=(0,r._)`typeof ${w} != "object"`;x=S.null?C:(0,r._)`!${w} || ${C}`,delete S.null,delete S.array,delete S.object}else x=r.nil;S.number&&delete S.integer;for(const C in S)x=(0,r.and)(x,h(C,w,E,_));return x}Rs.checkDataTypes=p;const m={message:({schema:v})=>`must be ${v}`,params:({schema:v,schemaValue:w})=>typeof v=="string"?(0,r._)`{type: ${v}}`:(0,r._)`{type: ${w}}`};function g(v){const w=y(v);(0,n.reportError)(w,m)}Rs.reportTypeError=g;function y(v){const{gen:w,data:E,schema:_}=v,x=(0,i.schemaRefOrVal)(v,_,"type");return{gen:w,keyword:"type",data:E,schema:_.type,schemaCode:x,schemaValue:x,parentSchema:_,params:{},it:v}}return Rs}var FE={},Phe;function K9t(){if(Phe)return FE;Phe=1,Object.defineProperty(FE,"__esModule",{value:!0}),FE.assignDefaults=void 0;const e=Zn(),t=Ar();function n(i,o){const{properties:s,items:a}=i.schema;if(o==="object"&&s)for(const l in s)r(i,l,s[l].default);else o==="array"&&Array.isArray(a)&&a.forEach((l,u)=>r(i,u,l.default))}FE.assignDefaults=n;function r(i,o,s){const{gen:a,compositeRule:l,data:u,opts:c}=i;if(s===void 0)return;const d=(0,e._)`${u}${(0,e.getProperty)(o)}`;if(l){(0,t.checkStrictMode)(i,`default is ignored for: ${d}`);return}let f=(0,e._)`${d} === undefined`;c.useDefaults==="empty"&&(f=(0,e._)`${f} || ${d} === null || ${d} === ""`),a.if(f,(0,e._)`${d} = ${(0,e.stringify)(s)}`)}return FE}var qc={},Lr={},Nhe;function Vd(){if(Nhe)return Lr;Nhe=1,Object.defineProperty(Lr,"__esModule",{value:!0}),Lr.validateUnion=Lr.validateArray=Lr.usePattern=Lr.callValidateCode=Lr.schemaProperties=Lr.allSchemaProperties=Lr.noPropertyInData=Lr.propertyInData=Lr.isOwnProperty=Lr.hasPropFunc=Lr.reportMissingProp=Lr.checkMissingProp=Lr.checkReportMissingProp=void 0;const e=Zn(),t=Ar(),n=k0(),r=Ar();function i(v,w){const{gen:E,data:_,it:x}=v;E.if(c(E,_,w,x.opts.ownProperties),()=>{v.setParams({missingProperty:(0,e._)`${w}`},!0),v.error()})}Lr.checkReportMissingProp=i;function o({gen:v,data:w,it:{opts:E}},_,x){return(0,e.or)(..._.map(S=>(0,e.and)(c(v,w,S,E.ownProperties),(0,e._)`${x} = ${S}`)))}Lr.checkMissingProp=o;function s(v,w){v.setParams({missingProperty:w},!0),v.error()}Lr.reportMissingProp=s;function a(v){return v.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,e._)`Object.prototype.hasOwnProperty`})}Lr.hasPropFunc=a;function l(v,w,E){return(0,e._)`${a(v)}.call(${w}, ${E})`}Lr.isOwnProperty=l;function u(v,w,E,_){const x=(0,e._)`${w}${(0,e.getProperty)(E)} !== undefined`;return _?(0,e._)`${x} && ${l(v,w,E)}`:x}Lr.propertyInData=u;function c(v,w,E,_){const x=(0,e._)`${w}${(0,e.getProperty)(E)} === undefined`;return _?(0,e.or)(x,(0,e.not)(l(v,w,E))):x}Lr.noPropertyInData=c;function d(v){return v?Object.keys(v).filter(w=>w!=="__proto__"):[]}Lr.allSchemaProperties=d;function f(v,w){return d(w).filter(E=>!(0,t.alwaysValidSchema)(v,w[E]))}Lr.schemaProperties=f;function h({schemaCode:v,data:w,it:{gen:E,topSchemaRef:_,schemaPath:x,errorPath:S},it:C},A,k,N){const M=N?(0,e._)`${v}, ${w}, ${_}${x}`:w,I=[[n.default.instancePath,(0,e.strConcat)(n.default.instancePath,S)],[n.default.parentData,C.parentData],[n.default.parentDataProperty,C.parentDataProperty],[n.default.rootData,n.default.rootData]];C.opts.dynamicRef&&I.push([n.default.dynamicAnchors,n.default.dynamicAnchors]);const D=(0,e._)`${M}, ${E.object(...I)}`;return k!==e.nil?(0,e._)`${A}.call(${k}, ${D})`:(0,e._)`${A}(${D})`}Lr.callValidateCode=h;const p=(0,e._)`new RegExp`;function m({gen:v,it:{opts:w}},E){const _=w.unicodeRegExp?"u":"",{regExp:x}=w.code,S=x(E,_);return v.scopeValue("pattern",{key:S.toString(),ref:S,code:(0,e._)`${x.code==="new RegExp"?p:(0,r.useFunc)(v,x)}(${E}, ${_})`})}Lr.usePattern=m;function g(v){const{gen:w,data:E,keyword:_,it:x}=v,S=w.name("valid");if(x.allErrors){const A=w.let("valid",!0);return C(()=>w.assign(A,!1)),A}return w.var(S,!0),C(()=>w.break()),S;function C(A){const k=w.const("len",(0,e._)`${E}.length`);w.forRange("i",0,k,N=>{v.subschema({keyword:_,dataProp:N,dataPropType:t.Type.Num},S),w.if((0,e.not)(S),A)})}}Lr.validateArray=g;function y(v){const{gen:w,schema:E,keyword:_,it:x}=v;if(!Array.isArray(E))throw new Error("ajv implementation error");if(E.some(k=>(0,t.alwaysValidSchema)(x,k))&&!x.opts.unevaluated)return;const C=w.let("valid",!1),A=w.name("_valid");w.block(()=>E.forEach((k,N)=>{const M=v.subschema({keyword:_,schemaProp:N,compositeRule:!0},A);w.assign(C,(0,e._)`${C} || ${A}`),v.mergeValidEvaluated(M,A)||w.if((0,e.not)(C))})),v.result(C,()=>v.reset(),()=>v.error(!0))}return Lr.validateUnion=y,Lr}var Ohe;function X9t(){if(Ohe)return qc;Ohe=1,Object.defineProperty(qc,"__esModule",{value:!0}),qc.validateKeywordUsage=qc.validSchemaType=qc.funcKeywordCode=qc.macroKeywordCode=void 0;const e=Zn(),t=k0(),n=Vd(),r=FL();function i(f,h){const{gen:p,keyword:m,schema:g,parentSchema:y,it:v}=f,w=h.macro.call(v.self,g,y,v),E=u(p,m,w);v.opts.validateSchema!==!1&&v.self.validateSchema(w,!0);const _=p.name("valid");f.subschema({schema:w,schemaPath:e.nil,errSchemaPath:`${v.errSchemaPath}/${m}`,topSchemaRef:E,compositeRule:!0},_),f.pass(_,()=>f.error(!0))}qc.macroKeywordCode=i;function o(f,h){var p;const{gen:m,keyword:g,schema:y,parentSchema:v,$data:w,it:E}=f;l(E,h);const _=!w&&h.compile?h.compile.call(E.self,y,v,E):h.validate,x=u(m,g,_),S=m.let("valid");f.block$data(S,C),f.ok((p=h.valid)!==null&&p!==void 0?p:S);function C(){if(h.errors===!1)N(),h.modifying&&s(f),M(()=>f.error());else{const I=h.async?A():k();h.modifying&&s(f),M(()=>a(f,I))}}function A(){const I=m.let("ruleErrs",null);return m.try(()=>N((0,e._)`await `),D=>m.assign(S,!1).if((0,e._)`${D} instanceof ${E.ValidationError}`,()=>m.assign(I,(0,e._)`${D}.errors`),()=>m.throw(D))),I}function k(){const I=(0,e._)`${x}.errors`;return m.assign(I,null),N(e.nil),I}function N(I=h.async?(0,e._)`await `:e.nil){const D=E.opts.passContext?t.default.this:t.default.self,R=!("compile"in h&&!w||h.schema===!1);m.assign(S,(0,e._)`${I}${(0,n.callValidateCode)(f,x,D,R)}`,h.modifying)}function M(I){var D;m.if((0,e.not)((D=h.valid)!==null&&D!==void 0?D:S),I)}}qc.funcKeywordCode=o;function s(f){const{gen:h,data:p,it:m}=f;h.if(m.parentData,()=>h.assign(p,(0,e._)`${m.parentData}[${m.parentDataProperty}]`))}function a(f,h){const{gen:p}=f;p.if((0,e._)`Array.isArray(${h})`,()=>{p.assign(t.default.vErrors,(0,e._)`${t.default.vErrors} === null ? ${h} : ${t.default.vErrors}.concat(${h})`).assign(t.default.errors,(0,e._)`${t.default.vErrors}.length`),(0,r.extendErrors)(f)},()=>f.error())}function l({schemaEnv:f},h){if(h.async&&!f.$async)throw new Error("async keyword in sync schema")}function u(f,h,p){if(p===void 0)throw new Error(`keyword "${h}" failed to compile`);return f.scopeValue("keyword",typeof p=="function"?{ref:p}:{ref:p,code:(0,e.stringify)(p)})}function c(f,h,p=!1){return!h.length||h.some(m=>m==="array"?Array.isArray(f):m==="object"?f&&typeof f=="object"&&!Array.isArray(f):typeof f==m||p&&typeof f>"u")}qc.validSchemaType=c;function d({schema:f,opts:h,self:p,errSchemaPath:m},g,y){if(Array.isArray(g.keyword)?!g.keyword.includes(y):g.keyword!==y)throw new Error("ajv implementation error");const v=g.dependencies;if(v!=null&&v.some(w=>!Object.prototype.hasOwnProperty.call(f,w)))throw new Error(`parent schema must have dependencies of ${y}: ${v.join(",")}`);if(g.validateSchema&&!g.validateSchema(f[y])){const E=`keyword "${y}" value is invalid at path "${m}": `+p.errorsText(g.validateSchema.errors);if(h.validateSchema==="log")p.logger.error(E);else throw new Error(E)}}return qc.validateKeywordUsage=d,qc}var Uh={},Lhe;function Q9t(){if(Lhe)return Uh;Lhe=1,Object.defineProperty(Uh,"__esModule",{value:!0}),Uh.extendSubschemaMode=Uh.extendSubschemaData=Uh.getSubschema=void 0;const e=Zn(),t=Ar();function n(o,{keyword:s,schemaProp:a,schema:l,schemaPath:u,errSchemaPath:c,topSchemaRef:d}){if(s!==void 0&&l!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(s!==void 0){const f=o.schema[s];return a===void 0?{schema:f,schemaPath:(0,e._)`${o.schemaPath}${(0,e.getProperty)(s)}`,errSchemaPath:`${o.errSchemaPath}/${s}`}:{schema:f[a],schemaPath:(0,e._)`${o.schemaPath}${(0,e.getProperty)(s)}${(0,e.getProperty)(a)}`,errSchemaPath:`${o.errSchemaPath}/${s}/${(0,t.escapeFragment)(a)}`}}if(l!==void 0){if(u===void 0||c===void 0||d===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:l,schemaPath:u,topSchemaRef:d,errSchemaPath:c}}throw new Error('either "keyword" or "schema" must be passed')}Uh.getSubschema=n;function r(o,s,{dataProp:a,dataPropType:l,data:u,dataTypes:c,propertyName:d}){if(u!==void 0&&a!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:f}=s;if(a!==void 0){const{errorPath:p,dataPathArr:m,opts:g}=s,y=f.let("data",(0,e._)`${s.data}${(0,e.getProperty)(a)}`,!0);h(y),o.errorPath=(0,e.str)`${p}${(0,t.getErrorPath)(a,l,g.jsPropertySyntax)}`,o.parentDataProperty=(0,e._)`${a}`,o.dataPathArr=[...m,o.parentDataProperty]}if(u!==void 0){const p=u instanceof e.Name?u:f.let("data",u,!0);h(p),d!==void 0&&(o.propertyName=d)}c&&(o.dataTypes=c);function h(p){o.data=p,o.dataLevel=s.dataLevel+1,o.dataTypes=[],s.definedProperties=new Set,o.parentData=s.data,o.dataNames=[...s.dataNames,p]}}Uh.extendSubschemaData=r;function i(o,{jtdDiscriminator:s,jtdMetadata:a,compositeRule:l,createErrors:u,allErrors:c}){l!==void 0&&(o.compositeRule=l),u!==void 0&&(o.createErrors=u),c!==void 0&&(o.allErrors=c),o.jtdDiscriminator=s,o.jtdMetadata=a}return Uh.extendSubschemaMode=i,Uh}var Ga={},_8={exports:{}},Fhe;function J9t(){if(Fhe)return _8.exports;Fhe=1;var e=_8.exports=function(r,i,o){typeof i=="function"&&(o=i,i={}),o=i.cb||o;var s=typeof o=="function"?o:o.pre||function(){},a=o.post||function(){};t(i,s,a,r,"",r)};e.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},e.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},e.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},e.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function t(r,i,o,s,a,l,u,c,d,f){if(s&&typeof s=="object"&&!Array.isArray(s)){i(s,a,l,u,c,d,f);for(var h in s){var p=s[h];if(Array.isArray(p)){if(h in e.arrayKeywords)for(var m=0;m<p.length;m++)t(r,i,o,p[m],a+"/"+h+"/"+m,l,a,h,s,m)}else if(h in e.propsKeywords){if(p&&typeof p=="object")for(var g in p)t(r,i,o,p[g],a+"/"+h+"/"+n(g),l,a,h,s,g)}else(h in e.keywords||r.allKeys&&!(h in e.skipKeywords))&&t(r,i,o,p,a+"/"+h,l,a,h,s)}o(s,a,l,u,c,d,f)}}function n(r){return r.replace(/~/g,"~0").replace(/\//g,"~1")}return _8.exports}var Bhe;function BL(){if(Bhe)return Ga;Bhe=1,Object.defineProperty(Ga,"__esModule",{value:!0}),Ga.getSchemaRefs=Ga.resolveUrl=Ga.normalizeId=Ga._getFullPath=Ga.getFullPath=Ga.inlineRef=void 0;const e=Ar(),t=cq(),n=J9t(),r=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function i(m,g=!0){return typeof m=="boolean"?!0:g===!0?!s(m):g?a(m)<=g:!1}Ga.inlineRef=i;const o=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function s(m){for(const g in m){if(o.has(g))return!0;const y=m[g];if(Array.isArray(y)&&y.some(s)||typeof y=="object"&&s(y))return!0}return!1}function a(m){let g=0;for(const y in m){if(y==="$ref")return 1/0;if(g++,!r.has(y)&&(typeof m[y]=="object"&&(0,e.eachItem)(m[y],v=>g+=a(v)),g===1/0))return 1/0}return g}function l(m,g="",y){y!==!1&&(g=d(g));const v=m.parse(g);return u(m,v)}Ga.getFullPath=l;function u(m,g){return m.serialize(g).split("#")[0]+"#"}Ga._getFullPath=u;const c=/#\/?$/;function d(m){return m?m.replace(c,""):""}Ga.normalizeId=d;function f(m,g,y){return y=d(y),m.resolve(g,y)}Ga.resolveUrl=f;const h=/^[a-z_][-a-z0-9._]*$/i;function p(m,g){if(typeof m=="boolean")return{};const{schemaId:y,uriResolver:v}=this.opts,w=d(m[y]||g),E={"":w},_=l(v,w,!1),x={},S=new Set;return n(m,{allKeys:!0},(k,N,M,I)=>{if(I===void 0)return;const D=_+N;let R=E[I];typeof k[y]=="string"&&(R=O.call(this,k[y])),B.call(this,k.$anchor),B.call(this,k.$dynamicAnchor),E[N]=R;function O(z){const W=this.opts.uriResolver.resolve;if(z=d(R?W(R,z):z),S.has(z))throw A(z);S.add(z);let U=this.refs[z];return typeof U=="string"&&(U=this.refs[U]),typeof U=="object"?C(k,U.schema,z):z!==d(D)&&(z[0]==="#"?(C(k,x[z],z),x[z]=k):this.refs[z]=D),z}function B(z){if(typeof z=="string"){if(!h.test(z))throw new Error(`invalid anchor "${z}"`);O.call(this,`#${z}`)}}}),x;function C(k,N,M){if(N!==void 0&&!t(k,N))throw A(M)}function A(k){return new Error(`reference "${k}" resolves to more than one schema`)}}return Ga.getSchemaRefs=p,Ga}var jhe;function jL(){if(jhe)return jh;jhe=1,Object.defineProperty(jh,"__esModule",{value:!0}),jh.getData=jh.KeywordCxt=jh.validateFunctionCode=void 0;const e=Y9t(),t=qM(),n=_Me(),r=qM(),i=K9t(),o=X9t(),s=Q9t(),a=Zn(),l=k0(),u=BL(),c=Ar(),d=FL();function f(se){if(_(se)&&(S(se),E(se))){g(se);return}h(se,()=>(0,e.topBoolOrEmptySchema)(se))}jh.validateFunctionCode=f;function h({gen:se,validateName:ae,schema:Se,schemaEnv:Te,opts:Oe},We){Oe.code.es5?se.func(ae,(0,a._)`${l.default.data}, ${l.default.valCxt}`,Te.$async,()=>{se.code((0,a._)`"use strict"; ${v(Se,Oe)}`),m(se,Oe),se.code(We)}):se.func(ae,(0,a._)`${l.default.data}, ${p(Oe)}`,Te.$async,()=>se.code(v(Se,Oe)).code(We))}function p(se){return(0,a._)`{${l.default.instancePath}="", ${l.default.parentData}, ${l.default.parentDataProperty}, ${l.default.rootData}=${l.default.data}${se.dynamicRef?(0,a._)`, ${l.default.dynamicAnchors}={}`:a.nil}}={}`}function m(se,ae){se.if(l.default.valCxt,()=>{se.var(l.default.instancePath,(0,a._)`${l.default.valCxt}.${l.default.instancePath}`),se.var(l.default.parentData,(0,a._)`${l.default.valCxt}.${l.default.parentData}`),se.var(l.default.parentDataProperty,(0,a._)`${l.default.valCxt}.${l.default.parentDataProperty}`),se.var(l.default.rootData,(0,a._)`${l.default.valCxt}.${l.default.rootData}`),ae.dynamicRef&&se.var(l.default.dynamicAnchors,(0,a._)`${l.default.valCxt}.${l.default.dynamicAnchors}`)},()=>{se.var(l.default.instancePath,(0,a._)`""`),se.var(l.default.parentData,(0,a._)`undefined`),se.var(l.default.parentDataProperty,(0,a._)`undefined`),se.var(l.default.rootData,l.default.data),ae.dynamicRef&&se.var(l.default.dynamicAnchors,(0,a._)`{}`)})}function g(se){const{schema:ae,opts:Se,gen:Te}=se;h(se,()=>{Se.$comment&&ae.$comment&&I(se),k(se),Te.let(l.default.vErrors,null),Te.let(l.default.errors,0),Se.unevaluated&&y(se),C(se),D(se)})}function y(se){const{gen:ae,validateName:Se}=se;se.evaluated=ae.const("evaluated",(0,a._)`${Se}.evaluated`),ae.if((0,a._)`${se.evaluated}.dynamicProps`,()=>ae.assign((0,a._)`${se.evaluated}.props`,(0,a._)`undefined`)),ae.if((0,a._)`${se.evaluated}.dynamicItems`,()=>ae.assign((0,a._)`${se.evaluated}.items`,(0,a._)`undefined`))}function v(se,ae){const Se=typeof se=="object"&&se[ae.schemaId];return Se&&(ae.code.source||ae.code.process)?(0,a._)`/*# sourceURL=${Se} */`:a.nil}function w(se,ae){if(_(se)&&(S(se),E(se))){x(se,ae);return}(0,e.boolOrEmptySchema)(se,ae)}function E({schema:se,self:ae}){if(typeof se=="boolean")return!se;for(const Se in se)if(ae.RULES.all[Se])return!0;return!1}function _(se){return typeof se.schema!="boolean"}function x(se,ae){const{schema:Se,gen:Te,opts:Oe}=se;Oe.$comment&&Se.$comment&&I(se),N(se),M(se);const We=Te.const("_errs",l.default.errors);C(se,We),Te.var(ae,(0,a._)`${We} === ${l.default.errors}`)}function S(se){(0,c.checkUnknownRules)(se),A(se)}function C(se,ae){if(se.opts.jtd)return O(se,[],!1,ae);const Se=(0,t.getSchemaTypes)(se.schema),Te=(0,t.coerceAndCheckDataType)(se,Se);O(se,Se,!Te,ae)}function A(se){const{schema:ae,errSchemaPath:Se,opts:Te,self:Oe}=se;ae.$ref&&Te.ignoreKeywordsWithRef&&(0,c.schemaHasRulesButRef)(ae,Oe.RULES)&&Oe.logger.warn(`$ref: keywords ignored in schema at path "${Se}"`)}function k(se){const{schema:ae,opts:Se}=se;ae.default!==void 0&&Se.useDefaults&&Se.strictSchema&&(0,c.checkStrictMode)(se,"default is ignored in the schema root")}function N(se){const ae=se.schema[se.opts.schemaId];ae&&(se.baseId=(0,u.resolveUrl)(se.opts.uriResolver,se.baseId,ae))}function M(se){if(se.schema.$async&&!se.schemaEnv.$async)throw new Error("async schema in sync schema")}function I({gen:se,schemaEnv:ae,schema:Se,errSchemaPath:Te,opts:Oe}){const We=Se.$comment;if(Oe.$comment===!0)se.code((0,a._)`${l.default.self}.logger.log(${We})`);else if(typeof Oe.$comment=="function"){const Fe=(0,a.str)`${Te}/$comment`,Ue=se.scopeValue("root",{ref:ae.root});se.code((0,a._)`${l.default.self}.opts.$comment(${We}, ${Fe}, ${Ue}.schema)`)}}function D(se){const{gen:ae,schemaEnv:Se,validateName:Te,ValidationError:Oe,opts:We}=se;Se.$async?ae.if((0,a._)`${l.default.errors} === 0`,()=>ae.return(l.default.data),()=>ae.throw((0,a._)`new ${Oe}(${l.default.vErrors})`)):(ae.assign((0,a._)`${Te}.errors`,l.default.vErrors),We.unevaluated&&R(se),ae.return((0,a._)`${l.default.errors} === 0`))}function R({gen:se,evaluated:ae,props:Se,items:Te}){Se instanceof a.Name&&se.assign((0,a._)`${ae}.props`,Se),Te instanceof a.Name&&se.assign((0,a._)`${ae}.items`,Te)}function O(se,ae,Se,Te){const{gen:Oe,schema:We,data:Fe,allErrors:Ue,opts:rt,self:at}=se,{RULES:ct}=at;if(We.$ref&&(rt.ignoreKeywordsWithRef||!(0,c.schemaHasRulesButRef)(We,ct))){Oe.block(()=>oe(se,"$ref",ct.all.$ref.definition));return}rt.jtd||z(se,ae),Oe.block(()=>{for(const gt of ct.rules)vt(gt);vt(ct.post)});function vt(gt){(0,n.shouldUseGroup)(We,gt)&&(gt.type?(Oe.if((0,r.checkDataType)(gt.type,Fe,rt.strictNumbers)),B(se,gt),ae.length===1&&ae[0]===gt.type&&Se&&(Oe.else(),(0,r.reportTypeError)(se)),Oe.endIf()):B(se,gt),Ue||Oe.if((0,a._)`${l.default.errors} === ${Te||0}`))}}function B(se,ae){const{gen:Se,schema:Te,opts:{useDefaults:Oe}}=se;Oe&&(0,i.assignDefaults)(se,ae.type),Se.block(()=>{for(const We of ae.rules)(0,n.shouldUseRule)(Te,We)&&oe(se,We.keyword,We.definition,ae.type)})}function z(se,ae){se.schemaEnv.meta||!se.opts.strictTypes||(W(se,ae),se.opts.allowUnionTypes||U(se,ae),F(se,se.dataTypes))}function W(se,ae){if(ae.length){if(!se.dataTypes.length){se.dataTypes=ae;return}ae.forEach(Se=>{V(se.dataTypes,Se)||X(se,`type "${Se}" not allowed by context "${se.dataTypes.join(",")}"`)}),G(se,ae)}}function U(se,ae){ae.length>1&&!(ae.length===2&&ae.includes("null"))&&X(se,"use allowUnionTypes to allow union type keyword")}function F(se,ae){const Se=se.self.RULES.all;for(const Te in Se){const Oe=Se[Te];if(typeof Oe=="object"&&(0,n.shouldUseRule)(se.schema,Oe)){const{type:We}=Oe.definition;We.length&&!We.some(Fe=>Y(ae,Fe))&&X(se,`missing type "${We.join(",")}" for keyword "${Te}"`)}}}function Y(se,ae){return se.includes(ae)||ae==="number"&&se.includes("integer")}function V(se,ae){return se.includes(ae)||ae==="integer"&&se.includes("number")}function G(se,ae){const Se=[];for(const Te of se.dataTypes)V(ae,Te)?Se.push(Te):ae.includes("integer")&&Te==="number"&&Se.push("integer");se.dataTypes=Se}function X(se,ae){const Se=se.schemaEnv.baseId+se.errSchemaPath;ae+=` at "${Se}" (strictTypes)`,(0,c.checkStrictMode)(se,ae,se.opts.strictTypes)}class Z{constructor(ae,Se,Te){if((0,o.validateKeywordUsage)(ae,Se,Te),this.gen=ae.gen,this.allErrors=ae.allErrors,this.keyword=Te,this.data=ae.data,this.schema=ae.schema[Te],this.$data=Se.$data&&ae.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,c.schemaRefOrVal)(ae,this.schema,Te,this.$data),this.schemaType=Se.schemaType,this.parentSchema=ae.schema,this.params={},this.it=ae,this.def=Se,this.$data)this.schemaCode=ae.gen.const("vSchema",fe(this.$data,ae));else if(this.schemaCode=this.schemaValue,!(0,o.validSchemaType)(this.schema,Se.schemaType,Se.allowUndefined))throw new Error(`${Te} value must be ${JSON.stringify(Se.schemaType)}`);("code"in Se?Se.trackErrors:Se.errors!==!1)&&(this.errsCount=ae.gen.const("_errs",l.default.errors))}result(ae,Se,Te){this.failResult((0,a.not)(ae),Se,Te)}failResult(ae,Se,Te){this.gen.if(ae),Te?Te():this.error(),Se?(this.gen.else(),Se(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(ae,Se){this.failResult((0,a.not)(ae),void 0,Se)}fail(ae){if(ae===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(ae),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(ae){if(!this.$data)return this.fail(ae);const{schemaCode:Se}=this;this.fail((0,a._)`${Se} !== undefined && (${(0,a.or)(this.invalid$data(),ae)})`)}error(ae,Se,Te){if(Se){this.setParams(Se),this._error(ae,Te),this.setParams({});return}this._error(ae,Te)}_error(ae,Se){(ae?d.reportExtraError:d.reportError)(this,this.def.error,Se)}$dataError(){(0,d.reportError)(this,this.def.$dataError||d.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,d.resetErrorsCount)(this.gen,this.errsCount)}ok(ae){this.allErrors||this.gen.if(ae)}setParams(ae,Se){Se?Object.assign(this.params,ae):this.params=ae}block$data(ae,Se,Te=a.nil){this.gen.block(()=>{this.check$data(ae,Te),Se()})}check$data(ae=a.nil,Se=a.nil){if(!this.$data)return;const{gen:Te,schemaCode:Oe,schemaType:We,def:Fe}=this;Te.if((0,a.or)((0,a._)`${Oe} === undefined`,Se)),ae!==a.nil&&Te.assign(ae,!0),(We.length||Fe.validateSchema)&&(Te.elseIf(this.invalid$data()),this.$dataError(),ae!==a.nil&&Te.assign(ae,!1)),Te.else()}invalid$data(){const{gen:ae,schemaCode:Se,schemaType:Te,def:Oe,it:We}=this;return(0,a.or)(Fe(),Ue());function Fe(){if(Te.length){if(!(Se instanceof a.Name))throw new Error("ajv implementation error");const rt=Array.isArray(Te)?Te:[Te];return(0,a._)`${(0,r.checkDataTypes)(rt,Se,We.opts.strictNumbers,r.DataType.Wrong)}`}return a.nil}function Ue(){if(Oe.validateSchema){const rt=ae.scopeValue("validate$data",{ref:Oe.validateSchema});return(0,a._)`!${rt}(${Se})`}return a.nil}}subschema(ae,Se){const Te=(0,s.getSubschema)(this.it,ae);(0,s.extendSubschemaData)(Te,this.it,ae),(0,s.extendSubschemaMode)(Te,ae);const Oe={...this.it,...Te,items:void 0,props:void 0};return w(Oe,Se),Oe}mergeEvaluated(ae,Se){const{it:Te,gen:Oe}=this;Te.opts.unevaluated&&(Te.props!==!0&&ae.props!==void 0&&(Te.props=c.mergeEvaluated.props(Oe,ae.props,Te.props,Se)),Te.items!==!0&&ae.items!==void 0&&(Te.items=c.mergeEvaluated.items(Oe,ae.items,Te.items,Se)))}mergeValidEvaluated(ae,Se){const{it:Te,gen:Oe}=this;if(Te.opts.unevaluated&&(Te.props!==!0||Te.items!==!0))return Oe.if(Se,()=>this.mergeEvaluated(ae,a.Name)),!0}}jh.KeywordCxt=Z;function oe(se,ae,Se,Te){const Oe=new Z(se,Se,ae);"code"in Se?Se.code(Oe,Te):Oe.$data&&Se.validate?(0,o.funcKeywordCode)(Oe,Se):"macro"in Se?(0,o.macroKeywordCode)(Oe,Se):(Se.compile||Se.validate)&&(0,o.funcKeywordCode)(Oe,Se)}const ne=/^\/(?:[^~]|~0|~1)*$/,ie=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function fe(se,{dataLevel:ae,dataNames:Se,dataPathArr:Te}){let Oe,We;if(se==="")return l.default.rootData;if(se[0]==="/"){if(!ne.test(se))throw new Error(`Invalid JSON-pointer: ${se}`);Oe=se,We=l.default.rootData}else{const at=ie.exec(se);if(!at)throw new Error(`Invalid JSON-pointer: ${se}`);const ct=+at[1];if(Oe=at[2],Oe==="#"){if(ct>=ae)throw new Error(rt("property/index",ct));return Te[ae-ct]}if(ct>ae)throw new Error(rt("data",ct));if(We=Se[ae-ct],!Oe)return We}let Fe=We;const Ue=Oe.split("/");for(const at of Ue)at&&(We=(0,a._)`${We}${(0,a.getProperty)((0,c.unescapeJsonPointer)(at))}`,Fe=(0,a._)`${Fe} && ${We}`);return Fe;function rt(at,ct){return`Cannot access ${at} ${ct} levels up, current level is ${ae}`}}return jh.getData=fe,jh}var P3={},zhe;function KQ(){if(zhe)return P3;zhe=1,Object.defineProperty(P3,"__esModule",{value:!0});class e extends Error{constructor(n){super("validation failed"),this.errors=n,this.ajv=this.validation=!0}}return P3.default=e,P3}var N3={},Uhe;function zL(){if(Uhe)return N3;Uhe=1,Object.defineProperty(N3,"__esModule",{value:!0});const e=BL();class t extends Error{constructor(r,i,o,s){super(s||`can't resolve reference ${o} from id ${i}`),this.missingRef=(0,e.resolveUrl)(r,i,o),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(r,this.missingRef))}}return N3.default=t,N3}var cu={},Hhe;function XQ(){if(Hhe)return cu;Hhe=1,Object.defineProperty(cu,"__esModule",{value:!0}),cu.resolveSchema=cu.getCompilingSchema=cu.resolveRef=cu.compileSchema=cu.SchemaEnv=void 0;const e=Zn(),t=KQ(),n=k0(),r=BL(),i=Ar(),o=jL();class s{constructor(y){var v;this.refs={},this.dynamicAnchors={};let w;typeof y.schema=="object"&&(w=y.schema),this.schema=y.schema,this.schemaId=y.schemaId,this.root=y.root||this,this.baseId=(v=y.baseId)!==null&&v!==void 0?v:(0,r.normalizeId)(w==null?void 0:w[y.schemaId||"$id"]),this.schemaPath=y.schemaPath,this.localRefs=y.localRefs,this.meta=y.meta,this.$async=w==null?void 0:w.$async,this.refs={}}}cu.SchemaEnv=s;function a(g){const y=c.call(this,g);if(y)return y;const v=(0,r.getFullPath)(this.opts.uriResolver,g.root.baseId),{es5:w,lines:E}=this.opts.code,{ownProperties:_}=this.opts,x=new e.CodeGen(this.scope,{es5:w,lines:E,ownProperties:_});let S;g.$async&&(S=x.scopeValue("Error",{ref:t.default,code:(0,e._)`require("ajv/dist/runtime/validation_error").default`}));const C=x.scopeName("validate");g.validateName=C;const A={gen:x,allErrors:this.opts.allErrors,data:n.default.data,parentData:n.default.parentData,parentDataProperty:n.default.parentDataProperty,dataNames:[n.default.data],dataPathArr:[e.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:x.scopeValue("schema",this.opts.code.source===!0?{ref:g.schema,code:(0,e.stringify)(g.schema)}:{ref:g.schema}),validateName:C,ValidationError:S,schema:g.schema,schemaEnv:g,rootId:v,baseId:g.baseId||v,schemaPath:e.nil,errSchemaPath:g.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,e._)`""`,opts:this.opts,self:this};let k;try{this._compilations.add(g),(0,o.validateFunctionCode)(A),x.optimize(this.opts.code.optimize);const N=x.toString();k=`${x.scopeRefs(n.default.scope)}return ${N}`,this.opts.code.process&&(k=this.opts.code.process(k,g));const I=new Function(`${n.default.self}`,`${n.default.scope}`,k)(this,this.scope.get());if(this.scope.value(C,{ref:I}),I.errors=null,I.schema=g.schema,I.schemaEnv=g,g.$async&&(I.$async=!0),this.opts.code.source===!0&&(I.source={validateName:C,validateCode:N,scopeValues:x._values}),this.opts.unevaluated){const{props:D,items:R}=A;I.evaluated={props:D instanceof e.Name?void 0:D,items:R instanceof e.Name?void 0:R,dynamicProps:D instanceof e.Name,dynamicItems:R instanceof e.Name},I.source&&(I.source.evaluated=(0,e.stringify)(I.evaluated))}return g.validate=I,g}catch(N){throw delete g.validate,delete g.validateName,k&&this.logger.error("Error compiling schema, function code:",k),N}finally{this._compilations.delete(g)}}cu.compileSchema=a;function l(g,y,v){var w;v=(0,r.resolveUrl)(this.opts.uriResolver,y,v);const E=g.refs[v];if(E)return E;let _=f.call(this,g,v);if(_===void 0){const x=(w=g.localRefs)===null||w===void 0?void 0:w[v],{schemaId:S}=this.opts;x&&(_=new s({schema:x,schemaId:S,root:g,baseId:y}))}if(_!==void 0)return g.refs[v]=u.call(this,_)}cu.resolveRef=l;function u(g){return(0,r.inlineRef)(g.schema,this.opts.inlineRefs)?g.schema:g.validate?g:a.call(this,g)}function c(g){for(const y of this._compilations)if(d(y,g))return y}cu.getCompilingSchema=c;function d(g,y){return g.schema===y.schema&&g.root===y.root&&g.baseId===y.baseId}function f(g,y){let v;for(;typeof(v=this.refs[y])=="string";)y=v;return v||this.schemas[y]||h.call(this,g,y)}function h(g,y){const v=this.opts.uriResolver.parse(y),w=(0,r._getFullPath)(this.opts.uriResolver,v);let E=(0,r.getFullPath)(this.opts.uriResolver,g.baseId,void 0);if(Object.keys(g.schema).length>0&&w===E)return m.call(this,v,g);const _=(0,r.normalizeId)(w),x=this.refs[_]||this.schemas[_];if(typeof x=="string"){const S=h.call(this,g,x);return typeof(S==null?void 0:S.schema)!="object"?void 0:m.call(this,v,S)}if(typeof(x==null?void 0:x.schema)=="object"){if(x.validate||a.call(this,x),_===(0,r.normalizeId)(y)){const{schema:S}=x,{schemaId:C}=this.opts,A=S[C];return A&&(E=(0,r.resolveUrl)(this.opts.uriResolver,E,A)),new s({schema:S,schemaId:C,root:g,baseId:E})}return m.call(this,v,x)}}cu.resolveSchema=h;const p=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function m(g,{baseId:y,schema:v,root:w}){var E;if(((E=g.fragment)===null||E===void 0?void 0:E[0])!=="/")return;for(const S of g.fragment.slice(1).split("/")){if(typeof v=="boolean")return;const C=v[(0,i.unescapeFragment)(S)];if(C===void 0)return;v=C;const A=typeof v=="object"&&v[this.opts.schemaId];!p.has(S)&&A&&(y=(0,r.resolveUrl)(this.opts.uriResolver,y,A))}let _;if(typeof v!="boolean"&&v.$ref&&!(0,i.schemaHasRulesButRef)(v,this.RULES)){const S=(0,r.resolveUrl)(this.opts.uriResolver,y,v.$ref);_=h.call(this,w,S)}const{schemaId:x}=this.opts;if(_=_||new s({schema:v,schemaId:x,root:w,baseId:y}),_.schema!==_.root.schema)return _}return cu}const Z9t="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",e7t="Meta-schema for $data reference (JSON AnySchema extension proposal)",t7t="object",n7t=["$data"],r7t={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},i7t=!1,o7t={$id:Z9t,description:e7t,type:t7t,required:n7t,properties:r7t,additionalProperties:i7t};var O3={},BE={exports:{}},E8,Vhe;function s7t(){return Vhe||(Vhe=1,E8={HEX:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15}}),E8}var S8,Whe;function a7t(){if(Whe)return S8;Whe=1;const{HEX:e}=s7t(),t=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function n(m){if(a(m,".")<3)return{host:m,isIPV4:!1};const g=m.match(t)||[],[y]=g;return y?{host:s(y,"."),isIPV4:!0}:{host:m,isIPV4:!1}}function r(m,g=!1){let y="",v=!0;for(const w of m){if(e[w]===void 0)return;w!=="0"&&v===!0&&(v=!1),v||(y+=w)}return g&&y.length===0&&(y="0"),y}function i(m){let g=0;const y={error:!1,address:"",zone:""},v=[],w=[];let E=!1,_=!1,x=!1;function S(){if(w.length){if(E===!1){const C=r(w);if(C!==void 0)v.push(C);else return y.error=!0,!1}w.length=0}return!0}for(let C=0;C<m.length;C++){const A=m[C];if(!(A==="["||A==="]"))if(A===":"){if(_===!0&&(x=!0),!S())break;if(g++,v.push(":"),g>7){y.error=!0;break}C-1>=0&&m[C-1]===":"&&(_=!0);continue}else if(A==="%"){if(!S())break;E=!0}else{w.push(A);continue}}return w.length&&(E?y.zone=w.join(""):x?v.push(w.join("")):v.push(r(w))),y.address=v.join(""),y}function o(m){if(a(m,":")<2)return{host:m,isIPV6:!1};const g=i(m);if(g.error)return{host:m,isIPV6:!1};{let y=g.address,v=g.address;return g.zone&&(y+="%"+g.zone,v+="%25"+g.zone),{host:y,escapedHost:v,isIPV6:!0}}}function s(m,g){let y="",v=!0;const w=m.length;for(let E=0;E<w;E++){const _=m[E];_==="0"&&v?(E+1<=w&&m[E+1]===g||E+1===w)&&(y+=_,v=!1):(_===g?v=!0:v=!1,y+=_)}return y}function a(m,g){let y=0;for(let v=0;v<m.length;v++)m[v]===g&&y++;return y}const l=/^\.\.?\//u,u=/^\/\.(?:\/|$)/u,c=/^\/\.\.(?:\/|$)/u,d=/^\/?(?:.|\n)*?(?=\/|$)/u;function f(m){const g=[];for(;m.length;)if(m.match(l))m=m.replace(l,"");else if(m.match(u))m=m.replace(u,"/");else if(m.match(c))m=m.replace(c,"/"),g.pop();else if(m==="."||m==="..")m="";else{const y=m.match(d);if(y){const v=y[0];m=m.slice(v.length),g.push(v)}else throw new Error("Unexpected dot segment condition")}return g.join("")}function h(m,g){const y=g!==!0?escape:unescape;return m.scheme!==void 0&&(m.scheme=y(m.scheme)),m.userinfo!==void 0&&(m.userinfo=y(m.userinfo)),m.host!==void 0&&(m.host=y(m.host)),m.path!==void 0&&(m.path=y(m.path)),m.query!==void 0&&(m.query=y(m.query)),m.fragment!==void 0&&(m.fragment=y(m.fragment)),m}function p(m){const g=[];if(m.userinfo!==void 0&&(g.push(m.userinfo),g.push("@")),m.host!==void 0){let y=unescape(m.host);const v=n(y);if(v.isIPV4)y=v.host;else{const w=o(v.host);w.isIPV6===!0?y=`[${w.escapedHost}]`:y=m.host}g.push(y)}return(typeof m.port=="number"||typeof m.port=="string")&&(g.push(":"),g.push(String(m.port))),g.length?g.join(""):void 0}return S8={recomposeAuthority:p,normalizeComponentEncoding:h,removeDotSegments:f,normalizeIPv4:n,normalizeIPv6:o,stringArrayToHexStripped:r},S8}var T8,qhe;function l7t(){if(qhe)return T8;qhe=1;const e=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,t=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function n(v){return typeof v.secure=="boolean"?v.secure:String(v.scheme).toLowerCase()==="wss"}function r(v){return v.host||(v.error=v.error||"HTTP URIs must have a host."),v}function i(v){const w=String(v.scheme).toLowerCase()==="https";return(v.port===(w?443:80)||v.port==="")&&(v.port=void 0),v.path||(v.path="/"),v}function o(v){return v.secure=n(v),v.resourceName=(v.path||"/")+(v.query?"?"+v.query:""),v.path=void 0,v.query=void 0,v}function s(v){if((v.port===(n(v)?443:80)||v.port==="")&&(v.port=void 0),typeof v.secure=="boolean"&&(v.scheme=v.secure?"wss":"ws",v.secure=void 0),v.resourceName){const[w,E]=v.resourceName.split("?");v.path=w&&w!=="/"?w:void 0,v.query=E,v.resourceName=void 0}return v.fragment=void 0,v}function a(v,w){if(!v.path)return v.error="URN can not be parsed",v;const E=v.path.match(t);if(E){const _=w.scheme||v.scheme||"urn";v.nid=E[1].toLowerCase(),v.nss=E[2];const x=`${_}:${w.nid||v.nid}`,S=y[x];v.path=void 0,S&&(v=S.parse(v,w))}else v.error=v.error||"URN can not be parsed.";return v}function l(v,w){const E=w.scheme||v.scheme||"urn",_=v.nid.toLowerCase(),x=`${E}:${w.nid||_}`,S=y[x];S&&(v=S.serialize(v,w));const C=v,A=v.nss;return C.path=`${_||w.nid}:${A}`,w.skipEscape=!0,C}function u(v,w){const E=v;return E.uuid=E.nss,E.nss=void 0,!w.tolerant&&(!E.uuid||!e.test(E.uuid))&&(E.error=E.error||"UUID is not valid."),E}function c(v){const w=v;return w.nss=(v.uuid||"").toLowerCase(),w}const d={scheme:"http",domainHost:!0,parse:r,serialize:i},f={scheme:"https",domainHost:d.domainHost,parse:r,serialize:i},h={scheme:"ws",domainHost:!0,parse:o,serialize:s},p={scheme:"wss",domainHost:h.domainHost,parse:h.parse,serialize:h.serialize},y={http:d,https:f,ws:h,wss:p,urn:{scheme:"urn",parse:a,serialize:l,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:u,serialize:c,skipNormalize:!0}};return T8=y,T8}var Ghe;function u7t(){if(Ghe)return BE.exports;Ghe=1;const{normalizeIPv6:e,normalizeIPv4:t,removeDotSegments:n,recomposeAuthority:r,normalizeComponentEncoding:i}=a7t(),o=l7t();function s(g,y){return typeof g=="string"?g=c(p(g,y),y):typeof g=="object"&&(g=p(c(g,y),y)),g}function a(g,y,v){const w=Object.assign({scheme:"null"},v),E=l(p(g,w),p(y,w),w,!0);return c(E,{...w,skipEscape:!0})}function l(g,y,v,w){const E={};return w||(g=p(c(g,v),v),y=p(c(y,v),v)),v=v||{},!v.tolerant&&y.scheme?(E.scheme=y.scheme,E.userinfo=y.userinfo,E.host=y.host,E.port=y.port,E.path=n(y.path||""),E.query=y.query):(y.userinfo!==void 0||y.host!==void 0||y.port!==void 0?(E.userinfo=y.userinfo,E.host=y.host,E.port=y.port,E.path=n(y.path||""),E.query=y.query):(y.path?(y.path.charAt(0)==="/"?E.path=n(y.path):((g.userinfo!==void 0||g.host!==void 0||g.port!==void 0)&&!g.path?E.path="/"+y.path:g.path?E.path=g.path.slice(0,g.path.lastIndexOf("/")+1)+y.path:E.path=y.path,E.path=n(E.path)),E.query=y.query):(E.path=g.path,y.query!==void 0?E.query=y.query:E.query=g.query),E.userinfo=g.userinfo,E.host=g.host,E.port=g.port),E.scheme=g.scheme),E.fragment=y.fragment,E}function u(g,y,v){return typeof g=="string"?(g=unescape(g),g=c(i(p(g,v),!0),{...v,skipEscape:!0})):typeof g=="object"&&(g=c(i(g,!0),{...v,skipEscape:!0})),typeof y=="string"?(y=unescape(y),y=c(i(p(y,v),!0),{...v,skipEscape:!0})):typeof y=="object"&&(y=c(i(y,!0),{...v,skipEscape:!0})),g.toLowerCase()===y.toLowerCase()}function c(g,y){const v={host:g.host,scheme:g.scheme,userinfo:g.userinfo,port:g.port,path:g.path,query:g.query,nid:g.nid,nss:g.nss,uuid:g.uuid,fragment:g.fragment,reference:g.reference,resourceName:g.resourceName,secure:g.secure,error:""},w=Object.assign({},y),E=[],_=o[(w.scheme||v.scheme||"").toLowerCase()];_&&_.serialize&&_.serialize(v,w),v.path!==void 0&&(w.skipEscape?v.path=unescape(v.path):(v.path=escape(v.path),v.scheme!==void 0&&(v.path=v.path.split("%3A").join(":")))),w.reference!=="suffix"&&v.scheme&&E.push(v.scheme,":");const x=r(v);if(x!==void 0&&(w.reference!=="suffix"&&E.push("//"),E.push(x),v.path&&v.path.charAt(0)!=="/"&&E.push("/")),v.path!==void 0){let S=v.path;!w.absolutePath&&(!_||!_.absolutePath)&&(S=n(S)),x===void 0&&(S=S.replace(/^\/\//u,"/%2F")),E.push(S)}return v.query!==void 0&&E.push("?",v.query),v.fragment!==void 0&&E.push("#",v.fragment),E.join("")}const d=Array.from({length:127},(g,y)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(y)));function f(g){let y=0;for(let v=0,w=g.length;v<w;++v)if(y=g.charCodeAt(v),y>126||d[y])return!0;return!1}const h=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function p(g,y){const v=Object.assign({},y),w={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},E=g.indexOf("%")!==-1;let _=!1;v.reference==="suffix"&&(g=(v.scheme?v.scheme+":":"")+"//"+g);const x=g.match(h);if(x){if(w.scheme=x[1],w.userinfo=x[3],w.host=x[4],w.port=parseInt(x[5],10),w.path=x[6]||"",w.query=x[7],w.fragment=x[8],isNaN(w.port)&&(w.port=x[5]),w.host){const C=t(w.host);if(C.isIPV4===!1){const A=e(C.host);w.host=A.host.toLowerCase(),_=A.isIPV6}else w.host=C.host,_=!0}w.scheme===void 0&&w.userinfo===void 0&&w.host===void 0&&w.port===void 0&&w.query===void 0&&!w.path?w.reference="same-document":w.scheme===void 0?w.reference="relative":w.fragment===void 0?w.reference="absolute":w.reference="uri",v.reference&&v.reference!=="suffix"&&v.reference!==w.reference&&(w.error=w.error||"URI is not a "+v.reference+" reference.");const S=o[(v.scheme||w.scheme||"").toLowerCase()];if(!v.unicodeSupport&&(!S||!S.unicodeSupport)&&w.host&&(v.domainHost||S&&S.domainHost)&&_===!1&&f(w.host))try{w.host=URL.domainToASCII(w.host.toLowerCase())}catch(C){w.error=w.error||"Host's domain name can not be converted to ASCII: "+C}(!S||S&&!S.skipNormalize)&&(E&&w.scheme!==void 0&&(w.scheme=unescape(w.scheme)),E&&w.host!==void 0&&(w.host=unescape(w.host)),w.path&&(w.path=escape(unescape(w.path))),w.fragment&&(w.fragment=encodeURI(decodeURIComponent(w.fragment)))),S&&S.parse&&S.parse(w,v)}else w.error=w.error||"URI can not be parsed.";return w}const m={SCHEMES:o,normalize:s,resolve:a,resolveComponents:l,equal:u,serialize:c,parse:p};return BE.exports=m,BE.exports.default=m,BE.exports.fastUri=m,BE.exports}var Yhe;function c7t(){if(Yhe)return O3;Yhe=1,Object.defineProperty(O3,"__esModule",{value:!0});const e=u7t();return e.code='require("ajv/dist/runtime/uri").default',O3.default=e,O3}var Khe;function d7t(){return Khe||(Khe=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=jL();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var n=Zn();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=KQ(),i=zL(),o=xMe(),s=XQ(),a=Zn(),l=BL(),u=qM(),c=Ar(),d=o7t,f=c7t(),h=(U,F)=>new RegExp(U,F);h.code="new RegExp";const p=["removeAdditional","useDefaults","coerceTypes"],m=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),g={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},y={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},v=200;function w(U){var F,Y,V,G,X,Z,oe,ne,ie,fe,se,ae,Se,Te,Oe,We,Fe,Ue,rt,at,ct,vt,gt,Ze,Tt;const ue=U.strict,xe=(F=U.code)===null||F===void 0?void 0:F.optimize,$e=xe===!0||xe===void 0?1:xe||0,Ye=(V=(Y=U.code)===null||Y===void 0?void 0:Y.regExp)!==null&&V!==void 0?V:h,tt=(G=U.uriResolver)!==null&&G!==void 0?G:f.default;return{strictSchema:(Z=(X=U.strictSchema)!==null&&X!==void 0?X:ue)!==null&&Z!==void 0?Z:!0,strictNumbers:(ne=(oe=U.strictNumbers)!==null&&oe!==void 0?oe:ue)!==null&&ne!==void 0?ne:!0,strictTypes:(fe=(ie=U.strictTypes)!==null&&ie!==void 0?ie:ue)!==null&&fe!==void 0?fe:"log",strictTuples:(ae=(se=U.strictTuples)!==null&&se!==void 0?se:ue)!==null&&ae!==void 0?ae:"log",strictRequired:(Te=(Se=U.strictRequired)!==null&&Se!==void 0?Se:ue)!==null&&Te!==void 0?Te:!1,code:U.code?{...U.code,optimize:$e,regExp:Ye}:{optimize:$e,regExp:Ye},loopRequired:(Oe=U.loopRequired)!==null&&Oe!==void 0?Oe:v,loopEnum:(We=U.loopEnum)!==null&&We!==void 0?We:v,meta:(Fe=U.meta)!==null&&Fe!==void 0?Fe:!0,messages:(Ue=U.messages)!==null&&Ue!==void 0?Ue:!0,inlineRefs:(rt=U.inlineRefs)!==null&&rt!==void 0?rt:!0,schemaId:(at=U.schemaId)!==null&&at!==void 0?at:"$id",addUsedSchema:(ct=U.addUsedSchema)!==null&&ct!==void 0?ct:!0,validateSchema:(vt=U.validateSchema)!==null&&vt!==void 0?vt:!0,validateFormats:(gt=U.validateFormats)!==null&&gt!==void 0?gt:!0,unicodeRegExp:(Ze=U.unicodeRegExp)!==null&&Ze!==void 0?Ze:!0,int32range:(Tt=U.int32range)!==null&&Tt!==void 0?Tt:!0,uriResolver:tt}}class E{constructor(F={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,F=this.opts={...F,...w(F)};const{es5:Y,lines:V}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:m,es5:Y,lines:V}),this.logger=M(F.logger);const G=F.validateFormats;F.validateFormats=!1,this.RULES=(0,o.getRules)(),_.call(this,g,F,"NOT SUPPORTED"),_.call(this,y,F,"DEPRECATED","warn"),this._metaOpts=k.call(this),F.formats&&C.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),F.keywords&&A.call(this,F.keywords),typeof F.meta=="object"&&this.addMetaSchema(F.meta),S.call(this),F.validateFormats=G}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:F,meta:Y,schemaId:V}=this.opts;let G=d;V==="id"&&(G={...d},G.id=G.$id,delete G.$id),Y&&F&&this.addMetaSchema(G,G[V],!1)}defaultMeta(){const{meta:F,schemaId:Y}=this.opts;return this.opts.defaultMeta=typeof F=="object"?F[Y]||F:void 0}validate(F,Y){let V;if(typeof F=="string"){if(V=this.getSchema(F),!V)throw new Error(`no schema with key or ref "${F}"`)}else V=this.compile(F);const G=V(Y);return"$async"in V||(this.errors=V.errors),G}compile(F,Y){const V=this._addSchema(F,Y);return V.validate||this._compileSchemaEnv(V)}compileAsync(F,Y){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:V}=this.opts;return G.call(this,F,Y);async function G(fe,se){await X.call(this,fe.$schema);const ae=this._addSchema(fe,se);return ae.validate||Z.call(this,ae)}async function X(fe){fe&&!this.getSchema(fe)&&await G.call(this,{$ref:fe},!0)}async function Z(fe){try{return this._compileSchemaEnv(fe)}catch(se){if(!(se instanceof i.default))throw se;return oe.call(this,se),await ne.call(this,se.missingSchema),Z.call(this,fe)}}function oe({missingSchema:fe,missingRef:se}){if(this.refs[fe])throw new Error(`AnySchema ${fe} is loaded but ${se} cannot be resolved`)}async function ne(fe){const se=await ie.call(this,fe);this.refs[fe]||await X.call(this,se.$schema),this.refs[fe]||this.addSchema(se,fe,Y)}async function ie(fe){const se=this._loading[fe];if(se)return se;try{return await(this._loading[fe]=V(fe))}finally{delete this._loading[fe]}}}addSchema(F,Y,V,G=this.opts.validateSchema){if(Array.isArray(F)){for(const Z of F)this.addSchema(Z,void 0,V,G);return this}let X;if(typeof F=="object"){const{schemaId:Z}=this.opts;if(X=F[Z],X!==void 0&&typeof X!="string")throw new Error(`schema ${Z} must be string`)}return Y=(0,l.normalizeId)(Y||X),this._checkUnique(Y),this.schemas[Y]=this._addSchema(F,V,Y,G,!0),this}addMetaSchema(F,Y,V=this.opts.validateSchema){return this.addSchema(F,Y,!0,V),this}validateSchema(F,Y){if(typeof F=="boolean")return!0;let V;if(V=F.$schema,V!==void 0&&typeof V!="string")throw new Error("$schema must be a string");if(V=V||this.opts.defaultMeta||this.defaultMeta(),!V)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const G=this.validate(V,F);if(!G&&Y){const X="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(X);else throw new Error(X)}return G}getSchema(F){let Y;for(;typeof(Y=x.call(this,F))=="string";)F=Y;if(Y===void 0){const{schemaId:V}=this.opts,G=new s.SchemaEnv({schema:{},schemaId:V});if(Y=s.resolveSchema.call(this,G,F),!Y)return;this.refs[F]=Y}return Y.validate||this._compileSchemaEnv(Y)}removeSchema(F){if(F instanceof RegExp)return this._removeAllSchemas(this.schemas,F),this._removeAllSchemas(this.refs,F),this;switch(typeof F){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const Y=x.call(this,F);return typeof Y=="object"&&this._cache.delete(Y.schema),delete this.schemas[F],delete this.refs[F],this}case"object":{const Y=F;this._cache.delete(Y);let V=F[this.opts.schemaId];return V&&(V=(0,l.normalizeId)(V),delete this.schemas[V],delete this.refs[V]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(F){for(const Y of F)this.addKeyword(Y);return this}addKeyword(F,Y){let V;if(typeof F=="string")V=F,typeof Y=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),Y.keyword=V);else if(typeof F=="object"&&Y===void 0){if(Y=F,V=Y.keyword,Array.isArray(V)&&!V.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(D.call(this,V,Y),!Y)return(0,c.eachItem)(V,X=>R.call(this,X)),this;B.call(this,Y);const G={...Y,type:(0,u.getJSONTypes)(Y.type),schemaType:(0,u.getJSONTypes)(Y.schemaType)};return(0,c.eachItem)(V,G.type.length===0?X=>R.call(this,X,G):X=>G.type.forEach(Z=>R.call(this,X,G,Z))),this}getKeyword(F){const Y=this.RULES.all[F];return typeof Y=="object"?Y.definition:!!Y}removeKeyword(F){const{RULES:Y}=this;delete Y.keywords[F],delete Y.all[F];for(const V of Y.rules){const G=V.rules.findIndex(X=>X.keyword===F);G>=0&&V.rules.splice(G,1)}return this}addFormat(F,Y){return typeof Y=="string"&&(Y=new RegExp(Y)),this.formats[F]=Y,this}errorsText(F=this.errors,{separator:Y=", ",dataVar:V="data"}={}){return!F||F.length===0?"No errors":F.map(G=>`${V}${G.instancePath} ${G.message}`).reduce((G,X)=>G+Y+X)}$dataMetaSchema(F,Y){const V=this.RULES.all;F=JSON.parse(JSON.stringify(F));for(const G of Y){const X=G.split("/").slice(1);let Z=F;for(const oe of X)Z=Z[oe];for(const oe in V){const ne=V[oe];if(typeof ne!="object")continue;const{$data:ie}=ne.definition,fe=Z[oe];ie&&fe&&(Z[oe]=W(fe))}}return F}_removeAllSchemas(F,Y){for(const V in F){const G=F[V];(!Y||Y.test(V))&&(typeof G=="string"?delete F[V]:G&&!G.meta&&(this._cache.delete(G.schema),delete F[V]))}}_addSchema(F,Y,V,G=this.opts.validateSchema,X=this.opts.addUsedSchema){let Z;const{schemaId:oe}=this.opts;if(typeof F=="object")Z=F[oe];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof F!="boolean")throw new Error("schema must be object or boolean")}let ne=this._cache.get(F);if(ne!==void 0)return ne;V=(0,l.normalizeId)(Z||V);const ie=l.getSchemaRefs.call(this,F,V);return ne=new s.SchemaEnv({schema:F,schemaId:oe,meta:Y,baseId:V,localRefs:ie}),this._cache.set(ne.schema,ne),X&&!V.startsWith("#")&&(V&&this._checkUnique(V),this.refs[V]=ne),G&&this.validateSchema(F,!0),ne}_checkUnique(F){if(this.schemas[F]||this.refs[F])throw new Error(`schema with key or id "${F}" already exists`)}_compileSchemaEnv(F){if(F.meta?this._compileMetaSchema(F):s.compileSchema.call(this,F),!F.validate)throw new Error("ajv implementation error");return F.validate}_compileMetaSchema(F){const Y=this.opts;this.opts=this._metaOpts;try{s.compileSchema.call(this,F)}finally{this.opts=Y}}}E.ValidationError=r.default,E.MissingRefError=i.default,e.default=E;function _(U,F,Y,V="error"){for(const G in U){const X=G;X in F&&this.logger[V](`${Y}: option ${G}. ${U[X]}`)}}function x(U){return U=(0,l.normalizeId)(U),this.schemas[U]||this.refs[U]}function S(){const U=this.opts.schemas;if(U)if(Array.isArray(U))this.addSchema(U);else for(const F in U)this.addSchema(U[F],F)}function C(){for(const U in this.opts.formats){const F=this.opts.formats[U];F&&this.addFormat(U,F)}}function A(U){if(Array.isArray(U)){this.addVocabulary(U);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const F in U){const Y=U[F];Y.keyword||(Y.keyword=F),this.addKeyword(Y)}}function k(){const U={...this.opts};for(const F of p)delete U[F];return U}const N={log(){},warn(){},error(){}};function M(U){if(U===!1)return N;if(U===void 0)return console;if(U.log&&U.warn&&U.error)return U;throw new Error("logger must implement log, warn and error methods")}const I=/^[a-z_$][a-z0-9_$:-]*$/i;function D(U,F){const{RULES:Y}=this;if((0,c.eachItem)(U,V=>{if(Y.keywords[V])throw new Error(`Keyword ${V} is already defined`);if(!I.test(V))throw new Error(`Keyword ${V} has invalid name`)}),!!F&&F.$data&&!("code"in F||"validate"in F))throw new Error('$data keyword must have "code" or "validate" function')}function R(U,F,Y){var V;const G=F==null?void 0:F.post;if(Y&&G)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:X}=this;let Z=G?X.post:X.rules.find(({type:ne})=>ne===Y);if(Z||(Z={type:Y,rules:[]},X.rules.push(Z)),X.keywords[U]=!0,!F)return;const oe={keyword:U,definition:{...F,type:(0,u.getJSONTypes)(F.type),schemaType:(0,u.getJSONTypes)(F.schemaType)}};F.before?O.call(this,Z,oe,F.before):Z.rules.push(oe),X.all[U]=oe,(V=F.implements)===null||V===void 0||V.forEach(ne=>this.addKeyword(ne))}function O(U,F,Y){const V=U.rules.findIndex(G=>G.keyword===Y);V>=0?U.rules.splice(V,0,F):(U.rules.push(F),this.logger.warn(`rule ${Y} is not defined`))}function B(U){let{metaSchema:F}=U;F!==void 0&&(U.$data&&this.opts.$data&&(F=W(F)),U.validateSchema=this.compile(F,!0))}const z={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function W(U){return{anyOf:[U,z]}}}(y8)),y8}var L3={},F3={},B3={},Xhe;function f7t(){if(Xhe)return B3;Xhe=1,Object.defineProperty(B3,"__esModule",{value:!0});const e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return B3.default=e,B3}var $m={},Qhe;function h7t(){if(Qhe)return $m;Qhe=1,Object.defineProperty($m,"__esModule",{value:!0}),$m.callRef=$m.getValidate=void 0;const e=zL(),t=Vd(),n=Zn(),r=k0(),i=XQ(),o=Ar(),s={keyword:"$ref",schemaType:"string",code(u){const{gen:c,schema:d,it:f}=u,{baseId:h,schemaEnv:p,validateName:m,opts:g,self:y}=f,{root:v}=p;if((d==="#"||d==="#/")&&h===v.baseId)return E();const w=i.resolveRef.call(y,v,h,d);if(w===void 0)throw new e.default(f.opts.uriResolver,h,d);if(w instanceof i.SchemaEnv)return _(w);return x(w);function E(){if(p===v)return l(u,m,p,p.$async);const S=c.scopeValue("root",{ref:v});return l(u,(0,n._)`${S}.validate`,v,v.$async)}function _(S){const C=a(u,S);l(u,C,S,S.$async)}function x(S){const C=c.scopeValue("schema",g.code.source===!0?{ref:S,code:(0,n.stringify)(S)}:{ref:S}),A=c.name("valid"),k=u.subschema({schema:S,dataTypes:[],schemaPath:n.nil,topSchemaRef:C,errSchemaPath:d},A);u.mergeEvaluated(k),u.ok(A)}}};function a(u,c){const{gen:d}=u;return c.validate?d.scopeValue("validate",{ref:c.validate}):(0,n._)`${d.scopeValue("wrapper",{ref:c})}.validate`}$m.getValidate=a;function l(u,c,d,f){const{gen:h,it:p}=u,{allErrors:m,schemaEnv:g,opts:y}=p,v=y.passContext?r.default.this:n.nil;f?w():E();function w(){if(!g.$async)throw new Error("async schema referenced by sync schema");const S=h.let("valid");h.try(()=>{h.code((0,n._)`await ${(0,t.callValidateCode)(u,c,v)}`),x(c),m||h.assign(S,!0)},C=>{h.if((0,n._)`!(${C} instanceof ${p.ValidationError})`,()=>h.throw(C)),_(C),m||h.assign(S,!1)}),u.ok(S)}function E(){u.result((0,t.callValidateCode)(u,c,v),()=>x(c),()=>_(c))}function _(S){const C=(0,n._)`${S}.errors`;h.assign(r.default.vErrors,(0,n._)`${r.default.vErrors} === null ? ${C} : ${r.default.vErrors}.concat(${C})`),h.assign(r.default.errors,(0,n._)`${r.default.vErrors}.length`)}function x(S){var C;if(!p.opts.unevaluated)return;const A=(C=d==null?void 0:d.validate)===null||C===void 0?void 0:C.evaluated;if(p.props!==!0)if(A&&!A.dynamicProps)A.props!==void 0&&(p.props=o.mergeEvaluated.props(h,A.props,p.props));else{const k=h.var("props",(0,n._)`${S}.evaluated.props`);p.props=o.mergeEvaluated.props(h,k,p.props,n.Name)}if(p.items!==!0)if(A&&!A.dynamicItems)A.items!==void 0&&(p.items=o.mergeEvaluated.items(h,A.items,p.items));else{const k=h.var("items",(0,n._)`${S}.evaluated.items`);p.items=o.mergeEvaluated.items(h,k,p.items,n.Name)}}}return $m.callRef=l,$m.default=s,$m}var Jhe;function p7t(){if(Jhe)return F3;Jhe=1,Object.defineProperty(F3,"__esModule",{value:!0});const e=f7t(),t=h7t(),n=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",e.default,t.default];return F3.default=n,F3}var j3={},z3={},Zhe;function m7t(){if(Zhe)return z3;Zhe=1,Object.defineProperty(z3,"__esModule",{value:!0});const e=Zn(),t=e.operators,n={maximum:{okStr:"<=",ok:t.LTE,fail:t.GT},minimum:{okStr:">=",ok:t.GTE,fail:t.LT},exclusiveMaximum:{okStr:"<",ok:t.LT,fail:t.GTE},exclusiveMinimum:{okStr:">",ok:t.GT,fail:t.LTE}},r={message:({keyword:o,schemaCode:s})=>(0,e.str)`must be ${n[o].okStr} ${s}`,params:({keyword:o,schemaCode:s})=>(0,e._)`{comparison: ${n[o].okStr}, limit: ${s}}`},i={keyword:Object.keys(n),type:"number",schemaType:"number",$data:!0,error:r,code(o){const{keyword:s,data:a,schemaCode:l}=o;o.fail$data((0,e._)`${a} ${n[s].fail} ${l} || isNaN(${a})`)}};return z3.default=i,z3}var U3={},epe;function g7t(){if(epe)return U3;epe=1,Object.defineProperty(U3,"__esModule",{value:!0});const e=Zn(),n={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:r})=>(0,e.str)`must be multiple of ${r}`,params:({schemaCode:r})=>(0,e._)`{multipleOf: ${r}}`},code(r){const{gen:i,data:o,schemaCode:s,it:a}=r,l=a.opts.multipleOfPrecision,u=i.let("res"),c=l?(0,e._)`Math.abs(Math.round(${u}) - ${u}) > 1e-${l}`:(0,e._)`${u} !== parseInt(${u})`;r.fail$data((0,e._)`(${s} === 0 || (${u} = ${o}/${s}, ${c}))`)}};return U3.default=n,U3}var H3={},V3={},tpe;function y7t(){if(tpe)return V3;tpe=1,Object.defineProperty(V3,"__esModule",{value:!0});function e(t){const n=t.length;let r=0,i=0,o;for(;i<n;)r++,o=t.charCodeAt(i++),o>=55296&&o<=56319&&i<n&&(o=t.charCodeAt(i),(o&64512)===56320&&i++);return r}return V3.default=e,e.code='require("ajv/dist/runtime/ucs2length").default',V3}var npe;function v7t(){if(npe)return H3;npe=1,Object.defineProperty(H3,"__esModule",{value:!0});const e=Zn(),t=Ar(),n=y7t(),i={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:o,schemaCode:s}){const a=o==="maxLength"?"more":"fewer";return(0,e.str)`must NOT have ${a} than ${s} characters`},params:({schemaCode:o})=>(0,e._)`{limit: ${o}}`},code(o){const{keyword:s,data:a,schemaCode:l,it:u}=o,c=s==="maxLength"?e.operators.GT:e.operators.LT,d=u.opts.unicode===!1?(0,e._)`${a}.length`:(0,e._)`${(0,t.useFunc)(o.gen,n.default)}(${a})`;o.fail$data((0,e._)`${d} ${c} ${l}`)}};return H3.default=i,H3}var W3={},rpe;function b7t(){if(rpe)return W3;rpe=1,Object.defineProperty(W3,"__esModule",{value:!0});const e=Vd(),t=Zn(),r={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:i})=>(0,t.str)`must match pattern "${i}"`,params:({schemaCode:i})=>(0,t._)`{pattern: ${i}}`},code(i){const{data:o,$data:s,schema:a,schemaCode:l,it:u}=i,c=u.opts.unicodeRegExp?"u":"",d=s?(0,t._)`(new RegExp(${l}, ${c}))`:(0,e.usePattern)(i,a);i.fail$data((0,t._)`!${d}.test(${o})`)}};return W3.default=r,W3}var q3={},ipe;function w7t(){if(ipe)return q3;ipe=1,Object.defineProperty(q3,"__esModule",{value:!0});const e=Zn(),n={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:i}){const o=r==="maxProperties"?"more":"fewer";return(0,e.str)`must NOT have ${o} than ${i} properties`},params:({schemaCode:r})=>(0,e._)`{limit: ${r}}`},code(r){const{keyword:i,data:o,schemaCode:s}=r,a=i==="maxProperties"?e.operators.GT:e.operators.LT;r.fail$data((0,e._)`Object.keys(${o}).length ${a} ${s}`)}};return q3.default=n,q3}var G3={},ope;function x7t(){if(ope)return G3;ope=1,Object.defineProperty(G3,"__esModule",{value:!0});const e=Vd(),t=Zn(),n=Ar(),i={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:o}})=>(0,t.str)`must have required property '${o}'`,params:({params:{missingProperty:o}})=>(0,t._)`{missingProperty: ${o}}`},code(o){const{gen:s,schema:a,schemaCode:l,data:u,$data:c,it:d}=o,{opts:f}=d;if(!c&&a.length===0)return;const h=a.length>=f.loopRequired;if(d.allErrors?p():m(),f.strictRequired){const v=o.parentSchema.properties,{definedProperties:w}=o.it;for(const E of a)if((v==null?void 0:v[E])===void 0&&!w.has(E)){const _=d.schemaEnv.baseId+d.errSchemaPath,x=`required property "${E}" is not defined at "${_}" (strictRequired)`;(0,n.checkStrictMode)(d,x,d.opts.strictRequired)}}function p(){if(h||c)o.block$data(t.nil,g);else for(const v of a)(0,e.checkReportMissingProp)(o,v)}function m(){const v=s.let("missing");if(h||c){const w=s.let("valid",!0);o.block$data(w,()=>y(v,w)),o.ok(w)}else s.if((0,e.checkMissingProp)(o,a,v)),(0,e.reportMissingProp)(o,v),s.else()}function g(){s.forOf("prop",l,v=>{o.setParams({missingProperty:v}),s.if((0,e.noPropertyInData)(s,u,v,f.ownProperties),()=>o.error())})}function y(v,w){o.setParams({missingProperty:v}),s.forOf(v,l,()=>{s.assign(w,(0,e.propertyInData)(s,u,v,f.ownProperties)),s.if((0,t.not)(w),()=>{o.error(),s.break()})},t.nil)}}};return G3.default=i,G3}var Y3={},spe;function _7t(){if(spe)return Y3;spe=1,Object.defineProperty(Y3,"__esModule",{value:!0});const e=Zn(),n={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:i}){const o=r==="maxItems"?"more":"fewer";return(0,e.str)`must NOT have ${o} than ${i} items`},params:({schemaCode:r})=>(0,e._)`{limit: ${r}}`},code(r){const{keyword:i,data:o,schemaCode:s}=r,a=i==="maxItems"?e.operators.GT:e.operators.LT;r.fail$data((0,e._)`${o}.length ${a} ${s}`)}};return Y3.default=n,Y3}var K3={},X3={},ape;function QQ(){if(ape)return X3;ape=1,Object.defineProperty(X3,"__esModule",{value:!0});const e=cq();return e.code='require("ajv/dist/runtime/equal").default',X3.default=e,X3}var lpe;function E7t(){if(lpe)return K3;lpe=1,Object.defineProperty(K3,"__esModule",{value:!0});const e=qM(),t=Zn(),n=Ar(),r=QQ(),o={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:s,j:a}})=>(0,t.str)`must NOT have duplicate items (items ## ${a} and ${s} are identical)`,params:({params:{i:s,j:a}})=>(0,t._)`{i: ${s}, j: ${a}}`},code(s){const{gen:a,data:l,$data:u,schema:c,parentSchema:d,schemaCode:f,it:h}=s;if(!u&&!c)return;const p=a.let("valid"),m=d.items?(0,e.getSchemaTypes)(d.items):[];s.block$data(p,g,(0,t._)`${f} === false`),s.ok(p);function g(){const E=a.let("i",(0,t._)`${l}.length`),_=a.let("j");s.setParams({i:E,j:_}),a.assign(p,!0),a.if((0,t._)`${E} > 1`,()=>(y()?v:w)(E,_))}function y(){return m.length>0&&!m.some(E=>E==="object"||E==="array")}function v(E,_){const x=a.name("item"),S=(0,e.checkDataTypes)(m,x,h.opts.strictNumbers,e.DataType.Wrong),C=a.const("indices",(0,t._)`{}`);a.for((0,t._)`;${E}--;`,()=>{a.let(x,(0,t._)`${l}[${E}]`),a.if(S,(0,t._)`continue`),m.length>1&&a.if((0,t._)`typeof ${x} == "string"`,(0,t._)`${x} += "_"`),a.if((0,t._)`typeof ${C}[${x}] == "number"`,()=>{a.assign(_,(0,t._)`${C}[${x}]`),s.error(),a.assign(p,!1).break()}).code((0,t._)`${C}[${x}] = ${E}`)})}function w(E,_){const x=(0,n.useFunc)(a,r.default),S=a.name("outer");a.label(S).for((0,t._)`;${E}--;`,()=>a.for((0,t._)`${_} = ${E}; ${_}--;`,()=>a.if((0,t._)`${x}(${l}[${E}], ${l}[${_}])`,()=>{s.error(),a.assign(p,!1).break(S)})))}}};return K3.default=o,K3}var Q3={},upe;function S7t(){if(upe)return Q3;upe=1,Object.defineProperty(Q3,"__esModule",{value:!0});const e=Zn(),t=Ar(),n=QQ(),i={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:o})=>(0,e._)`{allowedValue: ${o}}`},code(o){const{gen:s,data:a,$data:l,schemaCode:u,schema:c}=o;l||c&&typeof c=="object"?o.fail$data((0,e._)`!${(0,t.useFunc)(s,n.default)}(${a}, ${u})`):o.fail((0,e._)`${c} !== ${a}`)}};return Q3.default=i,Q3}var J3={},cpe;function T7t(){if(cpe)return J3;cpe=1,Object.defineProperty(J3,"__esModule",{value:!0});const e=Zn(),t=Ar(),n=QQ(),i={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:o})=>(0,e._)`{allowedValues: ${o}}`},code(o){const{gen:s,data:a,$data:l,schema:u,schemaCode:c,it:d}=o;if(!l&&u.length===0)throw new Error("enum must have non-empty array");const f=u.length>=d.opts.loopEnum;let h;const p=()=>h??(h=(0,t.useFunc)(s,n.default));let m;if(f||l)m=s.let("valid"),o.block$data(m,g);else{if(!Array.isArray(u))throw new Error("ajv implementation error");const v=s.const("vSchema",c);m=(0,e.or)(...u.map((w,E)=>y(v,E)))}o.pass(m);function g(){s.assign(m,!1),s.forOf("v",c,v=>s.if((0,e._)`${p()}(${a}, ${v})`,()=>s.assign(m,!0).break()))}function y(v,w){const E=u[w];return typeof E=="object"&&E!==null?(0,e._)`${p()}(${a}, ${v}[${w}])`:(0,e._)`${a} === ${E}`}}};return J3.default=i,J3}var dpe;function C7t(){if(dpe)return j3;dpe=1,Object.defineProperty(j3,"__esModule",{value:!0});const e=m7t(),t=g7t(),n=v7t(),r=b7t(),i=w7t(),o=x7t(),s=_7t(),a=E7t(),l=S7t(),u=T7t(),c=[e.default,t.default,n.default,r.default,i.default,o.default,s.default,a.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},l.default,u.default];return j3.default=c,j3}var Z3={},m1={},fpe;function EMe(){if(fpe)return m1;fpe=1,Object.defineProperty(m1,"__esModule",{value:!0}),m1.validateAdditionalItems=void 0;const e=Zn(),t=Ar(),r={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:o}})=>(0,e.str)`must NOT have more than ${o} items`,params:({params:{len:o}})=>(0,e._)`{limit: ${o}}`},code(o){const{parentSchema:s,it:a}=o,{items:l}=s;if(!Array.isArray(l)){(0,t.checkStrictMode)(a,'"additionalItems" is ignored when "items" is not an array of schemas');return}i(o,l)}};function i(o,s){const{gen:a,schema:l,data:u,keyword:c,it:d}=o;d.items=!0;const f=a.const("len",(0,e._)`${u}.length`);if(l===!1)o.setParams({len:s.length}),o.pass((0,e._)`${f} <= ${s.length}`);else if(typeof l=="object"&&!(0,t.alwaysValidSchema)(d,l)){const p=a.var("valid",(0,e._)`${f} <= ${s.length}`);a.if((0,e.not)(p),()=>h(p)),o.ok(p)}function h(p){a.forRange("i",s.length,f,m=>{o.subschema({keyword:c,dataProp:m,dataPropType:t.Type.Num},p),d.allErrors||a.if((0,e.not)(p),()=>a.break())})}}return m1.validateAdditionalItems=i,m1.default=r,m1}var eI={},g1={},hpe;function SMe(){if(hpe)return g1;hpe=1,Object.defineProperty(g1,"__esModule",{value:!0}),g1.validateTuple=void 0;const e=Zn(),t=Ar(),n=Vd(),r={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(o){const{schema:s,it:a}=o;if(Array.isArray(s))return i(o,"additionalItems",s);a.items=!0,!(0,t.alwaysValidSchema)(a,s)&&o.ok((0,n.validateArray)(o))}};function i(o,s,a=o.schema){const{gen:l,parentSchema:u,data:c,keyword:d,it:f}=o;m(u),f.opts.unevaluated&&a.length&&f.items!==!0&&(f.items=t.mergeEvaluated.items(l,a.length,f.items));const h=l.name("valid"),p=l.const("len",(0,e._)`${c}.length`);a.forEach((g,y)=>{(0,t.alwaysValidSchema)(f,g)||(l.if((0,e._)`${p} > ${y}`,()=>o.subschema({keyword:d,schemaProp:y,dataProp:y},h)),o.ok(h))});function m(g){const{opts:y,errSchemaPath:v}=f,w=a.length,E=w===g.minItems&&(w===g.maxItems||g[s]===!1);if(y.strictTuples&&!E){const _=`"${d}" is ${w}-tuple, but minItems or maxItems/${s} are not specified or different at path "${v}"`;(0,t.checkStrictMode)(f,_,y.strictTuples)}}}return g1.validateTuple=i,g1.default=r,g1}var ppe;function A7t(){if(ppe)return eI;ppe=1,Object.defineProperty(eI,"__esModule",{value:!0});const e=SMe(),t={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:n=>(0,e.validateTuple)(n,"items")};return eI.default=t,eI}var tI={},mpe;function k7t(){if(mpe)return tI;mpe=1,Object.defineProperty(tI,"__esModule",{value:!0});const e=Zn(),t=Ar(),n=Vd(),r=EMe(),o={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:s}})=>(0,e.str)`must NOT have more than ${s} items`,params:({params:{len:s}})=>(0,e._)`{limit: ${s}}`},code(s){const{schema:a,parentSchema:l,it:u}=s,{prefixItems:c}=l;u.items=!0,!(0,t.alwaysValidSchema)(u,a)&&(c?(0,r.validateAdditionalItems)(s,c):s.ok((0,n.validateArray)(s)))}};return tI.default=o,tI}var nI={},gpe;function I7t(){if(gpe)return nI;gpe=1,Object.defineProperty(nI,"__esModule",{value:!0});const e=Zn(),t=Ar(),r={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:i,max:o}})=>o===void 0?(0,e.str)`must contain at least ${i} valid item(s)`:(0,e.str)`must contain at least ${i} and no more than ${o} valid item(s)`,params:({params:{min:i,max:o}})=>o===void 0?(0,e._)`{minContains: ${i}}`:(0,e._)`{minContains: ${i}, maxContains: ${o}}`},code(i){const{gen:o,schema:s,parentSchema:a,data:l,it:u}=i;let c,d;const{minContains:f,maxContains:h}=a;u.opts.next?(c=f===void 0?1:f,d=h):c=1;const p=o.const("len",(0,e._)`${l}.length`);if(i.setParams({min:c,max:d}),d===void 0&&c===0){(0,t.checkStrictMode)(u,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(d!==void 0&&c>d){(0,t.checkStrictMode)(u,'"minContains" > "maxContains" is always invalid'),i.fail();return}if((0,t.alwaysValidSchema)(u,s)){let w=(0,e._)`${p} >= ${c}`;d!==void 0&&(w=(0,e._)`${w} && ${p} <= ${d}`),i.pass(w);return}u.items=!0;const m=o.name("valid");d===void 0&&c===1?y(m,()=>o.if(m,()=>o.break())):c===0?(o.let(m,!0),d!==void 0&&o.if((0,e._)`${l}.length > 0`,g)):(o.let(m,!1),g()),i.result(m,()=>i.reset());function g(){const w=o.name("_valid"),E=o.let("count",0);y(w,()=>o.if(w,()=>v(E)))}function y(w,E){o.forRange("i",0,p,_=>{i.subschema({keyword:"contains",dataProp:_,dataPropType:t.Type.Num,compositeRule:!0},w),E()})}function v(w){o.code((0,e._)`${w}++`),d===void 0?o.if((0,e._)`${w} >= ${c}`,()=>o.assign(m,!0).break()):(o.if((0,e._)`${w} > ${d}`,()=>o.assign(m,!1).break()),c===1?o.assign(m,!0):o.if((0,e._)`${w} >= ${c}`,()=>o.assign(m,!0)))}}};return nI.default=r,nI}var C8={},ype;function R7t(){return ype||(ype=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=Zn(),n=Ar(),r=Vd();e.error={message:({params:{property:l,depsCount:u,deps:c}})=>{const d=u===1?"property":"properties";return(0,t.str)`must have ${d} ${c} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:c,missingProperty:d}})=>(0,t._)`{property: ${l},
    missingProperty: ${d},
    depsCount: ${u},
    deps: ${c}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[u,c]=o(l);s(l,u),a(l,c)}};function o({schema:l}){const u={},c={};for(const d in l){if(d==="__proto__")continue;const f=Array.isArray(l[d])?u:c;f[d]=l[d]}return[u,c]}function s(l,u=l.schema){const{gen:c,data:d,it:f}=l;if(Object.keys(u).length===0)return;const h=c.let("missing");for(const p in u){const m=u[p];if(m.length===0)continue;const g=(0,r.propertyInData)(c,d,p,f.opts.ownProperties);l.setParams({property:p,depsCount:m.length,deps:m.join(", ")}),f.allErrors?c.if(g,()=>{for(const y of m)(0,r.checkReportMissingProp)(l,y)}):(c.if((0,t._)`${g} && (${(0,r.checkMissingProp)(l,m,h)})`),(0,r.reportMissingProp)(l,h),c.else())}}e.validatePropertyDeps=s;function a(l,u=l.schema){const{gen:c,data:d,keyword:f,it:h}=l,p=c.name("valid");for(const m in u)(0,n.alwaysValidSchema)(h,u[m])||(c.if((0,r.propertyInData)(c,d,m,h.opts.ownProperties),()=>{const g=l.subschema({keyword:f,schemaProp:m},p);l.mergeValidEvaluated(g,p)},()=>c.var(p,!0)),l.ok(p))}e.validateSchemaDeps=a,e.default=i}(C8)),C8}var rI={},vpe;function D7t(){if(vpe)return rI;vpe=1,Object.defineProperty(rI,"__esModule",{value:!0});const e=Zn(),t=Ar(),r={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:i})=>(0,e._)`{propertyName: ${i.propertyName}}`},code(i){const{gen:o,schema:s,data:a,it:l}=i;if((0,t.alwaysValidSchema)(l,s))return;const u=o.name("valid");o.forIn("key",a,c=>{i.setParams({propertyName:c}),i.subschema({keyword:"propertyNames",data:c,dataTypes:["string"],propertyName:c,compositeRule:!0},u),o.if((0,e.not)(u),()=>{i.error(!0),l.allErrors||o.break()})}),i.ok(u)}};return rI.default=r,rI}var iI={},bpe;function TMe(){if(bpe)return iI;bpe=1,Object.defineProperty(iI,"__esModule",{value:!0});const e=Vd(),t=Zn(),n=k0(),r=Ar(),o={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:s})=>(0,t._)`{additionalProperty: ${s.additionalProperty}}`},code(s){const{gen:a,schema:l,parentSchema:u,data:c,errsCount:d,it:f}=s;if(!d)throw new Error("ajv implementation error");const{allErrors:h,opts:p}=f;if(f.props=!0,p.removeAdditional!=="all"&&(0,r.alwaysValidSchema)(f,l))return;const m=(0,e.allSchemaProperties)(u.properties),g=(0,e.allSchemaProperties)(u.patternProperties);y(),s.ok((0,t._)`${d} === ${n.default.errors}`);function y(){a.forIn("key",c,x=>{!m.length&&!g.length?E(x):a.if(v(x),()=>E(x))})}function v(x){let S;if(m.length>8){const C=(0,r.schemaRefOrVal)(f,u.properties,"properties");S=(0,e.isOwnProperty)(a,C,x)}else m.length?S=(0,t.or)(...m.map(C=>(0,t._)`${x} === ${C}`)):S=t.nil;return g.length&&(S=(0,t.or)(S,...g.map(C=>(0,t._)`${(0,e.usePattern)(s,C)}.test(${x})`))),(0,t.not)(S)}function w(x){a.code((0,t._)`delete ${c}[${x}]`)}function E(x){if(p.removeAdditional==="all"||p.removeAdditional&&l===!1){w(x);return}if(l===!1){s.setParams({additionalProperty:x}),s.error(),h||a.break();return}if(typeof l=="object"&&!(0,r.alwaysValidSchema)(f,l)){const S=a.name("valid");p.removeAdditional==="failing"?(_(x,S,!1),a.if((0,t.not)(S),()=>{s.reset(),w(x)})):(_(x,S),h||a.if((0,t.not)(S),()=>a.break()))}}function _(x,S,C){const A={keyword:"additionalProperties",dataProp:x,dataPropType:r.Type.Str};C===!1&&Object.assign(A,{compositeRule:!0,createErrors:!1,allErrors:!1}),s.subschema(A,S)}}};return iI.default=o,iI}var oI={},wpe;function $7t(){if(wpe)return oI;wpe=1,Object.defineProperty(oI,"__esModule",{value:!0});const e=jL(),t=Vd(),n=Ar(),r=TMe(),i={keyword:"properties",type:"object",schemaType:"object",code(o){const{gen:s,schema:a,parentSchema:l,data:u,it:c}=o;c.opts.removeAdditional==="all"&&l.additionalProperties===void 0&&r.default.code(new e.KeywordCxt(c,r.default,"additionalProperties"));const d=(0,t.allSchemaProperties)(a);for(const g of d)c.definedProperties.add(g);c.opts.unevaluated&&d.length&&c.props!==!0&&(c.props=n.mergeEvaluated.props(s,(0,n.toHash)(d),c.props));const f=d.filter(g=>!(0,n.alwaysValidSchema)(c,a[g]));if(f.length===0)return;const h=s.name("valid");for(const g of f)p(g)?m(g):(s.if((0,t.propertyInData)(s,u,g,c.opts.ownProperties)),m(g),c.allErrors||s.else().var(h,!0),s.endIf()),o.it.definedProperties.add(g),o.ok(h);function p(g){return c.opts.useDefaults&&!c.compositeRule&&a[g].default!==void 0}function m(g){o.subschema({keyword:"properties",schemaProp:g,dataProp:g},h)}}};return oI.default=i,oI}var sI={},xpe;function M7t(){if(xpe)return sI;xpe=1,Object.defineProperty(sI,"__esModule",{value:!0});const e=Vd(),t=Zn(),n=Ar(),r=Ar(),i={keyword:"patternProperties",type:"object",schemaType:"object",code(o){const{gen:s,schema:a,data:l,parentSchema:u,it:c}=o,{opts:d}=c,f=(0,e.allSchemaProperties)(a),h=f.filter(E=>(0,n.alwaysValidSchema)(c,a[E]));if(f.length===0||h.length===f.length&&(!c.opts.unevaluated||c.props===!0))return;const p=d.strictSchema&&!d.allowMatchingProperties&&u.properties,m=s.name("valid");c.props!==!0&&!(c.props instanceof t.Name)&&(c.props=(0,r.evaluatedPropsToName)(s,c.props));const{props:g}=c;y();function y(){for(const E of f)p&&v(E),c.allErrors?w(E):(s.var(m,!0),w(E),s.if(m))}function v(E){for(const _ in p)new RegExp(E).test(_)&&(0,n.checkStrictMode)(c,`property ${_} matches pattern ${E} (use allowMatchingProperties)`)}function w(E){s.forIn("key",l,_=>{s.if((0,t._)`${(0,e.usePattern)(o,E)}.test(${_})`,()=>{const x=h.includes(E);x||o.subschema({keyword:"patternProperties",schemaProp:E,dataProp:_,dataPropType:r.Type.Str},m),c.opts.unevaluated&&g!==!0?s.assign((0,t._)`${g}[${_}]`,!0):!x&&!c.allErrors&&s.if((0,t.not)(m),()=>s.break())})})}}};return sI.default=i,sI}var aI={},_pe;function P7t(){if(_pe)return aI;_pe=1,Object.defineProperty(aI,"__esModule",{value:!0});const e=Ar(),t={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(n){const{gen:r,schema:i,it:o}=n;if((0,e.alwaysValidSchema)(o,i)){n.fail();return}const s=r.name("valid");n.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),n.failResult(s,()=>n.reset(),()=>n.error())},error:{message:"must NOT be valid"}};return aI.default=t,aI}var lI={},Epe;function N7t(){if(Epe)return lI;Epe=1,Object.defineProperty(lI,"__esModule",{value:!0});const t={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Vd().validateUnion,error:{message:"must match a schema in anyOf"}};return lI.default=t,lI}var uI={},Spe;function O7t(){if(Spe)return uI;Spe=1,Object.defineProperty(uI,"__esModule",{value:!0});const e=Zn(),t=Ar(),r={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:i})=>(0,e._)`{passingSchemas: ${i.passing}}`},code(i){const{gen:o,schema:s,parentSchema:a,it:l}=i;if(!Array.isArray(s))throw new Error("ajv implementation error");if(l.opts.discriminator&&a.discriminator)return;const u=s,c=o.let("valid",!1),d=o.let("passing",null),f=o.name("_valid");i.setParams({passing:d}),o.block(h),i.result(c,()=>i.reset(),()=>i.error(!0));function h(){u.forEach((p,m)=>{let g;(0,t.alwaysValidSchema)(l,p)?o.var(f,!0):g=i.subschema({keyword:"oneOf",schemaProp:m,compositeRule:!0},f),m>0&&o.if((0,e._)`${f} && ${c}`).assign(c,!1).assign(d,(0,e._)`[${d}, ${m}]`).else(),o.if(f,()=>{o.assign(c,!0),o.assign(d,m),g&&i.mergeEvaluated(g,e.Name)})})}}};return uI.default=r,uI}var cI={},Tpe;function L7t(){if(Tpe)return cI;Tpe=1,Object.defineProperty(cI,"__esModule",{value:!0});const e=Ar(),t={keyword:"allOf",schemaType:"array",code(n){const{gen:r,schema:i,it:o}=n;if(!Array.isArray(i))throw new Error("ajv implementation error");const s=r.name("valid");i.forEach((a,l)=>{if((0,e.alwaysValidSchema)(o,a))return;const u=n.subschema({keyword:"allOf",schemaProp:l},s);n.ok(s),n.mergeEvaluated(u)})}};return cI.default=t,cI}var dI={},Cpe;function F7t(){if(Cpe)return dI;Cpe=1,Object.defineProperty(dI,"__esModule",{value:!0});const e=Zn(),t=Ar(),r={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:o})=>(0,e.str)`must match "${o.ifClause}" schema`,params:({params:o})=>(0,e._)`{failingKeyword: ${o.ifClause}}`},code(o){const{gen:s,parentSchema:a,it:l}=o;a.then===void 0&&a.else===void 0&&(0,t.checkStrictMode)(l,'"if" without "then" and "else" is ignored');const u=i(l,"then"),c=i(l,"else");if(!u&&!c)return;const d=s.let("valid",!0),f=s.name("_valid");if(h(),o.reset(),u&&c){const m=s.let("ifClause");o.setParams({ifClause:m}),s.if(f,p("then",m),p("else",m))}else u?s.if(f,p("then")):s.if((0,e.not)(f),p("else"));o.pass(d,()=>o.error(!0));function h(){const m=o.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},f);o.mergeEvaluated(m)}function p(m,g){return()=>{const y=o.subschema({keyword:m},f);s.assign(d,f),o.mergeValidEvaluated(y,d),g?s.assign(g,(0,e._)`${m}`):o.setParams({ifClause:m})}}}};function i(o,s){const a=o.schema[s];return a!==void 0&&!(0,t.alwaysValidSchema)(o,a)}return dI.default=r,dI}var fI={},Ape;function B7t(){if(Ape)return fI;Ape=1,Object.defineProperty(fI,"__esModule",{value:!0});const e=Ar(),t={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:n,parentSchema:r,it:i}){r.if===void 0&&(0,e.checkStrictMode)(i,`"${n}" without "if" is ignored`)}};return fI.default=t,fI}var kpe;function j7t(){if(kpe)return Z3;kpe=1,Object.defineProperty(Z3,"__esModule",{value:!0});const e=EMe(),t=A7t(),n=SMe(),r=k7t(),i=I7t(),o=R7t(),s=D7t(),a=TMe(),l=$7t(),u=M7t(),c=P7t(),d=N7t(),f=O7t(),h=L7t(),p=F7t(),m=B7t();function g(y=!1){const v=[c.default,d.default,f.default,h.default,p.default,m.default,s.default,a.default,o.default,l.default,u.default];return y?v.push(t.default,r.default):v.push(e.default,n.default),v.push(i.default),v}return Z3.default=g,Z3}var hI={},pI={},Ipe;function z7t(){if(Ipe)return pI;Ipe=1,Object.defineProperty(pI,"__esModule",{value:!0});const e=Zn(),n={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:r})=>(0,e.str)`must match format "${r}"`,params:({schemaCode:r})=>(0,e._)`{format: ${r}}`},code(r,i){const{gen:o,data:s,$data:a,schema:l,schemaCode:u,it:c}=r,{opts:d,errSchemaPath:f,schemaEnv:h,self:p}=c;if(!d.validateFormats)return;a?m():g();function m(){const y=o.scopeValue("formats",{ref:p.formats,code:d.code.formats}),v=o.const("fDef",(0,e._)`${y}[${u}]`),w=o.let("fType"),E=o.let("format");o.if((0,e._)`typeof ${v} == "object" && !(${v} instanceof RegExp)`,()=>o.assign(w,(0,e._)`${v}.type || "string"`).assign(E,(0,e._)`${v}.validate`),()=>o.assign(w,(0,e._)`"string"`).assign(E,v)),r.fail$data((0,e.or)(_(),x()));function _(){return d.strictSchema===!1?e.nil:(0,e._)`${u} && !${E}`}function x(){const S=h.$async?(0,e._)`(${v}.async ? await ${E}(${s}) : ${E}(${s}))`:(0,e._)`${E}(${s})`,C=(0,e._)`(typeof ${E} == "function" ? ${S} : ${E}.test(${s}))`;return(0,e._)`${E} && ${E} !== true && ${w} === ${i} && !${C}`}}function g(){const y=p.formats[l];if(!y){_();return}if(y===!0)return;const[v,w,E]=x(y);v===i&&r.pass(S());function _(){if(d.strictSchema===!1){p.logger.warn(C());return}throw new Error(C());function C(){return`unknown format "${l}" ignored in schema at path "${f}"`}}function x(C){const A=C instanceof RegExp?(0,e.regexpCode)(C):d.code.formats?(0,e._)`${d.code.formats}${(0,e.getProperty)(l)}`:void 0,k=o.scopeValue("formats",{key:l,ref:C,code:A});return typeof C=="object"&&!(C instanceof RegExp)?[C.type||"string",C.validate,(0,e._)`${k}.validate`]:["string",C,k]}function S(){if(typeof y=="object"&&!(y instanceof RegExp)&&y.async){if(!h.$async)throw new Error("async format in sync schema");return(0,e._)`await ${E}(${s})`}return typeof w=="function"?(0,e._)`${E}(${s})`:(0,e._)`${E}.test(${s})`}}}};return pI.default=n,pI}var Rpe;function U7t(){if(Rpe)return hI;Rpe=1,Object.defineProperty(hI,"__esModule",{value:!0});const t=[z7t().default];return hI.default=t,hI}var iy={},Dpe;function H7t(){return Dpe||(Dpe=1,Object.defineProperty(iy,"__esModule",{value:!0}),iy.contentVocabulary=iy.metadataVocabulary=void 0,iy.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],iy.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),iy}var $pe;function V7t(){if($pe)return L3;$pe=1,Object.defineProperty(L3,"__esModule",{value:!0});const e=p7t(),t=C7t(),n=j7t(),r=U7t(),i=H7t(),o=[e.default,t.default,(0,n.default)(),r.default,i.metadataVocabulary,i.contentVocabulary];return L3.default=o,L3}var mI={},jE={},Mpe;function W7t(){if(Mpe)return jE;Mpe=1,Object.defineProperty(jE,"__esModule",{value:!0}),jE.DiscrError=void 0;var e;return function(t){t.Tag="tag",t.Mapping="mapping"}(e||(jE.DiscrError=e={})),jE}var Ppe;function q7t(){if(Ppe)return mI;Ppe=1,Object.defineProperty(mI,"__esModule",{value:!0});const e=Zn(),t=W7t(),n=XQ(),r=zL(),i=Ar(),s={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:a,tagName:l}})=>a===t.DiscrError.Tag?`tag "${l}" must be string`:`value of tag "${l}" must be in oneOf`,params:({params:{discrError:a,tag:l,tagName:u}})=>(0,e._)`{error: ${a}, tag: ${u}, tagValue: ${l}}`},code(a){const{gen:l,data:u,schema:c,parentSchema:d,it:f}=a,{oneOf:h}=d;if(!f.opts.discriminator)throw new Error("discriminator: requires discriminator option");const p=c.propertyName;if(typeof p!="string")throw new Error("discriminator: requires propertyName");if(c.mapping)throw new Error("discriminator: mapping is not supported");if(!h)throw new Error("discriminator: requires oneOf keyword");const m=l.let("valid",!1),g=l.const("tag",(0,e._)`${u}${(0,e.getProperty)(p)}`);l.if((0,e._)`typeof ${g} == "string"`,()=>y(),()=>a.error(!1,{discrError:t.DiscrError.Tag,tag:g,tagName:p})),a.ok(m);function y(){const E=w();l.if(!1);for(const _ in E)l.elseIf((0,e._)`${g} === ${_}`),l.assign(m,v(E[_]));l.else(),a.error(!1,{discrError:t.DiscrError.Mapping,tag:g,tagName:p}),l.endIf()}function v(E){const _=l.name("valid"),x=a.subschema({keyword:"oneOf",schemaProp:E},_);return a.mergeEvaluated(x,e.Name),_}function w(){var E;const _={},x=C(d);let S=!0;for(let N=0;N<h.length;N++){let M=h[N];if(M!=null&&M.$ref&&!(0,i.schemaHasRulesButRef)(M,f.self.RULES)){const D=M.$ref;if(M=n.resolveRef.call(f.self,f.schemaEnv.root,f.baseId,D),M instanceof n.SchemaEnv&&(M=M.schema),M===void 0)throw new r.default(f.opts.uriResolver,f.baseId,D)}const I=(E=M==null?void 0:M.properties)===null||E===void 0?void 0:E[p];if(typeof I!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${p}"`);S=S&&(x||C(M)),A(I,N)}if(!S)throw new Error(`discriminator: "${p}" must be required`);return _;function C({required:N}){return Array.isArray(N)&&N.includes(p)}function A(N,M){if(N.const)k(N.const,M);else if(N.enum)for(const I of N.enum)k(I,M);else throw new Error(`discriminator: "properties/${p}" must have "const" or "enum"`)}function k(N,M){if(typeof N!="string"||N in _)throw new Error(`discriminator: "${p}" values must be unique strings`);_[N]=M}}}};return mI.default=s,mI}const G7t="http://json-schema.org/draft-07/schema#",Y7t="http://json-schema.org/draft-07/schema#",K7t="Core schema meta-schema",X7t={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Q7t=["object","boolean"],J7t={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},Z7t={$schema:G7t,$id:Y7t,title:K7t,definitions:X7t,type:Q7t,properties:J7t,default:!0};var Npe;function ezt(){return Npe||(Npe=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const n=d7t(),r=V7t(),i=q7t(),o=Z7t,s=["/properties"],a="http://json-schema.org/draft-07/schema";class l extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(p=>this.addVocabulary(p)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const p=this.opts.$data?this.$dataMetaSchema(o,s):o;this.addMetaSchema(p,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}t.Ajv=l,e.exports=t=l,e.exports.Ajv=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var u=jL();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var c=Zn();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});var d=KQ();Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return d.default}});var f=zL();Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return f.default}})}($3,$3.exports)),$3.exports}var tzt=ezt();const JQ=ul(tzt),nzt="#/definitions/StudyConfig",rzt="http://json-schema.org/draft-07/schema#",izt=JSON.parse('{"Answer":{"additionalProperties":false,"description":"The Answer interface is used to define the properties of an answer. Answers are used to define the correct answer for a task. These are generally used in training tasks or if skip logic is required based on the answer.\\n\\nAnswers are used to defined correct answers for a task. These are generally used in training tasks or if skip logic is required based on the answer. The answer field is used to define the correct answer to the question. The acceptableLow and acceptableHigh fields are used to define a range of acceptable answers (these are currently only used for training). For example, if the correct answer is 5, and the acceptableLow is 4 and the acceptableHigh is 6, then any answer between 4 and 6 will be considered correct.\\n\\nHere\'s an example of how to use the Answer interface to define the correct answer to a question:\\n\\n```js { \\"type\\": \\"markdown\\", \\"path\\": \\"<study-name>/assets/question.md\\", \\"response\\": [  {    \\"id\\": \\"response1\\",    \\"prompt\\": \\"What is 2 + 2?\\",    \\"location\\": \\"belowStimulus\\",    \\"type\\": \\"numerical\\"  } ] \\"correctAnswer\\": [{  \\"id\\": \\"response1\\",  \\"answer\\": 4 }] } ```\\n\\nIn this example, the correct answer to the question \\"What is 2 + 2?\\" is 4. If the participant answers 4, they will be considered correct. If they answer anything other than 4, they will be considered incorrect.","properties":{"acceptableHigh":{"description":"The acceptable high value for the answer. This is used to define a range of acceptable answers.","type":"number"},"acceptableLow":{"description":"The acceptable low value for the answer. This is used to define a range of acceptable answers.","type":"number"},"answer":{"description":"The correct answer to the question."},"id":{"description":"The id of the answer. This is used to identify the answer in the data file.","type":"string"}},"required":["id","answer"],"type":"object"},"BaseComponents":{"additionalProperties":{"additionalProperties":false,"properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If not provided, the default is true.","type":"boolean"},"config":{"description":"The vega or vega-lite configuration.","type":"object"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"forceCompletion":{"description":"Whether to force the video to play until the end. Defaults to true.","type":"boolean"},"helpTextPathOverride":{"description":"Optional override for the help text. If present, will override the default help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"A timeout (in ms) after which the next button will be disabled.","type":"number"},"nextButtonEnableTime":{"description":"A timer (in ms) after which the next button will be enabled.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button."},"nextButtonText":{"description":"The text that is displayed on the next button.","type":"string"},"parameters":{"anyOf":[{"additionalProperties":{},"description":"The parameters that are passed to the react component. These can be used within your react component to render different things.","type":"object"},{"additionalProperties":{},"description":"The parameters that are passed to the website (iframe). These can be used within your website to render different things.","type":"object"}],"description":"The parameters that are passed to the react component. These can be used within your react component to render different things."},"path":{"anyOf":[{"description":"The path to the markdown file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the react component. This should be a relative path from the src/public folder.","type":"string"},{"description":"The path to the image. This could be a relative path from the public folder or a url to an external image.","type":"string"},{"description":"The path to the website. This should be a relative path from the public folder or could be an external website.","type":"string"},{"description":"The path to the vega file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the video. This could be a relative path from the public folder or might be a url to an external website.","type":"string"}],"description":"The path to the markdown file. This should be a relative path from the public folder."},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.","type":"boolean"},"recordAudio":{"description":"Whether or not to record audio for a component. Only relevant if recordStudyAudio in the uiConfig is true. Defaults to false.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. Defaults to false.","type":"boolean"},"style":{"additionalProperties":{"type":"string"},"description":"The style of the image. This is an object with css properties as keys and css values as values.","type":"object"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.","type":"number"},"type":{"enum":["markdown","react-component","image","website","questionnaire","vega","video"],"type":"string"},"withTimeline":{"description":"Whether to show the video timeline. Defaults to false.","type":"boolean"}},"type":"object"},"description":"The baseComponents is an optional set of components which can help template other components. For example, suppose you have a single HTML file that you want to display to the user several times. Instead of having the same component twice in the `components` list, you can have a single baseComponent with all the information that the two HTML components will share. A great example is showing the same HTML component but with two different questions;\\n\\n Using baseComponents:\\n\\n```js \\"baseComponents\\": { \\"my-image-component\\": { \\"instructionLocation\\": \\"sidebar\\", \\"nextButtonLocation\\": \\"sidebar\\", \\"path\\": \\"<study-name>/assets/my-image.jpg\\", \\"response\\": [   {     \\"id\\": \\"my-image-id\\",     \\"options\\": [\\"Europe\\", \\"Japan\\", \\"USA\\"],     \\"prompt\\": \\"Your Selected Answer:\\",     \\"type\\": \\"dropdown\\"   } ], \\"type\\": \\"image\\" } } ``` In the above code snippet, we have a single base component which holds the information about the type of component, the path to the image, and the response (which is a dropdown containing three choices). Any component which contains the `\\"baseComponent\\":\\"my-image-component\\"` key-value pair will inherit each of these properties. Thus, if we have three different questions which have the same choices and are concerning the same image, we can define our components like below: ```js \\"components\\": { \\"q1\\": { \\"baseComponent\\": \\"my-image-component\\", \\"description\\": \\"Choosing section with largest GDP\\", \\"instruction\\": \\"Which region has the largest GDP?\\" }, \\"q2\\": { \\"baseComponent\\": \\"my-image-component\\", \\"description\\": \\"Choosing section with lowest GDP\\", \\"instruction\\": \\"Which region has the lowest GDP?\\" }, \\"q3\\": { \\"baseComponent\\": \\"my-image-component\\", \\"description\\": \\"Choosing section with highest exports of Wheat\\", \\"instruction\\": \\"Which region had the most Wheat exported in 2022?\\" } } ```","type":"object"},"ButtonsResponse":{"additionalProperties":false,"description":"The ButtonsResponse interface is used to define the properties of a buttons response. ButtonsResponses render as a list of buttons that the participant can click. When a button is clicked, the value of the button is stored in the data file. Participants can cycle through the options using the arrow keys.\\n\\nExample: ```js {   \\"id\\": \\"buttonsResponse\\",   \\"type\\": \\"buttons\\",   \\"prompt\\": \\"Click a button\\",   \\"location\\": \\"belowStimulus\\",   \\"options\\": [     \\"Option 1\\",     \\"Option 2\\",     \\"Option 3\\"   ] } ``` In this example, the participant can click one of the buttons labeled \\"Option 1\\", \\"Option 2\\", or \\"Option 3\\".","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"options":{"items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"type":{"const":"buttons","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"CheckboxResponse":{"additionalProperties":false,"description":"The CheckboxResponse interface is used to define the properties of a checkbox response. CheckboxResponses render as a checkbox input with user specified options.\\n\\n```js { \\"id\\": \\"q7\\", \\"prompt\\": \\"Checkbox example (not required)\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"checkbox\\", \\"options\\": [\\"Option 1\\", \\"Option 2\\", \\"Option 3\\"] } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"horizontal":{"description":"Whether to render the checkboxes horizontally. Defaults to false, so they render horizontally.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"maxSelections":{"description":"The maximum number of selections that are required.","type":"number"},"minSelections":{"description":"The minimum number of selections that are required.","type":"number"},"options":{"description":"The options that are displayed as checkboxes, provided as an array of objects, with label and value fields.","items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"type":{"const":"checkbox","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"},"withOther":{"description":"Whether to render the checkboxes with an \\"other\\" option.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"ComponentBlock":{"additionalProperties":false,"description":"The ComponentBlock interface is used to define order properties within the sequence. This is used to define the order of components in a study and the skip logic. It supports random assignment of trials using a pure random assignment and a [latin square](https://en.wikipedia.org/wiki/Latin_square).\\n\\nThe pure random assignment is a random assignment with no guarantees. For example, one component _could_ show up in the first position 10 times in a row. However, this situation is unlikely.\\n\\nHere\'s a snippet that shows how to use the random order:\\n\\n```js { \\"order\\": \\"random\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ] } ``` This snippet would produce a random order of the components in the sequence array. For example, the resulting sequence array could be :\\n\\n```js [ [\\"component2\\", \\"component3\\", \\"component1\\"], [\\"component1\\", \\"component3\\", \\"component2\\"], [\\"component3\\", \\"component1\\", \\"component2\\"], ... ] ```\\n\\nThe latin square assignment is a random assignment with some guarantees. It ensures that each component is shown an equal number of times in each position. Here\'s a snippet that shows how to use the latin square order:\\n\\n```js { \\"order\\": \\"latinSquare\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ] } ```\\n\\nThis snippet would produce a latin square order of the components in the sequence array. Since the latin square guarantees that each component is shown an equal number of times in each position, the resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"component2\\", \\"component3\\"], [\\"component2\\", \\"component3\\", \\"component1\\"], [\\"component3\\", \\"component1\\", \\"component2\\"], ... ] ```\\n\\nThe fixed assignment is a fixed assignment of components. This is used when you want to show the components in a specific order. Here\'s a snippet that shows how to use the fixed order:\\n\\n```js { \\"order\\": \\"fixed\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ] } ```\\n\\nThis snippet would produce a fixed order of the components in the sequence array. The resulting sequence array would be:\\n\\n```js [ [\\"component1\\", \\"component2\\", \\"component3\\"], [\\"component1\\", \\"component2\\", \\"component3\\"], [\\"component1\\", \\"component2\\", \\"component3\\"], ... ] ```\\n\\nIn addition to the order property, the ComponentBlock interface also includes the `\\"numSamples\\"` property. This is used to reduce the number of components shown to a participant. This property respects the order property and the guarantees provided by the order property. For example, if you have three components in the components array and you set `\\"numSamples\\"` to 2, you would randomize across the three components while only showing a participant two of them. Here\'s a snippet that shows how to use the numSamples property:\\n\\n```js { \\"order\\": \\"latinSquare\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ], \\"numSamples\\": 2 } ```\\n\\nThis snippet would produce a latin square order of the components in the sequence array. Since the latin square guarantees that each component is shown an equal number of times in each position, the resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"component2\\"], [\\"component2\\", \\"component3\\"], [\\"component3\\", \\"component1\\"], ... ] ```\\n\\nThe interruptions property specifies an array of interruptions. These can be used for breaks or attention checks. Interruptions can be deterministic or random. Please see [InterruptionBlock](../../type-aliases/InterruptionBlock) for more specific information.\\n\\nThe skip property is used to define skip conditions. This is used to skip to a different component or block based on the response to a component or the number of correct or incorrect responses in a block. Please see [SkipConditions](../../type-aliases/SkipConditions) for more specific information.","properties":{"components":{"description":"The components that are included in the order.","items":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/ComponentBlock"},{"$ref":"#/definitions/DynamicBlock"}]},"type":"array"},"id":{"description":"The id of the block. This is used to identify the block in the SkipConditions and is only required if you want to refer to the whole block in the condition.to property.","type":"string"},"interruptions":{"description":"The interruptions property specifies an array of interruptions. These can be used for breaks or attention checks.","items":{"$ref":"#/definitions/InterruptionBlock"},"type":"array"},"numSamples":{"description":"The number of samples to use for the random assignments. This means you can randomize across 3 components while only showing a participant 2 at a time.","type":"number"},"order":{"description":"The type of order. This can be random (pure random), latinSquare (random with some guarantees), or fixed.","enum":["random","latinSquare","fixed"],"type":"string"},"skip":{"$ref":"#/definitions/SkipConditions","description":"The skip conditions for the block."}},"required":["order","components"],"type":"object"},"ComponentBlockCondition":{"additionalProperties":false,"description":"The ComponentBlockCondition interface is used to define a SkipCondition based on the number of correct or incorrect components in a block. All answers on all components in the block are checked.\\n\\nAnswers are checked against the correct answers defined in the IndividualComponent\'s [CorrectAnswer](../Answer). If no correct answers are defined, the component is considered correct by default.\\n\\nYou might use this if a participant answers two questions in a block incorrectly. Here\'s an example of how to use the ComponentBlockCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"check\\": \\"block\\",   \\"condition\\": \\"numIncorrect\\",   \\"value\\": 2,   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, when the number of components with incorrect responses in the block is two, the participant will be redirected to the end of the study. If the number of incorrect responses is less than two, the participant will continue to the next component in the sequence.\\n\\nWhen the condition is met, the participant will immediately be redirected to the component or block specified in the `\\"to\\"` property. If no conditions are met, the participant will continue to the next component in the sequence.","properties":{"check":{"const":"block","description":"The check we\'ll perform.","type":"string"},"condition":{"description":"The condition to check.","enum":["numCorrect","numIncorrect"],"type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"},"value":{"description":"The number of correct or incorrect responses to check for.","type":"number"}},"required":["check","condition","value","to"],"type":"object"},"ConfigResponseBlockLocation":{"enum":["sidebar","aboveStimulus","belowStimulus"],"type":"string"},"DeterministicInterruption":{"additionalProperties":false,"description":"The DeterministicInterruption interface is used to define an interruption that will be shown at a specific location in the block.\\n\\nFor example, if you want to show an interruption after the second component in the block, you would set firstLocation to 2. If you want to show an interruption after every 3 components, you would set spacing to 3. If you want to show an interruption after the second component and then every 3 components, you would set firstLocation to 2 and spacing to 3.\\n\\nThe components property is an array of the components that will be inserted at the location specified by firstLocation and spacing. These components should reference components in the StudyConfig.components section of the config.\\n\\nHere\'s an example of how to use the DeterministicInterruption:\\n\\n```js { \\"order\\": \\"fixed\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"component6\\" ], \\"interruptions\\": [ {   \\"firstLocation\\": 2,   \\"spacing\\": 3,   \\"components\\": [     \\"interruption1\\",     \\"interruption2\\"   ] } ] } ```\\n\\nThe resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"component2\\", \\"interruption1\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption2\\", \\"component6\\"], [\\"component1\\", \\"component2\\", \\"interruption1\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption2\\", \\"component6\\"], [\\"component1\\", \\"component2\\", \\"interruption1\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption2\\", \\"component6\\"], ... ] ```","properties":{"components":{"description":"The components that are included in the interruption. These reference components in the StudyConfig.components section of the config.","items":{"type":"string"},"type":"array"},"firstLocation":{"description":"The Location of the first instance of the interruption. If this is set to 2, the interruption will be shown after the second component (inserted at index 2).","type":"number"},"spacing":{"description":"The number of components between breaks.","type":"number"}},"required":["firstLocation","spacing","components"],"type":"object"},"DropdownResponse":{"additionalProperties":false,"description":"The DropdownResponse interface is used to define the properties of a dropdown response. DropdownResponses render as a select input with user specified options.\\n\\nExample: ```js { \\"id\\": \\"q-color\\", \\"prompt\\": \\"What is your favorite color?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"dropdown\\", \\"placeholder\\": \\"Please choose your favorite color\\", \\"options\\": [\\"Red\\", \\"Blue\\"] } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"options":{"description":"The options that are displayed in the dropdown.","items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"type":{"const":"dropdown","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"DynamicBlock":{"additionalProperties":false,"description":"The DynamicBlock interface is used to define a block where displayed components are controlled by a function. This is useful when you want to generate the sequence based on answers to previous questions or other factors.\\n\\nThe functionPath property is a path to the function that generates the components. This should be a relative path from the src/public folder.\\n\\nHere\'s an example of how to use the DynamicBlock:\\n\\n```js {   \\"id\\": \\"funcBlock\\",   \\"order\\": \\"dynamic\\",   \\"functionPath\\": \\"<study-name>/assets/function.js\\",   \\"parameters\\": {     \\"param1\\": \\"value1\\",     \\"param2\\": \\"value2\\"   } } ```","properties":{"functionPath":{"description":"The path to the function that generates the components. This should be a relative path from the src/public folder.","type":"string"},"id":{"description":"The id of the block. This is used to identify the block in the SkipConditions and is only required if you want to refer to the whole block in the condition.to property.","type":"string"},"order":{"const":"dynamic","description":"The type of order. This can be random (pure random), latinSquare (random with some guarantees), or fixed.","type":"string"},"parameters":{"additionalProperties":{},"description":"The parameters that are passed to the function. These can be used within your function to render different things.","type":"object"}},"required":["id","order","functionPath"],"type":"object"},"ImageComponent":{"additionalProperties":false,"description":"The ImageComponent interface is used to define the properties of an image component. This component is used to render an image with optional styling.\\n\\nFor example, to render an image with a path of `path/to/study/assets/image.jpg` and a max width of 50%, you would use the following snippet: ```js { \\"type\\": \\"image\\", \\"path\\": \\"<study-name>/assets/image.jpg\\", \\"style\\": { \\"maxWidth\\": \\"50%\\" } } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If not provided, the default is true.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"helpTextPathOverride":{"description":"Optional override for the help text. If present, will override the default help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"A timeout (in ms) after which the next button will be disabled.","type":"number"},"nextButtonEnableTime":{"description":"A timer (in ms) after which the next button will be enabled.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button."},"nextButtonText":{"description":"The text that is displayed on the next button.","type":"string"},"path":{"description":"The path to the image. This could be a relative path from the public folder or a url to an external image.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.","type":"boolean"},"recordAudio":{"description":"Whether or not to record audio for a component. Only relevant if recordStudyAudio in the uiConfig is true. Defaults to false.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. Defaults to false.","type":"boolean"},"style":{"additionalProperties":{"type":"string"},"description":"The style of the image. This is an object with css properties as keys and css values as values.","type":"object"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.","type":"number"},"type":{"const":"image","type":"string"}},"required":["path","response","type"],"type":"object"},"IndividualComponent":{"anyOf":[{"$ref":"#/definitions/MarkdownComponent"},{"$ref":"#/definitions/ReactComponent"},{"$ref":"#/definitions/ImageComponent"},{"$ref":"#/definitions/WebsiteComponent"},{"$ref":"#/definitions/QuestionnaireComponent"},{"$ref":"#/definitions/VegaComponent"},{"$ref":"#/definitions/VideoComponent"}]},"IndividualComponentAllResponsesCondition":{"additionalProperties":false,"description":"The IndividualComponentAllResponsesCondition interface is used to define a SkipCondition based on all answers to a specific component. The skip logic will be checked for every component in the block that has the specified name.\\n\\n:::info\\n\\nIf you need to check all instances of a repeated component, you should use the RepeatedComponentBlockCondition.\\n\\n:::\\n\\n\\nHere\'s an example of how to use the IndividualComponentAllResponsesCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"name\\": \\"attentionCheck\\",   \\"check\\": \\"responses\\",   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, if all responses to the component with the ID \\"attentionCheck\\" are correct, the participant will be redirected to the end of the study. If any response is incorrect, the participant will continue to the next component in the sequence.","properties":{"check":{"const":"responses","description":"The check we\'ll perform.","type":"string"},"name":{"description":"The name of the component to check.","type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"}},"required":["name","check","to"],"type":"object"},"IndividualComponentSingleResponseCondition":{"additionalProperties":false,"description":"The IndividualComponentSingleResponseCondition interface is used to define a SkipCondition based on a single answer to a specific component. The skip logic will be checked for every component in the block that has the specified name.\\n\\n:::info\\n\\nIf you need to check all instances of a repeated component, you should use the RepeatedComponentBlockCondition.\\n\\n:::\\n\\nFor example, if you want to skip to a different component based on a response to a specific component, you would use the IndividualComponentSingleResponseCondition. Here\'s an example of how to use the IndividualComponentSingleResponseCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"name\\": \\"attentionCheck\\",   \\"check\\": \\"response\\",   \\"responseId\\": \\"attentionCheckResponse\\",   \\"value\\": \\"the right answer\\",   \\"comparison\\": \\"equal\\",   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, we assign our skip logic to the component whose ID is \\"attentionCheck\\". If the answer given to the response \\"attentionCheckResponse\\" is equal to \\"the right answer\\", then the user will be redirected to the end of the study. If the response is _not_ equal to \\"the right answer\\", then the participant will continue to the next component in the sequence.","properties":{"check":{"const":"response","description":"The check we\'ll perform.","type":"string"},"comparison":{"description":"The comparison to use.","enum":["equal","notEqual"],"type":"string"},"name":{"description":"The name of the component to check.","type":"string"},"responseId":{"description":"The response id to check.","type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"},"value":{"description":"The value to check.","type":["string","number"]}},"required":["name","check","responseId","value","comparison","to"],"type":"object"},"InheritedComponent":{"additionalProperties":false,"description":"An InheritedComponent is a component that inherits properties from a baseComponent. This is used to avoid repeating properties in components. This also means that components in the baseComponents object can be partially defined, while components in the components object can inherit from them and must be fully defined and include all properties (after potentially merging with a base component).","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If not provided, the default is true.","type":"boolean"},"baseComponent":{"type":"string"},"config":{"description":"The vega or vega-lite configuration.","type":"object"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"forceCompletion":{"description":"Whether to force the video to play until the end. Defaults to true.","type":"boolean"},"helpTextPathOverride":{"description":"Optional override for the help text. If present, will override the default help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"A timeout (in ms) after which the next button will be disabled.","type":"number"},"nextButtonEnableTime":{"description":"A timer (in ms) after which the next button will be enabled.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button."},"nextButtonText":{"description":"The text that is displayed on the next button.","type":"string"},"parameters":{"anyOf":[{"additionalProperties":{},"description":"The parameters that are passed to the react component. These can be used within your react component to render different things.","type":"object"},{"additionalProperties":{},"description":"The parameters that are passed to the website (iframe). These can be used within your website to render different things.","type":"object"}],"description":"The parameters that are passed to the react component. These can be used within your react component to render different things."},"path":{"anyOf":[{"description":"The path to the markdown file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the react component. This should be a relative path from the src/public folder.","type":"string"},{"description":"The path to the image. This could be a relative path from the public folder or a url to an external image.","type":"string"},{"description":"The path to the website. This should be a relative path from the public folder or could be an external website.","type":"string"},{"description":"The path to the vega file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the video. This could be a relative path from the public folder or might be a url to an external website.","type":"string"}],"description":"The path to the markdown file. This should be a relative path from the public folder."},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.","type":"boolean"},"recordAudio":{"description":"Whether or not to record audio for a component. Only relevant if recordStudyAudio in the uiConfig is true. Defaults to false.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. Defaults to false.","type":"boolean"},"style":{"additionalProperties":{"type":"string"},"description":"The style of the image. This is an object with css properties as keys and css values as values.","type":"object"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.","type":"number"},"type":{"enum":["markdown","react-component","image","website","questionnaire","vega","video"],"type":"string"},"withTimeline":{"description":"Whether to show the video timeline. Defaults to false.","type":"boolean"}},"required":["baseComponent"],"type":"object"},"InterruptionBlock":{"anyOf":[{"$ref":"#/definitions/DeterministicInterruption"},{"$ref":"#/definitions/RandomInterruption"}],"description":"The InterruptionBlock interface is used to define interruptions in a block. These can be used for breaks or attention checks. Interruptions can be deterministic or random."},"LikertResponse":{"additionalProperties":false,"description":"The LikertResponse interface is used to define the properties of a likert response. LikertResponses render as radio buttons with a user specified number of options, which can be controlled through the numItems. For example, numItems: 5 will render 5 radio buttons, and numItems: 7 will render 7 radio buttons. LikertResponses can also have a description, and left and right labels. The left and right labels are used to label the left and right ends of the likert scale with values such as \'Strongly Disagree\' and \'Strongly Agree\'.\\n\\nExample for a five-point Likert Scale:\\n\\n```js { \\"id\\": \\"q-satisfaction\\", \\"prompt\\": \\"Rate your satisfaction from 1 (not enjoyable) to 5 (very enjoyable).\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"likert\\", \\"leftLabel\\": \\"Not Enjoyable\\", \\"rightLabel\\": \\"Very Enjoyable\\", \\"numItems\\": 5 } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"leftLabel":{"description":"The left label of the likert scale. E.g Strongly Disagree","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"numItems":{"description":"The number of options to render.","type":"number"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"rightLabel":{"description":"The right label of the likert scale. E.g Strongly Agree","type":"string"},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"type":{"const":"likert","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","numItems","prompt","type"],"type":"object"},"LongTextResponse":{"additionalProperties":false,"description":"The LongTextResponse interface is used to define the properties of a long text response. LongTextResponses render as a text area that accepts any text and can optionally have a placeholder. ```js { \\"id\\": \\"q-name\\", \\"prompt\\": \\"What is your first name?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"longText\\", \\"placeholder\\": \\"Please enter your first name\\" } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"type":{"const":"longText","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"MarkdownComponent":{"additionalProperties":false,"description":"The MarkdownComponent interface is used to define the properties of a markdown component. The components can be used to render many different things, such as consent forms, instructions, and debriefs. Additionally, you can use the markdown component to render images, videos, and other media, with supporting text. Markdown components can have responses (e.g. in a consent form), or no responses (e.g. in a help text file). Here\'s an example with no responses for a simple help text file:\\n\\n```js { \\"type\\": \\"markdown\\", \\"path\\": \\"<study-name>/assets/help.md\\", \\"response\\": [] } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If not provided, the default is true.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"helpTextPathOverride":{"description":"Optional override for the help text. If present, will override the default help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"A timeout (in ms) after which the next button will be disabled.","type":"number"},"nextButtonEnableTime":{"description":"A timer (in ms) after which the next button will be enabled.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button."},"nextButtonText":{"description":"The text that is displayed on the next button.","type":"string"},"path":{"description":"The path to the markdown file. This should be a relative path from the public folder.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.","type":"boolean"},"recordAudio":{"description":"Whether or not to record audio for a component. Only relevant if recordStudyAudio in the uiConfig is true. Defaults to false.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. Defaults to false.","type":"boolean"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.","type":"number"},"type":{"const":"markdown","type":"string"}},"required":["path","response","type"],"type":"object"},"MatrixResponse":{"additionalProperties":false,"description":"The MatrixResponse interface is used to define the properties of a matrix radio or matrix checkbox response. Question options are rendered as rows of the matrix, each row containing its own radio/checkbox group. Answer options are rendered as column headers of the matrix. These can be customized by passing in the custom strings into the answer options. Alternatively, `answerOptions` can be set to one of the following custom strings: \'satisfaction5\',\'satisfaction7\', \'likely5\', \'likely7\'. This will automatically generate the appropriate headers for the matrix.\\n\\nExample for a 5-scale satisfaction matrix with three questions:\\n\\n```js { \\"id\\": \\"multi-satisfaction\\", \\"prompt\\": \\"Rate your satisfaction from 1 (not enjoyable) to 5 (very enjoyable) for the following items.\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"matrix-radio\\", \\"answerOptions\\": \\"satisfaction5\\", \\"questionOptions\\": [  \\"The tool we created\\",  \\"The technique we developed\\",  \\"The authors of the tools\\" ] } ```\\n\\nHere\'s an example using custom columns (answerOptions):\\n\\n```js { \\"id\\": \\"multi-custom\\", \\"prompt\\": \\"Which categories do the following items belong to?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"matrix-checkbox\\", \\"answerOptions\\": [  \\"Has Legs\\",  \\"Has Wings\\",  \\"Can Swim\\" ], \\"questionOptions\\": [  \\"Dog\\",  \\"Snake\\",  \\"Eagle\\",  \\"Salmon\\",  \\"Platypus\\" ]\\n\\n} ```","properties":{"answerOptions":{"anyOf":[{"items":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/StringOption"}]},"type":"array"},{"const":"likely5","type":"string"},{"const":"likely7","type":"string"},{"const":"satisfaction5","type":"string"},{"const":"satisfaction7","type":"string"}],"description":"The answer options (columns). We provide some shortcuts for a likelihood scale (ranging from highly unlikely to highly likely) and a satisfaction scale (ranging from highly unsatisfied to highly satisfied) with either 5 or 7 options to choose from."},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"questionOptions":{"description":"The question options (rows) are the prompts for each response you\'d like to record.","items":{"type":"string"},"type":"array"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"type":{"enum":["matrix-radio","matrix-checkbox"],"type":"string"},"withDivider":{"description":"Renders the response with a trailing divider.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["answerOptions","id","prompt","questionOptions","type"],"type":"object"},"NumberOption":{"additionalProperties":false,"description":"The NumberOption interface is used to define the options for a slider response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file.","properties":{"label":{"description":"The label displayed to participants.","type":"string"},"value":{"description":"The value stored in the participant\'s data.","type":"number"}},"required":["label","value"],"type":"object"},"NumericalResponse":{"additionalProperties":false,"description":"The NumericalResponse interface is used to define the properties of a numerical response. NumericalResponses render as a text input that only accepts numbers, and can optionally have a min and max value, or a placeholder.\\n\\nExample: ```js { \\"id\\": \\"q-numerical\\", \\"prompt\\": \\"Numerical example\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"numerical\\", \\"placeholder\\": \\"Enter your age, range from 0 - 120\\", \\"max\\": 120, \\"min\\": 0 } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"max":{"description":"The maximum value that is accepted in the input.","type":"number"},"min":{"description":"The minimum value that is accepted in the input.","type":"number"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"type":{"const":"numerical","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"QuestionnaireComponent":{"additionalProperties":false,"description":"A QuestionnaireComponent is used to render simple questions that require a response. The main use case of this component type is to ask participants questions when you don\'t need to render a stimulus. Please note, that even though we\'re not using a stimulus, the responses still require a `location`. For example this could be used to collect demographic information from a participant using the following snippet:\\n\\n```js { \\"type\\": \\"questionnaire\\", \\"response\\": [  {    \\"id\\": \\"gender\\",    \\"prompt\\": \\"Gender:\\",    \\"location\\": \\"belowStimulus\\",    \\"type\\": \\"checkbox\\",    \\"options\\": [\\"Man\\", \\"Woman\\", \\"Genderqueer\\", \\"Third-gender\\", ...]  } ] } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If not provided, the default is true.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"helpTextPathOverride":{"description":"Optional override for the help text. If present, will override the default help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"A timeout (in ms) after which the next button will be disabled.","type":"number"},"nextButtonEnableTime":{"description":"A timer (in ms) after which the next button will be enabled.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button."},"nextButtonText":{"description":"The text that is displayed on the next button.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.","type":"boolean"},"recordAudio":{"description":"Whether or not to record audio for a component. Only relevant if recordStudyAudio in the uiConfig is true. Defaults to false.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. Defaults to false.","type":"boolean"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.","type":"number"},"type":{"const":"questionnaire","type":"string"}},"required":["response","type"],"type":"object"},"RadioResponse":{"additionalProperties":false,"description":"The RadioResponse interface is used to define the properties of a radio response. Radios have only one allowable selection. RadioResponses render as a radio input with user specified options, and optionally left and right labels.\\n\\nExample: ```js { \\"id\\": \\"q-radio\\", \\"prompt\\": \\"Radio button example\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"radio\\", \\"options\\": [\\"Option 1\\", \\"Option 2\\"] } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"horizontal":{"description":"Whether to render the radio buttons horizontally. Defaults to false, so they render horizontally.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"leftLabel":{"description":"The left label of the radio group. Used in Likert scales for example","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"options":{"description":"The options that are displayed as checkboxes, provided as an array of objects, with label and value fields.","items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"rightLabel":{"description":"The right label of the radio group. Used in Likert scales for example","type":"string"},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"type":{"const":"radio","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"},"withOther":{"description":"Whether to render the radios with an \\"other\\" option.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"RandomInterruption":{"additionalProperties":false,"description":"The RandomInterruption interface is used to define an interruption that will be shown randomly in the block.\\n\\nFor example, if you want to show a single interruption randomly in the block, you would set `\\"spacing\\"` to \\"random\\" and `\\"numInterruptions\\"` to 1. If you want to show 3 interruptions randomly in the block, you would set `\\"spacing\\"` to \\"random\\" and `\\"numInterruptions\\"` to 3.\\n\\nThe components property is an array of the components that will be inserted randomly in the block. These components should reference components in the StudyConfig.components section of the config.\\n\\nHere\'s an example of how to use the RandomInterruption:\\n\\n```js { \\"order\\": \\"fixed\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"component6\\" ], \\"interruptions\\": [ {   \\"spacing\\": \\"random\\",   \\"numInterruptions\\": 3,   \\"components\\": [     \\"interruption1\\",     \\"interruption2\\"   ] } ] } ```\\n\\nThe resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"interruption1\\", \\"interruption2\\", \\"component2\\", \\"interruption1\\", \\"interruption2\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption1\\", \\"interruption2\\", \\"component6], [\\"component1\\", \\"interruption1\\", \\"interruption2\\", \\"component2\\", \\"interruption1\\", \\"interruption2\\", \\"component3\\", \\"component4\\", \\"interruption1\\", \\"interruption2\\", \\"component5\\", \\"component6], [\\"component1\\", \\"component2\\" \\"interruption1\\", \\"interruption2\\", \\"component3\\", \\"interruption1\\", \\"interruption2\\", \\"component4\\", \\"component5\\", \\"interruption1\\", \\"interruption2\\", \\"component6], ... ] ```","properties":{"components":{"description":"The components that are included in the interruption. These reference components in the StudyConfig.components section of the config.","items":{"type":"string"},"type":"array"},"numInterruptions":{"description":"The number of times the interruption will be randomly added","type":"number"},"spacing":{"const":"random","description":"If spacing is set to random, reVISit will add interruptions randomly. These interruptions will not ever be displayed as the first component in the block.","type":"string"}},"required":["spacing","numInterruptions","components"],"type":"object"},"ReactComponent":{"additionalProperties":false,"description":"The ReactComponent interface is used to define the properties of a react component. This component is used to render react code with certain parameters. These parameters can be used within your react code to render different things.\\n\\nUnlike other types of components, the path for a React component is relative to the `src/public/` folder. Similar to our standard assets, we suggest creating a folder named `src/public/{studyName}/assets` to house all of the React component assets for a particular study. Your React component which you link to in the path must be default exported from its file.\\n\\nReact components created this way have a generic prop type passed to the component on render, `<StimulusParams<T>>`, which has the following types.\\n\\n```ts { parameters: T; setAnswer: ({ status, provenanceGraph, answers }: { status: boolean, provenanceGraph?: TrrackedProvenance, answers: Record<string, any> }) => void } ```\\n\\nparameters is the same object passed in from the ReactComponent type below, allowing you to pass options in from the config to your component. setAnswer is a callback function allowing the creator of the ReactComponent to programmatically set the answer, as well as the provenance graph. This can be useful if you don\'t use the default answer interface, and instead have something more unique.\\n\\nSo, for example, if I had the following ReactComponent in my config ```js { type: \'react-component\'; path: \'my_study/CoolComponent.tsx\'; parameters: {  name: \'Zach\';  age: 26; } } ```\\n\\nMy react component, CoolComponent.tsx, would exist in src/public/my_study/assets, and look something like this\\n\\n```ts export default function CoolComponent({ parameters, setAnswer }: StimulusParams<{name: string, age: number}>) { // render something } ```\\n\\nFor in depth examples, see the following studies, and their associated codebases. https://revisit.dev/study/demo-click-accuracy-test (https://github.com/revisit-studies/study/tree/v2.1.1/src/public/demo-click-accuracy-test/assets) https://revisit.dev/study/example-brush-interactions (https://github.com/revisit-studies/study/tree/v2.1.1/src/public/example-brush-interactions/assets)","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If not provided, the default is true.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"helpTextPathOverride":{"description":"Optional override for the help text. If present, will override the default help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"A timeout (in ms) after which the next button will be disabled.","type":"number"},"nextButtonEnableTime":{"description":"A timer (in ms) after which the next button will be enabled.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button."},"nextButtonText":{"description":"The text that is displayed on the next button.","type":"string"},"parameters":{"additionalProperties":{},"description":"The parameters that are passed to the react component. These can be used within your react component to render different things.","type":"object"},"path":{"description":"The path to the react component. This should be a relative path from the src/public folder.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.","type":"boolean"},"recordAudio":{"description":"Whether or not to record audio for a component. Only relevant if recordStudyAudio in the uiConfig is true. Defaults to false.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. Defaults to false.","type":"boolean"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.","type":"number"},"type":{"const":"react-component","type":"string"}},"required":["path","response","type"],"type":"object"},"ReactiveResponse":{"additionalProperties":false,"description":"The ReactiveResponse interface is used to define the properties of a reactive response. ReactiveResponses render as a list, that is connected to a WebsiteComponent, VegaComponent, or ReactComponent. When data is sent from the components, it is displayed in the list.\\n\\n```js { \\"id\\": \\"reactiveResponse\\", \\"prompt\\": \\"Answer clicked in the stimulus\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"reactive\\" } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"type":{"const":"reactive","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"RepeatedComponentBlockCondition":{"additionalProperties":false,"description":"The RepeatedComponentBlockCondition interface is used to define a SkipCondition based on the number of correct or incorrect repeated components. You might use this if you need to check if an attention check was failed multiple times. This is similar to the [ComponentBlockCondition](../ComponentBlockCondition), but it only checks a specific repeated component.\\n\\nHere\'s an example of how to use the RepeatedComponentBlockCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"name\\": \\"attentionCheck\\",   \\"check\\": \\"repeatedComponent\\",   \\"condition\\": \\"numIncorrect\\",   \\"value\\": 2,   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, when the number of incorrect responses to the repeated component with the name \\"attentionCheck\\" is two, the participant will be redirected to the end of the study. If the number of incorrect responses is less than two, the participant will continue to the next component in the sequence.","properties":{"check":{"const":"repeatedComponent","description":"The check we\'ll perform.","type":"string"},"condition":{"description":"The condition to check.","enum":["numCorrect","numIncorrect"],"type":"string"},"name":{"description":"The name of the repeated component to check (e.g. attentionCheck).","type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"},"value":{"description":"The number of correct or incorrect responses to check for.","type":"number"}},"required":["name","check","condition","value","to"],"type":"object"},"Response":{"anyOf":[{"$ref":"#/definitions/NumericalResponse"},{"$ref":"#/definitions/ShortTextResponse"},{"$ref":"#/definitions/LongTextResponse"},{"$ref":"#/definitions/LikertResponse"},{"$ref":"#/definitions/DropdownResponse"},{"$ref":"#/definitions/SliderResponse"},{"$ref":"#/definitions/RadioResponse"},{"$ref":"#/definitions/CheckboxResponse"},{"$ref":"#/definitions/ReactiveResponse"},{"$ref":"#/definitions/MatrixResponse"},{"$ref":"#/definitions/ButtonsResponse"}]},"ShortTextResponse":{"additionalProperties":false,"description":"The ShortTextResponse interface is used to define the properties of a short text response. ShortTextResponses render as a text input that accepts any text and can optionally have a placeholder.\\n\\n```js { \\"id\\": \\"q-short-text\\", \\"prompt\\": \\"Short text example\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"shortText\\", \\"placeholder\\": \\"Enter your answer here\\" } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"type":{"const":"shortText","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"SkipConditions":{"description":"The SkipConditions interface is used to define skip conditions. This is used to skip to a different component/block based on the response to a component or based on the number of correct/incorrect responses in a block. Skip conditions work recursively: if you have a nested block, the parent blocks\' skip conditions will be considered when computing the skip logic.\\n\\nSkip conditions are evaluated in the order they are defined in the array. If a condition is met, the participant will be redirected to the component or block specified in the `\\"to\\"` property. If no conditions are met, the participant will continue to the next component in the sequence.\\n\\nSkip conditions allow you to jump to a different component or block. If you intend to skip to a block, you should specify a block id in the sequence. If you intend to skip to a component, you should specify a component id. Skipping backwards is not supported. Skipping to a repeated component will skip to the first instance of the component after the component that triggered the skip.\\n\\nPlease see the interface definitions for more specific information on the different types of skip conditions.","items":{"anyOf":[{"$ref":"#/definitions/IndividualComponentSingleResponseCondition"},{"$ref":"#/definitions/IndividualComponentAllResponsesCondition"},{"$ref":"#/definitions/ComponentBlockCondition"},{"$ref":"#/definitions/RepeatedComponentBlockCondition"}]},"type":"array"},"SliderResponse":{"additionalProperties":false,"description":"The SliderResponse interface is used to define the properties of a slider response. SliderResponses render as a slider input with user specified steps. For example, you could have steps of 0, 50, and 100.\\n\\nExample: ```js { \\"id\\": \\"q-slider\\", \\"prompt\\": \\"How are you feeling?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"slider\\", \\"options\\": [  {    \\"label\\": \\"Bad\\",    \\"value\\": 0  },  {    \\"label\\": \\"OK\\",    \\"value\\": 50  },  {    \\"label\\": \\"Good\\",    \\"value\\": 100  } ] } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"options":{"description":"This defines the steps in the slider and the extent of the slider as an array of objects that have a label and a value.","items":{"$ref":"#/definitions/NumberOption"},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"snap":{"description":"Whether the slider should snap between values. Defaults to false. Slider snapping disables the label above the handle.","type":"boolean"},"startingValue":{"description":"The starting value of the slider. Defaults to the minimum value.","type":"number"},"step":{"description":"The step value of the slider. If not provided (and snap not enabled), the step value is calculated as the range of the slider divided by 100.","type":"number"},"tlxStyle":{"description":"Whether to render the slider with a NASA-tlx style. Defaults to false.","type":"boolean"},"type":{"const":"slider","type":"string"},"withBar":{"description":"Whether to render the slider with a bar to the left. Defaults to true.","type":"boolean"},"withDivider":{"description":"Renders the response with a trailing divider.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"StringOption":{"additionalProperties":false,"description":"The StringOption interface is used to define the options for a dropdown, radio, buttons, or checkbox response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file.","properties":{"label":{"description":"The label displayed to participants.","type":"string"},"separator":{"description":"Separate this option from the previous options via divider","type":"boolean"},"value":{"description":"The value stored in the participant\'s data.","type":"string"}},"required":["label","value"],"type":"object"},"StudyConfig":{"additionalProperties":false,"description":"The StudyConfig interface is used to define the properties of a study configuration. This is a JSON object with four main components: the StudyMetadata, the UIConfig, the Components, and the Sequence. Below is the general template that should be followed when constructing a Study configuration file.\\n\\n```js { \\"$schema\\": \\"https://raw.githubusercontent.com/revisit-studies/study/v2.1.1/src/parser/StudyConfigSchema.json\\", \\"studyMetadata\\": {  ... }, \\"uiConfig\\": {  ... }, \\"components\\": {  ... }, \\"sequence\\": {  ... } } ```\\n\\n:::info For information about each of the individual pieces of the study configuration file, you can visit the documentation for each one individually. ::: <br/>\\n\\nThe `$schema` line is used to verify the schema. If you\'re using VSCode (or other similar IDEs), including this line will allow for autocomplete and helpful suggestions when writing the study configuration.","properties":{"$schema":{"description":"A required json schema property. This should point to the github link for the version of the schema you would like. The `$schema` line is used to verify the schema. If you\'re using VSCode (or other similar IDEs), including this line will allow for autocomplete and helpful suggestions when writing the study configuration. See examples for more information","type":"string"},"baseComponents":{"$ref":"#/definitions/BaseComponents","description":"The base components that are used in the study. These components can be used to template other components. See [BaseComponents](../../type-aliases/BaseComponents) for more information."},"components":{"additionalProperties":{"anyOf":[{"$ref":"#/definitions/IndividualComponent"},{"$ref":"#/definitions/InheritedComponent"}]},"description":"The components that are used in the study. They must be fully defined here with all properties. Some properties may be inherited from baseComponents.","type":"object"},"importedLibraries":{"description":"A list of libraries that are used in the study. This is used to import external libraries into the study. Library names are valid namespaces to be used later.","items":{"type":"string"},"type":"array"},"sequence":{"anyOf":[{"$ref":"#/definitions/ComponentBlock"},{"$ref":"#/definitions/DynamicBlock"}],"description":"The order of the components in the study. This might include some randomness."},"studyMetadata":{"$ref":"#/definitions/StudyMetadata","description":"The metadata for the study. This is used to identify the study and version in the data file."},"uiConfig":{"$ref":"#/definitions/UIConfig","description":"The UI configuration for the study. This is used to configure the UI of the app."}},"required":["$schema","studyMetadata","uiConfig","components","sequence"],"type":"object"},"StudyMetadata":{"additionalProperties":false,"description":"The StudyMetadata is used to describe certain properties of a study. Some of this data is displayed on the landing page when running the app, such as the title and description. Below is an example of a StudyMetadata entry in your study configuration file:\\n\\n```js \\"studyMetadata\\" : { \\"title\\": \\"My New Study\\", \\"version\\": \\"pilot\\", \\"authors\\": [  \\"Jane Doe\\",  \\"John Doe\\" ], \\"date\\": \\"2024-04-01\\", \\"description\\": \\"This study is meant to test your ability.\\", \\"organizations\\": [  \\"The reVISit Team\\",  \\"The Other Team\\" ] } ```","properties":{"authors":{"description":"The authors of your study.","items":{"type":"string"},"type":"array"},"date":{"description":"The date of your study, may be useful for the researcher.","type":"string"},"description":{"description":"The description of your study, shown on the landing page.","type":"string"},"organizations":{"description":"The organizations that are associated with your study.","items":{"type":"string"},"type":"array"},"title":{"description":"The title of your study, shown on the landing page.","type":"string"},"version":{"description":"The version of your study. When you change a configuration file after a study has already been distributed to participants, you can change the version number so that the participants who see this new configuration file can be identified.","type":"string"}},"required":["title","version","authors","date","description","organizations"],"type":"object"},"UIConfig":{"additionalProperties":false,"description":"The UIConfig is used to configure the UI of the app. This includes the logo, contact email, and whether to show a progress bar. The UIConfig is also used to configure the sidebar, which can be used to display the task instructions and capture responses. Below is an example of how the UI Config would look in your study configuration (note, there are optional fields that are not shown here): ```js uiConfig:{ \\"contactEmail\\": \\"contact@revisit.dev\\", \\"helpTextPath\\": \\"<study-name>/assets/help.md\\", \\"logoPath\\": \\"<study-name>/assets/logo.jpg\\", \\"withProgressBar\\": true, \\"autoDownloadStudy\\": true \\"autoDownloadTime\\": 5000, \\"studyEndMsg\\": \\"Thank you for completing this study. You\'re the best!\\", \\"sidebar\\": true, \\"windowEventDebounceTime\\": 500, \\"urlParticipantIdParam\\": \\"PROLIFIC_ID\\", \\"numSequences\\": 500 } ``` In the above, the `<study-name>/assets/` path is referring to the path to your individual study assets. It is common practice to have your study directory contain an `assets` directory where all components and images relevant to your study reside. Note that this path is relative to the `public` folder of the repository - as is all other paths you define in reVISit (aside from React components whose paths are relative to `src/public`.)","properties":{"autoDownloadStudy":{"description":"Controls whether the study data is automatically downloaded at the end of the study.","type":"boolean"},"autoDownloadTime":{"description":"The time in milliseconds to wait before automatically downloading the study data.","type":"number"},"contactEmail":{"description":"The email address that used during the study if a participant clicks contact.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported.","type":"string"},"logoPath":{"description":"The path to the logo image. This is displayed on the landing page and the header.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. Defaults to false.","type":"boolean"},"numSequences":{"description":"The number of sequences to generate for the study. This is used to generate the random sequences for the study. The default is 1000.","type":"number"},"participantNameField":{"description":"The default name field for a participant. Directs revisit to use the task and response id as a name in UI elements. For example, if you wanted the response \'prolificId\' from the task \'introduction\' to be the name, this field would be \'introduction.prolificId\'","type":"string"},"recordStudyAudio":{"description":"Whether or not we want to utilize think-aloud features. If true, will record audio on all components unless deactivated on individual components. Defaults to false.","type":"boolean"},"sidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. Defaults to 300.","type":"number"},"studyEndMsg":{"description":"The message to display when the study ends.","type":"string"},"timeoutReject":{"description":"Whether to redirect a timed out participant to a rejection page. This only works for components where the `nextButtonDisableTime` field is set.","type":"boolean"},"urlParticipantIdParam":{"description":"If the participant ID is passed in the URL, this is the name of the querystring parameter that is used to capture the participant ID (e.g. PROLIFIC_ID). This will allow a user to continue a study on different devices and browsers.","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. Defaults to 100. E.g 100 here means 1000ms / 100ms = 10 times a second, 200 here means 1000ms / 200ms = 5 times per second","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered in the study.","type":"boolean"}},"required":["contactEmail","logoPath","withProgressBar","sidebar"],"type":"object"},"VegaComponent":{"anyOf":[{"$ref":"#/definitions/VegaComponentPath"},{"$ref":"#/definitions/VegaComponentConfig"}]},"VegaComponentConfig":{"additionalProperties":false,"description":"The VegaComponentConfig interface is used to define the properties of a Vega Component. This component is used to render a Vega/Vega-Lite Component by adding Vega/Vega-Lite specs within the reVISit config itself.\\n\\nTo do this, would use the following snippet: ```js { \\"type\\": \\"vega\\", \\"config\\": { ... vega specs here ...}, }\\n\\nIIf you are using Vega, you can use signals with `revisitAnswer` to send the user\'s responses back to the reVISit. For example, you can use the following snippet in your Vega spec\'s signals section: ```js { \\"signals\\": [  {    \\"name\\": \\"revisitAnswer\\",    \\"value\\": {},    \\"on\\": [      {        \\"events\\": \\"rect:click\\",        \\"update\\": \\"{responseId: \'vegaDemoResponse1\', response: datum.category}\\"      }    ]  } ] } In this example, when a user clicks on a rectangle in the Vega chart, the `revisitAnswer` signal is updated with the responseId and response. ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If not provided, the default is true.","type":"boolean"},"config":{"description":"The vega or vega-lite configuration.","type":"object"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"helpTextPathOverride":{"description":"Optional override for the help text. If present, will override the default help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"A timeout (in ms) after which the next button will be disabled.","type":"number"},"nextButtonEnableTime":{"description":"A timer (in ms) after which the next button will be enabled.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button."},"nextButtonText":{"description":"The text that is displayed on the next button.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.","type":"boolean"},"recordAudio":{"description":"Whether or not to record audio for a component. Only relevant if recordStudyAudio in the uiConfig is true. Defaults to false.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. Defaults to false.","type":"boolean"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.","type":"number"},"type":{"const":"vega","type":"string"}},"required":["config","response","type"],"type":"object"},"VegaComponentPath":{"additionalProperties":false,"description":"The VegaComponentPath interface is used to define the properties of a Vega Component. This component is used to render a Vega/Vega-Lite Component with path pointing to your Vega/Vega-Lite specs file.\\n\\nFor example, to render a vega based stimuli with a path of `<study-name>/assets/vega.spec.json`, you would use the following snippet: ```js { \\"type\\": \\"vega\\", \\"path\\": \\"<study-name>/assets/vega.spec.json\\", } ```\\n\\nIf you are using Vega, you can use signals with `revisitAnswer` to send the user\'s responses back to the reVISit. For example, you can use the following snippet in your Vega spec file\'s signals section: ```js { \\"signals\\": [  {    \\"name\\": \\"revisitAnswer\\",    \\"value\\": {},    \\"on\\": [      {        \\"events\\": \\"rect:click\\",        \\"update\\": \\"{responseId: \'vegaDemoResponse1\', response: datum.category}\\"      }    ]  } ] } In this example, when a user clicks on a rectangle in the Vega chart, the `revisitAnswer` signal is updated with the responseId and response. This signal is then passed to reVISit as the participant\'s response. ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If not provided, the default is true.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"helpTextPathOverride":{"description":"Optional override for the help text. If present, will override the default help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"A timeout (in ms) after which the next button will be disabled.","type":"number"},"nextButtonEnableTime":{"description":"A timer (in ms) after which the next button will be enabled.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button."},"nextButtonText":{"description":"The text that is displayed on the next button.","type":"string"},"path":{"description":"The path to the vega file. This should be a relative path from the public folder.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.","type":"boolean"},"recordAudio":{"description":"Whether or not to record audio for a component. Only relevant if recordStudyAudio in the uiConfig is true. Defaults to false.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. Defaults to false.","type":"boolean"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.","type":"number"},"type":{"const":"vega","type":"string"}},"required":["path","response","type"],"type":"object"},"VideoComponent":{"additionalProperties":false,"description":"The VideoComponent interface is used to define the properties of a video component. This component is used to render a video with optional controls.\\n\\nMost often, video components will be used for trainings, and will have a `forceCompletion` field set to true. This will prevent the participant from moving on until the video has finished playing.\\n\\nAs such, the `forceCompletion` field is set to true by default, and the `withTimeline` field is set to false by default.\\n\\nFor example, to render a training video with a path of `<study-name>/assets/video.mp4`, you would use the following snippet: ```js {   \\"type\\": \\"video\\",   \\"path\\": \\"<study-name>/assets/video.mp4\\", } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If not provided, the default is true.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"forceCompletion":{"description":"Whether to force the video to play until the end. Defaults to true.","type":"boolean"},"helpTextPathOverride":{"description":"Optional override for the help text. If present, will override the default help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"A timeout (in ms) after which the next button will be disabled.","type":"number"},"nextButtonEnableTime":{"description":"A timer (in ms) after which the next button will be enabled.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button."},"nextButtonText":{"description":"The text that is displayed on the next button.","type":"string"},"path":{"description":"The path to the video. This could be a relative path from the public folder or might be a url to an external website.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.","type":"boolean"},"recordAudio":{"description":"Whether or not to record audio for a component. Only relevant if recordStudyAudio in the uiConfig is true. Defaults to false.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. Defaults to false.","type":"boolean"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.","type":"number"},"type":{"const":"video","type":"string"},"withTimeline":{"description":"Whether to show the video timeline. Defaults to false.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"WebsiteComponent":{"additionalProperties":false,"description":"The WebsiteComponent interface is used to define the properties of a website component. A WebsiteComponent is used to render an iframe with a website inside of it. This can be used to display an external website or an html file that is located in the public folder.\\n\\n```js { \\"type\\": \\"website\\", \\"path\\": \\"<study-name>/assets/website.html\\", } ```\\n\\nTo pass a data from the config to the website, you can use the `parameters` field as below:\\n\\n```js { \\"type\\": \\"website\\", \\"path\\": \\"<study-name>/website.html\\", \\"parameters\\": {  \\"barData\\": [0.32, 0.01, 1.2, 1.3, 0.82, 0.4, 0.3] }, \\"response\\": [  {    \\"id\\": \\"barChart\\",    \\"prompt\\": \\"Your selected answer:\\",    \\"location\\": \\"belowStimulus\\",    \\"type\\": \\"reactive\\"  } ] } ``` In the `website.html` file, by including `revisit-communicate.js`, you can use the `Revisit.onDataReceive` method to retrieve the data, and `Revisit.postAnswers` to send the user\'s responses back to the reVISit as shown in the example below:\\n\\n```html <script src=\\"../../revisitUtilities/revisit-communicate.js\\"><\/script> <script> Revisit.onDataReceive((data) => {  const barData = data[\'barData\'];  ... });\\n\\n// Call out that \'barChart\' needs to match ID in \'response\' object Revisit.postAnswers({ barChart: userAnswer }); <\/script> ```\\n\\n If the html website implements Trrack library for provenance tracking, you can send the provenance graph back to reVISit by calling `Revisit.postProvenanceGraph` as shown in the example below. You need to call this each time the Trrack state is updated so that reVISit is kept aware of the changes in the provenance graph.\\n\\n```js const trrack = initializeTrrack({ initialState, registry });\\n\\n... Revisit.postProvenance(trrack.graph.backend); ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If not provided, the default is true.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"helpTextPathOverride":{"description":"Optional override for the help text. If present, will override the default help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"A timeout (in ms) after which the next button will be disabled.","type":"number"},"nextButtonEnableTime":{"description":"A timer (in ms) after which the next button will be enabled.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button."},"nextButtonText":{"description":"The text that is displayed on the next button.","type":"string"},"parameters":{"additionalProperties":{},"description":"The parameters that are passed to the website (iframe). These can be used within your website to render different things.","type":"object"},"path":{"description":"The path to the website. This should be a relative path from the public folder or could be an external website.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.","type":"boolean"},"recordAudio":{"description":"Whether or not to record audio for a component. Only relevant if recordStudyAudio in the uiConfig is true. Defaults to false.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. Defaults to false.","type":"boolean"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.","type":"number"},"type":{"const":"website","type":"string"}},"required":["path","response","type"],"type":"object"}}'),ozt={$ref:nzt,$schema:rzt,definitions:izt},szt="#/definitions/GlobalConfig",azt="http://json-schema.org/draft-07/schema#",lzt={GlobalConfig:{additionalProperties:!1,description:"The GlobalConfig is used to generate the list of available studies in the UI. This list is displayed on the landing page when running the app.",properties:{$schema:{description:"A required json schema property. This should point to the github link for the version of the schema you would like. See examples in the public folder for more information",type:"string"},configs:{additionalProperties:{additionalProperties:!1,description:"The key is used to identify the study config file. This key is used in the configList property.",properties:{path:{description:"The path to the study config file. This should be a relative path from the public folder.",type:"string"},test:{description:"Indicates whether the study is a test study. This is used to hide the study from the landing page.",type:"boolean"}},required:["path"],type:"object"},description:"A required property that specifies the options for the configList property.",type:"object"},configsList:{description:"A required property that is used to generate the list of available studies in the UI. This list is displayed on the landing page when running the app.",items:{type:"string"},type:"array"}},required:["$schema","configs","configsList"],type:"object"}},uzt={$ref:szt,$schema:azt,definitions:lzt},czt="#/definitions/LibraryConfig",dzt="http://json-schema.org/draft-07/schema#",fzt=JSON.parse('{"Answer":{"additionalProperties":false,"description":"The Answer interface is used to define the properties of an answer. Answers are used to define the correct answer for a task. These are generally used in training tasks or if skip logic is required based on the answer.\\n\\nAnswers are used to defined correct answers for a task. These are generally used in training tasks or if skip logic is required based on the answer. The answer field is used to define the correct answer to the question. The acceptableLow and acceptableHigh fields are used to define a range of acceptable answers (these are currently only used for training). For example, if the correct answer is 5, and the acceptableLow is 4 and the acceptableHigh is 6, then any answer between 4 and 6 will be considered correct.\\n\\nHere\'s an example of how to use the Answer interface to define the correct answer to a question:\\n\\n```js { \\"type\\": \\"markdown\\", \\"path\\": \\"<study-name>/assets/question.md\\", \\"response\\": [  {    \\"id\\": \\"response1\\",    \\"prompt\\": \\"What is 2 + 2?\\",    \\"location\\": \\"belowStimulus\\",    \\"type\\": \\"numerical\\"  } ] \\"correctAnswer\\": [{  \\"id\\": \\"response1\\",  \\"answer\\": 4 }] } ```\\n\\nIn this example, the correct answer to the question \\"What is 2 + 2?\\" is 4. If the participant answers 4, they will be considered correct. If they answer anything other than 4, they will be considered incorrect.","properties":{"acceptableHigh":{"description":"The acceptable high value for the answer. This is used to define a range of acceptable answers.","type":"number"},"acceptableLow":{"description":"The acceptable low value for the answer. This is used to define a range of acceptable answers.","type":"number"},"answer":{"description":"The correct answer to the question."},"id":{"description":"The id of the answer. This is used to identify the answer in the data file.","type":"string"}},"required":["id","answer"],"type":"object"},"BaseComponents":{"additionalProperties":{"additionalProperties":false,"properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If not provided, the default is true.","type":"boolean"},"config":{"description":"The vega or vega-lite configuration.","type":"object"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"forceCompletion":{"description":"Whether to force the video to play until the end. Defaults to true.","type":"boolean"},"helpTextPathOverride":{"description":"Optional override for the help text. If present, will override the default help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"A timeout (in ms) after which the next button will be disabled.","type":"number"},"nextButtonEnableTime":{"description":"A timer (in ms) after which the next button will be enabled.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button."},"nextButtonText":{"description":"The text that is displayed on the next button.","type":"string"},"parameters":{"anyOf":[{"additionalProperties":{},"description":"The parameters that are passed to the react component. These can be used within your react component to render different things.","type":"object"},{"additionalProperties":{},"description":"The parameters that are passed to the website (iframe). These can be used within your website to render different things.","type":"object"}],"description":"The parameters that are passed to the react component. These can be used within your react component to render different things."},"path":{"anyOf":[{"description":"The path to the markdown file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the react component. This should be a relative path from the src/public folder.","type":"string"},{"description":"The path to the image. This could be a relative path from the public folder or a url to an external image.","type":"string"},{"description":"The path to the website. This should be a relative path from the public folder or could be an external website.","type":"string"},{"description":"The path to the vega file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the video. This could be a relative path from the public folder or might be a url to an external website.","type":"string"}],"description":"The path to the markdown file. This should be a relative path from the public folder."},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.","type":"boolean"},"recordAudio":{"description":"Whether or not to record audio for a component. Only relevant if recordStudyAudio in the uiConfig is true. Defaults to false.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. Defaults to false.","type":"boolean"},"style":{"additionalProperties":{"type":"string"},"description":"The style of the image. This is an object with css properties as keys and css values as values.","type":"object"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.","type":"number"},"type":{"enum":["markdown","react-component","image","website","questionnaire","vega","video"],"type":"string"},"withTimeline":{"description":"Whether to show the video timeline. Defaults to false.","type":"boolean"}},"type":"object"},"description":"The baseComponents is an optional set of components which can help template other components. For example, suppose you have a single HTML file that you want to display to the user several times. Instead of having the same component twice in the `components` list, you can have a single baseComponent with all the information that the two HTML components will share. A great example is showing the same HTML component but with two different questions;\\n\\n Using baseComponents:\\n\\n```js \\"baseComponents\\": { \\"my-image-component\\": { \\"instructionLocation\\": \\"sidebar\\", \\"nextButtonLocation\\": \\"sidebar\\", \\"path\\": \\"<study-name>/assets/my-image.jpg\\", \\"response\\": [   {     \\"id\\": \\"my-image-id\\",     \\"options\\": [\\"Europe\\", \\"Japan\\", \\"USA\\"],     \\"prompt\\": \\"Your Selected Answer:\\",     \\"type\\": \\"dropdown\\"   } ], \\"type\\": \\"image\\" } } ``` In the above code snippet, we have a single base component which holds the information about the type of component, the path to the image, and the response (which is a dropdown containing three choices). Any component which contains the `\\"baseComponent\\":\\"my-image-component\\"` key-value pair will inherit each of these properties. Thus, if we have three different questions which have the same choices and are concerning the same image, we can define our components like below: ```js \\"components\\": { \\"q1\\": { \\"baseComponent\\": \\"my-image-component\\", \\"description\\": \\"Choosing section with largest GDP\\", \\"instruction\\": \\"Which region has the largest GDP?\\" }, \\"q2\\": { \\"baseComponent\\": \\"my-image-component\\", \\"description\\": \\"Choosing section with lowest GDP\\", \\"instruction\\": \\"Which region has the lowest GDP?\\" }, \\"q3\\": { \\"baseComponent\\": \\"my-image-component\\", \\"description\\": \\"Choosing section with highest exports of Wheat\\", \\"instruction\\": \\"Which region had the most Wheat exported in 2022?\\" } } ```","type":"object"},"ButtonsResponse":{"additionalProperties":false,"description":"The ButtonsResponse interface is used to define the properties of a buttons response. ButtonsResponses render as a list of buttons that the participant can click. When a button is clicked, the value of the button is stored in the data file. Participants can cycle through the options using the arrow keys.\\n\\nExample: ```js {   \\"id\\": \\"buttonsResponse\\",   \\"type\\": \\"buttons\\",   \\"prompt\\": \\"Click a button\\",   \\"location\\": \\"belowStimulus\\",   \\"options\\": [     \\"Option 1\\",     \\"Option 2\\",     \\"Option 3\\"   ] } ``` In this example, the participant can click one of the buttons labeled \\"Option 1\\", \\"Option 2\\", or \\"Option 3\\".","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"options":{"items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"type":{"const":"buttons","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"CheckboxResponse":{"additionalProperties":false,"description":"The CheckboxResponse interface is used to define the properties of a checkbox response. CheckboxResponses render as a checkbox input with user specified options.\\n\\n```js { \\"id\\": \\"q7\\", \\"prompt\\": \\"Checkbox example (not required)\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"checkbox\\", \\"options\\": [\\"Option 1\\", \\"Option 2\\", \\"Option 3\\"] } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"horizontal":{"description":"Whether to render the checkboxes horizontally. Defaults to false, so they render horizontally.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"maxSelections":{"description":"The maximum number of selections that are required.","type":"number"},"minSelections":{"description":"The minimum number of selections that are required.","type":"number"},"options":{"description":"The options that are displayed as checkboxes, provided as an array of objects, with label and value fields.","items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"type":{"const":"checkbox","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"},"withOther":{"description":"Whether to render the checkboxes with an \\"other\\" option.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"ComponentBlock":{"additionalProperties":false,"description":"The ComponentBlock interface is used to define order properties within the sequence. This is used to define the order of components in a study and the skip logic. It supports random assignment of trials using a pure random assignment and a [latin square](https://en.wikipedia.org/wiki/Latin_square).\\n\\nThe pure random assignment is a random assignment with no guarantees. For example, one component _could_ show up in the first position 10 times in a row. However, this situation is unlikely.\\n\\nHere\'s a snippet that shows how to use the random order:\\n\\n```js { \\"order\\": \\"random\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ] } ``` This snippet would produce a random order of the components in the sequence array. For example, the resulting sequence array could be :\\n\\n```js [ [\\"component2\\", \\"component3\\", \\"component1\\"], [\\"component1\\", \\"component3\\", \\"component2\\"], [\\"component3\\", \\"component1\\", \\"component2\\"], ... ] ```\\n\\nThe latin square assignment is a random assignment with some guarantees. It ensures that each component is shown an equal number of times in each position. Here\'s a snippet that shows how to use the latin square order:\\n\\n```js { \\"order\\": \\"latinSquare\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ] } ```\\n\\nThis snippet would produce a latin square order of the components in the sequence array. Since the latin square guarantees that each component is shown an equal number of times in each position, the resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"component2\\", \\"component3\\"], [\\"component2\\", \\"component3\\", \\"component1\\"], [\\"component3\\", \\"component1\\", \\"component2\\"], ... ] ```\\n\\nThe fixed assignment is a fixed assignment of components. This is used when you want to show the components in a specific order. Here\'s a snippet that shows how to use the fixed order:\\n\\n```js { \\"order\\": \\"fixed\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ] } ```\\n\\nThis snippet would produce a fixed order of the components in the sequence array. The resulting sequence array would be:\\n\\n```js [ [\\"component1\\", \\"component2\\", \\"component3\\"], [\\"component1\\", \\"component2\\", \\"component3\\"], [\\"component1\\", \\"component2\\", \\"component3\\"], ... ] ```\\n\\nIn addition to the order property, the ComponentBlock interface also includes the `\\"numSamples\\"` property. This is used to reduce the number of components shown to a participant. This property respects the order property and the guarantees provided by the order property. For example, if you have three components in the components array and you set `\\"numSamples\\"` to 2, you would randomize across the three components while only showing a participant two of them. Here\'s a snippet that shows how to use the numSamples property:\\n\\n```js { \\"order\\": \\"latinSquare\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ], \\"numSamples\\": 2 } ```\\n\\nThis snippet would produce a latin square order of the components in the sequence array. Since the latin square guarantees that each component is shown an equal number of times in each position, the resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"component2\\"], [\\"component2\\", \\"component3\\"], [\\"component3\\", \\"component1\\"], ... ] ```\\n\\nThe interruptions property specifies an array of interruptions. These can be used for breaks or attention checks. Interruptions can be deterministic or random. Please see [InterruptionBlock](../../type-aliases/InterruptionBlock) for more specific information.\\n\\nThe skip property is used to define skip conditions. This is used to skip to a different component or block based on the response to a component or the number of correct or incorrect responses in a block. Please see [SkipConditions](../../type-aliases/SkipConditions) for more specific information.","properties":{"components":{"description":"The components that are included in the order.","items":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/ComponentBlock"},{"$ref":"#/definitions/DynamicBlock"}]},"type":"array"},"id":{"description":"The id of the block. This is used to identify the block in the SkipConditions and is only required if you want to refer to the whole block in the condition.to property.","type":"string"},"interruptions":{"description":"The interruptions property specifies an array of interruptions. These can be used for breaks or attention checks.","items":{"$ref":"#/definitions/InterruptionBlock"},"type":"array"},"numSamples":{"description":"The number of samples to use for the random assignments. This means you can randomize across 3 components while only showing a participant 2 at a time.","type":"number"},"order":{"description":"The type of order. This can be random (pure random), latinSquare (random with some guarantees), or fixed.","enum":["random","latinSquare","fixed"],"type":"string"},"skip":{"$ref":"#/definitions/SkipConditions","description":"The skip conditions for the block."}},"required":["order","components"],"type":"object"},"ComponentBlockCondition":{"additionalProperties":false,"description":"The ComponentBlockCondition interface is used to define a SkipCondition based on the number of correct or incorrect components in a block. All answers on all components in the block are checked.\\n\\nAnswers are checked against the correct answers defined in the IndividualComponent\'s [CorrectAnswer](../Answer). If no correct answers are defined, the component is considered correct by default.\\n\\nYou might use this if a participant answers two questions in a block incorrectly. Here\'s an example of how to use the ComponentBlockCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"check\\": \\"block\\",   \\"condition\\": \\"numIncorrect\\",   \\"value\\": 2,   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, when the number of components with incorrect responses in the block is two, the participant will be redirected to the end of the study. If the number of incorrect responses is less than two, the participant will continue to the next component in the sequence.\\n\\nWhen the condition is met, the participant will immediately be redirected to the component or block specified in the `\\"to\\"` property. If no conditions are met, the participant will continue to the next component in the sequence.","properties":{"check":{"const":"block","description":"The check we\'ll perform.","type":"string"},"condition":{"description":"The condition to check.","enum":["numCorrect","numIncorrect"],"type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"},"value":{"description":"The number of correct or incorrect responses to check for.","type":"number"}},"required":["check","condition","value","to"],"type":"object"},"ConfigResponseBlockLocation":{"enum":["sidebar","aboveStimulus","belowStimulus"],"type":"string"},"DeterministicInterruption":{"additionalProperties":false,"description":"The DeterministicInterruption interface is used to define an interruption that will be shown at a specific location in the block.\\n\\nFor example, if you want to show an interruption after the second component in the block, you would set firstLocation to 2. If you want to show an interruption after every 3 components, you would set spacing to 3. If you want to show an interruption after the second component and then every 3 components, you would set firstLocation to 2 and spacing to 3.\\n\\nThe components property is an array of the components that will be inserted at the location specified by firstLocation and spacing. These components should reference components in the StudyConfig.components section of the config.\\n\\nHere\'s an example of how to use the DeterministicInterruption:\\n\\n```js { \\"order\\": \\"fixed\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"component6\\" ], \\"interruptions\\": [ {   \\"firstLocation\\": 2,   \\"spacing\\": 3,   \\"components\\": [     \\"interruption1\\",     \\"interruption2\\"   ] } ] } ```\\n\\nThe resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"component2\\", \\"interruption1\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption2\\", \\"component6\\"], [\\"component1\\", \\"component2\\", \\"interruption1\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption2\\", \\"component6\\"], [\\"component1\\", \\"component2\\", \\"interruption1\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption2\\", \\"component6\\"], ... ] ```","properties":{"components":{"description":"The components that are included in the interruption. These reference components in the StudyConfig.components section of the config.","items":{"type":"string"},"type":"array"},"firstLocation":{"description":"The Location of the first instance of the interruption. If this is set to 2, the interruption will be shown after the second component (inserted at index 2).","type":"number"},"spacing":{"description":"The number of components between breaks.","type":"number"}},"required":["firstLocation","spacing","components"],"type":"object"},"DropdownResponse":{"additionalProperties":false,"description":"The DropdownResponse interface is used to define the properties of a dropdown response. DropdownResponses render as a select input with user specified options.\\n\\nExample: ```js { \\"id\\": \\"q-color\\", \\"prompt\\": \\"What is your favorite color?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"dropdown\\", \\"placeholder\\": \\"Please choose your favorite color\\", \\"options\\": [\\"Red\\", \\"Blue\\"] } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"options":{"description":"The options that are displayed in the dropdown.","items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"type":{"const":"dropdown","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"DynamicBlock":{"additionalProperties":false,"description":"The DynamicBlock interface is used to define a block where displayed components are controlled by a function. This is useful when you want to generate the sequence based on answers to previous questions or other factors.\\n\\nThe functionPath property is a path to the function that generates the components. This should be a relative path from the src/public folder.\\n\\nHere\'s an example of how to use the DynamicBlock:\\n\\n```js {   \\"id\\": \\"funcBlock\\",   \\"order\\": \\"dynamic\\",   \\"functionPath\\": \\"<study-name>/assets/function.js\\",   \\"parameters\\": {     \\"param1\\": \\"value1\\",     \\"param2\\": \\"value2\\"   } } ```","properties":{"functionPath":{"description":"The path to the function that generates the components. This should be a relative path from the src/public folder.","type":"string"},"id":{"description":"The id of the block. This is used to identify the block in the SkipConditions and is only required if you want to refer to the whole block in the condition.to property.","type":"string"},"order":{"const":"dynamic","description":"The type of order. This can be random (pure random), latinSquare (random with some guarantees), or fixed.","type":"string"},"parameters":{"additionalProperties":{},"description":"The parameters that are passed to the function. These can be used within your function to render different things.","type":"object"}},"required":["id","order","functionPath"],"type":"object"},"ImageComponent":{"additionalProperties":false,"description":"The ImageComponent interface is used to define the properties of an image component. This component is used to render an image with optional styling.\\n\\nFor example, to render an image with a path of `path/to/study/assets/image.jpg` and a max width of 50%, you would use the following snippet: ```js { \\"type\\": \\"image\\", \\"path\\": \\"<study-name>/assets/image.jpg\\", \\"style\\": { \\"maxWidth\\": \\"50%\\" } } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If not provided, the default is true.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"helpTextPathOverride":{"description":"Optional override for the help text. If present, will override the default help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"A timeout (in ms) after which the next button will be disabled.","type":"number"},"nextButtonEnableTime":{"description":"A timer (in ms) after which the next button will be enabled.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button."},"nextButtonText":{"description":"The text that is displayed on the next button.","type":"string"},"path":{"description":"The path to the image. This could be a relative path from the public folder or a url to an external image.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.","type":"boolean"},"recordAudio":{"description":"Whether or not to record audio for a component. Only relevant if recordStudyAudio in the uiConfig is true. Defaults to false.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. Defaults to false.","type":"boolean"},"style":{"additionalProperties":{"type":"string"},"description":"The style of the image. This is an object with css properties as keys and css values as values.","type":"object"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.","type":"number"},"type":{"const":"image","type":"string"}},"required":["path","response","type"],"type":"object"},"IndividualComponent":{"anyOf":[{"$ref":"#/definitions/MarkdownComponent"},{"$ref":"#/definitions/ReactComponent"},{"$ref":"#/definitions/ImageComponent"},{"$ref":"#/definitions/WebsiteComponent"},{"$ref":"#/definitions/QuestionnaireComponent"},{"$ref":"#/definitions/VegaComponent"},{"$ref":"#/definitions/VideoComponent"}]},"IndividualComponentAllResponsesCondition":{"additionalProperties":false,"description":"The IndividualComponentAllResponsesCondition interface is used to define a SkipCondition based on all answers to a specific component. The skip logic will be checked for every component in the block that has the specified name.\\n\\n:::info\\n\\nIf you need to check all instances of a repeated component, you should use the RepeatedComponentBlockCondition.\\n\\n:::\\n\\n\\nHere\'s an example of how to use the IndividualComponentAllResponsesCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"name\\": \\"attentionCheck\\",   \\"check\\": \\"responses\\",   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, if all responses to the component with the ID \\"attentionCheck\\" are correct, the participant will be redirected to the end of the study. If any response is incorrect, the participant will continue to the next component in the sequence.","properties":{"check":{"const":"responses","description":"The check we\'ll perform.","type":"string"},"name":{"description":"The name of the component to check.","type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"}},"required":["name","check","to"],"type":"object"},"IndividualComponentSingleResponseCondition":{"additionalProperties":false,"description":"The IndividualComponentSingleResponseCondition interface is used to define a SkipCondition based on a single answer to a specific component. The skip logic will be checked for every component in the block that has the specified name.\\n\\n:::info\\n\\nIf you need to check all instances of a repeated component, you should use the RepeatedComponentBlockCondition.\\n\\n:::\\n\\nFor example, if you want to skip to a different component based on a response to a specific component, you would use the IndividualComponentSingleResponseCondition. Here\'s an example of how to use the IndividualComponentSingleResponseCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"name\\": \\"attentionCheck\\",   \\"check\\": \\"response\\",   \\"responseId\\": \\"attentionCheckResponse\\",   \\"value\\": \\"the right answer\\",   \\"comparison\\": \\"equal\\",   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, we assign our skip logic to the component whose ID is \\"attentionCheck\\". If the answer given to the response \\"attentionCheckResponse\\" is equal to \\"the right answer\\", then the user will be redirected to the end of the study. If the response is _not_ equal to \\"the right answer\\", then the participant will continue to the next component in the sequence.","properties":{"check":{"const":"response","description":"The check we\'ll perform.","type":"string"},"comparison":{"description":"The comparison to use.","enum":["equal","notEqual"],"type":"string"},"name":{"description":"The name of the component to check.","type":"string"},"responseId":{"description":"The response id to check.","type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"},"value":{"description":"The value to check.","type":["string","number"]}},"required":["name","check","responseId","value","comparison","to"],"type":"object"},"InheritedComponent":{"additionalProperties":false,"description":"An InheritedComponent is a component that inherits properties from a baseComponent. This is used to avoid repeating properties in components. This also means that components in the baseComponents object can be partially defined, while components in the components object can inherit from them and must be fully defined and include all properties (after potentially merging with a base component).","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If not provided, the default is true.","type":"boolean"},"baseComponent":{"type":"string"},"config":{"description":"The vega or vega-lite configuration.","type":"object"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"forceCompletion":{"description":"Whether to force the video to play until the end. Defaults to true.","type":"boolean"},"helpTextPathOverride":{"description":"Optional override for the help text. If present, will override the default help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"A timeout (in ms) after which the next button will be disabled.","type":"number"},"nextButtonEnableTime":{"description":"A timer (in ms) after which the next button will be enabled.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button."},"nextButtonText":{"description":"The text that is displayed on the next button.","type":"string"},"parameters":{"anyOf":[{"additionalProperties":{},"description":"The parameters that are passed to the react component. These can be used within your react component to render different things.","type":"object"},{"additionalProperties":{},"description":"The parameters that are passed to the website (iframe). These can be used within your website to render different things.","type":"object"}],"description":"The parameters that are passed to the react component. These can be used within your react component to render different things."},"path":{"anyOf":[{"description":"The path to the markdown file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the react component. This should be a relative path from the src/public folder.","type":"string"},{"description":"The path to the image. This could be a relative path from the public folder or a url to an external image.","type":"string"},{"description":"The path to the website. This should be a relative path from the public folder or could be an external website.","type":"string"},{"description":"The path to the vega file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the video. This could be a relative path from the public folder or might be a url to an external website.","type":"string"}],"description":"The path to the markdown file. This should be a relative path from the public folder."},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.","type":"boolean"},"recordAudio":{"description":"Whether or not to record audio for a component. Only relevant if recordStudyAudio in the uiConfig is true. Defaults to false.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. Defaults to false.","type":"boolean"},"style":{"additionalProperties":{"type":"string"},"description":"The style of the image. This is an object with css properties as keys and css values as values.","type":"object"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.","type":"number"},"type":{"enum":["markdown","react-component","image","website","questionnaire","vega","video"],"type":"string"},"withTimeline":{"description":"Whether to show the video timeline. Defaults to false.","type":"boolean"}},"required":["baseComponent"],"type":"object"},"InterruptionBlock":{"anyOf":[{"$ref":"#/definitions/DeterministicInterruption"},{"$ref":"#/definitions/RandomInterruption"}],"description":"The InterruptionBlock interface is used to define interruptions in a block. These can be used for breaks or attention checks. Interruptions can be deterministic or random."},"LibraryConfig":{"additionalProperties":false,"description":"LibraryConfig is used to define the properties of a library configuration. This is a JSON object with three main components: baseComponents, components, and the sequences. Libraries are useful for defining components and sequences of these components that are to be reused across multiple studies. We (the reVISit team) provide several libraries that can be used in your study configurations. Check the public/libraries folder in the reVISit-studies repository for available libraries. We also plan to accept community contributions for libraries. If you have a library that you think would be useful for others, please reach out to us. We would love to include it in our repository.\\n\\nBelow is the general template that should be followed when constructing a Library configuration file.\\n\\n```js {  \\"$schema\\": \\"https://raw.githubusercontent.com/revisit-studies/study/v2.1.1/src/parser/LibraryConfigSchema.json\\",  \\"baseComponents\\": {    // BaseComponents here are defined exactly as is in the StudyConfig  },  \\"components\\": {    // Components here are defined exactly as is in the StudyConfig  },  \\"sequences\\": {   // Sequences here are defined as \\"key\\": \\"value\\" pairs where the key is the name of the sequence and the value is a ComponentBlock, just like in the StudyConfig  } } ```","properties":{"$schema":{"description":"A required json schema property. This should point to the github link for the version of the schema you would like. The `$schema` line is used to verify the schema. If you\'re using VSCode (or other similar IDEs), including this line will allow for autocomplete and helpful suggestions when writing the study configuration. See examples for more information","type":"string"},"baseComponents":{"$ref":"#/definitions/BaseComponents","description":"The base components that are used in the study. These components can be used to template other components. See [BaseComponents](../../type-aliases/BaseComponents) for more information."},"components":{"additionalProperties":{"anyOf":[{"$ref":"#/definitions/IndividualComponent"},{"$ref":"#/definitions/InheritedComponent"}]},"description":"The components that are used in the study. They must be fully defined here with all properties. Some properties may be inherited from baseComponents.","type":"object"},"description":{"description":"A description of the library.","type":"string"},"doi":{"description":"The DOI of the paper where the content of the library is based on.","type":"string"},"externalLink":{"description":"The external link to the paper/website where the content of the library is based on.","type":"string"},"reference":{"description":"The reference to the paper where the content of the library is based on.","type":"string"},"sequences":{"additionalProperties":{"anyOf":[{"$ref":"#/definitions/ComponentBlock"},{"$ref":"#/definitions/DynamicBlock"}],"description":"The order of the components in the study. This might include some randomness."},"description":"The order of the components in the study. This might include some randomness.","type":"object"}},"required":["$schema","description","components","sequences"],"type":"object"},"LikertResponse":{"additionalProperties":false,"description":"The LikertResponse interface is used to define the properties of a likert response. LikertResponses render as radio buttons with a user specified number of options, which can be controlled through the numItems. For example, numItems: 5 will render 5 radio buttons, and numItems: 7 will render 7 radio buttons. LikertResponses can also have a description, and left and right labels. The left and right labels are used to label the left and right ends of the likert scale with values such as \'Strongly Disagree\' and \'Strongly Agree\'.\\n\\nExample for a five-point Likert Scale:\\n\\n```js { \\"id\\": \\"q-satisfaction\\", \\"prompt\\": \\"Rate your satisfaction from 1 (not enjoyable) to 5 (very enjoyable).\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"likert\\", \\"leftLabel\\": \\"Not Enjoyable\\", \\"rightLabel\\": \\"Very Enjoyable\\", \\"numItems\\": 5 } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"leftLabel":{"description":"The left label of the likert scale. E.g Strongly Disagree","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"numItems":{"description":"The number of options to render.","type":"number"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"rightLabel":{"description":"The right label of the likert scale. E.g Strongly Agree","type":"string"},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"type":{"const":"likert","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","numItems","prompt","type"],"type":"object"},"LongTextResponse":{"additionalProperties":false,"description":"The LongTextResponse interface is used to define the properties of a long text response. LongTextResponses render as a text area that accepts any text and can optionally have a placeholder. ```js { \\"id\\": \\"q-name\\", \\"prompt\\": \\"What is your first name?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"longText\\", \\"placeholder\\": \\"Please enter your first name\\" } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"type":{"const":"longText","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"MarkdownComponent":{"additionalProperties":false,"description":"The MarkdownComponent interface is used to define the properties of a markdown component. The components can be used to render many different things, such as consent forms, instructions, and debriefs. Additionally, you can use the markdown component to render images, videos, and other media, with supporting text. Markdown components can have responses (e.g. in a consent form), or no responses (e.g. in a help text file). Here\'s an example with no responses for a simple help text file:\\n\\n```js { \\"type\\": \\"markdown\\", \\"path\\": \\"<study-name>/assets/help.md\\", \\"response\\": [] } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If not provided, the default is true.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"helpTextPathOverride":{"description":"Optional override for the help text. If present, will override the default help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"A timeout (in ms) after which the next button will be disabled.","type":"number"},"nextButtonEnableTime":{"description":"A timer (in ms) after which the next button will be enabled.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button."},"nextButtonText":{"description":"The text that is displayed on the next button.","type":"string"},"path":{"description":"The path to the markdown file. This should be a relative path from the public folder.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.","type":"boolean"},"recordAudio":{"description":"Whether or not to record audio for a component. Only relevant if recordStudyAudio in the uiConfig is true. Defaults to false.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. Defaults to false.","type":"boolean"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.","type":"number"},"type":{"const":"markdown","type":"string"}},"required":["path","response","type"],"type":"object"},"MatrixResponse":{"additionalProperties":false,"description":"The MatrixResponse interface is used to define the properties of a matrix radio or matrix checkbox response. Question options are rendered as rows of the matrix, each row containing its own radio/checkbox group. Answer options are rendered as column headers of the matrix. These can be customized by passing in the custom strings into the answer options. Alternatively, `answerOptions` can be set to one of the following custom strings: \'satisfaction5\',\'satisfaction7\', \'likely5\', \'likely7\'. This will automatically generate the appropriate headers for the matrix.\\n\\nExample for a 5-scale satisfaction matrix with three questions:\\n\\n```js { \\"id\\": \\"multi-satisfaction\\", \\"prompt\\": \\"Rate your satisfaction from 1 (not enjoyable) to 5 (very enjoyable) for the following items.\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"matrix-radio\\", \\"answerOptions\\": \\"satisfaction5\\", \\"questionOptions\\": [  \\"The tool we created\\",  \\"The technique we developed\\",  \\"The authors of the tools\\" ] } ```\\n\\nHere\'s an example using custom columns (answerOptions):\\n\\n```js { \\"id\\": \\"multi-custom\\", \\"prompt\\": \\"Which categories do the following items belong to?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"matrix-checkbox\\", \\"answerOptions\\": [  \\"Has Legs\\",  \\"Has Wings\\",  \\"Can Swim\\" ], \\"questionOptions\\": [  \\"Dog\\",  \\"Snake\\",  \\"Eagle\\",  \\"Salmon\\",  \\"Platypus\\" ]\\n\\n} ```","properties":{"answerOptions":{"anyOf":[{"items":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/StringOption"}]},"type":"array"},{"const":"likely5","type":"string"},{"const":"likely7","type":"string"},{"const":"satisfaction5","type":"string"},{"const":"satisfaction7","type":"string"}],"description":"The answer options (columns). We provide some shortcuts for a likelihood scale (ranging from highly unlikely to highly likely) and a satisfaction scale (ranging from highly unsatisfied to highly satisfied) with either 5 or 7 options to choose from."},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"questionOptions":{"description":"The question options (rows) are the prompts for each response you\'d like to record.","items":{"type":"string"},"type":"array"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"type":{"enum":["matrix-radio","matrix-checkbox"],"type":"string"},"withDivider":{"description":"Renders the response with a trailing divider.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["answerOptions","id","prompt","questionOptions","type"],"type":"object"},"NumberOption":{"additionalProperties":false,"description":"The NumberOption interface is used to define the options for a slider response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file.","properties":{"label":{"description":"The label displayed to participants.","type":"string"},"value":{"description":"The value stored in the participant\'s data.","type":"number"}},"required":["label","value"],"type":"object"},"NumericalResponse":{"additionalProperties":false,"description":"The NumericalResponse interface is used to define the properties of a numerical response. NumericalResponses render as a text input that only accepts numbers, and can optionally have a min and max value, or a placeholder.\\n\\nExample: ```js { \\"id\\": \\"q-numerical\\", \\"prompt\\": \\"Numerical example\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"numerical\\", \\"placeholder\\": \\"Enter your age, range from 0 - 120\\", \\"max\\": 120, \\"min\\": 0 } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"max":{"description":"The maximum value that is accepted in the input.","type":"number"},"min":{"description":"The minimum value that is accepted in the input.","type":"number"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"type":{"const":"numerical","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"QuestionnaireComponent":{"additionalProperties":false,"description":"A QuestionnaireComponent is used to render simple questions that require a response. The main use case of this component type is to ask participants questions when you don\'t need to render a stimulus. Please note, that even though we\'re not using a stimulus, the responses still require a `location`. For example this could be used to collect demographic information from a participant using the following snippet:\\n\\n```js { \\"type\\": \\"questionnaire\\", \\"response\\": [  {    \\"id\\": \\"gender\\",    \\"prompt\\": \\"Gender:\\",    \\"location\\": \\"belowStimulus\\",    \\"type\\": \\"checkbox\\",    \\"options\\": [\\"Man\\", \\"Woman\\", \\"Genderqueer\\", \\"Third-gender\\", ...]  } ] } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If not provided, the default is true.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"helpTextPathOverride":{"description":"Optional override for the help text. If present, will override the default help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"A timeout (in ms) after which the next button will be disabled.","type":"number"},"nextButtonEnableTime":{"description":"A timer (in ms) after which the next button will be enabled.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button."},"nextButtonText":{"description":"The text that is displayed on the next button.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.","type":"boolean"},"recordAudio":{"description":"Whether or not to record audio for a component. Only relevant if recordStudyAudio in the uiConfig is true. Defaults to false.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. Defaults to false.","type":"boolean"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.","type":"number"},"type":{"const":"questionnaire","type":"string"}},"required":["response","type"],"type":"object"},"RadioResponse":{"additionalProperties":false,"description":"The RadioResponse interface is used to define the properties of a radio response. Radios have only one allowable selection. RadioResponses render as a radio input with user specified options, and optionally left and right labels.\\n\\nExample: ```js { \\"id\\": \\"q-radio\\", \\"prompt\\": \\"Radio button example\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"radio\\", \\"options\\": [\\"Option 1\\", \\"Option 2\\"] } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"horizontal":{"description":"Whether to render the radio buttons horizontally. Defaults to false, so they render horizontally.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"leftLabel":{"description":"The left label of the radio group. Used in Likert scales for example","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"options":{"description":"The options that are displayed as checkboxes, provided as an array of objects, with label and value fields.","items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"rightLabel":{"description":"The right label of the radio group. Used in Likert scales for example","type":"string"},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"type":{"const":"radio","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"},"withOther":{"description":"Whether to render the radios with an \\"other\\" option.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"RandomInterruption":{"additionalProperties":false,"description":"The RandomInterruption interface is used to define an interruption that will be shown randomly in the block.\\n\\nFor example, if you want to show a single interruption randomly in the block, you would set `\\"spacing\\"` to \\"random\\" and `\\"numInterruptions\\"` to 1. If you want to show 3 interruptions randomly in the block, you would set `\\"spacing\\"` to \\"random\\" and `\\"numInterruptions\\"` to 3.\\n\\nThe components property is an array of the components that will be inserted randomly in the block. These components should reference components in the StudyConfig.components section of the config.\\n\\nHere\'s an example of how to use the RandomInterruption:\\n\\n```js { \\"order\\": \\"fixed\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"component6\\" ], \\"interruptions\\": [ {   \\"spacing\\": \\"random\\",   \\"numInterruptions\\": 3,   \\"components\\": [     \\"interruption1\\",     \\"interruption2\\"   ] } ] } ```\\n\\nThe resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"interruption1\\", \\"interruption2\\", \\"component2\\", \\"interruption1\\", \\"interruption2\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption1\\", \\"interruption2\\", \\"component6], [\\"component1\\", \\"interruption1\\", \\"interruption2\\", \\"component2\\", \\"interruption1\\", \\"interruption2\\", \\"component3\\", \\"component4\\", \\"interruption1\\", \\"interruption2\\", \\"component5\\", \\"component6], [\\"component1\\", \\"component2\\" \\"interruption1\\", \\"interruption2\\", \\"component3\\", \\"interruption1\\", \\"interruption2\\", \\"component4\\", \\"component5\\", \\"interruption1\\", \\"interruption2\\", \\"component6], ... ] ```","properties":{"components":{"description":"The components that are included in the interruption. These reference components in the StudyConfig.components section of the config.","items":{"type":"string"},"type":"array"},"numInterruptions":{"description":"The number of times the interruption will be randomly added","type":"number"},"spacing":{"const":"random","description":"If spacing is set to random, reVISit will add interruptions randomly. These interruptions will not ever be displayed as the first component in the block.","type":"string"}},"required":["spacing","numInterruptions","components"],"type":"object"},"ReactComponent":{"additionalProperties":false,"description":"The ReactComponent interface is used to define the properties of a react component. This component is used to render react code with certain parameters. These parameters can be used within your react code to render different things.\\n\\nUnlike other types of components, the path for a React component is relative to the `src/public/` folder. Similar to our standard assets, we suggest creating a folder named `src/public/{studyName}/assets` to house all of the React component assets for a particular study. Your React component which you link to in the path must be default exported from its file.\\n\\nReact components created this way have a generic prop type passed to the component on render, `<StimulusParams<T>>`, which has the following types.\\n\\n```ts { parameters: T; setAnswer: ({ status, provenanceGraph, answers }: { status: boolean, provenanceGraph?: TrrackedProvenance, answers: Record<string, any> }) => void } ```\\n\\nparameters is the same object passed in from the ReactComponent type below, allowing you to pass options in from the config to your component. setAnswer is a callback function allowing the creator of the ReactComponent to programmatically set the answer, as well as the provenance graph. This can be useful if you don\'t use the default answer interface, and instead have something more unique.\\n\\nSo, for example, if I had the following ReactComponent in my config ```js { type: \'react-component\'; path: \'my_study/CoolComponent.tsx\'; parameters: {  name: \'Zach\';  age: 26; } } ```\\n\\nMy react component, CoolComponent.tsx, would exist in src/public/my_study/assets, and look something like this\\n\\n```ts export default function CoolComponent({ parameters, setAnswer }: StimulusParams<{name: string, age: number}>) { // render something } ```\\n\\nFor in depth examples, see the following studies, and their associated codebases. https://revisit.dev/study/demo-click-accuracy-test (https://github.com/revisit-studies/study/tree/v2.1.1/src/public/demo-click-accuracy-test/assets) https://revisit.dev/study/example-brush-interactions (https://github.com/revisit-studies/study/tree/v2.1.1/src/public/example-brush-interactions/assets)","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If not provided, the default is true.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"helpTextPathOverride":{"description":"Optional override for the help text. If present, will override the default help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"A timeout (in ms) after which the next button will be disabled.","type":"number"},"nextButtonEnableTime":{"description":"A timer (in ms) after which the next button will be enabled.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button."},"nextButtonText":{"description":"The text that is displayed on the next button.","type":"string"},"parameters":{"additionalProperties":{},"description":"The parameters that are passed to the react component. These can be used within your react component to render different things.","type":"object"},"path":{"description":"The path to the react component. This should be a relative path from the src/public folder.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.","type":"boolean"},"recordAudio":{"description":"Whether or not to record audio for a component. Only relevant if recordStudyAudio in the uiConfig is true. Defaults to false.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. Defaults to false.","type":"boolean"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.","type":"number"},"type":{"const":"react-component","type":"string"}},"required":["path","response","type"],"type":"object"},"ReactiveResponse":{"additionalProperties":false,"description":"The ReactiveResponse interface is used to define the properties of a reactive response. ReactiveResponses render as a list, that is connected to a WebsiteComponent, VegaComponent, or ReactComponent. When data is sent from the components, it is displayed in the list.\\n\\n```js { \\"id\\": \\"reactiveResponse\\", \\"prompt\\": \\"Answer clicked in the stimulus\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"reactive\\" } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"type":{"const":"reactive","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"RepeatedComponentBlockCondition":{"additionalProperties":false,"description":"The RepeatedComponentBlockCondition interface is used to define a SkipCondition based on the number of correct or incorrect repeated components. You might use this if you need to check if an attention check was failed multiple times. This is similar to the [ComponentBlockCondition](../ComponentBlockCondition), but it only checks a specific repeated component.\\n\\nHere\'s an example of how to use the RepeatedComponentBlockCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"name\\": \\"attentionCheck\\",   \\"check\\": \\"repeatedComponent\\",   \\"condition\\": \\"numIncorrect\\",   \\"value\\": 2,   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, when the number of incorrect responses to the repeated component with the name \\"attentionCheck\\" is two, the participant will be redirected to the end of the study. If the number of incorrect responses is less than two, the participant will continue to the next component in the sequence.","properties":{"check":{"const":"repeatedComponent","description":"The check we\'ll perform.","type":"string"},"condition":{"description":"The condition to check.","enum":["numCorrect","numIncorrect"],"type":"string"},"name":{"description":"The name of the repeated component to check (e.g. attentionCheck).","type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"},"value":{"description":"The number of correct or incorrect responses to check for.","type":"number"}},"required":["name","check","condition","value","to"],"type":"object"},"Response":{"anyOf":[{"$ref":"#/definitions/NumericalResponse"},{"$ref":"#/definitions/ShortTextResponse"},{"$ref":"#/definitions/LongTextResponse"},{"$ref":"#/definitions/LikertResponse"},{"$ref":"#/definitions/DropdownResponse"},{"$ref":"#/definitions/SliderResponse"},{"$ref":"#/definitions/RadioResponse"},{"$ref":"#/definitions/CheckboxResponse"},{"$ref":"#/definitions/ReactiveResponse"},{"$ref":"#/definitions/MatrixResponse"},{"$ref":"#/definitions/ButtonsResponse"}]},"ShortTextResponse":{"additionalProperties":false,"description":"The ShortTextResponse interface is used to define the properties of a short text response. ShortTextResponses render as a text input that accepts any text and can optionally have a placeholder.\\n\\n```js { \\"id\\": \\"q-short-text\\", \\"prompt\\": \\"Short text example\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"shortText\\", \\"placeholder\\": \\"Enter your answer here\\" } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"type":{"const":"shortText","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"SkipConditions":{"description":"The SkipConditions interface is used to define skip conditions. This is used to skip to a different component/block based on the response to a component or based on the number of correct/incorrect responses in a block. Skip conditions work recursively: if you have a nested block, the parent blocks\' skip conditions will be considered when computing the skip logic.\\n\\nSkip conditions are evaluated in the order they are defined in the array. If a condition is met, the participant will be redirected to the component or block specified in the `\\"to\\"` property. If no conditions are met, the participant will continue to the next component in the sequence.\\n\\nSkip conditions allow you to jump to a different component or block. If you intend to skip to a block, you should specify a block id in the sequence. If you intend to skip to a component, you should specify a component id. Skipping backwards is not supported. Skipping to a repeated component will skip to the first instance of the component after the component that triggered the skip.\\n\\nPlease see the interface definitions for more specific information on the different types of skip conditions.","items":{"anyOf":[{"$ref":"#/definitions/IndividualComponentSingleResponseCondition"},{"$ref":"#/definitions/IndividualComponentAllResponsesCondition"},{"$ref":"#/definitions/ComponentBlockCondition"},{"$ref":"#/definitions/RepeatedComponentBlockCondition"}]},"type":"array"},"SliderResponse":{"additionalProperties":false,"description":"The SliderResponse interface is used to define the properties of a slider response. SliderResponses render as a slider input with user specified steps. For example, you could have steps of 0, 50, and 100.\\n\\nExample: ```js { \\"id\\": \\"q-slider\\", \\"prompt\\": \\"How are you feeling?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"slider\\", \\"options\\": [  {    \\"label\\": \\"Bad\\",    \\"value\\": 0  },  {    \\"label\\": \\"OK\\",    \\"value\\": 50  },  {    \\"label\\": \\"Good\\",    \\"value\\": 100  } ] } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"options":{"description":"This defines the steps in the slider and the extent of the slider as an array of objects that have a label and a value.","items":{"$ref":"#/definitions/NumberOption"},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"snap":{"description":"Whether the slider should snap between values. Defaults to false. Slider snapping disables the label above the handle.","type":"boolean"},"startingValue":{"description":"The starting value of the slider. Defaults to the minimum value.","type":"number"},"step":{"description":"The step value of the slider. If not provided (and snap not enabled), the step value is calculated as the range of the slider divided by 100.","type":"number"},"tlxStyle":{"description":"Whether to render the slider with a NASA-tlx style. Defaults to false.","type":"boolean"},"type":{"const":"slider","type":"string"},"withBar":{"description":"Whether to render the slider with a bar to the left. Defaults to true.","type":"boolean"},"withDivider":{"description":"Renders the response with a trailing divider.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"StringOption":{"additionalProperties":false,"description":"The StringOption interface is used to define the options for a dropdown, radio, buttons, or checkbox response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file.","properties":{"label":{"description":"The label displayed to participants.","type":"string"},"separator":{"description":"Separate this option from the previous options via divider","type":"boolean"},"value":{"description":"The value stored in the participant\'s data.","type":"string"}},"required":["label","value"],"type":"object"},"VegaComponent":{"anyOf":[{"$ref":"#/definitions/VegaComponentPath"},{"$ref":"#/definitions/VegaComponentConfig"}]},"VegaComponentConfig":{"additionalProperties":false,"description":"The VegaComponentConfig interface is used to define the properties of a Vega Component. This component is used to render a Vega/Vega-Lite Component by adding Vega/Vega-Lite specs within the reVISit config itself.\\n\\nTo do this, would use the following snippet: ```js { \\"type\\": \\"vega\\", \\"config\\": { ... vega specs here ...}, }\\n\\nIIf you are using Vega, you can use signals with `revisitAnswer` to send the user\'s responses back to the reVISit. For example, you can use the following snippet in your Vega spec\'s signals section: ```js { \\"signals\\": [  {    \\"name\\": \\"revisitAnswer\\",    \\"value\\": {},    \\"on\\": [      {        \\"events\\": \\"rect:click\\",        \\"update\\": \\"{responseId: \'vegaDemoResponse1\', response: datum.category}\\"      }    ]  } ] } In this example, when a user clicks on a rectangle in the Vega chart, the `revisitAnswer` signal is updated with the responseId and response. ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If not provided, the default is true.","type":"boolean"},"config":{"description":"The vega or vega-lite configuration.","type":"object"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"helpTextPathOverride":{"description":"Optional override for the help text. If present, will override the default help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"A timeout (in ms) after which the next button will be disabled.","type":"number"},"nextButtonEnableTime":{"description":"A timer (in ms) after which the next button will be enabled.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button."},"nextButtonText":{"description":"The text that is displayed on the next button.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.","type":"boolean"},"recordAudio":{"description":"Whether or not to record audio for a component. Only relevant if recordStudyAudio in the uiConfig is true. Defaults to false.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. Defaults to false.","type":"boolean"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.","type":"number"},"type":{"const":"vega","type":"string"}},"required":["config","response","type"],"type":"object"},"VegaComponentPath":{"additionalProperties":false,"description":"The VegaComponentPath interface is used to define the properties of a Vega Component. This component is used to render a Vega/Vega-Lite Component with path pointing to your Vega/Vega-Lite specs file.\\n\\nFor example, to render a vega based stimuli with a path of `<study-name>/assets/vega.spec.json`, you would use the following snippet: ```js { \\"type\\": \\"vega\\", \\"path\\": \\"<study-name>/assets/vega.spec.json\\", } ```\\n\\nIf you are using Vega, you can use signals with `revisitAnswer` to send the user\'s responses back to the reVISit. For example, you can use the following snippet in your Vega spec file\'s signals section: ```js { \\"signals\\": [  {    \\"name\\": \\"revisitAnswer\\",    \\"value\\": {},    \\"on\\": [      {        \\"events\\": \\"rect:click\\",        \\"update\\": \\"{responseId: \'vegaDemoResponse1\', response: datum.category}\\"      }    ]  } ] } In this example, when a user clicks on a rectangle in the Vega chart, the `revisitAnswer` signal is updated with the responseId and response. This signal is then passed to reVISit as the participant\'s response. ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If not provided, the default is true.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"helpTextPathOverride":{"description":"Optional override for the help text. If present, will override the default help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"A timeout (in ms) after which the next button will be disabled.","type":"number"},"nextButtonEnableTime":{"description":"A timer (in ms) after which the next button will be enabled.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button."},"nextButtonText":{"description":"The text that is displayed on the next button.","type":"string"},"path":{"description":"The path to the vega file. This should be a relative path from the public folder.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.","type":"boolean"},"recordAudio":{"description":"Whether or not to record audio for a component. Only relevant if recordStudyAudio in the uiConfig is true. Defaults to false.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. Defaults to false.","type":"boolean"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.","type":"number"},"type":{"const":"vega","type":"string"}},"required":["path","response","type"],"type":"object"},"VideoComponent":{"additionalProperties":false,"description":"The VideoComponent interface is used to define the properties of a video component. This component is used to render a video with optional controls.\\n\\nMost often, video components will be used for trainings, and will have a `forceCompletion` field set to true. This will prevent the participant from moving on until the video has finished playing.\\n\\nAs such, the `forceCompletion` field is set to true by default, and the `withTimeline` field is set to false by default.\\n\\nFor example, to render a training video with a path of `<study-name>/assets/video.mp4`, you would use the following snippet: ```js {   \\"type\\": \\"video\\",   \\"path\\": \\"<study-name>/assets/video.mp4\\", } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If not provided, the default is true.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"forceCompletion":{"description":"Whether to force the video to play until the end. Defaults to true.","type":"boolean"},"helpTextPathOverride":{"description":"Optional override for the help text. If present, will override the default help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"A timeout (in ms) after which the next button will be disabled.","type":"number"},"nextButtonEnableTime":{"description":"A timer (in ms) after which the next button will be enabled.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button."},"nextButtonText":{"description":"The text that is displayed on the next button.","type":"string"},"path":{"description":"The path to the video. This could be a relative path from the public folder or might be a url to an external website.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.","type":"boolean"},"recordAudio":{"description":"Whether or not to record audio for a component. Only relevant if recordStudyAudio in the uiConfig is true. Defaults to false.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. Defaults to false.","type":"boolean"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.","type":"number"},"type":{"const":"video","type":"string"},"withTimeline":{"description":"Whether to show the video timeline. Defaults to false.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"WebsiteComponent":{"additionalProperties":false,"description":"The WebsiteComponent interface is used to define the properties of a website component. A WebsiteComponent is used to render an iframe with a website inside of it. This can be used to display an external website or an html file that is located in the public folder.\\n\\n```js { \\"type\\": \\"website\\", \\"path\\": \\"<study-name>/assets/website.html\\", } ```\\n\\nTo pass a data from the config to the website, you can use the `parameters` field as below:\\n\\n```js { \\"type\\": \\"website\\", \\"path\\": \\"<study-name>/website.html\\", \\"parameters\\": {  \\"barData\\": [0.32, 0.01, 1.2, 1.3, 0.82, 0.4, 0.3] }, \\"response\\": [  {    \\"id\\": \\"barChart\\",    \\"prompt\\": \\"Your selected answer:\\",    \\"location\\": \\"belowStimulus\\",    \\"type\\": \\"reactive\\"  } ] } ``` In the `website.html` file, by including `revisit-communicate.js`, you can use the `Revisit.onDataReceive` method to retrieve the data, and `Revisit.postAnswers` to send the user\'s responses back to the reVISit as shown in the example below:\\n\\n```html <script src=\\"../../revisitUtilities/revisit-communicate.js\\"><\/script> <script> Revisit.onDataReceive((data) => {  const barData = data[\'barData\'];  ... });\\n\\n// Call out that \'barChart\' needs to match ID in \'response\' object Revisit.postAnswers({ barChart: userAnswer }); <\/script> ```\\n\\n If the html website implements Trrack library for provenance tracking, you can send the provenance graph back to reVISit by calling `Revisit.postProvenanceGraph` as shown in the example below. You need to call this each time the Trrack state is updated so that reVISit is kept aware of the changes in the provenance graph.\\n\\n```js const trrack = initializeTrrack({ initialState, registry });\\n\\n... Revisit.postProvenance(trrack.graph.backend); ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If not provided, the default is true.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"helpTextPathOverride":{"description":"Optional override for the help text. If present, will override the default help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"A timeout (in ms) after which the next button will be disabled.","type":"number"},"nextButtonEnableTime":{"description":"A timer (in ms) after which the next button will be enabled.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button."},"nextButtonText":{"description":"The text that is displayed on the next button.","type":"string"},"parameters":{"additionalProperties":{},"description":"The parameters that are passed to the website (iframe). These can be used within your website to render different things.","type":"object"},"path":{"description":"The path to the website. This should be a relative path from the public folder or could be an external website.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.","type":"boolean"},"recordAudio":{"description":"Whether or not to record audio for a component. Only relevant if recordStudyAudio in the uiConfig is true. Defaults to false.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. Defaults to false.","type":"boolean"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.","type":"number"},"type":{"const":"website","type":"string"}},"required":["path","response","type"],"type":"object"}}'),hzt={$ref:czt,$schema:dzt,definitions:fzt},CMe=new JQ;CMe.addSchema(hzt);const pzt=CMe.getSchema("#/definitions/LibraryConfig");function AMe(e,t){return Ou(e)?e:{...e,components:e.components.map(n=>typeof n=="object"?AMe(n,t):`$${t}.components.${n}`)}}function kMe(e,t,n=[]){return Ou(e)?e:{...e,components:(e.components||[]).map(r=>{if(typeof r=="object")return kMe(r,t);const i=r.includes(".se.")?".se.":r.includes(".sequences.")?".sequences.":!1;if(typeof r=="string"&&r.startsWith("$")&&i){const[o,s]=r.split(i),a=o.slice(1);if(!t[a]){const c={message:`Library ${a} not found in imported libraries`,instancePath:"",params:{action:"check the library name"}};return n.push(c),r}let u=t[a].sequences[s];if(!u){const c={message:`Sequence ${s} not found in library ${o}`,instancePath:"",params:{action:"check the sequence name"}};return n.push(c),r}return u=AMe(u,a),u}return r})}}function mzt(e,t,n){Object.entries(n).forEach(([r,i])=>{Object.entries(i.components).forEach(([o,s])=>{var a;vN(s)&&!((a=i.baseComponents)!=null&&a[s.baseComponent])&&t.push({message:`Base component \`${s.baseComponent}\` is not defined in baseComponents object in library \`${r}\``,instancePath:`/importedLibraries/${r}/components/${o}`,params:{action:"add the base component to the baseComponents object"}})})})}function gzt(e,t){let n=!1,r;try{r=JSON.parse(e),n=pzt(r)}catch{n=!1}const i=[],o=[];return r?n||i.push({message:"Library config is not valid",instancePath:"",params:{action:"fix the errors in the library config"}}):i.push({message:`Could not find library \`${t}\``,instancePath:"/importedLibraries/",params:{action:"make sure the library is in the correct location"}}),{...r,errors:i,warnings:o}}async function yzt(e){const t=await(await fetch(`${ji}libraries/${e}/config.json`)).text();return gzt(t,e)}async function vzt(e,t,n){const r=e.map(async o=>{const s=await yzt(o);return s.errors&&t.push(...s.errors),s.warnings&&n.push(...s.warnings),[o,s]}),i=Object.fromEntries(await Promise.all(r));return Object.entries(i).forEach(([o,s])=>{s.components||delete i[o]}),e.forEach(o=>{i[o]&&(i[o].components=Object.fromEntries(Object.entries(i[o].components).map(([s,a])=>{if(vN(a)){const l=d_e({},i[o].baseComponents[a.baseComponent],a);return delete l.baseComponent,[[`$${o}.components.${s}`,l],[`$${o}.co.${s}`,l]]}return[[`$${o}.components.${s}`,a],[`$${o}.co.${s}`,a]]}).reduce((s,[a,l])=>(s.push(a,l),s),[])))}),i}const IMe=new JQ;IMe.addSchema(uzt);const Ope=IMe.getSchema("#/definitions/GlobalConfig"),RMe=new JQ;RMe.addSchema(ozt);const Lpe=RMe.getSchema("#/definitions/StudyConfig");function bzt(e){const t=[];return[e.configsList.every(r=>e.configs[r]===void 0?(t.push({message:`Config ${r} is not defined in configs object, but is present in configsList`}),!1):!0),t]}function wzt(e){const t=JSON.parse(e),n=Ope(t),r=bzt(t);if(n&&r[0])return t;throw console.error("Global config parsing errors",[...Ope.errors||[],...r[1]]),Error("There was an issue validating your file global.json")}function DMe(e,t,n=[]){if(!Ou(e)){if(e.components.length===0){n.push({message:"Sequence has an empty components array",instancePath:"/sequence/",params:{action:"remove empty components block"}});return}e.id&&t.map((i,o)=>i===e.id?o:null).forEach(i=>{i!==null&&t.splice(i,1)}),e.components.forEach(r=>{typeof r=="string"?t.includes(r)&&t.map((o,s)=>o===r?s:null).forEach(o=>{o!==null&&t.splice(o,1)}):DMe(r,t,n)}),e.skip&&t.push(...e.skip.map(r=>r.to).filter(r=>r!=="end"))}}function xzt(e,t){const n=[],r=[];mzt(e,n,t),Object.entries(e.components).forEach(([s,a])=>{var l;vN(a)&&!((l=e.baseComponents)!=null&&l[a.baseComponent])&&n.push({message:`Base component \`${a.baseComponent}\` is not defined in baseComponents object`,instancePath:`/components/${s}`,params:{action:"add the base component to the baseComponents object"}})});const i=a_e(e.sequence);i.forEach(s=>{var a;e.components[s]||n.push({message:(a=e.baseComponents)!=null&&a[s]?`Component \`${s}\` is a base component and cannot be used in the sequence`:`Component \`${s}\` is not defined in components object`,instancePath:"/sequence/",params:{action:"add the component to the components object"}})}),Object.keys(e.components).filter(s=>!i.includes(s)&&!s.includes(".se.")&&!s.includes(".sequences.")&&!s.includes(".co.")&&!s.includes(".components.")).forEach(s=>{r.push({message:`Component \`${s}\` is defined in components object but not used deterministically in the sequence`,instancePath:"/components/",params:{action:"remove the component from the components object or add it to the sequence"}})});const o=[];return DMe(e.sequence,o),o.forEach(s=>{n.push({message:`Skip target \`${s}\` does not occur after the skip block it is used in`,instancePath:"/sequence/",params:{action:"add the target to the sequence after the skip block"}})}),{errors:n,warnings:r}}async function ZQ(e){let t=!1,n;try{n=JSON.parse(e),t=Lpe(n)}catch{t=!1}let r=Lpe.errors||[],i=[];if(t&&n){const o=n.importedLibraries||[],s=await vzt(o,r,i);Object.values(s).forEach(u=>{n.components={...n.components,...u.components},n.baseComponents={...n.baseComponents,...u.components}}),n.sequence=kMe(n.sequence,s,r);const{errors:a,warnings:l}=xzt(n,s);r=[...r,...a],i=[...i,...l]}else r=[...r,{message:"There was an issue validating your config file",instancePath:"root",params:{action:"fix the errors in your file or make sure the global config references the right file path"}}];return{...n,errors:r,warnings:i}}async function _zt(e){const t=await(await fetch(`${ji}${e}`)).text();return await ZQ(t)}async function eJ(e,t){const n=t.configsList.find(r=>vye(r)===e);if(n){const r=t.configs[n];return await _zt(`${r.path}`)}return null}async function Ezt(e){const t={},n=e.configsList.map(async i=>eJ(i,e)),r=await Promise.all(n);return e.configsList.forEach((i,o)=>{t[i]=r[o]}),t}function Szt({globalConfig:e}){const t=Jp(),[n,r]=H.useState(null),i=e.configsList.includes(t)||t==="__revisit-widget";H.useEffect(()=>{if(t!=="__revisit-widget")return eJ(t,e).then(p=>{r(p)}),()=>{};if(e&&t){const p=m=>{m.data.type==="revisitWidget/CONFIG"&&ZQ(m.data.payload).then(async g=>{r(g);const y=await _he(g);window.parent.postMessage({type:"revisitWidget/SEQUENCE_ARRAY",payload:y},"*")})};return window.addEventListener("message",p),window.parent.postMessage({type:"revisitWidget/READY"},"*"),()=>{window.removeEventListener("message",p)}}return()=>{}},[e,t]);const[o,s]=H.useState([]),[a,l]=H.useState(null),{storageEngine:u}=Zi(),[c]=sh(),d=H.useMemo(()=>c.get("participantId"),[c]);H.useEffect(()=>{async function p(){if(!u||!n||!t)return;await u.initializeStudyDb(t,n),await u.getSequenceArray()||await u.setSequenceArray(await _he(n));const g=n.uiConfig.urlParticipantIdParam&&c.get(n.uiConfig.urlParticipantIdParam)||void 0,y=Object.fromEntries(c.entries()),v=await fetch("https://api.ipify.org?format=json").catch(k=>""),w=v instanceof Response?await v.json():{ip:""},E={language:navigator.language,userAgent:navigator.userAgent,resolution:{width:window.screen.width,height:window.screen.height,availHeight:window.screen.availHeight,availWidth:window.screen.availWidth,colorDepth:window.screen.colorDepth,orientation:window.screen.orientation.type,pixelDepth:window.screen.pixelDepth},ip:w.ip},_=await u.initializeParticipantSession(t,y,n,E,d||g),x=await u.getModes(t),S=await MT(JSON.stringify(n));let C=n;_.participantConfigHash!==S&&(C=(await u.getAllConfigsFromHash([_.participantConfigHash],t))[_.participantConfigHash]);const A=await Plt(t,C,_.sequence,E,_.answers,x,_.participantId);l(A),s([{element:$.jsx(V9t,{}),children:[{path:"/",element:$.jsx(Z$e,{to:jo(0),replace:!0})},{path:"/:index/:funcIndex?",element:n.errors.length>0?$.jsxs($.Fragment,{children:[$.jsx(Ki,{order:2,mb:8,children:"Error loading config"}),$.jsx(RI,{issues:n.errors,type:"error"})]}):$.jsx(zBt,{})}]}])}p()},[u,n,t,c,d]);const f=nye(o);let h=null;return i?o.length===0?h=$.jsx(gc,{visible:!0}):h=f&&a?$.jsx(f_e.Provider,{value:a,children:$.jsx(sot,{store:a.store,children:f})}):$.jsx(Op,{}):h=$.jsx(Op,{}),h}function rD({studyIds:e}){const t=zu(),{studyId:n}=Da(),r=Rc(),i=e.map(s=>({value:s,label:s})).sort((s,a)=>s.label.localeCompare(a.label)),o=r.pathname.includes("analysis");return $.jsx(qr.Header,{p:"md",children:$.jsxs(xf,{mt:-7,align:"center",children:[$.jsx(xf.Col,{span:6,children:$.jsxs(Kt,{align:"center",onClick:()=>t("/"),style:{cursor:"pointer"},children:[$.jsx(a0,{w:40,src:`${ji}revisitAssets/revisitLogoSquare.svg`,alt:"Revisit Logo"}),$.jsx(Eu,{w:"md"}),$.jsx(Ki,{order:4,style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:o?"ReVISit Analytics Platform":"ReVISit Studies"})]})}),$.jsx(xf.Col,{span:6,children:$.jsxs(Kt,{justify:"flex-end",direction:"row",children:[o&&$.jsxs($.Fragment,{children:[$.jsx(_x,{allowDeselect:!1,placeholder:"Select Study",data:i,value:n,onChange:s=>t(`/analysis/stats/${s}`),mr:16}),$.jsx(gn,{component:"a",href:`${ji}${n}`,target:"_blank",leftSection:$.jsx(hye,{}),mr:"sm",children:"Go to Study"})]}),$.jsx(mye,{onClick:()=>t("/settings"),style:{cursor:"pointer",marginTop:o?6:void 0}})]})})]})})}function $Me({visibleParticipants:e,studyId:t,gap:n,fileName:r}){const[i,{open:o,close:s}]=rU(!1),[a,l]=H.useState([]),u=async()=>typeof e=="function"?await e():e,c=async()=>{const f=await u(),h=r?`${r}.json`:`${t}_all.json`;dq(JSON.stringify(f,null,2),h)},d=async()=>{const f=await u();l(f),o()};return $.jsxs($.Fragment,{children:[$.jsxs(ri,{style:{gap:n},children:[$.jsx(vi,{label:"Download all participants data as JSON",children:$.jsx(gn,{variant:"light",disabled:e.length===0&&typeof e!="function",onClick:c,px:4,children:$.jsx(Z7e,{})})}),$.jsx(vi,{label:"Download all participants data as a tidy CSV",children:$.jsx(gn,{variant:"light",disabled:e.length===0&&typeof e!="function",onClick:d,px:4,children:$.jsx(gye,{})})})]}),i&&a.length>0&&$.jsx(idt,{opened:i,close:s,filename:r?`${r}_tidy.csv`:`${t}_all_tidy.csv`,data:a,studyId:t})]})}function MMe(e,t){if(!e)return null;if(t!=null&&t.uiConfig&&t.uiConfig.participantNameField){const[n,r]=t.uiConfig.participantNameField.split("."),i=Object.keys(e.answers).find(o=>o.startsWith(n));if(i)return`${e.answers[i].answer[r]}`}return null}function Tzt({cellData:e}){return Number.isFinite(e.endTime)&&Number.isFinite(e.startTime)?$.jsx(nn.Td,{children:$.jsx(Ru,{miw:100,children:e.timedOut?$.jsx(it,{children:"Timed out"}):Object.entries(e.answer).map(([t,n])=>$.jsxs(De,{children:[$.jsxs(it,{fw:700,span:!0,children:[" ",`${t}: `]}),typeof n=="object"?$.jsx(it,{size:"xs",component:"pre",span:!0,children:`${JSON.stringify(n,null,2)}`}):$.jsx(it,{span:!0,children:n})]},`cell-${t}`))})}):$.jsx(nn.Td,{children:"N/A"})}function Fpe({cellData:e}){const t=e.endTime&&e.startTime?(e.endTime-e.startTime)/1e3:NaN,n=e.endTime&&e.startTime?S_e(e):NaN;return Number.isFinite(e.endTime)&&Number.isFinite(e.startTime)?$.jsxs(nn.Td,{children:[t.toFixed(1)," ","s",n&&$.jsxs($.Fragment,{children:[$.jsx("br",{})," ","(",(n/1e3).toFixed(1)," ","s)"]})]}):$.jsx(nn.Td,{children:"N/A"})}function Czt(e){const{metaData:t}=e;return $.jsx(nn.Td,{children:$.jsx(NH,{w:200,hideLabel:"hide",maxHeight:50,showLabel:"more",children:$.jsxs(Ru,{gap:"xs",children:[$.jsxs(De,{children:["IP:"," ",t.ip]}),$.jsxs(De,{children:["Language:"," ",t.language]}),$.jsxs(De,{children:["Resolution:"," ",JSON.stringify(t.resolution)]}),$.jsxs(De,{children:["User Agent:"," ",t.userAgent]})]})})})}function Azt({visibleParticipants:e,studyConfig:t,refresh:n}){const{storageEngine:r}=Zi(),{studyId:i}=Da(),{user:o}=Wx(),s=async(E,_)=>{if(r&&i)if(o.isAdmin){const x=_===""?"Rejected by admin":_;await r.rejectParticipant(i,E,x),await n()}else console.warn("You are not authorized to perform this action.")},[a,l]=H.useState([]),[u,c]=H.useState(!1),[d,f]=H.useState(!1),[h,p]=H.useState(""),m=async()=>{c(!0),f(!1);const E=a.map(async _=>await s(_,h));await Promise.all(E),l([]),await n(),c(!1)};function g(E){E==="all"?a.length===e.length?l([]):l(e.map(_=>_.participantId)):a.includes(E)?l(a.filter(_=>_!==E)):l([...a,E])}const y=c_e(t.sequence),v=[$.jsx(nn.Th,{children:$.jsx(Kt,{justify:"center",children:$.jsx(_a,{mb:-4,checked:a.length===e.length,onChange:()=>g("all")})})},"action"),$.jsx(nn.Th,{children:"Index"},"index"),$.jsx(nn.Th,{children:"Name"},"name"),$.jsx(nn.Th,{children:"ID"},"ID"),$.jsx(nn.Th,{children:"Start Time"},"startTime"),$.jsx(nn.Th,{children:"End Time"},"endTime"),$.jsx(nn.Th,{children:"Total Duration (clean)"},"total-duration"),$.jsx(nn.Th,{children:"Status"},"status"),$.jsx(nn.Th,{children:"Tags"},"tags"),$.jsx(nn.Th,{children:"Meta"},"meta"),...y.flatMap(E=>[$.jsx(nn.Th,{children:E.componentName},`header-${E.componentName}-${E.timesSeenInBlock}`),$.jsxs(nn.Th,{children:[$.jsx("span",{style:{whiteSpace:"nowrap"},children:E.componentName})," ","Duration (clean)"]},`header-${E.componentName}-${E.timesSeenInBlock}-duration`)])],w=e.map(E=>{const _=MMe(E,t),x=E.answers&&Object.values(E.answers).filter(A=>A.startTime).sort((A,k)=>A.startTime-k.startTime),S=x&&x.length>0?x[0].startTime:void 0,C=x&&x.length>0?x[x.length-1].endTime:void 0;return $.jsxs(nn.Tr,{children:[$.jsx(nn.Td,{children:$.jsx(Kt,{justify:"center",children:$.jsx(_a,{mb:-4,checked:a.includes(E.participantId),onChange:()=>g(E.participantId)})})}),$.jsx(nn.Td,{children:`P-${E.participantIndex.toString().padStart(3,"0")}`}),$.jsx(nn.Td,{children:_}),$.jsx(nn.Td,{style:{whiteSpace:"nowrap"},children:E.participantId}),$.jsx(nn.Td,{miw:110,children:S?new Date(S).toLocaleString():"N/A"}),$.jsx(nn.Td,{miw:110,children:E.completed&&C?new Date(C).toLocaleString():"N/A"}),$.jsx(Fpe,{cellData:{startTime:S,endTime:C,windowEvents:Object.values(E.answers).flatMap(A=>A.windowEvents)}},`cell-${E.participantId}-total-duration`),$.jsx(nn.Td,{children:$.jsxs(Kt,{direction:"column",miw:100,children:[$.jsxs(Kt,{direction:"row",align:"center",children:[E.rejected?$.jsx(vi,{label:"Rejected",children:$.jsx(Ax,{size:16,color:"red",style:{marginBottom:-3}})}):E.completed?$.jsx(vi,{label:"Completed",children:$.jsx(jC,{size:16,color:"teal",style:{marginBottom:-3}})}):$.jsx(vi,{label:"In Progress",children:$.jsx(pye,{size:16,color:"orange",style:{marginBottom:-3}})}),!E.completed&&$.jsxs(it,{size:"sm",mb:-1,ml:4,children:[(Object.entries(E.answers).filter(([A,k])=>k.endTime!==-1&&k.endTime!==void 0).length/(Og(E.sequence).length-1)*100).toFixed(2),"%"]})]}),E.rejected&&$.jsx(it,{mt:5,fz:10,children:E.rejected.reason})]})}),$.jsx(nn.Td,{children:$.jsx(Kt,{direction:"column",miw:100,children:(E.participantTags||[]).map(A=>$.jsxs(it,{fz:10,children:["-"," ",A]},`tag-${A}`))})}),E.metadata?$.jsx(Czt,{metaData:E.metadata}):$.jsx(nn.Td,{children:"N/A"}),y.map(A=>{const k=oq(E.sequence,A.orderPath),N=k&&Object.entries(E.answers).sort((M,I)=>{const D=parseInt(M[0].slice(M[0].lastIndexOf("_")+1),10),R=parseInt(I[0].slice(I[0].lastIndexOf("_")+1),10);return D-R}).filter(([M])=>{const I=M.slice(0,M.lastIndexOf("_")),D=parseInt(M.slice(M.lastIndexOf("_")+1),10);return I===A.componentName&&D<=k[0].lastIndex&&D>=k[0].firstIndex});return N!==null&&N.length>=A.timesSeenInBlock+1&&N[A.timesSeenInBlock][1].endTime!==-1?$.jsxs(rr.Fragment,{children:[$.jsx(Tzt,{cellData:N[A.timesSeenInBlock][1]}),$.jsx(Fpe,{cellData:N[A.timesSeenInBlock][1]})]},`cellgroup-${E.participantId}-${A.componentName}-${A.timesSeenInBlock}`):$.jsxs(rr.Fragment,{children:[$.jsx(nn.Td,{children:"N/A"}),$.jsx(nn.Td,{children:"N/A"})]},`cellgroup-${E.participantId}-${A.componentName}-${A.timesSeenInBlock}`)})]},E.participantId)});return e.length>0?$.jsxs($.Fragment,{children:[$.jsx(gc,{visible:u,overlayProps:{blur:2}}),$.jsxs(Kt,{justify:"space-between",mb:8,p:8,children:[$.jsx(ri,{children:$.jsx(_x,{w:350,variant:"filled",placeholder:"Search for a participant ID",data:[...new Set(e.map(E=>E.participantId))],searchable:!0,value:null,leftSection:$.jsx(pze,{size:14}),onChange:E=>E&&g(E)})}),$.jsxs(ri,{children:[$.jsx($Me,{visibleParticipants:e,studyId:i||""}),$.jsxs(gn,{disabled:a.length===0||!o.isAdmin,onClick:()=>f(!0),color:"red",children:["Reject Participants (",a.length,")"]})]})]}),$.jsx(Kt,{direction:"column",style:{width:"100%",overflow:"auto"},children:$.jsxs(nn,{striped:!0,withTableBorder:!0,children:[$.jsx(nn.Thead,{children:$.jsx(nn.Tr,{children:v})}),$.jsx(nn.Tbody,{children:w})]})}),$.jsxs(Fi,{opened:d,onClose:()=>f(!1),title:$.jsxs(it,{children:["Reject Participants (",a.length,")"]}),children:[$.jsx(ep,{label:"Please enter the reason for rejection.",onChange:E=>p(E.target.value)}),$.jsxs(Kt,{mt:"sm",justify:"right",children:[$.jsx(gn,{mr:5,variant:"subtle",color:"dark",onClick:()=>{f(!1),p("")},children:"Cancel"}),$.jsx(gn,{color:"red",onClick:()=>m(),children:"Reject Participants"})]})]})]}):$.jsxs($.Fragment,{children:[$.jsx(Eu,{h:"xl"}),$.jsx(Kt,{justify:"center",align:"center",children:$.jsx(it,{children:"No data available"})})]})}function kzt({studyId:e,refresh:t}){const[n,r]=H.useState(!1),[i,o]=H.useState(!1),[s,a]=H.useState(!1),[l,u]=H.useState(!1),[c,d]=H.useState(""),[f,h]=H.useState([]),[p,m]=H.useState(""),[g,y]=H.useState(""),[v,w]=H.useState(!1),[E,_]=H.useState(!1),{storageEngine:x}=Zi(),S=x,C=H.useCallback(async()=>{_(!0);const U=await S.getSnapshots(e);h(U),_(!1)},[S,e]);H.useEffect(()=>{C()},[C]);const A=async(U,...F)=>{w(!0);const Y=await U(...F);Y.status==="SUCCESS"?(C(),w(!1),await t(),Y.notifications&&Y.notifications.forEach(V=>{zT(V)})):(w(!1),zT({title:Y.error.title,message:Y.error.message,color:"red"}))},k=async()=>{await A(S.createSnapshot.bind(S),e,!1)},N=async()=>{m(""),r(!1),await A(S.createSnapshot.bind(S),e,!0)},M=async()=>{a(!1),await A(S.renameSnapshot.bind(S),c,g)},I=async U=>{await A(S.restoreSnapshot.bind(S),e,U)},D=async()=>{m(""),o(!1),await A(S.removeSnapshotOrLive.bind(S),c,!0)},R=async()=>{m(""),u(!1),await A(S.removeSnapshotOrLive.bind(S),e,!0)},O=()=>Ote({title:"Create a Snapshot",children:$.jsx(it,{mb:30,children:"This will create a snapshot of the live database without impacting the live data."}),labels:{confirm:"Create",cancel:"Cancel"},cancelProps:{variant:"subtle",color:"dark"},onCancel:()=>{},onConfirm:()=>k()}),B=U=>Ote({title:"Restore Snapshot",children:$.jsx(it,{mb:30,children:"Restoring this snapshot will perform 2 actions. First, we will create a snapshot of the current live database, then we will restore the selected snapshot into the live database."}),labels:{confirm:"Restore",cancel:"Cancel"},confirmProps:{color:"red"},cancelProps:{variant:"subtle",color:"dark"},onCancel:()=>{},onConfirm:()=>I(U)}),z=U=>{const F=/-snapshot-(.+)$/,Y=U.match(F);return Y&&Y[1]?Y[1].replace("T"," "):null},W=async U=>{const F=U.slice(U.indexOf("-")+1);return await S.getAllParticipantsDataByStudy(F)};return $.jsxs($.Fragment,{children:[$.jsx(gc,{visible:v}),$.jsxs(Kt,{justify:"space-between",align:"center",children:[$.jsxs(De,{style:{width:"70%"},children:[$.jsx(Ki,{order:5,children:"Create a Snapshot"}),$.jsxs(it,{children:["This will create a snapshot of the live"," ",$.jsx(it,{span:!0,fw:700,children:e})," ","database. It will"," ",$.jsx(it,{span:!0,fw:700,fs:"italic",children:"not"})," ","remove this data from the live database. The current study data can be restored from a snapshot at any time."]})]}),$.jsx(vi,{label:"Create a snapshot",children:$.jsx(gn,{onClick:O,children:"Snapshot"})})]}),$.jsx(Eu,{h:"lg"}),$.jsxs(Kt,{justify:"space-between",align:"center",children:[$.jsxs(De,{style:{width:"70%"},children:[$.jsx(Ki,{order:5,children:"Archive Data"}),$.jsxs(it,{children:["This will create a snapshot of the live"," ",$.jsx(it,{span:!0,fw:700,children:e})," ","database. It will then remove this data from the live database. The current study data can be restored from a snapshot at any time."]})]}),$.jsx(vi,{label:"Snapshot and Delete Data",children:$.jsx(gn,{color:"red",onClick:()=>r(!0),children:"Archive"})})]}),$.jsx(Eu,{h:"lg"}),$.jsxs(Kt,{justify:"space-between",align:"center",children:[$.jsxs(De,{style:{width:"70%"},children:[$.jsx(Ki,{order:5,children:"Delete Data"}),$.jsxs(it,{children:["This will delete the live"," ",$.jsx(it,{span:!0,fw:700,children:e})," ","database. Since this does not create a snapshot the data will be permanently deleted and cannot be restored."]})]}),$.jsx(vi,{label:"Delete Data",children:$.jsx(gn,{color:"red",onClick:()=>u(!0),children:"Delete"})})]}),$.jsx(Eu,{h:"xl"}),$.jsxs(Kt,{direction:"column",children:[$.jsx(Kt,{style:{borderBottom:"1px solid #dedede"},direction:"row",justify:"space-between",mb:"xs",pb:"sm",children:$.jsx(Ki,{order:5,children:"Snapshots"})}),$.jsxs(De,{style:{position:"relative"},children:[$.jsx(gc,{visible:E}),f.length>0?$.jsxs(nn,{children:[$.jsx(nn.Thead,{children:$.jsxs(nn.Tr,{children:[$.jsx(nn.Th,{children:"Snapshot Name"}),$.jsx(nn.Th,{children:"Date Created"}),$.jsx(nn.Th,{children:"Actions"})]})}),$.jsx(nn.Tbody,{children:f.map(U=>$.jsxs(nn.Tr,{children:[$.jsx(nn.Td,{children:U.alternateName}),$.jsx(nn.Td,{children:z(U.originalName)}),$.jsx(nn.Td,{children:$.jsxs(Kt,{children:[$.jsx(vi,{label:"Rename",children:$.jsx(gn,{color:"green",variant:"light",px:4,style:{margin:"0px 5px"},onClick:()=>{a(!0),d(U.originalName)},children:$.jsx(uze,{})})}),$.jsx(vi,{label:"Restore Snapshot",children:$.jsx(gn,{color:"blue",variant:"light",px:4,style:{margin:"0px 5px"},onClick:()=>{B(U.originalName)},children:$.jsx(fze,{})})}),$.jsx(vi,{label:"Delete Snapshot",children:$.jsx(gn,{color:"red",px:4,variant:"light",style:{margin:"0px 10px 0px 5px"},onClick:()=>{o(!0),d(U.originalName)},children:$.jsx(yye,{})})}),$.jsx($Me,{visibleParticipants:()=>W(U.originalName),studyId:e,gap:"10px",fileName:U.alternateName})]})})]},U.originalName))})]}):$.jsx(it,{children:"No snapshots."})]})]}),$.jsxs(Fi,{opened:n,onClose:()=>{r(!1),m("")},title:$.jsx(it,{children:"Archive Data"}),children:[$.jsx(it,{mb:"sm",children:"This will create a snapshot of the live database and remove the data from the live database."}),$.jsx(ep,{label:"To archive this data, please enter the name of the study.",placeholder:e,onChange:U=>m(U.target.value)}),$.jsxs(Kt,{mt:"sm",justify:"right",children:[$.jsx(gn,{mr:5,variant:"subtle",color:"dark",onClick:()=>{r(!1),m("")},children:"Cancel"}),$.jsx(gn,{color:"red",onClick:N,disabled:p!==e,children:"Archive"})]})]}),$.jsxs(Fi,{opened:i,onClose:()=>{o(!1),m("")},title:$.jsx(it,{children:"Delete Snapshot"}),children:[$.jsxs(it,{mb:"sm",children:["This will permanently remove this snapshot. This action is"," ",$.jsx(it,{span:!0,fw:700,children:"irreversible"}),"."]}),$.jsx(ep,{label:"To delete this snapshot, please enter the name of the study.",placeholder:e,onChange:U=>m(U.target.value)}),$.jsxs(Kt,{mt:"sm",justify:"right",children:[$.jsx(gn,{mr:5,variant:"subtle",color:"dark",onClick:()=>{o(!1),m("")},children:"Cancel"}),$.jsx(gn,{color:"red",onClick:D,disabled:p!==e,children:"Delete"})]})]}),$.jsxs(Fi,{opened:s,onClose:()=>{a(!1),y("")},title:$.jsx(it,{children:"Rename Snapshot"}),children:[$.jsx(ep,{label:"Enter the new name of the snapshot.",placeholder:c,onChange:U=>y(U.target.value)}),$.jsxs(Kt,{mt:"sm",justify:"right",children:[$.jsx(gn,{mr:5,variant:"subtle",color:"dark",onClick:()=>{a(!1),y("")},children:"Cancel"}),$.jsx(gn,{color:"green",onClick:M,disabled:!g||g.length===0,children:"Rename"})]})]}),$.jsxs(Fi,{opened:l,onClose:()=>{u(!1),m("")},title:$.jsx(it,{children:"Delete Live Data"}),children:[$.jsxs(it,{mb:"sm",children:["This will permanently delete the live"," ",$.jsx(it,{span:!0,fw:700,children:e})," ","data. This action is"," ",$.jsx(it,{span:!0,fw:700,children:"irreversible"}),". Please consider using archive data to create a snapshot of the live data before deleting."]}),$.jsx(ep,{label:"To delete this live data, please enter the name of the study.",placeholder:e,onChange:U=>m(U.target.value)}),$.jsxs(Kt,{mt:"sm",justify:"right",children:[$.jsx(gn,{mr:5,variant:"subtle",color:"dark",onClick:()=>{u(!1),m("")},children:"Cancel"}),$.jsx(gn,{color:"red",onClick:R,disabled:p!==e,children:"Delete"})]})]})]})}function Izt({studyId:e}){const{storageEngine:t}=Zi(),[n,r]=H.useState(!1),[i,o]=H.useState(!1),[s,a]=H.useState(!1),[l,u]=H.useState(!1);H.useEffect(()=>{(async()=>{if(t){const f=await t.getModes(e);o(f.dataCollectionEnabled),a(f.studyNavigatorEnabled),u(f.analyticsInterfacePubliclyAccessible),r(!0)}})()},[t,e]);const c=async(d,f)=>{t&&(await t.setMode(e,d,f),d==="dataCollectionEnabled"?o(f):d==="studyNavigatorEnabled"?a(f):d==="analyticsInterfacePubliclyAccessible"&&u(f))};return n?$.jsxs(Ru,{children:[$.jsx(dg,{label:"Data Collection Enabled",checked:i,onChange:d=>c("dataCollectionEnabled",d.currentTarget.checked)}),$.jsx(dg,{label:"Study Navigator Enabled",checked:s,onChange:d=>c("studyNavigatorEnabled",d.currentTarget.checked)}),$.jsx(dg,{label:"Analytics Interface Publicly Accessible",checked:l,onChange:d=>c("analyticsInterfacePubliclyAccessible",d.currentTarget.checked)})]}):null}function Rzt({studyId:e,refresh:t}){const{storageEngine:n}=Zi();return $.jsx(Ap,{children:$.jsxs(va,{multiple:!0,variant:"contained",children:[$.jsxs(va.Item,{value:"ReVISit Modes",children:[$.jsx(va.Control,{children:$.jsx(Ki,{order:5,children:"ReVISit Modes"})}),$.jsx(va.Panel,{children:$.jsx(Izt,{studyId:e})})]},"modes"),$.jsxs(va.Item,{value:"Data Management",children:[$.jsx(va.Control,{disabled:(n==null?void 0:n.getEngine())==="localStorage",children:$.jsx(Ki,{order:5,children:"Data Management"})}),$.jsx(va.Panel,{children:(n==null?void 0:n.getEngine())!=="localStorage"&&$.jsx(kzt,{studyId:e,refresh:t})})]},"dataManagement")]})})}function Dzt({response:e,participantData:t,trialId:n,trialConfig:r}){const[i,{toggle:o}]=rU(!0),[s,a]=CC(),l=H.useMemo(()=>e.type==="metadata"?[]:t.map(f=>Object.entries(f.answers).filter(([h])=>h.slice(0,h.lastIndexOf("_"))===n)).map(f=>f.map(([,h])=>h.answer)).flat(),[t,e.type,n]),u=H.useMemo(()=>{var f;return e.type==="metadata"||(f=r.correctAnswer)==null?void 0:f.find(h=>h.id===e.id)},[e.id,e.type,r.correctAnswer]),c=H.useMemo(()=>{const d={height:"container",width:"container"};if(e.type==="shortText"||e.type==="longText")return{};if(e.type==="metadata"){const h=t.map(m=>Object.entries(m.answers).filter(([g])=>g.slice(0,g.lastIndexOf("_"))===n)).map(m=>m.filter(([g,y])=>y.endTime!==-1).map(([g,y])=>(y.endTime-y.startTime)/1e3)).flat();return{...d,data:{values:h},mark:"bar",encoding:{x:{field:"data",bin:!0,type:"quantitative",title:"Time (s)"},y:{aggregate:"count",type:"quantitative",title:"Count"}}}}const f={params:[{name:"correctAnswer",value:u==null?void 0:u.answer},{name:"variable",value:e.id}],transform:[{calculate:"datum[variable] === correctAnswer ? 'correct' : 'incorrect'",as:"result"},{calculate:"if(datum.result === 'correct', 0, if(datum.result === 'incorrect', 1, 2))",as:"order"}],color:{field:"result",type:"nominal",scale:{domain:["correct","incorrect"],range:["#69DB7C","#ADB5BD"]}},order:{field:"order"}};if(e.type==="numerical"||e.type==="slider"||e.type==="likert"){let h,p;return e.type==="numerical"&&(h=e.min,p=e.max),e.type==="slider"&&(h=Math.min(...e.options.map(g=>g.value)),p=Math.max(...e.options.map(g=>g.value))),e.type==="likert"&&(h=1,p=e.numItems),{...d,data:{values:l},mark:"bar",params:u!==void 0?f.params:void 0,transform:[{bin:e.type==="likert"?{step:1}:{maxbins:10},field:e.id,as:"bins"},...u!==void 0?f.transform:[]],encoding:{x:{field:"bins",scale:h!==void 0&&p!==void 0?{domain:[h,p]}:void 0,type:"quantitative",title:"Answer"},x2:{field:"bins_end"},y:{aggregate:"count",type:"quantitative",title:"Count",stack:!0},color:u!==void 0?f.color:void 0,order:u!==void 0?f.order:void 0}}}if(e.type==="radio"||e.type==="dropdown"||e.type==="checkbox")return{...d,data:{values:l},mark:"bar",params:u!==void 0?f.params:void 0,transform:u!==void 0?f.transform:void 0,encoding:{x:{field:e.id,type:"ordinal",title:"Answer"},y:{aggregate:"count",type:"quantitative",title:"Count"},color:u!==void 0?f.color:void 0}}},[t,l,e.id,e.max,e.min,e.numItems,e.options,e.type,n,u]);return $.jsxs(hx,{p:"lg",withBorder:!0,ref:s,children:[$.jsxs(Kt,{direction:"row",justify:"space-between",onClick:o,children:[$.jsxs(Kt,{align:"center",children:[e.type==="metadata"&&$.jsx(J7e,{size:20}),e.type==="numerical"&&$.jsx(aze,{size:20}),(e.type==="shortText"||e.type==="longText")&&$.jsx(K7e,{size:20}),e.type==="likert"&&$.jsx(tze,{size:20}),e.type==="dropdown"&&$.jsx(mze,{size:20}),e.type==="slider"&&$.jsx(H7e,{size:20}),e.type==="radio"&&$.jsx(dze,{size:20}),e.type==="checkbox"&&$.jsx(gze,{size:20}),e.type==="reactive"&&$.jsx(rze,{size:20}),$.jsx(Ki,{order:5,ml:4,children:e.id})]}),$.jsx(Q7e,{style:{rotate:i?"180deg":"none",transition:"rotate 200ms"}})]}),$.jsxs(eP,{in:i,mah:400,children:[$.jsx(De,{style:{top:0,position:"sticky",backgroundColor:"white",zIndex:2},py:"md",children:$.jsx(s0,{})}),$.jsxs(MH,{cols:2,h:360,children:[$.jsx(Cp,{mih:200,children:e.type!=="metadata"&&e.type!=="shortText"&&e.type!=="longText"&&e.type!=="reactive"?$.jsx(rhe,{spec:c,actions:!1,height:270,width:a.width/2-60-(u===void 0?0:60),padding:0,style:{justifySelf:"center"},renderer:"svg"}):$.jsxs(Kt,{direction:"column",gap:"xs",style:{overflowX:"clip"},children:[e.type==="metadata"&&$.jsx(Zh,{block:!0,children:`${JSON.stringify(r,null,2)}`}),e.type!=="metadata"&&$.jsxs($.Fragment,{children:[$.jsx(it,{fw:700,children:"Response Values: "}),l.map((d,f)=>$.jsx(Kt,{align:"center",gap:"xs",children:$.jsx(it,{children:d[e.id]})},f))]})]})}),$.jsx(Cp,{mih:200,children:e.type==="metadata"?$.jsx(rhe,{spec:c,actions:!1,width:a.width/2-60,height:270,padding:0,style:{justifySelf:"center"}}):$.jsxs($.Fragment,{children:[$.jsx(it,{fw:700,children:"Response Specification: "}),$.jsx(Zh,{block:!0,children:JSON.stringify(e,null,2)}),$.jsx("br",{}),u&&$.jsxs($.Fragment,{children:[$.jsx(it,{fw:700,children:"Correct Answer: "}),$.jsx(Zh,{block:!0,children:JSON.stringify(u,null,2)})]})]})})]})]})]})}function $zt({participantData:e,studyConfig:t,trialId:n}){const r=n&&n!=="end"&&Pf(t.components[n],t),i=H.useMemo(()=>[{id:"Config and Timing",type:"metadata"},...r?r.response:[]],[r]);return r?$.jsx(Kt,{w:"100%",direction:"column",gap:"xs",children:i.map(o=>$.jsx(Dzt,{response:o,participantData:e,trialId:n,trialConfig:r},o.id))}):$.jsx(Kt,{justify:"center",align:"center",pt:"lg",pb:"md",w:"100%",children:$.jsx(it,{children:n!=="end"?"No trial selected":"The end component has no data."})})}function Mzt({studyConfig:e,visibleParticipants:t}){const n=H.useMemo(()=>{let i=structuredClone(e.sequence);return i=sq(i,"root"),i.components.push("end"),i},[e.sequence]),{trialId:r}=Da();return $.jsx(hx,{shadow:"sm",p:"md",withBorder:!0,children:t.length===0?$.jsx(Kt,{justify:"center",align:"center",pt:"lg",pb:"md",children:$.jsx(it,{children:"No data available."})}):$.jsxs(Kt,{direction:"row",children:[$.jsx(De,{w:340,children:$.jsx(HM,{configSequence:n,participantSequence:n,fullSequence:n,participantView:!1,studyConfig:e,analysisNavigation:!0})}),$.jsx(s0,{orientation:"vertical",mx:"md"}),$.jsx($zt,{participantData:t,studyConfig:e,trialId:r})]})})}function Pzt({xScale:e,answer:t,height:n,labelHeight:r=0}){return $.jsx("g",{children:$.jsx("line",{stroke:"gray",strokeWidth:1,x1:e(t.startTime)+2,x2:e(t.startTime)+2,y1:n-45-r,y2:n-25})})}const gI=3,y1=25,yI=25,vI=20,Bpe=1,A8=15;function Nzt({xScale:e,answer:t,name:n,height:r,setSelectedTask:i,isSelected:o,labelHeight:s=0,isCorrect:a,hasCorrect:l}){const[u,c]=H.useState(!1),[d,{width:f}]=CC();return $.jsxs("g",{onClick:()=>i(n),onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),style:{cursor:"pointer"},children:[$.jsx("rect",{opacity:1,fill:u||o?"cornflowerblue":"lightgray",x:e(t.startTime)+Bpe,width:e(t.endTime)-e(t.startTime)-Bpe*2,y:r-y1,height:y1}),$.jsx("rect",{rx:3,opacity:1,x:e(t.startTime)-gI,width:f+gI*2+(l?A8:0),y:r-y1-yI-s,height:vI,fill:"whitesmoke"}),$.jsx("line",{stroke:"black",strokeWidth:1,x1:e(t.startTime)-gI,x2:f+e(t.startTime)+gI+(l?A8:0),y1:r-y1-yI+vI-s,y2:r-y1-yI+vI-s}),$.jsx("foreignObject",{x:e(t.startTime),width:f+(l?A8:0),y:r-y1-yI-s,height:vI,children:$.jsx(mc,{style:{width:"fit-content"},children:$.jsxs(ri,{wrap:"nowrap",gap:2,children:[$.jsx(it,{lineClamp:1,ref:d,mx:0,style:{width:"fit-content",fontWeight:600},size:"12px",children:n}),l?a?$.jsx(jC,{color:"var(--mantine-color-green-6)",style:{marginTop:2,strokeWidth:4},size:"14"}):$.jsx(Ax,{color:"var(--mantine-color-red-6)",style:{marginTop:2,strokeWidth:4},size:14}):""]})})})]})}const jpe=25,Ozt=8,k8={left:20,right:20};function Lzt({participantData:e,width:t,height:n,selectedTask:r,studyId:i,studyConfig:o,maxLength:s}){const a=H.useCallback(g=>{const y=g.split("_"),v=+y[y.length-1];window.open(`${ji}${i}/${jo(v)}?participantId=${e.participantId}`,"_blank")},[e.participantId,i]),l=H.useMemo(()=>{const g=Object.values(e.answers||{}).filter(w=>w.startTime).map(w=>[w.startTime,w.endTime]).flat(),y=Ldt(g);return KN([k8.left,t-k8.left-k8.right]).domain([y[0],s?y[0]+s:y[1]]).clamp(!0)},[s,e.answers,t]),[u,c,d]=H.useMemo(()=>{let g=0;const y=Object.entries(e.answers||{}).filter(_=>!!_[1].startTime).sort((_,x)=>_[1].startTime-x[1].startTime);let v=0,w=0;const E=y.map((_,x)=>{const[S,C]=_,A=x>0?y[x-g-1]:null;A&&A[0].length*(Ozt+1)+l(A[1].startTime)>l(C.startTime)?g+=1:g=0;const k=S.split("_"),N=k.slice(0,k.length-1).join("_"),M=o==null?void 0:o.components[N];let I=!0,D=!1;return M&&M.correctAnswer?(M.correctAnswer.forEach(R=>{const{id:O,answer:B}=R;(!M||!M.correctAnswer||C.answer[O]!==B)&&(I=!1)}),D=!0):D=!1,D&&(w+=1,I&&(v+=1)),{line:$.jsx(Pzt,{labelHeight:g*jpe,answer:C,height:n,xScale:l},S),label:$.jsx(vi,{withinPortal:!0,position:"bottom-start",px:4,py:0,withArrow:!0,label:$.jsx(Ru,{gap:0,children:Object.entries(C.answer).map(R=>{var W,U;const[O,B]=R,z=(U=(W=M==null?void 0:M.correctAnswer)==null?void 0:W.find(F=>F.id===O))==null?void 0:U.answer;return $.jsx(it,{children:`${O}: ${B} ${z?`[${z}]`:""}`},O)})}),children:$.jsx("g",{children:$.jsx(Nzt,{isCorrect:I,hasCorrect:D,labelHeight:g*jpe,isSelected:r===S,setSelectedTask:a,answer:C,height:n,name:S,xScale:l},S)})},`${S}-tooltip`)}});return[v,w,E]},[e.answers,l,o==null?void 0:o.components,n,r,a]),f=H.useMemo(()=>{if(!e.answers||Object.entries(e.answers).length===0)return 0;const g=Object.values(e.answers).filter(y=>y.startTime).sort((y,v)=>y.startTime-v.startTime);return new Date(g[g.length-1].endTime-(g[0]?g[0].startTime:0)).getTime()},[e]),h=H.useMemo(()=>Object.entries(e.answers||{}).sort((y,v)=>y[1].startTime-v[1].startTime).map(y=>{const[v,w]=y,E=[];let _=[-1,-1],x="visible";if(w.windowEvents)for(let S=0;S<w.windowEvents.length;S+=1)w.windowEvents[S][1]==="visibility"&&(w.windowEvents[S][2]==="hidden"&&x==="visible"?(_=[w.windowEvents[S][0],-1],x="hidden"):w.windowEvents[S][2]==="visible"&&x==="hidden"&&(_[1]=w.windowEvents[S][0],E.push(_),_=[-1,-1],x="visible"));return E.map((S,C)=>$.jsx(vi,{withinPortal:!0,label:"Browsed away",children:$.jsx("rect",{x:l(S[0]),width:l(S[1])-l(S[0]),y:n-5,height:10})},C))}),[l,n,e.answers]),p=H.useMemo(()=>MMe(e,o),[e,o]),m=H.useMemo(()=>{if(!e.answers||Object.entries(e.answers).length===0)return"";const g=Object.values(e.answers).filter(v=>v.startTime).sort((v,w)=>v.startTime-w.startTime),y=new Date(g[g.length-1].endTime);return e.completed?`${y.toLocaleDateString()} ${y.toLocaleTimeString()}`:""},[e]);return $.jsx(mc,{children:$.jsxs(Ru,{gap:15,style:{width:"100%"},children:[$.jsx(s0,{size:"md"}),$.jsxs(ri,{justify:"space-between",children:[$.jsxs(ri,{justify:"center",children:[e.participantIndex?$.jsx(it,{children:`P-${e.participantIndex.toString().padStart(3,"0")}`}):null,$.jsx(it,{size:"md",fw:700,children:p||e.participantId}),$.jsx(it,{size:"md",children:m}),e.completed?null:$.jsx(it,{size:"xl",c:"red",children:"Not completed"}),$.jsxs(ri,{gap:10,children:[$.jsx(pd,{variant:"light",size:"lg",color:"green",leftSection:$.jsx(jC,{width:18,height:18,style:{paddingTop:1}}),pb:1,children:u}),$.jsx(pd,{variant:"light",size:"lg",color:"red",leftSection:$.jsx(Ax,{width:18,height:18,style:{paddingTop:1}}),pb:1,children:c-u}),$.jsx(pd,{variant:"light",size:"lg",color:"gray",leftSection:$.jsx(nze,{width:18,height:18,style:{paddingTop:1}}),pb:1,children:Jz(f)})]})]}),$.jsx(gn,{rightSection:$.jsx(fye,{size:14}),component:"a",href:`${ji}${i}/${jo(0)}?participantId=${e.participantId}`,target:"_blank",children:"Go to replay"})]}),e.completed?$.jsxs("svg",{style:{width:t,height:n,overflow:"visible"},children:[d.map(g=>g.line),d.map(g=>g.label),h]}):null]})})}function Fzt({visibleParticipants:e,studyConfig:t}){const{studyId:n}=Da(),[r,{width:i}]=CC(),[o,s]=H.useState(!1),a=H.useMemo(()=>o?Math.max(...e.map(u=>{const c=Math.min(...Object.values(u.answers).map(f=>f.startTime||0)),d=Math.max(...Object.values(u.answers).map(f=>f.endTime||0));return d&&c?d-c:0})):void 0,[o,e]);return $.jsxs(Ru,{ref:r,style:{width:"100%"},children:[$.jsx(ri,{children:$.jsx(dg,{checked:o,label:"Scale by time",onChange:l=>s(l.currentTarget.checked)})}),e.map(l=>$.jsx(Lzt,{maxLength:a,studyConfig:t,studyId:n||"",height:200,participantData:l,width:i},l.participantId))]})}function zpe(e,t){const n=Object.values(e.answers).map(i=>i.startTime).filter(i=>i!==void 0).sort(),r=Object.values(t.answers).map(i=>i.startTime).filter(i=>i!==void 0).sort();return n.length===0||r.length===0?n.length>0?-1:r.length>0?1:t.participantIndex-e.participantIndex:r[0]-n[0]}function Bzt({globalConfig:e}){const{studyId:t}=Da(),[n,r]=H.useState([]),[i,o]=H.useState(void 0),[s,a]=H.useState(!1),{storageEngine:l}=Zi(),u=zu(),{analysisTab:c}=Da(),{user:d}=Wx();H.useEffect(()=>{if(!t)return()=>{};if(t==="__revisit-widget"){const w=async E=>{if(E.data.type==="revisitWidget/CONFIG"&&l){const _=await ZQ(E.data.payload);o(_)}};return window.addEventListener("message",w),window.parent.postMessage({type:"revisitWidget/READY"},"*"),()=>{window.removeEventListener("message",w)}}return eJ(t,e).then(w=>{w&&o(w)}),()=>{}},[t,e,l]);const f=H.useCallback(async()=>{if(a(!0),t){if(!i||!l)return;await l.initializeStudyDb(t,i);const w=await l.getAllParticipantsData();r(w),a(!1)}},[l,t,i]);H.useEffect(()=>{f()},[e,l,t,f]);const[h,p]=H.useState([]),[m,g,y]=H.useMemo(()=>{const w=n.filter(x=>!x.rejected&&x.completed),E=n.filter(x=>!x.rejected&&!x.completed),_=n.filter(x=>x.rejected);return p([...w,...E,..._].sort(zpe)),[w,E,_]},[n]),v=H.useCallback(w=>{const E=[];w.includes("completed")&&E.push(...m),w.includes("inprogress")&&E.push(...g),w.includes("rejected")&&E.push(...y),p(E.sort(zpe))},[m,g,y]);return $.jsxs($.Fragment,{children:[$.jsx(rD,{studyIds:e.configsList}),$.jsx(qr.Main,{children:$.jsxs(Ap,{fluid:!0,style:{height:"100%",position:"relative"},children:[$.jsx(gc,{visible:s}),$.jsxs(Kt,{direction:"row",align:"center",justify:"space-between",children:[$.jsx(Ki,{order:5,children:t}),$.jsxs(Kt,{direction:"row",align:"center",children:[$.jsx(it,{mt:-2,size:"sm",children:"Participants: "}),$.jsx(_a.Group,{defaultValue:["completed","inprogress","rejected"],onChange:v,mb:"xs",mt:8,ml:"xs",children:$.jsxs(ri,{children:[$.jsx(_a,{value:"completed",label:"Completed"}),$.jsx(_a,{value:"inprogress",label:"In Progress"}),$.jsx(_a,{value:"rejected",label:"Rejected"})]})})]})]}),$.jsx(Eu,{h:"xs"}),$.jsxs(sr,{variant:"outline",value:c,onChange:w=>u(`/analysis/stats/${t}/${w}`),style:{height:"100%"},children:[$.jsxs(sr.List,{children:[$.jsx(sr.Tab,{value:"table",leftSection:$.jsx(vze,{size:16}),children:"Table View"}),$.jsx(sr.Tab,{value:"stats",leftSection:$.jsx(X7e,{size:16}),children:"Trial Stats"}),$.jsx(sr.Tab,{value:"replay",leftSection:$.jsx(cze,{size:16}),children:"Participant Replay"}),$.jsx(sr.Tab,{value:"manage",leftSection:$.jsx(mye,{size:16}),disabled:!d.isAdmin,children:"Manage"})]}),$.jsx(sr.Panel,{value:"table",pt:"xs",children:i&&$.jsx(Azt,{visibleParticipants:h,studyConfig:i,refresh:f})}),$.jsx(sr.Panel,{value:"stats",pt:"xs",children:i&&$.jsx(Mzt,{studyConfig:i,visibleParticipants:h})}),$.jsx(sr.Panel,{value:"replay",pt:"xs",children:$.jsx(Fzt,{visibleParticipants:h,studyConfig:i})}),$.jsx(sr.Panel,{value:"manage",pt:"xs",children:t&&d.isAdmin?$.jsx(Rzt,{studyId:t,refresh:f}):$.jsx(Ap,{mt:20,children:$.jsx(dp,{title:"Unauthorized Access",variant:"light",color:"red",icon:$.jsx(tV,{}),children:"You are not authorized to manage the data for this study."})})})]})]})})]})}function Upe({children:e,paramToCheck:t,paramCallback:n}){const{user:r,verifyAdminStatus:i,logout:o}=Wx(),{storageEngine:s}=Zi(),[a,l]=H.useState(!1),u=Da();return H.useEffect(()=>{(async()=>{if(a===!1)if(t&&n&&u[t]){const d=await n(u[t]);d&&l(d)}else l(!0);if(a)try{r&&await i(r)||o()}catch(d){o(),console.warn(d)}})()},[r.isAdmin,a]),r.determiningStatus||!s?$.jsx(gc,{visible:r.determiningStatus||!(s!=null&&s.getEngine())}):a&&!r.isAdmin&&!r.determiningStatus?$.jsx(XH,{to:"/login"}):$.jsx($.Fragment,{children:e})}async function PMe(e,t){if(e instanceof rc){t(!0);const n=new Kh,r=UD();try{await Hrt(r,n,qwe)}catch(i){zT({title:"Error",message:i.message,color:"red"})}finally{t(!1)}return r.currentUser}return null}function jzt(){const{user:e}=Wx(),[t,n]=H.useState(!1),{storageEngine:r}=Zi();return H.useEffect(()=>{!e.determiningStatus&&!e.isAdmin&&e.adminVerification&&zT({title:"Unauthorized",message:"You are not authorized to use this application.",color:"red"})},[e.adminVerification]),!e.determiningStatus&&e.isAdmin?$.jsx(XH,{to:"/"}):$.jsx(Ap,{children:$.jsx(vx,{padding:"lg",children:$.jsxs(Kt,{align:"center",direction:"column",justify:"center",children:[$.jsx(a0,{maw:200,mt:50,mb:100,src:`${ji}revisitAssets/revisitLogoSquare.svg`,alt:"Revisit Logo"}),$.jsxs($.Fragment,{children:[$.jsx(it,{mb:20,children:"To access admin settings, please sign in using your Google account."}),$.jsx(gn,{onClick:()=>PMe(r,n),leftSection:$.jsx(bze,{}),variant:"filled",children:"Sign In With Google"})]}),$.jsx(gc,{visible:t})]})})})}function zzt(){const{user:e,triggerAuth:t,logout:n}=Wx(),{storageEngine:r}=Zi(),[i,o]=H.useState(!1),[s,a]=H.useState([]),[l,u]=H.useState(!1),[c,d]=H.useState(!1),[f,h]=H.useState(!1),[p,m]=H.useState(!1),[g,y]=H.useState(!1),[v,w]=H.useState(""),[E,_]=H.useState(null),x=v_e({initialValues:{email:""},validate:{email:dct("Invalid email")}});H.useEffect(()=>{(async()=>{if(u(!0),r instanceof rc){const D=await(r==null?void 0:r.getUserManagementData("authentication"));o((D==null?void 0:D.isEnabled)||!1);const R=await(r==null?void 0:r.getUserManagementData("adminUsers"));R&&R.adminUsersList&&a(R==null?void 0:R.adminUsersList.map(O=>O.email))}else o(!1);u(!1)})()},[r]);const S=async()=>{if(u(!0),r instanceof rc){const I=await PMe(r,u);I&&I.email?(_({email:I.email,uid:I.uid}),m(!0)):y(!0)}u(!1)},C=async I=>{u(!0),r instanceof rc&&I&&(await r.changeAuth(!0),await r.addAdminUser(I),a([I.email]),o(!0),t()),m(!1),u(!1)},A=async()=>{if(u(!0),r instanceof rc){await r.addAdminUser({email:x.values.email,uid:null});const I=await r.getUserManagementData("adminUsers");a((I==null?void 0:I.adminUsersList.map(D=>D.email))||[])}u(!1),d(!1),x.setValues({email:""})},k=I=>{h(!0),w(I)},N=async()=>{if(u(!0),r instanceof rc){await r.removeAdminUser(v);const I=await r.getUserManagementData("adminUsers");a((I==null?void 0:I.adminUsersList.map(D=>D.email))||[])}h(!1),u(!1)},M=H.useMemo(()=>r instanceof rc,[r]);return $.jsxs($.Fragment,{children:[$.jsx(Ap,{children:$.jsxs(vx,{withBorder:!0,style:{backgroundColor:"#FAFAFA"},children:[$.jsx(Ki,{mb:20,order:3,children:"Authentication"}),i?$.jsx(Kt,{children:$.jsx(it,{children:"Authentication is enabled."})}):$.jsxs(Kt,{justify:"space-between",children:[$.jsx(De,{children:$.jsx(it,{children:"Authentication is currently disabled."})}),$.jsx(vi,{label:"You can only enable auth when using Firebase",disabled:M,children:$.jsx(gn,{onClick:I=>M?S():I.preventDefault(),color:"green","data-disabled":M?void 0:!0,style:{"&[dataDisabled]":{pointerEvents:"all"}},children:"Enable Authentication"})})]}),i?$.jsxs(Kt,{mt:40,direction:"column",children:[$.jsxs(Kt,{style:{borderBottom:"1px solid #dedede"},direction:"row",justify:"space-between",mb:15,pb:15,children:[$.jsx(Ki,{order:6,children:"Enabled Users"}),$.jsx(nV,{style:{cursor:"pointer"},onClick:()=>d(!0)})]}),s.length>0?s.map(I=>{var D;return $.jsxs(Kt,{justify:"space-between",mb:10,children:[$.jsx(it,{children:I}),I===((D=e.user)==null?void 0:D.email)?$.jsx(it,{color:"blue",size:"xs",children:"You"}):$.jsx(r0,{variant:"subtle",onClick:()=>k(I),children:$.jsx(yye,{color:"red"})})]},I)}):null,$.jsx(Kt,{direction:"row",justify:"left",children:$.jsx(gn,{onClick:()=>n(),mt:20,children:"Log out"})})]}):null]})}),$.jsx(Fi,{opened:c,onClose:()=>d(!1),title:"Add Admin User",children:$.jsxs(De,{component:"form",onSubmit:x.onSubmit(()=>A()),children:[$.jsx(ep,{leftSection:$.jsx(q7e,{}),placeholder:"User Gmail Account",...x.getInputProps("email")}),$.jsxs(Kt,{mt:30,justify:"right",children:[$.jsx(gn,{mr:5,variant:"subtle",color:"red",onClick:()=>d(!1),children:"Cancel"}),$.jsx(gn,{type:"submit",children:"Save"})]})]})}),$.jsxs(Fi,{opened:f,size:"large",onClose:()=>h(!1),title:$.jsxs(it,{fw:700,children:["Remove",v,"?"]}),children:[$.jsxs(it,{mt:40,children:["Are you sure you want to remove",$.jsx("b",{children:v})," ","as an administrator?"]}),$.jsxs(Kt,{mt:40,justify:"right",children:[$.jsx(gn,{mr:5,variant:"subtle",color:"red",onClick:()=>h(!1),children:"Cancel"}),$.jsx(gn,{onClick:()=>N(),children:"Yes, I'm sure."})]})]}),$.jsxs(Fi,{opened:p,size:"md",onClose:()=>m(!1),title:$.jsx(it,{fw:700,children:"Enable Authentication?"}),children:[$.jsxs(it,{mt:40,children:["User"," ",$.jsx("b",{children:E==null?void 0:E.email})," ","will be added as an administrator to this application. After enabling authentication, you'll be able to add additional users below. This action cannot be undone."]}),$.jsxs(Kt,{mt:40,justify:"right",children:[$.jsx(gn,{mr:5,variant:"subtle",color:"red",onClick:()=>m(!1),children:"Cancel"}),$.jsx(gn,{onClick:()=>C(E),children:"Yes, I'm sure."})]})]}),$.jsxs(Fi,{opened:g,size:"md",onClose:()=>y(!1),title:$.jsx(it,{fw:700,children:"An Error Occurred."}),children:[$.jsxs(it,{mt:40,children:["An error has occurred when trying to enable authentication. Please consult the"," ",$.jsx("a",{href:"https://revisit.dev/docs/data-and-deployment/authentication-authorization/adding-removing-ui/",target:"_blank",rel:"noreferrer",children:"documentation"})," ","for more information."]}),$.jsx(Kt,{mt:40,justify:"right",children:$.jsx(gn,{mr:5,onClick:()=>y(!1),children:"Okay"})})]}),$.jsx(gc,{visible:l})]})}class Uzt extends Gwe{constructor(){super("localStorage");la(this,"studyDatabase");la(this,"studyId")}async connect(){this.connected=!0}async initializeStudyDb(n,r){this.studyId=n,this.studyDatabase=await S1.createInstance({name:n});const i=await this.getCurrentConfigHash(),o=await MT(JSON.stringify(r));i&&i!==o&&(await this.studyDatabase.removeItem("sequenceArray"),await this.clearCurrentParticipantId()),this.studyDatabase.setItem("currentConfigHash",o);const s=await this.studyDatabase.getItem("configs");await this.studyDatabase.setItem("configs",{...s,[o]:r})}async getAllParticipantNames(){return(await this.getAllParticipantsData()).map(r=>r.participantId)}getAudio(n,r){return console.warn("not yet implemented",r),Promise.resolve(void 0)}async saveAudio(n){return console.warn("not yet implemented",n),Promise.resolve()}async initializeParticipantSession(n,r,i,o,s){var h;if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");if(await this.getCurrentParticipantId(s),!this.currentParticipantId)throw new Error("Participant not initialized");const a=await this.studyDatabase.getItem(this.currentParticipantId);if(a)return a;const l=await this.getModes(n),u=await MT(JSON.stringify(i)),{currentRow:c,creationIndex:d}=await this.getSequence(),f={participantId:this.currentParticipantId,participantConfigHash:u,sequence:c,participantIndex:d,answers:{},searchParams:r,metadata:o,completed:!1,rejected:!1,participantTags:[]};return l.dataCollectionEnabled&&await((h=this.studyDatabase)==null?void 0:h.setItem(this.currentParticipantId,f)),f}async getCurrentConfigHash(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");return await this.studyDatabase.getItem("currentConfigHash")}async getAllConfigsFromHash(n,r){return await S1.createInstance({name:r}).getItem("configs")||{}}async getCurrentParticipantId(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const r=await this.studyDatabase.getItem("currentParticipant");if(n)return this.currentParticipantId=n,await this.studyDatabase.setItem("currentParticipant",n),n;if(r)return this.currentParticipantId=r,r;const i=HD();return await this.studyDatabase.setItem("currentParticipant",i),this.currentParticipantId=i,i}async clearCurrentParticipantId(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");await this.studyDatabase.removeItem("currentParticipant")}async saveAnswers(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const r=await this.studyDatabase.getItem(this.currentParticipantId);if(!r)throw new Error("Participant not initialized");r.answers=n,await this.studyDatabase.setItem(this.currentParticipantId,r)}async setSequenceArray(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");this.studyDatabase.setItem("sequenceArray",n)}async getSequence(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.studyDatabase.getItem("sequenceArray");if(!n)throw new Error("Latin square not initialized");if(!this.studyId)throw new Error("Study ID not initialized");const r=await this.getModes(this.studyId),i=r.dataCollectionEnabled?n.pop():n[Math.floor(Math.random()*n.length-1)];if(!i)throw new Error("Latin square is empty");return r.dataCollectionEnabled&&await this.studyDatabase.setItem("sequenceArray",n),{currentRow:i,creationIndex:1e3-n.length}}async getSequenceArray(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");return await this.studyDatabase.getItem("sequenceArray")}async getAllParticipantsData(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=[];return await this.studyDatabase.iterate((r,i)=>{i!=="config"&&i!=="currentParticipant"&&i!=="sequenceArray"&&i!=="configs"&&i!=="currentConfigHash"&&i!=="modes"&&n.push(r)}),n}async getAllParticipantsDataByStudy(n){const r=S1.createInstance({name:n}),i=[];return await r.iterate((o,s)=>{s!=="config"&&s!=="currentParticipant"&&s!=="sequenceArray"&&s!=="configs"&&s!=="currentConfigHash"&&s!=="modes"&&i.push(o)}),i}async getParticipantData(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const r=n||await this.studyDatabase.getItem("currentParticipant");return r?await this.studyDatabase.getItem(r):null}async getParticipantTags(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.getParticipantData();if(!n)throw new Error("Participant not initialized");return n.participantTags}async addParticipantTags(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const r=await this.getParticipantData();if(!r)throw new Error("Participant not initialized");r.participantTags=[...new Set([...r.participantTags,...n])],await this.studyDatabase.setItem(this.currentParticipantId,r)}async removeParticipantTags(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const r=await this.getParticipantData();if(!r)throw new Error("Participant not initialized");r.participantTags=r.participantTags.filter(i=>!n.includes(i)),await this.studyDatabase.setItem(this.currentParticipantId,r)}async nextParticipant(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=HD();await this.studyDatabase.setItem("currentParticipant",n)}async verifyCompletion(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.getParticipantData();if(!n)throw new Error("Participant not initialized");return n.completed||(n.completed=!0,await this.studyDatabase.setItem(this.currentParticipantId,n)),!0}async validateUser(n){return!0}async rejectParticipant(n,r,i){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const o=await this.studyDatabase.getItem(r);if(!o)throw new Error("Participant not found");if(o.rejected)return;o.rejected={reason:i,timestamp:new Date().getTime()};const s=await this.studyDatabase.getItem("sequenceArray");s&&(s.unshift(o.sequence),this.setSequenceArray(s)),await this.studyDatabase.setItem(r,o)}async rejectCurrentParticipant(n,r){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");await this.rejectParticipant(n,this.currentParticipantId,r)}async setMode(n,r,i){this.studyDatabase=await S1.createInstance({name:n});const o=await this.studyDatabase.getItem("modes");if(!o)throw new Error("Modes not initialized");o[r]=i,this.studyDatabase.setItem("modes",o)}async getModes(n){this.studyDatabase=await S1.createInstance({name:n});const r=await this.studyDatabase.getItem("modes");if(r)return r;const i={dataCollectionEnabled:!0,studyNavigatorEnabled:!0,analyticsInterfacePubliclyAccessible:!0};return this.studyDatabase.setItem("modes",i),i}async getParticipantsStatusCounts(n){const r=await this.getAllParticipantsDataByStudy(n),i=r.filter(u=>u.completed&&!u.rejected).length,o=r.filter(u=>u.rejected).length,s=r.filter(u=>!u.completed&&!u.rejected).length,a=Math.min(...r.map(u=>Math.min(...Object.values(u.answers).map(c=>c.startTime)))),l=Math.max(...r.map(u=>Math.max(...Object.values(u.answers).map(c=>c.endTime))));return{completed:i,rejected:o,inProgress:s,minTime:a===1/0?null:a,maxTime:l===-1/0?null:l}}_verifyStudyDatabase(n){return n!==void 0}}async function Hzt(){let e,t=!1;{const n=new rc;await n.connect(),n.isConnected()?e=n:t=!0}if(t){const n=new Uzt;await n.connect(),e=n}return e}function zE({title:e}){const t=Rc();return H.useEffect(()=>{document.title=e},[t,e]),null}async function Vzt(){const t=await(await fetch(`${ji}global.json`)).text();return wzt(t)}function Wzt(){const[e,t]=H.useState(null),[n,r]=H.useState({});H.useEffect(()=>{async function a(){e&&r(await Ezt(e))}a()},[e]),H.useEffect(()=>{e||Vzt().then(a=>{t(a)})},[e]);const{storageEngine:i,setStorageEngine:o}=Zi();H.useEffect(()=>{if(i!==void 0)return;async function a(){const l=await Hzt();o(l)}a()},[o,i]);const s=async a=>i instanceof rc?!(await i.getModes(a)).analyticsInterfacePubliclyAccessible:!1;return e?$.jsx(C7e,{basename:ji,children:$.jsx(Hit,{children:$.jsx(z7e,{children:$.jsxs(n7e,{children:[$.jsx(ay,{path:"/",element:$.jsxs($.Fragment,{children:[$.jsx(zE,{title:"ReVISit | Home"}),$.jsxs(qr,{padding:"md",header:{height:70},children:[$.jsx(rD,{studyIds:e.configsList}),$.jsx(Wit,{globalConfig:e,studyConfigs:n})]})]})}),$.jsx(ay,{path:"/:studyId/*",element:$.jsxs($.Fragment,{children:[$.jsx(zE,{title:"ReVISit | Study"}),$.jsx(Szt,{globalConfig:e})]})}),$.jsx(ay,{path:"/analysis/stats/:studyId/:analysisTab/:trialId?",element:$.jsxs($.Fragment,{children:[$.jsx(zE,{title:"ReVISit | Analysis"}),$.jsx(Upe,{paramToCheck:"studyId",paramCallback:s,children:$.jsx(qr,{padding:"md",header:{height:70},children:$.jsx(Bzt,{globalConfig:e})})})]})}),$.jsx(ay,{path:"/analysis/stats/:studyId",element:$.jsx(Z$e,{to:"./table",replace:!0})}),$.jsx(ay,{path:"/settings",element:$.jsxs(Upe,{children:[$.jsx(zE,{title:"ReVISit | Settings"}),$.jsxs(qr,{padding:"md",header:{height:70},children:[$.jsx(rD,{studyIds:e.configsList}),$.jsx(qr.Main,{children:$.jsx(zzt,{})})]})]})}),$.jsx(ay,{path:"/login",element:$.jsxs($.Fragment,{children:[$.jsx(zE,{title:"ReVISit | Login"}),$.jsxs(qr,{padding:"md",header:{height:70},children:[$.jsx(rD,{studyIds:e.configsList}),$.jsx(qr.Main,{children:$.jsx(jzt,{})})]})]})})]})})})}):null}QPe.createRoot(document.getElementById("root")).render($.jsx(rr.StrictMode,{children:$.jsx(d9e,{children:$.jsxs(fme,{defaultColorScheme:"light",children:[$.jsx(Xp,{}),$.jsx(Wzt,{})]})})}));
